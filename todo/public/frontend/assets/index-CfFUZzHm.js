var ED=Object.defineProperty,kD=Object.defineProperties;var CD=Object.getOwnPropertyDescriptors;var Cf=Object.getOwnPropertySymbols;var Nj=Object.prototype.hasOwnProperty,Sj=Object.prototype.propertyIsEnumerable;var Rl=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),DD=e=>{throw TypeError(e)};var Eg=(e,t,n)=>t in e?ED(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||(t={}))Nj.call(t,n)&&Eg(e,n,t[n]);if(Cf)for(var n of Cf(t))Sj.call(t,n)&&Eg(e,n,t[n]);return e},oe=(e,t)=>kD(e,CD(t));var Oe=(e,t)=>{var n={};for(var s in e)Nj.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&Cf)for(var s of Cf(e))t.indexOf(s)<0&&Sj.call(e,s)&&(n[s]=e[s]);return n};var OD=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Et=(e,t,n)=>Eg(e,typeof t!="symbol"?t+"":t,n);var ve=(e,t,n)=>new Promise((s,a)=>{var o=h=>{try{d(n.next(h))}catch(f){a(f)}},c=h=>{try{d(n.throw(h))}catch(f){a(f)}},d=h=>h.done?s(h.value):Promise.resolve(h.value).then(o,c);d((n=n.apply(e,t)).next())}),bo=function(e,t){this[0]=e,this[1]=t},kg=(e,t,n)=>{var s=(c,d,h,f)=>{try{var p=n[c](d),g=(d=p.value)instanceof bo,x=p.done;Promise.resolve(g?d[0]:d).then(b=>g?s(c==="return"?c:"next",d[1]?{done:b.done,value:b.value}:b,h,f):h({value:b,done:x})).catch(b=>s("throw",b,h,f))}catch(b){f(b)}},a=c=>o[c]=d=>new Promise((h,f)=>s(c,d,h,f)),o={};return n=n.apply(e,t),o[Rl("asyncIterator")]=()=>o,a("next"),a("throw"),a("return"),o},Cg=e=>{var t=e[Rl("asyncIterator")],n=!1,s,a={};return t==null?(t=e[Rl("iterator")](),s=o=>a[o]=c=>t[o](c)):(t=t.call(e),s=o=>a[o]=c=>{if(n){if(n=!1,o==="throw")throw c;return c}return n=!0,{done:!1,value:new bo(new Promise(d=>{var h=t[o](c);h instanceof Object||DD("Object expected"),d(h)}),1)}}),a[Rl("iterator")]=()=>a,s("next"),"throw"in t?s("throw"):a.throw=o=>{throw o},"return"in t&&s("return"),a},Tj=(e,t,n)=>(t=e[Rl("asyncIterator")])?t.call(e):(e=e[Rl("iterator")](),t={},n=(s,a)=>(a=e[s])&&(t[s]=o=>new Promise((c,d,h)=>(o=a.call(e,o),h=o.done,Promise.resolve(o.value).then(f=>c({value:f,done:h}),d)))),n("next"),n("return"),t);var aH=OD(Nt=>{function AD(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Ax(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dg={exports:{}},mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ej;function RD(){if(Ej)return mu;Ej=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:o}}return mu.Fragment=t,mu.jsx=n,mu.jsxs=n,mu}var kj;function MD(){return kj||(kj=1,Dg.exports=RD()),Dg.exports}var i=MD(),Og={exports:{}},Pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cj;function PD(){if(Cj)return Pt;Cj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=g&&M[g]||M["@@iterator"],typeof M=="function"?M:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,v={};function S(M,ie,se){this.props=M,this.context=ie,this.refs=v,this.updater=se||b}S.prototype.isReactComponent={},S.prototype.setState=function(M,ie){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ie,"setState")},S.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function N(){}N.prototype=S.prototype;function A(M,ie,se){this.props=M,this.context=ie,this.refs=v,this.updater=se||b}var E=A.prototype=new N;E.constructor=A,j(E,S.prototype),E.isPureReactComponent=!0;var T=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},C=Object.prototype.hasOwnProperty;function z(M,ie,se,V,ne,ge){return se=ge.ref,{$$typeof:e,type:M,key:ie,ref:se!==void 0?se:null,props:ge}}function U(M,ie){return z(M.type,ie,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function G(M){var ie={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return ie[se]})}var q=/\/+/g;function Q(M,ie){return typeof M=="object"&&M!==null&&M.key!=null?G(""+M.key):ie.toString(36)}function W(){}function Y(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(W,W):(M.status="pending",M.then(function(ie){M.status==="pending"&&(M.status="fulfilled",M.value=ie)},function(ie){M.status==="pending"&&(M.status="rejected",M.reason=ie)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,ie,se,V,ne){var ge=typeof M;(ge==="undefined"||ge==="boolean")&&(M=null);var he=!1;if(M===null)he=!0;else switch(ge){case"bigint":case"string":case"number":he=!0;break;case"object":switch(M.$$typeof){case e:case t:he=!0;break;case p:return he=M._init,H(he(M._payload),ie,se,V,ne)}}if(he)return ne=ne(M),he=V===""?"."+Q(M,0):V,T(ne)?(se="",he!=null&&(se=he.replace(q,"$&/")+"/"),H(ne,ie,se,"",function(Ve){return Ve})):ne!=null&&(R(ne)&&(ne=U(ne,se+(ne.key==null||M&&M.key===ne.key?"":(""+ne.key).replace(q,"$&/")+"/")+he)),ie.push(ne)),1;he=0;var Ee=V===""?".":V+":";if(T(M))for(var Ce=0;Ce<M.length;Ce++)V=M[Ce],ge=Ee+Q(V,Ce),he+=H(V,ie,se,ge,ne);else if(Ce=x(M),typeof Ce=="function")for(M=Ce.call(M),Ce=0;!(V=M.next()).done;)V=V.value,ge=Ee+Q(V,Ce++),he+=H(V,ie,se,ge,ne);else if(ge==="object"){if(typeof M.then=="function")return H(Y(M),ie,se,V,ne);throw ie=String(M),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return he}function F(M,ie,se){if(M==null)return M;var V=[],ne=0;return H(M,V,"","",function(ge){return ie.call(se,ge,ne++)}),V}function Z(M){if(M._status===-1){var ie=M._result;ie=ie(),ie.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=ie)}if(M._status===1)return M._result.default;throw M._result}var ee=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function ce(){}return Pt.Children={map:F,forEach:function(M,ie,se){F(M,function(){ie.apply(this,arguments)},se)},count:function(M){var ie=0;return F(M,function(){ie++}),ie},toArray:function(M){return F(M,function(ie){return ie})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Pt.Component=S,Pt.Fragment=n,Pt.Profiler=a,Pt.PureComponent=A,Pt.StrictMode=s,Pt.Suspense=h,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},Pt.cache=function(M){return function(){return M.apply(null,arguments)}},Pt.cloneElement=function(M,ie,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var V=j({},M.props),ne=M.key,ge=void 0;if(ie!=null)for(he in ie.ref!==void 0&&(ge=void 0),ie.key!==void 0&&(ne=""+ie.key),ie)!C.call(ie,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&ie.ref===void 0||(V[he]=ie[he]);var he=arguments.length-2;if(he===1)V.children=se;else if(1<he){for(var Ee=Array(he),Ce=0;Ce<he;Ce++)Ee[Ce]=arguments[Ce+2];V.children=Ee}return z(M.type,ne,void 0,void 0,ge,V)},Pt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},Pt.createElement=function(M,ie,se){var V,ne={},ge=null;if(ie!=null)for(V in ie.key!==void 0&&(ge=""+ie.key),ie)C.call(ie,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(ne[V]=ie[V]);var he=arguments.length-2;if(he===1)ne.children=se;else if(1<he){for(var Ee=Array(he),Ce=0;Ce<he;Ce++)Ee[Ce]=arguments[Ce+2];ne.children=Ee}if(M&&M.defaultProps)for(V in he=M.defaultProps,he)ne[V]===void 0&&(ne[V]=he[V]);return z(M,ge,void 0,void 0,null,ne)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(M){return{$$typeof:d,render:M}},Pt.isValidElement=R,Pt.lazy=function(M){return{$$typeof:p,_payload:{_status:-1,_result:M},_init:Z}},Pt.memo=function(M,ie){return{$$typeof:f,type:M,compare:ie===void 0?null:ie}},Pt.startTransition=function(M){var ie=D.T,se={};D.T=se;try{var V=M(),ne=D.S;ne!==null&&ne(se,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(ce,ee)}catch(ge){ee(ge)}finally{D.T=ie}},Pt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Pt.use=function(M){return D.H.use(M)},Pt.useActionState=function(M,ie,se){return D.H.useActionState(M,ie,se)},Pt.useCallback=function(M,ie){return D.H.useCallback(M,ie)},Pt.useContext=function(M){return D.H.useContext(M)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(M,ie){return D.H.useDeferredValue(M,ie)},Pt.useEffect=function(M,ie,se){var V=D.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(M,ie)},Pt.useId=function(){return D.H.useId()},Pt.useImperativeHandle=function(M,ie,se){return D.H.useImperativeHandle(M,ie,se)},Pt.useInsertionEffect=function(M,ie){return D.H.useInsertionEffect(M,ie)},Pt.useLayoutEffect=function(M,ie){return D.H.useLayoutEffect(M,ie)},Pt.useMemo=function(M,ie){return D.H.useMemo(M,ie)},Pt.useOptimistic=function(M,ie){return D.H.useOptimistic(M,ie)},Pt.useReducer=function(M,ie,se){return D.H.useReducer(M,ie,se)},Pt.useRef=function(M){return D.H.useRef(M)},Pt.useState=function(M){return D.H.useState(M)},Pt.useSyncExternalStore=function(M,ie,se){return D.H.useSyncExternalStore(M,ie,se)},Pt.useTransition=function(){return D.H.useTransition()},Pt.version="19.1.1",Pt}var Dj;function Rx(){return Dj||(Dj=1,Og.exports=PD()),Og.exports}var _=Rx();const re=Ax(_),KN=AD({__proto__:null,default:re},[_]);var Ag={exports:{}},pu={},Rg={exports:{}},Mg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oj;function LD(){return Oj||(Oj=1,function(e){function t(F,Z){var ee=F.length;F.push(Z);e:for(;0<ee;){var ce=ee-1>>>1,M=F[ce];if(0<a(M,Z))F[ce]=Z,F[ee]=M,ee=ce;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var Z=F[0],ee=F.pop();if(ee!==Z){F[0]=ee;e:for(var ce=0,M=F.length,ie=M>>>1;ce<ie;){var se=2*(ce+1)-1,V=F[se],ne=se+1,ge=F[ne];if(0>a(V,ee))ne<M&&0>a(ge,V)?(F[ce]=ge,F[ne]=ee,ce=ne):(F[ce]=V,F[se]=ee,ce=se);else if(ne<M&&0>a(ge,ee))F[ce]=ge,F[ne]=ee,ce=ne;else break e}}return Z}function a(F,Z){var ee=F.sortIndex-Z.sortIndex;return ee!==0?ee:F.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var h=[],f=[],p=1,g=null,x=3,b=!1,j=!1,v=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate!="undefined"?setImmediate:null;function T(F){for(var Z=n(f);Z!==null;){if(Z.callback===null)s(f);else if(Z.startTime<=F)s(f),Z.sortIndex=Z.expirationTime,t(h,Z);else break;Z=n(f)}}function D(F){if(v=!1,T(F),!j)if(n(h)!==null)j=!0,C||(C=!0,Q());else{var Z=n(f);Z!==null&&H(D,Z.startTime-F)}}var C=!1,z=-1,U=5,R=-1;function G(){return S?!0:!(e.unstable_now()-R<U)}function q(){if(S=!1,C){var F=e.unstable_now();R=F;var Z=!0;try{e:{j=!1,v&&(v=!1,A(z),z=-1),b=!0;var ee=x;try{t:{for(T(F),g=n(h);g!==null&&!(g.expirationTime>F&&G());){var ce=g.callback;if(typeof ce=="function"){g.callback=null,x=g.priorityLevel;var M=ce(g.expirationTime<=F);if(F=e.unstable_now(),typeof M=="function"){g.callback=M,T(F),Z=!0;break t}g===n(h)&&s(h),T(F)}else s(h);g=n(h)}if(g!==null)Z=!0;else{var ie=n(f);ie!==null&&H(D,ie.startTime-F),Z=!1}}break e}finally{g=null,x=ee,b=!1}Z=void 0}}finally{Z?Q():C=!1}}}var Q;if(typeof E=="function")Q=function(){E(q)};else if(typeof MessageChannel!="undefined"){var W=new MessageChannel,Y=W.port2;W.port1.onmessage=q,Q=function(){Y.postMessage(null)}}else Q=function(){N(q,0)};function H(F,Z){z=N(function(){F(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(F){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var ee=x;x=Z;try{return F()}finally{x=ee}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(F,Z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ee=x;x=F;try{return Z()}finally{x=ee}},e.unstable_scheduleCallback=function(F,Z,ee){var ce=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ce+ee:ce):ee=ce,F){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ee+M,F={id:p++,callback:Z,priorityLevel:F,startTime:ee,expirationTime:M,sortIndex:-1},ee>ce?(F.sortIndex=ee,t(f,F),n(h)===null&&F===n(f)&&(v?(A(z),z=-1):v=!0,H(D,ee-ce))):(F.sortIndex=M,t(h,F),j||b||(j=!0,C||(C=!0,Q()))),F},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(F){var Z=x;return function(){var ee=x;x=Z;try{return F.apply(this,arguments)}finally{x=ee}}}}(Mg)),Mg}var Aj;function zD(){return Aj||(Aj=1,Rg.exports=LD()),Rg.exports}var Pg={exports:{}},Ns={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rj;function UD(){if(Rj)return Ns;Rj=1;var e=Rx();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:h,containerInfo:f,implementation:p}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ns.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ns.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(h,f,null,p)},Ns.flushSync=function(h){var f=c.T,p=s.p;try{if(c.T=null,s.p=2,h)return h()}finally{c.T=f,s.p=p,s.d.f()}},Ns.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(h,f))},Ns.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},Ns.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,g=d(p,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?s.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:b}):p==="script"&&s.d.X(h,{crossOrigin:g,integrity:x,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ns.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=d(f.as,f.crossOrigin);s.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(h)},Ns.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=d(p,f.crossOrigin);s.d.L(h,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ns.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=d(f.as,f.crossOrigin);s.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(h)},Ns.requestFormReset=function(h){s.d.r(h)},Ns.unstable_batchedUpdates=function(h,f){return h(f)},Ns.useFormState=function(h,f,p){return c.H.useFormState(h,f,p)},Ns.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ns.version="19.1.1",Ns}var Mj;function QN(){if(Mj)return Pg.exports;Mj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Pg.exports=UD(),Pg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pj;function BD(){if(Pj)return pu;Pj=1;var e=zD(),t=Rx(),n=QN();function s(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var l=r,u=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(u=l.return),r=l.return;while(r)}return l.tag===3?u:null}function c(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(s(188))}function h(r){var l=r.alternate;if(!l){if(l=o(r),l===null)throw Error(s(188));return l!==r?null:r}for(var u=r,m=l;;){var y=u.return;if(y===null)break;var w=y.alternate;if(w===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===u)return d(y),r;if(w===m)return d(y),l;w=w.sibling}throw Error(s(188))}if(u.return!==m.return)u=y,m=w;else{for(var O=!1,B=y.child;B;){if(B===u){O=!0,u=y,m=w;break}if(B===m){O=!0,m=y,u=w;break}B=B.sibling}if(!O){for(B=w.child;B;){if(B===u){O=!0,u=w,m=y;break}if(B===m){O=!0,m=w,u=y;break}B=B.sibling}if(!O)throw Error(s(189))}}if(u.alternate!==m)throw Error(s(190))}if(u.tag!==3)throw Error(s(188));return u.stateNode.current===u?r:l}function f(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=f(r),l!==null)return l;r=r.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function Q(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var W=Symbol.for("react.client.reference");function Y(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===W?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case S:return"Profiler";case v:return"StrictMode";case D:return"Suspense";case C:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case E:return(r.displayName||"Context")+".Provider";case A:return(r._context.displayName||"Context")+".Consumer";case T:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case z:return l=r.displayName||null,l!==null?l:Y(r.type)||"Memo";case U:l=r._payload,r=r._init;try{return Y(r(l))}catch(u){}}return null}var H=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ce=[],M=-1;function ie(r){return{current:r}}function se(r){0>M||(r.current=ce[M],ce[M]=null,M--)}function V(r,l){M++,ce[M]=r.current,r.current=l}var ne=ie(null),ge=ie(null),he=ie(null),Ee=ie(null);function Ce(r,l){switch(V(he,l),V(ge,r),V(ne,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?Zw(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=Zw(l),r=Jw(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}se(ne),V(ne,r)}function Ve(){se(ne),se(ge),se(he)}function ze(r){r.memoizedState!==null&&V(Ee,r);var l=ne.current,u=Jw(l,r.type);l!==u&&(V(ge,r),V(ne,u))}function tt(r){ge.current===r&&(se(ne),se(ge)),Ee.current===r&&(se(Ee),cu._currentValue=ee)}var Ke=Object.prototype.hasOwnProperty,mt=e.unstable_scheduleCallback,Ue=e.unstable_cancelCallback,gt=e.unstable_shouldYield,Je=e.unstable_requestPaint,Me=e.unstable_now,nt=e.unstable_getCurrentPriorityLevel,ot=e.unstable_ImmediatePriority,K=e.unstable_UserBlockingPriority,fe=e.unstable_NormalPriority,X=e.unstable_LowPriority,Ne=e.unstable_IdlePriority,Le=e.log,Re=e.unstable_setDisableYieldValue,He=null,Ye=null;function et(r){if(typeof Le=="function"&&Re(r),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(He,r)}catch(l){}}var jt=Math.clz32?Math.clz32:qe,Se=Math.log,Pe=Math.LN2;function qe(r){return r>>>=0,r===0?32:31-(Se(r)/Pe|0)|0}var Ft=256,Xt=4194304;function Gt(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function on(r,l,u){var m=r.pendingLanes;if(m===0)return 0;var y=0,w=r.suspendedLanes,O=r.pingedLanes;r=r.warmLanes;var B=m&134217727;return B!==0?(m=B&~w,m!==0?y=Gt(m):(O&=B,O!==0?y=Gt(O):u||(u=B&~r,u!==0&&(y=Gt(u))))):(B=m&~w,B!==0?y=Gt(B):O!==0?y=Gt(O):u||(u=m&~r,u!==0&&(y=Gt(u)))),y===0?0:l!==0&&l!==y&&(l&w)===0&&(w=y&-y,u=l&-l,w>=u||w===32&&(u&4194048)!==0)?l:y}function In(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function rs(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qe(){var r=Ft;return Ft<<=1,(Ft&4194048)===0&&(Ft=256),r}function zt(){var r=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),r}function Vt(r){for(var l=[],u=0;31>u;u++)l.push(r);return l}function kt(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function rn(r,l,u,m,y,w){var O=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var B=r.entanglements,J=r.expirationTimes,ye=r.hiddenUpdates;for(u=O&~u;0<u;){var Te=31-jt(u),De=1<<Te;B[Te]=0,J[Te]=-1;var we=ye[Te];if(we!==null)for(ye[Te]=null,Te=0;Te<we.length;Te++){var je=we[Te];je!==null&&(je.lane&=-536870913)}u&=~De}m!==0&&Ze(r,m,0),w!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=w&~(O&~l))}function Ze(r,l,u){r.pendingLanes|=l,r.suspendedLanes&=~l;var m=31-jt(l);r.entangledLanes|=l,r.entanglements[m]=r.entanglements[m]|1073741824|u&4194090}function Tt(r,l){var u=r.entangledLanes|=l;for(r=r.entanglements;u;){var m=31-jt(u),y=1<<m;y&l|r[m]&l&&(r[m]|=l),u&=~y}}function Kt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Jt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function te(){var r=Z.p;return r!==0?r:(r=window.event,r===void 0?32:yj(r.type))}function le(r,l){var u=Z.p;try{return Z.p=r,l()}finally{Z.p=u}}var pe=Math.random().toString(36).slice(2),_e="__reactFiber$"+pe,Ae="__reactProps$"+pe,Ie="__reactContainer$"+pe,st="__reactEvents$"+pe,lt="__reactListeners$"+pe,xt="__reactHandles$"+pe,Mt="__reactResources$"+pe,ut="__reactMarker$"+pe;function St(r){delete r[_e],delete r[Ae],delete r[st],delete r[lt],delete r[xt]}function Rt(r){var l=r[_e];if(l)return l;for(var u=r.parentNode;u;){if(l=u[Ie]||u[_e]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(r=sj(r);r!==null;){if(u=r[_e])return u;r=sj(r)}return l}r=u,u=r.parentNode}return null}function yn(r){if(r=r[_e]||r[Ie]){var l=r.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return r}return null}function Rn(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(s(33))}function fn(r){var l=r[Mt];return l||(l=r[Mt]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function dt(r){r[ut]=!0}var Ct=new Set,en={};function Sn(r,l){Mn(r,l),Mn(r+"Capture",l)}function Mn(r,l){for(en[r]=l,r=0;r<l.length;r++)Ct.add(l[r])}var Zn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),as={},lr={};function cr(r){return Ke.call(lr,r)?!0:Ke.call(as,r)?!1:Zn.test(r)?lr[r]=!0:(as[r]=!0,!1)}function ws(r,l,u){if(cr(l))if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+u)}}function ur(r,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+u)}}function Lt(r,l,u,m){if(m===null)r.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(l,u,""+m)}}var Pn,wa;function ds(r){if(Pn===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);Pn=l&&l[1]||"",wa=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pn+r+wa}var vn=!1;function Ar(r,l){if(!r||vn)return"";vn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var De=function(){throw Error()};if(Object.defineProperty(De.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(De,[])}catch(je){var we=je}Reflect.construct(r,[],De)}else{try{De.call()}catch(je){we=je}r.call(De.prototype)}}else{try{throw Error()}catch(je){we=je}(De=r())&&typeof De.catch=="function"&&De.catch(function(){})}}catch(je){if(je&&we&&typeof je.stack=="string")return[je.stack,we.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),O=w[0],B=w[1];if(O&&B){var J=O.split(`
`),ye=B.split(`
`);for(y=m=0;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;for(;y<ye.length&&!ye[y].includes("DetermineComponentFrameRoot");)y++;if(m===J.length||y===ye.length)for(m=J.length-1,y=ye.length-1;1<=m&&0<=y&&J[m]!==ye[y];)y--;for(;1<=m&&0<=y;m--,y--)if(J[m]!==ye[y]){if(m!==1||y!==1)do if(m--,y--,0>y||J[m]!==ye[y]){var Te=`
`+J[m].replace(" at new "," at ");return r.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",r.displayName)),Te}while(1<=m&&0<=y);break}}}finally{vn=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?ds(u):""}function Go(r){switch(r.tag){case 26:case 27:case 5:return ds(r.type);case 16:return ds("Lazy");case 13:return ds("Suspense");case 19:return ds("SuspenseList");case 0:case 15:return Ar(r.type,!1);case 11:return Ar(r.type.render,!1);case 1:return Ar(r.type,!0);case 31:return ds("Activity");default:return""}}function Ko(r){try{var l="";do l+=Go(r),r=r.return;while(r);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Ms(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function wd(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function jd(r){var l=wd(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,l),m=""+r[l];if(!r.hasOwnProperty(l)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,w=u.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return y.call(this)},set:function(O){m=""+O,w.call(this,O)}}),Object.defineProperty(r,l,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(O){m=""+O},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function Xi(r){r._valueTracker||(r._valueTracker=jd(r))}function Qr(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var u=l.getValue(),m="";return r&&(m=wd(r)?r.checked?"true":"false":r.value),r=m,r!==u?(l.setValue(r),!0):!1}function Gi(r){if(r=r||(typeof document!="undefined"?document:void 0),typeof r=="undefined")return null;try{return r.activeElement||r.body}catch(l){return r.body}}var Mm=/[\n"\\]/g;function Ps(r){return r.replace(Mm,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function bc(r,l,u,m,y,w,O,B){r.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.type=O:r.removeAttribute("type"),l!=null?O==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+Ms(l)):r.value!==""+Ms(l)&&(r.value=""+Ms(l)):O!=="submit"&&O!=="reset"||r.removeAttribute("value"),l!=null?vc(r,O,Ms(l)):u!=null?vc(r,O,Ms(u)):m!=null&&r.removeAttribute("value"),y==null&&w!=null&&(r.defaultChecked=!!w),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?r.name=""+Ms(B):r.removeAttribute("name")}function _d(r,l,u,m,y,w,O,B){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),l!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;u=u!=null?""+Ms(u):"",l=l!=null?""+Ms(l):u,B||l===r.value||(r.value=l),r.defaultValue=l}m=m!=null?m:y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=B?r.checked:!!m,r.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(r.name=O)}function vc(r,l,u){l==="number"&&Gi(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function ja(r,l,u,m){if(r=r.options,l){l={};for(var y=0;y<u.length;y++)l["$"+u[y]]=!0;for(u=0;u<r.length;u++)y=l.hasOwnProperty("$"+r[u].value),r[u].selected!==y&&(r[u].selected=y),y&&m&&(r[u].defaultSelected=!0)}else{for(u=""+Ms(u),l=null,y=0;y<r.length;y++){if(r[y].value===u){r[y].selected=!0,m&&(r[y].defaultSelected=!0);return}l!==null||r[y].disabled||(l=r[y])}l!==null&&(l.selected=!0)}}function Ki(r,l,u){if(l!=null&&(l=""+Ms(l),l!==r.value&&(r.value=l),u==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=u!=null?""+Ms(u):""}function wc(r,l,u,m){if(l==null){if(m!=null){if(u!=null)throw Error(s(92));if(H(m)){if(1<m.length)throw Error(s(93));m=m[0]}u=m}u==null&&(u=""),l=u}u=Ms(l),r.defaultValue=u,m=r.textContent,m===u&&m!==""&&m!==null&&(r.value=m)}function Za(r,l){if(l){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=l;return}}r.textContent=l}var Nd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sd(r,l,u){var m=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":m?r.setProperty(l,u):typeof u!="number"||u===0||Nd.has(l)?l==="float"?r.cssFloat=u:r[l]=(""+u).trim():r[l]=u+"px"}function jc(r,l,u){if(l!=null&&typeof l!="object")throw Error(s(62));if(r=r.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var y in l)m=l[y],l.hasOwnProperty(y)&&u[y]!==m&&Sd(r,y,m)}else for(var w in l)l.hasOwnProperty(w)&&Sd(r,w,l[w])}function Qi(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zo(r){return Pm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var _c=null;function Zi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _a=null,Ja=null;function Nc(r){var l=yn(r);if(l&&(r=l.stateNode)){var u=r[Ae]||null;e:switch(r=l.stateNode,l.type){case"input":if(bc(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ps(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var m=u[l];if(m!==r&&m.form===r.form){var y=m[Ae]||null;if(!y)throw Error(s(90));bc(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(l=0;l<u.length;l++)m=u[l],m.form===r.form&&Qr(m)}break e;case"textarea":Ki(r,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&ja(r,!!u.multiple,l,!1)}}}var Ji=!1;function Sc(r,l,u){if(Ji)return r(l,u);Ji=!0;try{var m=r(l);return m}finally{if(Ji=!1,(_a!==null||Ja!==null)&&(lf(),_a&&(l=_a,r=Ja,Ja=_a=null,Nc(l),r)))for(l=0;l<r.length;l++)Nc(r[l])}}function ei(r,l){var u=r.stateNode;if(u===null)return null;var m=u[Ae]||null;if(m===null)return null;u=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(s(231,l,typeof u));return u}var Ls=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Jo=!1;if(Ls)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){Jo=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch(r){Jo=!1}var Gs=null,zs=null,Na=null;function to(){if(Na)return Na;var r,l=zs,u=l.length,m,y="value"in Gs?Gs.value:Gs.textContent,w=y.length;for(r=0;r<u&&l[r]===y[r];r++);var O=u-r;for(m=1;m<=O&&l[u-m]===y[w-m];m++);return Na=y.slice(r,1<m?1-m:void 0)}function ti(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function el(){return!0}function Td(){return!1}function js(r){function l(u,m,y,w,O){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=w,this.target=O,this.currentTarget=null;for(var B in r)r.hasOwnProperty(B)&&(u=r[B],this[B]=u?u(w):w[B]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?el:Td,this.isPropagationStopped=Td,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),l}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=js(Rr),ni=p({},Rr,{view:0,detail:0}),Ln=js(ni),k,P,$,I=p({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==$&&($&&r.type==="mousemove"?(k=r.screenX-$.screenX,P=r.screenY-$.screenY):P=k=0,$=r),k)},movementY:function(r){return"movementY"in r?r.movementY:P}}),ue=js(I),me=p({},I,{dataTransfer:0}),be=js(me),Fe=p({},ni,{relatedTarget:0}),pt=js(Fe),$e=p({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ge=js($e),vt=p({},Rr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),hn=js(vt),Dt=p({},Rr,{data:0}),yt=js(Dt),ct={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},is={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=qn[r])?!!l[r]:!1}function dr(){return kn}var no=p({},ni,{key:function(r){if(r.key){var l=ct[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=ti(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?is[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(r){return r.type==="keypress"?ti(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ti(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Zr=js(no),si=p({},I,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=js(si),sl=p({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),Ed=js(sl),qk=p({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wk=js(qk),Yk=p({},I,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Xk=js(Yk),Gk=p({},Rr,{newState:0,oldState:0}),Kk=js(Gk),Qk=[9,13,27,32],Lm=Ls&&"CompositionEvent"in window,Tc=null;Ls&&"documentMode"in document&&(Tc=document.documentMode);var Zk=Ls&&"TextEvent"in window&&!Tc,ob=Ls&&(!Lm||Tc&&8<Tc&&11>=Tc),lb=" ",cb=!1;function ub(r,l){switch(r){case"keyup":return Qk.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function db(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var rl=!1;function Jk(r,l){switch(r){case"compositionend":return db(l);case"keypress":return l.which!==32?null:(cb=!0,lb);case"textInput":return r=l.data,r===lb&&cb?null:r;default:return null}}function eC(r,l){if(rl)return r==="compositionend"||!Lm&&ub(r,l)?(r=to(),Na=zs=Gs=null,rl=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ob&&l.locale!=="ko"?null:l.data;default:return null}}var tC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fb(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!tC[r.type]:l==="textarea"}function hb(r,l,u,m){_a?Ja?Ja.push(m):Ja=[m]:_a=m,l=mf(l,"onChange"),0<l.length&&(u=new tl("onChange","change",null,u,m),r.push({event:u,listeners:l}))}var Ec=null,kc=null;function nC(r){Yw(r,0)}function kd(r){var l=Rn(r);if(Qr(l))return r}function mb(r,l){if(r==="change")return l}var pb=!1;if(Ls){var zm;if(Ls){var Um="oninput"in document;if(!Um){var gb=document.createElement("div");gb.setAttribute("oninput","return;"),Um=typeof gb.oninput=="function"}zm=Um}else zm=!1;pb=zm&&(!document.documentMode||9<document.documentMode)}function xb(){Ec&&(Ec.detachEvent("onpropertychange",yb),kc=Ec=null)}function yb(r){if(r.propertyName==="value"&&kd(kc)){var l=[];hb(l,kc,r,Zi(r)),Sc(nC,l)}}function sC(r,l,u){r==="focusin"?(xb(),Ec=l,kc=u,Ec.attachEvent("onpropertychange",yb)):r==="focusout"&&xb()}function rC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return kd(kc)}function aC(r,l){if(r==="click")return kd(l)}function iC(r,l){if(r==="input"||r==="change")return kd(l)}function oC(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var Ks=typeof Object.is=="function"?Object.is:oC;function Cc(r,l){if(Ks(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var u=Object.keys(r),m=Object.keys(l);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!Ke.call(l,y)||!Ks(r[y],l[y]))return!1}return!0}function bb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function vb(r,l){var u=bb(r);r=0;for(var m;u;){if(u.nodeType===3){if(m=r+u.textContent.length,r<=l&&m>=l)return{node:u,offset:l-r};r=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=bb(u)}}function wb(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?wb(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function jb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=Gi(r.document);l instanceof r.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch(m){u=!1}if(u)r=l.contentWindow;else break;l=Gi(r.document)}return l}function Bm(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var lC=Ls&&"documentMode"in document&&11>=document.documentMode,al=null,Fm=null,Dc=null,$m=!1;function _b(r,l,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;$m||al==null||al!==Gi(m)||(m=al,"selectionStart"in m&&Bm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Dc&&Cc(Dc,m)||(Dc=m,m=mf(Fm,"onSelect"),0<m.length&&(l=new tl("onSelect","select",null,l,u),r.push({event:l,listeners:m}),l.target=al)))}function so(r,l){var u={};return u[r.toLowerCase()]=l.toLowerCase(),u["Webkit"+r]="webkit"+l,u["Moz"+r]="moz"+l,u}var il={animationend:so("Animation","AnimationEnd"),animationiteration:so("Animation","AnimationIteration"),animationstart:so("Animation","AnimationStart"),transitionrun:so("Transition","TransitionRun"),transitionstart:so("Transition","TransitionStart"),transitioncancel:so("Transition","TransitionCancel"),transitionend:so("Transition","TransitionEnd")},Hm={},Nb={};Ls&&(Nb=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function ro(r){if(Hm[r])return Hm[r];if(!il[r])return r;var l=il[r],u;for(u in l)if(l.hasOwnProperty(u)&&u in Nb)return Hm[r]=l[u];return r}var Sb=ro("animationend"),Tb=ro("animationiteration"),Eb=ro("animationstart"),cC=ro("transitionrun"),uC=ro("transitionstart"),dC=ro("transitioncancel"),kb=ro("transitionend"),Cb=new Map,Vm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vm.push("scrollEnd");function Mr(r,l){Cb.set(r,l),Sn(l,[r])}var Db=new WeakMap;function fr(r,l){if(typeof r=="object"&&r!==null){var u=Db.get(r);return u!==void 0?u:(l={value:r,source:l,stack:Ko(l)},Db.set(r,l),l)}return{value:r,source:l,stack:Ko(l)}}var hr=[],ol=0,Im=0;function Cd(){for(var r=ol,l=Im=ol=0;l<r;){var u=hr[l];hr[l++]=null;var m=hr[l];hr[l++]=null;var y=hr[l];hr[l++]=null;var w=hr[l];if(hr[l++]=null,m!==null&&y!==null){var O=m.pending;O===null?y.next=y:(y.next=O.next,O.next=y),m.pending=y}w!==0&&Ob(u,y,w)}}function Dd(r,l,u,m){hr[ol++]=r,hr[ol++]=l,hr[ol++]=u,hr[ol++]=m,Im|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function qm(r,l,u,m){return Dd(r,l,u,m),Od(r)}function ll(r,l){return Dd(r,null,null,l),Od(r)}function Ob(r,l,u){r.lanes|=u;var m=r.alternate;m!==null&&(m.lanes|=u);for(var y=!1,w=r.return;w!==null;)w.childLanes|=u,m=w.alternate,m!==null&&(m.childLanes|=u),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(y=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,y&&l!==null&&(y=31-jt(u),r=w.hiddenUpdates,m=r[y],m===null?r[y]=[l]:m.push(l),l.lane=u|536870912),w):null}function Od(r){if(50<tu)throw tu=0,Qp=null,Error(s(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var cl={};function fC(r,l,u,m){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qs(r,l,u,m){return new fC(r,l,u,m)}function Wm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Sa(r,l){var u=r.alternate;return u===null?(u=Qs(r.tag,l,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=l,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,l=r.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function Ab(r,l){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,l=u.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function Ad(r,l,u,m,y,w){var O=0;if(m=r,typeof r=="function")Wm(r)&&(O=1);else if(typeof r=="string")O=mD(r,u,ne.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=Qs(31,u,l,y),r.elementType=R,r.lanes=w,r;case j:return ao(u.children,y,w,l);case v:O=8,y|=24;break;case S:return r=Qs(12,u,l,y|2),r.elementType=S,r.lanes=w,r;case D:return r=Qs(13,u,l,y),r.elementType=D,r.lanes=w,r;case C:return r=Qs(19,u,l,y),r.elementType=C,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:case E:O=10;break e;case A:O=9;break e;case T:O=11;break e;case z:O=14;break e;case U:O=16,m=null;break e}O=29,u=Error(s(130,r===null?"null":typeof r,"")),m=null}return l=Qs(O,u,l,y),l.elementType=r,l.type=m,l.lanes=w,l}function ao(r,l,u,m){return r=Qs(7,r,m,l),r.lanes=u,r}function Ym(r,l,u){return r=Qs(6,r,null,l),r.lanes=u,r}function Xm(r,l,u){return l=Qs(4,r.children!==null?r.children:[],r.key,l),l.lanes=u,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var ul=[],dl=0,Rd=null,Md=0,mr=[],pr=0,io=null,Ta=1,Ea="";function oo(r,l){ul[dl++]=Md,ul[dl++]=Rd,Rd=r,Md=l}function Rb(r,l,u){mr[pr++]=Ta,mr[pr++]=Ea,mr[pr++]=io,io=r;var m=Ta;r=Ea;var y=32-jt(m)-1;m&=~(1<<y),u+=1;var w=32-jt(l)+y;if(30<w){var O=y-y%5;w=(m&(1<<O)-1).toString(32),m>>=O,y-=O,Ta=1<<32-jt(l)+y|u<<y|m,Ea=w+r}else Ta=1<<w|u<<y|m,Ea=r}function Gm(r){r.return!==null&&(oo(r,1),Rb(r,1,0))}function Km(r){for(;r===Rd;)Rd=ul[--dl],ul[dl]=null,Md=ul[--dl],ul[dl]=null;for(;r===io;)io=mr[--pr],mr[pr]=null,Ea=mr[--pr],mr[pr]=null,Ta=mr[--pr],mr[pr]=null}var Ds=null,zn=null,an=!1,lo=null,Jr=!1,Qm=Error(s(519));function co(r){var l=Error(s(418,""));throw Rc(fr(l,r)),Qm}function Mb(r){var l=r.stateNode,u=r.type,m=r.memoizedProps;switch(l[_e]=r,l[Ae]=m,u){case"dialog":qt("cancel",l),qt("close",l);break;case"iframe":case"object":case"embed":qt("load",l);break;case"video":case"audio":for(u=0;u<su.length;u++)qt(su[u],l);break;case"source":qt("error",l);break;case"img":case"image":case"link":qt("error",l),qt("load",l);break;case"details":qt("toggle",l);break;case"input":qt("invalid",l),_d(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Xi(l);break;case"select":qt("invalid",l);break;case"textarea":qt("invalid",l),wc(l,m.value,m.defaultValue,m.children),Xi(l)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||m.suppressHydrationWarning===!0||Qw(l.textContent,u)?(m.popover!=null&&(qt("beforetoggle",l),qt("toggle",l)),m.onScroll!=null&&qt("scroll",l),m.onScrollEnd!=null&&qt("scrollend",l),m.onClick!=null&&(l.onclick=pf),l=!0):l=!1,l||co(r)}function Pb(r){for(Ds=r.return;Ds;)switch(Ds.tag){case 5:case 13:Jr=!1;return;case 27:case 3:Jr=!0;return;default:Ds=Ds.return}}function Oc(r){if(r!==Ds)return!1;if(!an)return Pb(r),an=!0,!1;var l=r.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||hg(r.type,r.memoizedProps)),u=!u),u&&zn&&co(r),Pb(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,l=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(l===0){zn=Lr(r.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;r=r.nextSibling}zn=null}}else l===27?(l=zn,bi(r.type)?(r=xg,xg=null,zn=r):zn=l):zn=Ds?Lr(r.stateNode.nextSibling):null;return!0}function Ac(){zn=Ds=null,an=!1}function Lb(){var r=lo;return r!==null&&(Fs===null?Fs=r:Fs.push.apply(Fs,r),lo=null),r}function Rc(r){lo===null?lo=[r]:lo.push(r)}var Zm=ie(null),uo=null,ka=null;function ri(r,l,u){V(Zm,l._currentValue),l._currentValue=u}function Ca(r){r._currentValue=Zm.current,se(Zm)}function Jm(r,l,u){for(;r!==null;){var m=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),r===u)break;r=r.return}}function ep(r,l,u,m){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var w=y.dependencies;if(w!==null){var O=y.child;w=w.firstContext;e:for(;w!==null;){var B=w;w=y;for(var J=0;J<l.length;J++)if(B.context===l[J]){w.lanes|=u,B=w.alternate,B!==null&&(B.lanes|=u),Jm(w.return,u,r),m||(O=null);break e}w=B.next}}else if(y.tag===18){if(O=y.return,O===null)throw Error(s(341));O.lanes|=u,w=O.alternate,w!==null&&(w.lanes|=u),Jm(O,u,r),O=null}else O=y.child;if(O!==null)O.return=y;else for(O=y;O!==null;){if(O===r){O=null;break}if(y=O.sibling,y!==null){y.return=O.return,O=y;break}O=O.return}y=O}}function Mc(r,l,u,m){r=null;for(var y=l,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var O=y.alternate;if(O===null)throw Error(s(387));if(O=O.memoizedProps,O!==null){var B=y.type;Ks(y.pendingProps.value,O.value)||(r!==null?r.push(B):r=[B])}}else if(y===Ee.current){if(O=y.alternate,O===null)throw Error(s(387));O.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(cu):r=[cu])}y=y.return}r!==null&&ep(l,r,u,m),l.flags|=262144}function Pd(r){for(r=r.firstContext;r!==null;){if(!Ks(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function fo(r){uo=r,ka=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function _s(r){return zb(uo,r)}function Ld(r,l){return uo===null&&fo(r),zb(r,l)}function zb(r,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},ka===null){if(r===null)throw Error(s(308));ka=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else ka=ka.next=l;return u}var hC=typeof AbortController!="undefined"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(u,m){r.push(m)}};this.abort=function(){l.aborted=!0,r.forEach(function(u){return u()})}},mC=e.unstable_scheduleCallback,pC=e.unstable_NormalPriority,Jn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tp(){return{controller:new hC,data:new Map,refCount:0}}function Pc(r){r.refCount--,r.refCount===0&&mC(pC,function(){r.controller.abort()})}var Lc=null,np=0,fl=0,hl=null;function gC(r,l){if(Lc===null){var u=Lc=[];np=0,fl=rg(),hl={status:"pending",value:void 0,then:function(m){u.push(m)}}}return np++,l.then(Ub,Ub),l}function Ub(){if(--np===0&&Lc!==null){hl!==null&&(hl.status="fulfilled");var r=Lc;Lc=null,fl=0,hl=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function xC(r,l){var u=[],m={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return r.then(function(){m.status="fulfilled",m.value=l;for(var y=0;y<u.length;y++)(0,u[y])(l)},function(y){for(m.status="rejected",m.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),m}var Bb=F.S;F.S=function(r,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&gC(r,l),Bb!==null&&Bb(r,l)};var ho=ie(null);function sp(){var r=ho.current;return r!==null?r:wn.pooledCache}function zd(r,l){l===null?V(ho,ho.current):V(ho,l.pool)}function Fb(){var r=sp();return r===null?null:{parent:Jn._currentValue,pool:r}}var zc=Error(s(460)),$b=Error(s(474)),Ud=Error(s(542)),rp={then:function(){}};function Hb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Bd(){}function Vb(r,l,u){switch(u=r[u],u===void 0?r.push(l):u!==l&&(l.then(Bd,Bd),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,qb(r),r;default:if(typeof l.status=="string")l.then(Bd,Bd);else{if(r=wn,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=l,r.status="pending",r.then(function(m){if(l.status==="pending"){var y=l;y.status="fulfilled",y.value=m}},function(m){if(l.status==="pending"){var y=l;y.status="rejected",y.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,qb(r),r}throw Uc=l,zc}}var Uc=null;function Ib(){if(Uc===null)throw Error(s(459));var r=Uc;return Uc=null,r}function qb(r){if(r===zc||r===Ud)throw Error(s(483))}var ai=!1;function ap(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ip(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ii(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function oi(r,l,u){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(ln&2)!==0){var y=m.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),m.pending=l,l=Od(r),Ob(r,null,u),l}return Dd(r,m,l,u),Od(r)}function Bc(r,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var m=l.lanes;m&=r.pendingLanes,u|=m,l.lanes=u,Tt(r,u)}}function op(r,l){var u=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?y=w=O:w=w.next=O,u=u.next}while(u!==null);w===null?y=w=l:w=w.next=l}else y=w=l;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=l:r.next=l,u.lastBaseUpdate=l}var lp=!1;function Fc(){if(lp){var r=hl;if(r!==null)throw r}}function $c(r,l,u,m){lp=!1;var y=r.updateQueue;ai=!1;var w=y.firstBaseUpdate,O=y.lastBaseUpdate,B=y.shared.pending;if(B!==null){y.shared.pending=null;var J=B,ye=J.next;J.next=null,O===null?w=ye:O.next=ye,O=J;var Te=r.alternate;Te!==null&&(Te=Te.updateQueue,B=Te.lastBaseUpdate,B!==O&&(B===null?Te.firstBaseUpdate=ye:B.next=ye,Te.lastBaseUpdate=J))}if(w!==null){var De=y.baseState;O=0,Te=ye=J=null,B=w;do{var we=B.lane&-536870913,je=we!==B.lane;if(je?(Zt&we)===we:(m&we)===we){we!==0&&we===fl&&(lp=!0),Te!==null&&(Te=Te.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var _t=r,bt=B;we=l;var gn=u;switch(bt.tag){case 1:if(_t=bt.payload,typeof _t=="function"){De=_t.call(gn,De,we);break e}De=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=bt.payload,we=typeof _t=="function"?_t.call(gn,De,we):_t,we==null)break e;De=p({},De,we);break e;case 2:ai=!0}}we=B.callback,we!==null&&(r.flags|=64,je&&(r.flags|=8192),je=y.callbacks,je===null?y.callbacks=[we]:je.push(we))}else je={lane:we,tag:B.tag,payload:B.payload,callback:B.callback,next:null},Te===null?(ye=Te=je,J=De):Te=Te.next=je,O|=we;if(B=B.next,B===null){if(B=y.shared.pending,B===null)break;je=B,B=je.next,je.next=null,y.lastBaseUpdate=je,y.shared.pending=null}}while(!0);Te===null&&(J=De),y.baseState=J,y.firstBaseUpdate=ye,y.lastBaseUpdate=Te,w===null&&(y.shared.lanes=0),pi|=O,r.lanes=O,r.memoizedState=De}}function Wb(r,l){if(typeof r!="function")throw Error(s(191,r));r.call(l)}function Yb(r,l){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)Wb(u[r],l)}var ml=ie(null),Fd=ie(0);function Xb(r,l){r=La,V(Fd,r),V(ml,l),La=r|l.baseLanes}function cp(){V(Fd,La),V(ml,ml.current)}function up(){La=Fd.current,se(ml),se(Fd)}var li=0,Ut=null,mn=null,Wn=null,$d=!1,pl=!1,mo=!1,Hd=0,Hc=0,gl=null,yC=0;function Bn(){throw Error(s(321))}function dp(r,l){if(l===null)return!1;for(var u=0;u<l.length&&u<r.length;u++)if(!Ks(r[u],l[u]))return!1;return!0}function fp(r,l,u,m,y,w){return li=w,Ut=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,F.H=r===null||r.memoizedState===null?Ov:Av,mo=!1,w=u(m,y),mo=!1,pl&&(w=Kb(l,u,m,y)),Gb(r),w}function Gb(r){F.H=Xd;var l=mn!==null&&mn.next!==null;if(li=0,Wn=mn=Ut=null,$d=!1,Hc=0,gl=null,l)throw Error(s(300));r===null||os||(r=r.dependencies,r!==null&&Pd(r)&&(os=!0))}function Kb(r,l,u,m){Ut=r;var y=0;do{if(pl&&(gl=null),Hc=0,pl=!1,25<=y)throw Error(s(301));if(y+=1,Wn=mn=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}F.H=SC,w=l(u,m)}while(pl);return w}function bC(){var r=F.H,l=r.useState()[0];return l=typeof l.then=="function"?Vc(l):l,r=r.useState()[0],(mn!==null?mn.memoizedState:null)!==r&&(Ut.flags|=1024),l}function hp(){var r=Hd!==0;return Hd=0,r}function mp(r,l,u){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~u}function pp(r){if($d){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}$d=!1}li=0,Wn=mn=Ut=null,pl=!1,Hc=Hd=0,gl=null}function Us(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?Ut.memoizedState=Wn=r:Wn=Wn.next=r,Wn}function Yn(){if(mn===null){var r=Ut.alternate;r=r!==null?r.memoizedState:null}else r=mn.next;var l=Wn===null?Ut.memoizedState:Wn.next;if(l!==null)Wn=l,mn=r;else{if(r===null)throw Ut.alternate===null?Error(s(467)):Error(s(310));mn=r,r={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},Wn===null?Ut.memoizedState=Wn=r:Wn=Wn.next=r}return Wn}function gp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vc(r){var l=Hc;return Hc+=1,gl===null&&(gl=[]),r=Vb(gl,r,l),l=Ut,(Wn===null?l.memoizedState:Wn.next)===null&&(l=l.alternate,F.H=l===null||l.memoizedState===null?Ov:Av),r}function Vd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Vc(r);if(r.$$typeof===E)return _s(r)}throw Error(s(438,String(r)))}function xp(r){var l=null,u=Ut.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var m=Ut.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(y){return y.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=gp(),Ut.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(r),m=0;m<r;m++)u[m]=G;return l.index++,u}function Da(r,l){return typeof l=="function"?l(r):l}function Id(r){var l=Yn();return yp(l,mn,r)}function yp(r,l,u){var m=r.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=u;var y=r.baseQueue,w=m.pending;if(w!==null){if(y!==null){var O=y.next;y.next=w.next,w.next=O}l.baseQueue=y=w,m.pending=null}if(w=r.baseState,y===null)r.memoizedState=w;else{l=y.next;var B=O=null,J=null,ye=l,Te=!1;do{var De=ye.lane&-536870913;if(De!==ye.lane?(Zt&De)===De:(li&De)===De){var we=ye.revertLane;if(we===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),De===fl&&(Te=!0);else if((li&we)===we){ye=ye.next,we===fl&&(Te=!0);continue}else De={lane:0,revertLane:ye.revertLane,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},J===null?(B=J=De,O=w):J=J.next=De,Ut.lanes|=we,pi|=we;De=ye.action,mo&&u(w,De),w=ye.hasEagerState?ye.eagerState:u(w,De)}else we={lane:De,revertLane:ye.revertLane,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},J===null?(B=J=we,O=w):J=J.next=we,Ut.lanes|=De,pi|=De;ye=ye.next}while(ye!==null&&ye!==l);if(J===null?O=w:J.next=B,!Ks(w,r.memoizedState)&&(os=!0,Te&&(u=hl,u!==null)))throw u;r.memoizedState=w,r.baseState=O,r.baseQueue=J,m.lastRenderedState=w}return y===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function bp(r){var l=Yn(),u=l.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=r;var m=u.dispatch,y=u.pending,w=l.memoizedState;if(y!==null){u.pending=null;var O=y=y.next;do w=r(w,O.action),O=O.next;while(O!==y);Ks(w,l.memoizedState)||(os=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),u.lastRenderedState=w}return[w,m]}function Qb(r,l,u){var m=Ut,y=Yn(),w=an;if(w){if(u===void 0)throw Error(s(407));u=u()}else u=l();var O=!Ks((mn||y).memoizedState,u);O&&(y.memoizedState=u,os=!0),y=y.queue;var B=ev.bind(null,m,y,r);if(Ic(2048,8,B,[r]),y.getSnapshot!==l||O||Wn!==null&&Wn.memoizedState.tag&1){if(m.flags|=2048,xl(9,qd(),Jb.bind(null,m,y,u,l),null),wn===null)throw Error(s(349));w||(li&124)!==0||Zb(m,l,u)}return u}function Zb(r,l,u){r.flags|=16384,r={getSnapshot:l,value:u},l=Ut.updateQueue,l===null?(l=gp(),Ut.updateQueue=l,l.stores=[r]):(u=l.stores,u===null?l.stores=[r]:u.push(r))}function Jb(r,l,u,m){l.value=u,l.getSnapshot=m,tv(l)&&nv(r)}function ev(r,l,u){return u(function(){tv(l)&&nv(r)})}function tv(r){var l=r.getSnapshot;r=r.value;try{var u=l();return!Ks(r,u)}catch(m){return!0}}function nv(r){var l=ll(r,2);l!==null&&nr(l,r,2)}function vp(r){var l=Us();if(typeof r=="function"){var u=r;if(r=u(),mo){et(!0);try{u()}finally{et(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:r},l}function sv(r,l,u,m){return r.baseState=u,yp(r,mn,typeof m=="function"?m:Da)}function vC(r,l,u,m,y){if(Yd(r))throw Error(s(485));if(r=l.action,r!==null){var w={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){w.listeners.push(O)}};F.T!==null?u(!0):w.isTransition=!1,m(w),u=l.pending,u===null?(w.next=l.pending=w,rv(l,w)):(w.next=u.next,l.pending=u.next=w)}}function rv(r,l){var u=l.action,m=l.payload,y=r.state;if(l.isTransition){var w=F.T,O={};F.T=O;try{var B=u(y,m),J=F.S;J!==null&&J(O,B),av(r,l,B)}catch(ye){wp(r,l,ye)}finally{F.T=w}}else try{w=u(y,m),av(r,l,w)}catch(ye){wp(r,l,ye)}}function av(r,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){iv(r,l,m)},function(m){return wp(r,l,m)}):iv(r,l,u)}function iv(r,l,u){l.status="fulfilled",l.value=u,ov(l),r.state=u,l=r.pending,l!==null&&(u=l.next,u===l?r.pending=null:(u=u.next,l.next=u,rv(r,u)))}function wp(r,l,u){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=u,ov(l),l=l.next;while(l!==m)}r.action=null}function ov(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function lv(r,l){return l}function cv(r,l){if(an){var u=wn.formState;if(u!==null){e:{var m=Ut;if(an){if(zn){t:{for(var y=zn,w=Jr;y.nodeType!==8;){if(!w){y=null;break t}if(y=Lr(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){zn=Lr(y.nextSibling),m=y.data==="F!";break e}}co(m)}m=!1}m&&(l=u[0])}}return u=Us(),u.memoizedState=u.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lv,lastRenderedState:l},u.queue=m,u=kv.bind(null,Ut,m),m.dispatch=u,m=vp(!1),w=Tp.bind(null,Ut,!1,m.queue),m=Us(),y={state:l,dispatch:null,action:r,pending:null},m.queue=y,u=vC.bind(null,Ut,y,w,u),y.dispatch=u,m.memoizedState=r,[l,u,!1]}function uv(r){var l=Yn();return dv(l,mn,r)}function dv(r,l,u){if(l=yp(r,l,lv)[0],r=Id(Da)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Vc(l)}catch(O){throw O===zc?Ud:O}else m=l;l=Yn();var y=l.queue,w=y.dispatch;return u!==l.memoizedState&&(Ut.flags|=2048,xl(9,qd(),wC.bind(null,y,u),null)),[m,w,r]}function wC(r,l){r.action=l}function fv(r){var l=Yn(),u=mn;if(u!==null)return dv(l,u,r);Yn(),l=l.memoizedState,u=Yn();var m=u.queue.dispatch;return u.memoizedState=r,[l,m,!1]}function xl(r,l,u,m){return r={tag:r,create:u,deps:m,inst:l,next:null},l=Ut.updateQueue,l===null&&(l=gp(),Ut.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=r.next=r:(m=u.next,u.next=r,r.next=m,l.lastEffect=r),r}function qd(){return{destroy:void 0,resource:void 0}}function hv(){return Yn().memoizedState}function Wd(r,l,u,m){var y=Us();m=m===void 0?null:m,Ut.flags|=r,y.memoizedState=xl(1|l,qd(),u,m)}function Ic(r,l,u,m){var y=Yn();m=m===void 0?null:m;var w=y.memoizedState.inst;mn!==null&&m!==null&&dp(m,mn.memoizedState.deps)?y.memoizedState=xl(l,w,u,m):(Ut.flags|=r,y.memoizedState=xl(1|l,w,u,m))}function mv(r,l){Wd(8390656,8,r,l)}function pv(r,l){Ic(2048,8,r,l)}function gv(r,l){return Ic(4,2,r,l)}function xv(r,l){return Ic(4,4,r,l)}function yv(r,l){if(typeof l=="function"){r=r();var u=l(r);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function bv(r,l,u){u=u!=null?u.concat([r]):null,Ic(4,4,yv.bind(null,l,r),u)}function jp(){}function vv(r,l){var u=Yn();l=l===void 0?null:l;var m=u.memoizedState;return l!==null&&dp(l,m[1])?m[0]:(u.memoizedState=[r,l],r)}function wv(r,l){var u=Yn();l=l===void 0?null:l;var m=u.memoizedState;if(l!==null&&dp(l,m[1]))return m[0];if(m=r(),mo){et(!0);try{r()}finally{et(!1)}}return u.memoizedState=[m,l],m}function _p(r,l,u){return u===void 0||(li&1073741824)!==0?r.memoizedState=l:(r.memoizedState=u,r=Nw(),Ut.lanes|=r,pi|=r,u)}function jv(r,l,u,m){return Ks(u,l)?u:ml.current!==null?(r=_p(r,u,m),Ks(r,l)||(os=!0),r):(li&42)===0?(os=!0,r.memoizedState=u):(r=Nw(),Ut.lanes|=r,pi|=r,l)}function _v(r,l,u,m,y){var w=Z.p;Z.p=w!==0&&8>w?w:8;var O=F.T,B={};F.T=B,Tp(r,!1,l,u);try{var J=y(),ye=F.S;if(ye!==null&&ye(B,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var Te=xC(J,m);qc(r,l,Te,tr(r))}else qc(r,l,m,tr(r))}catch(De){qc(r,l,{then:function(){},status:"rejected",reason:De},tr())}finally{Z.p=w,F.T=O}}function jC(){}function Np(r,l,u,m){if(r.tag!==5)throw Error(s(476));var y=Nv(r).queue;_v(r,y,l,ee,u===null?jC:function(){return Sv(r),u(m)})}function Nv(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:ee},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:u},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function Sv(r){var l=Nv(r).next.queue;qc(r,l,{},tr())}function Sp(){return _s(cu)}function Tv(){return Yn().memoizedState}function Ev(){return Yn().memoizedState}function _C(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var u=tr();r=ii(u);var m=oi(l,r,u);m!==null&&(nr(m,l,u),Bc(m,l,u)),l={cache:tp()},r.payload=l;return}l=l.return}}function NC(r,l,u){var m=tr();u={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Yd(r)?Cv(l,u):(u=qm(r,l,u,m),u!==null&&(nr(u,r,m),Dv(u,l,m)))}function kv(r,l,u){var m=tr();qc(r,l,u,m)}function qc(r,l,u,m){var y={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Yd(r))Cv(l,y);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var O=l.lastRenderedState,B=w(O,u);if(y.hasEagerState=!0,y.eagerState=B,Ks(B,O))return Dd(r,l,y,0),wn===null&&Cd(),!1}catch(J){}finally{}if(u=qm(r,l,y,m),u!==null)return nr(u,r,m),Dv(u,l,m),!0}return!1}function Tp(r,l,u,m){if(m={lane:2,revertLane:rg(),action:m,hasEagerState:!1,eagerState:null,next:null},Yd(r)){if(l)throw Error(s(479))}else l=qm(r,u,m,2),l!==null&&nr(l,r,2)}function Yd(r){var l=r.alternate;return r===Ut||l!==null&&l===Ut}function Cv(r,l){pl=$d=!0;var u=r.pending;u===null?l.next=l:(l.next=u.next,u.next=l),r.pending=l}function Dv(r,l,u){if((u&4194048)!==0){var m=l.lanes;m&=r.pendingLanes,u|=m,l.lanes=u,Tt(r,u)}}var Xd={readContext:_s,use:Vd,useCallback:Bn,useContext:Bn,useEffect:Bn,useImperativeHandle:Bn,useLayoutEffect:Bn,useInsertionEffect:Bn,useMemo:Bn,useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:Bn,useDeferredValue:Bn,useTransition:Bn,useSyncExternalStore:Bn,useId:Bn,useHostTransitionStatus:Bn,useFormState:Bn,useActionState:Bn,useOptimistic:Bn,useMemoCache:Bn,useCacheRefresh:Bn},Ov={readContext:_s,use:Vd,useCallback:function(r,l){return Us().memoizedState=[r,l===void 0?null:l],r},useContext:_s,useEffect:mv,useImperativeHandle:function(r,l,u){u=u!=null?u.concat([r]):null,Wd(4194308,4,yv.bind(null,l,r),u)},useLayoutEffect:function(r,l){return Wd(4194308,4,r,l)},useInsertionEffect:function(r,l){Wd(4,2,r,l)},useMemo:function(r,l){var u=Us();l=l===void 0?null:l;var m=r();if(mo){et(!0);try{r()}finally{et(!1)}}return u.memoizedState=[m,l],m},useReducer:function(r,l,u){var m=Us();if(u!==void 0){var y=u(l);if(mo){et(!0);try{u(l)}finally{et(!1)}}}else y=l;return m.memoizedState=m.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},m.queue=r,r=r.dispatch=NC.bind(null,Ut,r),[m.memoizedState,r]},useRef:function(r){var l=Us();return r={current:r},l.memoizedState=r},useState:function(r){r=vp(r);var l=r.queue,u=kv.bind(null,Ut,l);return l.dispatch=u,[r.memoizedState,u]},useDebugValue:jp,useDeferredValue:function(r,l){var u=Us();return _p(u,r,l)},useTransition:function(){var r=vp(!1);return r=_v.bind(null,Ut,r.queue,!0,!1),Us().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,u){var m=Ut,y=Us();if(an){if(u===void 0)throw Error(s(407));u=u()}else{if(u=l(),wn===null)throw Error(s(349));(Zt&124)!==0||Zb(m,l,u)}y.memoizedState=u;var w={value:u,getSnapshot:l};return y.queue=w,mv(ev.bind(null,m,w,r),[r]),m.flags|=2048,xl(9,qd(),Jb.bind(null,m,w,u,l),null),u},useId:function(){var r=Us(),l=wn.identifierPrefix;if(an){var u=Ea,m=Ta;u=(m&~(1<<32-jt(m)-1)).toString(32)+u,l="«"+l+"R"+u,u=Hd++,0<u&&(l+="H"+u.toString(32)),l+="»"}else u=yC++,l="«"+l+"r"+u.toString(32)+"»";return r.memoizedState=l},useHostTransitionStatus:Sp,useFormState:cv,useActionState:cv,useOptimistic:function(r){var l=Us();l.memoizedState=l.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Tp.bind(null,Ut,!0,u),u.dispatch=l,[r,l]},useMemoCache:xp,useCacheRefresh:function(){return Us().memoizedState=_C.bind(null,Ut)}},Av={readContext:_s,use:Vd,useCallback:vv,useContext:_s,useEffect:pv,useImperativeHandle:bv,useInsertionEffect:gv,useLayoutEffect:xv,useMemo:wv,useReducer:Id,useRef:hv,useState:function(){return Id(Da)},useDebugValue:jp,useDeferredValue:function(r,l){var u=Yn();return jv(u,mn.memoizedState,r,l)},useTransition:function(){var r=Id(Da)[0],l=Yn().memoizedState;return[typeof r=="boolean"?r:Vc(r),l]},useSyncExternalStore:Qb,useId:Tv,useHostTransitionStatus:Sp,useFormState:uv,useActionState:uv,useOptimistic:function(r,l){var u=Yn();return sv(u,mn,r,l)},useMemoCache:xp,useCacheRefresh:Ev},SC={readContext:_s,use:Vd,useCallback:vv,useContext:_s,useEffect:pv,useImperativeHandle:bv,useInsertionEffect:gv,useLayoutEffect:xv,useMemo:wv,useReducer:bp,useRef:hv,useState:function(){return bp(Da)},useDebugValue:jp,useDeferredValue:function(r,l){var u=Yn();return mn===null?_p(u,r,l):jv(u,mn.memoizedState,r,l)},useTransition:function(){var r=bp(Da)[0],l=Yn().memoizedState;return[typeof r=="boolean"?r:Vc(r),l]},useSyncExternalStore:Qb,useId:Tv,useHostTransitionStatus:Sp,useFormState:fv,useActionState:fv,useOptimistic:function(r,l){var u=Yn();return mn!==null?sv(u,mn,r,l):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:xp,useCacheRefresh:Ev},yl=null,Wc=0;function Gd(r){var l=Wc;return Wc+=1,yl===null&&(yl=[]),Vb(yl,r,l)}function Yc(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function Kd(r,l){throw l.$$typeof===g?Error(s(525)):(r=Object.prototype.toString.call(l),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function Rv(r){var l=r._init;return l(r._payload)}function Mv(r){function l(de,ae){if(r){var xe=de.deletions;xe===null?(de.deletions=[ae],de.flags|=16):xe.push(ae)}}function u(de,ae){if(!r)return null;for(;ae!==null;)l(de,ae),ae=ae.sibling;return null}function m(de){for(var ae=new Map;de!==null;)de.key!==null?ae.set(de.key,de):ae.set(de.index,de),de=de.sibling;return ae}function y(de,ae){return de=Sa(de,ae),de.index=0,de.sibling=null,de}function w(de,ae,xe){return de.index=xe,r?(xe=de.alternate,xe!==null?(xe=xe.index,xe<ae?(de.flags|=67108866,ae):xe):(de.flags|=67108866,ae)):(de.flags|=1048576,ae)}function O(de){return r&&de.alternate===null&&(de.flags|=67108866),de}function B(de,ae,xe,ke){return ae===null||ae.tag!==6?(ae=Ym(xe,de.mode,ke),ae.return=de,ae):(ae=y(ae,xe),ae.return=de,ae)}function J(de,ae,xe,ke){var rt=xe.type;return rt===j?Te(de,ae,xe.props.children,ke,xe.key):ae!==null&&(ae.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===U&&Rv(rt)===ae.type)?(ae=y(ae,xe.props),Yc(ae,xe),ae.return=de,ae):(ae=Ad(xe.type,xe.key,xe.props,null,de.mode,ke),Yc(ae,xe),ae.return=de,ae)}function ye(de,ae,xe,ke){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==xe.containerInfo||ae.stateNode.implementation!==xe.implementation?(ae=Xm(xe,de.mode,ke),ae.return=de,ae):(ae=y(ae,xe.children||[]),ae.return=de,ae)}function Te(de,ae,xe,ke,rt){return ae===null||ae.tag!==7?(ae=ao(xe,de.mode,ke,rt),ae.return=de,ae):(ae=y(ae,xe),ae.return=de,ae)}function De(de,ae,xe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Ym(""+ae,de.mode,xe),ae.return=de,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:return xe=Ad(ae.type,ae.key,ae.props,null,de.mode,xe),Yc(xe,ae),xe.return=de,xe;case b:return ae=Xm(ae,de.mode,xe),ae.return=de,ae;case U:var ke=ae._init;return ae=ke(ae._payload),De(de,ae,xe)}if(H(ae)||Q(ae))return ae=ao(ae,de.mode,xe,null),ae.return=de,ae;if(typeof ae.then=="function")return De(de,Gd(ae),xe);if(ae.$$typeof===E)return De(de,Ld(de,ae),xe);Kd(de,ae)}return null}function we(de,ae,xe,ke){var rt=ae!==null?ae.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return rt!==null?null:B(de,ae,""+xe,ke);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case x:return xe.key===rt?J(de,ae,xe,ke):null;case b:return xe.key===rt?ye(de,ae,xe,ke):null;case U:return rt=xe._init,xe=rt(xe._payload),we(de,ae,xe,ke)}if(H(xe)||Q(xe))return rt!==null?null:Te(de,ae,xe,ke,null);if(typeof xe.then=="function")return we(de,ae,Gd(xe),ke);if(xe.$$typeof===E)return we(de,ae,Ld(de,xe),ke);Kd(de,xe)}return null}function je(de,ae,xe,ke,rt){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return de=de.get(xe)||null,B(ae,de,""+ke,rt);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case x:return de=de.get(ke.key===null?xe:ke.key)||null,J(ae,de,ke,rt);case b:return de=de.get(ke.key===null?xe:ke.key)||null,ye(ae,de,ke,rt);case U:var $t=ke._init;return ke=$t(ke._payload),je(de,ae,xe,ke,rt)}if(H(ke)||Q(ke))return de=de.get(xe)||null,Te(ae,de,ke,rt,null);if(typeof ke.then=="function")return je(de,ae,xe,Gd(ke),rt);if(ke.$$typeof===E)return je(de,ae,xe,Ld(ae,ke),rt);Kd(ae,ke)}return null}function _t(de,ae,xe,ke){for(var rt=null,$t=null,ft=ae,wt=ae=0,cs=null;ft!==null&&wt<xe.length;wt++){ft.index>wt?(cs=ft,ft=null):cs=ft.sibling;var nn=we(de,ft,xe[wt],ke);if(nn===null){ft===null&&(ft=cs);break}r&&ft&&nn.alternate===null&&l(de,ft),ae=w(nn,ae,wt),$t===null?rt=nn:$t.sibling=nn,$t=nn,ft=cs}if(wt===xe.length)return u(de,ft),an&&oo(de,wt),rt;if(ft===null){for(;wt<xe.length;wt++)ft=De(de,xe[wt],ke),ft!==null&&(ae=w(ft,ae,wt),$t===null?rt=ft:$t.sibling=ft,$t=ft);return an&&oo(de,wt),rt}for(ft=m(ft);wt<xe.length;wt++)cs=je(ft,de,wt,xe[wt],ke),cs!==null&&(r&&cs.alternate!==null&&ft.delete(cs.key===null?wt:cs.key),ae=w(cs,ae,wt),$t===null?rt=cs:$t.sibling=cs,$t=cs);return r&&ft.forEach(function(Ni){return l(de,Ni)}),an&&oo(de,wt),rt}function bt(de,ae,xe,ke){if(xe==null)throw Error(s(151));for(var rt=null,$t=null,ft=ae,wt=ae=0,cs=null,nn=xe.next();ft!==null&&!nn.done;wt++,nn=xe.next()){ft.index>wt?(cs=ft,ft=null):cs=ft.sibling;var Ni=we(de,ft,nn.value,ke);if(Ni===null){ft===null&&(ft=cs);break}r&&ft&&Ni.alternate===null&&l(de,ft),ae=w(Ni,ae,wt),$t===null?rt=Ni:$t.sibling=Ni,$t=Ni,ft=cs}if(nn.done)return u(de,ft),an&&oo(de,wt),rt;if(ft===null){for(;!nn.done;wt++,nn=xe.next())nn=De(de,nn.value,ke),nn!==null&&(ae=w(nn,ae,wt),$t===null?rt=nn:$t.sibling=nn,$t=nn);return an&&oo(de,wt),rt}for(ft=m(ft);!nn.done;wt++,nn=xe.next())nn=je(ft,de,wt,nn.value,ke),nn!==null&&(r&&nn.alternate!==null&&ft.delete(nn.key===null?wt:nn.key),ae=w(nn,ae,wt),$t===null?rt=nn:$t.sibling=nn,$t=nn);return r&&ft.forEach(function(TD){return l(de,TD)}),an&&oo(de,wt),rt}function gn(de,ae,xe,ke){if(typeof xe=="object"&&xe!==null&&xe.type===j&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case x:e:{for(var rt=xe.key;ae!==null;){if(ae.key===rt){if(rt=xe.type,rt===j){if(ae.tag===7){u(de,ae.sibling),ke=y(ae,xe.props.children),ke.return=de,de=ke;break e}}else if(ae.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===U&&Rv(rt)===ae.type){u(de,ae.sibling),ke=y(ae,xe.props),Yc(ke,xe),ke.return=de,de=ke;break e}u(de,ae);break}else l(de,ae);ae=ae.sibling}xe.type===j?(ke=ao(xe.props.children,de.mode,ke,xe.key),ke.return=de,de=ke):(ke=Ad(xe.type,xe.key,xe.props,null,de.mode,ke),Yc(ke,xe),ke.return=de,de=ke)}return O(de);case b:e:{for(rt=xe.key;ae!==null;){if(ae.key===rt)if(ae.tag===4&&ae.stateNode.containerInfo===xe.containerInfo&&ae.stateNode.implementation===xe.implementation){u(de,ae.sibling),ke=y(ae,xe.children||[]),ke.return=de,de=ke;break e}else{u(de,ae);break}else l(de,ae);ae=ae.sibling}ke=Xm(xe,de.mode,ke),ke.return=de,de=ke}return O(de);case U:return rt=xe._init,xe=rt(xe._payload),gn(de,ae,xe,ke)}if(H(xe))return _t(de,ae,xe,ke);if(Q(xe)){if(rt=Q(xe),typeof rt!="function")throw Error(s(150));return xe=rt.call(xe),bt(de,ae,xe,ke)}if(typeof xe.then=="function")return gn(de,ae,Gd(xe),ke);if(xe.$$typeof===E)return gn(de,ae,Ld(de,xe),ke);Kd(de,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint"?(xe=""+xe,ae!==null&&ae.tag===6?(u(de,ae.sibling),ke=y(ae,xe),ke.return=de,de=ke):(u(de,ae),ke=Ym(xe,de.mode,ke),ke.return=de,de=ke),O(de)):u(de,ae)}return function(de,ae,xe,ke){try{Wc=0;var rt=gn(de,ae,xe,ke);return yl=null,rt}catch(ft){if(ft===zc||ft===Ud)throw ft;var $t=Qs(29,ft,null,de.mode);return $t.lanes=ke,$t.return=de,$t}finally{}}}var bl=Mv(!0),Pv=Mv(!1),gr=ie(null),ea=null;function ci(r){var l=r.alternate;V(es,es.current&1),V(gr,r),ea===null&&(l===null||ml.current!==null||l.memoizedState!==null)&&(ea=r)}function Lv(r){if(r.tag===22){if(V(es,es.current),V(gr,r),ea===null){var l=r.alternate;l!==null&&l.memoizedState!==null&&(ea=r)}}else ui()}function ui(){V(es,es.current),V(gr,gr.current)}function Oa(r){se(gr),ea===r&&(ea=null),se(es)}var es=ie(0);function Qd(r){for(var l=r;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||gg(u)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Ep(r,l,u,m){l=r.memoizedState,u=u(m,l),u=u==null?l:p({},l,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var kp={enqueueSetState:function(r,l,u){r=r._reactInternals;var m=tr(),y=ii(m);y.payload=l,u!=null&&(y.callback=u),l=oi(r,y,m),l!==null&&(nr(l,r,m),Bc(l,r,m))},enqueueReplaceState:function(r,l,u){r=r._reactInternals;var m=tr(),y=ii(m);y.tag=1,y.payload=l,u!=null&&(y.callback=u),l=oi(r,y,m),l!==null&&(nr(l,r,m),Bc(l,r,m))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var u=tr(),m=ii(u);m.tag=2,l!=null&&(m.callback=l),l=oi(r,m,u),l!==null&&(nr(l,r,u),Bc(l,r,u))}};function zv(r,l,u,m,y,w,O){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,w,O):l.prototype&&l.prototype.isPureReactComponent?!Cc(u,m)||!Cc(y,w):!0}function Uv(r,l,u,m){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,m),l.state!==r&&kp.enqueueReplaceState(l,l.state,null)}function po(r,l){var u=l;if("ref"in l){u={};for(var m in l)m!=="ref"&&(u[m]=l[m])}if(r=r.defaultProps){u===l&&(u=p({},u));for(var y in r)u[y]===void 0&&(u[y]=r[y])}return u}var Zd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Bv(r){Zd(r)}function Fv(r){console.error(r)}function $v(r){Zd(r)}function Jd(r,l){try{var u=r.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function Hv(r,l,u){try{var m=r.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Cp(r,l,u){return u=ii(u),u.tag=3,u.payload={element:null},u.callback=function(){Jd(r,l)},u}function Vv(r){return r=ii(r),r.tag=3,r}function Iv(r,l,u,m){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var w=m.value;r.payload=function(){return y(w)},r.callback=function(){Hv(l,u,m)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(r.callback=function(){Hv(l,u,m),typeof y!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var B=m.stack;this.componentDidCatch(m.value,{componentStack:B!==null?B:""})})}function TC(r,l,u,m,y){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=u.alternate,l!==null&&Mc(l,u,y,!0),u=gr.current,u!==null){switch(u.tag){case 13:return ea===null?Jp():u.alternate===null&&Un===0&&(Un=3),u.flags&=-257,u.flags|=65536,u.lanes=y,m===rp?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([m]):l.add(m),tg(r,m,y)),!1;case 22:return u.flags|=65536,m===rp?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([m]):u.add(m)),tg(r,m,y)),!1}throw Error(s(435,u.tag))}return tg(r,m,y),Jp(),!1}if(an)return l=gr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=y,m!==Qm&&(r=Error(s(422),{cause:m}),Rc(fr(r,u)))):(m!==Qm&&(l=Error(s(423),{cause:m}),Rc(fr(l,u))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,m=fr(m,u),y=Cp(r.stateNode,m,y),op(r,y),Un!==4&&(Un=2)),!1;var w=Error(s(520),{cause:m});if(w=fr(w,u),eu===null?eu=[w]:eu.push(w),Un!==4&&(Un=2),l===null)return!0;m=fr(m,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,r=y&-y,u.lanes|=r,r=Cp(u.stateNode,m,r),op(u,r),!1;case 1:if(l=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(gi===null||!gi.has(w))))return u.flags|=65536,y&=-y,u.lanes|=y,y=Vv(y),Iv(y,r,u,m),op(u,y),!1}u=u.return}while(u!==null);return!1}var qv=Error(s(461)),os=!1;function fs(r,l,u,m){l.child=r===null?Pv(l,null,u,m):bl(l,r.child,u,m)}function Wv(r,l,u,m,y){u=u.render;var w=l.ref;if("ref"in m){var O={};for(var B in m)B!=="ref"&&(O[B]=m[B])}else O=m;return fo(l),m=fp(r,l,u,O,w,y),B=hp(),r!==null&&!os?(mp(r,l,y),Aa(r,l,y)):(an&&B&&Gm(l),l.flags|=1,fs(r,l,m,y),l.child)}function Yv(r,l,u,m,y){if(r===null){var w=u.type;return typeof w=="function"&&!Wm(w)&&w.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=w,Xv(r,l,w,m,y)):(r=Ad(u.type,null,m,l,l.mode,y),r.ref=l.ref,r.return=l,l.child=r)}if(w=r.child,!zp(r,y)){var O=w.memoizedProps;if(u=u.compare,u=u!==null?u:Cc,u(O,m)&&r.ref===l.ref)return Aa(r,l,y)}return l.flags|=1,r=Sa(w,m),r.ref=l.ref,r.return=l,l.child=r}function Xv(r,l,u,m,y){if(r!==null){var w=r.memoizedProps;if(Cc(w,m)&&r.ref===l.ref)if(os=!1,l.pendingProps=m=w,zp(r,y))(r.flags&131072)!==0&&(os=!0);else return l.lanes=r.lanes,Aa(r,l,y)}return Dp(r,l,u,m,y)}function Gv(r,l,u){var m=l.pendingProps,y=m.children,w=r!==null?r.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=w!==null?w.baseLanes|u:u,r!==null){for(y=l.child=r.child,w=0;y!==null;)w=w|y.lanes|y.childLanes,y=y.sibling;l.childLanes=w&~m}else l.childLanes=0,l.child=null;return Kv(r,l,m,u)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&zd(l,w!==null?w.cachePool:null),w!==null?Xb(l,w):cp(),Lv(l);else return l.lanes=l.childLanes=536870912,Kv(r,l,w!==null?w.baseLanes|u:u,u)}else w!==null?(zd(l,w.cachePool),Xb(l,w),ui(),l.memoizedState=null):(r!==null&&zd(l,null),cp(),ui());return fs(r,l,y,u),l.child}function Kv(r,l,u,m){var y=sp();return y=y===null?null:{parent:Jn._currentValue,pool:y},l.memoizedState={baseLanes:u,cachePool:y},r!==null&&zd(l,null),cp(),Lv(l),r!==null&&Mc(r,l,m,!0),null}function ef(r,l){var u=l.ref;if(u===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(s(284));(r===null||r.ref!==u)&&(l.flags|=4194816)}}function Dp(r,l,u,m,y){return fo(l),u=fp(r,l,u,m,void 0,y),m=hp(),r!==null&&!os?(mp(r,l,y),Aa(r,l,y)):(an&&m&&Gm(l),l.flags|=1,fs(r,l,u,y),l.child)}function Qv(r,l,u,m,y,w){return fo(l),l.updateQueue=null,u=Kb(l,m,u,y),Gb(r),m=hp(),r!==null&&!os?(mp(r,l,w),Aa(r,l,w)):(an&&m&&Gm(l),l.flags|=1,fs(r,l,u,w),l.child)}function Zv(r,l,u,m,y){if(fo(l),l.stateNode===null){var w=cl,O=u.contextType;typeof O=="object"&&O!==null&&(w=_s(O)),w=new u(m,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=kp,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=m,w.state=l.memoizedState,w.refs={},ap(l),O=u.contextType,w.context=typeof O=="object"&&O!==null?_s(O):cl,w.state=l.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Ep(l,u,O,m),w.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(O=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),O!==w.state&&kp.enqueueReplaceState(w,w.state,null),$c(l,m,w,y),Fc(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(r===null){w=l.stateNode;var B=l.memoizedProps,J=po(u,B);w.props=J;var ye=w.context,Te=u.contextType;O=cl,typeof Te=="object"&&Te!==null&&(O=_s(Te));var De=u.getDerivedStateFromProps;Te=typeof De=="function"||typeof w.getSnapshotBeforeUpdate=="function",B=l.pendingProps!==B,Te||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(B||ye!==O)&&Uv(l,w,m,O),ai=!1;var we=l.memoizedState;w.state=we,$c(l,m,w,y),Fc(),ye=l.memoizedState,B||we!==ye||ai?(typeof De=="function"&&(Ep(l,u,De,m),ye=l.memoizedState),(J=ai||zv(l,u,J,m,we,ye,O))?(Te||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ye),w.props=m,w.state=ye,w.context=O,m=J):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{w=l.stateNode,ip(r,l),O=l.memoizedProps,Te=po(u,O),w.props=Te,De=l.pendingProps,we=w.context,ye=u.contextType,J=cl,typeof ye=="object"&&ye!==null&&(J=_s(ye)),B=u.getDerivedStateFromProps,(ye=typeof B=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==De||we!==J)&&Uv(l,w,m,J),ai=!1,we=l.memoizedState,w.state=we,$c(l,m,w,y),Fc();var je=l.memoizedState;O!==De||we!==je||ai||r!==null&&r.dependencies!==null&&Pd(r.dependencies)?(typeof B=="function"&&(Ep(l,u,B,m),je=l.memoizedState),(Te=ai||zv(l,u,Te,m,we,je,J)||r!==null&&r.dependencies!==null&&Pd(r.dependencies))?(ye||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,je,J),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,je,J)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||O===r.memoizedProps&&we===r.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&we===r.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=je),w.props=m,w.state=je,w.context=J,m=Te):(typeof w.componentDidUpdate!="function"||O===r.memoizedProps&&we===r.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&we===r.memoizedState||(l.flags|=1024),m=!1)}return w=m,ef(r,l),m=(l.flags&128)!==0,w||m?(w=l.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,r!==null&&m?(l.child=bl(l,r.child,null,y),l.child=bl(l,null,u,y)):fs(r,l,u,y),l.memoizedState=w.state,r=l.child):r=Aa(r,l,y),r}function Jv(r,l,u,m){return Ac(),l.flags|=256,fs(r,l,u,m),l.child}var Op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ap(r){return{baseLanes:r,cachePool:Fb()}}function Rp(r,l,u){return r=r!==null?r.childLanes&~u:0,l&&(r|=xr),r}function ew(r,l,u){var m=l.pendingProps,y=!1,w=(l.flags&128)!==0,O;if((O=w)||(O=r!==null&&r.memoizedState===null?!1:(es.current&2)!==0),O&&(y=!0,l.flags&=-129),O=(l.flags&32)!==0,l.flags&=-33,r===null){if(an){if(y?ci(l):ui(),an){var B=zn,J;if(J=B){e:{for(J=B,B=Jr;J.nodeType!==8;){if(!B){B=null;break e}if(J=Lr(J.nextSibling),J===null){B=null;break e}}B=J}B!==null?(l.memoizedState={dehydrated:B,treeContext:io!==null?{id:Ta,overflow:Ea}:null,retryLane:536870912,hydrationErrors:null},J=Qs(18,null,null,0),J.stateNode=B,J.return=l,l.child=J,Ds=l,zn=null,J=!0):J=!1}J||co(l)}if(B=l.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return gg(B)?l.lanes=32:l.lanes=536870912,null;Oa(l)}return B=m.children,m=m.fallback,y?(ui(),y=l.mode,B=tf({mode:"hidden",children:B},y),m=ao(m,y,u,null),B.return=l,m.return=l,B.sibling=m,l.child=B,y=l.child,y.memoizedState=Ap(u),y.childLanes=Rp(r,O,u),l.memoizedState=Op,m):(ci(l),Mp(l,B))}if(J=r.memoizedState,J!==null&&(B=J.dehydrated,B!==null)){if(w)l.flags&256?(ci(l),l.flags&=-257,l=Pp(r,l,u)):l.memoizedState!==null?(ui(),l.child=r.child,l.flags|=128,l=null):(ui(),y=m.fallback,B=l.mode,m=tf({mode:"visible",children:m.children},B),y=ao(y,B,u,null),y.flags|=2,m.return=l,y.return=l,m.sibling=y,l.child=m,bl(l,r.child,null,u),m=l.child,m.memoizedState=Ap(u),m.childLanes=Rp(r,O,u),l.memoizedState=Op,l=y);else if(ci(l),gg(B)){if(O=B.nextSibling&&B.nextSibling.dataset,O)var ye=O.dgst;O=ye,m=Error(s(419)),m.stack="",m.digest=O,Rc({value:m,source:null,stack:null}),l=Pp(r,l,u)}else if(os||Mc(r,l,u,!1),O=(u&r.childLanes)!==0,os||O){if(O=wn,O!==null&&(m=u&-u,m=(m&42)!==0?1:Kt(m),m=(m&(O.suspendedLanes|u))!==0?0:m,m!==0&&m!==J.retryLane))throw J.retryLane=m,ll(r,m),nr(O,r,m),qv;B.data==="$?"||Jp(),l=Pp(r,l,u)}else B.data==="$?"?(l.flags|=192,l.child=r.child,l=null):(r=J.treeContext,zn=Lr(B.nextSibling),Ds=l,an=!0,lo=null,Jr=!1,r!==null&&(mr[pr++]=Ta,mr[pr++]=Ea,mr[pr++]=io,Ta=r.id,Ea=r.overflow,io=l),l=Mp(l,m.children),l.flags|=4096);return l}return y?(ui(),y=m.fallback,B=l.mode,J=r.child,ye=J.sibling,m=Sa(J,{mode:"hidden",children:m.children}),m.subtreeFlags=J.subtreeFlags&65011712,ye!==null?y=Sa(ye,y):(y=ao(y,B,u,null),y.flags|=2),y.return=l,m.return=l,m.sibling=y,l.child=m,m=y,y=l.child,B=r.child.memoizedState,B===null?B=Ap(u):(J=B.cachePool,J!==null?(ye=Jn._currentValue,J=J.parent!==ye?{parent:ye,pool:ye}:J):J=Fb(),B={baseLanes:B.baseLanes|u,cachePool:J}),y.memoizedState=B,y.childLanes=Rp(r,O,u),l.memoizedState=Op,m):(ci(l),u=r.child,r=u.sibling,u=Sa(u,{mode:"visible",children:m.children}),u.return=l,u.sibling=null,r!==null&&(O=l.deletions,O===null?(l.deletions=[r],l.flags|=16):O.push(r)),l.child=u,l.memoizedState=null,u)}function Mp(r,l){return l=tf({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function tf(r,l){return r=Qs(22,r,null,l),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Pp(r,l,u){return bl(l,r.child,null,u),r=Mp(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function tw(r,l,u){r.lanes|=l;var m=r.alternate;m!==null&&(m.lanes|=l),Jm(r.return,l,u)}function Lp(r,l,u,m,y){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=u,w.tailMode=y)}function nw(r,l,u){var m=l.pendingProps,y=m.revealOrder,w=m.tail;if(fs(r,l,m.children,u),m=es.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&tw(r,u,l);else if(r.tag===19)tw(r,u,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}switch(V(es,m),y){case"forwards":for(u=l.child,y=null;u!==null;)r=u.alternate,r!==null&&Qd(r)===null&&(y=u),u=u.sibling;u=y,u===null?(y=l.child,l.child=null):(y=u.sibling,u.sibling=null),Lp(l,!1,y,u,w);break;case"backwards":for(u=null,y=l.child,l.child=null;y!==null;){if(r=y.alternate,r!==null&&Qd(r)===null){l.child=y;break}r=y.sibling,y.sibling=u,u=y,y=r}Lp(l,!0,u,null,w);break;case"together":Lp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Aa(r,l,u){if(r!==null&&(l.dependencies=r.dependencies),pi|=l.lanes,(u&l.childLanes)===0)if(r!==null){if(Mc(r,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(s(153));if(l.child!==null){for(r=l.child,u=Sa(r,r.pendingProps),l.child=u,u.return=l;r.sibling!==null;)r=r.sibling,u=u.sibling=Sa(r,r.pendingProps),u.return=l;u.sibling=null}return l.child}function zp(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&Pd(r)))}function EC(r,l,u){switch(l.tag){case 3:Ce(l,l.stateNode.containerInfo),ri(l,Jn,r.memoizedState.cache),Ac();break;case 27:case 5:ze(l);break;case 4:Ce(l,l.stateNode.containerInfo);break;case 10:ri(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(ci(l),l.flags|=128,null):(u&l.child.childLanes)!==0?ew(r,l,u):(ci(l),r=Aa(r,l,u),r!==null?r.sibling:null);ci(l);break;case 19:var y=(r.flags&128)!==0;if(m=(u&l.childLanes)!==0,m||(Mc(r,l,u,!1),m=(u&l.childLanes)!==0),y){if(m)return nw(r,l,u);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),V(es,es.current),m)break;return null;case 22:case 23:return l.lanes=0,Gv(r,l,u);case 24:ri(l,Jn,r.memoizedState.cache)}return Aa(r,l,u)}function sw(r,l,u){if(r!==null)if(r.memoizedProps!==l.pendingProps)os=!0;else{if(!zp(r,u)&&(l.flags&128)===0)return os=!1,EC(r,l,u);os=(r.flags&131072)!==0}else os=!1,an&&(l.flags&1048576)!==0&&Rb(l,Md,l.index);switch(l.lanes=0,l.tag){case 16:e:{r=l.pendingProps;var m=l.elementType,y=m._init;if(m=y(m._payload),l.type=m,typeof m=="function")Wm(m)?(r=po(m,r),l.tag=1,l=Zv(null,l,m,r,u)):(l.tag=0,l=Dp(null,l,m,r,u));else{if(m!=null){if(y=m.$$typeof,y===T){l.tag=11,l=Wv(null,l,m,r,u);break e}else if(y===z){l.tag=14,l=Yv(null,l,m,r,u);break e}}throw l=Y(m)||m,Error(s(306,l,""))}}return l;case 0:return Dp(r,l,l.type,l.pendingProps,u);case 1:return m=l.type,y=po(m,l.pendingProps),Zv(r,l,m,y,u);case 3:e:{if(Ce(l,l.stateNode.containerInfo),r===null)throw Error(s(387));m=l.pendingProps;var w=l.memoizedState;y=w.element,ip(r,l),$c(l,m,null,u);var O=l.memoizedState;if(m=O.cache,ri(l,Jn,m),m!==w.cache&&ep(l,[Jn],u,!0),Fc(),m=O.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:O.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=Jv(r,l,m,u);break e}else if(m!==y){y=fr(Error(s(424)),l),Rc(y),l=Jv(r,l,m,u);break e}else{switch(r=l.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(zn=Lr(r.firstChild),Ds=l,an=!0,lo=null,Jr=!0,u=Pv(l,null,m,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ac(),m===y){l=Aa(r,l,u);break e}fs(r,l,m,u)}l=l.child}return l;case 26:return ef(r,l),r===null?(u=oj(l.type,null,l.pendingProps,null))?l.memoizedState=u:an||(u=l.type,r=l.pendingProps,m=gf(he.current).createElement(u),m[_e]=l,m[Ae]=r,ms(m,u,r),dt(m),l.stateNode=m):l.memoizedState=oj(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return ze(l),r===null&&an&&(m=l.stateNode=rj(l.type,l.pendingProps,he.current),Ds=l,Jr=!0,y=zn,bi(l.type)?(xg=y,zn=Lr(m.firstChild)):zn=y),fs(r,l,l.pendingProps.children,u),ef(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&an&&((y=m=zn)&&(m=tD(m,l.type,l.pendingProps,Jr),m!==null?(l.stateNode=m,Ds=l,zn=Lr(m.firstChild),Jr=!1,y=!0):y=!1),y||co(l)),ze(l),y=l.type,w=l.pendingProps,O=r!==null?r.memoizedProps:null,m=w.children,hg(y,w)?m=null:O!==null&&hg(y,O)&&(l.flags|=32),l.memoizedState!==null&&(y=fp(r,l,bC,null,null,u),cu._currentValue=y),ef(r,l),fs(r,l,m,u),l.child;case 6:return r===null&&an&&((r=u=zn)&&(u=nD(u,l.pendingProps,Jr),u!==null?(l.stateNode=u,Ds=l,zn=null,r=!0):r=!1),r||co(l)),null;case 13:return ew(r,l,u);case 4:return Ce(l,l.stateNode.containerInfo),m=l.pendingProps,r===null?l.child=bl(l,null,m,u):fs(r,l,m,u),l.child;case 11:return Wv(r,l,l.type,l.pendingProps,u);case 7:return fs(r,l,l.pendingProps,u),l.child;case 8:return fs(r,l,l.pendingProps.children,u),l.child;case 12:return fs(r,l,l.pendingProps.children,u),l.child;case 10:return m=l.pendingProps,ri(l,l.type,m.value),fs(r,l,m.children,u),l.child;case 9:return y=l.type._context,m=l.pendingProps.children,fo(l),y=_s(y),m=m(y),l.flags|=1,fs(r,l,m,u),l.child;case 14:return Yv(r,l,l.type,l.pendingProps,u);case 15:return Xv(r,l,l.type,l.pendingProps,u);case 19:return nw(r,l,u);case 31:return m=l.pendingProps,u=l.mode,m={mode:m.mode,children:m.children},r===null?(u=tf(m,u),u.ref=l.ref,l.child=u,u.return=l,l=u):(u=Sa(r.child,m),u.ref=l.ref,l.child=u,u.return=l,l=u),l;case 22:return Gv(r,l,u);case 24:return fo(l),m=_s(Jn),r===null?(y=sp(),y===null&&(y=wn,w=tp(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=u),y=w),l.memoizedState={parent:m,cache:y},ap(l),ri(l,Jn,y)):((r.lanes&u)!==0&&(ip(r,l),$c(l,null,null,u),Fc()),y=r.memoizedState,w=l.memoizedState,y.parent!==m?(y={parent:m,cache:m},l.memoizedState=y,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=y),ri(l,Jn,m)):(m=w.cache,ri(l,Jn,m),m!==y.cache&&ep(l,[Jn],u,!0))),fs(r,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(s(156,l.tag))}function Ra(r){r.flags|=4}function rw(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!fj(l)){if(l=gr.current,l!==null&&((Zt&4194048)===Zt?ea!==null:(Zt&62914560)!==Zt&&(Zt&536870912)===0||l!==ea))throw Uc=rp,$b;r.flags|=8192}}function nf(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?zt():536870912,r.lanes|=l,_l|=l)}function Xc(r,l){if(!an)switch(r.tailMode){case"hidden":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function Cn(r){var l=r.alternate!==null&&r.alternate.child===r.child,u=0,m=0;if(l)for(var y=r.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=m,r.childLanes=u,l}function kC(r,l,u){var m=l.pendingProps;switch(Km(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(l),null;case 1:return Cn(l),null;case 3:return u=l.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Ca(Jn),Ve(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Oc(l)?Ra(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Lb())),Cn(l),null;case 26:return u=l.memoizedState,r===null?(Ra(l),u!==null?(Cn(l),rw(l,u)):(Cn(l),l.flags&=-16777217)):u?u!==r.memoizedState?(Ra(l),Cn(l),rw(l,u)):(Cn(l),l.flags&=-16777217):(r.memoizedProps!==m&&Ra(l),Cn(l),l.flags&=-16777217),null;case 27:tt(l),u=he.current;var y=l.type;if(r!==null&&l.stateNode!=null)r.memoizedProps!==m&&Ra(l);else{if(!m){if(l.stateNode===null)throw Error(s(166));return Cn(l),null}r=ne.current,Oc(l)?Mb(l):(r=rj(y,m,u),l.stateNode=r,Ra(l))}return Cn(l),null;case 5:if(tt(l),u=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==m&&Ra(l);else{if(!m){if(l.stateNode===null)throw Error(s(166));return Cn(l),null}if(r=ne.current,Oc(l))Mb(l);else{switch(y=gf(he.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof m.is=="string"?y.createElement("select",{is:m.is}):y.createElement("select"),m.multiple?r.multiple=!0:m.size&&(r.size=m.size);break;default:r=typeof m.is=="string"?y.createElement(u,{is:m.is}):y.createElement(u)}}r[_e]=l,r[Ae]=m;e:for(y=l.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===l)break e;for(;y.sibling===null;){if(y.return===null||y.return===l)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}l.stateNode=r;e:switch(ms(r,u,m),u){case"button":case"input":case"select":case"textarea":r=!!m.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ra(l)}}return Cn(l),l.flags&=-16777217,null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==m&&Ra(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(s(166));if(r=he.current,Oc(l)){if(r=l.stateNode,u=l.memoizedProps,m=null,y=Ds,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}r[_e]=l,r=!!(r.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||Qw(r.nodeValue,u)),r||co(l)}else r=gf(r).createTextNode(m),r[_e]=l,l.stateNode=r}return Cn(l),null;case 13:if(m=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Oc(l),m!==null&&m.dehydrated!==null){if(r===null){if(!y)throw Error(s(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[_e]=l}else Ac(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Cn(l),y=!1}else y=Lb(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return l.flags&256?(Oa(l),l):(Oa(l),null)}if(Oa(l),(l.flags&128)!==0)return l.lanes=u,l;if(u=m!==null,r=r!==null&&r.memoizedState!==null,u){m=l.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool);var w=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==y&&(m.flags|=2048)}return u!==r&&u&&(l.child.flags|=8192),nf(l,l.updateQueue),Cn(l),null;case 4:return Ve(),r===null&&lg(l.stateNode.containerInfo),Cn(l),null;case 10:return Ca(l.type),Cn(l),null;case 19:if(se(es),y=l.memoizedState,y===null)return Cn(l),null;if(m=(l.flags&128)!==0,w=y.rendering,w===null)if(m)Xc(y,!1);else{if(Un!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(w=Qd(r),w!==null){for(l.flags|=128,Xc(y,!1),r=w.updateQueue,l.updateQueue=r,nf(l,r),l.subtreeFlags=0,r=u,u=l.child;u!==null;)Ab(u,r),u=u.sibling;return V(es,es.current&1|2),l.child}r=r.sibling}y.tail!==null&&Me()>af&&(l.flags|=128,m=!0,Xc(y,!1),l.lanes=4194304)}else{if(!m)if(r=Qd(w),r!==null){if(l.flags|=128,m=!0,r=r.updateQueue,l.updateQueue=r,nf(l,r),Xc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!an)return Cn(l),null}else 2*Me()-y.renderingStartTime>af&&u!==536870912&&(l.flags|=128,m=!0,Xc(y,!1),l.lanes=4194304);y.isBackwards?(w.sibling=l.child,l.child=w):(r=y.last,r!==null?r.sibling=w:l.child=w,y.last=w)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=Me(),l.sibling=null,r=es.current,V(es,m?r&1|2:r&1),l):(Cn(l),null);case 22:case 23:return Oa(l),up(),m=l.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(u&536870912)!==0&&(l.flags&128)===0&&(Cn(l),l.subtreeFlags&6&&(l.flags|=8192)):Cn(l),u=l.updateQueue,u!==null&&nf(l,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==u&&(l.flags|=2048),r!==null&&se(ho),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Ca(Jn),Cn(l),null;case 25:return null;case 30:return null}throw Error(s(156,l.tag))}function CC(r,l){switch(Km(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return Ca(Jn),Ve(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return tt(l),null;case 13:if(Oa(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(s(340));Ac()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return se(es),null;case 4:return Ve(),null;case 10:return Ca(l.type),null;case 22:case 23:return Oa(l),up(),r!==null&&se(ho),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return Ca(Jn),null;case 25:return null;default:return null}}function aw(r,l){switch(Km(l),l.tag){case 3:Ca(Jn),Ve();break;case 26:case 27:case 5:tt(l);break;case 4:Ve();break;case 13:Oa(l);break;case 19:se(es);break;case 10:Ca(l.type);break;case 22:case 23:Oa(l),up(),r!==null&&se(ho);break;case 24:Ca(Jn)}}function Gc(r,l){try{var u=l.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&r)===r){m=void 0;var w=u.create,O=u.inst;m=w(),O.destroy=m}u=u.next}while(u!==y)}}catch(B){bn(l,l.return,B)}}function di(r,l,u){try{var m=l.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var w=y.next;m=w;do{if((m.tag&r)===r){var O=m.inst,B=O.destroy;if(B!==void 0){O.destroy=void 0,y=l;var J=u,ye=B;try{ye()}catch(Te){bn(y,J,Te)}}}m=m.next}while(m!==w)}}catch(Te){bn(l,l.return,Te)}}function iw(r){var l=r.updateQueue;if(l!==null){var u=r.stateNode;try{Yb(l,u)}catch(m){bn(r,r.return,m)}}}function ow(r,l,u){u.props=po(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(m){bn(r,l,m)}}function Kc(r,l){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof u=="function"?r.refCleanup=u(m):u.current=m}}catch(y){bn(r,l,y)}}function ta(r,l){var u=r.ref,m=r.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(y){bn(r,l,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){bn(r,l,y)}else u.current=null}function lw(r){var l=r.type,u=r.memoizedProps,m=r.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(y){bn(r,r.return,y)}}function Up(r,l,u){try{var m=r.stateNode;KC(m,r.type,u,l),m[Ae]=l}catch(y){bn(r,r.return,y)}}function cw(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&bi(r.type)||r.tag===4}function Bp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||cw(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&bi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Fp(r,l,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(r),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=pf));else if(m!==4&&(m===27&&bi(r.type)&&(u=r.stateNode,l=null),r=r.child,r!==null))for(Fp(r,l,u),r=r.sibling;r!==null;)Fp(r,l,u),r=r.sibling}function sf(r,l,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,l?u.insertBefore(r,l):u.appendChild(r);else if(m!==4&&(m===27&&bi(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(sf(r,l,u),r=r.sibling;r!==null;)sf(r,l,u),r=r.sibling}function uw(r){var l=r.stateNode,u=r.memoizedProps;try{for(var m=r.type,y=l.attributes;y.length;)l.removeAttributeNode(y[0]);ms(l,m,u),l[_e]=r,l[Ae]=u}catch(w){bn(r,r.return,w)}}var Ma=!1,Fn=!1,$p=!1,dw=typeof WeakSet=="function"?WeakSet:Set,ls=null;function DC(r,l){if(r=r.containerInfo,dg=jf,r=jb(r),Bm(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{u.nodeType,w.nodeType}catch(bt){u=null;break e}var O=0,B=-1,J=-1,ye=0,Te=0,De=r,we=null;t:for(;;){for(var je;De!==u||y!==0&&De.nodeType!==3||(B=O+y),De!==w||m!==0&&De.nodeType!==3||(J=O+m),De.nodeType===3&&(O+=De.nodeValue.length),(je=De.firstChild)!==null;)we=De,De=je;for(;;){if(De===r)break t;if(we===u&&++ye===y&&(B=O),we===w&&++Te===m&&(J=O),(je=De.nextSibling)!==null)break;De=we,we=De.parentNode}De=je}u=B===-1||J===-1?null:{start:B,end:J}}else u=null}u=u||{start:0,end:0}}else u=null;for(fg={focusedElem:r,selectionRange:u},jf=!1,ls=l;ls!==null;)if(l=ls,r=l.child,(l.subtreeFlags&1024)!==0&&r!==null)r.return=l,ls=r;else for(;ls!==null;){switch(l=ls,w=l.alternate,r=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,u=l,y=w.memoizedProps,w=w.memoizedState,m=u.stateNode;try{var _t=po(u.type,y,u.elementType===u.type);r=m.getSnapshotBeforeUpdate(_t,w),m.__reactInternalSnapshotBeforeUpdate=r}catch(bt){bn(u,u.return,bt)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,u=r.nodeType,u===9)pg(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":pg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=l.sibling,r!==null){r.return=l.return,ls=r;break}ls=l.return}}function fw(r,l,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:fi(r,u),m&4&&Gc(5,u);break;case 1:if(fi(r,u),m&4)if(r=u.stateNode,l===null)try{r.componentDidMount()}catch(O){bn(u,u.return,O)}else{var y=po(u.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(y,l,r.__reactInternalSnapshotBeforeUpdate)}catch(O){bn(u,u.return,O)}}m&64&&iw(u),m&512&&Kc(u,u.return);break;case 3:if(fi(r,u),m&64&&(r=u.updateQueue,r!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{Yb(r,l)}catch(O){bn(u,u.return,O)}}break;case 27:l===null&&m&4&&uw(u);case 26:case 5:fi(r,u),l===null&&m&4&&lw(u),m&512&&Kc(u,u.return);break;case 12:fi(r,u);break;case 13:fi(r,u),m&4&&pw(r,u),m&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=BC.bind(null,u),sD(r,u))));break;case 22:if(m=u.memoizedState!==null||Ma,!m){l=l!==null&&l.memoizedState!==null||Fn,y=Ma;var w=Fn;Ma=m,(Fn=l)&&!w?hi(r,u,(u.subtreeFlags&8772)!==0):fi(r,u),Ma=y,Fn=w}break;case 30:break;default:fi(r,u)}}function hw(r){var l=r.alternate;l!==null&&(r.alternate=null,hw(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&St(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Tn=null,Bs=!1;function Pa(r,l,u){for(u=u.child;u!==null;)mw(r,l,u),u=u.sibling}function mw(r,l,u){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(He,u)}catch(w){}switch(u.tag){case 26:Fn||ta(u,l),Pa(r,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Fn||ta(u,l);var m=Tn,y=Bs;bi(u.type)&&(Tn=u.stateNode,Bs=!1),Pa(r,l,u),au(u.stateNode),Tn=m,Bs=y;break;case 5:Fn||ta(u,l);case 6:if(m=Tn,y=Bs,Tn=null,Pa(r,l,u),Tn=m,Bs=y,Tn!==null)if(Bs)try{(Tn.nodeType===9?Tn.body:Tn.nodeName==="HTML"?Tn.ownerDocument.body:Tn).removeChild(u.stateNode)}catch(w){bn(u,l,w)}else try{Tn.removeChild(u.stateNode)}catch(w){bn(u,l,w)}break;case 18:Tn!==null&&(Bs?(r=Tn,nj(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),hu(r)):nj(Tn,u.stateNode));break;case 4:m=Tn,y=Bs,Tn=u.stateNode.containerInfo,Bs=!0,Pa(r,l,u),Tn=m,Bs=y;break;case 0:case 11:case 14:case 15:Fn||di(2,u,l),Fn||di(4,u,l),Pa(r,l,u);break;case 1:Fn||(ta(u,l),m=u.stateNode,typeof m.componentWillUnmount=="function"&&ow(u,l,m)),Pa(r,l,u);break;case 21:Pa(r,l,u);break;case 22:Fn=(m=Fn)||u.memoizedState!==null,Pa(r,l,u),Fn=m;break;default:Pa(r,l,u)}}function pw(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{hu(r)}catch(u){bn(l,l.return,u)}}function OC(r){switch(r.tag){case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new dw),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new dw),l;default:throw Error(s(435,r.tag))}}function Hp(r,l){var u=OC(r);l.forEach(function(m){var y=FC.bind(null,r,m);u.has(m)||(u.add(m),m.then(y,y))})}function Zs(r,l){var u=l.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m],w=r,O=l,B=O;e:for(;B!==null;){switch(B.tag){case 27:if(bi(B.type)){Tn=B.stateNode,Bs=!1;break e}break;case 5:Tn=B.stateNode,Bs=!1;break e;case 3:case 4:Tn=B.stateNode.containerInfo,Bs=!0;break e}B=B.return}if(Tn===null)throw Error(s(160));mw(w,O,y),Tn=null,Bs=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)gw(l,r),l=l.sibling}var Pr=null;function gw(r,l){var u=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Zs(l,r),Js(r),m&4&&(di(3,r,r.return),Gc(3,r),di(5,r,r.return));break;case 1:Zs(l,r),Js(r),m&512&&(Fn||u===null||ta(u,u.return)),m&64&&Ma&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var y=Pr;if(Zs(l,r),Js(r),m&512&&(Fn||u===null||ta(u,u.return)),m&4){var w=u!==null?u.memoizedState:null;if(m=r.memoizedState,u===null)if(m===null)if(r.stateNode===null){e:{m=r.type,u=r.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":w=y.getElementsByTagName("title")[0],(!w||w[ut]||w[_e]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(m),y.head.insertBefore(w,y.querySelector("head > title"))),ms(w,m,u),w[_e]=r,dt(w),m=w;break e;case"link":var O=uj("link","href",y).get(m+(u.href||""));if(O){for(var B=0;B<O.length;B++)if(w=O[B],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(B,1);break t}}w=y.createElement(m),ms(w,m,u),y.head.appendChild(w);break;case"meta":if(O=uj("meta","content",y).get(m+(u.content||""))){for(B=0;B<O.length;B++)if(w=O[B],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(B,1);break t}}w=y.createElement(m),ms(w,m,u),y.head.appendChild(w);break;default:throw Error(s(468,m))}w[_e]=r,dt(w),m=w}r.stateNode=m}else dj(y,r.type,r.stateNode);else r.stateNode=cj(y,m,r.memoizedProps);else w!==m?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,m===null?dj(y,r.type,r.stateNode):cj(y,m,r.memoizedProps)):m===null&&r.stateNode!==null&&Up(r,r.memoizedProps,u.memoizedProps)}break;case 27:Zs(l,r),Js(r),m&512&&(Fn||u===null||ta(u,u.return)),u!==null&&m&4&&Up(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Zs(l,r),Js(r),m&512&&(Fn||u===null||ta(u,u.return)),r.flags&32){y=r.stateNode;try{Za(y,"")}catch(je){bn(r,r.return,je)}}m&4&&r.stateNode!=null&&(y=r.memoizedProps,Up(r,y,u!==null?u.memoizedProps:y)),m&1024&&($p=!0);break;case 6:if(Zs(l,r),Js(r),m&4){if(r.stateNode===null)throw Error(s(162));m=r.memoizedProps,u=r.stateNode;try{u.nodeValue=m}catch(je){bn(r,r.return,je)}}break;case 3:if(bf=null,y=Pr,Pr=xf(l.containerInfo),Zs(l,r),Pr=y,Js(r),m&4&&u!==null&&u.memoizedState.isDehydrated)try{hu(l.containerInfo)}catch(je){bn(r,r.return,je)}$p&&($p=!1,xw(r));break;case 4:m=Pr,Pr=xf(r.stateNode.containerInfo),Zs(l,r),Js(r),Pr=m;break;case 12:Zs(l,r),Js(r);break;case 13:Zs(l,r),Js(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Xp=Me()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Hp(r,m)));break;case 22:y=r.memoizedState!==null;var J=u!==null&&u.memoizedState!==null,ye=Ma,Te=Fn;if(Ma=ye||y,Fn=Te||J,Zs(l,r),Fn=Te,Ma=ye,Js(r),m&8192)e:for(l=r.stateNode,l._visibility=y?l._visibility&-2:l._visibility|1,y&&(u===null||J||Ma||Fn||go(r)),u=null,l=r;;){if(l.tag===5||l.tag===26){if(u===null){J=u=l;try{if(w=J.stateNode,y)O=w.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{B=J.stateNode;var De=J.memoizedProps.style,we=De!=null&&De.hasOwnProperty("display")?De.display:null;B.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(je){bn(J,J.return,je)}}}else if(l.tag===6){if(u===null){J=l;try{J.stateNode.nodeValue=y?"":J.memoizedProps}catch(je){bn(J,J.return,je)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=r.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Hp(r,u))));break;case 19:Zs(l,r),Js(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Hp(r,m)));break;case 30:break;case 21:break;default:Zs(l,r),Js(r)}}function Js(r){var l=r.flags;if(l&2){try{for(var u,m=r.return;m!==null;){if(cw(m)){u=m;break}m=m.return}if(u==null)throw Error(s(160));switch(u.tag){case 27:var y=u.stateNode,w=Bp(r);sf(r,w,y);break;case 5:var O=u.stateNode;u.flags&32&&(Za(O,""),u.flags&=-33);var B=Bp(r);sf(r,B,O);break;case 3:case 4:var J=u.stateNode.containerInfo,ye=Bp(r);Fp(r,ye,J);break;default:throw Error(s(161))}}catch(Te){bn(r,r.return,Te)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function xw(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;xw(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function fi(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)fw(r,l.alternate,l),l=l.sibling}function go(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:di(4,l,l.return),go(l);break;case 1:ta(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&ow(l,l.return,u),go(l);break;case 27:au(l.stateNode);case 26:case 5:ta(l,l.return),go(l);break;case 22:l.memoizedState===null&&go(l);break;case 30:go(l);break;default:go(l)}r=r.sibling}}function hi(r,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,y=r,w=l,O=w.flags;switch(w.tag){case 0:case 11:case 15:hi(y,w,u),Gc(4,w);break;case 1:if(hi(y,w,u),m=w,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ye){bn(m,m.return,ye)}if(m=w,y=m.updateQueue,y!==null){var B=m.stateNode;try{var J=y.shared.hiddenCallbacks;if(J!==null)for(y.shared.hiddenCallbacks=null,y=0;y<J.length;y++)Wb(J[y],B)}catch(ye){bn(m,m.return,ye)}}u&&O&64&&iw(w),Kc(w,w.return);break;case 27:uw(w);case 26:case 5:hi(y,w,u),u&&m===null&&O&4&&lw(w),Kc(w,w.return);break;case 12:hi(y,w,u);break;case 13:hi(y,w,u),u&&O&4&&pw(y,w);break;case 22:w.memoizedState===null&&hi(y,w,u),Kc(w,w.return);break;case 30:break;default:hi(y,w,u)}l=l.sibling}}function Vp(r,l){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Pc(u))}function Ip(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Pc(r))}function na(r,l,u,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)yw(r,l,u,m),l=l.sibling}function yw(r,l,u,m){var y=l.flags;switch(l.tag){case 0:case 11:case 15:na(r,l,u,m),y&2048&&Gc(9,l);break;case 1:na(r,l,u,m);break;case 3:na(r,l,u,m),y&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Pc(r)));break;case 12:if(y&2048){na(r,l,u,m),r=l.stateNode;try{var w=l.memoizedProps,O=w.id,B=w.onPostCommit;typeof B=="function"&&B(O,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(J){bn(l,l.return,J)}}else na(r,l,u,m);break;case 13:na(r,l,u,m);break;case 23:break;case 22:w=l.stateNode,O=l.alternate,l.memoizedState!==null?w._visibility&2?na(r,l,u,m):Qc(r,l):w._visibility&2?na(r,l,u,m):(w._visibility|=2,vl(r,l,u,m,(l.subtreeFlags&10256)!==0)),y&2048&&Vp(O,l);break;case 24:na(r,l,u,m),y&2048&&Ip(l.alternate,l);break;default:na(r,l,u,m)}}function vl(r,l,u,m,y){for(y=y&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=r,O=l,B=u,J=m,ye=O.flags;switch(O.tag){case 0:case 11:case 15:vl(w,O,B,J,y),Gc(8,O);break;case 23:break;case 22:var Te=O.stateNode;O.memoizedState!==null?Te._visibility&2?vl(w,O,B,J,y):Qc(w,O):(Te._visibility|=2,vl(w,O,B,J,y)),y&&ye&2048&&Vp(O.alternate,O);break;case 24:vl(w,O,B,J,y),y&&ye&2048&&Ip(O.alternate,O);break;default:vl(w,O,B,J,y)}l=l.sibling}}function Qc(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=r,m=l,y=m.flags;switch(m.tag){case 22:Qc(u,m),y&2048&&Vp(m.alternate,m);break;case 24:Qc(u,m),y&2048&&Ip(m.alternate,m);break;default:Qc(u,m)}l=l.sibling}}var Zc=8192;function wl(r){if(r.subtreeFlags&Zc)for(r=r.child;r!==null;)bw(r),r=r.sibling}function bw(r){switch(r.tag){case 26:wl(r),r.flags&Zc&&r.memoizedState!==null&&gD(Pr,r.memoizedState,r.memoizedProps);break;case 5:wl(r);break;case 3:case 4:var l=Pr;Pr=xf(r.stateNode.containerInfo),wl(r),Pr=l;break;case 22:r.memoizedState===null&&(l=r.alternate,l!==null&&l.memoizedState!==null?(l=Zc,Zc=16777216,wl(r),Zc=l):wl(r));break;default:wl(r)}}function vw(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function Jc(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];ls=m,jw(m,r)}vw(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ww(r),r=r.sibling}function ww(r){switch(r.tag){case 0:case 11:case 15:Jc(r),r.flags&2048&&di(9,r,r.return);break;case 3:Jc(r);break;case 12:Jc(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,rf(r)):Jc(r);break;default:Jc(r)}}function rf(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];ls=m,jw(m,r)}vw(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:di(8,l,l.return),rf(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,rf(l));break;default:rf(l)}r=r.sibling}}function jw(r,l){for(;ls!==null;){var u=ls;switch(u.tag){case 0:case 11:case 15:di(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Pc(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,ls=m;else e:for(u=r;ls!==null;){m=ls;var y=m.sibling,w=m.return;if(hw(m),m===u){ls=null;break e}if(y!==null){y.return=w,ls=y;break e}ls=w}}}var AC={getCacheForType:function(r){var l=_s(Jn),u=l.data.get(r);return u===void 0&&(u=r(),l.data.set(r,u)),u}},RC=typeof WeakMap=="function"?WeakMap:Map,ln=0,wn=null,It=null,Zt=0,cn=0,er=null,mi=!1,jl=!1,qp=!1,La=0,Un=0,pi=0,xo=0,Wp=0,xr=0,_l=0,eu=null,Fs=null,Yp=!1,Xp=0,af=1/0,of=null,gi=null,hs=0,xi=null,Nl=null,Sl=0,Gp=0,Kp=null,_w=null,tu=0,Qp=null;function tr(){if((ln&2)!==0&&Zt!==0)return Zt&-Zt;if(F.T!==null){var r=fl;return r!==0?r:rg()}return te()}function Nw(){xr===0&&(xr=(Zt&536870912)===0||an?Qe():536870912);var r=gr.current;return r!==null&&(r.flags|=32),xr}function nr(r,l,u){(r===wn&&(cn===2||cn===9)||r.cancelPendingCommit!==null)&&(Tl(r,0),yi(r,Zt,xr,!1)),kt(r,u),((ln&2)===0||r!==wn)&&(r===wn&&((ln&2)===0&&(xo|=u),Un===4&&yi(r,Zt,xr,!1)),sa(r))}function Sw(r,l,u){if((ln&6)!==0)throw Error(s(327));var m=!u&&(l&124)===0&&(l&r.expiredLanes)===0||In(r,l),y=m?LC(r,l):eg(r,l,!0),w=m;do{if(y===0){jl&&!m&&yi(r,l,0,!1);break}else{if(u=r.current.alternate,w&&!MC(u)){y=eg(r,l,!1),w=!1;continue}if(y===2){if(w=l,r.errorRecoveryDisabledLanes&w)var O=0;else O=r.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){l=O;e:{var B=r;y=eu;var J=B.current.memoizedState.isDehydrated;if(J&&(Tl(B,O).flags|=256),O=eg(B,O,!1),O!==2){if(qp&&!J){B.errorRecoveryDisabledLanes|=w,xo|=w,y=4;break e}w=Fs,Fs=y,w!==null&&(Fs===null?Fs=w:Fs.push.apply(Fs,w))}y=O}if(w=!1,y!==2)continue}}if(y===1){Tl(r,0),yi(r,l,0,!0);break}e:{switch(m=r,w=y,w){case 0:case 1:throw Error(s(345));case 4:if((l&4194048)!==l)break;case 6:yi(m,l,xr,!mi);break e;case 2:Fs=null;break;case 3:case 5:break;default:throw Error(s(329))}if((l&62914560)===l&&(y=Xp+300-Me(),10<y)){if(yi(m,l,xr,!mi),on(m,0,!0)!==0)break e;m.timeoutHandle=ej(Tw.bind(null,m,u,Fs,of,Yp,l,xr,xo,_l,mi,w,2,-0,0),y);break e}Tw(m,u,Fs,of,Yp,l,xr,xo,_l,mi,w,0,-0,0)}}break}while(!0);sa(r)}function Tw(r,l,u,m,y,w,O,B,J,ye,Te,De,we,je){if(r.timeoutHandle=-1,De=l.subtreeFlags,(De&8192||(De&16785408)===16785408)&&(lu={stylesheets:null,count:0,unsuspend:pD},bw(l),De=xD(),De!==null)){r.cancelPendingCommit=De(Rw.bind(null,r,l,w,u,m,y,O,B,J,Te,1,we,je)),yi(r,w,O,!ye);return}Rw(r,l,w,u,m,y,O,B,J)}function MC(r){for(var l=r;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var y=u[m],w=y.getSnapshot;y=y.value;try{if(!Ks(w(),y))return!1}catch(O){return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function yi(r,l,u,m){l&=~Wp,l&=~xo,r.suspendedLanes|=l,r.pingedLanes&=~l,m&&(r.warmLanes|=l),m=r.expirationTimes;for(var y=l;0<y;){var w=31-jt(y),O=1<<w;m[w]=-1,y&=~O}u!==0&&Ze(r,u,l)}function lf(){return(ln&6)===0?(nu(0),!1):!0}function Zp(){if(It!==null){if(cn===0)var r=It.return;else r=It,ka=uo=null,pp(r),yl=null,Wc=0,r=It;for(;r!==null;)aw(r.alternate,r),r=r.return;It=null}}function Tl(r,l){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,ZC(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Zp(),wn=r,It=u=Sa(r.current,null),Zt=l,cn=0,er=null,mi=!1,jl=In(r,l),qp=!1,_l=xr=Wp=xo=pi=Un=0,Fs=eu=null,Yp=!1,(l&8)!==0&&(l|=l&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=l;0<m;){var y=31-jt(m),w=1<<y;l|=r[y],m&=~w}return La=l,Cd(),u}function Ew(r,l){Ut=null,F.H=Xd,l===zc||l===Ud?(l=Ib(),cn=3):l===$b?(l=Ib(),cn=4):cn=l===qv?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,er=l,It===null&&(Un=1,Jd(r,fr(l,r.current)))}function kw(){var r=F.H;return F.H=Xd,r===null?Xd:r}function Cw(){var r=F.A;return F.A=AC,r}function Jp(){Un=4,mi||(Zt&4194048)!==Zt&&gr.current!==null||(jl=!0),(pi&134217727)===0&&(xo&134217727)===0||wn===null||yi(wn,Zt,xr,!1)}function eg(r,l,u){var m=ln;ln|=2;var y=kw(),w=Cw();(wn!==r||Zt!==l)&&(of=null,Tl(r,l)),l=!1;var O=Un;e:do try{if(cn!==0&&It!==null){var B=It,J=er;switch(cn){case 8:Zp(),O=6;break e;case 3:case 2:case 9:case 6:gr.current===null&&(l=!0);var ye=cn;if(cn=0,er=null,El(r,B,J,ye),u&&jl){O=0;break e}break;default:ye=cn,cn=0,er=null,El(r,B,J,ye)}}PC(),O=Un;break}catch(Te){Ew(r,Te)}while(!0);return l&&r.shellSuspendCounter++,ka=uo=null,ln=m,F.H=y,F.A=w,It===null&&(wn=null,Zt=0,Cd()),O}function PC(){for(;It!==null;)Dw(It)}function LC(r,l){var u=ln;ln|=2;var m=kw(),y=Cw();wn!==r||Zt!==l?(of=null,af=Me()+500,Tl(r,l)):jl=In(r,l);e:do try{if(cn!==0&&It!==null){l=It;var w=er;t:switch(cn){case 1:cn=0,er=null,El(r,l,w,1);break;case 2:case 9:if(Hb(w)){cn=0,er=null,Ow(l);break}l=function(){cn!==2&&cn!==9||wn!==r||(cn=7),sa(r)},w.then(l,l);break e;case 3:cn=7;break e;case 4:cn=5;break e;case 7:Hb(w)?(cn=0,er=null,Ow(l)):(cn=0,er=null,El(r,l,w,7));break;case 5:var O=null;switch(It.tag){case 26:O=It.memoizedState;case 5:case 27:var B=It;if(!O||fj(O)){cn=0,er=null;var J=B.sibling;if(J!==null)It=J;else{var ye=B.return;ye!==null?(It=ye,cf(ye)):It=null}break t}}cn=0,er=null,El(r,l,w,5);break;case 6:cn=0,er=null,El(r,l,w,6);break;case 8:Zp(),Un=6;break e;default:throw Error(s(462))}}zC();break}catch(Te){Ew(r,Te)}while(!0);return ka=uo=null,F.H=m,F.A=y,ln=u,It!==null?0:(wn=null,Zt=0,Cd(),Un)}function zC(){for(;It!==null&&!gt();)Dw(It)}function Dw(r){var l=sw(r.alternate,r,La);r.memoizedProps=r.pendingProps,l===null?cf(r):It=l}function Ow(r){var l=r,u=l.alternate;switch(l.tag){case 15:case 0:l=Qv(u,l,l.pendingProps,l.type,void 0,Zt);break;case 11:l=Qv(u,l,l.pendingProps,l.type.render,l.ref,Zt);break;case 5:pp(l);default:aw(u,l),l=It=Ab(l,La),l=sw(u,l,La)}r.memoizedProps=r.pendingProps,l===null?cf(r):It=l}function El(r,l,u,m){ka=uo=null,pp(l),yl=null,Wc=0;var y=l.return;try{if(TC(r,y,l,u,Zt)){Un=1,Jd(r,fr(u,r.current)),It=null;return}}catch(w){if(y!==null)throw It=y,w;Un=1,Jd(r,fr(u,r.current)),It=null;return}l.flags&32768?(an||m===1?r=!0:jl||(Zt&536870912)!==0?r=!1:(mi=r=!0,(m===2||m===9||m===3||m===6)&&(m=gr.current,m!==null&&m.tag===13&&(m.flags|=16384))),Aw(l,r)):cf(l)}function cf(r){var l=r;do{if((l.flags&32768)!==0){Aw(l,mi);return}r=l.return;var u=kC(l.alternate,l,La);if(u!==null){It=u;return}if(l=l.sibling,l!==null){It=l;return}It=l=r}while(l!==null);Un===0&&(Un=5)}function Aw(r,l){do{var u=CC(r.alternate,r);if(u!==null){u.flags&=32767,It=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(r=r.sibling,r!==null)){It=r;return}It=r=u}while(r!==null);Un=6,It=null}function Rw(r,l,u,m,y,w,O,B,J){r.cancelPendingCommit=null;do uf();while(hs!==0);if((ln&6)!==0)throw Error(s(327));if(l!==null){if(l===r.current)throw Error(s(177));if(w=l.lanes|l.childLanes,w|=Im,rn(r,u,w,O,B,J),r===wn&&(It=wn=null,Zt=0),Nl=l,xi=r,Sl=u,Gp=w,Kp=y,_w=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,$C(fe,function(){return Uw(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=F.T,F.T=null,y=Z.p,Z.p=2,O=ln,ln|=4;try{DC(r,l,u)}finally{ln=O,Z.p=y,F.T=m}}hs=1,Mw(),Pw(),Lw()}}function Mw(){if(hs===1){hs=0;var r=xi,l=Nl,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=F.T,F.T=null;var m=Z.p;Z.p=2;var y=ln;ln|=4;try{gw(l,r);var w=fg,O=jb(r.containerInfo),B=w.focusedElem,J=w.selectionRange;if(O!==B&&B&&B.ownerDocument&&wb(B.ownerDocument.documentElement,B)){if(J!==null&&Bm(B)){var ye=J.start,Te=J.end;if(Te===void 0&&(Te=ye),"selectionStart"in B)B.selectionStart=ye,B.selectionEnd=Math.min(Te,B.value.length);else{var De=B.ownerDocument||document,we=De&&De.defaultView||window;if(we.getSelection){var je=we.getSelection(),_t=B.textContent.length,bt=Math.min(J.start,_t),gn=J.end===void 0?bt:Math.min(J.end,_t);!je.extend&&bt>gn&&(O=gn,gn=bt,bt=O);var de=vb(B,bt),ae=vb(B,gn);if(de&&ae&&(je.rangeCount!==1||je.anchorNode!==de.node||je.anchorOffset!==de.offset||je.focusNode!==ae.node||je.focusOffset!==ae.offset)){var xe=De.createRange();xe.setStart(de.node,de.offset),je.removeAllRanges(),bt>gn?(je.addRange(xe),je.extend(ae.node,ae.offset)):(xe.setEnd(ae.node,ae.offset),je.addRange(xe))}}}}for(De=[],je=B;je=je.parentNode;)je.nodeType===1&&De.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<De.length;B++){var ke=De[B];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}jf=!!dg,fg=dg=null}finally{ln=y,Z.p=m,F.T=u}}r.current=l,hs=2}}function Pw(){if(hs===2){hs=0;var r=xi,l=Nl,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=F.T,F.T=null;var m=Z.p;Z.p=2;var y=ln;ln|=4;try{fw(r,l.alternate,l)}finally{ln=y,Z.p=m,F.T=u}}hs=3}}function Lw(){if(hs===4||hs===3){hs=0,Je();var r=xi,l=Nl,u=Sl,m=_w;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?hs=5:(hs=0,Nl=xi=null,zw(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(gi=null),Jt(u),l=l.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(He,l,void 0,(l.current.flags&128)===128)}catch(J){}if(m!==null){l=F.T,y=Z.p,Z.p=2,F.T=null;try{for(var w=r.onRecoverableError,O=0;O<m.length;O++){var B=m[O];w(B.value,{componentStack:B.stack})}}finally{F.T=l,Z.p=y}}(Sl&3)!==0&&uf(),sa(r),y=r.pendingLanes,(u&4194090)!==0&&(y&42)!==0?r===Qp?tu++:(tu=0,Qp=r):tu=0,nu(0)}}function zw(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,Pc(l)))}function uf(r){return Mw(),Pw(),Lw(),Uw()}function Uw(){if(hs!==5)return!1;var r=xi,l=Gp;Gp=0;var u=Jt(Sl),m=F.T,y=Z.p;try{Z.p=32>u?32:u,F.T=null,u=Kp,Kp=null;var w=xi,O=Sl;if(hs=0,Nl=xi=null,Sl=0,(ln&6)!==0)throw Error(s(331));var B=ln;if(ln|=4,ww(w.current),yw(w,w.current,O,u),ln=B,nu(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(He,w)}catch(J){}return!0}finally{Z.p=y,F.T=m,zw(r,l)}}function Bw(r,l,u){l=fr(u,l),l=Cp(r.stateNode,l,2),r=oi(r,l,2),r!==null&&(kt(r,2),sa(r))}function bn(r,l,u){if(r.tag===3)Bw(r,r,u);else for(;l!==null;){if(l.tag===3){Bw(l,r,u);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(gi===null||!gi.has(m))){r=fr(u,r),u=Vv(2),m=oi(l,u,2),m!==null&&(Iv(u,m,l,r),kt(m,2),sa(m));break}}l=l.return}}function tg(r,l,u){var m=r.pingCache;if(m===null){m=r.pingCache=new RC;var y=new Set;m.set(l,y)}else y=m.get(l),y===void 0&&(y=new Set,m.set(l,y));y.has(u)||(qp=!0,y.add(u),r=UC.bind(null,r,l,u),l.then(r,r))}function UC(r,l,u){var m=r.pingCache;m!==null&&m.delete(l),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,wn===r&&(Zt&u)===u&&(Un===4||Un===3&&(Zt&62914560)===Zt&&300>Me()-Xp?(ln&2)===0&&Tl(r,0):Wp|=u,_l===Zt&&(_l=0)),sa(r)}function Fw(r,l){l===0&&(l=zt()),r=ll(r,l),r!==null&&(kt(r,l),sa(r))}function BC(r){var l=r.memoizedState,u=0;l!==null&&(u=l.retryLane),Fw(r,u)}function FC(r,l){var u=0;switch(r.tag){case 13:var m=r.stateNode,y=r.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(s(314))}m!==null&&m.delete(l),Fw(r,u)}function $C(r,l){return mt(r,l)}var df=null,kl=null,ng=!1,ff=!1,sg=!1,yo=0;function sa(r){r!==kl&&r.next===null&&(kl===null?df=kl=r:kl=kl.next=r),ff=!0,ng||(ng=!0,VC())}function nu(r,l){if(!sg&&ff){sg=!0;do for(var u=!1,m=df;m!==null;){if(r!==0){var y=m.pendingLanes;if(y===0)var w=0;else{var O=m.suspendedLanes,B=m.pingedLanes;w=(1<<31-jt(42|r)+1)-1,w&=y&~(O&~B),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,Iw(m,w))}else w=Zt,w=on(m,m===wn?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||In(m,w)||(u=!0,Iw(m,w));m=m.next}while(u);sg=!1}}function HC(){$w()}function $w(){ff=ng=!1;var r=0;yo!==0&&(QC()&&(r=yo),yo=0);for(var l=Me(),u=null,m=df;m!==null;){var y=m.next,w=Hw(m,l);w===0?(m.next=null,u===null?df=y:u.next=y,y===null&&(kl=u)):(u=m,(r!==0||(w&3)!==0)&&(ff=!0)),m=y}nu(r)}function Hw(r,l){for(var u=r.suspendedLanes,m=r.pingedLanes,y=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var O=31-jt(w),B=1<<O,J=y[O];J===-1?((B&u)===0||(B&m)!==0)&&(y[O]=rs(B,l)):J<=l&&(r.expiredLanes|=B),w&=~B}if(l=wn,u=Zt,u=on(r,r===l?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,u===0||r===l&&(cn===2||cn===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&Ue(m),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||In(r,u)){if(l=u&-u,l===r.callbackPriority)return l;switch(m!==null&&Ue(m),Jt(u)){case 2:case 8:u=K;break;case 32:u=fe;break;case 268435456:u=Ne;break;default:u=fe}return m=Vw.bind(null,r),u=mt(u,m),r.callbackPriority=l,r.callbackNode=u,l}return m!==null&&m!==null&&Ue(m),r.callbackPriority=2,r.callbackNode=null,2}function Vw(r,l){if(hs!==0&&hs!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(uf()&&r.callbackNode!==u)return null;var m=Zt;return m=on(r,r===wn?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(Sw(r,m,l),Hw(r,Me()),r.callbackNode!=null&&r.callbackNode===u?Vw.bind(null,r):null)}function Iw(r,l){if(uf())return null;Sw(r,l,!0)}function VC(){JC(function(){(ln&6)!==0?mt(ot,HC):$w()})}function rg(){return yo===0&&(yo=Qe()),yo}function qw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Zo(""+r)}function Ww(r,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,r.id&&u.setAttribute("form",r.id),l.parentNode.insertBefore(u,l),r=new FormData(r),u.parentNode.removeChild(u),r}function IC(r,l,u,m,y){if(l==="submit"&&u&&u.stateNode===y){var w=qw((y[Ae]||null).action),O=m.submitter;O&&(l=(l=O[Ae]||null)?qw(l.formAction):O.getAttribute("formAction"),l!==null&&(w=l,O=null));var B=new tl("action","action",null,m,y);r.push({event:B,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(yo!==0){var J=O?Ww(y,O):new FormData(y);Np(u,{pending:!0,data:J,method:y.method,action:w},null,J)}}else typeof w=="function"&&(B.preventDefault(),J=O?Ww(y,O):new FormData(y),Np(u,{pending:!0,data:J,method:y.method,action:w},w,J))},currentTarget:y}]})}}for(var ag=0;ag<Vm.length;ag++){var ig=Vm[ag],qC=ig.toLowerCase(),WC=ig[0].toUpperCase()+ig.slice(1);Mr(qC,"on"+WC)}Mr(Sb,"onAnimationEnd"),Mr(Tb,"onAnimationIteration"),Mr(Eb,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(cC,"onTransitionRun"),Mr(uC,"onTransitionStart"),Mr(dC,"onTransitionCancel"),Mr(kb,"onTransitionEnd"),Mn("onMouseEnter",["mouseout","mouseover"]),Mn("onMouseLeave",["mouseout","mouseover"]),Mn("onPointerEnter",["pointerout","pointerover"]),Mn("onPointerLeave",["pointerout","pointerover"]),Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(su));function Yw(r,l){l=(l&4)!==0;for(var u=0;u<r.length;u++){var m=r[u],y=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var O=m.length-1;0<=O;O--){var B=m[O],J=B.instance,ye=B.currentTarget;if(B=B.listener,J!==w&&y.isPropagationStopped())break e;w=B,y.currentTarget=ye;try{w(y)}catch(Te){Zd(Te)}y.currentTarget=null,w=J}else for(O=0;O<m.length;O++){if(B=m[O],J=B.instance,ye=B.currentTarget,B=B.listener,J!==w&&y.isPropagationStopped())break e;w=B,y.currentTarget=ye;try{w(y)}catch(Te){Zd(Te)}y.currentTarget=null,w=J}}}}function qt(r,l){var u=l[st];u===void 0&&(u=l[st]=new Set);var m=r+"__bubble";u.has(m)||(Xw(l,r,2,!1),u.add(m))}function og(r,l,u){var m=0;l&&(m|=4),Xw(u,r,m,l)}var hf="_reactListening"+Math.random().toString(36).slice(2);function lg(r){if(!r[hf]){r[hf]=!0,Ct.forEach(function(u){u!=="selectionchange"&&(YC.has(u)||og(u,!1,r),og(u,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[hf]||(l[hf]=!0,og("selectionchange",!1,l))}}function Xw(r,l,u,m){switch(yj(l)){case 2:var y=vD;break;case 8:y=wD;break;default:y=jg}u=y.bind(null,l,u,r),y=void 0,!Jo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),m?y!==void 0?r.addEventListener(l,u,{capture:!0,passive:y}):r.addEventListener(l,u,!0):y!==void 0?r.addEventListener(l,u,{passive:y}):r.addEventListener(l,u,!1)}function cg(r,l,u,m,y){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var B=m.stateNode.containerInfo;if(B===y)break;if(O===4)for(O=m.return;O!==null;){var J=O.tag;if((J===3||J===4)&&O.stateNode.containerInfo===y)return;O=O.return}for(;B!==null;){if(O=Rt(B),O===null)return;if(J=O.tag,J===5||J===6||J===26||J===27){m=w=O;continue e}B=B.parentNode}}m=m.return}Sc(function(){var ye=w,Te=Zi(u),De=[];e:{var we=Cb.get(r);if(we!==void 0){var je=tl,_t=r;switch(r){case"keypress":if(ti(u)===0)break e;case"keydown":case"keyup":je=Zr;break;case"focusin":_t="focus",je=pt;break;case"focusout":_t="blur",je=pt;break;case"beforeblur":case"afterblur":je=pt;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=ue;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=be;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=Ed;break;case Sb:case Tb:case Eb:je=Ge;break;case kb:je=Wk;break;case"scroll":case"scrollend":je=Ln;break;case"wheel":je=Xk;break;case"copy":case"cut":case"paste":je=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=nl;break;case"toggle":case"beforetoggle":je=Kk}var bt=(l&4)!==0,gn=!bt&&(r==="scroll"||r==="scrollend"),de=bt?we!==null?we+"Capture":null:we;bt=[];for(var ae=ye,xe;ae!==null;){var ke=ae;if(xe=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||xe===null||de===null||(ke=ei(ae,de),ke!=null&&bt.push(ru(ae,ke,xe))),gn)break;ae=ae.return}0<bt.length&&(we=new je(we,_t,null,u,Te),De.push({event:we,listeners:bt}))}}if((l&7)===0){e:{if(we=r==="mouseover"||r==="pointerover",je=r==="mouseout"||r==="pointerout",we&&u!==_c&&(_t=u.relatedTarget||u.fromElement)&&(Rt(_t)||_t[Ie]))break e;if((je||we)&&(we=Te.window===Te?Te:(we=Te.ownerDocument)?we.defaultView||we.parentWindow:window,je?(_t=u.relatedTarget||u.toElement,je=ye,_t=_t?Rt(_t):null,_t!==null&&(gn=o(_t),bt=_t.tag,_t!==gn||bt!==5&&bt!==27&&bt!==6)&&(_t=null)):(je=null,_t=ye),je!==_t)){if(bt=ue,ke="onMouseLeave",de="onMouseEnter",ae="mouse",(r==="pointerout"||r==="pointerover")&&(bt=nl,ke="onPointerLeave",de="onPointerEnter",ae="pointer"),gn=je==null?we:Rn(je),xe=_t==null?we:Rn(_t),we=new bt(ke,ae+"leave",je,u,Te),we.target=gn,we.relatedTarget=xe,ke=null,Rt(Te)===ye&&(bt=new bt(de,ae+"enter",_t,u,Te),bt.target=xe,bt.relatedTarget=gn,ke=bt),gn=ke,je&&_t)t:{for(bt=je,de=_t,ae=0,xe=bt;xe;xe=Cl(xe))ae++;for(xe=0,ke=de;ke;ke=Cl(ke))xe++;for(;0<ae-xe;)bt=Cl(bt),ae--;for(;0<xe-ae;)de=Cl(de),xe--;for(;ae--;){if(bt===de||de!==null&&bt===de.alternate)break t;bt=Cl(bt),de=Cl(de)}bt=null}else bt=null;je!==null&&Gw(De,we,je,bt,!1),_t!==null&&gn!==null&&Gw(De,gn,_t,bt,!0)}}e:{if(we=ye?Rn(ye):window,je=we.nodeName&&we.nodeName.toLowerCase(),je==="select"||je==="input"&&we.type==="file")var rt=mb;else if(fb(we))if(pb)rt=iC;else{rt=rC;var $t=sC}else je=we.nodeName,!je||je.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?ye&&Qi(ye.elementType)&&(rt=mb):rt=aC;if(rt&&(rt=rt(r,ye))){hb(De,rt,u,Te);break e}$t&&$t(r,we,ye),r==="focusout"&&ye&&we.type==="number"&&ye.memoizedProps.value!=null&&vc(we,"number",we.value)}switch($t=ye?Rn(ye):window,r){case"focusin":(fb($t)||$t.contentEditable==="true")&&(al=$t,Fm=ye,Dc=null);break;case"focusout":Dc=Fm=al=null;break;case"mousedown":$m=!0;break;case"contextmenu":case"mouseup":case"dragend":$m=!1,_b(De,u,Te);break;case"selectionchange":if(lC)break;case"keydown":case"keyup":_b(De,u,Te)}var ft;if(Lm)e:{switch(r){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else rl?ub(r,u)&&(wt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(wt="onCompositionStart");wt&&(ob&&u.locale!=="ko"&&(rl||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&rl&&(ft=to()):(Gs=Te,zs="value"in Gs?Gs.value:Gs.textContent,rl=!0)),$t=mf(ye,wt),0<$t.length&&(wt=new yt(wt,r,null,u,Te),De.push({event:wt,listeners:$t}),ft?wt.data=ft:(ft=db(u),ft!==null&&(wt.data=ft)))),(ft=Zk?Jk(r,u):eC(r,u))&&(wt=mf(ye,"onBeforeInput"),0<wt.length&&($t=new yt("onBeforeInput","beforeinput",null,u,Te),De.push({event:$t,listeners:wt}),$t.data=ft)),IC(De,r,ye,u,Te)}Yw(De,l)})}function ru(r,l,u){return{instance:r,listener:l,currentTarget:u}}function mf(r,l){for(var u=l+"Capture",m=[];r!==null;){var y=r,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=ei(r,u),y!=null&&m.unshift(ru(r,y,w)),y=ei(r,l),y!=null&&m.push(ru(r,y,w))),r.tag===3)return m;r=r.return}return[]}function Cl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Gw(r,l,u,m,y){for(var w=l._reactName,O=[];u!==null&&u!==m;){var B=u,J=B.alternate,ye=B.stateNode;if(B=B.tag,J!==null&&J===m)break;B!==5&&B!==26&&B!==27||ye===null||(J=ye,y?(ye=ei(u,w),ye!=null&&O.unshift(ru(u,ye,J))):y||(ye=ei(u,w),ye!=null&&O.push(ru(u,ye,J)))),u=u.return}O.length!==0&&r.push({event:l,listeners:O})}var XC=/\r\n?/g,GC=/\u0000|\uFFFD/g;function Kw(r){return(typeof r=="string"?r:""+r).replace(XC,`
`).replace(GC,"")}function Qw(r,l){return l=Kw(l),Kw(r)===l}function pf(){}function pn(r,l,u,m,y,w){switch(u){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Za(r,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Za(r,""+m);break;case"className":ur(r,"class",m);break;case"tabIndex":ur(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ur(r,u,m);break;case"style":jc(r,m,w);break;case"data":if(l!=="object"){ur(r,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||u!=="href")){r.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=Zo(""+m),r.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(l!=="input"&&pn(r,l,"name",y.name,y,null),pn(r,l,"formEncType",y.formEncType,y,null),pn(r,l,"formMethod",y.formMethod,y,null),pn(r,l,"formTarget",y.formTarget,y,null)):(pn(r,l,"encType",y.encType,y,null),pn(r,l,"method",y.method,y,null),pn(r,l,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=Zo(""+m),r.setAttribute(u,m);break;case"onClick":m!=null&&(r.onclick=pf);break;case"onScroll":m!=null&&qt("scroll",r);break;case"onScrollEnd":m!=null&&qt("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(u=m.__html,u!=null){if(y.children!=null)throw Error(s(60));r.innerHTML=u}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}u=Zo(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""+m):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":m===!0?r.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,m):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(u,m):r.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(u):r.setAttribute(u,m);break;case"popover":qt("beforetoggle",r),qt("toggle",r),ws(r,"popover",m);break;case"xlinkActuate":Lt(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Lt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Lt(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Lt(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Lt(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Lt(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Lt(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Lt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Lt(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ws(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Qo.get(u)||u,ws(r,u,m))}}function ug(r,l,u,m,y,w){switch(u){case"style":jc(r,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(u=m.__html,u!=null){if(y.children!=null)throw Error(s(60));r.innerHTML=u}}break;case"children":typeof m=="string"?Za(r,m):(typeof m=="number"||typeof m=="bigint")&&Za(r,""+m);break;case"onScroll":m!=null&&qt("scroll",r);break;case"onScrollEnd":m!=null&&qt("scrollend",r);break;case"onClick":m!=null&&(r.onclick=pf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!en.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),l=u.slice(2,y?u.length-7:void 0),w=r[Ae]||null,w=w!=null?w[u]:null,typeof w=="function"&&r.removeEventListener(l,w,y),typeof m=="function")){typeof w!="function"&&w!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(l,m,y);break e}u in r?r[u]=m:m===!0?r.setAttribute(u,""):ws(r,u,m)}}}function ms(r,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",r),qt("load",r);var m=!1,y=!1,w;for(w in u)if(u.hasOwnProperty(w)){var O=u[w];if(O!=null)switch(w){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:pn(r,l,w,O,u,null)}}y&&pn(r,l,"srcSet",u.srcSet,u,null),m&&pn(r,l,"src",u.src,u,null);return;case"input":qt("invalid",r);var B=w=O=y=null,J=null,ye=null;for(m in u)if(u.hasOwnProperty(m)){var Te=u[m];if(Te!=null)switch(m){case"name":y=Te;break;case"type":O=Te;break;case"checked":J=Te;break;case"defaultChecked":ye=Te;break;case"value":w=Te;break;case"defaultValue":B=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(s(137,l));break;default:pn(r,l,m,Te,u,null)}}_d(r,w,B,J,ye,O,y,!1),Xi(r);return;case"select":qt("invalid",r),m=O=w=null;for(y in u)if(u.hasOwnProperty(y)&&(B=u[y],B!=null))switch(y){case"value":w=B;break;case"defaultValue":O=B;break;case"multiple":m=B;default:pn(r,l,y,B,u,null)}l=w,u=O,r.multiple=!!m,l!=null?ja(r,!!m,l,!1):u!=null&&ja(r,!!m,u,!0);return;case"textarea":qt("invalid",r),w=y=m=null;for(O in u)if(u.hasOwnProperty(O)&&(B=u[O],B!=null))switch(O){case"value":m=B;break;case"defaultValue":y=B;break;case"children":w=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(91));break;default:pn(r,l,O,B,u,null)}wc(r,m,y,w),Xi(r);return;case"option":for(J in u)if(u.hasOwnProperty(J)&&(m=u[J],m!=null))switch(J){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:pn(r,l,J,m,u,null)}return;case"dialog":qt("beforetoggle",r),qt("toggle",r),qt("cancel",r),qt("close",r);break;case"iframe":case"object":qt("load",r);break;case"video":case"audio":for(m=0;m<su.length;m++)qt(su[m],r);break;case"image":qt("error",r),qt("load",r);break;case"details":qt("toggle",r);break;case"embed":case"source":case"link":qt("error",r),qt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ye in u)if(u.hasOwnProperty(ye)&&(m=u[ye],m!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:pn(r,l,ye,m,u,null)}return;default:if(Qi(l)){for(Te in u)u.hasOwnProperty(Te)&&(m=u[Te],m!==void 0&&ug(r,l,Te,m,u,void 0));return}}for(B in u)u.hasOwnProperty(B)&&(m=u[B],m!=null&&pn(r,l,B,m,u,null))}function KC(r,l,u,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,O=null,B=null,J=null,ye=null,Te=null;for(je in u){var De=u[je];if(u.hasOwnProperty(je)&&De!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":J=De;default:m.hasOwnProperty(je)||pn(r,l,je,null,m,De)}}for(var we in m){var je=m[we];if(De=u[we],m.hasOwnProperty(we)&&(je!=null||De!=null))switch(we){case"type":w=je;break;case"name":y=je;break;case"checked":ye=je;break;case"defaultChecked":Te=je;break;case"value":O=je;break;case"defaultValue":B=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(s(137,l));break;default:je!==De&&pn(r,l,we,je,m,De)}}bc(r,O,B,J,ye,Te,w,y);return;case"select":je=O=B=we=null;for(w in u)if(J=u[w],u.hasOwnProperty(w)&&J!=null)switch(w){case"value":break;case"multiple":je=J;default:m.hasOwnProperty(w)||pn(r,l,w,null,m,J)}for(y in m)if(w=m[y],J=u[y],m.hasOwnProperty(y)&&(w!=null||J!=null))switch(y){case"value":we=w;break;case"defaultValue":B=w;break;case"multiple":O=w;default:w!==J&&pn(r,l,y,w,m,J)}l=B,u=O,m=je,we!=null?ja(r,!!u,we,!1):!!m!=!!u&&(l!=null?ja(r,!!u,l,!0):ja(r,!!u,u?[]:"",!1));return;case"textarea":je=we=null;for(B in u)if(y=u[B],u.hasOwnProperty(B)&&y!=null&&!m.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:pn(r,l,B,null,m,y)}for(O in m)if(y=m[O],w=u[O],m.hasOwnProperty(O)&&(y!=null||w!=null))switch(O){case"value":we=y;break;case"defaultValue":je=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==w&&pn(r,l,O,y,m,w)}Ki(r,we,je);return;case"option":for(var _t in u)if(we=u[_t],u.hasOwnProperty(_t)&&we!=null&&!m.hasOwnProperty(_t))switch(_t){case"selected":r.selected=!1;break;default:pn(r,l,_t,null,m,we)}for(J in m)if(we=m[J],je=u[J],m.hasOwnProperty(J)&&we!==je&&(we!=null||je!=null))switch(J){case"selected":r.selected=we&&typeof we!="function"&&typeof we!="symbol";break;default:pn(r,l,J,we,m,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in u)we=u[bt],u.hasOwnProperty(bt)&&we!=null&&!m.hasOwnProperty(bt)&&pn(r,l,bt,null,m,we);for(ye in m)if(we=m[ye],je=u[ye],m.hasOwnProperty(ye)&&we!==je&&(we!=null||je!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(s(137,l));break;default:pn(r,l,ye,we,m,je)}return;default:if(Qi(l)){for(var gn in u)we=u[gn],u.hasOwnProperty(gn)&&we!==void 0&&!m.hasOwnProperty(gn)&&ug(r,l,gn,void 0,m,we);for(Te in m)we=m[Te],je=u[Te],!m.hasOwnProperty(Te)||we===je||we===void 0&&je===void 0||ug(r,l,Te,we,m,je);return}}for(var de in u)we=u[de],u.hasOwnProperty(de)&&we!=null&&!m.hasOwnProperty(de)&&pn(r,l,de,null,m,we);for(De in m)we=m[De],je=u[De],!m.hasOwnProperty(De)||we===je||we==null&&je==null||pn(r,l,De,we,m,je)}var dg=null,fg=null;function gf(r){return r.nodeType===9?r:r.ownerDocument}function Zw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jw(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function hg(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var mg=null;function QC(){var r=window.event;return r&&r.type==="popstate"?r===mg?!1:(mg=r,!0):(mg=null,!1)}var ej=typeof setTimeout=="function"?setTimeout:void 0,ZC=typeof clearTimeout=="function"?clearTimeout:void 0,tj=typeof Promise=="function"?Promise:void 0,JC=typeof queueMicrotask=="function"?queueMicrotask:typeof tj!="undefined"?function(r){return tj.resolve(null).then(r).catch(eD)}:ej;function eD(r){setTimeout(function(){throw r})}function bi(r){return r==="head"}function nj(r,l){var u=l,m=0,y=0;do{var w=u.nextSibling;if(r.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(0<m&&8>m){u=m;var O=r.ownerDocument;if(u&1&&au(O.documentElement),u&2&&au(O.body),u&4)for(u=O.head,au(u),O=u.firstChild;O;){var B=O.nextSibling,J=O.nodeName;O[ut]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&O.rel.toLowerCase()==="stylesheet"||u.removeChild(O),O=B}}if(y===0){r.removeChild(w),hu(l);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:m=u.charCodeAt(0)-48;else m=0;u=w}while(u);hu(l)}function pg(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":pg(u),St(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function tD(r,l,u,m){for(;r.nodeType===1;){var y=u;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[ut])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=Lr(r.nextSibling),r===null)break}return null}function nD(r,l,u){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Lr(r.nextSibling),r===null))return null;return r}function gg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function sD(r,l){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")l();else{var m=function(){l(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function Lr(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return r}var xg=null;function sj(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return r;l--}else u==="/$"&&l++}r=r.previousSibling}return null}function rj(r,l,u){switch(l=gf(u),r){case"html":if(r=l.documentElement,!r)throw Error(s(452));return r;case"head":if(r=l.head,!r)throw Error(s(453));return r;case"body":if(r=l.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function au(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);St(r)}var yr=new Map,aj=new Set;function xf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var za=Z.d;Z.d={f:rD,r:aD,D:iD,C:oD,L:lD,m:cD,X:dD,S:uD,M:fD};function rD(){var r=za.f(),l=lf();return r||l}function aD(r){var l=yn(r);l!==null&&l.tag===5&&l.type==="form"?Sv(l):za.r(r)}var Dl=typeof document=="undefined"?null:document;function ij(r,l,u){var m=Dl;if(m&&typeof l=="string"&&l){var y=Ps(l);y='link[rel="'+r+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),aj.has(y)||(aj.add(y),r={rel:r,crossOrigin:u,href:l},m.querySelector(y)===null&&(l=m.createElement("link"),ms(l,"link",r),dt(l),m.head.appendChild(l)))}}function iD(r){za.D(r),ij("dns-prefetch",r,null)}function oD(r,l){za.C(r,l),ij("preconnect",r,l)}function lD(r,l,u){za.L(r,l,u);var m=Dl;if(m&&r&&l){var y='link[rel="preload"][as="'+Ps(l)+'"]';l==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Ps(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Ps(u.imageSizes)+'"]')):y+='[href="'+Ps(r)+'"]';var w=y;switch(l){case"style":w=Ol(r);break;case"script":w=Al(r)}yr.has(w)||(r=p({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:r,as:l},u),yr.set(w,r),m.querySelector(y)!==null||l==="style"&&m.querySelector(iu(w))||l==="script"&&m.querySelector(ou(w))||(l=m.createElement("link"),ms(l,"link",r),dt(l),m.head.appendChild(l)))}}function cD(r,l){za.m(r,l);var u=Dl;if(u&&r){var m=l&&typeof l.as=="string"?l.as:"script",y='link[rel="modulepreload"][as="'+Ps(m)+'"][href="'+Ps(r)+'"]',w=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Al(r)}if(!yr.has(w)&&(r=p({rel:"modulepreload",href:r},l),yr.set(w,r),u.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(ou(w)))return}m=u.createElement("link"),ms(m,"link",r),dt(m),u.head.appendChild(m)}}}function uD(r,l,u){za.S(r,l,u);var m=Dl;if(m&&r){var y=fn(m).hoistableStyles,w=Ol(r);l=l||"default";var O=y.get(w);if(!O){var B={loading:0,preload:null};if(O=m.querySelector(iu(w)))B.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":l},u),(u=yr.get(w))&&yg(r,u);var J=O=m.createElement("link");dt(J),ms(J,"link",r),J._p=new Promise(function(ye,Te){J.onload=ye,J.onerror=Te}),J.addEventListener("load",function(){B.loading|=1}),J.addEventListener("error",function(){B.loading|=2}),B.loading|=4,yf(O,l,m)}O={type:"stylesheet",instance:O,count:1,state:B},y.set(w,O)}}}function dD(r,l){za.X(r,l);var u=Dl;if(u&&r){var m=fn(u).hoistableScripts,y=Al(r),w=m.get(y);w||(w=u.querySelector(ou(y)),w||(r=p({src:r,async:!0},l),(l=yr.get(y))&&bg(r,l),w=u.createElement("script"),dt(w),ms(w,"link",r),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(y,w))}}function fD(r,l){za.M(r,l);var u=Dl;if(u&&r){var m=fn(u).hoistableScripts,y=Al(r),w=m.get(y);w||(w=u.querySelector(ou(y)),w||(r=p({src:r,async:!0,type:"module"},l),(l=yr.get(y))&&bg(r,l),w=u.createElement("script"),dt(w),ms(w,"link",r),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(y,w))}}function oj(r,l,u,m){var y=(y=he.current)?xf(y):null;if(!y)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=Ol(u.href),u=fn(y).hoistableStyles,m=u.get(l),m||(m={type:"style",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Ol(u.href);var w=fn(y).hoistableStyles,O=w.get(r);if(O||(y=y.ownerDocument||y,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,O),(w=y.querySelector(iu(r)))&&!w._p&&(O.instance=w,O.state.loading=5),yr.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},yr.set(r,u),w||hD(y,r,u,O.state))),l&&m===null)throw Error(s(528,""));return O}if(l&&m!==null)throw Error(s(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Al(u),u=fn(y).hoistableScripts,m=u.get(l),m||(m={type:"script",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Ol(r){return'href="'+Ps(r)+'"'}function iu(r){return'link[rel="stylesheet"]['+r+"]"}function lj(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function hD(r,l,u,m){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=r.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),ms(l,"link",u),dt(l),r.head.appendChild(l))}function Al(r){return'[src="'+Ps(r)+'"]'}function ou(r){return"script[async]"+r}function cj(r,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var m=r.querySelector('style[data-href~="'+Ps(u.href)+'"]');if(m)return l.instance=m,dt(m),m;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),dt(m),ms(m,"style",y),yf(m,u.precedence,r),l.instance=m;case"stylesheet":y=Ol(u.href);var w=r.querySelector(iu(y));if(w)return l.state.loading|=4,l.instance=w,dt(w),w;m=lj(u),(y=yr.get(y))&&yg(m,y),w=(r.ownerDocument||r).createElement("link"),dt(w);var O=w;return O._p=new Promise(function(B,J){O.onload=B,O.onerror=J}),ms(w,"link",m),l.state.loading|=4,yf(w,u.precedence,r),l.instance=w;case"script":return w=Al(u.src),(y=r.querySelector(ou(w)))?(l.instance=y,dt(y),y):(m=u,(y=yr.get(w))&&(m=p({},u),bg(m,y)),r=r.ownerDocument||r,y=r.createElement("script"),dt(y),ms(y,"link",m),r.head.appendChild(y),l.instance=y);case"void":return null;default:throw Error(s(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,yf(m,u.precedence,r));return l.instance}function yf(r,l,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,w=y,O=0;O<m.length;O++){var B=m[O];if(B.dataset.precedence===l)w=B;else if(w!==y)break}w?w.parentNode.insertBefore(r,w.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(r,l.firstChild))}function yg(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function bg(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var bf=null;function uj(r,l,u){if(bf===null){var m=new Map,y=bf=new Map;y.set(u,m)}else y=bf,m=y.get(u),m||(m=new Map,y.set(u,m));if(m.has(r))return m;for(m.set(r,null),u=u.getElementsByTagName(r),y=0;y<u.length;y++){var w=u[y];if(!(w[ut]||w[_e]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var O=w.getAttribute(l)||"";O=r+O;var B=m.get(O);B?B.push(w):m.set(O,[w])}}return m}function dj(r,l,u){r=r.ownerDocument||r,r.head.insertBefore(u,l==="title"?r.querySelector("head > title"):null)}function mD(r,l,u){if(u===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return r=l.disabled,typeof l.precedence=="string"&&r==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function fj(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var lu=null;function pD(){}function gD(r,l,u){if(lu===null)throw Error(s(475));var m=lu;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Ol(u.href),w=r.querySelector(iu(y));if(w){r=w._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(m.count++,m=vf.bind(m),r.then(m,m)),l.state.loading|=4,l.instance=w,dt(w);return}w=r.ownerDocument||r,u=lj(u),(y=yr.get(y))&&yg(u,y),w=w.createElement("link"),dt(w);var O=w;O._p=new Promise(function(B,J){O.onload=B,O.onerror=J}),ms(w,"link",u),l.instance=w}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=vf.bind(m),r.addEventListener("load",l),r.addEventListener("error",l))}}function xD(){if(lu===null)throw Error(s(475));var r=lu;return r.stylesheets&&r.count===0&&vg(r,r.stylesheets),0<r.count?function(l){var u=setTimeout(function(){if(r.stylesheets&&vg(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(u)}}:null}function vf(){if(this.count--,this.count===0){if(this.stylesheets)vg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var wf=null;function vg(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,wf=new Map,l.forEach(yD,r),wf=null,vf.call(r))}function yD(r,l){if(!(l.state.loading&4)){var u=wf.get(r);if(u)var m=u.get(null);else{u=new Map,wf.set(r,u);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var O=y[w];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),m=O)}m&&u.set(null,m)}y=l.instance,O=y.getAttribute("data-precedence"),w=u.get(O)||m,w===m&&u.set(null,y),u.set(O,y),this.count++,m=vf.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),w?w.parentNode.insertBefore(y,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),l.state.loading|=4}}var cu={$$typeof:E,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function bD(r,l,u,m,y,w,O,B){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.hiddenUpdates=Vt(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function hj(r,l,u,m,y,w,O,B,J,ye,Te,De){return r=new bD(r,l,u,O,B,J,ye,De),l=1,w===!0&&(l|=24),w=Qs(3,null,null,l),r.current=w,w.stateNode=r,l=tp(),l.refCount++,r.pooledCache=l,l.refCount++,w.memoizedState={element:m,isDehydrated:u,cache:l},ap(w),r}function mj(r){return r?(r=cl,r):cl}function pj(r,l,u,m,y,w){y=mj(y),m.context===null?m.context=y:m.pendingContext=y,m=ii(l),m.payload={element:u},w=w===void 0?null:w,w!==null&&(m.callback=w),u=oi(r,m,l),u!==null&&(nr(u,r,l),Bc(u,r,l))}function gj(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<l?u:l}}function wg(r,l){gj(r,l),(r=r.alternate)&&gj(r,l)}function xj(r){if(r.tag===13){var l=ll(r,67108864);l!==null&&nr(l,r,67108864),wg(r,67108864)}}var jf=!0;function vD(r,l,u,m){var y=F.T;F.T=null;var w=Z.p;try{Z.p=2,jg(r,l,u,m)}finally{Z.p=w,F.T=y}}function wD(r,l,u,m){var y=F.T;F.T=null;var w=Z.p;try{Z.p=8,jg(r,l,u,m)}finally{Z.p=w,F.T=y}}function jg(r,l,u,m){if(jf){var y=_g(m);if(y===null)cg(r,l,m,_f,u),bj(r,m);else if(_D(y,r,l,u,m))m.stopPropagation();else if(bj(r,m),l&4&&-1<jD.indexOf(r)){for(;y!==null;){var w=yn(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var O=Gt(w.pendingLanes);if(O!==0){var B=w;for(B.pendingLanes|=2,B.entangledLanes|=2;O;){var J=1<<31-jt(O);B.entanglements[1]|=J,O&=~J}sa(w),(ln&6)===0&&(af=Me()+500,nu(0))}}break;case 13:B=ll(w,2),B!==null&&nr(B,w,2),lf(),wg(w,2)}if(w=_g(m),w===null&&cg(r,l,m,_f,u),w===y)break;y=w}y!==null&&m.stopPropagation()}else cg(r,l,m,null,u)}}function _g(r){return r=Zi(r),Ng(r)}var _f=null;function Ng(r){if(_f=null,r=Rt(r),r!==null){var l=o(r);if(l===null)r=null;else{var u=l.tag;if(u===13){if(r=c(l),r!==null)return r;r=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return _f=r,null}function yj(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nt()){case ot:return 2;case K:return 8;case fe:case X:return 32;case Ne:return 268435456;default:return 32}default:return 32}}var Sg=!1,vi=null,wi=null,ji=null,uu=new Map,du=new Map,_i=[],jD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bj(r,l){switch(r){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":uu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":du.delete(l.pointerId)}}function fu(r,l,u,m,y,w){return r===null||r.nativeEvent!==w?(r={blockedOn:l,domEventName:u,eventSystemFlags:m,nativeEvent:w,targetContainers:[y]},l!==null&&(l=yn(l),l!==null&&xj(l)),r):(r.eventSystemFlags|=m,l=r.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),r)}function _D(r,l,u,m,y){switch(l){case"focusin":return vi=fu(vi,r,l,u,m,y),!0;case"dragenter":return wi=fu(wi,r,l,u,m,y),!0;case"mouseover":return ji=fu(ji,r,l,u,m,y),!0;case"pointerover":var w=y.pointerId;return uu.set(w,fu(uu.get(w)||null,r,l,u,m,y)),!0;case"gotpointercapture":return w=y.pointerId,du.set(w,fu(du.get(w)||null,r,l,u,m,y)),!0}return!1}function vj(r){var l=Rt(r.target);if(l!==null){var u=o(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){r.blockedOn=l,le(r.priority,function(){if(u.tag===13){var m=tr();m=Kt(m);var y=ll(u,m);y!==null&&nr(y,u,m),wg(u,m)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Nf(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var u=_g(r.nativeEvent);if(u===null){u=r.nativeEvent;var m=new u.constructor(u.type,u);_c=m,u.target.dispatchEvent(m),_c=null}else return l=yn(u),l!==null&&xj(l),r.blockedOn=u,!1;l.shift()}return!0}function wj(r,l,u){Nf(r)&&u.delete(l)}function ND(){Sg=!1,vi!==null&&Nf(vi)&&(vi=null),wi!==null&&Nf(wi)&&(wi=null),ji!==null&&Nf(ji)&&(ji=null),uu.forEach(wj),du.forEach(wj)}function Sf(r,l){r.blockedOn===l&&(r.blockedOn=null,Sg||(Sg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ND)))}var Tf=null;function jj(r){Tf!==r&&(Tf=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Tf===r&&(Tf=null);for(var l=0;l<r.length;l+=3){var u=r[l],m=r[l+1],y=r[l+2];if(typeof m!="function"){if(Ng(m||u)===null)continue;break}var w=yn(u);w!==null&&(r.splice(l,3),l-=3,Np(w,{pending:!0,data:y,method:u.method,action:m},m,y))}}))}function hu(r){function l(J){return Sf(J,r)}vi!==null&&Sf(vi,r),wi!==null&&Sf(wi,r),ji!==null&&Sf(ji,r),uu.forEach(l),du.forEach(l);for(var u=0;u<_i.length;u++){var m=_i[u];m.blockedOn===r&&(m.blockedOn=null)}for(;0<_i.length&&(u=_i[0],u.blockedOn===null);)vj(u),u.blockedOn===null&&_i.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var y=u[m],w=u[m+1],O=y[Ae]||null;if(typeof w=="function")O||jj(u);else if(O){var B=null;if(w&&w.hasAttribute("formAction")){if(y=w,O=w[Ae]||null)B=O.formAction;else if(Ng(y)!==null)continue}else B=O.action;typeof B=="function"?u[m+1]=B:(u.splice(m,3),m-=3),jj(u)}}}function Tg(r){this._internalRoot=r}Ef.prototype.render=Tg.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(s(409));var u=l.current,m=tr();pj(u,m,r,l,null,null)},Ef.prototype.unmount=Tg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;pj(r.current,2,null,r,null,null),lf(),l[Ie]=null}};function Ef(r){this._internalRoot=r}Ef.prototype.unstable_scheduleHydration=function(r){if(r){var l=te();r={blockedOn:null,target:r,priority:l};for(var u=0;u<_i.length&&l!==0&&l<_i[u].priority;u++);_i.splice(u,0,r),u===0&&vj(r)}};var _j=t.version;if(_j!=="19.1.1")throw Error(s(527,_j,"19.1.1"));Z.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=h(l),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var SD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kf.isDisabled&&kf.supportsFiber)try{He=kf.inject(SD),Ye=kf}catch(r){}}return pu.createRoot=function(r,l){if(!a(r))throw Error(s(299));var u=!1,m="",y=Bv,w=Fv,O=$v,B=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(B=l.unstable_transitionCallbacks)),l=hj(r,1,!1,null,null,u,m,y,w,O,B,null),r[Ie]=l.current,lg(r),new Tg(l)},pu.hydrateRoot=function(r,l,u){if(!a(r))throw Error(s(299));var m=!1,y="",w=Bv,O=Fv,B=$v,J=null,ye=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(B=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(J=u.unstable_transitionCallbacks),u.formState!==void 0&&(ye=u.formState)),l=hj(r,1,!0,l,u!=null?u:null,m,y,w,O,B,J,ye),l.context=mj(null),u=l.current,m=tr(),m=Kt(m),y=ii(m),y.callback=null,oi(u,y,m),u=m,l.current.lanes=u,kt(l,u),sa(l),r[Ie]=l.current,lg(r),new Ef(l)},pu.version="19.1.1",pu}var Lj;function FD(){if(Lj)return Ag.exports;Lj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ag.exports=BD(),Ag.exports}var $D=FD();const HD=Ax($D);var VD=Object.defineProperty,ID=(e,t,n)=>t in e?VD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vo=(e,t,n)=>ID(e,typeof t!="symbol"?t+"":t,n),qD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ml={},gu={},zr={},zj;function ZN(){if(zj)return zr;zj=1;var e=zr&&zr.__assign||function(){return e=Object.assign||function(a){for(var o,c=1,d=arguments.length;c<d;c++){o=arguments[c];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},e.apply(this,arguments)},t=zr&&zr.__awaiter||function(a,o,c,d){function h(f){return f instanceof c?f:new c(function(p){p(f)})}return new(c||(c=Promise))(function(f,p){function g(j){try{b(d.next(j))}catch(v){p(v)}}function x(j){try{b(d.throw(j))}catch(v){p(v)}}function b(j){j.done?f(j.value):h(j.value).then(g,x)}b((d=d.apply(a,o||[])).next())})},n=zr&&zr.__generator||function(a,o){var c={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},d,h,f,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(b){return function(j){return x([b,j])}}function x(b){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(c=0)),c;)try{if(d=1,h&&(f=b[0]&2?h.return:b[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,b[1])).done)return f;switch(h=0,f&&(b=[b[0]&2,f.value]),b[0]){case 0:case 1:f=b;break;case 4:return c.label++,{value:b[1],done:!1};case 5:c.label++,h=b[1],b=[0];continue;case 7:b=c.ops.pop(),c.trys.pop();continue;default:if(f=c.trys,!(f=f.length>0&&f[f.length-1])&&(b[0]===6||b[0]===2)){c=0;continue}if(b[0]===3&&(!f||b[1]>f[0]&&b[1]<f[3])){c.label=b[1];break}if(b[0]===6&&c.label<f[1]){c.label=f[1],f=b;break}if(f&&c.label<f[2]){c.label=f[2],c.ops.push(b);break}f[2]&&c.ops.pop(),c.trys.pop();continue}b=o.call(a,c)}catch(j){b=[6,j],h=0}finally{d=f=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(zr,"__esModule",{value:!0}),zr.FrappeCall=void 0;var s=function(){function a(o,c,d,h,f){this.appURL=o,this.axios=c,this.useToken=d!=null?d:!1,this.token=h,this.tokenType=f}return a.prototype.get=function(o,c){return t(this,void 0,void 0,function(){var d;return n(this,function(h){return d=new URLSearchParams,c&&Object.entries(c).forEach(function(f){var p=f[0],g=f[1];if(g!=null){var x=typeof g=="object"?JSON.stringify(g):g;d.set(p,x)}}),[2,this.axios.get("/api/method/".concat(o),{params:d}).then(function(f){return f.data}).catch(function(f){var p,g;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(p=f.response.data.message)!==null&&p!==void 0?p:"There was an error.",exception:(g=f.response.data.exception)!==null&&g!==void 0?g:""})})]})})},a.prototype.post=function(o,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/method/".concat(o),e({},c)).then(function(h){return h.data}).catch(function(h){var f,p;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(f=h.response.data.message)!==null&&f!==void 0?f:"There was an error.",exception:(p=h.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.put=function(o,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.put("/api/method/".concat(o),e({},c)).then(function(h){return h.data}).catch(function(h){var f,p;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(f=h.response.data.message)!==null&&f!==void 0?f:"There was an error.",exception:(p=h.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.delete=function(o,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.delete("/api/method/".concat(o),{params:c}).then(function(h){return h.data}).catch(function(h){var f,p;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(f=h.response.data.message)!==null&&f!==void 0?f:"There was an error.",exception:(p=h.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a}();return zr.FrappeCall=s,zr}var Ur={},Uj;function JN(){if(Uj)return Ur;Uj=1;var e=Ur&&Ur.__assign||function(){return e=Object.assign||function(a){for(var o,c=1,d=arguments.length;c<d;c++){o=arguments[c];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},e.apply(this,arguments)},t=Ur&&Ur.__awaiter||function(a,o,c,d){function h(f){return f instanceof c?f:new c(function(p){p(f)})}return new(c||(c=Promise))(function(f,p){function g(j){try{b(d.next(j))}catch(v){p(v)}}function x(j){try{b(d.throw(j))}catch(v){p(v)}}function b(j){j.done?f(j.value):h(j.value).then(g,x)}b((d=d.apply(a,o||[])).next())})},n=Ur&&Ur.__generator||function(a,o){var c={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},d,h,f,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(b){return function(j){return x([b,j])}}function x(b){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(c=0)),c;)try{if(d=1,h&&(f=b[0]&2?h.return:b[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,b[1])).done)return f;switch(h=0,f&&(b=[b[0]&2,f.value]),b[0]){case 0:case 1:f=b;break;case 4:return c.label++,{value:b[1],done:!1};case 5:c.label++,h=b[1],b=[0];continue;case 7:b=c.ops.pop(),c.trys.pop();continue;default:if(f=c.trys,!(f=f.length>0&&f[f.length-1])&&(b[0]===6||b[0]===2)){c=0;continue}if(b[0]===3&&(!f||b[1]>f[0]&&b[1]<f[3])){c.label=b[1];break}if(b[0]===6&&c.label<f[1]){c.label=f[1],f=b;break}if(f&&c.label<f[2]){c.label=f[2],c.ops.push(b);break}f[2]&&c.ops.pop(),c.trys.pop();continue}b=o.call(a,c)}catch(j){b=[6,j],h=0}finally{d=f=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.FrappeDB=void 0;var s=function(){function a(o,c,d,h,f){this.appURL=o,this.axios=c,this.useToken=d!=null?d:!1,this.token=h,this.tokenType=f}return a.prototype.getDoc=function(o,c){return c===void 0&&(c=""),t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.get("/api/resource/".concat(o,"/").concat(encodeURIComponent(c))).then(function(h){return h.data.data}).catch(function(h){var f,p;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while fetching the document.",exception:(p=(f=h.response.data.exception)!==null&&f!==void 0?f:h.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getDocList=function(o,c){var d;return t(this,void 0,void 0,function(){var h,f,p,g,x,b,j,v,S,N,A;return n(this,function(E){return h={},c&&(f=c.fields,p=c.filters,g=c.orFilters,x=c.orderBy,b=c.limit,j=c.limit_start,v=c.groupBy,S=c.asDict,N=S===void 0?!0:S,A=x?"".concat(String(x==null?void 0:x.field)," ").concat((d=x==null?void 0:x.order)!==null&&d!==void 0?d:"asc"):"",h={fields:f?JSON.stringify(f):void 0,filters:p?JSON.stringify(p):void 0,or_filters:g?JSON.stringify(g):void 0,order_by:A,group_by:v,limit:b,limit_start:j,as_dict:N}),[2,this.axios.get("/api/resource/".concat(o),{params:h}).then(function(T){return T.data.data}).catch(function(T){var D,C;throw e(e({},T.response.data),{httpStatus:T.response.status,httpStatusText:T.response.statusText,message:"There was an error while fetching the documents.",exception:(C=(D=T.response.data.exception)!==null&&D!==void 0?D:T.response.data.exc_type)!==null&&C!==void 0?C:""})})]})})},a.prototype.createDoc=function(o,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/resource/".concat(o),e({},c)).then(function(h){return h.data.data}).catch(function(h){var f,p,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(f=h.response.data.message)!==null&&f!==void 0?f:"There was an error while creating the document.",exception:(g=(p=h.response.data.exception)!==null&&p!==void 0?p:h.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},a.prototype.updateDoc=function(o,c,d){return t(this,void 0,void 0,function(){return n(this,function(h){return[2,this.axios.put("/api/resource/".concat(o,"/").concat(c&&encodeURIComponent(c)),e({},d)).then(function(f){return f.data.data}).catch(function(f){var p,g,x;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(p=f.response.data.message)!==null&&p!==void 0?p:"There was an error while updating the document.",exception:(x=(g=f.response.data.exception)!==null&&g!==void 0?g:f.response.data.exc_type)!==null&&x!==void 0?x:""})})]})})},a.prototype.deleteDoc=function(o,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.delete("/api/resource/".concat(o,"/").concat(c&&encodeURIComponent(c))).then(function(h){return h.data}).catch(function(h){var f,p;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while deleting the document.",exception:(p=(f=h.response.data.exception)!==null&&f!==void 0?f:h.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getCount=function(o,c,d,h){return d===void 0&&(d=!1),h===void 0&&(h=!1),t(this,void 0,void 0,function(){var f;return n(this,function(p){return f={doctype:o,filters:[]},d&&(f.cache=d),h&&(f.debug=h),c&&(f.filters=c?JSON.stringify(c):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:f}).then(function(g){return g.data.message}).catch(function(g){var x,b;throw e(e({},g.response.data),{httpStatus:g.response.status,httpStatusText:g.response.statusText,message:"There was an error while getting the count.",exception:(b=(x=g.response.data.exception)!==null&&x!==void 0?x:g.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.getLastDoc=function(o,c){return t(this,void 0,void 0,function(){var d,h;return n(this,function(f){switch(f.label){case 0:return d={orderBy:{field:"creation",order:"desc"}},c&&(d=e(e({},d),c)),[4,this.getDocList(o,e(e({},d),{limit:1,fields:["name"]}))];case 1:return h=f.sent(),h.length>0?[2,this.getDoc(o,h[0].name)]:[2,{}]}})})},a.prototype.renameDoc=function(o,c,d,h){return h===void 0&&(h=!1),t(this,void 0,void 0,function(){return n(this,function(f){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:o,old_name:c,new_name:d,merge:h}).then(function(p){return p.data}).catch(function(p){var g,x,b;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:(g=p.response.data.message)!==null&&g!==void 0?g:"There was an error while renaming the document.",exception:(b=(x=p.response.data.exception)!==null&&x!==void 0?x:p.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.getValue=function(o,c,d,h,f,p){return h===void 0&&(h=!0),f===void 0&&(f=!1),p===void 0&&(p=null),t(this,void 0,void 0,function(){var g;return n(this,function(x){return g={doctype:o,fieldname:"[]",filters:[],as_dict:h,debug:f,parent:null},c&&(g.fieldname=typeof c=="object"?JSON.stringify(c):c),d&&(g.filters=d?JSON.stringify(d):void 0),p&&(g.parent=p),[2,this.axios.get("/api/method/frappe.client.get_value",{params:g}).then(function(b){return b.data}).catch(function(b){var j,v;throw e(e({},b.response.data),{httpStatus:b.response.status,httpStatusText:b.response.statusText,message:"There was an error while getting the value.",exception:(v=(j=b.response.data.exception)!==null&&j!==void 0?j:b.response.data.exc_type)!==null&&v!==void 0?v:""})})]})})},a.prototype.setValue=function(o,c,d,h){return t(this,void 0,void 0,function(){return n(this,function(f){return d!==null&&typeof d=="object"&&!Array.isArray(d)&&(h=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:o,name:c,fieldname:d,value:h}).then(function(p){return p.data}).catch(function(p){var g,x;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while setting the value.",exception:(x=(g=p.response.data.exception)!==null&&g!==void 0?g:p.response.data.exc_type)!==null&&x!==void 0?x:""})})]})})},a.prototype.getSingleValue=function(o,c){return t(this,void 0,void 0,function(){var d;return n(this,function(h){return d={doctype:o,field:c},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:d}).then(function(f){return f.data}).catch(function(f){var p,g;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(g=(p=f.response.data.exception)!==null&&p!==void 0?p:f.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},a.prototype.submit=function(o){return t(this,void 0,void 0,function(){return n(this,function(c){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:o}).then(function(d){return d.data.message}).catch(function(d){var h,f;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:"There was an error while submitting the document.",exception:(f=(h=d.response.data.exception)!==null&&h!==void 0?h:d.response.data.exc_type)!==null&&f!==void 0?f:""})})]})})},a.prototype.cancel=function(o,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:o,name:c}).then(function(h){return h.data}).catch(function(h){var f,p;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while cancelling the document.",exception:(p=(f=h.response.data.exception)!==null&&f!==void 0?f:h.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a}();return Ur.FrappeDB=s,Ur}var Br={},Ua={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var Lg,Bj;function WD(){if(Bj)return Lg;Bj=1;function e(k,P){return function(){return k.apply(P,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:n}=Object,s=(k=>P=>{const $=t.call(P);return k[$]||(k[$]=$.slice(8,-1).toLowerCase())})(Object.create(null)),a=k=>(k=k.toLowerCase(),P=>s(P)===k),o=k=>P=>typeof P===k,{isArray:c}=Array,d=o("undefined");function h(k){return k!==null&&!d(k)&&k.constructor!==null&&!d(k.constructor)&&x(k.constructor.isBuffer)&&k.constructor.isBuffer(k)}const f=a("ArrayBuffer");function p(k){let P;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?P=ArrayBuffer.isView(k):P=k&&k.buffer&&f(k.buffer),P}const g=o("string"),x=o("function"),b=o("number"),j=k=>k!==null&&typeof k=="object",v=k=>k===!0||k===!1,S=k=>{if(s(k)!=="object")return!1;const P=n(k);return(P===null||P===Object.prototype||Object.getPrototypeOf(P)===null)&&!(Symbol.toStringTag in k)&&!(Symbol.iterator in k)},N=a("Date"),A=a("File"),E=a("Blob"),T=a("FileList"),D=k=>j(k)&&x(k.pipe),C=k=>{let P;return k&&(typeof FormData=="function"&&k instanceof FormData||x(k.append)&&((P=s(k))==="formdata"||P==="object"&&x(k.toString)&&k.toString()==="[object FormData]"))},z=a("URLSearchParams"),[U,R,G,q]=["ReadableStream","Request","Response","Headers"].map(a),Q=k=>k.trim?k.trim():k.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function W(k,P,{allOwnKeys:$=!1}={}){if(k===null||typeof k>"u")return;let I,ue;if(typeof k!="object"&&(k=[k]),c(k))for(I=0,ue=k.length;I<ue;I++)P.call(null,k[I],I,k);else{const me=$?Object.getOwnPropertyNames(k):Object.keys(k),be=me.length;let Fe;for(I=0;I<be;I++)Fe=me[I],P.call(null,k[Fe],Fe,k)}}function Y(k,P){P=P.toLowerCase();const $=Object.keys(k);let I=$.length,ue;for(;I-- >0;)if(ue=$[I],P===ue.toLowerCase())return ue;return null}const H=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:qD,F=k=>!d(k)&&k!==H;function Z(){const{caseless:k}=F(this)&&this||{},P={},$=(I,ue)=>{const me=k&&Y(P,ue)||ue;S(P[me])&&S(I)?P[me]=Z(P[me],I):S(I)?P[me]=Z({},I):c(I)?P[me]=I.slice():P[me]=I};for(let I=0,ue=arguments.length;I<ue;I++)arguments[I]&&W(arguments[I],$);return P}const ee=(k,P,$,{allOwnKeys:I}={})=>(W(P,(ue,me)=>{$&&x(ue)?k[me]=e(ue,$):k[me]=ue},{allOwnKeys:I}),k),ce=k=>(k.charCodeAt(0)===65279&&(k=k.slice(1)),k),M=(k,P,$,I)=>{k.prototype=Object.create(P.prototype,I),k.prototype.constructor=k,Object.defineProperty(k,"super",{value:P.prototype}),$&&Object.assign(k.prototype,$)},ie=(k,P,$,I)=>{let ue,me,be;const Fe={};if(P=P||{},k==null)return P;do{for(ue=Object.getOwnPropertyNames(k),me=ue.length;me-- >0;)be=ue[me],(!I||I(be,k,P))&&!Fe[be]&&(P[be]=k[be],Fe[be]=!0);k=$!==!1&&n(k)}while(k&&(!$||$(k,P))&&k!==Object.prototype);return P},se=(k,P,$)=>{k=String(k),($===void 0||$>k.length)&&($=k.length),$-=P.length;const I=k.indexOf(P,$);return I!==-1&&I===$},V=k=>{if(!k)return null;if(c(k))return k;let P=k.length;if(!b(P))return null;const $=new Array(P);for(;P-- >0;)$[P]=k[P];return $},ne=(k=>P=>k&&P instanceof k)(typeof Uint8Array<"u"&&n(Uint8Array)),ge=(k,P)=>{const $=(k&&k[Symbol.iterator]).call(k);let I;for(;(I=$.next())&&!I.done;){const ue=I.value;P.call(k,ue[0],ue[1])}},he=(k,P)=>{let $;const I=[];for(;($=k.exec(P))!==null;)I.push($);return I},Ee=a("HTMLFormElement"),Ce=k=>k.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(P,$,I){return $.toUpperCase()+I}),Ve=(({hasOwnProperty:k})=>(P,$)=>k.call(P,$))(Object.prototype),ze=a("RegExp"),tt=(k,P)=>{const $=Object.getOwnPropertyDescriptors(k),I={};W($,(ue,me)=>{let be;(be=P(ue,me,k))!==!1&&(I[me]=be||ue)}),Object.defineProperties(k,I)},Ke=k=>{tt(k,(P,$)=>{if(x(k)&&["arguments","caller","callee"].indexOf($)!==-1)return!1;const I=k[$];if(x(I)){if(P.enumerable=!1,"writable"in P){P.writable=!1;return}P.set||(P.set=()=>{throw Error("Can not rewrite read-only method '"+$+"'")})}})},mt=(k,P)=>{const $={},I=ue=>{ue.forEach(me=>{$[me]=!0})};return c(k)?I(k):I(String(k).split(P)),$},Ue=()=>{},gt=(k,P)=>k!=null&&Number.isFinite(k=+k)?k:P;function Je(k){return!!(k&&x(k.append)&&k[Symbol.toStringTag]==="FormData"&&k[Symbol.iterator])}const Me=k=>{const P=new Array(10),$=(I,ue)=>{if(j(I)){if(P.indexOf(I)>=0)return;if(!("toJSON"in I)){P[ue]=I;const me=c(I)?[]:{};return W(I,(be,Fe)=>{const pt=$(be,ue+1);!d(pt)&&(me[Fe]=pt)}),P[ue]=void 0,me}}return I};return $(k,0)},nt=a("AsyncFunction"),ot=k=>k&&(j(k)||x(k))&&x(k.then)&&x(k.catch),K=((k,P)=>k?setImmediate:P?(($,I)=>(H.addEventListener("message",({source:ue,data:me})=>{ue===H&&me===$&&I.length&&I.shift()()},!1),ue=>{I.push(ue),H.postMessage($,"*")}))(`axios@${Math.random()}`,[]):$=>setTimeout($))(typeof setImmediate=="function",x(H.postMessage)),fe=typeof queueMicrotask<"u"?queueMicrotask.bind(H):typeof process<"u"&&process.nextTick||K;var X={isArray:c,isArrayBuffer:f,isBuffer:h,isFormData:C,isArrayBufferView:p,isString:g,isNumber:b,isBoolean:v,isObject:j,isPlainObject:S,isReadableStream:U,isRequest:R,isResponse:G,isHeaders:q,isUndefined:d,isDate:N,isFile:A,isBlob:E,isRegExp:ze,isFunction:x,isStream:D,isURLSearchParams:z,isTypedArray:ne,isFileList:T,forEach:W,merge:Z,extend:ee,trim:Q,stripBOM:ce,inherits:M,toFlatObject:ie,kindOf:s,kindOfTest:a,endsWith:se,toArray:V,forEachEntry:ge,matchAll:he,isHTMLForm:Ee,hasOwnProperty:Ve,hasOwnProp:Ve,reduceDescriptors:tt,freezeMethods:Ke,toObjectSet:mt,toCamelCase:Ce,noop:Ue,toFiniteNumber:gt,findKey:Y,global:H,isContextDefined:F,isSpecCompliantForm:Je,toJSONObject:Me,isAsyncFn:nt,isThenable:ot,setImmediate:K,asap:fe};function Ne(k,P,$,I,ue){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=k,this.name="AxiosError",P&&(this.code=P),$&&(this.config=$),I&&(this.request=I),ue&&(this.response=ue,this.status=ue.status?ue.status:null)}X.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const Le=Ne.prototype,Re={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(k=>{Re[k]={value:k}}),Object.defineProperties(Ne,Re),Object.defineProperty(Le,"isAxiosError",{value:!0}),Ne.from=(k,P,$,I,ue,me)=>{const be=Object.create(Le);return X.toFlatObject(k,be,function(Fe){return Fe!==Error.prototype},Fe=>Fe!=="isAxiosError"),Ne.call(be,k.message,P,$,I,ue),be.cause=k,be.name=k.name,me&&Object.assign(be,me),be};var He=null;function Ye(k){return X.isPlainObject(k)||X.isArray(k)}function et(k){return X.endsWith(k,"[]")?k.slice(0,-2):k}function jt(k,P,$){return k?k.concat(P).map(function(I,ue){return I=et(I),!$&&ue?"["+I+"]":I}).join($?".":""):P}function Se(k){return X.isArray(k)&&!k.some(Ye)}const Pe=X.toFlatObject(X,{},null,function(k){return/^is[A-Z]/.test(k)});function qe(k,P,$){if(!X.isObject(k))throw new TypeError("target must be an object");P=P||new FormData,$=X.toFlatObject($,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Dt,yt){return!X.isUndefined(yt[Dt])});const I=$.metaTokens,ue=$.visitor||$e,me=$.dots,be=$.indexes,Fe=($.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(P);if(!X.isFunction(ue))throw new TypeError("visitor must be a function");function pt(Dt){if(Dt===null)return"";if(X.isDate(Dt))return Dt.toISOString();if(!Fe&&X.isBlob(Dt))throw new Ne("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(Dt)||X.isTypedArray(Dt)?Fe&&typeof Blob=="function"?new Blob([Dt]):Buffer.from(Dt):Dt}function $e(Dt,yt,ct){let is=Dt;if(Dt&&!ct&&typeof Dt=="object"){if(X.endsWith(yt,"{}"))yt=I?yt:yt.slice(0,-2),Dt=JSON.stringify(Dt);else if(X.isArray(Dt)&&Se(Dt)||(X.isFileList(Dt)||X.endsWith(yt,"[]"))&&(is=X.toArray(Dt)))return yt=et(yt),is.forEach(function(qn,kn){!(X.isUndefined(qn)||qn===null)&&P.append(be===!0?jt([yt],kn,me):be===null?yt:yt+"[]",pt(qn))}),!1}return Ye(Dt)?!0:(P.append(jt(ct,yt,me),pt(Dt)),!1)}const Ge=[],vt=Object.assign(Pe,{defaultVisitor:$e,convertValue:pt,isVisitable:Ye});function hn(Dt,yt){if(!X.isUndefined(Dt)){if(Ge.indexOf(Dt)!==-1)throw Error("Circular reference detected in "+yt.join("."));Ge.push(Dt),X.forEach(Dt,function(ct,is){(!(X.isUndefined(ct)||ct===null)&&ue.call(P,ct,X.isString(is)?is.trim():is,yt,vt))===!0&&hn(ct,yt?yt.concat(is):[is])}),Ge.pop()}}if(!X.isObject(k))throw new TypeError("data must be an object");return hn(k),P}function Ft(k){const P={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(k).replace(/[!'()~]|%20|%00/g,function($){return P[$]})}function Xt(k,P){this._pairs=[],k&&qe(k,this,P)}const Gt=Xt.prototype;Gt.append=function(k,P){this._pairs.push([k,P])},Gt.toString=function(k){const P=k?function($){return k.call(this,$,Ft)}:Ft;return this._pairs.map(function($){return P($[0])+"="+P($[1])},"").join("&")};function on(k){return encodeURIComponent(k).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function In(k,P,$){if(!P)return k;const I=$&&$.encode||on;X.isFunction($)&&($={serialize:$});const ue=$&&$.serialize;let me;if(ue?me=ue(P,$):me=X.isURLSearchParams(P)?P.toString():new Xt(P,$).toString(I),me){const be=k.indexOf("#");be!==-1&&(k=k.slice(0,be)),k+=(k.indexOf("?")===-1?"?":"&")+me}return k}class rs{constructor(){this.handlers=[]}use(P,$,I){return this.handlers.push({fulfilled:P,rejected:$,synchronous:I?I.synchronous:!1,runWhen:I?I.runWhen:null}),this.handlers.length-1}eject(P){this.handlers[P]&&(this.handlers[P]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(P){X.forEach(this.handlers,function($){$!==null&&P($)})}}var Qe=rs,zt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vt=typeof URLSearchParams<"u"?URLSearchParams:Xt,kt=typeof FormData<"u"?FormData:null,rn=typeof Blob<"u"?Blob:null,Ze={isBrowser:!0,classes:{URLSearchParams:Vt,FormData:kt,Blob:rn},protocols:["http","https","file","blob","url","data"]};const Tt=typeof window<"u"&&typeof document<"u",Kt=typeof navigator=="object"&&navigator||void 0,Jt=Tt&&(!Kt||["ReactNative","NativeScript","NS"].indexOf(Kt.product)<0),te=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",le=Tt&&window.location.href||"http://localhost";var pe=Object.freeze({__proto__:null,hasBrowserEnv:Tt,hasStandardBrowserWebWorkerEnv:te,hasStandardBrowserEnv:Jt,navigator:Kt,origin:le}),_e=L(L({},pe),Ze);function Ae(k,P){return qe(k,new _e.classes.URLSearchParams,Object.assign({visitor:function($,I,ue,me){return _e.isNode&&X.isBuffer($)?(this.append(I,$.toString("base64")),!1):me.defaultVisitor.apply(this,arguments)}},P))}function Ie(k){return X.matchAll(/\w+|\[(\w*)]/g,k).map(P=>P[0]==="[]"?"":P[1]||P[0])}function st(k){const P={},$=Object.keys(k);let I;const ue=$.length;let me;for(I=0;I<ue;I++)me=$[I],P[me]=k[me];return P}function lt(k){function P($,I,ue,me){let be=$[me++];if(be==="__proto__")return!0;const Fe=Number.isFinite(+be),pt=me>=$.length;return be=!be&&X.isArray(ue)?ue.length:be,pt?(X.hasOwnProp(ue,be)?ue[be]=[ue[be],I]:ue[be]=I,!Fe):((!ue[be]||!X.isObject(ue[be]))&&(ue[be]=[]),P($,I,ue[be],me)&&X.isArray(ue[be])&&(ue[be]=st(ue[be])),!Fe)}if(X.isFormData(k)&&X.isFunction(k.entries)){const $={};return X.forEachEntry(k,(I,ue)=>{P(Ie(I),ue,$,0)}),$}return null}function xt(k,P,$){if(X.isString(k))try{return(P||JSON.parse)(k),X.trim(k)}catch(I){if(I.name!=="SyntaxError")throw I}return($||JSON.stringify)(k)}const Mt={transitional:zt,adapter:["xhr","http","fetch"],transformRequest:[function(k,P){const $=P.getContentType()||"",I=$.indexOf("application/json")>-1,ue=X.isObject(k);if(ue&&X.isHTMLForm(k)&&(k=new FormData(k)),X.isFormData(k))return I?JSON.stringify(lt(k)):k;if(X.isArrayBuffer(k)||X.isBuffer(k)||X.isStream(k)||X.isFile(k)||X.isBlob(k)||X.isReadableStream(k))return k;if(X.isArrayBufferView(k))return k.buffer;if(X.isURLSearchParams(k))return P.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),k.toString();let me;if(ue){if($.indexOf("application/x-www-form-urlencoded")>-1)return Ae(k,this.formSerializer).toString();if((me=X.isFileList(k))||$.indexOf("multipart/form-data")>-1){const be=this.env&&this.env.FormData;return qe(me?{"files[]":k}:k,be&&new be,this.formSerializer)}}return ue||I?(P.setContentType("application/json",!1),xt(k)):k}],transformResponse:[function(k){const P=this.transitional||Mt.transitional,$=P&&P.forcedJSONParsing,I=this.responseType==="json";if(X.isResponse(k)||X.isReadableStream(k))return k;if(k&&X.isString(k)&&($&&!this.responseType||I)){const ue=!(P&&P.silentJSONParsing)&&I;try{return JSON.parse(k)}catch(me){if(ue)throw me.name==="SyntaxError"?Ne.from(me,Ne.ERR_BAD_RESPONSE,this,null,this.response):me}}return k}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_e.classes.FormData,Blob:_e.classes.Blob},validateStatus:function(k){return k>=200&&k<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],k=>{Mt.headers[k]={}});var ut=Mt;const St=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Rt=k=>{const P={};let $,I,ue;return k&&k.split(`
`).forEach(function(me){ue=me.indexOf(":"),$=me.substring(0,ue).trim().toLowerCase(),I=me.substring(ue+1).trim(),!(!$||P[$]&&St[$])&&($==="set-cookie"?P[$]?P[$].push(I):P[$]=[I]:P[$]=P[$]?P[$]+", "+I:I)}),P};const yn=Symbol("internals");function Rn(k){return k&&String(k).trim().toLowerCase()}function fn(k){return k===!1||k==null?k:X.isArray(k)?k.map(fn):String(k)}function dt(k){const P=Object.create(null),$=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let I;for(;I=$.exec(k);)P[I[1]]=I[2];return P}const Ct=k=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(k.trim());function en(k,P,$,I,ue){if(X.isFunction(I))return I.call(this,P,$);if(ue&&(P=$),!!X.isString(P)){if(X.isString(I))return P.indexOf(I)!==-1;if(X.isRegExp(I))return I.test(P)}}function Sn(k){return k.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(P,$,I)=>$.toUpperCase()+I)}function Mn(k,P){const $=X.toCamelCase(" "+P);["get","set","has"].forEach(I=>{Object.defineProperty(k,I+$,{value:function(ue,me,be){return this[I].call(this,P,ue,me,be)},configurable:!0})})}class Zn{constructor(P){P&&this.set(P)}set(P,$,I){const ue=this;function me(Fe,pt,$e){const Ge=Rn(pt);if(!Ge)throw new Error("header name must be a non-empty string");const vt=X.findKey(ue,Ge);(!vt||ue[vt]===void 0||$e===!0||$e===void 0&&ue[vt]!==!1)&&(ue[vt||pt]=fn(Fe))}const be=(Fe,pt)=>X.forEach(Fe,($e,Ge)=>me($e,Ge,pt));if(X.isPlainObject(P)||P instanceof this.constructor)be(P,$);else if(X.isString(P)&&(P=P.trim())&&!Ct(P))be(Rt(P),$);else if(X.isHeaders(P))for(const[Fe,pt]of P.entries())me(pt,Fe,I);else P!=null&&me($,P,I);return this}get(P,$){if(P=Rn(P),P){const I=X.findKey(this,P);if(I){const ue=this[I];if(!$)return ue;if($===!0)return dt(ue);if(X.isFunction($))return $.call(this,ue,I);if(X.isRegExp($))return $.exec(ue);throw new TypeError("parser must be boolean|regexp|function")}}}has(P,$){if(P=Rn(P),P){const I=X.findKey(this,P);return!!(I&&this[I]!==void 0&&(!$||en(this,this[I],I,$)))}return!1}delete(P,$){const I=this;let ue=!1;function me(be){if(be=Rn(be),be){const Fe=X.findKey(I,be);Fe&&(!$||en(I,I[Fe],Fe,$))&&(delete I[Fe],ue=!0)}}return X.isArray(P)?P.forEach(me):me(P),ue}clear(P){const $=Object.keys(this);let I=$.length,ue=!1;for(;I--;){const me=$[I];(!P||en(this,this[me],me,P,!0))&&(delete this[me],ue=!0)}return ue}normalize(P){const $=this,I={};return X.forEach(this,(ue,me)=>{const be=X.findKey(I,me);if(be){$[be]=fn(ue),delete $[me];return}const Fe=P?Sn(me):String(me).trim();Fe!==me&&delete $[me],$[Fe]=fn(ue),I[Fe]=!0}),this}concat(...P){return this.constructor.concat(this,...P)}toJSON(P){const $=Object.create(null);return X.forEach(this,(I,ue)=>{I!=null&&I!==!1&&($[ue]=P&&X.isArray(I)?I.join(", "):I)}),$}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([P,$])=>P+": "+$).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(P){return P instanceof this?P:new this(P)}static concat(P,...$){const I=new this(P);return $.forEach(ue=>I.set(ue)),I}static accessor(P){const $=(this[yn]=this[yn]={accessors:{}}).accessors,I=this.prototype;function ue(me){const be=Rn(me);$[be]||(Mn(I,me),$[be]=!0)}return X.isArray(P)?P.forEach(ue):ue(P),this}}Zn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),X.reduceDescriptors(Zn.prototype,({value:k},P)=>{let $=P[0].toUpperCase()+P.slice(1);return{get:()=>k,set(I){this[$]=I}}}),X.freezeMethods(Zn);var as=Zn;function lr(k,P){const $=this||ut,I=P||$,ue=as.from(I.headers);let me=I.data;return X.forEach(k,function(be){me=be.call($,me,ue.normalize(),P?P.status:void 0)}),ue.normalize(),me}function cr(k){return!!(k&&k.__CANCEL__)}function ws(k,P,$){Ne.call(this,k!=null?k:"canceled",Ne.ERR_CANCELED,P,$),this.name="CanceledError"}X.inherits(ws,Ne,{__CANCEL__:!0});function ur(k,P,$){const I=$.config.validateStatus;!$.status||!I||I($.status)?k($):P(new Ne("Request failed with status code "+$.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor($.status/100)-4],$.config,$.request,$))}function Lt(k){const P=/^([-+\w]{1,25})(:?\/\/|:)/.exec(k);return P&&P[1]||""}function Pn(k,P){k=k||10;const $=new Array(k),I=new Array(k);let ue=0,me=0,be;return P=P!==void 0?P:1e3,function(Fe){const pt=Date.now(),$e=I[me];be||(be=pt),$[ue]=Fe,I[ue]=pt;let Ge=me,vt=0;for(;Ge!==ue;)vt+=$[Ge++],Ge=Ge%k;if(ue=(ue+1)%k,ue===me&&(me=(me+1)%k),pt-be<P)return;const hn=$e&&pt-$e;return hn?Math.round(vt*1e3/hn):void 0}}function wa(k,P){let $=0,I=1e3/P,ue,me;const be=(Fe,pt=Date.now())=>{$=pt,ue=null,me&&(clearTimeout(me),me=null),k.apply(null,Fe)};return[(...Fe)=>{const pt=Date.now(),$e=pt-$;$e>=I?be(Fe,pt):(ue=Fe,me||(me=setTimeout(()=>{me=null,be(ue)},I-$e)))},()=>ue&&be(ue)]}const ds=(k,P,$=3)=>{let I=0;const ue=Pn(50,250);return wa(me=>{const be=me.loaded,Fe=me.lengthComputable?me.total:void 0,pt=be-I,$e=ue(pt),Ge=be<=Fe;I=be;const vt={loaded:be,total:Fe,progress:Fe?be/Fe:void 0,bytes:pt,rate:$e||void 0,estimated:$e&&Fe&&Ge?(Fe-be)/$e:void 0,event:me,lengthComputable:Fe!=null,[P?"download":"upload"]:!0};k(vt)},$)},vn=(k,P)=>{const $=k!=null;return[I=>P[0]({lengthComputable:$,total:k,loaded:I}),P[1]]},Ar=k=>(...P)=>X.asap(()=>k(...P));var Go=_e.hasStandardBrowserEnv?((k,P)=>$=>($=new URL($,_e.origin),k.protocol===$.protocol&&k.host===$.host&&(P||k.port===$.port)))(new URL(_e.origin),_e.navigator&&/(msie|trident)/i.test(_e.navigator.userAgent)):()=>!0,Ko=_e.hasStandardBrowserEnv?{write(k,P,$,I,ue,me){const be=[k+"="+encodeURIComponent(P)];X.isNumber($)&&be.push("expires="+new Date($).toGMTString()),X.isString(I)&&be.push("path="+I),X.isString(ue)&&be.push("domain="+ue),me===!0&&be.push("secure"),document.cookie=be.join("; ")},read(k){const P=document.cookie.match(new RegExp("(^|;\\s*)("+k+")=([^;]*)"));return P?decodeURIComponent(P[3]):null},remove(k){this.write(k,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ms(k){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(k)}function wd(k,P){return P?k.replace(/\/?\/$/,"")+"/"+P.replace(/^\/+/,""):k}function jd(k,P,$){let I=!Ms(P);return k&&I||$==!1?wd(k,P):P}const Xi=k=>k instanceof as?L({},k):k;function Qr(k,P){P=P||{};const $={};function I($e,Ge,vt,hn){return X.isPlainObject($e)&&X.isPlainObject(Ge)?X.merge.call({caseless:hn},$e,Ge):X.isPlainObject(Ge)?X.merge({},Ge):X.isArray(Ge)?Ge.slice():Ge}function ue($e,Ge,vt,hn){if(X.isUndefined(Ge)){if(!X.isUndefined($e))return I(void 0,$e,vt,hn)}else return I($e,Ge,vt,hn)}function me($e,Ge){if(!X.isUndefined(Ge))return I(void 0,Ge)}function be($e,Ge){if(X.isUndefined(Ge)){if(!X.isUndefined($e))return I(void 0,$e)}else return I(void 0,Ge)}function Fe($e,Ge,vt){if(vt in P)return I($e,Ge);if(vt in k)return I(void 0,$e)}const pt={url:me,method:me,data:me,baseURL:be,transformRequest:be,transformResponse:be,paramsSerializer:be,timeout:be,timeoutMessage:be,withCredentials:be,withXSRFToken:be,adapter:be,responseType:be,xsrfCookieName:be,xsrfHeaderName:be,onUploadProgress:be,onDownloadProgress:be,decompress:be,maxContentLength:be,maxBodyLength:be,beforeRedirect:be,transport:be,httpAgent:be,httpsAgent:be,cancelToken:be,socketPath:be,responseEncoding:be,validateStatus:Fe,headers:($e,Ge,vt)=>ue(Xi($e),Xi(Ge),vt,!0)};return X.forEach(Object.keys(Object.assign({},k,P)),function($e){const Ge=pt[$e]||ue,vt=Ge(k[$e],P[$e],$e);X.isUndefined(vt)&&Ge!==Fe||($[$e]=vt)}),$}var Gi=k=>{const P=Qr({},k);let{data:$,withXSRFToken:I,xsrfHeaderName:ue,xsrfCookieName:me,headers:be,auth:Fe}=P;P.headers=be=as.from(be),P.url=In(jd(P.baseURL,P.url),k.params,k.paramsSerializer),Fe&&be.set("Authorization","Basic "+btoa((Fe.username||"")+":"+(Fe.password?unescape(encodeURIComponent(Fe.password)):"")));let pt;if(X.isFormData($)){if(_e.hasStandardBrowserEnv||_e.hasStandardBrowserWebWorkerEnv)be.setContentType(void 0);else if((pt=be.getContentType())!==!1){const[$e,...Ge]=pt?pt.split(";").map(vt=>vt.trim()).filter(Boolean):[];be.setContentType([$e||"multipart/form-data",...Ge].join("; "))}}if(_e.hasStandardBrowserEnv&&(I&&X.isFunction(I)&&(I=I(P)),I||I!==!1&&Go(P.url))){const $e=ue&&me&&Ko.read(me);$e&&be.set(ue,$e)}return P},Mm=typeof XMLHttpRequest<"u"&&function(k){return new Promise(function(P,$){const I=Gi(k);let ue=I.data;const me=as.from(I.headers).normalize();let{responseType:be,onUploadProgress:Fe,onDownloadProgress:pt}=I,$e,Ge,vt,hn,Dt;function yt(){hn&&hn(),Dt&&Dt(),I.cancelToken&&I.cancelToken.unsubscribe($e),I.signal&&I.signal.removeEventListener("abort",$e)}let ct=new XMLHttpRequest;ct.open(I.method.toUpperCase(),I.url,!0),ct.timeout=I.timeout;function is(){if(!ct)return;const kn=as.from("getAllResponseHeaders"in ct&&ct.getAllResponseHeaders()),dr={data:!be||be==="text"||be==="json"?ct.responseText:ct.response,status:ct.status,statusText:ct.statusText,headers:kn,config:k,request:ct};ur(function(no){P(no),yt()},function(no){$(no),yt()},dr),ct=null}"onloadend"in ct?ct.onloadend=is:ct.onreadystatechange=function(){!ct||ct.readyState!==4||ct.status===0&&!(ct.responseURL&&ct.responseURL.indexOf("file:")===0)||setTimeout(is)},ct.onabort=function(){ct&&($(new Ne("Request aborted",Ne.ECONNABORTED,k,ct)),ct=null)},ct.onerror=function(){$(new Ne("Network Error",Ne.ERR_NETWORK,k,ct)),ct=null},ct.ontimeout=function(){let kn=I.timeout?"timeout of "+I.timeout+"ms exceeded":"timeout exceeded";const dr=I.transitional||zt;I.timeoutErrorMessage&&(kn=I.timeoutErrorMessage),$(new Ne(kn,dr.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,k,ct)),ct=null},ue===void 0&&me.setContentType(null),"setRequestHeader"in ct&&X.forEach(me.toJSON(),function(kn,dr){ct.setRequestHeader(dr,kn)}),X.isUndefined(I.withCredentials)||(ct.withCredentials=!!I.withCredentials),be&&be!=="json"&&(ct.responseType=I.responseType),pt&&([vt,Dt]=ds(pt,!0),ct.addEventListener("progress",vt)),Fe&&ct.upload&&([Ge,hn]=ds(Fe),ct.upload.addEventListener("progress",Ge),ct.upload.addEventListener("loadend",hn)),(I.cancelToken||I.signal)&&($e=kn=>{ct&&($(!kn||kn.type?new ws(null,k,ct):kn),ct.abort(),ct=null)},I.cancelToken&&I.cancelToken.subscribe($e),I.signal&&(I.signal.aborted?$e():I.signal.addEventListener("abort",$e)));const qn=Lt(I.url);if(qn&&_e.protocols.indexOf(qn)===-1){$(new Ne("Unsupported protocol "+qn+":",Ne.ERR_BAD_REQUEST,k));return}ct.send(ue||null)})},Ps=(k,P)=>{const{length:$}=k=k?k.filter(Boolean):[];if(P||$){let I=new AbortController,ue;const me=function($e){if(!ue){ue=!0,Fe();const Ge=$e instanceof Error?$e:this.reason;I.abort(Ge instanceof Ne?Ge:new ws(Ge instanceof Error?Ge.message:Ge))}};let be=P&&setTimeout(()=>{be=null,me(new Ne(`timeout ${P} of ms exceeded`,Ne.ETIMEDOUT))},P);const Fe=()=>{k&&(be&&clearTimeout(be),be=null,k.forEach($e=>{$e.unsubscribe?$e.unsubscribe(me):$e.removeEventListener("abort",me)}),k=null)};k.forEach($e=>$e.addEventListener("abort",me));const{signal:pt}=I;return pt.unsubscribe=()=>X.asap(Fe),pt}};const bc=function*(k,P){let $=k.byteLength;if($<P){yield k;return}let I=0,ue;for(;I<$;)ue=I+P,yield k.slice(I,ue),I=ue},_d=function(k,P){return kg(this,null,function*(){try{for(var $=Tj(vc(k)),I,ue,me;I=!(ue=yield new bo($.next())).done;I=!1){const be=ue.value;yield*Cg(bc(be,P))}}catch(ue){me=[ue]}finally{try{I&&(ue=$.return)&&(yield new bo(ue.call($)))}finally{if(me)throw me[0]}}})},vc=function(k){return kg(this,null,function*(){if(k[Symbol.asyncIterator]){yield*Cg(k);return}const P=k.getReader();try{for(;;){const{done:$,value:I}=yield new bo(P.read());if($)break;yield I}}finally{yield new bo(P.cancel())}})},ja=(k,P,$,I)=>{const ue=_d(k,P);let me=0,be,Fe=$e=>{be||(be=!0,I&&I($e))};return new ReadableStream({pull($e){return ve(this,null,function*(){try{const{done:Ge,value:vt}=yield ue.next();if(Ge){Fe(),$e.close();return}let hn=vt.byteLength;if($){let Dt=me+=hn;$(Dt)}$e.enqueue(new Uint8Array(vt))}catch(Ge){throw Fe(Ge),Ge}})},cancel($e){return Fe($e),ue.return()}},{highWaterMark:2})},Ki=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",wc=Ki&&typeof ReadableStream=="function",Za=Ki&&(typeof TextEncoder=="function"?(k=>P=>k.encode(P))(new TextEncoder):k=>ve(null,null,function*(){return new Uint8Array(yield new Response(k).arrayBuffer())})),Nd=(k,...P)=>{try{return!!k(...P)}catch($){return!1}},Sd=wc&&Nd(()=>{let k=!1;const P=new Request(_e.origin,{body:new ReadableStream,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!P}),jc=64*1024,Qi=wc&&Nd(()=>X.isReadableStream(new Response("").body)),Qo={stream:Qi&&(k=>k.body)};Ki&&(k=>{["text","arrayBuffer","blob","formData","stream"].forEach(P=>{!Qo[P]&&(Qo[P]=X.isFunction(k[P])?$=>$[P]():($,I)=>{throw new Ne(`Response type '${P}' is not supported`,Ne.ERR_NOT_SUPPORT,I)})})})(new Response);const Pm=k=>ve(null,null,function*(){if(k==null)return 0;if(X.isBlob(k))return k.size;if(X.isSpecCompliantForm(k))return(yield new Request(_e.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(X.isArrayBufferView(k)||X.isArrayBuffer(k))return k.byteLength;if(X.isURLSearchParams(k)&&(k=k+""),X.isString(k))return(yield Za(k)).byteLength}),Zo=(k,P)=>ve(null,null,function*(){const $=X.toFiniteNumber(k.getContentLength());return $!=null?$:Pm(P)});var _c=Ki&&(k=>ve(null,null,function*(){let{url:P,method:$,data:I,signal:ue,cancelToken:me,timeout:be,onDownloadProgress:Fe,onUploadProgress:pt,responseType:$e,headers:Ge,withCredentials:vt="same-origin",fetchOptions:hn}=Gi(k);$e=$e?($e+"").toLowerCase():"text";let Dt=Ps([ue,me&&me.toAbortSignal()],be),yt;const ct=Dt&&Dt.unsubscribe&&(()=>{Dt.unsubscribe()});let is;try{if(pt&&Sd&&$!=="get"&&$!=="head"&&(is=yield Zo(Ge,I))!==0){let Zr=new Request(P,{method:"POST",body:I,duplex:"half"}),si;if(X.isFormData(I)&&(si=Zr.headers.get("content-type"))&&Ge.setContentType(si),Zr.body){const[nl,sl]=vn(is,ds(Ar(pt)));I=ja(Zr.body,jc,nl,sl)}}X.isString(vt)||(vt=vt?"include":"omit");const qn="credentials"in Request.prototype;yt=new Request(P,oe(L({},hn),{signal:Dt,method:$.toUpperCase(),headers:Ge.normalize().toJSON(),body:I,duplex:"half",credentials:qn?vt:void 0}));let kn=yield fetch(yt);const dr=Qi&&($e==="stream"||$e==="response");if(Qi&&(Fe||dr&&ct)){const Zr={};["status","statusText","headers"].forEach(Ed=>{Zr[Ed]=kn[Ed]});const si=X.toFiniteNumber(kn.headers.get("content-length")),[nl,sl]=Fe&&vn(si,ds(Ar(Fe),!0))||[];kn=new Response(ja(kn.body,jc,nl,()=>{sl&&sl(),ct&&ct()}),Zr)}$e=$e||"text";let no=yield Qo[X.findKey(Qo,$e)||"text"](kn,k);return!dr&&ct&&ct(),yield new Promise((Zr,si)=>{ur(Zr,si,{data:no,headers:as.from(kn.headers),status:kn.status,statusText:kn.statusText,config:k,request:yt})})}catch(qn){throw ct&&ct(),qn&&qn.name==="TypeError"&&/fetch/i.test(qn.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,k,yt),{cause:qn.cause||qn}):Ne.from(qn,qn&&qn.code,k,yt)}}));const Zi={http:He,xhr:Mm,fetch:_c};X.forEach(Zi,(k,P)=>{if(k){try{Object.defineProperty(k,"name",{value:P})}catch($){}Object.defineProperty(k,"adapterName",{value:P})}});const _a=k=>`- ${k}`,Ja=k=>X.isFunction(k)||k===null||k===!1;var Nc={getAdapter:k=>{k=X.isArray(k)?k:[k];const{length:P}=k;let $,I;const ue={};for(let me=0;me<P;me++){$=k[me];let be;if(I=$,!Ja($)&&(I=Zi[(be=String($)).toLowerCase()],I===void 0))throw new Ne(`Unknown adapter '${be}'`);if(I)break;ue[be||"#"+me]=I}if(!I){const me=Object.entries(ue).map(([Fe,pt])=>`adapter ${Fe} `+(pt===!1?"is not supported by the environment":"is not available in the build"));let be=P?me.length>1?`since :
`+me.map(_a).join(`
`):" "+_a(me[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+be,"ERR_NOT_SUPPORT")}return I},adapters:Zi};function Ji(k){if(k.cancelToken&&k.cancelToken.throwIfRequested(),k.signal&&k.signal.aborted)throw new ws(null,k)}function Sc(k){return Ji(k),k.headers=as.from(k.headers),k.data=lr.call(k,k.transformRequest),["post","put","patch"].indexOf(k.method)!==-1&&k.headers.setContentType("application/x-www-form-urlencoded",!1),Nc.getAdapter(k.adapter||ut.adapter)(k).then(function(P){return Ji(k),P.data=lr.call(k,k.transformResponse,P),P.headers=as.from(P.headers),P},function(P){return cr(P)||(Ji(k),P&&P.response&&(P.response.data=lr.call(k,k.transformResponse,P.response),P.response.headers=as.from(P.response.headers))),Promise.reject(P)})}const ei="1.8.2",Ls={};["object","boolean","number","function","string","symbol"].forEach((k,P)=>{Ls[k]=function($){return typeof $===k||"a"+(P<1?"n ":" ")+k}});const Jo={};Ls.transitional=function(k,P,$){function I(ue,me){return"[Axios v"+ei+"] Transitional option '"+ue+"'"+me+($?". "+$:"")}return(ue,me,be)=>{if(k===!1)throw new Ne(I(me," has been removed"+(P?" in "+P:"")),Ne.ERR_DEPRECATED);return P&&!Jo[me]&&(Jo[me]=!0,console.warn(I(me," has been deprecated since v"+P+" and will be removed in the near future"))),k?k(ue,me,be):!0}},Ls.spelling=function(k){return(P,$)=>(console.warn(`${$} is likely a misspelling of ${k}`),!0)};function eo(k,P,$){if(typeof k!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const I=Object.keys(k);let ue=I.length;for(;ue-- >0;){const me=I[ue],be=P[me];if(be){const Fe=k[me],pt=Fe===void 0||be(Fe,me,k);if(pt!==!0)throw new Ne("option "+me+" must be "+pt,Ne.ERR_BAD_OPTION_VALUE);continue}if($!==!0)throw new Ne("Unknown option "+me,Ne.ERR_BAD_OPTION)}}var Gs={assertOptions:eo,validators:Ls};const zs=Gs.validators;class Na{constructor(P){this.defaults=P,this.interceptors={request:new Qe,response:new Qe}}request(P,$){return ve(this,null,function*(){try{return yield this._request(P,$)}catch(I){if(I instanceof Error){let ue={};Error.captureStackTrace?Error.captureStackTrace(ue):ue=new Error;const me=ue.stack?ue.stack.replace(/^.+\n/,""):"";try{I.stack?me&&!String(I.stack).endsWith(me.replace(/^.+\n.+\n/,""))&&(I.stack+=`
`+me):I.stack=me}catch(be){}}throw I}})}_request(P,$){typeof P=="string"?($=$||{},$.url=P):$=P||{},$=Qr(this.defaults,$);const{transitional:I,paramsSerializer:ue,headers:me}=$;I!==void 0&&Gs.assertOptions(I,{silentJSONParsing:zs.transitional(zs.boolean),forcedJSONParsing:zs.transitional(zs.boolean),clarifyTimeoutError:zs.transitional(zs.boolean)},!1),ue!=null&&(X.isFunction(ue)?$.paramsSerializer={serialize:ue}:Gs.assertOptions(ue,{encode:zs.function,serialize:zs.function},!0)),$.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?$.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:$.allowAbsoluteUrls=!0),Gs.assertOptions($,{baseUrl:zs.spelling("baseURL"),withXsrfToken:zs.spelling("withXSRFToken")},!0),$.method=($.method||this.defaults.method||"get").toLowerCase();let be=me&&X.merge(me.common,me[$.method]);me&&X.forEach(["delete","get","head","post","put","patch","common"],yt=>{delete me[yt]}),$.headers=as.concat(be,me);const Fe=[];let pt=!0;this.interceptors.request.forEach(function(yt){typeof yt.runWhen=="function"&&yt.runWhen($)===!1||(pt=pt&&yt.synchronous,Fe.unshift(yt.fulfilled,yt.rejected))});const $e=[];this.interceptors.response.forEach(function(yt){$e.push(yt.fulfilled,yt.rejected)});let Ge,vt=0,hn;if(!pt){const yt=[Sc.bind(this),void 0];for(yt.unshift.apply(yt,Fe),yt.push.apply(yt,$e),hn=yt.length,Ge=Promise.resolve($);vt<hn;)Ge=Ge.then(yt[vt++],yt[vt++]);return Ge}hn=Fe.length;let Dt=$;for(vt=0;vt<hn;){const yt=Fe[vt++],ct=Fe[vt++];try{Dt=yt(Dt)}catch(is){ct.call(this,is);break}}try{Ge=Sc.call(this,Dt)}catch(yt){return Promise.reject(yt)}for(vt=0,hn=$e.length;vt<hn;)Ge=Ge.then($e[vt++],$e[vt++]);return Ge}getUri(P){P=Qr(this.defaults,P);const $=jd(P.baseURL,P.url,P.allowAbsoluteUrls);return In($,P.params,P.paramsSerializer)}}X.forEach(["delete","get","head","options"],function(k){Na.prototype[k]=function(P,$){return this.request(Qr($||{},{method:k,url:P,data:($||{}).data}))}}),X.forEach(["post","put","patch"],function(k){function P($){return function(I,ue,me){return this.request(Qr(me||{},{method:k,headers:$?{"Content-Type":"multipart/form-data"}:{},url:I,data:ue}))}}Na.prototype[k]=P(),Na.prototype[k+"Form"]=P(!0)});var to=Na;class ti{constructor(P){if(typeof P!="function")throw new TypeError("executor must be a function.");let $;this.promise=new Promise(function(ue){$=ue});const I=this;this.promise.then(ue=>{if(!I._listeners)return;let me=I._listeners.length;for(;me-- >0;)I._listeners[me](ue);I._listeners=null}),this.promise.then=ue=>{let me;const be=new Promise(Fe=>{I.subscribe(Fe),me=Fe}).then(ue);return be.cancel=function(){I.unsubscribe(me)},be},P(function(ue,me,be){I.reason||(I.reason=new ws(ue,me,be),$(I.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(P){if(this.reason){P(this.reason);return}this._listeners?this._listeners.push(P):this._listeners=[P]}unsubscribe(P){if(!this._listeners)return;const $=this._listeners.indexOf(P);$!==-1&&this._listeners.splice($,1)}toAbortSignal(){const P=new AbortController,$=I=>{P.abort(I)};return this.subscribe($),P.signal.unsubscribe=()=>this.unsubscribe($),P.signal}static source(){let P;return{token:new ti(function($){P=$}),cancel:P}}}var el=ti;function Td(k){return function(P){return k.apply(null,P)}}function js(k){return X.isObject(k)&&k.isAxiosError===!0}const Rr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Rr).forEach(([k,P])=>{Rr[P]=k});var tl=Rr;function ni(k){const P=new to(k),$=e(to.prototype.request,P);return X.extend($,to.prototype,P,{allOwnKeys:!0}),X.extend($,P,null,{allOwnKeys:!0}),$.create=function(I){return ni(Qr(k,I))},$}const Ln=ni(ut);return Ln.Axios=to,Ln.CanceledError=ws,Ln.CancelToken=el,Ln.isCancel=cr,Ln.VERSION=ei,Ln.toFormData=qe,Ln.AxiosError=Ne,Ln.Cancel=Ln.CanceledError,Ln.all=function(k){return Promise.all(k)},Ln.spread=Td,Ln.isAxiosError=js,Ln.mergeConfig=Qr,Ln.AxiosHeaders=as,Ln.formToJSON=k=>lt(X.isHTMLForm(k)?new FormData(k):k),Ln.getAdapter=Nc.getAdapter,Ln.HttpStatusCode=tl,Ln.default=Ln,Lg=Ln,Lg}var Fj;function e2(){if(Fj)return Ua;Fj=1;var e=Ua&&Ua.__assign||function(){return e=Object.assign||function(a){for(var o,c=1,d=arguments.length;c<d;c++){o=arguments[c];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},e.apply(this,arguments)};Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.getRequestHeaders=Ua.getAxiosClient=void 0;var t=WD();function n(a,o,c,d,h){var f=t.default.create({baseURL:a,headers:s(o,d,c,a,h),withCredentials:!0});return f.interceptors.request.use(function(p){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(p.headers["X-Frappe-CSRF-Token"]=window.csrf_token),o&&d&&c&&(p.headers.Authorization="".concat(d," ").concat(c())),p}),f}Ua.getAxiosClient=n;function s(a,o,c,d,h){a===void 0&&(a=!1);var f={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return a&&o&&c&&(f.Authorization="".concat(o," ").concat(c())),typeof window<"u"&&typeof document<"u"&&(window.location&&(d&&d!==window.location.origin||(f["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(f["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},f),h!=null?h:{})}return Ua.getRequestHeaders=s,Ua}var $j;function t2(){if($j)return Br;$j=1;var e=Br&&Br.__assign||function(){return e=Object.assign||function(o){for(var c,d=1,h=arguments.length;d<h;d++){c=arguments[d];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(o[f]=c[f])}return o},e.apply(this,arguments)},t=Br&&Br.__awaiter||function(o,c,d,h){function f(p){return p instanceof d?p:new d(function(g){g(p)})}return new(d||(d=Promise))(function(p,g){function x(v){try{j(h.next(v))}catch(S){g(S)}}function b(v){try{j(h.throw(v))}catch(S){g(S)}}function j(v){v.done?p(v.value):f(v.value).then(x,b)}j((h=h.apply(o,c||[])).next())})},n=Br&&Br.__generator||function(o,c){var d={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},h,f,p,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(j){return function(v){return b([j,v])}}function b(j){if(h)throw new TypeError("Generator is already executing.");for(;g&&(g=0,j[0]&&(d=0)),d;)try{if(h=1,f&&(p=j[0]&2?f.return:j[0]?f.throw||((p=f.return)&&p.call(f),0):f.next)&&!(p=p.call(f,j[1])).done)return p;switch(f=0,p&&(j=[j[0]&2,p.value]),j[0]){case 0:case 1:p=j;break;case 4:return d.label++,{value:j[1],done:!1};case 5:d.label++,f=j[1],j=[0];continue;case 7:j=d.ops.pop(),d.trys.pop();continue;default:if(p=d.trys,!(p=p.length>0&&p[p.length-1])&&(j[0]===6||j[0]===2)){d=0;continue}if(j[0]===3&&(!p||j[1]>p[0]&&j[1]<p[3])){d.label=j[1];break}if(j[0]===6&&d.label<p[1]){d.label=p[1],p=j;break}if(p&&d.label<p[2]){d.label=p[2],d.ops.push(j);break}p[2]&&d.ops.pop(),d.trys.pop();continue}j=c.call(o,d)}catch(v){j=[6,v],f=0}finally{h=p=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}};Object.defineProperty(Br,"__esModule",{value:!0}),Br.FrappeFileUpload=void 0;var s=e2(),a=function(){function o(c,d,h,f,p,g){this.appURL=c,this.axios=d,this.useToken=h!=null?h:!1,this.token=f,this.tokenType=p,this.customHeaders=g}return o.prototype.uploadFile=function(c,d,h,f){return f===void 0&&(f="upload_file"),t(this,void 0,void 0,function(){var p,g,x,b,j,v,S,N;return n(this,function(A){return p=new FormData,c&&p.append("file",c,c.name),g=d.isPrivate,x=d.folder,b=d.file_url,j=d.doctype,v=d.docname,S=d.fieldname,N=d.otherData,g&&p.append("is_private","1"),x&&p.append("folder",x),b&&p.append("file_url",b),j&&v&&(p.append("doctype",j),p.append("docname",v),S&&p.append("fieldname",S)),N&&Object.keys(N).forEach(function(E){var T=N[E];p.append(E,T)}),[2,this.axios.post("/api/method/".concat(f),p,{onUploadProgress:function(E){h&&h(E.loaded,E.total,E)},headers:e(e({},(0,s.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(E){var T,D;throw e(e({},E.response.data),{httpStatus:E.response.status,httpStatusText:E.response.statusText,message:(T=E.response.data.message)!==null&&T!==void 0?T:"There was an error while uploading the file.",exception:(D=E.response.data.exception)!==null&&D!==void 0?D:""})})]})})},o}();return Br.FrappeFileUpload=a,Br}var Hj;function YD(){if(Hj)return gu;Hj=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.FrappeApp=void 0;var e=n2(),t=ZN(),n=JN(),s=t2(),a=e2(),o=function(){function c(d,h,f,p){var g,x;this.url=d,this.name=f!=null?f:"FrappeApp",this.useToken=(g=h==null?void 0:h.useToken)!==null&&g!==void 0?g:!1,this.token=h==null?void 0:h.token,this.tokenType=(x=h==null?void 0:h.type)!==null&&x!==void 0?x:"Bearer",this.customHeaders=p,this.axios=(0,a.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return c.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},c.prototype.db=function(){return new n.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},c.prototype.file=function(){return new s.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},c.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},c}();return gu.FrappeApp=o,gu}var Fr={},Vj;function XD(){if(Vj)return Fr;Vj=1;var e=Fr&&Fr.__assign||function(){return e=Object.assign||function(a){for(var o,c=1,d=arguments.length;c<d;c++){o=arguments[c];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},e.apply(this,arguments)},t=Fr&&Fr.__awaiter||function(a,o,c,d){function h(f){return f instanceof c?f:new c(function(p){p(f)})}return new(c||(c=Promise))(function(f,p){function g(j){try{b(d.next(j))}catch(v){p(v)}}function x(j){try{b(d.throw(j))}catch(v){p(v)}}function b(j){j.done?f(j.value):h(j.value).then(g,x)}b((d=d.apply(a,o||[])).next())})},n=Fr&&Fr.__generator||function(a,o){var c={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},d,h,f,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(b){return function(j){return x([b,j])}}function x(b){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(c=0)),c;)try{if(d=1,h&&(f=b[0]&2?h.return:b[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,b[1])).done)return f;switch(h=0,f&&(b=[b[0]&2,f.value]),b[0]){case 0:case 1:f=b;break;case 4:return c.label++,{value:b[1],done:!1};case 5:c.label++,h=b[1],b=[0];continue;case 7:b=c.ops.pop(),c.trys.pop();continue;default:if(f=c.trys,!(f=f.length>0&&f[f.length-1])&&(b[0]===6||b[0]===2)){c=0;continue}if(b[0]===3&&(!f||b[1]>f[0]&&b[1]<f[3])){c.label=b[1];break}if(b[0]===6&&c.label<f[1]){c.label=f[1],f=b;break}if(f&&c.label<f[2]){c.label=f[2],c.ops.push(b);break}f[2]&&c.ops.pop(),c.trys.pop();continue}b=o.call(a,c)}catch(j){b=[6,j],h=0}finally{d=f=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.FrappeAuth=void 0;var s=function(){function a(o,c,d,h,f){this.appURL=o,this.axios=c,this.useToken=d!=null?d:!1,this.token=h,this.tokenType=f}return a.prototype.loginWithUsernamePassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(c){return[2,this.axios.post("/api/method/login",{usr:o.username,pwd:o.password,otp:o.otp,tmp_id:o.tmp_id,device:o.device}).then(function(d){return d.data}).catch(function(d){var h,f;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(h=d.response.data.message)!==null&&h!==void 0?h:"There was an error while logging in",exception:(f=d.response.data.exception)!==null&&f!==void 0?f:""})})]})})},a.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(c){return c.data.message}).catch(function(c){var d;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:"There was an error while fetching the logged in user",exception:(d=c.response.data.exception)!==null&&d!==void 0?d:""})})]})})},a.prototype.logout=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(c){var d,h;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:(d=c.response.data.message)!==null&&d!==void 0?d:"There was an error while logging out",exception:(h=c.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a.prototype.forgetPassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(c){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:o}).then(function(){}).catch(function(d){var h,f;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(h=d.response.data.message)!==null&&h!==void 0?h:"There was an error sending password reset email.",exception:(f=d.response.data.exception)!==null&&f!==void 0?f:""})})]})})},a}();return Fr.FrappeAuth=s,Fr}var Ij;function n2(){return Ij||(Ij=1,function(e){var t=Ml&&Ml.__createBinding||(Object.create?function(s,a,o,c){c===void 0&&(c=o);var d=Object.getOwnPropertyDescriptor(a,o);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(s,c,d)}:function(s,a,o,c){c===void 0&&(c=o),s[c]=a[o]}),n=Ml&&Ml.__exportStar||function(s,a){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,s,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(YD(),e),n(XD(),e),n(JN(),e),n(t2(),e),n(ZN(),e)}(Ml)),Ml}var GD=n2(),qj={exports:{}},zg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wj;function KD(){if(Wj)return zg;Wj=1;var e=re;function t(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,o=e.useLayoutEffect,c=e.useDebugValue;function d(g,x){var b=x(),j=s({inst:{value:b,getSnapshot:x}}),v=j[0].inst,S=j[1];return o(function(){v.value=b,v.getSnapshot=x,h(v)&&S({inst:v})},[g,b,x]),a(function(){return h(v)&&S({inst:v}),g(function(){h(v)&&S({inst:v})})},[g]),c(b),b}function h(g){var x=g.getSnapshot;g=g.value;try{var b=x();return!n(g,b)}catch(j){return!0}}function f(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return zg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,zg}var Yj;function QD(){return Yj||(Yj=1,qj.exports=KD()),qj.exports}var ZD=QD();const s2=0,r2=1,a2=2,Xj=3;var Gj=Object.prototype.hasOwnProperty;function R0(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&R0(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(Gj.call(e,n)&&++s&&!Gj.call(t,n)||!(n in t)||!R0(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const Wa=new WeakMap,Di=()=>{},Ts=Di(),Mh=Object,tn=e=>e===Ts,Hr=e=>typeof e=="function",Xa=(e,t)=>L(L({},e),t),i2=e=>Hr(e.then),Ug={},Df={},Mx="undefined",rd=typeof window!=Mx,M0=typeof document!=Mx,JD=rd&&"Deno"in window,eO=()=>rd&&typeof window.requestAnimationFrame!=Mx,o2=(e,t)=>{const n=Wa.get(e);return[()=>!tn(t)&&e.get(t)||Ug,s=>{if(!tn(t)){const a=e.get(t);t in Df||(Df[t]=a),n[5](t,Xa(a,s),a||Ug)}},n[6],()=>!tn(t)&&t in Df?Df[t]:!tn(t)&&e.get(t)||Ug]};let P0=!0;const tO=()=>P0,[L0,z0]=rd&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Di,Di],nO=()=>{const e=M0&&document.visibilityState;return tn(e)||e!=="hidden"},sO=e=>(M0&&document.addEventListener("visibilitychange",e),L0("focus",e),()=>{M0&&document.removeEventListener("visibilitychange",e),z0("focus",e)}),rO=e=>{const t=()=>{P0=!0,e()},n=()=>{P0=!1};return L0("online",t),L0("offline",n),()=>{z0("online",t),z0("offline",n)}},aO={isOnline:tO,isVisible:nO},iO={initFocus:sO,initReconnect:rO},Kj=!re.useId,qu=!rd||JD,oO=e=>eO()?window.requestAnimationFrame(e):setTimeout(e,1),gh=qu?_.useEffect:_.useLayoutEffect,Bg=typeof navigator<"u"&&navigator.connection,Qj=!qu&&Bg&&(["slow-2g","2g"].includes(Bg.effectiveType)||Bg.saveData),Of=new WeakMap,Fg=(e,t)=>Mh.prototype.toString.call(e)===`[object ${t}]`;let lO=0;const U0=e=>{const t=typeof e,n=Fg(e,"Date"),s=Fg(e,"RegExp"),a=Fg(e,"Object");let o,c;if(Mh(e)===e&&!n&&!s){if(o=Of.get(e),o)return o;if(o=++lO+"~",Of.set(e,o),Array.isArray(e)){for(o="@",c=0;c<e.length;c++)o+=U0(e[c])+",";Of.set(e,o)}if(a){o="#";const d=Mh.keys(e).sort();for(;!tn(c=d.pop());)tn(e[c])||(o+=c+":"+U0(e[c])+",");Of.set(e,o)}}else o=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},Px=e=>{if(Hr(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?U0(e):"",[e,t]};let cO=0;const B0=()=>++cO;function l2(...e){return ve(this,null,function*(){const[t,n,s,a]=e,o=Xa({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let c=o.populateCache;const d=o.rollbackOnError;let h=o.optimisticData;const f=x=>typeof d=="function"?d(x):d!==!1,p=o.throwOnError;if(Hr(n)){const x=n,b=[],j=t.keys();for(const v of j)!/^\$(inf|sub)\$/.test(v)&&x(t.get(v)._k)&&b.push(v);return Promise.all(b.map(g))}return g(n);function g(x){return ve(this,null,function*(){const[b]=Px(x);if(!b)return;const[j,v]=o2(t,b),[S,N,A,E]=Wa.get(t),T=()=>{const W=S[b];return(Hr(o.revalidate)?o.revalidate(j().data,x):o.revalidate!==!1)&&(delete A[b],delete E[b],W&&W[0])?W[0](a2).then(()=>j().data):j().data};if(e.length<3)return T();let D=s,C;const z=B0();N[b]=[z,0];const U=!tn(h),R=j(),G=R.data,q=R._c,Q=tn(q)?G:q;if(U&&(h=Hr(h)?h(Q,G):h,v({data:h,_c:Q})),Hr(D))try{D=D(Q)}catch(W){C=W}if(D&&i2(D))if(D=yield D.catch(W=>{C=W}),z!==N[b][0]){if(C)throw C;return D}else C&&U&&f(C)&&(c=!0,v({data:Q,_c:Ts}));if(c&&!C)if(Hr(c)){const W=c(D,Q);v({data:W,error:Ts,_c:Ts})}else v({data:D,error:Ts,_c:Ts});if(N[b][1]=B0(),Promise.resolve(T()).then(()=>{v({_c:Ts})}),C){if(p)throw C;return}return D})}})}const Zj=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},c2=(e,t)=>{if(!Wa.has(e)){const n=Xa(iO,t),s=Object.create(null),a=l2.bind(Ts,e);let o=Di;const c=Object.create(null),d=(p,g)=>{const x=c[p]||[];return c[p]=x,x.push(g),()=>x.splice(x.indexOf(g),1)},h=(p,g,x)=>{e.set(p,g);const b=c[p];if(b)for(const j of b)j(g,x)},f=()=>{if(!Wa.has(e)&&(Wa.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,h,d]),!qu)){const p=n.initFocus(setTimeout.bind(Ts,Zj.bind(Ts,s,s2))),g=n.initReconnect(setTimeout.bind(Ts,Zj.bind(Ts,s,r2)));o=()=>{p&&p(),g&&g(),Wa.delete(e)}}};return f(),[e,a,f,o]}return[e,Wa.get(e)[4]]},uO=(e,t,n,s,a)=>{const o=n.errorRetryCount,c=a.retryCount,d=~~((Math.random()+.5)*(1<<(c<8?c:8)))*n.errorRetryInterval;!tn(o)&&c>o||setTimeout(s,d,a)},dO=R0,[Lx,fO]=c2(new Map),u2=Xa({onLoadingSlow:Di,onSuccess:Di,onError:Di,onErrorRetry:uO,onDiscarded:Di,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Qj?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Qj?5e3:3e3,compare:dO,isPaused:()=>!1,cache:Lx,mutate:fO,fallback:{}},aO),d2=(e,t)=>{const n=Xa(e,t);if(t){const{use:s,fallback:a}=e,{use:o,fallback:c}=t;s&&o&&(n.use=s.concat(o)),a&&c&&(n.fallback=Xa(a,c))}return n},F0=_.createContext({}),hO=e=>{const{value:t}=e,n=_.useContext(F0),s=Hr(t),a=_.useMemo(()=>s?t(n):t,[s,n,t]),o=_.useMemo(()=>s?a:d2(n,a),[s,n,a]),c=a&&a.provider,d=_.useRef(Ts);c&&!d.current&&(d.current=c2(c(o.cache||Lx),a));const h=d.current;return h&&(o.cache=h[0],o.mutate=h[1]),gh(()=>{if(h)return h[2]&&h[2](),h[3]},[]),_.createElement(F0.Provider,Xa(e,{value:o}))},mO="$inf$",f2=rd&&window.__SWR_DEVTOOLS_USE__,pO=f2?window.__SWR_DEVTOOLS_USE__:[],gO=()=>{f2&&(window.__SWR_DEVTOOLS_REACT__=re)},xO=e=>Hr(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],yO=()=>Xa(u2,_.useContext(F0)),bO=e=>(t,n,s)=>e(t,n&&((...a)=>{const[o]=Px(t),[,,,c]=Wa.get(Lx);if(o.startsWith(mO))return n(...a);const d=c[o];return tn(d)?n(...a):(delete c[o],d)}),s),vO=pO.concat(bO),wO=e=>function(...t){const n=yO(),[s,a,o]=xO(t),c=d2(n,o);let d=e;const{use:h}=c,f=(h||[]).concat(vO);for(let p=f.length;p--;)d=f[p](d);return d(s,a||c.fetcher||null,c)},jO=(e,t,n)=>{const s=t[e]||(t[e]=[]);return s.push(n),()=>{const a=s.indexOf(n);a>=0&&(s[a]=s[s.length-1],s.pop())}};gO();const $g=re.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),Hg={dedupe:!0},_O=(e,t,n)=>{const{cache:s,compare:a,suspense:o,fallbackData:c,revalidateOnMount:d,revalidateIfStale:h,refreshInterval:f,refreshWhenHidden:p,refreshWhenOffline:g,keepPreviousData:x}=n,[b,j,v,S]=Wa.get(s),[N,A]=Px(e),E=_.useRef(!1),T=_.useRef(!1),D=_.useRef(N),C=_.useRef(t),z=_.useRef(n),U=()=>z.current,R=()=>U().isVisible()&&U().isOnline(),[G,q,Q,W]=o2(s,N),Y=_.useRef({}).current,H=tn(c)?tn(n.fallback)?Ts:n.fallback[N]:c,F=(Ke,mt)=>{for(const Ue in Y){const gt=Ue;if(gt==="data"){if(!a(Ke[gt],mt[gt])&&(!tn(Ke[gt])||!a(ge,mt[gt])))return!1}else if(mt[gt]!==Ke[gt])return!1}return!0},Z=_.useMemo(()=>{const Ke=!N||!t?!1:tn(d)?U().isPaused()||o?!1:h!==!1:d,mt=ot=>{const K=Xa(ot);return delete K._k,Ke?L({isValidating:!0,isLoading:!0},K):K},Ue=G(),gt=W(),Je=mt(Ue),Me=Ue===gt?Je:mt(gt);let nt=Je;return[()=>{const ot=mt(G());return F(ot,nt)?(nt.data=ot.data,nt.isLoading=ot.isLoading,nt.isValidating=ot.isValidating,nt.error=ot.error,nt):(nt=ot,ot)},()=>Me]},[s,N]),ee=ZD.useSyncExternalStore(_.useCallback(Ke=>Q(N,(mt,Ue)=>{F(Ue,mt)||Ke()}),[s,N]),Z[0],Z[1]),ce=!E.current,M=b[N]&&b[N].length>0,ie=ee.data,se=tn(ie)?H&&i2(H)?$g(H):H:ie,V=ee.error,ne=_.useRef(se),ge=x?tn(ie)?tn(ne.current)?se:ne.current:ie:se,he=M&&!tn(V)?!1:ce&&!tn(d)?d:U().isPaused()?!1:o?tn(se)?!1:h:tn(se)||h,Ee=!!(N&&t&&ce&&he),Ce=tn(ee.isValidating)?Ee:ee.isValidating,Ve=tn(ee.isLoading)?Ee:ee.isLoading,ze=_.useCallback(Ke=>ve(null,null,function*(){const mt=C.current;if(!N||!mt||T.current||U().isPaused())return!1;let Ue,gt,Je=!0;const Me=Ke||{},nt=!v[N]||!Me.dedupe,ot=()=>Kj?!T.current&&N===D.current&&E.current:N===D.current,K={isValidating:!1,isLoading:!1},fe=()=>{q(K)},X=()=>{const Le=v[N];Le&&Le[1]===gt&&delete v[N]},Ne={isValidating:!0};tn(G().data)&&(Ne.isLoading=!0);try{if(nt&&(q(Ne),n.loadingTimeout&&tn(G().data)&&setTimeout(()=>{Je&&ot()&&U().onLoadingSlow(N,n)},n.loadingTimeout),v[N]=[mt(A),B0()]),[Ue,gt]=v[N],Ue=yield Ue,nt&&setTimeout(X,n.dedupingInterval),!v[N]||v[N][1]!==gt)return nt&&ot()&&U().onDiscarded(N),!1;K.error=Ts;const Le=j[N];if(!tn(Le)&&(gt<=Le[0]||gt<=Le[1]||Le[1]===0))return fe(),nt&&ot()&&U().onDiscarded(N),!1;const Re=G().data;K.data=a(Re,Ue)?Re:Ue,nt&&ot()&&U().onSuccess(Ue,N,n)}catch(Le){X();const Re=U(),{shouldRetryOnError:He}=Re;Re.isPaused()||(K.error=Le,nt&&ot()&&(Re.onError(Le,N,Re),(He===!0||Hr(He)&&He(Le))&&(!U().revalidateOnFocus||!U().revalidateOnReconnect||R())&&Re.onErrorRetry(Le,N,Re,Ye=>{const et=b[N];et&&et[0]&&et[0](Xj,Ye)},{retryCount:(Me.retryCount||0)+1,dedupe:!0})))}return Je=!1,fe(),!0}),[N,s]),tt=_.useCallback((...Ke)=>l2(s,D.current,...Ke),[]);if(gh(()=>{C.current=t,z.current=n,tn(ie)||(ne.current=ie)}),gh(()=>{if(!N)return;const Ke=ze.bind(Ts,Hg);let mt=0;U().revalidateOnFocus&&(mt=Date.now()+U().focusThrottleInterval);const Ue=jO(N,b,(gt,Je={})=>{if(gt==s2){const Me=Date.now();U().revalidateOnFocus&&Me>mt&&R()&&(mt=Me+U().focusThrottleInterval,Ke())}else if(gt==r2)U().revalidateOnReconnect&&R()&&Ke();else{if(gt==a2)return ze();if(gt==Xj)return ze(Je)}});return T.current=!1,D.current=N,E.current=!0,q({_k:A}),he&&(tn(se)||qu?Ke():oO(Ke)),()=>{T.current=!0,Ue()}},[N]),gh(()=>{let Ke;function mt(){const gt=Hr(f)?f(G().data):f;gt&&Ke!==-1&&(Ke=setTimeout(Ue,gt))}function Ue(){!G().error&&(p||U().isVisible())&&(g||U().isOnline())?ze(Hg).then(mt):mt()}return mt(),()=>{Ke&&(clearTimeout(Ke),Ke=-1)}},[f,p,g,N]),_.useDebugValue(ge),o&&tn(se)&&N){if(!Kj&&qu)throw new Error("Fallback data is required when using Suspense in SSR.");C.current=t,z.current=n,T.current=!1;const Ke=S[N];if(!tn(Ke)){const mt=tt(Ke);$g(mt)}if(tn(V)){const mt=ze(Hg);tn(ge)||(mt.status="fulfilled",mt.value=!0),$g(mt)}else throw V}return{mutate:tt,get data(){return Y.data=!0,ge},get error(){return Y.error=!0,V},get isValidating(){return Y.isValidating=!0,Ce},get isLoading(){return Y.isLoading=!0,Ve}}},NO=Mh.defineProperty(hO,"defaultValue",{value:u2}),cm=wO(_O);Promise.resolve();const pa=Object.create(null);pa.open="0";pa.close="1";pa.ping="2";pa.pong="3";pa.message="4";pa.upgrade="5";pa.noop="6";const xh=Object.create(null);Object.keys(pa).forEach(e=>{xh[pa[e]]=e});const $0={type:"error",data:"parser error"},h2=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",m2=typeof ArrayBuffer=="function",p2=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,zx=({type:e,data:t},n,s)=>h2&&t instanceof Blob?n?s(t):Jj(t,s):m2&&(t instanceof ArrayBuffer||p2(t))?n?s(t):Jj(new Blob([t]),s):s(pa[e]+(t||"")),Jj=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function e1(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Vg;function SO(e,t){if(h2&&e.data instanceof Blob)return e.data.arrayBuffer().then(e1).then(t);if(m2&&(e.data instanceof ArrayBuffer||p2(e.data)))return t(e1(e.data));zx(e,!1,n=>{Vg||(Vg=new TextEncoder),t(Vg.encode(n))})}const t1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ru=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<t1.length;e++)Ru[t1.charCodeAt(e)]=e;const TO=e=>{let t=e.length*.75,n=e.length,s,a=0,o,c,d,h;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const f=new ArrayBuffer(t),p=new Uint8Array(f);for(s=0;s<n;s+=4)o=Ru[e.charCodeAt(s)],c=Ru[e.charCodeAt(s+1)],d=Ru[e.charCodeAt(s+2)],h=Ru[e.charCodeAt(s+3)],p[a++]=o<<2|c>>4,p[a++]=(c&15)<<4|d>>2,p[a++]=(d&3)<<6|h&63;return f},EO=typeof ArrayBuffer=="function",Ux=(e,t)=>{if(typeof e!="string")return{type:"message",data:g2(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:kO(e.substring(1),t)}:xh[n]?e.length>1?{type:xh[n],data:e.substring(1)}:{type:xh[n]}:$0},kO=(e,t)=>{if(EO){const n=TO(e);return g2(n,t)}else return{base64:!0,data:e}},g2=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},x2="",CO=(e,t)=>{const n=e.length,s=new Array(n);let a=0;e.forEach((o,c)=>{zx(o,!1,d=>{s[c]=d,++a===n&&t(s.join(x2))})})},DO=(e,t)=>{const n=e.split(x2),s=[];for(let a=0;a<n.length;a++){const o=Ux(n[a],t);if(s.push(o),o.type==="error")break}return s};function OO(){return new TransformStream({transform(e,t){SO(e,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const o=new DataView(a.buffer);o.setUint8(0,126),o.setUint16(1,s)}else{a=new Uint8Array(9);const o=new DataView(a.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let Ig;function Af(e){return e.reduce((t,n)=>t+n.length,0)}function Rf(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let a=0;a<t;a++)n[a]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function AO(e,t){Ig||(Ig=new TextDecoder);const n=[];let s=0,a=-1,o=!1;return new TransformStream({transform(c,d){for(n.push(c);;){if(s===0){if(Af(n)<1)break;const h=Rf(n,1);o=(h[0]&128)===128,a=h[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(Af(n)<2)break;const h=Rf(n,2);a=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),s=3}else if(s===2){if(Af(n)<8)break;const h=Rf(n,8),f=new DataView(h.buffer,h.byteOffset,h.length),p=f.getUint32(0);if(p>Math.pow(2,21)-1){d.enqueue($0);break}a=p*Math.pow(2,32)+f.getUint32(4),s=3}else{if(Af(n)<a)break;const h=Rf(n,a);d.enqueue(Ux(o?h:Ig.decode(h),t)),s=0}if(a===0||a>e){d.enqueue($0);break}}}})}const y2=4;function Kn(e){if(e)return RO(e)}function RO(e){for(var t in Kn.prototype)e[t]=Kn.prototype[t];return e}Kn.prototype.on=Kn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Kn.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Kn.prototype.off=Kn.prototype.removeListener=Kn.prototype.removeAllListeners=Kn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===t||s.fn===t){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Kn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,t)}return this};Kn.prototype.emitReserved=Kn.prototype.emit;Kn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Kn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const jr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function b2(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const MO=jr.setTimeout,PO=jr.clearTimeout;function um(e,t){t.useNativeTimers?(e.setTimeoutFn=MO.bind(jr),e.clearTimeoutFn=PO.bind(jr)):(e.setTimeoutFn=jr.setTimeout.bind(jr),e.clearTimeoutFn=jr.clearTimeout.bind(jr))}const LO=1.33;function zO(e){return typeof e=="string"?UO(e):Math.ceil((e.byteLength||e.size)*LO)}function UO(e){let t=0,n=0;for(let s=0,a=e.length;s<a;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function BO(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function FO(e){let t={},n=e.split("&");for(let s=0,a=n.length;s<a;s++){let o=n[s].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class $O extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class Bx extends Kn{constructor(t){super(),this.writable=!1,um(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,s){return super.emitReserved("error",new $O(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Ux(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=BO(t);return n.length?"?"+n:""}}const v2="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),H0=64,HO={};let n1=0,Mf=0,s1;function r1(e){let t="";do t=v2[e%H0]+t,e=Math.floor(e/H0);while(e>0);return t}function w2(){const e=r1(+new Date);return e!==s1?(n1=0,s1=e):e+"."+r1(n1++)}for(;Mf<H0;Mf++)HO[v2[Mf]]=Mf;let j2=!1;try{j2=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const VO=j2;function _2(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||VO))return new XMLHttpRequest}catch(n){}if(!t)try{return new jr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(n){}}function IO(){}const qO=function(){return new _2({xdomain:!1}).responseType!=null}();class WO extends Bx{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}const n=t&&t.forceBase64;this.supportsBinary=qO&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};DO(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,CO(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=w2()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Wl(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(a,o)=>{this.onError("xhr post error",a,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}let Wl=class yh extends Kn{constructor(t,n){super(),um(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=b2(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const s=this.xhr=new _2(n);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this.opts.extraHeaders[a])}}catch(a){}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{s.setRequestHeader("Accept","*/*")}catch(a){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this.opts.cookieJar)===null||a===void 0||a.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(a){this.setTimeoutFn(()=>{this.onError(a)},0);return}typeof document<"u"&&(this.index=yh.requestsCount++,yh.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=IO,t)try{this.xhr.abort()}catch(n){}typeof document<"u"&&delete yh.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Wl.requestsCount=0;Wl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",a1);else if(typeof addEventListener=="function"){const e="onpagehide"in jr?"pagehide":"unload";addEventListener(e,a1,!1)}}function a1(){for(let e in Wl.requests)Wl.requests.hasOwnProperty(e)&&Wl.requests[e].abort()}const Fx=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Pf=jr.WebSocket||jr.MozWebSocket,i1=!0,YO="arraybuffer",o1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class XO extends Bx{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=o1?{}:b2(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=i1&&!o1?n?new Pf(t,n):new Pf(t):new Pf(t,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;zx(s,this.supportsBinary,o=>{try{i1&&this.ws.send(o)}catch(c){}a&&Fx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=w2()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Pf}}class GO extends Bx{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=AO(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),a=OO();a.readable.pipeTo(t.writable),this.writer=a.writable.getWriter();const o=()=>{s.read().then(({done:d,value:h})=>{d||(this.onPacket(h),o())}).catch(d=>{})};o();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this.writer.write(c).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;this.writer.write(s).then(()=>{a&&Fx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const KO={websocket:XO,webtransport:GO,polling:WO},QO=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ZO=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function V0(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let a=QO.exec(e||""),o={},c=14;for(;c--;)o[ZO[c]]=a[c]||"";return n!=-1&&s!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=JO(o,o.path),o.queryKey=eA(o,o.query),o}function JO(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function eA(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,o){a&&(n[a]=o)}),n}let N2=class Hl extends Kn{constructor(t,n={}){super(),this.binaryType=YO,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=V0(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=V0(n.host).host),um(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=FO(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=y2,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new KO[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Hl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(n){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),s=!1;Hl.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!s)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Hl.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=n.name,this.emitReserved("upgradeError",x)}}))};function o(){s||(s=!0,p(),n.close(),n=null)}const c=g=>{const x=new Error("probe error: "+g);x.transport=n.name,o(),this.emitReserved("upgradeError",x)};function d(){c("transport closed")}function h(){c("socket closed")}function f(g){n&&g.name!==n.name&&o()}const p=()=>{n.removeListener("open",a),n.removeListener("error",c),n.removeListener("close",d),this.off("close",h),this.off("upgrading",f)};n.once("open",a),n.once("error",c),n.once("close",d),this.once("close",h),this.once("upgrading",f),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Hl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(t+=zO(s)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const o={type:t,data:n,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){Hl.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const a=t.length;for(;s<a;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}};N2.protocol=y2;function tA(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=V0(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const a=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+t,s.href=s.protocol+"://"+a+(n&&n.port===s.port?"":":"+s.port),s}const nA=typeof ArrayBuffer=="function",sA=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,S2=Object.prototype.toString,rA=typeof Blob=="function"||typeof Blob<"u"&&S2.call(Blob)==="[object BlobConstructor]",aA=typeof File=="function"||typeof File<"u"&&S2.call(File)==="[object FileConstructor]";function $x(e){return nA&&(e instanceof ArrayBuffer||sA(e))||rA&&e instanceof Blob||aA&&e instanceof File}function bh(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(bh(e[n]))return!0;return!1}if($x(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return bh(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&bh(e[n]))return!0;return!1}function iA(e){const t=[],n=e.data,s=e;return s.data=I0(n,t),s.attachments=t.length,{packet:s,buffers:t}}function I0(e,t){if(!e)return e;if($x(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=I0(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=I0(e[s],t));return n}return e}function oA(e,t){return e.data=q0(e.data,t),delete e.attachments,e}function q0(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=q0(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=q0(e[n],t));return e}const lA=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],cA=5;var Qt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Qt||(Qt={}));class uA{constructor(t){this.replacer=t}encode(t){return(t.type===Qt.EVENT||t.type===Qt.ACK)&&bh(t)?this.encodeAsBinary({type:t.type===Qt.EVENT?Qt.BINARY_EVENT:Qt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Qt.BINARY_EVENT||t.type===Qt.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=iA(t),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}function l1(e){return Object.prototype.toString.call(e)==="[object Object]"}class Hx extends Kn{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===Qt.BINARY_EVENT;s||n.type===Qt.BINARY_ACK?(n.type=s?Qt.EVENT:Qt.ACK,this.reconstructor=new dA(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if($x(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(Qt[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Qt.BINARY_EVENT||s.type===Qt.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const c=t.substring(o,n);if(c!=Number(c)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(c)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(o,n)}else s.nsp="/";const a=t.charAt(n+1);if(a!==""&&Number(a)==a){const o=n+1;for(;++n;){const c=t.charAt(n);if(c==null||Number(c)!=c){--n;break}if(n===t.length)break}s.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(Hx.isPayloadValid(s.type,o))s.data=o;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(n){return!1}}static isPayloadValid(t,n){switch(t){case Qt.CONNECT:return l1(n);case Qt.DISCONNECT:return n===void 0;case Qt.CONNECT_ERROR:return typeof n=="string"||l1(n);case Qt.EVENT:case Qt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&lA.indexOf(n[0])===-1);case Qt.ACK:case Qt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class dA{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=oA(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const fA=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Hx,Encoder:uA,get PacketType(){return Qt},protocol:cA},Symbol.toStringTag,{value:"Module"}));function $r(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const hA=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class T2 extends Kn{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[$r(t,"open",this.onopen.bind(this)),$r(t,"packet",this.onpacket.bind(this)),$r(t,"error",this.onerror.bind(this)),$r(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(hA.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:Qt.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,c=n.pop();this._registerAckCallback(o,c),s.id=o}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},a);this.acks[t]=(...c)=>{this.io.clearTimeoutFn(o),n.apply(this,[null,...c])}}emitWithAck(t,...n){const s=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((a,o)=>{n.push((c,d)=>s?c?o(c):a(d):a(c)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...o)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...o)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Qt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Qt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Qt.EVENT:case Qt.BINARY_EVENT:this.onevent(t);break;case Qt.ACK:case Qt.BINARY_ACK:this.onack(t);break;case Qt.DISCONNECT:this.ondisconnect();break;case Qt.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:Qt.ACK,id:t,data:a}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Qt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function ac(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ac.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};ac.prototype.reset=function(){this.attempts=0};ac.prototype.setMin=function(e){this.ms=e};ac.prototype.setMax=function(e){this.max=e};ac.prototype.setJitter=function(e){this.jitter=e};class W0 extends Kn{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,um(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new ac({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const a=n.parser||fA;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new N2(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=$r(n,"open",function(){s.onopen(),t&&t()}),o=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),t?t(d):this.maybeReconnectOnOpen()},c=$r(n,"error",o);if(this._timeout!==!1){const d=this._timeout,h=this.setTimeoutFn(()=>{a(),o(new Error("timeout")),n.close()},d);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(a),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push($r(t,"ping",this.onping.bind(this)),$r(t,"data",this.ondata.bind(this)),$r(t,"error",this.onerror.bind(this)),$r(t,"close",this.onclose.bind(this)),$r(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Fx(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new T2(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const xu={};function vh(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=tA(e,t.path||"/socket.io"),s=n.source,a=n.id,o=n.path,c=xu[a]&&o in xu[a].nsps,d=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let h;return d?h=new W0(s,t):(xu[a]||(xu[a]=new W0(s,t)),h=xu[a]),n.query&&!t.query&&(t.query=n.queryKey),h.socket(n.path,t)}Object.assign(vh,{Manager:W0,Socket:T2,io:vh,connect:vh});class mA{constructor(t,n,s,a){vo(this,"socket_port"),vo(this,"host"),vo(this,"port"),vo(this,"protocol"),vo(this,"url"),vo(this,"site_name"),vo(this,"socket");var o,c,d,h;if(this.socket_port=s!=null?s:"9000",this.host=(o=window.location)==null?void 0:o.hostname,this.port=(c=window.location)!=null&&c.port?`:${this.socket_port}`:"",this.protocol=((d=window.location)==null?void 0:d.protocol)==="https:"?"https":"http",t){let f=new URL(t);f.port="",s?(f.port=s,this.url=f.toString()):this.url=f.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;n&&(this.url=`${this.url}${n}`),this.site_name=n,this.socket=vh(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:a&&a.useToken===!0?{Authorization:`${a.type} ${(h=a.token)==null?void 0:h.call(a)}`}:{}})}}const Qa=_.createContext(null),pA=({url:e="",tokenParams:t,socketPort:n,swrConfig:s,siteName:a,enableSocket:o=!0,children:c,customHeaders:d})=>{const h=_.useMemo(()=>{const f=new GD.FrappeApp(e,t,void 0,d);return{url:e,tokenParams:t,app:f,auth:f.auth(),db:f.db(),call:f.call(),file:f.file(),socket:o?new mA(e,a,n,t).socket:void 0,enableSocket:o,socketPort:n}},[e,t,n,o,d]);return i.jsx(Qa.Provider,{value:h,children:i.jsx(NO,{value:s,children:c})})},Cs=e=>{const{url:t,auth:n,tokenParams:s}=_.useContext(Qa),[a,o]=_.useState(),c=_.useCallback(()=>{const j=document.cookie.split(";").find(v=>v.trim().startsWith("user_id="));if(j){const v=j.split("=")[1];o(v&&v!=="Guest"?v:null)}else o(null)},[]);_.useEffect(()=>{s&&s.useToken?o(null):c()},[]);const{data:d,error:h,isLoading:f,isValidating:p,mutate:g}=cm(()=>s&&s.useToken||a?`${t}/api/method/frappe.auth.get_logged_user`:null,()=>n.getLoggedInUser(),L({onError:()=>{o(null)},shouldRetryOnError:!1,revalidateOnFocus:!1},e)),x=_.useCallback(j=>ve(null,null,function*(){return n.loginWithUsernamePassword(j).then(v=>(c(),v))}),[]),b=_.useCallback(()=>ve(null,null,function*(){return n.logout().then(()=>g(null)).then(()=>o(null))}),[]);return{isLoading:a===void 0||f,currentUser:d,isValidating:p,error:h,login:x,logout:b,updateCurrentUser:g,getUserCookie:c}},E2=(e,t,n)=>{let s=`${t}/api/resource/`;return n?s+=`${e}/${n}`:s+=`${e}`,s},Ot=(e,t,n,s)=>{const{url:a,db:o}=_.useContext(Qa);return cm(n===void 0?E2(e,a,t):n,()=>o.getDoc(e,t),s)},gA=e=>{var a;var t,n;let s="";if(e!=null&&e.fields&&(s+="fields="+JSON.stringify(e==null?void 0:e.fields)+"&"),e!=null&&e.filters&&(s+="filters="+JSON.stringify(e==null?void 0:e.filters)+"&"),e!=null&&e.orFilters&&(s+="or_filters="+JSON.stringify(e==null?void 0:e.orFilters)+"&"),e!=null&&e.limit_start&&(s+="limit_start="+JSON.stringify(e==null?void 0:e.limit_start)+"&"),e!=null&&e.limit&&(s+="limit="+JSON.stringify(e==null?void 0:e.limit)+"&"),e!=null&&e.groupBy&&(s+="group_by="+String(e.groupBy)+"&"),e!=null&&e.orderBy){const o=`${String((t=e.orderBy)==null?void 0:t.field)} ${(a=(n=e.orderBy)==null?void 0:n.order)!=null?a:"asc"}`;s+="order_by="+o+"&"}return e!=null&&e.asDict&&(s+="as_dict="+e.asDict),s},At=(e,t,n,s)=>{const{url:a,db:o}=_.useContext(Qa);return cm(n===void 0?`${E2(e,a)}?${gA(t)}`:n,()=>o.getDocList(e,t),s)},Ii=()=>{const{db:e}=_.useContext(Qa),[t,n]=_.useState(!1),[s,a]=_.useState(null),[o,c]=_.useState(!1),d=_.useCallback(()=>{n(!1),a(null),c(!1)},[]);return{createDoc:_.useCallback((h,f)=>ve(null,null,function*(){return a(null),c(!1),n(!0),e.createDoc(h,f).then(p=>(n(!1),c(!0),p)).catch(p=>{throw n(!1),c(!1),a(p),p})}),[]),loading:t,error:s,isCompleted:o,reset:d}},Ws=()=>{const{db:e}=_.useContext(Qa),[t,n]=_.useState(!1),[s,a]=_.useState(null),[o,c]=_.useState(!1),d=_.useCallback(()=>{n(!1),a(null),c(!1)},[]);return{updateDoc:_.useCallback((h,f,p)=>ve(null,null,function*(){return a(null),c(!1),n(!0),e.updateDoc(h,f,p).then(g=>(n(!1),c(!0),g)).catch(g=>{throw n(!1),c(!1),a(g),g})}),[]),loading:t,error:s,reset:d,isCompleted:o}},dm=()=>{const{db:e}=_.useContext(Qa),[t,n]=_.useState(!1),[s,a]=_.useState(null),[o,c]=_.useState(!1),d=_.useCallback(()=>{n(!1),a(null),c(!1)},[]);return{deleteDoc:_.useCallback((h,f)=>ve(null,null,function*(){return a(null),c(!1),n(!0),e.deleteDoc(h,f).then(p=>(n(!1),c(!0),p)).catch(p=>{throw n(!1),c(!1),a(p),p})}),[]),loading:t,error:s,reset:d,isCompleted:o}};function xA(e){const t=[];for(let n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}const yA=(e,t,n,s,a="GET")=>{const{call:o}=_.useContext(Qa),c=xA(t!=null?t:{}),d=`${e}?${c}`;return L({},cm(n===void 0?d:n,a==="GET"?()=>o.get(e,t):()=>o.post(e,t),s))},ps=e=>{const{call:t}=_.useContext(Qa),[n,s]=_.useState(null),[a,o]=_.useState(!1),[c,d]=_.useState(null),[h,f]=_.useState(!1),p=_.useCallback(()=>{s(null),o(!1),d(null),f(!1)},[]);return{call:_.useCallback(g=>ve(null,null,function*(){return d(null),f(!1),o(!0),s(null),t.post(e,g).then(x=>(s(x),o(!1),f(!0),x)).catch(x=>{throw o(!1),f(!1),d(x),x})}),[]),result:n,loading:a,error:c,reset:p,isCompleted:h}};var bA=(e,t,n,s,a,o,c,d)=>{let h=document.documentElement,f=["light","dark"];function p(b){(Array.isArray(e)?e:[e]).forEach(j=>{let v=j==="class",S=v&&o?a.map(N=>o[N]||N):a;v?(h.classList.remove(...S),h.classList.add(o&&o[b]?o[b]:b)):h.setAttribute(j,b)}),g(b)}function g(b){d&&f.includes(b)&&(h.style.colorScheme=b)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)p(s);else try{let b=localStorage.getItem(t)||n,j=c&&b==="system"?x():b;p(j)}catch(b){}},c1=["light","dark"],k2="(prefers-color-scheme: dark)",vA=typeof window=="undefined",Vx=_.createContext(void 0),wA={setTheme:e=>{},themes:[]},jA=()=>{var e;return(e=_.useContext(Vx))!=null?e:wA},_A=e=>_.useContext(Vx)?_.createElement(_.Fragment,null,e.children):_.createElement(SA,L({},e)),NA=["light","dark"],SA=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:s=!0,storageKey:a="theme",themes:o=NA,defaultTheme:c=n?"system":"light",attribute:d="data-theme",value:h,children:f,nonce:p,scriptProps:g})=>{let[x,b]=_.useState(()=>EA(a,c)),[j,v]=_.useState(()=>x==="system"?qg():x),S=h?Object.values(h):o,N=_.useCallback(D=>{let C=D;if(!C)return;D==="system"&&n&&(C=qg());let z=h?h[C]:C,U=t?kA(p):null,R=document.documentElement,G=q=>{q==="class"?(R.classList.remove(...S),z&&R.classList.add(z)):q.startsWith("data-")&&(z?R.setAttribute(q,z):R.removeAttribute(q))};if(Array.isArray(d)?d.forEach(G):G(d),s){let q=c1.includes(c)?c:null,Q=c1.includes(C)?C:q;R.style.colorScheme=Q}U==null||U()},[p]),A=_.useCallback(D=>{let C=typeof D=="function"?D(x):D;b(C);try{localStorage.setItem(a,C)}catch(z){}},[x]),E=_.useCallback(D=>{let C=qg(D);v(C),x==="system"&&n&&!e&&N("system")},[x,e]);_.useEffect(()=>{let D=window.matchMedia(k2);return D.addListener(E),E(D),()=>D.removeListener(E)},[E]),_.useEffect(()=>{let D=C=>{C.key===a&&(C.newValue?b(C.newValue):A(c))};return window.addEventListener("storage",D),()=>window.removeEventListener("storage",D)},[A]),_.useEffect(()=>{N(e!=null?e:x)},[e,x]);let T=_.useMemo(()=>({theme:x,setTheme:A,forcedTheme:e,resolvedTheme:x==="system"?j:x,themes:n?[...o,"system"]:o,systemTheme:n?j:void 0}),[x,A,e,j,n,o]);return _.createElement(Vx.Provider,{value:T},_.createElement(TA,{forcedTheme:e,storageKey:a,attribute:d,enableSystem:n,enableColorScheme:s,defaultTheme:c,value:h,themes:o,nonce:p,scriptProps:g}),f)},TA=_.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:a,defaultTheme:o,value:c,themes:d,nonce:h,scriptProps:f})=>{let p=JSON.stringify([n,t,o,e,d,c,s,a]).slice(1,-1);return _.createElement("script",oe(L({},f),{suppressHydrationWarning:!0,nonce:typeof window=="undefined"?h:"",dangerouslySetInnerHTML:{__html:`(${bA.toString()})(${p})`}}))}),EA=(e,t)=>{if(vA)return;let n;try{n=localStorage.getItem(e)||void 0}catch(s){}return n||t},kA=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},qg=e=>(e||(e=window.matchMedia(k2)),e.matches?"dark":"light");/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var C2=e=>{throw TypeError(e)},CA=(e,t,n)=>t.has(e)||C2("Cannot "+n),Wg=(e,t,n)=>(CA(e,t,"read from private field"),n?n.call(e):t.get(e)),DA=(e,t,n)=>t.has(e)?C2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),u1="popstate";function OA(e={}){function t(s,a){let{pathname:o,search:c,hash:d}=s.location;return Wu("",{pathname:o,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:zi(a)}return RA(t,n,null,e)}function Wt(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function Qn(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function AA(){return Math.random().toString(36).substring(2,10)}function d1(e,t){return{usr:e.state,key:e.key,idx:t}}function Wu(e,t,n=null,s){return oe(L({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?qi(t):t),{state:n,key:t&&t.key||s||AA()})}function zi({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function qi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function RA(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,c=a.history,d="POP",h=null,f=p();f==null&&(f=0,c.replaceState(oe(L({},c.state),{idx:f}),""));function p(){return(c.state||{idx:null}).idx}function g(){d="POP";let S=p(),N=S==null?null:S-f;f=S,h&&h({action:d,location:v.location,delta:N})}function x(S,N){d="PUSH";let A=Wu(v.location,S,N);f=p()+1;let E=d1(A,f),T=v.createHref(A);try{c.pushState(E,"",T)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(T)}o&&h&&h({action:d,location:v.location,delta:1})}function b(S,N){d="REPLACE";let A=Wu(v.location,S,N);f=p();let E=d1(A,f),T=v.createHref(A);c.replaceState(E,"",T),o&&h&&h({action:d,location:v.location,delta:0})}function j(S){return D2(S)}let v={get action(){return d},get location(){return e(a,c)},listen(S){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(u1,g),h=S,()=>{a.removeEventListener(u1,g),h=null}},createHref(S){return t(a,S)},createURL:j,encodeLocation(S){let N=j(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:b,go(S){return c.go(S)}};return v}function D2(e,t=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:zi(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var Mu,f1=class{constructor(e){if(DA(this,Mu,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(Wg(this,Mu).has(e))return Wg(this,Mu).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Wg(this,Mu).set(e,t)}};Mu=new WeakMap;var MA=new Set(["lazy","caseSensitive","path","id","index","children"]);function PA(e){return MA.has(e)}var LA=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function zA(e){return LA.has(e)}function UA(e){return e.index===!0}function Yu(e,t,n=[],s={},a=!1){return e.map((o,c)=>{let d=[...n,String(c)],h=typeof o.id=="string"?o.id:d.join("-");if(Wt(o.index!==!0||!o.children,"Cannot specify children on an index route"),Wt(a||!s[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),UA(o)){let f=oe(L(L({},o),t(o)),{id:h});return s[h]=f,f}else{let f=oe(L(L({},o),t(o)),{id:h,children:void 0});return s[h]=f,o.children&&(f.children=Yu(o.children,t,d,s,a)),f}})}function Ci(e,t,n="/"){return wh(e,t,n,!1)}function wh(e,t,n,s){let a=typeof t=="string"?qi(t):t,o=kr(a.pathname||"/",n);if(o==null)return null;let c=O2(e);FA(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=QA(o);d=GA(c[h],f,s)}return d}function BA(e,t){let{route:n,pathname:s,params:a}=e;return{id:n.id,pathname:s,params:a,data:t[n.id],handle:n.handle}}function O2(e,t=[],n=[],s=""){let a=(o,c,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(Wt(h.relativePath.startsWith(s),`Absolute route path "${h.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(s.length));let f=ha([s,h.relativePath]),p=n.concat(h);o.children&&o.children.length>0&&(Wt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),O2(o.children,t,p,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:YA(f,o.index),routesMeta:p})};return e.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,c);else for(let h of A2(o.path))a(o,c,h)}),t}function A2(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let c=A2(s.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),a&&d.push(...c),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function FA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:XA(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var $A=/^:[\w-]+$/,HA=3,VA=2,IA=1,qA=10,WA=-2,h1=e=>e==="*";function YA(e,t){let n=e.split("/"),s=n.length;return n.some(h1)&&(s+=WA),t&&(s+=VA),n.filter(a=>!h1(a)).reduce((a,o)=>a+($A.test(o)?HA:o===""?IA:qA),s)}function XA(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function GA(e,t,n=!1){let{routesMeta:s}=e,a={},o="/",c=[];for(let d=0;d<s.length;++d){let h=s[d],f=d===s.length-1,p=o==="/"?t:t.slice(o.length)||"/",g=Ph({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),x=h.route;if(!g&&f&&n&&!s[s.length-1].route.index&&(g=Ph({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:ha([o,g.pathname]),pathnameBase:tR(ha([o,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(o=ha([o,g.pathnameBase]))}return c}function Ph(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=KA(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((f,{paramName:p,isOptional:g},x)=>{if(p==="*"){let j=d[x]||"";c=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const b=d[x];return g&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:e}}function KA(e,t=!1,n=!0){Qn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function QA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function kr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function ZA({basename:e,pathname:t}){return t==="/"?e:ha([e,t])}function JA(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?qi(e):e;return{pathname:n?n.startsWith("/")?n:eR(n,t):t,search:nR(s),hash:sR(a)}}function eR(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Yg(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ix(e){let t=R2(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function qx(e,t,n,s=!1){let a;typeof e=="string"?a=qi(e):(a=L({},e),Wt(!a.pathname||!a.pathname.includes("?"),Yg("?","pathname","search",a)),Wt(!a.pathname||!a.pathname.includes("#"),Yg("#","pathname","hash",a)),Wt(!a.search||!a.search.includes("#"),Yg("#","search","hash",a)));let o=e===""||a.pathname==="",c=o?"/":a.pathname,d;if(c==null)d=n;else{let g=t.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;a.pathname=x.join("/")}d=g>=0?t[g]:"/"}let h=JA(a,d),f=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var ha=e=>e.join("/").replace(/\/\/+/g,"/"),tR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Lh=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Xu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var M2=["POST","PUT","PATCH","DELETE"],rR=new Set(M2),aR=["GET",...M2],iR=new Set(aR),oR=new Set([301,302,303,307,308]),lR=new Set([307,308]),Xg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},uR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wx=e=>uR.test(e),dR=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),P2="remix-router-transitions",L2=Symbol("ResetLoaderData");function fR(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,n=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined";Wt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=e.hydrationRouteProperties||[],a=e.mapRouteProperties||dR,o={},c=Yu(e.routes,a,void 0,o),d,h=e.basename||"/",f=e.dataStrategy||xR,p=L({unstable_middleware:!1},e.future),g=null,x=new Set,b=null,j=null,v=null,S=e.hydrationData!=null,N=Ci(c,e.history.location,h),A=!1,E=null,T;if(N==null&&!e.patchRoutesOnNavigation){let te=vr(404,{pathname:e.history.location.pathname}),{matches:le,route:pe}=S1(c);T=!0,N=le,E={[pe.id]:te}}else if(N&&!e.hydrationData&&Ze(N,c,e.history.location.pathname).active&&(N=null),N)if(N.some(te=>te.route.lazy))T=!1;else if(!N.some(te=>te.route.loader))T=!0;else{let te=e.hydrationData?e.hydrationData.loaderData:null,le=e.hydrationData?e.hydrationData.errors:null;if(le){let pe=N.findIndex(_e=>le[_e.route.id]!==void 0);T=N.slice(0,pe+1).every(_e=>!X0(_e.route,te,le))}else T=N.every(pe=>!X0(pe.route,te,le))}else{T=!1,N=[];let te=Ze(null,c,e.history.location.pathname);te.active&&te.matches&&(A=!0,N=te.matches)}let D,C={historyAction:e.history.action,location:e.history.location,matches:N,initialized:T,navigation:Xg,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||E,fetchers:new Map,blockers:new Map},z="POP",U=!1,R,G=!1,q=new Map,Q=null,W=!1,Y=!1,H=new Set,F=new Map,Z=0,ee=-1,ce=new Map,M=new Set,ie=new Map,se=new Map,V=new Set,ne=new Map,ge,he=null;function Ee(){if(g=e.history.listen(({action:te,location:le,delta:pe})=>{if(ge){ge(),ge=void 0;return}Qn(ne.size===0||pe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=rs({currentLocation:C.location,nextLocation:le,historyAction:te});if(_e&&pe!=null){let Ae=new Promise(Ie=>{ge=Ie});e.history.go(pe*-1),In(_e,{state:"blocked",location:le,proceed(){In(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:le}),Ae.then(()=>e.history.go(pe))},reset(){let Ie=new Map(C.blockers);Ie.set(_e,yu),ze({blockers:Ie})}});return}return Ue(te,le)}),n){kR(t,q);let te=()=>CR(t,q);t.addEventListener("pagehide",te),Q=()=>t.removeEventListener("pagehide",te)}return C.initialized||Ue("POP",C.location,{initialHydration:!0}),D}function Ce(){g&&g(),Q&&Q(),x.clear(),R&&R.abort(),C.fetchers.forEach((te,le)=>jt(le)),C.blockers.forEach((te,le)=>on(le))}function Ve(te){return x.add(te),()=>x.delete(te)}function ze(te,le={}){te.matches&&(te.matches=te.matches.map(Ae=>{let Ie=o[Ae.route.id],st=Ae.route;return st.element!==Ie.element||st.errorElement!==Ie.errorElement||st.hydrateFallbackElement!==Ie.hydrateFallbackElement?oe(L({},Ae),{route:Ie}):Ae})),C=L(L({},C),te);let pe=[],_e=[];C.fetchers.forEach((Ae,Ie)=>{Ae.state==="idle"&&(V.has(Ie)?pe.push(Ie):_e.push(Ie))}),V.forEach(Ae=>{!C.fetchers.has(Ae)&&!F.has(Ae)&&pe.push(Ae)}),[...x].forEach(Ae=>Ae(C,{deletedFetchers:pe,viewTransitionOpts:le.viewTransitionOpts,flushSync:le.flushSync===!0})),pe.forEach(Ae=>jt(Ae)),_e.forEach(Ae=>C.fetchers.delete(Ae))}function tt(te,le,{flushSync:pe}={}){var ut,St;let _e=C.actionData!=null&&C.navigation.formMethod!=null&&Is(C.navigation.formMethod)&&C.navigation.state==="loading"&&((ut=te.state)==null?void 0:ut._isRedirect)!==!0,Ae;le.actionData?Object.keys(le.actionData).length>0?Ae=le.actionData:Ae=null:_e?Ae=C.actionData:Ae=null;let Ie=le.loaderData?_1(C.loaderData,le.loaderData,le.matches||[],le.errors):C.loaderData,st=C.blockers;st.size>0&&(st=new Map(st),st.forEach((Rt,yn)=>st.set(yn,yu)));let lt=W?!1:rn(te,le.matches||C.matches),xt=U===!0||C.navigation.formMethod!=null&&Is(C.navigation.formMethod)&&((St=te.state)==null?void 0:St._isRedirect)!==!0;d&&(c=d,d=void 0),W||z==="POP"||(z==="PUSH"?e.history.push(te,te.state):z==="REPLACE"&&e.history.replace(te,te.state));let Mt;if(z==="POP"){let Rt=q.get(C.location.pathname);Rt&&Rt.has(te.pathname)?Mt={currentLocation:C.location,nextLocation:te}:q.has(te.pathname)&&(Mt={currentLocation:te,nextLocation:C.location})}else if(G){let Rt=q.get(C.location.pathname);Rt?Rt.add(te.pathname):(Rt=new Set([te.pathname]),q.set(C.location.pathname,Rt)),Mt={currentLocation:C.location,nextLocation:te}}ze(oe(L({},le),{actionData:Ae,loaderData:Ie,historyAction:z,location:te,initialized:!0,navigation:Xg,revalidation:"idle",restoreScrollPosition:lt,preventScrollReset:xt,blockers:st}),{viewTransitionOpts:Mt,flushSync:pe===!0}),z="POP",U=!1,G=!1,W=!1,Y=!1,he==null||he.resolve(),he=null}function Ke(te,le){return ve(this,null,function*(){if(typeof te=="number"){e.history.go(te);return}let pe=Y0(C.location,C.matches,h,te,le==null?void 0:le.fromRouteId,le==null?void 0:le.relative),{path:_e,submission:Ae,error:Ie}=m1(!1,pe,le),st=C.location,lt=Wu(C.location,_e,le&&le.state);lt=L(L({},lt),e.history.encodeLocation(lt));let xt=le&&le.replace!=null?le.replace:void 0,Mt="PUSH";xt===!0?Mt="REPLACE":xt===!1||Ae!=null&&Is(Ae.formMethod)&&Ae.formAction===C.location.pathname+C.location.search&&(Mt="REPLACE");let ut=le&&"preventScrollReset"in le?le.preventScrollReset===!0:void 0,St=(le&&le.flushSync)===!0,Rt=rs({currentLocation:st,nextLocation:lt,historyAction:Mt});if(Rt){In(Rt,{state:"blocked",location:lt,proceed(){In(Rt,{state:"proceeding",proceed:void 0,reset:void 0,location:lt}),Ke(te,le)},reset(){let yn=new Map(C.blockers);yn.set(Rt,yu),ze({blockers:yn})}});return}yield Ue(Mt,lt,{submission:Ae,pendingError:Ie,preventScrollReset:ut,replace:le&&le.replace,enableViewTransition:le&&le.viewTransition,flushSync:St})})}function mt(){he||(he=DR()),Re(),ze({revalidation:"loading"});let te=he.promise;return C.navigation.state==="submitting"?te:C.navigation.state==="idle"?(Ue(C.historyAction,C.location,{startUninterruptedRevalidation:!0}),te):(Ue(z||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:G===!0}),te)}function Ue(te,le,pe){return ve(this,null,function*(){R&&R.abort(),R=null,z=te,W=(pe&&pe.startUninterruptedRevalidation)===!0,kt(C.location,C.matches),U=(pe&&pe.preventScrollReset)===!0,G=(pe&&pe.enableViewTransition)===!0;let _e=d||c,Ae=pe&&pe.overrideNavigation,Ie=pe!=null&&pe.initialHydration&&C.matches&&C.matches.length>0&&!A?C.matches:Ci(_e,le,h),st=(pe&&pe.flushSync)===!0;if(Ie&&C.initialized&&!Y&&_R(C.location,le)&&!(pe&&pe.submission&&Is(pe.submission.formMethod))){tt(le,{matches:Ie},{flushSync:st});return}let lt=Ze(Ie,_e,le.pathname);if(lt.active&&lt.matches&&(Ie=lt.matches),!Ie){let{error:fn,notFoundMatches:dt,route:Ct}=Qe(le.pathname);tt(le,{matches:dt,loaderData:{},errors:{[Ct.id]:fn}},{flushSync:st});return}R=new AbortController;let xt=Vl(e.history,le,R.signal,pe&&pe.submission),Mt=new f1(e.unstable_getContext?yield e.unstable_getContext():void 0),ut;if(pe&&pe.pendingError)ut=[Eo(Ie).route.id,{type:"error",error:pe.pendingError}];else if(pe&&pe.submission&&Is(pe.submission.formMethod)){let fn=yield gt(xt,le,pe.submission,Ie,Mt,lt.active,pe&&pe.initialHydration===!0,{replace:pe.replace,flushSync:st});if(fn.shortCircuited)return;if(fn.pendingActionResult){let[dt,Ct]=fn.pendingActionResult;if(sr(Ct)&&Xu(Ct.error)&&Ct.error.status===404){R=null,tt(le,{matches:fn.matches,loaderData:{},errors:{[dt]:Ct.error}});return}}Ie=fn.matches||Ie,ut=fn.pendingActionResult,Ae=Gg(le,pe.submission),st=!1,lt.active=!1,xt=Vl(e.history,xt.url,xt.signal)}let{shortCircuited:St,matches:Rt,loaderData:yn,errors:Rn}=yield Je(xt,le,Ie,Mt,lt.active,Ae,pe&&pe.submission,pe&&pe.fetcherSubmission,pe&&pe.replace,pe&&pe.initialHydration===!0,st,ut);St||(R=null,tt(le,oe(L({matches:Rt||Ie},N1(ut)),{loaderData:yn,errors:Rn})))})}function gt(xt,Mt,ut,St,Rt,yn,Rn){return ve(this,arguments,function*(te,le,pe,_e,Ae,Ie,st,lt={}){Re();let fn=TR(le,pe);if(ze({navigation:fn},{flushSync:lt.flushSync===!0}),Ie){let en=yield Tt(_e,le.pathname,te.signal);if(en.type==="aborted")return{shortCircuited:!0};if(en.type==="error"){let Sn=Eo(en.partialMatches).route.id;return{matches:en.partialMatches,pendingActionResult:[Sn,{type:"error",error:en.error}]}}else if(en.matches)_e=en.matches;else{let{notFoundMatches:Sn,error:Mn,route:Zn}=Qe(le.pathname);return{matches:Sn,pendingActionResult:[Zn.id,{type:"error",error:Mn}]}}}let dt,Ct=jh(_e,le);if(!Ct.route.action&&!Ct.route.lazy)dt={type:"error",error:vr(405,{method:te.method,pathname:le.pathname,routeId:Ct.route.id})};else{let en=Yl(a,o,te,_e,Ct,st?[]:s,Ae),Sn=yield Ne(te,en,Ae,null);if(dt=Sn[Ct.route.id],!dt){for(let Mn of _e)if(Sn[Mn.route.id]){dt=Sn[Mn.route.id];break}}if(te.signal.aborted)return{shortCircuited:!0}}if(Ao(dt)){let en;return lt&&lt.replace!=null?en=lt.replace:en=v1(dt.response.headers.get("Location"),new URL(te.url),h)===C.location.pathname+C.location.search,yield X(te,dt,!0,{submission:pe,replace:en}),{shortCircuited:!0}}if(sr(dt)){let en=Eo(_e,Ct.route.id);return(lt&&lt.replace)!==!0&&(z="PUSH"),{matches:_e,pendingActionResult:[en.route.id,dt,Ct.route.id]}}return{matches:_e,pendingActionResult:[Ct.route.id,dt]}})}function Je(te,le,pe,_e,Ae,Ie,st,lt,xt,Mt,ut,St){return ve(this,null,function*(){let Rt=Ie||Gg(le,st),yn=st||lt||E1(Rt),Rn=!W&&!Mt;if(Ae){if(Rn){let Pn=Me(St);ze(L({navigation:Rt},Pn!==void 0?{actionData:Pn}:{}),{flushSync:ut})}let Lt=yield Tt(pe,le.pathname,te.signal);if(Lt.type==="aborted")return{shortCircuited:!0};if(Lt.type==="error"){let Pn=Eo(Lt.partialMatches).route.id;return{matches:Lt.partialMatches,loaderData:{},errors:{[Pn]:Lt.error}}}else if(Lt.matches)pe=Lt.matches;else{let{error:Pn,notFoundMatches:wa,route:ds}=Qe(le.pathname);return{matches:wa,loaderData:{},errors:{[ds.id]:Pn}}}}let fn=d||c,{dsMatches:dt,revalidatingFetchers:Ct}=p1(te,_e,a,o,e.history,C,pe,yn,le,Mt?[]:s,Mt===!0,Y,H,V,ie,M,fn,h,e.patchRoutesOnNavigation!=null,St);if(ee=++Z,!e.dataStrategy&&!dt.some(Lt=>Lt.shouldLoad)&&Ct.length===0){let Lt=Ft();return tt(le,L(L({matches:pe,loaderData:{},errors:St&&sr(St[1])?{[St[0]]:St[1].error}:null},N1(St)),Lt?{fetchers:new Map(C.fetchers)}:{}),{flushSync:ut}),{shortCircuited:!0}}if(Rn){let Lt={};if(!Ae){Lt.navigation=Rt;let Pn=Me(St);Pn!==void 0&&(Lt.actionData=Pn)}Ct.length>0&&(Lt.fetchers=nt(Ct)),ze(Lt,{flushSync:ut})}Ct.forEach(Lt=>{Pe(Lt.key),Lt.controller&&F.set(Lt.key,Lt.controller)});let en=()=>Ct.forEach(Lt=>Pe(Lt.key));R&&R.signal.addEventListener("abort",en);let{loaderResults:Sn,fetcherResults:Mn}=yield Le(dt,Ct,te,_e);if(te.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",en),Ct.forEach(Lt=>F.delete(Lt.key));let Zn=Lf(Sn);if(Zn)return yield X(te,Zn.result,!0,{replace:xt}),{shortCircuited:!0};if(Zn=Lf(Mn),Zn)return M.add(Zn.key),yield X(te,Zn.result,!0,{replace:xt}),{shortCircuited:!0};let{loaderData:as,errors:lr}=j1(C,pe,Sn,St,Ct,Mn);Mt&&C.errors&&(lr=L(L({},C.errors),lr));let cr=Ft(),ws=Xt(ee),ur=cr||ws||Ct.length>0;return L({matches:pe,loaderData:as,errors:lr},ur?{fetchers:new Map(C.fetchers)}:{})})}function Me(te){if(te&&!sr(te[1]))return{[te[0]]:te[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function nt(te){return te.forEach(le=>{let pe=C.fetchers.get(le.key),_e=bu(void 0,pe?pe.data:void 0);C.fetchers.set(le.key,_e)}),new Map(C.fetchers)}function ot(te,le,pe,_e){return ve(this,null,function*(){Pe(te);let Ae=(_e&&_e.flushSync)===!0,Ie=d||c,st=Y0(C.location,C.matches,h,pe,le,_e==null?void 0:_e.relative),lt=Ci(Ie,st,h),xt=Ze(lt,Ie,st);if(xt.active&&xt.matches&&(lt=xt.matches),!lt){Ye(te,le,vr(404,{pathname:st}),{flushSync:Ae});return}let{path:Mt,submission:ut,error:St}=m1(!0,st,_e);if(St){Ye(te,le,St,{flushSync:Ae});return}let Rt=new f1(e.unstable_getContext?yield e.unstable_getContext():void 0),yn=(_e&&_e.preventScrollReset)===!0;if(ut&&Is(ut.formMethod)){yield K(te,le,Mt,lt,Rt,xt.active,Ae,yn,ut);return}ie.set(te,{routeId:le,path:Mt}),yield fe(te,le,Mt,lt,Rt,xt.active,Ae,yn,ut)})}function K(te,le,pe,_e,Ae,Ie,st,lt,xt){return ve(this,null,function*(){Re(),ie.delete(te);let Mt=C.fetchers.get(te);He(te,ER(xt,Mt),{flushSync:st});let ut=new AbortController,St=Vl(e.history,pe,ut.signal,xt);if(Ie){let vn=yield Tt(_e,new URL(St.url).pathname,St.signal,te);if(vn.type==="aborted")return;if(vn.type==="error"){Ye(te,le,vn.error,{flushSync:st});return}else if(vn.matches)_e=vn.matches;else{Ye(te,le,vr(404,{pathname:pe}),{flushSync:st});return}}let Rt=jh(_e,pe);if(!Rt.route.action&&!Rt.route.lazy){let vn=vr(405,{method:xt.formMethod,pathname:pe,routeId:le});Ye(te,le,vn,{flushSync:st});return}F.set(te,ut);let yn=Z,Rn=Yl(a,o,St,_e,Rt,s,Ae),dt=(yield Ne(St,Rn,Ae,te))[Rt.route.id];if(St.signal.aborted){F.get(te)===ut&&F.delete(te);return}if(V.has(te)){if(Ao(dt)||sr(dt)){He(te,Ti(void 0));return}}else{if(Ao(dt))if(F.delete(te),ee>yn){He(te,Ti(void 0));return}else return M.add(te),He(te,bu(xt)),X(St,dt,!1,{fetcherSubmission:xt,preventScrollReset:lt});if(sr(dt)){Ye(te,le,dt.error);return}}let Ct=C.navigation.location||C.location,en=Vl(e.history,Ct,ut.signal),Sn=d||c,Mn=C.navigation.state!=="idle"?Ci(Sn,C.navigation.location,h):C.matches;Wt(Mn,"Didn't find any matches after fetcher action");let Zn=++Z;ce.set(te,Zn);let as=bu(xt,dt.data);C.fetchers.set(te,as);let{dsMatches:lr,revalidatingFetchers:cr}=p1(en,Ae,a,o,e.history,C,Mn,xt,Ct,s,!1,Y,H,V,ie,M,Sn,h,e.patchRoutesOnNavigation!=null,[Rt.route.id,dt]);cr.filter(vn=>vn.key!==te).forEach(vn=>{let Ar=vn.key,Go=C.fetchers.get(Ar),Ko=bu(void 0,Go?Go.data:void 0);C.fetchers.set(Ar,Ko),Pe(Ar),vn.controller&&F.set(Ar,vn.controller)}),ze({fetchers:new Map(C.fetchers)});let ws=()=>cr.forEach(vn=>Pe(vn.key));ut.signal.addEventListener("abort",ws);let{loaderResults:ur,fetcherResults:Lt}=yield Le(lr,cr,en,Ae);if(ut.signal.aborted)return;if(ut.signal.removeEventListener("abort",ws),ce.delete(te),F.delete(te),cr.forEach(vn=>F.delete(vn.key)),C.fetchers.has(te)){let vn=Ti(dt.data);C.fetchers.set(te,vn)}let Pn=Lf(ur);if(Pn)return X(en,Pn.result,!1,{preventScrollReset:lt});if(Pn=Lf(Lt),Pn)return M.add(Pn.key),X(en,Pn.result,!1,{preventScrollReset:lt});let{loaderData:wa,errors:ds}=j1(C,Mn,ur,void 0,cr,Lt);Xt(Zn),C.navigation.state==="loading"&&Zn>ee?(Wt(z,"Expected pending action"),R&&R.abort(),tt(C.navigation.location,{matches:Mn,loaderData:wa,errors:ds,fetchers:new Map(C.fetchers)})):(ze({errors:ds,loaderData:_1(C.loaderData,wa,Mn,ds),fetchers:new Map(C.fetchers)}),Y=!1)})}function fe(te,le,pe,_e,Ae,Ie,st,lt,xt){return ve(this,null,function*(){let Mt=C.fetchers.get(te);He(te,bu(xt,Mt?Mt.data:void 0),{flushSync:st});let ut=new AbortController,St=Vl(e.history,pe,ut.signal);if(Ie){let Ct=yield Tt(_e,new URL(St.url).pathname,St.signal,te);if(Ct.type==="aborted")return;if(Ct.type==="error"){Ye(te,le,Ct.error,{flushSync:st});return}else if(Ct.matches)_e=Ct.matches;else{Ye(te,le,vr(404,{pathname:pe}),{flushSync:st});return}}let Rt=jh(_e,pe);F.set(te,ut);let yn=Z,Rn=Yl(a,o,St,_e,Rt,s,Ae),dt=(yield Ne(St,Rn,Ae,te))[Rt.route.id];if(F.get(te)===ut&&F.delete(te),!St.signal.aborted){if(V.has(te)){He(te,Ti(void 0));return}if(Ao(dt))if(ee>yn){He(te,Ti(void 0));return}else{M.add(te),yield X(St,dt,!1,{preventScrollReset:lt});return}if(sr(dt)){Ye(te,le,dt.error);return}He(te,Ti(dt.data))}})}function X(lt,xt,Mt){return ve(this,arguments,function*(te,le,pe,{submission:_e,fetcherSubmission:Ae,preventScrollReset:Ie,replace:st}={}){le.response.headers.has("X-Remix-Revalidate")&&(Y=!0);let ut=le.response.headers.get("Location");Wt(ut,"Expected a Location header on the redirect Response"),ut=v1(ut,new URL(te.url),h);let St=Wu(C.location,ut,{_isRedirect:!0});if(n){let Ct=!1;if(le.response.headers.has("X-Remix-Reload-Document"))Ct=!0;else if(Wx(ut)){const en=D2(ut,!0);Ct=en.origin!==t.location.origin||kr(en.pathname,h)==null}if(Ct){st?t.location.replace(ut):t.location.assign(ut);return}}R=null;let Rt=st===!0||le.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:yn,formAction:Rn,formEncType:fn}=C.navigation;!_e&&!Ae&&yn&&Rn&&fn&&(_e=E1(C.navigation));let dt=_e||Ae;if(lR.has(le.response.status)&&dt&&Is(dt.formMethod))yield Ue(Rt,St,{submission:oe(L({},dt),{formAction:ut}),preventScrollReset:Ie||U,enableViewTransition:pe?G:void 0});else{let Ct=Gg(St,_e);yield Ue(Rt,St,{overrideNavigation:Ct,fetcherSubmission:Ae,preventScrollReset:Ie||U,enableViewTransition:pe?G:void 0})}})}function Ne(te,le,pe,_e){return ve(this,null,function*(){let Ae,Ie={};try{Ae=yield yR(f,te,le,_e,pe,!1)}catch(st){return le.filter(lt=>lt.shouldLoad).forEach(lt=>{Ie[lt.route.id]={type:"error",error:st}}),Ie}if(te.signal.aborted)return Ie;for(let[st,lt]of Object.entries(Ae))if(NR(lt)){let xt=lt.result;Ie[st]={type:"redirect",response:wR(xt,te,st,le,h)}}else Ie[st]=yield vR(lt);return Ie})}function Le(te,le,pe,_e){return ve(this,null,function*(){let Ae=Ne(pe,te,_e,null),Ie=Promise.all(le.map(xt=>ve(null,null,function*(){if(xt.matches&&xt.match&&xt.request&&xt.controller){let ut=(yield Ne(xt.request,xt.matches,_e,xt.key))[xt.match.route.id];return{[xt.key]:ut}}else return Promise.resolve({[xt.key]:{type:"error",error:vr(404,{pathname:xt.path})}})}))),st=yield Ae,lt=(yield Ie).reduce((xt,Mt)=>Object.assign(xt,Mt),{});return{loaderResults:st,fetcherResults:lt}})}function Re(){Y=!0,ie.forEach((te,le)=>{F.has(le)&&H.add(le),Pe(le)})}function He(te,le,pe={}){C.fetchers.set(te,le),ze({fetchers:new Map(C.fetchers)},{flushSync:(pe&&pe.flushSync)===!0})}function Ye(te,le,pe,_e={}){let Ae=Eo(C.matches,le);jt(te),ze({errors:{[Ae.route.id]:pe},fetchers:new Map(C.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function et(te){return se.set(te,(se.get(te)||0)+1),V.has(te)&&V.delete(te),C.fetchers.get(te)||cR}function jt(te){let le=C.fetchers.get(te);F.has(te)&&!(le&&le.state==="loading"&&ce.has(te))&&Pe(te),ie.delete(te),ce.delete(te),M.delete(te),V.delete(te),H.delete(te),C.fetchers.delete(te)}function Se(te){let le=(se.get(te)||0)-1;le<=0?(se.delete(te),V.add(te)):se.set(te,le),ze({fetchers:new Map(C.fetchers)})}function Pe(te){let le=F.get(te);le&&(le.abort(),F.delete(te))}function qe(te){for(let le of te){let pe=et(le),_e=Ti(pe.data);C.fetchers.set(le,_e)}}function Ft(){let te=[],le=!1;for(let pe of M){let _e=C.fetchers.get(pe);Wt(_e,`Expected fetcher: ${pe}`),_e.state==="loading"&&(M.delete(pe),te.push(pe),le=!0)}return qe(te),le}function Xt(te){let le=[];for(let[pe,_e]of ce)if(_e<te){let Ae=C.fetchers.get(pe);Wt(Ae,`Expected fetcher: ${pe}`),Ae.state==="loading"&&(Pe(pe),ce.delete(pe),le.push(pe))}return qe(le),le.length>0}function Gt(te,le){let pe=C.blockers.get(te)||yu;return ne.get(te)!==le&&ne.set(te,le),pe}function on(te){C.blockers.delete(te),ne.delete(te)}function In(te,le){let pe=C.blockers.get(te)||yu;Wt(pe.state==="unblocked"&&le.state==="blocked"||pe.state==="blocked"&&le.state==="blocked"||pe.state==="blocked"&&le.state==="proceeding"||pe.state==="blocked"&&le.state==="unblocked"||pe.state==="proceeding"&&le.state==="unblocked",`Invalid blocker state transition: ${pe.state} -> ${le.state}`);let _e=new Map(C.blockers);_e.set(te,le),ze({blockers:_e})}function rs({currentLocation:te,nextLocation:le,historyAction:pe}){if(ne.size===0)return;ne.size>1&&Qn(!1,"A router only supports one blocker at a time");let _e=Array.from(ne.entries()),[Ae,Ie]=_e[_e.length-1],st=C.blockers.get(Ae);if(!(st&&st.state==="proceeding")&&Ie({currentLocation:te,nextLocation:le,historyAction:pe}))return Ae}function Qe(te){let le=vr(404,{pathname:te}),pe=d||c,{matches:_e,route:Ae}=S1(pe);return{notFoundMatches:_e,route:Ae,error:le}}function zt(te,le,pe){if(b=te,v=le,j=pe||null,!S&&C.navigation===Xg){S=!0;let _e=rn(C.location,C.matches);_e!=null&&ze({restoreScrollPosition:_e})}return()=>{b=null,v=null,j=null}}function Vt(te,le){return j&&j(te,le.map(_e=>BA(_e,C.loaderData)))||te.key}function kt(te,le){if(b&&v){let pe=Vt(te,le);b[pe]=v()}}function rn(te,le){if(b){let pe=Vt(te,le),_e=b[pe];if(typeof _e=="number")return _e}return null}function Ze(te,le,pe){if(e.patchRoutesOnNavigation)if(te){if(Object.keys(te[0].params).length>0)return{active:!0,matches:wh(le,pe,h,!0)}}else return{active:!0,matches:wh(le,pe,h,!0)||[]};return{active:!1,matches:null}}function Tt(te,le,pe,_e){return ve(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:te};let Ae=te;for(;;){let Ie=d==null,st=d||c,lt=o;try{yield e.patchRoutesOnNavigation({signal:pe,path:le,matches:Ae,fetcherKey:_e,patch:(ut,St)=>{pe.aborted||g1(ut,St,st,lt,a,!1)}})}catch(ut){return{type:"error",error:ut,partialMatches:Ae}}finally{Ie&&!pe.aborted&&(c=[...c])}if(pe.aborted)return{type:"aborted"};let xt=Ci(st,le,h);if(xt)return{type:"success",matches:xt};let Mt=wh(st,le,h,!0);if(!Mt||Ae.length===Mt.length&&Ae.every((ut,St)=>ut.route.id===Mt[St].route.id))return{type:"success",matches:null};Ae=Mt}})}function Kt(te){o={},d=Yu(te,a,void 0,o)}function Jt(te,le,pe=!1){let _e=d==null;g1(te,le,d||c,o,a,pe),_e&&(c=[...c],ze({}))}return D={get basename(){return h},get future(){return p},get state(){return C},get routes(){return c},get window(){return t},initialize:Ee,subscribe:Ve,enableScrollRestoration:zt,navigate:Ke,fetch:ot,revalidate:mt,createHref:te=>e.history.createHref(te),encodeLocation:te=>e.history.encodeLocation(te),getFetcher:et,deleteFetcher:Se,dispose:Ce,getBlocker:Gt,deleteBlocker:on,patchRoutes:Jt,_internalFetchControllers:F,_internalSetRoutes:Kt,_internalSetStateDoNotUseOrYouWillBreakYourApp(te){ze(te)}},D}function hR(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Y0(e,t,n,s,a,o){let c,d;if(a){c=[];for(let f of t)if(c.push(f),f.route.id===a){d=f;break}}else c=t,d=t[t.length-1];let h=qx(s||".",Ix(c),kr(e.pathname,n)||e.pathname,o==="path");if(s==null&&(h.search=e.search,h.hash=e.hash),(s==null||s===""||s===".")&&d){let f=Yx(h.search);if(d.route.index&&!f)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&f){let p=new URLSearchParams(h.search),g=p.getAll("index");p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let x=p.toString();h.search=x?`?${x}`:""}}return n!=="/"&&(h.pathname=ZA({basename:n,pathname:h.pathname})),zi(h)}function m1(e,t,n){if(!n||!hR(n))return{path:t};if(n.formMethod&&!SR(n.formMethod))return{path:t,error:vr(405,{method:n.formMethod})};let s=()=>({path:t,error:vr(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),c=H2(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Is(o))return s();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((x,[b,j])=>`${x}${b}=${j}
`,""):String(n.body);return{path:t,submission:{formMethod:o,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!Is(o))return s();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:o,formAction:c,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch(g){return s()}}}Wt(typeof FormData=="function","FormData is not available in this environment");let d,h;if(n.formData)d=K0(n.formData),h=n.formData;else if(n.body instanceof FormData)d=K0(n.body),h=n.body;else if(n.body instanceof URLSearchParams)d=n.body,h=w1(d);else if(n.body==null)d=new URLSearchParams,h=new FormData;else try{d=new URLSearchParams(n.body),h=w1(d)}catch(g){return s()}let f={formMethod:o,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Is(f.formMethod))return{path:t,submission:f};let p=qi(t);return e&&p.search&&Yx(p.search)&&d.append("index",""),p.search=`?${d}`,{path:zi(p),submission:f}}function p1(e,t,n,s,a,o,c,d,h,f,p,g,x,b,j,v,S,N,A,E){var W;let T=E?sr(E[1])?E[1].error:E[1].data:void 0,D=a.createURL(o.location),C=a.createURL(h),z;if(p&&o.errors){let Y=Object.keys(o.errors)[0];z=c.findIndex(H=>H.route.id===Y)}else if(E&&sr(E[1])){let Y=E[0];z=c.findIndex(H=>H.route.id===Y)-1}let U=E?E[1].statusCode:void 0,R=U&&U>=400,G=oe(L({currentUrl:D,currentParams:((W=o.matches[0])==null?void 0:W.params)||{},nextUrl:C,nextParams:c[0].params},d),{actionResult:T,actionStatus:U}),q=c.map((Y,H)=>{let{route:F}=Y,Z=null;if(z!=null&&H>z?Z=!1:F.lazy?Z=!0:F.loader==null?Z=!1:p?Z=X0(F,o.loaderData,o.errors):mR(o.loaderData,o.matches[H],Y)&&(Z=!0),Z!==null)return G0(n,s,e,Y,f,t,Z);let ee=R?!1:g||D.pathname+D.search===C.pathname+C.search||D.search!==C.search||pR(o.matches[H],Y),ce=oe(L({},G),{defaultShouldRevalidate:ee}),M=zh(Y,ce);return G0(n,s,e,Y,f,t,M,ce)}),Q=[];return j.forEach((Y,H)=>{if(p||!c.some(V=>V.route.id===Y.routeId)||b.has(H))return;let F=o.fetchers.get(H),Z=F&&F.state!=="idle"&&F.data===void 0,ee=Ci(S,Y.path,N);if(!ee){if(A&&Z)return;Q.push({key:H,routeId:Y.routeId,path:Y.path,matches:null,match:null,request:null,controller:null});return}if(v.has(H))return;let ce=jh(ee,Y.path),M=new AbortController,ie=Vl(a,Y.path,M.signal),se=null;if(x.has(H))x.delete(H),se=Yl(n,s,ie,ee,ce,f,t);else if(Z)g&&(se=Yl(n,s,ie,ee,ce,f,t));else{let V=oe(L({},G),{defaultShouldRevalidate:R?!1:g});zh(ce,V)&&(se=Yl(n,s,ie,ee,ce,f,t,V))}se&&Q.push({key:H,routeId:Y.routeId,path:Y.path,matches:se,match:ce,request:ie,controller:M})}),{dsMatches:q,revalidatingFetchers:Q}}function X0(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let s=t!=null&&e.id in t,a=n!=null&&n[e.id]!==void 0;return!s&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!a}function mR(e,t,n){let s=!t||n.route.id!==t.route.id,a=!e.hasOwnProperty(n.route.id);return s||a}function pR(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function zh(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function g1(e,t,n,s,a,o){let c;if(e){let f=s[e];Wt(f,`No route found to patch children into: routeId = ${e}`),f.children||(f.children=[]),c=f.children}else c=n;let d=[],h=[];if(t.forEach(f=>{let p=c.find(g=>z2(f,g));p?h.push({existingRoute:p,newRoute:f}):d.push(f)}),d.length>0){let f=Yu(d,a,[e||"_","patch",String((c==null?void 0:c.length)||"0")],s);c.push(...f)}if(o&&h.length>0)for(let f=0;f<h.length;f++){let{existingRoute:p,newRoute:g}=h[f],x=p,[b]=Yu([g],a,[],{},!0);Object.assign(x,{element:b.element?b.element:x.element,errorElement:b.errorElement?b.errorElement:x.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:x.hydrateFallbackElement})}}function z2(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,s)=>{var a;return(a=t.children)==null?void 0:a.some(o=>z2(n,o))}):!1}var x1=new WeakMap,U2=({key:e,route:t,manifest:n,mapRouteProperties:s})=>{let a=n[t.id];if(Wt(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[e];if(!o)return;let c=x1.get(a);c||(c={},x1.set(a,c));let d=c[e];if(d)return d;let h=ve(null,null,function*(){let f=PA(e),g=a[e]!==void 0&&e!=="hasErrorBoundary";if(f)Qn(!f,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),c[e]=Promise.resolve();else if(g)Qn(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let x=yield o();x!=null&&(Object.assign(a,{[e]:x}),Object.assign(a,s(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(x=>x===void 0)&&(a.lazy=void 0))});return c[e]=h,h},y1=new WeakMap;function gR(e,t,n,s,a){let o=n[e.id];if(Wt(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let p=y1.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let g=ve(null,null,function*(){Wt(typeof e.lazy=="function","No lazy route function found");let x=yield e.lazy(),b={};for(let j in x){let v=x[j];if(v===void 0)continue;let S=zA(j),A=o[j]!==void 0&&j!=="hasErrorBoundary";S?Qn(!S,"Route property "+j+" is not a supported property to be returned from a lazy route function. This property will be ignored."):A?Qn(!A,`Route "${o.id}" has a static property "${j}" defined but its lazy function is also returning a value for this property. The lazy route property "${j}" will be ignored.`):b[j]=v}Object.assign(o,b),Object.assign(o,oe(L({},s(o)),{lazy:void 0}))});return y1.set(o,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let c=Object.keys(e.lazy),d=[],h;for(let p of c){if(a&&a.includes(p))continue;let g=U2({key:p,route:e,manifest:n,mapRouteProperties:s});g&&(d.push(g),p===t&&(h=g))}let f=d.length>0?Promise.all(d).then(()=>{}):void 0;return f==null||f.catch(()=>{}),h==null||h.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:h}}function b1(e){return ve(this,null,function*(){let t=e.matches.filter(a=>a.shouldLoad),n={};return(yield Promise.all(t.map(a=>a.resolve()))).forEach((a,o)=>{n[t[o].route.id]=a}),n})}function xR(e){return ve(this,null,function*(){return e.matches.some(t=>t.route.unstable_middleware)?B2(e,!1,()=>b1(e),(t,n)=>({[n]:{type:"error",result:t}})):b1(e)})}function B2(e,t,n,s){return ve(this,null,function*(){let{matches:a,request:o,params:c,context:d}=e,h={handlerResult:void 0};try{let f=a.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(x=>[g.route.id,x]):[]),p=yield F2({request:o,params:c,context:d},f,t,h,n);return t?p:h.handlerResult}catch(f){if(!h.middlewareError)throw f;let p=yield s(h.middlewareError.error,h.middlewareError.routeId);return h.handlerResult?Object.assign(h.handlerResult,p):p}})}function F2(e,t,n,s,a,o=0){return ve(this,null,function*(){let{request:c}=e;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let d=t[o];if(!d)return s.handlerResult=yield a(),s.handlerResult;let[h,f]=d,p=!1,g,x=()=>ve(null,null,function*(){if(p)throw new Error("You may only call `next()` once per middleware");p=!0,yield F2(e,t,n,s,a,o+1)});try{let b=yield f({request:e.request,params:e.params,context:e.context},x);return p?b===void 0?g:b:x()}catch(b){throw s.middlewareError?s.middlewareError.error!==b&&(s.middlewareError={routeId:h,error:b}):s.middlewareError={routeId:h,error:b},b}})}function $2(e,t,n,s,a){let o=U2({key:"unstable_middleware",route:s.route,manifest:t,mapRouteProperties:e}),c=gR(s.route,Is(n.method)?"action":"loader",t,e,a);return{middleware:o,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function G0(e,t,n,s,a,o,c,d=null){let h=!1,f=$2(e,t,n,s,a);return oe(L({},s),{_lazyPromises:f,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(p){return h=!0,d?typeof p=="boolean"?zh(s,oe(L({},d),{defaultShouldRevalidate:p})):zh(s,d):c},resolve(p){return h||c||p&&!Is(n.method)&&(s.route.lazy||s.route.loader)?bR({request:n,match:s,lazyHandlerPromise:f==null?void 0:f.handler,lazyRoutePromise:f==null?void 0:f.route,handlerOverride:p,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}})}function Yl(e,t,n,s,a,o,c,d=null){return s.map(h=>h.route.id!==a.route.id?oe(L({},h),{shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:$2(e,t,n,h,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}):G0(e,t,n,h,o,c,!0,d))}function yR(e,t,n,s,a,o){return ve(this,null,function*(){n.some(f=>{var p;return(p=f._lazyPromises)==null?void 0:p.middleware})&&(yield Promise.all(n.map(f=>{var p;return(p=f._lazyPromises)==null?void 0:p.middleware})));let c={request:t,params:n[0].params,context:a,matches:n},d=f=>{let p=c;return B2(p,!1,()=>f(oe(L({},p),{fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(g,x)=>({[x]:{type:"error",result:g}}))},h=yield e(oe(L({},c),{fetcherKey:s,unstable_runClientMiddleware:d}));try{yield Promise.all(n.flatMap(f=>{var p,g;return[(p=f._lazyPromises)==null?void 0:p.handler,(g=f._lazyPromises)==null?void 0:g.route]}))}catch(f){}return h})}function bR(c){return ve(this,arguments,function*({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:a,scopedContext:o}){let d,h,f=Is(e.method),p=f?"action":"loader",g=x=>{let b,j=new Promise((N,A)=>b=A);h=()=>b(),e.signal.addEventListener("abort",h);let v=N=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${t.route.id}]`)):x({request:e,params:t.params,context:o},...N!==void 0?[N]:[]),S=ve(null,null,function*(){try{return{type:"data",result:yield a?a(A=>v(A)):v()}}catch(N){return{type:"error",result:N}}});return Promise.race([S,j])};try{let x=f?t.route.action:t.route.loader;if(n||s)if(x){let b,[j]=yield Promise.all([g(x).catch(v=>{b=v}),n,s]);if(b!==void 0)throw b;d=j}else{yield n;let b=f?t.route.action:t.route.loader;if(b)[d]=yield Promise.all([g(b),s]);else if(p==="action"){let j=new URL(e.url),v=j.pathname+j.search;throw vr(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(x)d=yield g(x);else{let b=new URL(e.url),j=b.pathname+b.search;throw vr(404,{pathname:j})}}catch(x){return{type:"error",result:x}}finally{h&&e.signal.removeEventListener("abort",h)}return d})}function vR(e){return ve(this,null,function*(){var s,a,o,c,d,h;let{result:t,type:n}=e;if(V2(t)){let f;try{let p=t.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?t.body==null?f=null:f=yield t.json():f=yield t.text()}catch(p){return{type:"error",error:p}}return n==="error"?{type:"error",error:new Lh(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:"data",data:f,statusCode:t.status,headers:t.headers}}return n==="error"?T1(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Lh(((o=t.init)==null?void 0:o.status)||500,void 0,t.data),statusCode:Xu(t)?t.status:void 0,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Xu(t)?t.status:void 0}:T1(t)?{type:"data",data:t.data,statusCode:(d=t.init)==null?void 0:d.status,headers:(h=t.init)!=null&&h.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}})}function wR(e,t,n,s,a){let o=e.headers.get("Location");if(Wt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Wx(o)){let c=s.slice(0,s.findIndex(d=>d.route.id===n)+1);o=Y0(new URL(t.url),c,a,o),e.headers.set("Location",o)}return e}function v1(e,t,n){if(Wx(e)){let s=e,a=s.startsWith("//")?new URL(t.protocol+s):new URL(s),o=kr(a.pathname,n)!=null;if(a.origin===t.origin&&o)return a.pathname+a.search+a.hash}return e}function Vl(e,t,n,s){let a=e.createURL(H2(t)).toString(),o={signal:n};if(s&&Is(s.formMethod)){let{formMethod:c,formEncType:d}=s;o.method=c.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(s.json)):d==="text/plain"?o.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?o.body=K0(s.formData):o.body=s.formData}return new Request(a,o)}function K0(e){let t=new URLSearchParams;for(let[n,s]of e.entries())t.append(n,typeof s=="string"?s:s.name);return t}function w1(e){let t=new FormData;for(let[n,s]of e.entries())t.append(n,s);return t}function jR(e,t,n,s=!1,a=!1){let o={},c=null,d,h=!1,f={},p=n&&sr(n[1])?n[1].error:void 0;return e.forEach(g=>{if(!(g.route.id in t))return;let x=g.route.id,b=t[x];if(Wt(!Ao(b),"Cannot handle redirect results in processLoaderData"),sr(b)){let j=b.error;if(p!==void 0&&(j=p,p=void 0),c=c||{},a)c[x]=j;else{let v=Eo(e,x);c[v.route.id]==null&&(c[v.route.id]=j)}s||(o[x]=L2),h||(h=!0,d=Xu(b.error)?b.error.status:500),b.headers&&(f[x]=b.headers)}else o[x]=b.data,b.statusCode&&b.statusCode!==200&&!h&&(d=b.statusCode),b.headers&&(f[x]=b.headers)}),p!==void 0&&n&&(c={[n[0]]:p},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:c,statusCode:d||200,loaderHeaders:f}}function j1(e,t,n,s,a,o){let{loaderData:c,errors:d}=jR(t,n,s);return a.filter(h=>!h.matches||h.matches.some(f=>f.shouldLoad)).forEach(h=>{let{key:f,match:p,controller:g}=h,x=o[f];if(Wt(x,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(sr(x)){let b=Eo(e.matches,p==null?void 0:p.route.id);d&&d[b.route.id]||(d=oe(L({},d),{[b.route.id]:x.error})),e.fetchers.delete(f)}else if(Ao(x))Wt(!1,"Unhandled fetcher revalidation redirect");else{let b=Ti(x.data);e.fetchers.set(f,b)}}),{loaderData:c,errors:d}}function _1(e,t,n,s){let a=Object.entries(t).filter(([,o])=>o!==L2).reduce((o,[c,d])=>(o[c]=d,o),{});for(let o of n){let c=o.route.id;if(!t.hasOwnProperty(c)&&e.hasOwnProperty(c)&&o.route.loader&&(a[c]=e[c]),s&&s.hasOwnProperty(c))break}return a}function N1(e){return e?sr(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Eo(e,t){return(t?e.slice(0,e.findIndex(s=>s.route.id===t)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function S1(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function vr(e,{pathname:t,routeId:n,method:s,type:a,message:o}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(c="Bad Request",s&&t&&n?d=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):e===403?(c="Forbidden",d=`Route "${n}" does not match URL "${t}"`):e===404?(c="Not Found",d=`No route matches URL "${t}"`):e===405&&(c="Method Not Allowed",s&&t&&n?d=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new Lh(e||500,c,new Error(d),!0)}function Lf(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[s,a]=t[n];if(Ao(a))return{key:s,result:a}}}function H2(e){let t=typeof e=="string"?qi(e):e;return zi(oe(L({},t),{hash:""}))}function _R(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function NR(e){return V2(e.result)&&oR.has(e.result.status)}function sr(e){return e.type==="error"}function Ao(e){return(e&&e.type)==="redirect"}function T1(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function V2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function SR(e){return iR.has(e.toUpperCase())}function Is(e){return rR.has(e.toUpperCase())}function Yx(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function jh(e,t){let n=typeof t=="string"?qi(t).search:t.search;if(e[e.length-1].route.index&&Yx(n||""))return e[e.length-1];let s=R2(e);return s[s.length-1]}function E1(e){let{formMethod:t,formAction:n,formEncType:s,text:a,formData:o,json:c}=e;if(!(!t||!n||!s)){if(a!=null)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:t,formAction:n,formEncType:s,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:c,text:void 0}}}function Gg(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function TR(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function bu(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ER(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ti(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function kR(e,t){try{let n=e.sessionStorage.getItem(P2);if(n){let s=JSON.parse(n);for(let[a,o]of Object.entries(s||{}))o&&Array.isArray(o)&&t.set(a,new Set(o||[]))}}catch(n){}}function CR(e,t){if(t.size>0){let n={};for(let[s,a]of t)n[s]=[...a];try{e.sessionStorage.setItem(P2,JSON.stringify(n))}catch(s){Qn(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function DR(){let e,t,n=new Promise((s,a)=>{e=o=>ve(null,null,function*(){s(o);try{yield n}catch(c){}}),t=o=>ve(null,null,function*(){a(o);try{yield n}catch(c){}})});return{promise:n,resolve:e,reject:t}}var Yo=_.createContext(null);Yo.displayName="DataRouter";var ad=_.createContext(null);ad.displayName="DataRouterState";_.createContext(!1);var Xx=_.createContext({isTransitioning:!1});Xx.displayName="ViewTransition";var I2=_.createContext(new Map);I2.displayName="Fetchers";var OR=_.createContext(null);OR.displayName="Await";var ya=_.createContext(null);ya.displayName="Navigation";var fm=_.createContext(null);fm.displayName="Location";var ba=_.createContext({outlet:null,matches:[],isDataRoute:!1});ba.displayName="Route";var Gx=_.createContext(null);Gx.displayName="RouteError";function AR(e,{relative:t}={}){Wt(id(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=_.useContext(ya),{hash:a,pathname:o,search:c}=od(e,{relative:t}),d=o;return n!=="/"&&(d=o==="/"?n:ha([n,o])),s.createHref({pathname:d,search:c,hash:a})}function id(){return _.useContext(fm)!=null}function Wi(){return Wt(id(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(fm).location}var q2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W2(e){_.useContext(ya).static||_.useLayoutEffect(e)}function RR(){let{isDataRoute:e}=_.useContext(ba);return e?XR():MR()}function MR(){Wt(id(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(Yo),{basename:t,navigator:n}=_.useContext(ya),{matches:s}=_.useContext(ba),{pathname:a}=Wi(),o=JSON.stringify(Ix(s)),c=_.useRef(!1);return W2(()=>{c.current=!0}),_.useCallback((h,f={})=>{if(Qn(c.current,q2),!c.current)return;if(typeof h=="number"){n.go(h);return}let p=qx(h,JSON.parse(o),a,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ha([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,o,a,e])}var PR=_.createContext(null);function LR(e){let t=_.useContext(ba).outlet;return t&&_.createElement(PR.Provider,{value:e},t)}function od(e,{relative:t}={}){let{matches:n}=_.useContext(ba),{pathname:s}=Wi(),a=JSON.stringify(Ix(n));return _.useMemo(()=>qx(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function zR(e,t,n,s){Wt(id(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=_.useContext(ya),{matches:o}=_.useContext(ba),c=o[o.length-1],d=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let N=p&&p.path||"";Y2(h,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let g=Wi(),x;x=g;let b=x.pathname||"/",j=b;if(f!=="/"){let N=f.replace(/^\//,"").split("/");j="/"+b.replace(/^\//,"").split("/").slice(N.length).join("/")}let v=Ci(e,{pathname:j});return Qn(p||v!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Qn(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),HR(v&&v.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:ha([f,a.encodeLocation?a.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?f:ha([f,a.encodeLocation?a.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),o,n,s)}function UR(){let e=YR(),t=Xu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:o},"ErrorBoundary")," or"," ",_.createElement("code",{style:o},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:a},n):null,c)}var BR=_.createElement(UR,null),FR=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?_.createElement(ba.Provider,{value:this.props.routeContext},_.createElement(Gx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $R({routeContext:e,match:t,children:n}){let s=_.useContext(Yo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(ba.Provider,{value:e},n)}function HR(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let h=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Wt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(n)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:g}=n,x=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,f,p)=>{let g,x=!1,b=null,j=null;n&&(g=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||BR,c&&(d<0&&p===0?(Y2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,j=null):d===p&&(x=!0,j=f.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,p+1)),S=()=>{let N;return g?N=b:x?N=j:f.route.Component?N=_.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=h,_.createElement($R,{match:f,routeContext:{outlet:h,matches:v,isDataRoute:n!=null},children:N})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?_.createElement(FR,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:S(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):S()},null)}function Kx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VR(e){let t=_.useContext(Yo);return Wt(t,Kx(e)),t}function IR(e){let t=_.useContext(ad);return Wt(t,Kx(e)),t}function qR(e){let t=_.useContext(ba);return Wt(t,Kx(e)),t}function Qx(e){let t=qR(e),n=t.matches[t.matches.length-1];return Wt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function WR(){return Qx("useRouteId")}function YR(){var s;let e=_.useContext(Gx),t=IR("useRouteError"),n=Qx("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function XR(){let{router:e}=VR("useNavigate"),t=Qx("useNavigate"),n=_.useRef(!1);return W2(()=>{n.current=!0}),_.useCallback((c,...d)=>ve(null,[c,...d],function*(a,o={}){Qn(n.current,q2),n.current&&(typeof a=="number"?e.navigate(a):yield e.navigate(a,L({fromRouteId:t},o)))}),[e,t])}var k1={};function Y2(e,t,n){!t&&!k1[e]&&(k1[e]=!0,Qn(!1,n))}var C1={};function D1(e,t){!e&&!C1[t]&&(C1[t]=!0,console.warn(t))}function GR(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Qn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:_.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Qn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:_.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Qn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:_.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var KR=["HydrateFallback","hydrateFallbackElement"],QR=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function ZR({router:e,flushSync:t}){let[n,s]=_.useState(e.state),[a,o]=_.useState(),[c,d]=_.useState({isTransitioning:!1}),[h,f]=_.useState(),[p,g]=_.useState(),[x,b]=_.useState(),j=_.useRef(new Map),v=_.useCallback((E,{deletedFetchers:T,flushSync:D,viewTransitionOpts:C})=>{E.fetchers.forEach((U,R)=>{U.data!==void 0&&j.current.set(R,U.data)}),T.forEach(U=>j.current.delete(U)),D1(D===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let z=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(D1(C==null||z,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!C||!z){t&&D?t(()=>s(E)):_.startTransition(()=>s(E));return}if(t&&D){t(()=>{p&&(h&&h.resolve(),p.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:C.currentLocation,nextLocation:C.nextLocation})});let U=e.window.document.startViewTransition(()=>{t(()=>s(E))});U.finished.finally(()=>{t(()=>{f(void 0),g(void 0),o(void 0),d({isTransitioning:!1})})}),t(()=>g(U));return}p?(h&&h.resolve(),p.skipTransition(),b({state:E,currentLocation:C.currentLocation,nextLocation:C.nextLocation})):(o(E),d({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}))},[e.window,t,p,h]);_.useLayoutEffect(()=>e.subscribe(v),[e,v]),_.useEffect(()=>{c.isTransitioning&&!c.flushSync&&f(new QR)},[c]),_.useEffect(()=>{if(h&&a&&e.window){let E=a,T=h.promise,D=e.window.document.startViewTransition(()=>ve(null,null,function*(){_.startTransition(()=>s(E)),yield T}));D.finished.finally(()=>{f(void 0),g(void 0),o(void 0),d({isTransitioning:!1})}),g(D)}},[a,h,e.window]),_.useEffect(()=>{h&&a&&n.location.key===a.location.key&&h.resolve()},[h,p,n.location,a]),_.useEffect(()=>{!c.isTransitioning&&x&&(o(x.state),d({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),b(void 0))},[c.isTransitioning,x]);let S=_.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:E=>e.navigate(E),push:(E,T,D)=>e.navigate(E,{state:T,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(E,T,D)=>e.navigate(E,{replace:!0,state:T,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[e]),N=e.basename||"/",A=_.useMemo(()=>({router:e,navigator:S,static:!1,basename:N}),[e,S,N]);return _.createElement(_.Fragment,null,_.createElement(Yo.Provider,{value:A},_.createElement(ad.Provider,{value:n},_.createElement(I2.Provider,{value:j.current},_.createElement(Xx.Provider,{value:c},_.createElement(nM,{basename:N,location:n.location,navigationType:n.historyAction,navigator:S},_.createElement(JR,{routes:e.routes,future:e.future,state:n})))))),null)}var JR=_.memo(eM);function eM({routes:e,future:t,state:n}){return zR(e,void 0,n,t)}function tM(e){return LR(e.context)}function nM({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:o=!1}){Wt(!id(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=_.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof n=="string"&&(n=qi(n));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:x="default"}=n,b=_.useMemo(()=>{let j=kr(h,c);return j==null?null:{location:{pathname:j,search:f,hash:p,state:g,key:x},navigationType:s}},[c,h,f,p,g,x,s]);return Qn(b!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:_.createElement(ya.Provider,{value:d},_.createElement(fm.Provider,{children:t,value:b}))}var _h="get",Nh="application/x-www-form-urlencoded";function hm(e){return e!=null&&typeof e.tagName=="string"}function sM(e){return hm(e)&&e.tagName.toLowerCase()==="button"}function rM(e){return hm(e)&&e.tagName.toLowerCase()==="form"}function aM(e){return hm(e)&&e.tagName.toLowerCase()==="input"}function iM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oM(e,t){return e.button===0&&(!t||t==="_self")&&!iM(e)}var zf=null;function lM(){if(zf===null)try{new FormData(document.createElement("form"),0),zf=!1}catch(e){zf=!0}return zf}var cM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kg(e){return e!=null&&!cM.has(e)?(Qn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nh}"`),null):e}function uM(e,t){let n,s,a,o,c;if(rM(e)){let d=e.getAttribute("action");s=d?kr(d,t):null,n=e.getAttribute("method")||_h,a=Kg(e.getAttribute("enctype"))||Nh,o=new FormData(e)}else if(sM(e)||aM(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||d.getAttribute("action");if(s=h?kr(h,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||_h,a=Kg(e.getAttribute("formenctype"))||Kg(d.getAttribute("enctype"))||Nh,o=new FormData(d,e),!lM()){let{name:f,type:p,value:g}=e;if(p==="image"){let x=f?`${f}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else f&&o.append(f,g)}}else{if(hm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_h,s=null,a=Nh,c=e}return o&&a==="text/plain"&&(c=o,o=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zx(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function dM(e,t,n){let s=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&kr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}function fM(e,t){return ve(this,null,function*(){if(e.id in t)return t[e.id];try{let n=yield import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function hM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function mM(e,t,n){return ve(this,null,function*(){let s=yield Promise.all(e.map(a=>ve(null,null,function*(){let o=t.routes[a.route.id];if(o){let c=yield fM(o,n);return c.links?c.links():[]}return[]})));return yM(s.flat(1).filter(hM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?oe(L({},a),{rel:"prefetch",as:"style"}):oe(L({},a),{rel:"prefetch"})))})}function O1(e,t,n,s,a,o){let c=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,d=(h,f)=>{var p;return n[f].pathname!==h.pathname||((p=n[f].route.path)==null?void 0:p.endsWith("*"))&&n[f].params["*"]!==h.params["*"]};return o==="assets"?t.filter((h,f)=>c(h,f)||d(h,f)):o==="data"?t.filter((h,f)=>{var g;let p=s.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function pM(e,t,{includeHydrateFallback:n}={}){return gM(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function gM(e){return[...new Set(e)]}function xM(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function yM(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let o=JSON.stringify(xM(a));return n.has(o)||(n.add(o),s.push({key:o,link:a})),s},[])}function X2(){let e=_.useContext(Yo);return Zx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function bM(){let e=_.useContext(ad);return Zx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Jx=_.createContext(void 0);Jx.displayName="FrameworkContext";function G2(){let e=_.useContext(Jx);return Zx(e,"You must render this element inside a <HydratedRouter> element"),e}function vM(e,t){let n=_.useContext(Jx),[s,a]=_.useState(!1),[o,c]=_.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=t,x=_.useRef(null);_.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let v=N=>{N.forEach(A=>{c(A.isIntersecting)})},S=new IntersectionObserver(v,{threshold:.5});return x.current&&S.observe(x.current),()=>{S.disconnect()}}},[e]),_.useEffect(()=>{if(s){let v=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(v)}}},[s]);let b=()=>{a(!0)},j=()=>{a(!1),c(!1)};return n?e!=="intent"?[o,x,{}]:[o,x,{onFocus:vu(d,b),onBlur:vu(h,j),onMouseEnter:vu(f,b),onMouseLeave:vu(p,j),onTouchStart:vu(g,b)}]:[!1,x,{}]}function vu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function wM(n){var s=n,{page:e}=s,t=Oe(s,["page"]);let{router:a}=X2(),o=_.useMemo(()=>Ci(a.routes,e,a.basename),[a.routes,e,a.basename]);return o?_.createElement(_M,L({page:e,matches:o},t)):null}function jM(e){let{manifest:t,routeModules:n}=G2(),[s,a]=_.useState([]);return _.useEffect(()=>{let o=!1;return mM(e,t,n).then(c=>{o||a(c)}),()=>{o=!0}},[e,t,n]),s}function _M(s){var a=s,{page:e,matches:t}=a,n=Oe(a,["page","matches"]);let o=Wi(),{manifest:c,routeModules:d}=G2(),{basename:h}=X2(),{loaderData:f,matches:p}=bM(),g=_.useMemo(()=>O1(e,t,p,c,o,"data"),[e,t,p,c,o]),x=_.useMemo(()=>O1(e,t,p,c,o,"assets"),[e,t,p,c,o]),b=_.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let S=new Set,N=!1;if(t.forEach(E=>{var D;let T=c.routes[E.route.id];!T||!T.hasLoader||(!g.some(C=>C.route.id===E.route.id)&&E.route.id in f&&((D=d[E.route.id])!=null&&D.shouldRevalidate)||T.hasClientLoader?N=!0:S.add(E.route.id))}),S.size===0)return[];let A=dM(e,h,"data");return N&&S.size>0&&A.searchParams.set("_routes",t.filter(E=>S.has(E.route.id)).map(E=>E.route.id).join(",")),[A.pathname+A.search]},[h,f,o,c,g,t,e,d]),j=_.useMemo(()=>pM(x,c),[x,c]),v=jM(x);return _.createElement(_.Fragment,null,b.map(S=>_.createElement("link",L({key:S,rel:"prefetch",as:"fetch",href:S},n))),j.map(S=>_.createElement("link",L({key:S,rel:"modulepreload",href:S},n))),v.map(({key:S,link:N})=>_.createElement("link",L({key:S},N))))}function NM(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var K2=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{K2&&(window.__reactRouterVersion="7.7.1")}catch(e){}function SM(e,t){return fR({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:OA({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||TM(),routes:e,mapRouteProperties:GR,hydrationRouteProperties:KR,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function TM(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=oe(L({},e),{errors:EM(e.errors)})),e}function EM(e){if(!e)return null;let t=Object.entries(e),n={};for(let[s,a]of t)if(a&&a.__type==="RouteErrorResponse")n[s]=new Lh(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let c=new o(a.message);c.stack="",n[s]=c}catch(c){}}if(n[s]==null){let o=new Error(a.message);o.stack="",n[s]=o}}else n[s]=a;return n}var Q2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z2=_.forwardRef(function(j,b){var v=j,{onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:o,replace:c,state:d,target:h,to:f,preventScrollReset:p,viewTransition:g}=v,x=Oe(v,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:S}=_.useContext(ya),N=typeof f=="string"&&Q2.test(f),A,E=!1;if(typeof f=="string"&&N&&(A=f,K2))try{let q=new URL(window.location.href),Q=f.startsWith("//")?new URL(q.protocol+f):new URL(f),W=kr(Q.pathname,S);Q.origin===q.origin&&W!=null?f=W+Q.search+Q.hash:E=!0}catch(q){Qn(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=AR(f,{relative:a}),[D,C,z]=vM(s,x),U=DM(f,{replace:c,state:d,target:h,preventScrollReset:p,relative:a,viewTransition:g});function R(q){t&&t(q),q.defaultPrevented||U(q)}let G=_.createElement("a",oe(L(L({},x),z),{href:A||T,onClick:E||o?t:R,ref:NM(b,C),target:h,"data-discover":!N&&n==="render"?"true":void 0}));return D&&!N?_.createElement(_.Fragment,null,G,_.createElement(wM,{page:T})):G});Z2.displayName="Link";var J2=_.forwardRef(function(g,p){var x=g,{"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:o,to:c,viewTransition:d,children:h}=x,f=Oe(x,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let b=od(c,{relative:f.relative}),j=Wi(),v=_.useContext(ad),{navigator:S,basename:N}=_.useContext(ya),A=v!=null&&PM(b)&&d===!0,E=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,T=j.pathname,D=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(T=T.toLowerCase(),D=D?D.toLowerCase():null,E=E.toLowerCase()),D&&N&&(D=kr(D,N)||D);const C=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let z=T===E||!a&&T.startsWith(E)&&T.charAt(C)==="/",U=D!=null&&(D===E||!a&&D.startsWith(E)&&D.charAt(E.length)==="/"),R={isActive:z,isPending:U,isTransitioning:A},G=z?t:void 0,q;typeof s=="function"?q=s(R):q=[s,z?"active":null,U?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let Q=typeof o=="function"?o(R):o;return _.createElement(Z2,oe(L({},f),{"aria-current":G,className:q,ref:p,style:Q,to:c,viewTransition:d}),typeof h=="function"?h(R):h)});J2.displayName="NavLink";var kM=_.forwardRef((j,b)=>{var v=j,{discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:o,method:c=_h,action:d,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:g}=v,x=Oe(v,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let S=RM(),N=MM(d,{relative:f}),A=c.toLowerCase()==="get"?"get":"post",E=typeof d=="string"&&Q2.test(d),T=D=>{if(h&&h(D),D.defaultPrevented)return;D.preventDefault();let C=D.nativeEvent.submitter,z=(C==null?void 0:C.getAttribute("formmethod"))||c;S(C||D.currentTarget,{fetcherKey:t,method:z,navigate:n,replace:a,state:o,relative:f,preventScrollReset:p,viewTransition:g})};return _.createElement("form",oe(L({ref:b,method:A,action:N,onSubmit:s?h:T},x),{"data-discover":!E&&e==="render"?"true":void 0}))});kM.displayName="Form";function CM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eS(e){let t=_.useContext(Yo);return Wt(t,CM(e)),t}function DM(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:c}={}){let d=RR(),h=Wi(),f=od(e,{relative:o});return _.useCallback(p=>{if(oM(p,t)){p.preventDefault();let g=n!==void 0?n:zi(h)===zi(f);d(e,{replace:g,state:s,preventScrollReset:a,relative:o,viewTransition:c})}},[h,d,f,n,s,t,e,a,o,c])}var OM=0,AM=()=>`__${String(++OM)}__`;function RM(){let{router:e}=eS("useSubmit"),{basename:t}=_.useContext(ya),n=WR();return _.useCallback((o,...c)=>ve(null,[o,...c],function*(s,a={}){let{action:d,method:h,encType:f,formData:p,body:g}=uM(s,t);if(a.navigate===!1){let x=a.fetcherKey||AM();yield e.fetch(x,n,a.action||d,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||h,formEncType:a.encType||f,flushSync:a.flushSync})}else yield e.navigate(a.action||d,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||h,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,t,n])}function MM(e,{relative:t}={}){let{basename:n}=_.useContext(ya),s=_.useContext(ba);Wt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o=L({},od(e||".",{relative:t})),c=Wi();if(e==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(p=>p==="")){d.delete("index"),h.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ha([n,o.pathname])),zi(o)}function PM(e,{relative:t}={}){let n=_.useContext(Xx);Wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=eS("useViewTransitionState"),a=od(e,{relative:t});if(!n.isTransitioning)return!1;let o=kr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=kr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ph(a.pathname,c)!=null||Ph(a.pathname,o)!=null}var mm=QN();const tS=Ax(mm);function LM(e){return _.createElement(ZR,L({flushSync:mm.flushSync},e))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),A1=e=>{const t=UM(e);return t.charAt(0).toUpperCase()+t.slice(1)},nS=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),BM=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=_.forwardRef((f,h)=>{var p=f,{color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:c}=p,d=Oe(p,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return _.createElement("svg",L(L(oe(L({ref:h},FM),{width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:nS("lucide",a)}),!o&&!BM(d)&&{"aria-hidden":"true"}),d),[...c.map(([g,x])=>_.createElement(g,x)),...Array.isArray(o)?o:[o]])});/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(e,t)=>{const n=_.forwardRef((c,o)=>{var d=c,{className:s}=d,a=Oe(d,["className"]);return _.createElement($M,L({ref:o,iconNode:t,className:nS(`lucide-${zM(A1(e))}`,`lucide-${e}`,s)},a))});return n.displayName=A1(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],VM=ht("activity",HM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],qM=ht("archive",IM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ey=ht("arrow-left",WM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],sS=ht("bell",YM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ys=ht("calendar",XM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Uh=ht("chart-column",GM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],QM=ht("chart-pie",KM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],JM=ht("check",ZM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rS=ht("chevron-down",e4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],n4=ht("chevron-right",t4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],r4=ht("chevrons-up-down",s4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ui=ht("circle-alert",a4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],aS=ht("circle-check-big",i4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ty=ht("circle-check",o4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zo=ht("clock",l4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],u4=ht("crown",c4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Uo=ht("dollar-sign",d4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],tc=ht("download",f4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],m4=ht("ellipsis-vertical",h4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],g4=ht("external-link",p4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ny=ht("eye",x4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Tr=ht("file-text",y4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Uf=ht("file",b4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],w4=ht("folder-open",v4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ld=ht("funnel",j4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],N4=ht("grid-3x3",_4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],T4=ht("image",S4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],k4=ht("layout-dashboard",E4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Bf=ht("link",C4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],O4=ht("list",D4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Q0=ht("loader-circle",A4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],M4=ht("log-out",R4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],L4=ht("map-pin",P4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],U4=ht("menu",z4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],F4=ht("pause",B4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],H4=ht("pen",$4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],I4=ht("piggy-bank",V4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],W4=ht("play",q4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qr=ht("plus",Y4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],G4=ht("refresh-cw",X4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Q4=ht("save",K4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ic=ht("search",Z4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sy=ht("settings",J4);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],iS=ht("shield",e3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],n3=ht("square-check-big",t3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Bo=ht("square-pen",s3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],a3=ht("square",r3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ry=ht("target",i3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bi=ht("trash-2",o3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],R1=ht("trending-down",l3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Xl=ht("trending-up",c3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oc=ht("triangle-alert",u3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Z0=ht("upload",d3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Gu=ht("user",f3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gl=ht("users",h3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],M1=ht("video",m3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],g3=ht("x",p3),x3=[{name:"Dashboard",href:"/",icon:k4,subtitle:"Tổng quan hệ thống"},{name:"Dự án",href:"/projects",icon:w4,subtitle:"Quản lý dự án R&D"},{name:"Công việc",href:"/tasks",icon:n3,subtitle:"Quản lý task và tiến độ"},{name:"Tài liệu",href:"/documents",icon:Tr,subtitle:"Quản lý biểu mẫu và tài liệu"},{name:"Ngân sách",href:"/budget",icon:Uo,subtitle:"Quản lý chi phí và ngân sách"},{name:"Rủi ro",href:"/risk",icon:oc,subtitle:"Quản lý rủi ro dự án"},{name:"Lịch họp",href:"/meetings",icon:Ys,subtitle:"Quản lý cuộc họp và gate review"},{name:"Báo cáo",href:"/reports",icon:Uh,subtitle:"Báo cáo và thống kê"},{name:"Cài đặt",href:"/settings",icon:sy,subtitle:"Cài đặt hệ thống"}],P1=({collapsed:e=!1,onToggle:t})=>{const n=Wi();return i.jsxs("div",{className:`flex flex-col bg-white shadow-lg border-r border-gray-200 transition-all duration-300 ${e?"w-20":"w-85"}`,children:[i.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[!e&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden",children:i.jsx("img",{src:"https://ctuav.vn/wp-content/uploads/2024/08/Logo-moi-ctuav-e1755917887778.png",alt:"R&D",className:"w-full h-full object-contain bg-white"})}),i.jsx("span",{className:"text-xl font-bold text-gray-800",children:"R&D Management"})]}),e&&i.jsx("div",{className:"w-12 h-10 bg-blue-600 rounded-lg flex items-center justify-center mx-auto",children:i.jsx("span",{className:"text-white font-bold text-sm",children:"RD"})})]}),i.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:x3.map(s=>{const a=n.pathname===s.href;return i.jsxs(J2,{to:s.href,className:`
                group flex items-start rounded-lg transition-all duration-200 relative
                ${e?"px-2 py-3 justify-center":"px-3 py-3"}
                ${a?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}
              `,title:e?s.name:void 0,children:[i.jsx(s.icon,{className:`
                  h-5 w-5 transition-colors duration-200 flex-shrink-0
                  ${e?"mr-0":"mr-3 mt-0.5"}
                  ${a?"text-blue-600":"text-gray-500 group-hover:text-gray-700"}
                `}),!e&&i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium text-sm",children:s.name}),i.jsx("span",{className:`text-xs mt-0.5 ${a?"text-blue-600":"text-gray-500"}`,children:s.subtitle})]}),e&&i.jsxs("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:[s.name,i.jsx("div",{className:"absolute top-1/2 left-0 transform -translate-y-1/2 -translate-x-1 w-2 h-2 bg-gray-800 rotate-45"})]})]},s.name)})}),i.jsx("div",{className:"p-4 border-t border-gray-200",children:i.jsxs("div",{className:`flex items-center ${e?"justify-center":"space-x-3"}`,children:[i.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white font-medium text-sm",children:"AU"})}),!e&&i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Admin User"}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:"System Administrator"})]})]})})]})};function ir(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function L1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Fo(...e){return t=>{let n=!1;const s=e.map(a=>{const o=L1(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<s.length;a++){const o=s[a];typeof o=="function"?o():L1(e[a],null)}}}}function An(...e){return _.useCallback(Fo(...e),e)}function ay(e,t){const n=_.createContext(t),s=o=>{const f=o,{children:c}=f,d=Oe(f,["children"]),h=_.useMemo(()=>d,Object.values(d));return i.jsx(n.Provider,{value:h,children:c})};s.displayName=e+"Provider";function a(o){const c=_.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,a]}function cd(e,t=[]){let n=[];function s(o,c){const d=_.createContext(c),h=n.length;n=[...n,c];const f=g=>{var A;const N=g,{scope:x,children:b}=N,j=Oe(N,["scope","children"]),v=((A=x==null?void 0:x[e])==null?void 0:A[h])||d,S=_.useMemo(()=>j,Object.values(j));return i.jsx(v.Provider,{value:S,children:b})};f.displayName=o+"Provider";function p(g,x){var v;const b=((v=x==null?void 0:x[e])==null?void 0:v[h])||d,j=_.useContext(b);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[f,p]}const a=()=>{const o=n.map(c=>_.createContext(c));return function(d){const h=(d==null?void 0:d[e])||o;return _.useMemo(()=>({[`__scope${e}`]:oe(L({},d),{[e]:h})}),[d,h])}};return a.scopeName=e,[s,y3(a,...t)]}function y3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const c=s.reduce((d,{useScope:h,scopeName:f})=>{const g=h(o)[`__scope${f}`];return L(L({},d),g)},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function lc(e){const t=v3(e),n=_.forwardRef((s,a)=>{const f=s,{children:o}=f,c=Oe(f,["children"]),d=_.Children.toArray(o),h=d.find(j3);if(h){const p=h.props.children,g=d.map(x=>x===h?_.Children.count(p)>1?_.Children.only(null):_.isValidElement(p)?p.props.children:null:x);return i.jsx(t,oe(L({},c),{ref:a,children:_.isValidElement(p)?_.cloneElement(p,void 0,g):null}))}return i.jsx(t,oe(L({},c),{ref:a,children:o}))});return n.displayName=`${e}.Slot`,n}var b3=lc("Slot");function v3(e){const t=_.forwardRef((n,s)=>{const c=n,{children:a}=c,o=Oe(c,["children"]);if(_.isValidElement(a)){const d=N3(a),h=_3(o,a.props);return a.type!==_.Fragment&&(h.ref=s?Fo(s,d):d),_.cloneElement(a,h)}return _.Children.count(a)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var w3=Symbol("radix.slottable");function j3(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===w3}function _3(e,t){const n=L({},t);for(const s in t){const a=e[s],o=t[s];/^on[A-Z]/.test(s)?a&&o?n[s]=(...d)=>{const h=o(...d);return a(...d),h}:a&&(n[s]=a):s==="style"?n[s]=L(L({},a),o):s==="className"&&(n[s]=[a,o].filter(Boolean).join(" "))}return L(L({},e),n)}function N3(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var S3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Yt=S3.reduce((e,t)=>{const n=lc(`Primitive.${t}`),s=_.forwardRef((a,o)=>{const f=a,{asChild:c}=f,d=Oe(f,["asChild"]),h=c?n:t;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(h,oe(L({},d),{ref:o}))});return s.displayName=`Primitive.${t}`,oe(L({},e),{[t]:s})},{});function iy(e,t){e&&mm.flushSync(()=>e.dispatchEvent(t))}function ga(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function oy(e,t=globalThis==null?void 0:globalThis.document){const n=ga(e);_.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var T3="DismissableLayer",J0="dismissableLayer.update",E3="dismissableLayer.pointerDownOutside",k3="dismissableLayer.focusOutside",z1,oS=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ly=_.forwardRef((e,t)=>{var U;const z=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:c,onDismiss:d}=z,h=Oe(z,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),f=_.useContext(oS),[p,g]=_.useState(null),x=(U=p==null?void 0:p.ownerDocument)!=null?U:globalThis==null?void 0:globalThis.document,[,b]=_.useState({}),j=An(t,R=>g(R)),v=Array.from(f.layers),[S]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(S),A=p?v.indexOf(p):-1,E=f.layersWithOutsidePointerEventsDisabled.size>0,T=A>=N,D=O3(R=>{const G=R.target,q=[...f.branches].some(Q=>Q.contains(G));!T||q||(a==null||a(R),c==null||c(R),R.defaultPrevented||d==null||d())},x),C=A3(R=>{const G=R.target;[...f.branches].some(Q=>Q.contains(G))||(o==null||o(R),c==null||c(R),R.defaultPrevented||d==null||d())},x);return oy(R=>{A===f.layers.size-1&&(s==null||s(R),!R.defaultPrevented&&d&&(R.preventDefault(),d()))},x),_.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(z1=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),U1(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=z1)}},[p,x,n,f]),_.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),U1())},[p,f]),_.useEffect(()=>{const R=()=>b({});return document.addEventListener(J0,R),()=>document.removeEventListener(J0,R)},[]),i.jsx(Yt.div,oe(L({},h),{ref:j,style:L({pointerEvents:E?T?"auto":"none":void 0},e.style),onFocusCapture:ir(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ir(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ir(e.onPointerDownCapture,D.onPointerDownCapture)}))});ly.displayName=T3;var C3="DismissableLayerBranch",D3=_.forwardRef((e,t)=>{const n=_.useContext(oS),s=_.useRef(null),a=An(t,s);return _.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),i.jsx(Yt.div,oe(L({},e),{ref:a}))});D3.displayName=C3;function O3(e,t=globalThis==null?void 0:globalThis.document){const n=ga(e),s=_.useRef(!1),a=_.useRef(()=>{});return _.useEffect(()=>{const o=d=>{if(d.target&&!s.current){let h=function(){lS(E3,n,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=h,t.addEventListener("click",a.current,{once:!0})):h()}else t.removeEventListener("click",a.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function A3(e,t=globalThis==null?void 0:globalThis.document){const n=ga(e),s=_.useRef(!1);return _.useEffect(()=>{const a=o=>{o.target&&!s.current&&lS(k3,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function U1(){const e=new CustomEvent(J0);document.dispatchEvent(e)}function lS(e,t,n,{discrete:s}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?iy(a,o):a.dispatchEvent(o)}var Qg=0;function cS(){_.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:B1()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:B1()),Qg++,()=>{Qg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Qg--}},[])}function B1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Zg="focusScope.autoFocusOnMount",Jg="focusScope.autoFocusOnUnmount",F1={bubbles:!1,cancelable:!0},R3="FocusScope",ud=_.forwardRef((e,t)=>{const v=e,{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o}=v,c=Oe(v,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[d,h]=_.useState(null),f=ga(a),p=ga(o),g=_.useRef(null),x=An(t,S=>h(S)),b=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(s){let S=function(T){if(b.paused||!d)return;const D=T.target;d.contains(D)?g.current=D:Ei(g.current,{select:!0})},N=function(T){if(b.paused||!d)return;const D=T.relatedTarget;D!==null&&(d.contains(D)||Ei(g.current,{select:!0}))},A=function(T){if(document.activeElement===document.body)for(const C of T)C.removedNodes.length>0&&Ei(d)};document.addEventListener("focusin",S),document.addEventListener("focusout",N);const E=new MutationObserver(A);return d&&E.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",N),E.disconnect()}}},[s,d,b.paused]),_.useEffect(()=>{if(d){H1.add(b);const S=document.activeElement;if(!d.contains(S)){const A=new CustomEvent(Zg,F1);d.addEventListener(Zg,f),d.dispatchEvent(A),A.defaultPrevented||(M3(B3(uS(d)),{select:!0}),document.activeElement===S&&Ei(d))}return()=>{d.removeEventListener(Zg,f),setTimeout(()=>{const A=new CustomEvent(Jg,F1);d.addEventListener(Jg,p),d.dispatchEvent(A),A.defaultPrevented||Ei(S!=null?S:document.body,{select:!0}),d.removeEventListener(Jg,p),H1.remove(b)},0)}}},[d,f,p,b]);const j=_.useCallback(S=>{if(!n&&!s||b.paused)return;const N=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,A=document.activeElement;if(N&&A){const E=S.currentTarget,[T,D]=P3(E);T&&D?!S.shiftKey&&A===D?(S.preventDefault(),n&&Ei(T,{select:!0})):S.shiftKey&&A===T&&(S.preventDefault(),n&&Ei(D,{select:!0})):A===E&&S.preventDefault()}},[n,s,b.paused]);return i.jsx(Yt.div,oe(L({tabIndex:-1},c),{ref:x,onKeyDown:j}))});ud.displayName=R3;function M3(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Ei(s,{select:t}),document.activeElement!==n)return}function P3(e){const t=uS(e),n=$1(t,e),s=$1(t.reverse(),e);return[n,s]}function uS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $1(e,t){for(const n of e)if(!L3(n,{upTo:t}))return n}function L3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function z3(e){return e instanceof HTMLInputElement&&"select"in e}function Ei(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&z3(e)&&t&&e.select()}}var H1=U3();function U3(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=V1(e,t),e.unshift(t)},remove(t){var n;e=V1(e,t),(n=e[0])==null||n.resume()}}}function V1(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function B3(e){return e.filter(t=>t.tagName!=="A")}var Cr=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},F3=KN[" useId ".trim().toString()]||(()=>{}),$3=0;function ks(e){const[t,n]=_.useState(F3());return Cr(()=>{n(s=>s!=null?s:String($3++))},[e]),e||(t?`radix-${t}`:"")}const H3=["top","right","bottom","left"],Fi=Math.min,ar=Math.max,Bh=Math.round,Ff=Math.floor,ma=e=>({x:e,y:e}),V3={left:"right",right:"left",bottom:"top",top:"bottom"},I3={start:"end",end:"start"};function ex(e,t,n){return ar(e,Fi(t,n))}function Ga(e,t){return typeof e=="function"?e(t):e}function Ka(e){return e.split("-")[0]}function cc(e){return e.split("-")[1]}function cy(e){return e==="x"?"y":"x"}function uy(e){return e==="y"?"height":"width"}const q3=new Set(["top","bottom"]);function ua(e){return q3.has(Ka(e))?"y":"x"}function dy(e){return cy(ua(e))}function W3(e,t,n){n===void 0&&(n=!1);const s=cc(e),a=dy(e),o=uy(a);let c=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(c=Fh(c)),[c,Fh(c)]}function Y3(e){const t=Fh(e);return[tx(e),t,tx(t)]}function tx(e){return e.replace(/start|end/g,t=>I3[t])}const I1=["left","right"],q1=["right","left"],X3=["top","bottom"],G3=["bottom","top"];function K3(e,t,n){switch(e){case"top":case"bottom":return n?t?q1:I1:t?I1:q1;case"left":case"right":return t?X3:G3;default:return[]}}function Q3(e,t,n,s){const a=cc(e);let o=K3(Ka(e),n==="start",s);return a&&(o=o.map(c=>c+"-"+a),t&&(o=o.concat(o.map(tx)))),o}function Fh(e){return e.replace(/left|right|bottom|top/g,t=>V3[t])}function Z3(e){return L({top:0,right:0,bottom:0,left:0},e)}function dS(e){return typeof e!="number"?Z3(e):{top:e,right:e,bottom:e,left:e}}function $h(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function W1(e,t,n){let{reference:s,floating:a}=e;const o=ua(t),c=dy(t),d=uy(c),h=Ka(t),f=o==="y",p=s.x+s.width/2-a.width/2,g=s.y+s.height/2-a.height/2,x=s[d]/2-a[d]/2;let b;switch(h){case"top":b={x:p,y:s.y-a.height};break;case"bottom":b={x:p,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:g};break;case"left":b={x:s.x-a.width,y:g};break;default:b={x:s.x,y:s.y}}switch(cc(t)){case"start":b[c]-=x*(n&&f?-1:1);break;case"end":b[c]+=x*(n&&f?-1:1);break}return b}const J3=(e,t,n)=>ve(null,null,function*(){const{placement:s="bottom",strategy:a="absolute",middleware:o=[],platform:c}=n,d=o.filter(Boolean),h=yield c.isRTL==null?void 0:c.isRTL(t);let f=yield c.getElementRects({reference:e,floating:t,strategy:a}),{x:p,y:g}=W1(f,s,h),x=s,b={},j=0;for(let v=0;v<d.length;v++){const{name:S,fn:N}=d[v],{x:A,y:E,data:T,reset:D}=yield N({x:p,y:g,initialPlacement:s,placement:x,strategy:a,middlewareData:b,rects:f,platform:c,elements:{reference:e,floating:t}});p=A!=null?A:p,g=E!=null?E:g,b=oe(L({},b),{[S]:L(L({},b[S]),T)}),D&&j<=50&&(j++,typeof D=="object"&&(D.placement&&(x=D.placement),D.rects&&(f=D.rects===!0?yield c.getElementRects({reference:e,floating:t,strategy:a}):D.rects),{x:p,y:g}=W1(f,x,h)),v=-1)}return{x:p,y:g,placement:x,strategy:a,middlewareData:b}});function Ku(e,t){return ve(this,null,function*(){var n;t===void 0&&(t={});const{x:s,y:a,platform:o,rects:c,elements:d,strategy:h}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:x=!1,padding:b=0}=Ga(t,e),j=dS(b),S=d[x?g==="floating"?"reference":"floating":g],N=$h(yield o.getClippingRect({element:(n=yield o.isElement==null?void 0:o.isElement(S))==null||n?S:S.contextElement||(yield o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:f,rootBoundary:p,strategy:h})),A=g==="floating"?{x:s,y:a,width:c.floating.width,height:c.floating.height}:c.reference,E=yield o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating),T=(yield o.isElement==null?void 0:o.isElement(E))?(yield o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},D=$h(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:A,offsetParent:E,strategy:h}):A);return{top:(N.top-D.top+j.top)/T.y,bottom:(D.bottom-N.bottom+j.bottom)/T.y,left:(N.left-D.left+j.left)/T.x,right:(D.right-N.right+j.right)/T.x}})}const e5=e=>({name:"arrow",options:e,fn(n){return ve(this,null,function*(){const{x:s,y:a,placement:o,rects:c,platform:d,elements:h,middlewareData:f}=n,{element:p,padding:g=0}=Ga(e,n)||{};if(p==null)return{};const x=dS(g),b={x:s,y:a},j=dy(o),v=uy(j),S=yield d.getDimensions(p),N=j==="y",A=N?"top":"left",E=N?"bottom":"right",T=N?"clientHeight":"clientWidth",D=c.reference[v]+c.reference[j]-b[j]-c.floating[v],C=b[j]-c.reference[j],z=yield d.getOffsetParent==null?void 0:d.getOffsetParent(p);let U=z?z[T]:0;(!U||!(yield d.isElement==null?void 0:d.isElement(z)))&&(U=h.floating[T]||c.floating[v]);const R=D/2-C/2,G=U/2-S[v]/2-1,q=Fi(x[A],G),Q=Fi(x[E],G),W=q,Y=U-S[v]-Q,H=U/2-S[v]/2+R,F=ex(W,H,Y),Z=!f.arrow&&cc(o)!=null&&H!==F&&c.reference[v]/2-(H<W?q:Q)-S[v]/2<0,ee=Z?H<W?H-W:H-Y:0;return{[j]:b[j]+ee,data:L({[j]:F,centerOffset:H-F-ee},Z&&{alignmentOffset:ee}),reset:Z}})}}),t5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(n){return ve(this,null,function*(){var s,a;const{placement:o,middlewareData:c,rects:d,initialPlacement:h,platform:f,elements:p}=n,H=Ga(e,n),{mainAxis:g=!0,crossAxis:x=!0,fallbackPlacements:b,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:S=!0}=H,N=Oe(H,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((s=c.arrow)!=null&&s.alignmentOffset)return{};const A=Ka(o),E=ua(h),T=Ka(h)===h,D=yield f.isRTL==null?void 0:f.isRTL(p.floating),C=b||(T||!S?[Fh(h)]:Y3(h)),z=v!=="none";!b&&z&&C.push(...Q3(h,S,v,D));const U=[h,...C],R=yield Ku(n,N),G=[];let q=((a=c.flip)==null?void 0:a.overflows)||[];if(g&&G.push(R[A]),x){const F=W3(o,d,D);G.push(R[F[0]],R[F[1]])}if(q=[...q,{placement:o,overflows:G}],!G.every(F=>F<=0)){var Q,W;const F=(((Q=c.flip)==null?void 0:Q.index)||0)+1,Z=U[F];if(Z&&(!(x==="alignment"?E!==ua(Z):!1)||q.every(M=>ua(M.placement)===E?M.overflows[0]>0:!0)))return{data:{index:F,overflows:q},reset:{placement:Z}};let ee=(W=q.filter(ce=>ce.overflows[0]<=0).sort((ce,M)=>ce.overflows[1]-M.overflows[1])[0])==null?void 0:W.placement;if(!ee)switch(j){case"bestFit":{var Y;const ce=(Y=q.filter(M=>{if(z){const ie=ua(M.placement);return ie===E||ie==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(ie=>ie>0).reduce((ie,se)=>ie+se,0)]).sort((M,ie)=>M[1]-ie[1])[0])==null?void 0:Y[0];ce&&(ee=ce);break}case"initialPlacement":ee=h;break}if(o!==ee)return{reset:{placement:ee}}}return{}})}}};function Y1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function X1(e){return H3.some(t=>e[t]>=0)}const n5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(n){return ve(this,null,function*(){const{rects:s}=n,c=Ga(e,n),{strategy:a="referenceHidden"}=c,o=Oe(c,["strategy"]);switch(a){case"referenceHidden":{const d=yield Ku(n,oe(L({},o),{elementContext:"reference"})),h=Y1(d,s.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:X1(h)}}}case"escaped":{const d=yield Ku(n,oe(L({},o),{altBoundary:!0})),h=Y1(d,s.floating);return{data:{escapedOffsets:h,escaped:X1(h)}}}default:return{}}})}}},fS=new Set(["left","top"]);function s5(e,t){return ve(this,null,function*(){const{placement:n,platform:s,elements:a}=e,o=yield s.isRTL==null?void 0:s.isRTL(a.floating),c=Ka(n),d=cc(n),h=ua(n)==="y",f=fS.has(c)?-1:1,p=o&&h?-1:1,g=Ga(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:j}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof j=="number"&&(b=d==="end"?j*-1:j),h?{x:b*p,y:x*f}:{x:x*f,y:b*p}})}const r5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(n){return ve(this,null,function*(){var s,a;const{x:o,y:c,placement:d,middlewareData:h}=n,f=yield s5(n,e);return d===((s=h.offset)==null?void 0:s.placement)&&(a=h.arrow)!=null&&a.alignmentOffset?{}:{x:o+f.x,y:c+f.y,data:oe(L({},f),{placement:d})}})}}},a5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(n){return ve(this,null,function*(){const{x:s,y:a,placement:o}=n,N=Ga(e,n),{mainAxis:c=!0,crossAxis:d=!1,limiter:h={fn:A=>{let{x:E,y:T}=A;return{x:E,y:T}}}}=N,f=Oe(N,["mainAxis","crossAxis","limiter"]),p={x:s,y:a},g=yield Ku(n,f),x=ua(Ka(o)),b=cy(x);let j=p[b],v=p[x];if(c){const A=b==="y"?"top":"left",E=b==="y"?"bottom":"right",T=j+g[A],D=j-g[E];j=ex(T,j,D)}if(d){const A=x==="y"?"top":"left",E=x==="y"?"bottom":"right",T=v+g[A],D=v-g[E];v=ex(T,v,D)}const S=h.fn(oe(L({},n),{[b]:j,[x]:v}));return oe(L({},S),{data:{x:S.x-s,y:S.y-a,enabled:{[b]:c,[x]:d}}})})}}},i5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:o,middlewareData:c}=t,{offset:d=0,mainAxis:h=!0,crossAxis:f=!0}=Ga(e,t),p={x:n,y:s},g=ua(a),x=cy(g);let b=p[x],j=p[g];const v=Ga(d,t),S=typeof v=="number"?{mainAxis:v,crossAxis:0}:L({mainAxis:0,crossAxis:0},v);if(h){const E=x==="y"?"height":"width",T=o.reference[x]-o.floating[E]+S.mainAxis,D=o.reference[x]+o.reference[E]-S.mainAxis;b<T?b=T:b>D&&(b=D)}if(f){var N,A;const E=x==="y"?"width":"height",T=fS.has(Ka(a)),D=o.reference[g]-o.floating[E]+(T&&((N=c.offset)==null?void 0:N[g])||0)+(T?0:S.crossAxis),C=o.reference[g]+o.reference[E]+(T?0:((A=c.offset)==null?void 0:A[g])||0)-(T?S.crossAxis:0);j<D?j=D:j>C&&(j=C)}return{[x]:b,[g]:j}}}},o5=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(n){return ve(this,null,function*(){var s,a;const{placement:o,rects:c,platform:d,elements:h}=n,q=Ga(e,n),{apply:f=()=>{}}=q,p=Oe(q,["apply"]),g=yield Ku(n,p),x=Ka(o),b=cc(o),j=ua(o)==="y",{width:v,height:S}=c.floating;let N,A;x==="top"||x==="bottom"?(N=x,A=b===((yield d.isRTL==null?void 0:d.isRTL(h.floating))?"start":"end")?"left":"right"):(A=x,N=b==="end"?"top":"bottom");const E=S-g.top-g.bottom,T=v-g.left-g.right,D=Fi(S-g[N],E),C=Fi(v-g[A],T),z=!n.middlewareData.shift;let U=D,R=C;if((s=n.middlewareData.shift)!=null&&s.enabled.x&&(R=T),(a=n.middlewareData.shift)!=null&&a.enabled.y&&(U=E),z&&!b){const Q=ar(g.left,0),W=ar(g.right,0),Y=ar(g.top,0),H=ar(g.bottom,0);j?R=v-2*(Q!==0||W!==0?Q+W:ar(g.left,g.right)):U=S-2*(Y!==0||H!==0?Y+H:ar(g.top,g.bottom))}yield f(oe(L({},n),{availableWidth:R,availableHeight:U}));const G=yield d.getDimensions(h.floating);return v!==G.width||S!==G.height?{reset:{rects:!0}}:{}})}}};function pm(){return typeof window!="undefined"}function uc(e){return hS(e)?(e.nodeName||"").toLowerCase():"#document"}function or(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function va(e){var t;return(t=(hS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function hS(e){return pm()?e instanceof Node||e instanceof or(e).Node:!1}function Wr(e){return pm()?e instanceof Element||e instanceof or(e).Element:!1}function xa(e){return pm()?e instanceof HTMLElement||e instanceof or(e).HTMLElement:!1}function G1(e){return!pm()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof or(e).ShadowRoot}const l5=new Set(["inline","contents"]);function dd(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=Yr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!l5.has(a)}const c5=new Set(["table","td","th"]);function u5(e){return c5.has(uc(e))}const d5=[":popover-open",":modal"];function gm(e){return d5.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const f5=["transform","translate","scale","rotate","perspective"],h5=["transform","translate","scale","rotate","perspective","filter"],m5=["paint","layout","strict","content"];function fy(e){const t=hy(),n=Wr(e)?Yr(e):e;return f5.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||h5.some(s=>(n.willChange||"").includes(s))||m5.some(s=>(n.contain||"").includes(s))}function p5(e){let t=$i(e);for(;xa(t)&&!nc(t);){if(fy(t))return t;if(gm(t))return null;t=$i(t)}return null}function hy(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const g5=new Set(["html","body","#document"]);function nc(e){return g5.has(uc(e))}function Yr(e){return or(e).getComputedStyle(e)}function xm(e){return Wr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $i(e){if(uc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||G1(e)&&e.host||va(e);return G1(t)?t.host:t}function mS(e){const t=$i(e);return nc(t)?e.ownerDocument?e.ownerDocument.body:e.body:xa(t)&&dd(t)?t:mS(t)}function Qu(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=mS(e),o=a===((s=e.ownerDocument)==null?void 0:s.body),c=or(a);if(o){const d=nx(c);return t.concat(c,c.visualViewport||[],dd(a)?a:[],d&&n?Qu(d):[])}return t.concat(a,Qu(a,[],n))}function nx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function pS(e){const t=Yr(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=xa(e),o=a?e.offsetWidth:n,c=a?e.offsetHeight:s,d=Bh(n)!==o||Bh(s)!==c;return d&&(n=o,s=c),{width:n,height:s,$:d}}function my(e){return Wr(e)?e:e.contextElement}function Kl(e){const t=my(e);if(!xa(t))return ma(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:o}=pS(t);let c=(o?Bh(n.width):n.width)/s,d=(o?Bh(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const x5=ma(0);function gS(e){const t=or(e);return!hy()||!t.visualViewport?x5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function y5(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==or(e)?!1:t}function $o(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=my(e);let c=ma(1);t&&(s?Wr(s)&&(c=Kl(s)):c=Kl(e));const d=y5(o,n,s)?gS(o):ma(0);let h=(a.left+d.x)/c.x,f=(a.top+d.y)/c.y,p=a.width/c.x,g=a.height/c.y;if(o){const x=or(o),b=s&&Wr(s)?or(s):s;let j=x,v=nx(j);for(;v&&s&&b!==j;){const S=Kl(v),N=v.getBoundingClientRect(),A=Yr(v),E=N.left+(v.clientLeft+parseFloat(A.paddingLeft))*S.x,T=N.top+(v.clientTop+parseFloat(A.paddingTop))*S.y;h*=S.x,f*=S.y,p*=S.x,g*=S.y,h+=E,f+=T,j=or(v),v=nx(j)}}return $h({width:p,height:g,x:h,y:f})}function py(e,t){const n=xm(e).scrollLeft;return t?t.left+n:$o(va(e)).left+n}function xS(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:py(e,s)),o=s.top+t.scrollTop;return{x:a,y:o}}function b5(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const o=a==="fixed",c=va(s),d=t?gm(t.floating):!1;if(s===c||d&&o)return n;let h={scrollLeft:0,scrollTop:0},f=ma(1);const p=ma(0),g=xa(s);if((g||!g&&!o)&&((uc(s)!=="body"||dd(c))&&(h=xm(s)),xa(s))){const b=$o(s);f=Kl(s),p.x=b.x+s.clientLeft,p.y=b.y+s.clientTop}const x=c&&!g&&!o?xS(c,h,!0):ma(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-h.scrollLeft*f.x+p.x+x.x,y:n.y*f.y-h.scrollTop*f.y+p.y+x.y}}function v5(e){return Array.from(e.getClientRects())}function w5(e){const t=va(e),n=xm(e),s=e.ownerDocument.body,a=ar(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=ar(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let c=-n.scrollLeft+py(e);const d=-n.scrollTop;return Yr(s).direction==="rtl"&&(c+=ar(t.clientWidth,s.clientWidth)-a),{width:a,height:o,x:c,y:d}}function j5(e,t){const n=or(e),s=va(e),a=n.visualViewport;let o=s.clientWidth,c=s.clientHeight,d=0,h=0;if(a){o=a.width,c=a.height;const f=hy();(!f||f&&t==="fixed")&&(d=a.offsetLeft,h=a.offsetTop)}return{width:o,height:c,x:d,y:h}}const _5=new Set(["absolute","fixed"]);function N5(e,t){const n=$o(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,o=xa(e)?Kl(e):ma(1),c=e.clientWidth*o.x,d=e.clientHeight*o.y,h=a*o.x,f=s*o.y;return{width:c,height:d,x:h,y:f}}function K1(e,t,n){let s;if(t==="viewport")s=j5(e,n);else if(t==="document")s=w5(va(e));else if(Wr(t))s=N5(t,n);else{const a=gS(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return $h(s)}function yS(e,t){const n=$i(e);return n===t||!Wr(n)||nc(n)?!1:Yr(n).position==="fixed"||yS(n,t)}function S5(e,t){const n=t.get(e);if(n)return n;let s=Qu(e,[],!1).filter(d=>Wr(d)&&uc(d)!=="body"),a=null;const o=Yr(e).position==="fixed";let c=o?$i(e):e;for(;Wr(c)&&!nc(c);){const d=Yr(c),h=fy(c);!h&&d.position==="fixed"&&(a=null),(o?!h&&!a:!h&&d.position==="static"&&!!a&&_5.has(a.position)||dd(c)&&!h&&yS(e,c))?s=s.filter(p=>p!==c):a=d,c=$i(c)}return t.set(e,s),s}function T5(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const c=[...n==="clippingAncestors"?gm(t)?[]:S5(t,this._c):[].concat(n),s],d=c[0],h=c.reduce((f,p)=>{const g=K1(t,p,a);return f.top=ar(g.top,f.top),f.right=Fi(g.right,f.right),f.bottom=Fi(g.bottom,f.bottom),f.left=ar(g.left,f.left),f},K1(t,d,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function E5(e){const{width:t,height:n}=pS(e);return{width:t,height:n}}function k5(e,t,n){const s=xa(t),a=va(t),o=n==="fixed",c=$o(e,!0,o,t);let d={scrollLeft:0,scrollTop:0};const h=ma(0);function f(){h.x=py(a)}if(s||!s&&!o)if((uc(t)!=="body"||dd(a))&&(d=xm(t)),s){const b=$o(t,!0,o,t);h.x=b.x+t.clientLeft,h.y=b.y+t.clientTop}else a&&f();o&&!s&&a&&f();const p=a&&!s&&!o?xS(a,d):ma(0),g=c.left+d.scrollLeft-h.x-p.x,x=c.top+d.scrollTop-h.y-p.y;return{x:g,y:x,width:c.width,height:c.height}}function e0(e){return Yr(e).position==="static"}function Q1(e,t){if(!xa(e)||Yr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return va(e)===n&&(n=n.ownerDocument.body),n}function bS(e,t){const n=or(e);if(gm(e))return n;if(!xa(e)){let a=$i(e);for(;a&&!nc(a);){if(Wr(a)&&!e0(a))return a;a=$i(a)}return n}let s=Q1(e,t);for(;s&&u5(s)&&e0(s);)s=Q1(s,t);return s&&nc(s)&&e0(s)&&!fy(s)?n:s||p5(e)||n}const C5=function(e){return ve(this,null,function*(){const t=this.getOffsetParent||bS,n=this.getDimensions,s=yield n(e.floating);return{reference:k5(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}})};function D5(e){return Yr(e).direction==="rtl"}const O5={convertOffsetParentRelativeRectToViewportRelativeRect:b5,getDocumentElement:va,getClippingRect:T5,getOffsetParent:bS,getElementRects:C5,getClientRects:v5,getDimensions:E5,getScale:Kl,isElement:Wr,isRTL:D5};function vS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function A5(e,t){let n=null,s;const a=va(e);function o(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function c(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),o();const f=e.getBoundingClientRect(),{left:p,top:g,width:x,height:b}=f;if(d||t(),!x||!b)return;const j=Ff(g),v=Ff(a.clientWidth-(p+x)),S=Ff(a.clientHeight-(g+b)),N=Ff(p),E={rootMargin:-j+"px "+-v+"px "+-S+"px "+-N+"px",threshold:ar(0,Fi(1,h))||1};let T=!0;function D(C){const z=C[0].intersectionRatio;if(z!==h){if(!T)return c();z?c(!1,z):s=setTimeout(()=>{c(!1,1e-7)},1e3)}z===1&&!vS(f,e.getBoundingClientRect())&&c(),T=!1}try{n=new IntersectionObserver(D,oe(L({},E),{root:a.ownerDocument}))}catch(C){n=new IntersectionObserver(D,E)}n.observe(e)}return c(!0),o}function R5(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,f=my(e),p=a||o?[...f?Qu(f):[],...Qu(t)]:[];p.forEach(N=>{a&&N.addEventListener("scroll",n,{passive:!0}),o&&N.addEventListener("resize",n)});const g=f&&d?A5(f,n):null;let x=-1,b=null;c&&(b=new ResizeObserver(N=>{let[A]=N;A&&A.target===f&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var E;(E=b)==null||E.observe(t)})),n()}),f&&!h&&b.observe(f),b.observe(t));let j,v=h?$o(e):null;h&&S();function S(){const N=$o(e);v&&!vS(v,N)&&n(),v=N,j=requestAnimationFrame(S)}return n(),()=>{var N;p.forEach(A=>{a&&A.removeEventListener("scroll",n),o&&A.removeEventListener("resize",n)}),g==null||g(),(N=b)==null||N.disconnect(),b=null,h&&cancelAnimationFrame(j)}}const M5=r5,P5=a5,L5=t5,z5=o5,U5=n5,Z1=e5,B5=i5,F5=(e,t,n)=>{const s=new Map,a=L({platform:O5},n),o=oe(L({},a.platform),{_c:s});return J3(e,t,oe(L({},a),{platform:o}))};var $5=typeof document!="undefined",H5=function(){},Sh=$5?_.useLayoutEffect:H5;function Hh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Hh(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const o=a[s];if(!(o==="_owner"&&e.$$typeof)&&!Hh(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function wS(e){return typeof window=="undefined"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function J1(e,t){const n=wS(e);return Math.round(t*n)/n}function t0(e){const t=_.useRef(e);return Sh(()=>{t.current=e}),t}function V5(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:h,open:f}=e,[p,g]=_.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=_.useState(s);Hh(x,s)||b(s);const[j,v]=_.useState(null),[S,N]=_.useState(null),A=_.useCallback(ee=>{ee!==C.current&&(C.current=ee,v(ee))},[]),E=_.useCallback(ee=>{ee!==z.current&&(z.current=ee,N(ee))},[]),T=o||j,D=c||S,C=_.useRef(null),z=_.useRef(null),U=_.useRef(p),R=h!=null,G=t0(h),q=t0(a),Q=t0(f),W=_.useCallback(()=>{if(!C.current||!z.current)return;const ee={placement:t,strategy:n,middleware:x};q.current&&(ee.platform=q.current),F5(C.current,z.current,ee).then(ce=>{const M=oe(L({},ce),{isPositioned:Q.current!==!1});Y.current&&!Hh(U.current,M)&&(U.current=M,mm.flushSync(()=>{g(M)}))})},[x,t,n,q,Q]);Sh(()=>{f===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,g(ee=>oe(L({},ee),{isPositioned:!1})))},[f]);const Y=_.useRef(!1);Sh(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Sh(()=>{if(T&&(C.current=T),D&&(z.current=D),T&&D){if(G.current)return G.current(T,D,W);W()}},[T,D,W,G,R]);const H=_.useMemo(()=>({reference:C,floating:z,setReference:A,setFloating:E}),[A,E]),F=_.useMemo(()=>({reference:T,floating:D}),[T,D]),Z=_.useMemo(()=>{const ee={position:n,left:0,top:0};if(!F.floating)return ee;const ce=J1(F.floating,p.x),M=J1(F.floating,p.y);return d?L(oe(L({},ee),{transform:"translate("+ce+"px, "+M+"px)"}),wS(F.floating)>=1.5&&{willChange:"transform"}):{position:n,left:ce,top:M}},[n,d,F.floating,p.x,p.y]);return _.useMemo(()=>oe(L({},p),{update:W,refs:H,elements:F,floatingStyles:Z}),[p,W,H,F,Z])}const I5=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?Z1({element:s.current,padding:a}).fn(n):{}:s?Z1({element:s,padding:a}).fn(n):{}}}},q5=(e,t)=>oe(L({},M5(e)),{options:[e,t]}),W5=(e,t)=>oe(L({},P5(e)),{options:[e,t]}),Y5=(e,t)=>oe(L({},B5(e)),{options:[e,t]}),X5=(e,t)=>oe(L({},L5(e)),{options:[e,t]}),G5=(e,t)=>oe(L({},z5(e)),{options:[e,t]}),K5=(e,t)=>oe(L({},U5(e)),{options:[e,t]}),Q5=(e,t)=>oe(L({},I5(e)),{options:[e,t]});var Z5="Arrow",jS=_.forwardRef((e,t)=>{const c=e,{children:n,width:s=10,height:a=5}=c,o=Oe(c,["children","width","height"]);return i.jsx(Yt.svg,oe(L({},o),{ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})}))});jS.displayName=Z5;var J5=jS;function eP(e){const[t,n]=_.useState(void 0);return Cr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let c,d;if("borderBoxSize"in o){const h=o.borderBoxSize,f=Array.isArray(h)?h[0]:h;c=f.inlineSize,d=f.blockSize}else c=e.offsetWidth,d=e.offsetHeight;n({width:c,height:d})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var gy="Popper",[_S,NS]=cd(gy),[tP,SS]=_S(gy),TS=e=>{const{__scopePopper:t,children:n}=e,[s,a]=_.useState(null);return i.jsx(tP,{scope:t,anchor:s,onAnchorChange:a,children:n})};TS.displayName=gy;var ES="PopperAnchor",kS=_.forwardRef((e,t)=>{const f=e,{__scopePopper:n,virtualRef:s}=f,a=Oe(f,["__scopePopper","virtualRef"]),o=SS(ES,n),c=_.useRef(null),d=An(t,c),h=_.useRef(null);return _.useEffect(()=>{const p=h.current;h.current=(s==null?void 0:s.current)||c.current,p!==h.current&&o.onAnchorChange(h.current)}),s?null:i.jsx(Yt.div,oe(L({},a),{ref:d}))});kS.displayName=ES;var xy="PopperContent",[nP,sP]=_S(xy),CS=_.forwardRef((e,t)=>{var Ce,Ve,ze,tt,Ke,mt,Ue,gt;const Ee=e,{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:o="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:j}=Ee,v=Oe(Ee,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),S=SS(xy,n),[N,A]=_.useState(null),E=An(t,Je=>A(Je)),[T,D]=_.useState(null),C=eP(T),z=(Ce=C==null?void 0:C.width)!=null?Ce:0,U=(Ve=C==null?void 0:C.height)!=null?Ve:0,R=s+(o!=="center"?"-"+o:""),G=typeof p=="number"?p:L({top:0,right:0,bottom:0,left:0},p),q=Array.isArray(f)?f:[f],Q=q.length>0,W={padding:G,boundary:q.filter(aP),altBoundary:Q},{refs:Y,floatingStyles:H,placement:F,isPositioned:Z,middlewareData:ee}=V5({strategy:"fixed",placement:R,whileElementsMounted:(...Je)=>R5(...Je,{animationFrame:b==="always"}),elements:{reference:S.anchor},middleware:[q5({mainAxis:a+U,alignmentAxis:c}),h&&W5(L({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?Y5():void 0},W)),h&&X5(L({},W)),G5(oe(L({},W),{apply:({elements:Je,rects:Me,availableWidth:nt,availableHeight:ot})=>{const{width:K,height:fe}=Me.reference,X=Je.floating.style;X.setProperty("--radix-popper-available-width",`${nt}px`),X.setProperty("--radix-popper-available-height",`${ot}px`),X.setProperty("--radix-popper-anchor-width",`${K}px`),X.setProperty("--radix-popper-anchor-height",`${fe}px`)}})),T&&Q5({element:T,padding:d}),iP({arrowWidth:z,arrowHeight:U}),x&&K5(L({strategy:"referenceHidden"},W))]}),[ce,M]=AS(F),ie=ga(j);Cr(()=>{Z&&(ie==null||ie())},[Z,ie]);const se=(ze=ee.arrow)==null?void 0:ze.x,V=(tt=ee.arrow)==null?void 0:tt.y,ne=((Ke=ee.arrow)==null?void 0:Ke.centerOffset)!==0,[ge,he]=_.useState();return Cr(()=>{N&&he(window.getComputedStyle(N).zIndex)},[N]),i.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:L(oe(L({},H),{transform:Z?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(mt=ee.transformOrigin)==null?void 0:mt.x,(Ue=ee.transformOrigin)==null?void 0:Ue.y].join(" ")}),((gt=ee.hide)==null?void 0:gt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:i.jsx(nP,{scope:n,placedSide:ce,onArrowChange:D,arrowX:se,arrowY:V,shouldHideArrow:ne,children:i.jsx(Yt.div,oe(L({"data-side":ce,"data-align":M},v),{ref:E,style:oe(L({},v.style),{animation:Z?void 0:"none"})}))})})});CS.displayName=xy;var DS="PopperArrow",rP={top:"bottom",right:"left",bottom:"top",left:"right"},OS=_.forwardRef(function(t,n){const d=t,{__scopePopper:s}=d,a=Oe(d,["__scopePopper"]),o=sP(DS,s),c=rP[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(J5,oe(L({},a),{ref:n,style:oe(L({},a.style),{display:"block"})}))})});OS.displayName=DS;function aP(e){return e!==null}var iP=e=>({name:"transformOrigin",options:e,fn(t){var S,N,A,E,T;const{placement:n,rects:s,middlewareData:a}=t,c=((S=a.arrow)==null?void 0:S.centerOffset)!==0,d=c?0:e.arrowWidth,h=c?0:e.arrowHeight,[f,p]=AS(n),g={start:"0%",center:"50%",end:"100%"}[p],x=((A=(N=a.arrow)==null?void 0:N.x)!=null?A:0)+d/2,b=((T=(E=a.arrow)==null?void 0:E.y)!=null?T:0)+h/2;let j="",v="";return f==="bottom"?(j=c?g:`${x}px`,v=`${-h}px`):f==="top"?(j=c?g:`${x}px`,v=`${s.floating.height+h}px`):f==="right"?(j=`${-h}px`,v=c?g:`${b}px`):f==="left"&&(j=`${s.floating.width+h}px`,v=c?g:`${b}px`),{data:{x:j,y:v}}}});function AS(e){const[t,n="center"]=e.split("-");return[t,n]}var oP=TS,RS=kS,lP=CS,cP=OS,uP="Portal",fd=_.forwardRef((e,t)=>{var h;const d=e,{container:n}=d,s=Oe(d,["container"]),[a,o]=_.useState(!1);Cr(()=>o(!0),[]);const c=n||a&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return c?tS.createPortal(i.jsx(Yt.div,oe(L({},s),{ref:t})),c):null});fd.displayName=uP;function dP(e,t){return _.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var dc=e=>{const{present:t,children:n}=e,s=fP(t),a=typeof n=="function"?n({present:s.isPresent}):_.Children.only(n),o=An(s.ref,hP(a));return typeof n=="function"||s.isPresent?_.cloneElement(a,{ref:o}):null};dc.displayName="Presence";function fP(e){const[t,n]=_.useState(),s=_.useRef(null),a=_.useRef(e),o=_.useRef("none"),c=e?"mounted":"unmounted",[d,h]=dP(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const f=$f(s.current);o.current=d==="mounted"?f:"none"},[d]),Cr(()=>{const f=s.current,p=a.current;if(p!==e){const x=o.current,b=$f(f);e?h("MOUNT"):b==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(p&&x!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,h]),Cr(()=>{var f;if(t){let p;const g=(f=t.ownerDocument.defaultView)!=null?f:window,x=j=>{const S=$f(s.current).includes(CSS.escape(j.animationName));if(j.target===t&&S&&(h("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},b=j=>{j.target===t&&(o.current=$f(s.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:_.useCallback(f=>{s.current=f?getComputedStyle(f):null,n(f)},[])}}function $f(e){return(e==null?void 0:e.animationName)||"none"}function hP(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var mP=KN[" useInsertionEffect ".trim().toString()]||Cr;function ym({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,o,c]=pP({defaultProp:t,onChange:n}),d=e!==void 0,h=d?e:a;{const p=_.useRef(e!==void 0);_.useEffect(()=>{const g=p.current;g!==d&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,s])}const f=_.useCallback(p=>{var g;if(d){const x=gP(p)?p(e):p;x!==e&&((g=c.current)==null||g.call(c,x))}else o(p)},[d,e,o,c]);return[h,f]}function pP({defaultProp:e,onChange:t}){const[n,s]=_.useState(e),a=_.useRef(n),o=_.useRef(t);return mP(()=>{o.current=t},[t]),_.useEffect(()=>{var c;a.current!==n&&((c=o.current)==null||c.call(o,n),a.current=n)},[n,a]),[n,s,o]}function gP(e){return typeof e=="function"}var xP=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Pl=new WeakMap,Hf=new WeakMap,Vf={},n0=0,MS=function(e){return e&&(e.host||MS(e.parentNode))},yP=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=MS(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},bP=function(e,t,n,s){var a=yP(t,Array.isArray(e)?e:[e]);Vf[n]||(Vf[n]=new WeakMap);var o=Vf[n],c=[],d=new Set,h=new Set(a),f=function(g){!g||d.has(g)||(d.add(g),f(g.parentNode))};a.forEach(f);var p=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(x){if(d.has(x))p(x);else try{var b=x.getAttribute(s),j=b!==null&&b!=="false",v=(Pl.get(x)||0)+1,S=(o.get(x)||0)+1;Pl.set(x,v),o.set(x,S),c.push(x),v===1&&j&&Hf.set(x,!0),S===1&&x.setAttribute(n,"true"),j||x.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",x,N)}})};return p(t),d.clear(),n0++,function(){c.forEach(function(g){var x=Pl.get(g)-1,b=o.get(g)-1;Pl.set(g,x),o.set(g,b),x||(Hf.has(g)||g.removeAttribute(s),Hf.delete(g)),b||g.removeAttribute(n)}),n0--,n0||(Pl=new WeakMap,Pl=new WeakMap,Hf=new WeakMap,Vf={})}},bm=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=xP(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),bP(s,a,n,"aria-hidden")):function(){return null}},ca=function(){return ca=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ca.apply(this,arguments)};function PS(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function vP(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,o;s<a;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var Th="right-scroll-bar-position",Eh="width-before-scroll-bar",wP="with-scroll-bars-hidden",jP="--removed-body-scroll-bar-size";function s0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function _P(e,t){var n=_.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var NP=typeof window!="undefined"?_.useLayoutEffect:_.useEffect,e_=new WeakMap;function SP(e,t){var n=_P(null,function(s){return e.forEach(function(a){return s0(a,s)})});return NP(function(){var s=e_.get(n);if(s){var a=new Set(s),o=new Set(e),c=n.current;a.forEach(function(d){o.has(d)||s0(d,null)}),o.forEach(function(d){a.has(d)||s0(d,c)})}e_.set(n,e)},[e]),n}function TP(e){return e}function EP(e,t){t===void 0&&(t=TP);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var c=t(o,s);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(o){for(s=!0;n.length;){var c=n;n=[],c.forEach(o)}n={push:function(d){return o(d)},filter:function(){return n}}},assignMedium:function(o){s=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(o),c=n}var h=function(){var p=c;c=[],p.forEach(o)},f=function(){return Promise.resolve().then(h)};f(),n={push:function(p){c.push(p),f()},filter:function(p){return c=c.filter(p),n}}}};return a}function kP(e){e===void 0&&(e={});var t=EP(null);return t.options=ca({async:!0,ssr:!1},e),t}var LS=function(e){var t=e.sideCar,n=PS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return _.createElement(s,ca({},n))};LS.isSideCarExport=!0;function CP(e,t){return e.useMedium(t),LS}var zS=kP(),r0=function(){},vm=_.forwardRef(function(e,t){var n=_.useRef(null),s=_.useState({onScrollCapture:r0,onWheelCapture:r0,onTouchMoveCapture:r0}),a=s[0],o=s[1],c=e.forwardProps,d=e.children,h=e.className,f=e.removeScrollBar,p=e.enabled,g=e.shards,x=e.sideCar,b=e.noRelative,j=e.noIsolation,v=e.inert,S=e.allowPinchZoom,N=e.as,A=N===void 0?"div":N,E=e.gapMode,T=PS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=x,C=SP([n,t]),z=ca(ca({},T),a);return _.createElement(_.Fragment,null,p&&_.createElement(D,{sideCar:zS,removeScrollBar:f,shards:g,noRelative:b,noIsolation:j,inert:v,setCallbacks:o,allowPinchZoom:!!S,lockRef:n,gapMode:E}),c?_.cloneElement(_.Children.only(d),ca(ca({},z),{ref:C})):_.createElement(A,ca({},z,{className:h,ref:C}),d))});vm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vm.classNames={fullWidth:Eh,zeroRight:Th};var DP=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function OP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=DP();return t&&e.setAttribute("nonce",t),e}function AP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function RP(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var MP=function(){var e=0,t=null;return{add:function(n){e==0&&(t=OP())&&(AP(t,n),RP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},PP=function(){var e=MP();return function(t,n){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},US=function(){var e=PP(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},LP={left:0,top:0,right:0,gap:0},a0=function(e){return parseInt(e||"",10)||0},zP=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[a0(n),a0(s),a0(a)]},UP=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return LP;var t=zP(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},BP=US(),Ql="data-scroll-locked",FP=function(e,t,n,s){var a=e.left,o=e.top,c=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(wP,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(Ql,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Th,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Eh,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Th," .").concat(Th,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Eh," .").concat(Eh,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ql,`] {
    `).concat(jP,": ").concat(d,`px;
  }
`)},t_=function(){var e=parseInt(document.body.getAttribute(Ql)||"0",10);return isFinite(e)?e:0},$P=function(){_.useEffect(function(){return document.body.setAttribute(Ql,(t_()+1).toString()),function(){var e=t_()-1;e<=0?document.body.removeAttribute(Ql):document.body.setAttribute(Ql,e.toString())}},[])},HP=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;$P();var o=_.useMemo(function(){return UP(a)},[a]);return _.createElement(BP,{styles:FP(o,!t,a,n?"":"!important")})},sx=!1;if(typeof window!="undefined")try{var If=Object.defineProperty({},"passive",{get:function(){return sx=!0,!0}});window.addEventListener("test",If,If),window.removeEventListener("test",If,If)}catch(e){sx=!1}var Ll=sx?{passive:!1}:!1,VP=function(e){return e.tagName==="TEXTAREA"},BS=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!VP(e)&&n[t]==="visible")},IP=function(e){return BS(e,"overflowY")},qP=function(e){return BS(e,"overflowX")},n_=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot!="undefined"&&s instanceof ShadowRoot&&(s=s.host);var a=FS(e,s);if(a){var o=$S(e,s),c=o[1],d=o[2];if(c>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},WP=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},YP=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},FS=function(e,t){return e==="v"?IP(t):qP(t)},$S=function(e,t){return e==="v"?WP(t):YP(t)},XP=function(e,t){return e==="h"&&t==="rtl"?-1:1},GP=function(e,t,n,s,a){var o=XP(e,window.getComputedStyle(t).direction),c=o*s,d=n.target,h=t.contains(d),f=!1,p=c>0,g=0,x=0;do{if(!d)break;var b=$S(e,d),j=b[0],v=b[1],S=b[2],N=v-S-o*j;(j||N)&&FS(e,d)&&(g+=N,x+=j);var A=d.parentNode;d=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!h&&d!==document.body||h&&(t.contains(d)||t===d));return(p&&Math.abs(g)<1||!p&&Math.abs(x)<1)&&(f=!0),f},qf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},s_=function(e){return[e.deltaX,e.deltaY]},r_=function(e){return e&&"current"in e?e.current:e},KP=function(e,t){return e[0]===t[0]&&e[1]===t[1]},QP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ZP=0,zl=[];function JP(e){var t=_.useRef([]),n=_.useRef([0,0]),s=_.useRef(),a=_.useState(ZP++)[0],o=_.useState(US)[0],c=_.useRef(e);_.useEffect(function(){c.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=vP([e.lockRef.current],(e.shards||[]).map(r_),!0).filter(Boolean);return v.forEach(function(S){return S.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var d=_.useCallback(function(v,S){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!c.current.allowPinchZoom;var N=qf(v),A=n.current,E="deltaX"in v?v.deltaX:A[0]-N[0],T="deltaY"in v?v.deltaY:A[1]-N[1],D,C=v.target,z=Math.abs(E)>Math.abs(T)?"h":"v";if("touches"in v&&z==="h"&&C.type==="range")return!1;var U=n_(z,C);if(!U)return!0;if(U?D=z:(D=z==="v"?"h":"v",U=n_(z,C)),!U)return!1;if(!s.current&&"changedTouches"in v&&(E||T)&&(s.current=D),!D)return!0;var R=s.current||D;return GP(R,S,v,R==="h"?E:T)},[]),h=_.useCallback(function(v){var S=v;if(!(!zl.length||zl[zl.length-1]!==o)){var N="deltaY"in S?s_(S):qf(S),A=t.current.filter(function(D){return D.name===S.type&&(D.target===S.target||S.target===D.shadowParent)&&KP(D.delta,N)})[0];if(A&&A.should){S.cancelable&&S.preventDefault();return}if(!A){var E=(c.current.shards||[]).map(r_).filter(Boolean).filter(function(D){return D.contains(S.target)}),T=E.length>0?d(S,E[0]):!c.current.noIsolation;T&&S.cancelable&&S.preventDefault()}}},[]),f=_.useCallback(function(v,S,N,A){var E={name:v,delta:S,target:N,should:A,shadowParent:e6(N)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(T){return T!==E})},1)},[]),p=_.useCallback(function(v){n.current=qf(v),s.current=void 0},[]),g=_.useCallback(function(v){f(v.type,s_(v),v.target,d(v,e.lockRef.current))},[]),x=_.useCallback(function(v){f(v.type,qf(v),v.target,d(v,e.lockRef.current))},[]);_.useEffect(function(){return zl.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:x}),document.addEventListener("wheel",h,Ll),document.addEventListener("touchmove",h,Ll),document.addEventListener("touchstart",p,Ll),function(){zl=zl.filter(function(v){return v!==o}),document.removeEventListener("wheel",h,Ll),document.removeEventListener("touchmove",h,Ll),document.removeEventListener("touchstart",p,Ll)}},[]);var b=e.removeScrollBar,j=e.inert;return _.createElement(_.Fragment,null,j?_.createElement(o,{styles:QP(a)}):null,b?_.createElement(HP,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function e6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const t6=CP(zS,JP);var hd=_.forwardRef(function(e,t){return _.createElement(vm,ca({},e,{ref:t,sideCar:t6}))});hd.classNames=vm.classNames;var wm="Popover",[HS,oH]=cd(wm,[NS]),md=NS(),[n6,Yi]=HS(wm),VS=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:c=!1}=e,d=md(t),h=_.useRef(null),[f,p]=_.useState(!1),[g,x]=ym({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:wm});return i.jsx(oP,oe(L({},d),{children:i.jsx(n6,{scope:t,contentId:ks(),triggerRef:h,open:g,onOpenChange:x,onOpenToggle:_.useCallback(()=>x(b=>!b),[x]),hasCustomAnchor:f,onCustomAnchorAdd:_.useCallback(()=>p(!0),[]),onCustomAnchorRemove:_.useCallback(()=>p(!1),[]),modal:c,children:n})}))};VS.displayName=wm;var IS="PopoverAnchor",s6=_.forwardRef((e,t)=>{const h=e,{__scopePopover:n}=h,s=Oe(h,["__scopePopover"]),a=Yi(IS,n),o=md(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=a;return _.useEffect(()=>(c(),()=>d()),[c,d]),i.jsx(RS,oe(L(L({},o),s),{ref:t}))});s6.displayName=IS;var qS="PopoverTrigger",WS=_.forwardRef((e,t)=>{const h=e,{__scopePopover:n}=h,s=Oe(h,["__scopePopover"]),a=Yi(qS,n),o=md(n),c=An(t,a.triggerRef),d=i.jsx(Yt.button,oe(L({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":QS(a.open)},s),{ref:c,onClick:ir(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?d:i.jsx(RS,oe(L({asChild:!0},o),{children:d}))});WS.displayName=qS;var yy="PopoverPortal",[r6,a6]=HS(yy,{forceMount:void 0}),YS=e=>{const{__scopePopover:t,forceMount:n,children:s,container:a}=e,o=Yi(yy,t);return i.jsx(r6,{scope:t,forceMount:n,children:i.jsx(dc,{present:n||o.open,children:i.jsx(fd,{asChild:!0,container:a,children:s})})})};YS.displayName=yy;var sc="PopoverContent",XS=_.forwardRef((e,t)=>{const n=a6(sc,e.__scopePopover),c=e,{forceMount:s=n.forceMount}=c,a=Oe(c,["forceMount"]),o=Yi(sc,e.__scopePopover);return i.jsx(dc,{present:s||o.open,children:o.modal?i.jsx(o6,oe(L({},a),{ref:t})):i.jsx(l6,oe(L({},a),{ref:t}))})});XS.displayName=sc;var i6=lc("PopoverContent.RemoveScroll"),o6=_.forwardRef((e,t)=>{const n=Yi(sc,e.__scopePopover),s=_.useRef(null),a=An(t,s),o=_.useRef(!1);return _.useEffect(()=>{const c=s.current;if(c)return bm(c)},[]),i.jsx(hd,{as:i6,allowPinchZoom:!0,children:i.jsx(GS,oe(L({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ir(e.onCloseAutoFocus,c=>{var d;c.preventDefault(),o.current||(d=n.triggerRef.current)==null||d.focus()}),onPointerDownOutside:ir(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,f=d.button===2||h;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:ir(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})}))})}),l6=_.forwardRef((e,t)=>{const n=Yi(sc,e.__scopePopover),s=_.useRef(!1),a=_.useRef(!1);return i.jsx(GS,oe(L({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=o.target;((f=n.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),GS=_.forwardRef((e,t)=>{const j=e,{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p}=j,g=Oe(j,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),x=Yi(sc,n),b=md(n);return cS(),i.jsx(ud,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:i.jsx(ly,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:p,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onDismiss:()=>x.onOpenChange(!1),children:i.jsx(lP,oe(L(L({"data-state":QS(x.open),role:"dialog",id:x.contentId},b),g),{ref:t,style:oe(L({},g.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),KS="PopoverClose",c6=_.forwardRef((e,t)=>{const o=e,{__scopePopover:n}=o,s=Oe(o,["__scopePopover"]),a=Yi(KS,n);return i.jsx(Yt.button,oe(L({type:"button"},s),{ref:t,onClick:ir(e.onClick,()=>a.onOpenChange(!1))}))});c6.displayName=KS;var u6="PopoverArrow",d6=_.forwardRef((e,t)=>{const o=e,{__scopePopover:n}=o,s=Oe(o,["__scopePopover"]),a=md(n);return i.jsx(cP,oe(L(L({},a),s),{ref:t}))});d6.displayName=u6;function QS(e){return e?"open":"closed"}var f6=VS,h6=WS,m6=YS,p6=XS;function ZS(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=ZS(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function JS(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=ZS(e))&&(s&&(s+=" "),s+=t);return s}const by="-",g6=e=>{const t=y6(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:c=>{const d=c.split(by);return d[0]===""&&d.length!==1&&d.shift(),eT(d,t)||x6(c)},getConflictingClassGroupIds:(c,d)=>{const h=n[c]||[];return d&&s[c]?[...h,...s[c]]:h}}},eT=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?eT(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(by);return(c=t.validators.find(({validator:d})=>d(o)))==null?void 0:c.classGroupId},a_=/^\[(.+)\]$/,x6=e=>{if(a_.test(e)){const t=a_.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},y6=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const a in n)rx(n[a],s,a,t);return s},rx=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:i_(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(b6(a)){rx(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,c])=>{rx(c,i_(t,o),n,s)})})},i_=(e,t)=>{let n=e;return t.split(by).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},b6=e=>e.isThemeGetter,v6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(o,c)=>{n.set(o,c),t++,t>e&&(t=0,s=n,n=new Map)};return{get(o){let c=n.get(o);if(c!==void 0)return c;if((c=s.get(o))!==void 0)return a(o,c),c},set(o,c){n.has(o)?n.set(o,c):a(o,c)}}},ax="!",ix=":",w6=ix.length,j6=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=a=>{const o=[];let c=0,d=0,h=0,f;for(let j=0;j<a.length;j++){let v=a[j];if(c===0&&d===0){if(v===ix){o.push(a.slice(h,j)),h=j+w6;continue}if(v==="/"){f=j;continue}}v==="["?c++:v==="]"?c--:v==="("?d++:v===")"&&d--}const p=o.length===0?a:a.substring(h),g=_6(p),x=g!==p,b=f&&f>h?f-h:void 0;return{modifiers:o,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:b}};if(t){const a=t+ix,o=s;s=c=>c.startsWith(a)?o(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const a=s;s=o=>n({className:o,parseClassName:a})}return s},_6=e=>e.endsWith(ax)?e.substring(0,e.length-1):e.startsWith(ax)?e.substring(1):e,N6=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let o=[];return s.forEach(c=>{c[0]==="["||t[c]?(a.push(...o.sort(),c),o=[]):o.push(c)}),a.push(...o.sort()),a}},S6=e=>L({cache:v6(e.cacheSize),parseClassName:j6(e),sortModifiers:N6(e)},g6(e)),T6=/\s+/,E6=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:o}=t,c=[],d=e.trim().split(T6);let h="";for(let f=d.length-1;f>=0;f-=1){const p=d[f],{isExternal:g,modifiers:x,hasImportantModifier:b,baseClassName:j,maybePostfixModifierPosition:v}=n(p);if(g){h=p+(h.length>0?" "+h:h);continue}let S=!!v,N=s(S?j.substring(0,v):j);if(!N){if(!S){h=p+(h.length>0?" "+h:h);continue}if(N=s(j),!N){h=p+(h.length>0?" "+h:h);continue}S=!1}const A=o(x).join(":"),E=b?A+ax:A,T=E+N;if(c.includes(T))continue;c.push(T);const D=a(N,S);for(let C=0;C<D.length;++C){const z=D[C];c.push(E+z)}h=p+(h.length>0?" "+h:h)}return h};function k6(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=tT(t))&&(s&&(s+=" "),s+=n);return s}const tT=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=tT(e[s]))&&(n&&(n+=" "),n+=t);return n};function C6(e,...t){let n,s,a,o=c;function c(h){const f=t.reduce((p,g)=>g(p),e());return n=S6(f),s=n.cache.get,a=n.cache.set,o=d,d(h)}function d(h){const f=s(h);if(f)return f;const p=E6(h,n);return a(h,p),p}return function(){return o(k6.apply(null,arguments))}}const ts=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},nT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,sT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,D6=/^\d+\/\d+$/,O6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,A6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,R6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,M6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,P6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ul=e=>D6.test(e),Bt=e=>!!e&&!Number.isNaN(Number(e)),Si=e=>!!e&&Number.isInteger(Number(e)),i0=e=>e.endsWith("%")&&Bt(e.slice(0,-1)),Ba=e=>O6.test(e),L6=()=>!0,z6=e=>A6.test(e)&&!R6.test(e),rT=()=>!1,U6=e=>M6.test(e),B6=e=>P6.test(e),F6=e=>!at(e)&&!it(e),$6=e=>fc(e,oT,rT),at=e=>nT.test(e),wo=e=>fc(e,lT,z6),o0=e=>fc(e,W6,Bt),o_=e=>fc(e,aT,rT),H6=e=>fc(e,iT,B6),Wf=e=>fc(e,cT,U6),it=e=>sT.test(e),wu=e=>hc(e,lT),V6=e=>hc(e,Y6),l_=e=>hc(e,aT),I6=e=>hc(e,oT),q6=e=>hc(e,iT),Yf=e=>hc(e,cT,!0),fc=(e,t,n)=>{const s=nT.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},hc=(e,t,n=!1)=>{const s=sT.exec(e);return s?s[1]?t(s[1]):n:!1},aT=e=>e==="position"||e==="percentage",iT=e=>e==="image"||e==="url",oT=e=>e==="length"||e==="size"||e==="bg-size",lT=e=>e==="length",W6=e=>e==="number",Y6=e=>e==="family-name",cT=e=>e==="shadow",X6=()=>{const e=ts("color"),t=ts("font"),n=ts("text"),s=ts("font-weight"),a=ts("tracking"),o=ts("leading"),c=ts("breakpoint"),d=ts("container"),h=ts("spacing"),f=ts("radius"),p=ts("shadow"),g=ts("inset-shadow"),x=ts("text-shadow"),b=ts("drop-shadow"),j=ts("blur"),v=ts("perspective"),S=ts("aspect"),N=ts("ease"),A=ts("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...T(),it,at],C=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],U=()=>[it,at,h],R=()=>[Ul,"full","auto",...U()],G=()=>[Si,"none","subgrid",it,at],q=()=>["auto",{span:["full",Si,it,at]},Si,it,at],Q=()=>[Si,"auto",it,at],W=()=>["auto","min","max","fr",it,at],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],H=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...U()],Z=()=>[Ul,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...U()],ee=()=>[e,it,at],ce=()=>[...T(),l_,o_,{position:[it,at]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ie=()=>["auto","cover","contain",I6,$6,{size:[it,at]}],se=()=>[i0,wu,wo],V=()=>["","none","full",f,it,at],ne=()=>["",Bt,wu,wo],ge=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[Bt,i0,l_,o_],Ce=()=>["","none",j,it,at],Ve=()=>["none",Bt,it,at],ze=()=>["none",Bt,it,at],tt=()=>[Bt,it,at],Ke=()=>[Ul,"full",...U()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ba],breakpoint:[Ba],color:[L6],container:[Ba],"drop-shadow":[Ba],ease:["in","out","in-out"],font:[F6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ba],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ba],shadow:[Ba],spacing:["px",Bt],text:[Ba],"text-shadow":[Ba],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ul,at,it,S]}],container:["container"],columns:[{columns:[Bt,at,it,d]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Si,"auto",it,at]}],basis:[{basis:[Ul,"full","auto",d,...U()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Bt,Ul,"auto","initial","none",at]}],grow:[{grow:["",Bt,it,at]}],shrink:[{shrink:["",Bt,it,at]}],order:[{order:[Si,"first","last","none",it,at]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:U()}],"gap-x":[{"gap-x":U()}],"gap-y":[{"gap-y":U()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...H(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...H(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:U()}],px:[{px:U()}],py:[{py:U()}],ps:[{ps:U()}],pe:[{pe:U()}],pt:[{pt:U()}],pr:[{pr:U()}],pb:[{pb:U()}],pl:[{pl:U()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":U()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":U()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[d,"screen",...Z()]}],"min-w":[{"min-w":[d,"screen","none",...Z()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",n,wu,wo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,it,o0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",i0,at]}],"font-family":[{font:[V6,at,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,it,at]}],"line-clamp":[{"line-clamp":[Bt,"none",it,o0]}],leading:[{leading:[o,...U()]}],"list-image":[{"list-image":["none",it,at]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",it,at]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ee()}],"text-color":[{text:ee()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[Bt,"from-font","auto",it,wo]}],"text-decoration-color":[{decoration:ee()}],"underline-offset":[{"underline-offset":[Bt,"auto",it,at]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",it,at]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",it,at]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ce()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:ie()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Si,it,at],radial:["",it,at],conic:[Si,it,at]},q6,H6]}],"bg-color":[{bg:ee()}],"gradient-from-pos":[{from:se()}],"gradient-via-pos":[{via:se()}],"gradient-to-pos":[{to:se()}],"gradient-from":[{from:ee()}],"gradient-via":[{via:ee()}],"gradient-to":[{to:ee()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:ee()}],"border-color-x":[{"border-x":ee()}],"border-color-y":[{"border-y":ee()}],"border-color-s":[{"border-s":ee()}],"border-color-e":[{"border-e":ee()}],"border-color-t":[{"border-t":ee()}],"border-color-r":[{"border-r":ee()}],"border-color-b":[{"border-b":ee()}],"border-color-l":[{"border-l":ee()}],"divide-color":[{divide:ee()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Bt,it,at]}],"outline-w":[{outline:["",Bt,wu,wo]}],"outline-color":[{outline:ee()}],shadow:[{shadow:["","none",p,Yf,Wf]}],"shadow-color":[{shadow:ee()}],"inset-shadow":[{"inset-shadow":["none",g,Yf,Wf]}],"inset-shadow-color":[{"inset-shadow":ee()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ee()}],"ring-offset-w":[{"ring-offset":[Bt,wo]}],"ring-offset-color":[{"ring-offset":ee()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":ee()}],"text-shadow":[{"text-shadow":["none",x,Yf,Wf]}],"text-shadow-color":[{"text-shadow":ee()}],opacity:[{opacity:[Bt,it,at]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Bt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":ee()}],"mask-image-linear-to-color":[{"mask-linear-to":ee()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":ee()}],"mask-image-t-to-color":[{"mask-t-to":ee()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":ee()}],"mask-image-r-to-color":[{"mask-r-to":ee()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":ee()}],"mask-image-b-to-color":[{"mask-b-to":ee()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":ee()}],"mask-image-l-to-color":[{"mask-l-to":ee()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":ee()}],"mask-image-x-to-color":[{"mask-x-to":ee()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":ee()}],"mask-image-y-to-color":[{"mask-y-to":ee()}],"mask-image-radial":[{"mask-radial":[it,at]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":ee()}],"mask-image-radial-to-color":[{"mask-radial-to":ee()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[Bt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":ee()}],"mask-image-conic-to-color":[{"mask-conic-to":ee()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ce()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:ie()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",it,at]}],filter:[{filter:["","none",it,at]}],blur:[{blur:Ce()}],brightness:[{brightness:[Bt,it,at]}],contrast:[{contrast:[Bt,it,at]}],"drop-shadow":[{"drop-shadow":["","none",b,Yf,Wf]}],"drop-shadow-color":[{"drop-shadow":ee()}],grayscale:[{grayscale:["",Bt,it,at]}],"hue-rotate":[{"hue-rotate":[Bt,it,at]}],invert:[{invert:["",Bt,it,at]}],saturate:[{saturate:[Bt,it,at]}],sepia:[{sepia:["",Bt,it,at]}],"backdrop-filter":[{"backdrop-filter":["","none",it,at]}],"backdrop-blur":[{"backdrop-blur":Ce()}],"backdrop-brightness":[{"backdrop-brightness":[Bt,it,at]}],"backdrop-contrast":[{"backdrop-contrast":[Bt,it,at]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Bt,it,at]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Bt,it,at]}],"backdrop-invert":[{"backdrop-invert":["",Bt,it,at]}],"backdrop-opacity":[{"backdrop-opacity":[Bt,it,at]}],"backdrop-saturate":[{"backdrop-saturate":[Bt,it,at]}],"backdrop-sepia":[{"backdrop-sepia":["",Bt,it,at]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":U()}],"border-spacing-x":[{"border-spacing-x":U()}],"border-spacing-y":[{"border-spacing-y":U()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",it,at]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Bt,"initial",it,at]}],ease:[{ease:["linear","initial",N,it,at]}],delay:[{delay:[Bt,it,at]}],animate:[{animate:["none",A,it,at]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,it,at]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Ve()}],"rotate-x":[{"rotate-x":Ve()}],"rotate-y":[{"rotate-y":Ve()}],"rotate-z":[{"rotate-z":Ve()}],scale:[{scale:ze()}],"scale-x":[{"scale-x":ze()}],"scale-y":[{"scale-y":ze()}],"scale-z":[{"scale-z":ze()}],"scale-3d":["scale-3d"],skew:[{skew:tt()}],"skew-x":[{"skew-x":tt()}],"skew-y":[{"skew-y":tt()}],transform:[{transform:[it,at,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ke()}],"translate-x":[{"translate-x":Ke()}],"translate-y":[{"translate-y":Ke()}],"translate-z":[{"translate-z":Ke()}],"translate-none":["translate-none"],accent:[{accent:ee()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ee()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",it,at]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",it,at]}],fill:[{fill:["none",...ee()]}],"stroke-w":[{stroke:[Bt,wu,wo,o0]}],stroke:[{stroke:["none",...ee()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},G6=C6(X6);function En(...e){return G6(JS(e))}function vy(t){var e=Oe(t,[]);return i.jsx(f6,L({"data-slot":"popover"},e))}function wy(t){var e=Oe(t,[]);return i.jsx(h6,L({"data-slot":"popover-trigger"},e))}function jy(a){var o=a,{className:e,align:t="center",sideOffset:n=4}=o,s=Oe(o,["className","align","sideOffset"]);return i.jsx(m6,{children:i.jsx(p6,L({"data-slot":"popover-content",align:t,sideOffset:n,className:En("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-[10000] w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e)},s))})}const Iu=class Iu{static useUsers(){const{data:t,isLoading:n,error:s}=At("User",{fields:Iu.USER_FIELDS,filters:[["enabled","=",1],["user_type","=","System User"]],limit:0});return{data:t||[],isLoading:n,error:s}}static useCurrentUser(){const{currentUser:t,isLoading:n}=Cs();return{currentUser:t,isLoading:n}}static useCurrentUserProfile(){const{currentUser:t}=Cs(),{data:n,isLoading:s,error:a}=Ot("User",t||void 0,{fields:Iu.USER_FIELDS});return{currentUserProfile:n,isLoading:s,error:a}}};Et(Iu,"USER_FIELDS",["name","email","full_name","first_name","last_name","user_image","enabled","user_type","role_profile_name"]);let Vh=Iu;const K6=Vh.useCurrentUser,Q6=Vh.useCurrentUserProfile,Z6=()=>ve(null,null,function*(){try{const e=yield fetch("/api/method/frappe.auth.get_logged_user",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""}});if(e.status===401||e.status===403)return{isValid:!1};if(e.ok){const t=yield e.json();if(t&&!t.exc)return{isValid:!0}}return{isValid:!1}}catch(e){return console.error("Token validation error:",e),{isValid:!1}}}),uT=()=>{try{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(t=>{const n=t.indexOf("="),s=n>-1?t.substr(0,n).trim():t.trim();document.cookie=`${s}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=${window.location.hostname}`,document.cookie=`${s}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}),console.warn("Session expired. Redirecting to login...");const e="/login";window.location.href=e}catch(e){console.error("Error handling token expiry:",e),window.location.href="/login"}},J6=()=>"/login",ox=()=>window.location.pathname.includes("/login")||window.location.pathname.includes("/signin");function eL(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const tL=e=>{switch(e){case"success":return rL;case"info":return iL;case"warning":return aL;case"error":return oL;default:return null}},nL=Array(12).fill(0),sL=({visible:e,className:t})=>re.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},re.createElement("div",{className:"sonner-spinner"},nL.map((n,s)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),rL=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),aL=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),iL=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),oL=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),lL=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),cL=()=>{const[e,t]=re.useState(document.hidden);return re.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let lx=1;class uL{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const h=t,{message:s}=h,a=Oe(h,["message"]),o=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:lx++,c=this.toasts.find(f=>f.id===o),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),c?this.toasts=this.toasts.map(f=>f.id===o?(this.publish(oe(L(L({},f),t),{id:o,title:s})),oe(L(L({},f),t),{id:o,dismissible:d,title:s})):f):this.addToast(oe(L({title:s},a),{dismissible:d,id:o})),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create(oe(L({},n),{message:t})),this.error=(t,n)=>this.create(oe(L({},n),{message:t,type:"error"})),this.success=(t,n)=>this.create(oe(L({},n),{type:"success",message:t})),this.info=(t,n)=>this.create(oe(L({},n),{type:"info",message:t})),this.warning=(t,n)=>this.create(oe(L({},n),{type:"warning",message:t})),this.loading=(t,n)=>this.create(oe(L({},n),{type:"loading",message:t})),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create(oe(L({},n),{promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0})));const a=Promise.resolve(t instanceof Function?t():t);let o=s!==void 0,c;const d=a.then(f=>ve(this,null,function*(){if(c=["resolve",f],re.isValidElement(f))o=!1,this.create({id:s,type:"default",message:f});else if(fL(f)&&!f.ok){o=!1;const g=typeof n.error=="function"?yield n.error(`HTTP error! status: ${f.status}`):n.error,x=typeof n.description=="function"?yield n.description(`HTTP error! status: ${f.status}`):n.description,j=typeof g=="object"&&!re.isValidElement(g)?g:{message:g};this.create(L({id:s,type:"error",description:x},j))}else if(f instanceof Error){o=!1;const g=typeof n.error=="function"?yield n.error(f):n.error,x=typeof n.description=="function"?yield n.description(f):n.description,j=typeof g=="object"&&!re.isValidElement(g)?g:{message:g};this.create(L({id:s,type:"error",description:x},j))}else if(n.success!==void 0){o=!1;const g=typeof n.success=="function"?yield n.success(f):n.success,x=typeof n.description=="function"?yield n.description(f):n.description,j=typeof g=="object"&&!re.isValidElement(g)?g:{message:g};this.create(L({id:s,type:"success",description:x},j))}})).catch(f=>ve(this,null,function*(){if(c=["reject",f],n.error!==void 0){o=!1;const p=typeof n.error=="function"?yield n.error(f):n.error,g=typeof n.description=="function"?yield n.description(f):n.description,b=typeof p=="object"&&!re.isValidElement(p)?p:{message:p};this.create(L({id:s,type:"error",description:g},b))}})).finally(()=>{o&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),h=()=>new Promise((f,p)=>d.then(()=>c[0]==="reject"?p(c[1]):f(c[1])).catch(p));return typeof s!="string"&&typeof s!="number"?{unwrap:h}:Object.assign(s,{unwrap:h})},this.custom=(t,n)=>{const s=(n==null?void 0:n.id)||lx++;return this.create(L({jsx:t(s),id:s},n)),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Vs=new uL,dL=(e,t)=>{const n=(t==null?void 0:t.id)||lx++;return Vs.addToast(oe(L({title:e},t),{id:n})),n},fL=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",hL=dL,mL=()=>Vs.toasts,pL=()=>Vs.getActiveToasts(),wr=Object.assign(hL,{success:Vs.success,info:Vs.info,warning:Vs.warning,error:Vs.error,custom:Vs.custom,message:Vs.message,promise:Vs.promise,dismiss:Vs.dismiss,loading:Vs.loading},{getHistory:mL,getToasts:pL});eL("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Xf(e){return e.label!==void 0}const gL=3,xL="24px",yL="16px",c_=4e3,bL=356,vL=14,wL=45,jL=200;function ra(...e){return e.filter(Boolean).join(" ")}function _L(e){const[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const NL=e=>{var t,n,s,a,o,c,d,h,f;const{invert:p,toast:g,unstyled:x,interacting:b,setHeights:j,visibleToasts:v,heights:S,index:N,toasts:A,expanded:E,removeToast:T,defaultRichColors:D,closeButton:C,style:z,cancelButtonStyle:U,actionButtonStyle:R,className:G="",descriptionClassName:q="",duration:Q,position:W,gap:Y,expandByDefault:H,classNames:F,icons:Z,closeButtonAriaLabel:ee="Close toast"}=e,[ce,M]=re.useState(null),[ie,se]=re.useState(null),[V,ne]=re.useState(!1),[ge,he]=re.useState(!1),[Ee,Ce]=re.useState(!1),[Ve,ze]=re.useState(!1),[tt,Ke]=re.useState(!1),[mt,Ue]=re.useState(0),[gt,Je]=re.useState(0),Me=re.useRef(g.duration||Q||c_),nt=re.useRef(null),ot=re.useRef(null),K=N===0,fe=N+1<=v,X=g.type,Ne=g.dismissible!==!1,Le=g.className||"",Re=g.descriptionClassName||"",He=re.useMemo(()=>S.findIndex(Ze=>Ze.toastId===g.id)||0,[S,g.id]),Ye=re.useMemo(()=>{var Ze;return(Ze=g.closeButton)!=null?Ze:C},[g.closeButton,C]),et=re.useMemo(()=>g.duration||Q||c_,[g.duration,Q]),jt=re.useRef(0),Se=re.useRef(0),Pe=re.useRef(0),qe=re.useRef(null),[Ft,Xt]=W.split("-"),Gt=re.useMemo(()=>S.reduce((Ze,Tt,Kt)=>Kt>=He?Ze:Ze+Tt.height,0),[S,He]),on=cL(),In=g.invert||p,rs=X==="loading";Se.current=re.useMemo(()=>He*Y+Gt,[He,Gt]),re.useEffect(()=>{Me.current=et},[et]),re.useEffect(()=>{ne(!0)},[]),re.useEffect(()=>{const Ze=ot.current;if(Ze){const Tt=Ze.getBoundingClientRect().height;return Je(Tt),j(Kt=>[{toastId:g.id,height:Tt,position:g.position},...Kt]),()=>j(Kt=>Kt.filter(Jt=>Jt.toastId!==g.id))}},[j,g.id]),re.useLayoutEffect(()=>{if(!V)return;const Ze=ot.current,Tt=Ze.style.height;Ze.style.height="auto";const Kt=Ze.getBoundingClientRect().height;Ze.style.height=Tt,Je(Kt),j(Jt=>Jt.find(le=>le.toastId===g.id)?Jt.map(le=>le.toastId===g.id?oe(L({},le),{height:Kt}):le):[{toastId:g.id,height:Kt,position:g.position},...Jt])},[V,g.title,g.description,j,g.id,g.jsx,g.action,g.cancel]);const Qe=re.useCallback(()=>{he(!0),Ue(Se.current),j(Ze=>Ze.filter(Tt=>Tt.toastId!==g.id)),setTimeout(()=>{T(g)},jL)},[g,T,j,Se]);re.useEffect(()=>{if(g.promise&&X==="loading"||g.duration===1/0||g.type==="loading")return;let Ze;return E||b||on?(()=>{if(Pe.current<jt.current){const Jt=new Date().getTime()-jt.current;Me.current=Me.current-Jt}Pe.current=new Date().getTime()})():(()=>{Me.current!==1/0&&(jt.current=new Date().getTime(),Ze=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Qe()},Me.current))})(),()=>clearTimeout(Ze)},[E,b,g,X,on,Qe]),re.useEffect(()=>{g.delete&&(Qe(),g.onDismiss==null||g.onDismiss.call(g,g))},[Qe,g.delete]);function zt(){var Ze;if(Z!=null&&Z.loading){var Tt;return re.createElement("div",{className:ra(F==null?void 0:F.loader,g==null||(Tt=g.classNames)==null?void 0:Tt.loader,"sonner-loader"),"data-visible":X==="loading"},Z.loading)}return re.createElement(sL,{className:ra(F==null?void 0:F.loader,g==null||(Ze=g.classNames)==null?void 0:Ze.loader),visible:X==="loading"})}const Vt=g.icon||(Z==null?void 0:Z[X])||tL(X);var kt,rn;return re.createElement("li",{tabIndex:0,ref:ot,className:ra(G,Le,F==null?void 0:F.toast,g==null||(t=g.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[X],g==null||(n=g.classNames)==null?void 0:n[X]),"data-sonner-toast":"","data-rich-colors":(kt=g.richColors)!=null?kt:D,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":V,"data-promise":!!g.promise,"data-swiped":tt,"data-removed":ge,"data-visible":fe,"data-y-position":Ft,"data-x-position":Xt,"data-index":N,"data-front":K,"data-swiping":Ee,"data-dismissible":Ne,"data-type":X,"data-invert":In,"data-swipe-out":Ve,"data-swipe-direction":ie,"data-expanded":!!(E||H&&V),"data-testid":g.testId,style:L(L({"--index":N,"--toasts-before":N,"--z-index":A.length-N,"--offset":`${ge?mt:Se.current}px`,"--initial-height":H?"auto":`${gt}px`},z),g.style),onDragEnd:()=>{Ce(!1),M(null),qe.current=null},onPointerDown:Ze=>{Ze.button!==2&&(rs||!Ne||(nt.current=new Date,Ue(Se.current),Ze.target.setPointerCapture(Ze.pointerId),Ze.target.tagName!=="BUTTON"&&(Ce(!0),qe.current={x:Ze.clientX,y:Ze.clientY})))},onPointerUp:()=>{var Ze,Tt,Kt;if(Ve||!Ne)return;qe.current=null;const Jt=Number(((Ze=ot.current)==null?void 0:Ze.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),te=Number(((Tt=ot.current)==null?void 0:Tt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),le=new Date().getTime()-((Kt=nt.current)==null?void 0:Kt.getTime()),pe=ce==="x"?Jt:te,_e=Math.abs(pe)/le;if(Math.abs(pe)>=wL||_e>.11){Ue(Se.current),g.onDismiss==null||g.onDismiss.call(g,g),se(ce==="x"?Jt>0?"right":"left":te>0?"down":"up"),Qe(),ze(!0);return}else{var Ae,Ie;(Ae=ot.current)==null||Ae.style.setProperty("--swipe-amount-x","0px"),(Ie=ot.current)==null||Ie.style.setProperty("--swipe-amount-y","0px")}Ke(!1),Ce(!1),M(null)},onPointerMove:Ze=>{var Tt,Kt,Jt;if(!qe.current||!Ne||((Tt=window.getSelection())==null?void 0:Tt.toString().length)>0)return;const le=Ze.clientY-qe.current.y,pe=Ze.clientX-qe.current.x;var _e;const Ae=(_e=e.swipeDirections)!=null?_e:_L(W);!ce&&(Math.abs(pe)>1||Math.abs(le)>1)&&M(Math.abs(pe)>Math.abs(le)?"x":"y");let Ie={x:0,y:0};const st=lt=>1/(1.5+Math.abs(lt)/20);if(ce==="y"){if(Ae.includes("top")||Ae.includes("bottom"))if(Ae.includes("top")&&le<0||Ae.includes("bottom")&&le>0)Ie.y=le;else{const lt=le*st(le);Ie.y=Math.abs(lt)<Math.abs(le)?lt:le}}else if(ce==="x"&&(Ae.includes("left")||Ae.includes("right")))if(Ae.includes("left")&&pe<0||Ae.includes("right")&&pe>0)Ie.x=pe;else{const lt=pe*st(pe);Ie.x=Math.abs(lt)<Math.abs(pe)?lt:pe}(Math.abs(Ie.x)>0||Math.abs(Ie.y)>0)&&Ke(!0),(Kt=ot.current)==null||Kt.style.setProperty("--swipe-amount-x",`${Ie.x}px`),(Jt=ot.current)==null||Jt.style.setProperty("--swipe-amount-y",`${Ie.y}px`)}},Ye&&!g.jsx&&X!=="loading"?re.createElement("button",{"aria-label":ee,"data-disabled":rs,"data-close-button":!0,onClick:rs||!Ne?()=>{}:()=>{Qe(),g.onDismiss==null||g.onDismiss.call(g,g)},className:ra(F==null?void 0:F.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(rn=Z==null?void 0:Z.close)!=null?rn:lL):null,(X||g.icon||g.promise)&&g.icon!==null&&((Z==null?void 0:Z[X])!==null||g.icon)?re.createElement("div",{"data-icon":"",className:ra(F==null?void 0:F.icon,g==null||(a=g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||zt():null,g.type!=="loading"?Vt:null):null,re.createElement("div",{"data-content":"",className:ra(F==null?void 0:F.content,g==null||(o=g.classNames)==null?void 0:o.content)},re.createElement("div",{"data-title":"",className:ra(F==null?void 0:F.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?re.createElement("div",{"data-description":"",className:ra(q,Re,F==null?void 0:F.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),re.isValidElement(g.cancel)?g.cancel:g.cancel&&Xf(g.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||U,onClick:Ze=>{Xf(g.cancel)&&Ne&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ze),Qe())},className:ra(F==null?void 0:F.cancelButton,g==null||(h=g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,re.isValidElement(g.action)?g.action:g.action&&Xf(g.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||R,onClick:Ze=>{Xf(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ze),!Ze.defaultPrevented&&Qe())},className:ra(F==null?void 0:F.actionButton,g==null||(f=g.classNames)==null?void 0:f.actionButton)},g.action.label):null)};function u_(){if(typeof window=="undefined"||typeof document=="undefined")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function SL(e,t){const n={};return[e,t].forEach((s,a)=>{const o=a===1,c=o?"--mobile-offset":"--offset",d=o?yL:xL;function h(f){["top","right","bottom","left"].forEach(p=>{n[`${c}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof s=="number"||typeof s=="string"?h(s):typeof s=="object"?["top","right","bottom","left"].forEach(f=>{s[f]===void 0?n[`${c}-${f}`]=d:n[`${c}-${f}`]=typeof s[f]=="number"?`${s[f]}px`:s[f]}):h(d)}),n}const TL=re.forwardRef(function(t,n){const{id:s,invert:a,position:o="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:h,className:f,offset:p,mobileOffset:g,theme:x="light",richColors:b,duration:j,style:v,visibleToasts:S=gL,toastOptions:N,dir:A=u_(),gap:E=vL,icons:T,containerAriaLabel:D="Notifications"}=t,[C,z]=re.useState([]),U=re.useMemo(()=>s?C.filter(V=>V.toasterId===s):C.filter(V=>!V.toasterId),[C,s]),R=re.useMemo(()=>Array.from(new Set([o].concat(U.filter(V=>V.position).map(V=>V.position)))),[U,o]),[G,q]=re.useState([]),[Q,W]=re.useState(!1),[Y,H]=re.useState(!1),[F,Z]=re.useState(x!=="system"?x:typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=re.useRef(null),ce=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=re.useRef(null),ie=re.useRef(!1),se=re.useCallback(V=>{z(ne=>{var ge;return(ge=ne.find(he=>he.id===V.id))!=null&&ge.delete||Vs.dismiss(V.id),ne.filter(({id:he})=>he!==V.id)})},[]);return re.useEffect(()=>Vs.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{z(ne=>ne.map(ge=>ge.id===V.id?oe(L({},ge),{delete:!0}):ge))});return}setTimeout(()=>{tS.flushSync(()=>{z(ne=>{const ge=ne.findIndex(he=>he.id===V.id);return ge!==-1?[...ne.slice(0,ge),L(L({},ne[ge]),V),...ne.slice(ge+1)]:[V,...ne]})})})}),[C]),re.useEffect(()=>{if(x!=="system"){Z(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window=="undefined")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:ne})=>{Z(ne?"dark":"light")})}catch(ne){V.addListener(({matches:ge})=>{try{Z(ge?"dark":"light")}catch(he){console.error(he)}})}},[x]),re.useEffect(()=>{C.length<=1&&W(!1)},[C]),re.useEffect(()=>{const V=ne=>{var ge;if(c.every(Ce=>ne[Ce]||ne.code===Ce)){var Ee;W(!0),(Ee=ee.current)==null||Ee.focus()}ne.code==="Escape"&&(document.activeElement===ee.current||(ge=ee.current)!=null&&ge.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[c]),re.useEffect(()=>{if(ee.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,ie.current=!1)}},[ee.current]),re.createElement("section",{ref:n,"aria-label":`${D} ${ce}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((V,ne)=>{var ge;const[he,Ee]=V.split("-");return U.length?re.createElement("ol",{key:V,dir:A==="auto"?u_():A,tabIndex:-1,ref:ee,className:f,"data-sonner-toaster":!0,"data-sonner-theme":F,"data-y-position":he,"data-x-position":Ee,style:L(L({"--front-toast-height":`${((ge=G[0])==null?void 0:ge.height)||0}px`,"--width":`${bL}px`,"--gap":`${E}px`},v),SL(p,g)),onBlur:Ce=>{ie.current&&!Ce.currentTarget.contains(Ce.relatedTarget)&&(ie.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:Ce=>{Ce.target instanceof HTMLElement&&Ce.target.dataset.dismissible==="false"||ie.current||(ie.current=!0,M.current=Ce.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{Y||W(!1)},onDragEnd:()=>W(!1),onPointerDown:Ce=>{Ce.target instanceof HTMLElement&&Ce.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},U.filter(Ce=>!Ce.position&&ne===0||Ce.position===V).map((Ce,Ve)=>{var ze,tt;return re.createElement(NL,{key:Ce.id,icons:T,index:Ve,toast:Ce,defaultRichColors:b,duration:(ze=N==null?void 0:N.duration)!=null?ze:j,className:N==null?void 0:N.className,descriptionClassName:N==null?void 0:N.descriptionClassName,invert:a,visibleToasts:S,closeButton:(tt=N==null?void 0:N.closeButton)!=null?tt:h,interacting:Y,position:V,style:N==null?void 0:N.style,unstyled:N==null?void 0:N.unstyled,classNames:N==null?void 0:N.classNames,cancelButtonStyle:N==null?void 0:N.cancelButtonStyle,actionButtonStyle:N==null?void 0:N.actionButtonStyle,closeButtonAriaLabel:N==null?void 0:N.closeButtonAriaLabel,removeToast:se,toasts:U.filter(Ke=>Ke.position==Ce.position),heights:G.filter(Ke=>Ke.position==Ce.position),setHeights:q,expandByDefault:d,gap:E,expanded:Q,swipeDirections:t.swipeDirections})})):null}))}),Gf={duration:4e3};class cx{static success(t,n){const s=`success-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),wr.success(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Gf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static error(t,n){const s=`error-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),wr.error(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Gf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static info(t,n){const s=`info-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),wr.info(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Gf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static warning(t,n){const s=`warning-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),wr.warning(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Gf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static dismissAll(){wr.dismiss(),this.activeToasts.clear()}static clearCache(){this.activeToasts.clear()}}Et(cx,"activeToasts",new Set),Et(cx,"DUPLICATE_TIMEOUT",1e3);const xn=cx,EL=({onMenuClick:e})=>{const{currentUser:t,isLoading:n}=K6(),{currentUserProfile:s}=Q6(),{logout:a}=Cs(),o=()=>ve(null,null,function*(){try{xn.success("Logging out...",{description:"You will be redirected to the login page.",duration:2e3}),yield a(),setTimeout(()=>{uT()},1e3)}catch(p){console.error("Logout failed:",p),xn.error("Logout failed",{description:"Please try again or contact support."}),setTimeout(()=>{window.location.href=J6()},2e3)}}),c=()=>s?s.full_name||s.first_name||s.email||"User":!t||typeof t=="string"?t||"Guest":t.full_name||t.first_name||t.email||"User",d=()=>t?c().split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2):"G",h=()=>s!=null&&s.user_image?s.user_image:null,f=()=>s?s.email:t&&typeof t!="string"?t.email:t||"No email";return i.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",title:"Toggle sidebar",children:i.jsx(U4,{className:"h-5 w-5 text-gray-600"})}),i.jsxs("div",{className:"relative hidden md:block",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(ic,{className:"h-4 w-4 text-gray-400"})}),i.jsx("input",{type:"text",className:"block w-80 pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Tìm kiếm dự án, task, tài liệu..."})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[i.jsx(sS,{className:"h-5 w-5 text-gray-600"}),i.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),i.jsx("div",{className:"relative",children:i.jsxs(vy,{children:[i.jsx(wy,{asChild:!0,children:i.jsxs("button",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:h()?i.jsx("img",{src:h(),alt:"User avatar",className:"w-8 h-8 rounded-full object-cover"}):i.jsx("span",{className:"text-xs font-medium text-white",children:d()})}),i.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:n?"Loading...":c()}),i.jsx(rS,{className:"h-4 w-4 text-gray-500"})]})}),i.jsxs(jy,{className:"w-64 p-0",align:"end",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:h()?i.jsx("img",{src:h(),alt:"User avatar",className:"w-10 h-10 rounded-full object-cover"}):i.jsx("span",{className:"text-sm font-medium text-white",children:d()})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:c()}),i.jsx("p",{className:"text-sm text-gray-500",children:f()})]})]})}),i.jsxs("div",{className:"p-2",children:[i.jsxs("button",{className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[i.jsx(sy,{className:"h-4 w-4 text-gray-500"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),i.jsxs("button",{onClick:o,className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-red-50 transition-colors duration-200 text-red-600",children:[i.jsx(M4,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"Sign out"})]})]})]})]})})]})]})})},dT=t=>{var e=Oe(t,[]);const{theme:n="system"}=jA();return i.jsx(TL,L({theme:n,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"}},e))},kL=()=>{const[e,t]=_.useState(!1),[n,s]=_.useState(!1),a=()=>{window.innerWidth<1024?t(!e):s(!n)};return i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0 transition-all duration-300",children:i.jsx(P1,{collapsed:n,onToggle:a})}),e&&i.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[i.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>t(!1)}),i.jsx("div",{className:"relative flex flex-col w-64 h-full bg-white shadow-xl",children:i.jsx(P1,{})})]}),i.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[i.jsx(EL,{onMenuClick:a}),i.jsx("main",{className:"flex-1 overflow-y-auto",children:i.jsx("div",{className:"py-6",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx(tM,{})})})})]}),i.jsx(dT,{position:"top-right",richColors:!0,expand:!0,closeButton:!0,toastOptions:{duration:4e3}})]})},CL=(e={})=>{const{checkIntervalMinutes:t=5,showNotifications:n=!0,enabled:s=!0,onTokenExpired:a}=e,{currentUser:o,isLoading:c}=Cs(),d=_.useRef(null),h=_.useRef(!1),f=_.useCallback(()=>{d.current&&(clearInterval(d.current),d.current=null)},[]),p=_.useCallback(()=>{f(),n&&xn.error("Session Expired",{description:"Your session has expired. Please log in again.",duration:3e3}),a==null||a(),setTimeout(()=>{uT()},1e3)},[f,a,n]),g=_.useCallback(()=>ve(null,null,function*(){try{return(yield Z6()).isValid?(h.current=!1,!0):(console.warn("Authentication check failed - token invalid"),p(),!1)}catch(v){return console.error("Error checking authentication:",v),!0}}),[p]),x=_.useCallback(()=>{if(!s||c||!o||ox())return;f(),g();const v=t*60*1e3;d.current=setInterval(g,v)},[s,c,o,t,g,f]);_.useEffect(()=>(o&&!c?x():f(),f),[o,c,x,f]),_.useEffect(()=>f,[f]);const b=_.useCallback(()=>g(),[g]),j=_.useCallback(()=>{p()},[p]);return{checkAuth:b,forceLogout:j,isWatching:!!d.current,currentUser:o,isLoading:c}},DL=({children:e,checkInterval:t=5,showNotifications:n=!0})=>{const{isWatching:s,currentUser:a,isLoading:o}=CL({checkIntervalMinutes:t,showNotifications:n,enabled:!ox(),onTokenExpired:()=>{console.log("Token expired callback triggered")}});return _.useEffect(()=>{},[s,a,o,t]),ox()?i.jsx(i.Fragment,{children:e}):o?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):i.jsx(i.Fragment,{children:e})};function OL(){return i.jsx(pA,{siteName:"frontend",socketPort:"9000",children:i.jsxs(_A,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:[i.jsx(DL,{checkInterval:5,showNotifications:!0,children:i.jsx(kL,{})}),i.jsx(dT,{})]})})}const AL=()=>{const[e,t]=_.useState("all"),[n,s]=_.useState("all"),[a,o]=_.useState([]),[c,d]=_.useState(!1),{data:h,isLoading:f}=At("Project",{fields:["name","project_name","status","department","team","estimated_costing","expected_end_date","percent_complete"]}),{data:p,isLoading:g}=At("project_phase",{fields:["name"],limit:0});_.useEffect(()=>{ve(null,null,function*(){if(!p||p.length===0){o([]);return}d(!0);try{const z=p.map(G=>ve(null,null,function*(){try{const q=yield fetch(`/api/resource/project_phase/${G.name}`,{method:"GET",headers:{Accept:"application/json"}});if(!q.ok)return console.warn(`❌ Failed to fetch phase ${G.name}:`,q.status),null;const Q=yield q.json();return Q.data||Q}catch(q){return console.error(`💥 Error fetching phase ${G.name}:`,q),null}})),R=(yield Promise.all(z)).filter(G=>G!==null);o(R)}catch(z){console.error("💥 Error in fetchPhasesWithTasks:",z)}finally{d(!1)}})},[p]);const{data:x,isLoading:b}=At("Task",{fields:["name","subject","status","exp_end_date","exp_start_date","project","progress","priority","is_group"],limit:0}),{data:j,isLoading:v}=At("Timesheet",{fields:["name","total_hours"],limit:0}),S=(h||[]).map(C=>{var z;return oe(L({},C),{project_type:C.project_type||"",customer:C.customer||"",company:C.company||"",department:C.department||"",team:C.team||"",expected_start_date:C.expected_start_date||"",expected_end_date:C.expected_end_date||"",actual_start_date:C.actual_start_date||"",actual_end_date:C.actual_end_date||null,percent_complete:C.percent_complete||0,priority:C.priority||"Medium",estimated_costing:C.estimated_costing||0,total_billable_amount:C.total_billable_amount||0,total_billed_amount:C.total_billed_amount||0,gross_margin:C.gross_margin||0,estimated_hours:C.estimated_hours||0,total_hours:C.total_hours||0,is_active:(z=C.is_active)!=null?z:!0})}),N=_.useMemo(()=>!a||a.length===0?[]:a.map(C=>{const z=C.tasks||[];return oe(L({},C),{phase_name:C.subject||C.name||"",status:C.status||"Open",expected_start_date:C.start_date||"",expected_end_date:C.end_date||"",actual_start_date:C.start_date||"",actual_end_date:null,progress:C.progress||0,description:C.details||"",tasks:z})}),[a]),A=(x||[]).map(C=>oe(L({},C),{project:C.project||"",priority:C.priority||"Medium",type:C.type||"",expected_time:C.expected_time||0,actual_time:C.actual_time||0,start_date:C.exp_start_date||"",end_date:C.exp_end_date||"",progress:C.progress||0,assigned_to:C.assigned_to||null,is_group:C.is_group||!1,parent_task_name:C.parent_task_name||null})),E=(j||[]).map(C=>({name:C.name,employee:C.employee||"",project:"",task:"",start_date:C.start_date||"",end_date:C.end_date||"",total_hours:C.total_hours||0,billable:!0,billing_hours:0,billing_rate:0,billing_amount:0})),T=f||g||c||b||v,D=_.useMemo(()=>{let C=S;n!=="all"&&n!==""&&(C=C.filter(G=>G.team===n)),e!=="all"&&e!==""&&(C=C.filter(G=>G.project_name===e));const z=C.map(G=>G.project_name),U=C.map(G=>G.name),R=N.filter(G=>U.includes(G.project));return{filteredProjects:C,filteredPhases:R,filteredTasks:A.filter(G=>{const q=G.project||"";return U.includes(q)}),filteredTimesheets:E.filter(G=>G.project?z.includes(G.project):!0)}},[S,N,A,E,e,n]);return{allProjects:S,allPhases:N,filteredData:D,selectedProject:e,selectedTeam:n,setSelectedProject:t,setSelectedTeam:s,isLoading:T}},Oo=class Oo{static useUserProjects(){const{currentUser:t}=Cs(),{data:n,isLoading:s,error:a,mutate:o}=At("Project",{fields:Oo.PROJECT_FIELDS,filters:t?[["owner","=",t]]:[],orderBy:{field:"modified",order:"desc"}},void 0,{revalidateOnFocus:!0,revalidateOnReconnect:!0}),{data:c,isLoading:d,error:h,mutate:f}=At("Project",{fields:Oo.PROJECT_FIELDS,limit:0,orderBy:{field:"modified",order:"desc"}},void 0,{revalidateOnFocus:!0,revalidateOnReconnect:!0}),p=re.useMemo(()=>{if(!t)return[];const x=j=>{const v=new Map;return j.forEach(S=>{var A;const N=S.name;if(!v.has(N)){const E={name:S.name,owner:S.owner,creation:S.creation,modified:S.modified,project_name:S.project_name,project_type:S.project_type,status:S.status,customer:S.customer,expected_start_date:S.expected_start_date,expected_end_date:S.expected_end_date,percent_complete:S.percent_complete,priority:S.priority,department:S.department,team:S.team||null,estimated_costing:S.estimated_costing,total_billable_amount:S.total_billable_amount,company:S.company,users:[]};v.set(N,E)}if(S.user){const E=v.get(N);((A=E.users)==null?void 0:A.some(D=>D.user===S.user))||(E.users=E.users||[],E.users.push({user:S.user,email:S.email,full_name:S.full_name,project_status:S.project_status}))}}),Array.from(v.values()).sort((S,N)=>{const A=new Date(S.modified||S.creation||0);return new Date(N.modified||N.creation||0).getTime()-A.getTime()})};let b=[];if(n&&n.length>0&&(b=b.concat(n)),c&&c.length>0){const j=c.filter(v=>v.owner===t||v.user&&v.user===t);b=b.concat(j)}return x(b)},[n,c,t]),g=re.useCallback(()=>ve(null,null,function*(){console.log("Mutating ownedProjects and allProjects...");try{yield Promise.all([o(),f()]),console.log("Data refreshed successfully")}catch(x){console.error("Error refreshing data:",x)}}),[o,f]);return{data:p,isLoading:s||d,error:a&&h?a||h:null,mutate:g}}static useProject(t){const{data:n,isLoading:s,error:a,mutate:o}=Ot("Project",t||"",t?"Project":void 0);return{data:n,isLoading:s,error:a,mutate:o}}static useProjectOwner(t){const{data:n,isLoading:s,error:a}=Ot("User",t||"",t?void 0:null);return{data:n,isLoading:s,error:a}}static useCreateProject(){const{createDoc:t,loading:n,error:s}=Ii();return{createProject:o=>ve(null,null,function*(){return yield t("Project",oe(L({},o),{expected_start_date:o.expected_start_date||void 0,expected_end_date:o.expected_end_date||void 0}))}),isLoading:n,error:s}}static useUpdateProject(){const{updateDoc:t,loading:n,error:s}=Ws();return{updateProject:(o,c)=>ve(null,null,function*(){return yield t("Project",o,oe(L({},c),{expected_start_date:c.expected_start_date||void 0,expected_end_date:c.expected_end_date||void 0}))}),isLoading:n,error:s}}static useDeleteProject(){const{call:t,loading:n,error:s}=ps("frappe.client.delete");return{deleteProject:o=>ve(null,null,function*(){return yield t({doctype:"Project",name:o})}),isLoading:n,error:s}}static useProjectMembers(){const{call:t}=ps("frappe.client.insert"),{call:n}=ps("frappe.client.save"),{call:s}=ps("frappe.client.delete");return{addMember:d=>ve(null,null,function*(){return yield t({doc:oe(L({doctype:"Project User"},d),{welcome_email_sent:1})})}),updateMember:(d,h)=>ve(null,null,function*(){return yield n({doc:L({doctype:"Project User",name:d},h)})}),removeMember:d=>ve(null,null,function*(){return yield s({doctype:"Project User",name:d})})}}static useProjectOwnerManagement(){const{call:t}=ps("frappe.client.save"),{call:n}=ps("frappe.client.set_value");return{transferOwner:(o,c)=>ve(null,null,function*(){try{return yield t({doc:{doctype:"Project",name:o,owner:c}}),{success:!0,method:"save"}}catch(d){try{return yield n({doctype:"Project",name:o,fieldname:"owner",value:c}),{success:!0,method:"set_value"}}catch(h){throw new Error("Owner field is protected by ERPNext")}}}),transferOwnerWithAPI:(o,c)=>ve(null,null,function*(){try{const d=yield fetch("/api/method/my_app.api.project_transfer.transfer_project_owner",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({project_name:o,new_owner:c})}),h=yield d.json();return d.ok&&h.message?{success:!0,data:h.message}:{success:!1,error:h.message||"Transfer failed"}}catch(d){return{success:!1,error:d instanceof Error?d.message:"Unknown error"}}})}}static useProjectUsers(t){const{data:n,isLoading:s,error:a,mutate:o}=Ot("Project",t,{fields:["name","users"]});return{data:(n==null?void 0:n.users)||[],isLoading:s,error:a,mutate:o}}static useProjectUsersAlt(t){const{data:n,isLoading:s,error:a,mutate:o}=At("Project User",{fields:["name","user","email","full_name","image"],filters:[["parent","=",t]],limit:0});return{data:n||[],isLoading:s,error:a,mutate:o}}};Et(Oo,"PROJECT_FIELDS",["name","owner","creation","modified","project_name","project_type","status","customer","department","team","expected_start_date","expected_end_date","percent_complete","priority","estimated_costing","total_billable_amount","company","users.user","users.email","users.full_name","users.project_status"]),Et(Oo,"DETAILED_PROJECT_FIELDS",[...Oo.PROJECT_FIELDS,"creation","modified","modified_by","description","notes","expected_start_date","actual_start_date","actual_end_date","total_costing_amount","total_purchase_cost","total_sales_amount","total_billed_amount","users"]);let Zu=Oo;const RL=Zu.useUserProjects,ML=Zu.useCreateProject,PL=Zu.useUpdateProject;class Ia{static useDocTypeOptions(t,n={}){const{fields:s=["name"],filters:a=[],limit:o=100}=n,{data:c,isLoading:d,error:h}=At(t,{fields:s,filters:a,limit:o});return{data:c||[],isLoading:d,error:h}}static useCustomers(){return Ia.useDocTypeOptions("Customer",{fields:["name","customer_name","customer_type"],filters:[["disabled","=",0]]})}static useCompanies(){return Ia.useDocTypeOptions("Company",{fields:["name","company_name","abbr"],filters:[["is_group","=",0]]})}static useProjectTypes(){return Ia.useDocTypeOptions("Project Type",{fields:["name","description"]})}static useDepartments(){return Ia.useDocTypeOptions("Department",{fields:["name","department_name","parent_department"],filters:[["disabled","=",0]]})}static useCostCenters(){return Ia.useDocTypeOptions("Cost Center",{fields:["name","cost_center_name","parent_cost_center"],filters:[["disabled","=",0],["is_group","=",0]]})}static useProjectTemplates(){return Ia.useDocTypeOptions("Project Template",{fields:["name","project_template_name"]})}static useTeams(){return Ia.useDocTypeOptions("Team",{fields:["name","team","department"]})}}const fT=Ia.useTeams;class LL{static useCreatePhaseTask(){const{createDoc:t,loading:n}=Ii(),{call:s}=ps("frappe.client.insert"),{call:a}=ps("frappe.client.save"),{data:o}=Ot("User","",{shouldFetch:!0});return{createTaskWithPhase:d=>ve(null,null,function*(){try{const h=yield t("Task",{subject:d.subject,description:d.description,priority:d.priority,status:d.status,type:d.type,expected_time:d.expected_time,task_weight:d.task_weight,exp_start_date:d.exp_start_date||null,exp_end_date:d.exp_end_date||null,project:d.project});let f=null;if(d.assign_to&&h)try{f=yield s({doc:{doctype:"ToDo",allocated_to:d.assign_to,assigned_by:(o==null?void 0:o.name)||"",description:`Task: ${d.subject}`,reference_type:"Task",reference_name:h.name,status:"Open",priority:d.priority,date:new Date().toISOString().split("T")[0]}})}catch(p){console.error("Error creating ToDo:",p)}if(d.phaseId&&h){const p={parent:d.phaseId,parenttype:"project_phase",parentfield:"tasks",task:h.name,task_name:h.subject,status:h.status,start_date:h.exp_start_date,end_date:h.exp_end_date,description:h.description},g=yield s({doc:L({doctype:"Project Phase Task"},p)});console.log("Project Phase Task created successfully:",g);try{console.log("Saving parent phase document to commit child table changes...");const x=yield a({doc:{doctype:"project_phase",name:d.phaseId}});console.log("Parent phase saved successfully:",x)}catch(x){console.warn("Failed to save parent phase, but child was created:",x)}return{success:!0,task:h,phaseTask:g,todo:f,message:"Task created and linked to phase successfully"}}return{success:!0,task:h,todo:f,message:"Task created successfully"}}catch(h){throw console.error("Error in createTaskWithPhase:",h),h}}),isLoading:n}}static useLinkTaskToPhase(){const{call:t}=ps("frappe.client.insert");return{linkTaskToPhase:(s,a,o)=>ve(null,null,function*(){try{const c={parent:a,parenttype:"Project Phase",parentfield:"tasks",task:s,task_name:(o==null?void 0:o.task_name)||s,status:(o==null?void 0:o.status)||"Open",start_date:o==null?void 0:o.start_date,end_date:o==null?void 0:o.end_date,description:o==null?void 0:o.description};return{success:!0,phaseTask:yield t({doc:L({doctype:"Project Phase Task"},c)}),message:"Task linked to phase successfully"}}catch(c){return console.error("Error linking task to phase:",c),{success:!1,error:c instanceof Error?c.message:"Unknown error",message:"Failed to link task to phase"}}})}}}const zL=LL.useCreatePhaseTask;class hT{static useUpdateTask(){const{updateDoc:t,loading:n,error:s}=Ws();return{updateTask:(o,c)=>ve(null,null,function*(){const p=c,{assign_to:d}=p,h=Oe(p,["assign_to"]),f=yield t("Task",o,oe(L({},h),{exp_start_date:h.exp_start_date||void 0,exp_end_date:h.exp_end_date||void 0}));return h.progress!==void 0&&(console.log(`Task ${o} progress updated, signaling phase progress update...`),localStorage.setItem("task_progress_updated",o),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:o}))),f}),isLoading:n,error:s}}static useTaskAssignment(){const{createDoc:t}=Ii(),{deleteDoc:n}=dm(),{data:s}=Ot("User","",{shouldFetch:!0});return{assignTask:(c,d,h,f="Medium")=>ve(null,null,function*(){return yield t("ToDo",{allocated_to:h,assigned_by:(s==null?void 0:s.name)||"",description:`Task: ${d}`,reference_type:"Task",reference_name:c,status:"Open",priority:f,date:new Date().toISOString().split("T")[0]})}),unassignTask:c=>ve(null,null,function*(){return yield n("ToDo",c)})}}}const mT=hT.useUpdateTask,pT=hT.useTaskAssignment;class gT{static useUpdatePhase(){const{updateDoc:t,loading:n,error:s}=Ws();return{updatePhase:(o,c)=>ve(null,null,function*(){return t("project_phase",o,c)}),isLoading:n,error:s}}static usePhaseAssignment(){const{createDoc:t}=Ii(),{deleteDoc:n}=dm(),{data:s}=Ot("User","",{shouldFetch:!0});return{assignPhase:(c,d)=>ve(null,null,function*(){return t("ToDo",{allocated_to:d,assigned_by:(s==null?void 0:s.name)||"",reference_type:"project_phase",reference_name:c,description:`Assigned to phase: ${c}`,status:"Open"})}),unassignPhase:c=>ve(null,null,function*(){return n("ToDo",c)})}}}const UL=gT.useUpdatePhase,xT=gT.usePhaseAssignment;class BL{static useUpdateSubTask(){const{updateDoc:t,loading:n,error:s}=Ws();return{updateSubTask:(o,c)=>ve(null,null,function*(){return yield t("SubTask",o,c)}),isLoading:n,error:s}}static useSubTaskAssignment(){const{createDoc:t}=Ii(),{deleteDoc:n}=dm(),{data:s}=Ot("User","",{shouldFetch:!0});return{assignSubTask:(c,d)=>ve(null,null,function*(){return yield t("ToDo",{allocated_to:d,assigned_by:(s==null?void 0:s.name)||"",reference_type:"SubTask",reference_name:c,description:`Assignment for SubTask: ${c}`,status:"Open"})}),unassignSubTask:c=>ve(null,null,function*(){return yield n("ToDo",c)})}}}const{useUpdateSubTask:yT,useSubTaskAssignment:_y}=BL,mc=e=>{const{data:t,isLoading:n,error:s}=Ot("Project",e,{fields:["name","users"]}),{data:a,isLoading:o}=Ot("Project",(t==null?void 0:t.name)||"",t!=null&&t.name?"Project":void 0);return{data:(a==null?void 0:a.users)||(t==null?void 0:t.users)||[],isLoading:n||o,error:s}};class FL{static useTaskProgressCalculation(){const{updateDoc:t}=Ws();return{calculateAndUpdateTaskProgress:s=>ve(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name","status"],filters:[["task","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(yield a.json()).message||[];if(!c||c.length===0)return null;let d=0;c.forEach(f=>{switch(f.status){case"Open":d+=1;break;case"Working":d+=50;break;case"Completed":d+=100;break;default:d+=0}});const h=Math.round(d/c.length);return yield t("Task",s,{progress:h}),console.log(`Task ${s} progress updated to ${h}%, signaling phase progress update...`),localStorage.setItem("task_progress_updated",s),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:s})),console.log(`Task ${s} progress updated to ${h}%`),h}catch(a){return console.error("Error calculating task progress:",a),null}})}}static useTaskStatusProgressUpdate(){const{updateDoc:t}=Ws();return{updateTaskProgressByStatus:(s,a,o)=>ve(null,null,function*(){try{let c=o||0;switch(a){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("Task",s,{status:a,progress:c}),console.log(`Task ${s} status/progress updated, signaling phase progress update...`),localStorage.setItem("task_progress_updated",s),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:s})),c}catch(c){return console.error("Error updating task progress by status:",c),null}})}}static useManualProgressUpdate(){const{updateDoc:t}=Ws();return{updateTaskProgress:(s,a)=>ve(null,null,function*(){try{let o="";return a===0||a===1?o="Open":a>1&&a<=90?o="Working":a>90&&a<100?o="Pending Review":a===100&&(o="Completed"),yield t("Task",s,{progress:a,status:o}),console.log(`Task ${s} manual progress updated to ${a}%, signaling phase progress update...`),localStorage.setItem("task_progress_updated",s),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:s})),{progress:a,status:o}}catch(o){return console.error("Error updating manual task progress:",o),null}})}}}const{useTaskProgressCalculation:pd,useTaskStatusProgressUpdate:bT,useManualProgressUpdate:vT}=FL;class wT{static usePhaseProgressCalculation(){const{updateDoc:t}=Ws();return{calculateAndUpdatePhaseProgress:s=>ve(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",name:s})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(yield a.json()).message;if(!c||!c.tasks||c.tasks.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no tasks)`),0;const d=c.tasks.map(b=>b.task);console.log(`Phase ${s} has ${d.length} tasks:`,d);const h=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["name","in",d]]})});if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);const p=(yield h.json()).message||[];if(p.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no valid tasks)`),0;let g=0;p.forEach(b=>{const j=b.progress||0;console.log(`Task ${b.name}: ${j}%`),g+=j});const x=Math.round(g/p.length);return console.log(`Calculated phase progress: ${x}% (from ${p.length} tasks)`),yield t("project_phase",s,{progress:x}),console.log(`Phase ${s} progress updated to ${x}% (based on ${p.length} tasks)`),x}catch(a){return console.error("Error calculating phase progress:",a),null}})}}static usePhaseStatusProgressUpdate(){const{updateDoc:t}=Ws();return{updatePhaseProgressByStatus:(s,a,o)=>ve(null,null,function*(){try{let c=o||0;switch(a){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("project_phase",s,{status:a,progress:c}),c}catch(c){return console.error("Error updating phase progress by status:",c),null}})}}static useManualPhaseProgressUpdate(){const{updateDoc:t}=Ws();return{updatePhaseProgress:(s,a)=>ve(null,null,function*(){try{let o="";return a===0||a===1?o="Open":a>1&&a<=90?o="Working":a>90&&a<100?o="Pending Review":a===100&&(o="Completed"),yield t("project_phase",s,{progress:a,status:o}),{progress:a,status:o}}catch(o){return console.error("Error updating manual phase progress:",o),null}})}}}const{usePhaseProgressCalculation:jT}=wT,$L=e=>ve(null,null,function*(){const{calculateAndUpdatePhaseProgress:t}=wT.usePhaseProgressCalculation();return yield t(e)});class Ny{static useProjectProgressFromPhases(){const{updateDoc:t}=Ws();return{calculateAndUpdateProjectProgressFromPhases:s=>ve(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(yield a.json()).message||[];if(!c||c.length===0){const{calculateAndUpdateProjectProgressFromTasks:f}=Ny.useProjectProgressFromTasks();return yield f(s)}let d=0;c.forEach(f=>{d+=f.progress||0});const h=Math.round(d/c.length);return yield t("Project",s,{percent_complete:h}),h}catch(a){return console.error("Error calculating project progress from phases:",a),null}})}}static useProjectProgressFromTasks(){const{updateDoc:t}=Ws();return{calculateAndUpdateProjectProgressFromTasks:s=>ve(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(yield a.json()).message||[];if(!c||c.length===0)return yield t("Project",s,{percent_complete:0}),0;let d=0;c.forEach(f=>{d+=f.progress||0});const h=Math.round(d/c.length);return yield t("Project",s,{percent_complete:h}),h}catch(a){return console.error("Error calculating project progress from tasks:",a),null}})}}static useProjectProgressCalculation(){const{updateDoc:t}=Ws();return{calculateAndUpdateProjectProgress:s=>ve(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(yield a.json()).message||[];console.log("Found phases:",c.length);const d=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const f=(yield d.json()).message||[];if(console.log("Found tasks:",f.length),c&&c.length>0){const p=[];for(const v of c)try{const S=yield fetch(`/api/resource/project_phase/${v.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(S.ok){const N=yield S.json();N.data.tasks&&N.data.tasks.length>0&&N.data.tasks.forEach(A=>{A.task&&p.push(A.task)})}}catch(S){console.warn("Error fetching phase document:",v.name,S)}console.log("Tasks in phases:",p);const g=f.filter(v=>!p.includes(v.name));console.log("Standalone tasks:",g.length);let x=0,b=0;c.forEach(v=>{const S=v.progress||0;console.log(`Phase ${v.name}: ${S}%`),x+=S,b+=1}),g.forEach(v=>{const S=v.progress||0;console.log(`Standalone Task ${v.name}: ${S}%`),x+=S,b+=1}),console.log(`Total components: ${b}, Total progress: ${x}`);const j=b>0?Math.round(x/b):0;return console.log(`Calculated average progress: ${j}%`),yield t("Project",s,{percent_complete:j}),{progress:j,source:"mixed",count:b,phases:c.length,standaloneTasks:g.length}}else if(f&&f.length>0){console.log("No phases found, calculating from all tasks");let p=0;f.forEach(x=>{p+=x.progress||0});const g=Math.round(p/f.length);return console.log(`Task-based progress: ${g}%`),yield t("Project",s,{percent_complete:g}),{progress:g,source:"tasks",count:f.length}}else return console.log("No phases or tasks found"),yield t("Project",s,{percent_complete:0}),{progress:0,source:"none",count:0}}catch(a){return console.error("Error calculating project progress:",a),null}})}}static useProjectStatusProgressUpdate(){const{updateDoc:t}=Ws();return{updateProjectProgressByStatus:(s,a,o)=>ve(null,null,function*(){try{let c=o||0;switch(a){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("Project",s,{status:a,percent_complete:c}),c}catch(c){return console.error("Error updating project progress by status:",c),null}})}}}const{useProjectProgressCalculation:HL}=Ny;class VL{static useProjectCascadeDelete(){const{call:t}=ps("frappe.client.delete"),{call:n}=ps("frappe.client.get_list");return{deleteProjectCascade:a=>ve(null,null,function*(){try{console.log(`Starting cascade delete for project: ${a}`);try{const b=yield n({doctype:"Project",fields:["name"],filters:[["name","=",a]],limit_page_length:1});if(!(b!=null&&b.message)||b.message.length===0)throw new Error(`Project ${a} not found`)}catch(b){throw console.error("Project validation failed:",b),new Error(`Project validation failed: ${b instanceof Error?b.message:"Unknown validation error"}`)}let o=0,c=0,d=0;console.log("Step 1: Fetching all tasks...");let h=[];try{const b=yield n({doctype:"Task",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3});h=(b==null?void 0:b.message)||[],console.log(`Found ${h.length} tasks to delete`)}catch(b){console.error("Error fetching tasks:",b),console.log("Continuing with deletion despite task fetch error...")}if(h.length>0){console.log(`Step 2: Processing ${h.length} tasks for subtask deletion...`);for(const b of h){console.log(`Step 2: Deleting subtasks for task ${b.name}...`);try{const j=yield n({doctype:"SubTask",fields:["name"],filters:[["task","=",b.name]],limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];console.log(`Found ${v.length} subtasks for task ${b.name}`);for(const S of v)try{console.log(`Deleting subtask: ${S.name}`),yield t({doctype:"SubTask",name:S.name}),o++,console.log(`Successfully deleted subtask: ${S.name}`),yield new Promise(N=>setTimeout(N,100))}catch(N){console.error(`Error deleting subtask ${S.name}:`,N)}}catch(j){console.error(`Error fetching subtasks for task ${b.name}:`,j)}}yield new Promise(b=>setTimeout(b,500))}if(h.length>0){console.log(`Step 3: Deleting ${h.length} tasks...`);for(const b of h)try{console.log(`Deleting task: ${b.name}`),yield t({doctype:"Task",name:b.name}),c++,console.log(`Successfully deleted task: ${b.name}`),yield new Promise(j=>setTimeout(j,100))}catch(j){console.error(`Error deleting task ${b.name}:`,j)}yield new Promise(b=>setTimeout(b,500))}console.log("Step 4: Deleting all phases...");let f=[];try{const b=yield n({doctype:"project_phase",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3});f=(b==null?void 0:b.message)||[],console.log(`Found ${f.length} phases to delete`)}catch(b){console.error("Error fetching phases:",b),console.log("Continuing with deletion despite phase fetch error...")}for(const b of f)try{console.log(`Deleting phase: ${b.name}`),yield t({doctype:"project_phase",name:b.name}),d++,console.log(`Successfully deleted phase: ${b.name}`),yield new Promise(j=>setTimeout(j,100))}catch(j){console.error(`Error deleting phase ${b.name}:`,j)}f.length>0&&(yield new Promise(b=>setTimeout(b,500))),console.log("Step 5: Deleting ToDo assignments...");try{const b=yield n({doctype:"ToDo",fields:["name"],filters:[["reference_type","in",["Project","Task","SubTask"]],["reference_name","like",`%${a}%`]],limit_page_length:1e3}),j=(b==null?void 0:b.message)||[];console.log(`Found ${j.length} ToDo assignments to delete`);for(const v of j)try{yield t({doctype:"ToDo",name:v.name})}catch(S){console.error(`Error deleting ToDo ${v.name}:`,S)}}catch(b){console.error("Error fetching/deleting ToDo assignments:",b)}console.log("Step 6: Deleting project users...");try{const b=yield n({doctype:"Project User",fields:["name"],filters:[["parent","=",a]],limit_page_length:1e3}),j=(b==null?void 0:b.message)||[];console.log(`Found ${j.length} project users to delete`);for(const v of j)try{yield t({doctype:"Project User",name:v.name})}catch(S){console.error(`Error deleting Project User ${v.name}:`,S)}}catch(b){console.error("Error fetching/deleting project users:",b)}console.log("Step 6.5: Performing comprehensive dependency cleanup...");const p=[{doctype:"Task",filter:[["project","=",a]]},{doctype:"SubTask",filter:[["project","=",a]]},{doctype:"project_phase",filter:[["project","=",a]]},{doctype:"Project User",filter:[["parent","=",a]]},{doctype:"ToDo",filter:[["reference_type","=","Project"],["reference_name","=",a]]},{doctype:"ToDo",filter:[["reference_type","=","Task"],["reference_name","like",`%${a}%`]]},{doctype:"Communication",filter:[["reference_doctype","=","Project"],["reference_name","=",a]]},{doctype:"File",filter:[["attached_to_doctype","=","Project"],["attached_to_name","=",a]]},{doctype:"Comment",filter:[["reference_doctype","=","Project"],["reference_name","=",a]]}];for(const b of p)try{console.log(`Checking for remaining ${b.doctype} dependencies...`);const j=yield n({doctype:b.doctype,fields:["name"],filters:b.filter,limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];if(v.length>0){console.log(`Found ${v.length} remaining ${b.doctype} items, deleting them...`);for(const S of v)try{yield t({doctype:b.doctype,name:S.name}),console.log(`Deleted remaining ${b.doctype}: ${S.name}`),yield new Promise(N=>setTimeout(N,100))}catch(N){console.error(`Error deleting remaining ${b.doctype} ${S.name}:`,N)}}else console.log(`No remaining ${b.doctype} dependencies found.`)}catch(j){console.error(`Error checking ${b.doctype} dependencies:`,j)}yield new Promise(b=>setTimeout(b,1e3)),console.log("Step 7: Deleting the project..."),yield new Promise(b=>setTimeout(b,1e3));let g=0;const x=3;for(;g<x;)try{g++,console.log(`Attempting to delete project ${a} (attempt ${g}/${x})`),yield t({doctype:"Project",name:a}),console.log(`Verifying project ${a} deletion...`);try{const b=yield n({doctype:"Project",fields:["name"],filters:[["name","=",a]],limit_page_length:1});if(b!=null&&b.message&&b.message.length>0)throw new Error("Project still exists after deletion attempt");console.log(`Successfully verified project ${a} deletion`)}catch(b){if(b.message==="Project still exists after deletion attempt")throw b;console.log(`Project ${a} not found during verification - deletion successful`)}console.log(`Successfully deleted project: ${a}`);break}catch(b){if(console.error(`Error deleting project ${a} (attempt ${g}):`,b),g<x){console.log(`Waiting before retry attempt ${g+1}...`),yield new Promise(j=>setTimeout(j,2e3)),console.log("Attempting to clean up remaining dependencies...");try{const j=yield n({doctype:"Project User",fields:["name"],filters:[["parent","=",a]],limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];if(v.length>0){console.log(`Found ${v.length} remaining project users, deleting them...`);for(const S of v)try{yield t({doctype:"Project User",name:S.name}),console.log(`Deleted remaining project user: ${S.name}`)}catch(N){console.error(`Error deleting remaining project user ${S.name}:`,N)}}}catch(j){console.error("Error during dependency cleanup:",j)}try{const j=yield n({doctype:"ToDo",fields:["name"],filters:[["reference_type","=","Project"],["reference_name","=",a]],limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];if(v.length>0){console.log(`Found ${v.length} remaining todos, deleting them...`);for(const S of v)try{yield t({doctype:"ToDo",name:S.name}),console.log(`Deleted remaining todo: ${S.name}`)}catch(N){console.error(`Error deleting remaining todo ${S.name}:`,N)}}}catch(j){console.error("Error during todo cleanup:",j)}}else{let j="Unknown project deletion error";if(b&&typeof b=="object")if(console.error("Full project deletion error object:",JSON.stringify(b,null,2)),b.message)j=b.message;else if(b.exc)j=b.exc;else if(b._server_messages)try{const v=JSON.parse(b._server_messages);Array.isArray(v)&&v.length>0&&(j=JSON.parse(v[0]).message||j)}catch(v){console.error("Error parsing server messages:",v)}else j=JSON.stringify(b);else typeof b=="string"&&(j=b);throw new Error(`Failed to delete project ${a} after ${x} attempts: ${j}`)}}return console.log(`Successfully completed cascade delete for project: ${a}`),{success:!0,deletedItems:{subtasks:o,tasks:c,phases:d,project:1}}}catch(o){console.error("Error in cascade delete:",o);let c="Unknown error";throw o instanceof Error?c=o.message:typeof o=="string"?c=o:o&&typeof o=="object"&&(c=o.message||o.error||o.exc||JSON.stringify(o)),new Error(`Failed to delete project and related items: ${c}`)}})}}}const{useProjectCascadeDelete:IL}=VL;class Sy{static useUserTodos(){const{data:t}=Ot("User","",{shouldFetch:!0}),{data:n,isLoading:s,error:a,mutate:o}=At("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",(t==null?void 0:t.name)||""],["reference_type","=","Task"]],orderBy:{field:"creation",order:"desc"},limit:0},t!=null&&t.name?"user-todos":null);return{todos:n||[],isLoading:s,error:a,mutate:o,currentUser:t}}static useUserTodosEnriched(){const{data:t}=Ot("User","",{shouldFetch:!0}),{data:n,isLoading:s,error:a,mutate:o}=yA("todo.api.get_user_todos_with_task_info",{user:(t==null?void 0:t.name)||""},t!=null&&t.name?"user-todos-enriched":null,{revalidateOnFocus:!1,revalidateOnReconnect:!1});return{todos:(n==null?void 0:n.message)||[],isLoading:s,error:a,mutate:o,currentUser:t}}static useUserTodosWithTaskData(){const{todos:t,isLoading:n,error:s,mutate:a,currentUser:o}=Sy.useUserTodos();return{todos:t.map(d=>(d.reference_type==="Task"&&d.reference_name,d)),isLoading:n,error:s,mutate:a,currentUser:o}}static useAllTodos(){const{data:t,isLoading:n,error:s}=At("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by"],filters:[["reference_type","in",["Task","SubTask"]]],limit:0});return{todos:t||[],isLoading:n,error:s}}}const qL=Sy.useAllTodos;class WL{static useUserAssignedTasks(){const{currentUser:t}=Cs(),{data:n,isLoading:s,error:a,mutate:o}=At("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",t||""]],orderBy:{field:"creation",order:"desc"},limit:0},t?"user-assigned-todos":null),d=(n||[]).filter(Y=>Y.reference_type==="Task").map(Y=>Y.reference_name).filter(Boolean),f=(n||[]).filter(Y=>Y.reference_type==="SubTask").map(Y=>Y.reference_name).filter(Boolean),{data:p,isLoading:g,error:x,mutate:b}=At("Task",{fields:["name","subject","project","status","priority","type","expected_time","actual_time","exp_start_date","exp_end_date","progress","is_group","parent_task","description","company","department"],filters:d.length>0?[["name","in",d]]:[["name","=","nonexistent"]],limit:0},d.length>0?"user-assigned-tasks":null),{data:j,isLoading:v,error:S,mutate:N}=At("SubTask",{fields:["name","subject","task","status","start_date","end_date","description","assigned_to"],filters:f.length>0?[["name","in",f]]:[["name","=","nonexistent"]],limit:0},f.length>0?"user-assigned-subtasks":null),A=[...new Set((j||[]).map(Y=>Y.task).filter(Boolean))],{data:E}=At("Task",{fields:["name","subject","project"],filters:A.length>0?[["name","in",A]]:[["name","=","nonexistent"]],limit:0},A.length>0?"parent-tasks-for-subtasks":null),T=[...new Set([...(p||[]).map(Y=>Y.project).filter(Boolean),...(E||[]).map(Y=>Y.project).filter(Boolean)])],{data:D}=At("Project",{fields:["name","project_name"],filters:T.length>0?[["name","in",T]]:[["name","=","nonexistent"]],limit:0},T.length>0?"projects-for-assigned-tasks":null),C=(D||[]).reduce((Y,H)=>(Y[H.name]=H.project_name||H.name,Y),{}),z=(E||[]).reduce((Y,H)=>(Y[H.name]=H,Y),{}),U=(n||[]).reduce((Y,H)=>(H.reference_name&&(Y[H.reference_name]=H),Y),{}),R=(p||[]).map(Y=>oe(L({},Y),{project_name:Y.project?C[Y.project]:void 0,assignedTodo:U[Y.name]})),G=(j||[]).map(Y=>{const H=Y.task?z[Y.task]:void 0;return oe(L({},Y),{task_subject:H==null?void 0:H.subject,project_name:H!=null&&H.project?C[H.project]:void 0,assignedTodo:U[Y.name]})});return{tasks:R,subTasks:G,todos:n||[],isLoading:s||g||v,error:a||x||S,mutate:()=>{o(),b(),N()},currentUser:t}}}const YL=WL.useUserAssignedTasks;class _T{static useAllTeamTasks(){const{data:t,isLoading:n,error:s}=At("Task",{fields:["name","subject","description","status","priority","exp_start_date","exp_end_date","project","type","progress","completed_by"],limit:0}),{data:a,isLoading:o,error:c}=At("SubTask",{fields:["name","subject","description","status","start_date","end_date","assigned_to","task"],limit:0});return{allTasks:t||[],allSubTasks:a||[],isLoading:n||o,error:s||c}}static getAllTaskOfTeam(){const t=Cs().currentUser,{data:n}=At("Team",{filters:[["teamlead","=",t||""]]}),s=(n==null?void 0:n.map(R=>R.name))||[],{data:a}=At("Project",{fields:["name","team"],filters:[["team","in",s]],limit:0}),o=(a==null?void 0:a.map(R=>R.name))||[],{data:c,isLoading:d,error:h}=At("Task",{fields:["name","status","exp_end_date","project"],limit:0}),f=(c||[]).filter(R=>o.includes(R.project||"")),{data:p,isLoading:g,error:x}=At("SubTask",{fields:["name","status","task"],limit:0}),b=f.map(R=>R.name),j=(p||[]).filter(R=>b.includes(R.task||"")),v=R=>(R||"").toLowerCase()==="completed",S=R=>(R||"").toLowerCase()==="working",N=R=>(R||"").toLowerCase()==="cancelled",A=R=>(R||"").toLowerCase()==="overdue",E=new Date;E.setHours(0,0,0,0);const T=R=>{if(A(R.status))return!0;if(!v(R.status)&&!N(R.status)&&R.exp_end_date){const G=new Date(R.exp_end_date);return G.setHours(0,0,0,0),G<E}return!1},D=f.length+j.length,C=f.filter(R=>S(R.status)).length+j.filter(R=>S(R.status)).length,z=f.filter(R=>v(R.status)).length+j.filter(R=>v(R.status)).length,U=f.filter(R=>T(R)).length;return{total:D,working:C,completed:z,overdue:U,isLoading:d||g,error:h||x}}}const XL=_T.useAllTeamTasks,GL=_T.getAllTaskOfTeam,KL=()=>{const{currentUser:e}=Cs(),{data:t,isLoading:n,error:s}=At("User",{fields:["name","full_name","user_image","first_name","last_name","email"],filters:[["enabled","=",1],["user_type","=","System User"]],limit:20});return{simpleTeamData:_.useMemo(()=>t?t.map(o=>({id:o.name,name:o.full_name||o.first_name||o.name||"Unknown User",role:o.name===e?"Leader":"Member",avatar:o.user_image||`https://placehold.co/40x40/e2e8f0/475569?text=${(o.first_name||o.full_name||"U").charAt(0).toUpperCase()}`})):[],[t,e]),users:t,isLoading:n,error:s}},QL=({projects:e,selectedProject:t,selectedTeam:n,onProjectChange:s,onTeamChange:a})=>{var v,S;const[o,c]=_.useState({selectedTeam:n,selectedProject:t}),[d,h]=_.useState(!1),{data:f}=fT(),p=(N,A)=>{c(E=>oe(L({},E),{[N]:A})),N==="selectedTeam"?a(A):N==="selectedProject"&&s(A)},g=re.useMemo(()=>{const N=[{value:"all",label:"Tất cả team"},...(f==null?void 0:f.map(A=>({value:A.name,label:A.team_name||A.name})))||[]];return[N[0],...N.slice(1).sort((A,E)=>A.label.localeCompare(E.label))]},[f]),x=e.filter(N=>!(o.selectedTeam!=="all"&&o.selectedTeam!==""&&N.team!==o.selectedTeam)),b=()=>{c({selectedTeam:"all",selectedProject:"all"}),a("all"),s("all")},j=o.selectedTeam!=="all"||o.selectedProject!=="all";return re.useEffect(()=>{c(N=>oe(L({},N),{selectedTeam:n,selectedProject:t}))},[n,t]),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>h(!d),className:`inline-flex items-center px-4 py-2 border rounded-lg text-sm font-medium bg-white hover:bg-gray-50 transition-colors ${j?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700"}`,children:[i.jsx(ld,{className:"mr-2 h-4 w-4"}),"Bộ lọc",j&&i.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[o.selectedTeam!=="all"?1:0,o.selectedProject!=="all"?1:0].reduce((N,A)=>N+A,0)})]}),d&&i.jsx("div",{className:"absolute top-full right-0 mt-2 w-96 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Bộ lọc dự án"}),j&&i.jsx("button",{onClick:b,className:"text-sm text-blue-600 hover:text-blue-800",children:"Xóa tất cả"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team"}),i.jsx("select",{value:o.selectedTeam,onChange:N=>p("selectedTeam",N.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!f||f.length===0,children:g.map(N=>i.jsx("option",{value:N.value,children:N.label},N.value))}),(!f||f.length===0)&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Không có team nào"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dự án"}),i.jsxs("select",{value:o.selectedProject,onChange:N=>p("selectedProject",N.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"all",children:"Tất cả dự án"}),x.map(N=>i.jsx("option",{value:N.project_name,children:N.project_name},N.name))]})]})]}),j&&i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx("span",{children:"Đang áp dụng:"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.selectedTeam!=="all"&&i.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Team: ",(v=g.find(N=>N.value===o.selectedTeam))==null?void 0:v.label,i.jsx("button",{onClick:()=>p("selectedTeam","all"),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]}),o.selectedProject!=="all"&&i.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Dự án: ",(S=x.find(N=>N.project_name===o.selectedProject))==null?void 0:S.project_name,i.jsx("button",{onClick:()=>p("selectedProject","all"),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]})]})]})})]})}),d&&i.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>h(!1)})]})},ZL=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),JL=({projects:e,tasks:t,selectedProject:n})=>{const s=n&&n!=="all",a=s?"Task":"Dự án";let o,c,d;if(s){o=t.filter(g=>g.status==="Open"||g.status==="Working"||g.status!=="Completed"&&g.status!=="Cancelled").length,c=t.filter(g=>g.status==="Completed").length;const p=new Date;d=t.filter(g=>g.exp_end_date?new Date(g.exp_end_date)<p&&g.status!=="Completed":!1).length,t.reduce((g,x)=>g+(x.expected_time||0),0)}else{o=e.filter(g=>g.status==="Đang thực hiện"||g.status!=="Hoàn thành"&&g.status!=="Hủy"&&g.percent_complete<100).length,c=e.filter(g=>g.status==="Hoàn thành"||g.percent_complete===100).length;const p=new Date;d=e.filter(g=>new Date(g.expected_end_date)<p&&g.status!=="Hoàn thành"&&g.percent_complete<100).length}const h=e.reduce((p,g)=>p+(g.estimated_costing||0),0),f=[{title:`${a} đang hoạt động`,value:o,icon:VM,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-blue-500 to-blue-600",cardBg:"bg-white",shadow:"shadow-lg shadow-blue-500/20",change:"+55%",changeText:"than last week",changeColor:"text-green-500"},{title:`${a} hoàn thành`,value:c,icon:aS,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-green-500 to-green-600",cardBg:"bg-white",shadow:"shadow-lg shadow-green-500/20",change:"+3%",changeText:"than last month",changeColor:"text-green-500"},{title:`${a} quá hạn`,value:d,icon:zo,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-pink-500 to-pink-600",cardBg:"bg-white",shadow:"shadow-lg shadow-pink-500/20",change:"+1%",changeText:"than yesterday",changeColor:"text-green-500"},{title:"Chi phí Dự án",value:ZL(h),icon:I4,iconColor:"text-white",iconBg:"bg-gradient-to-br from-yellow-200 to-yellow-600",cardBg:"bg-white",shadow:"shadow-lg shadow-yellow-500/20",change:"+91",changeText:"Just updated",changeColor:"text-gray-500"}];return i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:f.map((p,g)=>{const x=p.icon;return i.jsx("div",{className:`${p.cardBg} ${p.shadow} rounded-xl p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:`${p.iconBg} ${p.iconColor} p-3 rounded-2xl shadow-lg`,children:i.jsx(x,{className:"h-6 w-6"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:p.title}),i.jsx("p",{className:`${p.title.includes("Chi phí")?"text-2xl":"text-3xl"} font-bold text-gray-900`,children:p.value})]})]})},g)})})},NT=({title:e,children:t,className:n=""})=>i.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 mb-6 ${n}`,children:[e&&i.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-4",children:e}),t]}),e8=({projects:e,tasks:t,selectedProject:n})=>{const s=n&&n!=="all",a=re.useMemo(()=>{const p=new Date;return p.setHours(0,0,0,0),e.map((x,b)=>({id:`milestone-${b}`,name:x.project_name,project:x.project_name,endDate:new Date(x.expected_end_date),priority:x.priority,status:x.percent_complete===100?"completed":x.percent_complete>0?"in progress":"upcoming",progress:x.percent_complete})).filter(x=>{const b=new Date(x.endDate);b.setHours(0,0,0,0);const j=Math.ceil((b.getTime()-p.getTime())/(1e3*60*60*24));return x.status!=="completed"&&j>=0&&j<=15}).sort((x,b)=>{const j=new Date;j.setHours(0,0,0,0);const v=new Date(x.endDate);v.setHours(0,0,0,0);const S=new Date(b.endDate);S.setHours(0,0,0,0);const N=Math.abs(v.getTime()-j.getTime()),A=Math.abs(S.getTime()-j.getTime()),E=N-A;if(E!==0)return E;const T={"Khẩn cấp":0,Cao:1,"Trung bình":2,Thấp:3,Urgent:0,High:1,Medium:2,Low:3};return(T[x.priority]||3)-(T[b.priority]||3)})},[e]),o=re.useMemo(()=>{if(!s)return[];const p=new Date;return p.setHours(0,0,0,0),t.filter(g=>{if(!g.exp_end_date||g.status==="Completed")return!1;const x=new Date(g.exp_end_date);x.setHours(0,0,0,0);const b=Math.ceil((x.getTime()-p.getTime())/(1e3*60*60*24));return b>=0&&b<=2}).sort((g,x)=>{const b=new Date;b.setHours(0,0,0,0);const j=new Date(g.exp_end_date);j.setHours(0,0,0,0);const v=new Date(x.exp_end_date);v.setHours(0,0,0,0);const S=Math.abs(j.getTime()-b.getTime()),N=Math.abs(v.getTime()-b.getTime()),A=S-N;if(A!==0)return A;const E={Urgent:0,High:1,Medium:2,Low:3};return(E[g.priority]||3)-(E[x.priority]||3)})},[t,s]),c=p=>{switch(p){case"completed":return"bg-green-500";case"in progress":return"bg-blue-500";case"upcoming":return"bg-gray-300";default:return"bg-gray-300"}},d=p=>{switch(p){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},h=p=>p.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),f=p=>{const g=new Date;g.setHours(0,0,0,0);const x=new Date(p);x.setHours(0,0,0,0);const b=Math.ceil((x.getTime()-g.getTime())/(1e3*60*60*24));return b<0?{text:`Quá hạn ${Math.abs(b)} ngày`,color:"text-red-600",urgent:!0}:b===0?{text:"Hôm nay",color:"text-red-600",urgent:!0}:b<=3?{text:`${b} ngày nữa`,color:"text-red-600",urgent:!0}:b<=7?{text:`${b} ngày nữa`,color:"text-orange-600",urgent:!0}:b<=14?{text:`${b} ngày nữa`,color:"text-yellow-600",urgent:!1}:{text:`${b} ngày nữa`,color:"text-gray-600",urgent:!1}};return i.jsx("div",{className:"grid grid-cols-1 gap-8",children:i.jsx(NT,{title:s?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})," ","gần ",i.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn "})," (<2 ngày)"]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Dự án"})," ","sắp ",i.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn"})," (<15 ngày)"]}),children:i.jsx("div",{className:`space-y-6 ${s?o.length>=3?"h-80 overflow-y-auto":"overflow-visible":a.length>=3?"h-80 overflow-y-auto":"overflow-visible"}`,children:s?i.jsxs(i.Fragment,{children:[o.map((p,g)=>{const x=f(new Date(p.exp_end_date));return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center space-x-3",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:p.subject}),i.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(p.priority)}`,children:p.priority})]}),i.jsx("div",{className:"mt-1",children:i.jsx("span",{className:`text-xs font-medium ${x.color}`,children:x.text})})]})}),i.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[i.jsx(Ys,{className:"h-4 w-4 mr-1"}),h(new Date(p.exp_end_date))]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Progress"}),i.jsxs("span",{className:"font-medium",children:[p.progress||0,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${p.status==="Completed"?"bg-green-500":p.status==="Working"?"bg-blue-500":"bg-gray-300"}`,style:{width:`${p.progress||0}%`}})})]})]},`task-${g}`)}),o.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Ys,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),i.jsx("p",{children:"Không có task nào sắp đến hạn"})]})]}):i.jsxs(i.Fragment,{children:[a.map(p=>{const g=f(p.endDate);return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center space-x-3",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:p.name}),i.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(p.priority)}`,children:p.priority})]}),i.jsx("div",{className:"mt-1",children:i.jsx("span",{className:`text-xs font-medium ${g.color}`,children:g.text})})]})}),i.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[i.jsx(Ys,{className:"h-4 w-4 mr-1"}),h(p.endDate)]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Progress"}),i.jsxs("span",{className:"font-medium",children:[p.progress,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${c(p.status)}`,style:{width:`${p.progress}%`}})})]})]},p.id)}),a.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Ys,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),i.jsx("p",{children:"Không có dự án nào sắp đến hạn"})]})]})})})})},t8=({projects:e,tasks:t,selectedProject:n})=>{const[s,a]=_.useState(null),[o,c]=_.useState(!0),d=j=>{a(v=>v===j?null:j)},h=n&&n!=="all",p=(()=>{if(h){const j={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Open",height:30},working:{projects:[],color:"#f59e0b",lightColor:"#fbbf24",darkColor:"#d97706",label:"Working",height:25},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Completed",height:20},overdue:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Overdue",height:40},cancelled:{projects:[],color:"#6b7280",lightColor:"#9ca3af",darkColor:"#4b5563",label:"Cancelled",height:35}};return t.forEach(v=>{const S=new Date;v.exp_end_date&&new Date(v.exp_end_date)<S&&v.status!=="Completed"&&v.status!=="Cancelled"?j.overdue.projects.push(v):v.status==="Completed"?j.completed.projects.push(v):v.status==="Working"?j.working.projects.push(v):v.status==="Cancelled"?j.cancelled.projects.push(v):j.open.projects.push(v)}),j}else{const j={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Đang mở",height:30},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Hoàn thành",height:20},cancelled:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Đã hủy",height:40}};return e.forEach(v=>{v.status==="Completed"||v.status==="Hoàn thành"?j.completed.projects.push(v):v.status==="Cancelled"||v.status==="Canceled"||v.status==="Hủy"?j.cancelled.projects.push(v):j.open.projects.push(v)}),j}})(),g=h?t.length:e.length,x=j=>{const v={Urgent:4,High:3,Medium:2,Low:1};return j.sort((S,N)=>{const A=v[S.priority]||0;return(v[N.priority]||0)-A})};Object.values(p).forEach(j=>{j.projects=x(j.projects)});const b=()=>{const[j,v]=re.useState({visible:!1,x:0,y:0,categoryKey:""}),S=360,N=S/2,A=S/2,E=170;let T=0;const D=Object.entries(p).filter(([,R])=>R.projects.length>0),C=(R,G)=>{const q=G.clientX,Q=G.clientY;v({visible:!0,x:q+15,y:Q-10,categoryKey:R})},z=(R,G)=>{if(j.visible&&j.categoryKey===R){const q=G.clientX,Q=G.clientY;v(W=>oe(L({},W),{x:q+15,y:Q-10}))}},U=()=>{v({visible:!1,x:0,y:0,categoryKey:""})};return i.jsxs("div",{className:"relative flex flex-col items-center",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-6 text-center max-w-xs",children:h?"Biểu đồ phân bố Tasks theo trạng thái":"Biểu đồ phân bố dự án theo trạng thái"}),i.jsx("div",{className:"relative",style:{width:S,height:S},children:i.jsxs("svg",{width:S,height:S,className:"absolute top-0 left-0",children:[i.jsx("defs",{children:i.jsx("filter",{id:"dropshadow2d",x:"-20%",y:"-20%",width:"140%",height:"140%",children:i.jsx("feDropShadow",{dx:"2",dy:"4",stdDeviation:"4",floodOpacity:"0.2"})})}),(T=0,D.map(([R,G])=>{const q=G.projects.length/g*100,Q=T,W=T+q/100*360;T=W;const Y=Q*Math.PI/180,H=W*Math.PI/180,F=(Q+W)/2*Math.PI/180,Z=N+E*Math.cos(Y),ee=A+E*Math.sin(Y),ce=N+E*Math.cos(H),M=A+E*Math.sin(H),ie=W-Q>180?1:0,se=D.length===1;let V;se?V=`M ${N} ${A+E} A ${E} ${E} 0 1 1 ${N} ${A-E} A ${E} ${E} 0 1 1 ${N} ${A+E} Z`:V=[`M ${N} ${A}`,`L ${Z} ${ee}`,`A ${E} ${E} 0 ${ie} 1 ${ce} ${M}`,"Z"].join(" ");const ne=E*.7,ge=se?N:N+ne*Math.cos(F),he=se?A:A+ne*Math.sin(F);return i.jsxs("g",{children:[i.jsx("path",{d:V,fill:G.color,stroke:"white",strokeWidth:"2",filter:"url(#dropshadow2d)",className:"hover:opacity-80 transition-opacity cursor-pointer",onMouseEnter:Ee=>C(R,Ee),onMouseMove:Ee=>z(R,Ee),onMouseLeave:U}),q>5&&i.jsxs("text",{x:ge,y:he,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs font-bold fill-white pointer-events-none",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:[Math.round(q),"%"]})]},`segment-${R}`)}))]})}),j.visible&&j.categoryKey&&p[j.categoryKey]&&i.jsxs("div",{className:"fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-xs pointer-events-none",style:{left:j.x,top:j.y,transform:"translate(-50%, -100%)"},children:[i.jsxs("div",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded mr-2",style:{backgroundColor:p[j.categoryKey].color}}),p[j.categoryKey].label," (",p[j.categoryKey].projects.length,")"]}),i.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:p[j.categoryKey].projects.map((R,G)=>i.jsxs("div",{className:"text-xs border-b border-gray-100 pb-1 last:border-b-0",children:[i.jsx("div",{className:"font-medium text-gray-700",children:h?R.subject:R.project_name}),i.jsxs("div",{className:"text-gray-500 flex justify-between",children:[i.jsx("span",{children:h?`${R.progress||0}% hoàn thành`:`${R.percent_complete}% hoàn thành`}),i.jsxs("span",{className:"font-medium",children:["Priority: ",R.priority]})]})]},G))})]})]})};return i.jsx(NT,{title:i.jsx("div",{className:"flex items-center justify-between w-full cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded-md transition-colors",onClick:()=>c(!o),children:i.jsx("div",{className:"flex items-center",children:i.jsx("span",{children:h?i.jsxs(i.Fragment,{children:["Tổng quan ",i.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})]}):i.jsxs(i.Fragment,{children:["Tổng quan ",i.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"dự án"})]})})})}),children:o&&i.jsx("div",{children:g===0?i.jsx("div",{className:"flex flex-col items-center justify-center py-16",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-8xl text-gray-300 mb-6",children:"📊"}),i.jsx("p",{className:"text-xl font-medium text-gray-600 mb-3",children:h?"Không có task nào":"Không có dự án nào"}),i.jsx("p",{className:"text-base text-gray-500 max-w-md",children:h?"Không có task nào đang thực hiện trong dự án này":"Không có dự án nào đang thực hiện"})]})}):i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsx("div",{className:"flex flex-col items-center",children:i.jsx(b,{})}),i.jsx("div",{className:"space-y-4",children:Object.entries(p).map(([j,v])=>v.projects.length>0&&i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:()=>d(j),className:"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between border-l-4",style:{borderLeftColor:v.color},children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:v.color}}),i.jsxs("h4",{className:"font-semibold text-gray-800",children:[v.label," (",v.projects.length,")"]})]}),i.jsx("div",{className:"flex items-center",children:i.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${s===j?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),i.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${s===j?"max-h-96":"max-h-0"}`,children:i.jsx("div",{className:"p-4 space-y-2 max-h-80 overflow-y-auto",children:v.projects.map(S=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:[i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:h?S.subject:S.project_name}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ml-2 flex-shrink-0 ${S.priority==="Urgent"?"bg-red-100 text-red-800":S.priority==="High"?"bg-orange-100 text-orange-800":S.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:S.priority})]})}),i.jsx("div",{className:"flex flex-col items-end ml-3",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(h?S.progress||0:S.percent_complete||0,100)}%`,backgroundColor:(()=>{const N=h?S.progress||0:S.percent_complete||0;return N>=100?"#22c55e":N>=70?"#3b82f6":N>=30?"#f59e0b":"#ef4444"})()}})}),i.jsxs("span",{className:"text-xs font-semibold text-gray-600 min-w-[35px] text-right",children:[h?S.progress||0:S.percent_complete||0,"%"]})]})})]},S.name))})})]},j))})]})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function gd(e){return e+.5|0}const Oi=(e,t,n)=>Math.max(Math.min(e,n),t);function Pu(e){return Oi(gd(e*2.55),0,255)}function Mi(e){return Oi(gd(e*255),0,255)}function qa(e){return Oi(gd(e/2.55)/100,0,1)}function d_(e){return Oi(gd(e*100),0,100)}const br={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ux=[..."0123456789ABCDEF"],n8=e=>ux[e&15],s8=e=>ux[(e&240)>>4]+ux[e&15],Kf=e=>(e&240)>>4===(e&15),r8=e=>Kf(e.r)&&Kf(e.g)&&Kf(e.b)&&Kf(e.a);function a8(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&br[e[1]]*17,g:255&br[e[2]]*17,b:255&br[e[3]]*17,a:t===5?br[e[4]]*17:255}:(t===7||t===9)&&(n={r:br[e[1]]<<4|br[e[2]],g:br[e[3]]<<4|br[e[4]],b:br[e[5]]<<4|br[e[6]],a:t===9?br[e[7]]<<4|br[e[8]]:255})),n}const i8=(e,t)=>e<255?t(e):"";function o8(e){var t=r8(e)?n8:s8;return e?"#"+t(e.r)+t(e.g)+t(e.b)+i8(e.a,t):void 0}const l8=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ST(e,t,n){const s=t*Math.min(n,1-n),a=(o,c=(o+e/30)%12)=>n-s*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function c8(e,t,n){const s=(a,o=(a+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function u8(e,t,n){const s=ST(e,1,.5);let a;for(t+n>1&&(a=1/(t+n),t*=a,n*=a),a=0;a<3;a++)s[a]*=1-t-n,s[a]+=t;return s}function d8(e,t,n,s,a){return e===a?(t-n)/s+(t<n?6:0):t===a?(n-e)/s+2:(e-t)/s+4}function Ty(e){const n=e.r/255,s=e.g/255,a=e.b/255,o=Math.max(n,s,a),c=Math.min(n,s,a),d=(o+c)/2;let h,f,p;return o!==c&&(p=o-c,f=d>.5?p/(2-o-c):p/(o+c),h=d8(n,s,a,p,o),h=h*60+.5),[h|0,f||0,d]}function Ey(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(Mi)}function ky(e,t,n){return Ey(ST,e,t,n)}function f8(e,t,n){return Ey(u8,e,t,n)}function h8(e,t,n){return Ey(c8,e,t,n)}function TT(e){return(e%360+360)%360}function m8(e){const t=l8.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?Pu(+t[5]):Mi(+t[5]));const a=TT(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?s=f8(a,o,c):t[1]==="hsv"?s=h8(a,o,c):s=ky(a,o,c),{r:s[0],g:s[1],b:s[2],a:n}}function p8(e,t){var n=Ty(e);n[0]=TT(n[0]+t),n=ky(n),e.r=n[0],e.g=n[1],e.b=n[2]}function g8(e){if(!e)return;const t=Ty(e),n=t[0],s=d_(t[1]),a=d_(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${a}%, ${qa(e.a)})`:`hsl(${n}, ${s}%, ${a}%)`}const f_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},h_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function x8(){const e={},t=Object.keys(h_),n=Object.keys(f_);let s,a,o,c,d;for(s=0;s<t.length;s++){for(c=d=t[s],a=0;a<n.length;a++)o=n[a],d=d.replace(o,f_[o]);o=parseInt(h_[c],16),e[d]=[o>>16&255,o>>8&255,o&255]}return e}let Qf;function y8(e){Qf||(Qf=x8(),Qf.transparent=[0,0,0,0]);const t=Qf[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const b8=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function v8(e){const t=b8.exec(e);let n=255,s,a,o;if(t){if(t[7]!==s){const c=+t[7];n=t[8]?Pu(c):Oi(c*255,0,255)}return s=+t[1],a=+t[3],o=+t[5],s=255&(t[2]?Pu(s):Oi(s,0,255)),a=255&(t[4]?Pu(a):Oi(a,0,255)),o=255&(t[6]?Pu(o):Oi(o,0,255)),{r:s,g:a,b:o,a:n}}}function w8(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${qa(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const l0=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Bl=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function j8(e,t,n){const s=Bl(qa(e.r)),a=Bl(qa(e.g)),o=Bl(qa(e.b));return{r:Mi(l0(s+n*(Bl(qa(t.r))-s))),g:Mi(l0(a+n*(Bl(qa(t.g))-a))),b:Mi(l0(o+n*(Bl(qa(t.b))-o))),a:e.a+n*(t.a-e.a)}}function Zf(e,t,n){if(e){let s=Ty(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=ky(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function ET(e,t){return e&&Object.assign(t||{},e)}function m_(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Mi(e[3]))):(t=ET(e,{r:0,g:0,b:0,a:1}),t.a=Mi(t.a)),t}function _8(e){return e.charAt(0)==="r"?v8(e):m8(e)}class Ju{constructor(t){if(t instanceof Ju)return t;const n=typeof t;let s;n==="object"?s=m_(t):n==="string"&&(s=a8(t)||y8(t)||_8(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=ET(this._rgb);return t&&(t.a=qa(t.a)),t}set rgb(t){this._rgb=m_(t)}rgbString(){return this._valid?w8(this._rgb):void 0}hexString(){return this._valid?o8(this._rgb):void 0}hslString(){return this._valid?g8(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,a=t.rgb;let o;const c=n===o?.5:n,d=2*c-1,h=s.a-a.a,f=((d*h===-1?d:(d+h)/(1+d*h))+1)/2;o=1-f,s.r=255&f*s.r+o*a.r+.5,s.g=255&f*s.g+o*a.g+.5,s.b=255&f*s.b+o*a.b+.5,s.a=c*s.a+(1-c)*a.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=j8(this._rgb,t._rgb,n)),this}clone(){return new Ju(this.rgb)}alpha(t){return this._rgb.a=Mi(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=gd(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Zf(this._rgb,2,t),this}darken(t){return Zf(this._rgb,2,-t),this}saturate(t){return Zf(this._rgb,1,t),this}desaturate(t){return Zf(this._rgb,1,-t),this}rotate(t){return p8(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Fa(){}const N8=(()=>{let e=0;return()=>e++})();function On(e){return e==null}function us(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function sn(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Dr(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function aa(e,t){return Dr(e)?e:t}function dn(e,t){return typeof e=="undefined"?t:e}const S8=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function _n(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function un(e,t,n,s){let a,o,c;if(us(e))for(o=e.length,a=0;a<o;a++)t.call(n,e[a],a);else if(sn(e))for(c=Object.keys(e),o=c.length,a=0;a<o;a++)t.call(n,e[c[a]],c[a])}function Ih(e,t){let n,s,a,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(a=e[n],o=t[n],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function qh(e){if(us(e))return e.map(qh);if(sn(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let a=0;for(;a<s;++a)t[n[a]]=qh(e[n[a]]);return t}return e}function kT(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function T8(e,t,n,s){if(!kT(e))return;const a=t[e],o=n[e];sn(a)&&sn(o)?ed(a,o,s):t[e]=qh(o)}function ed(e,t,n){const s=us(t)?t:[t],a=s.length;if(!sn(e))return e;n=n||{};const o=n.merger||T8;let c;for(let d=0;d<a;++d){if(c=s[d],!sn(c))continue;const h=Object.keys(c);for(let f=0,p=h.length;f<p;++f)o(h[f],e,c,n)}return e}function Bu(e,t){return ed(e,t,{merger:E8})}function E8(e,t,n){if(!kT(e))return;const s=t[e],a=n[e];sn(s)&&sn(a)?Bu(s,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=qh(a))}const p_={"":e=>e,x:e=>e.x,y:e=>e.y};function k8(e){const t=e.split("."),n=[];let s="";for(const a of t)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function C8(e){const t=k8(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function Wh(e,t){return(p_[t]||(p_[t]=C8(t)))(e)}function Cy(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Yh=e=>typeof e!="undefined",Hi=e=>typeof e=="function",g_=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function D8(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Nn=Math.PI,As=2*Nn,Xh=Number.POSITIVE_INFINITY,O8=Nn/180,gs=Nn/2,jo=Nn/4,x_=Nn*2/3,CT=Math.log10,Gh=Math.sign;function kh(e,t,n){return Math.abs(e-t)<n}function y_(e){const t=Math.round(e);e=kh(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(CT(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function A8(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((a,o)=>a-o).pop(),t}function R8(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Kh(e){return!R8(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function M8(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function P8(e,t,n){let s,a,o;for(s=0,a=e.length;s<a;s++)o=e[s][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ro(e){return e*(Nn/180)}function L8(e){return e*(180/Nn)}function b_(e){if(!Dr(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function DT(e,t){const n=t.x-e.x,s=t.y-e.y,a=Math.sqrt(n*n+s*s);let o=Math.atan2(s,n);return o<-.5*Nn&&(o+=As),{angle:o,distance:a}}function z8(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function la(e){return(e%As+As)%As}function OT(e,t,n,s){const a=la(e),o=la(t),c=la(n),d=la(o-a),h=la(c-a),f=la(a-o),p=la(a-c);return a===o||a===c||s&&o===c||d>h&&f<p}function Xs(e,t,n){return Math.max(t,Math.min(n,e))}function U8(e){return Xs(e,-32768,32767)}function Mo(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function Dy(e,t,n){n=n||(c=>e[c]<t);let s=e.length-1,a=0,o;for(;s-a>1;)o=a+s>>1,n(o)?a=o:s=o;return{lo:a,hi:s}}const dx=(e,t,n,s)=>Dy(e,n,s?a=>{const o=e[a][t];return o<n||o===n&&e[a+1][t]===n}:a=>e[a][t]<n),B8=(e,t,n)=>Dy(e,n,s=>e[s][t]>=n);function F8(e,t,n){let s=0,a=e.length;for(;s<a&&e[s]<t;)s++;for(;a>s&&e[a-1]>n;)a--;return s>0||a<e.length?e.slice(s,a):e}const AT=["push","pop","shift","splice","unshift"];function $8(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),AT.forEach(n=>{const s="_onData"+Cy(n),a=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return e._chartjs.listeners.forEach(d=>{typeof d[s]=="function"&&d[s](...o)}),c}})})}function v_(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,a=s.indexOf(t);a!==-1&&s.splice(a,1),!(s.length>0)&&(AT.forEach(o=>{delete e[o]}),delete e._chartjs)}function H8(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const RT=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function MT(e,t){let n=[],s=!1;return function(...a){n=a,s||(s=!0,RT.call(window,()=>{s=!1,e.apply(t,n)}))}}function V8(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const Oy=e=>e==="start"?"left":e==="end"?"right":"center",Ss=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,I8=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t,Jf=e=>e===0||e===1,w_=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*As/n)),j_=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*As/n)+1,Fu={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*gs)+1,easeOutSine:e=>Math.sin(e*gs),easeInOutSine:e=>-.5*(Math.cos(Nn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Jf(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Jf(e)?e:w_(e,.075,.3),easeOutElastic:e=>Jf(e)?e:j_(e,.075,.3),easeInOutElastic(e){return Jf(e)?e:e<.5?.5*w_(e*2,.1125,.45):.5+.5*j_(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Fu.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Fu.easeInBounce(e*2)*.5:Fu.easeOutBounce(e*2-1)*.5+.5};function PT(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function __(e){return PT(e)?e:new Ju(e)}function c0(e){return PT(e)?e:new Ju(e).saturate(.5).darken(.1).hexString()}const q8=["x","y","borderWidth","radius","tension"],W8=["color","borderColor","backgroundColor"];function Y8(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:W8},numbers:{type:"number",properties:q8}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function X8(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const N_=new Map;function G8(e,t){t=t||{};const n=e+JSON.stringify(t);let s=N_.get(n);return s||(s=new Intl.NumberFormat(e,t),N_.set(n,s)),s}function LT(e,t,n){return G8(t,n).format(e)}const K8={values(e){return us(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let a,o=e;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(a="scientific"),o=Q8(e,n)}const c=CT(Math.abs(o)),d=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),h={notation:a,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(h,this.options.ticks.format),LT(e,s,h)}};function Q8(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var zT={formatters:K8};function Z8(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:zT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ho=Object.create(null),fx=Object.create(null);function $u(e,t){if(!t)return e;const n=t.split(".");for(let s=0,a=n.length;s<a;++s){const o=n[s];e=e[o]||(e[o]=Object.create(null))}return e}function u0(e,t,n){return typeof t=="string"?ed($u(e,t),n):ed($u(e,""),t)}class J8{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>c0(a.backgroundColor),this.hoverBorderColor=(s,a)=>c0(a.borderColor),this.hoverColor=(s,a)=>c0(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return u0(this,t,n)}get(t){return $u(this,t)}describe(t,n){return u0(fx,t,n)}override(t,n){return u0(Ho,t,n)}route(t,n,s,a){const o=$u(this,t),c=$u(this,s),d="_"+n;Object.defineProperties(o,{[d]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[d],f=c[a];return sn(h)?Object.assign({},f,h):dn(h,f)},set(h){this[d]=h}}})}apply(t){t.forEach(n=>n(this))}}var Hn=new J8({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Y8,X8,Z8]);function ez(e){return!e||On(e.size)||On(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function S_(e,t,n,s,a){let o=t[a];return o||(o=t[a]=e.measureText(a).width,n.push(a)),o>s&&(s=o),s}function _o(e,t,n){const s=e.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((t-a)*s)/s+a}function T_(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function E_(e,t,n,s){UT(e,t,n,s,null)}function UT(e,t,n,s,a){let o,c,d,h,f,p,g,x;const b=t.pointStyle,j=t.rotation,v=t.radius;let S=(j||0)*O8;if(b&&typeof b=="object"&&(o=b.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(S),e.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),e.restore();return}if(!(isNaN(v)||v<=0)){switch(e.beginPath(),b){default:a?e.ellipse(n,s,a/2,v,0,0,As):e.arc(n,s,v,0,As),e.closePath();break;case"triangle":p=a?a/2:v,e.moveTo(n+Math.sin(S)*p,s-Math.cos(S)*v),S+=x_,e.lineTo(n+Math.sin(S)*p,s-Math.cos(S)*v),S+=x_,e.lineTo(n+Math.sin(S)*p,s-Math.cos(S)*v),e.closePath();break;case"rectRounded":f=v*.516,h=v-f,c=Math.cos(S+jo)*h,g=Math.cos(S+jo)*(a?a/2-f:h),d=Math.sin(S+jo)*h,x=Math.sin(S+jo)*(a?a/2-f:h),e.arc(n-g,s-d,f,S-Nn,S-gs),e.arc(n+x,s-c,f,S-gs,S),e.arc(n+g,s+d,f,S,S+gs),e.arc(n-x,s+c,f,S+gs,S+Nn),e.closePath();break;case"rect":if(!j){h=Math.SQRT1_2*v,p=a?a/2:h,e.rect(n-p,s-h,2*p,2*h);break}S+=jo;case"rectRot":g=Math.cos(S)*(a?a/2:v),c=Math.cos(S)*v,d=Math.sin(S)*v,x=Math.sin(S)*(a?a/2:v),e.moveTo(n-g,s-d),e.lineTo(n+x,s-c),e.lineTo(n+g,s+d),e.lineTo(n-x,s+c),e.closePath();break;case"crossRot":S+=jo;case"cross":g=Math.cos(S)*(a?a/2:v),c=Math.cos(S)*v,d=Math.sin(S)*v,x=Math.sin(S)*(a?a/2:v),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+x,s-c),e.lineTo(n-x,s+c);break;case"star":g=Math.cos(S)*(a?a/2:v),c=Math.cos(S)*v,d=Math.sin(S)*v,x=Math.sin(S)*(a?a/2:v),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+x,s-c),e.lineTo(n-x,s+c),S+=jo,g=Math.cos(S)*(a?a/2:v),c=Math.cos(S)*v,d=Math.sin(S)*v,x=Math.sin(S)*(a?a/2:v),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+x,s-c),e.lineTo(n-x,s+c);break;case"line":c=a?a/2:Math.cos(S)*v,d=Math.sin(S)*v,e.moveTo(n-c,s-d),e.lineTo(n+c,s+d);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(S)*(a?a/2:v),s+Math.sin(S)*v);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function BT(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Ay(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ry(e){e.restore()}function tz(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),On(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function nz(e,t,n,s,a){if(a.strikethrough||a.underline){const o=e.measureText(s),c=t-o.actualBoundingBoxLeft,d=t+o.actualBoundingBoxRight,h=n-o.actualBoundingBoxAscent,f=n+o.actualBoundingBoxDescent,p=a.strikethrough?(h+f)/2:f;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(c,p),e.lineTo(d,p),e.stroke()}}function sz(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function td(e,t,n,s,a,o={}){const c=us(t)?t:[t],d=o.strokeWidth>0&&o.strokeColor!=="";let h,f;for(e.save(),e.font=a.string,tz(e,o),h=0;h<c.length;++h)f=c[h],o.backdrop&&sz(e,o.backdrop),d&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),On(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(f,n,s,o.maxWidth)),e.fillText(f,n,s,o.maxWidth),nz(e,n,s,f,o),s+=Number(a.lineHeight);e.restore()}function Qh(e,t){const{x:n,y:s,w:a,h:o,radius:c}=t;e.arc(n+c.topLeft,s+c.topLeft,c.topLeft,1.5*Nn,Nn,!0),e.lineTo(n,s+o-c.bottomLeft),e.arc(n+c.bottomLeft,s+o-c.bottomLeft,c.bottomLeft,Nn,gs,!0),e.lineTo(n+a-c.bottomRight,s+o),e.arc(n+a-c.bottomRight,s+o-c.bottomRight,c.bottomRight,gs,0,!0),e.lineTo(n+a,s+c.topRight),e.arc(n+a-c.topRight,s+c.topRight,c.topRight,0,-gs,!0),e.lineTo(n+c.topLeft,s)}const rz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,az=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function iz(e,t){const n=(""+e).match(rz);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const oz=e=>+e||0;function My(e,t){const n={},s=sn(t),a=s?Object.keys(t):t,o=sn(e)?s?c=>dn(e[c],e[t[c]]):c=>e[c]:()=>e;for(const c of a)n[c]=oz(o(c));return n}function FT(e){return My(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Zl(e){return My(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Or(e){const t=FT(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Es(e,t){e=e||{},t=t||Hn.font;let n=dn(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=dn(e.style,t.style);s&&!(""+s).match(az)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:dn(e.family,t.family),lineHeight:iz(dn(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:dn(e.weight,t.weight),string:""};return a.string=ez(a),a}function eh(e,t,n,s){let a,o,c;for(a=0,o=e.length;a<o;++a)if(c=e[a],c!==void 0&&c!==void 0)return c}function lz(e,t,n){const{min:s,max:a}=e,o=S8(t,(a-s)/2),c=(d,h)=>n&&d===0?0:d+h;return{min:c(s,-Math.abs(o)),max:c(a,o)}}function pc(e,t){return Object.assign(Object.create(e),t)}function Py(e,t=[""],n,s,a=()=>e[0]){const o=n||e;typeof s=="undefined"&&(s=IT("_fallback",e));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:s,_getTarget:a,override:d=>Py([d,...e],t,o,s)};return new Proxy(c,{deleteProperty(d,h){return delete d[h],delete d._keys,delete e[0][h],!0},get(d,h){return HT(d,h,()=>gz(h,t,e,d))},getOwnPropertyDescriptor(d,h){return Reflect.getOwnPropertyDescriptor(d._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(d,h){return C_(d).includes(h)},ownKeys(d){return C_(d)},set(d,h,f){const p=d._storage||(d._storage=a());return d[h]=p[h]=f,delete d._keys,!0}})}function rc(e,t,n,s){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:$T(e,s),setContext:o=>rc(e,o,n,s),override:o=>rc(e.override(o),t,n,s)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete e[c],!0},get(o,c,d){return HT(o,c,()=>uz(o,c,d))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(e,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,c)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,c){return Reflect.has(e,c)},ownKeys(){return Reflect.ownKeys(e)},set(o,c,d){return e[c]=d,delete o[c],!0}})}function $T(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:n,indexable:s,isScriptable:Hi(n)?n:()=>n,isIndexable:Hi(s)?s:()=>s}}const cz=(e,t)=>e?e+Cy(t):t,Ly=(e,t)=>sn(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function HT(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function uz(e,t,n){const{_proxy:s,_context:a,_subProxy:o,_descriptors:c}=e;let d=s[t];return Hi(d)&&c.isScriptable(t)&&(d=dz(t,d,e,n)),us(d)&&d.length&&(d=fz(t,d,e,c.isIndexable)),Ly(t,d)&&(d=rc(d,a,o&&o[t],c)),d}function dz(e,t,n,s){const{_proxy:a,_context:o,_subProxy:c,_stack:d}=n;if(d.has(e))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+e);d.add(e);let h=t(o,c||s);return d.delete(e),Ly(e,h)&&(h=zy(a._scopes,a,e,h)),h}function fz(e,t,n,s){const{_proxy:a,_context:o,_subProxy:c,_descriptors:d}=n;if(typeof o.index!="undefined"&&s(e))return t[o.index%t.length];if(sn(t[0])){const h=t,f=a._scopes.filter(p=>p!==h);t=[];for(const p of h){const g=zy(f,a,e,p);t.push(rc(g,o,c&&c[e],d))}}return t}function VT(e,t,n){return Hi(e)?e(t,n):e}const hz=(e,t)=>e===!0?t:typeof e=="string"?Wh(t,e):void 0;function mz(e,t,n,s,a){for(const o of t){const c=hz(n,o);if(c){e.add(c);const d=VT(c._fallback,n,a);if(typeof d!="undefined"&&d!==n&&d!==s)return d}else if(c===!1&&typeof s!="undefined"&&n!==s)return null}return!1}function zy(e,t,n,s){const a=t._rootScopes,o=VT(t._fallback,n,s),c=[...e,...a],d=new Set;d.add(s);let h=k_(d,c,n,o||n,s);return h===null||typeof o!="undefined"&&o!==n&&(h=k_(d,c,o,h,s),h===null)?!1:Py(Array.from(d),[""],a,o,()=>pz(t,n,s))}function k_(e,t,n,s,a){for(;n;)n=mz(e,t,n,s,a);return n}function pz(e,t,n){const s=e._getTarget();t in s||(s[t]={});const a=s[t];return us(a)&&sn(n)?n:a||{}}function gz(e,t,n,s){let a;for(const o of t)if(a=IT(cz(o,e),n),typeof a!="undefined")return Ly(e,a)?zy(n,s,e,a):a}function IT(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s!="undefined")return s}}function C_(e){let t=e._keys;return t||(t=e._keys=xz(e._scopes)),t}function xz(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(a=>!a.startsWith("_")))t.add(s);return Array.from(t)}function Uy(){return typeof window!="undefined"&&typeof document!="undefined"}function By(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Zh(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const jm=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function yz(e,t){return jm(e).getPropertyValue(t)}const bz=["top","right","bottom","left"];function Lo(e,t,n){const s={};n=n?"-"+n:"";for(let a=0;a<4;a++){const o=bz[a];s[o]=parseFloat(e[t+"-"+o+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const vz=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function wz(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:a,offsetY:o}=s;let c=!1,d,h;if(vz(a,o,e.target))d=a,h=o;else{const f=t.getBoundingClientRect();d=s.clientX-f.left,h=s.clientY-f.top,c=!0}return{x:d,y:h,box:c}}function To(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,a=jm(n),o=a.boxSizing==="border-box",c=Lo(a,"padding"),d=Lo(a,"border","width"),{x:h,y:f,box:p}=wz(e,n),g=c.left+(p&&d.left),x=c.top+(p&&d.top);let{width:b,height:j}=t;return o&&(b-=c.width+d.width,j-=c.height+d.height),{x:Math.round((h-g)/b*n.width/s),y:Math.round((f-x)/j*n.height/s)}}function jz(e,t,n){let s,a;if(t===void 0||n===void 0){const o=e&&By(e);if(!o)t=e.clientWidth,n=e.clientHeight;else{const c=o.getBoundingClientRect(),d=jm(o),h=Lo(d,"border","width"),f=Lo(d,"padding");t=c.width-f.width-h.width,n=c.height-f.height-h.height,s=Zh(d.maxWidth,o,"clientWidth"),a=Zh(d.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:s||Xh,maxHeight:a||Xh}}const th=e=>Math.round(e*10)/10;function _z(e,t,n,s){const a=jm(e),o=Lo(a,"margin"),c=Zh(a.maxWidth,e,"clientWidth")||Xh,d=Zh(a.maxHeight,e,"clientHeight")||Xh,h=jz(e,t,n);let{width:f,height:p}=h;if(a.boxSizing==="content-box"){const x=Lo(a,"border","width"),b=Lo(a,"padding");f-=b.width+x.width,p-=b.height+x.height}return f=Math.max(0,f-o.width),p=Math.max(0,s?f/s:p-o.height),f=th(Math.min(f,c,h.maxWidth)),p=th(Math.min(p,d,h.maxHeight)),f&&!p&&(p=th(f/2)),(t!==void 0||n!==void 0)&&s&&h.height&&p>h.height&&(p=h.height,f=th(Math.floor(p*s))),{width:f,height:p}}function D_(e,t,n){const s=t||1,a=Math.floor(e.height*s),o=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const c=e.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${e.height}px`,c.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||c.height!==a||c.width!==o?(e.currentDevicePixelRatio=s,c.height=a,c.width=o,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const Nz=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Uy()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function O_(e,t){const n=yz(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const Sz=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},Tz=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Jl(e,t,n){return e?Sz(t,n):Tz()}function qT(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function WT(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function nh(e,t,n){return e.options.clip?e[n]:t[n]}function Ez(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:nh(n,t,"left"),right:nh(n,t,"right"),top:nh(s,t,"top"),bottom:nh(s,t,"bottom")}:t}function kz(e,t){const n=t._clip;if(n.disabled)return!1;const s=Ez(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Cz{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,a){const o=n.listeners[a],c=n.duration;o.forEach(d=>d({chart:t,initial:n.initial,numSteps:c,currentStep:Math.min(s-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=RT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const o=s.items;let c=o.length-1,d=!1,h;for(;c>=0;--c)h=o[c],h._active?(h._total>s.duration&&(s.duration=h._total),h.tick(t),d=!0):(o[c]=o[o.length-1],o.pop());d&&(a.draw(),this._notify(a,s,t,"progress")),o.length||(s.running=!1,this._notify(a,s,t,"complete"),s.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ha=new Cz;const A_="transparent",Dz={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=__(e||A_),a=s.valid&&__(t||A_);return a&&a.valid?a.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class Oz{constructor(t,n,s,a){const o=n[s];a=eh([t.to,a,o,t.from]);const c=eh([t.from,o,a]);this._active=!0,this._fn=t.fn||Dz[t.type||typeof c],this._easing=Fu[t.easing]||Fu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const a=this._target[this._prop],o=s-this._start,c=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=eh([t.to,n,a,t.from]),this._from=eh([t.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,a=this._prop,o=this._from,c=this._loop,d=this._to;let h;if(this._active=o!==d&&(c||n<s),!this._active){this._target[a]=d,this._notify(!0);return}if(n<0){this._target[a]=o;return}h=n/s%2,h=c&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[a]=this._fn(o,d,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][n]()}}class YT{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!sn(t))return;const n=Object.keys(Hn.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!sn(o))return;const c={};for(const d of n)c[d]=o[d];(us(o.properties)&&o.properties||[a]).forEach(d=>{(d===a||!s.has(d))&&s.set(d,c)})})}_animateOptions(t,n){const s=n.options,a=Rz(t,s);if(!a)return[];const o=this._createAnimations(a,s);return s.$shared&&Az(t.options.$animations,s).then(()=>{t.options=s},()=>{}),o}_createAnimations(t,n){const s=this._properties,a=[],o=t.$animations||(t.$animations={}),c=Object.keys(n),d=Date.now();let h;for(h=c.length-1;h>=0;--h){const f=c[h];if(f.charAt(0)==="$")continue;if(f==="options"){a.push(...this._animateOptions(t,n));continue}const p=n[f];let g=o[f];const x=s.get(f);if(g)if(x&&g.active()){g.update(x,p,d);continue}else g.cancel();if(!x||!x.duration){t[f]=p;continue}o[f]=g=new Oz(x,t,f,p),a.push(g)}return a}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return Ha.add(this._chart,s),!0}}function Az(e,t){const n=[],s=Object.keys(t);for(let a=0;a<s.length;a++){const o=e[s[a]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function Rz(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function R_(e,t){const n=e&&e.options||{},s=n.reverse,a=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:s?o:a,end:s?a:o}}function Mz(e,t,n){if(n===!1)return!1;const s=R_(e,n),a=R_(t,n);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function Pz(e){let t,n,s,a;return sn(e)?(t=e.top,n=e.right,s=e.bottom,a=e.left):t=n=s=a=e,{top:t,right:n,bottom:s,left:a,disabled:e===!1}}function XT(e,t){const n=[],s=e._getSortedDatasetMetas(t);let a,o;for(a=0,o=s.length;a<o;++a)n.push(s[a].index);return n}function M_(e,t,n,s={}){const a=e.keys,o=s.mode==="single";let c,d,h,f;if(t===null)return;let p=!1;for(c=0,d=a.length;c<d;++c){if(h=+a[c],h===n){if(p=!0,s.all)continue;break}f=e.values[h],Dr(f)&&(o||t===0||Gh(t)===Gh(f))&&(t+=f)}return!p&&!s.all?0:t}function Lz(e,t){const{iScale:n,vScale:s}=t,a=n.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",c=Object.keys(e),d=new Array(c.length);let h,f,p;for(h=0,f=c.length;h<f;++h)p=c[h],d[h]={[a]:p,[o]:e[p]};return d}function d0(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function zz(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function Uz(e){const{min:t,max:n,minDefined:s,maxDefined:a}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function Bz(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function P_(e,t,n,s){for(const a of t.getMatchingVisibleMetas(s).reverse()){const o=e[a.index];if(n&&o>0||!n&&o<0)return a.index}return null}function L_(e,t){const{chart:n,_cachedMeta:s}=e,a=n._stacks||(n._stacks={}),{iScale:o,vScale:c,index:d}=s,h=o.axis,f=c.axis,p=zz(o,c,s),g=t.length;let x;for(let b=0;b<g;++b){const j=t[b],{[h]:v,[f]:S}=j,N=j._stacks||(j._stacks={});x=N[f]=Bz(a,p,v),x[d]=S,x._top=P_(x,c,!0,s.type),x._bottom=P_(x,c,!1,s.type);const A=x._visualValues||(x._visualValues={});A[d]=S}}function f0(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function Fz(e,t){return pc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function $z(e,t,n){return pc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function ju(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const a of t){const o=a._stacks;if(!o||o[s]===void 0||o[s][n]===void 0)return;delete o[s][n],o[s]._visualValues!==void 0&&o[s]._visualValues[n]!==void 0&&delete o[s]._visualValues[n]}}}const h0=e=>e==="reset"||e==="none",z_=(e,t)=>t?e:Object.assign({},e),Hz=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:XT(n,!0),values:null};class Ch{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=d0(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ju(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),a=(g,x,b,j)=>g==="x"?x:g==="r"?j:b,o=n.xAxisID=dn(s.xAxisID,f0(t,"x")),c=n.yAxisID=dn(s.yAxisID,f0(t,"y")),d=n.rAxisID=dn(s.rAxisID,f0(t,"r")),h=n.indexAxis,f=n.iAxisID=a(h,o,c,d),p=n.vAxisID=a(h,c,o,d);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&v_(this._data,this),t._stacked&&ju(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(sn(n)){const a=this._cachedMeta;this._data=Lz(n,a)}else if(s!==n){if(s){v_(s,this);const a=this._cachedMeta;ju(a),a._parsed=[]}n&&Object.isExtensible(n)&&$8(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const o=n._stacked;n._stacked=d0(n.vScale,n),n.stack!==s.stack&&(a=!0,ju(n),n.stack=s.stack),this._resyncElements(t),(a||o!==n._stacked)&&(L_(this,n._parsed),n._stacked=d0(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:a}=this,{iScale:o,_stacked:c}=s,d=o.axis;let h=t===0&&n===a.length?!0:s._sorted,f=t>0&&s._parsed[t-1],p,g,x;if(this._parsing===!1)s._parsed=a,s._sorted=!0,x=a;else{us(a[t])?x=this.parseArrayData(s,a,t,n):sn(a[t])?x=this.parseObjectData(s,a,t,n):x=this.parsePrimitiveData(s,a,t,n);const b=()=>g[d]===null||f&&g[d]<f[d];for(p=0;p<n;++p)s._parsed[p+t]=g=x[p],h&&(b()&&(h=!1),f=g);s._sorted=h}c&&L_(this,x)}parsePrimitiveData(t,n,s,a){const{iScale:o,vScale:c}=t,d=o.axis,h=c.axis,f=o.getLabels(),p=o===c,g=new Array(a);let x,b,j;for(x=0,b=a;x<b;++x)j=x+s,g[x]={[d]:p||o.parse(f[j],j),[h]:c.parse(n[j],j)};return g}parseArrayData(t,n,s,a){const{xScale:o,yScale:c}=t,d=new Array(a);let h,f,p,g;for(h=0,f=a;h<f;++h)p=h+s,g=n[p],d[h]={x:o.parse(g[0],p),y:c.parse(g[1],p)};return d}parseObjectData(t,n,s,a){const{xScale:o,yScale:c}=t,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,f=new Array(a);let p,g,x,b;for(p=0,g=a;p<g;++p)x=p+s,b=n[x],f[p]={x:o.parse(Wh(b,d),x),y:c.parse(Wh(b,h),x)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const a=this.chart,o=this._cachedMeta,c=n[t.axis],d={keys:XT(a,!0),values:n._stacks[t.axis]._visualValues};return M_(d,c,o.index,{mode:s})}updateRangeFromParsed(t,n,s,a){const o=s[n.axis];let c=o===null?NaN:o;const d=a&&s._stacks[n.axis];a&&d&&(a.values=d,c=M_(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,n){const s=this._cachedMeta,a=s._parsed,o=s._sorted&&t===s.iScale,c=a.length,d=this._getOtherScale(t),h=Hz(n,s,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=Uz(d);let x,b;function j(){b=a[x];const v=b[d.axis];return!Dr(b[t.axis])||p>v||g<v}for(x=0;x<c&&!(!j()&&(this.updateRangeFromParsed(f,t,b,h),o));++x);if(o){for(x=c-1;x>=0;--x)if(!j()){this.updateRangeFromParsed(f,t,b,h);break}}return f}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let a,o,c;for(a=0,o=n.length;a<o;++a)c=n[a][t.axis],Dr(c)&&s.push(c);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,a=n.vScale,o=this.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=Pz(dn(this.options.clip,Mz(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,a=s.data||[],o=n.chartArea,c=[],d=this._drawStart||0,h=this._drawCount||a.length-d,f=this.options.drawActiveElementsOnTop;let p;for(s.dataset&&s.dataset.draw(t,o,d,h),p=d;p<d+h;++p){const g=a[p];g.hidden||(g.active&&f?c.push(g):g.draw(t,o))}for(p=0;p<c.length;++p)c[p].draw(t,o)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=$z(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=Fz(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const a=n==="active",o=this._cachedDataOpts,c=t+"-"+n,d=o[c],h=this.enableOptionSharing&&Yh(s);if(d)return z_(d,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),g=a?[`${t}Hover`,"hover",t,""]:[t,""],x=f.getOptionScopes(this.getDataset(),p),b=Object.keys(Hn.elements[t]),j=()=>this.getContext(s,a,n),v=f.resolveNamedOptions(x,b,j,g);return v.$shared&&(v.$shared=h,o[c]=Object.freeze(z_(v,h))),v}_resolveAnimations(t,n,s){const a=this.chart,o=this._cachedDataOpts,c=`animation-${n}`,d=o[c];if(d)return d;let h;if(a.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,n),x=p.getOptionScopes(this.getDataset(),g);h=p.createResolver(x,this.getContext(t,s,n))}const f=new YT(a,h&&h.animations);return h&&h._cacheable&&(o[c]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||h0(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),a=this._sharedOptions,o=this.getSharedOptions(s),c=this.includeOptions(n,o)||o!==a;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:c}}updateElement(t,n,s,a){h0(a)?Object.assign(t,s):this._resolveAnimations(n,a).update(t,s)}updateSharedOptions(t,n,s){t&&!h0(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,a){t.active=a;const o=this.getStyle(n,a);this._resolveAnimations(n,s,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[d,h,f]of this._syncList)this[d](h,f);this._syncList=[];const a=s.length,o=n.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,n,s=!0){const a=this._cachedMeta,o=a.data,c=t+n;let d;const h=f=>{for(f.length+=n,d=f.length-1;d>=c;d--)f[d]=f[d-n]};for(h(o),d=t;d<c;++d)o[d]=new this.dataElementType;this._parsing&&h(a._parsed),this.parse(t,n),s&&this.updateElements(o,t,n,"reset")}updateElements(t,n,s,a){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(t,n);s._stacked&&ju(s,a)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,a]=t;this[n](s,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Et(Ch,"defaults",{}),Et(Ch,"datasetElementType",null),Et(Ch,"dataElementType",null);function No(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Fy{constructor(t){Et(this,"options");this.options=t||{}}static override(t){Object.assign(Fy.prototype,t)}init(){}formats(){return No()}parse(){return No()}format(){return No()}add(){return No()}diff(){return No()}startOf(){return No()}endOf(){return No()}}var Vz={_date:Fy};function Iz(e,t,n,s){const{controller:a,data:o,_sorted:c}=e,d=a._cachedMeta.iScale,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(d&&t===d.axis&&t!=="r"&&c&&o.length){const f=d._reversePixels?B8:dx;if(s){if(a._sharedOptions){const p=o[0],g=typeof p.getRange=="function"&&p.getRange(t);if(g){const x=f(o,t,n-g),b=f(o,t,n+g);return{lo:x.lo,hi:b.hi}}}}else{const p=f(o,t,n);if(h){const{vScale:g}=a._cachedMeta,{_parsed:x}=e,b=x.slice(0,p.lo+1).reverse().findIndex(v=>!On(v[g.axis]));p.lo-=Math.max(0,b);const j=x.slice(p.hi).findIndex(v=>!On(v[g.axis]));p.hi+=Math.max(0,j)}return p}}return{lo:0,hi:o.length-1}}function _m(e,t,n,s,a){const o=e.getSortedVisibleDatasetMetas(),c=n[t];for(let d=0,h=o.length;d<h;++d){const{index:f,data:p}=o[d],{lo:g,hi:x}=Iz(o[d],t,c,a);for(let b=g;b<=x;++b){const j=p[b];j.skip||s(j,f,b)}}}function qz(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,a){const o=t?Math.abs(s.x-a.x):0,c=n?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function m0(e,t,n,s,a){const o=[];return!a&&!e.isPointInArea(t)||_m(e,n,t,function(d,h,f){!a&&!BT(d,e.chartArea,0)||d.inRange(t.x,t.y,s)&&o.push({element:d,datasetIndex:h,index:f})},!0),o}function Wz(e,t,n,s){let a=[];function o(c,d,h){const{startAngle:f,endAngle:p}=c.getProps(["startAngle","endAngle"],s),{angle:g}=DT(c,{x:t.x,y:t.y});OT(g,f,p)&&a.push({element:c,datasetIndex:d,index:h})}return _m(e,n,t,o),a}function Yz(e,t,n,s,a,o){let c=[];const d=qz(n);let h=Number.POSITIVE_INFINITY;function f(p,g,x){const b=p.inRange(t.x,t.y,a);if(s&&!b)return;const j=p.getCenterPoint(a);if(!(!!o||e.isPointInArea(j))&&!b)return;const S=d(t,j);S<h?(c=[{element:p,datasetIndex:g,index:x}],h=S):S===h&&c.push({element:p,datasetIndex:g,index:x})}return _m(e,n,t,f),c}function p0(e,t,n,s,a,o){return!o&&!e.isPointInArea(t)?[]:n==="r"&&!s?Wz(e,t,n,a):Yz(e,t,n,s,a,o)}function U_(e,t,n,s,a){const o=[],c=n==="x"?"inXRange":"inYRange";let d=!1;return _m(e,n,t,(h,f,p)=>{h[c]&&h[c](t[n],a)&&(o.push({element:h,datasetIndex:f,index:p}),d=d||h.inRange(t.x,t.y,a))}),s&&!d?[]:o}var Xz={modes:{index(e,t,n,s){const a=To(t,e),o=n.axis||"x",c=n.includeInvisible||!1,d=n.intersect?m0(e,a,o,s,c):p0(e,a,o,!1,s,c),h=[];return d.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const p=d[0].index,g=f.data[p];g&&!g.skip&&h.push({element:g,datasetIndex:f.index,index:p})}),h):[]},dataset(e,t,n,s){const a=To(t,e),o=n.axis||"xy",c=n.includeInvisible||!1;let d=n.intersect?m0(e,a,o,s,c):p0(e,a,o,!1,s,c);if(d.length>0){const h=d[0].datasetIndex,f=e.getDatasetMeta(h).data;d=[];for(let p=0;p<f.length;++p)d.push({element:f[p],datasetIndex:h,index:p})}return d},point(e,t,n,s){const a=To(t,e),o=n.axis||"xy",c=n.includeInvisible||!1;return m0(e,a,o,s,c)},nearest(e,t,n,s){const a=To(t,e),o=n.axis||"xy",c=n.includeInvisible||!1;return p0(e,a,o,n.intersect,s,c)},x(e,t,n,s){const a=To(t,e);return U_(e,a,"x",n.intersect,s)},y(e,t,n,s){const a=To(t,e);return U_(e,a,"y",n.intersect,s)}}};const GT=["left","top","right","bottom"];function _u(e,t){return e.filter(n=>n.pos===t)}function B_(e,t){return e.filter(n=>GT.indexOf(n.pos)===-1&&n.box.axis===t)}function Nu(e,t){return e.sort((n,s)=>{const a=t?s:n,o=t?n:s;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function Gz(e){const t=[];let n,s,a,o,c,d;for(n=0,s=(e||[]).length;n<s;++n)a=e[n],{position:o,options:{stack:c,stackWeight:d=1}}=a,t.push({index:n,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:d});return t}function Kz(e){const t={};for(const n of e){const{stack:s,pos:a,stackWeight:o}=n;if(!s||!GT.includes(a))continue;const c=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function Qz(e,t){const n=Kz(e),{vBoxMaxWidth:s,hBoxMaxHeight:a}=t;let o,c,d;for(o=0,c=e.length;o<c;++o){d=e[o];const{fullSize:h}=d.box,f=n[d.stack],p=f&&d.stackWeight/f.weight;d.horizontal?(d.width=p?p*s:h&&t.availableWidth,d.height=a):(d.width=s,d.height=p?p*a:h&&t.availableHeight)}return n}function Zz(e){const t=Gz(e),n=Nu(t.filter(f=>f.box.fullSize),!0),s=Nu(_u(t,"left"),!0),a=Nu(_u(t,"right")),o=Nu(_u(t,"top"),!0),c=Nu(_u(t,"bottom")),d=B_(t,"x"),h=B_(t,"y");return{fullSize:n,leftAndTop:s.concat(o),rightAndBottom:a.concat(h).concat(c).concat(d),chartArea:_u(t,"chartArea"),vertical:s.concat(a).concat(h),horizontal:o.concat(c).concat(d)}}function F_(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function KT(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Jz(e,t,n,s){const{pos:a,box:o}=n,c=e.maxPadding;if(!sn(a)){n.size&&(e[a]-=n.size);const g=s[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?o.height:o.width),n.size=g.size/g.count,e[a]+=n.size}o.getPadding&&KT(c,o.getPadding());const d=Math.max(0,t.outerWidth-F_(c,e,"left","right")),h=Math.max(0,t.outerHeight-F_(c,e,"top","bottom")),f=d!==e.w,p=h!==e.h;return e.w=d,e.h=h,n.horizontal?{same:f,other:p}:{same:p,other:f}}function eU(e){const t=e.maxPadding;function n(s){const a=Math.max(t[s]-e[s],0);return e[s]+=a,a}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function tU(e,t){const n=t.maxPadding;function s(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(t[c],n[c])}),o}return s(e?["left","right"]:["top","bottom"])}function Lu(e,t,n,s){const a=[];let o,c,d,h,f,p;for(o=0,c=e.length,f=0;o<c;++o){d=e[o],h=d.box,h.update(d.width||t.w,d.height||t.h,tU(d.horizontal,t));const{same:g,other:x}=Jz(t,n,d,s);f|=g&&a.length,p=p||x,h.fullSize||a.push(d)}return f&&Lu(a,t,n,s)||p}function sh(e,t,n,s,a){e.top=n,e.left=t,e.right=t+s,e.bottom=n+a,e.width=s,e.height=a}function $_(e,t,n,s){const a=n.padding;let{x:o,y:c}=t;for(const d of e){const h=d.box,f=s[d.stack]||{placed:0,weight:1},p=d.stackWeight/f.weight||1;if(d.horizontal){const g=t.w*p,x=f.size||h.height;Yh(f.start)&&(c=f.start),h.fullSize?sh(h,a.left,c,n.outerWidth-a.right-a.left,x):sh(h,t.left+f.placed,c,g,x),f.start=c,f.placed+=g,c=h.bottom}else{const g=t.h*p,x=f.size||h.width;Yh(f.start)&&(o=f.start),h.fullSize?sh(h,o,a.top,x,n.outerHeight-a.bottom-a.top):sh(h,o,t.top+f.placed,x,g),f.start=o,f.placed+=g,o=h.right}}t.x=o,t.y=c}var Er={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const a=Or(e.options.layout.padding),o=Math.max(t-a.width,0),c=Math.max(n-a.height,0),d=Zz(e.boxes),h=d.vertical,f=d.horizontal;un(e.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const p=h.reduce((v,S)=>S.box.options&&S.box.options.display===!1?v:v+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/p,hBoxMaxHeight:c/2}),x=Object.assign({},a);KT(x,Or(s));const b=Object.assign({maxPadding:x,w:o,h:c,x:a.left,y:a.top},a),j=Qz(h.concat(f),g);Lu(d.fullSize,b,g,j),Lu(h,b,g,j),Lu(f,b,g,j)&&Lu(h,b,g,j),eU(b),$_(d.leftAndTop,b,g,j),b.x+=b.w,b.y+=b.h,$_(d.rightAndBottom,b,g,j),e.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},un(d.chartArea,v=>{const S=v.box;Object.assign(S,e.chartArea),S.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class QT{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,a){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,a?Math.floor(n/a):s)}}isAttached(t){return!0}updateConfig(t){}}class nU extends QT{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Dh="$chartjs",sU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},H_=e=>e===null||e==="";function rU(e,t){const n=e.style,s=e.getAttribute("height"),a=e.getAttribute("width");if(e[Dh]={initial:{height:s,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",H_(a)){const o=O_(e,"width");o!==void 0&&(e.width=o)}if(H_(s))if(e.style.height==="")e.height=e.width/(t||2);else{const o=O_(e,"height");o!==void 0&&(e.height=o)}return e}const ZT=Nz?{passive:!0}:!1;function aU(e,t,n){e&&e.addEventListener(t,n,ZT)}function iU(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,ZT)}function oU(e,t){const n=sU[e.type]||e.type,{x:s,y:a}=To(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:a!==void 0?a:null}}function Jh(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function lU(e,t,n){const s=e.canvas,a=new MutationObserver(o=>{let c=!1;for(const d of o)c=c||Jh(d.addedNodes,s),c=c&&!Jh(d.removedNodes,s);c&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function cU(e,t,n){const s=e.canvas,a=new MutationObserver(o=>{let c=!1;for(const d of o)c=c||Jh(d.removedNodes,s),c=c&&!Jh(d.addedNodes,s);c&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const nd=new Map;let V_=0;function JT(){const e=window.devicePixelRatio;e!==V_&&(V_=e,nd.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function uU(e,t){nd.size||window.addEventListener("resize",JT),nd.set(e,t)}function dU(e){nd.delete(e),nd.size||window.removeEventListener("resize",JT)}function fU(e,t,n){const s=e.canvas,a=s&&By(s);if(!a)return;const o=MT((d,h)=>{const f=a.clientWidth;n(d,h),f<a.clientWidth&&n()},window),c=new ResizeObserver(d=>{const h=d[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||o(f,p)});return c.observe(a),uU(e,o),c}function g0(e,t,n){n&&n.disconnect(),t==="resize"&&dU(e)}function hU(e,t,n){const s=e.canvas,a=MT(o=>{e.ctx!==null&&n(oU(o,e))},e);return aU(s,t,a),a}class mU extends QT{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(rU(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[Dh])return!1;const s=n[Dh].initial;["height","width"].forEach(o=>{const c=s[o];On(c)?n.removeAttribute(o):n.setAttribute(o,c)});const a=s.style||{};return Object.keys(a).forEach(o=>{n.style[o]=a[o]}),n.width=n.width,delete n[Dh],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const a=t.$proxies||(t.$proxies={}),c={attach:lU,detach:cU,resize:fU}[n]||hU;a[n]=c(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),a=s[n];if(!a)return;({attach:g0,detach:g0,resize:g0}[n]||iU)(t,n,a),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,a){return _z(t,n,s,a)}isAttached(t){const n=t&&By(t);return!!(n&&n.isConnected)}}function pU(e){return!Uy()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?nU:mU}var ph;let Xo=(ph=class{constructor(){Et(this,"x");Et(this,"y");Et(this,"active",!1);Et(this,"options");Et(this,"$animations")}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return Kh(this.x)&&Kh(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const a={};return t.forEach(o=>{a[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),a}},Et(ph,"defaults",{}),Et(ph,"defaultRoutes"),ph);function gU(e,t){const n=e.options.ticks,s=xU(e),a=Math.min(n.maxTicksLimit||s,s),o=n.major.enabled?bU(t):[],c=o.length,d=o[0],h=o[c-1],f=[];if(c>a)return vU(t,f,o,c/a),f;const p=yU(o,t,a);if(c>0){let g,x;const b=c>1?Math.round((h-d)/(c-1)):null;for(rh(t,f,p,On(b)?0:d-b,d),g=0,x=c-1;g<x;g++)rh(t,f,p,o[g],o[g+1]);return rh(t,f,p,h,On(b)?t.length:h+b),f}return rh(t,f,p),f}function xU(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),a=e._maxLength/n;return Math.floor(Math.min(s,a))}function yU(e,t,n){const s=wU(e),a=t.length/n;if(!s)return Math.max(a,1);const o=A8(s);for(let c=0,d=o.length-1;c<d;c++){const h=o[c];if(h>a)return h}return Math.max(a,1)}function bU(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function vU(e,t,n,s){let a=0,o=n[0],c;for(s=Math.ceil(s),c=0;c<e.length;c++)c===o&&(t.push(e[c]),a++,o=n[a*s])}function rh(e,t,n,s,a){const o=dn(s,0),c=Math.min(dn(a,e.length),e.length);let d=0,h,f,p;for(n=Math.ceil(n),a&&(h=a-s,n=h/Math.floor(h/n)),p=o;p<0;)d++,p=Math.round(o+d*n);for(f=Math.max(o,0);f<c;f++)f===p&&(t.push(e[f]),d++,p=Math.round(o+d*n))}function wU(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const jU=e=>e==="left"?"right":e==="right"?"left":e,I_=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,q_=(e,t)=>Math.min(t||e,e);function W_(e,t){const n=[],s=e.length/t,a=e.length;let o=0;for(;o<a;o+=s)n.push(e[Math.floor(o)]);return n}function _U(e,t,n){const s=e.ticks.length,a=Math.min(t,s-1),o=e._startPixel,c=e._endPixel,d=1e-6;let h=e.getPixelForTick(a),f;if(!(n&&(s===1?f=Math.max(h-o,c-h):t===0?f=(e.getPixelForTick(1)-h)/2:f=(h-e.getPixelForTick(a-1))/2,h+=a<t?f:-f,h<o-d||h>c+d)))return h}function NU(e,t){un(e,n=>{const s=n.gc,a=s.length/2;let o;if(a>t){for(o=0;o<a;++o)delete n.data[s[o]];s.splice(0,a)}})}function Su(e){return e.drawTicks?e.tickLength:0}function Y_(e,t){if(!e.display)return 0;const n=Es(e.font,t),s=Or(e.padding);return(us(e.text)?e.text.length:1)*n.lineHeight+s.height}function SU(e,t){return pc(e,{scale:t,type:"scale"})}function TU(e,t,n){return pc(e,{tick:n,index:t,type:"tick"})}function EU(e,t,n){let s=Oy(e);return(n&&t!=="right"||!n&&t==="right")&&(s=jU(s)),s}function kU(e,t,n,s){const{top:a,left:o,bottom:c,right:d,chart:h}=e,{chartArea:f,scales:p}=h;let g=0,x,b,j;const v=c-a,S=d-o;if(e.isHorizontal()){if(b=Ss(s,o,d),sn(n)){const N=Object.keys(n)[0],A=n[N];j=p[N].getPixelForValue(A)+v-t}else n==="center"?j=(f.bottom+f.top)/2+v-t:j=I_(e,n,t);x=d-o}else{if(sn(n)){const N=Object.keys(n)[0],A=n[N];b=p[N].getPixelForValue(A)-S+t}else n==="center"?b=(f.left+f.right)/2-S+t:b=I_(e,n,t);j=Ss(s,c,a),g=n==="left"?-gs:gs}return{titleX:b,titleY:j,maxWidth:x,rotation:g}}class gc extends Xo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:a}=this;return t=aa(t,Number.POSITIVE_INFINITY),n=aa(n,Number.NEGATIVE_INFINITY),s=aa(s,Number.POSITIVE_INFINITY),a=aa(a,Number.NEGATIVE_INFINITY),{min:aa(t,s),max:aa(n,a),minDefined:Dr(t),maxDefined:Dr(n)}}getMinMax(t){let{min:n,max:s,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:n,max:s};const d=this.getMatchingVisibleMetas();for(let h=0,f=d.length;h<f;++h)c=d[h].controller.getMinMax(this,t),a||(n=Math.min(n,c.min)),o||(s=Math.max(s,c.max));return n=o&&n>s?s:n,s=a&&n>s?n:s,{min:aa(n,aa(s,n)),max:aa(s,aa(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){_n(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:a,grace:o,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=lz(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=d<this.ticks.length;this._convertTicksToLabels(h?W_(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=gU(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){_n(this.options.afterUpdate,[this])}beforeSetDimensions(){_n(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){_n(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),_n(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){_n(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,a,o;for(s=0,a=t.length;s<a;s++)o=t[s],o.label=_n(n.callback,[o.value,s,t],this)}afterTickToLabelConversion(){_n(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){_n(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=q_(this.ticks.length,t.ticks.maxTicksLimit),a=n.minRotation||0,o=n.maxRotation;let c=a,d,h,f;if(!this._isVisible()||!n.display||a>=o||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const p=this._getLabelSizes(),g=p.widest.width,x=p.highest.height,b=Xs(this.chart.width-g,0,this.maxWidth);d=t.offset?this.maxWidth/s:b/(s-1),g+6>d&&(d=b/(s-(t.offset?.5:1)),h=this.maxHeight-Su(t.grid)-n.padding-Y_(t.title,this.chart.options.font),f=Math.sqrt(g*g+x*x),c=L8(Math.min(Math.asin(Xs((p.highest.height+6)/d,-1,1)),Math.asin(Xs(h/f,-1,1))-Math.asin(Xs(x/f,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){_n(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){_n(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:a,grid:o}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const h=Y_(a,n.options.font);if(d?(t.width=this.maxWidth,t.height=Su(o)+h):(t.height=this.maxHeight,t.width=Su(o)+h),s.display&&this.ticks.length){const{first:f,last:p,widest:g,highest:x}=this._getLabelSizes(),b=s.padding*2,j=Ro(this.labelRotation),v=Math.cos(j),S=Math.sin(j);if(d){const N=s.mirror?0:S*g.width+v*x.height;t.height=Math.min(this.maxHeight,t.height+N+b)}else{const N=s.mirror?0:v*g.width+S*x.height;t.width=Math.min(this.maxWidth,t.width+N+b)}this._calculatePadding(f,p,S,v)}}this._handleMargins(),d?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,a){const{ticks:{align:o,padding:c},position:d}=this.options,h=this.labelRotation!==0,f=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,b=0;h?f?(x=a*t.width,b=s*n.height):(x=s*t.height,b=a*n.width):o==="start"?b=n.width:o==="end"?x=t.width:o!=="inner"&&(x=t.width/2,b=n.width/2),this.paddingLeft=Math.max((x-p+c)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-g+c)*this.width/(this.width-g),0)}else{let p=n.height/2,g=t.height/2;o==="start"?(p=0,g=t.height):o==="end"&&(p=n.height,g=0),this.paddingTop=p+c,this.paddingBottom=g+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){_n(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)On(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=W_(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:a,_longestTextCache:o}=this,c=[],d=[],h=Math.floor(n/q_(n,s));let f=0,p=0,g,x,b,j,v,S,N,A,E,T,D;for(g=0;g<n;g+=h){if(j=t[g].label,v=this._resolveTickFontOptions(g),a.font=S=v.string,N=o[S]=o[S]||{data:{},gc:[]},A=v.lineHeight,E=T=0,!On(j)&&!us(j))E=S_(a,N.data,N.gc,E,j),T=A;else if(us(j))for(x=0,b=j.length;x<b;++x)D=j[x],!On(D)&&!us(D)&&(E=S_(a,N.data,N.gc,E,D),T+=A);c.push(E),d.push(T),f=Math.max(E,f),p=Math.max(T,p)}NU(o,n);const C=c.indexOf(f),z=d.indexOf(p),U=R=>({width:c[R]||0,height:d[R]||0});return{first:U(0),last:U(n-1),widest:U(C),highest:U(z),widths:c,heights:d}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return U8(this._alignToPixels?_o(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=TU(this.getContext(),t,s))}return this.$context||(this.$context=SU(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Ro(this.labelRotation),s=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,d=o?o.widest.width+c:0,h=o?o.highest.height+c:0;return this.isHorizontal()?h*s>d*a?d/s:h/a:h*a<d*s?h/s:d/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,a=this.options,{grid:o,position:c,border:d}=a,h=o.offset,f=this.isHorizontal(),g=this.ticks.length+(h?1:0),x=Su(o),b=[],j=d.setContext(this.getContext()),v=j.display?j.width:0,S=v/2,N=function(F){return _o(s,F,v)};let A,E,T,D,C,z,U,R,G,q,Q,W;if(c==="top")A=N(this.bottom),z=this.bottom-x,R=A-S,q=N(t.top)+S,W=t.bottom;else if(c==="bottom")A=N(this.top),q=t.top,W=N(t.bottom)-S,z=A+S,R=this.top+x;else if(c==="left")A=N(this.right),C=this.right-x,U=A-S,G=N(t.left)+S,Q=t.right;else if(c==="right")A=N(this.left),G=t.left,Q=N(t.right)-S,C=A+S,U=this.left+x;else if(n==="x"){if(c==="center")A=N((t.top+t.bottom)/2+.5);else if(sn(c)){const F=Object.keys(c)[0],Z=c[F];A=N(this.chart.scales[F].getPixelForValue(Z))}q=t.top,W=t.bottom,z=A+S,R=z+x}else if(n==="y"){if(c==="center")A=N((t.left+t.right)/2);else if(sn(c)){const F=Object.keys(c)[0],Z=c[F];A=N(this.chart.scales[F].getPixelForValue(Z))}C=A-S,U=C-x,G=t.left,Q=t.right}const Y=dn(a.ticks.maxTicksLimit,g),H=Math.max(1,Math.ceil(g/Y));for(E=0;E<g;E+=H){const F=this.getContext(E),Z=o.setContext(F),ee=d.setContext(F),ce=Z.lineWidth,M=Z.color,ie=ee.dash||[],se=ee.dashOffset,V=Z.tickWidth,ne=Z.tickColor,ge=Z.tickBorderDash||[],he=Z.tickBorderDashOffset;T=_U(this,E,h),T!==void 0&&(D=_o(s,T,ce),f?C=U=G=Q=D:z=R=q=W=D,b.push({tx1:C,ty1:z,tx2:U,ty2:R,x1:G,y1:q,x2:Q,y2:W,width:ce,color:M,borderDash:ie,borderDashOffset:se,tickWidth:V,tickColor:ne,tickBorderDash:ge,tickBorderDashOffset:he}))}return this._ticksLength=g,this._borderValue=A,b}_computeLabelItems(t){const n=this.axis,s=this.options,{position:a,ticks:o}=s,c=this.isHorizontal(),d=this.ticks,{align:h,crossAlign:f,padding:p,mirror:g}=o,x=Su(s.grid),b=x+p,j=g?-p:b,v=-Ro(this.labelRotation),S=[];let N,A,E,T,D,C,z,U,R,G,q,Q,W="middle";if(a==="top")C=this.bottom-j,z=this._getXAxisLabelAlignment();else if(a==="bottom")C=this.top+j,z=this._getXAxisLabelAlignment();else if(a==="left"){const H=this._getYAxisLabelAlignment(x);z=H.textAlign,D=H.x}else if(a==="right"){const H=this._getYAxisLabelAlignment(x);z=H.textAlign,D=H.x}else if(n==="x"){if(a==="center")C=(t.top+t.bottom)/2+b;else if(sn(a)){const H=Object.keys(a)[0],F=a[H];C=this.chart.scales[H].getPixelForValue(F)+b}z=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")D=(t.left+t.right)/2-b;else if(sn(a)){const H=Object.keys(a)[0],F=a[H];D=this.chart.scales[H].getPixelForValue(F)}z=this._getYAxisLabelAlignment(x).textAlign}n==="y"&&(h==="start"?W="top":h==="end"&&(W="bottom"));const Y=this._getLabelSizes();for(N=0,A=d.length;N<A;++N){E=d[N],T=E.label;const H=o.setContext(this.getContext(N));U=this.getPixelForTick(N)+o.labelOffset,R=this._resolveTickFontOptions(N),G=R.lineHeight,q=us(T)?T.length:1;const F=q/2,Z=H.color,ee=H.textStrokeColor,ce=H.textStrokeWidth;let M=z;c?(D=U,z==="inner"&&(N===A-1?M=this.options.reverse?"left":"right":N===0?M=this.options.reverse?"right":"left":M="center"),a==="top"?f==="near"||v!==0?Q=-q*G+G/2:f==="center"?Q=-Y.highest.height/2-F*G+G:Q=-Y.highest.height+G/2:f==="near"||v!==0?Q=G/2:f==="center"?Q=Y.highest.height/2-F*G:Q=Y.highest.height-q*G,g&&(Q*=-1),v!==0&&!H.showLabelBackdrop&&(D+=G/2*Math.sin(v))):(C=U,Q=(1-q)*G/2);let ie;if(H.showLabelBackdrop){const se=Or(H.backdropPadding),V=Y.heights[N],ne=Y.widths[N];let ge=Q-se.top,he=0-se.left;switch(W){case"middle":ge-=V/2;break;case"bottom":ge-=V;break}switch(z){case"center":he-=ne/2;break;case"right":he-=ne;break;case"inner":N===A-1?he-=ne:N>0&&(he-=ne/2);break}ie={left:he,top:ge,width:ne+se.width,height:V+se.height,color:H.backdropColor}}S.push({label:T,font:R,textOffset:Q,options:{rotation:v,color:Z,strokeColor:ee,strokeWidth:ce,textAlign:M,textBaseline:W,translation:[D,C],backdrop:ie}})}return S}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Ro(this.labelRotation))return t==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),d=t+o,h=c.widest.width;let f,p;return n==="left"?a?(p=this.right+o,s==="near"?f="left":s==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-d,s==="near"?f="right":s==="center"?(f="center",p-=h/2):(f="left",p=this.left)):n==="right"?a?(p=this.left+o,s==="near"?f="right":s==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+d,s==="near"?f="left":s==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:a,width:o,height:c}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,a,o,c),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const d=(h,f,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(h.x,h.y),s.lineTo(f.x,f.y),s.stroke(),s.restore())};if(n.display)for(o=0,c=a.length;o<c;++o){const h=a[o];n.drawOnChartArea&&d({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&d({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:a}}=this,o=s.setContext(this.getContext()),c=s.display?o.width:0;if(!c)return;const d=a.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,g,x;this.isHorizontal()?(f=_o(t,this.left,c)-c/2,p=_o(t,this.right,d)+d/2,g=x=h):(g=_o(t,this.top,c)-c/2,x=_o(t,this.bottom,d)+d/2,f=p=h),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(f,g),n.lineTo(p,x),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&Ay(s,a);const o=this.getLabelItems(t);for(const c of o){const d=c.options,h=c.font,f=c.label,p=c.textOffset;td(s,f,0,p,h,d)}a&&Ry(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:a}}=this;if(!s.display)return;const o=Es(s.font),c=Or(s.padding),d=s.align;let h=o.lineHeight/2;n==="bottom"||n==="center"||sn(n)?(h+=c.bottom,us(s.text)&&(h+=o.lineHeight*(s.text.length-1))):h+=c.top;const{titleX:f,titleY:p,maxWidth:g,rotation:x}=kU(this,h,n,d);td(t,s.text,0,0,o,{color:s.color,maxWidth:g,rotation:x,textAlign:EU(d,n,a),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=dn(t.grid&&t.grid.z,-1),a=dn(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==gc.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let o,c;for(o=0,c=n.length;o<c;++o){const d=n[o];d[s]===this.id&&(!t||d.type===t)&&a.push(d)}return a}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Es(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ah{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;OU(n)&&(s=this.register(n));const a=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,CU(t,c,s),this.override&&Hn.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,a=this.scope;s in n&&delete n[s],a&&s in Hn[a]&&(delete Hn[a][s],this.override&&delete Ho[s])}}function CU(e,t,n){const s=ed(Object.create(null),[n?Hn.get(n):{},Hn.get(t),e.defaults]);Hn.set(t,s),e.defaultRoutes&&DU(t,e.defaultRoutes),e.descriptors&&Hn.describe(t,e.descriptors)}function DU(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),a=s.pop(),o=[e].concat(s).join("."),c=t[n].split("."),d=c.pop(),h=c.join(".");Hn.route(o,a,h,d)})}function OU(e){return"id"in e&&"defaults"in e}class AU{constructor(){this.controllers=new ah(Ch,"datasets",!0),this.elements=new ah(Xo,"elements"),this.plugins=new ah(Object,"plugins"),this.scales=new ah(gc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(a=>{const o=s||this._getRegistryForType(a);s||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):un(a,c=>{const d=s||this._getRegistryForType(c);this._exec(t,d,c)})})}_exec(t,n,s){const a=Cy(t);_n(s["before"+a],[],s),n[t](s),_n(s["after"+a],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const a=n.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return a}}var oa=new AU;class RU{constructor(){this._init=[]}notify(t,n,s,a){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=a?this._descriptors(t).filter(a):this._descriptors(t),c=this._notify(o,t,n,s);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,n,s,a){a=a||{};for(const o of t){const c=o.plugin,d=c[s],h=[n,a,o.options];if(_n(d,h,c)===!1&&a.cancelable)return!1}return!0}invalidate(){On(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,a=dn(s.options&&s.options.plugins,{}),o=MU(s);return a===!1&&!n?[]:LU(t,o,a,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,a=(o,c)=>o.filter(d=>!c.some(h=>d.plugin.id===h.plugin.id));this._notify(a(n,s),t,"stop"),this._notify(a(s,n),t,"start")}}function MU(e){const t={},n=[],s=Object.keys(oa.plugins.items);for(let o=0;o<s.length;o++)n.push(oa.getPlugin(s[o]));const a=e.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];n.indexOf(c)===-1&&(n.push(c),t[c.id]=!0)}return{plugins:n,localIds:t}}function PU(e,t){return!t&&e===!1?null:e===!0?{}:e}function LU(e,{plugins:t,localIds:n},s,a){const o=[],c=e.getContext();for(const d of t){const h=d.id,f=PU(s[h],a);f!==null&&o.push({plugin:d,options:zU(e.config,{plugin:d,local:n[h]},f,c)})}return o}function zU(e,{plugin:t,local:n},s,a){const o=e.pluginScopeKeys(t),c=e.getOptionScopes(s,o);return n&&t.defaults&&c.push(t.defaults),e.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hx(e,t){const n=Hn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function UU(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function BU(e,t){return e===t?"_index_":"_value_"}function X_(e){if(e==="x"||e==="y"||e==="r")return e}function FU(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function mx(e,...t){if(X_(e))return e;for(const n of t){const s=n.axis||FU(n.position)||e.length>1&&X_(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function G_(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function $U(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return G_(e,"x",n[0])||G_(e,"y",n[0])}return{}}function HU(e,t){const n=Ho[e.type]||{scales:{}},s=t.scales||{},a=hx(e.type,t),o=Object.create(null);return Object.keys(s).forEach(c=>{const d=s[c];if(!sn(d))return console.error(`Invalid scale configuration for scale: ${c}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=mx(c,d,$U(c,e),Hn.scales[d.type]),f=BU(h,a),p=n.scales||{};o[c]=Bu(Object.create(null),[{axis:h},d,p[h],p[f]])}),e.data.datasets.forEach(c=>{const d=c.type||e.type,h=c.indexAxis||hx(d,t),p=(Ho[d]||{}).scales||{};Object.keys(p).forEach(g=>{const x=UU(g,h),b=c[x+"AxisID"]||x;o[b]=o[b]||Object.create(null),Bu(o[b],[{axis:x},s[b],p[g]])})}),Object.keys(o).forEach(c=>{const d=o[c];Bu(d,[Hn.scales[d.type],Hn.scale])}),o}function eE(e){const t=e.options||(e.options={});t.plugins=dn(t.plugins,{}),t.scales=HU(e,t)}function tE(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function VU(e){return e=e||{},e.data=tE(e.data),eE(e),e}const K_=new Map,nE=new Set;function ih(e,t){let n=K_.get(e);return n||(n=t(),K_.set(e,n),nE.add(n)),n}const Tu=(e,t,n)=>{const s=Wh(t,n);s!==void 0&&e.add(s)};class IU{constructor(t){this._config=VU(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=tE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),eE(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ih(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return ih(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return ih(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return ih(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let a=s.get(t);return(!a||n)&&(a=new Map,s.set(t,a)),a}getOptionScopes(t,n,s){const{options:a,type:o}=this,c=this._cachedScopes(t,s),d=c.get(n);if(d)return d;const h=new Set;n.forEach(p=>{t&&(h.add(t),p.forEach(g=>Tu(h,t,g))),p.forEach(g=>Tu(h,a,g)),p.forEach(g=>Tu(h,Ho[o]||{},g)),p.forEach(g=>Tu(h,Hn,g)),p.forEach(g=>Tu(h,fx,g))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),nE.has(n)&&c.set(n,f),f}chartOptionScopes(){const{options:t,type:n}=this;return[t,Ho[n]||{},Hn.datasets[n]||{},{type:n},Hn,fx]}resolveNamedOptions(t,n,s,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:d}=Q_(this._resolverCache,t,a);let h=c;if(WU(c,n)){o.$shared=!1,s=Hi(s)?s():s;const f=this.createResolver(t,s,d);h=rc(c,s,f)}for(const f of n)o[f]=h[f];return o}createResolver(t,n,s=[""],a){const{resolver:o}=Q_(this._resolverCache,t,s);return sn(n)?rc(o,n,void 0,a):o}}function Q_(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const a=n.join();let o=s.get(a);return o||(o={resolver:Py(t,n),subPrefixes:n.filter(d=>!d.toLowerCase().includes("hover"))},s.set(a,o)),o}const qU=e=>sn(e)&&Object.getOwnPropertyNames(e).some(t=>Hi(e[t]));function WU(e,t){const{isScriptable:n,isIndexable:s}=$T(e);for(const a of t){const o=n(a),c=s(a),d=(c||o)&&e[a];if(o&&(Hi(d)||qU(d))||c&&us(d))return!0}return!1}var YU="4.5.0";const XU=["top","bottom","left","right","chartArea"];function Z_(e,t){return e==="top"||e==="bottom"||XU.indexOf(e)===-1&&t==="x"}function J_(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function eN(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),_n(n&&n.onComplete,[e],t)}function GU(e){const t=e.chart,n=t.options.animation;_n(n&&n.onProgress,[e],t)}function sE(e){return Uy()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Oh={},tN=e=>{const t=sE(e);return Object.values(Oh).filter(n=>n.canvas===t).pop()};function KU(e,t,n){const s=Object.keys(e);for(const a of s){const o=+a;if(o>=t){const c=e[a];delete e[a],(n>0||o>t)&&(e[o+n]=c)}}}function QU(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}class ki{static register(...t){oa.add(...t),nN()}static unregister(...t){oa.remove(...t),nN()}constructor(t,n){const s=this.config=new IU(n),a=sE(t),o=tN(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||pU(a)),this.platform.updateConfig(s);const d=this.platform.acquireContext(a,c.aspectRatio),h=d&&d.canvas,f=h&&h.height,p=h&&h.width;if(this.id=N8(),this.ctx=d,this.canvas=h,this.width=p,this.height=f,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new RU,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=V8(g=>this.update(g),c.resizeDelay||0),this._dataChanges=[],Oh[this.id]=this,!d||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Ha.listen(this,"complete",eN),Ha.listen(this,"progress",GU),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:a,_aspectRatio:o}=this;return On(t)?n&&o?o:a?s/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return oa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():D_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return T_(this.canvas,this.ctx),this}stop(){return Ha.stop(this),this}resize(t,n){Ha.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,a=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,t,n,o),d=s.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,D_(this,d,!0)&&(this.notifyPlugins("resize",{size:c}),_n(s.onResize,[this,c],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};un(n,(s,a)=>{s.id=a})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,a=Object.keys(s).reduce((c,d)=>(c[d]=!1,c),{});let o=[];n&&(o=o.concat(Object.keys(n).map(c=>{const d=n[c],h=mx(c,d),f=h==="r",p=h==="x";return{options:d,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),un(o,c=>{const d=c.options,h=d.id,f=mx(h,d),p=dn(d.type,c.dtype);(d.position===void 0||Z_(d.position,f)!==Z_(c.dposition))&&(d.position=c.dposition),a[h]=!0;let g=null;if(h in s&&s[h].type===p)g=s[h];else{const x=oa.getScale(p);g=new x({id:h,type:p,ctx:this.ctx,chart:this}),s[g.id]=g}g.init(d,t)}),un(a,(c,d)=>{c||delete s[d]}),un(s,c=>{Er.configure(this,c,c.options),Er.addBox(this,c)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((a,o)=>a.index-o.index),s>n){for(let a=n;a<s;++a)this._destroyDatasetMeta(a);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(J_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,a)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=n.length;s<a;s++){const o=n[s];let c=this.getDatasetMeta(s);const d=o.type||this.config.type;if(c.type&&c.type!==d&&(this._destroyDatasetMeta(s),c=this.getDatasetMeta(s)),c.type=d,c.indexAxis=o.indexAxis||hx(d,this.options),c.order=o.order||0,c.index=s,c.label=""+o.label,c.visible=this.isDatasetVisible(s),c.controller)c.controller.updateIndex(s),c.controller.linkScales();else{const h=oa.getController(d),{datasetElementType:f,dataElementType:p}=Hn.datasets[d];Object.assign(h,{dataElementType:oa.getElement(p),datasetElementType:f&&oa.getElement(f)}),c.controller=new h(this,s),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){un(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:g}=this.getDatasetMeta(f),x=!a&&o.indexOf(g)===-1;g.buildOrUpdateElements(x),c=Math.max(+g.getMaxOverflow(),c)}c=this._minPadding=s.layout.autoPadding?c:0,this._updateLayout(c),a||un(o,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(J_("z","_idx"));const{_active:d,_lastEvent:h}=this;h?this._eventHandler(h,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){un(this.scales,t=>{Er.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!g_(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:o}of n){const c=s==="_removeElements"?-o:o;KU(t,a,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=o=>new Set(t.filter(c=>c[0]===o).map((c,d)=>d+","+c.splice(1).join(","))),a=s(0);for(let o=1;o<n;o++)if(!g_(a,s(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Er.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],un(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Hi(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),a={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ha.has(this)?this.attached&&!Ha.running(this)&&Ha.start(this):(this.draw(),eN({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let a,o;for(a=0,o=n.length;a<o;++a){const c=n[a];(!t||c.visible)&&s.push(c)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},a=kz(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&Ay(n,a),t.controller.draw(),a&&Ry(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return BT(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,a){const o=Xz.modes[n];return typeof o=="function"?o(this,t,s,a):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let a=s.filter(o=>o&&o._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=pc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const a=s?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,a);Yh(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),c.update(o,{visible:s}),this.update(d=>d.datasetIndex===t?a:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ha.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),T_(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Oh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(o,c)=>{n.addEventListener(this,o,c),t[o]=c},a=(o,c,d)=>{o.offsetX=c,o.offsetY=d,this._eventHandler(o)};un(this.options.events,o=>s(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(h,f)=>{n.addEventListener(this,h,f),t[h]=f},a=(h,f)=>{t[h]&&(n.removeEventListener(this,h,f),delete t[h])},o=(h,f)=>{this.canvas&&this.resize(h,f)};let c;const d=()=>{a("attach",d),this.attached=!0,this.resize(),s("resize",o),s("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),s("attach",d)},n.isAttached(this.canvas)?d():c()}unbindEvents(){un(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},un(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const a=s?"set":"remove";let o,c,d,h;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),d=0,h=t.length;d<h;++d){c=t[d];const f=c&&this.getDatasetMeta(c.datasetIndex).controller;f&&f[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:o,index:c})=>{const d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[c],index:c}});!Ih(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const a=this.options.hover,o=(h,f)=>h.filter(p=>!f.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),c=o(n,t),d=s?t:o(t,n);c.length&&this.updateHoverStyle(c,a.mode,!1),d.length&&a.mode&&this.updateHoverStyle(d,a.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},a=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const o=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(o||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:a=[],options:o}=this,c=n,d=this._getActiveElements(t,a,s,c),h=D8(t),f=QU(t,this._lastEvent,s,h);s&&(this._lastEvent=null,_n(o.onHover,[t,d,this],this),h&&_n(o.onClick,[t,d,this],this));const p=!Ih(d,a);return(p||n)&&(this._active=d,this._updateHoverStyles(d,a,n)),this._lastEvent=f,p}_getActiveElements(t,n,s,a){if(t.type==="mouseout")return[];if(!s)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}}Et(ki,"defaults",Hn),Et(ki,"instances",Oh),Et(ki,"overrides",Ho),Et(ki,"registry",oa),Et(ki,"version",YU),Et(ki,"getChart",tN);function nN(){return un(ki.instances,e=>e._plugins.invalidate())}function ZU(e,t,n){const{startAngle:s,x:a,y:o,outerRadius:c,innerRadius:d,options:h}=t,{borderWidth:f,borderJoinStyle:p}=h,g=Math.min(f/c,la(s-n));if(e.beginPath(),e.arc(a,o,c-f/2,s+g/2,n-g/2),d>0){const x=Math.min(f/d,la(s-n));e.arc(a,o,d+f/2,n-x/2,s+x/2,!0)}else{const x=Math.min(f/2,c*la(s-n));if(p==="round")e.arc(a,o,x,n-Nn/2,s+Nn/2,!0);else if(p==="bevel"){const b=2*x*x,j=-b*Math.cos(n+Nn/2)+a,v=-b*Math.sin(n+Nn/2)+o,S=b*Math.cos(s+Nn/2)+a,N=b*Math.sin(s+Nn/2)+o;e.lineTo(j,v),e.lineTo(S,N)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function JU(e,t,n){const{startAngle:s,pixelMargin:a,x:o,y:c,outerRadius:d,innerRadius:h}=t;let f=a/d;e.beginPath(),e.arc(o,c,d,s-f,n+f),h>a?(f=a/h,e.arc(o,c,h,n+f,s-f,!0)):e.arc(o,c,a,n+gs,s-gs),e.closePath(),e.clip()}function eB(e){return My(e,["outerStart","outerEnd","innerStart","innerEnd"])}function tB(e,t,n,s){const a=eB(e.options.borderRadius),o=(n-t)/2,c=Math.min(o,s*t/2),d=h=>{const f=(n-Math.min(o,h))*s/2;return Xs(h,0,Math.min(o,f))};return{outerStart:d(a.outerStart),outerEnd:d(a.outerEnd),innerStart:Xs(a.innerStart,0,c),innerEnd:Xs(a.innerEnd,0,c)}}function Fl(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function em(e,t,n,s,a,o){const{x:c,y:d,startAngle:h,pixelMargin:f,innerRadius:p}=t,g=Math.max(t.outerRadius+s+n-f,0),x=p>0?p+s+n+f:0;let b=0;const j=a-h;if(s){const H=p>0?p-s:0,F=g>0?g-s:0,Z=(H+F)/2,ee=Z!==0?j*Z/(Z+s):j;b=(j-ee)/2}const v=Math.max(.001,j*g-n/Nn)/g,S=(j-v)/2,N=h+S+b,A=a-S-b,{outerStart:E,outerEnd:T,innerStart:D,innerEnd:C}=tB(t,x,g,A-N),z=g-E,U=g-T,R=N+E/z,G=A-T/U,q=x+D,Q=x+C,W=N+D/q,Y=A-C/Q;if(e.beginPath(),o){const H=(R+G)/2;if(e.arc(c,d,g,R,H),e.arc(c,d,g,H,G),T>0){const ce=Fl(U,G,c,d);e.arc(ce.x,ce.y,T,G,A+gs)}const F=Fl(Q,A,c,d);if(e.lineTo(F.x,F.y),C>0){const ce=Fl(Q,Y,c,d);e.arc(ce.x,ce.y,C,A+gs,Y+Math.PI)}const Z=(A-C/x+(N+D/x))/2;if(e.arc(c,d,x,A-C/x,Z,!0),e.arc(c,d,x,Z,N+D/x,!0),D>0){const ce=Fl(q,W,c,d);e.arc(ce.x,ce.y,D,W+Math.PI,N-gs)}const ee=Fl(z,N,c,d);if(e.lineTo(ee.x,ee.y),E>0){const ce=Fl(z,R,c,d);e.arc(ce.x,ce.y,E,N-gs,R)}}else{e.moveTo(c,d);const H=Math.cos(R)*g+c,F=Math.sin(R)*g+d;e.lineTo(H,F);const Z=Math.cos(G)*g+c,ee=Math.sin(G)*g+d;e.lineTo(Z,ee)}e.closePath()}function nB(e,t,n,s,a){const{fullCircles:o,startAngle:c,circumference:d}=t;let h=t.endAngle;if(o){em(e,t,n,s,h,a);for(let f=0;f<o;++f)e.fill();isNaN(d)||(h=c+(d%As||As))}return em(e,t,n,s,h,a),e.fill(),h}function sB(e,t,n,s,a){const{fullCircles:o,startAngle:c,circumference:d,options:h}=t,{borderWidth:f,borderJoinStyle:p,borderDash:g,borderDashOffset:x,borderRadius:b}=h,j=h.borderAlign==="inner";if(!f)return;e.setLineDash(g||[]),e.lineDashOffset=x,j?(e.lineWidth=f*2,e.lineJoin=p||"round"):(e.lineWidth=f,e.lineJoin=p||"bevel");let v=t.endAngle;if(o){em(e,t,n,s,v,a);for(let S=0;S<o;++S)e.stroke();isNaN(d)||(v=c+(d%As||As))}j&&JU(e,t,v),h.selfJoin&&v-c>=Nn&&b===0&&p!=="miter"&&ZU(e,t,v),o||(em(e,t,n,s,v,a),e.stroke())}class zu extends Xo{constructor(n){super();Et(this,"circumference");Et(this,"endAngle");Et(this,"fullCircles");Et(this,"innerRadius");Et(this,"outerRadius");Et(this,"pixelMargin");Et(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,a){const o=this.getProps(["x","y"],a),{angle:c,distance:d}=DT(o,{x:n,y:s}),{startAngle:h,endAngle:f,innerRadius:p,outerRadius:g,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),b=(this.options.spacing+this.options.borderWidth)/2,j=dn(x,f-h),v=OT(c,h,f)&&h!==f,S=j>=As||v,N=Mo(d,p+b,g+b);return S&&N}getCenterPoint(n){const{x:s,y:a,startAngle:o,endAngle:c,innerRadius:d,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:f,spacing:p}=this.options,g=(o+c)/2,x=(d+h+p+f)/2;return{x:s+Math.cos(g)*x,y:a+Math.sin(g)*x}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:a}=this,o=(s.offset||0)/4,c=(s.spacing||0)/2,d=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=a>As?Math.floor(a/As):0,a===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const h=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(h)*o,Math.sin(h)*o);const f=1-Math.sin(Math.min(Nn,a||0)),p=o*f;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,nB(n,this,p,c,d),sB(n,this,p,c,d),n.restore()}}Et(zu,"id","arc"),Et(zu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Et(zu,"defaultRoutes",{backgroundColor:"backgroundColor"}),Et(zu,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function rE(e,t){const{x:n,y:s,base:a,width:o,height:c}=e.getProps(["x","y","base","width","height"],t);let d,h,f,p,g;return e.horizontal?(g=c/2,d=Math.min(n,a),h=Math.max(n,a),f=s-g,p=s+g):(g=o/2,d=n-g,h=n+g,f=Math.min(s,a),p=Math.max(s,a)),{left:d,top:f,right:h,bottom:p}}function Ai(e,t,n,s){return e?0:Xs(t,n,s)}function rB(e,t,n){const s=e.options.borderWidth,a=e.borderSkipped,o=FT(s);return{t:Ai(a.top,o.top,0,n),r:Ai(a.right,o.right,0,t),b:Ai(a.bottom,o.bottom,0,n),l:Ai(a.left,o.left,0,t)}}function aB(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,o=Zl(a),c=Math.min(t,n),d=e.borderSkipped,h=s||sn(a);return{topLeft:Ai(!h||d.top||d.left,o.topLeft,0,c),topRight:Ai(!h||d.top||d.right,o.topRight,0,c),bottomLeft:Ai(!h||d.bottom||d.left,o.bottomLeft,0,c),bottomRight:Ai(!h||d.bottom||d.right,o.bottomRight,0,c)}}function iB(e){const t=rE(e),n=t.right-t.left,s=t.bottom-t.top,a=rB(e,n/2,s/2),o=aB(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:o},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function x0(e,t,n,s){const a=t===null,o=n===null,d=e&&!(a&&o)&&rE(e,s);return d&&(a||Mo(t,d.left,d.right))&&(o||Mo(n,d.top,d.bottom))}function oB(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function lB(e,t){e.rect(t.x,t.y,t.w,t.h)}function y0(e,t,n={}){const s=e.x!==n.x?-t:0,a=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-s,c=(e.y+e.h!==n.y+n.h?t:0)-a;return{x:e.x+s,y:e.y+a,w:e.w+o,h:e.h+c,radius:e.radius}}class Ah extends Xo{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:a}}=this,{inner:o,outer:c}=iB(this),d=oB(c.radius)?Qh:lB;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),d(t,y0(c,n,o)),t.clip(),d(t,y0(o,-n,c)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),d(t,y0(o,n)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,n,s){return x0(this,t,n,s)}inXRange(t,n){return x0(this,t,null,n)}inYRange(t,n){return x0(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(n+a)/2:n,y:o?s:(s+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Et(Ah,"id","bar"),Et(Ah,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Et(Ah,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const sN=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},cB=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class rN extends Xo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=_n(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,a)=>t.sort(s,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,a=Es(s.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:h}=sN(s,o);let f,p;n.font=a.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(c,o,d,h)+10):(p=this.maxHeight,f=this._fitCols(c,a,d,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,a){const{ctx:o,maxWidth:c,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=a+d;let g=t;o.textAlign="left",o.textBaseline="middle";let x=-1,b=-p;return this.legendItems.forEach((j,v)=>{const S=s+n/2+o.measureText(j.text).width;(v===0||f[f.length-1]+S+2*d>c)&&(g+=p,f[f.length-(v>0?0:1)]=0,b+=p,x++),h[v]={left:0,top:b,row:x,width:S,height:a},f[f.length-1]+=S+d}),g}_fitCols(t,n,s,a){const{ctx:o,maxHeight:c,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=c-t;let g=d,x=0,b=0,j=0,v=0;return this.legendItems.forEach((S,N)=>{const{itemWidth:A,itemHeight:E}=uB(s,n,o,S,a);N>0&&b+E+2*d>p&&(g+=x+d,f.push({width:x,height:b}),j+=x+d,v++,x=b=0),h[N]={left:j,top:b,col:v,width:A,height:E},x=Math.max(x,A),b+=E+d}),g+=x,f.push({width:x,height:b}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:a},rtl:o}}=this,c=Jl(o,this.left,this.width);if(this.isHorizontal()){let d=0,h=Ss(s,this.left+a,this.right-this.lineWidths[d]);for(const f of n)d!==f.row&&(d=f.row,h=Ss(s,this.left+a,this.right-this.lineWidths[d])),f.top+=this.top+t+a,f.left=c.leftForLtr(c.x(h),f.width),h+=f.width+a}else{let d=0,h=Ss(s,this.top+t+a,this.bottom-this.columnSizes[d].height);for(const f of n)f.col!==d&&(d=f.col,h=Ss(s,this.top+t+a,this.bottom-this.columnSizes[d].height)),f.top=h,f.left+=this.left+a,f.left=c.leftForLtr(c.x(f.left),f.width),h+=f.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ay(t,this),this._draw(),Ry(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:a}=this,{align:o,labels:c}=t,d=Hn.color,h=Jl(t.rtl,this.left,this.width),f=Es(c.font),{padding:p}=c,g=f.size,x=g/2;let b;this.drawTitle(),a.textAlign=h.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=f.string;const{boxWidth:j,boxHeight:v,itemHeight:S}=sN(c,g),N=function(C,z,U){if(isNaN(j)||j<=0||isNaN(v)||v<0)return;a.save();const R=dn(U.lineWidth,1);if(a.fillStyle=dn(U.fillStyle,d),a.lineCap=dn(U.lineCap,"butt"),a.lineDashOffset=dn(U.lineDashOffset,0),a.lineJoin=dn(U.lineJoin,"miter"),a.lineWidth=R,a.strokeStyle=dn(U.strokeStyle,d),a.setLineDash(dn(U.lineDash,[])),c.usePointStyle){const G={radius:v*Math.SQRT2/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:R},q=h.xPlus(C,j/2),Q=z+x;UT(a,G,q,Q,c.pointStyleWidth&&j)}else{const G=z+Math.max((g-v)/2,0),q=h.leftForLtr(C,j),Q=Zl(U.borderRadius);a.beginPath(),Object.values(Q).some(W=>W!==0)?Qh(a,{x:q,y:G,w:j,h:v,radius:Q}):a.rect(q,G,j,v),a.fill(),R!==0&&a.stroke()}a.restore()},A=function(C,z,U){td(a,U.text,C,z+S/2,f,{strikethrough:U.hidden,textAlign:h.textAlign(U.textAlign)})},E=this.isHorizontal(),T=this._computeTitleHeight();E?b={x:Ss(o,this.left+p,this.right-s[0]),y:this.top+p+T,line:0}:b={x:this.left+p,y:Ss(o,this.top+T+p,this.bottom-n[0].height),line:0},qT(this.ctx,t.textDirection);const D=S+p;this.legendItems.forEach((C,z)=>{a.strokeStyle=C.fontColor,a.fillStyle=C.fontColor;const U=a.measureText(C.text).width,R=h.textAlign(C.textAlign||(C.textAlign=c.textAlign)),G=j+x+U;let q=b.x,Q=b.y;h.setWidth(this.width),E?z>0&&q+G+p>this.right&&(Q=b.y+=D,b.line++,q=b.x=Ss(o,this.left+p,this.right-s[b.line])):z>0&&Q+D>this.bottom&&(q=b.x=q+n[b.line].width+p,b.line++,Q=b.y=Ss(o,this.top+T+p,this.bottom-n[b.line].height));const W=h.x(q);if(N(W,Q,C),q=I8(R,q+j+x,E?q+G:this.right,t.rtl),A(h.x(q),Q,C),E)b.x+=G+p;else if(typeof C.text!="string"){const Y=f.lineHeight;b.y+=aE(C,Y)+p}else b.y+=D}),WT(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=Es(n.font),a=Or(n.padding);if(!n.display)return;const o=Jl(t.rtl,this.left,this.width),c=this.ctx,d=n.position,h=s.size/2,f=a.top+h;let p,g=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),p=this.top+f,g=Ss(t.align,g,this.right-x);else{const j=this.columnSizes.reduce((v,S)=>Math.max(v,S.height),0);p=f+Ss(t.align,this.top,this.bottom-j-t.labels.padding-this._computeTitleHeight())}const b=Ss(d,g,g+x);c.textAlign=o.textAlign(Oy(d)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=s.string,td(c,n.text,b,p,s)}_computeTitleHeight(){const t=this.options.title,n=Es(t.font),s=Or(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,a,o;if(Mo(t,this.left,this.right)&&Mo(n,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(a=o[s],Mo(t,a.left,a.left+a.width)&&Mo(n,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!hB(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=cB(a,s);a&&!o&&_n(n.onLeave,[t,a,this],this),this._hoveredItem=s,s&&!o&&_n(n.onHover,[t,s,this],this)}else s&&_n(n.onClick,[t,s,this],this)}}function uB(e,t,n,s,a){const o=dB(s,e,t,n),c=fB(a,s,t.lineHeight);return{itemWidth:o,itemHeight:c}}function dB(e,t,n,s){let a=e.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),t+n.size/2+s.measureText(a).width}function fB(e,t,n){let s=e;return typeof t.text!="string"&&(s=aE(t,n)),s}function aE(e,t){const n=e.text?e.text.length:0;return t*n}function hB(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var mB={id:"legend",_element:rN,start(e,t,n){const s=e.legend=new rN({ctx:e.ctx,options:n,chart:e});Er.configure(e,s,n),Er.addBox(e,s)},stop(e){Er.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;Er.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,a=n.chart;a.isDatasetVisible(s)?(a.hide(s),t.hidden=!0):(a.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:a,color:o,useBorderRadius:c,borderRadius:d}}=e.legend.options;return e._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(n?0:void 0),p=Or(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:s||f.pointStyle,rotation:f.rotation,textAlign:a||f.textAlign,borderRadius:c&&(d||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};let iE=class extends Xo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const a=us(s.text)?s.text.length:1;this._padding=Or(s.padding);const o=a*Es(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:a,right:o,options:c}=this,d=c.align;let h=0,f,p,g;return this.isHorizontal()?(p=Ss(d,s,o),g=n+t,f=o-s):(c.position==="left"?(p=s+t,g=Ss(d,a,n),h=Nn*-.5):(p=o-t,g=Ss(d,n,a),h=Nn*.5),f=a-n),{titleX:p,titleY:g,maxWidth:f,rotation:h}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=Es(n.font),o=s.lineHeight/2+this._padding.top,{titleX:c,titleY:d,maxWidth:h,rotation:f}=this._drawArgs(o);td(t,n.text,0,0,s,{color:n.color,maxWidth:h,rotation:f,textAlign:Oy(n.align),textBaseline:"middle",translation:[c,d]})}};function pB(e,t){const n=new iE({ctx:e.ctx,options:t,chart:e});Er.configure(e,n,t),Er.addBox(e,n),e.titleBlock=n}var gB={id:"title",_element:iE,start(e,t,n){pB(e,n)},stop(e){const t=e.titleBlock;Er.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;Er.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Uu={average(e){if(!e.length)return!1;let t,n,s=new Set,a=0,o=0;for(t=0,n=e.length;t<n;++t){const d=e[t].element;if(d&&d.hasValue()){const h=d.tooltipPosition();s.add(h.x),a+=h.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((d,h)=>d+h)/s.size,y:a/o}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,a=Number.POSITIVE_INFINITY,o,c,d;for(o=0,c=e.length;o<c;++o){const h=e[o].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=z8(t,f);p<a&&(a=p,d=h)}}if(d){const h=d.tooltipPosition();n=h.x,s=h.y}return{x:n,y:s}}};function ia(e,t){return t&&(us(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Va(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function xB(e,t){const{element:n,datasetIndex:s,index:a}=t,o=e.getDatasetMeta(s).controller,{label:c,value:d}=o.getLabelAndValue(a);return{chart:e,label:c,parsed:o.getParsed(a),raw:e.data.datasets[s].data[a],formattedValue:d,dataset:o.getDataset(),dataIndex:a,datasetIndex:s,element:n}}function aN(e,t){const n=e.chart.ctx,{body:s,footer:a,title:o}=e,{boxWidth:c,boxHeight:d}=t,h=Es(t.bodyFont),f=Es(t.titleFont),p=Es(t.footerFont),g=o.length,x=a.length,b=s.length,j=Or(t.padding);let v=j.height,S=0,N=s.reduce((T,D)=>T+D.before.length+D.lines.length+D.after.length,0);if(N+=e.beforeBody.length+e.afterBody.length,g&&(v+=g*f.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),N){const T=t.displayColors?Math.max(d,h.lineHeight):h.lineHeight;v+=b*T+(N-b)*h.lineHeight+(N-1)*t.bodySpacing}x&&(v+=t.footerMarginTop+x*p.lineHeight+(x-1)*t.footerSpacing);let A=0;const E=function(T){S=Math.max(S,n.measureText(T).width+A)};return n.save(),n.font=f.string,un(e.title,E),n.font=h.string,un(e.beforeBody.concat(e.afterBody),E),A=t.displayColors?c+2+t.boxPadding:0,un(s,T=>{un(T.before,E),un(T.lines,E),un(T.after,E)}),A=0,n.font=p.string,un(e.footer,E),n.restore(),S+=j.width,{width:S,height:v}}function yB(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function bB(e,t,n,s){const{x:a,width:o}=s,c=n.caretSize+n.caretPadding;if(e==="left"&&a+o+c>t.width||e==="right"&&a-o-c<0)return!0}function vB(e,t,n,s){const{x:a,width:o}=n,{width:c,chartArea:{left:d,right:h}}=e;let f="center";return s==="center"?f=a<=(d+h)/2?"left":"right":a<=o/2?f="left":a>=c-o/2&&(f="right"),bB(f,e,t,n)&&(f="center"),f}function iN(e,t,n){const s=n.yAlign||t.yAlign||yB(e,n);return{xAlign:n.xAlign||t.xAlign||vB(e,t,n,s),yAlign:s}}function wB(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function jB(e,t,n){let{y:s,height:a}=e;return t==="top"?s+=n:t==="bottom"?s-=a+n:s-=a/2,s}function oN(e,t,n,s){const{caretSize:a,caretPadding:o,cornerRadius:c}=e,{xAlign:d,yAlign:h}=n,f=a+o,{topLeft:p,topRight:g,bottomLeft:x,bottomRight:b}=Zl(c);let j=wB(t,d);const v=jB(t,h,f);return h==="center"?d==="left"?j+=f:d==="right"&&(j-=f):d==="left"?j-=Math.max(p,x)+a:d==="right"&&(j+=Math.max(g,b)+a),{x:Xs(j,0,s.width-t.width),y:Xs(v,0,s.height-t.height)}}function oh(e,t,n){const s=Or(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function lN(e){return ia([],Va(e))}function _B(e,t,n){return pc(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function cN(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const oE={beforeTitle:Fa,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:Fa,beforeBody:Fa,beforeLabel:Fa,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return On(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Fa,afterBody:Fa,beforeFooter:Fa,footer:Fa,afterFooter:Fa};function $s(e,t,n,s){const a=e[t].call(n,s);return typeof a=="undefined"?oE[t].call(n,s):a}class px extends Xo{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&n.options.animation&&s.animations,o=new YT(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=_B(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,a=$s(s,"beforeTitle",this,t),o=$s(s,"title",this,t),c=$s(s,"afterTitle",this,t);let d=[];return d=ia(d,Va(a)),d=ia(d,Va(o)),d=ia(d,Va(c)),d}getBeforeBody(t,n){return lN($s(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,a=[];return un(t,o=>{const c={before:[],lines:[],after:[]},d=cN(s,o);ia(c.before,Va($s(d,"beforeLabel",this,o))),ia(c.lines,$s(d,"label",this,o)),ia(c.after,Va($s(d,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(t,n){return lN($s(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,a=$s(s,"beforeFooter",this,t),o=$s(s,"footer",this,t),c=$s(s,"afterFooter",this,t);let d=[];return d=ia(d,Va(a)),d=ia(d,Va(o)),d=ia(d,Va(c)),d}_createItems(t){const n=this._active,s=this.chart.data,a=[],o=[],c=[];let d=[],h,f;for(h=0,f=n.length;h<f;++h)d.push(xB(this.chart,n[h]));return t.filter&&(d=d.filter((p,g,x)=>t.filter(p,g,x,s))),t.itemSort&&(d=d.sort((p,g)=>t.itemSort(p,g,s))),un(d,p=>{const g=cN(t.callbacks,p);a.push($s(g,"labelColor",this,p)),o.push($s(g,"labelPointStyle",this,p)),c.push($s(g,"labelTextColor",this,p))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=d,d}update(t,n){const s=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const d=Uu[s.position].call(this,a,this._eventPosition);c=this._createItems(s),this.title=this.getTitle(c,s),this.beforeBody=this.getBeforeBody(c,s),this.body=this.getBody(c,s),this.afterBody=this.getAfterBody(c,s),this.footer=this.getFooter(c,s);const h=this._size=aN(this,s),f=Object.assign({},d,h),p=iN(this.chart,s,f),g=oN(s,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:g.x,y:g.y,width:h.width,height:h.height,caretX:d.x,caretY:d.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,a){const o=this.getCaretPosition(t,s,a);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,s){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:d}=s,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=Zl(d),{x,y:b}=t,{width:j,height:v}=n;let S,N,A,E,T,D;return o==="center"?(T=b+v/2,a==="left"?(S=x,N=S-c,E=T+c,D=T-c):(S=x+j,N=S+c,E=T-c,D=T+c),A=S):(a==="left"?N=x+Math.max(h,p)+c:a==="right"?N=x+j-Math.max(f,g)-c:N=this.caretX,o==="top"?(E=b,T=E-c,S=N-c,A=N+c):(E=b+v,T=E+c,S=N+c,A=N-c),D=E),{x1:S,x2:N,x3:A,y1:E,y2:T,y3:D}}drawTitle(t,n,s){const a=this.title,o=a.length;let c,d,h;if(o){const f=Jl(s.rtl,this.x,this.width);for(t.x=oh(this,s.titleAlign,s),n.textAlign=f.textAlign(s.titleAlign),n.textBaseline="middle",c=Es(s.titleFont),d=s.titleSpacing,n.fillStyle=s.titleColor,n.font=c.string,h=0;h<o;++h)n.fillText(a[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+d,h+1===o&&(t.y+=s.titleMarginBottom-d)}}_drawColorBox(t,n,s,a,o){const c=this.labelColors[s],d=this.labelPointStyles[s],{boxHeight:h,boxWidth:f}=o,p=Es(o.bodyFont),g=oh(this,"left",o),x=a.x(g),b=h<p.lineHeight?(p.lineHeight-h)/2:0,j=n.y+b;if(o.usePointStyle){const v={radius:Math.min(f,h)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},S=a.leftForLtr(x,f)+f/2,N=j+h/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,E_(t,v,S,N),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,E_(t,v,S,N)}else{t.lineWidth=sn(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const v=a.leftForLtr(x,f),S=a.leftForLtr(a.xPlus(x,1),f-2),N=Zl(c.borderRadius);Object.values(N).some(A=>A!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Qh(t,{x:v,y:j,w:f,h,radius:N}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Qh(t,{x:S,y:j+1,w:f-2,h:h-2,radius:N}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(v,j,f,h),t.strokeRect(v,j,f,h),t.fillStyle=c.backgroundColor,t.fillRect(S,j+1,f-2,h-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:d,boxHeight:h,boxWidth:f,boxPadding:p}=s,g=Es(s.bodyFont);let x=g.lineHeight,b=0;const j=Jl(s.rtl,this.x,this.width),v=function(U){n.fillText(U,j.x(t.x+b),t.y+x/2),t.y+=x+o},S=j.textAlign(c);let N,A,E,T,D,C,z;for(n.textAlign=c,n.textBaseline="middle",n.font=g.string,t.x=oh(this,S,s),n.fillStyle=s.bodyColor,un(this.beforeBody,v),b=d&&S!=="right"?c==="center"?f/2+p:f+2+p:0,T=0,C=a.length;T<C;++T){for(N=a[T],A=this.labelTextColors[T],n.fillStyle=A,un(N.before,v),E=N.lines,d&&E.length&&(this._drawColorBox(n,t,T,j,s),x=Math.max(g.lineHeight,h)),D=0,z=E.length;D<z;++D)v(E[D]),x=g.lineHeight;un(N.after,v)}b=0,x=g.lineHeight,un(this.afterBody,v),t.y-=o}drawFooter(t,n,s){const a=this.footer,o=a.length;let c,d;if(o){const h=Jl(s.rtl,this.x,this.width);for(t.x=oh(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=h.textAlign(s.footerAlign),n.textBaseline="middle",c=Es(s.footerFont),n.fillStyle=s.footerColor,n.font=c.string,d=0;d<o;++d)n.fillText(a[d],h.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+s.footerSpacing}}drawBackground(t,n,s,a){const{xAlign:o,yAlign:c}=this,{x:d,y:h}=t,{width:f,height:p}=s,{topLeft:g,topRight:x,bottomLeft:b,bottomRight:j}=Zl(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(d+g,h),c==="top"&&this.drawCaret(t,n,s,a),n.lineTo(d+f-x,h),n.quadraticCurveTo(d+f,h,d+f,h+x),c==="center"&&o==="right"&&this.drawCaret(t,n,s,a),n.lineTo(d+f,h+p-j),n.quadraticCurveTo(d+f,h+p,d+f-j,h+p),c==="bottom"&&this.drawCaret(t,n,s,a),n.lineTo(d+b,h+p),n.quadraticCurveTo(d,h+p,d,h+p-b),c==="center"&&o==="left"&&this.drawCaret(t,n,s,a),n.lineTo(d,h+g),n.quadraticCurveTo(d,h,d+g,h),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,a=s&&s.x,o=s&&s.y;if(a||o){const c=Uu[t.position].call(this,this._active,this._eventPosition);if(!c)return;const d=this._size=aN(this,t),h=Object.assign({},c,this._size),f=iN(n,t,h),p=oN(t,h,f,n);(a._to!==p.x||o._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=d.width,this.height=d.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const c=Or(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(t.save(),t.globalAlpha=s,this.drawBackground(o,t,a,n),qT(t,n.textDirection),o.y+=c.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),WT(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,a=t.map(({datasetIndex:d,index:h})=>{const f=this.chart.getDatasetMeta(d);if(!f)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:f.data[h],index:h}}),o=!Ih(s,a),c=this._positionChanged(a,n);(o||c)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(t,o,n,s),d=this._positionChanged(c,t),h=n||!Ih(c,o)||d;return h&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),h}_getActiveElements(t,n,s,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,s);return o.reverse&&c.reverse(),c}_positionChanged(t,n){const{caretX:s,caretY:a,options:o}=this,c=Uu[o.position].call(this,t,n);return c!==!1&&(s!==c.x||a!==c.y)}}Et(px,"positioners",Uu);var NB={id:"tooltip",_element:px,positioners:Uu,afterInit(e,t,n){n&&(e.tooltip=new px({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",oe(L({},n),{cancelable:!0}))===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:oE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const SB=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function TB(e,t,n,s){const a=e.indexOf(t);if(a===-1)return SB(e,t,n,s);const o=e.lastIndexOf(t);return a!==o?n:a}const EB=(e,t)=>e===null?null:Xs(Math.round(e),0,t);function uN(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class gx extends gc{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:a,label:o}of n)s[a]===o&&s.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(On(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:TB(s,t,dn(n,t),this._addedLabels),EB(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,a=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let c=t;c<=n;c++)a.push({value:c});return a}getLabelForValue(t){return uN.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Et(gx,"id","category"),Et(gx,"defaults",{ticks:{callback:uN}});function kB(e,t){const n=[],{bounds:a,step:o,min:c,max:d,precision:h,count:f,maxTicks:p,maxDigits:g,includeBounds:x}=e,b=o||1,j=p-1,{min:v,max:S}=t,N=!On(c),A=!On(d),E=!On(f),T=(S-v)/(g+1);let D=y_((S-v)/j/b)*b,C,z,U,R;if(D<1e-14&&!N&&!A)return[{value:v},{value:S}];R=Math.ceil(S/D)-Math.floor(v/D),R>j&&(D=y_(R*D/j/b)*b),On(h)||(C=Math.pow(10,h),D=Math.ceil(D*C)/C),a==="ticks"?(z=Math.floor(v/D)*D,U=Math.ceil(S/D)*D):(z=v,U=S),N&&A&&o&&M8((d-c)/o,D/1e3)?(R=Math.round(Math.min((d-c)/D,p)),D=(d-c)/R,z=c,U=d):E?(z=N?c:z,U=A?d:U,R=f-1,D=(U-z)/R):(R=(U-z)/D,kh(R,Math.round(R),D/1e3)?R=Math.round(R):R=Math.ceil(R));const G=Math.max(b_(D),b_(z));C=Math.pow(10,On(h)?G:h),z=Math.round(z*C)/C,U=Math.round(U*C)/C;let q=0;for(N&&(x&&z!==c?(n.push({value:c}),z<c&&q++,kh(Math.round((z+q*D)*C)/C,c,dN(c,T,e))&&q++):z<c&&q++);q<R;++q){const Q=Math.round((z+q*D)*C)/C;if(A&&Q>d)break;n.push({value:Q})}return A&&x&&U!==d?n.length&&kh(n[n.length-1].value,d,dN(d,T,e))?n[n.length-1].value=d:n.push({value:d}):(!A||U===d)&&n.push({value:U}),n}function dN(e,t,{horizontal:n,minRotation:s}){const a=Ro(s),o=(n?Math.sin(a):Math.cos(a))||.001,c=.75*t*(""+e).length;return Math.min(t/o,c)}class CB extends gc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return On(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:a,max:o}=this;const c=h=>a=n?a:h,d=h=>o=s?o:h;if(t){const h=Gh(a),f=Gh(o);h<0&&f<0?d(0):h>0&&f>0&&c(0)}if(a===o){let h=o===0?1:Math.abs(o*.05);d(o+h),t||c(a-h)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,c=kB(a,o);return t.bounds==="ticks"&&P8(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const a=(s-n)/Math.max(t.length-1,1)/2;n-=a,s+=a}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return LT(t,this.chart.options.locale,this.options.ticks.format)}}class xx extends CB{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Dr(t)?t:0,this.max=Dr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=Ro(this.options.ticks.minRotation),a=(t?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Et(xx,"id","linear"),Et(xx,"defaults",{ticks:{callback:zT.formatters.numeric}});const Nm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qs=Object.keys(Nm);function fN(e,t){return e-t}function hN(e,t){if(On(t))return null;const n=e._adapter,{parser:s,round:a,isoWeekday:o}=e._parseOpts;let c=t;return typeof s=="function"&&(c=s(c)),Dr(c)||(c=typeof s=="string"?n.parse(c,s):n.parse(c)),c===null?null:(a&&(c=a==="week"&&(Kh(o)||o===!0)?n.startOf(c,"isoWeek",o):n.startOf(c,a)),+c)}function mN(e,t,n,s){const a=qs.length;for(let o=qs.indexOf(e);o<a-1;++o){const c=Nm[qs[o]],d=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-t)/(d*c.size))<=s)return qs[o]}return qs[a-1]}function DB(e,t,n,s,a){for(let o=qs.length-1;o>=qs.indexOf(n);o--){const c=qs[o];if(Nm[c].common&&e._adapter.diff(a,s,c)>=t-1)return c}return qs[n?qs.indexOf(n):0]}function OB(e){for(let t=qs.indexOf(e)+1,n=qs.length;t<n;++t)if(Nm[qs[t]].common)return qs[t]}function pN(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:a}=Dy(n,t),o=n[s]>=t?n[s]:n[a];e[o]=!0}}function AB(e,t,n,s){const a=e._adapter,o=+a.startOf(t[0].value,s),c=t[t.length-1].value;let d,h;for(d=o;d<=c;d=+a.add(d,1,s))h=n[d],h>=0&&(t[h].major=!0);return t}function gN(e,t,n){const s=[],a={},o=t.length;let c,d;for(c=0;c<o;++c)d=t[c],a[d]=c,s.push({value:d,major:!1});return o===0||!n?s:AB(e,s,a,n)}class tm extends gc{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),a=this._adapter=new Vz._date(t.adapters.date);a.init(n),Bu(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:hN(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:d}=this.getUserBounds();function h(f){!c&&!isNaN(f.min)&&(a=Math.min(a,f.min)),!d&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!c||!d)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),a=Dr(a)&&!isNaN(a)?a:+n.startOf(Date.now(),s),o=Dr(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,d=F8(a,o,c);return this._unit=n.unit||(s.autoSkip?mN(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):DB(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:OB(this._unit),this.initOffsets(a),t.reverse&&d.reverse(),gN(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?n=1-a:n=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?s=o:s=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;n=Xs(n,0,c),s=Xs(s,0,c),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,a=this.options,o=a.time,c=o.unit||mN(o.minUnit,n,s,this._getLabelCapacity(n)),d=dn(a.ticks.stepSize,1),h=c==="week"?o.isoWeekday:!1,f=Kh(h)||h===!0,p={};let g=n,x,b;if(f&&(g=+t.startOf(g,"isoWeek",h)),g=+t.startOf(g,f?"day":c),t.diff(s,n,c)>1e5*d)throw new Error(n+" and "+s+" are too far apart with stepSize of "+d+" "+c);const j=a.ticks.source==="data"&&this.getDataTimestamps();for(x=g,b=0;x<s;x=+t.add(x,d,c),b++)pN(p,x,j);return(x===s||a.bounds==="ticks"||b===1)&&pN(p,x,j),Object.keys(p).sort(fN).map(v=>+v)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const a=this.options.time.displayFormats,o=this._unit,c=n||a[o];return this._adapter.format(t,c)}_tickFormatFunction(t,n,s,a){const o=this.options,c=o.ticks.callback;if(c)return _n(c,[t,n,s],this);const d=o.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&d[h],g=f&&d[f],x=s[n],b=f&&g&&x&&x.major;return this._adapter.format(t,a||(b?g:p))}generateTickLabels(t){let n,s,a;for(n=0,s=t.length;n<s;++n)a=t[n],a.label=this._tickFormatFunction(a.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,a=Ro(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),c=Math.sin(a),d=this._resolveTickFontOptions(0).size;return{w:s*o+d*c,h:s*c+d*o}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,a=s[n.unit]||s.millisecond,o=this._tickFormatFunction(t,0,gN(this,[t],this._majorUnit),a),c=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return d>0?d:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,s=a.length;n<s;++n)t=t.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const a=this.getLabels();for(n=0,s=a.length;n<s;++n)t.push(hN(this,a[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return H8(t.sort(fN))}}Et(tm,"id","time"),Et(tm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function lh(e,t,n){let s=0,a=e.length-1,o,c,d,h;n?(t>=e[s].pos&&t<=e[a].pos&&({lo:s,hi:a}=dx(e,"pos",t)),{pos:o,time:d}=e[s],{pos:c,time:h}=e[a]):(t>=e[s].time&&t<=e[a].time&&({lo:s,hi:a}=dx(e,"time",t)),{time:o,pos:d}=e[s],{time:c,pos:h}=e[a]);const f=c-o;return f?d+(h-d)*(t-o)/f:d}class xN extends tm{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=lh(n,this.min),this._tableRange=lh(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,a=[],o=[];let c,d,h,f,p;for(c=0,d=t.length;c<d;++c)f=t[c],f>=n&&f<=s&&a.push(f);if(a.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(c=0,d=a.length;c<d;++c)p=a[c+1],h=a[c-1],f=a[c],Math.round((p+h)/2)!==f&&o.push({time:f,pos:c/(d-1)});return o}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(lh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return lh(this._table,s*this._tableRange+this._minPos,!0)}}Et(xN,"id","timeseries"),Et(xN,"defaults",tm.defaults);ki.register(gx,xx,Ah,zu,gB,NB,mB);const RB=({className:e=""})=>i.jsx("div",{className:`inline-block animate-spin rounded-full border-4 border-gray-200 border-t-blue-600 h-6 w-6 ${e}`}),MB=()=>{const{allProjects:e,filteredData:t,selectedProject:n,selectedTeam:s,setSelectedProject:a,setSelectedTeam:o,isLoading:c}=AL();return c?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx(RB,{className:"h-12 w-12 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Đang tải dữ liệu..."})]})}):i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-800 text-center flex-1",children:"Bảng điều khiển quản lý dự án"}),i.jsx(QL,{projects:e,selectedProject:n,selectedTeam:s,onProjectChange:a,onTeamChange:o})]}),i.jsx(JL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),i.jsx(t8,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),i.jsx(e8,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n})]})})},ko=e=>e==null?"N/A":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(e);var xd=e=>e.type==="checkbox",Po=e=>e instanceof Date,Os=e=>e==null;const lE=e=>typeof e=="object";var Vn=e=>!Os(e)&&!Array.isArray(e)&&lE(e)&&!Po(e),cE=e=>Vn(e)&&e.target?xd(e.target)?e.target.checked:e.target.value:e,PB=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,uE=(e,t)=>e.has(PB(t)),LB=e=>{const t=e.constructor&&e.constructor.prototype;return Vn(t)&&t.hasOwnProperty("isPrototypeOf")},$y=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function ns(e){let t;const n=Array.isArray(e),s=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!($y&&(e instanceof Blob||s))&&(n||Vn(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!LB(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=ns(e[a]));else return e;return t}var Sm=e=>/^\w*$/.test(e),$n=e=>e===void 0,Hy=e=>Array.isArray(e)?e.filter(Boolean):[],Vy=e=>Hy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),We=(e,t,n)=>{if(!t||!Vn(e))return n;const s=(Sm(t)?[t]:Vy(t)).reduce((a,o)=>Os(a)?a:a[o],e);return $n(s)||s===e?$n(e[t])?n:e[t]:s},rr=e=>typeof e=="boolean",jn=(e,t,n)=>{let s=-1;const a=Sm(t)?[t]:Vy(t),o=a.length,c=o-1;for(;++s<o;){const d=a[s];let h=n;if(s!==c){const f=e[d];h=Vn(f)||Array.isArray(f)?f:isNaN(+a[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=h,e=e[d]}};const nm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$a={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},dE=re.createContext(null);dE.displayName="HookFormContext";const Iy=()=>re.useContext(dE);var fE=(e,t,n,s=!0)=>{const a={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const c=o;return t._proxyFormState[c]!==Vr.all&&(t._proxyFormState[c]=!s||Vr.all),n&&(n[c]=!0),e[c]}});return a};const qy=typeof window!="undefined"?re.useLayoutEffect:re.useEffect;function zB(e){const t=Iy(),{control:n=t.control,disabled:s,name:a,exact:o}=e||{},[c,d]=re.useState(n._formState),h=re.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return qy(()=>n._subscribe({name:a,formState:h.current,exact:o,callback:f=>{!s&&d(L(L({},n._formState),f))}}),[a,s,o]),re.useEffect(()=>{h.current.isValid&&n._setValid(!0)},[n]),re.useMemo(()=>fE(c,n,h.current,!1),[c,n])}var da=e=>typeof e=="string",hE=(e,t,n,s,a)=>da(e)?(s&&t.watch.add(e),We(n,e,a)):Array.isArray(e)?e.map(o=>(s&&t.watch.add(o),We(n,o))):(s&&(t.watchAll=!0),n),yx=e=>Os(e)||!lE(e);function Ya(e,t,n=new WeakSet){if(yx(e)||yx(t))return e===t;if(Po(e)&&Po(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const o of s){const c=e[o];if(!a.includes(o))return!1;if(o!=="ref"){const d=t[o];if(Po(c)&&Po(d)||Vn(c)&&Vn(d)||Array.isArray(c)&&Array.isArray(d)?!Ya(c,d,n):c!==d)return!1}}return!0}function UB(e){const t=Iy(),{control:n=t.control,name:s,defaultValue:a,disabled:o,exact:c,compute:d}=e||{},h=re.useRef(a),f=re.useRef(d),p=re.useRef(void 0);f.current=d;const g=re.useMemo(()=>n._getWatch(s,h.current),[n,s]),[x,b]=re.useState(f.current?f.current(g):g);return qy(()=>n._subscribe({name:s,formState:{values:!0},exact:c,callback:j=>{if(!o){const v=hE(s,n._names,j.values||n._formValues,!1,h.current);if(f.current){const S=f.current(v);Ya(S,p.current)||(b(S),p.current=S)}else b(v)}}}),[n,o,s,c]),re.useEffect(()=>n._removeUnmounted()),x}function BB(e){const t=Iy(),{name:n,disabled:s,control:a=t.control,shouldUnregister:o,defaultValue:c}=e,d=uE(a._names.array,n),h=re.useMemo(()=>We(a._formValues,n,We(a._defaultValues,n,c)),[a,n,c]),f=UB({control:a,name:n,defaultValue:h,exact:!0}),p=zB({control:a,name:n,exact:!0}),g=re.useRef(e),x=re.useRef(a.register(n,L(oe(L({},e.rules),{value:f}),rr(e.disabled)?{disabled:e.disabled}:{})));g.current=e;const b=re.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!We(p.errors,n)},isDirty:{enumerable:!0,get:()=>!!We(p.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!We(p.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!We(p.validatingFields,n)},error:{enumerable:!0,get:()=>We(p.errors,n)}}),[p,n]),j=re.useCallback(A=>x.current.onChange({target:{value:cE(A),name:n},type:nm.CHANGE}),[n]),v=re.useCallback(()=>x.current.onBlur({target:{value:We(a._formValues,n),name:n},type:nm.BLUR}),[n,a._formValues]),S=re.useCallback(A=>{const E=We(a._fields,n);E&&A&&(E._f.ref={focus:()=>A.focus&&A.focus(),select:()=>A.select&&A.select(),setCustomValidity:T=>A.setCustomValidity(T),reportValidity:()=>A.reportValidity()})},[a._fields,n]),N=re.useMemo(()=>oe(L({name:n,value:f},rr(s)||p.disabled?{disabled:p.disabled||s}:{}),{onChange:j,onBlur:v,ref:S}),[n,s,p.disabled,j,v,S,f]);return re.useEffect(()=>{const A=a._options.shouldUnregister||o;a.register(n,L(L({},g.current.rules),rr(g.current.disabled)?{disabled:g.current.disabled}:{}));const E=(T,D)=>{const C=We(a._fields,T);C&&C._f&&(C._f.mount=D)};if(E(n,!0),A){const T=ns(We(a._options.defaultValues,n));jn(a._defaultValues,n,T),$n(We(a._formValues,n))&&jn(a._formValues,n,T)}return!d&&a.register(n),()=>{(d?A&&!a._state.action:A)?a.unregister(n):E(n,!1)}},[n,a,d,o]),re.useEffect(()=>{a._setDisabledField({disabled:s,name:n})},[s,n,a]),re.useMemo(()=>({field:N,formState:p,fieldState:b}),[N,p,b])}const _r=e=>e.render(BB(e));var FB=(e,t,n,s,a)=>t?oe(L({},n[e]),{types:oe(L({},n[e]&&n[e].types?n[e].types:{}),{[s]:a||!0})}):{},Hu=e=>Array.isArray(e)?e:[e],yN=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}},Hs=e=>Vn(e)&&!Object.keys(e).length,Wy=e=>e.type==="file",Ir=e=>typeof e=="function",sm=e=>{if(!$y)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},mE=e=>e.type==="select-multiple",Yy=e=>e.type==="radio",$B=e=>Yy(e)||xd(e),b0=e=>sm(e)&&e.isConnected;function HB(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=$n(e)?s++:e[t[s++]];return e}function VB(e){for(const t in e)if(e.hasOwnProperty(t)&&!$n(e[t]))return!1;return!0}function Xn(e,t){const n=Array.isArray(t)?t:Sm(t)?[t]:Vy(t),s=n.length===1?e:HB(e,n),a=n.length-1,o=n[a];return s&&delete s[o],a!==0&&(Vn(s)&&Hs(s)||Array.isArray(s)&&VB(s))&&Xn(e,n.slice(0,-1)),e}var pE=e=>{for(const t in e)if(Ir(e[t]))return!0;return!1};function rm(e,t={}){const n=Array.isArray(e);if(Vn(e)||n)for(const s in e)Array.isArray(e[s])||Vn(e[s])&&!pE(e[s])?(t[s]=Array.isArray(e[s])?[]:{},rm(e[s],t[s])):Os(e[s])||(t[s]=!0);return t}function gE(e,t,n){const s=Array.isArray(e);if(Vn(e)||s)for(const a in e)Array.isArray(e[a])||Vn(e[a])&&!pE(e[a])?$n(t)||yx(n[a])?n[a]=Array.isArray(e[a])?rm(e[a],[]):L({},rm(e[a])):gE(e[a],Os(t)?{}:t[a],n[a]):n[a]=!Ya(e[a],t[a]);return n}var Eu=(e,t)=>gE(e,t,rm(t));const bN={value:!1,isValid:!1},vN={value:!0,isValid:!0};var xE=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!$n(e[0].attributes.value)?$n(e[0].value)||e[0].value===""?vN:{value:e[0].value,isValid:!0}:vN:bN}return bN},yE=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>$n(e)?e:t?e===""?NaN:e&&+e:n&&da(e)?new Date(e):s?s(e):e;const wN={isValid:!1,value:null};var bE=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,wN):wN;function jN(e){const t=e.ref;return Wy(t)?t.files:Yy(t)?bE(e.refs).value:mE(t)?[...t.selectedOptions].map(({value:n})=>n):xd(t)?xE(e.refs).value:yE($n(t.value)?e.ref.value:t.value,e)}var IB=(e,t,n,s)=>{const a={};for(const o of e){const c=We(t,o);c&&jn(a,o,c._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:s}},am=e=>e instanceof RegExp,ku=e=>$n(e)?e:am(e)?e.source:Vn(e)?am(e.value)?e.value.source:e.value:e,_N=e=>({isOnSubmit:!e||e===Vr.onSubmit,isOnBlur:e===Vr.onBlur,isOnChange:e===Vr.onChange,isOnAll:e===Vr.all,isOnTouch:e===Vr.onTouched});const NN="AsyncFunction";var qB=e=>!!e&&!!e.validate&&!!(Ir(e.validate)&&e.validate.constructor.name===NN||Vn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===NN)),WB=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),SN=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Vu=(e,t,n,s)=>{for(const o of n||Object.keys(e)){const c=We(e,o);if(c){const a=c,{_f:d}=a,h=Oe(a,["_f"]);if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],o)&&!s)return!0;if(d.ref&&t(d.ref,d.name)&&!s)return!0;if(Vu(h,t))break}else if(Vn(h)&&Vu(h,t))break}}};function TN(e,t,n){const s=We(e,n);if(s||Sm(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const o=a.join("."),c=We(t,o),d=We(e,o);if(c&&!Array.isArray(c)&&n!==o)return{name:n};if(d&&d.type)return{name:o,error:d};if(d&&d.root&&d.root.type)return{name:`${o}.root`,error:d.root};a.pop()}return{name:n}}var YB=(e,t,n,s)=>{n(e);const c=e,{name:a}=c,o=Oe(c,["name"]);return Hs(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(d=>t[d]===(!s||Vr.all))},XB=(e,t,n)=>!e||!t||e===t||Hu(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),GB=(e,t,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?s.isOnBlur:a.isOnBlur)?!e:(n?s.isOnChange:a.isOnChange)?e:!0,KB=(e,t)=>!Hy(We(e,t)).length&&Xn(e,t),QB=(e,t,n)=>{const s=Hu(We(e,n));return jn(s,"root",t[n]),jn(e,n,s),e},Rh=e=>da(e);function EN(e,t,n="validate"){if(Rh(e)||Array.isArray(e)&&e.every(Rh)||rr(e)&&!e)return{type:n,message:Rh(e)?e:"",ref:t}}var $l=e=>Vn(e)&&!am(e)?e:{value:e,message:""},kN=(e,t,n,s,a,o)=>ve(null,null,function*(){const{ref:c,refs:d,required:h,maxLength:f,minLength:p,min:g,max:x,pattern:b,validate:j,name:v,valueAsNumber:S,mount:N}=e._f,A=We(n,v);if(!N||t.has(v))return{};const E=d?d[0]:c,T=Q=>{a&&E.reportValidity&&(E.setCustomValidity(rr(Q)?"":Q||""),E.reportValidity())},D={},C=Yy(c),z=xd(c),U=C||z,R=(S||Wy(c))&&$n(c.value)&&$n(A)||sm(c)&&c.value===""||A===""||Array.isArray(A)&&!A.length,G=FB.bind(null,v,s,D),q=(Q,W,Y,H=$a.maxLength,F=$a.minLength)=>{const Z=Q?W:Y;D[v]=L({type:Q?H:F,message:Z,ref:c},G(Q?H:F,Z))};if(o?!Array.isArray(A)||!A.length:h&&(!U&&(R||Os(A))||rr(A)&&!A||z&&!xE(d).isValid||C&&!bE(d).isValid)){const{value:Q,message:W}=Rh(h)?{value:!!h,message:h}:$l(h);if(Q&&(D[v]=L({type:$a.required,message:W,ref:E},G($a.required,W)),!s))return T(W),D}if(!R&&(!Os(g)||!Os(x))){let Q,W;const Y=$l(x),H=$l(g);if(!Os(A)&&!isNaN(A)){const F=c.valueAsNumber||A&&+A;Os(Y.value)||(Q=F>Y.value),Os(H.value)||(W=F<H.value)}else{const F=c.valueAsDate||new Date(A),Z=M=>new Date(new Date().toDateString()+" "+M),ee=c.type=="time",ce=c.type=="week";da(Y.value)&&A&&(Q=ee?Z(A)>Z(Y.value):ce?A>Y.value:F>new Date(Y.value)),da(H.value)&&A&&(W=ee?Z(A)<Z(H.value):ce?A<H.value:F<new Date(H.value))}if((Q||W)&&(q(!!Q,Y.message,H.message,$a.max,$a.min),!s))return T(D[v].message),D}if((f||p)&&!R&&(da(A)||o&&Array.isArray(A))){const Q=$l(f),W=$l(p),Y=!Os(Q.value)&&A.length>+Q.value,H=!Os(W.value)&&A.length<+W.value;if((Y||H)&&(q(Y,Q.message,W.message),!s))return T(D[v].message),D}if(b&&!R&&da(A)){const{value:Q,message:W}=$l(b);if(am(Q)&&!A.match(Q)&&(D[v]=L({type:$a.pattern,message:W,ref:c},G($a.pattern,W)),!s))return T(W),D}if(j){if(Ir(j)){const Q=yield j(A,n),W=EN(Q,E);if(W&&(D[v]=L(L({},W),G($a.validate,W.message)),!s))return T(W.message),D}else if(Vn(j)){let Q={};for(const W in j){if(!Hs(Q)&&!s)break;const Y=EN(yield j[W](A,n),E,W);Y&&(Q=L(L({},Y),G(W,Y.message)),T(Y.message),s&&(D[v]=Q))}if(!Hs(Q)&&(D[v]=L({ref:E},Q),!s))return D}}return T(!0),D});const ZB={mode:Vr.onSubmit,reValidateMode:Vr.onChange,shouldFocusError:!0};function JB(e={}){let t=L(L({},ZB),e),n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ir(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Vn(t.defaultValues)||Vn(t.values)?ns(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:ns(a),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,f=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g=L({},p);const x={array:yN(),state:yN()},b=t.criteriaMode===Vr.all,j=K=>fe=>{clearTimeout(f),f=setTimeout(K,fe)},v=K=>ve(null,null,function*(){if(!t.disabled&&(p.isValid||g.isValid||K)){const fe=t.resolver?Hs((yield z()).errors):yield R(s,!0);fe!==n.isValid&&x.state.next({isValid:fe})}}),S=(K,fe)=>{!t.disabled&&(p.isValidating||p.validatingFields||g.isValidating||g.validatingFields)&&((K||Array.from(d.mount)).forEach(X=>{X&&(fe?jn(n.validatingFields,X,fe):Xn(n.validatingFields,X))}),x.state.next({validatingFields:n.validatingFields,isValidating:!Hs(n.validatingFields)}))},N=(K,fe=[],X,Ne,Le=!0,Re=!0)=>{if(Ne&&X&&!t.disabled){if(c.action=!0,Re&&Array.isArray(We(s,K))){const He=X(We(s,K),Ne.argA,Ne.argB);Le&&jn(s,K,He)}if(Re&&Array.isArray(We(n.errors,K))){const He=X(We(n.errors,K),Ne.argA,Ne.argB);Le&&jn(n.errors,K,He),KB(n.errors,K)}if((p.touchedFields||g.touchedFields)&&Re&&Array.isArray(We(n.touchedFields,K))){const He=X(We(n.touchedFields,K),Ne.argA,Ne.argB);Le&&jn(n.touchedFields,K,He)}(p.dirtyFields||g.dirtyFields)&&(n.dirtyFields=Eu(a,o)),x.state.next({name:K,isDirty:q(K,fe),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else jn(o,K,fe)},A=(K,fe)=>{jn(n.errors,K,fe),x.state.next({errors:n.errors})},E=K=>{n.errors=K,x.state.next({errors:n.errors,isValid:!1})},T=(K,fe,X,Ne)=>{const Le=We(s,K);if(Le){const Re=We(o,K,$n(X)?We(a,K):X);$n(Re)||Ne&&Ne.defaultChecked||fe?jn(o,K,fe?Re:jN(Le._f)):Y(K,Re),c.mount&&v()}},D=(K,fe,X,Ne,Le)=>{let Re=!1,He=!1;const Ye={name:K};if(!t.disabled){if(!X||Ne){(p.isDirty||g.isDirty)&&(He=n.isDirty,n.isDirty=Ye.isDirty=q(),Re=He!==Ye.isDirty);const et=Ya(We(a,K),fe);He=!!We(n.dirtyFields,K),et?Xn(n.dirtyFields,K):jn(n.dirtyFields,K,!0),Ye.dirtyFields=n.dirtyFields,Re=Re||(p.dirtyFields||g.dirtyFields)&&He!==!et}if(X){const et=We(n.touchedFields,K);et||(jn(n.touchedFields,K,X),Ye.touchedFields=n.touchedFields,Re=Re||(p.touchedFields||g.touchedFields)&&et!==X)}Re&&Le&&x.state.next(Ye)}return Re?Ye:{}},C=(K,fe,X,Ne)=>{const Le=We(n.errors,K),Re=(p.isValid||g.isValid)&&rr(fe)&&n.isValid!==fe;if(t.delayError&&X?(h=j(()=>A(K,X)),h(t.delayError)):(clearTimeout(f),h=null,X?jn(n.errors,K,X):Xn(n.errors,K)),(X?!Ya(Le,X):Le)||!Hs(Ne)||Re){const He=oe(L(L({},Ne),Re&&rr(fe)?{isValid:fe}:{}),{errors:n.errors,name:K});n=L(L({},n),He),x.state.next(He)}},z=K=>ve(null,null,function*(){S(K,!0);const fe=yield t.resolver(o,t.context,IB(K||d.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return S(K),fe}),U=K=>ve(null,null,function*(){const{errors:fe}=yield z(K);if(K)for(const X of K){const Ne=We(fe,X);Ne?jn(n.errors,X,Ne):Xn(n.errors,X)}else n.errors=fe;return fe}),R=(Ne,Le,...Re)=>ve(null,[Ne,Le,...Re],function*(K,fe,X={valid:!0}){for(const Ye in K){const et=K[Ye];if(et){const He=et,{_f:jt}=He,Se=Oe(He,["_f"]);if(jt){const Pe=d.array.has(jt.name),qe=et._f&&qB(et._f);qe&&p.validatingFields&&S([Ye],!0);const Ft=yield kN(et,d.disabled,o,b,t.shouldUseNativeValidation&&!fe,Pe);if(qe&&p.validatingFields&&S([Ye]),Ft[jt.name]&&(X.valid=!1,fe))break;!fe&&(We(Ft,jt.name)?Pe?QB(n.errors,Ft,jt.name):jn(n.errors,jt.name,Ft[jt.name]):Xn(n.errors,jt.name))}!Hs(Se)&&(yield R(Se,fe,X))}}return X.valid}),G=()=>{for(const K of d.unMount){const fe=We(s,K);fe&&(fe._f.refs?fe._f.refs.every(X=>!b0(X)):!b0(fe._f.ref))&&Ee(K)}d.unMount=new Set},q=(K,fe)=>!t.disabled&&(K&&fe&&jn(o,K,fe),!Ya(M(),a)),Q=(K,fe,X)=>hE(K,d,L({},c.mount?o:$n(fe)?a:da(K)?{[K]:fe}:fe),X,fe),W=K=>Hy(We(c.mount?o:a,K,t.shouldUnregister?We(a,K,[]):[])),Y=(K,fe,X={})=>{const Ne=We(s,K);let Le=fe;if(Ne){const Re=Ne._f;Re&&(!Re.disabled&&jn(o,K,yE(fe,Re)),Le=sm(Re.ref)&&Os(fe)?"":fe,mE(Re.ref)?[...Re.ref.options].forEach(He=>He.selected=Le.includes(He.value)):Re.refs?xd(Re.ref)?Re.refs.forEach(He=>{(!He.defaultChecked||!He.disabled)&&(Array.isArray(Le)?He.checked=!!Le.find(Ye=>Ye===He.value):He.checked=Le===He.value||!!Le)}):Re.refs.forEach(He=>He.checked=He.value===Le):Wy(Re.ref)?Re.ref.value="":(Re.ref.value=Le,Re.ref.type||x.state.next({name:K,values:ns(o)})))}(X.shouldDirty||X.shouldTouch)&&D(K,Le,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&ce(K)},H=(K,fe,X)=>{for(const Ne in fe){if(!fe.hasOwnProperty(Ne))return;const Le=fe[Ne],Re=K+"."+Ne,He=We(s,Re);(d.array.has(K)||Vn(Le)||He&&!He._f)&&!Po(Le)?H(Re,Le,X):Y(Re,Le,X)}},F=(K,fe,X={})=>{const Ne=We(s,K),Le=d.array.has(K),Re=ns(fe);jn(o,K,Re),Le?(x.array.next({name:K,values:ns(o)}),(p.isDirty||p.dirtyFields||g.isDirty||g.dirtyFields)&&X.shouldDirty&&x.state.next({name:K,dirtyFields:Eu(a,o),isDirty:q(K,Re)})):Ne&&!Ne._f&&!Os(Re)?H(K,Re,X):Y(K,Re,X),SN(K,d)&&x.state.next(oe(L({},n),{name:K})),x.state.next({name:c.mount?K:void 0,values:ns(o)})},Z=K=>ve(null,null,function*(){c.mount=!0;const fe=K.target;let X=fe.name,Ne=!0;const Le=We(s,X),Re=et=>{Ne=Number.isNaN(et)||Po(et)&&isNaN(et.getTime())||Ya(et,We(o,X,et))},He=_N(t.mode),Ye=_N(t.reValidateMode);if(Le){let et,jt;const Se=fe.type?jN(Le._f):cE(K),Pe=K.type===nm.BLUR||K.type===nm.FOCUS_OUT,qe=!WB(Le._f)&&!t.resolver&&!We(n.errors,X)&&!Le._f.deps||GB(Pe,We(n.touchedFields,X),n.isSubmitted,Ye,He),Ft=SN(X,d,Pe);jn(o,X,Se),Pe?(!fe||!fe.readOnly)&&(Le._f.onBlur&&Le._f.onBlur(K),h&&h(0)):Le._f.onChange&&Le._f.onChange(K);const Xt=D(X,Se,Pe),Gt=!Hs(Xt)||Ft;if(!Pe&&x.state.next({name:X,type:K.type,values:ns(o)}),qe)return(p.isValid||g.isValid)&&(t.mode==="onBlur"?Pe&&v():Pe||v()),Gt&&x.state.next(L({name:X},Ft?{}:Xt));if(!Pe&&Ft&&x.state.next(L({},n)),t.resolver){const{errors:on}=yield z([X]);if(Re(Se),Ne){const In=TN(n.errors,s,X),rs=TN(on,s,In.name||X);et=rs.error,X=rs.name,jt=Hs(on)}}else S([X],!0),et=(yield kN(Le,d.disabled,o,b,t.shouldUseNativeValidation))[X],S([X]),Re(Se),Ne&&(et?jt=!1:(p.isValid||g.isValid)&&(jt=yield R(s,!0)));Ne&&(Le._f.deps&&ce(Le._f.deps),C(X,jt,et,Xt))}}),ee=(K,fe)=>{if(We(n.errors,fe)&&K.focus)return K.focus(),1},ce=(X,...Ne)=>ve(null,[X,...Ne],function*(K,fe={}){let Le,Re;const He=Hu(K);if(t.resolver){const Ye=yield U($n(K)?K:He);Le=Hs(Ye),Re=K?!He.some(et=>We(Ye,et)):Le}else K?(Re=(yield Promise.all(He.map(Ye=>ve(null,null,function*(){const et=We(s,Ye);return yield R(et&&et._f?{[Ye]:et}:et)})))).every(Boolean),!(!Re&&!n.isValid)&&v()):Re=Le=yield R(s);return x.state.next(oe(L(L({},!da(K)||(p.isValid||g.isValid)&&Le!==n.isValid?{}:{name:K}),t.resolver||!K?{isValid:Le}:{}),{errors:n.errors})),fe.shouldFocus&&!Re&&Vu(s,ee,K?He:d.mount),Re}),M=K=>{const fe=L({},c.mount?o:a);return $n(K)?fe:da(K)?We(fe,K):K.map(X=>We(fe,X))},ie=(K,fe)=>({invalid:!!We((fe||n).errors,K),isDirty:!!We((fe||n).dirtyFields,K),error:We((fe||n).errors,K),isValidating:!!We(n.validatingFields,K),isTouched:!!We((fe||n).touchedFields,K)}),se=K=>{K&&Hu(K).forEach(fe=>Xn(n.errors,fe)),x.state.next({errors:K?n.errors:{}})},V=(K,fe,X)=>{const Ne=(We(s,K,{_f:{}})._f||{}).ref,jt=We(n.errors,K)||{},{ref:Re,message:He,type:Ye}=jt,et=Oe(jt,["ref","message","type"]);jn(n.errors,K,oe(L(L({},et),fe),{ref:Ne})),x.state.next({name:K,errors:n.errors,isValid:!1}),X&&X.shouldFocus&&Ne&&Ne.focus&&Ne.focus()},ne=(K,fe)=>Ir(K)?x.state.subscribe({next:X=>"values"in X&&K(Q(void 0,fe),X)}):Q(K,fe,!0),ge=K=>x.state.subscribe({next:fe=>{XB(K.name,fe.name,K.exact)&&YB(fe,K.formState||p,Me,K.reRenderRoot)&&K.callback(oe(L(L({values:L({},o)},n),fe),{defaultValues:a}))}}).unsubscribe,he=K=>(c.mount=!0,g=L(L({},g),K.formState),ge(oe(L({},K),{formState:g}))),Ee=(K,fe={})=>{for(const X of K?Hu(K):d.mount)d.mount.delete(X),d.array.delete(X),fe.keepValue||(Xn(s,X),Xn(o,X)),!fe.keepError&&Xn(n.errors,X),!fe.keepDirty&&Xn(n.dirtyFields,X),!fe.keepTouched&&Xn(n.touchedFields,X),!fe.keepIsValidating&&Xn(n.validatingFields,X),!t.shouldUnregister&&!fe.keepDefaultValue&&Xn(a,X);x.state.next({values:ns(o)}),x.state.next(L(L({},n),fe.keepDirty?{isDirty:q()}:{})),!fe.keepIsValid&&v()},Ce=({disabled:K,name:fe})=>{(rr(K)&&c.mount||K||d.disabled.has(fe))&&(K?d.disabled.add(fe):d.disabled.delete(fe))},Ve=(K,fe={})=>{let X=We(s,K);const Ne=rr(fe.disabled)||rr(t.disabled);return jn(s,K,oe(L({},X||{}),{_f:L(oe(L({},X&&X._f?X._f:{ref:{name:K}}),{name:K,mount:!0}),fe)})),d.mount.add(K),X?Ce({disabled:rr(fe.disabled)?fe.disabled:t.disabled,name:K}):T(K,!0,fe.value),oe(L(L({},Ne?{disabled:fe.disabled||t.disabled}:{}),t.progressive?{required:!!fe.required,min:ku(fe.min),max:ku(fe.max),minLength:ku(fe.minLength),maxLength:ku(fe.maxLength),pattern:ku(fe.pattern)}:{}),{name:K,onChange:Z,onBlur:Z,ref:Le=>{if(Le){Ve(K,fe),X=We(s,K);const Re=$n(Le.value)&&Le.querySelectorAll&&Le.querySelectorAll("input,select,textarea")[0]||Le,He=$B(Re),Ye=X._f.refs||[];if(He?Ye.find(et=>et===Re):Re===X._f.ref)return;jn(s,K,{_f:L(L({},X._f),He?{refs:[...Ye.filter(b0),Re,...Array.isArray(We(a,K))?[{}]:[]],ref:{type:Re.type,name:K}}:{ref:Re})}),T(K,!1,void 0,Re)}else X=We(s,K,{}),X._f&&(X._f.mount=!1),(t.shouldUnregister||fe.shouldUnregister)&&!(uE(d.array,K)&&c.action)&&d.unMount.add(K)}})},ze=()=>t.shouldFocusError&&Vu(s,ee,d.mount),tt=K=>{rr(K)&&(x.state.next({disabled:K}),Vu(s,(fe,X)=>{const Ne=We(s,X);Ne&&(fe.disabled=Ne._f.disabled||K,Array.isArray(Ne._f.refs)&&Ne._f.refs.forEach(Le=>{Le.disabled=Ne._f.disabled||K}))},0,!1))},Ke=(K,fe)=>X=>ve(null,null,function*(){let Ne;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let Le=ns(o);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:Re,values:He}=yield z();n.errors=Re,Le=ns(He)}else yield R(s);if(d.disabled.size)for(const Re of d.disabled)Xn(Le,Re);if(Xn(n.errors,"root"),Hs(n.errors)){x.state.next({errors:{}});try{yield K(Le,X)}catch(Re){Ne=Re}}else fe&&(yield fe(L({},n.errors),X)),ze(),setTimeout(ze);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Hs(n.errors)&&!Ne,submitCount:n.submitCount+1,errors:n.errors}),Ne)throw Ne}),mt=(K,fe={})=>{We(s,K)&&($n(fe.defaultValue)?F(K,ns(We(a,K))):(F(K,fe.defaultValue),jn(a,K,ns(fe.defaultValue))),fe.keepTouched||Xn(n.touchedFields,K),fe.keepDirty||(Xn(n.dirtyFields,K),n.isDirty=fe.defaultValue?q(K,ns(We(a,K))):q()),fe.keepError||(Xn(n.errors,K),p.isValid&&v()),x.state.next(L({},n)))},Ue=(K,fe={})=>{const X=K?ns(K):a,Ne=ns(X),Le=Hs(K),Re=Le?a:Ne;if(fe.keepDefaultValues||(a=X),!fe.keepValues){if(fe.keepDirtyValues){const He=new Set([...d.mount,...Object.keys(Eu(a,o))]);for(const Ye of Array.from(He))We(n.dirtyFields,Ye)?jn(Re,Ye,We(o,Ye)):F(Ye,We(Re,Ye))}else{if($y&&$n(K))for(const He of d.mount){const Ye=We(s,He);if(Ye&&Ye._f){const et=Array.isArray(Ye._f.refs)?Ye._f.refs[0]:Ye._f.ref;if(sm(et)){const jt=et.closest("form");if(jt){jt.reset();break}}}}if(fe.keepFieldsRef)for(const He of d.mount)F(He,We(Re,He));else s={}}o=t.shouldUnregister?fe.keepDefaultValues?ns(a):{}:ns(Re),x.array.next({values:L({},Re)}),x.state.next({values:L({},Re)})}d={mount:fe.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!p.isValid||!!fe.keepIsValid||!!fe.keepDirtyValues,c.watch=!!t.shouldUnregister,x.state.next({submitCount:fe.keepSubmitCount?n.submitCount:0,isDirty:Le?!1:fe.keepDirty?n.isDirty:!!(fe.keepDefaultValues&&!Ya(K,a)),isSubmitted:fe.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Le?{}:fe.keepDirtyValues?fe.keepDefaultValues&&o?Eu(a,o):n.dirtyFields:fe.keepDefaultValues&&K?Eu(a,K):fe.keepDirty?n.dirtyFields:{},touchedFields:fe.keepTouched?n.touchedFields:{},errors:fe.keepErrors?n.errors:{},isSubmitSuccessful:fe.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},gt=(K,fe)=>Ue(Ir(K)?K(o):K,fe),Je=(K,fe={})=>{const X=We(s,K),Ne=X&&X._f;if(Ne){const Le=Ne.refs?Ne.refs[0]:Ne.ref;Le.focus&&(Le.focus(),fe.shouldSelect&&Ir(Le.select)&&Le.select())}},Me=K=>{n=L(L({},n),K)},ot={control:{register:Ve,unregister:Ee,getFieldState:ie,handleSubmit:Ke,setError:V,_subscribe:ge,_runSchema:z,_focusError:ze,_getWatch:Q,_getDirty:q,_setValid:v,_setFieldArray:N,_setDisabledField:Ce,_setErrors:E,_getFieldArray:W,_reset:Ue,_resetDefaultValues:()=>Ir(t.defaultValues)&&t.defaultValues().then(K=>{gt(K,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:tt,_subjects:x,_proxyFormState:p,get _fields(){return s},get _formValues(){return o},get _state(){return c},set _state(K){c=K},get _defaultValues(){return a},get _names(){return d},set _names(K){d=K},get _formState(){return n},get _options(){return t},set _options(K){t=L(L({},t),K)}},subscribe:he,trigger:ce,register:Ve,handleSubmit:Ke,watch:ne,setValue:F,getValues:M,reset:gt,resetField:mt,clearErrors:se,unregister:Ee,setError:V,setFocus:Je,getFieldState:ie};return oe(L({},ot),{formControl:ot})}function sd(e={}){const t=re.useRef(void 0),n=re.useRef(void 0),[s,a]=re.useState({isDirty:!1,isValidating:!1,isLoading:Ir(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ir(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=oe(L({},e.formControl),{formState:s}),e.defaultValues&&!Ir(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const c=JB(e),{formControl:d}=c,h=Oe(c,["formControl"]);t.current=oe(L({},h),{formState:s})}const o=t.current.control;return o._options=e,qy(()=>{const d=o._subscribe({formState:o._proxyFormState,callback:()=>a(L({},o._formState)),reRenderRoot:!0});return a(h=>oe(L({},h),{isReady:!0})),o._formState.isReady=!0,d},[o]),re.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),re.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),re.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),re.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),re.useEffect(()=>{if(o._proxyFormState.isDirty){const d=o._getDirty();d!==s.isDirty&&o._subjects.state.next({isDirty:d})}},[o,s.isDirty]),re.useEffect(()=>{e.values&&!Ya(e.values,n.current)?(o._reset(e.values,L({keepFieldsRef:!0},o._options.resetOptions)),n.current=e.values,a(d=>L({},d))):o._resetDefaultValues()},[o,e.values]),re.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(L({},o._formState))),o._removeUnmounted()}),t.current.formState=fE(s,o),t.current}const eF=0,tF=1,nF=2;var CN=Object.prototype.hasOwnProperty;function bx(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&bx(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(CN.call(e,n)&&++s&&!CN.call(t,n)||!(n in t)||!bx(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const Co=new WeakMap,Ri=()=>{},Nr=Ri(),vx=Object,fa=e=>e===Nr,Do=e=>typeof e=="function",Tm=(e,t)=>L(L({},e),t),sF=e=>Do(e.then),v0={},ch={},vE="undefined",Xy=typeof window!=vE,wx=typeof document!=vE,rF=Xy&&"Deno"in window,aF=(e,t)=>{const n=Co.get(e);return[()=>!fa(t)&&e.get(t)||v0,s=>{if(!fa(t)){const a=e.get(t);t in ch||(ch[t]=a),n[5](t,Tm(a,s),a||v0)}},n[6],()=>!fa(t)&&t in ch?ch[t]:!fa(t)&&e.get(t)||v0]};let jx=!0;const iF=()=>jx,[_x,Nx]=Xy&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ri,Ri],oF=()=>{const e=wx&&document.visibilityState;return fa(e)||e!=="hidden"},lF=e=>(wx&&document.addEventListener("visibilitychange",e),_x("focus",e),()=>{wx&&document.removeEventListener("visibilitychange",e),Nx("focus",e)}),cF=e=>{const t=()=>{jx=!0,e()},n=()=>{jx=!1};return _x("online",t),_x("offline",n),()=>{Nx("online",t),Nx("offline",n)}},uF={isOnline:iF,isVisible:oF},dF={initFocus:lF,initReconnect:cF};re.useId;const wE=!Xy||rF,w0=typeof navigator!="undefined"&&navigator.connection,DN=!wE&&w0&&(["slow-2g","2g"].includes(w0.effectiveType)||w0.saveData),uh=new WeakMap,fF=e=>vx.prototype.toString.call(e),j0=(e,t)=>e===`[object ${t}]`;let hF=0;const Sx=e=>{const t=typeof e,n=fF(e),s=j0(n,"Date"),a=j0(n,"RegExp"),o=j0(n,"Object");let c,d;if(vx(e)===e&&!s&&!a){if(c=uh.get(e),c)return c;if(c=++hF+"~",uh.set(e,c),Array.isArray(e)){for(c="@",d=0;d<e.length;d++)c+=Sx(e[d])+",";uh.set(e,c)}if(o){c="#";const h=vx.keys(e).sort();for(;!fa(d=h.pop());)fa(e[d])||(c+=d+":"+Sx(e[d])+",");uh.set(e,c)}}else c=s?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return c},mF=e=>{if(Do(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Sx(e):"",[e,t]};let pF=0;const ON=()=>++pF;function gF(...e){return ve(this,null,function*(){const[t,n,s,a]=e,o=Tm({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let c=o.populateCache;const d=o.rollbackOnError;let h=o.optimisticData;const f=x=>typeof d=="function"?d(x):d!==!1,p=o.throwOnError;if(Do(n)){const x=n,b=[],j=t.keys();for(const v of j)!/^\$(inf|sub)\$/.test(v)&&x(t.get(v)._k)&&b.push(v);return Promise.all(b.map(g))}return g(n);function g(x){return ve(this,null,function*(){const[b]=mF(x);if(!b)return;const[j,v]=aF(t,b),[S,N,A,E]=Co.get(t),T=()=>{const Y=S[b];return(Do(o.revalidate)?o.revalidate(j().data,x):o.revalidate!==!1)&&(delete A[b],delete E[b],Y&&Y[0])?Y[0](nF).then(()=>j().data):j().data};if(e.length<3)return T();let D=s,C,z=!1;const U=ON();N[b]=[U,0];const R=!fa(h),G=j(),q=G.data,Q=G._c,W=fa(Q)?q:Q;if(R&&(h=Do(h)?h(W,q):h,v({data:h,_c:W})),Do(D))try{D=D(W)}catch(Y){C=Y,z=!0}if(D&&sF(D))if(D=yield D.catch(Y=>{C=Y,z=!0}),U!==N[b][0]){if(z)throw C;return D}else z&&R&&f(C)&&(c=!0,v({data:W,_c:Nr}));if(c&&!z)if(Do(c)){const Y=c(D,W);v({data:Y,error:Nr,_c:Nr})}else v({data:D,error:Nr,_c:Nr});if(N[b][1]=ON(),Promise.resolve(T()).then(()=>{v({_c:Nr})}),z){if(p)throw C;return}return D})}})}const AN=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},xF=(e,t)=>{if(!Co.has(e)){const n=Tm(dF,t),s=Object.create(null),a=gF.bind(Nr,e);let o=Ri;const c=Object.create(null),d=(p,g)=>{const x=c[p]||[];return c[p]=x,x.push(g),()=>x.splice(x.indexOf(g),1)},h=(p,g,x)=>{e.set(p,g);const b=c[p];if(b)for(const j of b)j(g,x)},f=()=>{if(!Co.has(e)&&(Co.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,h,d]),!wE)){const p=n.initFocus(setTimeout.bind(Nr,AN.bind(Nr,s,eF))),g=n.initReconnect(setTimeout.bind(Nr,AN.bind(Nr,s,tF)));o=()=>{p&&p(),g&&g(),Co.delete(e)}}};return f(),[e,a,f,o]}return[e,Co.get(e)[4]]},yF=(e,t,n,s,a)=>{const o=n.errorRetryCount,c=a.retryCount,d=~~((Math.random()+.5)*(1<<(c<8?c:8)))*n.errorRetryInterval;!fa(o)&&c>o||setTimeout(s,d,a)},bF=bx,[vF,ec]=xF(new Map);Tm({onLoadingSlow:Ri,onSuccess:Ri,onError:Ri,onErrorRetry:yF,onDiscarded:Ri,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:DN?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:DN?5e3:3e3,compare:bF,isPaused:()=>!1,cache:vF,mutate:ec,fallback:{}},uF);_.createContext({});const RN=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,MN=JS,wF=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return MN(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=t,c=Object.keys(a).map(f=>{const p=n==null?void 0:n[f],g=o==null?void 0:o[f];if(p===null)return null;const x=RN(p)||RN(g);return a[f][x]}),d=n&&Object.entries(n).reduce((f,p)=>{let[g,x]=p;return x===void 0||(f[g]=x),f},{}),h=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((f,p)=>{let j=p,{class:g,className:x}=j,b=Oe(j,["class","className"]);return Object.entries(b).every(v=>{let[S,N]=v;return Array.isArray(N)?N.includes(L(L({},o),d)[S]):L(L({},o),d)[S]===N})?[...f,g,x]:f},[]);return MN(e,c,h,n==null?void 0:n.class,n==null?void 0:n.className)},jF=wF("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Xe(o){var c=o,{className:e,variant:t,size:n,asChild:s=!1}=c,a=Oe(c,["className","variant","size","asChild"]);const d=s?b3:"button";return i.jsx(d,L({"data-slot":"button",className:En(jF({variant:t,size:n,className:e}))},a))}function Pi(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}var _F="DismissableLayer",Tx="dismissableLayer.update",NF="dismissableLayer.pointerDownOutside",SF="dismissableLayer.focusOutside",PN,jE=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_E=_.forwardRef((e,t)=>{var U;const z=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:c,onDismiss:d}=z,h=Oe(z,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),f=_.useContext(jE),[p,g]=_.useState(null),x=(U=p==null?void 0:p.ownerDocument)!=null?U:globalThis==null?void 0:globalThis.document,[,b]=_.useState({}),j=An(t,R=>g(R)),v=Array.from(f.layers),[S]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(S),A=p?v.indexOf(p):-1,E=f.layersWithOutsidePointerEventsDisabled.size>0,T=A>=N,D=kF(R=>{const G=R.target,q=[...f.branches].some(Q=>Q.contains(G));!T||q||(a==null||a(R),c==null||c(R),R.defaultPrevented||d==null||d())},x),C=CF(R=>{const G=R.target;[...f.branches].some(Q=>Q.contains(G))||(o==null||o(R),c==null||c(R),R.defaultPrevented||d==null||d())},x);return oy(R=>{A===f.layers.size-1&&(s==null||s(R),!R.defaultPrevented&&d&&(R.preventDefault(),d()))},x),_.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(PN=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),LN(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=PN)}},[p,x,n,f]),_.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),LN())},[p,f]),_.useEffect(()=>{const R=()=>b({});return document.addEventListener(Tx,R),()=>document.removeEventListener(Tx,R)},[]),i.jsx(Yt.div,oe(L({},h),{ref:j,style:L({pointerEvents:E?T?"auto":"none":void 0},e.style),onFocusCapture:Pi(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Pi(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Pi(e.onPointerDownCapture,D.onPointerDownCapture)}))});_E.displayName=_F;var TF="DismissableLayerBranch",EF=_.forwardRef((e,t)=>{const n=_.useContext(jE),s=_.useRef(null),a=An(t,s);return _.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),i.jsx(Yt.div,oe(L({},e),{ref:a}))});EF.displayName=TF;function kF(e,t=globalThis==null?void 0:globalThis.document){const n=ga(e),s=_.useRef(!1),a=_.useRef(()=>{});return _.useEffect(()=>{const o=d=>{if(d.target&&!s.current){let h=function(){NE(NF,n,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=h,t.addEventListener("click",a.current,{once:!0})):h()}else t.removeEventListener("click",a.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function CF(e,t=globalThis==null?void 0:globalThis.document){const n=ga(e),s=_.useRef(!1);return _.useEffect(()=>{const a=o=>{o.target&&!s.current&&NE(SF,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function LN(){const e=new CustomEvent(Tx);document.dispatchEvent(e)}function NE(e,t,n,{discrete:s}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?iy(a,o):a.dispatchEvent(o)}function DF(e,t){return _.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var Em=e=>{const{present:t,children:n}=e,s=OF(t),a=typeof n=="function"?n({present:s.isPresent}):_.Children.only(n),o=An(s.ref,AF(a));return typeof n=="function"||s.isPresent?_.cloneElement(a,{ref:o}):null};Em.displayName="Presence";function OF(e){const[t,n]=_.useState(),s=_.useRef(null),a=_.useRef(e),o=_.useRef("none"),c=e?"mounted":"unmounted",[d,h]=DF(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const f=dh(s.current);o.current=d==="mounted"?f:"none"},[d]),Cr(()=>{const f=s.current,p=a.current;if(p!==e){const x=o.current,b=dh(f);e?h("MOUNT"):b==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(p&&x!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,h]),Cr(()=>{var f;if(t){let p;const g=(f=t.ownerDocument.defaultView)!=null?f:window,x=j=>{const S=dh(s.current).includes(j.animationName);if(j.target===t&&S&&(h("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},b=j=>{j.target===t&&(o.current=dh(s.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:_.useCallback(f=>{s.current=f?getComputedStyle(f):null,n(f)},[])}}function dh(e){return(e==null?void 0:e.animationName)||"none"}function AF(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _0=0;function RF(){_.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:zN()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:zN()),_0++,()=>{_0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),_0--}},[])}function zN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var km="Dialog",[SE,uH]=cd(km),[MF,Xr]=SE(km),TE=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:c=!0}=e,d=_.useRef(null),h=_.useRef(null),[f,p]=ym({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:km});return i.jsx(MF,{scope:t,triggerRef:d,contentRef:h,contentId:ks(),titleId:ks(),descriptionId:ks(),open:f,onOpenChange:p,onOpenToggle:_.useCallback(()=>p(g=>!g),[p]),modal:c,children:n})};TE.displayName=km;var EE="DialogTrigger",PF=_.forwardRef((e,t)=>{const c=e,{__scopeDialog:n}=c,s=Oe(c,["__scopeDialog"]),a=Xr(EE,n),o=An(t,a.triggerRef);return i.jsx(Yt.button,oe(L({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Qy(a.open)},s),{ref:o,onClick:Pi(e.onClick,a.onOpenToggle)}))});PF.displayName=EE;var Gy="DialogPortal",[LF,kE]=SE(Gy,{forceMount:void 0}),CE=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,o=Xr(Gy,t);return i.jsx(LF,{scope:t,forceMount:n,children:_.Children.map(s,c=>i.jsx(Em,{present:n||o.open,children:i.jsx(fd,{asChild:!0,container:a,children:c})}))})};CE.displayName=Gy;var im="DialogOverlay",DE=_.forwardRef((e,t)=>{const n=kE(im,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=Oe(c,["forceMount"]),o=Xr(im,e.__scopeDialog);return o.modal?i.jsx(Em,{present:s||o.open,children:i.jsx(UF,oe(L({},a),{ref:t}))}):null});DE.displayName=im;var zF=lc("DialogOverlay.RemoveScroll"),UF=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Oe(o,["__scopeDialog"]),a=Xr(im,n);return i.jsx(hd,{as:zF,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(Yt.div,oe(L({"data-state":Qy(a.open)},s),{ref:t,style:L({pointerEvents:"auto"},s.style)}))})}),Vo="DialogContent",OE=_.forwardRef((e,t)=>{const n=kE(Vo,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=Oe(c,["forceMount"]),o=Xr(Vo,e.__scopeDialog);return i.jsx(Em,{present:s||o.open,children:o.modal?i.jsx(BF,oe(L({},a),{ref:t})):i.jsx(FF,oe(L({},a),{ref:t}))})});OE.displayName=Vo;var BF=_.forwardRef((e,t)=>{const n=Xr(Vo,e.__scopeDialog),s=_.useRef(null),a=An(t,n.contentRef,s);return _.useEffect(()=>{const o=s.current;if(o)return bm(o)},[]),i.jsx(AE,oe(L({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pi(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Pi(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:Pi(e.onFocusOutside,o=>o.preventDefault())}))}),FF=_.forwardRef((e,t)=>{const n=Xr(Vo,e.__scopeDialog),s=_.useRef(!1),a=_.useRef(!1);return i.jsx(AE,oe(L({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=o.target;((f=n.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),AE=_.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o}=p,c=Oe(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Xr(Vo,n),h=_.useRef(null),f=An(t,h);return RF(),i.jsxs(i.Fragment,{children:[i.jsx(ud,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:i.jsx(_E,oe(L({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Qy(d.open)},c),{ref:f,onDismiss:()=>d.onOpenChange(!1)}))}),i.jsxs(i.Fragment,{children:[i.jsx(HF,{titleId:d.titleId}),i.jsx(IF,{contentRef:h,descriptionId:d.descriptionId})]})]})}),Ky="DialogTitle",RE=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Oe(o,["__scopeDialog"]),a=Xr(Ky,n);return i.jsx(Yt.h2,oe(L({id:a.titleId},s),{ref:t}))});RE.displayName=Ky;var ME="DialogDescription",PE=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Oe(o,["__scopeDialog"]),a=Xr(ME,n);return i.jsx(Yt.p,oe(L({id:a.descriptionId},s),{ref:t}))});PE.displayName=ME;var LE="DialogClose",$F=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Oe(o,["__scopeDialog"]),a=Xr(LE,n);return i.jsx(Yt.button,oe(L({type:"button"},s),{ref:t,onClick:Pi(e.onClick,()=>a.onOpenChange(!1))}))});$F.displayName=LE;function Qy(e){return e?"open":"closed"}var zE="DialogTitleWarning",[dH,UE]=ay(zE,{contentName:Vo,titleName:Ky,docsSlug:"dialog"}),HF=({titleId:e})=>{const t=UE(zE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},VF="DialogDescriptionWarning",IF=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${UE(VF).contentName}}.`;return _.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},qF=TE,WF=CE,YF=DE,XF=OE,GF=RE,KF=PE;function QF(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const BE=re.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),yd=()=>{const e=re.useContext(BE);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};QF(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function ZF(){const e=navigator.userAgent;return typeof window!="undefined"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function JF(){return Zy(/^Mac/)}function e$(){return Zy(/^iPhone/)}function UN(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function t$(){return Zy(/^iPad/)||JF()&&navigator.maxTouchPoints>1}function FE(){return e$()||t$()}function Zy(e){return typeof window!="undefined"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const n$=24,s$=typeof window!="undefined"?_.useLayoutEffect:_.useEffect;function BN(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const N0=typeof document!="undefined"&&window.visualViewport;function FN(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function $E(e){for(FN(e)&&(e=e.parentElement);e&&!FN(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const r$=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let fh=0,S0;function a$(e={}){let{isDisabled:t}=e;s$(()=>{if(!t)return fh++,fh===1&&FE()&&(S0=i$()),()=>{fh--,fh===0&&(S0==null||S0())}},[t])}function i$(){let e,t=0,n=g=>{e=$E(g.target),!(e===document.documentElement&&e===document.body)&&(t=g.changedTouches[0].pageY)},s=g=>{if(!e||e===document.documentElement||e===document.body){g.preventDefault();return}let x=g.changedTouches[0].pageY,b=e.scrollTop,j=e.scrollHeight-e.clientHeight;j!==0&&((b<=0&&x>t||b>=j&&x<t)&&g.preventDefault(),t=x)},a=g=>{let x=g.target;Ex(x)&&x!==document.activeElement&&(g.preventDefault(),x.style.transform="translateY(-2000px)",x.focus(),requestAnimationFrame(()=>{x.style.transform=""}))},o=g=>{let x=g.target;Ex(x)&&(x.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{x.style.transform="",N0&&(N0.height<window.innerHeight?requestAnimationFrame(()=>{$N(x)}):N0.addEventListener("resize",()=>$N(x),{once:!0}))}))},c=()=>{window.scrollTo(0,0)},d=window.pageXOffset,h=window.pageYOffset,f=BN(o$(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let p=BN(Cu(document,"touchstart",n,{passive:!1,capture:!0}),Cu(document,"touchmove",s,{passive:!1,capture:!0}),Cu(document,"touchend",a,{passive:!1,capture:!0}),Cu(document,"focus",o,!0),Cu(window,"scroll",c));return()=>{f(),p(),window.scrollTo(d,h)}}function o$(e,t,n){let s=e.style[t];return e.style[t]=n,()=>{e.style[t]=s}}function Cu(e,t,n,s){return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}function $N(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=$E(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let s=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const c=n.getBoundingClientRect().bottom+n$;o>c&&(n.scrollTop+=a-s)}e=n.parentElement}}function Ex(e){return e instanceof HTMLInputElement&&!r$.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function l$(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function c$(...e){return t=>e.forEach(n=>l$(n,t))}function HE(...e){return _.useCallback(c$(...e),e)}const VE=new WeakMap;function ss(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([a,o])=>{if(a.startsWith("--")){e.style.setProperty(a,o);return}s[a]=e.style[a],e.style[a]=o}),!n&&VE.set(e,s)}function u$(e,t){if(!e||!(e instanceof HTMLElement))return;let n=VE.get(e);n&&(e.style[t]=n[t])}const Gn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function hh(e,t){if(!e)return null;const n=window.getComputedStyle(e),s=n.transform||n.webkitTransform||n.mozTransform;let a=s.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[Gn(t)?13:12]):(a=s.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[Gn(t)?5:4]):null)}function d$(e){return 8*(Math.log(e+1)-2)}function T0(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function f$(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Dn={DURATION:.5,EASE:[.32,.72,0,1]},IE=.4,h$=.25,m$=100,qE=8,So=16,kx=26,E0="vaul-dragging";function WE(e){const t=re.useRef(e);return re.useEffect(()=>{t.current=e}),re.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function p$({defaultProp:e,onChange:t}){const n=re.useState(e),[s]=n,a=re.useRef(s),o=WE(t);return re.useEffect(()=>{a.current!==s&&(o(s),a.current=s)},[s,a,o]),n}function YE({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,a]=p$({defaultProp:t,onChange:n}),o=e!==void 0,c=o?e:s,d=WE(n),h=re.useCallback(f=>{if(o){const g=typeof f=="function"?f(e):f;g!==e&&d(g)}else a(f)},[o,e,a,d]);return[c,h]}function g$({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:s,overlayRef:a,fadeFromIndex:o,onSnapPointChange:c,direction:d="bottom",container:h,snapToSequentialPoint:f}){const[p,g]=YE({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[x,b]=re.useState(typeof window!="undefined"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);re.useEffect(()=>{function z(){b({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]);const j=re.useMemo(()=>p===(n==null?void 0:n[n.length-1])||null,[n,p]),v=re.useMemo(()=>{var z;return(z=n==null?void 0:n.findIndex(U=>U===p))!=null?z:null},[n,p]),S=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===p||!n,N=re.useMemo(()=>{const z=h?{width:h.getBoundingClientRect().width,height:h.getBoundingClientRect().height}:typeof window!="undefined"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var U;return(U=n==null?void 0:n.map(R=>{const G=typeof R=="string";let q=0;if(G&&(q=parseInt(R,10)),Gn(d)){const W=G?q:x?R*z.height:0;return x?d==="bottom"?z.height-W:-z.height+W:W}const Q=G?q:x?R*z.width:0;return x?d==="right"?z.width-Q:-z.width+Q:Q}))!=null?U:[]},[n,x,h]),A=re.useMemo(()=>v!==null?N==null?void 0:N[v]:null,[N,v]),E=re.useCallback(z=>{var U;const R=(U=N==null?void 0:N.findIndex(G=>G===z))!=null?U:null;c(R),ss(s.current,{transition:`transform ${Dn.DURATION}s cubic-bezier(${Dn.EASE.join(",")})`,transform:Gn(d)?`translate3d(0, ${z}px, 0)`:`translate3d(${z}px, 0, 0)`}),N&&R!==N.length-1&&o!==void 0&&R!==o&&R<o?ss(a.current,{transition:`opacity ${Dn.DURATION}s cubic-bezier(${Dn.EASE.join(",")})`,opacity:"0"}):ss(a.current,{transition:`opacity ${Dn.DURATION}s cubic-bezier(${Dn.EASE.join(",")})`,opacity:"1"}),g(n==null?void 0:n[Math.max(R,0)])},[s.current,n,N,o,a,g]);re.useEffect(()=>{if(p||e){var z;const U=(z=n==null?void 0:n.findIndex(R=>R===e||R===p))!=null?z:-1;N&&U!==-1&&typeof N[U]=="number"&&E(N[U])}},[p,e,n,N,E]);function T({draggedDistance:z,closeDrawer:U,velocity:R,dismissible:G}){if(o===void 0)return;const q=d==="bottom"||d==="right"?(A!=null?A:0)-z:(A!=null?A:0)+z,Q=v===o-1,W=v===0,Y=z>0;if(Q&&ss(a.current,{transition:`opacity ${Dn.DURATION}s cubic-bezier(${Dn.EASE.join(",")})`}),!f&&R>2&&!Y){G?U():E(N[0]);return}if(!f&&R>2&&Y&&N&&n){E(N[n.length-1]);return}const H=N==null?void 0:N.reduce((Z,ee)=>typeof Z!="number"||typeof ee!="number"?Z:Math.abs(ee-q)<Math.abs(Z-q)?ee:Z),F=Gn(d)?window.innerHeight:window.innerWidth;if(R>IE&&Math.abs(z)<F*.4){const Z=Y?1:-1;if(Z>0&&j&&n){E(N[n.length-1]);return}if(W&&Z<0&&G&&U(),v===null)return;E(N[v+Z]);return}E(H)}function D({draggedDistance:z}){if(A===null)return;const U=d==="bottom"||d==="right"?A-z:A+z;(d==="bottom"||d==="right")&&U<N[N.length-1]||(d==="top"||d==="left")&&U>N[N.length-1]||ss(s.current,{transform:Gn(d)?`translate3d(0, ${U}px, 0)`:`translate3d(${U}px, 0, 0)`})}function C(z,U){if(!n||typeof v!="number"||!N||o===void 0)return null;const R=v===o-1;if(v>=o&&U)return 0;if(R&&!U)return 1;if(!S&&!R)return null;const q=R?v+1:v-1,Q=R?N[q]-N[q-1]:N[q+1]-N[q],W=z/Math.abs(Q);return R?1-W:W}return{isLastSnapPoint:j,activeSnapPoint:p,shouldFade:S,getPercentageDragged:C,setActiveSnapPoint:g,activeSnapPointIndex:v,onRelease:T,onDrag:D,snapPointsOffset:N}}const x$=()=>()=>{};function y$(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:a}=yd(),o=re.useRef(null),c=_.useMemo(()=>document.body.style.backgroundColor,[]);function d(){return(window.innerWidth-kx)/window.innerWidth}re.useEffect(()=>{if(t&&n){o.current&&clearTimeout(o.current);const h=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!h)return;f$(s&&!a?T0(document.body,{background:"black"}):x$,T0(h,{transformOrigin:Gn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Dn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Dn.EASE.join(",")})`}));const f=T0(h,L({borderRadius:`${qE}px`,overflow:"hidden"},Gn(e)?{transform:`scale(${d()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${d()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}));return()=>{f(),o.current=window.setTimeout(()=>{c?document.body.style.background=c:document.body.style.removeProperty("background")},Dn.DURATION*1e3)}}},[t,n,c])}let Du=null;function b$({isOpen:e,modal:t,nested:n,hasBeenOpened:s,preventScrollRestoration:a,noBodyStyles:o}){const[c,d]=re.useState(()=>typeof window!="undefined"?window.location.href:""),h=re.useRef(0),f=re.useCallback(()=>{if(UN()&&Du===null&&e&&!o){Du={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:g,innerHeight:x}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-h.current}px`,left:`${-g}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const b=x-window.innerHeight;b&&h.current>=x&&(document.body.style.top=`${-(h.current+b)}px`)}),300)}},[e]),p=re.useCallback(()=>{if(UN()&&Du!==null&&!o){const g=-parseInt(document.body.style.top,10),x=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Du),window.requestAnimationFrame(()=>{if(a&&c!==window.location.href){d(window.location.href);return}window.scrollTo(x,g)}),Du=null}},[c]);return re.useEffect(()=>{function g(){h.current=window.scrollY}return g(),window.addEventListener("scroll",g),()=>{window.removeEventListener("scroll",g)}},[]),re.useEffect(()=>{if(t)return()=>{typeof document=="undefined"||document.querySelector("[data-vaul-drawer]")||p()}},[t,p]),re.useEffect(()=>{n||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&f(),t||window.setTimeout(()=>{p()},500)):p())},[e,s,c,t,n,f,p]),{restorePositionSetting:p}}function v$({open:e,onOpenChange:t,children:n,onDrag:s,onRelease:a,snapPoints:o,shouldScaleBackground:c=!1,setBackgroundColorOnScale:d=!0,closeThreshold:h=h$,scrollLockTimeout:f=m$,dismissible:p=!0,handleOnly:g=!1,fadeFromIndex:x=o&&o.length-1,activeSnapPoint:b,setActiveSnapPoint:j,fixed:v,modal:S=!0,onClose:N,nested:A,noBodyStyles:E=!1,direction:T="bottom",defaultOpen:D=!1,disablePreventScroll:C=!0,snapToSequentialPoint:z=!1,preventScrollRestoration:U=!1,repositionInputs:R=!0,onAnimationEnd:G,container:q,autoFocus:Q=!1}){var W,Y;const[H=!1,F]=YE({defaultProp:D,prop:e,onChange:Qe=>{t==null||t(Qe),!Qe&&!A&&Ye(),setTimeout(()=>{G==null||G(Qe)},Dn.DURATION*1e3),Qe&&!S&&typeof window!="undefined"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Qe||(document.body.style.pointerEvents="auto")}}),[Z,ee]=re.useState(!1),[ce,M]=re.useState(!1),[ie,se]=re.useState(!1),V=re.useRef(null),ne=re.useRef(null),ge=re.useRef(null),he=re.useRef(null),Ee=re.useRef(null),Ce=re.useRef(!1),Ve=re.useRef(null),ze=re.useRef(0),tt=re.useRef(!1),Ke=re.useRef(!D),mt=re.useRef(0),Ue=re.useRef(null),gt=re.useRef(((W=Ue.current)==null?void 0:W.getBoundingClientRect().height)||0),Je=re.useRef(((Y=Ue.current)==null?void 0:Y.getBoundingClientRect().width)||0),Me=re.useRef(0),nt=re.useCallback(Qe=>{o&&Qe===Ne.length-1&&(ne.current=new Date)},[]),{activeSnapPoint:ot,activeSnapPointIndex:K,setActiveSnapPoint:fe,onRelease:X,snapPointsOffset:Ne,onDrag:Le,shouldFade:Re,getPercentageDragged:He}=g$({snapPoints:o,activeSnapPointProp:b,setActiveSnapPointProp:j,drawerRef:Ue,fadeFromIndex:x,overlayRef:V,onSnapPointChange:nt,direction:T,container:q,snapToSequentialPoint:z});a$({isDisabled:!H||ce||!S||ie||!Z||!R||!C});const{restorePositionSetting:Ye}=b$({isOpen:H,modal:S,nested:A!=null?A:!1,hasBeenOpened:Z,preventScrollRestoration:U,noBodyStyles:E});function et(){return(window.innerWidth-kx)/window.innerWidth}function jt(Qe){var zt,Vt;!p&&!o||Ue.current&&!Ue.current.contains(Qe.target)||(gt.current=((zt=Ue.current)==null?void 0:zt.getBoundingClientRect().height)||0,Je.current=((Vt=Ue.current)==null?void 0:Vt.getBoundingClientRect().width)||0,M(!0),ge.current=new Date,FE()&&window.addEventListener("touchend",()=>Ce.current=!1,{once:!0}),Qe.target.setPointerCapture(Qe.pointerId),ze.current=Gn(T)?Qe.pageY:Qe.pageX)}function Se(Qe,zt){var Vt;let kt=Qe;const rn=(Vt=window.getSelection())==null?void 0:Vt.toString(),Ze=Ue.current?hh(Ue.current,T):null,Tt=new Date;if(kt.tagName==="SELECT"||kt.hasAttribute("data-vaul-no-drag")||kt.closest("[data-vaul-no-drag]"))return!1;if(T==="right"||T==="left")return!0;if(ne.current&&Tt.getTime()-ne.current.getTime()<500)return!1;if(Ze!==null&&(T==="bottom"?Ze>0:Ze<0))return!0;if(rn&&rn.length>0)return!1;if(Ee.current&&Tt.getTime()-Ee.current.getTime()<f&&Ze===0||zt)return Ee.current=Tt,!1;for(;kt;){if(kt.scrollHeight>kt.clientHeight){if(kt.scrollTop!==0)return Ee.current=new Date,!1;if(kt.getAttribute("role")==="dialog")return!0}kt=kt.parentNode}return!0}function Pe(Qe){if(Ue.current&&ce){const zt=T==="bottom"||T==="right"?1:-1,Vt=(ze.current-(Gn(T)?Qe.pageY:Qe.pageX))*zt,kt=Vt>0,rn=o&&!p&&!kt;if(rn&&K===0)return;const Ze=Math.abs(Vt),Tt=document.querySelector("[data-vaul-drawer-wrapper]"),Kt=T==="bottom"||T==="top"?gt.current:Je.current;let Jt=Ze/Kt;const te=He(Ze,kt);if(te!==null&&(Jt=te),rn&&Jt>=1||!Ce.current&&!Se(Qe.target,kt))return;if(Ue.current.classList.add(E0),Ce.current=!0,ss(Ue.current,{transition:"none"}),ss(V.current,{transition:"none"}),o&&Le({draggedDistance:Vt}),kt&&!o){const pe=d$(Vt),_e=Math.min(pe*-1,0)*zt;ss(Ue.current,{transform:Gn(T)?`translate3d(0, ${_e}px, 0)`:`translate3d(${_e}px, 0, 0)`});return}const le=1-Jt;if((Re||x&&K===x-1)&&(s==null||s(Qe,Jt),ss(V.current,{opacity:`${le}`,transition:"none"},!0)),Tt&&V.current&&c){const pe=Math.min(et()+Jt*(1-et()),1),_e=8-Jt*8,Ae=Math.max(0,14-Jt*14);ss(Tt,{borderRadius:`${_e}px`,transform:Gn(T)?`scale(${pe}) translate3d(0, ${Ae}px, 0)`:`scale(${pe}) translate3d(${Ae}px, 0, 0)`,transition:"none"},!0)}if(!o){const pe=Ze*zt;ss(Ue.current,{transform:Gn(T)?`translate3d(0, ${pe}px, 0)`:`translate3d(${pe}px, 0, 0)`})}}}re.useEffect(()=>{window.requestAnimationFrame(()=>{Ke.current=!0})},[]),re.useEffect(()=>{var Qe;function zt(){if(!Ue.current||!R)return;const Vt=document.activeElement;if(Ex(Vt)||tt.current){var kt;const rn=((kt=window.visualViewport)==null?void 0:kt.height)||0,Ze=window.innerHeight;let Tt=Ze-rn;const Kt=Ue.current.getBoundingClientRect().height||0,Jt=Kt>Ze*.8;Me.current||(Me.current=Kt);const te=Ue.current.getBoundingClientRect().top;if(Math.abs(mt.current-Tt)>60&&(tt.current=!tt.current),o&&o.length>0&&Ne&&K){const le=Ne[K]||0;Tt+=le}if(mt.current=Tt,Kt>rn||tt.current){const le=Ue.current.getBoundingClientRect().height;let pe=le;le>rn&&(pe=rn-(Jt?te:kx)),v?Ue.current.style.height=`${le-Math.max(Tt,0)}px`:Ue.current.style.height=`${Math.max(pe,rn-te)}px`}else ZF()||(Ue.current.style.height=`${Me.current}px`);o&&o.length>0&&!tt.current?Ue.current.style.bottom="0px":Ue.current.style.bottom=`${Math.max(Tt,0)}px`}}return(Qe=window.visualViewport)==null||Qe.addEventListener("resize",zt),()=>{var Vt;return(Vt=window.visualViewport)==null?void 0:Vt.removeEventListener("resize",zt)}},[K,o,Ne]);function qe(Qe){Xt(),N==null||N(),Qe||F(!1),setTimeout(()=>{o&&fe(o[0])},Dn.DURATION*1e3)}function Ft(){if(!Ue.current)return;const Qe=document.querySelector("[data-vaul-drawer-wrapper]"),zt=hh(Ue.current,T);ss(Ue.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Dn.DURATION}s cubic-bezier(${Dn.EASE.join(",")})`}),ss(V.current,{transition:`opacity ${Dn.DURATION}s cubic-bezier(${Dn.EASE.join(",")})`,opacity:"1"}),c&&zt&&zt>0&&H&&ss(Qe,oe(L({borderRadius:`${qE}px`,overflow:"hidden"},Gn(T)?{transform:`scale(${et()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${et()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"}),{transitionProperty:"transform, border-radius",transitionDuration:`${Dn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Dn.EASE.join(",")})`}),!0)}function Xt(){!ce||!Ue.current||(Ue.current.classList.remove(E0),Ce.current=!1,M(!1),he.current=new Date)}function Gt(Qe){if(!ce||!Ue.current)return;Ue.current.classList.remove(E0),Ce.current=!1,M(!1),he.current=new Date;const zt=hh(Ue.current,T);if(!Qe||!Se(Qe.target,!1)||!zt||Number.isNaN(zt)||ge.current===null)return;const Vt=he.current.getTime()-ge.current.getTime(),kt=ze.current-(Gn(T)?Qe.pageY:Qe.pageX),rn=Math.abs(kt)/Vt;if(rn>.05&&(se(!0),setTimeout(()=>{se(!1)},200)),o){X({draggedDistance:kt*(T==="bottom"||T==="right"?1:-1),closeDrawer:qe,velocity:rn,dismissible:p}),a==null||a(Qe,!0);return}if(T==="bottom"||T==="right"?kt>0:kt<0){Ft(),a==null||a(Qe,!0);return}if(rn>IE){qe(),a==null||a(Qe,!1);return}var Ze;const Tt=Math.min((Ze=Ue.current.getBoundingClientRect().height)!=null?Ze:0,window.innerHeight);var Kt;const Jt=Math.min((Kt=Ue.current.getBoundingClientRect().width)!=null?Kt:0,window.innerWidth),te=T==="left"||T==="right";if(Math.abs(zt)>=(te?Jt:Tt)*h){qe(),a==null||a(Qe,!1);return}a==null||a(Qe,!0),Ft()}re.useEffect(()=>(H&&(ss(document.documentElement,{scrollBehavior:"auto"}),ne.current=new Date),()=>{u$(document.documentElement,"scrollBehavior")}),[H]);function on(Qe){const zt=Qe?(window.innerWidth-So)/window.innerWidth:1,Vt=Qe?-So:0;Ve.current&&window.clearTimeout(Ve.current),ss(Ue.current,{transition:`transform ${Dn.DURATION}s cubic-bezier(${Dn.EASE.join(",")})`,transform:Gn(T)?`scale(${zt}) translate3d(0, ${Vt}px, 0)`:`scale(${zt}) translate3d(${Vt}px, 0, 0)`}),!Qe&&Ue.current&&(Ve.current=setTimeout(()=>{const kt=hh(Ue.current,T);ss(Ue.current,{transition:"none",transform:Gn(T)?`translate3d(0, ${kt}px, 0)`:`translate3d(${kt}px, 0, 0)`})},500))}function In(Qe,zt){if(zt<0)return;const Vt=(window.innerWidth-So)/window.innerWidth,kt=Vt+zt*(1-Vt),rn=-So+zt*So;ss(Ue.current,{transform:Gn(T)?`scale(${kt}) translate3d(0, ${rn}px, 0)`:`scale(${kt}) translate3d(${rn}px, 0, 0)`,transition:"none"})}function rs(Qe,zt){const Vt=Gn(T)?window.innerHeight:window.innerWidth,kt=zt?(Vt-So)/Vt:1,rn=zt?-So:0;zt&&ss(Ue.current,{transition:`transform ${Dn.DURATION}s cubic-bezier(${Dn.EASE.join(",")})`,transform:Gn(T)?`scale(${kt}) translate3d(0, ${rn}px, 0)`:`scale(${kt}) translate3d(${rn}px, 0, 0)`})}return re.useEffect(()=>{S||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[S]),re.createElement(qF,{defaultOpen:D,onOpenChange:Qe=>{!p&&!Qe||(Qe?ee(!0):qe(!0),F(Qe))},open:H},re.createElement(BE.Provider,{value:{activeSnapPoint:ot,snapPoints:o,setActiveSnapPoint:fe,drawerRef:Ue,overlayRef:V,onOpenChange:t,onPress:jt,onRelease:Gt,onDrag:Pe,dismissible:p,shouldAnimate:Ke,handleOnly:g,isOpen:H,isDragging:ce,shouldFade:Re,closeDrawer:qe,onNestedDrag:In,onNestedOpenChange:on,onNestedRelease:rs,keyboardIsOpen:tt,modal:S,snapPointsOffset:Ne,activeSnapPointIndex:K,direction:T,shouldScaleBackground:c,setBackgroundColorOnScale:d,noBodyStyles:E,container:q,autoFocus:Q}},n))}const XE=re.forwardRef(function(n,t){var e=Oe(n,[]);const{overlayRef:s,snapPoints:a,onRelease:o,shouldFade:c,isOpen:d,modal:h,shouldAnimate:f}=yd(),p=HE(t,s),g=a&&a.length>0;if(!h)return null;const x=re.useCallback(b=>o(b),[o]);return re.createElement(YF,L({onMouseUp:x,ref:p,"data-vaul-overlay":"","data-vaul-snap-points":d&&g?"true":"false","data-vaul-snap-points-overlay":d&&c?"true":"false","data-vaul-animate":f!=null&&f.current?"true":"false"},e))});XE.displayName="Drawer.Overlay";const GE=re.forwardRef(function(o,a){var c=o,{onPointerDownOutside:e,style:t,onOpenAutoFocus:n}=c,s=Oe(c,["onPointerDownOutside","style","onOpenAutoFocus"]);const{drawerRef:d,onPress:h,onRelease:f,onDrag:p,keyboardIsOpen:g,snapPointsOffset:x,activeSnapPointIndex:b,modal:j,isOpen:v,direction:S,snapPoints:N,container:A,handleOnly:E,shouldAnimate:T,autoFocus:D}=yd(),[C,z]=re.useState(!1),U=HE(a,d),R=re.useRef(null),G=re.useRef(null),q=re.useRef(!1),Q=N&&N.length>0;y$();const W=(H,F,Z=0)=>{if(q.current)return!0;const ee=Math.abs(H.y),ce=Math.abs(H.x),M=ce>ee,ie=["bottom","right"].includes(F)?1:-1;if(F==="left"||F==="right"){if(!(H.x*ie<0)&&ce>=0&&ce<=Z)return M}else if(!(H.y*ie<0)&&ee>=0&&ee<=Z)return!M;return q.current=!0,!0};re.useEffect(()=>{Q&&window.requestAnimationFrame(()=>{z(!0)})},[]);function Y(H){R.current=null,q.current=!1,f(H)}return re.createElement(XF,oe(L({"data-vaul-drawer-direction":S,"data-vaul-drawer":"","data-vaul-delayed-snap-points":C?"true":"false","data-vaul-snap-points":v&&Q?"true":"false","data-vaul-custom-container":A?"true":"false","data-vaul-animate":T!=null&&T.current?"true":"false"},s),{ref:U,style:x&&x.length>0?L({"--snap-point-height":`${x[b!=null?b:0]}px`},t):t,onPointerDown:H=>{E||(s.onPointerDown==null||s.onPointerDown.call(s,H),R.current={x:H.pageX,y:H.pageY},h(H))},onOpenAutoFocus:H=>{n==null||n(H),D||H.preventDefault()},onPointerDownOutside:H=>{if(e==null||e(H),!j||H.defaultPrevented){H.preventDefault();return}g.current&&(g.current=!1)},onFocusOutside:H=>{if(!j){H.preventDefault();return}},onPointerMove:H=>{if(G.current=H,E||(s.onPointerMove==null||s.onPointerMove.call(s,H),!R.current))return;const F=H.pageY-R.current.y,Z=H.pageX-R.current.x,ee=H.pointerType==="touch"?10:2;W({x:Z,y:F},S,ee)?p(H):(Math.abs(Z)>ee||Math.abs(F)>ee)&&(R.current=null)},onPointerUp:H=>{s.onPointerUp==null||s.onPointerUp.call(s,H),R.current=null,q.current=!1,f(H)},onPointerOut:H=>{s.onPointerOut==null||s.onPointerOut.call(s,H),Y(G.current)},onContextMenu:H=>{s.onContextMenu==null||s.onContextMenu.call(s,H),G.current&&Y(G.current)}}))});GE.displayName="Drawer.Content";const w$=250,j$=120,_$=re.forwardRef(function(a,s){var o=a,{preventCycle:e=!1,children:t}=o,n=Oe(o,["preventCycle","children"]);const{closeDrawer:c,isDragging:d,snapPoints:h,activeSnapPoint:f,setActiveSnapPoint:p,dismissible:g,handleOnly:x,isOpen:b,onPress:j,onDrag:v}=yd(),S=re.useRef(null),N=re.useRef(!1);function A(){if(N.current){D();return}window.setTimeout(()=>{E()},j$)}function E(){if(d||e||N.current){D();return}if(D(),!h||h.length===0){g||c();return}if(f===h[h.length-1]&&g){c();return}const z=h.findIndex(R=>R===f);if(z===-1)return;const U=h[z+1];p(U)}function T(){S.current=window.setTimeout(()=>{N.current=!0},w$)}function D(){S.current&&window.clearTimeout(S.current),N.current=!1}return re.createElement("div",L({onClick:A,onPointerCancel:D,onPointerDown:C=>{x&&j(C),T()},onPointerMove:C=>{x&&v(C)},ref:s,"data-vaul-drawer-visible":b?"true":"false","data-vaul-handle":"","aria-hidden":"true"},n),re.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});_$.displayName="Drawer.Handle";function N$(e){const t=yd(),a=e,{container:n=t.container}=a,s=Oe(a,["container"]);return re.createElement(WF,L({container:n},s))}const xc={Root:v$,Content:GE,Overlay:XE,Portal:N$,Title:GF,Description:KF};function S$(t){var e=Oe(t,[]);return i.jsx(xc.Root,L({"data-slot":"drawer"},e))}function T$(t){var e=Oe(t,[]);return i.jsx(xc.Portal,L({"data-slot":"drawer-portal"},e))}function E$(n){var s=n,{className:e}=s,t=Oe(s,["className"]);return i.jsx(xc.Overlay,L({"data-slot":"drawer-overlay",className:En("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function k$(s){var a=s,{className:e,children:t}=a,n=Oe(a,["className","children"]);return i.jsxs(T$,{"data-slot":"drawer-portal",children:[i.jsx(E$,{}),i.jsxs(xc.Content,oe(L({"data-slot":"drawer-content",className:En("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-2/3 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e)},n),{children:[i.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]}))]})}function C$(n){var s=n,{className:e}=s,t=Oe(s,["className"]);return i.jsx("div",L({"data-slot":"drawer-header",className:En("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",e)},t))}function D$(n){var s=n,{className:e}=s,t=Oe(s,["className"]);return i.jsx("div",L({"data-slot":"drawer-footer",className:En("mt-auto flex flex-col gap-2 p-4",e)},t))}function O$(n){var s=n,{className:e}=s,t=Oe(s,["className"]);return i.jsx(xc.Title,L({"data-slot":"drawer-title",className:En("text-foreground font-semibold",e)},t))}function A$(n){var s=n,{className:e}=s,t=Oe(s,["className"]);return i.jsx(xc.Description,L({"data-slot":"drawer-description",className:En("text-muted-foreground text-sm",e)},t))}var Cm="Dialog",[KE,fH]=cd(Cm),[R$,Gr]=KE(Cm),QE=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:c=!0}=e,d=_.useRef(null),h=_.useRef(null),[f,p]=ym({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:Cm});return i.jsx(R$,{scope:t,triggerRef:d,contentRef:h,contentId:ks(),titleId:ks(),descriptionId:ks(),open:f,onOpenChange:p,onOpenToggle:_.useCallback(()=>p(g=>!g),[p]),modal:c,children:n})};QE.displayName=Cm;var ZE="DialogTrigger",JE=_.forwardRef((e,t)=>{const c=e,{__scopeDialog:n}=c,s=Oe(c,["__scopeDialog"]),a=Gr(ZE,n),o=An(t,a.triggerRef);return i.jsx(Yt.button,oe(L({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":tb(a.open)},s),{ref:o,onClick:ir(e.onClick,a.onOpenToggle)}))});JE.displayName=ZE;var Jy="DialogPortal",[M$,ek]=KE(Jy,{forceMount:void 0}),tk=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,o=Gr(Jy,t);return i.jsx(M$,{scope:t,forceMount:n,children:_.Children.map(s,c=>i.jsx(dc,{present:n||o.open,children:i.jsx(fd,{asChild:!0,container:a,children:c})}))})};tk.displayName=Jy;var om="DialogOverlay",nk=_.forwardRef((e,t)=>{const n=ek(om,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=Oe(c,["forceMount"]),o=Gr(om,e.__scopeDialog);return o.modal?i.jsx(dc,{present:s||o.open,children:i.jsx(L$,oe(L({},a),{ref:t}))}):null});nk.displayName=om;var P$=lc("DialogOverlay.RemoveScroll"),L$=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Oe(o,["__scopeDialog"]),a=Gr(om,n);return i.jsx(hd,{as:P$,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(Yt.div,oe(L({"data-state":tb(a.open)},s),{ref:t,style:L({pointerEvents:"auto"},s.style)}))})}),Io="DialogContent",sk=_.forwardRef((e,t)=>{const n=ek(Io,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=Oe(c,["forceMount"]),o=Gr(Io,e.__scopeDialog);return i.jsx(dc,{present:s||o.open,children:o.modal?i.jsx(z$,oe(L({},a),{ref:t})):i.jsx(U$,oe(L({},a),{ref:t}))})});sk.displayName=Io;var z$=_.forwardRef((e,t)=>{const n=Gr(Io,e.__scopeDialog),s=_.useRef(null),a=An(t,n.contentRef,s);return _.useEffect(()=>{const o=s.current;if(o)return bm(o)},[]),i.jsx(rk,oe(L({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ir(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:ir(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:ir(e.onFocusOutside,o=>o.preventDefault())}))}),U$=_.forwardRef((e,t)=>{const n=Gr(Io,e.__scopeDialog),s=_.useRef(!1),a=_.useRef(!1);return i.jsx(rk,oe(L({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=o.target;((f=n.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),rk=_.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o}=p,c=Oe(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Gr(Io,n),h=_.useRef(null),f=An(t,h);return cS(),i.jsxs(i.Fragment,{children:[i.jsx(ud,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:i.jsx(ly,oe(L({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":tb(d.open)},c),{ref:f,onDismiss:()=>d.onOpenChange(!1)}))}),i.jsxs(i.Fragment,{children:[i.jsx(B$,{titleId:d.titleId}),i.jsx($$,{contentRef:h,descriptionId:d.descriptionId})]})]})}),eb="DialogTitle",ak=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Oe(o,["__scopeDialog"]),a=Gr(eb,n);return i.jsx(Yt.h2,oe(L({id:a.titleId},s),{ref:t}))});ak.displayName=eb;var ik="DialogDescription",ok=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Oe(o,["__scopeDialog"]),a=Gr(ik,n);return i.jsx(Yt.p,oe(L({id:a.descriptionId},s),{ref:t}))});ok.displayName=ik;var lk="DialogClose",ck=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Oe(o,["__scopeDialog"]),a=Gr(lk,n);return i.jsx(Yt.button,oe(L({type:"button"},s),{ref:t,onClick:ir(e.onClick,()=>a.onOpenChange(!1))}))});ck.displayName=lk;function tb(e){return e?"open":"closed"}var uk="DialogTitleWarning",[hH,dk]=ay(uk,{contentName:Io,titleName:eb,docsSlug:"dialog"}),B$=({titleId:e})=>{const t=dk(uk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},F$="DialogDescriptionWarning",$$=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dk(F$).contentName}}.`;return _.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},H$=QE,V$=JE,I$=tk,q$=nk,W$=sk,Y$=ak,X$=ok,fk=ck;function xs(t){var e=Oe(t,[]);return i.jsx(H$,L({"data-slot":"dialog"},e))}function G$(t){var e=Oe(t,[]);return i.jsx(V$,L({"data-slot":"dialog-trigger"},e))}function K$(t){var e=Oe(t,[]);return i.jsx(I$,L({"data-slot":"dialog-portal"},e))}function Q$(t){var e=Oe(t,[]);return i.jsx(fk,L({"data-slot":"dialog-close"},e))}function Z$(n){var s=n,{className:e}=s,t=Oe(s,["className"]);return i.jsx(q$,L({"data-slot":"dialog-overlay",className:En("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",e)},t))}function ys(a){var o=a,{className:e,children:t,showCloseButton:n=!0}=o,s=Oe(o,["className","children","showCloseButton"]);return i.jsxs(K$,{"data-slot":"dialog-portal",children:[i.jsx(Z$,{}),i.jsxs(W$,oe(L({"data-slot":"dialog-content",className:En("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e)},s),{children:[t,n&&i.jsxs(fk,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[i.jsx(g3,{}),i.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}function bs(n){var s=n,{className:e}=s,t=Oe(s,["className"]);return i.jsx("div",L({"data-slot":"dialog-header",className:En("flex flex-col gap-2 text-center sm:text-left",e)},t))}function Rs(n){var s=n,{className:e}=s,t=Oe(s,["className"]);return i.jsx("div",L({"data-slot":"dialog-footer",className:En("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e)},t))}function vs(n){var s=n,{className:e}=s,t=Oe(s,["className"]);return i.jsx(Y$,L({"data-slot":"dialog-title",className:En("text-lg leading-none font-semibold",e)},t))}function bd(n){var s=n,{className:e}=s,t=Oe(s,["className"]);return i.jsx(X$,L({"data-slot":"dialog-description",className:En("text-muted-foreground text-sm",e)},t))}function Ht(s){var a=s,{className:e,type:t}=a,n=Oe(a,["className","type"]);return i.jsx("input",L({type:t,"data-slot":"input",className:En("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e)},n))}var J$="Label",hk=_.forwardRef((e,t)=>i.jsx(Yt.label,oe(L({},e),{ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}})));hk.displayName=J$;var e7=hk;function Be(n){var s=n,{className:e}=s,t=Oe(s,["className"]);return i.jsx(e7,L({"data-slot":"label",className:En("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e)},t))}function Dm({doctype:e,docname:t,title:n="File Attachments",allowUpload:s=!0,allowDelete:a=!0,className:o=""}){const[c,d]=_.useState(!1),[h,f]=_.useState(!1),[p,g]=_.useState(null),[x,b]=_.useState(!1),[j,v]=_.useState(""),[S,N]=_.useState(""),[A,E]=_.useState(!1),T=_.useRef(null),{currentUser:D}=Cs(),{data:C,mutate:z,isLoading:U}=At("File",{fields:["name","file_name","file_url","file_size","is_private","attached_to_doctype","attached_to_name","creation","owner","modified"],filters:[["attached_to_doctype","=",e],["attached_to_name","=",t]],orderBy:{field:"creation",order:"desc"},limit:0}),{call:R}=ps("frappe.client.delete"),G=M=>{var se;if(ee(M))return i.jsx(Bf,{className:"h-6 w-6 text-blue-500"});switch((se=M.file_name.split(".").pop())==null?void 0:se.toLowerCase()){case"pdf":return i.jsx(Tr,{className:"h-6 w-6 text-red-500"});case"doc":case"docx":return i.jsx(Tr,{className:"h-6 w-6 text-blue-500"});case"xls":case"xlsx":return i.jsx(Tr,{className:"h-6 w-6 text-green-500"});case"ppt":case"pptx":return i.jsx(Tr,{className:"h-6 w-6 text-orange-500"});case"jpg":case"jpeg":case"png":case"gif":case"webp":return i.jsx(T4,{className:"h-6 w-6 text-purple-500"});case"zip":case"rar":case"7z":return i.jsx(qM,{className:"h-6 w-6 text-gray-500"});default:return i.jsx(Uf,{className:"h-6 w-6 text-gray-500"})}},q=M=>{if(M===0)return"0 Bytes";const ie=1024,se=["Bytes","KB","MB","GB"],V=Math.floor(Math.log(M)/Math.log(ie));return parseFloat((M/Math.pow(ie,V)).toFixed(2))+" "+se[V]},Q=M=>ve(null,null,function*(){var ge;if(!M||M.length===0)return;const ie=25*1024*1024,se=Array.from(M).filter(he=>he.size>ie);if(se.length>0){const he=se.map(Ee=>Ee.name).join(", ");setTimeout(()=>{wr.error(`File(s) too large: ${he}. Maximum size is 25MB per file.`)},100);return}d(!0);let V=0,ne=0;try{for(let he=0;he<M.length;he++){const Ee=M[he],Ce=new FormData;Ce.append("file",Ee),Ce.append("doctype",e),Ce.append("docname",t),Ce.append("is_private","0");try{const Ve=yield fetch("/api/method/upload_file",{method:"POST",body:Ce,credentials:"include"});if(!Ve.ok){const tt=yield Ve.text();throw tt.includes("too large")||tt.includes("size")||Ve.status===413?new Error(`File "${Ee.name}" is too large. Maximum size is 25MB.`):new Error(`Upload failed for "${Ee.name}": ${Ve.statusText}`)}let ze;try{ze=yield Ve.json()}catch(tt){console.log("Response is not JSON, assuming success")}if((ge=ze==null?void 0:ze.message)!=null&&ge.error)throw new Error(`Upload failed for "${Ee.name}": ${ze.message.error}`);V++}catch(Ve){console.error(`Error uploading file ${Ee.name}:`,Ve);const ze=Ve instanceof Error?Ve.message:String(Ve);(ze.includes("too large")||ze.includes("25MB"))&&Ee.size>ie&&setTimeout(()=>{wr.error(ze)},100),ne++}}setTimeout(()=>ve(null,null,function*(){yield z()}),500)}catch(he){}finally{d(!1)}}),W=M=>ve(null,null,function*(){if(confirm(`Are you sure you want to delete "${M.file_name}"?`))try{yield R({doctype:"File",name:M.name}),yield z()}catch(ie){console.error("Error deleting file:",ie),wr.error("Failed to delete file")}}),Y=()=>ve(null,null,function*(){if(!j.trim()){wr.error("Please enter a URL");return}try{new URL(j)}catch(M){wr.error("Please enter a valid URL");return}E(!0);try{if(!(yield fetch("/api/method/frappe.client.insert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doc:{doctype:"File",file_name:S.trim()||j,file_url:j,attached_to_doctype:e,attached_to_name:t,is_private:0}}),credentials:"include"})).ok)throw new Error("Failed to attach link");v(""),N(""),b(!1),yield z(),wr.success("Link attached successfully")}catch(M){console.error("Error attaching link:",M),wr.error("Failed to attach link")}finally{E(!1)}}),H=M=>ve(null,null,function*(){const ie=M.target.files;ie&&ie.length>0&&(yield Q(ie)),M.target.value=""}),F=M=>{g(M),f(!0)},Z=M=>{var se;const ie=(se=M.split(".").pop())==null?void 0:se.toLowerCase();return["jpg","jpeg","png","gif","webp","svg"].includes(ie||"")},ee=M=>{const ie=M.file_url.startsWith("http://")||M.file_url.startsWith("https://"),se=M.file_size===0,V=M.file_name.startsWith("http://")||M.file_name.startsWith("https://"),ne=!M.file_name.includes(".")||M.file_name.split(".").length<2;return ie&&(se||V||ne)},ce=M=>a&&(M.owner===D||D==="Administrator");return i.jsxs("div",{className:`bg-white border border-gray-200 rounded-xl p-6 ${o}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[i.jsx(Uf,{className:"h-5 w-5"}),n,C&&i.jsx("span",{className:"inline-flex px-2 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:C.length})]}),s&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Xe,{size:"sm",onClick:()=>{var M;return(M=T.current)==null?void 0:M.click()},disabled:c,className:"bg-blue-600 hover:bg-blue-700",children:[i.jsx(Z0,{className:"h-4 w-4 mr-1"}),c?"Uploading...":"Upload Files"]}),i.jsxs(Xe,{size:"sm",variant:"outline",onClick:()=>b(!0),disabled:c||A,className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:[i.jsx(Bf,{className:"h-4 w-4 mr-1"}),"Attach Link"]}),i.jsx("input",{ref:T,type:"file",multiple:!0,accept:"*/*",onChange:H,className:"hidden",style:{display:"none"}})]})]}),U&&i.jsxs("div",{className:"flex items-center justify-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("span",{className:"ml-3 text-gray-600",children:"Loading attachments..."})]}),!U&&i.jsx(i.Fragment,{children:C&&C.length>0?i.jsx("div",{className:"space-y-3",children:C.map(M=>i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[i.jsx("div",{className:"flex-shrink-0",children:G(M)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:M.file_name}),i.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[i.jsx("p",{className:"text-xs text-gray-500",children:q(M.file_size)}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded by ",M.owner]}),i.jsx("p",{className:"text-xs text-gray-500",children:new Date(M.creation).toLocaleDateString()}),M.is_private===1&&i.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded",children:"Private"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[Z(M.file_name)&&!ee(M)&&i.jsxs(Xe,{size:"sm",variant:"outline",onClick:()=>F(M),className:"text-xs",children:[i.jsx(ny,{className:"h-3 w-3 mr-1"}),"Preview"]}),i.jsx(Xe,{size:"sm",variant:"outline",onClick:()=>window.open(M.file_url,"_blank"),className:"text-xs",children:ee(M)?i.jsxs(i.Fragment,{children:[i.jsx(g4,{className:"h-3 w-3 mr-1"}),"Open Link"]}):i.jsxs(i.Fragment,{children:[i.jsx(tc,{className:"h-3 w-3 mr-1"}),"Download"]})}),ce(M)&&i.jsxs(Xe,{size:"sm",variant:"outline",onClick:()=>W(M),className:"text-xs text-red-600 hover:text-red-700",children:[i.jsx(Bi,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]},M.name))}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Uf,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No files attached"}),i.jsx("p",{className:"text-gray-500 text-sm mt-2",children:s?"Upload files to attach them to this project":"No files have been attached to this project"})]})}),i.jsx(xs,{open:x,onOpenChange:b,children:i.jsxs(ys,{className:"max-w-md",children:[i.jsx(bs,{children:i.jsxs(vs,{className:"flex items-center gap-2",children:[i.jsx(Bf,{className:"h-5 w-5"}),"Attach Link"]})}),i.jsxs("div",{className:"space-y-4 pt-4",children:[i.jsxs("div",{children:[i.jsx(Be,{htmlFor:"link-url",className:"text-sm font-medium",children:"URL *"}),i.jsx(Ht,{id:"link-url",type:"url",placeholder:"https://example.com",value:j,onChange:M=>v(M.target.value),className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(Be,{htmlFor:"link-title",className:"text-sm font-medium",children:"Title (optional)"}),i.jsx(Ht,{id:"link-title",type:"text",placeholder:"Enter a descriptive title",value:S,onChange:M=>N(M.target.value),className:"mt-1"})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx(Xe,{onClick:Y,disabled:!j.trim()||A,className:"flex-1",children:A?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Attaching..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Bf,{className:"h-4 w-4 mr-2"}),"Attach Link"]})}),i.jsx(Xe,{variant:"outline",onClick:()=>{b(!1),v(""),N("")},disabled:A,children:"Cancel"})]})]})]})}),h&&p&&i.jsx(xs,{open:h,onOpenChange:f,children:i.jsxs(ys,{className:"max-w-4xl max-h-[80vh] overflow-hidden",children:[i.jsx(bs,{children:i.jsx(vs,{className:"flex items-center justify-between",children:i.jsx("span",{children:p.file_name})})}),i.jsx("div",{className:"flex items-center justify-center p-4",children:Z(p.file_name)?i.jsx("img",{src:p.file_url,alt:p.file_name,className:"max-w-full max-h-[60vh] object-contain"}):i.jsxs("div",{className:"text-center",children:[i.jsx(Uf,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Preview not available for this file type"}),i.jsxs(Xe,{className:"mt-4",onClick:()=>window.open(p.file_url,"_blank"),children:[i.jsx(tc,{className:"h-4 w-4 mr-2"}),"Download File"]})]})})]})})]})}const t7=({isOpen:e,onClose:t,projectName:n,onSuccess:s})=>{const[a,o]=_.useState({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),{createDoc:c,loading:d,error:h}=Ii(),{assignPhase:f}=xT(),{data:p,isLoading:g}=mc(n),x=(v,S)=>{o(N=>oe(L({},N),{[v]:S}))},b=v=>ve(null,null,function*(){if(v.preventDefault(),!!a.subject.trim())try{const S=a,{assign_to:N}=S,A=Oe(S,["assign_to"]),E=yield c("project_phase",{project:n,subject:A.subject,start_date:A.start_date||null,end_date:A.end_date||null,priority:A.priority,details:A.details||null,costing:A.costing||0,status:"Open",progress:0});N&&E&&(yield f(E.name,N)),o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),s&&s(),t()}catch(N){console.error("Failed to create project phase:",N)}}),j=()=>{o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),t()};return i.jsx(xs,{open:e,onOpenChange:j,children:i.jsxs(ys,{className:"sm:max-w-[500px]",children:[i.jsxs(bs,{children:[i.jsx(vs,{children:"Create New Project Phase"}),i.jsxs(bd,{children:['Add a new phase to organize tasks and milestones for "',n,'".']})]}),i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"subject",children:"Phase Name *"}),i.jsx(Ht,{id:"subject",value:a.subject,onChange:v=>x("subject",v.target.value),placeholder:"e.g., Planning, Development, Testing",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"priority",children:"Priority"}),i.jsxs("select",{id:"priority",value:a.priority,onChange:v=>x("priority",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Critical",children:"Critical"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"start_date",children:"Start Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ht,{id:"start_date",type:"date",value:a.start_date,onChange:v=>x("start_date",v.target.value)}),i.jsx(Ys,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"end_date",children:"End Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ht,{id:"end_date",type:"date",value:a.end_date,onChange:v=>x("end_date",v.target.value),min:a.start_date||void 0}),i.jsx(Ys,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"costing",children:"Estimated Cost"}),i.jsx(Ht,{id:"costing",type:"number",value:a.costing,onChange:v=>x("costing",parseFloat(v.target.value)||0),placeholder:"0",min:"0",step:"0.01"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"assign_to",children:"Assign To"}),i.jsxs("select",{id:"assign_to",value:a.assign_to,onChange:v=>x("assign_to",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:g,children:[i.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(v=>i.jsx("option",{value:v.user||v.name,children:v.user||v.name},v.name))]}),g&&i.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"details",children:"Description"}),i.jsx("textarea",{id:"details",value:a.details,onChange:v=>x("details",v.target.value),placeholder:"Phase description, objectives, and key deliverables...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]}),h&&i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:i.jsx("p",{className:"text-sm text-red-600",children:h.message||"Failed to create project phase. Please try again."})}),i.jsxs(Rs,{children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:j,disabled:d,children:"Cancel"}),i.jsxs(Xe,{type:"submit",disabled:d||!a.subject.trim(),className:"flex items-center gap-2",children:[d&&i.jsx(Q0,{className:"h-4 w-4 animate-spin"}),"Create Phase"]})]})]})]})})},n7=({isOpen:e,onClose:t,projectName:n,onSuccess:s})=>{const[a,o]=_.useState({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),{createDoc:c,loading:d,error:h}=Ii(),f=g=>ve(null,null,function*(){if(g.preventDefault(),!!a.subject.trim())try{yield c("Task",{subject:a.subject,description:a.description,priority:a.priority,exp_start_date:a.exp_start_date||null,exp_end_date:a.exp_end_date||null,status:a.status,project:n,is_template:0,progress:0}),o({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),s==null||s(),t()}catch(x){console.error("Error creating standalone task:",x)}}),p=(g,x)=>{o(b=>oe(L({},b),{[g]:x}))};return i.jsx(xs,{open:e,onOpenChange:t,children:i.jsxs(ys,{className:"sm:max-w-[500px]",children:[i.jsx(bs,{children:i.jsx(vs,{className:"flex items-center justify-between",children:"Create Standalone Task"})}),i.jsxs("form",{onSubmit:f,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"subject",children:"Task Subject *"}),i.jsx(Ht,{id:"subject",value:a.subject,onChange:g=>p("subject",g.target.value),placeholder:"Enter task subject",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"description",children:"Description"}),i.jsx("textarea",{id:"description",value:a.description,onChange:g=>p("description",g.target.value),placeholder:"Enter task description (optional)",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"priority",children:"Priority"}),i.jsxs("select",{id:"priority",value:a.priority,onChange:g=>p("priority",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"status",children:"Status"}),i.jsxs("select",{id:"status",value:a.status,onChange:g=>p("status",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"Open",children:"Open"}),i.jsx("option",{value:"Working",children:"Working"}),i.jsx("option",{value:"Pending Review",children:"Pending Review"}),i.jsx("option",{value:"Overdue",children:"Overdue"}),i.jsx("option",{value:"Template",children:"Template"}),i.jsx("option",{value:"Completed",children:"Completed"}),i.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"exp_start_date",children:"Expected Start Date"}),i.jsx(Ht,{id:"exp_start_date",type:"date",value:a.exp_start_date,onChange:g=>p("exp_start_date",g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"exp_end_date",children:"Expected End Date"}),i.jsx(Ht,{id:"exp_end_date",type:"date",value:a.exp_end_date,onChange:g=>p("exp_end_date",g.target.value)})]})]}),h&&i.jsxs("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",children:["Error creating task: ",h.message]}),i.jsxs(Rs,{children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:t,disabled:d,children:"Cancel"}),i.jsx(Xe,{type:"submit",disabled:d||!a.subject.trim(),children:d?"Creating...":"Create Task"})]})]})]})})},s7=(e,t)=>{const n=s=>ve(null,null,function*(){try{console.log(`Task ${s} changed, updating affected phase progress...`);const a=yield fetch(`/api/resource/Task/${s}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(a.ok&&(yield a.json()).data.project===e){console.log(`Task ${s} belongs to current project ${e}, finding affected phases...`);const d=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name"],filters:[["project","=",e]]})});if(d.ok){const f=(yield d.json()).message||[];for(const p of f)try{const g=yield fetch(`/api/resource/project_phase/${p.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(g.ok){const b=(yield g.json()).data;b.tasks&&b.tasks.some(j=>j.task===s)&&(console.log(`Updating progress for phase ${p.name} containing task ${s}`),yield $L(p.name),t&&t())}}catch(g){console.error(`Error updating progress for phase ${p.name}:`,g)}}}}catch(a){console.error("Error in triggerPhaseProgressUpdate:",a)}});return _.useEffect(()=>{const s=a=>{if(a.key==="task_progress_updated"&&a.newValue){const o=a.newValue;console.log(`Received task progress update signal for: ${o}`),n(o),localStorage.removeItem("task_progress_updated")}};return window.addEventListener("storage",s),()=>{window.removeEventListener("storage",s)}},[e,t]),{triggerPhaseProgressUpdate:n}},r7=({projectName:e,onViewPhaseDetails:t,onViewTaskDetails:n,onViewSubTaskDetails:s})=>{const[a,o]=_.useState(new Set),[c,d]=_.useState(new Set),[h,f]=_.useState(!1),[p,g]=_.useState(!1),[x,b]=_.useState([]),[j,v]=_.useState({visible:!1,text:"",x:0,y:0}),{data:S,isLoading:N,mutate:A}=At("project_phase",{fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e]],orderBy:{field:"start_date",order:"asc"},limit:0});s7(e,()=>{console.log("Phase progress updated, refreshing UI..."),A()}),_.useEffect(()=>{S&&S.length>0?ve(null,null,function*(){const V=[];for(const ne of S)try{const ge=yield fetch(`/api/resource/project_phase/${ne.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(ge.ok){const he=yield ge.json();V.push(he.data)}else console.warn("Failed to fetch phase:",ne.name),V.push(ne)}catch(ge){console.error("Error fetching phase:",ne.name,ge),V.push(ne)}b(V)}):b([])},[S==null?void 0:S.length,S==null?void 0:S.map(se=>se.name).join(",")]);const{data:E,isLoading:T,mutate:D}=At("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",e]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),C=(E==null?void 0:E.map(se=>se.name))||[],{data:z,isLoading:U,mutate:R}=At("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:C.length>0?[["task","in",C]]:[["task","=","dummy-non-existent-task"]],orderBy:{field:"start_date",order:"asc"},limit:0}),G=se=>{const V=new Set(a);V.has(se)?V.delete(se):V.add(se),o(V)},q=se=>{const V=new Set(c);V.has(se)?V.delete(se):V.add(se),d(V)};_.useEffect(()=>{const se=()=>{document.hidden||(console.log("Tab became visible, refreshing all data (phases, tasks, subtasks)..."),A(),D(),R())};return document.addEventListener("visibilitychange",se),()=>{document.removeEventListener("visibilitychange",se)}},[A,D,R]);const Q=se=>null,W=se=>{switch(se){case"Completed":return"bg-green-100 text-green-800";case"Working":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},Y=se=>{switch(se){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},H=(se,V)=>{if(se.length>30){const ne=V.currentTarget.getBoundingClientRect(),ge=document.querySelector(".bg-white.border.border-gray-200.rounded-lg"),he=ge==null?void 0:ge.getBoundingClientRect();v({visible:!0,text:se,x:he?he.left+24:50,y:ne.top-8})}},F=()=>{v({visible:!1,text:"",x:0,y:0})},Z=(se,V,ne,ge=!1,he=!1,Ee)=>{let Ce="0.75rem";ne==="phase-task"||ne==="task"&&V===1?Ce="2rem":ne==="subtask"&&(Ce="3.5rem");const Ve=ne==="phase"||ne==="task"&&ge||ne==="phase-task"&&ge,ze=se.subject||se.name,tt=se.status||"Open",Ke=se.progress||0,mt=nt=>{nt.preventDefault(),nt.stopPropagation(),Ee&&Ee()},Ue=nt=>{nt.preventDefault(),nt.stopPropagation(),ne==="phase"&&t?t(se):(ne==="task"||ne==="phase-task")&&n?n(se):ne==="subtask"&&s&&s(se)},gt=nt=>{nt.preventDefault(),nt.stopPropagation(),ge&&Ee&&Ee()};let Je="hover:bg-gray-50",Me="";return ne==="phase"||ne==="task"?(Je="bg-white hover:bg-gray-50",Me=""):ne==="phase-task"?(Je="bg-green-50/20 hover:bg-green-50",Me="border-l-2 border-l-green-200"):ne==="subtask"&&(Je="bg-yellow-50/20 hover:bg-yellow-50",Me="border-l-2 border-l-yellow-200"),i.jsx("div",{className:`${Je} ${Me} transition-colors`,children:i.jsxs("div",{className:"grid grid-cols-12 gap-4 py-3 px-6 border-b border-gray-100 items-center cursor-pointer",onClick:gt,onDoubleClick:Ue,children:[i.jsxs("div",{className:"col-span-5 flex items-center",style:{paddingLeft:Ce},children:[Ve&&i.jsx("button",{className:"mr-2 p-1 hover:bg-gray-100 rounded transition-colors flex-shrink-0",onClick:mt,type:"button","aria-label":he?"Collapse":"Expand",children:he?i.jsx(rS,{className:"h-4 w-4 text-gray-600"}):i.jsx(n4,{className:"h-4 w-4 text-gray-600"})}),!Ve&&i.jsx("div",{className:"mr-2 p-1 flex-shrink-0 w-6 h-6"}),Q(),i.jsxs("div",{className:"ml-1 flex-1 min-w-0",children:[i.jsx("div",{className:`font-medium truncate ${ne==="phase"?"text-blue-900 text-lg":ne==="task"?"text-orange-900":ne==="phase-task"?"text-green-900":"text-gray-700"}`,onMouseEnter:nt=>H(ze,nt),onMouseLeave:F,title:ze.length>30?ze:void 0,children:ze}),se.description&&ne==="subtask"&&i.jsx("p",{className:"text-sm text-gray-500 mt-1 truncate",onMouseEnter:nt=>H(se.description,nt),onMouseLeave:F,title:se.description.length>50?se.description:void 0,children:se.description}),se.details&&ne==="phase"&&i.jsx("p",{className:"text-sm text-gray-600 mt-1 truncate",onMouseEnter:nt=>H(se.details,nt),onMouseLeave:F,title:se.details.length>50?se.details:void 0,children:se.details})]})]}),i.jsx("div",{className:"col-span-2 text-center",children:i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${W(tt)}`,children:tt})}),i.jsx("div",{className:"col-span-2 text-center",children:se.priority&&i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Y(se.priority)}`,children:se.priority})}),i.jsxs("div",{className:"col-span-3 flex items-center justify-start space-x-2",children:[ne!=="subtask"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`${ne==="phase"?"w-20":"w-16"} bg-gray-200 rounded-full h-2`,children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Ke}%`}})}),i.jsxs("span",{className:"text-sm text-gray-600 w-12 text-left flex-shrink-0",children:[Ke,"%"]})]}),i.jsxs("div",{className:"ml-auto",children:[ne==="phase"&&t&&i.jsx(Xe,{variant:"outline",size:"sm",onClick:nt=>{nt.preventDefault(),nt.stopPropagation(),t(se)},className:"h-7 px-2 text-xs",children:"View Details"}),(ne==="task"||ne==="phase-task")&&n&&i.jsx(Xe,{variant:"outline",size:"sm",onClick:nt=>{nt.preventDefault(),nt.stopPropagation(),n(se)},className:"h-7 px-2 text-xs",children:"View Details"}),ne==="subtask"&&s&&i.jsx(Xe,{variant:"outline",size:"sm",onClick:nt=>{nt.preventDefault(),nt.stopPropagation(),s(se)},className:"h-7 px-2 text-xs",children:"View Details"})]})]})]})},`${ne}-${se.name}`)};if(N||T||U)return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),i.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),i.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"})]});const ee=x.length>0?x:S||[],ce=E||[],M=z||[],ie=se=>M.filter(V=>V.task===se);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Tasks & Phases"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Xe,{size:"sm",variant:"outline",className:"flex items-center gap-2",onClick:()=>g(!0),children:[i.jsx(qr,{className:"h-4 w-4"}),"Add Task"]}),i.jsxs(Xe,{size:"sm",className:"flex items-center gap-2",onClick:()=>f(!0),children:[i.jsx(qr,{className:"h-4 w-4"}),"Add Phase"]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 grid grid-cols-12 gap-4 text-sm font-medium text-gray-700",children:[i.jsx("div",{className:"col-span-5",children:"Task / Phase"}),i.jsx("div",{className:"col-span-2 text-center",children:"Status"}),i.jsx("div",{className:"col-span-2 text-center",children:"Priority"}),i.jsx("div",{className:"col-span-3 text-left",children:"Progress"})]}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[ee.map(se=>{const V=a.has(se.name),ne=se.tasks||[];return i.jsxs("div",{children:[Z(se,0,"phase",ne.length>0,V,()=>{G(se.name)}),V&&ne.map((ge,he)=>{const Ee=ce.find(tt=>tt.name===ge.task),Ce=ie(ge.task),Ve=Ce.length>0,ze=c.has(ge.task);if(!Ee){const tt={name:ge.task,subject:ge.task,status:"Open"};return i.jsxs("div",{children:[Z(tt,1,"phase-task",Ve,ze,Ve?()=>{q(ge.task)}:void 0),ze&&Ve&&Ce.map((Ke,mt)=>i.jsx("div",{children:Z(Ke,2,"subtask",!1,!1)},`subtask-${mt}`))]},`phase-task-${he}`)}return i.jsxs("div",{children:[Z(Ee,1,"phase-task",Ve,ze,Ve?()=>{q(Ee.name)}:void 0),ze&&Ve&&Ce.map((tt,Ke)=>i.jsx("div",{children:Z(tt,2,"subtask",!1,!1)},`subtask-${Ke}`))]},`phase-task-${he}`)})]},se.name)}),ee.length>0&&ce.filter(se=>!ee.some(ne=>{var ge;return(ge=ne.tasks)==null?void 0:ge.some(he=>he.task===se.name)})).length>0&&i.jsx("div",{className:"bg-gray-100 px-6 py-2 border-b border-gray-200",children:i.jsxs("div",{className:"text-sm font-medium text-gray-600 flex items-center",children:[i.jsx("span",{className:"mr-2",children:"📝"}),"Standalone Tasks"]})}),ce.filter(se=>!ee.some(ne=>{var ge;return(ge=ne.tasks)==null?void 0:ge.some(he=>he.task===se.name)})).map(se=>{const V=c.has(se.name),ne=ie(se.name),ge=ne.length>0;return i.jsxs("div",{children:[Z(se,1,"task",ge,V,ge?()=>{q(se.name)}:void 0),V&&ge&&ne.map((he,Ee)=>i.jsx("div",{children:Z(he,2,"subtask",!1,!1)},`standalone-subtask-${Ee}`))]},se.name)})]})]}),ee.length===0&&ce.length===0&&i.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📋"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No phases or tasks yet"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Start organizing your project by creating phases and tasks."}),i.jsxs("div",{className:"flex gap-3 justify-center",children:[i.jsx(Xe,{onClick:()=>f(!0),children:"Create First Phase"}),i.jsx(Xe,{variant:"outline",onClick:()=>g(!0),children:"Create Task"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:[i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:ee.length}),i.jsx("div",{className:"text-sm text-blue-600",children:"Total Phases"})]}),i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:ce.length}),i.jsx("div",{className:"text-sm text-green-600",children:"Total Tasks"})]}),i.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:M.length}),i.jsx("div",{className:"text-sm text-purple-600",children:"Total Subtasks"})]})]}),i.jsx(t7,{isOpen:h,onClose:()=>f(!1),projectName:e,onSuccess:()=>{A()}}),i.jsx(n7,{isOpen:p,onClose:()=>g(!1),projectName:e,onSuccess:()=>{D()}}),j.visible&&i.jsxs("div",{className:"fixed z-50 bg-gray-900 text-white text-sm px-4 py-2 rounded-lg shadow-xl pointer-events-none border border-gray-700",style:{left:j.x,top:j.y,transform:"translateY(-100%)",maxWidth:"400px",minWidth:"200px",wordWrap:"break-word"},children:[i.jsx("div",{className:"font-medium leading-relaxed",children:j.text}),i.jsx("div",{className:"absolute top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900",style:{left:"20px"}})]})]})},a7=({isOpen:e,onClose:t,projectName:n,phaseId:s,onSuccess:a})=>{const[o,c]=_.useState({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),[d,h]=_.useState({}),[f,p]=_.useState(!1),{createTaskWithPhase:g,isLoading:x}=zL(),{data:b,isLoading:j}=mc(n),{data:v}=Ot("Project",n),S=(T,D)=>{c(C=>oe(L({},C),{[T]:D})),d[T]&&h(C=>oe(L({},C),{[T]:""}))},N=()=>{const T={};return o.subject.trim()||(T.subject="Task subject is required"),h(T),Object.keys(T).length===0},A=T=>ve(null,null,function*(){if(T.preventDefault(),!f&&N()){if(o.exp_start_date&&o.exp_end_date){const D=new Date(o.exp_start_date);if(new Date(o.exp_end_date)<D){xn.error("End date cannot be earlier than start date");return}}if(o.exp_end_date&&(v!=null&&v.expected_end_date)){const D=new Date(o.exp_end_date),C=new Date(v.expected_end_date);if(D>C){xn.error(`Task end date cannot be after project end date (${v.expected_end_date})`);return}}p(!0);try{const D=oe(L({},o),{project:n,expected_time:Number(o.expected_time),task_weight:Number(o.task_weight),exp_start_date:o.exp_start_date||void 0,exp_end_date:o.exp_end_date||void 0,phaseId:s,assign_to:o.assign_to||void 0});console.log("Creating task with data:",D),console.log("Date fields:",{exp_start_date:o.exp_start_date,exp_end_date:o.exp_end_date});const C=yield g(D);console.log("Task with phase created:",C);let z=`Task "${o.subject}" has been created successfully.`;C.todo&&o.assign_to&&(console.log("Task assigned and ToDo created for:",o.assign_to),z+=` Task has been assigned to ${o.assign_to}.`),xn.success("Task created successfully",{description:z}),c({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),h({}),a&&a(),t()}catch(D){console.error("Error creating task:",D);let C="Failed to create task. Please try again.";D!=null&&D.message&&(D.message.includes("Expected End Date cannot be after Project")?C="Task end date cannot be after the project end date. Please choose an earlier date.":D.message.includes("InvalidDates")?C="Invalid date configuration. Please check your task dates.":C=D.message),D!=null&&D.exception&&typeof D.exception=="string"&&D.exception.includes("Expected End Date cannot be after Project")&&(C="Task end date cannot be after the project end date. Please choose an earlier date."),xn.error("Failed to create task",{description:C}),h({submit:C})}finally{p(!1)}}}),E=()=>{c({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),h({}),t()};return i.jsx(xs,{open:e,onOpenChange:E,children:i.jsxs(ys,{className:"sm:max-w-[600px]",children:[i.jsxs(bs,{children:[i.jsxs(vs,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-2xl",children:"📝"}),"Create New Task"]}),i.jsxs(bd,{children:["Create a new task for project: ",i.jsx("strong",{children:n}),s&&i.jsxs(i.Fragment,{children:[i.jsx("br",{}),i.jsx("span",{className:"text-blue-600",children:"🔗 This task will be linked to the current phase"})]}),i.jsx("br",{}),i.jsx("span",{className:"text-gray-600",children:"💡 Assigning to a user will automatically create a ToDo item for them"})]})]}),i.jsxs("form",{onSubmit:A,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Be,{htmlFor:"subject",children:"Task Subject *"}),i.jsx(Ht,{id:"subject",value:o.subject,onChange:T=>S("subject",T.target.value),placeholder:"Enter task subject...",className:d.subject?"border-red-500":""}),d.subject&&i.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Be,{htmlFor:"description",children:"Description"}),i.jsx("textarea",{id:"description",value:o.description,onChange:T=>S("description",T.target.value),placeholder:"Enter task description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Be,{htmlFor:"priority",children:"Priority"}),i.jsxs("select",{id:"priority",value:o.priority,onChange:T=>S("priority",T.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Be,{htmlFor:"status",children:"Status"}),i.jsxs("select",{id:"status",value:o.status,onChange:T=>S("status",T.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[i.jsx("option",{value:"Open",children:"Open"}),i.jsx("option",{value:"Working",children:"Working"}),i.jsx("option",{value:"Overdue",children:"Overdue"}),i.jsx("option",{value:"Pending Review",children:"Pending Review"}),i.jsx("option",{value:"Completed",children:"Completed"}),i.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Be,{htmlFor:"assign_to",children:"Assign To"}),i.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:T=>S("assign_to",T.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",disabled:j,children:[i.jsx("option",{value:"",children:"Select user to assign (Optional)"}),b==null?void 0:b.map(T=>i.jsxs("option",{value:T.user||T.name,children:[T.full_name||T.name,T.email&&` (${T.email})`]},T.user||T.name))]}),j&&i.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!j&&b&&b.length>10&&i.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Be,{htmlFor:"expected_time",children:"Expected Time (hours)"}),i.jsx(Ht,{id:"expected_time",type:"number",min:"0",step:"0.5",value:o.expected_time,onChange:T=>S("expected_time",Number(T.target.value)),placeholder:"0"})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Be,{htmlFor:"task_weight",children:"Task Weight"}),i.jsx(Ht,{id:"task_weight",type:"number",min:"1",value:o.task_weight,onChange:T=>S("task_weight",Number(T.target.value)),placeholder:"1"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"exp_start_date",children:"Expected Start Date"}),i.jsx(Ht,{id:"exp_start_date",type:"date",value:o.exp_start_date,onChange:T=>S("exp_start_date",T.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"exp_end_date",children:"Expected End Date"}),i.jsx(Ht,{id:"exp_end_date",type:"date",value:o.exp_end_date,onChange:T=>S("exp_end_date",T.target.value),max:(v==null?void 0:v.expected_end_date)||void 0}),(v==null?void 0:v.expected_end_date)&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",v.expected_end_date]})]})]})]}),d.submit&&i.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),i.jsxs(Rs,{children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:E,children:"Cancel"}),i.jsx(Xe,{type:"submit",disabled:x||f,children:x||f?"Creating...":"Create Task"})]})]})]})})},i7=({phase:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var z;const{updatePhase:o,isLoading:c,error:d}=UL(),{assignPhase:h,unassignPhase:f}=xT(),{currentUser:p}=Cs(),{data:g,isLoading:x}=mc(t),{data:b}=Ot("Project",t||"",t?"Project":void 0),j=(b==null?void 0:b.users)||[],{data:v}=At("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","project_phase"],["reference_name","=",(e==null?void 0:e.name)||""]]}),S=()=>{if(p==="Administrator"||(b==null?void 0:b.owner)===p)return!0;const U=j.find(R=>R.user===p);return(U==null?void 0:U.project_status)==="Project Manager (Owner Substitute)"},[N,A]=_.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,details:"",costing:0,assign_to:""}),E=((z=v==null?void 0:v[0])==null?void 0:z.allocated_to)||"";_.useEffect(()=>{e&&A({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:E})},[e,E]);const T=(U,R)=>{A(G=>oe(L({},G),{[U]:R}))},D=U=>ve(null,null,function*(){if(U.preventDefault(),!!e){if(N.status==="Completed"&&!S()){xn.error("Permission denied",{description:"You don't have permission to mark this phase as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}try{const R=N,{assign_to:G}=R,q=Oe(R,["assign_to"]);yield o(e.name,q);const Q=E,W=G;if(Q&&Q!==W){const Y=v==null?void 0:v.find(H=>H.allocated_to===Q);Y&&(yield f(Y.name))}W&&W!==Q&&(yield h(e.name,W)),xn.success("Phase updated successfully",{description:`Phase "${N.subject}" has been updated.`}),a&&a(),s()}catch(G){console.error("Error updating phase:",G),xn.error("Failed to update phase",{description:G instanceof Error?G.message:"An unexpected error occurred."})}}}),C=()=>{e&&A({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:E}),s()};return i.jsx(xs,{open:n,onOpenChange:s,children:i.jsxs(ys,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[i.jsx(bs,{children:i.jsx(vs,{children:"Edit Phase"})}),i.jsxs("form",{onSubmit:D,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"subject",children:"Subject *"}),i.jsx(Ht,{id:"subject",value:N.subject,onChange:U=>T("subject",U.target.value),required:!0,placeholder:"Enter phase subject"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"status",children:"Status"}),i.jsxs("select",{id:"status",value:N.status,onChange:U=>T("status",U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"Open",children:"Open"}),i.jsx("option",{value:"Working",children:"Working"}),i.jsx("option",{value:"Pending Review",children:"Pending Review"}),S()&&i.jsx("option",{value:"Completed",children:"Completed"}),i.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),!S()&&i.jsx("span",{className:"text-xs text-amber-600",children:"You don't have permission to mark Completed"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"priority",children:"Priority"}),i.jsxs("select",{id:"priority",value:N.priority,onChange:U=>T("priority",U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Critical",children:"Critical"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"start_date",children:"Start Date"}),i.jsx(Ht,{id:"start_date",type:"date",value:N.start_date,onChange:U=>T("start_date",U.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"end_date",children:"End Date"}),i.jsx(Ht,{id:"end_date",type:"date",value:N.end_date,onChange:U=>T("end_date",U.target.value)})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"progress",children:"Progress (%)"}),i.jsx(Ht,{id:"progress",type:"number",min:"0",max:"100",value:N.progress,onChange:U=>T("progress",parseInt(U.target.value)||0),placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"costing",children:"Costing"}),i.jsx(Ht,{id:"costing",type:"number",min:"0",step:"0.01",value:N.costing,onChange:U=>T("costing",parseFloat(U.target.value)||0),placeholder:"0.00"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"details",children:"Details"}),i.jsx("textarea",{id:"details",value:N.details,onChange:U=>T("details",U.target.value),placeholder:"Enter phase details",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"assign_to",children:"Assign To"}),i.jsxs("select",{id:"assign_to",value:N.assign_to,onChange:U=>T("assign_to",U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:x,children:[i.jsx("option",{value:"",children:"Select user..."}),g==null?void 0:g.map(U=>i.jsx("option",{value:U.user||U.name,children:U.user||U.name},U.name))]}),x&&i.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&i.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update phase"]})}),i.jsxs(Rs,{className:"flex gap-2",children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:C,children:"Cancel"}),i.jsx(Xe,{type:"submit",disabled:c,children:c?"Updating...":"Update Phase"})]})]})]})})},o7=({phase:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:o,error:c}=ps("frappe.client.delete"),d=()=>ve(null,null,function*(){if(e)try{yield a({doctype:"project_phase",name:e.name}),s&&s(),n()}catch(f){console.error("Error deleting phase:",f)}}),h=()=>{n()};return i.jsx(xs,{open:t,onOpenChange:n,children:i.jsxs(ys,{className:"sm:max-w-[400px]",children:[i.jsx(bs,{children:i.jsxs(vs,{className:"flex items-center gap-2 text-red-600",children:[i.jsx(oc,{className:"h-5 w-5"}),"Delete Phase"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this phase? This action cannot be undone."}),e&&i.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[i.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]})]}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[i.jsxs("div",{className:"text-sm text-red-800",children:[i.jsx("strong",{children:"Warning:"})," Deleting this phase will also remove:"]}),i.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[i.jsx("li",{children:"All tasks associated with this phase"}),i.jsx("li",{children:"All phase progress data"}),i.jsx("li",{children:"Phase timeline and milestones"}),i.jsx("li",{children:"Related documents and attachments"})]})]}),c&&i.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete phase"]})})]}),i.jsxs(Rs,{className:"flex gap-2",children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:h,children:"Cancel"}),i.jsx(Xe,{type:"button",variant:"destructive",onClick:d,disabled:o,children:o?"Deleting...":"Delete Phase"})]})]})})},l7=({phase:e,projectName:t,onBack:n,onViewTaskDetails:s,onPhaseUpdated:a,onPhaseDeleted:o,onTaskCreated:c})=>{var ee;const[d,h]=_.useState(!1),[f,p]=_.useState(!1),[g,x]=_.useState(!1),[b,j]=_.useState(!1),[v,S]=_.useState(!1),{calculateAndUpdatePhaseProgress:N}=jT(),{data:A,mutate:E}=Ot("project_phase",e.name,"project_phase"),T=A||e,{data:D,isLoading:C,mutate:z}=At("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",t]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),U=re.useMemo(()=>{if(!D)return[];if(T.tasks&&T.tasks.length>0){const ce=T.tasks.map(M=>M.task);return D.filter(M=>ce.includes(M.name))}return[]},[D,T.tasks]),R=re.useMemo(()=>{if(!U||U.length===0)return 0;const ce=U.reduce((M,ie)=>M+(ie.progress||0),0);return Math.round(ce/U.length)},[U]);_.useEffect(()=>{U.length>0&&R!==(T.progress||0)&&G()},[R,U.length]);const G=()=>ve(null,null,function*(){j(!0);try{yield N(e.name),yield E(),a&&a()}catch(ce){console.error("Error recalculating phase progress:",ce)}finally{j(!1)}}),q=ce=>ce?new Date(ce).toLocaleDateString():"N/A",Q=ce=>ce?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ce):"$0",W=ce=>{switch(ce){case"Completed":return i.jsx(ty,{className:"h-5 w-5 text-green-600"});case"Working":return i.jsx(zo,{className:"h-5 w-5 text-yellow-600"});case"Open":return i.jsx(Ui,{className:"h-5 w-5 text-blue-600"});default:return i.jsx(Ui,{className:"h-5 w-5 text-gray-400"})}},Y=ce=>{switch(ce){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},H=ce=>{switch(ce){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},F=()=>ve(null,null,function*(){S(!0);try{yield E(),yield z(),a&&(yield a()),setTimeout(()=>ve(null,null,function*(){j(!0);try{yield N(T.name),setTimeout(()=>ve(null,null,function*(){yield E()}),500)}catch(ce){console.error("Error recalculating phase progress:",ce)}finally{j(!1)}}),500)}finally{S(!1)}}),Z=()=>{o&&o(),n()};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Xe,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[i.jsx(ey,{className:"h-4 w-4"}),"Back to Tasks"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>p(!0),disabled:v||b,className:"flex items-center gap-2",children:[i.jsx(Bo,{className:`h-4 w-4 ${v?"animate-pulse":""}`}),v?"Updating...":"Edit Phase"]}),i.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>x(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[i.jsx(Bi,{className:"h-4 w-4"}),"Delete Phase"]})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500 flex items-center justify-center",children:i.jsx("span",{className:"text-xl",children:"📋"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:T.subject}),i.jsx("p",{className:"text-sm text-gray-600",children:"Phase Details"})]})]}),T.details&&i.jsx("p",{className:"text-gray-700 leading-relaxed",children:T.details})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${Y(T.status||"Open")}`,children:[W(T.status||"Open"),i.jsx("span",{className:"font-medium",children:T.status||"Open"})]}),T.priority&&i.jsx("div",{className:`px-3 py-1 rounded-full border ${H(T.priority)}`,children:i.jsx("span",{className:"text-sm font-medium",children:T.priority})})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phase Progress"}),U.length>0&&i.jsxs("span",{className:"text-xs text-gray-500",children:["(Auto-calculated from ",U.length," tasks)"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[R,"%"]}),i.jsx(Xe,{variant:"ghost",size:"sm",onClick:G,disabled:b,className:"h-8 w-8 p-0",title:"Recalculate progress from tasks",children:i.jsx(G4,{className:`h-4 w-4 ${b?"animate-spin":""}`})})]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${R}%`}})}),U.length>0&&i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Task progress: ",U.map(ce=>`${ce.subject}: ${ce.progress||0}%`).join(", ")]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:i.jsx(Ys,{className:"h-6 w-6 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),i.jsx("p",{className:"text-lg font-bold text-gray-900",children:q(T.start_date)})]})]})}),i.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:i.jsx(ry,{className:"h-6 w-6 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),i.jsx("p",{className:"text-lg font-bold text-gray-900",children:q(T.end_date)})]})]})}),i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:i.jsx(Uo,{className:"h-6 w-6 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Estimated Cost"}),i.jsx("p",{className:"text-lg font-bold text-gray-900",children:Q(T.costing)})]})]})})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Phase Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Phase ID"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:T.name})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),i.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${Y(T.status||"Open")}`,children:[W(T.status||"Open"),i.jsx("span",{className:"font-medium",children:T.status||"Open"})]})]}),i.jsxs("div",{className:"flex items-center justify-between py-3",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),i.jsx("div",{className:`px-3 py-1 rounded-full ${H(T.priority||"Medium")}`,children:i.jsx("span",{className:"font-medium",children:T.priority||"Medium"})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Tasks Count"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:((ee=T.tasks)==null?void 0:ee.length)||0})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:T.start_date&&T.end_date?`${Math.ceil((new Date(T.end_date).getTime()-new Date(T.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),i.jsxs("div",{className:"flex items-center justify-between py-3",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[R,"%"]}),U.length>0&&i.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",U.length," tasks)"]})]})]}),i.jsxs("div",{className:"flex items-center justify-between py-3",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Estimated Cost"}),i.jsx("span",{className:"text-xl font-bold text-green-600",children:Q(e.costing)})]})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Tasks in this Phase"})}),C?i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),i.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),i.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[i.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[i.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),i.jsx("div",{className:"col-span-4 text-sm font-medium text-gray-700",children:"Task"}),i.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Progress"}),i.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),i.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700 text-center",children:"Priority"}),i.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[U&&U.length>0?U.map((ce,M)=>i.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[i.jsx("div",{className:"col-span-1 flex items-center",children:i.jsx("span",{className:"text-sm text-gray-600",children:M+1})}),i.jsxs("div",{className:"col-span-4 flex items-center gap-3",children:[i.jsx("div",{className:"p-1 bg-orange-100 rounded",children:i.jsx("span",{className:"text-sm",children:"📝"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:ce.subject||ce.name}),i.jsx("div",{className:"text-sm text-gray-500",children:ce.name})]})]}),i.jsx("div",{className:"col-span-2 flex items-center justify-center",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${ce.progress||0}%`}})}),i.jsxs("span",{className:"text-sm font-medium text-gray-700 min-w-[30px]",children:[ce.progress||0,"%"]})]})}),i.jsx("div",{className:"col-span-2 flex items-center justify-center",children:i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Y(ce.status||"Open")}`,children:ce.status||"Open"})}),i.jsx("div",{className:"col-span-1 flex items-center justify-center",children:ce.priority&&i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${H(ce.priority)}`,children:ce.priority})}),i.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&i.jsx(Xe,{variant:"outline",size:"sm",onClick:()=>s(ce),className:"h-7 px-2 text-xs",children:"View Details"})})]},ce.name)):i.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[i.jsx("div",{className:"text-4xl mb-2",children:"📝"}),i.jsx("div",{className:"text-lg font-medium mb-1",children:"No tasks yet"}),i.jsx("div",{className:"text-sm",children:'Click "Add Task" to create the first task for this phase'})]}),i.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:i.jsx("div",{className:"col-span-12 flex items-center justify-center",children:i.jsxs(Xe,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>h(!0),children:[i.jsx(qr,{className:"h-4 w-4"}),"Add new task to this phase"]})})})]})]})]}),i.jsx(Dm,{doctype:"project_phase",docname:e.name,title:"Phase Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),i.jsx(a7,{isOpen:d,onClose:()=>h(!1),projectName:t,phaseId:e.name,onSuccess:()=>ve(null,null,function*(){yield E(),c&&(yield c()),setTimeout(()=>ve(null,null,function*(){yield z(),setTimeout(()=>ve(null,null,function*(){yield G()}),500)}),500)})}),i.jsx(i7,{phase:e,projectName:t,isOpen:f,onClose:()=>p(!1),onSuccess:F}),i.jsx(o7,{phase:e,isOpen:g,onClose:()=>x(!1),onSuccess:Z})]})},c7=({isOpen:e,onClose:t,projectName:n,parentTask:s,onSuccess:a})=>{const[o,c]=_.useState({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),[d,h]=_.useState({}),{createDoc:f,loading:p}=Ii(),{assignSubTask:g}=_y(),{calculateAndUpdateTaskProgress:x}=pd(),{data:b,isLoading:j}=mc(n),v=(E,T)=>{c(D=>oe(L({},D),{[E]:T})),d[E]&&h(D=>oe(L({},D),{[E]:""}))},S=()=>{const E={};return o.subject.trim()||(E.subject="SubTask subject is required"),o.task.trim()||(E.task="Parent task is required"),h(E),Object.keys(E).length===0},N=E=>ve(null,null,function*(){if(E.preventDefault(),!!S())try{const T=o,{assign_to:D}=T,C=Oe(T,["assign_to"]),z=yield f("SubTask",oe(L({},C),{project:n}));if(D&&z&&(yield g(z.name,D)),s)try{yield x(s)}catch(U){console.error("Error updating task progress after subtask creation:",U)}c({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),h({}),a&&a(),t()}catch(D){console.error("Error creating subtask:",D),h({submit:"Failed to create subtask. Please try again."})}}),A=()=>{c({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),h({}),t()};return i.jsx(xs,{open:e,onOpenChange:A,children:i.jsxs(ys,{className:"sm:max-w-[600px]",children:[i.jsxs(bs,{children:[i.jsxs(vs,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-2xl",children:"📌"}),"Create New SubTask"]}),i.jsxs(bd,{children:["Create a new subtask for project: ",i.jsx("strong",{children:n}),s&&i.jsxs("span",{className:"block mt-1",children:["Parent Task: ",i.jsx("strong",{children:s})]})]})]}),i.jsxs("form",{onSubmit:N,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Be,{htmlFor:"subject",children:"SubTask Subject *"}),i.jsx(Ht,{id:"subject",value:o.subject,onChange:E=>v("subject",E.target.value),placeholder:"Enter subtask subject...",className:d.subject?"border-red-500":""}),d.subject&&i.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Be,{htmlFor:"task",children:"Parent Task *"}),i.jsx(Ht,{id:"task",value:o.task,onChange:E=>v("task",E.target.value),placeholder:"Enter parent task ID...",className:d.task?"border-red-500":""}),d.task&&i.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.task}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the Task ID that this subtask belongs to"})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Be,{htmlFor:"description",children:"Description"}),i.jsx("textarea",{id:"description",value:o.description,onChange:E=>v("description",E.target.value),placeholder:"Enter subtask description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"assign_to",children:"Assign To"}),i.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:E=>v("assign_to",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:j,children:[i.jsx("option",{value:"",children:"Select user..."}),b==null?void 0:b.map(E=>i.jsx("option",{value:E.user||E.name,children:E.user||E.name},E.name))]}),j&&i.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Be,{htmlFor:"priority",children:"Priority"}),i.jsxs("select",{id:"priority",value:o.priority,onChange:E=>v("priority",E.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"})]})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(Be,{htmlFor:"status",children:"Status"}),i.jsxs("select",{id:"status",value:o.status,onChange:E=>v("status",E.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[i.jsx("option",{value:"Open",children:"Open"}),i.jsx("option",{value:"Working",children:"Working"}),i.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]}),d.submit&&i.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),i.jsxs(Rs,{children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:A,children:"Cancel"}),i.jsx(Xe,{type:"submit",disabled:p,children:p?"Creating...":"Create SubTask"})]})]})]})})},u7=({task:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{const{updateTask:o,isLoading:c,error:d}=mT(),{assignTask:h,unassignTask:f}=pT(),{updateTaskProgress:p}=vT(),{updateTaskProgressByStatus:g}=bT(),{currentUser:x}=Cs(),{data:b,isLoading:j}=mc(t),{data:v}=Ot("Project",t),S=(v==null?void 0:v.users)||[],{data:N}=At("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","Task"],["reference_name","=",(e==null?void 0:e.name)||""]]}),{data:A}=At("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.name)||""]],limit:1}),E=()=>{if(x==="Administrator"||(v==null?void 0:v.owner)===x)return!0;const q=S.find(Q=>Q.user===x);return(q==null?void 0:q.project_status)==="Project Manager (Owner Substitute)"},[T,D]=_.useState({subject:"",status:"Open",priority:"Medium",exp_start_date:"",exp_end_date:"",progress:0,description:"",assign_to:""}),[C,z]=_.useState(!1);_.useEffect(()=>{var q;if(e){const Q=((q=N==null?void 0:N[0])==null?void 0:q.allocated_to)||"";D({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:Q})}},[e,N]),_.useEffect(()=>{z(!!(A&&A.length>0))},[A]);const U=(q,Q)=>{D(W=>oe(L({},W),{[q]:Q}))},R=q=>ve(null,null,function*(){var Q,W,Y;if(q.preventDefault(),!!e){if(T.status==="Completed"&&!E()){xn.error("Permission denied",{description:"You don't have permission to mark this task as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}if(T.exp_start_date&&T.exp_end_date){const H=new Date(T.exp_start_date);if(new Date(T.exp_end_date)<H){xn.error("End date cannot be earlier than start date");return}}if(T.exp_end_date&&(v!=null&&v.expected_end_date)){const H=new Date(T.exp_end_date),F=new Date(v.expected_end_date);if(H>F){xn.error(`Task end date cannot be after project end date (${v.expected_end_date})`);return}}try{const H=T.progress!==(e.progress||0),F=T.status!==e.status;C&&H?yield p(e.name,T.progress):F&&(T.status==="Completed"||T.status==="Cancelled")?yield g(e.name,T.status):yield o(e.name,T);const Z=((Q=N==null?void 0:N[0])==null?void 0:Q.allocated_to)||"",ee=T.assign_to;if(Z!==ee){if(Z&&(N!=null&&N[0]))try{yield f(N[0].name)}catch(ce){console.error("Error deleting old ToDo:",ce)}if(ee)try{yield h(e.name,T.subject,ee,T.priority)}catch(ce){console.error("Error creating new ToDo:",ce)}}xn.success("Task updated successfully",{description:`Task "${T.subject}" has been updated.`}),a&&a(),s()}catch(H){console.error("Error updating task:",H);let F="Failed to update task";(W=H==null?void 0:H.message)!=null&&W.includes("modified")?F="The task has been modified by someone else. Please close and reopen the task to get the latest version.":(Y=H==null?void 0:H.message)!=null&&Y.includes("permission")?F="You do not have permission to update this task.":H!=null&&H.message&&(F=H.message),xn.error("Failed to update task",{description:F})}}}),G=()=>{var q;if(e){const Q=((q=N==null?void 0:N[0])==null?void 0:q.allocated_to)||"";D({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:Q})}s()};return i.jsx(xs,{open:n,onOpenChange:s,children:i.jsxs(ys,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[i.jsx(bs,{children:i.jsx(vs,{children:"Edit Task"})}),i.jsxs("form",{onSubmit:R,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"subject",children:"Subject *"}),i.jsx(Ht,{id:"subject",value:T.subject,onChange:q=>U("subject",q.target.value),required:!0,placeholder:"Enter task subject"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"status",children:"Status"}),i.jsxs("select",{id:"status",value:T.status,onChange:q=>U("status",q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"Open",children:"Open"}),i.jsx("option",{value:"Working",children:"Working"}),i.jsx("option",{value:"Pending Review",children:"Pending Review"}),i.jsx("option",{value:"Overdue",children:"Overdue"}),i.jsx("option",{value:"Template",children:"Template"}),E()&&i.jsx("option",{value:"Completed",children:"Completed"}),i.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),!E()&&i.jsx("span",{className:"text-xs text-amber-600",children:"You don't have permission to mark Completed"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"priority",children:"Priority"}),i.jsxs("select",{id:"priority",value:T.priority,onChange:q=>U("priority",q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"assign_to",children:"Assign To"}),i.jsxs("select",{id:"assign_to",value:T.assign_to,onChange:q=>U("assign_to",q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:j,children:[i.jsx("option",{value:"",children:"Select user to assign (Optional)"}),b==null?void 0:b.map(q=>i.jsxs("option",{value:q.user||q.name,children:[q.full_name||q.name,q.email&&` (${q.email})`]},q.user||q.name))]}),j&&i.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!j&&b&&b.length>10&&i.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"}),N&&N.length>0&&i.jsx("p",{className:"text-sm text-blue-600",children:"💡 Changing assignment will update the ToDo automatically"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"exp_start_date",children:"Expected Start Date"}),i.jsx(Ht,{id:"exp_start_date",type:"date",value:T.exp_start_date,onChange:q=>U("exp_start_date",q.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"exp_end_date",children:"Expected End Date"}),i.jsx(Ht,{id:"exp_end_date",type:"date",value:T.exp_end_date,onChange:q=>U("exp_end_date",q.target.value),max:(v==null?void 0:v.expected_end_date)||void 0}),(v==null?void 0:v.expected_end_date)&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",v.expected_end_date]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"progress",children:"Progress (%)"}),i.jsx(Ht,{id:"progress",type:"number",min:"0",max:"100",value:T.progress,onChange:q=>U("progress",parseInt(q.target.value)||0),placeholder:"0",disabled:C}),C?i.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[i.jsx("strong",{children:"🔄 Smart Progress Mode:"}),i.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[i.jsx("li",{children:"Progress is automatically calculated from subtasks"}),i.jsx("li",{children:"Only assignee can manually override progress"}),i.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):i.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[i.jsx("strong",{children:"✏️ Manual Progress Mode:"}),i.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"description",children:"Description"}),i.jsx("textarea",{id:"description",value:T.description,onChange:q=>U("description",q.target.value),placeholder:"Enter task description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),d&&i.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update task"]})}),i.jsxs(Rs,{className:"flex gap-2",children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:G,children:"Cancel"}),i.jsx(Xe,{type:"submit",disabled:c,children:c?"Updating...":"Update Task"})]})]})]})})},d7=({task:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteDoc:a,loading:o,error:c}=dm(),[d,h]=_.useState(!1),f=()=>ve(null,null,function*(){var g,x;if(e){h(!0);try{const b=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name"],filters:[["task","=",e.name]]})});if(b.ok){const v=(yield b.json()).message||[];if(v.length>0)for(const S of v)yield a("SubTask",S.name)}try{const j=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e.project]],orderBy:{field:"start_date",order:"asc"}})});if(j.ok){const S=(yield j.json()).message||[],N=[];for(const A of S)try{const E=yield fetch(`/api/resource/project_phase/${A.name}`,{headers:{Accept:"application/json"}});if(E.ok){const T=yield E.json(),D=((g=T.data)==null?void 0:g.tasks)||[],C=D.findIndex(z=>z.task===e.name);C>=0&&(console.log(`Found task ${e.name} in phase ${A.name}, will remove from child table...`),D.splice(C,1),N.push({name:A.name,data:oe(L({},T.data),{tasks:D})}))}else console.warn("Failed to fetch phase:",A.name)}catch(E){console.error("Error fetching phase:",A.name,E)}for(const A of N)try{(yield fetch(`/api/resource/project_phase/${A.name}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(A.data)})).ok?console.log(`Successfully removed task ${e.name} from phase ${A.name}`):console.warn(`Failed to update phase ${A.name} after removing task`)}catch(E){console.error(`Error updating phase ${A.name}:`,E)}}else console.warn("Failed to fetch phases list, proceeding with task deletion...")}catch(j){console.warn("Error checking phases for task references:",j)}yield a("Task",e.name),console.log(`Successfully deleted task ${e.name}`),s&&s(),n()}catch(b){console.error("Error deleting task:",b),(x=b==null?void 0:b.exception)!=null&&x.includes("LinkExistsError")?b.exception.includes("project_phase")||b.exception.includes("phase")?alert("Cannot delete task because it is still linked with project phases. The system tried to remove phase task links automatically but failed. Please contact administrator."):b.exception.includes("SubTask")?alert("Cannot delete task because it has linked subtasks. Please delete all subtasks first."):alert("Cannot delete task because it has linked dependencies. Please check related records."):alert("Error deleting task. Please try again.")}finally{h(!1)}}}),p=()=>{n()};return i.jsx(xs,{open:t,onOpenChange:n,children:i.jsxs(ys,{className:"sm:max-w-[400px]",children:[i.jsx(bs,{children:i.jsxs(vs,{className:"flex items-center gap-2 text-red-600",children:[i.jsx(oc,{className:"h-5 w-5"}),"Delete Task"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this task? This action cannot be undone."}),e&&i.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[i.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),e.project&&i.jsxs("div",{className:"text-sm text-blue-600",children:["Project: ",e.project]})]}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[i.jsxs("div",{className:"text-sm text-red-800",children:[i.jsx("strong",{children:"⚠️ Warning:"})," Deleting this task will automatically:"]}),i.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Delete ALL subtasks first"})," (to resolve SubTask dependencies)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Remove task from ALL phase child tables"})," (for any phases this task is assigned to)"]}),i.jsx("li",{children:"Remove all task progress data"}),i.jsx("li",{children:"Delete task timeline and activities"}),i.jsx("li",{children:"Remove related comments and attachments"})]}),i.jsx("div",{className:"text-xs text-red-600 mt-2 font-medium",children:"💡 The system will automatically search and handle ALL dependencies to prevent LinkExistsError."})]}),c&&i.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete task"]})})]}),i.jsxs(Rs,{className:"flex gap-2",children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:p,disabled:d,children:"Cancel"}),i.jsx(Xe,{type:"button",variant:"destructive",onClick:f,disabled:d||o,children:d?"Deleting Task & SubTasks...":o?"Deleting...":"Delete Task"})]})]})})},mk=()=>{const{calculateAndUpdatePhaseProgress:e}=jT(),{calculateAndUpdateProjectProgress:t}=HL();return{updatePhaseProgressForTask:(a,o)=>ve(null,null,function*(){try{const c=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","tasks"],filters:[["project","=",o]]})});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const h=(yield c.json()).message||[],f=[];for(const p of h)try{const g=yield fetch(`/api/resource/project_phase/${p.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(g.ok){const x=yield g.json();x.data.tasks&&x.data.tasks.some(b=>b.task===a)&&f.push(p)}}catch(g){console.warn("Error fetching phase document:",p.name,g)}console.log(`Found ${f.length} phases affected by task ${a}`);for(const p of f)console.log(`Updating progress for phase ${p.name} after task ${a} change`),yield e(p.name);return console.log(`Updating overall project progress for ${o} after task ${a} change`),yield t(o),console.log(`Updated progress for ${f.length} phases and project ${o} affected by task ${a}`),f}catch(c){return console.error("Error updating phase progress for task:",c),[]}}),updateProjectProgress:a=>ve(null,null,function*(){try{console.log(`Updating overall project progress for ${a}`);const o=yield t(a);return o&&console.log(`Project ${a} progress updated to ${o.progress}% from ${o.source} (${o.count} items)`),o}catch(o){return console.error("Error updating project progress:",o),null}})}},f7=({task:e,projectName:t,onBack:n,onViewSubTaskDetails:s,onTaskUpdated:a,onTaskDeleted:o})=>{const[c,d]=_.useState(!1),[h,f]=_.useState(!1),[p,g]=_.useState(!1),{updatePhaseProgressForTask:x}=mk(),{calculateAndUpdateTaskProgress:b}=pd(),{data:j,isLoading:v,mutate:S}=At("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:[["task","=",e.name]],orderBy:{field:"start_date",order:"asc"},limit:0}),{data:N}=At("ToDo",{fields:["name","allocated_to","status"],filters:[["reference_type","=","Task"],["reference_name","=",e.name]],limit:1}),A=N&&N.length>0?N[0].allocated_to:null,{data:E}=Ot("User",A||void 0,{fields:["name","full_name","email","user_image"]}),T=q=>q?new Date(q).toLocaleDateString():"N/A",D=q=>{switch(q){case"Completed":return i.jsx(ty,{className:"h-5 w-5 text-green-600"});case"Working":return i.jsx(zo,{className:"h-5 w-5 text-yellow-600"});case"Open":return i.jsx(Ui,{className:"h-5 w-5 text-blue-600"});default:return i.jsx(Ui,{className:"h-5 w-5 text-gray-400"})}},C=q=>{switch(q){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},z=q=>{switch(q){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},U=()=>{a&&a(),x(e.name,t).catch(console.error)},R=()=>{o&&o(),x(e.name,t).catch(console.error),n()},G=({subtask:q})=>{var Y;const{data:Q}=At("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(q==null?void 0:q.name)||""]]}),W=(Y=Q==null?void 0:Q[0])==null?void 0:Y.allocated_to;return i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{children:W})})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Xe,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[i.jsx(ey,{className:"h-4 w-4"}),"Back to Tasks"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>f(!0),className:"flex items-center gap-2",children:[i.jsx(Bo,{className:"h-4 w-4"}),"Edit Task"]}),i.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>g(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[i.jsx(Bi,{className:"h-4 w-4"}),"Delete Task"]})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"h-12 w-12 rounded-lg bg-orange-500 flex items-center justify-center",children:i.jsx("span",{className:"text-xl",children:"📝"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),i.jsx("p",{className:"text-sm text-gray-600",children:"Task Details"})]})]}),e.description&&i.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${C(e.status||"Open")}`,children:[D(e.status||"Open"),i.jsx("span",{className:"font-medium",children:e.status||"Open"})]}),e.priority&&i.jsx("div",{className:`px-3 py-1 rounded-full border ${z(e.priority)}`,children:i.jsx("span",{className:"text-sm font-medium",children:e.priority})})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Task Progress"}),i.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[e.progress||0,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:i.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${e.progress||0}%`}})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:i.jsx(Ys,{className:"h-6 w-6 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),i.jsx("p",{className:"text-lg font-bold text-gray-900",children:T(e.exp_start_date)})]})]})}),i.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:i.jsx(ry,{className:"h-6 w-6 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),i.jsx("p",{className:"text-lg font-bold text-gray-900",children:T(e.exp_end_date)})]})]})}),i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:i.jsx(Gu,{className:"h-6 w-6 text-green-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Assigned To"}),N&&N.length>0?i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-bold text-gray-900",children:(E==null?void 0:E.full_name)||A}),(E==null?void 0:E.email)&&i.jsx("p",{className:"text-sm text-gray-600",children:E.email})]}):i.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Task Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Task ID"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),i.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${C(e.status||"Open")}`,children:[D(e.status||"Open"),i.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]}),i.jsxs("div",{className:"flex items-center justify-between py-3",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),i.jsx("div",{className:`px-3 py-1 rounded-full ${z(e.priority||"Medium")}`,children:i.jsx("span",{className:"font-medium",children:e.priority||"Medium"})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Subtasks Count"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:(j==null?void 0:j.length)||0})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:e.exp_start_date&&e.exp_end_date?`${Math.ceil((new Date(e.exp_end_date).getTime()-new Date(e.exp_start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),i.jsxs("span",{className:"text-xl font-bold text-orange-600",children:[e.progress||0,"%"]})]}),i.jsxs("div",{className:"flex items-center justify-between py-3",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Assigned To"}),N&&N.length>0?i.jsx("div",{children:i.jsx("p",{className:"text-lg font-bold text-gray-900",children:(E==null?void 0:E.full_name)||A})}):i.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"SubTasks"})}),v?i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),i.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),i.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[i.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[i.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),i.jsx("div",{className:"col-span-5 text-sm font-medium text-gray-700",children:"SubTask"}),i.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),i.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Assign To"}),i.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[j&&j.length>0?j.map((q,Q)=>i.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[i.jsx("div",{className:"col-span-1 flex items-center",children:i.jsx("span",{className:"text-sm text-gray-600",children:Q+1})}),i.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[i.jsx("div",{className:"p-1 bg-green-100 rounded",children:i.jsx("span",{className:"text-sm",children:"✅"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:q.subject||q.name}),i.jsx("div",{className:"text-sm text-gray-500",children:q.name})]})]}),i.jsx("div",{className:"col-span-2 flex items-center justify-center",children:i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${C(q.status||"Open")}`,children:q.status||"Open"})}),i.jsx("div",{className:"col-span-2 flex items-center justify-center",children:i.jsx(G,{subtask:q})}),i.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&i.jsx(Xe,{variant:"outline",size:"sm",onClick:()=>s(q),className:"h-7 px-2 text-xs",children:"View Details"})})]},q.name)):i.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[i.jsx("div",{className:"text-4xl mb-2",children:"✅"}),i.jsx("div",{className:"text-lg font-medium mb-1",children:"No subtasks yet"}),i.jsx("div",{className:"text-sm",children:'Click "Add SubTask" to create the first subtask for this task'})]}),i.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:i.jsx("div",{className:"col-span-12 flex items-center justify-center",children:i.jsxs(Xe,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>d(!0),children:[i.jsx(qr,{className:"h-4 w-4"}),"Add new subtask to this task"]})})})]})]})]}),i.jsx(Dm,{doctype:"Task",docname:e.name,title:"Task Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),i.jsx(c7,{isOpen:c,onClose:()=>d(!1),projectName:t,parentTask:e.name,onSuccess:()=>ve(null,null,function*(){S(),setTimeout(()=>ve(null,null,function*(){yield b(e.name),setTimeout(()=>ve(null,null,function*(){yield x(e.name,t)}),500)}),500)})}),i.jsx(u7,{task:e,projectName:t,isOpen:h,onClose:()=>f(!1),onSuccess:U}),i.jsx(d7,{task:e,isOpen:p,onClose:()=>g(!1),onSuccess:R})]})},h7=({subtask:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var T;const{updateSubTask:o,isLoading:c,error:d}=yT(),{assignSubTask:h,unassignSubTask:f}=_y(),{calculateAndUpdateTaskProgress:p}=pd(),{data:g,isLoading:x}=mc(t),{data:b}=At("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[j,v]=_.useState({subject:"",status:"Open",start_date:"",end_date:"",description:"",assign_to:""}),S=((T=b==null?void 0:b[0])==null?void 0:T.allocated_to)||"";_.useEffect(()=>{e&&v({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:S})},[e,S]);const N=(D,C)=>{v(z=>oe(L({},z),{[D]:C}))},A=D=>ve(null,null,function*(){if(D.preventDefault(),!!e)try{const C=j,{assign_to:z}=C,U=Oe(C,["assign_to"]);yield o(e.name,U);const R=S,G=z;if(R&&R!==G){const q=b==null?void 0:b.find(Q=>Q.allocated_to===R);q&&(yield f(q.name))}G&&G!==R&&(yield h(e.name,G)),e.task&&U.status!==e.status&&(yield p(e.task)),a&&a(),s()}catch(z){console.error("Error updating subtask:",z)}}),E=()=>{e&&v({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:S}),s()};return i.jsx(xs,{open:n,onOpenChange:s,children:i.jsxs(ys,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[i.jsx(bs,{children:i.jsx(vs,{children:"Edit SubTask"})}),i.jsxs("form",{onSubmit:A,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"subject",children:"Subject *"}),i.jsx(Ht,{id:"subject",value:j.subject,onChange:D=>N("subject",D.target.value),required:!0,placeholder:"Enter subtask subject"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"status",children:"Status"}),i.jsxs("select",{id:"status",value:j.status,onChange:D=>N("status",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"Open",children:"Open"}),i.jsx("option",{value:"Working",children:"Working"}),i.jsx("option",{value:"Completed",children:"Completed"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"start_date",children:"Start Date"}),i.jsx(Ht,{id:"start_date",type:"date",value:j.start_date,onChange:D=>N("start_date",D.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"end_date",children:"End Date"}),i.jsx(Ht,{id:"end_date",type:"date",value:j.end_date,onChange:D=>N("end_date",D.target.value)})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"description",children:"Description"}),i.jsx("textarea",{id:"description",value:j.description,onChange:D=>N("description",D.target.value),placeholder:"Enter subtask description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"assign_to",children:"Assign To"}),i.jsxs("select",{id:"assign_to",value:j.assign_to,onChange:D=>N("assign_to",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:x,children:[i.jsx("option",{value:"",children:"Select user..."}),g==null?void 0:g.map(D=>i.jsx("option",{value:D.user||D.name,children:D.user||D.name},D.name))]}),x&&i.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&i.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update subtask"]})}),i.jsxs(Rs,{className:"flex gap-2",children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:E,children:"Cancel"}),i.jsx(Xe,{type:"submit",disabled:c,children:c?"Updating...":"Update SubTask"})]})]})]})})},m7=({subtask:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:o,error:c}=ps("frappe.client.delete"),{calculateAndUpdateTaskProgress:d}=pd(),h=()=>ve(null,null,function*(){if(e)try{if(yield a({doctype:"SubTask",name:e.name}),e.task)try{yield d(e.task)}catch(p){console.error("Error updating task progress after subtask deletion:",p)}s&&s(),n()}catch(p){console.error("Error deleting subtask:",p)}}),f=()=>{n()};return i.jsx(xs,{open:t,onOpenChange:n,children:i.jsxs(ys,{className:"sm:max-w-[400px]",children:[i.jsx(bs,{children:i.jsxs(vs,{className:"flex items-center gap-2 text-red-600",children:[i.jsx(oc,{className:"h-5 w-5"}),"Delete SubTask"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this subtask? This action cannot be undone."}),e&&i.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[i.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Task: ",e.task]})]}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[i.jsxs("div",{className:"text-sm text-red-800",children:[i.jsx("strong",{children:"Warning:"})," Deleting this subtask will also remove:"]}),i.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[i.jsx("li",{children:"All subtask progress data"}),i.jsx("li",{children:"Subtask timeline and activities"}),i.jsx("li",{children:"Related comments and attachments"}),i.jsx("li",{children:"Any associated time logs"})]})]}),c&&i.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete subtask"]})})]}),i.jsxs(Rs,{className:"flex gap-2",children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:f,children:"Cancel"}),i.jsx(Xe,{type:"button",variant:"destructive",onClick:h,disabled:o,children:o?"Deleting...":"Delete SubTask"})]})]})})},p7=({subtask:e,projectName:t,onBack:n,onSubTaskUpdated:s,onSubTaskDeleted:a})=>{var E;const[o,c]=_.useState(!1),[d,h]=_.useState(!1),{calculateAndUpdateTaskProgress:f}=pd(),{updatePhaseProgressForTask:p}=mk(),{data:g}=At("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),x=(E=g==null?void 0:g[0])==null?void 0:E.allocated_to,{data:b}=Ot("User",x||"",{shouldFetch:!!x}),j=T=>T?new Date(T).toLocaleDateString():"N/A",v=T=>{switch(T){case"Completed":return i.jsx(ty,{className:"h-5 w-5 text-green-600"});case"Working":return i.jsx(zo,{className:"h-5 w-5 text-yellow-600"});case"Open":return i.jsx(Ui,{className:"h-5 w-5 text-blue-600"});default:return i.jsx(Ui,{className:"h-5 w-5 text-gray-400"})}},S=T=>{switch(T){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},N=()=>ve(null,null,function*(){if(e!=null&&e.task)try{yield f(e.task);try{console.log(`Updating phase progress for task ${e.task} in project ${t}`),yield p(e.task,t),console.log("Phase and project progress updated after subtask edit")}catch(T){console.error("Error updating phase progress after subtask edit:",T)}}catch(T){console.error("Error updating task progress after subtask edit:",T)}s&&s()}),A=()=>ve(null,null,function*(){if(e!=null&&e.task)try{yield f(e.task);try{console.log(`Updating phase progress for task ${e.task} in project ${t}`),yield p(e.task,t),console.log("Phase and project progress updated after subtask delete")}catch(T){console.error("Error updating phase progress after subtask delete:",T)}}catch(T){console.error("Error updating task progress after subtask delete:",T)}a&&a(),n()});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Xe,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[i.jsx(ey,{className:"h-4 w-4"}),"Back to Tasks"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>c(!0),className:"flex items-center gap-2",children:[i.jsx(Bo,{className:"h-4 w-4"}),"Edit SubTask"]}),i.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[i.jsx(Bi,{className:"h-4 w-4"}),"Delete SubTask"]})]})]}),i.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500 flex items-center justify-center",children:i.jsx("span",{className:"text-xl",children:"✅"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),i.jsx("p",{className:"text-sm text-gray-600",children:"SubTask Details"})]})]}),e.description&&i.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${S(e.status||"Open")}`,children:[v(e.status||"Open"),i.jsx("span",{className:"font-medium",children:e.status||"Open"})]})})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:i.jsx(Ys,{className:"h-6 w-6 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),i.jsx("p",{className:"text-lg font-bold text-gray-900",children:j(e.start_date)})]})]})}),i.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:i.jsx(ry,{className:"h-6 w-6 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),i.jsx("p",{className:"text-lg font-bold text-gray-900",children:j(e.end_date)})]})]})}),i.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:i.jsx(Tr,{className:"h-6 w-6 text-orange-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-orange-600 uppercase tracking-wide",children:"Parent Task"}),i.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.task||"N/A"})]})]})})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"SubTask Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"SubTask ID"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Parent Task"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:e.task||"N/A"})]}),i.jsxs("div",{className:"flex items-center justify-between py-3",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),i.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${S(e.status||"Open")}`,children:[v(e.status||"Open"),i.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:j(e.start_date)})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"End Date"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:j(e.end_date)})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:e.start_date&&e.end_date?`${Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-gray-100",children:[i.jsxs("span",{className:"text-gray-600 font-medium flex items-center gap-2",children:[i.jsx(Gu,{className:"h-4 w-4"}),"Assigned To"]}),i.jsx("span",{className:"text-gray-900 font-semibold",children:x?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:(b==null?void 0:b.full_name)||x}),(b==null?void 0:b.user_image)&&i.jsx("img",{src:b.user_image,alt:b.full_name||x,className:"h-6 w-6 rounded-full"})]}):i.jsx("span",{className:"text-gray-400",children:"Not assigned"})})]})]})]})]}),e.description&&i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Description"}),i.jsx("div",{className:"prose max-w-none",children:i.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.description})})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Activity Timeline"}),i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx("div",{className:"text-4xl mb-2",children:"📋"}),i.jsx("div",{className:"text-lg font-medium mb-1",children:"No activity yet"}),i.jsx("div",{className:"text-sm",children:"Activity and updates will appear here when available"})]})]}),i.jsx(Dm,{doctype:"SubTask",docname:e.name,title:"SubTask Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),i.jsx(h7,{subtask:e,projectName:t,isOpen:o,onClose:()=>c(!1),onSuccess:N}),i.jsx(m7,{subtask:e,isOpen:d,onClose:()=>h(!1),onSuccess:A})]})};var HN=1,g7=.9,x7=.8,y7=.17,k0=.1,C0=.999,b7=.9999,v7=.99,w7=/[\\\/_+.#"@\[\(\{&]/,j7=/[\\\/_+.#"@\[\(\{&]/g,_7=/[\s-]/,pk=/[\s-]/g;function Cx(e,t,n,s,a,o,c){if(o===t.length)return a===e.length?HN:v7;var d=`${a},${o}`;if(c[d]!==void 0)return c[d];for(var h=s.charAt(o),f=n.indexOf(h,a),p=0,g,x,b,j;f>=0;)g=Cx(e,t,n,s,f+1,o+1,c),g>p&&(f===a?g*=HN:w7.test(e.charAt(f-1))?(g*=x7,b=e.slice(a,f-1).match(j7),b&&a>0&&(g*=Math.pow(C0,b.length))):_7.test(e.charAt(f-1))?(g*=g7,j=e.slice(a,f-1).match(pk),j&&a>0&&(g*=Math.pow(C0,j.length))):(g*=y7,a>0&&(g*=Math.pow(C0,f-a))),e.charAt(f)!==t.charAt(o)&&(g*=b7)),(g<k0&&n.charAt(f-1)===s.charAt(o+1)||s.charAt(o+1)===s.charAt(o)&&n.charAt(f-1)!==s.charAt(o))&&(x=Cx(e,t,n,s,f+1,o+2,c),x*k0>g&&(g=x*k0)),g>p&&(p=g),f=n.indexOf(h,f+1);return c[d]=p,p}function VN(e){return e.toLowerCase().replace(pk," ")}function N7(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,Cx(e,t,VN(e),VN(t),0,0,{})}function Li(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}var S7="DismissableLayer",Dx="dismissableLayer.update",T7="dismissableLayer.pointerDownOutside",E7="dismissableLayer.focusOutside",IN,gk=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xk=_.forwardRef((e,t)=>{var U;const z=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:c,onDismiss:d}=z,h=Oe(z,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),f=_.useContext(gk),[p,g]=_.useState(null),x=(U=p==null?void 0:p.ownerDocument)!=null?U:globalThis==null?void 0:globalThis.document,[,b]=_.useState({}),j=An(t,R=>g(R)),v=Array.from(f.layers),[S]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(S),A=p?v.indexOf(p):-1,E=f.layersWithOutsidePointerEventsDisabled.size>0,T=A>=N,D=D7(R=>{const G=R.target,q=[...f.branches].some(Q=>Q.contains(G));!T||q||(a==null||a(R),c==null||c(R),R.defaultPrevented||d==null||d())},x),C=O7(R=>{const G=R.target;[...f.branches].some(Q=>Q.contains(G))||(o==null||o(R),c==null||c(R),R.defaultPrevented||d==null||d())},x);return oy(R=>{A===f.layers.size-1&&(s==null||s(R),!R.defaultPrevented&&d&&(R.preventDefault(),d()))},x),_.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(IN=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),qN(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=IN)}},[p,x,n,f]),_.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),qN())},[p,f]),_.useEffect(()=>{const R=()=>b({});return document.addEventListener(Dx,R),()=>document.removeEventListener(Dx,R)},[]),i.jsx(Yt.div,oe(L({},h),{ref:j,style:L({pointerEvents:E?T?"auto":"none":void 0},e.style),onFocusCapture:Li(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Li(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Li(e.onPointerDownCapture,D.onPointerDownCapture)}))});xk.displayName=S7;var k7="DismissableLayerBranch",C7=_.forwardRef((e,t)=>{const n=_.useContext(gk),s=_.useRef(null),a=An(t,s);return _.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),i.jsx(Yt.div,oe(L({},e),{ref:a}))});C7.displayName=k7;function D7(e,t=globalThis==null?void 0:globalThis.document){const n=ga(e),s=_.useRef(!1),a=_.useRef(()=>{});return _.useEffect(()=>{const o=d=>{if(d.target&&!s.current){let h=function(){yk(T7,n,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=h,t.addEventListener("click",a.current,{once:!0})):h()}else t.removeEventListener("click",a.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function O7(e,t=globalThis==null?void 0:globalThis.document){const n=ga(e),s=_.useRef(!1);return _.useEffect(()=>{const a=o=>{o.target&&!s.current&&yk(E7,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function qN(){const e=new CustomEvent(Dx);document.dispatchEvent(e)}function yk(e,t,n,{discrete:s}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?iy(a,o):a.dispatchEvent(o)}function A7(e,t){return _.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var Om=e=>{const{present:t,children:n}=e,s=R7(t),a=typeof n=="function"?n({present:s.isPresent}):_.Children.only(n),o=An(s.ref,M7(a));return typeof n=="function"||s.isPresent?_.cloneElement(a,{ref:o}):null};Om.displayName="Presence";function R7(e){const[t,n]=_.useState(),s=_.useRef(null),a=_.useRef(e),o=_.useRef("none"),c=e?"mounted":"unmounted",[d,h]=A7(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const f=mh(s.current);o.current=d==="mounted"?f:"none"},[d]),Cr(()=>{const f=s.current,p=a.current;if(p!==e){const x=o.current,b=mh(f);e?h("MOUNT"):b==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(p&&x!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,h]),Cr(()=>{var f;if(t){let p;const g=(f=t.ownerDocument.defaultView)!=null?f:window,x=j=>{const S=mh(s.current).includes(j.animationName);if(j.target===t&&S&&(h("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},b=j=>{j.target===t&&(o.current=mh(s.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:_.useCallback(f=>{s.current=f?getComputedStyle(f):null,n(f)},[])}}function mh(e){return(e==null?void 0:e.animationName)||"none"}function M7(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var D0=0;function P7(){_.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:WN()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:WN()),D0++,()=>{D0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),D0--}},[])}function WN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Am="Dialog",[bk,mH]=cd(Am),[L7,Kr]=bk(Am),vk=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:c=!0}=e,d=_.useRef(null),h=_.useRef(null),[f,p]=ym({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:Am});return i.jsx(L7,{scope:t,triggerRef:d,contentRef:h,contentId:ks(),titleId:ks(),descriptionId:ks(),open:f,onOpenChange:p,onOpenToggle:_.useCallback(()=>p(g=>!g),[p]),modal:c,children:n})};vk.displayName=Am;var wk="DialogTrigger",z7=_.forwardRef((e,t)=>{const c=e,{__scopeDialog:n}=c,s=Oe(c,["__scopeDialog"]),a=Kr(wk,n),o=An(t,a.triggerRef);return i.jsx(Yt.button,oe(L({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":rb(a.open)},s),{ref:o,onClick:Li(e.onClick,a.onOpenToggle)}))});z7.displayName=wk;var nb="DialogPortal",[U7,jk]=bk(nb,{forceMount:void 0}),_k=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,o=Kr(nb,t);return i.jsx(U7,{scope:t,forceMount:n,children:_.Children.map(s,c=>i.jsx(Om,{present:n||o.open,children:i.jsx(fd,{asChild:!0,container:a,children:c})}))})};_k.displayName=nb;var lm="DialogOverlay",Nk=_.forwardRef((e,t)=>{const n=jk(lm,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=Oe(c,["forceMount"]),o=Kr(lm,e.__scopeDialog);return o.modal?i.jsx(Om,{present:s||o.open,children:i.jsx(F7,oe(L({},a),{ref:t}))}):null});Nk.displayName=lm;var B7=lc("DialogOverlay.RemoveScroll"),F7=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Oe(o,["__scopeDialog"]),a=Kr(lm,n);return i.jsx(hd,{as:B7,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(Yt.div,oe(L({"data-state":rb(a.open)},s),{ref:t,style:L({pointerEvents:"auto"},s.style)}))})}),qo="DialogContent",Sk=_.forwardRef((e,t)=>{const n=jk(qo,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=Oe(c,["forceMount"]),o=Kr(qo,e.__scopeDialog);return i.jsx(Om,{present:s||o.open,children:o.modal?i.jsx($7,oe(L({},a),{ref:t})):i.jsx(H7,oe(L({},a),{ref:t}))})});Sk.displayName=qo;var $7=_.forwardRef((e,t)=>{const n=Kr(qo,e.__scopeDialog),s=_.useRef(null),a=An(t,n.contentRef,s);return _.useEffect(()=>{const o=s.current;if(o)return bm(o)},[]),i.jsx(Tk,oe(L({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Li(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Li(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:Li(e.onFocusOutside,o=>o.preventDefault())}))}),H7=_.forwardRef((e,t)=>{const n=Kr(qo,e.__scopeDialog),s=_.useRef(!1),a=_.useRef(!1);return i.jsx(Tk,oe(L({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=o.target;((f=n.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),Tk=_.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o}=p,c=Oe(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Kr(qo,n),h=_.useRef(null),f=An(t,h);return P7(),i.jsxs(i.Fragment,{children:[i.jsx(ud,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:i.jsx(xk,oe(L({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":rb(d.open)},c),{ref:f,onDismiss:()=>d.onOpenChange(!1)}))}),i.jsxs(i.Fragment,{children:[i.jsx(W7,{titleId:d.titleId}),i.jsx(X7,{contentRef:h,descriptionId:d.descriptionId})]})]})}),sb="DialogTitle",V7=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Oe(o,["__scopeDialog"]),a=Kr(sb,n);return i.jsx(Yt.h2,oe(L({id:a.titleId},s),{ref:t}))});V7.displayName=sb;var Ek="DialogDescription",I7=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Oe(o,["__scopeDialog"]),a=Kr(Ek,n);return i.jsx(Yt.p,oe(L({id:a.descriptionId},s),{ref:t}))});I7.displayName=Ek;var kk="DialogClose",q7=_.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Oe(o,["__scopeDialog"]),a=Kr(kk,n);return i.jsx(Yt.button,oe(L({type:"button"},s),{ref:t,onClick:Li(e.onClick,()=>a.onOpenChange(!1))}))});q7.displayName=kk;function rb(e){return e?"open":"closed"}var Ck="DialogTitleWarning",[pH,Dk]=ay(Ck,{contentName:qo,titleName:sb,docsSlug:"dialog"}),W7=({titleId:e})=>{const t=Dk(Ck),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Y7="DialogDescriptionWarning",X7=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Dk(Y7).contentName}}.`;return _.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},G7=vk,K7=_k,Q7=Nk,Z7=Sk,Ou='[cmdk-group=""]',O0='[cmdk-group-items=""]',J7='[cmdk-group-heading=""]',Ok='[cmdk-item=""]',YN=`${Ok}:not([aria-disabled="true"])`,Ox="cmdk-item-select",Il="data-value",e9=(e,t,n)=>N7(e,t,n),Ak=_.createContext(void 0),vd=()=>_.useContext(Ak),Rk=_.createContext(void 0),ab=()=>_.useContext(Rk),Mk=_.createContext(void 0),Pk=_.forwardRef((e,t)=>{let n=ql(()=>{var V,ne;return{search:"",value:(ne=(V=e.value)!=null?V:e.defaultValue)!=null?ne:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=ql(()=>new Set),a=ql(()=>new Map),o=ql(()=>new Map),c=ql(()=>new Set),d=Lk(e),se=e,{label:h,children:f,value:p,onValueChange:g,filter:x,shouldFilter:b,loop:j,disablePointerSelection:v=!1,vimBindings:S=!0}=se,N=Oe(se,["label","children","value","onValueChange","filter","shouldFilter","loop","disablePointerSelection","vimBindings"]),A=ks(),E=ks(),T=ks(),D=_.useRef(null),C=d9();Wo(()=>{if(p!==void 0){let V=p.trim();n.current.value=V,z.emit()}},[p]),Wo(()=>{C(6,W)},[]);let z=_.useMemo(()=>({subscribe:V=>(c.current.add(V),()=>c.current.delete(V)),snapshot:()=>n.current,setState:(V,ne,ge)=>{var he,Ee,Ce,Ve;if(!Object.is(n.current[V],ne)){if(n.current[V]=ne,V==="search")Q(),G(),C(1,q);else if(V==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ze=document.getElementById(T);ze?ze.focus():(he=document.getElementById(A))==null||he.focus()}if(C(7,()=>{var ze;n.current.selectedItemId=(ze=Y())==null?void 0:ze.id,z.emit()}),ge||C(5,W),((Ee=d.current)==null?void 0:Ee.value)!==void 0){let ze=ne!=null?ne:"";(Ve=(Ce=d.current).onValueChange)==null||Ve.call(Ce,ze);return}}z.emit()}},emit:()=>{c.current.forEach(V=>V())}}),[]),U=_.useMemo(()=>({value:(V,ne,ge)=>{var he;ne!==((he=o.current.get(V))==null?void 0:he.value)&&(o.current.set(V,{value:ne,keywords:ge}),n.current.filtered.items.set(V,R(ne,ge)),C(2,()=>{G(),z.emit()}))},item:(V,ne)=>(s.current.add(V),ne&&(a.current.has(ne)?a.current.get(ne).add(V):a.current.set(ne,new Set([V]))),C(3,()=>{Q(),G(),n.current.value||q(),z.emit()}),()=>{o.current.delete(V),s.current.delete(V),n.current.filtered.items.delete(V);let ge=Y();C(4,()=>{Q(),(ge==null?void 0:ge.getAttribute("id"))===V&&q(),z.emit()})}),group:V=>(a.current.has(V)||a.current.set(V,new Set),()=>{o.current.delete(V),a.current.delete(V)}),filter:()=>d.current.shouldFilter,label:h||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:A,inputId:T,labelId:E,listInnerRef:D}),[]);function R(V,ne){var ge,he;let Ee=(he=(ge=d.current)==null?void 0:ge.filter)!=null?he:e9;return V?Ee(V,n.current.search,ne):0}function G(){if(!n.current.search||d.current.shouldFilter===!1)return;let V=n.current.filtered.items,ne=[];n.current.filtered.groups.forEach(he=>{let Ee=a.current.get(he),Ce=0;Ee.forEach(Ve=>{let ze=V.get(Ve);Ce=Math.max(ze,Ce)}),ne.push([he,Ce])});let ge=D.current;H().sort((he,Ee)=>{var Ce,Ve;let ze=he.getAttribute("id"),tt=Ee.getAttribute("id");return((Ce=V.get(tt))!=null?Ce:0)-((Ve=V.get(ze))!=null?Ve:0)}).forEach(he=>{let Ee=he.closest(O0);Ee?Ee.appendChild(he.parentElement===Ee?he:he.closest(`${O0} > *`)):ge.appendChild(he.parentElement===ge?he:he.closest(`${O0} > *`))}),ne.sort((he,Ee)=>Ee[1]-he[1]).forEach(he=>{var Ee;let Ce=(Ee=D.current)==null?void 0:Ee.querySelector(`${Ou}[${Il}="${encodeURIComponent(he[0])}"]`);Ce==null||Ce.parentElement.appendChild(Ce)})}function q(){let V=H().find(ge=>ge.getAttribute("aria-disabled")!=="true"),ne=V==null?void 0:V.getAttribute(Il);z.setState("value",ne||void 0)}function Q(){var V,ne,ge,he;if(!n.current.search||d.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let Ee=0;for(let Ce of s.current){let Ve=(ne=(V=o.current.get(Ce))==null?void 0:V.value)!=null?ne:"",ze=(he=(ge=o.current.get(Ce))==null?void 0:ge.keywords)!=null?he:[],tt=R(Ve,ze);n.current.filtered.items.set(Ce,tt),tt>0&&Ee++}for(let[Ce,Ve]of a.current)for(let ze of Ve)if(n.current.filtered.items.get(ze)>0){n.current.filtered.groups.add(Ce);break}n.current.filtered.count=Ee}function W(){var V,ne,ge;let he=Y();he&&(((V=he.parentElement)==null?void 0:V.firstChild)===he&&((ge=(ne=he.closest(Ou))==null?void 0:ne.querySelector(J7))==null||ge.scrollIntoView({block:"nearest"})),he.scrollIntoView({block:"nearest"}))}function Y(){var V;return(V=D.current)==null?void 0:V.querySelector(`${Ok}[aria-selected="true"]`)}function H(){var V;return Array.from(((V=D.current)==null?void 0:V.querySelectorAll(YN))||[])}function F(V){let ne=H()[V];ne&&z.setState("value",ne.getAttribute(Il))}function Z(V){var ne;let ge=Y(),he=H(),Ee=he.findIndex(Ve=>Ve===ge),Ce=he[Ee+V];(ne=d.current)!=null&&ne.loop&&(Ce=Ee+V<0?he[he.length-1]:Ee+V===he.length?he[0]:he[Ee+V]),Ce&&z.setState("value",Ce.getAttribute(Il))}function ee(V){let ne=Y(),ge=ne==null?void 0:ne.closest(Ou),he;for(;ge&&!he;)ge=V>0?c9(ge,Ou):u9(ge,Ou),he=ge==null?void 0:ge.querySelector(YN);he?z.setState("value",he.getAttribute(Il)):Z(V)}let ce=()=>F(H().length-1),M=V=>{V.preventDefault(),V.metaKey?ce():V.altKey?ee(1):Z(1)},ie=V=>{V.preventDefault(),V.metaKey?F(0):V.altKey?ee(-1):Z(-1)};return _.createElement(Yt.div,oe(L({ref:t,tabIndex:-1},N),{"cmdk-root":"",onKeyDown:V=>{var ne;(ne=N.onKeyDown)==null||ne.call(N,V);let ge=V.nativeEvent.isComposing||V.keyCode===229;if(!(V.defaultPrevented||ge))switch(V.key){case"n":case"j":{S&&V.ctrlKey&&M(V);break}case"ArrowDown":{M(V);break}case"p":case"k":{S&&V.ctrlKey&&ie(V);break}case"ArrowUp":{ie(V);break}case"Home":{V.preventDefault(),F(0);break}case"End":{V.preventDefault(),ce();break}case"Enter":{V.preventDefault();let he=Y();if(he){let Ee=new Event(Ox);he.dispatchEvent(Ee)}}}}}),_.createElement("label",{"cmdk-label":"",htmlFor:U.inputId,id:U.labelId,style:h9},h),Rm(e,V=>_.createElement(Rk.Provider,{value:z},_.createElement(Ak.Provider,{value:U},V))))}),t9=_.forwardRef((e,t)=>{var n,s;let a=ks(),o=_.useRef(null),c=_.useContext(Mk),d=vd(),h=Lk(e),f=(s=(n=h.current)==null?void 0:n.forceMount)!=null?s:c==null?void 0:c.forceMount;Wo(()=>{if(!f)return d.item(a,c==null?void 0:c.id)},[f]);let p=zk(a,o,[e.value,e.children,o],e.keywords),g=ab(),x=Vi(z=>z.value&&z.value===p.current),b=Vi(z=>f||d.filter()===!1?!0:z.search?z.filtered.items.get(a)>0:!0);_.useEffect(()=>{let z=o.current;if(!(!z||e.disabled))return z.addEventListener(Ox,j),()=>z.removeEventListener(Ox,j)},[b,e.onSelect,e.disabled]);function j(){var z,U;v(),(U=(z=h.current).onSelect)==null||U.call(z,p.current)}function v(){g.setState("value",p.current,!0)}if(!b)return null;let C=e,{disabled:S,value:N,onSelect:A,forceMount:E,keywords:T}=C,D=Oe(C,["disabled","value","onSelect","forceMount","keywords"]);return _.createElement(Yt.div,oe(L({ref:Fo(o,t)},D),{id:a,"cmdk-item":"",role:"option","aria-disabled":!!S,"aria-selected":!!x,"data-disabled":!!S,"data-selected":!!x,onPointerMove:S||d.getDisablePointerSelection()?void 0:v,onClick:S?void 0:j}),e.children)}),n9=_.forwardRef((e,t)=>{let b=e,{heading:n,children:s,forceMount:a}=b,o=Oe(b,["heading","children","forceMount"]),c=ks(),d=_.useRef(null),h=_.useRef(null),f=ks(),p=vd(),g=Vi(j=>a||p.filter()===!1?!0:j.search?j.filtered.groups.has(c):!0);Wo(()=>p.group(c),[]),zk(c,d,[e.value,e.heading,h]);let x=_.useMemo(()=>({id:c,forceMount:a}),[a]);return _.createElement(Yt.div,oe(L({ref:Fo(d,t)},o),{"cmdk-group":"",role:"presentation",hidden:g?void 0:!0}),n&&_.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:f},n),Rm(e,j=>_.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?f:void 0},_.createElement(Mk.Provider,{value:x},j))))}),s9=_.forwardRef((e,t)=>{let c=e,{alwaysRender:n}=c,s=Oe(c,["alwaysRender"]),a=_.useRef(null),o=Vi(d=>!d.search);return!n&&!o?null:_.createElement(Yt.div,oe(L({ref:Fo(a,t)},s),{"cmdk-separator":"",role:"separator"}))}),r9=_.forwardRef((e,t)=>{let f=e,{onValueChange:n}=f,s=Oe(f,["onValueChange"]),a=e.value!=null,o=ab(),c=Vi(p=>p.search),d=Vi(p=>p.selectedItemId),h=vd();return _.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),_.createElement(Yt.input,oe(L({ref:t},s),{"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":d,id:h.inputId,type:"text",value:a?e.value:c,onChange:p=>{a||o.setState("search",p.target.value),n==null||n(p.target.value)}}))}),a9=_.forwardRef((e,t)=>{let f=e,{children:n,label:s="Suggestions"}=f,a=Oe(f,["children","label"]),o=_.useRef(null),c=_.useRef(null),d=Vi(p=>p.selectedItemId),h=vd();return _.useEffect(()=>{if(c.current&&o.current){let p=c.current,g=o.current,x,b=new ResizeObserver(()=>{x=requestAnimationFrame(()=>{let j=p.offsetHeight;g.style.setProperty("--cmdk-list-height",j.toFixed(1)+"px")})});return b.observe(p),()=>{cancelAnimationFrame(x),b.unobserve(p)}}},[]),_.createElement(Yt.div,oe(L({ref:Fo(o,t)},a),{"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":s,id:h.listId}),Rm(e,p=>_.createElement("div",{ref:Fo(c,h.listInnerRef),"cmdk-list-sizer":""},p)))}),i9=_.forwardRef((e,t)=>{let h=e,{open:n,onOpenChange:s,overlayClassName:a,contentClassName:o,container:c}=h,d=Oe(h,["open","onOpenChange","overlayClassName","contentClassName","container"]);return _.createElement(G7,{open:n,onOpenChange:s},_.createElement(K7,{container:c},_.createElement(Q7,{"cmdk-overlay":"",className:a}),_.createElement(Z7,{"aria-label":e.label,"cmdk-dialog":"",className:o},_.createElement(Pk,L({ref:t},d)))))}),o9=_.forwardRef((e,t)=>Vi(n=>n.filtered.count===0)?_.createElement(Yt.div,oe(L({ref:t},e),{"cmdk-empty":"",role:"presentation"})):null),l9=_.forwardRef((e,t)=>{let c=e,{progress:n,children:s,label:a="Loading..."}=c,o=Oe(c,["progress","children","label"]);return _.createElement(Yt.div,oe(L({ref:t},o),{"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a}),Rm(e,d=>_.createElement("div",{"aria-hidden":!0},d)))}),yc=Object.assign(Pk,{List:a9,Item:t9,Input:r9,Group:n9,Separator:s9,Dialog:i9,Empty:o9,Loading:l9});function c9(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function u9(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function Lk(e){let t=_.useRef(e);return Wo(()=>{t.current=e}),t}var Wo=typeof window=="undefined"?_.useEffect:_.useLayoutEffect;function ql(e){let t=_.useRef();return t.current===void 0&&(t.current=e()),t}function Vi(e){let t=ab(),n=()=>e(t.snapshot());return _.useSyncExternalStore(t.subscribe,n,n)}function zk(e,t,n,s=[]){let a=_.useRef(),o=vd();return Wo(()=>{var c;let d=(()=>{var f;for(let p of n){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(f=p.current.textContent)==null?void 0:f.trim():a.current}})(),h=s.map(f=>f.trim());o.value(e,d,h),(c=t.current)==null||c.setAttribute(Il,d),a.current=d}),a}var d9=()=>{let[e,t]=_.useState(),n=ql(()=>new Map);return Wo(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,a)=>{n.current.set(s,a),t({})}};function f9(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Rm({asChild:e,children:t},n){return e&&_.isValidElement(t)?_.cloneElement(f9(t),{ref:t.ref},n(t.props.children)):n(t)}var h9={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function m9(n){var s=n,{className:e}=s,t=Oe(s,["className"]);return i.jsx(yc,L({"data-slot":"command",className:En("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e)},t))}function p9(n){var s=n,{className:e}=s,t=Oe(s,["className"]);return i.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[i.jsx(ic,{className:"size-4 shrink-0 opacity-50"}),i.jsx(yc.Input,L({"data-slot":"command-input",className:En("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e)},t))]})}function g9(n){var s=n,{className:e}=s,t=Oe(s,["className"]);return i.jsx(yc.List,L({"data-slot":"command-list",className:En("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e)},t))}function A0(t){var e=Oe(t,[]);return i.jsx(yc.Empty,L({"data-slot":"command-empty",className:"py-6 text-center text-sm"},e))}function x9(n){var s=n,{className:e}=s,t=Oe(s,["className"]);return i.jsx(yc.Group,L({"data-slot":"command-group",className:En("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e)},t))}function y9(n){var s=n,{className:e}=s,t=Oe(s,["className"]);return i.jsx(yc.Item,L({"data-slot":"command-item",className:En("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e)},t))}function Sr({doctype:e,value:t="",onChange:n,placeholder:s="Select option...",className:a="w-[200px]",fields:o=["name"],filters:c=[],displayField:d="name",valueField:h="name",disabled:f=!1,limit:p=20}){const[g,x]=_.useState(!1),[b,j]=_.useState(""),v=_.useMemo(()=>{let z={};if(c.length>0&&c.forEach(R=>{if(Array.isArray(R)&&R.length>=3){const[G,q,Q]=R;q==="="&&(z[G]=Q)}}),b.trim()&&(z[d]=["like",`%${b}%`]),Object.keys(z).length===0&&b.trim())return[[d,"like",`%${b}%`]];const U=[];return Object.entries(z).forEach(([R,G])=>{Array.isArray(G)?U.push([R,G[0],G[1]]):U.push([R,"=",G])}),U.length>0?U:void 0},[b,c,d]),{data:S,isLoading:N,error:A}=At(e,{fields:[...new Set([...o,d,h])],filters:v,limit:p,orderBy:{field:d,order:"asc"}}),E=_.useMemo(()=>!S||!Array.isArray(S)?[]:S.map(z=>({value:z[h],label:z[d]})),[S,d,h]),T=E.find(z=>z.value===t),D=z=>{n(z===t?"":z),x(!1)},C=z=>{j(z)};return i.jsxs(vy,{open:g,onOpenChange:x,children:[i.jsx(wy,{asChild:!0,children:i.jsxs(Xe,{variant:"outline",role:"combobox","aria-expanded":g,className:En("justify-between",a),disabled:f,children:[(T==null?void 0:T.label)||s,i.jsx(r4,{className:"opacity-50"})]})}),i.jsx(jy,{className:En("p-0",a),children:i.jsxs(m9,{shouldFilter:!1,children:[i.jsx(p9,{placeholder:`Search ${e.toLowerCase()}...`,className:"h-9",value:b,onValueChange:C}),i.jsxs(g9,{children:[N&&i.jsx(A0,{children:"Loading..."}),A&&i.jsx(A0,{children:"Error loading data."}),!N&&!A&&E.length===0&&i.jsxs(A0,{children:["No ",e.toLowerCase()," found."]}),!N&&!A&&E.length>0&&i.jsx(x9,{children:E.map(z=>i.jsxs(y9,{value:z.value,onSelect:D,children:[z.label,i.jsx(JM,{className:En("ml-auto",t===z.value?"opacity-100":"opacity-0")})]},z.value))})]})]})})]})}const Uk=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{updateProject:a,isLoading:o}=PL(),{currentUser:c}=Cs(),{data:d}=Ot("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),h=(d==null?void 0:d.users)||(e==null?void 0:e.users)||[],f=()=>{if(c==="Administrator"||(e==null?void 0:e.owner)===c)return!0;const N=h.find(A=>A.user===c);return(N==null?void 0:N.project_status)==="Project Manager (Owner Substitute)"},{register:p,control:g,handleSubmit:x,reset:b,formState:{errors:j}}=sd({defaultValues:{project_name:"",customer:"",project_type:"",status:"Open",priority:"Medium",department:"",team:"",company:"",cost_center:"",expected_start_date:"",expected_end_date:"",notes:""}});_.useEffect(()=>{e&&b({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",team:e.team||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""})},[e,b]);const v=N=>ve(null,null,function*(){if(e){if(N.status==="Completed"&&!f()){xn.error("Permission denied",{description:"You don't have permission to mark this project as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}try{yield a(e.name,N),xn.success("Project updated successfully"),s&&setTimeout(()=>{s()},100),n()}catch(A){let E="Edit project failed";if(A!=null&&A._server_messages)try{const T=JSON.parse(A._server_messages);Array.isArray(T)&&T.length>0&&(E=JSON.parse(T[0]).message||E)}catch(T){console.error("Parse error messages failed:",T)}else A!=null&&A.message&&(E=A.message);xn.error("Update project failed",{description:E}),console.error("Error updating project:",A)}}}),S=()=>{e&&b({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",team:e.team||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""}),n()};return i.jsx(xs,{open:t,onOpenChange:n,children:i.jsxs(ys,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[i.jsx(bs,{children:i.jsx(vs,{children:"Edit Project"})}),i.jsxs("form",{onSubmit:x(v),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"project_name",children:"Project Name *"}),i.jsx(Ht,oe(L({id:"project_name"},p("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),j.project_name&&i.jsx("span",{className:"text-red-500 text-sm",children:j.project_name.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Be,{children:"Customer"}),i.jsx(_r,{name:"customer",control:g,render:({field:N})=>i.jsx(Sr,{doctype:"Customer",value:N.value||"",onChange:N.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Be,{children:"Project Type"}),i.jsx(_r,{name:"project_type",control:g,render:({field:N})=>i.jsx(Sr,{doctype:"Project Type",value:N.value||"",onChange:N.onChange,placeholder:"Select type...",className:"w-full"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{children:"Status"}),i.jsxs("select",oe(L({},p("status")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Select status..."}),i.jsx("option",{value:"Open",children:"Open"}),f()&&i.jsx("option",{value:"Completed",children:"Completed"}),i.jsx("option",{value:"Cancelled",children:"Cancelled"})]})),!f()&&i.jsx("span",{className:"text-xs text-amber-600",children:"You dont have permission to mark Completed"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{children:"Priority"}),i.jsxs("select",oe(L({},p("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Select priority..."}),i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Urgent",children:"Urgent"})]}))]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Be,{children:"Team"}),i.jsx(_r,{name:"team",control:g,render:({field:N})=>i.jsx(Sr,{doctype:"Team",value:N.value||"",onChange:N.onChange,placeholder:"Select team...",className:"w-full"})})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Be,{children:"Company"}),i.jsx(_r,{name:"company",control:g,render:({field:N})=>i.jsx(Sr,{doctype:"Company",value:N.value||"",onChange:N.onChange,placeholder:"Select company...",className:"w-full"})})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Be,{children:"Cost Center"}),i.jsx(_r,{name:"cost_center",control:g,render:({field:N})=>i.jsx(Sr,{doctype:"Cost Center",value:N.value||"",onChange:N.onChange,placeholder:"Select cost center...",className:"w-full"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"expected_start_date",children:"Expected Start Date"}),i.jsx(Ht,L({id:"expected_start_date",type:"date"},p("expected_start_date")))]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"expected_end_date",children:"Expected End Date"}),i.jsx(Ht,L({id:"expected_end_date",type:"date"},p("expected_end_date")))]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"notes",children:"Notes"}),i.jsx("textarea",oe(L({id:"notes"},p("notes")),{placeholder:"Enter project notes",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}))]}),i.jsxs(Rs,{className:"flex gap-2",children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:S,children:"Cancel"}),i.jsx(Xe,{type:"submit",disabled:o,children:o?"Updating...":"Update Project"})]})]})]})})},Bk=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteProjectCascade:a}=IL(),[o,c]=_.useState(!1),[d,h]=_.useState(null),[f,p]=_.useState(""),g=()=>ve(null,null,function*(){if(!e){console.error("No project selected for deletion"),xn.error("Delete project failed",{description:"No project selected"});return}if(o){console.log("Delete already in progress, ignoring duplicate request");return}c(!0),h(null),p("Starting deletion...");try{console.log(`Starting deletion for project: ${e.name}`),p("Deleting subtasks..."),yield new Promise(j=>setTimeout(j,300)),p("Deleting tasks..."),yield new Promise(j=>setTimeout(j,300)),p("Deleting project phases..."),yield new Promise(j=>setTimeout(j,300)),p("Cleaning up dependencies..."),yield new Promise(j=>setTimeout(j,300)),p("Deleting project...");const b=yield a(e.name);p("Deletion completed successfully!"),console.log("Cascade deletion result:",b),xn.success("Project deleted successfully",{description:`Project "${e.name}" and all related items have been deleted.`}),s&&s(),n()}catch(b){let j="Delete project failed",v=!1;if(b!=null&&b._server_messages)try{const S=JSON.parse(b._server_messages);Array.isArray(S)&&S.length>0&&(j=JSON.parse(S[0]).message||j)}catch(S){console.error("Parse error messages failed:",S)}else b!=null&&b.message&&(j=b.message,(j.includes("dependencies")||j.includes("linked")||j.includes("referenced")||j.includes("Unknown project deletion error"))&&(v=!0,j+=`

Tip: This error usually resolves on the second attempt. Please try again.`));console.error("Error deleting project:",b),xn.error("Delete project failed",{description:j,duration:v?8e3:5e3}),h(b instanceof Error?b:new Error(j)),p("")}finally{c(!1)}}),x=()=>{o||(h(null),p(""),n())};return i.jsx(xs,{open:t,onOpenChange:n,children:i.jsxs(ys,{className:"sm:max-w-[400px]",children:[i.jsx(bs,{children:i.jsxs(vs,{className:"flex items-center gap-2 text-red-600",children:[i.jsx(oc,{className:"h-5 w-5"}),"Delete Project"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this project? This action cannot be undone."}),e&&i.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[i.jsx("div",{className:"font-medium text-gray-900",children:e.project_name}),i.jsx("div",{className:"text-sm text-gray-600",children:e.customer||"No customer"}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]})]}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[i.jsxs("div",{className:"text-sm text-red-800",children:[i.jsx("strong",{children:"Warning:"})," This will permanently delete in the following order:"]}),i.jsxs("ol",{className:"text-sm text-red-700 mt-1 ml-4 list-decimal",children:[i.jsx("li",{children:"All subtasks in all tasks"}),i.jsx("li",{children:"All tasks in the project"}),i.jsx("li",{children:"All project phases"}),i.jsx("li",{children:"All ToDo assignments"}),i.jsx("li",{children:"All project team members"}),i.jsx("li",{children:"The project itself"})]}),i.jsx("div",{className:"text-sm text-red-800 mt-2",children:i.jsx("strong",{children:"This action cannot be undone!"})})]}),o&&f&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Q0,{className:"h-4 w-4 animate-spin text-blue-600"}),i.jsxs("span",{className:"text-sm text-blue-800",children:[i.jsx("strong",{children:"Progress:"})," ",f]})]}),i.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Please wait while we delete all related items..."})]}),d&&i.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Error:"})," ",d.message||"Failed to delete project"]})})]}),i.jsxs(Rs,{className:"flex gap-2",children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:x,disabled:o,children:o?"Deleting...":"Cancel"}),i.jsx(Xe,{type:"button",variant:"destructive",onClick:g,disabled:o,className:"min-w-[120px]",children:o?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Q0,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Project"})]})]})})};function b9({isOpen:e,onClose:t,projectName:n,onSuccess:s}){const[a,o]=_.useState(!1),{call:c}=ps("todo.api.add_project_member"),d=sd();_.useEffect(()=>{e&&(d.reset(),d.clearErrors())},[e,d]);const h=()=>{a||(t(),d.reset(),d.clearErrors())},f=p=>ve(null,null,function*(){if(n&&!a){o(!0);try{const g=yield c({project_name:n,user:p.user,view_attachments:p.view_attachments?1:0,hide_timesheets:p.hide_timesheets?1:0,project_status:p.project_status||"Team Member"});console.log("Member added successfully:",g),t(),setTimeout(()=>{d.reset(),d.clearErrors()},0),setTimeout(()=>{s()},1e3),alert("Member added successfully!")}catch(g){console.error("Error adding member:",g);const x=g instanceof Error?g.message:String(g),b=JSON.stringify(g);x.includes("Email Account")||x.includes("OutgoingEmailError")||x.includes("email")||x.includes("SMTP")||b.includes("OutgoingEmailError")||b.includes("Email Account")?(console.log("Email error detected, member likely added successfully"),t(),setTimeout(()=>{d.reset(),d.clearErrors()},0),setTimeout(()=>{s(),alert("Member added successfully! (Welcome email could not be sent due to email configuration, but the member was added to the project)")},1e3)):x.includes("DuplicateEntryError")||x.includes("already exists")?alert("This user is already a member of the project."):x.includes("PermissionError")||x.includes("Not permitted")?alert("You do not have permission to add members to this project."):x.includes("ValidationError")?alert("Invalid data provided. Please check your inputs."):alert("Failed to add member: "+x)}finally{o(!1)}}});return i.jsx(xs,{open:e,onOpenChange:h,children:i.jsx(ys,{className:"sm:max-w-md",children:i.jsxs("form",{onSubmit:d.handleSubmit(f),onKeyDown:p=>{p.key==="Enter"&&p.target instanceof HTMLInputElement&&p.preventDefault()},children:[i.jsxs(bs,{children:[i.jsx(vs,{children:"Add Team Member"}),i.jsx(bd,{children:"Add a new member to the project team."})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsxs(Be,{children:["User ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(_r,{name:"user",control:d.control,rules:{required:"Please select a user"},render:({field:p})=>i.jsx(Sr,{doctype:"User",value:p.value||"",onChange:g=>{console.log("Combobox onChange:",g),p.onChange(g),g&&d.formState.errors.user&&d.clearErrors("user")},placeholder:a?"Please wait...":"Select user...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email","user_image"],className:"w-full",disabled:a},`add-member-${e?"open":"closed"}-${Date.now()}`)}),d.formState.errors.user&&i.jsx("span",{className:"text-red-500 text-sm",children:d.formState.errors.user.message})]}),i.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[i.jsx(Be,{className:"text-sm font-medium",children:"Permissions"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",oe(L({type:"checkbox",id:"add_view_attachments"},d.register("view_attachments")),{defaultChecked:!0,disabled:a,className:"rounded border-gray-300"})),i.jsx(Be,{htmlFor:"add_view_attachments",className:"text-sm",children:"Can view attachments"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",oe(L({type:"checkbox",id:"add_hide_timesheets"},d.register("hide_timesheets")),{disabled:a,className:"rounded border-gray-300"})),i.jsx(Be,{htmlFor:"add_hide_timesheets",className:"text-sm",children:"Hide timesheets from this user"})]})]})]}),i.jsxs(Rs,{className:"gap-2",children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:h,disabled:a,children:"Cancel"}),i.jsx(Xe,{type:"submit",disabled:a||!d.watch("user"),className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:a?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Adding..."]}):"Add Member"})]})]})})})}function Fk({project:e,isOpen:t,onClose:n}){const[s,a]=_.useState("overview"),[o,c]=_.useState(null),[d,h]=_.useState(null),[f,p]=_.useState(null),[g,x]=_.useState(!1),[b,j]=_.useState(!1),[v,S]=_.useState(!1),[N,A]=_.useState(!1),[E,T]=_.useState(!1),[D,C]=_.useState(!1);_.useEffect(()=>{t||(a("overview"),c(null),h(null),p(null),x(!1),j(!1),S(!1),A(!1),T(!1),C(!1))},[t]),_.useEffect(()=>{b||(he.reset(),he.clearErrors())},[b]),_.useEffect(()=>{v||(Ee.reset(),Ee.clearErrors())},[v]);const{data:z,isLoading:U,mutate:R}=Ot("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),{call:G}=ps("frappe.client.delete"),{call:q}=ps("todo.api.remove_project_member"),{data:Q,error:W,isLoading:Y}=Ot("User",(e==null?void 0:e.owner)||"",e!=null&&e.owner?void 0:null),{data:H,mutate:F}=Ot("SubTask",(f==null?void 0:f.name)||"",f!=null&&f.name?void 0:null),{data:Z,mutate:ee}=Ot("Task",(d==null?void 0:d.name)||"",d!=null&&d.name?void 0:null),{currentUser:ce}=Cs(),M=(z==null?void 0:z.users)||(e==null?void 0:e.users)||[],ie=U,se=_.useMemo(()=>({progress:(z==null?void 0:z.percent_complete)||(e==null?void 0:e.percent_complete)||0,source:"project",count:1}),[z==null?void 0:z.percent_complete,e==null?void 0:e.percent_complete]),V=()=>ve(null,null,function*(){if(f!=null&&f.name)try{yield F()}catch(Me){console.error("Error refreshing subtask data:",Me)}}),ne=()=>ve(null,null,function*(){if(d!=null&&d.name)try{yield ee()}catch(Me){console.error("Error refreshing task data:",Me)}}),ge=Me=>ve(null,null,function*(){(d==null?void 0:d.name)===Me&&(yield ne())});_.useEffect(()=>{H&&(f==null?void 0:f.name)===H.name&&p(H)},[H,f==null?void 0:f.name]),_.useEffect(()=>{Z&&(d==null?void 0:d.name)===Z.name&&h(Z)},[Z,d==null?void 0:d.name]);const he=sd(),Ee=sd(),Ce=Me=>ve(null,null,function*(){if(e!=null&&e.name&&confirm("Are you sure you want to remove this member from the project?"))try{const nt=yield q({project_name:e.name,user:Me});console.log("Member removed successfully:",nt),setTimeout(()=>R(),1e3),alert("Member removed successfully!")}catch(nt){console.error("Error removing member:",nt);const ot=nt instanceof Error?nt.message:String(nt);if(ot.includes("Email Account")||ot.includes("OutgoingEmailError")||ot.includes("email")||ot.includes("SMTP"))console.log("Email error detected when removing member, checking if removal was successful"),setTimeout(()=>{R(),alert("Member removed successfully! (Email notification failed to send, but member was removed from project)")},1e3);else if(ot.includes("PermissionError")||ot.includes("Not permitted"))alert("You do not have permission to remove members from this project.");else if(ot.includes("ValidationError"))alert("Cannot remove member: Validation error occurred.");else if(ot.includes("LinkExistsError")||ot.includes("Cannot delete"))alert("Cannot remove member: This user may have linked records (tasks, timesheets, etc.). Please remove or reassign those records first.");else if(ot.includes("is not a member of this project"))alert("This user is not a member of the project."),setTimeout(()=>R(),500);else{console.log("Custom API failed, trying fallback method");try{const K=M.find(fe=>fe.user===Me);K!=null&&K.name?(yield G({doctype:"Project User",name:K.name}),setTimeout(()=>R(),1e3),alert("Member removed successfully! (Using fallback method)")):alert("User record not found.")}catch(K){console.error("Fallback method also failed:",K),alert(`Failed to remove member: ${ot}`)}}}}),Ve=()=>(e==null?void 0:e.owner)===ce||ce==="Administrator",ze=Me=>{switch(Me){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},tt=Me=>Me?new Date(Me).toLocaleDateString():"N/A",Ke=()=>{A(!0)},mt=()=>{T(!0)},Ue=()=>{R(),ec(Me=>typeof Me=="string"&&Me.includes("Project"),void 0,{revalidate:!0})},gt=()=>{n()};if(!e)return null;const Je=z||e;return i.jsx(S$,{open:t,onOpenChange:n,direction:"right",children:i.jsxs(k$,{children:[i.jsxs("div",{className:"w-full h-full overflow-y-auto p-6",children:[i.jsxs(C$,{className:"px-0 pb-6",children:[i.jsxs(O$,{className:"flex gap-4 justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:i.jsx("span",{className:"text-2xl font-bold text-white",children:Je.project_name.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:Je.project_name}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:`inline-flex px-4 py-2 text-sm font-semibold rounded-full ${ze(Je.status)}`,children:Je.status||"Open"}),Je.project_type&&i.jsx("span",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full",children:Je.project_type})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Xe,{variant:"outline",size:"sm",onClick:Ke,className:"flex items-center gap-2",children:[i.jsx(Bo,{className:"h-4 w-4"}),"Edit"]}),i.jsxs(Xe,{variant:"outline",size:"sm",onClick:mt,className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[i.jsx(Bi,{className:"h-4 w-4"}),"Delete"]}),i.jsx(Xe,{variant:"ghost",size:"sm",onClick:n,children:"X"})]})]}),i.jsx(A$,{className:"text-lg text-gray-600 mt-4",children:"Project Details and Progress Overview"}),i.jsxs("div",{className:"flex border-b border-gray-200 mt-6",children:[i.jsx("button",{onClick:()=>a("overview"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overview"}),i.jsx("button",{onClick:()=>a("tasks"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="tasks"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Tasks & Phases"}),i.jsxs("button",{onClick:()=>a("team"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="team"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(Gl,{className:"h-4 w-4"}),"Team (",((M==null?void 0:M.length)||0)+1,")"]}),o&&i.jsxs("button",{onClick:()=>a("phase-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="phase-details"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📋 ",o.subject,i.jsx("span",{onClick:Me=>{Me.stopPropagation(),c(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close phase details",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d&&i.jsxs("button",{onClick:()=>a("task-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="task-details"?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📝 ",d.subject||d.name,i.jsx("span",{onClick:Me=>{Me.stopPropagation(),h(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close task details",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f&&i.jsxs("button",{onClick:()=>a("subtask-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="subtask-details"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📌 ",f.subject||f.name,i.jsx("span",{onClick:Me=>{Me.stopPropagation(),p(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close subtask details",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),i.jsxs("div",{className:"space-y-8",children:[s==="overview"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Project Progress"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-lg font-medium text-gray-700",children:"Overall Progress"}),i.jsx("span",{className:"text-xs text-gray-500"})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[se.progress,"%"]})})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${se.progress}%`}})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:i.jsx(Gu,{className:"h-8 w-8 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Customer"}),i.jsx("p",{className:"text-xl font-bold text-gray-900",children:Je.customer||"N/A"})]})]})}),i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:i.jsx(Uo,{className:"h-8 w-8 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Budget"}),i.jsx("p",{className:"text-xl font-bold text-gray-900",children:ko(Je.estimated_costing)})]})]})}),i.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:i.jsx(Ys,{className:"h-8 w-8 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"Deadline"}),i.jsx("p",{className:"text-xl font-bold text-gray-900",children:tt(Je.expected_end_date)})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Project Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:tt(Je.expected_start_date)})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:Je.priority||"Medium"})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Team"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:Je.team||"N/A"})]}),i.jsxs("div",{className:"flex items-center justify-between py-3",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Company"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:Je.company||"N/A"})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Financial Metrics"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Total Cost"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:ko(Je.total_costing_amount)})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Total Sales"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:ko(Je.total_sales_amount)})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Billable Amount"}),i.jsx("span",{className:"text-gray-900 font-semibold",children:ko(Je.total_billable_amount)})]}),i.jsxs("div",{className:"flex items-center justify-between py-3",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Gross Margin"}),i.jsx("span",{className:"text-lg font-bold text-green-600",children:ko(Je.gross_margin)})]})]})]})]}),i.jsx(Dm,{doctype:"Project",docname:e.name,title:"Project Files",allowUpload:!0,allowDelete:!0,className:"mt-8"})]}),s==="team"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(u4,{className:"h-6 w-6 text-yellow-600"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Owner"})]}),Ve()&&i.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>{Ee.reset({owner:(e==null?void 0:e.owner)||""}),S(!0)},className:"flex items-center gap-2",children:[i.jsx(Bo,{className:"h-4 w-4"}),"Change Owner"]})]}),i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:i.jsx(Gu,{className:"h-6 w-6 text-yellow-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Y?"Loading...":Q!=null&&Q.full_name?Q.full_name:Je!=null&&Je.owner?Je.owner:"No Owner"}),i.jsx("p",{className:"text-sm text-gray-600",children:Y?"Loading email...":Q!=null&&Q.email?Q.email:Je!=null&&Je.owner?Je.owner:"No email"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded",children:"Project Owner"}),(Q==null?void 0:Q.designation)&&i.jsx("span",{className:"text-xs text-gray-500",children:Q.designation}),W&&i.jsx("span",{className:"text-xs text-red-500",children:"(Error loading user details)"})]})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Gl,{className:"h-6 w-6 text-blue-600"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Team Members"}),i.jsxs("span",{className:"inline-flex px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:[(M==null?void 0:M.length)||0," members"]})]}),i.jsxs(Xe,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>x(!0),children:[i.jsx(qr,{className:"h-4 w-4 mr-1"}),"Add Member"]})]}),ie?i.jsxs("div",{className:"flex items-center justify-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("span",{className:"ml-3 text-gray-600",children:"Loading team members..."})]}):M&&M.length>0?i.jsx("div",{className:"grid gap-4",children:M.map((Me,nt)=>i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center overflow-hidden",children:Me.image?i.jsx("img",{src:Me.image,alt:Me.full_name||Me.user,className:"h-full w-full object-cover"}):i.jsx("span",{className:"text-sm font-semibold text-blue-600",children:(Me.full_name||Me.user||"U").charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-semibold text-gray-900",children:Me.full_name||Me.user||"Unknown User"}),i.jsx("p",{className:"text-sm text-gray-600",children:Me.email||Me.user||"No email"}),Me.project_status&&i.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Status: ",Me.project_status]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:"Team Member"}),Me.view_attachments&&i.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded",children:"Can View Files"}),i.jsxs(Xe,{size:"sm",variant:"outline",className:"text-xs text-red-600 hover:text-red-700",onClick:()=>Ce(Me.user),children:[i.jsx(Bi,{className:"h-3 w-3 mr-1"}),"Remove"]})]})]},Me.user||nt))}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Gl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No team members added yet"}),i.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Add team members to collaborate on this project"}),i.jsxs(Xe,{className:"mt-4 bg-blue-600 hover:bg-blue-700",onClick:()=>x(!0),children:[i.jsx(qr,{className:"h-4 w-4 mr-2"}),"Add First Member"]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Statistics"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((M==null?void 0:M.length)||0)+1}),i.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),i.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:"1"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Project Owner"})]}),i.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(M==null?void 0:M.length)||0}),i.jsx("p",{className:"text-sm text-gray-600",children:"Team Members"})]}),i.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[i.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(e==null?void 0:e.percent_complete)||0,"%"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Progress"})]})]})]})]}),s==="tasks"&&i.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:i.jsx(r7,{projectName:e.name,onViewPhaseDetails:Me=>{c(Me),a("phase-details")},onViewTaskDetails:Me=>{h(Me),a("task-details")},onViewSubTaskDetails:Me=>{p(Me),a("subtask-details")}})}),s==="phase-details"&&o&&i.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:i.jsx(l7,{phase:o,projectName:e.name,onBack:()=>a("tasks"),onViewTaskDetails:Me=>{h(Me),a("task-details")},onPhaseUpdated:()=>ve(null,null,function*(){R()}),onPhaseDeleted:()=>ve(null,null,function*(){R(),a("tasks"),c(null)}),onTaskCreated:()=>ve(null,null,function*(){R()})})}),s==="task-details"&&d&&i.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:i.jsx(f7,{task:d,projectName:e.name,onBack:()=>a("tasks"),onViewSubTaskDetails:Me=>{p(Me),a("subtask-details")},onTaskUpdated:()=>ve(null,null,function*(){R(),yield ne()}),onTaskDeleted:()=>ve(null,null,function*(){R(),a("tasks"),h(null)})})}),s==="subtask-details"&&f&&i.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:i.jsx(p7,{subtask:f,projectName:e.name,onBack:()=>a("tasks"),onSubTaskUpdated:()=>ve(null,null,function*(){R(),yield V(),f!=null&&f.task&&(yield ge(f.task))}),onSubTaskDeleted:()=>ve(null,null,function*(){R(),a("tasks"),p(null)})})})]}),i.jsx(D$,{className:"px-0 mt-8 pt-6 border-t border-gray-200",children:i.jsxs("div",{className:"flex gap-4",children:[i.jsx(Xe,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",onClick:()=>a("tasks"),children:"View Tasks"}),i.jsx(Xe,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",children:"View Timeline"})]})})]}),i.jsx(b9,{isOpen:g,onClose:()=>x(!1),projectName:e.name,onSuccess:()=>{setTimeout(()=>R(),1e3)}}),i.jsx(Uk,{project:e,isOpen:N,onClose:()=>A(!1),onSuccess:Ue}),i.jsx(Bk,{project:e,isOpen:E,onClose:()=>T(!1),onSuccess:gt})]})})}const $k=({project:e,onProjectUpdated:t,onProjectDeleted:n,onCloseDrawer:s})=>{const[a,o]=_.useState(!1),[c,d]=_.useState(!1),[h,f]=_.useState(!1),p=j=>{j&&j.stopPropagation(),o(!0),f(!1)},g=j=>{j&&j.stopPropagation(),d(!0),f(!1)},x=()=>{t&&t()},b=()=>{n&&n(),s&&s()};return i.jsxs(i.Fragment,{children:[i.jsxs(vy,{open:h,onOpenChange:f,children:[i.jsx(wy,{asChild:!0,children:i.jsx(Xe,{variant:"ghost",size:"sm",onClick:j=>{j.stopPropagation(),f(!h)},className:"h-8 w-8 p-0",children:i.jsx(m4,{className:"h-4 w-4"})})}),i.jsx(jy,{className:"w-48 p-2",align:"end",onClick:j=>j.stopPropagation(),children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Xe,{variant:"ghost",size:"sm",onClick:j=>p(j),className:"w-full justify-start text-left",children:[i.jsx(H4,{className:"mr-2 h-4 w-4"}),"Edit Project"]}),i.jsxs(Xe,{variant:"ghost",size:"sm",onClick:j=>g(j),className:"w-full justify-start text-left text-red-600 hover:text-red-700 hover:bg-red-50",children:[i.jsx(Bi,{className:"mr-2 h-4 w-4"}),"Delete Project"]})]})})]}),i.jsx(Uk,{project:e,isOpen:a,onClose:()=>o(!1),onSuccess:x}),i.jsx(Bk,{project:e,isOpen:c,onClose:()=>d(!1),onSuccess:b})]})},v9=({projects:e,onProjectsChange:t})=>{const[n,s]=_.useState(null),[a,o]=_.useState(!1),c=f=>{s(f),o(!0)},d=()=>{o(!1),s(null)},h=f=>{switch(f){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map(f=>i.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 hover:shadow-md transition-shadow duration-200 cursor-pointer",onClick:()=>c(f),children:[i.jsx("div",{className:"h-48 bg-gray-200 flex items-center justify-center",children:i.jsx("div",{className:"text-4xl font-bold text-gray-400",children:f.project_name.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate flex-1",children:f.project_name}),i.jsxs("div",{className:"flex items-center gap-2",onClick:p=>p.stopPropagation(),children:[i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(f.status)}`,children:f.status||"Open"}),i.jsx($k,{project:f,onProjectUpdated:t,onProjectDeleted:t,onCloseDrawer:d})]})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:f.project_type||"N/A"}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),i.jsxs("span",{className:"text-sm text-gray-600",children:[f.percent_complete||0,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${f.percent_complete||0}%`}})})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[i.jsx("span",{children:f.customer||"N/A"}),i.jsx("span",{children:ko(f.estimated_costing)})]})]})]},f.name))}),i.jsx(Fk,{project:n,isOpen:a,onClose:d})]})},w9=({projects:e,onProjectsChange:t})=>{const[n,s]=_.useState(null),[a,o]=_.useState(!1),[c,d]=_.useState(null),h=v=>{s(v),o(!0)},f=()=>{o(!1),s(null)},p=()=>{n&&(d(n.name),setTimeout(()=>{d(null)},5e3)),console.log("handleProjectUpdated called, about to refresh data..."),o(!1),s(null),ec(v=>typeof v=="string"&&v.includes("Project"),void 0,{revalidate:!0}),ec("/api/resource/Project"),ec("Project"),t?(console.log("Calling onProjectsChange to refresh data immediately"),t()):console.log("onProjectsChange is not available"),setTimeout(()=>{t&&(console.log("Calling onProjectsChange again as backup"),t())},100)},g=()=>{d(null),t&&t()},x=_.useMemo(()=>[...e].sort((v,S)=>{const N=new Date(v.modified||v.creation||0);return new Date(S.modified||S.creation||0).getTime()-N.getTime()}),[e]),b=v=>{switch(v){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},j=v=>v?new Date(v).toLocaleDateString():"N/A";return i.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[i.jsx("div",{className:"overflow-hidden",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deadline"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(v=>i.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer transition-colors ${c===v.name?"bg-green-50 border-l-4 border-green-400":""}`,onClick:()=>h(v),children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:i.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-bold text-gray-600",children:v.project_name.charAt(0).toUpperCase()})})}),i.jsxs("div",{className:"ml-4",style:{maxWidth:"300px"},children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 cursor-help",title:v.project_name,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:v.project_name}),i.jsx("div",{className:"text-sm text-gray-500",children:v.project_type||"N/A"})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b(v.status)}`,children:v.status||"Open"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${v.percent_complete||0}%`}})}),i.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[v.percent_complete||0,"%"]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ko(v.estimated_costing)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j(v.expected_end_date)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",onClick:S=>S.stopPropagation(),children:i.jsx($k,{project:v,onProjectUpdated:p,onProjectDeleted:g,onCloseDrawer:f})})]},v.name))})]})}),i.jsx(Fk,{project:n,isOpen:a,onClose:f})]})},j9=({projects:e,onFilteredProjectsChange:t,viewMode:n,onViewModeChange:s})=>{var j;const[a,o]=re.useState({searchText:"",selectedTeam:"",selectedStatus:""}),[c,d]=re.useState(!1),{data:h=[]}=fT(),f=[{value:"",label:"All Status"},{value:"Open",label:"Open"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],p=re.useMemo(()=>{const v=[{value:"",label:"All Teams"},...h.map(S=>({value:S.name,label:S.team||S.name}))];return[v[0],...v.slice(1).sort((S,N)=>S.label.localeCompare(N.label))]},[h]);re.useEffect(()=>{let v=[...e];if(a.searchText.trim()){const S=a.searchText.toLowerCase();v=v.filter(N=>N.project_name.toLowerCase().includes(S)||N.name.toLowerCase().includes(S))}a.selectedTeam&&(v=v.filter(S=>(S.team||"")===a.selectedTeam)),a.selectedStatus&&(v=v.filter(S=>S.status===a.selectedStatus)),t(v)},[a.searchText,a.selectedTeam,a.selectedStatus,e]);const g=(v,S)=>{o(N=>oe(L({},N),{[v]:S}))},x=()=>{o({searchText:"",selectedTeam:"",selectedStatus:""})},b=a.searchText||a.selectedTeam||a.selectedStatus;return i.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[i.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(ic,{className:"h-4 w-4 text-gray-400"})}),i.jsx("input",{type:"text",value:a.searchText,onChange:v=>g("searchText",v.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects by name..."})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>d(!c),className:`inline-flex items-center px-3 py-2 border rounded-md text-sm font-medium bg-white hover:bg-gray-50 ${b?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700"}`,children:[i.jsx(ld,{className:"mr-2 h-4 w-4"}),"Bộ lọc",b&&i.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[a.selectedTeam,a.selectedStatus].filter(Boolean).length})]}),c&&i.jsx("div",{className:"absolute top-full left-0 mt-2 w-80 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Filters"}),b&&i.jsx("button",{onClick:x,className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear all"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team"}),i.jsx("select",{value:a.selectedTeam,onChange:v=>g("selectedTeam",v.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:h.length===0,children:p.map(v=>i.jsx("option",{value:v.value,children:v.label},v.value))}),h.length===0&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No teams available"}),h.length>0&&e.filter(v=>v.team).length===0&&i.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Projects haven't been assigned to teams yet"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),i.jsx("select",{value:a.selectedStatus,onChange:v=>g("selectedStatus",v.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:f.map(v=>i.jsx("option",{value:v.value,children:v.label},v.value))})]})]})})]}),i.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 border border-gray-200 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>s("grid"),className:`p-2 rounded-md transition-colors ${n==="grid"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"Grid view",children:i.jsx(N4,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>s("list"),className:`p-2 rounded-md transition-colors ${n==="list"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"List view",children:i.jsx(O4,{className:"h-4 w-4"})})]})]}),b&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx("span",{children:"Active filters:"}),i.jsxs("div",{className:"flex space-x-1",children:[a.selectedTeam&&i.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Team: ",(j=p.find(v=>v.value===a.selectedTeam))==null?void 0:j.label,i.jsx("button",{onClick:()=>g("selectedTeam",""),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]}),a.selectedStatus&&i.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Status: ",a.selectedStatus,i.jsx("button",{onClick:()=>g("selectedStatus",""),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]})]})]})]}),c&&i.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>d(!1)})]})},_9=({onProjectCreated:e})=>{const[t,n]=_.useState(!1),{createProject:s,isLoading:a}=ML(),{register:o,control:c,handleSubmit:d,reset:h,formState:{errors:f,isSubmitting:p}}=sd({defaultValues:{status:"Open",priority:"Medium"}}),g=x=>ve(null,null,function*(){try{yield s(x),h(),n(!1),ec(b=>typeof b=="string"&&b.includes("Project"),void 0,{revalidate:!0}),xn.success("Project created successfully"),e&&e()}catch(b){let j="Create project failed";if(b!=null&&b._server_messages)try{const v=JSON.parse(b._server_messages);Array.isArray(v)&&v.length>0&&(j=JSON.parse(v[0]).message||j)}catch(v){console.error("Parse error messages failed:",v)}else b!=null&&b.message&&(j=b.message);xn.error("Create project failed",{description:j}),console.error("Error creating project:",b)}});return i.jsxs(xs,{open:t,onOpenChange:n,children:[i.jsx(G$,{asChild:!0,children:i.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[i.jsx(qr,{className:"mr-2 h-4 w-4"}),"New Project"]})}),i.jsx(ys,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:i.jsxs("form",{onSubmit:d(g),children:[i.jsxs(bs,{children:[i.jsx(vs,{children:"Create New Project"}),i.jsx(bd,{children:"Fill in the project details. Fields marked with * are required."})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsxs(Be,{htmlFor:"project_name",children:["Project Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Ht,oe(L({id:"project_name"},o("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),f.project_name&&i.jsx("span",{className:"text-red-500 text-sm",children:f.project_name.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Be,{children:"Customer"}),i.jsx(_r,{name:"customer",control:c,render:({field:x})=>i.jsx(Sr,{doctype:"Customer",value:x.value||"",onChange:x.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Be,{children:"Project Type"}),i.jsx(_r,{name:"project_type",control:c,render:({field:x})=>i.jsx(Sr,{doctype:"Project Type",value:x.value||"",onChange:x.onChange,placeholder:"Select type...",className:"w-full"})})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsxs(Be,{children:["Status ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",oe(L({},o("status",{required:"Status is required"})),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"Open",children:"Open"}),i.jsx("option",{value:"Completed",children:"Completed"}),i.jsx("option",{value:"Cancelled",children:"Cancelled"})]}))]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Be,{children:"Priority"}),i.jsxs("select",oe(L({},o("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Select priority..."}),i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Critical",children:"Critical"})]}))]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Be,{children:"Team"}),i.jsx(_r,{name:"team",control:c,render:({field:x})=>i.jsx(Sr,{doctype:"Team",value:x.value||"",onChange:x.onChange,placeholder:"Select team...",className:"w-full"})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Be,{children:"Company"}),i.jsx(_r,{name:"company",control:c,render:({field:x})=>i.jsx(Sr,{doctype:"Company",value:x.value||"",onChange:x.onChange,placeholder:"Select company...",className:"w-full"})})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Be,{children:"Cost Center"}),i.jsx(_r,{name:"cost_center",control:c,render:({field:x})=>i.jsx(Sr,{doctype:"Cost Center",value:x.value||"",onChange:x.onChange,placeholder:"Select cost center...",displayField:"cost_center_name",valueField:"name",className:"w-full"})})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Be,{children:"Project Template"}),i.jsx(_r,{name:"project_template",control:c,render:({field:x})=>i.jsx(Sr,{doctype:"Project Template",value:x.value||"",onChange:x.onChange,placeholder:"Select project template...",className:"w-full"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Be,{children:"Expected Start Date"}),i.jsx(Ht,L({type:"date"},o("expected_start_date")))]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Be,{children:"Expected End Date"}),i.jsx(Ht,L({type:"date"},o("expected_end_date")))]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Be,{children:"Notes"}),i.jsx("textarea",oe(L({},o("notes")),{placeholder:"Enter project notes...",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}))]})]}),i.jsxs(Rs,{children:[i.jsx(Q$,{asChild:!0,children:i.jsx(Xe,{type:"button",variant:"outline",children:"Cancel"})}),i.jsx(Xe,{type:"submit",disabled:p||a,className:"bg-blue-600 hover:bg-blue-700",children:p||a?"Creating...":"Create Project"})]})]})})]})},N9=()=>{const[e,t]=re.useState("list"),[n,s]=re.useState([]),{data:a=[],isLoading:o,error:c,mutate:d}=RL();re.useEffect(()=>{s(a)},[a]);const h=()=>ve(null,null,function*(){d&&(yield d())}),f=re.useCallback(p=>{s(p)},[]);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Projects"}),i.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Showing ",n.length," of ",a.length," projects"]})]}),i.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:i.jsx(_9,{onProjectCreated:h})})]}),!o&&!c&&a.length>0&&i.jsx(j9,{projects:a,onFilteredProjectsChange:f,viewMode:e,onViewModeChange:t}),o?i.jsx("div",{className:"flex justify-center items-center p-8",children:i.jsx("div",{className:"text-gray-500",children:"Loading projects..."})}):c?i.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-red-50 rounded-lg border border-red-200",children:i.jsxs("div",{className:"text-red-700 text-center",children:[i.jsx("p",{className:"text-lg font-medium mb-2",children:"Error loading projects"}),i.jsx("p",{className:"text-sm mb-2",children:c.message}),c.message.includes("PermissionError")&&i.jsxs("div",{className:"text-sm text-red-600 bg-red-100 p-3 rounded mt-2",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Permission Issue:"})," You don't have access to view projects."]}),i.jsx("p",{children:"Please contact your system administrator to:"}),i.jsxs("ul",{className:"list-disc list-inside mt-1",children:[i.jsx("li",{children:'Grant you "Read" permission for Project doctype'}),i.jsx("li",{children:"Add you to projects as a team member"}),i.jsx("li",{children:"Make you the owner of projects"})]})]})]})}):a.length===0?i.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:i.jsxs("div",{className:"text-gray-500 text-center",children:[i.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects found"}),i.jsx("p",{className:"text-sm",children:"You are not currently participating in any projects."}),i.jsx("p",{className:"text-sm",children:"Create a new project or ask to be added to an existing one."})]})}):n.length===0?i.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:i.jsxs("div",{className:"text-gray-500 text-center",children:[i.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects match your filters"}),i.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria or clear the filters."})]})}):i.jsx(i.Fragment,{children:e==="grid"?i.jsx(v9,{projects:n,onProjectsChange:h}):i.jsx(w9,{projects:n,onProjectsChange:h})})]})},Hk=({team:e})=>{var C,z;const{data:t,isLoading:n,error:s}=Ot("Team",e),a=(t==null?void 0:t.team_member)||[],{currentUser:o}=Cs(),c=o==="Administrator",{data:d,isLoading:h,error:f}=At("User",{fields:["name","full_name","user_image","first_name","last_name","email"],limit:0}),{simpleTeamData:p,isLoading:g}=KL(),x=!s||!((C=s.message)!=null&&C.includes("PermissionError")),{allTasks:b,allSubTasks:j,isLoading:v,error:S}=XL(),{todos:N,isLoading:A,error:E}=qL(),T=_.useMemo(()=>{const U=[];return b.forEach(R=>{const G=N==null?void 0:N.find(q=>q.reference_type==="Task"&&q.reference_name===R.name);U.push({id:R.name,title:R.subject||"Untitled Task",description:R.description||"No description available",project:R.project||"Unknown Project",assignee:(G==null?void 0:G.allocated_to)||R.completed_by||R.owner||"Unknown",status:R.status||"Open",priority:R.priority||"Medium",dueDate:R.exp_end_date||new Date().toISOString().split("T")[0],labels:[R.type||"Task"],todoId:(G==null?void 0:G.name)||"",referenceName:R.name,referenceType:"Task",type:"Task",taskProgress:R.progress,expectedTime:R.expected_time,actualTime:0,startDate:R.exp_start_date,endDate:R.exp_end_date})}),j.forEach(R=>{const G=N==null?void 0:N.find(q=>q.reference_type==="SubTask"&&q.reference_name===R.name);U.push({id:R.name,title:R.subject||"Untitled SubTask",description:R.description||"No description available",project:"Unknown Project",assignee:(G==null?void 0:G.allocated_to)||R.assigned_to||R.owner||"Unknown",status:R.status||"Open",priority:"Medium",dueDate:R.end_date||new Date().toISOString().split("T")[0],labels:["SubTask"],todoId:(G==null?void 0:G.name)||"",referenceName:R.name,referenceType:"SubTask",type:"SubTask",parentTask:R.task,startDate:R.start_date,endDate:R.end_date})}),U.sort((R,G)=>new Date(G.dueDate).getTime()-new Date(R.dueDate).getTime())},[b,j,N]);return{teamMembersData:_.useMemo(()=>{var U;if(c&&d)return d.map(R=>{const G=T.filter(Q=>Q.assignee===R.name),q=R.user_image||`https://placehold.co/40x40/e2e8f0/475569?text=${(R.first_name||R.full_name||"U").charAt(0).toUpperCase()}`;return{id:R.name||"",name:R.full_name||R.first_name||R.name||"Unknown User",role:R.name===o?"Leader":"Member",taskCount:G.length,avatar:q,tasks:G,user:R}});if(!a||(U=s==null?void 0:s.message)!=null&&U.includes("PermissionError")){if(p&&p.length>0)return p.map(R=>{const G=T.filter(q=>q.assignee===R.id);return{id:R.id,name:R.name,role:R.role,taskCount:G.length,avatar:R.avatar,tasks:G,user:d==null?void 0:d.find(q=>q.name===R.id)}});if(d&&d.length>0){const R=d[0],G=T.filter(q=>q.assignee===(R==null?void 0:R.name));return[{id:(R==null?void 0:R.name)||"unknown",name:(R==null?void 0:R.full_name)||(R==null?void 0:R.first_name)||"Current User",role:"Member",taskCount:G.length,avatar:(R==null?void 0:R.user_image)||`https://placehold.co/40x40/e2e8f0/475569?text=${((R==null?void 0:R.first_name)||"U").charAt(0).toUpperCase()}`,tasks:G,user:R}]}return[]}return d?a.map(R=>{const G=d.find(W=>W.name===R.user),q=T.filter(W=>W.assignee===R.user),Q=(G==null?void 0:G.user_image)||`https://placehold.co/40x40/e2e8f0/475569?text=${((G==null?void 0:G.first_name)||(G==null?void 0:G.full_name)||"U").charAt(0).toUpperCase()}`;return{id:R.user||"",name:(G==null?void 0:G.full_name)||(G==null?void 0:G.first_name)||R.user||"Unknown User",role:R.role||"Member",taskCount:q.length,avatar:Q,tasks:q,user:G}}):[]},[a,d,T,s,p,c,o]),allTransformedTasks:T,isLoading:n||h||v||g||A,error:s&&!((z=s.message)!=null&&z.includes("PermissionError"))?s:f||S||E,teamMembers:a,users:d,hasTeamMemberPermission:x}},S9=({task:e,isOpen:t,onClose:n,onSuccess:s,isLeader:a})=>{const o=(e==null?void 0:e.type)==="SubTask",{updateTask:c,isLoading:d,error:h}=mT(),{assignTask:f,unassignTask:p}=pT(),{updateTaskProgress:g}=vT(),{updateTaskProgressByStatus:x}=bT(),{updateSubTask:b,isLoading:j,error:v}=yT(),{assignSubTask:S,unassignSubTask:N}=_y(),A=d||j,E=h||v,{data:T}=Ot("Project",(e==null?void 0:e.project)||"",{enabled:!!(e!=null&&e.project)&&!o}),{data:D}=At("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=",o?"SubTask":"Task"],["reference_name","=",(e==null?void 0:e.referenceName)||""]]}),{data:C}=At("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.referenceName)||""]],limit:1}),[z,U]=_.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,description:"",assign_to:""}),[R,G]=_.useState(!1);_.useEffect(()=>{var Y;if(e){const H=((Y=D==null?void 0:D[0])==null?void 0:Y.allocated_to)||"";U({subject:e.title||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.startDate?e.startDate.split(" ")[0]:"",end_date:e.endDate?e.endDate.split(" ")[0]:"",progress:e.taskProgress||0,description:e.description||"",assign_to:H})}},[e,D]),_.useEffect(()=>{o||G(!!(C&&C.length>0))},[C,o]);const q=(Y,H)=>{U(F=>oe(L({},F),{[Y]:H}))},Q=Y=>ve(null,null,function*(){var H,Z,ee;if(Y.preventDefault(),!!e){if(z.start_date&&z.end_date){const ce=new Date(z.start_date);if(new Date(z.end_date)<ce){xn.error("End date cannot be earlier than start date");return}}if(!o&&z.end_date&&(T!=null&&T.expected_end_date)){const ce=new Date(z.end_date),M=new Date(T.expected_end_date);if(ce>M){xn.error(`Task end date cannot be after project end date (${T.expected_end_date})`);return}}try{const ce=((H=D==null?void 0:D[0])==null?void 0:H.allocated_to)||"",M=z.assign_to;if(o){const F=z,{assign_to:ie}=F,se=Oe(F,["assign_to"]),V={subject:se.subject,status:se.status,start_date:se.start_date,end_date:se.end_date,description:se.description};if(yield b(e.referenceName,V),ce&&ce!==M){const ne=D==null?void 0:D.find(ge=>ge.allocated_to===ce);ne&&(yield N(ne.name))}M&&M!==ce&&(yield S(e.referenceName,M)),V.status,e.status,xn.success("SubTask updated successfully",{description:`SubTask "${z.subject}" has been updated.`})}else{const ie=z.progress!==(e.taskProgress||0),se=z.status!==e.status,V={subject:z.subject,status:z.status,priority:z.priority,exp_start_date:z.start_date,exp_end_date:z.end_date,progress:z.progress,description:z.description};if(R&&ie?yield g(e.referenceName,z.progress):se&&(z.status==="Completed"||z.status==="Cancelled")?yield x(e.referenceName,z.status):yield c(e.referenceName,V),ce!==M){if(ce&&(D!=null&&D[0]))try{yield p(D[0].name)}catch(ne){console.error("Error deleting old ToDo:",ne)}if(M)try{yield f(e.referenceName,z.subject,M,z.priority)}catch(ne){console.error("Error creating new ToDo:",ne)}}xn.success("Task updated successfully",{description:`Task "${z.subject}" has been updated.`})}s&&s(),n()}catch(ce){console.error("Error updating task/subtask:",ce);let M=`Failed to update ${o?"subtask":"task"}`;(Z=ce==null?void 0:ce.message)!=null&&Z.includes("modified")?M=`The ${o?"subtask":"task"} has been modified by someone else. Please close and reopen to get the latest version.`:(ee=ce==null?void 0:ce.message)!=null&&ee.includes("permission")?M=`You do not have permission to update this ${o?"subtask":"task"}.`:ce!=null&&ce.message&&(M=ce.message),xn.error(`Failed to update ${o?"subtask":"task"}`,{description:M})}}}),W=()=>{var Y;if(e){const H=((Y=D==null?void 0:D[0])==null?void 0:Y.allocated_to)||"";U({subject:e.title||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.startDate?e.startDate.split(" ")[0]:"",end_date:e.endDate?e.endDate.split(" ")[0]:"",progress:e.taskProgress||0,description:e.description||"",assign_to:H})}n()};return e?i.jsx(xs,{open:t,onOpenChange:n,children:i.jsxs(ys,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[i.jsx(bs,{children:i.jsxs(vs,{children:["Edit ",o?"SubTask":"Task"]})}),i.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"subject",children:"Subject *"}),i.jsx(Ht,{id:"subject",value:z.subject,onChange:Y=>q("subject",Y.target.value),required:!0,placeholder:`Enter ${o?"subtask":"task"} subject`})]}),i.jsxs("div",{className:`grid ${o?"grid-cols-1":"grid-cols-2"} gap-4`,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"status",children:"Status"}),i.jsxs("select",{id:"status",value:z.status,onChange:Y=>q("status",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"Open",children:"Open"}),i.jsx("option",{value:"Working",children:"Working"}),i.jsx("option",{value:"Pending Review",children:"Pending Review"}),!o&&i.jsx("option",{value:"Overdue",children:"Overdue"}),a&&i.jsx("option",{value:"Completed",children:"Completed"}),a&&i.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),!o&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"priority",children:"Priority"}),i.jsxs("select",{id:"priority",value:z.priority,onChange:Y=>q("priority",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"start_date",children:o?"Start Date":"Expected Start Date"}),i.jsx(Ht,{id:"start_date",type:"date",value:z.start_date,onChange:Y=>q("start_date",Y.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"end_date",children:o?"End Date":"Expected End Date"}),i.jsx(Ht,{id:"end_date",type:"date",value:z.end_date,onChange:Y=>q("end_date",Y.target.value),max:!o&&(T!=null&&T.expected_end_date)?T.expected_end_date:void 0}),!o&&(T==null?void 0:T.expected_end_date)&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",T.expected_end_date]})]})]}),!o&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"progress",children:"Progress (%)"}),i.jsx(Ht,{id:"progress",type:"number",min:"0",max:"100",value:z.progress,onChange:Y=>q("progress",parseInt(Y.target.value)||0),placeholder:"0",disabled:R}),R?i.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[i.jsx("strong",{children:"🔄 Smart Progress Mode:"}),i.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[i.jsx("li",{children:"Progress is automatically calculated from subtasks"}),i.jsx("li",{children:"Only assignee can manually override progress"}),i.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):i.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[i.jsx("strong",{children:"✏️ Manual Progress Mode:"}),i.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{htmlFor:"description",children:"Description"}),i.jsx("textarea",{id:"description",value:z.description,onChange:Y=>q("description",Y.target.value),placeholder:`Enter ${o?"subtask":"task"} description`,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),i.jsx("div",{className:"bg-gray-50 p-3 rounded-md",children:i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx("strong",{children:"Project:"})," ",e.project]})}),E&&i.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Error:"})," ",E.message||`Failed to update ${o?"subtask":"task"}`]})}),i.jsxs(Rs,{className:"flex gap-2",children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:W,children:"Cancel"}),i.jsx(Xe,{type:"submit",disabled:A,children:A?"Updating...":`Update ${o?"SubTask":"Task"}`})]})]})]})}):null},T9=({role:e,currentView:t,setCurrentView:n})=>{const s=Cs().currentUser==="Administrator";return i.jsx("header",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{children:i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Trình Quản Lý Công Việc"})}),(e==="Leader"||s)&&i.jsxs("div",{className:"inline-flex bg-slate-200 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>n("user"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="user"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"User"}),e==="Leader"&&i.jsx("button",{onClick:()=>n("leader"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="leader"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"Leader"}),s&&i.jsx("button",{onClick:()=>n("admin"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="admin"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"Admin"})]})]})})},ib=e=>{switch(e){case"Working":return"text-orange-800 bg-orange-100";case"Open":return"text-sky-800 bg-sky-100";case"Completed":return"text-emerald-800 bg-emerald-100";case"Cancelled":return"text-red-800 bg-red-100";default:return"text-slate-800 bg-slate-100"}},Vk=e=>{switch(e){case"High":return"text-red-800 bg-red-100";case"Medium":return"text-amber-800 bg-amber-100";case"Low":return"text-green-800 bg-green-100";default:return"text-slate-800 bg-slate-100"}},Au=({task:e,onClick:t,formatDate:n,barClass:s="bg-indigo-600",completed:a=!1})=>{var o,c;return i.jsxs("div",{className:`kanban-card bg-white p-4 rounded-lg shadow-sm border border-slate-200 cursor-pointer ${a?"opacity-70":""}`,onClick:t,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("p",{className:`font-semibold text-slate-900 flex-1 ${a?"line-through":""}`,children:e.title}),i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ml-2 ${e.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:e.type})]}),i.jsx("p",{className:"text-xs text-slate-500 mb-3",children:e.project}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs text-slate-600",children:"Tiến độ"}),i.jsx("span",{className:"text-xs text-slate-600 font-medium",children:a?"100%":`${(o=e.taskProgress)!=null?o:0}%`})]}),i.jsx("div",{className:"bg-slate-200 rounded-full h-1.5",children:i.jsx("div",{className:`${a?"bg-emerald-500":s} h-1.5 rounded-full`,style:{width:a?"100%":`${(c=e.taskProgress)!=null?c:0}%`}})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:`priority-badge ${Vk(e.priority)}`,children:e.priority}),i.jsx("span",{className:"text-xs text-slate-500",children:n(e.dueDate).formatted})]})]})},E9=["Open","Working","Overdue","Pending Review","Completed"],k9=["Low","Medium","High","Urgent"],C9=["Task","SubTask"],XN=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),D9=({isLoading:e,handleRefresh:t,activeTab:n,setActiveTab:s,transformedTasks:a,formatDate:o,handleTaskClick:c})=>{const[d,h]=_.useState(""),[f,p]=_.useState(""),[g,x]=_.useState(""),[b,j]=_.useState(""),[v,S]=_.useState(""),[N,A]=_.useState(!1),[E,T]=_.useState(""),[D,C]=_.useState(""),z=_.useMemo(()=>{const W=new Set;return a.forEach(Y=>Y.project&&W.add(Y.project)),Array.from(W).sort((Y,H)=>Y.localeCompare(H))},[a]),U=_.useMemo(()=>{const W=XN(d.trim()),Y=H=>{if(!H)return!0;const F=new Date(H);if(Number.isNaN(F.getTime()))return!0;if(E){const Z=new Date(E);if(F<new Date(Z.getFullYear(),Z.getMonth(),Z.getDate()))return!1}if(D){const Z=new Date(D),ee=new Date(Z.getFullYear(),Z.getMonth(),Z.getDate(),23,59,59,999);if(F>ee)return!1}return!0};return(a||[]).filter(H=>!(W&&!XN(`${H.title||""} ${H.project||""} ${H.status||""} ${H.priority||""}`).includes(W)||f&&H.status!==f||g&&H.priority!==g||b&&H.type!==b||v&&H.project!==v||N&&H.status!=="Overdue"&&!o(H.dueDate).isOverdue||!Y(H.dueDate)))},[d,f,g,b,v,N,E,D,a,o]),R=()=>{h(""),p(""),x(""),j(""),S(""),A(!1),T(""),C("")},G=W=>U.filter(Y=>Y.status===W).length,[q,Q]=_.useState(!1);return i.jsx("div",{className:"space-y-8",children:i.jsxs("section",{children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Việc của tôi"}),i.jsxs("button",{onClick:t,disabled:e,className:"mt-4 sm:mt-0 flex items-center justify-center gap-2 bg-indigo-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-indigo-700 transition-all shadow-sm disabled:opacity-50",children:[e?i.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:i.jsx("path",{fill:"currentColor",d:"M12 20q-3.35 0-5.675-2.325T4 12t2.325-5.675T12 4q1.725 0 3.3.712T18 6.75V4h2v7h-7V9h4.2q-.8-1.4-2.187-2.2T12 6Q9.5 6 7.75 7.75T6 12t1.75 4.25T12 18q1.925 0 3.475-1.1T17.65 14h2.1q-.7 2.65-2.85 4.325T12 20"})}),e?"Đang tải...":"Làm mới"]})]}),i.jsx("div",{className:"mt-4 border-b border-slate-200",children:i.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[i.jsx("button",{onClick:()=>s("list"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${n==="list"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Danh sách"}),i.jsx("button",{onClick:()=>s("kanban"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${n==="kanban"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Bảng Kanban"}),i.jsx("button",{onClick:()=>s("calendar"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${n==="calendar"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Lịch"})]})}),i.jsxs("div",{className:"mt-4 bg-white border border-slate-200 p-4 rounded-xl shadow-sm",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[i.jsxs("div",{className:"relative w-full md:max-w-sm",children:[i.jsx("label",{className:"sr-only",children:"Tìm kiếm"}),i.jsx(ic,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx("input",{value:d,onChange:W=>h(W.target.value),placeholder:"Tìm theo tên, dự án, trạng thái...",className:"w-full rounded-lg border border-slate-300 pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),i.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[i.jsxs("button",{onClick:()=>Q(W=>!W),className:"px-3 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50 inline-flex items-center gap-2",children:[i.jsx(ld,{className:"h-4 w-4"}),"Bộ lọc"]}),i.jsx("button",{onClick:R,className:"px-3 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50",children:"Xóa"})]})]}),q&&i.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-6 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Trạng thái"}),i.jsxs("select",{value:f,onChange:W=>p(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tất cả"}),E9.map(W=>i.jsx("option",{value:W,children:W},W))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Ưu tiên"}),i.jsxs("select",{value:g,onChange:W=>x(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tất cả"}),k9.map(W=>i.jsx("option",{value:W,children:W},W))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Loại"}),i.jsxs("select",{value:b,onChange:W=>j(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tất cả"}),C9.map(W=>i.jsx("option",{value:W,children:W},W))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Dự án"}),i.jsxs("select",{value:v,onChange:W=>S(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[i.jsx("option",{value:"",children:"Tất cả"}),z.map(W=>i.jsx("option",{value:W,children:W},W))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hạn từ"}),i.jsx("input",{type:"date",value:E,onChange:W=>T(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hạn đến"}),i.jsx("input",{type:"date",value:D,onChange:W=>C(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),n==="list"&&i.jsx("div",{className:"mt-6 bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100 rounded-t-lg",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tên công việc"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Loại"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Dự án"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tiến độ"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ngày hết hạn"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ưu tiên"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Trạng thái"})]})}),i.jsx("tbody",{children:U.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-slate-500",children:e?"Đang tải...":"Không có công việc nào"})}):U.map(W=>i.jsxs("tr",{className:"bg-white border-b border-slate-200 hover:bg-slate-50 table-row transition-all cursor-pointer",onClick:()=>c(W),children:[i.jsxs("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-900 whitespace-nowrap",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[W.type==="SubTask"&&i.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414L2.586 7l3.707-3.707a1 1 0 011.414 0z",clipRule:"evenodd"})}),W.title]}),W.parentTask&&i.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["↳ Subtask của: ",W.parentTask]})]}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${W.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:W.type})}),i.jsx("td",{className:"px-6 py-4",children:W.project}),i.jsx("td",{className:"px-6 py-4",children:W.taskProgress!==void 0?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-2",children:i.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${W.taskProgress}%`}})}),i.jsxs("span",{className:"text-xs text-slate-600 font-medium min-w-[3rem]",children:[W.taskProgress,"%"]})]}):i.jsx("span",{className:"text-xs text-slate-400",children:"N/A"})}),i.jsx("td",{className:`px-6 py-4 ${o(W.dueDate).isOverdue?"text-red-600 font-medium":""}`,children:o(W.dueDate).display}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`priority-badge ${Vk(W.priority)}`,children:W.priority})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`status-badge ${ib(W.status)}`,children:W.status})})]},W.id))})]})})}),n==="kanban"&&i.jsx("div",{className:"mt-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[i.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-sky-500"}),"Cần làm (",G("Open"),")"]}),i.jsx("div",{className:"space-y-4",children:U.filter(W=>W.status==="Open").map(W=>i.jsx(Au,{task:W,onClick:()=>c(W),formatDate:o},W.id))})]}),i.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Đang làm (",G("Working"),")"]}),i.jsx("div",{className:"space-y-4",children:U.filter(W=>W.status==="Working").map(W=>i.jsx(Au,{task:W,onClick:()=>c(W),formatDate:o,barClass:"bg-orange-500"},W.id))})]}),i.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Trễ (",G("Overdue"),")"]}),i.jsx("div",{className:"space-y-4",children:U.filter(W=>W.status==="Overdue").map(W=>i.jsx(Au,{task:W,onClick:()=>c(W),formatDate:o,barClass:"bg-orange-500"},W.id))})]}),i.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Review (",G("Pending Review"),")"]}),i.jsx("div",{className:"space-y-4",children:U.filter(W=>W.status==="Pending Review").map(W=>i.jsx(Au,{task:W,onClick:()=>c(W),formatDate:o,barClass:"bg-orange-500"},W.id))})]}),i.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Hoàn thành (",G("Completed"),")"]}),i.jsx("div",{className:"space-y-4",children:U.filter(W=>W.status==="Completed").map(W=>i.jsx(Au,{task:W,onClick:()=>c(W),formatDate:o,completed:!0},W.id))})]})]})}),n==="calendar"&&i.jsx("div",{className:"mt-6 bg-white p-8 rounded-xl shadow-sm border border-slate-200",children:i.jsx("div",{className:"text-center text-slate-500",children:i.jsx("p",{children:"Giao diện lịch sẽ được phát triển trong tương lai"})})})]})})},O9=({teamDataError:e,teamMembersData:t,selectedMember:n,setSelectedMember:s,formatDate:a,handleTaskClick:o})=>{var W;const c=GL(),[d,h]=_.useState(""),[f,p]=_.useState(1),[g]=_.useState(5),[x,b]=_.useState(""),[j,v]=_.useState(""),[S,N]=_.useState(""),[A,E]=_.useState(1),[T]=_.useState(10),D=_.useMemo(()=>t.filter(Y=>Y.name.toLowerCase().includes(d.toLowerCase())||Y.id.toLowerCase().includes(d.toLowerCase())),[t,d]),C=_.useMemo(()=>{const Y=(f-1)*g;return D.slice(Y,Y+g)},[D,f,g]),z=Math.ceil(D.length/g),U=_.useMemo(()=>{if(!n)return[];const Y=t.find(H=>H.id===n);return Y?Y.tasks.filter(H=>{const F=H.title.toLowerCase().includes(x.toLowerCase())||H.description.toLowerCase().includes(x.toLowerCase())||H.project.toLowerCase().includes(x.toLowerCase()),Z=j===""||H.status===j,ee=S===""||H.type===S;return F&&Z&&ee}):[]},[n,t,x,j,S]),R=_.useMemo(()=>{const Y=(A-1)*T;return U.slice(Y,Y+T)},[U,A,T]),G=Math.ceil(U.length/T);re.useEffect(()=>{E(1)},[x,j,S,n]),re.useEffect(()=>{p(1)},[d]);const q=Y=>{p(Math.max(1,Math.min(Y,z)))},Q=Y=>{E(Math.max(1,Math.min(Y,G)))};return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Dashboard Tổng Quan"}),i.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[i.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Tổng công việc"}),i.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:c.total})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[i.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Đang thực hiện"}),i.jsx("p",{className:"text-3xl font-bold text-orange-500 mt-1",children:c.working})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[i.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Hoàn thành"}),i.jsx("p",{className:"text-3xl font-bold text-emerald-500 mt-1",children:c.completed})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[i.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Trễ hạn"}),i.jsx("p",{className:"text-3xl font-bold text-red-500 mt-1",children:c.overdue})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Quản lý Nhóm"}),((W=e==null?void 0:e.message)==null?void 0:W.includes("PermissionError"))&&i.jsx("div",{className:"mt-4 bg-amber-50 border border-amber-200 rounded-md p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Quyền truy cập hạn chế"}),i.jsx("div",{className:"mt-2 text-sm text-amber-700",children:i.jsx("p",{children:"Không thể truy cập đầy đủ dữ liệu team members. Hiển thị dữ liệu cơ bản từ danh sách users."})})]})]})}),i.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-4 gap-5 items-start",children:[i.jsxs("div",{className:"lg:col-span-1 bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("h3",{className:"font-bold text-slate-800",children:["Thành viên nhóm (",D.length,")"]})}),i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"relative",children:[i.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Tìm kiếm thành viên...",value:d,onChange:Y=>h(Y.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]})}),i.jsx("ul",{className:"space-y-2 mb-4",children:C.map(Y=>i.jsx("li",{onClick:()=>s(Y.id),className:`member-item p-3 border rounded-lg hover:bg-slate-100 cursor-pointer transition-all ${n===Y.id?"active border-indigo-500 bg-indigo-50":"border-transparent"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:Y.avatar,alt:Y.name}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-semibold text-slate-900 truncate",children:Y.name}),i.jsxs("p",{className:"text-sm text-slate-500",children:[Y.taskCount," công việc"]}),i.jsx("p",{className:"text-xs text-slate-400",children:Y.role})]})]})},Y.id))}),z>1&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("button",{onClick:()=>q(f-1),disabled:f===1,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),i.jsxs("span",{className:"text-xs text-slate-500",children:["Trang ",f," / ",z]}),i.jsx("button",{onClick:()=>q(f+1),disabled:f===z,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]}),i.jsx("div",{className:"lg:col-span-3 bg-white p-4 rounded-xl shadow-sm border border-slate-200 min-h-[300px]",children:n?(()=>{const Y=t.find(H=>H.id===n);return Y?i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-bold text-slate-800",children:["Công việc của ",Y.name]}),i.jsxs("span",{className:"text-sm text-slate-500",children:["(",U.length," công việc)"]})]}),i.jsxs("div",{className:"mb-6 space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Tìm kiếm công việc...",value:x,onChange:H=>b(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("select",{value:j,onChange:H=>v(H.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",children:[i.jsx("option",{value:"",children:"Tất cả trạng thái"}),i.jsx("option",{value:"Open",children:"Mở"}),i.jsx("option",{value:"Working",children:"Đang làm"}),i.jsx("option",{value:"Pending Review",children:"Chờ duyệt"}),i.jsx("option",{value:"Completed",children:"Hoàn thành"}),i.jsx("option",{value:"Cancelled",children:"Đã hủy"})]}),i.jsxs("select",{value:S,onChange:H=>N(H.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",children:[i.jsx("option",{value:"",children:"Tất cả loại"}),i.jsx("option",{value:"Task",children:"Task"}),i.jsx("option",{value:"SubTask",children:"SubTask"})]}),(x||j||S)&&i.jsx("button",{onClick:()=>{b(""),v(""),N("")},className:"px-3 py-2 text-sm text-slate-600 hover:text-slate-800 underline",children:"Xóa bộ lọc"})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-2",children:"Tên công việc"}),i.jsx("th",{className:"px-4 py-2",children:"Loại"}),i.jsx("th",{className:"px-4 py-2",children:"Dự án"}),i.jsx("th",{className:"px-4 py-2",children:"Tiến độ"}),i.jsx("th",{className:"px-4 py-2",children:"Hạn chót"}),i.jsx("th",{className:"px-4 py-2",children:"Trạng thái"})]})}),i.jsx("tbody",{children:R.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"text-center py-8 text-slate-500",children:U.length===0&&Y.tasks.length>0?"Không tìm thấy công việc phù hợp với bộ lọc.":"Thành viên này chưa có công việc nào."})}):R.map(H=>i.jsxs("tr",{className:"border-b border-slate-200 cursor-pointer hover:bg-slate-50",onClick:()=>o(H),children:[i.jsxs("td",{className:"px-4 py-3 font-medium text-slate-900",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[H.type==="SubTask"&&i.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414L2.586 7l3.707-3.707a1 1 0 011.414 0z",clipRule:"evenodd"})}),i.jsx("span",{className:"truncate",children:H.title})]}),H.parentTask&&i.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["↳ Subtask của: ",H.parentTask]})]}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${H.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:H.type})}),i.jsx("td",{className:"px-4 py-3 truncate",children:H.project}),i.jsx("td",{className:"px-4 py-3",children:H.taskProgress!==void 0?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-1.5 min-w-[60px]",children:i.jsx("div",{className:"bg-indigo-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${H.taskProgress}%`}})}),i.jsxs("span",{className:"text-xs text-slate-600 font-medium min-w-[2.5rem]",children:[H.taskProgress,"%"]})]}):i.jsx("span",{className:"text-xs text-slate-400",children:"N/A"})}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a(H.dueDate).display}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:`status-badge ${ib(H.status)}`,children:H.status})})]},H.id))})]})}),G>1&&i.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-slate-500",children:["Hiển thị ",(A-1)*T+1," - ",Math.min(A*T,U.length)," trong số ",U.length," công việc"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>Q(A-1),disabled:A===1,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),i.jsxs("span",{className:"text-sm text-slate-600",children:[A," / ",G]}),i.jsx("button",{onClick:()=>Q(A+1),disabled:A===G,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]}):i.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:i.jsx("p",{children:"Không tìm thấy thành viên."})})})():i.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:i.jsxs("div",{className:"text-center",children:[i.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),i.jsx("p",{children:"Chọn một thành viên để xem công việc của họ."})]})})})]})]})]})},A9=({teamDataError:e,teamMembersData:t,selectedMember:n,setSelectedMember:s,formatDate:a,handleTaskClick:o})=>{var jt;const{allTransformedTasks:c,isLoading:d}=Hk({team:""}),{data:h}=At("Team",{fields:["name"],limit:0}),f=(h==null?void 0:h.map(Se=>Se.name).filter(Boolean))||[],{data:p}=At("Project",{fields:["name","project_name","team"],limit:0}),g=_.useMemo(()=>p?p.map(Pe=>Pe.team).filter(Boolean).filter((Pe,qe,Ft)=>Ft.indexOf(Pe)===qe):[],[p]),x=Ot("Team",f[0],f[0]?void 0:{disabled:!0}),b=Ot("Team",f[1],f[1]?void 0:{disabled:!0}),j=Ot("Team",f[2],f[2]?void 0:{disabled:!0}),v=Ot("Team",f[3],f[3]?void 0:{disabled:!0}),S=Ot("Team",f[4],f[4]?void 0:{disabled:!0}),N=Ot("Team",f[5],f[5]?void 0:{disabled:!0}),A=Ot("Team",f[6],f[6]?void 0:{disabled:!0}),E=Ot("Team",f[7],f[7]?void 0:{disabled:!0}),T=Ot("Team",f[8],f[8]?void 0:{disabled:!0}),D=Ot("Team",f[9],f[9]?void 0:{disabled:!0}),C=Ot("Team",f[10],f[10]?void 0:{disabled:!0}),z=Ot("Team",f[11],f[11]?void 0:{disabled:!0}),U=Ot("Team",f[12],f[12]?void 0:{disabled:!0}),R=Ot("Team",f[13],f[13]?void 0:{disabled:!0}),G=Ot("Team",f[14],f[14]?void 0:{disabled:!0}),q=Ot("Team",f[15],f[15]?void 0:{disabled:!0}),Q=Ot("Team",f[16],f[16]?void 0:{disabled:!0}),W=Ot("Team",f[17],f[17]?void 0:{disabled:!0}),Y=Ot("Team",f[18],f[18]?void 0:{disabled:!0}),H=Ot("Team",f[19],f[19]?void 0:{disabled:!0}),F=_.useMemo(()=>{const Se=[];return x.data&&Se.push(x.data),b.data&&Se.push(b.data),j.data&&Se.push(j.data),v.data&&Se.push(v.data),S.data&&Se.push(S.data),N.data&&Se.push(N.data),A.data&&Se.push(A.data),E.data&&Se.push(E.data),T.data&&Se.push(T.data),D.data&&Se.push(D.data),C.data&&Se.push(C.data),z.data&&Se.push(z.data),U.data&&Se.push(U.data),R.data&&Se.push(R.data),G.data&&Se.push(G.data),q.data&&Se.push(q.data),Q.data&&Se.push(Q.data),W.data&&Se.push(W.data),Y.data&&Se.push(Y.data),H.data&&Se.push(H.data),Se},[x.data,b.data,j.data,v.data,S.data,N.data,A.data,E.data,T.data,D.data,C.data,z.data,U.data,R.data,G.data,q.data,Q.data,W.data,Y.data,H.data]),Z=_.useMemo(()=>{const Se={},Pe=[];return F==null||F.forEach(qe=>{var Ft;if(Se[qe.team||qe.name]=[],qe.teamlead){const Xt=t.find(Gt=>Gt.id===qe.teamlead);Xt&&!Se[qe.team||qe.name].find(Gt=>Gt.id===Xt.id)&&Se[qe.team||qe.name].push(oe(L({},Xt),{role:"Leader"}))}(Ft=qe.team_member)==null||Ft.forEach(Xt=>{const Gt=t.find(on=>on.id===Xt.user);Gt&&!Se[qe.team||qe.name].find(on=>on.id===Gt.id)&&Se[qe.team||qe.name].push(oe(L({},Gt),{role:Xt.role||"Member"}))})}),t.forEach(qe=>{Object.values(Se).some(Xt=>Xt.find(Gt=>Gt.id===qe.id))||Pe.push(qe)}),Pe.length>0&&(Se["Không thuộc team nào"]=Pe),Se},[F,t]),[ee,ce]=_.useState(""),[M,ie]=_.useState(null),[se,V]=_.useState(null),[ne,ge]=_.useState({}),he=Se=>{ge(Pe=>oe(L({},Pe),{[Se]:!Pe[Se]}))},Ee=()=>{const Se=Object.values(ne).every(Boolean),Pe={};Object.keys(Z).forEach(qe=>{Pe[qe]=!Se}),ge(Pe)},Ce=Se=>{s(Se),ie(null),V(null)},[Ve,ze]=_.useState(""),[tt,Ke]=_.useState(""),[mt,Ue]=_.useState(""),[gt,Je]=_.useState(1),[Me]=_.useState(10),nt=_.useMemo(()=>{const Se={};return Object.entries(Z).forEach(([Pe,qe])=>{const Ft=qe.filter(Xt=>Xt.name.toLowerCase().includes(ee.toLowerCase())||Xt.id.toLowerCase().includes(ee.toLowerCase()));Ft.length>0&&(Se[Pe]=Ft)}),Se},[Z,ee]),ot=_.useMemo(()=>n?c.filter(Se=>Se.assignee===n):[],[n,c]),K=_.useMemo(()=>{if(!M||n)return[];const Pe=(Z[M]||[]).map(qe=>qe.id);return c.filter(qe=>Pe.includes(qe.assignee))},[M,n,c,Z]),fe=_.useMemo(()=>!se||n||M?[]:c.filter(Se=>{const Pe=p==null?void 0:p.find(qe=>qe.name===Se.project||qe.project_name===Se.project);return Pe&&Pe.team===se}),[se,n,M,c,p]),X=_.useMemo(()=>{let Se=c;n?Se=ot:M?Se=K:se&&(Se=fe);const Pe=Se.length,qe=Se.filter(Gt=>{var on;return((on=Gt.status)==null?void 0:on.toLowerCase())==="working"}).length,Ft=Se.filter(Gt=>{var on;return((on=Gt.status)==null?void 0:on.toLowerCase())==="completed"}).length,Xt=Se.filter(Gt=>{var rs;if(((rs=Gt.status)==null?void 0:rs.toLowerCase())==="completed")return!1;const on=new Date;return new Date(Gt.dueDate)<on}).length;return{total:Pe,working:qe,completed:Ft,overdue:Xt}},[n,ot,M,K,se,fe,c]),Ne=_.useMemo(()=>{let Se=ot;return Ve&&(Se=Se.filter(Pe=>{var qe,Ft,Xt;return((qe=Pe.title)==null?void 0:qe.toLowerCase().includes(Ve.toLowerCase()))||((Ft=Pe.subject)==null?void 0:Ft.toLowerCase().includes(Ve.toLowerCase()))||((Xt=Pe.description)==null?void 0:Xt.toLowerCase().includes(Ve.toLowerCase()))})),tt&&(Se=Se.filter(Pe=>Pe.status===tt)),mt&&(Se=Se.filter(Pe=>Pe.type===mt||Pe.referenceType===mt)),Se},[ot,Ve,tt,mt]),Le=_.useMemo(()=>{const Se=(gt-1)*Me;return Ne.slice(Se,Se+Me)},[Ne,gt,Me]),Re=Math.ceil(Ne.length/Me),He=Se=>{Je(Math.max(1,Math.min(Se,Re)))};re.useEffect(()=>{Je(1)},[n]),re.useEffect(()=>{n&&(ie(null),V(null))},[n]),re.useEffect(()=>{se&&(s(null),ie(null))},[se]),re.useEffect(()=>{if(Object.keys(Z).length>0&&Object.keys(ne).length===0){const Se={};Object.keys(Z).forEach(Pe=>{Se[Pe]=!0}),ge(Se)}},[Z,ne]);const Ye=_.useMemo(()=>[...new Set(ot.map(Se=>Se.status).filter(Boolean))],[ot]),et=_.useMemo(()=>[...new Set(ot.map(Se=>Se.type||Se.referenceType).filter(Boolean))],[ot]);return e?i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Lỗi khi tải dữ liệu nhóm: ",e.message]})}):i.jsxs("div",{className:"admin-view",children:[i.jsxs("section",{className:"mb-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:n?`Thống kê công việc - ${((jt=t.find(Se=>Se.id===n))==null?void 0:jt.name)||n}`:M?`Thống kê công việc - Team ${M}`:se?`Thống kê công việc - Project Team ${se}`:"Dashboard Tổng Quan - Toàn hệ thống"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Lọc theo Project Team:"}),i.jsxs("select",{value:se||"",onChange:Se=>{const Pe=Se.target.value||null;V(Pe),Pe&&(s(null),ie(null))},className:"px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm min-w-[200px]",children:[i.jsx("option",{value:"",children:"Tất cả Project Teams"}),g.map(Se=>i.jsx("option",{value:Se,children:Se},Se))]}),se&&i.jsx("button",{onClick:()=>V(null),className:"px-2 py-1 text-xs bg-slate-100 text-slate-600 rounded hover:bg-slate-200 transition-colors",title:"Xóa bộ lọc",children:"✕"})]})]}),i.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[i.jsx("p",{className:"text-sm text-center font-medium text-slate-500",children:"Tổng công việc"}),i.jsx("p",{className:"text-3xl text-center font-bold text-slate-900 mt-1",children:X.total})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[i.jsx("p",{className:"text-sm text-center font-medium text-slate-500",children:"Đang thực hiện"}),i.jsx("p",{className:"text-3xl text-center font-bold text-orange-500 mt-1",children:X.working})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[i.jsx("p",{className:"text-sm text-center font-medium text-slate-500",children:"Hoàn thành"}),i.jsx("p",{className:"text-3xl text-center font-bold text-emerald-500 mt-1",children:X.completed})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[i.jsx("p",{className:"text-sm text-center font-medium text-slate-500",children:"Trễ hạn"}),i.jsx("p",{className:"text-3xl text-center font-bold text-red-500 mt-1",children:X.overdue})]})]})]}),i.jsx("section",{children:i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[i.jsx("div",{className:"p-6 border-b border-slate-200",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"📋 Quản lý toàn bộ công việc (Admin)"}),i.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Xem và quản lý công việc của tất cả thành viên trong hệ thống"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"text-slate-500",children:"Tổng số thành viên:"}),i.jsx("span",{className:"font-semibold text-slate-700",children:t.length})]})]})}),i.jsxs("div",{className:"flex flex-col lg:flex-row h-[600px]",children:[i.jsxs("div",{className:"lg:w-1/3 border-r border-slate-200 p-4",children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex gap-2 mb-3",children:[i.jsx("input",{type:"text",placeholder:"🔍 Tìm kiếm thành viên...",value:ee,onChange:Se=>{ce(Se.target.value)},className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),i.jsx("button",{onClick:Ee,className:"px-3 py-2 text-xs bg-slate-100 text-slate-700 border border-slate-300 rounded-lg hover:bg-slate-200 transition-colors whitespace-nowrap",children:Object.values(ne).every(Boolean)?"📁 Thu gọn":"📂 Mở rộng"})]})}),i.jsx("div",{className:"space-y-4 mb-4 h-[400px] overflow-y-auto",children:d?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):Object.keys(nt).length===0?i.jsxs("div",{className:"text-center py-8 text-slate-500",children:[i.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),i.jsx("p",{children:"Không tìm thấy thành viên nào."})]}):Object.entries(nt).map(([Se,Pe])=>i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:`flex items-center mb-2 px-2 py-2 rounded-lg cursor-pointer transition-colors ${M===Se&&!n?"bg-blue-100 border border-blue-300 hover:bg-blue-200":"bg-slate-100 hover:bg-slate-200"}`,onClick:()=>he(Se),children:i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx("svg",{className:`w-4 h-4 text-slate-600 transition-transform ${ne[Se]?"rotate-90":"rotate-0"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:Se}),i.jsxs("p",{className:"text-xs text-slate-500",children:[Pe.length," thành viên"]})]}),i.jsx("button",{onClick:qe=>{qe.stopPropagation(),ie(Se),s(null)},className:`p-1.5 rounded-md transition-colors hover:bg-blue-200 ${M===Se&&!n?"bg-blue-200 text-blue-700":"text-slate-500 hover:text-blue-600"}`,title:"Xem thống kê team",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),ne[Se]&&i.jsx("div",{className:"space-y-2 ml-6 animate-in slide-in-from-top-2 duration-200",children:Pe.map(qe=>i.jsx("div",{onClick:()=>Ce(qe.id),className:`p-3 rounded-lg border cursor-pointer transition-all ${n===qe.id?"border-blue-500 bg-blue-50 shadow-sm":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-medium",children:qe.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"font-medium text-slate-800 truncate text-sm",children:qe.name}),qe.role==="Leader"&&i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Leader"})]}),i.jsx("p",{className:"text-xs text-slate-500 truncate",children:qe.id})]}),n===qe.id&&i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})},qe.id))})]},Se))})]}),i.jsx("div",{className:"lg:w-2/3 p-4 flex flex-col",children:n?(()=>{const Se=t.find(Pe=>Pe.id===n);return i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-medium",children:Se==null?void 0:Se.name.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-800",children:Se==null?void 0:Se.name}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Công việc được giao: ",ot.length]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[i.jsx("input",{type:"text",placeholder:"🔍 Tìm kiếm công việc...",value:Ve,onChange:Pe=>{ze(Pe.target.value),Je(1)},className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),i.jsxs("select",{value:tt,onChange:Pe=>{Ke(Pe.target.value),Je(1)},className:"px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[i.jsx("option",{value:"",children:"Tất cả trạng thái"}),Ye.map(Pe=>i.jsx("option",{value:Pe,children:Pe},Pe))]}),i.jsxs("select",{value:mt,onChange:Pe=>{Ue(Pe.target.value),Je(1)},className:"px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[i.jsx("option",{value:"",children:"Tất cả loại"}),et.map(Pe=>i.jsx("option",{value:Pe,children:Pe},Pe))]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50 sticky top-0",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Công việc"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Dự án"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Loại"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Hạn chót"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Trạng thái"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:d?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-4 py-8 text-center",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),i.jsx("span",{className:"ml-2 text-slate-500",children:"Đang tải..."})]})})}):Le.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-slate-500",children:Ne.length===0&&ot.length===0?"Thành viên này chưa có công việc nào.":"Không tìm thấy công việc phù hợp với bộ lọc."})}):Le.map(Pe=>i.jsxs("tr",{onClick:()=>o(Pe),className:"hover:bg-slate-50 cursor-pointer transition-colors",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"max-w-xs",children:[i.jsx("div",{className:"font-medium text-slate-900 truncate text-sm",children:Pe.title||Pe.subject}),Pe.description&&i.jsx("div",{className:"text-slate-500 text-xs truncate mt-1",children:Pe.description})]})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"text-sm text-slate-600 truncate block max-w-[100px]",children:Pe.project||Pe.project_name||"N/A"})}),i.jsx("td",{className:"px-4 py-3",children:Pe.type==="SubTask"||Pe.referenceType==="SubTask"?i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"SubTask"}):i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Task"})}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a(Pe.dueDate).display}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:`status-badge ${ib(Pe.status)}`,children:Pe.status})})]},Pe.id))})]})}),Re>1&&i.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-slate-500",children:["Hiển thị ",(gt-1)*Me+1," - ",Math.min(gt*Me,Ne.length)," trong số ",Ne.length," công việc"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>He(gt-1),disabled:gt===1,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),i.jsxs("span",{className:"text-sm text-slate-600",children:[gt," / ",Re]}),i.jsx("button",{onClick:()=>He(gt+1),disabled:gt===Re,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]})})():i.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:i.jsxs("div",{className:"text-center",children:[i.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),i.jsx("p",{children:"Chọn một thành viên để xem công việc của họ."})]})})})]})]})})]})},R9=({error:e})=>i.jsx(i.Fragment,{children:e&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:i.jsx("div",{className:"flex",children:i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading tasks"}),i.jsx("div",{className:"mt-2 text-sm text-red-700",children:i.jsx("p",{children:e.message||"Failed to load your tasks. Please try again."})})]})})})}),M9=()=>{const[e,t]=re.useState("user"),[n,s]=re.useState("list"),[a,o]=re.useState(null),c=Cs().currentUser==="Administrator",[d,h]=re.useState(!1),[f,p]=re.useState(null),{tasks:g,subTasks:x,isLoading:b,error:j,mutate:v,currentUser:S}=YL(),{data:N}=At("Team",{filters:[["teamlead","=",S||""]]}),A=N&&N.length>0?"Leader":"Member";re.useEffect(()=>{c?t("admin"):A==="Leader"&&t("leader")},[A,c]);const E=re.useMemo(()=>{const W=[];return g.forEach(Y=>{var H;W.push({id:Y.name,title:Y.subject||"Untitled Task",description:Y.description||"No description available",project:Y.project_name||Y.project||"Unknown Project",assignee:S||"Unknown",status:Y.status||"Open",priority:Y.priority||"Medium",dueDate:Y.exp_end_date||new Date().toISOString().split("T")[0],labels:[Y.type||"Task"],todoId:((H=Y.assignedTodo)==null?void 0:H.name)||"",referenceName:Y.name,referenceType:"Task",type:"Task",taskProgress:Y.progress,expectedTime:Y.expected_time,actualTime:Y.actual_time,startDate:Y.exp_start_date,endDate:Y.exp_end_date})}),x.forEach(Y=>{var H;W.push({id:Y.name,title:Y.subject||"Untitled SubTask",description:Y.description||"No description available",project:Y.project_name||"Unknown Project",assignee:S||"Unknown",status:Y.status||"Open",priority:"Medium",dueDate:Y.end_date||new Date().toISOString().split("T")[0],labels:["SubTask"],todoId:((H=Y.assignedTodo)==null?void 0:H.name)||"",referenceName:Y.name,referenceType:"SubTask",type:"SubTask",parentTask:Y.task_subject,startDate:Y.start_date,endDate:Y.end_date})}),W.sort((Y,H)=>new Date(H.dueDate).getTime()-new Date(Y.dueDate).getTime())},[g,x,S]),{teamMembersData:T,error:D}=Hk({team:N&&N.length>0?N[0].name:""}),{data:C}=At("User",{fields:["name","full_name","first_name","last_name"],filters:[["enabled","=",1]],limit:0}),z=re.useMemo(()=>!c||!C?T:C.map(W=>({id:W.name,name:W.full_name||W.first_name||W.name,role:"Member",taskCount:0,avatar:"",tasks:[],user:W})),[c,C,T]),U=W=>{const Y=new Date(W),F=Y<new Date,Z=Y.toLocaleDateString("vi-VN");return{formatted:Z,isOverdue:F,display:F?`${Z} (Trễ)`:Z}},R=()=>{v()},G=W=>{p(W),h(!0)},q=()=>{h(!1),p(null)},Q=()=>{v()};return i.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-slate-50 text-slate-800",children:[i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx(T9,{role:A,currentView:e,setCurrentView:t}),i.jsx(R9,{error:j}),i.jsxs("main",{children:[e==="user"&&i.jsx(D9,{isLoading:b,handleRefresh:R,activeTab:n,setActiveTab:s,transformedTasks:E,formatDate:U,handleTaskClick:G}),e==="leader"&&A==="Leader"&&i.jsx(O9,{teamDataError:D,teamMembersData:T,selectedMember:a,setSelectedMember:o,formatDate:U,handleTaskClick:G}),e==="admin"&&c&&i.jsx(A9,{teamDataError:D,teamMembersData:z,selectedMember:a,setSelectedMember:o,formatDate:U,handleTaskClick:G})]})]}),i.jsx(S9,{task:f,isOpen:d,onClose:q,onSuccess:Q,isLeader:A==="Leader"})]})},P9=[{id:"1",name:"Tài liệu kỹ thuật dự án UAV",type:"PDF",size:"2.5 MB",lastModified:"2024-01-15",author:"Nguyễn Văn A",category:"Kỹ thuật",status:"active"},{id:"2",name:"Báo cáo tiến độ tháng 1",type:"DOCX",size:"1.2 MB",lastModified:"2024-01-14",author:"Trần Thị B",category:"Báo cáo",status:"active"},{id:"3",name:"Quy trình nghiên cứu IoT",type:"PDF",size:"3.1 MB",lastModified:"2024-01-13",author:"Lê Văn C",category:"Quy trình",status:"draft"}],L9=["Tất cả","Kỹ thuật","Báo cáo","Quy trình","Hướng dẫn"],z9=["Tất cả","PDF","DOCX","XLSX","PPTX"],U9=()=>{const[e]=_.useState(P9),[t,n]=_.useState(""),[s,a]=_.useState("Tất cả"),[o,c]=_.useState("Tất cả"),d=e.filter(p=>{const g=p.name.toLowerCase().includes(t.toLowerCase())||p.author.toLowerCase().includes(t.toLowerCase()),x=s==="Tất cả"||p.category===s,b=o==="Tất cả"||p.type===o;return g&&x&&b}),h=p=>{switch(p){case"active":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},f=p=>{switch(p){case"active":return"Hoạt động";case"draft":return"Bản nháp";case"archived":return"Lưu trữ";default:return p}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tài liệu"}),i.jsx("p",{className:"text-gray-600",children:"Quản lý biểu mẫu và tài liệu"})]}),i.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[i.jsx(qr,{className:"h-4 w-4"}),"Tải lên tài liệu"]})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx("input",{type:"text",placeholder:"Tìm kiếm tài liệu...",value:t,onChange:p=>n(p.target.value),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsx("div",{children:i.jsx("select",{value:s,onChange:p=>a(p.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:L9.map(p=>i.jsx("option",{value:p,children:p},p))})}),i.jsx("div",{children:i.jsx("select",{value:o,onChange:p=>c(p.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:z9.map(p=>i.jsx("option",{value:p,children:p},p))})}),i.jsxs("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[i.jsx(Z0,{className:"h-4 w-4"}),"Tải lên"]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tên tài liệu"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loại"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kích thước"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tác giả"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cập nhật"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(p=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Tr,{className:"h-5 w-5 text-blue-500 mr-3"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.name}),i.jsx("div",{className:"text-sm text-gray-500",children:p.category})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.type}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.size}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.author}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.lastModified}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(p.status)}`,children:f(p.status)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1",children:i.jsx(ny,{className:"h-4 w-4"})}),i.jsx("button",{className:"text-green-600 hover:text-green-900 p-1",children:i.jsx(tc,{className:"h-4 w-4"})}),i.jsx("button",{className:"text-gray-600 hover:text-gray-900 p-1",children:i.jsx(Bo,{className:"h-4 w-4"})}),i.jsx("button",{className:"text-red-600 hover:text-red-900 p-1",children:i.jsx(Bi,{className:"h-4 w-4"})})]})})]},p.id))})]})})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Tr,{className:"h-8 w-8 text-blue-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng tài liệu"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Z0,{className:"h-8 w-8 text-green-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Hoạt động"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(p=>p.status==="active").length})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Bo,{className:"h-8 w-8 text-yellow-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Bản nháp"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(p=>p.status==="draft").length})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(tc,{className:"h-8 w-8 text-purple-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Lượt tải"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"1,234"})]})]})})]})]})},B9=[{id:"1",project:"Hệ thống Điều khiển UAV Tự động",category:"Thiết kế Chi tiết",planned:5e8,actual:36e7,remaining:14e7,status:"on-track",lastUpdated:"2024-01-15"},{id:"2",project:"Cảm biến Nhiệt độ IoT",category:"Nghiên cứu Tính khả thi",planned:2e8,actual:24e7,remaining:-4e7,status:"over-budget",lastUpdated:"2024-01-16"},{id:"3",project:"Platform AI cho Robot",category:"Phát triển Sản phẩm",planned:8e8,remaining:576e6,actual:224e6,status:"under-budget",lastUpdated:"2024-01-14"}],F9=["Tất cả","Thiết kế Chi tiết","Nghiên cứu Tính khả thi","Phát triển Sản phẩm"],$9=()=>{const[e]=_.useState(B9),[t,n]=_.useState("Tất cả"),s=e.filter(x=>t==="Tất cả"||x.category===t),a=e.reduce((x,b)=>x+b.planned,0),o=e.reduce((x,b)=>x+b.actual,0),c=e.reduce((x,b)=>x+b.remaining,0),d=Math.round(o/a*100),h=x=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0}).format(x).replace("₫","đ"),f=x=>{switch(x){case"on-track":return"bg-green-100 text-green-800";case"over-budget":return"bg-red-100 text-red-800";case"under-budget":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},p=x=>{switch(x){case"on-track":return"Đúng kế hoạch";case"over-budget":return"Vượt ngân sách";case"under-budget":return"Dưới ngân sách";default:return x}},g=x=>{switch(x){case"on-track":return i.jsx(Xl,{className:"h-4 w-4 text-green-600"});case"over-budget":return i.jsx(R1,{className:"h-4 w-4 text-red-600"});case"under-budget":return i.jsx(Xl,{className:"h-4 w-4 text-blue-600"});default:return i.jsx(Ui,{className:"h-4 w-4 text-gray-600"})}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ngân sách"}),i.jsx("p",{className:"text-gray-600",children:"Quản lý chi phí và ngân sách"})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[i.jsx(tc,{className:"h-4 w-4"}),"Xuất báo cáo"]}),i.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[i.jsx(qr,{className:"h-4 w-4"}),"Thêm ngân sách"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng ngân sách"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(a)}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Kế hoạch năm 2024"})]}),i.jsx(Uo,{className:"h-8 w-8 text-blue-500"})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã sử dụng"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(o)}),i.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[d,"% đã sử dụng"]})]}),i.jsx(Xl,{className:"h-8 w-8 text-green-500"})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Còn lại"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(c)}),i.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[100-d,"% còn lại"]})]}),i.jsx(R1,{className:"h-8 w-8 text-purple-500"})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Dự án vượt ngân sách"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.filter(x=>x.status==="over-budget").length}),i.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Cần chú ý"})]}),i.jsx(Ui,{className:"h-8 w-8 text-red-500"})]})})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(ld,{className:"h-5 w-5 text-gray-400"}),i.jsx("select",{value:t,onChange:x=>n(x.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:F9.map(x=>i.jsx("option",{value:x,children:x},x))})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dự án"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Giai đoạn"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kế hoạch"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thực tế"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Còn lại"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tiến độ"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cập nhật"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(x=>{const b=Math.round(x.actual/x.planned*100);return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.project})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-500",children:x.category})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:h(x.planned)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:h(x.actual)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:i.jsx("span",{className:x.remaining<0?"text-red-600":"text-gray-900",children:h(x.remaining)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${b>100?"bg-red-500":b>80?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(b,100)}%`}})}),i.jsxs("span",{className:"ml-2 text-xs text-gray-600",children:[b,"%"]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"flex items-center justify-center",children:i.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${f(x.status)}`,children:[g(x.status),i.jsx("span",{className:"ml-1",children:p(x.status)})]})})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-500",children:x.lastUpdated})]},x.id)})})]})})}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Biểu đồ ngân sách theo thời gian"}),i.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:i.jsx("p",{className:"text-gray-500",children:"Biểu đồ sẽ được hiển thị tại đây"})})]})]})},H9=[{id:"1",title:"Thiếu linh kiện cảm biến chính",project:"Hệ thống Điều khiển UAV Tự động",category:"Kỹ thuật",probability:"high",impact:"high",status:"mitigating",owner:"Nguyễn Văn A",description:"Nhà cung cấp chính gặp vấn đề sản xuất, có thể ảnh hưởng đến tiến độ dự án",mitigation:"Tìm nhà cung cấp thay thế và đàm phán gia hạn giao hàng",createdDate:"2024-01-10",dueDate:"2024-02-15"},{id:"2",title:"Thay đổi yêu cầu từ khách hàng",project:"Cảm biến Nhiệt độ IoT",category:"Yêu cầu",probability:"medium",impact:"medium",status:"analyzing",owner:"Trần Thị B",description:"Khách hàng có thể thay đổi thông số kỹ thuật trong quá trình phát triển",mitigation:"Thiết lập quy trình quản lý thay đổi chặt chẽ",createdDate:"2024-01-12",dueDate:"2024-01-30"},{id:"3",title:"Nhân sự chủ chốt nghỉ việc",project:"Platform AI cho Robot",category:"Nhân sự",probability:"low",impact:"high",status:"identified",owner:"Lê Văn C",description:"Rủi ro mất đi nhân sự có kinh nghiệm trong quá trình phát triển",mitigation:"Xây dựng kế hoạch đào tạo và chuyển giao kiến thức",createdDate:"2024-01-08",dueDate:"2024-03-01"}],V9=["Tất cả","Kỹ thuật","Yêu cầu","Nhân sự","Tài chính","Lịch trình"],I9=["Tất cả","identified","analyzing","mitigating","closed"],q9=()=>{const[e]=_.useState(H9),[t,n]=_.useState(""),[s,a]=_.useState("Tất cả"),[o,c]=_.useState("Tất cả"),d=e.filter(E=>{const T=E.title.toLowerCase().includes(t.toLowerCase())||E.project.toLowerCase().includes(t.toLowerCase()),D=s==="Tất cả"||E.category===s,C=o==="Tất cả"||E.status===o;return T&&D&&C}),h=(E,T)=>{const z=(E==="high"?3:E==="medium"?2:1)*(T==="high"?3:T==="medium"?2:1);return z>=6?{level:"Cao",color:"bg-red-100 text-red-800"}:z>=3?{level:"Trung bình",color:"bg-yellow-100 text-yellow-800"}:{level:"Thấp",color:"bg-green-100 text-green-800"}},f=E=>{switch(E){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},p=E=>{switch(E){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},g=E=>{switch(E){case"identified":return"bg-blue-100 text-blue-800";case"analyzing":return"bg-yellow-100 text-yellow-800";case"mitigating":return"bg-orange-100 text-orange-800";case"closed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},x=E=>{switch(E){case"identified":return"Đã xác định";case"analyzing":return"Đang phân tích";case"mitigating":return"Đang giảm thiểu";case"closed":return"Đã đóng";default:return E}},b=E=>{switch(E){case"high":return"Cao";case"medium":return"Trung bình";case"low":return"Thấp";default:return E}},j=E=>{switch(E){case"high":return"Cao";case"medium":return"Trung bình";case"low":return"Thấp";default:return E}},v=e.filter(E=>h(E.probability,E.impact).level==="Cao").length,S=e.filter(E=>h(E.probability,E.impact).level==="Trung bình").length,N=e.filter(E=>h(E.probability,E.impact).level==="Thấp").length,A=e.filter(E=>E.status!=="closed").length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Rủi ro"}),i.jsx("p",{className:"text-gray-600",children:"Quản lý rủi ro dự án"})]}),i.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[i.jsx(qr,{className:"h-4 w-4"}),"Thêm rủi ro"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(oc,{className:"h-8 w-8 text-red-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rủi ro cao"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:v})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ny,{className:"h-8 w-8 text-yellow-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rủi ro trung bình"}),i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:S})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(iS,{className:"h-8 w-8 text-green-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rủi ro thấp"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:N})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Xl,{className:"h-8 w-8 text-blue-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang xử lý"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:A})]})]})})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx("input",{type:"text",placeholder:"Tìm kiếm rủi ro...",value:t,onChange:E=>n(E.target.value),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsx("div",{children:i.jsx("select",{value:s,onChange:E=>a(E.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:V9.map(E=>i.jsx("option",{value:E,children:E},E))})}),i.jsx("div",{children:i.jsx("select",{value:o,onChange:E=>c(E.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:I9.map(E=>i.jsx("option",{value:E,children:E==="Tất cả"?"Tất cả trạng thái":x(E)},E))})})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rủi ro"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dự án"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Xác suất"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tác động"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mức độ"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Người phụ trách"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hạn xử lý"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(E=>{const T=h(E.probability,E.impact);return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.title}),i.jsx("div",{className:"text-sm text-gray-500 mt-1",children:E.category})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"text-sm text-gray-900",children:E.project})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:i.jsx("span",{className:`text-sm font-medium ${f(E.probability)}`,children:b(E.probability)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:i.jsx("span",{className:`text-sm font-medium ${p(E.impact)}`,children:j(E.impact)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${T.color}`,children:T.level})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g(E.status)}`,children:x(E.status)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.owner}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-500",children:E.dueDate})]},E.id)})})]})})}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Ma trận rủi ro"}),i.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:i.jsx("p",{className:"text-gray-500",children:"Ma trận rủi ro sẽ được hiển thị tại đây"})})]})]})},W9=[{id:"1",title:"Gate Review 4 - UAV Control System",type:"gate-review",project:"Hệ thống Điều khiển UAV Tự động",date:"2024-01-15",time:"09:00",duration:120,location:"Phòng họp A",attendees:["Nguyễn Văn A","Trần Thị B","Lê Văn C"],status:"scheduled",description:"Đánh giá tiến độ và chất lượng giai đoạn Thiết kế Chi tiết",isOnline:!1},{id:"2",title:"Weekly Progress Meeting",type:"progress",project:"Cảm biến Nhiệt độ IoT",date:"2024-01-16",time:"14:00",duration:60,location:"Microsoft Teams",attendees:["Trần Thị B","Phạm Văn D"],status:"scheduled",description:"Họp tiến độ hàng tuần cho dự án IoT",isOnline:!0,meetingLink:"https://teams.microsoft.com/..."},{id:"3",title:"Technical Review - AI Platform",type:"technical",project:"Platform AI cho Robot",date:"2024-01-18",time:"10:30",duration:90,location:"Phòng họp B",attendees:["Lê Văn C","Hoàng Thị E","Vũ Văn F"],status:"completed",description:"Đánh giá kỹ thuật kiến trúc hệ thống AI",isOnline:!1}],Y9=[{value:"all",label:"Tất cả cuộc họp"},{value:"gate-review",label:"Gate Review"},{value:"progress",label:"Họp tiến độ"},{value:"planning",label:"Họp lập kế hoạch"},{value:"technical",label:"Họp kỹ thuật"}],X9=()=>{const[e]=_.useState(W9),[t,n]=_.useState("all"),[s,a]=_.useState("list"),o=e.filter(v=>t==="all"||v.type===t),c=v=>{switch(v){case"gate-review":return"bg-red-100 text-red-800";case"progress":return"bg-blue-100 text-blue-800";case"planning":return"bg-green-100 text-green-800";case"technical":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},d=v=>{switch(v){case"gate-review":return"Gate Review";case"progress":return"Họp tiến độ";case"planning":return"Lập kế hoạch";case"technical":return"Kỹ thuật";default:return v}},h=v=>{switch(v){case"scheduled":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=v=>{switch(v){case"scheduled":return"Đã lên lịch";case"in-progress":return"Đang diễn ra";case"completed":return"Hoàn thành";case"cancelled":return"Đã hủy";default:return v}},p=v=>new Date(v).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),g=e.filter(v=>v.date==="2024-01-15").length,x=e.filter(v=>v.status==="scheduled").length,b=e.filter(v=>v.status==="completed").length,j=e.filter(v=>v.type==="gate-review").length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Lịch họp"}),i.jsx("p",{className:"text-gray-600",children:"Quản lý cuộc họp và gate review"})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>a("list"),className:`px-3 py-1 rounded text-sm transition-colors ${s==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Danh sách"}),i.jsx("button",{onClick:()=>a("calendar"),className:`px-3 py-1 rounded text-sm transition-colors ${s==="calendar"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Lịch"})]}),i.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[i.jsx(qr,{className:"h-4 w-4"}),"Tạo cuộc họp"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ys,{className:"h-8 w-8 text-blue-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Hôm nay"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(zo,{className:"h-8 w-8 text-green-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sắp tới"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(aS,{className:"h-8 w-8 text-purple-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã hoàn thành"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Tr,{className:"h-8 w-8 text-red-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Gate Review"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j})]})]})})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Loại cuộc họp:"}),i.jsx("select",{value:t,onChange:v=>n(v.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:Y9.map(v=>i.jsx("option",{value:v.value,children:v.label},v.value))})]})}),s==="list"?i.jsx("div",{className:"space-y-4",children:o.map(v=>i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.title}),i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(v.type)}`,children:d(v.type)}),i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(v.status)}`,children:f(v.status)})]}),i.jsx("p",{className:"text-gray-600 mb-3",children:v.description}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ys,{className:"h-4 w-4 mr-2"}),p(v.date)]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(zo,{className:"h-4 w-4 mr-2"}),v.time," (",v.duration," phút)"]}),i.jsxs("div",{className:"flex items-center",children:[v.isOnline?i.jsx(M1,{className:"h-4 w-4 mr-2"}):i.jsx(L4,{className:"h-4 w-4 mr-2"}),v.location]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Gl,{className:"h-4 w-4 mr-2"}),v.attendees.length," người tham gia"]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Dự án: ",i.jsx("span",{className:"font-medium",children:v.project})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:v.attendees.map((S,N)=>i.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:S},N))})]})]}),i.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[v.isOnline&&v.meetingLink&&i.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm flex items-center gap-1",children:[i.jsx(M1,{className:"h-3 w-3"}),"Tham gia"]}),i.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:"Chi tiết"})]})]})},v.id))}):i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Lịch cuộc họp"}),i.jsx("div",{className:"h-96 bg-gray-50 rounded-lg flex items-center justify-center",children:i.jsx("p",{className:"text-gray-500",children:"Lịch cuộc họp sẽ được hiển thị tại đây"})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cuộc họp sắp tới"}),i.jsx("div",{className:"space-y-3",children:e.filter(v=>v.status==="scheduled").slice(0,3).map(v=>i.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:v.title}),i.jsxs("p",{className:"text-xs text-gray-500",children:[v.date," - ",v.time]})]})]},v.id))})]})]})},G9=[{id:"1",name:"Báo cáo tiến độ dự án tháng 1",type:"project",description:"Tổng hợp tiến độ thực hiện các dự án R&D trong tháng 1/2024",lastGenerated:"2024-01-15",status:"ready",format:"PDF"},{id:"2",name:"Phân tích chi phí quý 1",type:"financial",description:"Báo cáo chi tiết về tình hình tài chính và ngân sách dự án",lastGenerated:"2024-01-14",status:"ready",format:"Excel"},{id:"3",name:"Báo cáo hiệu suất nhân sự",type:"resource",description:"Đánh giá hiệu suất làm việc và phân bổ nguồn lực",lastGenerated:"2024-01-13",status:"generating",format:"PowerPoint"},{id:"4",name:"Dashboard KPI tổng quan",type:"performance",description:"Các chỉ số hiệu suất chính của tổ chức",lastGenerated:"2024-01-12",status:"ready",format:"PDF"}],K9=[{value:"all",label:"Tất cả báo cáo",icon:Tr},{value:"project",label:"Báo cáo dự án",icon:Uh},{value:"financial",label:"Báo cáo tài chính",icon:Uo},{value:"resource",label:"Báo cáo nguồn lực",icon:Gl},{value:"performance",label:"Báo cáo hiệu suất",icon:Xl}],Q9=()=>{const[e]=_.useState(G9),[t,n]=_.useState("all"),[s,a]=_.useState("this-month"),o=e.filter(v=>t==="all"||v.type===t),c=v=>{switch(v){case"project":return"bg-blue-100 text-blue-800";case"financial":return"bg-green-100 text-green-800";case"resource":return"bg-purple-100 text-purple-800";case"performance":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},d=v=>{switch(v){case"project":return"Dự án";case"financial":return"Tài chính";case"resource":return"Nguồn lực";case"performance":return"Hiệu suất";default:return v}},h=v=>{switch(v){case"ready":return"bg-green-100 text-green-800";case"generating":return"bg-yellow-100 text-yellow-800";case"error":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=v=>{switch(v){case"ready":return"Sẵn sàng";case"generating":return"Đang tạo";case"error":return"Lỗi";default:return v}},p=v=>{switch(v){case"PDF":return"📄";case"Excel":return"📊";case"PowerPoint":return"📽️";default:return"📄"}},g=e.filter(v=>v.status==="ready").length,x=e.filter(v=>v.status==="generating").length,b=e.filter(v=>v.type==="project").length,j=e.filter(v=>v.type==="financial").length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Báo cáo"}),i.jsx("p",{className:"text-gray-600",children:"Báo cáo và thống kê"})]}),i.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[i.jsx(Tr,{className:"h-4 w-4"}),"Tạo báo cáo mới"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Tr,{className:"h-8 w-8 text-green-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Báo cáo sẵn sàng"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Uh,{className:"h-8 w-8 text-yellow-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang tạo"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(QM,{className:"h-8 w-8 text-blue-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Báo cáo dự án"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Uo,{className:"h-8 w-8 text-purple-500"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Báo cáo tài chính"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j})]})]})})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại báo cáo"}),i.jsx("select",{value:t,onChange:v=>n(v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:K9.map(v=>i.jsx("option",{value:v.value,children:v.label},v.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thời gian"}),i.jsxs("select",{value:s,onChange:v=>a(v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"this-week",children:"Tuần này"}),i.jsx("option",{value:"this-month",children:"Tháng này"}),i.jsx("option",{value:"this-quarter",children:"Quý này"}),i.jsx("option",{value:"this-year",children:"Năm này"}),i.jsx("option",{value:"custom",children:"Tùy chọn"})]})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[i.jsx(ld,{className:"h-4 w-4"}),"Lọc"]})})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[i.jsx(Uh,{className:"h-8 w-8 text-blue-500 mb-3"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo tiến độ"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tổng quan tiến độ các dự án"})]}),i.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[i.jsx(Uo,{className:"h-8 w-8 text-green-500 mb-3"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo tài chính"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Chi phí và ngân sách"})]}),i.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[i.jsx(Gl,{className:"h-8 w-8 text-purple-500 mb-3"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo nhân sự"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Hiệu suất và phân bổ"})]}),i.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[i.jsx(Xl,{className:"h-8 w-8 text-orange-500 mb-3"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Dashboard KPI"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Chỉ số hiệu suất"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo gần đây"})}),i.jsx("div",{className:"divide-y divide-gray-200",children:o.map(v=>i.jsx("div",{className:"p-6 hover:bg-gray-50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900",children:v.name}),i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(v.type)}`,children:d(v.type)}),i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(v.status)}`,children:f(v.status)})]}),i.jsx("p",{className:"text-gray-600 mb-2",children:v.description}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ys,{className:"h-4 w-4 mr-1"}),"Tạo: ",v.lastGenerated]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"mr-1",children:p(v.format)}),v.format]})]})]}),i.jsxs("div",{className:"flex space-x-2 ml-4",children:[v.status==="ready"&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm flex items-center gap-1",children:[i.jsx(tc,{className:"h-3 w-3"}),"Tải xuống"]}),i.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:"Xem"})]}),v.status==="generating"&&i.jsxs("div",{className:"flex items-center text-yellow-600",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-yellow-600 border-t-transparent mr-2"}),"Đang tạo..."]}),i.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:"Tạo lại"})]})]})},v.id))})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tiến độ dự án theo thời gian"}),i.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:i.jsx("p",{className:"text-gray-500",children:"Biểu đồ tiến độ sẽ được hiển thị tại đây"})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Phân bổ ngân sách theo dự án"}),i.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:i.jsx("p",{className:"text-gray-500",children:"Biểu đồ ngân sách sẽ được hiển thị tại đây"})})]})]})]})},Ik=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông tin tổ chức"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên tổ chức"}),i.jsx("input",{type:"text",defaultValue:"R&D Management",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email liên hệ"}),i.jsx("input",{type:"email",defaultValue:"admin@company.com",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),i.jsx("input",{type:"tel",defaultValue:"+84 123 456 789",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Múi giờ"}),i.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"Asia/Ho_Chi_Minh",children:"UTC+7 (Việt Nam)"}),i.jsx("option",{value:"UTC",children:"UTC"}),i.jsx("option",{value:"Asia/Tokyo",children:"UTC+9 (Nhật Bản)"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cài đặt hệ thống"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Cho phép đăng ký mới"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Cho phép người dùng mới tự đăng ký tài khoản"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Yêu cầu xác thực 2 lớp"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Bắt buộc người dùng sử dụng 2FA"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer"}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]}),Z9=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông tin cá nhân"}),i.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[i.jsx("div",{className:"w-24 h-24 bg-blue-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-2xl",children:"AU"})}),i.jsxs("div",{children:[i.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg mr-3",children:"Thay đổi ảnh"}),i.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg",children:"Xóa ảnh"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Họ và tên"}),i.jsx("input",{type:"text",defaultValue:"Admin User",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),i.jsx("input",{type:"email",defaultValue:"admin@company.com",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vị trí"}),i.jsx("input",{type:"text",defaultValue:"System Administrator",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phòng ban"}),i.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{children:"IT Department"}),i.jsx("option",{children:"R&D Department"}),i.jsx("option",{children:"Management"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thay đổi mật khẩu"}),i.jsxs("div",{className:"space-y-4 max-w-md",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu hiện tại"}),i.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu mới"}),i.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Xác nhận mật khẩu mới"}),i.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Cập nhật mật khẩu"})]})]})]}),J9=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông báo Email"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Cập nhật dự án"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Nhận thông báo khi có cập nhật về dự án"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Thông báo task"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Nhận thông báo khi có task mới được giao"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Báo cáo tuần"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Nhận báo cáo tổng hợp hàng tuần"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer"}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông báo trình duyệt"}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Thông báo realtime"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Hiển thị thông báo ngay lập tức trên trình duyệt"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]})]}),eH=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Bảo mật tài khoản"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Xác thực 2 lớp (2FA)"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Tăng cường bảo mật với xác thực 2 lớp"})]}),i.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Kích hoạt"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Phiên đăng nhập"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Quản lý các phiên đăng nhập hiện tại"})]}),i.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg",children:"Xem chi tiết"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Nhật ký hoạt động"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Xem lịch sử hoạt động của tài khoản"})]}),i.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg",children:"Xem nhật ký"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quyền riêng tư"}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Hiển thị trạng thái online"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Cho phép người khác thấy khi bạn đang online"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]})]}),GN=[{id:"general",name:"Cài đặt chung",icon:sy,component:Ik},{id:"user",name:"Tài khoản",icon:Gu,component:Z9},{id:"notifications",name:"Thông báo",icon:sS,component:J9},{id:"security",name:"Bảo mật",icon:iS,component:eH}],tH=()=>{var s;const[e,t]=_.useState("general"),n=((s=GN.find(a=>a.id===e))==null?void 0:s.component)||Ik;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Cài đặt"}),i.jsx("p",{className:"text-gray-600",children:"Cài đặt hệ thống"})]}),i.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[i.jsx(Q4,{className:"h-4 w-4"}),"Lưu thay đổi"]})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[i.jsx("div",{className:"lg:w-64 flex-shrink-0",children:i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:i.jsx("nav",{className:"space-y-1 p-2",children:GN.map(a=>{const o=a.icon;return i.jsxs("button",{onClick:()=>t(a.id),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${e===a.id?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[i.jsx(o,{className:`mr-3 h-5 w-5 ${e===a.id?"text-blue-600":"text-gray-400"}`}),a.name]},a.id)})})})}),i.jsx("div",{className:"flex-1",children:i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsx(n,{})})})]})]})},nH=[{id:1,project:"E-commerce Platform",task:"Design user interface mockups",user:"Jane Smith",startTime:"09:00 AM",endTime:"11:30 AM",duration:"2h 30m",date:"2024-03-08"},{id:2,project:"Mobile App Redesign",task:"API documentation",user:"Mike Johnson",startTime:"02:00 PM",endTime:"04:15 PM",duration:"2h 15m",date:"2024-03-08"},{id:3,project:"Data Analytics Dashboard",task:"Testing setup",user:"Sarah Wilson",startTime:"10:30 AM",endTime:"12:00 PM",duration:"1h 30m",date:"2024-03-07"}],sH=()=>{const[e,t]=re.useState(!1),[n,s]=re.useState("00:00:00");return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"md:flex md:items-center md:justify-between",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Time Tracking"}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track time spent on projects and tasks"})]})}),i.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-6",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900",children:n}),i.jsx("div",{className:"flex items-center justify-center space-x-4",children:e?i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>t(!1),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-yellow-600 hover:bg-yellow-700",children:[i.jsx(F4,{className:"mr-2 h-5 w-5"}),"Pause"]}),i.jsxs("button",{onClick:()=>{t(!1),s("00:00:00")},className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-red-600 hover:bg-red-700",children:[i.jsx(a3,{className:"mr-2 h-5 w-5"}),"Stop"]})]}):i.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700",children:[i.jsx(W4,{className:"mr-2 h-5 w-5"}),"Start Timer"]})}),e&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project"}),i.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[i.jsx("option",{children:"E-commerce Platform"}),i.jsx("option",{children:"Mobile App Redesign"}),i.jsx("option",{children:"Data Analytics Dashboard"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Description"}),i.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"What are you working on?"})]})]})]})}),i.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Time Entries"})}),i.jsx("div",{className:"overflow-hidden",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Period"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:nH.map(a=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.project}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.task}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.user}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[a.startTime," - ",a.endTime]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[i.jsx(zo,{className:"mr-1 h-3 w-3"}),a.duration]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.date})]},a.id))})]})})]})]})},rH=SM([{path:"/",element:i.jsx(OL,{}),children:[{index:!0,element:i.jsx(MB,{})},{path:"projects",element:i.jsx(N9,{})},{path:"tasks",element:i.jsx(M9,{})},{path:"documents",element:i.jsx(U9,{})},{path:"budget",element:i.jsx($9,{})},{path:"risk",element:i.jsx(q9,{})},{path:"meetings",element:i.jsx(X9,{})},{path:"reports",element:i.jsx(Q9,{})},{path:"settings",element:i.jsx(tH,{})},{path:"time-tracking",element:i.jsx(sH,{})}]}],{basename:"/todo"});HD.createRoot(document.getElementById("root")).render(i.jsx(re.StrictMode,{children:i.jsx(LM,{router:rH})}))});export default aH();
