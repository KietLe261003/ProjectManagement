var dC=Object.defineProperty,fC=Object.defineProperties;var hC=Object.getOwnPropertyDescriptors;var hf=Object.getOwnPropertySymbols;var Gw=Object.prototype.hasOwnProperty,Kw=Object.prototype.propertyIsEnumerable;var wl=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),mC=e=>{throw TypeError(e)};var sg=(e,t,n)=>t in e?dC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||(t={}))Gw.call(t,n)&&sg(e,n,t[n]);if(hf)for(var n of hf(t))Kw.call(t,n)&&sg(e,n,t[n]);return e},fe=(e,t)=>fC(e,hC(t));var Me=(e,t)=>{var n={};for(var s in e)Gw.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&hf)for(var s of hf(e))t.indexOf(s)<0&&Kw.call(e,s)&&(n[s]=e[s]);return n};var pC=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ft=(e,t,n)=>sg(e,typeof t!="symbol"?t+"":t,n);var ye=(e,t,n)=>new Promise((s,a)=>{var o=f=>{try{d(n.next(f))}catch(h){a(h)}},l=f=>{try{d(n.throw(f))}catch(h){a(h)}},d=f=>f.done?s(f.value):Promise.resolve(f.value).then(o,l);d((n=n.apply(e,t)).next())}),co=function(e,t){this[0]=e,this[1]=t},rg=(e,t,n)=>{var s=(l,d,f,h)=>{try{var p=n[l](d),g=(d=p.value)instanceof co,b=p.done;Promise.resolve(g?d[0]:d).then(y=>g?s(l==="return"?l:"next",d[1]?{done:y.done,value:y.value}:y,f,h):f({value:y,done:b})).catch(y=>s("throw",y,f,h))}catch(y){h(y)}},a=l=>o[l]=d=>new Promise((f,h)=>s(l,d,f,h)),o={};return n=n.apply(e,t),o[wl("asyncIterator")]=()=>o,a("next"),a("throw"),a("return"),o},ag=e=>{var t=e[wl("asyncIterator")],n=!1,s,a={};return t==null?(t=e[wl("iterator")](),s=o=>a[o]=l=>t[o](l)):(t=t.call(e),s=o=>a[o]=l=>{if(n){if(n=!1,o==="throw")throw l;return l}return n=!0,{done:!1,value:new co(new Promise(d=>{var f=t[o](l);f instanceof Object||mC("Object expected"),d(f)}),1)}}),a[wl("iterator")]=()=>a,s("next"),"throw"in t?s("throw"):a.throw=o=>{throw o},"return"in t&&s("return"),a},Qw=(e,t,n)=>(t=e[wl("asyncIterator")])?t.call(e):(e=e[wl("iterator")](),t={},n=(s,a)=>(a=e[s])&&(t[s]=o=>new Promise((l,d,f)=>(o=a.call(e,o),f=o.done,Promise.resolve(o.value).then(h=>l({value:h,done:f}),d)))),n("next"),n("return"),t);var fH=pC(_t=>{function gC(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function sx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ig={exports:{}},nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw;function xC(){if(Zw)return nu;Zw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:e,type:s,key:l,ref:a!==void 0?a:null,props:o}}return nu.Fragment=t,nu.jsx=n,nu.jsxs=n,nu}var Jw;function yC(){return Jw||(Jw=1,ig.exports=xC()),ig.exports}var u=yC(),og={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function bC(){if(e_)return Ot;e_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function j(z,ae,we){this.props=z,this.context=ae,this.refs=_,this.updater=we||y}j.prototype.isReactComponent={},j.prototype.setState=function(z,ae){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ae,"setState")},j.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function S(){}S.prototype=j.prototype;function M(z,ae,we){this.props=z,this.context=ae,this.refs=_,this.updater=we||y}var A=M.prototype=new S;A.constructor=M,w(A,j.prototype),A.isPureReactComponent=!0;var k=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function H(z,ae,we,I,oe,je){return we=je.ref,{$$typeof:e,type:z,key:ae,ref:we!==void 0?we:null,props:je}}function D(z,ae){return H(z.type,ae,void 0,void 0,void 0,z.props)}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function te(z){var ae={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(we){return ae[we]})}var q=/\/+/g;function W(z,ae){return typeof z=="object"&&z!==null&&z.key!=null?te(""+z.key):ae.toString(36)}function re(){}function me(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(re,re):(z.status="pending",z.then(function(ae){z.status==="pending"&&(z.status="fulfilled",z.value=ae)},function(ae){z.status==="pending"&&(z.status="rejected",z.reason=ae)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Z(z,ae,we,I,oe){var je=typeof z;(je==="undefined"||je==="boolean")&&(z=null);var ge=!1;if(z===null)ge=!0;else switch(je){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(z.$$typeof){case e:case t:ge=!0;break;case p:return ge=z._init,Z(ge(z._payload),ae,we,I,oe)}}if(ge)return oe=oe(z),ge=I===""?"."+W(z,0):I,k(oe)?(we="",ge!=null&&(we=ge.replace(q,"$&/")+"/"),Z(oe,ae,we,"",function(We){return We})):oe!=null&&(V(oe)&&(oe=D(oe,we+(oe.key==null||z&&z.key===oe.key?"":(""+oe.key).replace(q,"$&/")+"/")+ge)),ae.push(oe)),1;ge=0;var Ee=I===""?".":I+":";if(k(z))for(var Oe=0;Oe<z.length;Oe++)I=z[Oe],je=Ee+W(I,Oe),ge+=Z(I,ae,we,je,oe);else if(Oe=b(z),typeof Oe=="function")for(z=Oe.call(z),Oe=0;!(I=z.next()).done;)I=I.value,je=Ee+W(I,Oe++),ge+=Z(I,ae,we,je,oe);else if(je==="object"){if(typeof z.then=="function")return Z(me(z),ae,we,I,oe);throw ae=String(z),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return ge}function F(z,ae,we){if(z==null)return z;var I=[],oe=0;return Z(z,I,"","",function(je){return ae.call(we,je,oe++)}),I}function Y(z){if(z._status===-1){var ae=z._result;ae=ae(),ae.then(function(we){(z._status===0||z._status===-1)&&(z._status=1,z._result=we)},function(we){(z._status===0||z._status===-1)&&(z._status=2,z._result=we)}),z._status===-1&&(z._status=0,z._result=ae)}if(z._status===1)return z._result.default;throw z._result}var G=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function ee(){}return Ot.Children={map:F,forEach:function(z,ae,we){F(z,function(){ae.apply(this,arguments)},we)},count:function(z){var ae=0;return F(z,function(){ae++}),ae},toArray:function(z){return F(z,function(ae){return ae})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ot.Component=j,Ot.Fragment=n,Ot.Profiler=a,Ot.PureComponent=M,Ot.StrictMode=s,Ot.Suspense=f,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(z){return C.H.useMemoCache(z)}},Ot.cache=function(z){return function(){return z.apply(null,arguments)}},Ot.cloneElement=function(z,ae,we){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var I=w({},z.props),oe=z.key,je=void 0;if(ae!=null)for(ge in ae.ref!==void 0&&(je=void 0),ae.key!==void 0&&(oe=""+ae.key),ae)!O.call(ae,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&ae.ref===void 0||(I[ge]=ae[ge]);var ge=arguments.length-2;if(ge===1)I.children=we;else if(1<ge){for(var Ee=Array(ge),Oe=0;Oe<ge;Oe++)Ee[Oe]=arguments[Oe+2];I.children=Ee}return H(z.type,oe,void 0,void 0,je,I)},Ot.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Ot.createElement=function(z,ae,we){var I,oe={},je=null;if(ae!=null)for(I in ae.key!==void 0&&(je=""+ae.key),ae)O.call(ae,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(oe[I]=ae[I]);var ge=arguments.length-2;if(ge===1)oe.children=we;else if(1<ge){for(var Ee=Array(ge),Oe=0;Oe<ge;Oe++)Ee[Oe]=arguments[Oe+2];oe.children=Ee}if(z&&z.defaultProps)for(I in ge=z.defaultProps,ge)oe[I]===void 0&&(oe[I]=ge[I]);return H(z,je,void 0,void 0,null,oe)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(z){return{$$typeof:d,render:z}},Ot.isValidElement=V,Ot.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:Y}},Ot.memo=function(z,ae){return{$$typeof:h,type:z,compare:ae===void 0?null:ae}},Ot.startTransition=function(z){var ae=C.T,we={};C.T=we;try{var I=z(),oe=C.S;oe!==null&&oe(we,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(ee,G)}catch(je){G(je)}finally{C.T=ae}},Ot.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ot.use=function(z){return C.H.use(z)},Ot.useActionState=function(z,ae,we){return C.H.useActionState(z,ae,we)},Ot.useCallback=function(z,ae){return C.H.useCallback(z,ae)},Ot.useContext=function(z){return C.H.useContext(z)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(z,ae){return C.H.useDeferredValue(z,ae)},Ot.useEffect=function(z,ae,we){var I=C.H;if(typeof we=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return I.useEffect(z,ae)},Ot.useId=function(){return C.H.useId()},Ot.useImperativeHandle=function(z,ae,we){return C.H.useImperativeHandle(z,ae,we)},Ot.useInsertionEffect=function(z,ae){return C.H.useInsertionEffect(z,ae)},Ot.useLayoutEffect=function(z,ae){return C.H.useLayoutEffect(z,ae)},Ot.useMemo=function(z,ae){return C.H.useMemo(z,ae)},Ot.useOptimistic=function(z,ae){return C.H.useOptimistic(z,ae)},Ot.useReducer=function(z,ae,we){return C.H.useReducer(z,ae,we)},Ot.useRef=function(z){return C.H.useRef(z)},Ot.useState=function(z){return C.H.useState(z)},Ot.useSyncExternalStore=function(z,ae,we){return C.H.useSyncExternalStore(z,ae,we)},Ot.useTransition=function(){return C.H.useTransition()},Ot.version="19.1.1",Ot}var t_;function rx(){return t_||(t_=1,og.exports=bC()),og.exports}var N=rx();const J=sx(N),xS=gC({__proto__:null,default:J},[N]);var lg={exports:{}},su={},cg={exports:{}},ug={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function vC(){return n_||(n_=1,function(e){function t(F,Y){var G=F.length;F.push(Y);e:for(;0<G;){var ee=G-1>>>1,z=F[ee];if(0<a(z,Y))F[ee]=Y,F[G]=z,G=ee;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var Y=F[0],G=F.pop();if(G!==Y){F[0]=G;e:for(var ee=0,z=F.length,ae=z>>>1;ee<ae;){var we=2*(ee+1)-1,I=F[we],oe=we+1,je=F[oe];if(0>a(I,G))oe<z&&0>a(je,I)?(F[ee]=je,F[oe]=G,ee=oe):(F[ee]=I,F[we]=G,ee=we);else if(oe<z&&0>a(je,G))F[ee]=je,F[oe]=G,ee=oe;else break e}}return Y}function a(F,Y){var G=F.sortIndex-Y.sortIndex;return G!==0?G:F.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,g=null,b=3,y=!1,w=!1,_=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate!="undefined"?setImmediate:null;function k(F){for(var Y=n(h);Y!==null;){if(Y.callback===null)s(h);else if(Y.startTime<=F)s(h),Y.sortIndex=Y.expirationTime,t(f,Y);else break;Y=n(h)}}function C(F){if(_=!1,k(F),!w)if(n(f)!==null)w=!0,O||(O=!0,W());else{var Y=n(h);Y!==null&&Z(C,Y.startTime-F)}}var O=!1,H=-1,D=5,V=-1;function te(){return j?!0:!(e.unstable_now()-V<D)}function q(){if(j=!1,O){var F=e.unstable_now();V=F;var Y=!0;try{e:{w=!1,_&&(_=!1,M(H),H=-1),y=!0;var G=b;try{t:{for(k(F),g=n(f);g!==null&&!(g.expirationTime>F&&te());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,b=g.priorityLevel;var z=ee(g.expirationTime<=F);if(F=e.unstable_now(),typeof z=="function"){g.callback=z,k(F),Y=!0;break t}g===n(f)&&s(f),k(F)}else s(f);g=n(f)}if(g!==null)Y=!0;else{var ae=n(h);ae!==null&&Z(C,ae.startTime-F),Y=!1}}break e}finally{g=null,b=G,y=!1}Y=void 0}}finally{Y?W():O=!1}}}var W;if(typeof A=="function")W=function(){A(q)};else if(typeof MessageChannel!="undefined"){var re=new MessageChannel,me=re.port2;re.port1.onmessage=q,W=function(){me.postMessage(null)}}else W=function(){S(q,0)};function Z(F,Y){H=S(function(){F(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(F){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var G=b;b=Y;try{return F()}finally{b=G}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=b;b=F;try{return Y()}finally{b=G}},e.unstable_scheduleCallback=function(F,Y,G){var ee=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,F){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=G+z,F={id:p++,callback:Y,priorityLevel:F,startTime:G,expirationTime:z,sortIndex:-1},G>ee?(F.sortIndex=G,t(h,F),n(f)===null&&F===n(h)&&(_?(M(H),H=-1):_=!0,Z(C,G-ee))):(F.sortIndex=z,t(f,F),w||y||(w=!0,O||(O=!0,W()))),F},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(F){var Y=b;return function(){var G=b;b=Y;try{return F.apply(this,arguments)}finally{b=G}}}}(ug)),ug}var s_;function wC(){return s_||(s_=1,cg.exports=vC()),cg.exports}var dg={exports:{}},vs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function _C(){if(r_)return vs;r_=1;var e=rx();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return vs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,vs.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(f,h,null,p)},vs.flushSync=function(f){var h=l.T,p=s.p;try{if(l.T=null,s.p=2,f)return f()}finally{l.T=h,s.p=p,s.d.f()}},vs.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(f,h))},vs.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},vs.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?s.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:y}):p==="script"&&s.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},vs.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);s.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(f)},vs.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);s.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},vs.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);s.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(f)},vs.requestFormReset=function(f){s.d.r(f)},vs.unstable_batchedUpdates=function(f,h){return f(h)},vs.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},vs.useFormStatus=function(){return l.H.useHostTransitionStatus()},vs.version="19.1.1",vs}var a_;function yS(){if(a_)return dg.exports;a_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),dg.exports=_C(),dg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function jC(){if(i_)return su;i_=1;var e=wC(),t=rx(),n=yS();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,c=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(c=i.return),r=i.return;while(r)}return i.tag===3?c:null}function l(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(s(188))}function f(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(s(188));return i!==r?null:r}for(var c=r,m=i;;){var x=c.return;if(x===null)break;var v=x.alternate;if(v===null){if(m=x.return,m!==null){c=m;continue}break}if(x.child===v.child){for(v=x.child;v;){if(v===c)return d(x),r;if(v===m)return d(x),i;v=v.sibling}throw Error(s(188))}if(c.return!==m.return)c=x,m=v;else{for(var T=!1,P=x.child;P;){if(P===c){T=!0,c=x,m=v;break}if(P===m){T=!0,m=x,c=v;break}P=P.sibling}if(!T){for(P=v.child;P;){if(P===c){T=!0,c=v,m=x;break}if(P===m){T=!0,m=v,c=x;break}P=P.sibling}if(!T)throw Error(s(189))}}if(c.alternate!==m)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?r:i}function h(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=h(r),i!==null)return i;r=r.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),A=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function W(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var re=Symbol.for("react.client.reference");function me(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===re?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case j:return"Profiler";case _:return"StrictMode";case C:return"Suspense";case O:return"SuspenseList";case V:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case y:return"Portal";case A:return(r.displayName||"Context")+".Provider";case M:return(r._context.displayName||"Context")+".Consumer";case k:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case H:return i=r.displayName||null,i!==null?i:me(r.type)||"Memo";case D:i=r._payload,r=r._init;try{return me(r(i))}catch(c){}}return null}var Z=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},ee=[],z=-1;function ae(r){return{current:r}}function we(r){0>z||(r.current=ee[z],ee[z]=null,z--)}function I(r,i){z++,ee[z]=r.current,r.current=i}var oe=ae(null),je=ae(null),ge=ae(null),Ee=ae(null);function Oe(r,i){switch(I(ge,i),I(je,r),I(oe,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?jw(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=jw(i),r=Sw(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}we(oe),I(oe,r)}function We(){we(oe),we(je),we(ge)}function He(r){r.memoizedState!==null&&I(Ee,r);var i=oe.current,c=Sw(i,r.type);i!==c&&(I(je,r),I(oe,c))}function it(r){je.current===r&&(we(oe),we(je)),Ee.current===r&&(we(Ee),Qc._currentValue=G)}var st=Object.prototype.hasOwnProperty,vt=e.unstable_scheduleCallback,Pe=e.unstable_cancelCallback,gt=e.unstable_shouldYield,Vt=e.unstable_requestPaint,jt=e.unstable_now,$t=e.unstable_getCurrentPriorityLevel,Ct=e.unstable_ImmediatePriority,X=e.unstable_UserBlockingPriority,ce=e.unstable_NormalPriority,$=e.unstable_LowPriority,Se=e.unstable_IdlePriority,De=e.log,Re=e.unstable_setDisableYieldValue,Ue=null,qe=null;function Ke(r){if(typeof De=="function"&&Re(r),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Ue,r)}catch(i){}}var xt=Math.clz32?Math.clz32:ke,yn=Math.log,ct=Math.LN2;function ke(r){return r>>>=0,r===0?32:31-(yn(r)/ct|0)|0}var Be=256,Dt=4194304;function Sn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function as(r,i,c){var m=r.pendingLanes;if(m===0)return 0;var x=0,v=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var P=m&134217727;return P!==0?(m=P&~v,m!==0?x=Sn(m):(T&=P,T!==0?x=Sn(T):c||(c=P&~r,c!==0&&(x=Sn(c))))):(P=m&~v,P!==0?x=Sn(P):T!==0?x=Sn(T):c||(c=m&~r,c!==0&&(x=Sn(c)))),x===0?0:i!==0&&i!==x&&(i&v)===0&&(v=x&-x,c=i&-i,v>=c||v===32&&(c&4194048)!==0)?i:x}function Hn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function ds(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xe(){var r=Be;return Be<<=1,(Be&4194048)===0&&(Be=256),r}function Mt(){var r=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),r}function Ut(r){for(var i=[],c=0;31>c;c++)i.push(r);return i}function St(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function en(r,i,c,m,x,v){var T=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var P=r.entanglements,K=r.expirationTimes,pe=r.hiddenUpdates;for(c=T&~c;0<c;){var Ne=31-xt(c),Ce=1<<Ne;P[Ne]=0,K[Ne]=-1;var be=pe[Ne];if(be!==null)for(pe[Ne]=null,Ne=0;Ne<be.length;Ne++){var ve=be[Ne];ve!==null&&(ve.lane&=-536870913)}c&=~Ce}m!==0&&Ge(r,m,0),v!==0&&x===0&&r.tag!==0&&(r.suspendedLanes|=v&~(T&~i))}function Ge(r,i,c){r.pendingLanes|=i,r.suspendedLanes&=~i;var m=31-xt(i);r.entangledLanes|=i,r.entanglements[m]=r.entanglements[m]|1073741824|c&4194090}function wt(r,i){var c=r.entangledLanes|=i;for(r=r.entanglements;c;){var m=31-xt(c),x=1<<m;x&i|r[m]&i&&(r[m]|=i),c&=~x}}function qt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Xt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Q(){var r=Y.p;return r!==0?r:(r=window.event,r===void 0?32:$w(r.type))}function se(r,i){var c=Y.p;try{return Y.p=r,i()}finally{Y.p=c}}var de=Math.random().toString(36).slice(2),_e="__reactFiber$"+de,Ae="__reactProps$"+de,Ve="__reactContainer$"+de,Qe="__reactEvents$"+de,tt="__reactListeners$"+de,ut="__reactHandles$"+de,At="__reactResources$"+de,rt="__reactMarker$"+de;function bt(r){delete r[_e],delete r[Ae],delete r[Qe],delete r[tt],delete r[ut]}function kt(r){var i=r[_e];if(i)return i;for(var c=r.parentNode;c;){if(i=c[Ve]||c[_e]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(r=kw(r);r!==null;){if(c=r[_e])return c;r=kw(r)}return i}r=c,c=r.parentNode}return null}function dn(r){if(r=r[_e]||r[Ve]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function Cn(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function an(r){var i=r[At];return i||(i=r[At]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function at(r){r[rt]=!0}var Nt=new Set,Gt={};function vn(r,i){An(r,i),An(r+"Capture",i)}function An(r,i){for(Gt[r]=i,r=0;r<i.length;r++)Nt.add(i[r])}var Qn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),is={},ir={};function or(r){return st.call(ir,r)?!0:st.call(is,r)?!1:Qn.test(r)?ir[r]=!0:(is[r]=!0,!1)}function xs(r,i,c){if(or(i))if(c===null)r.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var m=i.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+c)}}function lr(r,i,c){if(c===null)r.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+c)}}function Rt(r,i,c,m){if(m===null)r.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(i,c,""+m)}}var On,ha;function fs(r){if(On===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);On=i&&i[1]||"",ha=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+On+r+ha}var pn=!1;function Er(r,i){if(!r||pn)return"";pn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(i){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(ve){var be=ve}Reflect.construct(r,[],Ce)}else{try{Ce.call()}catch(ve){be=ve}r.call(Ce.prototype)}}else{try{throw Error()}catch(ve){be=ve}(Ce=r())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(ve){if(ve&&be&&typeof ve.stack=="string")return[ve.stack,be.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=m.DetermineComponentFrameRoot(),T=v[0],P=v[1];if(T&&P){var K=T.split(`
`),pe=P.split(`
`);for(x=m=0;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;for(;x<pe.length&&!pe[x].includes("DetermineComponentFrameRoot");)x++;if(m===K.length||x===pe.length)for(m=K.length-1,x=pe.length-1;1<=m&&0<=x&&K[m]!==pe[x];)x--;for(;1<=m&&0<=x;m--,x--)if(K[m]!==pe[x]){if(m!==1||x!==1)do if(m--,x--,0>x||K[m]!==pe[x]){var Ne=`
`+K[m].replace(" at new "," at ");return r.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",r.displayName)),Ne}while(1<=m&&0<=x);break}}}finally{pn=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?fs(c):""}function zo(r){switch(r.tag){case 26:case 27:case 5:return fs(r.type);case 16:return fs("Lazy");case 13:return fs("Suspense");case 19:return fs("SuspenseList");case 0:case 15:return Er(r.type,!1);case 11:return Er(r.type.render,!1);case 1:return Er(r.type,!0);case 31:return fs("Activity");default:return""}}function Uo(r){try{var i="";do i+=zo(r),r=r.return;while(r);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Os(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ad(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function id(r){var i=ad(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),m=""+r[i];if(!r.hasOwnProperty(i)&&typeof c!="undefined"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,v=c.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return x.call(this)},set:function(T){m=""+T,v.call(this,T)}}),Object.defineProperty(r,i,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(T){m=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Bi(r){r._valueTracker||(r._valueTracker=id(r))}function $r(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var c=i.getValue(),m="";return r&&(m=ad(r)?r.checked?"true":"false":r.value),r=m,r!==c?(i.setValue(r),!0):!1}function Fi(r){if(r=r||(typeof document!="undefined"?document:void 0),typeof r=="undefined")return null;try{return r.activeElement||r.body}catch(i){return r.body}}var um=/[\n"\\]/g;function Rs(r){return r.replace(um,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function oc(r,i,c,m,x,v,T,P){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),i!=null?T==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Os(i)):r.value!==""+Os(i)&&(r.value=""+Os(i)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),i!=null?lc(r,T,Os(i)):c!=null?lc(r,T,Os(c)):m!=null&&r.removeAttribute("value"),x==null&&v!=null&&(r.defaultChecked=!!v),x!=null&&(r.checked=x&&typeof x!="function"&&typeof x!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?r.name=""+Os(P):r.removeAttribute("name")}function od(r,i,c,m,x,v,T,P){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),i!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||i!=null))return;c=c!=null?""+Os(c):"",i=i!=null?""+Os(i):c,P||i===r.value||(r.value=i),r.defaultValue=i}m=m!=null?m:x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=P?r.checked:!!m,r.defaultChecked=!!m,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function lc(r,i,c){i==="number"&&Fi(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function ma(r,i,c,m){if(r=r.options,i){i={};for(var x=0;x<c.length;x++)i["$"+c[x]]=!0;for(c=0;c<r.length;c++)x=i.hasOwnProperty("$"+r[c].value),r[c].selected!==x&&(r[c].selected=x),x&&m&&(r[c].defaultSelected=!0)}else{for(c=""+Os(c),i=null,x=0;x<r.length;x++){if(r[x].value===c){r[x].selected=!0,m&&(r[x].defaultSelected=!0);return}i!==null||r[x].disabled||(i=r[x])}i!==null&&(i.selected=!0)}}function Hi(r,i,c){if(i!=null&&(i=""+Os(i),i!==r.value&&(r.value=i),c==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=c!=null?""+Os(c):""}function cc(r,i,c,m){if(i==null){if(m!=null){if(c!=null)throw Error(s(92));if(Z(m)){if(1<m.length)throw Error(s(93));m=m[0]}c=m}c==null&&(c=""),i=c}c=Os(i),r.defaultValue=c,m=r.textContent,m===c&&m!==""&&m!==null&&(r.value=m)}function qa(r,i){if(i){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=i;return}}r.textContent=i}var ld=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cd(r,i,c){var m=i.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":m?r.setProperty(i,c):typeof c!="number"||c===0||ld.has(i)?i==="float"?r.cssFloat=c:r[i]=(""+c).trim():r[i]=c+"px"}function uc(r,i,c){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||i!=null&&i.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var x in i)m=i[x],i.hasOwnProperty(x)&&c[x]!==m&&cd(r,x,m)}else for(var v in i)i.hasOwnProperty(v)&&cd(r,v,i[v])}function Vi(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fo(r){return dm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var dc=null;function $i(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var pa=null,Ia=null;function fc(r){var i=dn(r);if(i&&(r=i.stateNode)){var c=r[Ae]||null;e:switch(r=i.stateNode,i.type){case"input":if(oc(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),i=c.name,c.type==="radio"&&i!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Rs(""+i)+'"][type="radio"]'),i=0;i<c.length;i++){var m=c[i];if(m!==r&&m.form===r.form){var x=m[Ae]||null;if(!x)throw Error(s(90));oc(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(i=0;i<c.length;i++)m=c[i],m.form===r.form&&$r(m)}break e;case"textarea":Hi(r,c.value,c.defaultValue);break e;case"select":i=c.value,i!=null&&ma(r,!!c.multiple,i,!1)}}}var qi=!1;function hc(r,i,c){if(qi)return r(i,c);qi=!0;try{var m=r(i);return m}finally{if(qi=!1,(pa!==null||Ia!==null)&&(Id(),pa&&(i=pa,r=Ia,Ia=pa=null,fc(i),r)))for(i=0;i<r.length;i++)fc(r[i])}}function Ya(r,i){var c=r.stateNode;if(c===null)return null;var m=c[Ae]||null;if(m===null)return null;c=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(s(231,i,typeof c));return c}var Ds=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Ho=!1;if(Ds)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){Ho=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch(r){Ho=!1}var Is=null,Ms=null,ga=null;function Yi(){if(ga)return ga;var r,i=Ms,c=i.length,m,x="value"in Is?Is.value:Is.textContent,v=x.length;for(r=0;r<c&&i[r]===x[r];r++);var T=c-r;for(m=1;m<=T&&i[c-m]===x[v-m];m++);return ga=x.slice(r,1<m?1-m:void 0)}function Wa(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Vo(){return!0}function ud(){return!1}function ys(r){function i(c,m,x,v,T){this._reactName=c,this._targetInst=x,this.type=m,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(c=r[P],this[P]=c?c(v):v[P]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Vo:ud,this.isPropagationStopped=ud,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Vo)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Vo)},persist:function(){},isPersistent:Vo}),i}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$o=ys(Tr),Xa=p({},Tr,{view:0,detail:0}),Rn=ys(Xa),E,R,U,B=p({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==U&&(U&&r.type==="mousemove"?(E=r.screenX-U.screenX,R=r.screenY-U.screenY):R=E=0,U=r),E)},movementY:function(r){return"movementY"in r?r.movementY:R}}),ie=ys(B),ue=p({},B,{dataTransfer:0}),xe=ys(ue),Le=p({},Xa,{relatedTarget:0}),lt=ys(Le),ze=p({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ie=ys(ze),mt=p({},Tr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),on=ys(mt),Et=p({},Tr,{data:0}),dt=ys(Et),nt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},os={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Vn[r])?!!i[r]:!1}function cr(){return Nn}var Wi=p({},Xa,{key:function(r){if(r.key){var i=nt[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Wa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?os[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(r){return r.type==="keypress"?Wa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Wa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),qr=ys(Wi),Ga=p({},B,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qo=ys(Ga),Io=p({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),dd=ys(Io),CT=p({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),AT=ys(CT),OT=p({},B,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),RT=ys(OT),DT=p({},Tr,{newState:0,oldState:0}),MT=ys(DT),PT=[9,13,27,32],fm=Ds&&"CompositionEvent"in window,mc=null;Ds&&"documentMode"in document&&(mc=document.documentMode);var LT=Ds&&"TextEvent"in window&&!mc,Ry=Ds&&(!fm||mc&&8<mc&&11>=mc),Dy=" ",My=!1;function Py(r,i){switch(r){case"keyup":return PT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ly(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Yo=!1;function zT(r,i){switch(r){case"compositionend":return Ly(i);case"keypress":return i.which!==32?null:(My=!0,Dy);case"textInput":return r=i.data,r===Dy&&My?null:r;default:return null}}function UT(r,i){if(Yo)return r==="compositionend"||!fm&&Py(r,i)?(r=Yi(),ga=Ms=Is=null,Yo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ry&&i.locale!=="ko"?null:i.data;default:return null}}var BT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zy(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!BT[r.type]:i==="textarea"}function Uy(r,i,c,m){pa?Ia?Ia.push(m):Ia=[m]:pa=m,i=Qd(i,"onChange"),0<i.length&&(c=new $o("onChange","change",null,c,m),r.push({event:c,listeners:i}))}var pc=null,gc=null;function FT(r){yw(r,0)}function fd(r){var i=Cn(r);if($r(i))return r}function By(r,i){if(r==="change")return i}var Fy=!1;if(Ds){var hm;if(Ds){var mm="oninput"in document;if(!mm){var Hy=document.createElement("div");Hy.setAttribute("oninput","return;"),mm=typeof Hy.oninput=="function"}hm=mm}else hm=!1;Fy=hm&&(!document.documentMode||9<document.documentMode)}function Vy(){pc&&(pc.detachEvent("onpropertychange",$y),gc=pc=null)}function $y(r){if(r.propertyName==="value"&&fd(gc)){var i=[];Uy(i,gc,r,$i(r)),hc(FT,i)}}function HT(r,i,c){r==="focusin"?(Vy(),pc=i,gc=c,pc.attachEvent("onpropertychange",$y)):r==="focusout"&&Vy()}function VT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return fd(gc)}function $T(r,i){if(r==="click")return fd(i)}function qT(r,i){if(r==="input"||r==="change")return fd(i)}function IT(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Ys=typeof Object.is=="function"?Object.is:IT;function xc(r,i){if(Ys(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var c=Object.keys(r),m=Object.keys(i);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var x=c[m];if(!st.call(i,x)||!Ys(r[x],i[x]))return!1}return!0}function qy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Iy(r,i){var c=qy(r);r=0;for(var m;c;){if(c.nodeType===3){if(m=r+c.textContent.length,r<=i&&m>=i)return{node:c,offset:i-r};r=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=qy(c)}}function Yy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Yy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Wy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Fi(r.document);i instanceof r.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch(m){c=!1}if(c)r=i.contentWindow;else break;i=Fi(r.document)}return i}function pm(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var YT=Ds&&"documentMode"in document&&11>=document.documentMode,Wo=null,gm=null,yc=null,xm=!1;function Xy(r,i,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;xm||Wo==null||Wo!==Fi(m)||(m=Wo,"selectionStart"in m&&pm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),yc&&xc(yc,m)||(yc=m,m=Qd(gm,"onSelect"),0<m.length&&(i=new $o("onSelect","select",null,i,c),r.push({event:i,listeners:m}),i.target=Wo)))}function Xi(r,i){var c={};return c[r.toLowerCase()]=i.toLowerCase(),c["Webkit"+r]="webkit"+i,c["Moz"+r]="moz"+i,c}var Xo={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionrun:Xi("Transition","TransitionRun"),transitionstart:Xi("Transition","TransitionStart"),transitioncancel:Xi("Transition","TransitionCancel"),transitionend:Xi("Transition","TransitionEnd")},ym={},Gy={};Ds&&(Gy=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function Gi(r){if(ym[r])return ym[r];if(!Xo[r])return r;var i=Xo[r],c;for(c in i)if(i.hasOwnProperty(c)&&c in Gy)return ym[r]=i[c];return r}var Ky=Gi("animationend"),Qy=Gi("animationiteration"),Zy=Gi("animationstart"),WT=Gi("transitionrun"),XT=Gi("transitionstart"),GT=Gi("transitioncancel"),Jy=Gi("transitionend"),eb=new Map,bm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bm.push("scrollEnd");function kr(r,i){eb.set(r,i),vn(i,[r])}var tb=new WeakMap;function ur(r,i){if(typeof r=="object"&&r!==null){var c=tb.get(r);return c!==void 0?c:(i={value:r,source:i,stack:Uo(i)},tb.set(r,i),i)}return{value:r,source:i,stack:Uo(i)}}var dr=[],Go=0,vm=0;function hd(){for(var r=Go,i=vm=Go=0;i<r;){var c=dr[i];dr[i++]=null;var m=dr[i];dr[i++]=null;var x=dr[i];dr[i++]=null;var v=dr[i];if(dr[i++]=null,m!==null&&x!==null){var T=m.pending;T===null?x.next=x:(x.next=T.next,T.next=x),m.pending=x}v!==0&&nb(c,x,v)}}function md(r,i,c,m){dr[Go++]=r,dr[Go++]=i,dr[Go++]=c,dr[Go++]=m,vm|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function wm(r,i,c,m){return md(r,i,c,m),pd(r)}function Ko(r,i){return md(r,null,null,i),pd(r)}function nb(r,i,c){r.lanes|=c;var m=r.alternate;m!==null&&(m.lanes|=c);for(var x=!1,v=r.return;v!==null;)v.childLanes|=c,m=v.alternate,m!==null&&(m.childLanes|=c),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(x=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,x&&i!==null&&(x=31-xt(c),r=v.hiddenUpdates,m=r[x],m===null?r[x]=[i]:m.push(i),i.lane=c|536870912),v):null}function pd(r){if(50<$c)throw $c=0,Tp=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Qo={};function KT(r,i,c,m){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(r,i,c,m){return new KT(r,i,c,m)}function _m(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xa(r,i){var c=r.alternate;return c===null?(c=Ws(r.tag,i,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=i,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,i=r.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function sb(r,i){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,i=c.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function gd(r,i,c,m,x,v){var T=0;if(m=r,typeof r=="function")_m(r)&&(T=1);else if(typeof r=="string")T=Zk(r,c,oe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case V:return r=Ws(31,c,i,x),r.elementType=V,r.lanes=v,r;case w:return Ki(c.children,x,v,i);case _:T=8,x|=24;break;case j:return r=Ws(12,c,i,x|2),r.elementType=j,r.lanes=v,r;case C:return r=Ws(13,c,i,x),r.elementType=C,r.lanes=v,r;case O:return r=Ws(19,c,i,x),r.elementType=O,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case S:case A:T=10;break e;case M:T=9;break e;case k:T=11;break e;case H:T=14;break e;case D:T=16,m=null;break e}T=29,c=Error(s(130,r===null?"null":typeof r,"")),m=null}return i=Ws(T,c,i,x),i.elementType=r,i.type=m,i.lanes=v,i}function Ki(r,i,c,m){return r=Ws(7,r,m,i),r.lanes=c,r}function jm(r,i,c){return r=Ws(6,r,null,i),r.lanes=c,r}function Sm(r,i,c){return i=Ws(4,r.children!==null?r.children:[],r.key,i),i.lanes=c,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Zo=[],Jo=0,xd=null,yd=0,fr=[],hr=0,Qi=null,ya=1,ba="";function Zi(r,i){Zo[Jo++]=yd,Zo[Jo++]=xd,xd=r,yd=i}function rb(r,i,c){fr[hr++]=ya,fr[hr++]=ba,fr[hr++]=Qi,Qi=r;var m=ya;r=ba;var x=32-xt(m)-1;m&=~(1<<x),c+=1;var v=32-xt(i)+x;if(30<v){var T=x-x%5;v=(m&(1<<T)-1).toString(32),m>>=T,x-=T,ya=1<<32-xt(i)+x|c<<x|m,ba=v+r}else ya=1<<v|c<<x|m,ba=r}function Nm(r){r.return!==null&&(Zi(r,1),rb(r,1,0))}function Em(r){for(;r===xd;)xd=Zo[--Jo],Zo[Jo]=null,yd=Zo[--Jo],Zo[Jo]=null;for(;r===Qi;)Qi=fr[--hr],fr[hr]=null,ba=fr[--hr],fr[hr]=null,ya=fr[--hr],fr[hr]=null}var Cs=null,Dn=null,tn=!1,Ji=null,Ir=!1,Tm=Error(s(519));function eo(r){var i=Error(s(418,""));throw wc(ur(i,r)),Tm}function ab(r){var i=r.stateNode,c=r.type,m=r.memoizedProps;switch(i[_e]=r,i[Ae]=m,c){case"dialog":Ft("cancel",i),Ft("close",i);break;case"iframe":case"object":case"embed":Ft("load",i);break;case"video":case"audio":for(c=0;c<Ic.length;c++)Ft(Ic[c],i);break;case"source":Ft("error",i);break;case"img":case"image":case"link":Ft("error",i),Ft("load",i);break;case"details":Ft("toggle",i);break;case"input":Ft("invalid",i),od(i,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Bi(i);break;case"select":Ft("invalid",i);break;case"textarea":Ft("invalid",i),cc(i,m.value,m.defaultValue,m.children),Bi(i)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||i.textContent===""+c||m.suppressHydrationWarning===!0||_w(i.textContent,c)?(m.popover!=null&&(Ft("beforetoggle",i),Ft("toggle",i)),m.onScroll!=null&&Ft("scroll",i),m.onScrollEnd!=null&&Ft("scrollend",i),m.onClick!=null&&(i.onclick=Zd),i=!0):i=!1,i||eo(r)}function ib(r){for(Cs=r.return;Cs;)switch(Cs.tag){case 5:case 13:Ir=!1;return;case 27:case 3:Ir=!0;return;default:Cs=Cs.return}}function bc(r){if(r!==Cs)return!1;if(!tn)return ib(r),tn=!0,!1;var i=r.tag,c;if((c=i!==3&&i!==27)&&((c=i===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||$p(r.type,r.memoizedProps)),c=!c),c&&Dn&&eo(r),ib(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(i===0){Dn=Ar(r.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++;r=r.nextSibling}Dn=null}}else i===27?(i=Dn,di(r.type)?(r=Wp,Wp=null,Dn=r):Dn=i):Dn=Cs?Ar(r.stateNode.nextSibling):null;return!0}function vc(){Dn=Cs=null,tn=!1}function ob(){var r=Ji;return r!==null&&(zs===null?zs=r:zs.push.apply(zs,r),Ji=null),r}function wc(r){Ji===null?Ji=[r]:Ji.push(r)}var km=ae(null),to=null,va=null;function Ka(r,i,c){I(km,i._currentValue),i._currentValue=c}function wa(r){r._currentValue=km.current,we(km)}function Cm(r,i,c){for(;r!==null;){var m=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),r===c)break;r=r.return}}function Am(r,i,c,m){var x=r.child;for(x!==null&&(x.return=r);x!==null;){var v=x.dependencies;if(v!==null){var T=x.child;v=v.firstContext;e:for(;v!==null;){var P=v;v=x;for(var K=0;K<i.length;K++)if(P.context===i[K]){v.lanes|=c,P=v.alternate,P!==null&&(P.lanes|=c),Cm(v.return,c,r),m||(T=null);break e}v=P.next}}else if(x.tag===18){if(T=x.return,T===null)throw Error(s(341));T.lanes|=c,v=T.alternate,v!==null&&(v.lanes|=c),Cm(T,c,r),T=null}else T=x.child;if(T!==null)T.return=x;else for(T=x;T!==null;){if(T===r){T=null;break}if(x=T.sibling,x!==null){x.return=T.return,T=x;break}T=T.return}x=T}}function _c(r,i,c,m){r=null;for(var x=i,v=!1;x!==null;){if(!v){if((x.flags&524288)!==0)v=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var T=x.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var P=x.type;Ys(x.pendingProps.value,T.value)||(r!==null?r.push(P):r=[P])}}else if(x===Ee.current){if(T=x.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(r!==null?r.push(Qc):r=[Qc])}x=x.return}r!==null&&Am(i,r,c,m),i.flags|=262144}function bd(r){for(r=r.firstContext;r!==null;){if(!Ys(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function no(r){to=r,va=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function bs(r){return lb(to,r)}function vd(r,i){return to===null&&no(r),lb(r,i)}function lb(r,i){var c=i._currentValue;if(i={context:i,memoizedValue:c,next:null},va===null){if(r===null)throw Error(s(308));va=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else va=va.next=i;return c}var QT=typeof AbortController!="undefined"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(c,m){r.push(m)}};this.abort=function(){i.aborted=!0,r.forEach(function(c){return c()})}},ZT=e.unstable_scheduleCallback,JT=e.unstable_NormalPriority,Zn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Om(){return{controller:new QT,data:new Map,refCount:0}}function jc(r){r.refCount--,r.refCount===0&&ZT(JT,function(){r.controller.abort()})}var Sc=null,Rm=0,el=0,tl=null;function ek(r,i){if(Sc===null){var c=Sc=[];Rm=0,el=Mp(),tl={status:"pending",value:void 0,then:function(m){c.push(m)}}}return Rm++,i.then(cb,cb),i}function cb(){if(--Rm===0&&Sc!==null){tl!==null&&(tl.status="fulfilled");var r=Sc;Sc=null,el=0,tl=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function tk(r,i){var c=[],m={status:"pending",value:null,reason:null,then:function(x){c.push(x)}};return r.then(function(){m.status="fulfilled",m.value=i;for(var x=0;x<c.length;x++)(0,c[x])(i)},function(x){for(m.status="rejected",m.reason=x,x=0;x<c.length;x++)(0,c[x])(void 0)}),m}var ub=F.S;F.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ek(r,i),ub!==null&&ub(r,i)};var so=ae(null);function Dm(){var r=so.current;return r!==null?r:gn.pooledCache}function wd(r,i){i===null?I(so,so.current):I(so,i.pool)}function db(){var r=Dm();return r===null?null:{parent:Zn._currentValue,pool:r}}var Nc=Error(s(460)),fb=Error(s(474)),_d=Error(s(542)),Mm={then:function(){}};function hb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function jd(){}function mb(r,i,c){switch(c=r[c],c===void 0?r.push(i):c!==i&&(i.then(jd,jd),i=c),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,gb(r),r;default:if(typeof i.status=="string")i.then(jd,jd);else{if(r=gn,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(m){if(i.status==="pending"){var x=i;x.status="fulfilled",x.value=m}},function(m){if(i.status==="pending"){var x=i;x.status="rejected",x.reason=m}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,gb(r),r}throw Ec=i,Nc}}var Ec=null;function pb(){if(Ec===null)throw Error(s(459));var r=Ec;return Ec=null,r}function gb(r){if(r===Nc||r===_d)throw Error(s(483))}var Qa=!1;function Pm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Za(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ja(r,i,c){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(nn&2)!==0){var x=m.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),m.pending=i,i=pd(r),nb(r,null,c),i}return md(r,m,i,c),pd(r)}function Tc(r,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194048)!==0)){var m=i.lanes;m&=r.pendingLanes,c|=m,i.lanes=c,wt(r,c)}}function zm(r,i){var c=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var x=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var T={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?x=v=T:v=v.next=T,c=c.next}while(c!==null);v===null?x=v=i:v=v.next=i}else x=v=i;c={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:v,shared:m.shared,callbacks:m.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=i:r.next=i,c.lastBaseUpdate=i}var Um=!1;function kc(){if(Um){var r=tl;if(r!==null)throw r}}function Cc(r,i,c,m){Um=!1;var x=r.updateQueue;Qa=!1;var v=x.firstBaseUpdate,T=x.lastBaseUpdate,P=x.shared.pending;if(P!==null){x.shared.pending=null;var K=P,pe=K.next;K.next=null,T===null?v=pe:T.next=pe,T=K;var Ne=r.alternate;Ne!==null&&(Ne=Ne.updateQueue,P=Ne.lastBaseUpdate,P!==T&&(P===null?Ne.firstBaseUpdate=pe:P.next=pe,Ne.lastBaseUpdate=K))}if(v!==null){var Ce=x.baseState;T=0,Ne=pe=K=null,P=v;do{var be=P.lane&-536870913,ve=be!==P.lane;if(ve?(Yt&be)===be:(m&be)===be){be!==0&&be===el&&(Um=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var yt=r,ht=P;be=i;var un=c;switch(ht.tag){case 1:if(yt=ht.payload,typeof yt=="function"){Ce=yt.call(un,Ce,be);break e}Ce=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=ht.payload,be=typeof yt=="function"?yt.call(un,Ce,be):yt,be==null)break e;Ce=p({},Ce,be);break e;case 2:Qa=!0}}be=P.callback,be!==null&&(r.flags|=64,ve&&(r.flags|=8192),ve=x.callbacks,ve===null?x.callbacks=[be]:ve.push(be))}else ve={lane:be,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Ne===null?(pe=Ne=ve,K=Ce):Ne=Ne.next=ve,T|=be;if(P=P.next,P===null){if(P=x.shared.pending,P===null)break;ve=P,P=ve.next,ve.next=null,x.lastBaseUpdate=ve,x.shared.pending=null}}while(!0);Ne===null&&(K=Ce),x.baseState=K,x.firstBaseUpdate=pe,x.lastBaseUpdate=Ne,v===null&&(x.shared.lanes=0),oi|=T,r.lanes=T,r.memoizedState=Ce}}function xb(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function yb(r,i){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)xb(c[r],i)}var nl=ae(null),Sd=ae(0);function bb(r,i){r=ka,I(Sd,r),I(nl,i),ka=r|i.baseLanes}function Bm(){I(Sd,ka),I(nl,nl.current)}function Fm(){ka=Sd.current,we(nl),we(Sd)}var ei=0,Pt=null,ln=null,$n=null,Nd=!1,sl=!1,ro=!1,Ed=0,Ac=0,rl=null,nk=0;function Pn(){throw Error(s(321))}function Hm(r,i){if(i===null)return!1;for(var c=0;c<i.length&&c<r.length;c++)if(!Ys(r[c],i[c]))return!1;return!0}function Vm(r,i,c,m,x,v){return ei=v,Pt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=r===null||r.memoizedState===null?nv:sv,ro=!1,v=c(m,x),ro=!1,sl&&(v=wb(i,c,m,x)),vb(r),v}function vb(r){F.H=Rd;var i=ln!==null&&ln.next!==null;if(ei=0,$n=ln=Pt=null,Nd=!1,Ac=0,rl=null,i)throw Error(s(300));r===null||ls||(r=r.dependencies,r!==null&&bd(r)&&(ls=!0))}function wb(r,i,c,m){Pt=r;var x=0;do{if(sl&&(rl=null),Ac=0,sl=!1,25<=x)throw Error(s(301));if(x+=1,$n=ln=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}F.H=ck,v=i(c,m)}while(sl);return v}function sk(){var r=F.H,i=r.useState()[0];return i=typeof i.then=="function"?Oc(i):i,r=r.useState()[0],(ln!==null?ln.memoizedState:null)!==r&&(Pt.flags|=1024),i}function $m(){var r=Ed!==0;return Ed=0,r}function qm(r,i,c){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~c}function Im(r){if(Nd){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nd=!1}ei=0,$n=ln=Pt=null,sl=!1,Ac=Ed=0,rl=null}function Ps(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?Pt.memoizedState=$n=r:$n=$n.next=r,$n}function qn(){if(ln===null){var r=Pt.alternate;r=r!==null?r.memoizedState:null}else r=ln.next;var i=$n===null?Pt.memoizedState:$n.next;if(i!==null)$n=i,ln=r;else{if(r===null)throw Pt.alternate===null?Error(s(467)):Error(s(310));ln=r,r={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},$n===null?Pt.memoizedState=$n=r:$n=$n.next=r}return $n}function Ym(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oc(r){var i=Ac;return Ac+=1,rl===null&&(rl=[]),r=mb(rl,r,i),i=Pt,($n===null?i.memoizedState:$n.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?nv:sv),r}function Td(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Oc(r);if(r.$$typeof===A)return bs(r)}throw Error(s(438,String(r)))}function Wm(r){var i=null,c=Pt.updateQueue;if(c!==null&&(i=c.memoCache),i==null){var m=Pt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(i={data:m.data.map(function(x){return x.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),c===null&&(c=Ym(),Pt.updateQueue=c),c.memoCache=i,c=i.data[i.index],c===void 0)for(c=i.data[i.index]=Array(r),m=0;m<r;m++)c[m]=te;return i.index++,c}function _a(r,i){return typeof i=="function"?i(r):i}function kd(r){var i=qn();return Xm(i,ln,r)}function Xm(r,i,c){var m=r.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=c;var x=r.baseQueue,v=m.pending;if(v!==null){if(x!==null){var T=x.next;x.next=v.next,v.next=T}i.baseQueue=x=v,m.pending=null}if(v=r.baseState,x===null)r.memoizedState=v;else{i=x.next;var P=T=null,K=null,pe=i,Ne=!1;do{var Ce=pe.lane&-536870913;if(Ce!==pe.lane?(Yt&Ce)===Ce:(ei&Ce)===Ce){var be=pe.revertLane;if(be===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),Ce===el&&(Ne=!0);else if((ei&be)===be){pe=pe.next,be===el&&(Ne=!0);continue}else Ce={lane:0,revertLane:pe.revertLane,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},K===null?(P=K=Ce,T=v):K=K.next=Ce,Pt.lanes|=be,oi|=be;Ce=pe.action,ro&&c(v,Ce),v=pe.hasEagerState?pe.eagerState:c(v,Ce)}else be={lane:Ce,revertLane:pe.revertLane,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},K===null?(P=K=be,T=v):K=K.next=be,Pt.lanes|=Ce,oi|=Ce;pe=pe.next}while(pe!==null&&pe!==i);if(K===null?T=v:K.next=P,!Ys(v,r.memoizedState)&&(ls=!0,Ne&&(c=tl,c!==null)))throw c;r.memoizedState=v,r.baseState=T,r.baseQueue=K,m.lastRenderedState=v}return x===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function Gm(r){var i=qn(),c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=r;var m=c.dispatch,x=c.pending,v=i.memoizedState;if(x!==null){c.pending=null;var T=x=x.next;do v=r(v,T.action),T=T.next;while(T!==x);Ys(v,i.memoizedState)||(ls=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),c.lastRenderedState=v}return[v,m]}function _b(r,i,c){var m=Pt,x=qn(),v=tn;if(v){if(c===void 0)throw Error(s(407));c=c()}else c=i();var T=!Ys((ln||x).memoizedState,c);T&&(x.memoizedState=c,ls=!0),x=x.queue;var P=Nb.bind(null,m,x,r);if(Rc(2048,8,P,[r]),x.getSnapshot!==i||T||$n!==null&&$n.memoizedState.tag&1){if(m.flags|=2048,al(9,Cd(),Sb.bind(null,m,x,c,i),null),gn===null)throw Error(s(349));v||(ei&124)!==0||jb(m,i,c)}return c}function jb(r,i,c){r.flags|=16384,r={getSnapshot:i,value:c},i=Pt.updateQueue,i===null?(i=Ym(),Pt.updateQueue=i,i.stores=[r]):(c=i.stores,c===null?i.stores=[r]:c.push(r))}function Sb(r,i,c,m){i.value=c,i.getSnapshot=m,Eb(i)&&Tb(r)}function Nb(r,i,c){return c(function(){Eb(i)&&Tb(r)})}function Eb(r){var i=r.getSnapshot;r=r.value;try{var c=i();return!Ys(r,c)}catch(m){return!0}}function Tb(r){var i=Ko(r,2);i!==null&&Zs(i,r,2)}function Km(r){var i=Ps();if(typeof r=="function"){var c=r;if(r=c(),ro){Ke(!0);try{c()}finally{Ke(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:r},i}function kb(r,i,c,m){return r.baseState=c,Xm(r,ln,typeof m=="function"?m:_a)}function rk(r,i,c,m,x){if(Od(r))throw Error(s(485));if(r=i.action,r!==null){var v={payload:x,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){v.listeners.push(T)}};F.T!==null?c(!0):v.isTransition=!1,m(v),c=i.pending,c===null?(v.next=i.pending=v,Cb(i,v)):(v.next=c.next,i.pending=c.next=v)}}function Cb(r,i){var c=i.action,m=i.payload,x=r.state;if(i.isTransition){var v=F.T,T={};F.T=T;try{var P=c(x,m),K=F.S;K!==null&&K(T,P),Ab(r,i,P)}catch(pe){Qm(r,i,pe)}finally{F.T=v}}else try{v=c(x,m),Ab(r,i,v)}catch(pe){Qm(r,i,pe)}}function Ab(r,i,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){Ob(r,i,m)},function(m){return Qm(r,i,m)}):Ob(r,i,c)}function Ob(r,i,c){i.status="fulfilled",i.value=c,Rb(i),r.state=c,i=r.pending,i!==null&&(c=i.next,c===i?r.pending=null:(c=c.next,i.next=c,Cb(r,c)))}function Qm(r,i,c){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do i.status="rejected",i.reason=c,Rb(i),i=i.next;while(i!==m)}r.action=null}function Rb(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Db(r,i){return i}function Mb(r,i){if(tn){var c=gn.formState;if(c!==null){e:{var m=Pt;if(tn){if(Dn){t:{for(var x=Dn,v=Ir;x.nodeType!==8;){if(!v){x=null;break t}if(x=Ar(x.nextSibling),x===null){x=null;break t}}v=x.data,x=v==="F!"||v==="F"?x:null}if(x){Dn=Ar(x.nextSibling),m=x.data==="F!";break e}}eo(m)}m=!1}m&&(i=c[0])}}return c=Ps(),c.memoizedState=c.baseState=i,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Db,lastRenderedState:i},c.queue=m,c=Jb.bind(null,Pt,m),m.dispatch=c,m=Km(!1),v=np.bind(null,Pt,!1,m.queue),m=Ps(),x={state:i,dispatch:null,action:r,pending:null},m.queue=x,c=rk.bind(null,Pt,x,v,c),x.dispatch=c,m.memoizedState=r,[i,c,!1]}function Pb(r){var i=qn();return Lb(i,ln,r)}function Lb(r,i,c){if(i=Xm(r,i,Db)[0],r=kd(_a)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var m=Oc(i)}catch(T){throw T===Nc?_d:T}else m=i;i=qn();var x=i.queue,v=x.dispatch;return c!==i.memoizedState&&(Pt.flags|=2048,al(9,Cd(),ak.bind(null,x,c),null)),[m,v,r]}function ak(r,i){r.action=i}function zb(r){var i=qn(),c=ln;if(c!==null)return Lb(i,c,r);qn(),i=i.memoizedState,c=qn();var m=c.queue.dispatch;return c.memoizedState=r,[i,m,!1]}function al(r,i,c,m){return r={tag:r,create:c,deps:m,inst:i,next:null},i=Pt.updateQueue,i===null&&(i=Ym(),Pt.updateQueue=i),c=i.lastEffect,c===null?i.lastEffect=r.next=r:(m=c.next,c.next=r,r.next=m,i.lastEffect=r),r}function Cd(){return{destroy:void 0,resource:void 0}}function Ub(){return qn().memoizedState}function Ad(r,i,c,m){var x=Ps();m=m===void 0?null:m,Pt.flags|=r,x.memoizedState=al(1|i,Cd(),c,m)}function Rc(r,i,c,m){var x=qn();m=m===void 0?null:m;var v=x.memoizedState.inst;ln!==null&&m!==null&&Hm(m,ln.memoizedState.deps)?x.memoizedState=al(i,v,c,m):(Pt.flags|=r,x.memoizedState=al(1|i,v,c,m))}function Bb(r,i){Ad(8390656,8,r,i)}function Fb(r,i){Rc(2048,8,r,i)}function Hb(r,i){return Rc(4,2,r,i)}function Vb(r,i){return Rc(4,4,r,i)}function $b(r,i){if(typeof i=="function"){r=r();var c=i(r);return function(){typeof c=="function"?c():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function qb(r,i,c){c=c!=null?c.concat([r]):null,Rc(4,4,$b.bind(null,i,r),c)}function Zm(){}function Ib(r,i){var c=qn();i=i===void 0?null:i;var m=c.memoizedState;return i!==null&&Hm(i,m[1])?m[0]:(c.memoizedState=[r,i],r)}function Yb(r,i){var c=qn();i=i===void 0?null:i;var m=c.memoizedState;if(i!==null&&Hm(i,m[1]))return m[0];if(m=r(),ro){Ke(!0);try{r()}finally{Ke(!1)}}return c.memoizedState=[m,i],m}function Jm(r,i,c){return c===void 0||(ei&1073741824)!==0?r.memoizedState=i:(r.memoizedState=c,r=Gv(),Pt.lanes|=r,oi|=r,c)}function Wb(r,i,c,m){return Ys(c,i)?c:nl.current!==null?(r=Jm(r,c,m),Ys(r,i)||(ls=!0),r):(ei&42)===0?(ls=!0,r.memoizedState=c):(r=Gv(),Pt.lanes|=r,oi|=r,i)}function Xb(r,i,c,m,x){var v=Y.p;Y.p=v!==0&&8>v?v:8;var T=F.T,P={};F.T=P,np(r,!1,i,c);try{var K=x(),pe=F.S;if(pe!==null&&pe(P,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var Ne=tk(K,m);Dc(r,i,Ne,Qs(r))}else Dc(r,i,m,Qs(r))}catch(Ce){Dc(r,i,{then:function(){},status:"rejected",reason:Ce},Qs())}finally{Y.p=v,F.T=T}}function ik(){}function ep(r,i,c,m){if(r.tag!==5)throw Error(s(476));var x=Gb(r).queue;Xb(r,x,i,G,c===null?ik:function(){return Kb(r),c(m)})}function Gb(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:G},next:null};var c={};return i.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:c},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Kb(r){var i=Gb(r).next.queue;Dc(r,i,{},Qs())}function tp(){return bs(Qc)}function Qb(){return qn().memoizedState}function Zb(){return qn().memoizedState}function ok(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var c=Qs();r=Za(c);var m=Ja(i,r,c);m!==null&&(Zs(m,i,c),Tc(m,i,c)),i={cache:Om()},r.payload=i;return}i=i.return}}function lk(r,i,c){var m=Qs();c={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Od(r)?ev(i,c):(c=wm(r,i,c,m),c!==null&&(Zs(c,r,m),tv(c,i,m)))}function Jb(r,i,c){var m=Qs();Dc(r,i,c,m)}function Dc(r,i,c,m){var x={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Od(r))ev(i,x);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var T=i.lastRenderedState,P=v(T,c);if(x.hasEagerState=!0,x.eagerState=P,Ys(P,T))return md(r,i,x,0),gn===null&&hd(),!1}catch(K){}finally{}if(c=wm(r,i,x,m),c!==null)return Zs(c,r,m),tv(c,i,m),!0}return!1}function np(r,i,c,m){if(m={lane:2,revertLane:Mp(),action:m,hasEagerState:!1,eagerState:null,next:null},Od(r)){if(i)throw Error(s(479))}else i=wm(r,c,m,2),i!==null&&Zs(i,r,2)}function Od(r){var i=r.alternate;return r===Pt||i!==null&&i===Pt}function ev(r,i){sl=Nd=!0;var c=r.pending;c===null?i.next=i:(i.next=c.next,c.next=i),r.pending=i}function tv(r,i,c){if((c&4194048)!==0){var m=i.lanes;m&=r.pendingLanes,c|=m,i.lanes=c,wt(r,c)}}var Rd={readContext:bs,use:Td,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn},nv={readContext:bs,use:Td,useCallback:function(r,i){return Ps().memoizedState=[r,i===void 0?null:i],r},useContext:bs,useEffect:Bb,useImperativeHandle:function(r,i,c){c=c!=null?c.concat([r]):null,Ad(4194308,4,$b.bind(null,i,r),c)},useLayoutEffect:function(r,i){return Ad(4194308,4,r,i)},useInsertionEffect:function(r,i){Ad(4,2,r,i)},useMemo:function(r,i){var c=Ps();i=i===void 0?null:i;var m=r();if(ro){Ke(!0);try{r()}finally{Ke(!1)}}return c.memoizedState=[m,i],m},useReducer:function(r,i,c){var m=Ps();if(c!==void 0){var x=c(i);if(ro){Ke(!0);try{c(i)}finally{Ke(!1)}}}else x=i;return m.memoizedState=m.baseState=x,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:x},m.queue=r,r=r.dispatch=lk.bind(null,Pt,r),[m.memoizedState,r]},useRef:function(r){var i=Ps();return r={current:r},i.memoizedState=r},useState:function(r){r=Km(r);var i=r.queue,c=Jb.bind(null,Pt,i);return i.dispatch=c,[r.memoizedState,c]},useDebugValue:Zm,useDeferredValue:function(r,i){var c=Ps();return Jm(c,r,i)},useTransition:function(){var r=Km(!1);return r=Xb.bind(null,Pt,r.queue,!0,!1),Ps().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,c){var m=Pt,x=Ps();if(tn){if(c===void 0)throw Error(s(407));c=c()}else{if(c=i(),gn===null)throw Error(s(349));(Yt&124)!==0||jb(m,i,c)}x.memoizedState=c;var v={value:c,getSnapshot:i};return x.queue=v,Bb(Nb.bind(null,m,v,r),[r]),m.flags|=2048,al(9,Cd(),Sb.bind(null,m,v,c,i),null),c},useId:function(){var r=Ps(),i=gn.identifierPrefix;if(tn){var c=ba,m=ya;c=(m&~(1<<32-xt(m)-1)).toString(32)+c,i="«"+i+"R"+c,c=Ed++,0<c&&(i+="H"+c.toString(32)),i+="»"}else c=nk++,i="«"+i+"r"+c.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:tp,useFormState:Mb,useActionState:Mb,useOptimistic:function(r){var i=Ps();i.memoizedState=i.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=c,i=np.bind(null,Pt,!0,c),c.dispatch=i,[r,i]},useMemoCache:Wm,useCacheRefresh:function(){return Ps().memoizedState=ok.bind(null,Pt)}},sv={readContext:bs,use:Td,useCallback:Ib,useContext:bs,useEffect:Fb,useImperativeHandle:qb,useInsertionEffect:Hb,useLayoutEffect:Vb,useMemo:Yb,useReducer:kd,useRef:Ub,useState:function(){return kd(_a)},useDebugValue:Zm,useDeferredValue:function(r,i){var c=qn();return Wb(c,ln.memoizedState,r,i)},useTransition:function(){var r=kd(_a)[0],i=qn().memoizedState;return[typeof r=="boolean"?r:Oc(r),i]},useSyncExternalStore:_b,useId:Qb,useHostTransitionStatus:tp,useFormState:Pb,useActionState:Pb,useOptimistic:function(r,i){var c=qn();return kb(c,ln,r,i)},useMemoCache:Wm,useCacheRefresh:Zb},ck={readContext:bs,use:Td,useCallback:Ib,useContext:bs,useEffect:Fb,useImperativeHandle:qb,useInsertionEffect:Hb,useLayoutEffect:Vb,useMemo:Yb,useReducer:Gm,useRef:Ub,useState:function(){return Gm(_a)},useDebugValue:Zm,useDeferredValue:function(r,i){var c=qn();return ln===null?Jm(c,r,i):Wb(c,ln.memoizedState,r,i)},useTransition:function(){var r=Gm(_a)[0],i=qn().memoizedState;return[typeof r=="boolean"?r:Oc(r),i]},useSyncExternalStore:_b,useId:Qb,useHostTransitionStatus:tp,useFormState:zb,useActionState:zb,useOptimistic:function(r,i){var c=qn();return ln!==null?kb(c,ln,r,i):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:Wm,useCacheRefresh:Zb},il=null,Mc=0;function Dd(r){var i=Mc;return Mc+=1,il===null&&(il=[]),mb(il,r,i)}function Pc(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Md(r,i){throw i.$$typeof===g?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function rv(r){var i=r._init;return i(r._payload)}function av(r){function i(le,ne){if(r){var he=le.deletions;he===null?(le.deletions=[ne],le.flags|=16):he.push(ne)}}function c(le,ne){if(!r)return null;for(;ne!==null;)i(le,ne),ne=ne.sibling;return null}function m(le){for(var ne=new Map;le!==null;)le.key!==null?ne.set(le.key,le):ne.set(le.index,le),le=le.sibling;return ne}function x(le,ne){return le=xa(le,ne),le.index=0,le.sibling=null,le}function v(le,ne,he){return le.index=he,r?(he=le.alternate,he!==null?(he=he.index,he<ne?(le.flags|=67108866,ne):he):(le.flags|=67108866,ne)):(le.flags|=1048576,ne)}function T(le){return r&&le.alternate===null&&(le.flags|=67108866),le}function P(le,ne,he,Te){return ne===null||ne.tag!==6?(ne=jm(he,le.mode,Te),ne.return=le,ne):(ne=x(ne,he),ne.return=le,ne)}function K(le,ne,he,Te){var Ze=he.type;return Ze===w?Ne(le,ne,he.props.children,Te,he.key):ne!==null&&(ne.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===D&&rv(Ze)===ne.type)?(ne=x(ne,he.props),Pc(ne,he),ne.return=le,ne):(ne=gd(he.type,he.key,he.props,null,le.mode,Te),Pc(ne,he),ne.return=le,ne)}function pe(le,ne,he,Te){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==he.containerInfo||ne.stateNode.implementation!==he.implementation?(ne=Sm(he,le.mode,Te),ne.return=le,ne):(ne=x(ne,he.children||[]),ne.return=le,ne)}function Ne(le,ne,he,Te,Ze){return ne===null||ne.tag!==7?(ne=Ki(he,le.mode,Te,Ze),ne.return=le,ne):(ne=x(ne,he),ne.return=le,ne)}function Ce(le,ne,he){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=jm(""+ne,le.mode,he),ne.return=le,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case b:return he=gd(ne.type,ne.key,ne.props,null,le.mode,he),Pc(he,ne),he.return=le,he;case y:return ne=Sm(ne,le.mode,he),ne.return=le,ne;case D:var Te=ne._init;return ne=Te(ne._payload),Ce(le,ne,he)}if(Z(ne)||W(ne))return ne=Ki(ne,le.mode,he,null),ne.return=le,ne;if(typeof ne.then=="function")return Ce(le,Dd(ne),he);if(ne.$$typeof===A)return Ce(le,vd(le,ne),he);Md(le,ne)}return null}function be(le,ne,he,Te){var Ze=ne!==null?ne.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Ze!==null?null:P(le,ne,""+he,Te);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case b:return he.key===Ze?K(le,ne,he,Te):null;case y:return he.key===Ze?pe(le,ne,he,Te):null;case D:return Ze=he._init,he=Ze(he._payload),be(le,ne,he,Te)}if(Z(he)||W(he))return Ze!==null?null:Ne(le,ne,he,Te,null);if(typeof he.then=="function")return be(le,ne,Dd(he),Te);if(he.$$typeof===A)return be(le,ne,vd(le,he),Te);Md(le,he)}return null}function ve(le,ne,he,Te,Ze){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return le=le.get(he)||null,P(ne,le,""+Te,Ze);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case b:return le=le.get(Te.key===null?he:Te.key)||null,K(ne,le,Te,Ze);case y:return le=le.get(Te.key===null?he:Te.key)||null,pe(ne,le,Te,Ze);case D:var zt=Te._init;return Te=zt(Te._payload),ve(le,ne,he,Te,Ze)}if(Z(Te)||W(Te))return le=le.get(he)||null,Ne(ne,le,Te,Ze,null);if(typeof Te.then=="function")return ve(le,ne,he,Dd(Te),Ze);if(Te.$$typeof===A)return ve(le,ne,he,vd(ne,Te),Ze);Md(ne,Te)}return null}function yt(le,ne,he,Te){for(var Ze=null,zt=null,ot=ne,pt=ne=0,us=null;ot!==null&&pt<he.length;pt++){ot.index>pt?(us=ot,ot=null):us=ot.sibling;var Jt=be(le,ot,he[pt],Te);if(Jt===null){ot===null&&(ot=us);break}r&&ot&&Jt.alternate===null&&i(le,ot),ne=v(Jt,ne,pt),zt===null?Ze=Jt:zt.sibling=Jt,zt=Jt,ot=us}if(pt===he.length)return c(le,ot),tn&&Zi(le,pt),Ze;if(ot===null){for(;pt<he.length;pt++)ot=Ce(le,he[pt],Te),ot!==null&&(ne=v(ot,ne,pt),zt===null?Ze=ot:zt.sibling=ot,zt=ot);return tn&&Zi(le,pt),Ze}for(ot=m(ot);pt<he.length;pt++)us=ve(ot,le,pt,he[pt],Te),us!==null&&(r&&us.alternate!==null&&ot.delete(us.key===null?pt:us.key),ne=v(us,ne,pt),zt===null?Ze=us:zt.sibling=us,zt=us);return r&&ot.forEach(function(gi){return i(le,gi)}),tn&&Zi(le,pt),Ze}function ht(le,ne,he,Te){if(he==null)throw Error(s(151));for(var Ze=null,zt=null,ot=ne,pt=ne=0,us=null,Jt=he.next();ot!==null&&!Jt.done;pt++,Jt=he.next()){ot.index>pt?(us=ot,ot=null):us=ot.sibling;var gi=be(le,ot,Jt.value,Te);if(gi===null){ot===null&&(ot=us);break}r&&ot&&gi.alternate===null&&i(le,ot),ne=v(gi,ne,pt),zt===null?Ze=gi:zt.sibling=gi,zt=gi,ot=us}if(Jt.done)return c(le,ot),tn&&Zi(le,pt),Ze;if(ot===null){for(;!Jt.done;pt++,Jt=he.next())Jt=Ce(le,Jt.value,Te),Jt!==null&&(ne=v(Jt,ne,pt),zt===null?Ze=Jt:zt.sibling=Jt,zt=Jt);return tn&&Zi(le,pt),Ze}for(ot=m(ot);!Jt.done;pt++,Jt=he.next())Jt=ve(ot,le,pt,Jt.value,Te),Jt!==null&&(r&&Jt.alternate!==null&&ot.delete(Jt.key===null?pt:Jt.key),ne=v(Jt,ne,pt),zt===null?Ze=Jt:zt.sibling=Jt,zt=Jt);return r&&ot.forEach(function(uC){return i(le,uC)}),tn&&Zi(le,pt),Ze}function un(le,ne,he,Te){if(typeof he=="object"&&he!==null&&he.type===w&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case b:e:{for(var Ze=he.key;ne!==null;){if(ne.key===Ze){if(Ze=he.type,Ze===w){if(ne.tag===7){c(le,ne.sibling),Te=x(ne,he.props.children),Te.return=le,le=Te;break e}}else if(ne.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===D&&rv(Ze)===ne.type){c(le,ne.sibling),Te=x(ne,he.props),Pc(Te,he),Te.return=le,le=Te;break e}c(le,ne);break}else i(le,ne);ne=ne.sibling}he.type===w?(Te=Ki(he.props.children,le.mode,Te,he.key),Te.return=le,le=Te):(Te=gd(he.type,he.key,he.props,null,le.mode,Te),Pc(Te,he),Te.return=le,le=Te)}return T(le);case y:e:{for(Ze=he.key;ne!==null;){if(ne.key===Ze)if(ne.tag===4&&ne.stateNode.containerInfo===he.containerInfo&&ne.stateNode.implementation===he.implementation){c(le,ne.sibling),Te=x(ne,he.children||[]),Te.return=le,le=Te;break e}else{c(le,ne);break}else i(le,ne);ne=ne.sibling}Te=Sm(he,le.mode,Te),Te.return=le,le=Te}return T(le);case D:return Ze=he._init,he=Ze(he._payload),un(le,ne,he,Te)}if(Z(he))return yt(le,ne,he,Te);if(W(he)){if(Ze=W(he),typeof Ze!="function")throw Error(s(150));return he=Ze.call(he),ht(le,ne,he,Te)}if(typeof he.then=="function")return un(le,ne,Dd(he),Te);if(he.$$typeof===A)return un(le,ne,vd(le,he),Te);Md(le,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,ne!==null&&ne.tag===6?(c(le,ne.sibling),Te=x(ne,he),Te.return=le,le=Te):(c(le,ne),Te=jm(he,le.mode,Te),Te.return=le,le=Te),T(le)):c(le,ne)}return function(le,ne,he,Te){try{Mc=0;var Ze=un(le,ne,he,Te);return il=null,Ze}catch(ot){if(ot===Nc||ot===_d)throw ot;var zt=Ws(29,ot,null,le.mode);return zt.lanes=Te,zt.return=le,zt}finally{}}}var ol=av(!0),iv=av(!1),mr=ae(null),Yr=null;function ti(r){var i=r.alternate;I(Jn,Jn.current&1),I(mr,r),Yr===null&&(i===null||nl.current!==null||i.memoizedState!==null)&&(Yr=r)}function ov(r){if(r.tag===22){if(I(Jn,Jn.current),I(mr,r),Yr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Yr=r)}}else ni()}function ni(){I(Jn,Jn.current),I(mr,mr.current)}function ja(r){we(mr),Yr===r&&(Yr=null),we(Jn)}var Jn=ae(0);function Pd(r){for(var i=r;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Yp(c)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function sp(r,i,c,m){i=r.memoizedState,c=c(m,i),c=c==null?i:p({},i,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var rp={enqueueSetState:function(r,i,c){r=r._reactInternals;var m=Qs(),x=Za(m);x.payload=i,c!=null&&(x.callback=c),i=Ja(r,x,m),i!==null&&(Zs(i,r,m),Tc(i,r,m))},enqueueReplaceState:function(r,i,c){r=r._reactInternals;var m=Qs(),x=Za(m);x.tag=1,x.payload=i,c!=null&&(x.callback=c),i=Ja(r,x,m),i!==null&&(Zs(i,r,m),Tc(i,r,m))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var c=Qs(),m=Za(c);m.tag=2,i!=null&&(m.callback=i),i=Ja(r,m,c),i!==null&&(Zs(i,r,c),Tc(i,r,c))}};function lv(r,i,c,m,x,v,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,v,T):i.prototype&&i.prototype.isPureReactComponent?!xc(c,m)||!xc(x,v):!0}function cv(r,i,c,m){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,m),i.state!==r&&rp.enqueueReplaceState(i,i.state,null)}function ao(r,i){var c=i;if("ref"in i){c={};for(var m in i)m!=="ref"&&(c[m]=i[m])}if(r=r.defaultProps){c===i&&(c=p({},c));for(var x in r)c[x]===void 0&&(c[x]=r[x])}return c}var Ld=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function uv(r){Ld(r)}function dv(r){console.error(r)}function fv(r){Ld(r)}function zd(r,i){try{var c=r.onUncaughtError;c(i.value,{componentStack:i.stack})}catch(m){setTimeout(function(){throw m})}}function hv(r,i,c){try{var m=r.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function ap(r,i,c){return c=Za(c),c.tag=3,c.payload={element:null},c.callback=function(){zd(r,i)},c}function mv(r){return r=Za(r),r.tag=3,r}function pv(r,i,c,m){var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var v=m.value;r.payload=function(){return x(v)},r.callback=function(){hv(i,c,m)}}var T=c.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){hv(i,c,m),typeof x!="function"&&(li===null?li=new Set([this]):li.add(this));var P=m.stack;this.componentDidCatch(m.value,{componentStack:P!==null?P:""})})}function uk(r,i,c,m,x){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(i=c.alternate,i!==null&&_c(i,c,x,!0),c=mr.current,c!==null){switch(c.tag){case 13:return Yr===null?Cp():c.alternate===null&&Mn===0&&(Mn=3),c.flags&=-257,c.flags|=65536,c.lanes=x,m===Mm?c.flags|=16384:(i=c.updateQueue,i===null?c.updateQueue=new Set([m]):i.add(m),Op(r,m,x)),!1;case 22:return c.flags|=65536,m===Mm?c.flags|=16384:(i=c.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=i):(c=i.retryQueue,c===null?i.retryQueue=new Set([m]):c.add(m)),Op(r,m,x)),!1}throw Error(s(435,c.tag))}return Op(r,m,x),Cp(),!1}if(tn)return i=mr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=x,m!==Tm&&(r=Error(s(422),{cause:m}),wc(ur(r,c)))):(m!==Tm&&(i=Error(s(423),{cause:m}),wc(ur(i,c))),r=r.current.alternate,r.flags|=65536,x&=-x,r.lanes|=x,m=ur(m,c),x=ap(r.stateNode,m,x),zm(r,x),Mn!==4&&(Mn=2)),!1;var v=Error(s(520),{cause:m});if(v=ur(v,c),Vc===null?Vc=[v]:Vc.push(v),Mn!==4&&(Mn=2),i===null)return!0;m=ur(m,c),c=i;do{switch(c.tag){case 3:return c.flags|=65536,r=x&-x,c.lanes|=r,r=ap(c.stateNode,m,r),zm(c,r),!1;case 1:if(i=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(li===null||!li.has(v))))return c.flags|=65536,x&=-x,c.lanes|=x,x=mv(x),pv(x,r,c,m),zm(c,x),!1}c=c.return}while(c!==null);return!1}var gv=Error(s(461)),ls=!1;function hs(r,i,c,m){i.child=r===null?iv(i,null,c,m):ol(i,r.child,c,m)}function xv(r,i,c,m,x){c=c.render;var v=i.ref;if("ref"in m){var T={};for(var P in m)P!=="ref"&&(T[P]=m[P])}else T=m;return no(i),m=Vm(r,i,c,T,v,x),P=$m(),r!==null&&!ls?(qm(r,i,x),Sa(r,i,x)):(tn&&P&&Nm(i),i.flags|=1,hs(r,i,m,x),i.child)}function yv(r,i,c,m,x){if(r===null){var v=c.type;return typeof v=="function"&&!_m(v)&&v.defaultProps===void 0&&c.compare===null?(i.tag=15,i.type=v,bv(r,i,v,m,x)):(r=gd(c.type,null,m,i,i.mode,x),r.ref=i.ref,r.return=i,i.child=r)}if(v=r.child,!hp(r,x)){var T=v.memoizedProps;if(c=c.compare,c=c!==null?c:xc,c(T,m)&&r.ref===i.ref)return Sa(r,i,x)}return i.flags|=1,r=xa(v,m),r.ref=i.ref,r.return=i,i.child=r}function bv(r,i,c,m,x){if(r!==null){var v=r.memoizedProps;if(xc(v,m)&&r.ref===i.ref)if(ls=!1,i.pendingProps=m=v,hp(r,x))(r.flags&131072)!==0&&(ls=!0);else return i.lanes=r.lanes,Sa(r,i,x)}return ip(r,i,c,m,x)}function vv(r,i,c){var m=i.pendingProps,x=m.children,v=r!==null?r.memoizedState:null;if(m.mode==="hidden"){if((i.flags&128)!==0){if(m=v!==null?v.baseLanes|c:c,r!==null){for(x=i.child=r.child,v=0;x!==null;)v=v|x.lanes|x.childLanes,x=x.sibling;i.childLanes=v&~m}else i.childLanes=0,i.child=null;return wv(r,i,m,c)}if((c&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&wd(i,v!==null?v.cachePool:null),v!==null?bb(i,v):Bm(),ov(i);else return i.lanes=i.childLanes=536870912,wv(r,i,v!==null?v.baseLanes|c:c,c)}else v!==null?(wd(i,v.cachePool),bb(i,v),ni(),i.memoizedState=null):(r!==null&&wd(i,null),Bm(),ni());return hs(r,i,x,c),i.child}function wv(r,i,c,m){var x=Dm();return x=x===null?null:{parent:Zn._currentValue,pool:x},i.memoizedState={baseLanes:c,cachePool:x},r!==null&&wd(i,null),Bm(),ov(i),r!==null&&_c(r,i,m,!0),null}function Ud(r,i){var c=i.ref;if(c===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(r===null||r.ref!==c)&&(i.flags|=4194816)}}function ip(r,i,c,m,x){return no(i),c=Vm(r,i,c,m,void 0,x),m=$m(),r!==null&&!ls?(qm(r,i,x),Sa(r,i,x)):(tn&&m&&Nm(i),i.flags|=1,hs(r,i,c,x),i.child)}function _v(r,i,c,m,x,v){return no(i),i.updateQueue=null,c=wb(i,m,c,x),vb(r),m=$m(),r!==null&&!ls?(qm(r,i,v),Sa(r,i,v)):(tn&&m&&Nm(i),i.flags|=1,hs(r,i,c,v),i.child)}function jv(r,i,c,m,x){if(no(i),i.stateNode===null){var v=Qo,T=c.contextType;typeof T=="object"&&T!==null&&(v=bs(T)),v=new c(m,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=rp,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=m,v.state=i.memoizedState,v.refs={},Pm(i),T=c.contextType,v.context=typeof T=="object"&&T!==null?bs(T):Qo,v.state=i.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(sp(i,c,T,m),v.state=i.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(T=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),T!==v.state&&rp.enqueueReplaceState(v,v.state,null),Cc(i,m,v,x),kc(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),m=!0}else if(r===null){v=i.stateNode;var P=i.memoizedProps,K=ao(c,P);v.props=K;var pe=v.context,Ne=c.contextType;T=Qo,typeof Ne=="object"&&Ne!==null&&(T=bs(Ne));var Ce=c.getDerivedStateFromProps;Ne=typeof Ce=="function"||typeof v.getSnapshotBeforeUpdate=="function",P=i.pendingProps!==P,Ne||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(P||pe!==T)&&cv(i,v,m,T),Qa=!1;var be=i.memoizedState;v.state=be,Cc(i,m,v,x),kc(),pe=i.memoizedState,P||be!==pe||Qa?(typeof Ce=="function"&&(sp(i,c,Ce,m),pe=i.memoizedState),(K=Qa||lv(i,c,K,m,be,pe,T))?(Ne||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=pe),v.props=m,v.state=pe,v.context=T,m=K):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{v=i.stateNode,Lm(r,i),T=i.memoizedProps,Ne=ao(c,T),v.props=Ne,Ce=i.pendingProps,be=v.context,pe=c.contextType,K=Qo,typeof pe=="object"&&pe!==null&&(K=bs(pe)),P=c.getDerivedStateFromProps,(pe=typeof P=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==Ce||be!==K)&&cv(i,v,m,K),Qa=!1,be=i.memoizedState,v.state=be,Cc(i,m,v,x),kc();var ve=i.memoizedState;T!==Ce||be!==ve||Qa||r!==null&&r.dependencies!==null&&bd(r.dependencies)?(typeof P=="function"&&(sp(i,c,P,m),ve=i.memoizedState),(Ne=Qa||lv(i,c,Ne,m,be,ve,K)||r!==null&&r.dependencies!==null&&bd(r.dependencies))?(pe||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(m,ve,K),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(m,ve,K)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===r.memoizedProps&&be===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&be===r.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=ve),v.props=m,v.state=ve,v.context=K,m=Ne):(typeof v.componentDidUpdate!="function"||T===r.memoizedProps&&be===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&be===r.memoizedState||(i.flags|=1024),m=!1)}return v=m,Ud(r,i),m=(i.flags&128)!==0,v||m?(v=i.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,r!==null&&m?(i.child=ol(i,r.child,null,x),i.child=ol(i,null,c,x)):hs(r,i,c,x),i.memoizedState=v.state,r=i.child):r=Sa(r,i,x),r}function Sv(r,i,c,m){return vc(),i.flags|=256,hs(r,i,c,m),i.child}var op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lp(r){return{baseLanes:r,cachePool:db()}}function cp(r,i,c){return r=r!==null?r.childLanes&~c:0,i&&(r|=pr),r}function Nv(r,i,c){var m=i.pendingProps,x=!1,v=(i.flags&128)!==0,T;if((T=v)||(T=r!==null&&r.memoizedState===null?!1:(Jn.current&2)!==0),T&&(x=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,r===null){if(tn){if(x?ti(i):ni(),tn){var P=Dn,K;if(K=P){e:{for(K=P,P=Ir;K.nodeType!==8;){if(!P){P=null;break e}if(K=Ar(K.nextSibling),K===null){P=null;break e}}P=K}P!==null?(i.memoizedState={dehydrated:P,treeContext:Qi!==null?{id:ya,overflow:ba}:null,retryLane:536870912,hydrationErrors:null},K=Ws(18,null,null,0),K.stateNode=P,K.return=i,i.child=K,Cs=i,Dn=null,K=!0):K=!1}K||eo(i)}if(P=i.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Yp(P)?i.lanes=32:i.lanes=536870912,null;ja(i)}return P=m.children,m=m.fallback,x?(ni(),x=i.mode,P=Bd({mode:"hidden",children:P},x),m=Ki(m,x,c,null),P.return=i,m.return=i,P.sibling=m,i.child=P,x=i.child,x.memoizedState=lp(c),x.childLanes=cp(r,T,c),i.memoizedState=op,m):(ti(i),up(i,P))}if(K=r.memoizedState,K!==null&&(P=K.dehydrated,P!==null)){if(v)i.flags&256?(ti(i),i.flags&=-257,i=dp(r,i,c)):i.memoizedState!==null?(ni(),i.child=r.child,i.flags|=128,i=null):(ni(),x=m.fallback,P=i.mode,m=Bd({mode:"visible",children:m.children},P),x=Ki(x,P,c,null),x.flags|=2,m.return=i,x.return=i,m.sibling=x,i.child=m,ol(i,r.child,null,c),m=i.child,m.memoizedState=lp(c),m.childLanes=cp(r,T,c),i.memoizedState=op,i=x);else if(ti(i),Yp(P)){if(T=P.nextSibling&&P.nextSibling.dataset,T)var pe=T.dgst;T=pe,m=Error(s(419)),m.stack="",m.digest=T,wc({value:m,source:null,stack:null}),i=dp(r,i,c)}else if(ls||_c(r,i,c,!1),T=(c&r.childLanes)!==0,ls||T){if(T=gn,T!==null&&(m=c&-c,m=(m&42)!==0?1:qt(m),m=(m&(T.suspendedLanes|c))!==0?0:m,m!==0&&m!==K.retryLane))throw K.retryLane=m,Ko(r,m),Zs(T,r,m),gv;P.data==="$?"||Cp(),i=dp(r,i,c)}else P.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=K.treeContext,Dn=Ar(P.nextSibling),Cs=i,tn=!0,Ji=null,Ir=!1,r!==null&&(fr[hr++]=ya,fr[hr++]=ba,fr[hr++]=Qi,ya=r.id,ba=r.overflow,Qi=i),i=up(i,m.children),i.flags|=4096);return i}return x?(ni(),x=m.fallback,P=i.mode,K=r.child,pe=K.sibling,m=xa(K,{mode:"hidden",children:m.children}),m.subtreeFlags=K.subtreeFlags&65011712,pe!==null?x=xa(pe,x):(x=Ki(x,P,c,null),x.flags|=2),x.return=i,m.return=i,m.sibling=x,i.child=m,m=x,x=i.child,P=r.child.memoizedState,P===null?P=lp(c):(K=P.cachePool,K!==null?(pe=Zn._currentValue,K=K.parent!==pe?{parent:pe,pool:pe}:K):K=db(),P={baseLanes:P.baseLanes|c,cachePool:K}),x.memoizedState=P,x.childLanes=cp(r,T,c),i.memoizedState=op,m):(ti(i),c=r.child,r=c.sibling,c=xa(c,{mode:"visible",children:m.children}),c.return=i,c.sibling=null,r!==null&&(T=i.deletions,T===null?(i.deletions=[r],i.flags|=16):T.push(r)),i.child=c,i.memoizedState=null,c)}function up(r,i){return i=Bd({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Bd(r,i){return r=Ws(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function dp(r,i,c){return ol(i,r.child,null,c),r=up(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Ev(r,i,c){r.lanes|=i;var m=r.alternate;m!==null&&(m.lanes|=i),Cm(r.return,i,c)}function fp(r,i,c,m,x){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:x}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=m,v.tail=c,v.tailMode=x)}function Tv(r,i,c){var m=i.pendingProps,x=m.revealOrder,v=m.tail;if(hs(r,i,m.children,c),m=Jn.current,(m&2)!==0)m=m&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ev(r,c,i);else if(r.tag===19)Ev(r,c,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}switch(I(Jn,m),x){case"forwards":for(c=i.child,x=null;c!==null;)r=c.alternate,r!==null&&Pd(r)===null&&(x=c),c=c.sibling;c=x,c===null?(x=i.child,i.child=null):(x=c.sibling,c.sibling=null),fp(i,!1,x,c,v);break;case"backwards":for(c=null,x=i.child,i.child=null;x!==null;){if(r=x.alternate,r!==null&&Pd(r)===null){i.child=x;break}r=x.sibling,x.sibling=c,c=x,x=r}fp(i,!0,c,null,v);break;case"together":fp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Sa(r,i,c){if(r!==null&&(i.dependencies=r.dependencies),oi|=i.lanes,(c&i.childLanes)===0)if(r!==null){if(_c(r,i,c,!1),(c&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,c=xa(r,r.pendingProps),i.child=c,c.return=i;r.sibling!==null;)r=r.sibling,c=c.sibling=xa(r,r.pendingProps),c.return=i;c.sibling=null}return i.child}function hp(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&bd(r)))}function dk(r,i,c){switch(i.tag){case 3:Oe(i,i.stateNode.containerInfo),Ka(i,Zn,r.memoizedState.cache),vc();break;case 27:case 5:He(i);break;case 4:Oe(i,i.stateNode.containerInfo);break;case 10:Ka(i,i.type,i.memoizedProps.value);break;case 13:var m=i.memoizedState;if(m!==null)return m.dehydrated!==null?(ti(i),i.flags|=128,null):(c&i.child.childLanes)!==0?Nv(r,i,c):(ti(i),r=Sa(r,i,c),r!==null?r.sibling:null);ti(i);break;case 19:var x=(r.flags&128)!==0;if(m=(c&i.childLanes)!==0,m||(_c(r,i,c,!1),m=(c&i.childLanes)!==0),x){if(m)return Tv(r,i,c);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),I(Jn,Jn.current),m)break;return null;case 22:case 23:return i.lanes=0,vv(r,i,c);case 24:Ka(i,Zn,r.memoizedState.cache)}return Sa(r,i,c)}function kv(r,i,c){if(r!==null)if(r.memoizedProps!==i.pendingProps)ls=!0;else{if(!hp(r,c)&&(i.flags&128)===0)return ls=!1,dk(r,i,c);ls=(r.flags&131072)!==0}else ls=!1,tn&&(i.flags&1048576)!==0&&rb(i,yd,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var m=i.elementType,x=m._init;if(m=x(m._payload),i.type=m,typeof m=="function")_m(m)?(r=ao(m,r),i.tag=1,i=jv(null,i,m,r,c)):(i.tag=0,i=ip(null,i,m,r,c));else{if(m!=null){if(x=m.$$typeof,x===k){i.tag=11,i=xv(null,i,m,r,c);break e}else if(x===H){i.tag=14,i=yv(null,i,m,r,c);break e}}throw i=me(m)||m,Error(s(306,i,""))}}return i;case 0:return ip(r,i,i.type,i.pendingProps,c);case 1:return m=i.type,x=ao(m,i.pendingProps),jv(r,i,m,x,c);case 3:e:{if(Oe(i,i.stateNode.containerInfo),r===null)throw Error(s(387));m=i.pendingProps;var v=i.memoizedState;x=v.element,Lm(r,i),Cc(i,m,null,c);var T=i.memoizedState;if(m=T.cache,Ka(i,Zn,m),m!==v.cache&&Am(i,[Zn],c,!0),kc(),m=T.element,v.isDehydrated)if(v={element:m,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=Sv(r,i,m,c);break e}else if(m!==x){x=ur(Error(s(424)),i),wc(x),i=Sv(r,i,m,c);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Dn=Ar(r.firstChild),Cs=i,tn=!0,Ji=null,Ir=!0,c=iv(i,null,m,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(vc(),m===x){i=Sa(r,i,c);break e}hs(r,i,m,c)}i=i.child}return i;case 26:return Ud(r,i),r===null?(c=Rw(i.type,null,i.pendingProps,null))?i.memoizedState=c:tn||(c=i.type,r=i.pendingProps,m=Jd(ge.current).createElement(c),m[_e]=i,m[Ae]=r,ps(m,c,r),at(m),i.stateNode=m):i.memoizedState=Rw(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return He(i),r===null&&tn&&(m=i.stateNode=Cw(i.type,i.pendingProps,ge.current),Cs=i,Ir=!0,x=Dn,di(i.type)?(Wp=x,Dn=Ar(m.firstChild)):Dn=x),hs(r,i,i.pendingProps.children,c),Ud(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&tn&&((x=m=Dn)&&(m=Bk(m,i.type,i.pendingProps,Ir),m!==null?(i.stateNode=m,Cs=i,Dn=Ar(m.firstChild),Ir=!1,x=!0):x=!1),x||eo(i)),He(i),x=i.type,v=i.pendingProps,T=r!==null?r.memoizedProps:null,m=v.children,$p(x,v)?m=null:T!==null&&$p(x,T)&&(i.flags|=32),i.memoizedState!==null&&(x=Vm(r,i,sk,null,null,c),Qc._currentValue=x),Ud(r,i),hs(r,i,m,c),i.child;case 6:return r===null&&tn&&((r=c=Dn)&&(c=Fk(c,i.pendingProps,Ir),c!==null?(i.stateNode=c,Cs=i,Dn=null,r=!0):r=!1),r||eo(i)),null;case 13:return Nv(r,i,c);case 4:return Oe(i,i.stateNode.containerInfo),m=i.pendingProps,r===null?i.child=ol(i,null,m,c):hs(r,i,m,c),i.child;case 11:return xv(r,i,i.type,i.pendingProps,c);case 7:return hs(r,i,i.pendingProps,c),i.child;case 8:return hs(r,i,i.pendingProps.children,c),i.child;case 12:return hs(r,i,i.pendingProps.children,c),i.child;case 10:return m=i.pendingProps,Ka(i,i.type,m.value),hs(r,i,m.children,c),i.child;case 9:return x=i.type._context,m=i.pendingProps.children,no(i),x=bs(x),m=m(x),i.flags|=1,hs(r,i,m,c),i.child;case 14:return yv(r,i,i.type,i.pendingProps,c);case 15:return bv(r,i,i.type,i.pendingProps,c);case 19:return Tv(r,i,c);case 31:return m=i.pendingProps,c=i.mode,m={mode:m.mode,children:m.children},r===null?(c=Bd(m,c),c.ref=i.ref,i.child=c,c.return=i,i=c):(c=xa(r.child,m),c.ref=i.ref,i.child=c,c.return=i,i=c),i;case 22:return vv(r,i,c);case 24:return no(i),m=bs(Zn),r===null?(x=Dm(),x===null&&(x=gn,v=Om(),x.pooledCache=v,v.refCount++,v!==null&&(x.pooledCacheLanes|=c),x=v),i.memoizedState={parent:m,cache:x},Pm(i),Ka(i,Zn,x)):((r.lanes&c)!==0&&(Lm(r,i),Cc(i,null,null,c),kc()),x=r.memoizedState,v=i.memoizedState,x.parent!==m?(x={parent:m,cache:m},i.memoizedState=x,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=x),Ka(i,Zn,m)):(m=v.cache,Ka(i,Zn,m),m!==x.cache&&Am(i,[Zn],c,!0))),hs(r,i,i.pendingProps.children,c),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Na(r){r.flags|=4}function Cv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!zw(i)){if(i=mr.current,i!==null&&((Yt&4194048)===Yt?Yr!==null:(Yt&62914560)!==Yt&&(Yt&536870912)===0||i!==Yr))throw Ec=Mm,fb;r.flags|=8192}}function Fd(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Mt():536870912,r.lanes|=i,dl|=i)}function Lc(r,i){if(!tn)switch(r.tailMode){case"hidden":i=r.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function En(r){var i=r.alternate!==null&&r.alternate.child===r.child,c=0,m=0;if(i)for(var x=r.child;x!==null;)c|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)c|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=m,r.childLanes=c,i}function fk(r,i,c){var m=i.pendingProps;switch(Em(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(i),null;case 1:return En(i),null;case 3:return c=i.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),i.memoizedState.cache!==m&&(i.flags|=2048),wa(Zn),We(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(bc(i)?Na(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ob())),En(i),null;case 26:return c=i.memoizedState,r===null?(Na(i),c!==null?(En(i),Cv(i,c)):(En(i),i.flags&=-16777217)):c?c!==r.memoizedState?(Na(i),En(i),Cv(i,c)):(En(i),i.flags&=-16777217):(r.memoizedProps!==m&&Na(i),En(i),i.flags&=-16777217),null;case 27:it(i),c=ge.current;var x=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==m&&Na(i);else{if(!m){if(i.stateNode===null)throw Error(s(166));return En(i),null}r=oe.current,bc(i)?ab(i):(r=Cw(x,m,c),i.stateNode=r,Na(i))}return En(i),null;case 5:if(it(i),c=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==m&&Na(i);else{if(!m){if(i.stateNode===null)throw Error(s(166));return En(i),null}if(r=oe.current,bc(i))ab(i);else{switch(x=Jd(ge.current),r){case 1:r=x.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=x.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=x.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=x.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof m.is=="string"?x.createElement("select",{is:m.is}):x.createElement("select"),m.multiple?r.multiple=!0:m.size&&(r.size=m.size);break;default:r=typeof m.is=="string"?x.createElement(c,{is:m.is}):x.createElement(c)}}r[_e]=i,r[Ae]=m;e:for(x=i.child;x!==null;){if(x.tag===5||x.tag===6)r.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===i)break e;for(;x.sibling===null;){if(x.return===null||x.return===i)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}i.stateNode=r;e:switch(ps(r,c,m),c){case"button":case"input":case"select":case"textarea":r=!!m.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Na(i)}}return En(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==m&&Na(i);else{if(typeof m!="string"&&i.stateNode===null)throw Error(s(166));if(r=ge.current,bc(i)){if(r=i.stateNode,c=i.memoizedProps,m=null,x=Cs,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}r[_e]=i,r=!!(r.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||_w(r.nodeValue,c)),r||eo(i)}else r=Jd(r).createTextNode(m),r[_e]=i,i.stateNode=r}return En(i),null;case 13:if(m=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(x=bc(i),m!==null&&m.dehydrated!==null){if(r===null){if(!x)throw Error(s(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[_e]=i}else vc(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;En(i),x=!1}else x=ob(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=x),x=!0;if(!x)return i.flags&256?(ja(i),i):(ja(i),null)}if(ja(i),(i.flags&128)!==0)return i.lanes=c,i;if(c=m!==null,r=r!==null&&r.memoizedState!==null,c){m=i.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool);var v=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(v=m.memoizedState.cachePool.pool),v!==x&&(m.flags|=2048)}return c!==r&&c&&(i.child.flags|=8192),Fd(i,i.updateQueue),En(i),null;case 4:return We(),r===null&&Up(i.stateNode.containerInfo),En(i),null;case 10:return wa(i.type),En(i),null;case 19:if(we(Jn),x=i.memoizedState,x===null)return En(i),null;if(m=(i.flags&128)!==0,v=x.rendering,v===null)if(m)Lc(x,!1);else{if(Mn!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(v=Pd(r),v!==null){for(i.flags|=128,Lc(x,!1),r=v.updateQueue,i.updateQueue=r,Fd(i,r),i.subtreeFlags=0,r=c,c=i.child;c!==null;)sb(c,r),c=c.sibling;return I(Jn,Jn.current&1|2),i.child}r=r.sibling}x.tail!==null&&jt()>$d&&(i.flags|=128,m=!0,Lc(x,!1),i.lanes=4194304)}else{if(!m)if(r=Pd(v),r!==null){if(i.flags|=128,m=!0,r=r.updateQueue,i.updateQueue=r,Fd(i,r),Lc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!v.alternate&&!tn)return En(i),null}else 2*jt()-x.renderingStartTime>$d&&c!==536870912&&(i.flags|=128,m=!0,Lc(x,!1),i.lanes=4194304);x.isBackwards?(v.sibling=i.child,i.child=v):(r=x.last,r!==null?r.sibling=v:i.child=v,x.last=v)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=jt(),i.sibling=null,r=Jn.current,I(Jn,m?r&1|2:r&1),i):(En(i),null);case 22:case 23:return ja(i),Fm(),m=i.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(i.flags|=8192):m&&(i.flags|=8192),m?(c&536870912)!==0&&(i.flags&128)===0&&(En(i),i.subtreeFlags&6&&(i.flags|=8192)):En(i),c=i.updateQueue,c!==null&&Fd(i,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),m=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(m=i.memoizedState.cachePool.pool),m!==c&&(i.flags|=2048),r!==null&&we(so),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),wa(Zn),En(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function hk(r,i){switch(Em(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return wa(Zn),We(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return it(i),null;case 13:if(ja(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));vc()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return we(Jn),null;case 4:return We(),null;case 10:return wa(i.type),null;case 22:case 23:return ja(i),Fm(),r!==null&&we(so),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return wa(Zn),null;case 25:return null;default:return null}}function Av(r,i){switch(Em(i),i.tag){case 3:wa(Zn),We();break;case 26:case 27:case 5:it(i);break;case 4:We();break;case 13:ja(i);break;case 19:we(Jn);break;case 10:wa(i.type);break;case 22:case 23:ja(i),Fm(),r!==null&&we(so);break;case 24:wa(Zn)}}function zc(r,i){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var x=m.next;c=x;do{if((c.tag&r)===r){m=void 0;var v=c.create,T=c.inst;m=v(),T.destroy=m}c=c.next}while(c!==x)}}catch(P){fn(i,i.return,P)}}function si(r,i,c){try{var m=i.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var v=x.next;m=v;do{if((m.tag&r)===r){var T=m.inst,P=T.destroy;if(P!==void 0){T.destroy=void 0,x=i;var K=c,pe=P;try{pe()}catch(Ne){fn(x,K,Ne)}}}m=m.next}while(m!==v)}}catch(Ne){fn(i,i.return,Ne)}}function Ov(r){var i=r.updateQueue;if(i!==null){var c=r.stateNode;try{yb(i,c)}catch(m){fn(r,r.return,m)}}}function Rv(r,i,c){c.props=ao(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(m){fn(r,i,m)}}function Uc(r,i){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof c=="function"?r.refCleanup=c(m):c.current=m}}catch(x){fn(r,i,x)}}function Wr(r,i){var c=r.ref,m=r.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(x){fn(r,i,x)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(x){fn(r,i,x)}else c.current=null}function Dv(r){var i=r.type,c=r.memoizedProps,m=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(x){fn(r,r.return,x)}}function mp(r,i,c){try{var m=r.stateNode;Mk(m,r.type,c,i),m[Ae]=i}catch(x){fn(r,r.return,x)}}function Mv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&di(r.type)||r.tag===4}function pp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Mv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&di(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function gp(r,i,c){var m=r.tag;if(m===5||m===6)r=r.stateNode,i?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,i):(i=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,i.appendChild(r),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Zd));else if(m!==4&&(m===27&&di(r.type)&&(c=r.stateNode,i=null),r=r.child,r!==null))for(gp(r,i,c),r=r.sibling;r!==null;)gp(r,i,c),r=r.sibling}function Hd(r,i,c){var m=r.tag;if(m===5||m===6)r=r.stateNode,i?c.insertBefore(r,i):c.appendChild(r);else if(m!==4&&(m===27&&di(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(Hd(r,i,c),r=r.sibling;r!==null;)Hd(r,i,c),r=r.sibling}function Pv(r){var i=r.stateNode,c=r.memoizedProps;try{for(var m=r.type,x=i.attributes;x.length;)i.removeAttributeNode(x[0]);ps(i,m,c),i[_e]=r,i[Ae]=c}catch(v){fn(r,r.return,v)}}var Ea=!1,Ln=!1,xp=!1,Lv=typeof WeakSet=="function"?WeakSet:Set,cs=null;function mk(r,i){if(r=r.containerInfo,Hp=af,r=Wy(r),pm(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var x=m.anchorOffset,v=m.focusNode;m=m.focusOffset;try{c.nodeType,v.nodeType}catch(ht){c=null;break e}var T=0,P=-1,K=-1,pe=0,Ne=0,Ce=r,be=null;t:for(;;){for(var ve;Ce!==c||x!==0&&Ce.nodeType!==3||(P=T+x),Ce!==v||m!==0&&Ce.nodeType!==3||(K=T+m),Ce.nodeType===3&&(T+=Ce.nodeValue.length),(ve=Ce.firstChild)!==null;)be=Ce,Ce=ve;for(;;){if(Ce===r)break t;if(be===c&&++pe===x&&(P=T),be===v&&++Ne===m&&(K=T),(ve=Ce.nextSibling)!==null)break;Ce=be,be=Ce.parentNode}Ce=ve}c=P===-1||K===-1?null:{start:P,end:K}}else c=null}c=c||{start:0,end:0}}else c=null;for(Vp={focusedElem:r,selectionRange:c},af=!1,cs=i;cs!==null;)if(i=cs,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,cs=r;else for(;cs!==null;){switch(i=cs,v=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,c=i,x=v.memoizedProps,v=v.memoizedState,m=c.stateNode;try{var yt=ao(c.type,x,c.elementType===c.type);r=m.getSnapshotBeforeUpdate(yt,v),m.__reactInternalSnapshotBeforeUpdate=r}catch(ht){fn(c,c.return,ht)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,c=r.nodeType,c===9)Ip(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Ip(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,cs=r;break}cs=i.return}}function zv(r,i,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:ri(r,c),m&4&&zc(5,c);break;case 1:if(ri(r,c),m&4)if(r=c.stateNode,i===null)try{r.componentDidMount()}catch(T){fn(c,c.return,T)}else{var x=ao(c.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(x,i,r.__reactInternalSnapshotBeforeUpdate)}catch(T){fn(c,c.return,T)}}m&64&&Ov(c),m&512&&Uc(c,c.return);break;case 3:if(ri(r,c),m&64&&(r=c.updateQueue,r!==null)){if(i=null,c.child!==null)switch(c.child.tag){case 27:case 5:i=c.child.stateNode;break;case 1:i=c.child.stateNode}try{yb(r,i)}catch(T){fn(c,c.return,T)}}break;case 27:i===null&&m&4&&Pv(c);case 26:case 5:ri(r,c),i===null&&m&4&&Dv(c),m&512&&Uc(c,c.return);break;case 12:ri(r,c);break;case 13:ri(r,c),m&4&&Fv(r,c),m&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=jk.bind(null,c),Hk(r,c))));break;case 22:if(m=c.memoizedState!==null||Ea,!m){i=i!==null&&i.memoizedState!==null||Ln,x=Ea;var v=Ln;Ea=m,(Ln=i)&&!v?ai(r,c,(c.subtreeFlags&8772)!==0):ri(r,c),Ea=x,Ln=v}break;case 30:break;default:ri(r,c)}}function Uv(r){var i=r.alternate;i!==null&&(r.alternate=null,Uv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&bt(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var wn=null,Ls=!1;function Ta(r,i,c){for(c=c.child;c!==null;)Bv(r,i,c),c=c.sibling}function Bv(r,i,c){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Ue,c)}catch(v){}switch(c.tag){case 26:Ln||Wr(c,i),Ta(r,i,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ln||Wr(c,i);var m=wn,x=Ls;di(c.type)&&(wn=c.stateNode,Ls=!1),Ta(r,i,c),Wc(c.stateNode),wn=m,Ls=x;break;case 5:Ln||Wr(c,i);case 6:if(m=wn,x=Ls,wn=null,Ta(r,i,c),wn=m,Ls=x,wn!==null)if(Ls)try{(wn.nodeType===9?wn.body:wn.nodeName==="HTML"?wn.ownerDocument.body:wn).removeChild(c.stateNode)}catch(v){fn(c,i,v)}else try{wn.removeChild(c.stateNode)}catch(v){fn(c,i,v)}break;case 18:wn!==null&&(Ls?(r=wn,Tw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),tu(r)):Tw(wn,c.stateNode));break;case 4:m=wn,x=Ls,wn=c.stateNode.containerInfo,Ls=!0,Ta(r,i,c),wn=m,Ls=x;break;case 0:case 11:case 14:case 15:Ln||si(2,c,i),Ln||si(4,c,i),Ta(r,i,c);break;case 1:Ln||(Wr(c,i),m=c.stateNode,typeof m.componentWillUnmount=="function"&&Rv(c,i,m)),Ta(r,i,c);break;case 21:Ta(r,i,c);break;case 22:Ln=(m=Ln)||c.memoizedState!==null,Ta(r,i,c),Ln=m;break;default:Ta(r,i,c)}}function Fv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{tu(r)}catch(c){fn(i,i.return,c)}}function pk(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Lv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Lv),i;default:throw Error(s(435,r.tag))}}function yp(r,i){var c=pk(r);i.forEach(function(m){var x=Sk.bind(null,r,m);c.has(m)||(c.add(m),m.then(x,x))})}function Xs(r,i){var c=i.deletions;if(c!==null)for(var m=0;m<c.length;m++){var x=c[m],v=r,T=i,P=T;e:for(;P!==null;){switch(P.tag){case 27:if(di(P.type)){wn=P.stateNode,Ls=!1;break e}break;case 5:wn=P.stateNode,Ls=!1;break e;case 3:case 4:wn=P.stateNode.containerInfo,Ls=!0;break e}P=P.return}if(wn===null)throw Error(s(160));Bv(v,T,x),wn=null,Ls=!1,v=x.alternate,v!==null&&(v.return=null),x.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Hv(i,r),i=i.sibling}var Cr=null;function Hv(r,i){var c=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Xs(i,r),Gs(r),m&4&&(si(3,r,r.return),zc(3,r),si(5,r,r.return));break;case 1:Xs(i,r),Gs(r),m&512&&(Ln||c===null||Wr(c,c.return)),m&64&&Ea&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var x=Cr;if(Xs(i,r),Gs(r),m&512&&(Ln||c===null||Wr(c,c.return)),m&4){var v=c!==null?c.memoizedState:null;if(m=r.memoizedState,c===null)if(m===null)if(r.stateNode===null){e:{m=r.type,c=r.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":v=x.getElementsByTagName("title")[0],(!v||v[rt]||v[_e]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=x.createElement(m),x.head.insertBefore(v,x.querySelector("head > title"))),ps(v,m,c),v[_e]=r,at(v),m=v;break e;case"link":var T=Pw("link","href",x).get(m+(c.href||""));if(T){for(var P=0;P<T.length;P++)if(v=T[P],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){T.splice(P,1);break t}}v=x.createElement(m),ps(v,m,c),x.head.appendChild(v);break;case"meta":if(T=Pw("meta","content",x).get(m+(c.content||""))){for(P=0;P<T.length;P++)if(v=T[P],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){T.splice(P,1);break t}}v=x.createElement(m),ps(v,m,c),x.head.appendChild(v);break;default:throw Error(s(468,m))}v[_e]=r,at(v),m=v}r.stateNode=m}else Lw(x,r.type,r.stateNode);else r.stateNode=Mw(x,m,r.memoizedProps);else v!==m?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,m===null?Lw(x,r.type,r.stateNode):Mw(x,m,r.memoizedProps)):m===null&&r.stateNode!==null&&mp(r,r.memoizedProps,c.memoizedProps)}break;case 27:Xs(i,r),Gs(r),m&512&&(Ln||c===null||Wr(c,c.return)),c!==null&&m&4&&mp(r,r.memoizedProps,c.memoizedProps);break;case 5:if(Xs(i,r),Gs(r),m&512&&(Ln||c===null||Wr(c,c.return)),r.flags&32){x=r.stateNode;try{qa(x,"")}catch(ve){fn(r,r.return,ve)}}m&4&&r.stateNode!=null&&(x=r.memoizedProps,mp(r,x,c!==null?c.memoizedProps:x)),m&1024&&(xp=!0);break;case 6:if(Xs(i,r),Gs(r),m&4){if(r.stateNode===null)throw Error(s(162));m=r.memoizedProps,c=r.stateNode;try{c.nodeValue=m}catch(ve){fn(r,r.return,ve)}}break;case 3:if(nf=null,x=Cr,Cr=ef(i.containerInfo),Xs(i,r),Cr=x,Gs(r),m&4&&c!==null&&c.memoizedState.isDehydrated)try{tu(i.containerInfo)}catch(ve){fn(r,r.return,ve)}xp&&(xp=!1,Vv(r));break;case 4:m=Cr,Cr=ef(r.stateNode.containerInfo),Xs(i,r),Gs(r),Cr=m;break;case 12:Xs(i,r),Gs(r);break;case 13:Xs(i,r),Gs(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Sp=jt()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,yp(r,m)));break;case 22:x=r.memoizedState!==null;var K=c!==null&&c.memoizedState!==null,pe=Ea,Ne=Ln;if(Ea=pe||x,Ln=Ne||K,Xs(i,r),Ln=Ne,Ea=pe,Gs(r),m&8192)e:for(i=r.stateNode,i._visibility=x?i._visibility&-2:i._visibility|1,x&&(c===null||K||Ea||Ln||io(r)),c=null,i=r;;){if(i.tag===5||i.tag===26){if(c===null){K=c=i;try{if(v=K.stateNode,x)T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{P=K.stateNode;var Ce=K.memoizedProps.style,be=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;P.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(ve){fn(K,K.return,ve)}}}else if(i.tag===6){if(c===null){K=i;try{K.stateNode.nodeValue=x?"":K.memoizedProps}catch(ve){fn(K,K.return,ve)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;c===i&&(c=null),i=i.return}c===i&&(c=null),i.sibling.return=i.return,i=i.sibling}m&4&&(m=r.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,yp(r,c))));break;case 19:Xs(i,r),Gs(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,yp(r,m)));break;case 30:break;case 21:break;default:Xs(i,r),Gs(r)}}function Gs(r){var i=r.flags;if(i&2){try{for(var c,m=r.return;m!==null;){if(Mv(m)){c=m;break}m=m.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var x=c.stateNode,v=pp(r);Hd(r,v,x);break;case 5:var T=c.stateNode;c.flags&32&&(qa(T,""),c.flags&=-33);var P=pp(r);Hd(r,P,T);break;case 3:case 4:var K=c.stateNode.containerInfo,pe=pp(r);gp(r,pe,K);break;default:throw Error(s(161))}}catch(Ne){fn(r,r.return,Ne)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Vv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Vv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function ri(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)zv(r,i.alternate,i),i=i.sibling}function io(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:si(4,i,i.return),io(i);break;case 1:Wr(i,i.return);var c=i.stateNode;typeof c.componentWillUnmount=="function"&&Rv(i,i.return,c),io(i);break;case 27:Wc(i.stateNode);case 26:case 5:Wr(i,i.return),io(i);break;case 22:i.memoizedState===null&&io(i);break;case 30:io(i);break;default:io(i)}r=r.sibling}}function ai(r,i,c){for(c=c&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var m=i.alternate,x=r,v=i,T=v.flags;switch(v.tag){case 0:case 11:case 15:ai(x,v,c),zc(4,v);break;case 1:if(ai(x,v,c),m=v,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(pe){fn(m,m.return,pe)}if(m=v,x=m.updateQueue,x!==null){var P=m.stateNode;try{var K=x.shared.hiddenCallbacks;if(K!==null)for(x.shared.hiddenCallbacks=null,x=0;x<K.length;x++)xb(K[x],P)}catch(pe){fn(m,m.return,pe)}}c&&T&64&&Ov(v),Uc(v,v.return);break;case 27:Pv(v);case 26:case 5:ai(x,v,c),c&&m===null&&T&4&&Dv(v),Uc(v,v.return);break;case 12:ai(x,v,c);break;case 13:ai(x,v,c),c&&T&4&&Fv(x,v);break;case 22:v.memoizedState===null&&ai(x,v,c),Uc(v,v.return);break;case 30:break;default:ai(x,v,c)}i=i.sibling}}function bp(r,i){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&jc(c))}function vp(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&jc(r))}function Xr(r,i,c,m){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$v(r,i,c,m),i=i.sibling}function $v(r,i,c,m){var x=i.flags;switch(i.tag){case 0:case 11:case 15:Xr(r,i,c,m),x&2048&&zc(9,i);break;case 1:Xr(r,i,c,m);break;case 3:Xr(r,i,c,m),x&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&jc(r)));break;case 12:if(x&2048){Xr(r,i,c,m),r=i.stateNode;try{var v=i.memoizedProps,T=v.id,P=v.onPostCommit;typeof P=="function"&&P(T,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(K){fn(i,i.return,K)}}else Xr(r,i,c,m);break;case 13:Xr(r,i,c,m);break;case 23:break;case 22:v=i.stateNode,T=i.alternate,i.memoizedState!==null?v._visibility&2?Xr(r,i,c,m):Bc(r,i):v._visibility&2?Xr(r,i,c,m):(v._visibility|=2,ll(r,i,c,m,(i.subtreeFlags&10256)!==0)),x&2048&&bp(T,i);break;case 24:Xr(r,i,c,m),x&2048&&vp(i.alternate,i);break;default:Xr(r,i,c,m)}}function ll(r,i,c,m,x){for(x=x&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var v=r,T=i,P=c,K=m,pe=T.flags;switch(T.tag){case 0:case 11:case 15:ll(v,T,P,K,x),zc(8,T);break;case 23:break;case 22:var Ne=T.stateNode;T.memoizedState!==null?Ne._visibility&2?ll(v,T,P,K,x):Bc(v,T):(Ne._visibility|=2,ll(v,T,P,K,x)),x&&pe&2048&&bp(T.alternate,T);break;case 24:ll(v,T,P,K,x),x&&pe&2048&&vp(T.alternate,T);break;default:ll(v,T,P,K,x)}i=i.sibling}}function Bc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var c=r,m=i,x=m.flags;switch(m.tag){case 22:Bc(c,m),x&2048&&bp(m.alternate,m);break;case 24:Bc(c,m),x&2048&&vp(m.alternate,m);break;default:Bc(c,m)}i=i.sibling}}var Fc=8192;function cl(r){if(r.subtreeFlags&Fc)for(r=r.child;r!==null;)qv(r),r=r.sibling}function qv(r){switch(r.tag){case 26:cl(r),r.flags&Fc&&r.memoizedState!==null&&eC(Cr,r.memoizedState,r.memoizedProps);break;case 5:cl(r);break;case 3:case 4:var i=Cr;Cr=ef(r.stateNode.containerInfo),cl(r),Cr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Fc,Fc=16777216,cl(r),Fc=i):cl(r));break;default:cl(r)}}function Iv(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Hc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var m=i[c];cs=m,Wv(m,r)}Iv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Yv(r),r=r.sibling}function Yv(r){switch(r.tag){case 0:case 11:case 15:Hc(r),r.flags&2048&&si(9,r,r.return);break;case 3:Hc(r);break;case 12:Hc(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Vd(r)):Hc(r);break;default:Hc(r)}}function Vd(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var m=i[c];cs=m,Wv(m,r)}Iv(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:si(8,i,i.return),Vd(i);break;case 22:c=i.stateNode,c._visibility&2&&(c._visibility&=-3,Vd(i));break;default:Vd(i)}r=r.sibling}}function Wv(r,i){for(;cs!==null;){var c=cs;switch(c.tag){case 0:case 11:case 15:si(8,c,i);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:jc(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,cs=m;else e:for(c=r;cs!==null;){m=cs;var x=m.sibling,v=m.return;if(Uv(m),m===c){cs=null;break e}if(x!==null){x.return=v,cs=x;break e}cs=v}}}var gk={getCacheForType:function(r){var i=bs(Zn),c=i.data.get(r);return c===void 0&&(c=r(),i.data.set(r,c)),c}},xk=typeof WeakMap=="function"?WeakMap:Map,nn=0,gn=null,Bt=null,Yt=0,sn=0,Ks=null,ii=!1,ul=!1,wp=!1,ka=0,Mn=0,oi=0,oo=0,_p=0,pr=0,dl=0,Vc=null,zs=null,jp=!1,Sp=0,$d=1/0,qd=null,li=null,ms=0,ci=null,fl=null,hl=0,Np=0,Ep=null,Xv=null,$c=0,Tp=null;function Qs(){if((nn&2)!==0&&Yt!==0)return Yt&-Yt;if(F.T!==null){var r=el;return r!==0?r:Mp()}return Q()}function Gv(){pr===0&&(pr=(Yt&536870912)===0||tn?Xe():536870912);var r=mr.current;return r!==null&&(r.flags|=32),pr}function Zs(r,i,c){(r===gn&&(sn===2||sn===9)||r.cancelPendingCommit!==null)&&(ml(r,0),ui(r,Yt,pr,!1)),St(r,c),((nn&2)===0||r!==gn)&&(r===gn&&((nn&2)===0&&(oo|=c),Mn===4&&ui(r,Yt,pr,!1)),Gr(r))}function Kv(r,i,c){if((nn&6)!==0)throw Error(s(327));var m=!c&&(i&124)===0&&(i&r.expiredLanes)===0||Hn(r,i),x=m?vk(r,i):Ap(r,i,!0),v=m;do{if(x===0){ul&&!m&&ui(r,i,0,!1);break}else{if(c=r.current.alternate,v&&!yk(c)){x=Ap(r,i,!1),v=!1;continue}if(x===2){if(v=i,r.errorRecoveryDisabledLanes&v)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var P=r;x=Vc;var K=P.current.memoizedState.isDehydrated;if(K&&(ml(P,T).flags|=256),T=Ap(P,T,!1),T!==2){if(wp&&!K){P.errorRecoveryDisabledLanes|=v,oo|=v,x=4;break e}v=zs,zs=x,v!==null&&(zs===null?zs=v:zs.push.apply(zs,v))}x=T}if(v=!1,x!==2)continue}}if(x===1){ml(r,0),ui(r,i,0,!0);break}e:{switch(m=r,v=x,v){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ui(m,i,pr,!ii);break e;case 2:zs=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(x=Sp+300-jt(),10<x)){if(ui(m,i,pr,!ii),as(m,0,!0)!==0)break e;m.timeoutHandle=Nw(Qv.bind(null,m,c,zs,qd,jp,i,pr,oo,dl,ii,v,2,-0,0),x);break e}Qv(m,c,zs,qd,jp,i,pr,oo,dl,ii,v,0,-0,0)}}break}while(!0);Gr(r)}function Qv(r,i,c,m,x,v,T,P,K,pe,Ne,Ce,be,ve){if(r.timeoutHandle=-1,Ce=i.subtreeFlags,(Ce&8192||(Ce&16785408)===16785408)&&(Kc={stylesheets:null,count:0,unsuspend:Jk},qv(i),Ce=tC(),Ce!==null)){r.cancelPendingCommit=Ce(rw.bind(null,r,i,v,c,m,x,T,P,K,Ne,1,be,ve)),ui(r,v,T,!pe);return}rw(r,i,v,c,m,x,T,P,K)}function yk(r){for(var i=r;;){var c=i.tag;if((c===0||c===11||c===15)&&i.flags&16384&&(c=i.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var x=c[m],v=x.getSnapshot;x=x.value;try{if(!Ys(v(),x))return!1}catch(T){return!1}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ui(r,i,c,m){i&=~_p,i&=~oo,r.suspendedLanes|=i,r.pingedLanes&=~i,m&&(r.warmLanes|=i),m=r.expirationTimes;for(var x=i;0<x;){var v=31-xt(x),T=1<<v;m[v]=-1,x&=~T}c!==0&&Ge(r,c,i)}function Id(){return(nn&6)===0?(qc(0),!1):!0}function kp(){if(Bt!==null){if(sn===0)var r=Bt.return;else r=Bt,va=to=null,Im(r),il=null,Mc=0,r=Bt;for(;r!==null;)Av(r.alternate,r),r=r.return;Bt=null}}function ml(r,i){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,Lk(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),kp(),gn=r,Bt=c=xa(r.current,null),Yt=i,sn=0,Ks=null,ii=!1,ul=Hn(r,i),wp=!1,dl=pr=_p=oo=oi=Mn=0,zs=Vc=null,jp=!1,(i&8)!==0&&(i|=i&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=i;0<m;){var x=31-xt(m),v=1<<x;i|=r[x],m&=~v}return ka=i,hd(),c}function Zv(r,i){Pt=null,F.H=Rd,i===Nc||i===_d?(i=pb(),sn=3):i===fb?(i=pb(),sn=4):sn=i===gv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ks=i,Bt===null&&(Mn=1,zd(r,ur(i,r.current)))}function Jv(){var r=F.H;return F.H=Rd,r===null?Rd:r}function ew(){var r=F.A;return F.A=gk,r}function Cp(){Mn=4,ii||(Yt&4194048)!==Yt&&mr.current!==null||(ul=!0),(oi&134217727)===0&&(oo&134217727)===0||gn===null||ui(gn,Yt,pr,!1)}function Ap(r,i,c){var m=nn;nn|=2;var x=Jv(),v=ew();(gn!==r||Yt!==i)&&(qd=null,ml(r,i)),i=!1;var T=Mn;e:do try{if(sn!==0&&Bt!==null){var P=Bt,K=Ks;switch(sn){case 8:kp(),T=6;break e;case 3:case 2:case 9:case 6:mr.current===null&&(i=!0);var pe=sn;if(sn=0,Ks=null,pl(r,P,K,pe),c&&ul){T=0;break e}break;default:pe=sn,sn=0,Ks=null,pl(r,P,K,pe)}}bk(),T=Mn;break}catch(Ne){Zv(r,Ne)}while(!0);return i&&r.shellSuspendCounter++,va=to=null,nn=m,F.H=x,F.A=v,Bt===null&&(gn=null,Yt=0,hd()),T}function bk(){for(;Bt!==null;)tw(Bt)}function vk(r,i){var c=nn;nn|=2;var m=Jv(),x=ew();gn!==r||Yt!==i?(qd=null,$d=jt()+500,ml(r,i)):ul=Hn(r,i);e:do try{if(sn!==0&&Bt!==null){i=Bt;var v=Ks;t:switch(sn){case 1:sn=0,Ks=null,pl(r,i,v,1);break;case 2:case 9:if(hb(v)){sn=0,Ks=null,nw(i);break}i=function(){sn!==2&&sn!==9||gn!==r||(sn=7),Gr(r)},v.then(i,i);break e;case 3:sn=7;break e;case 4:sn=5;break e;case 7:hb(v)?(sn=0,Ks=null,nw(i)):(sn=0,Ks=null,pl(r,i,v,7));break;case 5:var T=null;switch(Bt.tag){case 26:T=Bt.memoizedState;case 5:case 27:var P=Bt;if(!T||zw(T)){sn=0,Ks=null;var K=P.sibling;if(K!==null)Bt=K;else{var pe=P.return;pe!==null?(Bt=pe,Yd(pe)):Bt=null}break t}}sn=0,Ks=null,pl(r,i,v,5);break;case 6:sn=0,Ks=null,pl(r,i,v,6);break;case 8:kp(),Mn=6;break e;default:throw Error(s(462))}}wk();break}catch(Ne){Zv(r,Ne)}while(!0);return va=to=null,F.H=m,F.A=x,nn=c,Bt!==null?0:(gn=null,Yt=0,hd(),Mn)}function wk(){for(;Bt!==null&&!gt();)tw(Bt)}function tw(r){var i=kv(r.alternate,r,ka);r.memoizedProps=r.pendingProps,i===null?Yd(r):Bt=i}function nw(r){var i=r,c=i.alternate;switch(i.tag){case 15:case 0:i=_v(c,i,i.pendingProps,i.type,void 0,Yt);break;case 11:i=_v(c,i,i.pendingProps,i.type.render,i.ref,Yt);break;case 5:Im(i);default:Av(c,i),i=Bt=sb(i,ka),i=kv(c,i,ka)}r.memoizedProps=r.pendingProps,i===null?Yd(r):Bt=i}function pl(r,i,c,m){va=to=null,Im(i),il=null,Mc=0;var x=i.return;try{if(uk(r,x,i,c,Yt)){Mn=1,zd(r,ur(c,r.current)),Bt=null;return}}catch(v){if(x!==null)throw Bt=x,v;Mn=1,zd(r,ur(c,r.current)),Bt=null;return}i.flags&32768?(tn||m===1?r=!0:ul||(Yt&536870912)!==0?r=!1:(ii=r=!0,(m===2||m===9||m===3||m===6)&&(m=mr.current,m!==null&&m.tag===13&&(m.flags|=16384))),sw(i,r)):Yd(i)}function Yd(r){var i=r;do{if((i.flags&32768)!==0){sw(i,ii);return}r=i.return;var c=fk(i.alternate,i,ka);if(c!==null){Bt=c;return}if(i=i.sibling,i!==null){Bt=i;return}Bt=i=r}while(i!==null);Mn===0&&(Mn=5)}function sw(r,i){do{var c=hk(r.alternate,r);if(c!==null){c.flags&=32767,Bt=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!i&&(r=r.sibling,r!==null)){Bt=r;return}Bt=r=c}while(r!==null);Mn=6,Bt=null}function rw(r,i,c,m,x,v,T,P,K){r.cancelPendingCommit=null;do Wd();while(ms!==0);if((nn&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(v=i.lanes|i.childLanes,v|=vm,en(r,c,v,T,P,K),r===gn&&(Bt=gn=null,Yt=0),fl=i,ci=r,hl=c,Np=v,Ep=x,Xv=m,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Nk(ce,function(){return cw(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||m){m=F.T,F.T=null,x=Y.p,Y.p=2,T=nn,nn|=4;try{mk(r,i,c)}finally{nn=T,Y.p=x,F.T=m}}ms=1,aw(),iw(),ow()}}function aw(){if(ms===1){ms=0;var r=ci,i=fl,c=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||c){c=F.T,F.T=null;var m=Y.p;Y.p=2;var x=nn;nn|=4;try{Hv(i,r);var v=Vp,T=Wy(r.containerInfo),P=v.focusedElem,K=v.selectionRange;if(T!==P&&P&&P.ownerDocument&&Yy(P.ownerDocument.documentElement,P)){if(K!==null&&pm(P)){var pe=K.start,Ne=K.end;if(Ne===void 0&&(Ne=pe),"selectionStart"in P)P.selectionStart=pe,P.selectionEnd=Math.min(Ne,P.value.length);else{var Ce=P.ownerDocument||document,be=Ce&&Ce.defaultView||window;if(be.getSelection){var ve=be.getSelection(),yt=P.textContent.length,ht=Math.min(K.start,yt),un=K.end===void 0?ht:Math.min(K.end,yt);!ve.extend&&ht>un&&(T=un,un=ht,ht=T);var le=Iy(P,ht),ne=Iy(P,un);if(le&&ne&&(ve.rangeCount!==1||ve.anchorNode!==le.node||ve.anchorOffset!==le.offset||ve.focusNode!==ne.node||ve.focusOffset!==ne.offset)){var he=Ce.createRange();he.setStart(le.node,le.offset),ve.removeAllRanges(),ht>un?(ve.addRange(he),ve.extend(ne.node,ne.offset)):(he.setEnd(ne.node,ne.offset),ve.addRange(he))}}}}for(Ce=[],ve=P;ve=ve.parentNode;)ve.nodeType===1&&Ce.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<Ce.length;P++){var Te=Ce[P];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}af=!!Hp,Vp=Hp=null}finally{nn=x,Y.p=m,F.T=c}}r.current=i,ms=2}}function iw(){if(ms===2){ms=0;var r=ci,i=fl,c=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||c){c=F.T,F.T=null;var m=Y.p;Y.p=2;var x=nn;nn|=4;try{zv(r,i.alternate,i)}finally{nn=x,Y.p=m,F.T=c}}ms=3}}function ow(){if(ms===4||ms===3){ms=0,Vt();var r=ci,i=fl,c=hl,m=Xv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ms=5:(ms=0,fl=ci=null,lw(r,r.pendingLanes));var x=r.pendingLanes;if(x===0&&(li=null),Xt(c),i=i.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Ue,i,void 0,(i.current.flags&128)===128)}catch(K){}if(m!==null){i=F.T,x=Y.p,Y.p=2,F.T=null;try{for(var v=r.onRecoverableError,T=0;T<m.length;T++){var P=m[T];v(P.value,{componentStack:P.stack})}}finally{F.T=i,Y.p=x}}(hl&3)!==0&&Wd(),Gr(r),x=r.pendingLanes,(c&4194090)!==0&&(x&42)!==0?r===Tp?$c++:($c=0,Tp=r):$c=0,qc(0)}}function lw(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,jc(i)))}function Wd(r){return aw(),iw(),ow(),cw()}function cw(){if(ms!==5)return!1;var r=ci,i=Np;Np=0;var c=Xt(hl),m=F.T,x=Y.p;try{Y.p=32>c?32:c,F.T=null,c=Ep,Ep=null;var v=ci,T=hl;if(ms=0,fl=ci=null,hl=0,(nn&6)!==0)throw Error(s(331));var P=nn;if(nn|=4,Yv(v.current),$v(v,v.current,T,c),nn=P,qc(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Ue,v)}catch(K){}return!0}finally{Y.p=x,F.T=m,lw(r,i)}}function uw(r,i,c){i=ur(c,i),i=ap(r.stateNode,i,2),r=Ja(r,i,2),r!==null&&(St(r,2),Gr(r))}function fn(r,i,c){if(r.tag===3)uw(r,r,c);else for(;i!==null;){if(i.tag===3){uw(i,r,c);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(li===null||!li.has(m))){r=ur(c,r),c=mv(2),m=Ja(i,c,2),m!==null&&(pv(c,m,i,r),St(m,2),Gr(m));break}}i=i.return}}function Op(r,i,c){var m=r.pingCache;if(m===null){m=r.pingCache=new xk;var x=new Set;m.set(i,x)}else x=m.get(i),x===void 0&&(x=new Set,m.set(i,x));x.has(c)||(wp=!0,x.add(c),r=_k.bind(null,r,i,c),i.then(r,r))}function _k(r,i,c){var m=r.pingCache;m!==null&&m.delete(i),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,gn===r&&(Yt&c)===c&&(Mn===4||Mn===3&&(Yt&62914560)===Yt&&300>jt()-Sp?(nn&2)===0&&ml(r,0):_p|=c,dl===Yt&&(dl=0)),Gr(r)}function dw(r,i){i===0&&(i=Mt()),r=Ko(r,i),r!==null&&(St(r,i),Gr(r))}function jk(r){var i=r.memoizedState,c=0;i!==null&&(c=i.retryLane),dw(r,c)}function Sk(r,i){var c=0;switch(r.tag){case 13:var m=r.stateNode,x=r.memoizedState;x!==null&&(c=x.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(s(314))}m!==null&&m.delete(i),dw(r,c)}function Nk(r,i){return vt(r,i)}var Xd=null,gl=null,Rp=!1,Gd=!1,Dp=!1,lo=0;function Gr(r){r!==gl&&r.next===null&&(gl===null?Xd=gl=r:gl=gl.next=r),Gd=!0,Rp||(Rp=!0,Tk())}function qc(r,i){if(!Dp&&Gd){Dp=!0;do for(var c=!1,m=Xd;m!==null;){if(r!==0){var x=m.pendingLanes;if(x===0)var v=0;else{var T=m.suspendedLanes,P=m.pingedLanes;v=(1<<31-xt(42|r)+1)-1,v&=x&~(T&~P),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,pw(m,v))}else v=Yt,v=as(m,m===gn?v:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(v&3)===0||Hn(m,v)||(c=!0,pw(m,v));m=m.next}while(c);Dp=!1}}function Ek(){fw()}function fw(){Gd=Rp=!1;var r=0;lo!==0&&(Pk()&&(r=lo),lo=0);for(var i=jt(),c=null,m=Xd;m!==null;){var x=m.next,v=hw(m,i);v===0?(m.next=null,c===null?Xd=x:c.next=x,x===null&&(gl=c)):(c=m,(r!==0||(v&3)!==0)&&(Gd=!0)),m=x}qc(r)}function hw(r,i){for(var c=r.suspendedLanes,m=r.pingedLanes,x=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var T=31-xt(v),P=1<<T,K=x[T];K===-1?((P&c)===0||(P&m)!==0)&&(x[T]=ds(P,i)):K<=i&&(r.expiredLanes|=P),v&=~P}if(i=gn,c=Yt,c=as(r,r===i?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,c===0||r===i&&(sn===2||sn===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&Pe(m),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Hn(r,c)){if(i=c&-c,i===r.callbackPriority)return i;switch(m!==null&&Pe(m),Xt(c)){case 2:case 8:c=X;break;case 32:c=ce;break;case 268435456:c=Se;break;default:c=ce}return m=mw.bind(null,r),c=vt(c,m),r.callbackPriority=i,r.callbackNode=c,i}return m!==null&&m!==null&&Pe(m),r.callbackPriority=2,r.callbackNode=null,2}function mw(r,i){if(ms!==0&&ms!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(Wd()&&r.callbackNode!==c)return null;var m=Yt;return m=as(r,r===gn?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(Kv(r,m,i),hw(r,jt()),r.callbackNode!=null&&r.callbackNode===c?mw.bind(null,r):null)}function pw(r,i){if(Wd())return null;Kv(r,i,!0)}function Tk(){zk(function(){(nn&6)!==0?vt(Ct,Ek):fw()})}function Mp(){return lo===0&&(lo=Xe()),lo}function gw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Fo(""+r)}function xw(r,i){var c=i.ownerDocument.createElement("input");return c.name=i.name,c.value=i.value,r.id&&c.setAttribute("form",r.id),i.parentNode.insertBefore(c,i),r=new FormData(r),c.parentNode.removeChild(c),r}function kk(r,i,c,m,x){if(i==="submit"&&c&&c.stateNode===x){var v=gw((x[Ae]||null).action),T=m.submitter;T&&(i=(i=T[Ae]||null)?gw(i.formAction):T.getAttribute("formAction"),i!==null&&(v=i,T=null));var P=new $o("action","action",null,m,x);r.push({event:P,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(lo!==0){var K=T?xw(x,T):new FormData(x);ep(c,{pending:!0,data:K,method:x.method,action:v},null,K)}}else typeof v=="function"&&(P.preventDefault(),K=T?xw(x,T):new FormData(x),ep(c,{pending:!0,data:K,method:x.method,action:v},v,K))},currentTarget:x}]})}}for(var Pp=0;Pp<bm.length;Pp++){var Lp=bm[Pp],Ck=Lp.toLowerCase(),Ak=Lp[0].toUpperCase()+Lp.slice(1);kr(Ck,"on"+Ak)}kr(Ky,"onAnimationEnd"),kr(Qy,"onAnimationIteration"),kr(Zy,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(WT,"onTransitionRun"),kr(XT,"onTransitionStart"),kr(GT,"onTransitionCancel"),kr(Jy,"onTransitionEnd"),An("onMouseEnter",["mouseout","mouseover"]),An("onMouseLeave",["mouseout","mouseover"]),An("onPointerEnter",["pointerout","pointerover"]),An("onPointerLeave",["pointerout","pointerover"]),vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ok=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ic));function yw(r,i){i=(i&4)!==0;for(var c=0;c<r.length;c++){var m=r[c],x=m.event;m=m.listeners;e:{var v=void 0;if(i)for(var T=m.length-1;0<=T;T--){var P=m[T],K=P.instance,pe=P.currentTarget;if(P=P.listener,K!==v&&x.isPropagationStopped())break e;v=P,x.currentTarget=pe;try{v(x)}catch(Ne){Ld(Ne)}x.currentTarget=null,v=K}else for(T=0;T<m.length;T++){if(P=m[T],K=P.instance,pe=P.currentTarget,P=P.listener,K!==v&&x.isPropagationStopped())break e;v=P,x.currentTarget=pe;try{v(x)}catch(Ne){Ld(Ne)}x.currentTarget=null,v=K}}}}function Ft(r,i){var c=i[Qe];c===void 0&&(c=i[Qe]=new Set);var m=r+"__bubble";c.has(m)||(bw(i,r,2,!1),c.add(m))}function zp(r,i,c){var m=0;i&&(m|=4),bw(c,r,m,i)}var Kd="_reactListening"+Math.random().toString(36).slice(2);function Up(r){if(!r[Kd]){r[Kd]=!0,Nt.forEach(function(c){c!=="selectionchange"&&(Ok.has(c)||zp(c,!1,r),zp(c,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Kd]||(i[Kd]=!0,zp("selectionchange",!1,i))}}function bw(r,i,c,m){switch($w(i)){case 2:var x=rC;break;case 8:x=aC;break;default:x=Zp}c=x.bind(null,i,c,r),x=void 0,!Ho||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),m?x!==void 0?r.addEventListener(i,c,{capture:!0,passive:x}):r.addEventListener(i,c,!0):x!==void 0?r.addEventListener(i,c,{passive:x}):r.addEventListener(i,c,!1)}function Bp(r,i,c,m,x){var v=m;if((i&1)===0&&(i&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var P=m.stateNode.containerInfo;if(P===x)break;if(T===4)for(T=m.return;T!==null;){var K=T.tag;if((K===3||K===4)&&T.stateNode.containerInfo===x)return;T=T.return}for(;P!==null;){if(T=kt(P),T===null)return;if(K=T.tag,K===5||K===6||K===26||K===27){m=v=T;continue e}P=P.parentNode}}m=m.return}hc(function(){var pe=v,Ne=$i(c),Ce=[];e:{var be=eb.get(r);if(be!==void 0){var ve=$o,yt=r;switch(r){case"keypress":if(Wa(c)===0)break e;case"keydown":case"keyup":ve=qr;break;case"focusin":yt="focus",ve=lt;break;case"focusout":yt="blur",ve=lt;break;case"beforeblur":case"afterblur":ve=lt;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=ie;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=xe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=dd;break;case Ky:case Qy:case Zy:ve=Ie;break;case Jy:ve=AT;break;case"scroll":case"scrollend":ve=Rn;break;case"wheel":ve=RT;break;case"copy":case"cut":case"paste":ve=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=qo;break;case"toggle":case"beforetoggle":ve=MT}var ht=(i&4)!==0,un=!ht&&(r==="scroll"||r==="scrollend"),le=ht?be!==null?be+"Capture":null:be;ht=[];for(var ne=pe,he;ne!==null;){var Te=ne;if(he=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||he===null||le===null||(Te=Ya(ne,le),Te!=null&&ht.push(Yc(ne,Te,he))),un)break;ne=ne.return}0<ht.length&&(be=new ve(be,yt,null,c,Ne),Ce.push({event:be,listeners:ht}))}}if((i&7)===0){e:{if(be=r==="mouseover"||r==="pointerover",ve=r==="mouseout"||r==="pointerout",be&&c!==dc&&(yt=c.relatedTarget||c.fromElement)&&(kt(yt)||yt[Ve]))break e;if((ve||be)&&(be=Ne.window===Ne?Ne:(be=Ne.ownerDocument)?be.defaultView||be.parentWindow:window,ve?(yt=c.relatedTarget||c.toElement,ve=pe,yt=yt?kt(yt):null,yt!==null&&(un=o(yt),ht=yt.tag,yt!==un||ht!==5&&ht!==27&&ht!==6)&&(yt=null)):(ve=null,yt=pe),ve!==yt)){if(ht=ie,Te="onMouseLeave",le="onMouseEnter",ne="mouse",(r==="pointerout"||r==="pointerover")&&(ht=qo,Te="onPointerLeave",le="onPointerEnter",ne="pointer"),un=ve==null?be:Cn(ve),he=yt==null?be:Cn(yt),be=new ht(Te,ne+"leave",ve,c,Ne),be.target=un,be.relatedTarget=he,Te=null,kt(Ne)===pe&&(ht=new ht(le,ne+"enter",yt,c,Ne),ht.target=he,ht.relatedTarget=un,Te=ht),un=Te,ve&&yt)t:{for(ht=ve,le=yt,ne=0,he=ht;he;he=xl(he))ne++;for(he=0,Te=le;Te;Te=xl(Te))he++;for(;0<ne-he;)ht=xl(ht),ne--;for(;0<he-ne;)le=xl(le),he--;for(;ne--;){if(ht===le||le!==null&&ht===le.alternate)break t;ht=xl(ht),le=xl(le)}ht=null}else ht=null;ve!==null&&vw(Ce,be,ve,ht,!1),yt!==null&&un!==null&&vw(Ce,un,yt,ht,!0)}}e:{if(be=pe?Cn(pe):window,ve=be.nodeName&&be.nodeName.toLowerCase(),ve==="select"||ve==="input"&&be.type==="file")var Ze=By;else if(zy(be))if(Fy)Ze=qT;else{Ze=VT;var zt=HT}else ve=be.nodeName,!ve||ve.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?pe&&Vi(pe.elementType)&&(Ze=By):Ze=$T;if(Ze&&(Ze=Ze(r,pe))){Uy(Ce,Ze,c,Ne);break e}zt&&zt(r,be,pe),r==="focusout"&&pe&&be.type==="number"&&pe.memoizedProps.value!=null&&lc(be,"number",be.value)}switch(zt=pe?Cn(pe):window,r){case"focusin":(zy(zt)||zt.contentEditable==="true")&&(Wo=zt,gm=pe,yc=null);break;case"focusout":yc=gm=Wo=null;break;case"mousedown":xm=!0;break;case"contextmenu":case"mouseup":case"dragend":xm=!1,Xy(Ce,c,Ne);break;case"selectionchange":if(YT)break;case"keydown":case"keyup":Xy(Ce,c,Ne)}var ot;if(fm)e:{switch(r){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Yo?Py(r,c)&&(pt="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(pt="onCompositionStart");pt&&(Ry&&c.locale!=="ko"&&(Yo||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Yo&&(ot=Yi()):(Is=Ne,Ms="value"in Is?Is.value:Is.textContent,Yo=!0)),zt=Qd(pe,pt),0<zt.length&&(pt=new dt(pt,r,null,c,Ne),Ce.push({event:pt,listeners:zt}),ot?pt.data=ot:(ot=Ly(c),ot!==null&&(pt.data=ot)))),(ot=LT?zT(r,c):UT(r,c))&&(pt=Qd(pe,"onBeforeInput"),0<pt.length&&(zt=new dt("onBeforeInput","beforeinput",null,c,Ne),Ce.push({event:zt,listeners:pt}),zt.data=ot)),kk(Ce,r,pe,c,Ne)}yw(Ce,i)})}function Yc(r,i,c){return{instance:r,listener:i,currentTarget:c}}function Qd(r,i){for(var c=i+"Capture",m=[];r!==null;){var x=r,v=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||v===null||(x=Ya(r,c),x!=null&&m.unshift(Yc(r,x,v)),x=Ya(r,i),x!=null&&m.push(Yc(r,x,v))),r.tag===3)return m;r=r.return}return[]}function xl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function vw(r,i,c,m,x){for(var v=i._reactName,T=[];c!==null&&c!==m;){var P=c,K=P.alternate,pe=P.stateNode;if(P=P.tag,K!==null&&K===m)break;P!==5&&P!==26&&P!==27||pe===null||(K=pe,x?(pe=Ya(c,v),pe!=null&&T.unshift(Yc(c,pe,K))):x||(pe=Ya(c,v),pe!=null&&T.push(Yc(c,pe,K)))),c=c.return}T.length!==0&&r.push({event:i,listeners:T})}var Rk=/\r\n?/g,Dk=/\u0000|\uFFFD/g;function ww(r){return(typeof r=="string"?r:""+r).replace(Rk,`
`).replace(Dk,"")}function _w(r,i){return i=ww(i),ww(r)===i}function Zd(){}function cn(r,i,c,m,x,v){switch(c){case"children":typeof m=="string"?i==="body"||i==="textarea"&&m===""||qa(r,m):(typeof m=="number"||typeof m=="bigint")&&i!=="body"&&qa(r,""+m);break;case"className":lr(r,"class",m);break;case"tabIndex":lr(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(r,c,m);break;case"style":uc(r,m,v);break;case"data":if(i!=="object"){lr(r,"data",m);break}case"src":case"href":if(m===""&&(i!=="a"||c!=="href")){r.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(c);break}m=Fo(""+m),r.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(i!=="input"&&cn(r,i,"name",x.name,x,null),cn(r,i,"formEncType",x.formEncType,x,null),cn(r,i,"formMethod",x.formMethod,x,null),cn(r,i,"formTarget",x.formTarget,x,null)):(cn(r,i,"encType",x.encType,x,null),cn(r,i,"method",x.method,x,null),cn(r,i,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(c);break}m=Fo(""+m),r.setAttribute(c,m);break;case"onClick":m!=null&&(r.onclick=Zd);break;case"onScroll":m!=null&&Ft("scroll",r);break;case"onScrollEnd":m!=null&&Ft("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(c=m.__html,c!=null){if(x.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}c=Fo(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(c,""+m):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":m===!0?r.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(c,m):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(c,m):r.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(c):r.setAttribute(c,m);break;case"popover":Ft("beforetoggle",r),Ft("toggle",r),xs(r,"popover",m);break;case"xlinkActuate":Rt(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Rt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Rt(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Rt(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Rt(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Rt(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Rt(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Rt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Rt(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":xs(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Bo.get(c)||c,xs(r,c,m))}}function Fp(r,i,c,m,x,v){switch(c){case"style":uc(r,m,v);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(c=m.__html,c!=null){if(x.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"children":typeof m=="string"?qa(r,m):(typeof m=="number"||typeof m=="bigint")&&qa(r,""+m);break;case"onScroll":m!=null&&Ft("scroll",r);break;case"onScrollEnd":m!=null&&Ft("scrollend",r);break;case"onClick":m!=null&&(r.onclick=Zd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gt.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(x=c.endsWith("Capture"),i=c.slice(2,x?c.length-7:void 0),v=r[Ae]||null,v=v!=null?v[c]:null,typeof v=="function"&&r.removeEventListener(i,v,x),typeof m=="function")){typeof v!="function"&&v!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(i,m,x);break e}c in r?r[c]=m:m===!0?r.setAttribute(c,""):xs(r,c,m)}}}function ps(r,i,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",r),Ft("load",r);var m=!1,x=!1,v;for(v in c)if(c.hasOwnProperty(v)){var T=c[v];if(T!=null)switch(v){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:cn(r,i,v,T,c,null)}}x&&cn(r,i,"srcSet",c.srcSet,c,null),m&&cn(r,i,"src",c.src,c,null);return;case"input":Ft("invalid",r);var P=v=T=x=null,K=null,pe=null;for(m in c)if(c.hasOwnProperty(m)){var Ne=c[m];if(Ne!=null)switch(m){case"name":x=Ne;break;case"type":T=Ne;break;case"checked":K=Ne;break;case"defaultChecked":pe=Ne;break;case"value":v=Ne;break;case"defaultValue":P=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(s(137,i));break;default:cn(r,i,m,Ne,c,null)}}od(r,v,P,K,pe,T,x,!1),Bi(r);return;case"select":Ft("invalid",r),m=T=v=null;for(x in c)if(c.hasOwnProperty(x)&&(P=c[x],P!=null))switch(x){case"value":v=P;break;case"defaultValue":T=P;break;case"multiple":m=P;default:cn(r,i,x,P,c,null)}i=v,c=T,r.multiple=!!m,i!=null?ma(r,!!m,i,!1):c!=null&&ma(r,!!m,c,!0);return;case"textarea":Ft("invalid",r),v=x=m=null;for(T in c)if(c.hasOwnProperty(T)&&(P=c[T],P!=null))switch(T){case"value":m=P;break;case"defaultValue":x=P;break;case"children":v=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:cn(r,i,T,P,c,null)}cc(r,m,x,v),Bi(r);return;case"option":for(K in c)if(c.hasOwnProperty(K)&&(m=c[K],m!=null))switch(K){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:cn(r,i,K,m,c,null)}return;case"dialog":Ft("beforetoggle",r),Ft("toggle",r),Ft("cancel",r),Ft("close",r);break;case"iframe":case"object":Ft("load",r);break;case"video":case"audio":for(m=0;m<Ic.length;m++)Ft(Ic[m],r);break;case"image":Ft("error",r),Ft("load",r);break;case"details":Ft("toggle",r);break;case"embed":case"source":case"link":Ft("error",r),Ft("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pe in c)if(c.hasOwnProperty(pe)&&(m=c[pe],m!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:cn(r,i,pe,m,c,null)}return;default:if(Vi(i)){for(Ne in c)c.hasOwnProperty(Ne)&&(m=c[Ne],m!==void 0&&Fp(r,i,Ne,m,c,void 0));return}}for(P in c)c.hasOwnProperty(P)&&(m=c[P],m!=null&&cn(r,i,P,m,c,null))}function Mk(r,i,c,m){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,v=null,T=null,P=null,K=null,pe=null,Ne=null;for(ve in c){var Ce=c[ve];if(c.hasOwnProperty(ve)&&Ce!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":K=Ce;default:m.hasOwnProperty(ve)||cn(r,i,ve,null,m,Ce)}}for(var be in m){var ve=m[be];if(Ce=c[be],m.hasOwnProperty(be)&&(ve!=null||Ce!=null))switch(be){case"type":v=ve;break;case"name":x=ve;break;case"checked":pe=ve;break;case"defaultChecked":Ne=ve;break;case"value":T=ve;break;case"defaultValue":P=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(s(137,i));break;default:ve!==Ce&&cn(r,i,be,ve,m,Ce)}}oc(r,T,P,K,pe,Ne,v,x);return;case"select":ve=T=P=be=null;for(v in c)if(K=c[v],c.hasOwnProperty(v)&&K!=null)switch(v){case"value":break;case"multiple":ve=K;default:m.hasOwnProperty(v)||cn(r,i,v,null,m,K)}for(x in m)if(v=m[x],K=c[x],m.hasOwnProperty(x)&&(v!=null||K!=null))switch(x){case"value":be=v;break;case"defaultValue":P=v;break;case"multiple":T=v;default:v!==K&&cn(r,i,x,v,m,K)}i=P,c=T,m=ve,be!=null?ma(r,!!c,be,!1):!!m!=!!c&&(i!=null?ma(r,!!c,i,!0):ma(r,!!c,c?[]:"",!1));return;case"textarea":ve=be=null;for(P in c)if(x=c[P],c.hasOwnProperty(P)&&x!=null&&!m.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:cn(r,i,P,null,m,x)}for(T in m)if(x=m[T],v=c[T],m.hasOwnProperty(T)&&(x!=null||v!=null))switch(T){case"value":be=x;break;case"defaultValue":ve=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:x!==v&&cn(r,i,T,x,m,v)}Hi(r,be,ve);return;case"option":for(var yt in c)if(be=c[yt],c.hasOwnProperty(yt)&&be!=null&&!m.hasOwnProperty(yt))switch(yt){case"selected":r.selected=!1;break;default:cn(r,i,yt,null,m,be)}for(K in m)if(be=m[K],ve=c[K],m.hasOwnProperty(K)&&be!==ve&&(be!=null||ve!=null))switch(K){case"selected":r.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:cn(r,i,K,be,m,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in c)be=c[ht],c.hasOwnProperty(ht)&&be!=null&&!m.hasOwnProperty(ht)&&cn(r,i,ht,null,m,be);for(pe in m)if(be=m[pe],ve=c[pe],m.hasOwnProperty(pe)&&be!==ve&&(be!=null||ve!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(s(137,i));break;default:cn(r,i,pe,be,m,ve)}return;default:if(Vi(i)){for(var un in c)be=c[un],c.hasOwnProperty(un)&&be!==void 0&&!m.hasOwnProperty(un)&&Fp(r,i,un,void 0,m,be);for(Ne in m)be=m[Ne],ve=c[Ne],!m.hasOwnProperty(Ne)||be===ve||be===void 0&&ve===void 0||Fp(r,i,Ne,be,m,ve);return}}for(var le in c)be=c[le],c.hasOwnProperty(le)&&be!=null&&!m.hasOwnProperty(le)&&cn(r,i,le,null,m,be);for(Ce in m)be=m[Ce],ve=c[Ce],!m.hasOwnProperty(Ce)||be===ve||be==null&&ve==null||cn(r,i,Ce,be,m,ve)}var Hp=null,Vp=null;function Jd(r){return r.nodeType===9?r:r.ownerDocument}function jw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sw(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function $p(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qp=null;function Pk(){var r=window.event;return r&&r.type==="popstate"?r===qp?!1:(qp=r,!0):(qp=null,!1)}var Nw=typeof setTimeout=="function"?setTimeout:void 0,Lk=typeof clearTimeout=="function"?clearTimeout:void 0,Ew=typeof Promise=="function"?Promise:void 0,zk=typeof queueMicrotask=="function"?queueMicrotask:typeof Ew!="undefined"?function(r){return Ew.resolve(null).then(r).catch(Uk)}:Nw;function Uk(r){setTimeout(function(){throw r})}function di(r){return r==="head"}function Tw(r,i){var c=i,m=0,x=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<m&&8>m){c=m;var T=r.ownerDocument;if(c&1&&Wc(T.documentElement),c&2&&Wc(T.body),c&4)for(c=T.head,Wc(c),T=c.firstChild;T;){var P=T.nextSibling,K=T.nodeName;T[rt]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&T.rel.toLowerCase()==="stylesheet"||c.removeChild(T),T=P}}if(x===0){r.removeChild(v),tu(i);return}x--}else c==="$"||c==="$?"||c==="$!"?x++:m=c.charCodeAt(0)-48;else m=0;c=v}while(c);tu(i)}function Ip(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var c=i;switch(i=i.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Ip(c),bt(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function Bk(r,i,c,m){for(;r.nodeType===1;){var x=c;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[rt])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==x.rel||r.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||r.getAttribute("title")!==(x.title==null?null:x.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(x.src==null?null:x.src)||r.getAttribute("type")!==(x.type==null?null:x.type)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var v=x.name==null?null:""+x.name;if(x.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Ar(r.nextSibling),r===null)break}return null}function Fk(r,i,c){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Ar(r.nextSibling),r===null))return null;return r}function Yp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Hk(r,i){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")i();else{var m=function(){i(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function Ar(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Wp=null;function kw(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return r;i--}else c==="/$"&&i++}r=r.previousSibling}return null}function Cw(r,i,c){switch(i=Jd(c),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Wc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);bt(r)}var gr=new Map,Aw=new Set;function ef(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ca=Y.d;Y.d={f:Vk,r:$k,D:qk,C:Ik,L:Yk,m:Wk,X:Gk,S:Xk,M:Kk};function Vk(){var r=Ca.f(),i=Id();return r||i}function $k(r){var i=dn(r);i!==null&&i.tag===5&&i.type==="form"?Kb(i):Ca.r(r)}var yl=typeof document=="undefined"?null:document;function Ow(r,i,c){var m=yl;if(m&&typeof i=="string"&&i){var x=Rs(i);x='link[rel="'+r+'"][href="'+x+'"]',typeof c=="string"&&(x+='[crossorigin="'+c+'"]'),Aw.has(x)||(Aw.add(x),r={rel:r,crossOrigin:c,href:i},m.querySelector(x)===null&&(i=m.createElement("link"),ps(i,"link",r),at(i),m.head.appendChild(i)))}}function qk(r){Ca.D(r),Ow("dns-prefetch",r,null)}function Ik(r,i){Ca.C(r,i),Ow("preconnect",r,i)}function Yk(r,i,c){Ca.L(r,i,c);var m=yl;if(m&&r&&i){var x='link[rel="preload"][as="'+Rs(i)+'"]';i==="image"&&c&&c.imageSrcSet?(x+='[imagesrcset="'+Rs(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(x+='[imagesizes="'+Rs(c.imageSizes)+'"]')):x+='[href="'+Rs(r)+'"]';var v=x;switch(i){case"style":v=bl(r);break;case"script":v=vl(r)}gr.has(v)||(r=p({rel:"preload",href:i==="image"&&c&&c.imageSrcSet?void 0:r,as:i},c),gr.set(v,r),m.querySelector(x)!==null||i==="style"&&m.querySelector(Xc(v))||i==="script"&&m.querySelector(Gc(v))||(i=m.createElement("link"),ps(i,"link",r),at(i),m.head.appendChild(i)))}}function Wk(r,i){Ca.m(r,i);var c=yl;if(c&&r){var m=i&&typeof i.as=="string"?i.as:"script",x='link[rel="modulepreload"][as="'+Rs(m)+'"][href="'+Rs(r)+'"]',v=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=vl(r)}if(!gr.has(v)&&(r=p({rel:"modulepreload",href:r},i),gr.set(v,r),c.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Gc(v)))return}m=c.createElement("link"),ps(m,"link",r),at(m),c.head.appendChild(m)}}}function Xk(r,i,c){Ca.S(r,i,c);var m=yl;if(m&&r){var x=an(m).hoistableStyles,v=bl(r);i=i||"default";var T=x.get(v);if(!T){var P={loading:0,preload:null};if(T=m.querySelector(Xc(v)))P.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":i},c),(c=gr.get(v))&&Xp(r,c);var K=T=m.createElement("link");at(K),ps(K,"link",r),K._p=new Promise(function(pe,Ne){K.onload=pe,K.onerror=Ne}),K.addEventListener("load",function(){P.loading|=1}),K.addEventListener("error",function(){P.loading|=2}),P.loading|=4,tf(T,i,m)}T={type:"stylesheet",instance:T,count:1,state:P},x.set(v,T)}}}function Gk(r,i){Ca.X(r,i);var c=yl;if(c&&r){var m=an(c).hoistableScripts,x=vl(r),v=m.get(x);v||(v=c.querySelector(Gc(x)),v||(r=p({src:r,async:!0},i),(i=gr.get(x))&&Gp(r,i),v=c.createElement("script"),at(v),ps(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},m.set(x,v))}}function Kk(r,i){Ca.M(r,i);var c=yl;if(c&&r){var m=an(c).hoistableScripts,x=vl(r),v=m.get(x);v||(v=c.querySelector(Gc(x)),v||(r=p({src:r,async:!0,type:"module"},i),(i=gr.get(x))&&Gp(r,i),v=c.createElement("script"),at(v),ps(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},m.set(x,v))}}function Rw(r,i,c,m){var x=(x=ge.current)?ef(x):null;if(!x)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(i=bl(c.href),c=an(x).hoistableStyles,m=c.get(i),m||(m={type:"style",instance:null,count:0,state:null},c.set(i,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=bl(c.href);var v=an(x).hoistableStyles,T=v.get(r);if(T||(x=x.ownerDocument||x,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,T),(v=x.querySelector(Xc(r)))&&!v._p&&(T.instance=v,T.state.loading=5),gr.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},gr.set(r,c),v||Qk(x,r,c,T.state))),i&&m===null)throw Error(s(528,""));return T}if(i&&m!==null)throw Error(s(529,""));return null;case"script":return i=c.async,c=c.src,typeof c=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=vl(c),c=an(x).hoistableScripts,m=c.get(i),m||(m={type:"script",instance:null,count:0,state:null},c.set(i,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function bl(r){return'href="'+Rs(r)+'"'}function Xc(r){return'link[rel="stylesheet"]['+r+"]"}function Dw(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function Qk(r,i,c,m){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?m.loading=1:(i=r.createElement("link"),m.preload=i,i.addEventListener("load",function(){return m.loading|=1}),i.addEventListener("error",function(){return m.loading|=2}),ps(i,"link",c),at(i),r.head.appendChild(i))}function vl(r){return'[src="'+Rs(r)+'"]'}function Gc(r){return"script[async]"+r}function Mw(r,i,c){if(i.count++,i.instance===null)switch(i.type){case"style":var m=r.querySelector('style[data-href~="'+Rs(c.href)+'"]');if(m)return i.instance=m,at(m),m;var x=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),at(m),ps(m,"style",x),tf(m,c.precedence,r),i.instance=m;case"stylesheet":x=bl(c.href);var v=r.querySelector(Xc(x));if(v)return i.state.loading|=4,i.instance=v,at(v),v;m=Dw(c),(x=gr.get(x))&&Xp(m,x),v=(r.ownerDocument||r).createElement("link"),at(v);var T=v;return T._p=new Promise(function(P,K){T.onload=P,T.onerror=K}),ps(v,"link",m),i.state.loading|=4,tf(v,c.precedence,r),i.instance=v;case"script":return v=vl(c.src),(x=r.querySelector(Gc(v)))?(i.instance=x,at(x),x):(m=c,(x=gr.get(v))&&(m=p({},c),Gp(m,x)),r=r.ownerDocument||r,x=r.createElement("script"),at(x),ps(x,"link",m),r.head.appendChild(x),i.instance=x);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(m=i.instance,i.state.loading|=4,tf(m,c.precedence,r));return i.instance}function tf(r,i,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,v=x,T=0;T<m.length;T++){var P=m[T];if(P.dataset.precedence===i)v=P;else if(v!==x)break}v?v.parentNode.insertBefore(r,v.nextSibling):(i=c.nodeType===9?c.head:c,i.insertBefore(r,i.firstChild))}function Xp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Gp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var nf=null;function Pw(r,i,c){if(nf===null){var m=new Map,x=nf=new Map;x.set(c,m)}else x=nf,m=x.get(c),m||(m=new Map,x.set(c,m));if(m.has(r))return m;for(m.set(r,null),c=c.getElementsByTagName(r),x=0;x<c.length;x++){var v=c[x];if(!(v[rt]||v[_e]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var T=v.getAttribute(i)||"";T=r+T;var P=m.get(T);P?P.push(v):m.set(T,[v])}}return m}function Lw(r,i,c){r=r.ownerDocument||r,r.head.insertBefore(c,i==="title"?r.querySelector("head > title"):null)}function Zk(r,i,c){if(c===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function zw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Kc=null;function Jk(){}function eC(r,i,c){if(Kc===null)throw Error(s(475));var m=Kc;if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var x=bl(c.href),v=r.querySelector(Xc(x));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(m.count++,m=sf.bind(m),r.then(m,m)),i.state.loading|=4,i.instance=v,at(v);return}v=r.ownerDocument||r,c=Dw(c),(x=gr.get(x))&&Xp(c,x),v=v.createElement("link"),at(v);var T=v;T._p=new Promise(function(P,K){T.onload=P,T.onerror=K}),ps(v,"link",c),i.instance=v}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(m.count++,i=sf.bind(m),r.addEventListener("load",i),r.addEventListener("error",i))}}function tC(){if(Kc===null)throw Error(s(475));var r=Kc;return r.stylesheets&&r.count===0&&Kp(r,r.stylesheets),0<r.count?function(i){var c=setTimeout(function(){if(r.stylesheets&&Kp(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(c)}}:null}function sf(){if(this.count--,this.count===0){if(this.stylesheets)Kp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var rf=null;function Kp(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,rf=new Map,i.forEach(nC,r),rf=null,sf.call(r))}function nC(r,i){if(!(i.state.loading&4)){var c=rf.get(r);if(c)var m=c.get(null);else{c=new Map,rf.set(r,c);for(var x=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<x.length;v++){var T=x[v];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(c.set(T.dataset.precedence,T),m=T)}m&&c.set(null,m)}x=i.instance,T=x.getAttribute("data-precedence"),v=c.get(T)||m,v===m&&c.set(null,x),c.set(T,x),this.count++,m=sf.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),v?v.parentNode.insertBefore(x,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(x,r.firstChild)),i.state.loading|=4}}var Qc={$$typeof:A,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function sC(r,i,c,m,x,v,T,P){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.hiddenUpdates=Ut(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=v,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Uw(r,i,c,m,x,v,T,P,K,pe,Ne,Ce){return r=new sC(r,i,c,T,P,K,pe,Ce),i=1,v===!0&&(i|=24),v=Ws(3,null,null,i),r.current=v,v.stateNode=r,i=Om(),i.refCount++,r.pooledCache=i,i.refCount++,v.memoizedState={element:m,isDehydrated:c,cache:i},Pm(v),r}function Bw(r){return r?(r=Qo,r):Qo}function Fw(r,i,c,m,x,v){x=Bw(x),m.context===null?m.context=x:m.pendingContext=x,m=Za(i),m.payload={element:c},v=v===void 0?null:v,v!==null&&(m.callback=v),c=Ja(r,m,i),c!==null&&(Zs(c,r,i),Tc(c,r,i))}function Hw(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<i?c:i}}function Qp(r,i){Hw(r,i),(r=r.alternate)&&Hw(r,i)}function Vw(r){if(r.tag===13){var i=Ko(r,67108864);i!==null&&Zs(i,r,67108864),Qp(r,67108864)}}var af=!0;function rC(r,i,c,m){var x=F.T;F.T=null;var v=Y.p;try{Y.p=2,Zp(r,i,c,m)}finally{Y.p=v,F.T=x}}function aC(r,i,c,m){var x=F.T;F.T=null;var v=Y.p;try{Y.p=8,Zp(r,i,c,m)}finally{Y.p=v,F.T=x}}function Zp(r,i,c,m){if(af){var x=Jp(m);if(x===null)Bp(r,i,m,of,c),qw(r,m);else if(oC(x,r,i,c,m))m.stopPropagation();else if(qw(r,m),i&4&&-1<iC.indexOf(r)){for(;x!==null;){var v=dn(x);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var T=Sn(v.pendingLanes);if(T!==0){var P=v;for(P.pendingLanes|=2,P.entangledLanes|=2;T;){var K=1<<31-xt(T);P.entanglements[1]|=K,T&=~K}Gr(v),(nn&6)===0&&($d=jt()+500,qc(0))}}break;case 13:P=Ko(v,2),P!==null&&Zs(P,v,2),Id(),Qp(v,2)}if(v=Jp(m),v===null&&Bp(r,i,m,of,c),v===x)break;x=v}x!==null&&m.stopPropagation()}else Bp(r,i,m,null,c)}}function Jp(r){return r=$i(r),eg(r)}var of=null;function eg(r){if(of=null,r=kt(r),r!==null){var i=o(r);if(i===null)r=null;else{var c=i.tag;if(c===13){if(r=l(i),r!==null)return r;r=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return of=r,null}function $w(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($t()){case Ct:return 2;case X:return 8;case ce:case $:return 32;case Se:return 268435456;default:return 32}default:return 32}}var tg=!1,fi=null,hi=null,mi=null,Zc=new Map,Jc=new Map,pi=[],iC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qw(r,i){switch(r){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":Zc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jc.delete(i.pointerId)}}function eu(r,i,c,m,x,v){return r===null||r.nativeEvent!==v?(r={blockedOn:i,domEventName:c,eventSystemFlags:m,nativeEvent:v,targetContainers:[x]},i!==null&&(i=dn(i),i!==null&&Vw(i)),r):(r.eventSystemFlags|=m,i=r.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),r)}function oC(r,i,c,m,x){switch(i){case"focusin":return fi=eu(fi,r,i,c,m,x),!0;case"dragenter":return hi=eu(hi,r,i,c,m,x),!0;case"mouseover":return mi=eu(mi,r,i,c,m,x),!0;case"pointerover":var v=x.pointerId;return Zc.set(v,eu(Zc.get(v)||null,r,i,c,m,x)),!0;case"gotpointercapture":return v=x.pointerId,Jc.set(v,eu(Jc.get(v)||null,r,i,c,m,x)),!0}return!1}function Iw(r){var i=kt(r.target);if(i!==null){var c=o(i);if(c!==null){if(i=c.tag,i===13){if(i=l(c),i!==null){r.blockedOn=i,se(r.priority,function(){if(c.tag===13){var m=Qs();m=qt(m);var x=Ko(c,m);x!==null&&Zs(x,c,m),Qp(c,m)}});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function lf(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var c=Jp(r.nativeEvent);if(c===null){c=r.nativeEvent;var m=new c.constructor(c.type,c);dc=m,c.target.dispatchEvent(m),dc=null}else return i=dn(c),i!==null&&Vw(i),r.blockedOn=c,!1;i.shift()}return!0}function Yw(r,i,c){lf(r)&&c.delete(i)}function lC(){tg=!1,fi!==null&&lf(fi)&&(fi=null),hi!==null&&lf(hi)&&(hi=null),mi!==null&&lf(mi)&&(mi=null),Zc.forEach(Yw),Jc.forEach(Yw)}function cf(r,i){r.blockedOn===i&&(r.blockedOn=null,tg||(tg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lC)))}var uf=null;function Ww(r){uf!==r&&(uf=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){uf===r&&(uf=null);for(var i=0;i<r.length;i+=3){var c=r[i],m=r[i+1],x=r[i+2];if(typeof m!="function"){if(eg(m||c)===null)continue;break}var v=dn(c);v!==null&&(r.splice(i,3),i-=3,ep(v,{pending:!0,data:x,method:c.method,action:m},m,x))}}))}function tu(r){function i(K){return cf(K,r)}fi!==null&&cf(fi,r),hi!==null&&cf(hi,r),mi!==null&&cf(mi,r),Zc.forEach(i),Jc.forEach(i);for(var c=0;c<pi.length;c++){var m=pi[c];m.blockedOn===r&&(m.blockedOn=null)}for(;0<pi.length&&(c=pi[0],c.blockedOn===null);)Iw(c),c.blockedOn===null&&pi.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var x=c[m],v=c[m+1],T=x[Ae]||null;if(typeof v=="function")T||Ww(c);else if(T){var P=null;if(v&&v.hasAttribute("formAction")){if(x=v,T=v[Ae]||null)P=T.formAction;else if(eg(x)!==null)continue}else P=T.action;typeof P=="function"?c[m+1]=P:(c.splice(m,3),m-=3),Ww(c)}}}function ng(r){this._internalRoot=r}df.prototype.render=ng.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var c=i.current,m=Qs();Fw(c,m,r,i,null,null)},df.prototype.unmount=ng.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Fw(r.current,2,null,r,null,null),Id(),i[Ve]=null}};function df(r){this._internalRoot=r}df.prototype.unstable_scheduleHydration=function(r){if(r){var i=Q();r={blockedOn:null,target:r,priority:i};for(var c=0;c<pi.length&&i!==0&&i<pi[c].priority;c++);pi.splice(c,0,r),c===0&&Iw(r)}};var Xw=t.version;if(Xw!=="19.1.1")throw Error(s(527,Xw,"19.1.1"));Y.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=f(i),r=r!==null?h(r):null,r=r===null?null:r.stateNode,r};var cC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ff.isDisabled&&ff.supportsFiber)try{Ue=ff.inject(cC),qe=ff}catch(r){}}return su.createRoot=function(r,i){if(!a(r))throw Error(s(299));var c=!1,m="",x=uv,v=dv,T=fv,P=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onUncaughtError!==void 0&&(x=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(P=i.unstable_transitionCallbacks)),i=Uw(r,1,!1,null,null,c,m,x,v,T,P,null),r[Ve]=i.current,Up(r),new ng(i)},su.hydrateRoot=function(r,i,c){if(!a(r))throw Error(s(299));var m=!1,x="",v=uv,T=dv,P=fv,K=null,pe=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(K=c.unstable_transitionCallbacks),c.formState!==void 0&&(pe=c.formState)),i=Uw(r,1,!0,i,c!=null?c:null,m,x,v,T,P,K,pe),i.context=Bw(null),c=i.current,m=Qs(),m=qt(m),x=Za(m),x.callback=null,Ja(c,x,m),c=m,i.current.lanes=c,St(i,c),Gr(i),r[Ve]=i.current,Up(r),new df(i)},su.version="19.1.1",su}var o_;function SC(){if(o_)return lg.exports;o_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),lg.exports=jC(),lg.exports}var NC=SC();const EC=sx(NC);var TC=Object.defineProperty,kC=(e,t,n)=>t in e?TC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uo=(e,t,n)=>kC(e,typeof t!="symbol"?t+"":t,n),CC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_l={},ru={},Or={},l_;function bS(){if(l_)return Or;l_=1;var e=Or&&Or.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,d=arguments.length;l<d;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=Or&&Or.__awaiter||function(a,o,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function g(w){try{y(d.next(w))}catch(_){p(_)}}function b(w){try{y(d.throw(w))}catch(_){p(_)}}function y(w){w.done?h(w.value):f(w.value).then(g,b)}y((d=d.apply(a,o||[])).next())})},n=Or&&Or.__generator||function(a,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(w){return b([y,w])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(l=0)),l;)try{if(d=1,f&&(h=y[0]&2?f.return:y[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,y[1])).done)return h;switch(f=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,f=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){l.label=y[1];break}if(y[0]===6&&l.label<h[1]){l.label=h[1],h=y;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(y);break}h[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(a,l)}catch(w){y=[6,w],f=0}finally{d=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Or,"__esModule",{value:!0}),Or.FrappeCall=void 0;var s=function(){function a(o,l,d,f,h){this.appURL=o,this.axios=l,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.get=function(o,l){return t(this,void 0,void 0,function(){var d;return n(this,function(f){return d=new URLSearchParams,l&&Object.entries(l).forEach(function(h){var p=h[0],g=h[1];if(g!=null){var b=typeof g=="object"?JSON.stringify(g):g;d.set(p,b)}}),[2,this.axios.get("/api/method/".concat(o),{params:d}).then(function(h){return h.data}).catch(function(h){var p,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(p=h.response.data.message)!==null&&p!==void 0?p:"There was an error.",exception:(g=h.response.data.exception)!==null&&g!==void 0?g:""})})]})})},a.prototype.post=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/method/".concat(o),e({},l)).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.put=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.put("/api/method/".concat(o),e({},l)).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.delete=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.delete("/api/method/".concat(o),{params:l}).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a}();return Or.FrappeCall=s,Or}var Rr={},c_;function vS(){if(c_)return Rr;c_=1;var e=Rr&&Rr.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,d=arguments.length;l<d;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=Rr&&Rr.__awaiter||function(a,o,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function g(w){try{y(d.next(w))}catch(_){p(_)}}function b(w){try{y(d.throw(w))}catch(_){p(_)}}function y(w){w.done?h(w.value):f(w.value).then(g,b)}y((d=d.apply(a,o||[])).next())})},n=Rr&&Rr.__generator||function(a,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(w){return b([y,w])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(l=0)),l;)try{if(d=1,f&&(h=y[0]&2?f.return:y[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,y[1])).done)return h;switch(f=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,f=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){l.label=y[1];break}if(y[0]===6&&l.label<h[1]){l.label=h[1],h=y;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(y);break}h[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(a,l)}catch(w){y=[6,w],f=0}finally{d=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.FrappeDB=void 0;var s=function(){function a(o,l,d,f,h){this.appURL=o,this.axios=l,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.getDoc=function(o,l){return l===void 0&&(l=""),t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.get("/api/resource/".concat(o,"/").concat(encodeURIComponent(l))).then(function(f){return f.data.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while fetching the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getDocList=function(o,l){var d;return t(this,void 0,void 0,function(){var f,h,p,g,b,y,w,_,j,S,M;return n(this,function(A){return f={},l&&(h=l.fields,p=l.filters,g=l.orFilters,b=l.orderBy,y=l.limit,w=l.limit_start,_=l.groupBy,j=l.asDict,S=j===void 0?!0:j,M=b?"".concat(String(b==null?void 0:b.field)," ").concat((d=b==null?void 0:b.order)!==null&&d!==void 0?d:"asc"):"",f={fields:h?JSON.stringify(h):void 0,filters:p?JSON.stringify(p):void 0,or_filters:g?JSON.stringify(g):void 0,order_by:M,group_by:_,limit:y,limit_start:w,as_dict:S}),[2,this.axios.get("/api/resource/".concat(o),{params:f}).then(function(k){return k.data.data}).catch(function(k){var C,O;throw e(e({},k.response.data),{httpStatus:k.response.status,httpStatusText:k.response.statusText,message:"There was an error while fetching the documents.",exception:(O=(C=k.response.data.exception)!==null&&C!==void 0?C:k.response.data.exc_type)!==null&&O!==void 0?O:""})})]})})},a.prototype.createDoc=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/resource/".concat(o),e({},l)).then(function(f){return f.data.data}).catch(function(f){var h,p,g;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error while creating the document.",exception:(g=(p=f.response.data.exception)!==null&&p!==void 0?p:f.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},a.prototype.updateDoc=function(o,l,d){return t(this,void 0,void 0,function(){return n(this,function(f){return[2,this.axios.put("/api/resource/".concat(o,"/").concat(l&&encodeURIComponent(l)),e({},d)).then(function(h){return h.data.data}).catch(function(h){var p,g,b;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(p=h.response.data.message)!==null&&p!==void 0?p:"There was an error while updating the document.",exception:(b=(g=h.response.data.exception)!==null&&g!==void 0?g:h.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.deleteDoc=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.delete("/api/resource/".concat(o,"/").concat(l&&encodeURIComponent(l))).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while deleting the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getCount=function(o,l,d,f){return d===void 0&&(d=!1),f===void 0&&(f=!1),t(this,void 0,void 0,function(){var h;return n(this,function(p){return h={doctype:o,filters:[]},d&&(h.cache=d),f&&(h.debug=f),l&&(h.filters=l?JSON.stringify(l):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:h}).then(function(g){return g.data.message}).catch(function(g){var b,y;throw e(e({},g.response.data),{httpStatus:g.response.status,httpStatusText:g.response.statusText,message:"There was an error while getting the count.",exception:(y=(b=g.response.data.exception)!==null&&b!==void 0?b:g.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},a.prototype.getLastDoc=function(o,l){return t(this,void 0,void 0,function(){var d,f;return n(this,function(h){switch(h.label){case 0:return d={orderBy:{field:"creation",order:"desc"}},l&&(d=e(e({},d),l)),[4,this.getDocList(o,e(e({},d),{limit:1,fields:["name"]}))];case 1:return f=h.sent(),f.length>0?[2,this.getDoc(o,f[0].name)]:[2,{}]}})})},a.prototype.renameDoc=function(o,l,d,f){return f===void 0&&(f=!1),t(this,void 0,void 0,function(){return n(this,function(h){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:o,old_name:l,new_name:d,merge:f}).then(function(p){return p.data}).catch(function(p){var g,b,y;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:(g=p.response.data.message)!==null&&g!==void 0?g:"There was an error while renaming the document.",exception:(y=(b=p.response.data.exception)!==null&&b!==void 0?b:p.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},a.prototype.getValue=function(o,l,d,f,h,p){return f===void 0&&(f=!0),h===void 0&&(h=!1),p===void 0&&(p=null),t(this,void 0,void 0,function(){var g;return n(this,function(b){return g={doctype:o,fieldname:"[]",filters:[],as_dict:f,debug:h,parent:null},l&&(g.fieldname=typeof l=="object"?JSON.stringify(l):l),d&&(g.filters=d?JSON.stringify(d):void 0),p&&(g.parent=p),[2,this.axios.get("/api/method/frappe.client.get_value",{params:g}).then(function(y){return y.data}).catch(function(y){var w,_;throw e(e({},y.response.data),{httpStatus:y.response.status,httpStatusText:y.response.statusText,message:"There was an error while getting the value.",exception:(_=(w=y.response.data.exception)!==null&&w!==void 0?w:y.response.data.exc_type)!==null&&_!==void 0?_:""})})]})})},a.prototype.setValue=function(o,l,d,f){return t(this,void 0,void 0,function(){return n(this,function(h){return d!==null&&typeof d=="object"&&!Array.isArray(d)&&(f=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:o,name:l,fieldname:d,value:f}).then(function(p){return p.data}).catch(function(p){var g,b;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while setting the value.",exception:(b=(g=p.response.data.exception)!==null&&g!==void 0?g:p.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.getSingleValue=function(o,l){return t(this,void 0,void 0,function(){var d;return n(this,function(f){return d={doctype:o,field:l},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:d}).then(function(h){return h.data}).catch(function(h){var p,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(g=(p=h.response.data.exception)!==null&&p!==void 0?p:h.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},a.prototype.submit=function(o){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:o}).then(function(d){return d.data.message}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:"There was an error while submitting the document.",exception:(h=(f=d.response.data.exception)!==null&&f!==void 0?f:d.response.data.exc_type)!==null&&h!==void 0?h:""})})]})})},a.prototype.cancel=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:o,name:l}).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while cancelling the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a}();return Rr.FrappeDB=s,Rr}var Dr={},Aa={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var fg,u_;function AC(){if(u_)return fg;u_=1;function e(E,R){return function(){return E.apply(R,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:n}=Object,s=(E=>R=>{const U=t.call(R);return E[U]||(E[U]=U.slice(8,-1).toLowerCase())})(Object.create(null)),a=E=>(E=E.toLowerCase(),R=>s(R)===E),o=E=>R=>typeof R===E,{isArray:l}=Array,d=o("undefined");function f(E){return E!==null&&!d(E)&&E.constructor!==null&&!d(E.constructor)&&b(E.constructor.isBuffer)&&E.constructor.isBuffer(E)}const h=a("ArrayBuffer");function p(E){let R;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?R=ArrayBuffer.isView(E):R=E&&E.buffer&&h(E.buffer),R}const g=o("string"),b=o("function"),y=o("number"),w=E=>E!==null&&typeof E=="object",_=E=>E===!0||E===!1,j=E=>{if(s(E)!=="object")return!1;const R=n(E);return(R===null||R===Object.prototype||Object.getPrototypeOf(R)===null)&&!(Symbol.toStringTag in E)&&!(Symbol.iterator in E)},S=a("Date"),M=a("File"),A=a("Blob"),k=a("FileList"),C=E=>w(E)&&b(E.pipe),O=E=>{let R;return E&&(typeof FormData=="function"&&E instanceof FormData||b(E.append)&&((R=s(E))==="formdata"||R==="object"&&b(E.toString)&&E.toString()==="[object FormData]"))},H=a("URLSearchParams"),[D,V,te,q]=["ReadableStream","Request","Response","Headers"].map(a),W=E=>E.trim?E.trim():E.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function re(E,R,{allOwnKeys:U=!1}={}){if(E===null||typeof E>"u")return;let B,ie;if(typeof E!="object"&&(E=[E]),l(E))for(B=0,ie=E.length;B<ie;B++)R.call(null,E[B],B,E);else{const ue=U?Object.getOwnPropertyNames(E):Object.keys(E),xe=ue.length;let Le;for(B=0;B<xe;B++)Le=ue[B],R.call(null,E[Le],Le,E)}}function me(E,R){R=R.toLowerCase();const U=Object.keys(E);let B=U.length,ie;for(;B-- >0;)if(ie=U[B],R===ie.toLowerCase())return ie;return null}const Z=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:CC,F=E=>!d(E)&&E!==Z;function Y(){const{caseless:E}=F(this)&&this||{},R={},U=(B,ie)=>{const ue=E&&me(R,ie)||ie;j(R[ue])&&j(B)?R[ue]=Y(R[ue],B):j(B)?R[ue]=Y({},B):l(B)?R[ue]=B.slice():R[ue]=B};for(let B=0,ie=arguments.length;B<ie;B++)arguments[B]&&re(arguments[B],U);return R}const G=(E,R,U,{allOwnKeys:B}={})=>(re(R,(ie,ue)=>{U&&b(ie)?E[ue]=e(ie,U):E[ue]=ie},{allOwnKeys:B}),E),ee=E=>(E.charCodeAt(0)===65279&&(E=E.slice(1)),E),z=(E,R,U,B)=>{E.prototype=Object.create(R.prototype,B),E.prototype.constructor=E,Object.defineProperty(E,"super",{value:R.prototype}),U&&Object.assign(E.prototype,U)},ae=(E,R,U,B)=>{let ie,ue,xe;const Le={};if(R=R||{},E==null)return R;do{for(ie=Object.getOwnPropertyNames(E),ue=ie.length;ue-- >0;)xe=ie[ue],(!B||B(xe,E,R))&&!Le[xe]&&(R[xe]=E[xe],Le[xe]=!0);E=U!==!1&&n(E)}while(E&&(!U||U(E,R))&&E!==Object.prototype);return R},we=(E,R,U)=>{E=String(E),(U===void 0||U>E.length)&&(U=E.length),U-=R.length;const B=E.indexOf(R,U);return B!==-1&&B===U},I=E=>{if(!E)return null;if(l(E))return E;let R=E.length;if(!y(R))return null;const U=new Array(R);for(;R-- >0;)U[R]=E[R];return U},oe=(E=>R=>E&&R instanceof E)(typeof Uint8Array<"u"&&n(Uint8Array)),je=(E,R)=>{const U=(E&&E[Symbol.iterator]).call(E);let B;for(;(B=U.next())&&!B.done;){const ie=B.value;R.call(E,ie[0],ie[1])}},ge=(E,R)=>{let U;const B=[];for(;(U=E.exec(R))!==null;)B.push(U);return B},Ee=a("HTMLFormElement"),Oe=E=>E.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(R,U,B){return U.toUpperCase()+B}),We=(({hasOwnProperty:E})=>(R,U)=>E.call(R,U))(Object.prototype),He=a("RegExp"),it=(E,R)=>{const U=Object.getOwnPropertyDescriptors(E),B={};re(U,(ie,ue)=>{let xe;(xe=R(ie,ue,E))!==!1&&(B[ue]=xe||ie)}),Object.defineProperties(E,B)},st=E=>{it(E,(R,U)=>{if(b(E)&&["arguments","caller","callee"].indexOf(U)!==-1)return!1;const B=E[U];if(b(B)){if(R.enumerable=!1,"writable"in R){R.writable=!1;return}R.set||(R.set=()=>{throw Error("Can not rewrite read-only method '"+U+"'")})}})},vt=(E,R)=>{const U={},B=ie=>{ie.forEach(ue=>{U[ue]=!0})};return l(E)?B(E):B(String(E).split(R)),U},Pe=()=>{},gt=(E,R)=>E!=null&&Number.isFinite(E=+E)?E:R;function Vt(E){return!!(E&&b(E.append)&&E[Symbol.toStringTag]==="FormData"&&E[Symbol.iterator])}const jt=E=>{const R=new Array(10),U=(B,ie)=>{if(w(B)){if(R.indexOf(B)>=0)return;if(!("toJSON"in B)){R[ie]=B;const ue=l(B)?[]:{};return re(B,(xe,Le)=>{const lt=U(xe,ie+1);!d(lt)&&(ue[Le]=lt)}),R[ie]=void 0,ue}}return B};return U(E,0)},$t=a("AsyncFunction"),Ct=E=>E&&(w(E)||b(E))&&b(E.then)&&b(E.catch),X=((E,R)=>E?setImmediate:R?((U,B)=>(Z.addEventListener("message",({source:ie,data:ue})=>{ie===Z&&ue===U&&B.length&&B.shift()()},!1),ie=>{B.push(ie),Z.postMessage(U,"*")}))(`axios@${Math.random()}`,[]):U=>setTimeout(U))(typeof setImmediate=="function",b(Z.postMessage)),ce=typeof queueMicrotask<"u"?queueMicrotask.bind(Z):typeof process<"u"&&process.nextTick||X;var $={isArray:l,isArrayBuffer:h,isBuffer:f,isFormData:O,isArrayBufferView:p,isString:g,isNumber:y,isBoolean:_,isObject:w,isPlainObject:j,isReadableStream:D,isRequest:V,isResponse:te,isHeaders:q,isUndefined:d,isDate:S,isFile:M,isBlob:A,isRegExp:He,isFunction:b,isStream:C,isURLSearchParams:H,isTypedArray:oe,isFileList:k,forEach:re,merge:Y,extend:G,trim:W,stripBOM:ee,inherits:z,toFlatObject:ae,kindOf:s,kindOfTest:a,endsWith:we,toArray:I,forEachEntry:je,matchAll:ge,isHTMLForm:Ee,hasOwnProperty:We,hasOwnProp:We,reduceDescriptors:it,freezeMethods:st,toObjectSet:vt,toCamelCase:Oe,noop:Pe,toFiniteNumber:gt,findKey:me,global:Z,isContextDefined:F,isSpecCompliantForm:Vt,toJSONObject:jt,isAsyncFn:$t,isThenable:Ct,setImmediate:X,asap:ce};function Se(E,R,U,B,ie){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=E,this.name="AxiosError",R&&(this.code=R),U&&(this.config=U),B&&(this.request=B),ie&&(this.response=ie,this.status=ie.status?ie.status:null)}$.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const De=Se.prototype,Re={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(E=>{Re[E]={value:E}}),Object.defineProperties(Se,Re),Object.defineProperty(De,"isAxiosError",{value:!0}),Se.from=(E,R,U,B,ie,ue)=>{const xe=Object.create(De);return $.toFlatObject(E,xe,function(Le){return Le!==Error.prototype},Le=>Le!=="isAxiosError"),Se.call(xe,E.message,R,U,B,ie),xe.cause=E,xe.name=E.name,ue&&Object.assign(xe,ue),xe};var Ue=null;function qe(E){return $.isPlainObject(E)||$.isArray(E)}function Ke(E){return $.endsWith(E,"[]")?E.slice(0,-2):E}function xt(E,R,U){return E?E.concat(R).map(function(B,ie){return B=Ke(B),!U&&ie?"["+B+"]":B}).join(U?".":""):R}function yn(E){return $.isArray(E)&&!E.some(qe)}const ct=$.toFlatObject($,{},null,function(E){return/^is[A-Z]/.test(E)});function ke(E,R,U){if(!$.isObject(E))throw new TypeError("target must be an object");R=R||new FormData,U=$.toFlatObject(U,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Et,dt){return!$.isUndefined(dt[Et])});const B=U.metaTokens,ie=U.visitor||ze,ue=U.dots,xe=U.indexes,Le=(U.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(R);if(!$.isFunction(ie))throw new TypeError("visitor must be a function");function lt(Et){if(Et===null)return"";if($.isDate(Et))return Et.toISOString();if(!Le&&$.isBlob(Et))throw new Se("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(Et)||$.isTypedArray(Et)?Le&&typeof Blob=="function"?new Blob([Et]):Buffer.from(Et):Et}function ze(Et,dt,nt){let os=Et;if(Et&&!nt&&typeof Et=="object"){if($.endsWith(dt,"{}"))dt=B?dt:dt.slice(0,-2),Et=JSON.stringify(Et);else if($.isArray(Et)&&yn(Et)||($.isFileList(Et)||$.endsWith(dt,"[]"))&&(os=$.toArray(Et)))return dt=Ke(dt),os.forEach(function(Vn,Nn){!($.isUndefined(Vn)||Vn===null)&&R.append(xe===!0?xt([dt],Nn,ue):xe===null?dt:dt+"[]",lt(Vn))}),!1}return qe(Et)?!0:(R.append(xt(nt,dt,ue),lt(Et)),!1)}const Ie=[],mt=Object.assign(ct,{defaultVisitor:ze,convertValue:lt,isVisitable:qe});function on(Et,dt){if(!$.isUndefined(Et)){if(Ie.indexOf(Et)!==-1)throw Error("Circular reference detected in "+dt.join("."));Ie.push(Et),$.forEach(Et,function(nt,os){(!($.isUndefined(nt)||nt===null)&&ie.call(R,nt,$.isString(os)?os.trim():os,dt,mt))===!0&&on(nt,dt?dt.concat(os):[os])}),Ie.pop()}}if(!$.isObject(E))throw new TypeError("data must be an object");return on(E),R}function Be(E){const R={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(E).replace(/[!'()~]|%20|%00/g,function(U){return R[U]})}function Dt(E,R){this._pairs=[],E&&ke(E,this,R)}const Sn=Dt.prototype;Sn.append=function(E,R){this._pairs.push([E,R])},Sn.toString=function(E){const R=E?function(U){return E.call(this,U,Be)}:Be;return this._pairs.map(function(U){return R(U[0])+"="+R(U[1])},"").join("&")};function as(E){return encodeURIComponent(E).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Hn(E,R,U){if(!R)return E;const B=U&&U.encode||as;$.isFunction(U)&&(U={serialize:U});const ie=U&&U.serialize;let ue;if(ie?ue=ie(R,U):ue=$.isURLSearchParams(R)?R.toString():new Dt(R,U).toString(B),ue){const xe=E.indexOf("#");xe!==-1&&(E=E.slice(0,xe)),E+=(E.indexOf("?")===-1?"?":"&")+ue}return E}class ds{constructor(){this.handlers=[]}use(R,U,B){return this.handlers.push({fulfilled:R,rejected:U,synchronous:B?B.synchronous:!1,runWhen:B?B.runWhen:null}),this.handlers.length-1}eject(R){this.handlers[R]&&(this.handlers[R]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(R){$.forEach(this.handlers,function(U){U!==null&&R(U)})}}var Xe=ds,Mt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ut=typeof URLSearchParams<"u"?URLSearchParams:Dt,St=typeof FormData<"u"?FormData:null,en=typeof Blob<"u"?Blob:null,Ge={isBrowser:!0,classes:{URLSearchParams:Ut,FormData:St,Blob:en},protocols:["http","https","file","blob","url","data"]};const wt=typeof window<"u"&&typeof document<"u",qt=typeof navigator=="object"&&navigator||void 0,Xt=wt&&(!qt||["ReactNative","NativeScript","NS"].indexOf(qt.product)<0),Q=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",se=wt&&window.location.href||"http://localhost";var de=Object.freeze({__proto__:null,hasBrowserEnv:wt,hasStandardBrowserWebWorkerEnv:Q,hasStandardBrowserEnv:Xt,navigator:qt,origin:se}),_e=L(L({},de),Ge);function Ae(E,R){return ke(E,new _e.classes.URLSearchParams,Object.assign({visitor:function(U,B,ie,ue){return _e.isNode&&$.isBuffer(U)?(this.append(B,U.toString("base64")),!1):ue.defaultVisitor.apply(this,arguments)}},R))}function Ve(E){return $.matchAll(/\w+|\[(\w*)]/g,E).map(R=>R[0]==="[]"?"":R[1]||R[0])}function Qe(E){const R={},U=Object.keys(E);let B;const ie=U.length;let ue;for(B=0;B<ie;B++)ue=U[B],R[ue]=E[ue];return R}function tt(E){function R(U,B,ie,ue){let xe=U[ue++];if(xe==="__proto__")return!0;const Le=Number.isFinite(+xe),lt=ue>=U.length;return xe=!xe&&$.isArray(ie)?ie.length:xe,lt?($.hasOwnProp(ie,xe)?ie[xe]=[ie[xe],B]:ie[xe]=B,!Le):((!ie[xe]||!$.isObject(ie[xe]))&&(ie[xe]=[]),R(U,B,ie[xe],ue)&&$.isArray(ie[xe])&&(ie[xe]=Qe(ie[xe])),!Le)}if($.isFormData(E)&&$.isFunction(E.entries)){const U={};return $.forEachEntry(E,(B,ie)=>{R(Ve(B),ie,U,0)}),U}return null}function ut(E,R,U){if($.isString(E))try{return(R||JSON.parse)(E),$.trim(E)}catch(B){if(B.name!=="SyntaxError")throw B}return(U||JSON.stringify)(E)}const At={transitional:Mt,adapter:["xhr","http","fetch"],transformRequest:[function(E,R){const U=R.getContentType()||"",B=U.indexOf("application/json")>-1,ie=$.isObject(E);if(ie&&$.isHTMLForm(E)&&(E=new FormData(E)),$.isFormData(E))return B?JSON.stringify(tt(E)):E;if($.isArrayBuffer(E)||$.isBuffer(E)||$.isStream(E)||$.isFile(E)||$.isBlob(E)||$.isReadableStream(E))return E;if($.isArrayBufferView(E))return E.buffer;if($.isURLSearchParams(E))return R.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),E.toString();let ue;if(ie){if(U.indexOf("application/x-www-form-urlencoded")>-1)return Ae(E,this.formSerializer).toString();if((ue=$.isFileList(E))||U.indexOf("multipart/form-data")>-1){const xe=this.env&&this.env.FormData;return ke(ue?{"files[]":E}:E,xe&&new xe,this.formSerializer)}}return ie||B?(R.setContentType("application/json",!1),ut(E)):E}],transformResponse:[function(E){const R=this.transitional||At.transitional,U=R&&R.forcedJSONParsing,B=this.responseType==="json";if($.isResponse(E)||$.isReadableStream(E))return E;if(E&&$.isString(E)&&(U&&!this.responseType||B)){const ie=!(R&&R.silentJSONParsing)&&B;try{return JSON.parse(E)}catch(ue){if(ie)throw ue.name==="SyntaxError"?Se.from(ue,Se.ERR_BAD_RESPONSE,this,null,this.response):ue}}return E}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_e.classes.FormData,Blob:_e.classes.Blob},validateStatus:function(E){return E>=200&&E<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],E=>{At.headers[E]={}});var rt=At;const bt=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var kt=E=>{const R={};let U,B,ie;return E&&E.split(`
`).forEach(function(ue){ie=ue.indexOf(":"),U=ue.substring(0,ie).trim().toLowerCase(),B=ue.substring(ie+1).trim(),!(!U||R[U]&&bt[U])&&(U==="set-cookie"?R[U]?R[U].push(B):R[U]=[B]:R[U]=R[U]?R[U]+", "+B:B)}),R};const dn=Symbol("internals");function Cn(E){return E&&String(E).trim().toLowerCase()}function an(E){return E===!1||E==null?E:$.isArray(E)?E.map(an):String(E)}function at(E){const R=Object.create(null),U=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let B;for(;B=U.exec(E);)R[B[1]]=B[2];return R}const Nt=E=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(E.trim());function Gt(E,R,U,B,ie){if($.isFunction(B))return B.call(this,R,U);if(ie&&(R=U),!!$.isString(R)){if($.isString(B))return R.indexOf(B)!==-1;if($.isRegExp(B))return B.test(R)}}function vn(E){return E.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(R,U,B)=>U.toUpperCase()+B)}function An(E,R){const U=$.toCamelCase(" "+R);["get","set","has"].forEach(B=>{Object.defineProperty(E,B+U,{value:function(ie,ue,xe){return this[B].call(this,R,ie,ue,xe)},configurable:!0})})}class Qn{constructor(R){R&&this.set(R)}set(R,U,B){const ie=this;function ue(Le,lt,ze){const Ie=Cn(lt);if(!Ie)throw new Error("header name must be a non-empty string");const mt=$.findKey(ie,Ie);(!mt||ie[mt]===void 0||ze===!0||ze===void 0&&ie[mt]!==!1)&&(ie[mt||lt]=an(Le))}const xe=(Le,lt)=>$.forEach(Le,(ze,Ie)=>ue(ze,Ie,lt));if($.isPlainObject(R)||R instanceof this.constructor)xe(R,U);else if($.isString(R)&&(R=R.trim())&&!Nt(R))xe(kt(R),U);else if($.isHeaders(R))for(const[Le,lt]of R.entries())ue(lt,Le,B);else R!=null&&ue(U,R,B);return this}get(R,U){if(R=Cn(R),R){const B=$.findKey(this,R);if(B){const ie=this[B];if(!U)return ie;if(U===!0)return at(ie);if($.isFunction(U))return U.call(this,ie,B);if($.isRegExp(U))return U.exec(ie);throw new TypeError("parser must be boolean|regexp|function")}}}has(R,U){if(R=Cn(R),R){const B=$.findKey(this,R);return!!(B&&this[B]!==void 0&&(!U||Gt(this,this[B],B,U)))}return!1}delete(R,U){const B=this;let ie=!1;function ue(xe){if(xe=Cn(xe),xe){const Le=$.findKey(B,xe);Le&&(!U||Gt(B,B[Le],Le,U))&&(delete B[Le],ie=!0)}}return $.isArray(R)?R.forEach(ue):ue(R),ie}clear(R){const U=Object.keys(this);let B=U.length,ie=!1;for(;B--;){const ue=U[B];(!R||Gt(this,this[ue],ue,R,!0))&&(delete this[ue],ie=!0)}return ie}normalize(R){const U=this,B={};return $.forEach(this,(ie,ue)=>{const xe=$.findKey(B,ue);if(xe){U[xe]=an(ie),delete U[ue];return}const Le=R?vn(ue):String(ue).trim();Le!==ue&&delete U[ue],U[Le]=an(ie),B[Le]=!0}),this}concat(...R){return this.constructor.concat(this,...R)}toJSON(R){const U=Object.create(null);return $.forEach(this,(B,ie)=>{B!=null&&B!==!1&&(U[ie]=R&&$.isArray(B)?B.join(", "):B)}),U}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([R,U])=>R+": "+U).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(R){return R instanceof this?R:new this(R)}static concat(R,...U){const B=new this(R);return U.forEach(ie=>B.set(ie)),B}static accessor(R){const U=(this[dn]=this[dn]={accessors:{}}).accessors,B=this.prototype;function ie(ue){const xe=Cn(ue);U[xe]||(An(B,ue),U[xe]=!0)}return $.isArray(R)?R.forEach(ie):ie(R),this}}Qn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),$.reduceDescriptors(Qn.prototype,({value:E},R)=>{let U=R[0].toUpperCase()+R.slice(1);return{get:()=>E,set(B){this[U]=B}}}),$.freezeMethods(Qn);var is=Qn;function ir(E,R){const U=this||rt,B=R||U,ie=is.from(B.headers);let ue=B.data;return $.forEach(E,function(xe){ue=xe.call(U,ue,ie.normalize(),R?R.status:void 0)}),ie.normalize(),ue}function or(E){return!!(E&&E.__CANCEL__)}function xs(E,R,U){Se.call(this,E!=null?E:"canceled",Se.ERR_CANCELED,R,U),this.name="CanceledError"}$.inherits(xs,Se,{__CANCEL__:!0});function lr(E,R,U){const B=U.config.validateStatus;!U.status||!B||B(U.status)?E(U):R(new Se("Request failed with status code "+U.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(U.status/100)-4],U.config,U.request,U))}function Rt(E){const R=/^([-+\w]{1,25})(:?\/\/|:)/.exec(E);return R&&R[1]||""}function On(E,R){E=E||10;const U=new Array(E),B=new Array(E);let ie=0,ue=0,xe;return R=R!==void 0?R:1e3,function(Le){const lt=Date.now(),ze=B[ue];xe||(xe=lt),U[ie]=Le,B[ie]=lt;let Ie=ue,mt=0;for(;Ie!==ie;)mt+=U[Ie++],Ie=Ie%E;if(ie=(ie+1)%E,ie===ue&&(ue=(ue+1)%E),lt-xe<R)return;const on=ze&&lt-ze;return on?Math.round(mt*1e3/on):void 0}}function ha(E,R){let U=0,B=1e3/R,ie,ue;const xe=(Le,lt=Date.now())=>{U=lt,ie=null,ue&&(clearTimeout(ue),ue=null),E.apply(null,Le)};return[(...Le)=>{const lt=Date.now(),ze=lt-U;ze>=B?xe(Le,lt):(ie=Le,ue||(ue=setTimeout(()=>{ue=null,xe(ie)},B-ze)))},()=>ie&&xe(ie)]}const fs=(E,R,U=3)=>{let B=0;const ie=On(50,250);return ha(ue=>{const xe=ue.loaded,Le=ue.lengthComputable?ue.total:void 0,lt=xe-B,ze=ie(lt),Ie=xe<=Le;B=xe;const mt={loaded:xe,total:Le,progress:Le?xe/Le:void 0,bytes:lt,rate:ze||void 0,estimated:ze&&Le&&Ie?(Le-xe)/ze:void 0,event:ue,lengthComputable:Le!=null,[R?"download":"upload"]:!0};E(mt)},U)},pn=(E,R)=>{const U=E!=null;return[B=>R[0]({lengthComputable:U,total:E,loaded:B}),R[1]]},Er=E=>(...R)=>$.asap(()=>E(...R));var zo=_e.hasStandardBrowserEnv?((E,R)=>U=>(U=new URL(U,_e.origin),E.protocol===U.protocol&&E.host===U.host&&(R||E.port===U.port)))(new URL(_e.origin),_e.navigator&&/(msie|trident)/i.test(_e.navigator.userAgent)):()=>!0,Uo=_e.hasStandardBrowserEnv?{write(E,R,U,B,ie,ue){const xe=[E+"="+encodeURIComponent(R)];$.isNumber(U)&&xe.push("expires="+new Date(U).toGMTString()),$.isString(B)&&xe.push("path="+B),$.isString(ie)&&xe.push("domain="+ie),ue===!0&&xe.push("secure"),document.cookie=xe.join("; ")},read(E){const R=document.cookie.match(new RegExp("(^|;\\s*)("+E+")=([^;]*)"));return R?decodeURIComponent(R[3]):null},remove(E){this.write(E,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Os(E){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(E)}function ad(E,R){return R?E.replace(/\/?\/$/,"")+"/"+R.replace(/^\/+/,""):E}function id(E,R,U){let B=!Os(R);return E&&B||U==!1?ad(E,R):R}const Bi=E=>E instanceof is?L({},E):E;function $r(E,R){R=R||{};const U={};function B(ze,Ie,mt,on){return $.isPlainObject(ze)&&$.isPlainObject(Ie)?$.merge.call({caseless:on},ze,Ie):$.isPlainObject(Ie)?$.merge({},Ie):$.isArray(Ie)?Ie.slice():Ie}function ie(ze,Ie,mt,on){if($.isUndefined(Ie)){if(!$.isUndefined(ze))return B(void 0,ze,mt,on)}else return B(ze,Ie,mt,on)}function ue(ze,Ie){if(!$.isUndefined(Ie))return B(void 0,Ie)}function xe(ze,Ie){if($.isUndefined(Ie)){if(!$.isUndefined(ze))return B(void 0,ze)}else return B(void 0,Ie)}function Le(ze,Ie,mt){if(mt in R)return B(ze,Ie);if(mt in E)return B(void 0,ze)}const lt={url:ue,method:ue,data:ue,baseURL:xe,transformRequest:xe,transformResponse:xe,paramsSerializer:xe,timeout:xe,timeoutMessage:xe,withCredentials:xe,withXSRFToken:xe,adapter:xe,responseType:xe,xsrfCookieName:xe,xsrfHeaderName:xe,onUploadProgress:xe,onDownloadProgress:xe,decompress:xe,maxContentLength:xe,maxBodyLength:xe,beforeRedirect:xe,transport:xe,httpAgent:xe,httpsAgent:xe,cancelToken:xe,socketPath:xe,responseEncoding:xe,validateStatus:Le,headers:(ze,Ie,mt)=>ie(Bi(ze),Bi(Ie),mt,!0)};return $.forEach(Object.keys(Object.assign({},E,R)),function(ze){const Ie=lt[ze]||ie,mt=Ie(E[ze],R[ze],ze);$.isUndefined(mt)&&Ie!==Le||(U[ze]=mt)}),U}var Fi=E=>{const R=$r({},E);let{data:U,withXSRFToken:B,xsrfHeaderName:ie,xsrfCookieName:ue,headers:xe,auth:Le}=R;R.headers=xe=is.from(xe),R.url=Hn(id(R.baseURL,R.url),E.params,E.paramsSerializer),Le&&xe.set("Authorization","Basic "+btoa((Le.username||"")+":"+(Le.password?unescape(encodeURIComponent(Le.password)):"")));let lt;if($.isFormData(U)){if(_e.hasStandardBrowserEnv||_e.hasStandardBrowserWebWorkerEnv)xe.setContentType(void 0);else if((lt=xe.getContentType())!==!1){const[ze,...Ie]=lt?lt.split(";").map(mt=>mt.trim()).filter(Boolean):[];xe.setContentType([ze||"multipart/form-data",...Ie].join("; "))}}if(_e.hasStandardBrowserEnv&&(B&&$.isFunction(B)&&(B=B(R)),B||B!==!1&&zo(R.url))){const ze=ie&&ue&&Uo.read(ue);ze&&xe.set(ie,ze)}return R},um=typeof XMLHttpRequest<"u"&&function(E){return new Promise(function(R,U){const B=Fi(E);let ie=B.data;const ue=is.from(B.headers).normalize();let{responseType:xe,onUploadProgress:Le,onDownloadProgress:lt}=B,ze,Ie,mt,on,Et;function dt(){on&&on(),Et&&Et(),B.cancelToken&&B.cancelToken.unsubscribe(ze),B.signal&&B.signal.removeEventListener("abort",ze)}let nt=new XMLHttpRequest;nt.open(B.method.toUpperCase(),B.url,!0),nt.timeout=B.timeout;function os(){if(!nt)return;const Nn=is.from("getAllResponseHeaders"in nt&&nt.getAllResponseHeaders()),cr={data:!xe||xe==="text"||xe==="json"?nt.responseText:nt.response,status:nt.status,statusText:nt.statusText,headers:Nn,config:E,request:nt};lr(function(Wi){R(Wi),dt()},function(Wi){U(Wi),dt()},cr),nt=null}"onloadend"in nt?nt.onloadend=os:nt.onreadystatechange=function(){!nt||nt.readyState!==4||nt.status===0&&!(nt.responseURL&&nt.responseURL.indexOf("file:")===0)||setTimeout(os)},nt.onabort=function(){nt&&(U(new Se("Request aborted",Se.ECONNABORTED,E,nt)),nt=null)},nt.onerror=function(){U(new Se("Network Error",Se.ERR_NETWORK,E,nt)),nt=null},nt.ontimeout=function(){let Nn=B.timeout?"timeout of "+B.timeout+"ms exceeded":"timeout exceeded";const cr=B.transitional||Mt;B.timeoutErrorMessage&&(Nn=B.timeoutErrorMessage),U(new Se(Nn,cr.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,E,nt)),nt=null},ie===void 0&&ue.setContentType(null),"setRequestHeader"in nt&&$.forEach(ue.toJSON(),function(Nn,cr){nt.setRequestHeader(cr,Nn)}),$.isUndefined(B.withCredentials)||(nt.withCredentials=!!B.withCredentials),xe&&xe!=="json"&&(nt.responseType=B.responseType),lt&&([mt,Et]=fs(lt,!0),nt.addEventListener("progress",mt)),Le&&nt.upload&&([Ie,on]=fs(Le),nt.upload.addEventListener("progress",Ie),nt.upload.addEventListener("loadend",on)),(B.cancelToken||B.signal)&&(ze=Nn=>{nt&&(U(!Nn||Nn.type?new xs(null,E,nt):Nn),nt.abort(),nt=null)},B.cancelToken&&B.cancelToken.subscribe(ze),B.signal&&(B.signal.aborted?ze():B.signal.addEventListener("abort",ze)));const Vn=Rt(B.url);if(Vn&&_e.protocols.indexOf(Vn)===-1){U(new Se("Unsupported protocol "+Vn+":",Se.ERR_BAD_REQUEST,E));return}nt.send(ie||null)})},Rs=(E,R)=>{const{length:U}=E=E?E.filter(Boolean):[];if(R||U){let B=new AbortController,ie;const ue=function(ze){if(!ie){ie=!0,Le();const Ie=ze instanceof Error?ze:this.reason;B.abort(Ie instanceof Se?Ie:new xs(Ie instanceof Error?Ie.message:Ie))}};let xe=R&&setTimeout(()=>{xe=null,ue(new Se(`timeout ${R} of ms exceeded`,Se.ETIMEDOUT))},R);const Le=()=>{E&&(xe&&clearTimeout(xe),xe=null,E.forEach(ze=>{ze.unsubscribe?ze.unsubscribe(ue):ze.removeEventListener("abort",ue)}),E=null)};E.forEach(ze=>ze.addEventListener("abort",ue));const{signal:lt}=B;return lt.unsubscribe=()=>$.asap(Le),lt}};const oc=function*(E,R){let U=E.byteLength;if(U<R){yield E;return}let B=0,ie;for(;B<U;)ie=B+R,yield E.slice(B,ie),B=ie},od=function(E,R){return rg(this,null,function*(){try{for(var U=Qw(lc(E)),B,ie,ue;B=!(ie=yield new co(U.next())).done;B=!1){const xe=ie.value;yield*ag(oc(xe,R))}}catch(ie){ue=[ie]}finally{try{B&&(ie=U.return)&&(yield new co(ie.call(U)))}finally{if(ue)throw ue[0]}}})},lc=function(E){return rg(this,null,function*(){if(E[Symbol.asyncIterator]){yield*ag(E);return}const R=E.getReader();try{for(;;){const{done:U,value:B}=yield new co(R.read());if(U)break;yield B}}finally{yield new co(R.cancel())}})},ma=(E,R,U,B)=>{const ie=od(E,R);let ue=0,xe,Le=ze=>{xe||(xe=!0,B&&B(ze))};return new ReadableStream({pull(ze){return ye(this,null,function*(){try{const{done:Ie,value:mt}=yield ie.next();if(Ie){Le(),ze.close();return}let on=mt.byteLength;if(U){let Et=ue+=on;U(Et)}ze.enqueue(new Uint8Array(mt))}catch(Ie){throw Le(Ie),Ie}})},cancel(ze){return Le(ze),ie.return()}},{highWaterMark:2})},Hi=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cc=Hi&&typeof ReadableStream=="function",qa=Hi&&(typeof TextEncoder=="function"?(E=>R=>E.encode(R))(new TextEncoder):E=>ye(null,null,function*(){return new Uint8Array(yield new Response(E).arrayBuffer())})),ld=(E,...R)=>{try{return!!E(...R)}catch(U){return!1}},cd=cc&&ld(()=>{let E=!1;const R=new Request(_e.origin,{body:new ReadableStream,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!R}),uc=64*1024,Vi=cc&&ld(()=>$.isReadableStream(new Response("").body)),Bo={stream:Vi&&(E=>E.body)};Hi&&(E=>{["text","arrayBuffer","blob","formData","stream"].forEach(R=>{!Bo[R]&&(Bo[R]=$.isFunction(E[R])?U=>U[R]():(U,B)=>{throw new Se(`Response type '${R}' is not supported`,Se.ERR_NOT_SUPPORT,B)})})})(new Response);const dm=E=>ye(null,null,function*(){if(E==null)return 0;if($.isBlob(E))return E.size;if($.isSpecCompliantForm(E))return(yield new Request(_e.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if($.isArrayBufferView(E)||$.isArrayBuffer(E))return E.byteLength;if($.isURLSearchParams(E)&&(E=E+""),$.isString(E))return(yield qa(E)).byteLength}),Fo=(E,R)=>ye(null,null,function*(){const U=$.toFiniteNumber(E.getContentLength());return U!=null?U:dm(R)});var dc=Hi&&(E=>ye(null,null,function*(){let{url:R,method:U,data:B,signal:ie,cancelToken:ue,timeout:xe,onDownloadProgress:Le,onUploadProgress:lt,responseType:ze,headers:Ie,withCredentials:mt="same-origin",fetchOptions:on}=Fi(E);ze=ze?(ze+"").toLowerCase():"text";let Et=Rs([ie,ue&&ue.toAbortSignal()],xe),dt;const nt=Et&&Et.unsubscribe&&(()=>{Et.unsubscribe()});let os;try{if(lt&&cd&&U!=="get"&&U!=="head"&&(os=yield Fo(Ie,B))!==0){let qr=new Request(R,{method:"POST",body:B,duplex:"half"}),Ga;if($.isFormData(B)&&(Ga=qr.headers.get("content-type"))&&Ie.setContentType(Ga),qr.body){const[qo,Io]=pn(os,fs(Er(lt)));B=ma(qr.body,uc,qo,Io)}}$.isString(mt)||(mt=mt?"include":"omit");const Vn="credentials"in Request.prototype;dt=new Request(R,fe(L({},on),{signal:Et,method:U.toUpperCase(),headers:Ie.normalize().toJSON(),body:B,duplex:"half",credentials:Vn?mt:void 0}));let Nn=yield fetch(dt);const cr=Vi&&(ze==="stream"||ze==="response");if(Vi&&(Le||cr&&nt)){const qr={};["status","statusText","headers"].forEach(dd=>{qr[dd]=Nn[dd]});const Ga=$.toFiniteNumber(Nn.headers.get("content-length")),[qo,Io]=Le&&pn(Ga,fs(Er(Le),!0))||[];Nn=new Response(ma(Nn.body,uc,qo,()=>{Io&&Io(),nt&&nt()}),qr)}ze=ze||"text";let Wi=yield Bo[$.findKey(Bo,ze)||"text"](Nn,E);return!cr&&nt&&nt(),yield new Promise((qr,Ga)=>{lr(qr,Ga,{data:Wi,headers:is.from(Nn.headers),status:Nn.status,statusText:Nn.statusText,config:E,request:dt})})}catch(Vn){throw nt&&nt(),Vn&&Vn.name==="TypeError"&&/fetch/i.test(Vn.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,E,dt),{cause:Vn.cause||Vn}):Se.from(Vn,Vn&&Vn.code,E,dt)}}));const $i={http:Ue,xhr:um,fetch:dc};$.forEach($i,(E,R)=>{if(E){try{Object.defineProperty(E,"name",{value:R})}catch(U){}Object.defineProperty(E,"adapterName",{value:R})}});const pa=E=>`- ${E}`,Ia=E=>$.isFunction(E)||E===null||E===!1;var fc={getAdapter:E=>{E=$.isArray(E)?E:[E];const{length:R}=E;let U,B;const ie={};for(let ue=0;ue<R;ue++){U=E[ue];let xe;if(B=U,!Ia(U)&&(B=$i[(xe=String(U)).toLowerCase()],B===void 0))throw new Se(`Unknown adapter '${xe}'`);if(B)break;ie[xe||"#"+ue]=B}if(!B){const ue=Object.entries(ie).map(([Le,lt])=>`adapter ${Le} `+(lt===!1?"is not supported by the environment":"is not available in the build"));let xe=R?ue.length>1?`since :
`+ue.map(pa).join(`
`):" "+pa(ue[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+xe,"ERR_NOT_SUPPORT")}return B},adapters:$i};function qi(E){if(E.cancelToken&&E.cancelToken.throwIfRequested(),E.signal&&E.signal.aborted)throw new xs(null,E)}function hc(E){return qi(E),E.headers=is.from(E.headers),E.data=ir.call(E,E.transformRequest),["post","put","patch"].indexOf(E.method)!==-1&&E.headers.setContentType("application/x-www-form-urlencoded",!1),fc.getAdapter(E.adapter||rt.adapter)(E).then(function(R){return qi(E),R.data=ir.call(E,E.transformResponse,R),R.headers=is.from(R.headers),R},function(R){return or(R)||(qi(E),R&&R.response&&(R.response.data=ir.call(E,E.transformResponse,R.response),R.response.headers=is.from(R.response.headers))),Promise.reject(R)})}const Ya="1.8.2",Ds={};["object","boolean","number","function","string","symbol"].forEach((E,R)=>{Ds[E]=function(U){return typeof U===E||"a"+(R<1?"n ":" ")+E}});const Ho={};Ds.transitional=function(E,R,U){function B(ie,ue){return"[Axios v"+Ya+"] Transitional option '"+ie+"'"+ue+(U?". "+U:"")}return(ie,ue,xe)=>{if(E===!1)throw new Se(B(ue," has been removed"+(R?" in "+R:"")),Se.ERR_DEPRECATED);return R&&!Ho[ue]&&(Ho[ue]=!0,console.warn(B(ue," has been deprecated since v"+R+" and will be removed in the near future"))),E?E(ie,ue,xe):!0}},Ds.spelling=function(E){return(R,U)=>(console.warn(`${U} is likely a misspelling of ${E}`),!0)};function Ii(E,R,U){if(typeof E!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const B=Object.keys(E);let ie=B.length;for(;ie-- >0;){const ue=B[ie],xe=R[ue];if(xe){const Le=E[ue],lt=Le===void 0||xe(Le,ue,E);if(lt!==!0)throw new Se("option "+ue+" must be "+lt,Se.ERR_BAD_OPTION_VALUE);continue}if(U!==!0)throw new Se("Unknown option "+ue,Se.ERR_BAD_OPTION)}}var Is={assertOptions:Ii,validators:Ds};const Ms=Is.validators;class ga{constructor(R){this.defaults=R,this.interceptors={request:new Xe,response:new Xe}}request(R,U){return ye(this,null,function*(){try{return yield this._request(R,U)}catch(B){if(B instanceof Error){let ie={};Error.captureStackTrace?Error.captureStackTrace(ie):ie=new Error;const ue=ie.stack?ie.stack.replace(/^.+\n/,""):"";try{B.stack?ue&&!String(B.stack).endsWith(ue.replace(/^.+\n.+\n/,""))&&(B.stack+=`
`+ue):B.stack=ue}catch(xe){}}throw B}})}_request(R,U){typeof R=="string"?(U=U||{},U.url=R):U=R||{},U=$r(this.defaults,U);const{transitional:B,paramsSerializer:ie,headers:ue}=U;B!==void 0&&Is.assertOptions(B,{silentJSONParsing:Ms.transitional(Ms.boolean),forcedJSONParsing:Ms.transitional(Ms.boolean),clarifyTimeoutError:Ms.transitional(Ms.boolean)},!1),ie!=null&&($.isFunction(ie)?U.paramsSerializer={serialize:ie}:Is.assertOptions(ie,{encode:Ms.function,serialize:Ms.function},!0)),U.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?U.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:U.allowAbsoluteUrls=!0),Is.assertOptions(U,{baseUrl:Ms.spelling("baseURL"),withXsrfToken:Ms.spelling("withXSRFToken")},!0),U.method=(U.method||this.defaults.method||"get").toLowerCase();let xe=ue&&$.merge(ue.common,ue[U.method]);ue&&$.forEach(["delete","get","head","post","put","patch","common"],dt=>{delete ue[dt]}),U.headers=is.concat(xe,ue);const Le=[];let lt=!0;this.interceptors.request.forEach(function(dt){typeof dt.runWhen=="function"&&dt.runWhen(U)===!1||(lt=lt&&dt.synchronous,Le.unshift(dt.fulfilled,dt.rejected))});const ze=[];this.interceptors.response.forEach(function(dt){ze.push(dt.fulfilled,dt.rejected)});let Ie,mt=0,on;if(!lt){const dt=[hc.bind(this),void 0];for(dt.unshift.apply(dt,Le),dt.push.apply(dt,ze),on=dt.length,Ie=Promise.resolve(U);mt<on;)Ie=Ie.then(dt[mt++],dt[mt++]);return Ie}on=Le.length;let Et=U;for(mt=0;mt<on;){const dt=Le[mt++],nt=Le[mt++];try{Et=dt(Et)}catch(os){nt.call(this,os);break}}try{Ie=hc.call(this,Et)}catch(dt){return Promise.reject(dt)}for(mt=0,on=ze.length;mt<on;)Ie=Ie.then(ze[mt++],ze[mt++]);return Ie}getUri(R){R=$r(this.defaults,R);const U=id(R.baseURL,R.url,R.allowAbsoluteUrls);return Hn(U,R.params,R.paramsSerializer)}}$.forEach(["delete","get","head","options"],function(E){ga.prototype[E]=function(R,U){return this.request($r(U||{},{method:E,url:R,data:(U||{}).data}))}}),$.forEach(["post","put","patch"],function(E){function R(U){return function(B,ie,ue){return this.request($r(ue||{},{method:E,headers:U?{"Content-Type":"multipart/form-data"}:{},url:B,data:ie}))}}ga.prototype[E]=R(),ga.prototype[E+"Form"]=R(!0)});var Yi=ga;class Wa{constructor(R){if(typeof R!="function")throw new TypeError("executor must be a function.");let U;this.promise=new Promise(function(ie){U=ie});const B=this;this.promise.then(ie=>{if(!B._listeners)return;let ue=B._listeners.length;for(;ue-- >0;)B._listeners[ue](ie);B._listeners=null}),this.promise.then=ie=>{let ue;const xe=new Promise(Le=>{B.subscribe(Le),ue=Le}).then(ie);return xe.cancel=function(){B.unsubscribe(ue)},xe},R(function(ie,ue,xe){B.reason||(B.reason=new xs(ie,ue,xe),U(B.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(R){if(this.reason){R(this.reason);return}this._listeners?this._listeners.push(R):this._listeners=[R]}unsubscribe(R){if(!this._listeners)return;const U=this._listeners.indexOf(R);U!==-1&&this._listeners.splice(U,1)}toAbortSignal(){const R=new AbortController,U=B=>{R.abort(B)};return this.subscribe(U),R.signal.unsubscribe=()=>this.unsubscribe(U),R.signal}static source(){let R;return{token:new Wa(function(U){R=U}),cancel:R}}}var Vo=Wa;function ud(E){return function(R){return E.apply(null,R)}}function ys(E){return $.isObject(E)&&E.isAxiosError===!0}const Tr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tr).forEach(([E,R])=>{Tr[R]=E});var $o=Tr;function Xa(E){const R=new Yi(E),U=e(Yi.prototype.request,R);return $.extend(U,Yi.prototype,R,{allOwnKeys:!0}),$.extend(U,R,null,{allOwnKeys:!0}),U.create=function(B){return Xa($r(E,B))},U}const Rn=Xa(rt);return Rn.Axios=Yi,Rn.CanceledError=xs,Rn.CancelToken=Vo,Rn.isCancel=or,Rn.VERSION=Ya,Rn.toFormData=ke,Rn.AxiosError=Se,Rn.Cancel=Rn.CanceledError,Rn.all=function(E){return Promise.all(E)},Rn.spread=ud,Rn.isAxiosError=ys,Rn.mergeConfig=$r,Rn.AxiosHeaders=is,Rn.formToJSON=E=>tt($.isHTMLForm(E)?new FormData(E):E),Rn.getAdapter=fc.getAdapter,Rn.HttpStatusCode=$o,Rn.default=Rn,fg=Rn,fg}var d_;function wS(){if(d_)return Aa;d_=1;var e=Aa&&Aa.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,d=arguments.length;l<d;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)};Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.getRequestHeaders=Aa.getAxiosClient=void 0;var t=AC();function n(a,o,l,d,f){var h=t.default.create({baseURL:a,headers:s(o,d,l,a,f),withCredentials:!0});return h.interceptors.request.use(function(p){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(p.headers["X-Frappe-CSRF-Token"]=window.csrf_token),o&&d&&l&&(p.headers.Authorization="".concat(d," ").concat(l())),p}),h}Aa.getAxiosClient=n;function s(a,o,l,d,f){a===void 0&&(a=!1);var h={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return a&&o&&l&&(h.Authorization="".concat(o," ").concat(l())),typeof window<"u"&&typeof document<"u"&&(window.location&&(d&&d!==window.location.origin||(h["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(h["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},h),f!=null?f:{})}return Aa.getRequestHeaders=s,Aa}var f_;function _S(){if(f_)return Dr;f_=1;var e=Dr&&Dr.__assign||function(){return e=Object.assign||function(o){for(var l,d=1,f=arguments.length;d<f;d++){l=arguments[d];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(o[h]=l[h])}return o},e.apply(this,arguments)},t=Dr&&Dr.__awaiter||function(o,l,d,f){function h(p){return p instanceof d?p:new d(function(g){g(p)})}return new(d||(d=Promise))(function(p,g){function b(_){try{w(f.next(_))}catch(j){g(j)}}function y(_){try{w(f.throw(_))}catch(j){g(j)}}function w(_){_.done?p(_.value):h(_.value).then(b,y)}w((f=f.apply(o,l||[])).next())})},n=Dr&&Dr.__generator||function(o,l){var d={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},f,h,p,g;return g={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function b(w){return function(_){return y([w,_])}}function y(w){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,w[0]&&(d=0)),d;)try{if(f=1,h&&(p=w[0]&2?h.return:w[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,w[1])).done)return p;switch(h=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return d.label++,{value:w[1],done:!1};case 5:d.label++,h=w[1],w=[0];continue;case 7:w=d.ops.pop(),d.trys.pop();continue;default:if(p=d.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){d=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){d.label=w[1];break}if(w[0]===6&&d.label<p[1]){d.label=p[1],p=w;break}if(p&&d.label<p[2]){d.label=p[2],d.ops.push(w);break}p[2]&&d.ops.pop(),d.trys.pop();continue}w=l.call(o,d)}catch(_){w=[6,_],h=0}finally{f=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.FrappeFileUpload=void 0;var s=wS(),a=function(){function o(l,d,f,h,p,g){this.appURL=l,this.axios=d,this.useToken=f!=null?f:!1,this.token=h,this.tokenType=p,this.customHeaders=g}return o.prototype.uploadFile=function(l,d,f,h){return h===void 0&&(h="upload_file"),t(this,void 0,void 0,function(){var p,g,b,y,w,_,j,S;return n(this,function(M){return p=new FormData,l&&p.append("file",l,l.name),g=d.isPrivate,b=d.folder,y=d.file_url,w=d.doctype,_=d.docname,j=d.fieldname,S=d.otherData,g&&p.append("is_private","1"),b&&p.append("folder",b),y&&p.append("file_url",y),w&&_&&(p.append("doctype",w),p.append("docname",_),j&&p.append("fieldname",j)),S&&Object.keys(S).forEach(function(A){var k=S[A];p.append(A,k)}),[2,this.axios.post("/api/method/".concat(h),p,{onUploadProgress:function(A){f&&f(A.loaded,A.total,A)},headers:e(e({},(0,s.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(A){var k,C;throw e(e({},A.response.data),{httpStatus:A.response.status,httpStatusText:A.response.statusText,message:(k=A.response.data.message)!==null&&k!==void 0?k:"There was an error while uploading the file.",exception:(C=A.response.data.exception)!==null&&C!==void 0?C:""})})]})})},o}();return Dr.FrappeFileUpload=a,Dr}var h_;function OC(){if(h_)return ru;h_=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.FrappeApp=void 0;var e=jS(),t=bS(),n=vS(),s=_S(),a=wS(),o=function(){function l(d,f,h,p){var g,b;this.url=d,this.name=h!=null?h:"FrappeApp",this.useToken=(g=f==null?void 0:f.useToken)!==null&&g!==void 0?g:!1,this.token=f==null?void 0:f.token,this.tokenType=(b=f==null?void 0:f.type)!==null&&b!==void 0?b:"Bearer",this.customHeaders=p,this.axios=(0,a.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return l.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},l.prototype.db=function(){return new n.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},l.prototype.file=function(){return new s.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},l.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},l}();return ru.FrappeApp=o,ru}var Mr={},m_;function RC(){if(m_)return Mr;m_=1;var e=Mr&&Mr.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,d=arguments.length;l<d;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=Mr&&Mr.__awaiter||function(a,o,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function g(w){try{y(d.next(w))}catch(_){p(_)}}function b(w){try{y(d.throw(w))}catch(_){p(_)}}function y(w){w.done?h(w.value):f(w.value).then(g,b)}y((d=d.apply(a,o||[])).next())})},n=Mr&&Mr.__generator||function(a,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(w){return b([y,w])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(l=0)),l;)try{if(d=1,f&&(h=y[0]&2?f.return:y[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,y[1])).done)return h;switch(f=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,f=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){l.label=y[1];break}if(y[0]===6&&l.label<h[1]){l.label=h[1],h=y;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(y);break}h[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(a,l)}catch(w){y=[6,w],f=0}finally{d=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.FrappeAuth=void 0;var s=function(){function a(o,l,d,f,h){this.appURL=o,this.axios=l,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.loginWithUsernamePassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/api/method/login",{usr:o.username,pwd:o.password,otp:o.otp,tmp_id:o.tmp_id,device:o.device}).then(function(d){return d.data}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(f=d.response.data.message)!==null&&f!==void 0?f:"There was an error while logging in",exception:(h=d.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(l){return l.data.message}).catch(function(l){var d;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:"There was an error while fetching the logged in user",exception:(d=l.response.data.exception)!==null&&d!==void 0?d:""})})]})})},a.prototype.logout=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(l){var d,f;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:(d=l.response.data.message)!==null&&d!==void 0?d:"There was an error while logging out",exception:(f=l.response.data.exception)!==null&&f!==void 0?f:""})})]})})},a.prototype.forgetPassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:o}).then(function(){}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(f=d.response.data.message)!==null&&f!==void 0?f:"There was an error sending password reset email.",exception:(h=d.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a}();return Mr.FrappeAuth=s,Mr}var p_;function jS(){return p_||(p_=1,function(e){var t=_l&&_l.__createBinding||(Object.create?function(s,a,o,l){l===void 0&&(l=o);var d=Object.getOwnPropertyDescriptor(a,o);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(s,l,d)}:function(s,a,o,l){l===void 0&&(l=o),s[l]=a[o]}),n=_l&&_l.__exportStar||function(s,a){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,s,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(OC(),e),n(RC(),e),n(vS(),e),n(_S(),e),n(bS(),e)}(_l)),_l}var DC=jS(),g_={exports:{}},hg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function MC(){if(x_)return hg;x_=1;var e=J;function t(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function d(g,b){var y=b(),w=s({inst:{value:y,getSnapshot:b}}),_=w[0].inst,j=w[1];return o(function(){_.value=y,_.getSnapshot=b,f(_)&&j({inst:_})},[g,y,b]),a(function(){return f(_)&&j({inst:_}),g(function(){f(_)&&j({inst:_})})},[g]),l(y),y}function f(g){var b=g.getSnapshot;g=g.value;try{var y=b();return!n(g,y)}catch(w){return!0}}function h(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return hg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,hg}var y_;function PC(){return y_||(y_=1,g_.exports=MC()),g_.exports}var LC=PC();const SS=0,NS=1,ES=2,b_=3;var v_=Object.prototype.hasOwnProperty;function l0(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&l0(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(v_.call(e,n)&&++s&&!v_.call(t,n)||!(n in t)||!l0(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const za=new WeakMap,_i=()=>{},_s=_i(),gh=Object,Kt=e=>e===_s,Lr=e=>typeof e=="function",Fa=(e,t)=>L(L({},e),t),TS=e=>Lr(e.then),mg={},mf={},ax="undefined",Xu=typeof window!=ax,c0=typeof document!=ax,zC=Xu&&"Deno"in window,UC=()=>Xu&&typeof window.requestAnimationFrame!=ax,kS=(e,t)=>{const n=za.get(e);return[()=>!Kt(t)&&e.get(t)||mg,s=>{if(!Kt(t)){const a=e.get(t);t in mf||(mf[t]=a),n[5](t,Fa(a,s),a||mg)}},n[6],()=>!Kt(t)&&t in mf?mf[t]:!Kt(t)&&e.get(t)||mg]};let u0=!0;const BC=()=>u0,[d0,f0]=Xu&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[_i,_i],FC=()=>{const e=c0&&document.visibilityState;return Kt(e)||e!=="hidden"},HC=e=>(c0&&document.addEventListener("visibilitychange",e),d0("focus",e),()=>{c0&&document.removeEventListener("visibilitychange",e),f0("focus",e)}),VC=e=>{const t=()=>{u0=!0,e()},n=()=>{u0=!1};return d0("online",t),d0("offline",n),()=>{f0("online",t),f0("offline",n)}},$C={isOnline:BC,isVisible:FC},qC={initFocus:HC,initReconnect:VC},w_=!J.useId,Pu=!Xu||zC,IC=e=>UC()?window.requestAnimationFrame(e):setTimeout(e,1),Kf=Pu?N.useEffect:N.useLayoutEffect,pg=typeof navigator<"u"&&navigator.connection,__=!Pu&&pg&&(["slow-2g","2g"].includes(pg.effectiveType)||pg.saveData),pf=new WeakMap,gg=(e,t)=>gh.prototype.toString.call(e)===`[object ${t}]`;let YC=0;const h0=e=>{const t=typeof e,n=gg(e,"Date"),s=gg(e,"RegExp"),a=gg(e,"Object");let o,l;if(gh(e)===e&&!n&&!s){if(o=pf.get(e),o)return o;if(o=++YC+"~",pf.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=h0(e[l])+",";pf.set(e,o)}if(a){o="#";const d=gh.keys(e).sort();for(;!Kt(l=d.pop());)Kt(e[l])||(o+=l+":"+h0(e[l])+",");pf.set(e,o)}}else o=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},ix=e=>{if(Lr(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?h0(e):"",[e,t]};let WC=0;const m0=()=>++WC;function CS(...e){return ye(this,null,function*(){const[t,n,s,a]=e,o=Fa({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let l=o.populateCache;const d=o.rollbackOnError;let f=o.optimisticData;const h=b=>typeof d=="function"?d(b):d!==!1,p=o.throwOnError;if(Lr(n)){const b=n,y=[],w=t.keys();for(const _ of w)!/^\$(inf|sub)\$/.test(_)&&b(t.get(_)._k)&&y.push(_);return Promise.all(y.map(g))}return g(n);function g(b){return ye(this,null,function*(){const[y]=ix(b);if(!y)return;const[w,_]=kS(t,y),[j,S,M,A]=za.get(t),k=()=>{const re=j[y];return(Lr(o.revalidate)?o.revalidate(w().data,b):o.revalidate!==!1)&&(delete M[y],delete A[y],re&&re[0])?re[0](ES).then(()=>w().data):w().data};if(e.length<3)return k();let C=s,O;const H=m0();S[y]=[H,0];const D=!Kt(f),V=w(),te=V.data,q=V._c,W=Kt(q)?te:q;if(D&&(f=Lr(f)?f(W,te):f,_({data:f,_c:W})),Lr(C))try{C=C(W)}catch(re){O=re}if(C&&TS(C))if(C=yield C.catch(re=>{O=re}),H!==S[y][0]){if(O)throw O;return C}else O&&D&&h(O)&&(l=!0,_({data:W,_c:_s}));if(l&&!O)if(Lr(l)){const re=l(C,W);_({data:re,error:_s,_c:_s})}else _({data:C,error:_s,_c:_s});if(S[y][1]=m0(),Promise.resolve(k()).then(()=>{_({_c:_s})}),O){if(p)throw O;return}return C})}})}const j_=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},AS=(e,t)=>{if(!za.has(e)){const n=Fa(qC,t),s=Object.create(null),a=CS.bind(_s,e);let o=_i;const l=Object.create(null),d=(p,g)=>{const b=l[p]||[];return l[p]=b,b.push(g),()=>b.splice(b.indexOf(g),1)},f=(p,g,b)=>{e.set(p,g);const y=l[p];if(y)for(const w of y)w(g,b)},h=()=>{if(!za.has(e)&&(za.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,f,d]),!Pu)){const p=n.initFocus(setTimeout.bind(_s,j_.bind(_s,s,SS))),g=n.initReconnect(setTimeout.bind(_s,j_.bind(_s,s,NS)));o=()=>{p&&p(),g&&g(),za.delete(e)}}};return h(),[e,a,h,o]}return[e,za.get(e)[4]]},XC=(e,t,n,s,a)=>{const o=n.errorRetryCount,l=a.retryCount,d=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;!Kt(o)&&l>o||setTimeout(s,d,a)},GC=l0,[ox,KC]=AS(new Map),OS=Fa({onLoadingSlow:_i,onSuccess:_i,onError:_i,onErrorRetry:XC,onDiscarded:_i,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:__?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:__?5e3:3e3,compare:GC,isPaused:()=>!1,cache:ox,mutate:KC,fallback:{}},$C),RS=(e,t)=>{const n=Fa(e,t);if(t){const{use:s,fallback:a}=e,{use:o,fallback:l}=t;s&&o&&(n.use=s.concat(o)),a&&l&&(n.fallback=Fa(a,l))}return n},p0=N.createContext({}),QC=e=>{const{value:t}=e,n=N.useContext(p0),s=Lr(t),a=N.useMemo(()=>s?t(n):t,[s,n,t]),o=N.useMemo(()=>s?a:RS(n,a),[s,n,a]),l=a&&a.provider,d=N.useRef(_s);l&&!d.current&&(d.current=AS(l(o.cache||ox),a));const f=d.current;return f&&(o.cache=f[0],o.mutate=f[1]),Kf(()=>{if(f)return f[2]&&f[2](),f[3]},[]),N.createElement(p0.Provider,Fa(e,{value:o}))},ZC="$inf$",DS=Xu&&window.__SWR_DEVTOOLS_USE__,JC=DS?window.__SWR_DEVTOOLS_USE__:[],eA=()=>{DS&&(window.__SWR_DEVTOOLS_REACT__=J)},tA=e=>Lr(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],nA=()=>Fa(OS,N.useContext(p0)),sA=e=>(t,n,s)=>e(t,n&&((...a)=>{const[o]=ix(t),[,,,l]=za.get(ox);if(o.startsWith(ZC))return n(...a);const d=l[o];return Kt(d)?n(...a):(delete l[o],d)}),s),rA=JC.concat(sA),aA=e=>function(...t){const n=nA(),[s,a,o]=tA(t),l=RS(n,o);let d=e;const{use:f}=l,h=(f||[]).concat(rA);for(let p=h.length;p--;)d=h[p](d);return d(s,a||l.fetcher||null,l)},iA=(e,t,n)=>{const s=t[e]||(t[e]=[]);return s.push(n),()=>{const a=s.indexOf(n);a>=0&&(s[a]=s[s.length-1],s.pop())}};eA();const xg=J.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),yg={dedupe:!0},oA=(e,t,n)=>{const{cache:s,compare:a,suspense:o,fallbackData:l,revalidateOnMount:d,revalidateIfStale:f,refreshInterval:h,refreshWhenHidden:p,refreshWhenOffline:g,keepPreviousData:b}=n,[y,w,_,j]=za.get(s),[S,M]=ix(e),A=N.useRef(!1),k=N.useRef(!1),C=N.useRef(S),O=N.useRef(t),H=N.useRef(n),D=()=>H.current,V=()=>D().isVisible()&&D().isOnline(),[te,q,W,re]=kS(s,S),me=N.useRef({}).current,Z=Kt(l)?Kt(n.fallback)?_s:n.fallback[S]:l,F=(st,vt)=>{for(const Pe in me){const gt=Pe;if(gt==="data"){if(!a(st[gt],vt[gt])&&(!Kt(st[gt])||!a(je,vt[gt])))return!1}else if(vt[gt]!==st[gt])return!1}return!0},Y=N.useMemo(()=>{const st=!S||!t?!1:Kt(d)?D().isPaused()||o?!1:f!==!1:d,vt=Ct=>{const X=Fa(Ct);return delete X._k,st?L({isValidating:!0,isLoading:!0},X):X},Pe=te(),gt=re(),Vt=vt(Pe),jt=Pe===gt?Vt:vt(gt);let $t=Vt;return[()=>{const Ct=vt(te());return F(Ct,$t)?($t.data=Ct.data,$t.isLoading=Ct.isLoading,$t.isValidating=Ct.isValidating,$t.error=Ct.error,$t):($t=Ct,Ct)},()=>jt]},[s,S]),G=LC.useSyncExternalStore(N.useCallback(st=>W(S,(vt,Pe)=>{F(Pe,vt)||st()}),[s,S]),Y[0],Y[1]),ee=!A.current,z=y[S]&&y[S].length>0,ae=G.data,we=Kt(ae)?Z&&TS(Z)?xg(Z):Z:ae,I=G.error,oe=N.useRef(we),je=b?Kt(ae)?Kt(oe.current)?we:oe.current:ae:we,ge=z&&!Kt(I)?!1:ee&&!Kt(d)?d:D().isPaused()?!1:o?Kt(we)?!1:f:Kt(we)||f,Ee=!!(S&&t&&ee&&ge),Oe=Kt(G.isValidating)?Ee:G.isValidating,We=Kt(G.isLoading)?Ee:G.isLoading,He=N.useCallback(st=>ye(null,null,function*(){const vt=O.current;if(!S||!vt||k.current||D().isPaused())return!1;let Pe,gt,Vt=!0;const jt=st||{},$t=!_[S]||!jt.dedupe,Ct=()=>w_?!k.current&&S===C.current&&A.current:S===C.current,X={isValidating:!1,isLoading:!1},ce=()=>{q(X)},$=()=>{const De=_[S];De&&De[1]===gt&&delete _[S]},Se={isValidating:!0};Kt(te().data)&&(Se.isLoading=!0);try{if($t&&(q(Se),n.loadingTimeout&&Kt(te().data)&&setTimeout(()=>{Vt&&Ct()&&D().onLoadingSlow(S,n)},n.loadingTimeout),_[S]=[vt(M),m0()]),[Pe,gt]=_[S],Pe=yield Pe,$t&&setTimeout($,n.dedupingInterval),!_[S]||_[S][1]!==gt)return $t&&Ct()&&D().onDiscarded(S),!1;X.error=_s;const De=w[S];if(!Kt(De)&&(gt<=De[0]||gt<=De[1]||De[1]===0))return ce(),$t&&Ct()&&D().onDiscarded(S),!1;const Re=te().data;X.data=a(Re,Pe)?Re:Pe,$t&&Ct()&&D().onSuccess(Pe,S,n)}catch(De){$();const Re=D(),{shouldRetryOnError:Ue}=Re;Re.isPaused()||(X.error=De,$t&&Ct()&&(Re.onError(De,S,Re),(Ue===!0||Lr(Ue)&&Ue(De))&&(!D().revalidateOnFocus||!D().revalidateOnReconnect||V())&&Re.onErrorRetry(De,S,Re,qe=>{const Ke=y[S];Ke&&Ke[0]&&Ke[0](b_,qe)},{retryCount:(jt.retryCount||0)+1,dedupe:!0})))}return Vt=!1,ce(),!0}),[S,s]),it=N.useCallback((...st)=>CS(s,C.current,...st),[]);if(Kf(()=>{O.current=t,H.current=n,Kt(ae)||(oe.current=ae)}),Kf(()=>{if(!S)return;const st=He.bind(_s,yg);let vt=0;D().revalidateOnFocus&&(vt=Date.now()+D().focusThrottleInterval);const Pe=iA(S,y,(gt,Vt={})=>{if(gt==SS){const jt=Date.now();D().revalidateOnFocus&&jt>vt&&V()&&(vt=jt+D().focusThrottleInterval,st())}else if(gt==NS)D().revalidateOnReconnect&&V()&&st();else{if(gt==ES)return He();if(gt==b_)return He(Vt)}});return k.current=!1,C.current=S,A.current=!0,q({_k:M}),ge&&(Kt(we)||Pu?st():IC(st)),()=>{k.current=!0,Pe()}},[S]),Kf(()=>{let st;function vt(){const gt=Lr(h)?h(te().data):h;gt&&st!==-1&&(st=setTimeout(Pe,gt))}function Pe(){!te().error&&(p||D().isVisible())&&(g||D().isOnline())?He(yg).then(vt):vt()}return vt(),()=>{st&&(clearTimeout(st),st=-1)}},[h,p,g,S]),N.useDebugValue(je),o&&Kt(we)&&S){if(!w_&&Pu)throw new Error("Fallback data is required when using Suspense in SSR.");O.current=t,H.current=n,k.current=!1;const st=j[S];if(!Kt(st)){const vt=it(st);xg(vt)}if(Kt(I)){const vt=He(yg);Kt(je)||(vt.status="fulfilled",vt.value=!0),xg(vt)}else throw I}return{mutate:it,get data(){return me.data=!0,je},get error(){return me.error=!0,I},get isValidating(){return me.isValidating=!0,Oe},get isLoading(){return me.isLoading=!0,We}}},lA=gh.defineProperty(QC,"defaultValue",{value:OS}),Fh=aA(oA);Promise.resolve();const la=Object.create(null);la.open="0";la.close="1";la.ping="2";la.pong="3";la.message="4";la.upgrade="5";la.noop="6";const Qf=Object.create(null);Object.keys(la).forEach(e=>{Qf[la[e]]=e});const g0={type:"error",data:"parser error"},MS=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",PS=typeof ArrayBuffer=="function",LS=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,lx=({type:e,data:t},n,s)=>MS&&t instanceof Blob?n?s(t):S_(t,s):PS&&(t instanceof ArrayBuffer||LS(t))?n?s(t):S_(new Blob([t]),s):s(la[e]+(t||"")),S_=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function N_(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let bg;function cA(e,t){if(MS&&e.data instanceof Blob)return e.data.arrayBuffer().then(N_).then(t);if(PS&&(e.data instanceof ArrayBuffer||LS(e.data)))return t(N_(e.data));lx(e,!1,n=>{bg||(bg=new TextEncoder),t(bg.encode(n))})}const E_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<E_.length;e++)wu[E_.charCodeAt(e)]=e;const uA=e=>{let t=e.length*.75,n=e.length,s,a=0,o,l,d,f;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),p=new Uint8Array(h);for(s=0;s<n;s+=4)o=wu[e.charCodeAt(s)],l=wu[e.charCodeAt(s+1)],d=wu[e.charCodeAt(s+2)],f=wu[e.charCodeAt(s+3)],p[a++]=o<<2|l>>4,p[a++]=(l&15)<<4|d>>2,p[a++]=(d&3)<<6|f&63;return h},dA=typeof ArrayBuffer=="function",cx=(e,t)=>{if(typeof e!="string")return{type:"message",data:zS(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:fA(e.substring(1),t)}:Qf[n]?e.length>1?{type:Qf[n],data:e.substring(1)}:{type:Qf[n]}:g0},fA=(e,t)=>{if(dA){const n=uA(e);return zS(n,t)}else return{base64:!0,data:e}},zS=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},US="",hA=(e,t)=>{const n=e.length,s=new Array(n);let a=0;e.forEach((o,l)=>{lx(o,!1,d=>{s[l]=d,++a===n&&t(s.join(US))})})},mA=(e,t)=>{const n=e.split(US),s=[];for(let a=0;a<n.length;a++){const o=cx(n[a],t);if(s.push(o),o.type==="error")break}return s};function pA(){return new TransformStream({transform(e,t){cA(e,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const o=new DataView(a.buffer);o.setUint8(0,126),o.setUint16(1,s)}else{a=new Uint8Array(9);const o=new DataView(a.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let vg;function gf(e){return e.reduce((t,n)=>t+n.length,0)}function xf(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let a=0;a<t;a++)n[a]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function gA(e,t){vg||(vg=new TextDecoder);const n=[];let s=0,a=-1,o=!1;return new TransformStream({transform(l,d){for(n.push(l);;){if(s===0){if(gf(n)<1)break;const f=xf(n,1);o=(f[0]&128)===128,a=f[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(gf(n)<2)break;const f=xf(n,2);a=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),s=3}else if(s===2){if(gf(n)<8)break;const f=xf(n,8),h=new DataView(f.buffer,f.byteOffset,f.length),p=h.getUint32(0);if(p>Math.pow(2,21)-1){d.enqueue(g0);break}a=p*Math.pow(2,32)+h.getUint32(4),s=3}else{if(gf(n)<a)break;const f=xf(n,a);d.enqueue(cx(o?f:vg.decode(f),t)),s=0}if(a===0||a>e){d.enqueue(g0);break}}}})}const BS=4;function Wn(e){if(e)return xA(e)}function xA(e){for(var t in Wn.prototype)e[t]=Wn.prototype[t];return e}Wn.prototype.on=Wn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Wn.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Wn.prototype.off=Wn.prototype.removeListener=Wn.prototype.removeAllListeners=Wn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===t||s.fn===t){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Wn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,t)}return this};Wn.prototype.emitReserved=Wn.prototype.emit;Wn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Wn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const br=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function FS(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const yA=br.setTimeout,bA=br.clearTimeout;function Hh(e,t){t.useNativeTimers?(e.setTimeoutFn=yA.bind(br),e.clearTimeoutFn=bA.bind(br)):(e.setTimeoutFn=br.setTimeout.bind(br),e.clearTimeoutFn=br.clearTimeout.bind(br))}const vA=1.33;function wA(e){return typeof e=="string"?_A(e):Math.ceil((e.byteLength||e.size)*vA)}function _A(e){let t=0,n=0;for(let s=0,a=e.length;s<a;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function jA(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function SA(e){let t={},n=e.split("&");for(let s=0,a=n.length;s<a;s++){let o=n[s].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class NA extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class ux extends Wn{constructor(t){super(),this.writable=!1,Hh(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,s){return super.emitReserved("error",new NA(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=cx(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=jA(t);return n.length?"?"+n:""}}const HS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),x0=64,EA={};let T_=0,yf=0,k_;function C_(e){let t="";do t=HS[e%x0]+t,e=Math.floor(e/x0);while(e>0);return t}function VS(){const e=C_(+new Date);return e!==k_?(T_=0,k_=e):e+"."+C_(T_++)}for(;yf<x0;yf++)EA[HS[yf]]=yf;let $S=!1;try{$S=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const TA=$S;function qS(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||TA))return new XMLHttpRequest}catch(n){}if(!t)try{return new br[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(n){}}function kA(){}const CA=function(){return new qS({xdomain:!1}).responseType!=null}();class AA extends ux{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}const n=t&&t.forceBase64;this.supportsBinary=CA&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};mA(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,hA(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=VS()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Pl(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(a,o)=>{this.onError("xhr post error",a,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}let Pl=class Zf extends Wn{constructor(t,n){super(),Hh(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=FS(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const s=this.xhr=new qS(n);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this.opts.extraHeaders[a])}}catch(a){}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{s.setRequestHeader("Accept","*/*")}catch(a){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this.opts.cookieJar)===null||a===void 0||a.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(a){this.setTimeoutFn(()=>{this.onError(a)},0);return}typeof document<"u"&&(this.index=Zf.requestsCount++,Zf.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=kA,t)try{this.xhr.abort()}catch(n){}typeof document<"u"&&delete Zf.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Pl.requestsCount=0;Pl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",A_);else if(typeof addEventListener=="function"){const e="onpagehide"in br?"pagehide":"unload";addEventListener(e,A_,!1)}}function A_(){for(let e in Pl.requests)Pl.requests.hasOwnProperty(e)&&Pl.requests[e].abort()}const dx=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),bf=br.WebSocket||br.MozWebSocket,O_=!0,OA="arraybuffer",R_=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class RA extends ux{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=R_?{}:FS(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=O_&&!R_?n?new bf(t,n):new bf(t):new bf(t,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;lx(s,this.supportsBinary,o=>{try{O_&&this.ws.send(o)}catch(l){}a&&dx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=VS()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!bf}}class DA extends ux{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=gA(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),a=pA();a.readable.pipeTo(t.writable),this.writer=a.writable.getWriter();const o=()=>{s.read().then(({done:d,value:f})=>{d||(this.onPacket(f),o())}).catch(d=>{})};o();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this.writer.write(l).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;this.writer.write(s).then(()=>{a&&dx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const MA={websocket:RA,webtransport:DA,polling:AA},PA=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,LA=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function y0(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let a=PA.exec(e||""),o={},l=14;for(;l--;)o[LA[l]]=a[l]||"";return n!=-1&&s!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=zA(o,o.path),o.queryKey=UA(o,o.query),o}function zA(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function UA(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,o){a&&(n[a]=o)}),n}let IS=class Ol extends Wn{constructor(t,n={}){super(),this.binaryType=OA,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=y0(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=y0(n.host).host),Hh(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=SA(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=BS,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new MA[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Ol.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(n){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),s=!1;Ol.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!s)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ol.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=n.name,this.emitReserved("upgradeError",b)}}))};function o(){s||(s=!0,p(),n.close(),n=null)}const l=g=>{const b=new Error("probe error: "+g);b.transport=n.name,o(),this.emitReserved("upgradeError",b)};function d(){l("transport closed")}function f(){l("socket closed")}function h(g){n&&g.name!==n.name&&o()}const p=()=>{n.removeListener("open",a),n.removeListener("error",l),n.removeListener("close",d),this.off("close",f),this.off("upgrading",h)};n.once("open",a),n.once("error",l),n.once("close",d),this.once("close",f),this.once("upgrading",h),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Ol.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(t+=wA(s)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const o={type:t,data:n,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){Ol.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const a=t.length;for(;s<a;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}};IS.protocol=BS;function BA(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=y0(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const a=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+t,s.href=s.protocol+"://"+a+(n&&n.port===s.port?"":":"+s.port),s}const FA=typeof ArrayBuffer=="function",HA=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,YS=Object.prototype.toString,VA=typeof Blob=="function"||typeof Blob<"u"&&YS.call(Blob)==="[object BlobConstructor]",$A=typeof File=="function"||typeof File<"u"&&YS.call(File)==="[object FileConstructor]";function fx(e){return FA&&(e instanceof ArrayBuffer||HA(e))||VA&&e instanceof Blob||$A&&e instanceof File}function Jf(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(Jf(e[n]))return!0;return!1}if(fx(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Jf(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Jf(e[n]))return!0;return!1}function qA(e){const t=[],n=e.data,s=e;return s.data=b0(n,t),s.attachments=t.length,{packet:s,buffers:t}}function b0(e,t){if(!e)return e;if(fx(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=b0(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=b0(e[s],t));return n}return e}function IA(e,t){return e.data=v0(e.data,t),delete e.attachments,e}function v0(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=v0(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=v0(e[n],t));return e}const YA=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],WA=5;var It;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(It||(It={}));class XA{constructor(t){this.replacer=t}encode(t){return(t.type===It.EVENT||t.type===It.ACK)&&Jf(t)?this.encodeAsBinary({type:t.type===It.EVENT?It.BINARY_EVENT:It.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===It.BINARY_EVENT||t.type===It.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=qA(t),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}function D_(e){return Object.prototype.toString.call(e)==="[object Object]"}class hx extends Wn{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===It.BINARY_EVENT;s||n.type===It.BINARY_ACK?(n.type=s?It.EVENT:It.ACK,this.reconstructor=new GA(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(fx(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(It[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===It.BINARY_EVENT||s.type===It.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const l=t.substring(o,n);if(l!=Number(l)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(l)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(o,n)}else s.nsp="/";const a=t.charAt(n+1);if(a!==""&&Number(a)==a){const o=n+1;for(;++n;){const l=t.charAt(n);if(l==null||Number(l)!=l){--n;break}if(n===t.length)break}s.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(hx.isPayloadValid(s.type,o))s.data=o;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(n){return!1}}static isPayloadValid(t,n){switch(t){case It.CONNECT:return D_(n);case It.DISCONNECT:return n===void 0;case It.CONNECT_ERROR:return typeof n=="string"||D_(n);case It.EVENT:case It.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&YA.indexOf(n[0])===-1);case It.ACK:case It.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class GA{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=IA(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const KA=Object.freeze(Object.defineProperty({__proto__:null,Decoder:hx,Encoder:XA,get PacketType(){return It},protocol:WA},Symbol.toStringTag,{value:"Module"}));function Pr(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const QA=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class WS extends Wn{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Pr(t,"open",this.onopen.bind(this)),Pr(t,"packet",this.onpacket.bind(this)),Pr(t,"error",this.onerror.bind(this)),Pr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(QA.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:It.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,l=n.pop();this._registerAckCallback(o,l),s.id=o}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},a);this.acks[t]=(...l)=>{this.io.clearTimeoutFn(o),n.apply(this,[null,...l])}}emitWithAck(t,...n){const s=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((a,o)=>{n.push((l,d)=>s?l?o(l):a(d):a(l)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...o)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...o)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:It.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case It.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case It.EVENT:case It.BINARY_EVENT:this.onevent(t);break;case It.ACK:case It.BINARY_ACK:this.onack(t);break;case It.DISCONNECT:this.ondisconnect();break;case It.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:It.ACK,id:t,data:a}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:It.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function Gl(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Gl.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};Gl.prototype.reset=function(){this.attempts=0};Gl.prototype.setMin=function(e){this.ms=e};Gl.prototype.setMax=function(e){this.max=e};Gl.prototype.setJitter=function(e){this.jitter=e};class w0 extends Wn{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Hh(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Gl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const a=n.parser||KA;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new IS(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=Pr(n,"open",function(){s.onopen(),t&&t()}),o=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),t?t(d):this.maybeReconnectOnOpen()},l=Pr(n,"error",o);if(this._timeout!==!1){const d=this._timeout,f=this.setTimeoutFn(()=>{a(),o(new Error("timeout")),n.close()},d);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(a),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Pr(t,"ping",this.onping.bind(this)),Pr(t,"data",this.ondata.bind(this)),Pr(t,"error",this.onerror.bind(this)),Pr(t,"close",this.onclose.bind(this)),Pr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){dx(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new WS(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const au={};function eh(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=BA(e,t.path||"/socket.io"),s=n.source,a=n.id,o=n.path,l=au[a]&&o in au[a].nsps,d=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let f;return d?f=new w0(s,t):(au[a]||(au[a]=new w0(s,t)),f=au[a]),n.query&&!t.query&&(t.query=n.queryKey),f.socket(n.path,t)}Object.assign(eh,{Manager:w0,Socket:WS,io:eh,connect:eh});class ZA{constructor(t,n,s,a){uo(this,"socket_port"),uo(this,"host"),uo(this,"port"),uo(this,"protocol"),uo(this,"url"),uo(this,"site_name"),uo(this,"socket");var o,l,d,f;if(this.socket_port=s!=null?s:"9000",this.host=(o=window.location)==null?void 0:o.hostname,this.port=(l=window.location)!=null&&l.port?`:${this.socket_port}`:"",this.protocol=((d=window.location)==null?void 0:d.protocol)==="https:"?"https":"http",t){let h=new URL(t);h.port="",s?(h.port=s,this.url=h.toString()):this.url=h.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;n&&(this.url=`${this.url}${n}`),this.site_name=n,this.socket=eh(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:a&&a.useToken===!0?{Authorization:`${a.type} ${(f=a.token)==null?void 0:f.call(a)}`}:{}})}}const $a=N.createContext(null),JA=({url:e="",tokenParams:t,socketPort:n,swrConfig:s,siteName:a,enableSocket:o=!0,children:l,customHeaders:d})=>{const f=N.useMemo(()=>{const h=new DC.FrappeApp(e,t,void 0,d);return{url:e,tokenParams:t,app:h,auth:h.auth(),db:h.db(),call:h.call(),file:h.file(),socket:o?new ZA(e,a,n,t).socket:void 0,enableSocket:o,socketPort:n}},[e,t,n,o,d]);return u.jsx($a.Provider,{value:f,children:u.jsx(lA,{value:s,children:l})})},$l=e=>{const{url:t,auth:n,tokenParams:s}=N.useContext($a),[a,o]=N.useState(),l=N.useCallback(()=>{const w=document.cookie.split(";").find(_=>_.trim().startsWith("user_id="));if(w){const _=w.split("=")[1];o(_&&_!=="Guest"?_:null)}else o(null)},[]);N.useEffect(()=>{s&&s.useToken?o(null):l()},[]);const{data:d,error:f,isLoading:h,isValidating:p,mutate:g}=Fh(()=>s&&s.useToken||a?`${t}/api/method/frappe.auth.get_logged_user`:null,()=>n.getLoggedInUser(),L({onError:()=>{o(null)},shouldRetryOnError:!1,revalidateOnFocus:!1},e)),b=N.useCallback(w=>ye(null,null,function*(){return n.loginWithUsernamePassword(w).then(_=>(l(),_))}),[]),y=N.useCallback(()=>ye(null,null,function*(){return n.logout().then(()=>g(null)).then(()=>o(null))}),[]);return{isLoading:a===void 0||h,currentUser:d,isValidating:p,error:f,login:b,logout:y,updateCurrentUser:g,getUserCookie:l}},XS=(e,t,n)=>{let s=`${t}/api/resource/`;return n?s+=`${e}/${n}`:s+=`${e}`,s},Un=(e,t,n,s)=>{const{url:a,db:o}=N.useContext($a);return Fh(n===void 0?XS(e,a,t):n,()=>o.getDoc(e,t),s)},eO=e=>{var a;var t,n;let s="";if(e!=null&&e.fields&&(s+="fields="+JSON.stringify(e==null?void 0:e.fields)+"&"),e!=null&&e.filters&&(s+="filters="+JSON.stringify(e==null?void 0:e.filters)+"&"),e!=null&&e.orFilters&&(s+="or_filters="+JSON.stringify(e==null?void 0:e.orFilters)+"&"),e!=null&&e.limit_start&&(s+="limit_start="+JSON.stringify(e==null?void 0:e.limit_start)+"&"),e!=null&&e.limit&&(s+="limit="+JSON.stringify(e==null?void 0:e.limit)+"&"),e!=null&&e.groupBy&&(s+="group_by="+String(e.groupBy)+"&"),e!=null&&e.orderBy){const o=`${String((t=e.orderBy)==null?void 0:t.field)} ${(a=(n=e.orderBy)==null?void 0:n.order)!=null?a:"asc"}`;s+="order_by="+o+"&"}return e!=null&&e.asDict&&(s+="as_dict="+e.asDict),s},_n=(e,t,n,s)=>{const{url:a,db:o}=N.useContext($a);return Fh(n===void 0?`${XS(e,a)}?${eO(t)}`:n,()=>o.getDocList(e,t),s)},Pi=()=>{const{db:e}=N.useContext($a),[t,n]=N.useState(!1),[s,a]=N.useState(null),[o,l]=N.useState(!1),d=N.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{createDoc:N.useCallback((f,h)=>ye(null,null,function*(){return a(null),l(!1),n(!0),e.createDoc(f,h).then(p=>(n(!1),l(!0),p)).catch(p=>{throw n(!1),l(!1),a(p),p})}),[]),loading:t,error:s,isCompleted:o,reset:d}},$s=()=>{const{db:e}=N.useContext($a),[t,n]=N.useState(!1),[s,a]=N.useState(null),[o,l]=N.useState(!1),d=N.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{updateDoc:N.useCallback((f,h,p)=>ye(null,null,function*(){return a(null),l(!1),n(!0),e.updateDoc(f,h,p).then(g=>(n(!1),l(!0),g)).catch(g=>{throw n(!1),l(!1),a(g),g})}),[]),loading:t,error:s,reset:d,isCompleted:o}},Vh=()=>{const{db:e}=N.useContext($a),[t,n]=N.useState(!1),[s,a]=N.useState(null),[o,l]=N.useState(!1),d=N.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{deleteDoc:N.useCallback((f,h)=>ye(null,null,function*(){return a(null),l(!1),n(!0),e.deleteDoc(f,h).then(p=>(n(!1),l(!0),p)).catch(p=>{throw n(!1),l(!1),a(p),p})}),[]),loading:t,error:s,reset:d,isCompleted:o}};function tO(e){const t=[];for(let n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}const nO=(e,t,n,s,a="GET")=>{const{call:o}=N.useContext($a),l=tO(t!=null?t:{}),d=`${e}?${l}`;return L({},Fh(n===void 0?d:n,a==="GET"?()=>o.get(e,t):()=>o.post(e,t),s))},gs=e=>{const{call:t}=N.useContext($a),[n,s]=N.useState(null),[a,o]=N.useState(!1),[l,d]=N.useState(null),[f,h]=N.useState(!1),p=N.useCallback(()=>{s(null),o(!1),d(null),h(!1)},[]);return{call:N.useCallback(g=>ye(null,null,function*(){return d(null),h(!1),o(!0),s(null),t.post(e,g).then(b=>(s(b),o(!1),h(!0),b)).catch(b=>{throw o(!1),h(!1),d(b),b})}),[]),result:n,loading:a,error:l,reset:p,isCompleted:f}};var sO=(e,t,n,s,a,o,l,d)=>{let f=document.documentElement,h=["light","dark"];function p(y){(Array.isArray(e)?e:[e]).forEach(w=>{let _=w==="class",j=_&&o?a.map(S=>o[S]||S):a;_?(f.classList.remove(...j),f.classList.add(o&&o[y]?o[y]:y)):f.setAttribute(w,y)}),g(y)}function g(y){d&&h.includes(y)&&(f.style.colorScheme=y)}function b(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)p(s);else try{let y=localStorage.getItem(t)||n,w=l&&y==="system"?b():y;p(w)}catch(y){}},M_=["light","dark"],GS="(prefers-color-scheme: dark)",rO=typeof window=="undefined",mx=N.createContext(void 0),aO={setTheme:e=>{},themes:[]},iO=()=>{var e;return(e=N.useContext(mx))!=null?e:aO},oO=e=>N.useContext(mx)?N.createElement(N.Fragment,null,e.children):N.createElement(cO,L({},e)),lO=["light","dark"],cO=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:s=!0,storageKey:a="theme",themes:o=lO,defaultTheme:l=n?"system":"light",attribute:d="data-theme",value:f,children:h,nonce:p,scriptProps:g})=>{let[b,y]=N.useState(()=>dO(a,l)),[w,_]=N.useState(()=>b==="system"?wg():b),j=f?Object.values(f):o,S=N.useCallback(C=>{let O=C;if(!O)return;C==="system"&&n&&(O=wg());let H=f?f[O]:O,D=t?fO(p):null,V=document.documentElement,te=q=>{q==="class"?(V.classList.remove(...j),H&&V.classList.add(H)):q.startsWith("data-")&&(H?V.setAttribute(q,H):V.removeAttribute(q))};if(Array.isArray(d)?d.forEach(te):te(d),s){let q=M_.includes(l)?l:null,W=M_.includes(O)?O:q;V.style.colorScheme=W}D==null||D()},[p]),M=N.useCallback(C=>{let O=typeof C=="function"?C(b):C;y(O);try{localStorage.setItem(a,O)}catch(H){}},[b]),A=N.useCallback(C=>{let O=wg(C);_(O),b==="system"&&n&&!e&&S("system")},[b,e]);N.useEffect(()=>{let C=window.matchMedia(GS);return C.addListener(A),A(C),()=>C.removeListener(A)},[A]),N.useEffect(()=>{let C=O=>{O.key===a&&(O.newValue?y(O.newValue):M(l))};return window.addEventListener("storage",C),()=>window.removeEventListener("storage",C)},[M]),N.useEffect(()=>{S(e!=null?e:b)},[e,b]);let k=N.useMemo(()=>({theme:b,setTheme:M,forcedTheme:e,resolvedTheme:b==="system"?w:b,themes:n?[...o,"system"]:o,systemTheme:n?w:void 0}),[b,M,e,w,n,o]);return N.createElement(mx.Provider,{value:k},N.createElement(uO,{forcedTheme:e,storageKey:a,attribute:d,enableSystem:n,enableColorScheme:s,defaultTheme:l,value:f,themes:o,nonce:p,scriptProps:g}),h)},uO=N.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:a,defaultTheme:o,value:l,themes:d,nonce:f,scriptProps:h})=>{let p=JSON.stringify([n,t,o,e,d,l,s,a]).slice(1,-1);return N.createElement("script",fe(L({},h),{suppressHydrationWarning:!0,nonce:typeof window=="undefined"?f:"",dangerouslySetInnerHTML:{__html:`(${sO.toString()})(${p})`}}))}),dO=(e,t)=>{if(rO)return;let n;try{n=localStorage.getItem(e)||void 0}catch(s){}return n||t},fO=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},wg=e=>(e||(e=window.matchMedia(GS)),e.matches?"dark":"light");/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var KS=e=>{throw TypeError(e)},hO=(e,t,n)=>t.has(e)||KS("Cannot "+n),_g=(e,t,n)=>(hO(e,t,"read from private field"),n?n.call(e):t.get(e)),mO=(e,t,n)=>t.has(e)?KS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),P_="popstate";function pO(e={}){function t(s,a){let{pathname:o,search:l,hash:d}=s.location;return Lu("",{pathname:o,search:l,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ki(a)}return xO(t,n,null,e)}function Ht(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function Kn(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function gO(){return Math.random().toString(36).substring(2,10)}function L_(e,t){return{usr:e.state,key:e.key,idx:t}}function Lu(e,t,n=null,s){return fe(L({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Li(t):t),{state:n,key:t&&t.key||s||gO()})}function ki({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Li(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function xO(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,l=a.history,d="POP",f=null,h=p();h==null&&(h=0,l.replaceState(fe(L({},l.state),{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function g(){d="POP";let j=p(),S=j==null?null:j-h;h=j,f&&f({action:d,location:_.location,delta:S})}function b(j,S){d="PUSH";let M=Lu(_.location,j,S);h=p()+1;let A=L_(M,h),k=_.createHref(M);try{l.pushState(A,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(k)}o&&f&&f({action:d,location:_.location,delta:1})}function y(j,S){d="REPLACE";let M=Lu(_.location,j,S);h=p();let A=L_(M,h),k=_.createHref(M);l.replaceState(A,"",k),o&&f&&f({action:d,location:_.location,delta:0})}function w(j){return QS(j)}let _={get action(){return d},get location(){return e(a,l)},listen(j){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(P_,g),f=j,()=>{a.removeEventListener(P_,g),f=null}},createHref(j){return t(a,j)},createURL:w,encodeLocation(j){let S=w(j);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:b,replace:y,go(j){return l.go(j)}};return _}function QS(e,t=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:ki(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var _u,z_=class{constructor(e){if(mO(this,_u,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(_g(this,_u).has(e))return _g(this,_u).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){_g(this,_u).set(e,t)}};_u=new WeakMap;var yO=new Set(["lazy","caseSensitive","path","id","index","children"]);function bO(e){return yO.has(e)}var vO=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function wO(e){return vO.has(e)}function _O(e){return e.index===!0}function zu(e,t,n=[],s={},a=!1){return e.map((o,l)=>{let d=[...n,String(l)],f=typeof o.id=="string"?o.id:d.join("-");if(Ht(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ht(a||!s[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),_O(o)){let h=fe(L(L({},o),t(o)),{id:f});return s[f]=h,h}else{let h=fe(L(L({},o),t(o)),{id:f,children:void 0});return s[f]=h,o.children&&(h.children=zu(o.children,t,d,s,a)),h}})}function wi(e,t,n="/"){return th(e,t,n,!1)}function th(e,t,n,s){let a=typeof t=="string"?Li(t):t,o=jr(a.pathname||"/",n);if(o==null)return null;let l=ZS(e);SO(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=PO(o);d=DO(l[f],h,s)}return d}function jO(e,t){let{route:n,pathname:s,params:a}=e;return{id:n.id,pathname:s,params:a,data:t[n.id],handle:n.handle}}function ZS(e,t=[],n=[],s=""){let a=(o,l,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(Ht(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let h=aa([s,f.relativePath]),p=n.concat(f);o.children&&o.children.length>0&&(Ht(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),ZS(o.children,t,p,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:OO(h,o.index),routesMeta:p})};return e.forEach((o,l)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,l);else for(let f of JS(o.path))a(o,l,f)}),t}function JS(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let l=JS(s.join("/")),d=[];return d.push(...l.map(f=>f===""?o:[o,f].join("/"))),a&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function SO(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:RO(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var NO=/^:[\w-]+$/,EO=3,TO=2,kO=1,CO=10,AO=-2,U_=e=>e==="*";function OO(e,t){let n=e.split("/"),s=n.length;return n.some(U_)&&(s+=AO),t&&(s+=TO),n.filter(a=>!U_(a)).reduce((a,o)=>a+(NO.test(o)?EO:o===""?kO:CO),s)}function RO(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function DO(e,t,n=!1){let{routesMeta:s}=e,a={},o="/",l=[];for(let d=0;d<s.length;++d){let f=s[d],h=d===s.length-1,p=o==="/"?t:t.slice(o.length)||"/",g=xh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),b=f.route;if(!g&&h&&n&&!s[s.length-1].route.index&&(g=xh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:aa([o,g.pathname]),pathnameBase:BO(aa([o,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(o=aa([o,g.pathnameBase]))}return l}function xh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=MO(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((h,{paramName:p,isOptional:g},b)=>{if(p==="*"){let w=d[b]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const y=d[b];return g&&!y?h[p]=void 0:h[p]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:e}}function MO(e,t=!1,n=!0){Kn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function PO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function jr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function LO({basename:e,pathname:t}){return t==="/"?e:aa([e,t])}function zO(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Li(e):e;return{pathname:n?n.startsWith("/")?n:UO(n,t):t,search:FO(s),hash:HO(a)}}function UO(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function jg(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function px(e){let t=e2(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function gx(e,t,n,s=!1){let a;typeof e=="string"?a=Li(e):(a=L({},e),Ht(!a.pathname||!a.pathname.includes("?"),jg("?","pathname","search",a)),Ht(!a.pathname||!a.pathname.includes("#"),jg("#","pathname","hash",a)),Ht(!a.search||!a.search.includes("#"),jg("#","search","hash",a)));let o=e===""||a.pathname==="",l=o?"/":a.pathname,d;if(l==null)d=n;else{let g=t.length-1;if(!s&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),g-=1;a.pathname=b.join("/")}d=g>=0?t[g]:"/"}let f=zO(a,d),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var aa=e=>e.join("/").replace(/\/\/+/g,"/"),BO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),FO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,HO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,yh=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Uu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var t2=["POST","PUT","PATCH","DELETE"],VO=new Set(t2),$O=["GET",...t2],qO=new Set($O),IO=new Set([301,302,303,307,308]),YO=new Set([307,308]),Sg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},WO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},iu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},XO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xx=e=>XO.test(e),GO=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),n2="remix-router-transitions",s2=Symbol("ResetLoaderData");function KO(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,n=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined";Ht(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=e.hydrationRouteProperties||[],a=e.mapRouteProperties||GO,o={},l=zu(e.routes,a,void 0,o),d,f=e.basename||"/",h=e.dataStrategy||tR,p=L({unstable_middleware:!1},e.future),g=null,b=new Set,y=null,w=null,_=null,j=e.hydrationData!=null,S=wi(l,e.history.location,f),M=!1,A=null,k;if(S==null&&!e.patchRoutesOnNavigation){let Q=yr(404,{pathname:e.history.location.pathname}),{matches:se,route:de}=K_(l);k=!0,S=se,A={[de.id]:Q}}else if(S&&!e.hydrationData&&Ge(S,l,e.history.location.pathname).active&&(S=null),S)if(S.some(Q=>Q.route.lazy))k=!1;else if(!S.some(Q=>Q.route.loader))k=!0;else{let Q=e.hydrationData?e.hydrationData.loaderData:null,se=e.hydrationData?e.hydrationData.errors:null;if(se){let de=S.findIndex(_e=>se[_e.route.id]!==void 0);k=S.slice(0,de+1).every(_e=>!j0(_e.route,Q,se))}else k=S.every(de=>!j0(de.route,Q,se))}else{k=!1,S=[];let Q=Ge(null,l,e.history.location.pathname);Q.active&&Q.matches&&(M=!0,S=Q.matches)}let C,O={historyAction:e.history.action,location:e.history.location,matches:S,initialized:k,navigation:Sg,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||A,fetchers:new Map,blockers:new Map},H="POP",D=!1,V,te=!1,q=new Map,W=null,re=!1,me=!1,Z=new Set,F=new Map,Y=0,G=-1,ee=new Map,z=new Set,ae=new Map,we=new Map,I=new Set,oe=new Map,je,ge=null;function Ee(){if(g=e.history.listen(({action:Q,location:se,delta:de})=>{if(je){je(),je=void 0;return}Kn(oe.size===0||de!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=ds({currentLocation:O.location,nextLocation:se,historyAction:Q});if(_e&&de!=null){let Ae=new Promise(Ve=>{je=Ve});e.history.go(de*-1),Hn(_e,{state:"blocked",location:se,proceed(){Hn(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),Ae.then(()=>e.history.go(de))},reset(){let Ve=new Map(O.blockers);Ve.set(_e,iu),He({blockers:Ve})}});return}return Pe(Q,se)}),n){fR(t,q);let Q=()=>hR(t,q);t.addEventListener("pagehide",Q),W=()=>t.removeEventListener("pagehide",Q)}return O.initialized||Pe("POP",O.location,{initialHydration:!0}),C}function Oe(){g&&g(),W&&W(),b.clear(),V&&V.abort(),O.fetchers.forEach((Q,se)=>xt(se)),O.blockers.forEach((Q,se)=>as(se))}function We(Q){return b.add(Q),()=>b.delete(Q)}function He(Q,se={}){Q.matches&&(Q.matches=Q.matches.map(Ae=>{let Ve=o[Ae.route.id],Qe=Ae.route;return Qe.element!==Ve.element||Qe.errorElement!==Ve.errorElement||Qe.hydrateFallbackElement!==Ve.hydrateFallbackElement?fe(L({},Ae),{route:Ve}):Ae})),O=L(L({},O),Q);let de=[],_e=[];O.fetchers.forEach((Ae,Ve)=>{Ae.state==="idle"&&(I.has(Ve)?de.push(Ve):_e.push(Ve))}),I.forEach(Ae=>{!O.fetchers.has(Ae)&&!F.has(Ae)&&de.push(Ae)}),[...b].forEach(Ae=>Ae(O,{deletedFetchers:de,viewTransitionOpts:se.viewTransitionOpts,flushSync:se.flushSync===!0})),de.forEach(Ae=>xt(Ae)),_e.forEach(Ae=>O.fetchers.delete(Ae))}function it(Q,se,{flushSync:de}={}){var rt,bt;let _e=O.actionData!=null&&O.navigation.formMethod!=null&&Hs(O.navigation.formMethod)&&O.navigation.state==="loading"&&((rt=Q.state)==null?void 0:rt._isRedirect)!==!0,Ae;se.actionData?Object.keys(se.actionData).length>0?Ae=se.actionData:Ae=null:_e?Ae=O.actionData:Ae=null;let Ve=se.loaderData?X_(O.loaderData,se.loaderData,se.matches||[],se.errors):O.loaderData,Qe=O.blockers;Qe.size>0&&(Qe=new Map(Qe),Qe.forEach((kt,dn)=>Qe.set(dn,iu)));let tt=re?!1:en(Q,se.matches||O.matches),ut=D===!0||O.navigation.formMethod!=null&&Hs(O.navigation.formMethod)&&((bt=Q.state)==null?void 0:bt._isRedirect)!==!0;d&&(l=d,d=void 0),re||H==="POP"||(H==="PUSH"?e.history.push(Q,Q.state):H==="REPLACE"&&e.history.replace(Q,Q.state));let At;if(H==="POP"){let kt=q.get(O.location.pathname);kt&&kt.has(Q.pathname)?At={currentLocation:O.location,nextLocation:Q}:q.has(Q.pathname)&&(At={currentLocation:Q,nextLocation:O.location})}else if(te){let kt=q.get(O.location.pathname);kt?kt.add(Q.pathname):(kt=new Set([Q.pathname]),q.set(O.location.pathname,kt)),At={currentLocation:O.location,nextLocation:Q}}He(fe(L({},se),{actionData:Ae,loaderData:Ve,historyAction:H,location:Q,initialized:!0,navigation:Sg,revalidation:"idle",restoreScrollPosition:tt,preventScrollReset:ut,blockers:Qe}),{viewTransitionOpts:At,flushSync:de===!0}),H="POP",D=!1,te=!1,re=!1,me=!1,ge==null||ge.resolve(),ge=null}function st(Q,se){return ye(this,null,function*(){if(typeof Q=="number"){e.history.go(Q);return}let de=_0(O.location,O.matches,f,Q,se==null?void 0:se.fromRouteId,se==null?void 0:se.relative),{path:_e,submission:Ae,error:Ve}=B_(!1,de,se),Qe=O.location,tt=Lu(O.location,_e,se&&se.state);tt=L(L({},tt),e.history.encodeLocation(tt));let ut=se&&se.replace!=null?se.replace:void 0,At="PUSH";ut===!0?At="REPLACE":ut===!1||Ae!=null&&Hs(Ae.formMethod)&&Ae.formAction===O.location.pathname+O.location.search&&(At="REPLACE");let rt=se&&"preventScrollReset"in se?se.preventScrollReset===!0:void 0,bt=(se&&se.flushSync)===!0,kt=ds({currentLocation:Qe,nextLocation:tt,historyAction:At});if(kt){Hn(kt,{state:"blocked",location:tt,proceed(){Hn(kt,{state:"proceeding",proceed:void 0,reset:void 0,location:tt}),st(Q,se)},reset(){let dn=new Map(O.blockers);dn.set(kt,iu),He({blockers:dn})}});return}yield Pe(At,tt,{submission:Ae,pendingError:Ve,preventScrollReset:rt,replace:se&&se.replace,enableViewTransition:se&&se.viewTransition,flushSync:bt})})}function vt(){ge||(ge=mR()),Re(),He({revalidation:"loading"});let Q=ge.promise;return O.navigation.state==="submitting"?Q:O.navigation.state==="idle"?(Pe(O.historyAction,O.location,{startUninterruptedRevalidation:!0}),Q):(Pe(H||O.historyAction,O.navigation.location,{overrideNavigation:O.navigation,enableViewTransition:te===!0}),Q)}function Pe(Q,se,de){return ye(this,null,function*(){V&&V.abort(),V=null,H=Q,re=(de&&de.startUninterruptedRevalidation)===!0,St(O.location,O.matches),D=(de&&de.preventScrollReset)===!0,te=(de&&de.enableViewTransition)===!0;let _e=d||l,Ae=de&&de.overrideNavigation,Ve=de!=null&&de.initialHydration&&O.matches&&O.matches.length>0&&!M?O.matches:wi(_e,se,f),Qe=(de&&de.flushSync)===!0;if(Ve&&O.initialized&&!me&&oR(O.location,se)&&!(de&&de.submission&&Hs(de.submission.formMethod))){it(se,{matches:Ve},{flushSync:Qe});return}let tt=Ge(Ve,_e,se.pathname);if(tt.active&&tt.matches&&(Ve=tt.matches),!Ve){let{error:an,notFoundMatches:at,route:Nt}=Xe(se.pathname);it(se,{matches:at,loaderData:{},errors:{[Nt.id]:an}},{flushSync:Qe});return}V=new AbortController;let ut=Rl(e.history,se,V.signal,de&&de.submission),At=new z_(e.unstable_getContext?yield e.unstable_getContext():void 0),rt;if(de&&de.pendingError)rt=[yo(Ve).route.id,{type:"error",error:de.pendingError}];else if(de&&de.submission&&Hs(de.submission.formMethod)){let an=yield gt(ut,se,de.submission,Ve,At,tt.active,de&&de.initialHydration===!0,{replace:de.replace,flushSync:Qe});if(an.shortCircuited)return;if(an.pendingActionResult){let[at,Nt]=an.pendingActionResult;if(Js(Nt)&&Uu(Nt.error)&&Nt.error.status===404){V=null,it(se,{matches:an.matches,loaderData:{},errors:{[at]:Nt.error}});return}}Ve=an.matches||Ve,rt=an.pendingActionResult,Ae=Ng(se,de.submission),Qe=!1,tt.active=!1,ut=Rl(e.history,ut.url,ut.signal)}let{shortCircuited:bt,matches:kt,loaderData:dn,errors:Cn}=yield Vt(ut,se,Ve,At,tt.active,Ae,de&&de.submission,de&&de.fetcherSubmission,de&&de.replace,de&&de.initialHydration===!0,Qe,rt);bt||(V=null,it(se,fe(L({matches:kt||Ve},G_(rt)),{loaderData:dn,errors:Cn})))})}function gt(ut,At,rt,bt,kt,dn,Cn){return ye(this,arguments,function*(Q,se,de,_e,Ae,Ve,Qe,tt={}){Re();let an=uR(se,de);if(He({navigation:an},{flushSync:tt.flushSync===!0}),Ve){let Gt=yield wt(_e,se.pathname,Q.signal);if(Gt.type==="aborted")return{shortCircuited:!0};if(Gt.type==="error"){let vn=yo(Gt.partialMatches).route.id;return{matches:Gt.partialMatches,pendingActionResult:[vn,{type:"error",error:Gt.error}]}}else if(Gt.matches)_e=Gt.matches;else{let{notFoundMatches:vn,error:An,route:Qn}=Xe(se.pathname);return{matches:vn,pendingActionResult:[Qn.id,{type:"error",error:An}]}}}let at,Nt=nh(_e,se);if(!Nt.route.action&&!Nt.route.lazy)at={type:"error",error:yr(405,{method:Q.method,pathname:se.pathname,routeId:Nt.route.id})};else{let Gt=Ll(a,o,Q,_e,Nt,Qe?[]:s,Ae),vn=yield Se(Q,Gt,Ae,null);if(at=vn[Nt.route.id],!at){for(let An of _e)if(vn[An.route.id]){at=vn[An.route.id];break}}if(Q.signal.aborted)return{shortCircuited:!0}}if(jo(at)){let Gt;return tt&&tt.replace!=null?Gt=tt.replace:Gt=I_(at.response.headers.get("Location"),new URL(Q.url),f)===O.location.pathname+O.location.search,yield $(Q,at,!0,{submission:de,replace:Gt}),{shortCircuited:!0}}if(Js(at)){let Gt=yo(_e,Nt.route.id);return(tt&&tt.replace)!==!0&&(H="PUSH"),{matches:_e,pendingActionResult:[Gt.route.id,at,Nt.route.id]}}return{matches:_e,pendingActionResult:[Nt.route.id,at]}})}function Vt(Q,se,de,_e,Ae,Ve,Qe,tt,ut,At,rt,bt){return ye(this,null,function*(){let kt=Ve||Ng(se,Qe),dn=Qe||tt||Z_(kt),Cn=!re&&!At;if(Ae){if(Cn){let On=jt(bt);He(L({navigation:kt},On!==void 0?{actionData:On}:{}),{flushSync:rt})}let Rt=yield wt(de,se.pathname,Q.signal);if(Rt.type==="aborted")return{shortCircuited:!0};if(Rt.type==="error"){let On=yo(Rt.partialMatches).route.id;return{matches:Rt.partialMatches,loaderData:{},errors:{[On]:Rt.error}}}else if(Rt.matches)de=Rt.matches;else{let{error:On,notFoundMatches:ha,route:fs}=Xe(se.pathname);return{matches:ha,loaderData:{},errors:{[fs.id]:On}}}}let an=d||l,{dsMatches:at,revalidatingFetchers:Nt}=F_(Q,_e,a,o,e.history,O,de,dn,se,At?[]:s,At===!0,me,Z,I,ae,z,an,f,e.patchRoutesOnNavigation!=null,bt);if(G=++Y,!e.dataStrategy&&!at.some(Rt=>Rt.shouldLoad)&&Nt.length===0){let Rt=Be();return it(se,L(L({matches:de,loaderData:{},errors:bt&&Js(bt[1])?{[bt[0]]:bt[1].error}:null},G_(bt)),Rt?{fetchers:new Map(O.fetchers)}:{}),{flushSync:rt}),{shortCircuited:!0}}if(Cn){let Rt={};if(!Ae){Rt.navigation=kt;let On=jt(bt);On!==void 0&&(Rt.actionData=On)}Nt.length>0&&(Rt.fetchers=$t(Nt)),He(Rt,{flushSync:rt})}Nt.forEach(Rt=>{ct(Rt.key),Rt.controller&&F.set(Rt.key,Rt.controller)});let Gt=()=>Nt.forEach(Rt=>ct(Rt.key));V&&V.signal.addEventListener("abort",Gt);let{loaderResults:vn,fetcherResults:An}=yield De(at,Nt,Q,_e);if(Q.signal.aborted)return{shortCircuited:!0};V&&V.signal.removeEventListener("abort",Gt),Nt.forEach(Rt=>F.delete(Rt.key));let Qn=vf(vn);if(Qn)return yield $(Q,Qn.result,!0,{replace:ut}),{shortCircuited:!0};if(Qn=vf(An),Qn)return z.add(Qn.key),yield $(Q,Qn.result,!0,{replace:ut}),{shortCircuited:!0};let{loaderData:is,errors:ir}=W_(O,de,vn,bt,Nt,An);At&&O.errors&&(ir=L(L({},O.errors),ir));let or=Be(),xs=Dt(G),lr=or||xs||Nt.length>0;return L({matches:de,loaderData:is,errors:ir},lr?{fetchers:new Map(O.fetchers)}:{})})}function jt(Q){if(Q&&!Js(Q[1]))return{[Q[0]]:Q[1].data};if(O.actionData)return Object.keys(O.actionData).length===0?null:O.actionData}function $t(Q){return Q.forEach(se=>{let de=O.fetchers.get(se.key),_e=ou(void 0,de?de.data:void 0);O.fetchers.set(se.key,_e)}),new Map(O.fetchers)}function Ct(Q,se,de,_e){return ye(this,null,function*(){ct(Q);let Ae=(_e&&_e.flushSync)===!0,Ve=d||l,Qe=_0(O.location,O.matches,f,de,se,_e==null?void 0:_e.relative),tt=wi(Ve,Qe,f),ut=Ge(tt,Ve,Qe);if(ut.active&&ut.matches&&(tt=ut.matches),!tt){qe(Q,se,yr(404,{pathname:Qe}),{flushSync:Ae});return}let{path:At,submission:rt,error:bt}=B_(!0,Qe,_e);if(bt){qe(Q,se,bt,{flushSync:Ae});return}let kt=new z_(e.unstable_getContext?yield e.unstable_getContext():void 0),dn=(_e&&_e.preventScrollReset)===!0;if(rt&&Hs(rt.formMethod)){yield X(Q,se,At,tt,kt,ut.active,Ae,dn,rt);return}ae.set(Q,{routeId:se,path:At}),yield ce(Q,se,At,tt,kt,ut.active,Ae,dn,rt)})}function X(Q,se,de,_e,Ae,Ve,Qe,tt,ut){return ye(this,null,function*(){Re(),ae.delete(Q);let At=O.fetchers.get(Q);Ue(Q,dR(ut,At),{flushSync:Qe});let rt=new AbortController,bt=Rl(e.history,de,rt.signal,ut);if(Ve){let pn=yield wt(_e,new URL(bt.url).pathname,bt.signal,Q);if(pn.type==="aborted")return;if(pn.type==="error"){qe(Q,se,pn.error,{flushSync:Qe});return}else if(pn.matches)_e=pn.matches;else{qe(Q,se,yr(404,{pathname:de}),{flushSync:Qe});return}}let kt=nh(_e,de);if(!kt.route.action&&!kt.route.lazy){let pn=yr(405,{method:ut.formMethod,pathname:de,routeId:se});qe(Q,se,pn,{flushSync:Qe});return}F.set(Q,rt);let dn=Y,Cn=Ll(a,o,bt,_e,kt,s,Ae),at=(yield Se(bt,Cn,Ae,Q))[kt.route.id];if(bt.signal.aborted){F.get(Q)===rt&&F.delete(Q);return}if(I.has(Q)){if(jo(at)||Js(at)){Ue(Q,bi(void 0));return}}else{if(jo(at))if(F.delete(Q),G>dn){Ue(Q,bi(void 0));return}else return z.add(Q),Ue(Q,ou(ut)),$(bt,at,!1,{fetcherSubmission:ut,preventScrollReset:tt});if(Js(at)){qe(Q,se,at.error);return}}let Nt=O.navigation.location||O.location,Gt=Rl(e.history,Nt,rt.signal),vn=d||l,An=O.navigation.state!=="idle"?wi(vn,O.navigation.location,f):O.matches;Ht(An,"Didn't find any matches after fetcher action");let Qn=++Y;ee.set(Q,Qn);let is=ou(ut,at.data);O.fetchers.set(Q,is);let{dsMatches:ir,revalidatingFetchers:or}=F_(Gt,Ae,a,o,e.history,O,An,ut,Nt,s,!1,me,Z,I,ae,z,vn,f,e.patchRoutesOnNavigation!=null,[kt.route.id,at]);or.filter(pn=>pn.key!==Q).forEach(pn=>{let Er=pn.key,zo=O.fetchers.get(Er),Uo=ou(void 0,zo?zo.data:void 0);O.fetchers.set(Er,Uo),ct(Er),pn.controller&&F.set(Er,pn.controller)}),He({fetchers:new Map(O.fetchers)});let xs=()=>or.forEach(pn=>ct(pn.key));rt.signal.addEventListener("abort",xs);let{loaderResults:lr,fetcherResults:Rt}=yield De(ir,or,Gt,Ae);if(rt.signal.aborted)return;if(rt.signal.removeEventListener("abort",xs),ee.delete(Q),F.delete(Q),or.forEach(pn=>F.delete(pn.key)),O.fetchers.has(Q)){let pn=bi(at.data);O.fetchers.set(Q,pn)}let On=vf(lr);if(On)return $(Gt,On.result,!1,{preventScrollReset:tt});if(On=vf(Rt),On)return z.add(On.key),$(Gt,On.result,!1,{preventScrollReset:tt});let{loaderData:ha,errors:fs}=W_(O,An,lr,void 0,or,Rt);Dt(Qn),O.navigation.state==="loading"&&Qn>G?(Ht(H,"Expected pending action"),V&&V.abort(),it(O.navigation.location,{matches:An,loaderData:ha,errors:fs,fetchers:new Map(O.fetchers)})):(He({errors:fs,loaderData:X_(O.loaderData,ha,An,fs),fetchers:new Map(O.fetchers)}),me=!1)})}function ce(Q,se,de,_e,Ae,Ve,Qe,tt,ut){return ye(this,null,function*(){let At=O.fetchers.get(Q);Ue(Q,ou(ut,At?At.data:void 0),{flushSync:Qe});let rt=new AbortController,bt=Rl(e.history,de,rt.signal);if(Ve){let Nt=yield wt(_e,new URL(bt.url).pathname,bt.signal,Q);if(Nt.type==="aborted")return;if(Nt.type==="error"){qe(Q,se,Nt.error,{flushSync:Qe});return}else if(Nt.matches)_e=Nt.matches;else{qe(Q,se,yr(404,{pathname:de}),{flushSync:Qe});return}}let kt=nh(_e,de);F.set(Q,rt);let dn=Y,Cn=Ll(a,o,bt,_e,kt,s,Ae),at=(yield Se(bt,Cn,Ae,Q))[kt.route.id];if(F.get(Q)===rt&&F.delete(Q),!bt.signal.aborted){if(I.has(Q)){Ue(Q,bi(void 0));return}if(jo(at))if(G>dn){Ue(Q,bi(void 0));return}else{z.add(Q),yield $(bt,at,!1,{preventScrollReset:tt});return}if(Js(at)){qe(Q,se,at.error);return}Ue(Q,bi(at.data))}})}function $(tt,ut,At){return ye(this,arguments,function*(Q,se,de,{submission:_e,fetcherSubmission:Ae,preventScrollReset:Ve,replace:Qe}={}){se.response.headers.has("X-Remix-Revalidate")&&(me=!0);let rt=se.response.headers.get("Location");Ht(rt,"Expected a Location header on the redirect Response"),rt=I_(rt,new URL(Q.url),f);let bt=Lu(O.location,rt,{_isRedirect:!0});if(n){let Nt=!1;if(se.response.headers.has("X-Remix-Reload-Document"))Nt=!0;else if(xx(rt)){const Gt=QS(rt,!0);Nt=Gt.origin!==t.location.origin||jr(Gt.pathname,f)==null}if(Nt){Qe?t.location.replace(rt):t.location.assign(rt);return}}V=null;let kt=Qe===!0||se.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:dn,formAction:Cn,formEncType:an}=O.navigation;!_e&&!Ae&&dn&&Cn&&an&&(_e=Z_(O.navigation));let at=_e||Ae;if(YO.has(se.response.status)&&at&&Hs(at.formMethod))yield Pe(kt,bt,{submission:fe(L({},at),{formAction:rt}),preventScrollReset:Ve||D,enableViewTransition:de?te:void 0});else{let Nt=Ng(bt,_e);yield Pe(kt,bt,{overrideNavigation:Nt,fetcherSubmission:Ae,preventScrollReset:Ve||D,enableViewTransition:de?te:void 0})}})}function Se(Q,se,de,_e){return ye(this,null,function*(){let Ae,Ve={};try{Ae=yield nR(h,Q,se,_e,de,!1)}catch(Qe){return se.filter(tt=>tt.shouldLoad).forEach(tt=>{Ve[tt.route.id]={type:"error",error:Qe}}),Ve}if(Q.signal.aborted)return Ve;for(let[Qe,tt]of Object.entries(Ae))if(lR(tt)){let ut=tt.result;Ve[Qe]={type:"redirect",response:aR(ut,Q,Qe,se,f)}}else Ve[Qe]=yield rR(tt);return Ve})}function De(Q,se,de,_e){return ye(this,null,function*(){let Ae=Se(de,Q,_e,null),Ve=Promise.all(se.map(ut=>ye(null,null,function*(){if(ut.matches&&ut.match&&ut.request&&ut.controller){let rt=(yield Se(ut.request,ut.matches,_e,ut.key))[ut.match.route.id];return{[ut.key]:rt}}else return Promise.resolve({[ut.key]:{type:"error",error:yr(404,{pathname:ut.path})}})}))),Qe=yield Ae,tt=(yield Ve).reduce((ut,At)=>Object.assign(ut,At),{});return{loaderResults:Qe,fetcherResults:tt}})}function Re(){me=!0,ae.forEach((Q,se)=>{F.has(se)&&Z.add(se),ct(se)})}function Ue(Q,se,de={}){O.fetchers.set(Q,se),He({fetchers:new Map(O.fetchers)},{flushSync:(de&&de.flushSync)===!0})}function qe(Q,se,de,_e={}){let Ae=yo(O.matches,se);xt(Q),He({errors:{[Ae.route.id]:de},fetchers:new Map(O.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function Ke(Q){return we.set(Q,(we.get(Q)||0)+1),I.has(Q)&&I.delete(Q),O.fetchers.get(Q)||WO}function xt(Q){let se=O.fetchers.get(Q);F.has(Q)&&!(se&&se.state==="loading"&&ee.has(Q))&&ct(Q),ae.delete(Q),ee.delete(Q),z.delete(Q),I.delete(Q),Z.delete(Q),O.fetchers.delete(Q)}function yn(Q){let se=(we.get(Q)||0)-1;se<=0?(we.delete(Q),I.add(Q)):we.set(Q,se),He({fetchers:new Map(O.fetchers)})}function ct(Q){let se=F.get(Q);se&&(se.abort(),F.delete(Q))}function ke(Q){for(let se of Q){let de=Ke(se),_e=bi(de.data);O.fetchers.set(se,_e)}}function Be(){let Q=[],se=!1;for(let de of z){let _e=O.fetchers.get(de);Ht(_e,`Expected fetcher: ${de}`),_e.state==="loading"&&(z.delete(de),Q.push(de),se=!0)}return ke(Q),se}function Dt(Q){let se=[];for(let[de,_e]of ee)if(_e<Q){let Ae=O.fetchers.get(de);Ht(Ae,`Expected fetcher: ${de}`),Ae.state==="loading"&&(ct(de),ee.delete(de),se.push(de))}return ke(se),se.length>0}function Sn(Q,se){let de=O.blockers.get(Q)||iu;return oe.get(Q)!==se&&oe.set(Q,se),de}function as(Q){O.blockers.delete(Q),oe.delete(Q)}function Hn(Q,se){let de=O.blockers.get(Q)||iu;Ht(de.state==="unblocked"&&se.state==="blocked"||de.state==="blocked"&&se.state==="blocked"||de.state==="blocked"&&se.state==="proceeding"||de.state==="blocked"&&se.state==="unblocked"||de.state==="proceeding"&&se.state==="unblocked",`Invalid blocker state transition: ${de.state} -> ${se.state}`);let _e=new Map(O.blockers);_e.set(Q,se),He({blockers:_e})}function ds({currentLocation:Q,nextLocation:se,historyAction:de}){if(oe.size===0)return;oe.size>1&&Kn(!1,"A router only supports one blocker at a time");let _e=Array.from(oe.entries()),[Ae,Ve]=_e[_e.length-1],Qe=O.blockers.get(Ae);if(!(Qe&&Qe.state==="proceeding")&&Ve({currentLocation:Q,nextLocation:se,historyAction:de}))return Ae}function Xe(Q){let se=yr(404,{pathname:Q}),de=d||l,{matches:_e,route:Ae}=K_(de);return{notFoundMatches:_e,route:Ae,error:se}}function Mt(Q,se,de){if(y=Q,_=se,w=de||null,!j&&O.navigation===Sg){j=!0;let _e=en(O.location,O.matches);_e!=null&&He({restoreScrollPosition:_e})}return()=>{y=null,_=null,w=null}}function Ut(Q,se){return w&&w(Q,se.map(_e=>jO(_e,O.loaderData)))||Q.key}function St(Q,se){if(y&&_){let de=Ut(Q,se);y[de]=_()}}function en(Q,se){if(y){let de=Ut(Q,se),_e=y[de];if(typeof _e=="number")return _e}return null}function Ge(Q,se,de){if(e.patchRoutesOnNavigation)if(Q){if(Object.keys(Q[0].params).length>0)return{active:!0,matches:th(se,de,f,!0)}}else return{active:!0,matches:th(se,de,f,!0)||[]};return{active:!1,matches:null}}function wt(Q,se,de,_e){return ye(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:Q};let Ae=Q;for(;;){let Ve=d==null,Qe=d||l,tt=o;try{yield e.patchRoutesOnNavigation({signal:de,path:se,matches:Ae,fetcherKey:_e,patch:(rt,bt)=>{de.aborted||H_(rt,bt,Qe,tt,a,!1)}})}catch(rt){return{type:"error",error:rt,partialMatches:Ae}}finally{Ve&&!de.aborted&&(l=[...l])}if(de.aborted)return{type:"aborted"};let ut=wi(Qe,se,f);if(ut)return{type:"success",matches:ut};let At=th(Qe,se,f,!0);if(!At||Ae.length===At.length&&Ae.every((rt,bt)=>rt.route.id===At[bt].route.id))return{type:"success",matches:null};Ae=At}})}function qt(Q){o={},d=zu(Q,a,void 0,o)}function Xt(Q,se,de=!1){let _e=d==null;H_(Q,se,d||l,o,a,de),_e&&(l=[...l],He({}))}return C={get basename(){return f},get future(){return p},get state(){return O},get routes(){return l},get window(){return t},initialize:Ee,subscribe:We,enableScrollRestoration:Mt,navigate:st,fetch:Ct,revalidate:vt,createHref:Q=>e.history.createHref(Q),encodeLocation:Q=>e.history.encodeLocation(Q),getFetcher:Ke,deleteFetcher:yn,dispose:Oe,getBlocker:Sn,deleteBlocker:as,patchRoutes:Xt,_internalFetchControllers:F,_internalSetRoutes:qt,_internalSetStateDoNotUseOrYouWillBreakYourApp(Q){He(Q)}},C}function QO(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function _0(e,t,n,s,a,o){let l,d;if(a){l=[];for(let h of t)if(l.push(h),h.route.id===a){d=h;break}}else l=t,d=t[t.length-1];let f=gx(s||".",px(l),jr(e.pathname,n)||e.pathname,o==="path");if(s==null&&(f.search=e.search,f.hash=e.hash),(s==null||s===""||s===".")&&d){let h=yx(f.search);if(d.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&h){let p=new URLSearchParams(f.search),g=p.getAll("index");p.delete("index"),g.filter(y=>y).forEach(y=>p.append("index",y));let b=p.toString();f.search=b?`?${b}`:""}}return n!=="/"&&(f.pathname=LO({basename:n,pathname:f.pathname})),ki(f)}function B_(e,t,n){if(!n||!QO(n))return{path:t};if(n.formMethod&&!cR(n.formMethod))return{path:t,error:yr(405,{method:n.formMethod})};let s=()=>({path:t,error:yr(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),l=c2(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Hs(o))return s();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((b,[y,w])=>`${b}${y}=${w}
`,""):String(n.body);return{path:t,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!Hs(o))return s();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch(g){return s()}}}Ht(typeof FormData=="function","FormData is not available in this environment");let d,f;if(n.formData)d=N0(n.formData),f=n.formData;else if(n.body instanceof FormData)d=N0(n.body),f=n.body;else if(n.body instanceof URLSearchParams)d=n.body,f=Y_(d);else if(n.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(n.body),f=Y_(d)}catch(g){return s()}let h={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Hs(h.formMethod))return{path:t,submission:h};let p=Li(t);return e&&p.search&&yx(p.search)&&d.append("index",""),p.search=`?${d}`,{path:ki(p),submission:h}}function F_(e,t,n,s,a,o,l,d,f,h,p,g,b,y,w,_,j,S,M,A){var re;let k=A?Js(A[1])?A[1].error:A[1].data:void 0,C=a.createURL(o.location),O=a.createURL(f),H;if(p&&o.errors){let me=Object.keys(o.errors)[0];H=l.findIndex(Z=>Z.route.id===me)}else if(A&&Js(A[1])){let me=A[0];H=l.findIndex(Z=>Z.route.id===me)-1}let D=A?A[1].statusCode:void 0,V=D&&D>=400,te=fe(L({currentUrl:C,currentParams:((re=o.matches[0])==null?void 0:re.params)||{},nextUrl:O,nextParams:l[0].params},d),{actionResult:k,actionStatus:D}),q=l.map((me,Z)=>{let{route:F}=me,Y=null;if(H!=null&&Z>H?Y=!1:F.lazy?Y=!0:F.loader==null?Y=!1:p?Y=j0(F,o.loaderData,o.errors):ZO(o.loaderData,o.matches[Z],me)&&(Y=!0),Y!==null)return S0(n,s,e,me,h,t,Y);let G=V?!1:g||C.pathname+C.search===O.pathname+O.search||C.search!==O.search||JO(o.matches[Z],me),ee=fe(L({},te),{defaultShouldRevalidate:G}),z=bh(me,ee);return S0(n,s,e,me,h,t,z,ee)}),W=[];return w.forEach((me,Z)=>{if(p||!l.some(I=>I.route.id===me.routeId)||y.has(Z))return;let F=o.fetchers.get(Z),Y=F&&F.state!=="idle"&&F.data===void 0,G=wi(j,me.path,S);if(!G){if(M&&Y)return;W.push({key:Z,routeId:me.routeId,path:me.path,matches:null,match:null,request:null,controller:null});return}if(_.has(Z))return;let ee=nh(G,me.path),z=new AbortController,ae=Rl(a,me.path,z.signal),we=null;if(b.has(Z))b.delete(Z),we=Ll(n,s,ae,G,ee,h,t);else if(Y)g&&(we=Ll(n,s,ae,G,ee,h,t));else{let I=fe(L({},te),{defaultShouldRevalidate:V?!1:g});bh(ee,I)&&(we=Ll(n,s,ae,G,ee,h,t,I))}we&&W.push({key:Z,routeId:me.routeId,path:me.path,matches:we,match:ee,request:ae,controller:z})}),{dsMatches:q,revalidatingFetchers:W}}function j0(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let s=t!=null&&e.id in t,a=n!=null&&n[e.id]!==void 0;return!s&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!a}function ZO(e,t,n){let s=!t||n.route.id!==t.route.id,a=!e.hasOwnProperty(n.route.id);return s||a}function JO(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function bh(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function H_(e,t,n,s,a,o){let l;if(e){let h=s[e];Ht(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),l=h.children}else l=n;let d=[],f=[];if(t.forEach(h=>{let p=l.find(g=>r2(h,g));p?f.push({existingRoute:p,newRoute:h}):d.push(h)}),d.length>0){let h=zu(d,a,[e||"_","patch",String((l==null?void 0:l.length)||"0")],s);l.push(...h)}if(o&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:p,newRoute:g}=f[h],b=p,[y]=zu([g],a,[],{},!0);Object.assign(b,{element:y.element?y.element:b.element,errorElement:y.errorElement?y.errorElement:b.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:b.hydrateFallbackElement})}}function r2(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,s)=>{var a;return(a=t.children)==null?void 0:a.some(o=>r2(n,o))}):!1}var V_=new WeakMap,a2=({key:e,route:t,manifest:n,mapRouteProperties:s})=>{let a=n[t.id];if(Ht(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[e];if(!o)return;let l=V_.get(a);l||(l={},V_.set(a,l));let d=l[e];if(d)return d;let f=ye(null,null,function*(){let h=bO(e),g=a[e]!==void 0&&e!=="hasErrorBoundary";if(h)Kn(!h,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),l[e]=Promise.resolve();else if(g)Kn(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let b=yield o();b!=null&&(Object.assign(a,{[e]:b}),Object.assign(a,s(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(b=>b===void 0)&&(a.lazy=void 0))});return l[e]=f,f},$_=new WeakMap;function eR(e,t,n,s,a){let o=n[e.id];if(Ht(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let p=$_.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let g=ye(null,null,function*(){Ht(typeof e.lazy=="function","No lazy route function found");let b=yield e.lazy(),y={};for(let w in b){let _=b[w];if(_===void 0)continue;let j=wO(w),M=o[w]!==void 0&&w!=="hasErrorBoundary";j?Kn(!j,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):M?Kn(!M,`Route "${o.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):y[w]=_}Object.assign(o,y),Object.assign(o,fe(L({},s(o)),{lazy:void 0}))});return $_.set(o,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let l=Object.keys(e.lazy),d=[],f;for(let p of l){if(a&&a.includes(p))continue;let g=a2({key:p,route:e,manifest:n,mapRouteProperties:s});g&&(d.push(g),p===t&&(f=g))}let h=d.length>0?Promise.all(d).then(()=>{}):void 0;return h==null||h.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}function q_(e){return ye(this,null,function*(){let t=e.matches.filter(a=>a.shouldLoad),n={};return(yield Promise.all(t.map(a=>a.resolve()))).forEach((a,o)=>{n[t[o].route.id]=a}),n})}function tR(e){return ye(this,null,function*(){return e.matches.some(t=>t.route.unstable_middleware)?i2(e,!1,()=>q_(e),(t,n)=>({[n]:{type:"error",result:t}})):q_(e)})}function i2(e,t,n,s){return ye(this,null,function*(){let{matches:a,request:o,params:l,context:d}=e,f={handlerResult:void 0};try{let h=a.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(b=>[g.route.id,b]):[]),p=yield o2({request:o,params:l,context:d},h,t,f,n);return t?p:f.handlerResult}catch(h){if(!f.middlewareError)throw h;let p=yield s(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,p):p}})}function o2(e,t,n,s,a,o=0){return ye(this,null,function*(){let{request:l}=e;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let d=t[o];if(!d)return s.handlerResult=yield a(),s.handlerResult;let[f,h]=d,p=!1,g,b=()=>ye(null,null,function*(){if(p)throw new Error("You may only call `next()` once per middleware");p=!0,yield o2(e,t,n,s,a,o+1)});try{let y=yield h({request:e.request,params:e.params,context:e.context},b);return p?y===void 0?g:y:b()}catch(y){throw s.middlewareError?s.middlewareError.error!==y&&(s.middlewareError={routeId:f,error:y}):s.middlewareError={routeId:f,error:y},y}})}function l2(e,t,n,s,a){let o=a2({key:"unstable_middleware",route:s.route,manifest:t,mapRouteProperties:e}),l=eR(s.route,Hs(n.method)?"action":"loader",t,e,a);return{middleware:o,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function S0(e,t,n,s,a,o,l,d=null){let f=!1,h=l2(e,t,n,s,a);return fe(L({},s),{_lazyPromises:h,shouldLoad:l,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(p){return f=!0,d?typeof p=="boolean"?bh(s,fe(L({},d),{defaultShouldRevalidate:p})):bh(s,d):l},resolve(p){return f||l||p&&!Hs(n.method)&&(s.route.lazy||s.route.loader)?sR({request:n,match:s,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:p,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}})}function Ll(e,t,n,s,a,o,l,d=null){return s.map(f=>f.route.id!==a.route.id?fe(L({},f),{shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:l2(e,t,n,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}):S0(e,t,n,f,o,l,!0,d))}function nR(e,t,n,s,a,o){return ye(this,null,function*(){n.some(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})&&(yield Promise.all(n.map(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})));let l={request:t,params:n[0].params,context:a,matches:n},d=h=>{let p=l;return i2(p,!1,()=>h(fe(L({},p),{fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(g,b)=>({[b]:{type:"error",result:g}}))},f=yield e(fe(L({},l),{fetcherKey:s,unstable_runClientMiddleware:d}));try{yield Promise.all(n.flatMap(h=>{var p,g;return[(p=h._lazyPromises)==null?void 0:p.handler,(g=h._lazyPromises)==null?void 0:g.route]}))}catch(h){}return f})}function sR(l){return ye(this,arguments,function*({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:a,scopedContext:o}){let d,f,h=Hs(e.method),p=h?"action":"loader",g=b=>{let y,w=new Promise((S,M)=>y=M);f=()=>y(),e.signal.addEventListener("abort",f);let _=S=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${t.route.id}]`)):b({request:e,params:t.params,context:o},...S!==void 0?[S]:[]),j=ye(null,null,function*(){try{return{type:"data",result:yield a?a(M=>_(M)):_()}}catch(S){return{type:"error",result:S}}});return Promise.race([j,w])};try{let b=h?t.route.action:t.route.loader;if(n||s)if(b){let y,[w]=yield Promise.all([g(b).catch(_=>{y=_}),n,s]);if(y!==void 0)throw y;d=w}else{yield n;let y=h?t.route.action:t.route.loader;if(y)[d]=yield Promise.all([g(y),s]);else if(p==="action"){let w=new URL(e.url),_=w.pathname+w.search;throw yr(405,{method:e.method,pathname:_,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(b)d=yield g(b);else{let y=new URL(e.url),w=y.pathname+y.search;throw yr(404,{pathname:w})}}catch(b){return{type:"error",result:b}}finally{f&&e.signal.removeEventListener("abort",f)}return d})}function rR(e){return ye(this,null,function*(){var s,a,o,l,d,f;let{result:t,type:n}=e;if(u2(t)){let h;try{let p=t.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?t.body==null?h=null:h=yield t.json():h=yield t.text()}catch(p){return{type:"error",error:p}}return n==="error"?{type:"error",error:new yh(t.status,t.statusText,h),statusCode:t.status,headers:t.headers}:{type:"data",data:h,statusCode:t.status,headers:t.headers}}return n==="error"?Q_(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new yh(((o=t.init)==null?void 0:o.status)||500,void 0,t.data),statusCode:Uu(t)?t.status:void 0,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Uu(t)?t.status:void 0}:Q_(t)?{type:"data",data:t.data,statusCode:(d=t.init)==null?void 0:d.status,headers:(f=t.init)!=null&&f.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}})}function aR(e,t,n,s,a){let o=e.headers.get("Location");if(Ht(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!xx(o)){let l=s.slice(0,s.findIndex(d=>d.route.id===n)+1);o=_0(new URL(t.url),l,a,o),e.headers.set("Location",o)}return e}function I_(e,t,n){if(xx(e)){let s=e,a=s.startsWith("//")?new URL(t.protocol+s):new URL(s),o=jr(a.pathname,n)!=null;if(a.origin===t.origin&&o)return a.pathname+a.search+a.hash}return e}function Rl(e,t,n,s){let a=e.createURL(c2(t)).toString(),o={signal:n};if(s&&Hs(s.formMethod)){let{formMethod:l,formEncType:d}=s;o.method=l.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(s.json)):d==="text/plain"?o.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?o.body=N0(s.formData):o.body=s.formData}return new Request(a,o)}function N0(e){let t=new URLSearchParams;for(let[n,s]of e.entries())t.append(n,typeof s=="string"?s:s.name);return t}function Y_(e){let t=new FormData;for(let[n,s]of e.entries())t.append(n,s);return t}function iR(e,t,n,s=!1,a=!1){let o={},l=null,d,f=!1,h={},p=n&&Js(n[1])?n[1].error:void 0;return e.forEach(g=>{if(!(g.route.id in t))return;let b=g.route.id,y=t[b];if(Ht(!jo(y),"Cannot handle redirect results in processLoaderData"),Js(y)){let w=y.error;if(p!==void 0&&(w=p,p=void 0),l=l||{},a)l[b]=w;else{let _=yo(e,b);l[_.route.id]==null&&(l[_.route.id]=w)}s||(o[b]=s2),f||(f=!0,d=Uu(y.error)?y.error.status:500),y.headers&&(h[b]=y.headers)}else o[b]=y.data,y.statusCode&&y.statusCode!==200&&!f&&(d=y.statusCode),y.headers&&(h[b]=y.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:l,statusCode:d||200,loaderHeaders:h}}function W_(e,t,n,s,a,o){let{loaderData:l,errors:d}=iR(t,n,s);return a.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:p,controller:g}=f,b=o[h];if(Ht(b,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(Js(b)){let y=yo(e.matches,p==null?void 0:p.route.id);d&&d[y.route.id]||(d=fe(L({},d),{[y.route.id]:b.error})),e.fetchers.delete(h)}else if(jo(b))Ht(!1,"Unhandled fetcher revalidation redirect");else{let y=bi(b.data);e.fetchers.set(h,y)}}),{loaderData:l,errors:d}}function X_(e,t,n,s){let a=Object.entries(t).filter(([,o])=>o!==s2).reduce((o,[l,d])=>(o[l]=d,o),{});for(let o of n){let l=o.route.id;if(!t.hasOwnProperty(l)&&e.hasOwnProperty(l)&&o.route.loader&&(a[l]=e[l]),s&&s.hasOwnProperty(l))break}return a}function G_(e){return e?Js(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function yo(e,t){return(t?e.slice(0,e.findIndex(s=>s.route.id===t)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function K_(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function yr(e,{pathname:t,routeId:n,method:s,type:a,message:o}={}){let l="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(l="Bad Request",s&&t&&n?d=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):e===403?(l="Forbidden",d=`Route "${n}" does not match URL "${t}"`):e===404?(l="Not Found",d=`No route matches URL "${t}"`):e===405&&(l="Method Not Allowed",s&&t&&n?d=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new yh(e||500,l,new Error(d),!0)}function vf(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[s,a]=t[n];if(jo(a))return{key:s,result:a}}}function c2(e){let t=typeof e=="string"?Li(e):e;return ki(fe(L({},t),{hash:""}))}function oR(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function lR(e){return u2(e.result)&&IO.has(e.result.status)}function Js(e){return e.type==="error"}function jo(e){return(e&&e.type)==="redirect"}function Q_(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function u2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function cR(e){return qO.has(e.toUpperCase())}function Hs(e){return VO.has(e.toUpperCase())}function yx(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function nh(e,t){let n=typeof t=="string"?Li(t).search:t.search;if(e[e.length-1].route.index&&yx(n||""))return e[e.length-1];let s=e2(e);return s[s.length-1]}function Z_(e){let{formMethod:t,formAction:n,formEncType:s,text:a,formData:o,json:l}=e;if(!(!t||!n||!s)){if(a!=null)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:t,formAction:n,formEncType:s,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:l,text:void 0}}}function Ng(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function uR(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ou(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function dR(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function bi(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function fR(e,t){try{let n=e.sessionStorage.getItem(n2);if(n){let s=JSON.parse(n);for(let[a,o]of Object.entries(s||{}))o&&Array.isArray(o)&&t.set(a,new Set(o||[]))}}catch(n){}}function hR(e,t){if(t.size>0){let n={};for(let[s,a]of t)n[s]=[...a];try{e.sessionStorage.setItem(n2,JSON.stringify(n))}catch(s){Kn(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function mR(){let e,t,n=new Promise((s,a)=>{e=o=>ye(null,null,function*(){s(o);try{yield n}catch(l){}}),t=o=>ye(null,null,function*(){a(o);try{yield n}catch(l){}})});return{promise:n,resolve:e,reject:t}}var Po=N.createContext(null);Po.displayName="DataRouter";var Gu=N.createContext(null);Gu.displayName="DataRouterState";N.createContext(!1);var bx=N.createContext({isTransitioning:!1});bx.displayName="ViewTransition";var d2=N.createContext(new Map);d2.displayName="Fetchers";var pR=N.createContext(null);pR.displayName="Await";var ua=N.createContext(null);ua.displayName="Navigation";var $h=N.createContext(null);$h.displayName="Location";var da=N.createContext({outlet:null,matches:[],isDataRoute:!1});da.displayName="Route";var vx=N.createContext(null);vx.displayName="RouteError";function gR(e,{relative:t}={}){Ht(Ku(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=N.useContext(ua),{hash:a,pathname:o,search:l}=Qu(e,{relative:t}),d=o;return n!=="/"&&(d=o==="/"?n:aa([n,o])),s.createHref({pathname:d,search:l,hash:a})}function Ku(){return N.useContext($h)!=null}function zi(){return Ht(Ku(),"useLocation() may be used only in the context of a <Router> component."),N.useContext($h).location}var f2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h2(e){N.useContext(ua).static||N.useLayoutEffect(e)}function xR(){let{isDataRoute:e}=N.useContext(da);return e?RR():yR()}function yR(){Ht(Ku(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Po),{basename:t,navigator:n}=N.useContext(ua),{matches:s}=N.useContext(da),{pathname:a}=zi(),o=JSON.stringify(px(s)),l=N.useRef(!1);return h2(()=>{l.current=!0}),N.useCallback((f,h={})=>{if(Kn(l.current,f2),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=gx(f,JSON.parse(o),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:aa([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,o,a,e])}var bR=N.createContext(null);function vR(e){let t=N.useContext(da).outlet;return t&&N.createElement(bR.Provider,{value:e},t)}function Qu(e,{relative:t}={}){let{matches:n}=N.useContext(da),{pathname:s}=zi(),a=JSON.stringify(px(n));return N.useMemo(()=>gx(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function wR(e,t,n,s){Ht(Ku(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(ua),{matches:o}=N.useContext(da),l=o[o.length-1],d=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let S=p&&p.path||"";m2(f,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=zi(),b;b=g;let y=b.pathname||"/",w=y;if(h!=="/"){let S=h.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=wi(e,{pathname:w});return Kn(p||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Kn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),ER(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},d,S.params),pathname:aa([h,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:aa([h,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,s)}function _R(){let e=OR(),t=Uu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:o},"ErrorBoundary")," or"," ",N.createElement("code",{style:o},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:a},n):null,l)}var jR=N.createElement(_R,null),SR=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(da.Provider,{value:this.props.routeContext},N.createElement(vx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NR({routeContext:e,match:t,children:n}){let s=N.useContext(Po);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(da.Provider,{value:e},n)}function ER(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Ht(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,d=-1;if(n)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:p,errors:g}=n,b=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){l=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,h,p)=>{let g,b=!1,y=null,w=null;n&&(g=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||jR,l&&(d<0&&p===0?(m2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):d===p&&(b=!0,w=h.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,p+1)),j=()=>{let S;return g?S=y:b?S=w:h.route.Component?S=N.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=f,N.createElement(NR,{match:h,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?N.createElement(SR,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:j(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):j()},null)}function wx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TR(e){let t=N.useContext(Po);return Ht(t,wx(e)),t}function kR(e){let t=N.useContext(Gu);return Ht(t,wx(e)),t}function CR(e){let t=N.useContext(da);return Ht(t,wx(e)),t}function _x(e){let t=CR(e),n=t.matches[t.matches.length-1];return Ht(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function AR(){return _x("useRouteId")}function OR(){var s;let e=N.useContext(vx),t=kR("useRouteError"),n=_x("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function RR(){let{router:e}=TR("useNavigate"),t=_x("useNavigate"),n=N.useRef(!1);return h2(()=>{n.current=!0}),N.useCallback((l,...d)=>ye(null,[l,...d],function*(a,o={}){Kn(n.current,f2),n.current&&(typeof a=="number"?e.navigate(a):yield e.navigate(a,L({fromRouteId:t},o)))}),[e,t])}var J_={};function m2(e,t,n){!t&&!J_[e]&&(J_[e]=!0,Kn(!1,n))}var e1={};function t1(e,t){!e&&!e1[t]&&(e1[t]=!0,console.warn(t))}function DR(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Kn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:N.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Kn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:N.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Kn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:N.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var MR=["HydrateFallback","hydrateFallbackElement"],PR=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function LR({router:e,flushSync:t}){let[n,s]=N.useState(e.state),[a,o]=N.useState(),[l,d]=N.useState({isTransitioning:!1}),[f,h]=N.useState(),[p,g]=N.useState(),[b,y]=N.useState(),w=N.useRef(new Map),_=N.useCallback((A,{deletedFetchers:k,flushSync:C,viewTransitionOpts:O})=>{A.fetchers.forEach((D,V)=>{D.data!==void 0&&w.current.set(V,D.data)}),k.forEach(D=>w.current.delete(D)),t1(C===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let H=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(t1(O==null||H,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!O||!H){t&&C?t(()=>s(A)):N.startTransition(()=>s(A));return}if(t&&C){t(()=>{p&&(f&&f.resolve(),p.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let D=e.window.document.startViewTransition(()=>{t(()=>s(A))});D.finished.finally(()=>{t(()=>{h(void 0),g(void 0),o(void 0),d({isTransitioning:!1})})}),t(()=>g(D));return}p?(f&&f.resolve(),p.skipTransition(),y({state:A,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(o(A),d({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[e.window,t,p,f]);N.useLayoutEffect(()=>e.subscribe(_),[e,_]),N.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new PR)},[l]),N.useEffect(()=>{if(f&&a&&e.window){let A=a,k=f.promise,C=e.window.document.startViewTransition(()=>ye(null,null,function*(){N.startTransition(()=>s(A)),yield k}));C.finished.finally(()=>{h(void 0),g(void 0),o(void 0),d({isTransitioning:!1})}),g(C)}},[a,f,e.window]),N.useEffect(()=>{f&&a&&n.location.key===a.location.key&&f.resolve()},[f,p,n.location,a]),N.useEffect(()=>{!l.isTransitioning&&b&&(o(b.state),d({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),y(void 0))},[l.isTransitioning,b]);let j=N.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:A=>e.navigate(A),push:(A,k,C)=>e.navigate(A,{state:k,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(A,k,C)=>e.navigate(A,{replace:!0,state:k,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[e]),S=e.basename||"/",M=N.useMemo(()=>({router:e,navigator:j,static:!1,basename:S}),[e,j,S]);return N.createElement(N.Fragment,null,N.createElement(Po.Provider,{value:M},N.createElement(Gu.Provider,{value:n},N.createElement(d2.Provider,{value:w.current},N.createElement(bx.Provider,{value:l},N.createElement(FR,{basename:S,location:n.location,navigationType:n.historyAction,navigator:j},N.createElement(zR,{routes:e.routes,future:e.future,state:n})))))),null)}var zR=N.memo(UR);function UR({routes:e,future:t,state:n}){return wR(e,void 0,n,t)}function BR(e){return vR(e.context)}function FR({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:o=!1}){Ht(!Ku(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof n=="string"&&(n=Li(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:b="default"}=n,y=N.useMemo(()=>{let w=jr(f,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:g,key:b},navigationType:s}},[l,f,h,p,g,b,s]);return Kn(y!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:N.createElement(ua.Provider,{value:d},N.createElement($h.Provider,{children:t,value:y}))}var sh="get",rh="application/x-www-form-urlencoded";function qh(e){return e!=null&&typeof e.tagName=="string"}function HR(e){return qh(e)&&e.tagName.toLowerCase()==="button"}function VR(e){return qh(e)&&e.tagName.toLowerCase()==="form"}function $R(e){return qh(e)&&e.tagName.toLowerCase()==="input"}function qR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function IR(e,t){return e.button===0&&(!t||t==="_self")&&!qR(e)}var wf=null;function YR(){if(wf===null)try{new FormData(document.createElement("form"),0),wf=!1}catch(e){wf=!0}return wf}var WR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eg(e){return e!=null&&!WR.has(e)?(Kn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rh}"`),null):e}function XR(e,t){let n,s,a,o,l;if(VR(e)){let d=e.getAttribute("action");s=d?jr(d,t):null,n=e.getAttribute("method")||sh,a=Eg(e.getAttribute("enctype"))||rh,o=new FormData(e)}else if(HR(e)||$R(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(s=f?jr(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||sh,a=Eg(e.getAttribute("formenctype"))||Eg(d.getAttribute("enctype"))||rh,o=new FormData(d,e),!YR()){let{name:h,type:p,value:g}=e;if(p==="image"){let b=h?`${h}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else h&&o.append(h,g)}}else{if(qh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,s=null,a=rh,l=e}return o&&a==="text/plain"&&(l=o,o=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jx(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function GR(e,t,n){let s=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&jr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}function KR(e,t){return ye(this,null,function*(){if(e.id in t)return t[e.id];try{let n=yield import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function QR(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function ZR(e,t,n){return ye(this,null,function*(){let s=yield Promise.all(e.map(a=>ye(null,null,function*(){let o=t.routes[a.route.id];if(o){let l=yield KR(o,n);return l.links?l.links():[]}return[]})));return nD(s.flat(1).filter(QR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?fe(L({},a),{rel:"prefetch",as:"style"}):fe(L({},a),{rel:"prefetch"})))})}function n1(e,t,n,s,a,o){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,h)=>l(f,h)||d(f,h)):o==="data"?t.filter((f,h)=>{var g;let p=s.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function JR(e,t,{includeHydrateFallback:n}={}){return eD(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function eD(e){return[...new Set(e)]}function tD(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function nD(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let o=JSON.stringify(tD(a));return n.has(o)||(n.add(o),s.push({key:o,link:a})),s},[])}function p2(){let e=N.useContext(Po);return jx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function sD(){let e=N.useContext(Gu);return jx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Sx=N.createContext(void 0);Sx.displayName="FrameworkContext";function g2(){let e=N.useContext(Sx);return jx(e,"You must render this element inside a <HydratedRouter> element"),e}function rD(e,t){let n=N.useContext(Sx),[s,a]=N.useState(!1),[o,l]=N.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,b=N.useRef(null);N.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let _=S=>{S.forEach(M=>{l(M.isIntersecting)})},j=new IntersectionObserver(_,{threshold:.5});return b.current&&j.observe(b.current),()=>{j.disconnect()}}},[e]),N.useEffect(()=>{if(s){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[s]);let y=()=>{a(!0)},w=()=>{a(!1),l(!1)};return n?e!=="intent"?[o,b,{}]:[o,b,{onFocus:lu(d,y),onBlur:lu(f,w),onMouseEnter:lu(h,y),onMouseLeave:lu(p,w),onTouchStart:lu(g,y)}]:[!1,b,{}]}function lu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function aD(n){var s=n,{page:e}=s,t=Me(s,["page"]);let{router:a}=p2(),o=N.useMemo(()=>wi(a.routes,e,a.basename),[a.routes,e,a.basename]);return o?N.createElement(oD,L({page:e,matches:o},t)):null}function iD(e){let{manifest:t,routeModules:n}=g2(),[s,a]=N.useState([]);return N.useEffect(()=>{let o=!1;return ZR(e,t,n).then(l=>{o||a(l)}),()=>{o=!0}},[e,t,n]),s}function oD(s){var a=s,{page:e,matches:t}=a,n=Me(a,["page","matches"]);let o=zi(),{manifest:l,routeModules:d}=g2(),{basename:f}=p2(),{loaderData:h,matches:p}=sD(),g=N.useMemo(()=>n1(e,t,p,l,o,"data"),[e,t,p,l,o]),b=N.useMemo(()=>n1(e,t,p,l,o,"assets"),[e,t,p,l,o]),y=N.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let j=new Set,S=!1;if(t.forEach(A=>{var C;let k=l.routes[A.route.id];!k||!k.hasLoader||(!g.some(O=>O.route.id===A.route.id)&&A.route.id in h&&((C=d[A.route.id])!=null&&C.shouldRevalidate)||k.hasClientLoader?S=!0:j.add(A.route.id))}),j.size===0)return[];let M=GR(e,f,"data");return S&&j.size>0&&M.searchParams.set("_routes",t.filter(A=>j.has(A.route.id)).map(A=>A.route.id).join(",")),[M.pathname+M.search]},[f,h,o,l,g,t,e,d]),w=N.useMemo(()=>JR(b,l),[b,l]),_=iD(b);return N.createElement(N.Fragment,null,y.map(j=>N.createElement("link",L({key:j,rel:"prefetch",as:"fetch",href:j},n))),w.map(j=>N.createElement("link",L({key:j,rel:"modulepreload",href:j},n))),_.map(({key:j,link:S})=>N.createElement("link",L({key:j},S))))}function lD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var x2=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{x2&&(window.__reactRouterVersion="7.7.1")}catch(e){}function cD(e,t){return KO({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:pO({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||uD(),routes:e,mapRouteProperties:DR,hydrationRouteProperties:MR,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function uD(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=fe(L({},e),{errors:dD(e.errors)})),e}function dD(e){if(!e)return null;let t=Object.entries(e),n={};for(let[s,a]of t)if(a&&a.__type==="RouteErrorResponse")n[s]=new yh(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let l=new o(a.message);l.stack="",n[s]=l}catch(l){}}if(n[s]==null){let o=new Error(a.message);o.stack="",n[s]=o}}else n[s]=a;return n}var y2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b2=N.forwardRef(function(w,y){var _=w,{onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:o,replace:l,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g}=_,b=Me(_,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:j}=N.useContext(ua),S=typeof h=="string"&&y2.test(h),M,A=!1;if(typeof h=="string"&&S&&(M=h,x2))try{let q=new URL(window.location.href),W=h.startsWith("//")?new URL(q.protocol+h):new URL(h),re=jr(W.pathname,j);W.origin===q.origin&&re!=null?h=re+W.search+W.hash:A=!0}catch(q){Kn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=gR(h,{relative:a}),[C,O,H]=rD(s,b),D=mD(h,{replace:l,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g});function V(q){t&&t(q),q.defaultPrevented||D(q)}let te=N.createElement("a",fe(L(L({},b),H),{href:M||k,onClick:A||o?t:V,ref:lD(y,O),target:f,"data-discover":!S&&n==="render"?"true":void 0}));return C&&!S?N.createElement(N.Fragment,null,te,N.createElement(aD,{page:k})):te});b2.displayName="Link";var v2=N.forwardRef(function(g,p){var b=g,{"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:d,children:f}=b,h=Me(b,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let y=Qu(l,{relative:h.relative}),w=zi(),_=N.useContext(Gu),{navigator:j,basename:S}=N.useContext(ua),M=_!=null&&bD(y)&&d===!0,A=j.encodeLocation?j.encodeLocation(y).pathname:y.pathname,k=w.pathname,C=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(k=k.toLowerCase(),C=C?C.toLowerCase():null,A=A.toLowerCase()),C&&S&&(C=jr(C,S)||C);const O=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let H=k===A||!a&&k.startsWith(A)&&k.charAt(O)==="/",D=C!=null&&(C===A||!a&&C.startsWith(A)&&C.charAt(A.length)==="/"),V={isActive:H,isPending:D,isTransitioning:M},te=H?t:void 0,q;typeof s=="function"?q=s(V):q=[s,H?"active":null,D?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let W=typeof o=="function"?o(V):o;return N.createElement(b2,fe(L({},h),{"aria-current":te,className:q,ref:p,style:W,to:l,viewTransition:d}),typeof f=="function"?f(V):f)});v2.displayName="NavLink";var fD=N.forwardRef((w,y)=>{var _=w,{discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:o,method:l=sh,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g}=_,b=Me(_,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let j=xD(),S=yD(d,{relative:h}),M=l.toLowerCase()==="get"?"get":"post",A=typeof d=="string"&&y2.test(d),k=C=>{if(f&&f(C),C.defaultPrevented)return;C.preventDefault();let O=C.nativeEvent.submitter,H=(O==null?void 0:O.getAttribute("formmethod"))||l;j(O||C.currentTarget,{fetcherKey:t,method:H,navigate:n,replace:a,state:o,relative:h,preventScrollReset:p,viewTransition:g})};return N.createElement("form",fe(L({ref:y,method:M,action:S,onSubmit:s?f:k},b),{"data-discover":!A&&e==="render"?"true":void 0}))});fD.displayName="Form";function hD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w2(e){let t=N.useContext(Po);return Ht(t,hD(e)),t}function mD(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}={}){let d=xR(),f=zi(),h=Qu(e,{relative:o});return N.useCallback(p=>{if(IR(p,t)){p.preventDefault();let g=n!==void 0?n:ki(f)===ki(h);d(e,{replace:g,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[f,d,h,n,s,t,e,a,o,l])}var pD=0,gD=()=>`__${String(++pD)}__`;function xD(){let{router:e}=w2("useSubmit"),{basename:t}=N.useContext(ua),n=AR();return N.useCallback((o,...l)=>ye(null,[o,...l],function*(s,a={}){let{action:d,method:f,encType:h,formData:p,body:g}=XR(s,t);if(a.navigate===!1){let b=a.fetcherKey||gD();yield e.fetch(b,n,a.action||d,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||f,formEncType:a.encType||h,flushSync:a.flushSync})}else yield e.navigate(a.action||d,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||f,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,t,n])}function yD(e,{relative:t}={}){let{basename:n}=N.useContext(ua),s=N.useContext(da);Ht(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o=L({},Qu(e||".",{relative:t})),l=zi();if(e==null){o.search=l.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:aa([n,o.pathname])),ki(o)}function bD(e,{relative:t}={}){let n=N.useContext(bx);Ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=w2("useViewTransitionState"),a=Qu(e,{relative:t});if(!n.isTransitioning)return!1;let o=jr(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=jr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return xh(a.pathname,l)!=null||xh(a.pathname,o)!=null}var Ih=yS();const _2=sx(Ih);function vD(e){return N.createElement(LR,L({flushSync:Ih.flushSync},e))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_D=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),s1=e=>{const t=_D(e);return t.charAt(0).toUpperCase()+t.slice(1)},j2=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),jD=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=N.forwardRef((h,f)=>{var p=h,{color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:l}=p,d=Me(p,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return N.createElement("svg",L(L(fe(L({ref:f},SD),{width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:j2("lucide",a)}),!o&&!jD(d)&&{"aria-hidden":"true"}),d),[...l.map(([g,b])=>N.createElement(g,b)),...Array.isArray(o)?o:[o]])});/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=(e,t)=>{const n=N.forwardRef((l,o)=>{var d=l,{className:s}=d,a=Me(d,["className"]);return N.createElement(ND,L({ref:o,iconNode:t,className:j2(`lucide-${wD(s1(e))}`,`lucide-${e}`,s)},a))});return n.displayName=s1(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],TD=Tt("activity",ED);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Nx=Tt("arrow-left",kD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],AD=Tt("bell",CD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wr=Tt("calendar",OD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],DD=Tt("chart-column",RD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],PD=Tt("check",MD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],S2=Tt("chevron-down",LD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],UD=Tt("chevron-up",zD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],FD=Tt("chevrons-up-down",BD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ko=Tt("circle-alert",HD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$D=Tt("circle-check-big",VD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Yh=Tt("circle-check",qD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],YD=Tt("circle",ID);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Kl=Tt("clock",WD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],GD=Tt("crown",XD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ex=Tt("dollar-sign",KD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],ZD=Tt("ellipsis-vertical",QD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],N2=Tt("file-text",JD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],tM=Tt("flag",eM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],sM=Tt("folder-open",nM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Tx=Tt("funnel",rM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],iM=Tt("grid-3x3",aM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],lM=Tt("layout-dashboard",oM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],uM=Tt("list",cM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],E0=Tt("loader-circle",dM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],hM=Tt("log-out",fM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],pM=Tt("menu",mM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],xM=Tt("pause",gM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],bM=Tt("pen",yM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],wM=Tt("piggy-bank",vM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],jM=Tt("play",_M);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ci=Tt("plus",SM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],kx=Tt("refresh-cw",NM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Wh=Tt("search",EM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],E2=Tt("settings",TM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CM=Tt("square-check-big",kM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],zl=Tt("square-pen",AM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],RM=Tt("square",OM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Cx=Tt("target",DM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ql=Tt("trash-2",MM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Xh=Tt("triangle-alert",PM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bu=Tt("user",LM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ah=Tt("users",zM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],BM=Tt("x",UM),FM=[{name:"Dashboard",href:"/",icon:lM},{name:"Projects",href:"/projects",icon:sM},{name:"Tasks",href:"/tasks",icon:CM},{name:"Time Tracking",href:"/time-tracking",icon:Kl},{name:"Cost Analysis",href:"/cost-analysis",icon:Ex},{name:"Reports",href:"/reports",icon:DD},{name:"Calendar",href:"/calendar",icon:wr},{name:"Team",href:"/team",icon:ah},{name:"Documents",href:"/documents",icon:N2},{name:"Settings",href:"/settings",icon:E2}],r1=()=>{const e=zi();return u.jsxs("div",{className:"flex flex-col w-64 bg-white shadow-lg border-r border-gray-200",children:[u.jsx("div",{className:"flex items-center justify-center h-16 px-4 border-b border-gray-200",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",children:u.jsx("img",{src:"https://ctuav.vn/wp-content/uploads/2024/08/Logo-moi-ctuav.png",alt:"CT UAV Logo",className:"w-8 h-8 object-contain"})}),u.jsx("span",{className:"text-xl font-bold text-gray-800",children:"CT UAV"})]})}),u.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:FM.map(t=>{const n=e.pathname===t.href;return u.jsxs(v2,{to:t.href,className:`
                group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200
                ${n?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-md":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}
              `,children:[u.jsx(t.icon,{className:`
                  mr-3 h-5 w-5 transition-colors duration-200
                  ${n?"text-white":"text-gray-500 group-hover:text-gray-700"}
                `}),t.name]},t.name)})}),u.jsx("div",{className:"p-4 border-t border-gray-200",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-white font-medium text-sm",children:"U"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Admin"}),u.jsx("p",{className:"text-xs text-gray-500 truncate",children:"admin@ctgroupvietnam.com"})]})]})})]})};function rr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function a1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Co(...e){return t=>{let n=!1;const s=e.map(a=>{const o=a1(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<s.length;a++){const o=s[a];typeof o=="function"?o():a1(e[a],null)}}}}function Hr(...e){return N.useCallback(Co(...e),e)}function HM(e,t){const n=N.createContext(t),s=o=>{const h=o,{children:l}=h,d=Me(h,["children"]),f=N.useMemo(()=>d,Object.values(d));return u.jsx(n.Provider,{value:f,children:l})};s.displayName=e+"Provider";function a(o){const l=N.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,a]}function Ax(e,t=[]){let n=[];function s(o,l){const d=N.createContext(l),f=n.length;n=[...n,l];const h=g=>{var M;const S=g,{scope:b,children:y}=S,w=Me(S,["scope","children"]),_=((M=b==null?void 0:b[e])==null?void 0:M[f])||d,j=N.useMemo(()=>w,Object.values(w));return u.jsx(_.Provider,{value:j,children:y})};h.displayName=o+"Provider";function p(g,b){var _;const y=((_=b==null?void 0:b[e])==null?void 0:_[f])||d,w=N.useContext(y);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[h,p]}const a=()=>{const o=n.map(l=>N.createContext(l));return function(d){const f=(d==null?void 0:d[e])||o;return N.useMemo(()=>({[`__scope${e}`]:fe(L({},d),{[e]:f})}),[d,f])}};return a.scopeName=e,[s,VM(a,...t)]}function VM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const l=s.reduce((d,{useScope:f,scopeName:h})=>{const g=f(o)[`__scope${h}`];return L(L({},d),g)},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Gh(e){const t=qM(e),n=N.forwardRef((s,a)=>{const h=s,{children:o}=h,l=Me(h,["children"]),d=N.Children.toArray(o),f=d.find(YM);if(f){const p=f.props.children,g=d.map(b=>b===f?N.Children.count(p)>1?N.Children.only(null):N.isValidElement(p)?p.props.children:null:b);return u.jsx(t,fe(L({},l),{ref:a,children:N.isValidElement(p)?N.cloneElement(p,void 0,g):null}))}return u.jsx(t,fe(L({},l),{ref:a,children:o}))});return n.displayName=`${e}.Slot`,n}var $M=Gh("Slot");function qM(e){const t=N.forwardRef((n,s)=>{const l=n,{children:a}=l,o=Me(l,["children"]);if(N.isValidElement(a)){const d=XM(a),f=WM(o,a.props);return a.type!==N.Fragment&&(f.ref=s?Co(s,d):d),N.cloneElement(a,f)}return N.Children.count(a)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var IM=Symbol("radix.slottable");function YM(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===IM}function WM(e,t){const n=L({},t);for(const s in t){const a=e[s],o=t[s];/^on[A-Z]/.test(s)?a&&o?n[s]=(...d)=>{const f=o(...d);return a(...d),f}:a&&(n[s]=a):s==="style"?n[s]=L(L({},a),o):s==="className"&&(n[s]=[a,o].filter(Boolean).join(" "))}return L(L({},e),n)}function XM(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var GM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kn=GM.reduce((e,t)=>{const n=Gh(`Primitive.${t}`),s=N.forwardRef((a,o)=>{const h=a,{asChild:l}=h,d=Me(h,["asChild"]),f=l?n:t;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(f,fe(L({},d),{ref:o}))});return s.displayName=`Primitive.${t}`,fe(L({},e),{[t]:s})},{});function KM(e,t){e&&Ih.flushSync(()=>e.dispatchEvent(t))}function Il(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function QM(e,t=globalThis==null?void 0:globalThis.document){const n=Il(e);N.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var ZM="DismissableLayer",T0="dismissableLayer.update",JM="dismissableLayer.pointerDownOutside",eP="dismissableLayer.focusOutside",i1,T2=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ox=N.forwardRef((e,t)=>{var D;const H=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:l,onDismiss:d}=H,f=Me(H,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),h=N.useContext(T2),[p,g]=N.useState(null),b=(D=p==null?void 0:p.ownerDocument)!=null?D:globalThis==null?void 0:globalThis.document,[,y]=N.useState({}),w=Hr(t,V=>g(V)),_=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),S=_.indexOf(j),M=p?_.indexOf(p):-1,A=h.layersWithOutsidePointerEventsDisabled.size>0,k=M>=S,C=sP(V=>{const te=V.target,q=[...h.branches].some(W=>W.contains(te));!k||q||(a==null||a(V),l==null||l(V),V.defaultPrevented||d==null||d())},b),O=rP(V=>{const te=V.target;[...h.branches].some(W=>W.contains(te))||(o==null||o(V),l==null||l(V),V.defaultPrevented||d==null||d())},b);return QM(V=>{M===h.layers.size-1&&(s==null||s(V),!V.defaultPrevented&&d&&(V.preventDefault(),d()))},b),N.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(i1=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),o1(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=i1)}},[p,b,n,h]),N.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),o1())},[p,h]),N.useEffect(()=>{const V=()=>y({});return document.addEventListener(T0,V),()=>document.removeEventListener(T0,V)},[]),u.jsx(kn.div,fe(L({},f),{ref:w,style:L({pointerEvents:A?k?"auto":"none":void 0},e.style),onFocusCapture:rr(e.onFocusCapture,O.onFocusCapture),onBlurCapture:rr(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:rr(e.onPointerDownCapture,C.onPointerDownCapture)}))});Ox.displayName=ZM;var tP="DismissableLayerBranch",nP=N.forwardRef((e,t)=>{const n=N.useContext(T2),s=N.useRef(null),a=Hr(t,s);return N.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(kn.div,fe(L({},e),{ref:a}))});nP.displayName=tP;function sP(e,t=globalThis==null?void 0:globalThis.document){const n=Il(e),s=N.useRef(!1),a=N.useRef(()=>{});return N.useEffect(()=>{const o=d=>{if(d.target&&!s.current){let f=function(){k2(JM,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);s.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function rP(e,t=globalThis==null?void 0:globalThis.document){const n=Il(e),s=N.useRef(!1);return N.useEffect(()=>{const a=o=>{o.target&&!s.current&&k2(eP,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function o1(){const e=new CustomEvent(T0);document.dispatchEvent(e)}function k2(e,t,n,{discrete:s}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?KM(a,o):a.dispatchEvent(o)}var Tg=0;function C2(){N.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:l1()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:l1()),Tg++,()=>{Tg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Tg--}},[])}function l1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var kg="focusScope.autoFocusOnMount",Cg="focusScope.autoFocusOnUnmount",c1={bubbles:!1,cancelable:!0},aP="FocusScope",Rx=N.forwardRef((e,t)=>{const _=e,{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o}=_,l=Me(_,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[d,f]=N.useState(null),h=Il(a),p=Il(o),g=N.useRef(null),b=Hr(t,j=>f(j)),y=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(s){let j=function(k){if(y.paused||!d)return;const C=k.target;d.contains(C)?g.current=C:vi(g.current,{select:!0})},S=function(k){if(y.paused||!d)return;const C=k.relatedTarget;C!==null&&(d.contains(C)||vi(g.current,{select:!0}))},M=function(k){if(document.activeElement===document.body)for(const O of k)O.removedNodes.length>0&&vi(d)};document.addEventListener("focusin",j),document.addEventListener("focusout",S);const A=new MutationObserver(M);return d&&A.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",S),A.disconnect()}}},[s,d,y.paused]),N.useEffect(()=>{if(d){d1.add(y);const j=document.activeElement;if(!d.contains(j)){const M=new CustomEvent(kg,c1);d.addEventListener(kg,h),d.dispatchEvent(M),M.defaultPrevented||(iP(dP(A2(d)),{select:!0}),document.activeElement===j&&vi(d))}return()=>{d.removeEventListener(kg,h),setTimeout(()=>{const M=new CustomEvent(Cg,c1);d.addEventListener(Cg,p),d.dispatchEvent(M),M.defaultPrevented||vi(j!=null?j:document.body,{select:!0}),d.removeEventListener(Cg,p),d1.remove(y)},0)}}},[d,h,p,y]);const w=N.useCallback(j=>{if(!n&&!s||y.paused)return;const S=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,M=document.activeElement;if(S&&M){const A=j.currentTarget,[k,C]=oP(A);k&&C?!j.shiftKey&&M===C?(j.preventDefault(),n&&vi(k,{select:!0})):j.shiftKey&&M===k&&(j.preventDefault(),n&&vi(C,{select:!0})):M===A&&j.preventDefault()}},[n,s,y.paused]);return u.jsx(kn.div,fe(L({tabIndex:-1},l),{ref:b,onKeyDown:w}))});Rx.displayName=aP;function iP(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(vi(s,{select:t}),document.activeElement!==n)return}function oP(e){const t=A2(e),n=u1(t,e),s=u1(t.reverse(),e);return[n,s]}function A2(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function u1(e,t){for(const n of e)if(!lP(n,{upTo:t}))return n}function lP(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function cP(e){return e instanceof HTMLInputElement&&"select"in e}function vi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&cP(e)&&t&&e.select()}}var d1=uP();function uP(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=f1(e,t),e.unshift(t)},remove(t){var n;e=f1(e,t),(n=e[0])==null||n.resume()}}}function f1(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function dP(e){return e.filter(t=>t.tagName!=="A")}var Ai=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},fP=xS[" useId ".trim().toString()]||(()=>{}),hP=0;function ia(e){const[t,n]=N.useState(fP());return Ai(()=>{n(s=>s!=null?s:String(hP++))},[e]),e||(t?`radix-${t}`:"")}const mP=["top","right","bottom","left"],Oi=Math.min,tr=Math.max,vh=Math.round,_f=Math.floor,oa=e=>({x:e,y:e}),pP={left:"right",right:"left",bottom:"top",top:"bottom"},gP={start:"end",end:"start"};function k0(e,t,n){return tr(e,Oi(t,n))}function Ha(e,t){return typeof e=="function"?e(t):e}function Va(e){return e.split("-")[0]}function Ql(e){return e.split("-")[1]}function Dx(e){return e==="x"?"y":"x"}function Mx(e){return e==="y"?"height":"width"}const xP=new Set(["top","bottom"]);function na(e){return xP.has(Va(e))?"y":"x"}function Px(e){return Dx(na(e))}function yP(e,t,n){n===void 0&&(n=!1);const s=Ql(e),a=Px(e),o=Mx(a);let l=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=wh(l)),[l,wh(l)]}function bP(e){const t=wh(e);return[C0(e),t,C0(t)]}function C0(e){return e.replace(/start|end/g,t=>gP[t])}const h1=["left","right"],m1=["right","left"],vP=["top","bottom"],wP=["bottom","top"];function _P(e,t,n){switch(e){case"top":case"bottom":return n?t?m1:h1:t?h1:m1;case"left":case"right":return t?vP:wP;default:return[]}}function jP(e,t,n,s){const a=Ql(e);let o=_P(Va(e),n==="start",s);return a&&(o=o.map(l=>l+"-"+a),t&&(o=o.concat(o.map(C0)))),o}function wh(e){return e.replace(/left|right|bottom|top/g,t=>pP[t])}function SP(e){return L({top:0,right:0,bottom:0,left:0},e)}function O2(e){return typeof e!="number"?SP(e):{top:e,right:e,bottom:e,left:e}}function _h(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function p1(e,t,n){let{reference:s,floating:a}=e;const o=na(t),l=Px(t),d=Mx(l),f=Va(t),h=o==="y",p=s.x+s.width/2-a.width/2,g=s.y+s.height/2-a.height/2,b=s[d]/2-a[d]/2;let y;switch(f){case"top":y={x:p,y:s.y-a.height};break;case"bottom":y={x:p,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:g};break;case"left":y={x:s.x-a.width,y:g};break;default:y={x:s.x,y:s.y}}switch(Ql(t)){case"start":y[l]-=b*(n&&h?-1:1);break;case"end":y[l]+=b*(n&&h?-1:1);break}return y}const NP=(e,t,n)=>ye(null,null,function*(){const{placement:s="bottom",strategy:a="absolute",middleware:o=[],platform:l}=n,d=o.filter(Boolean),f=yield l.isRTL==null?void 0:l.isRTL(t);let h=yield l.getElementRects({reference:e,floating:t,strategy:a}),{x:p,y:g}=p1(h,s,f),b=s,y={},w=0;for(let _=0;_<d.length;_++){const{name:j,fn:S}=d[_],{x:M,y:A,data:k,reset:C}=yield S({x:p,y:g,initialPlacement:s,placement:b,strategy:a,middlewareData:y,rects:h,platform:l,elements:{reference:e,floating:t}});p=M!=null?M:p,g=A!=null?A:g,y=fe(L({},y),{[j]:L(L({},y[j]),k)}),C&&w<=50&&(w++,typeof C=="object"&&(C.placement&&(b=C.placement),C.rects&&(h=C.rects===!0?yield l.getElementRects({reference:e,floating:t,strategy:a}):C.rects),{x:p,y:g}=p1(h,b,f)),_=-1)}return{x:p,y:g,placement:b,strategy:a,middlewareData:y}});function Fu(e,t){return ye(this,null,function*(){var n;t===void 0&&(t={});const{x:s,y:a,platform:o,rects:l,elements:d,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:b=!1,padding:y=0}=Ha(t,e),w=O2(y),j=d[b?g==="floating"?"reference":"floating":g],S=_h(yield o.getClippingRect({element:(n=yield o.isElement==null?void 0:o.isElement(j))==null||n?j:j.contextElement||(yield o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:h,rootBoundary:p,strategy:f})),M=g==="floating"?{x:s,y:a,width:l.floating.width,height:l.floating.height}:l.reference,A=yield o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating),k=(yield o.isElement==null?void 0:o.isElement(A))?(yield o.getScale==null?void 0:o.getScale(A))||{x:1,y:1}:{x:1,y:1},C=_h(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:M,offsetParent:A,strategy:f}):M);return{top:(S.top-C.top+w.top)/k.y,bottom:(C.bottom-S.bottom+w.bottom)/k.y,left:(S.left-C.left+w.left)/k.x,right:(C.right-S.right+w.right)/k.x}})}const EP=e=>({name:"arrow",options:e,fn(n){return ye(this,null,function*(){const{x:s,y:a,placement:o,rects:l,platform:d,elements:f,middlewareData:h}=n,{element:p,padding:g=0}=Ha(e,n)||{};if(p==null)return{};const b=O2(g),y={x:s,y:a},w=Px(o),_=Mx(w),j=yield d.getDimensions(p),S=w==="y",M=S?"top":"left",A=S?"bottom":"right",k=S?"clientHeight":"clientWidth",C=l.reference[_]+l.reference[w]-y[w]-l.floating[_],O=y[w]-l.reference[w],H=yield d.getOffsetParent==null?void 0:d.getOffsetParent(p);let D=H?H[k]:0;(!D||!(yield d.isElement==null?void 0:d.isElement(H)))&&(D=f.floating[k]||l.floating[_]);const V=C/2-O/2,te=D/2-j[_]/2-1,q=Oi(b[M],te),W=Oi(b[A],te),re=q,me=D-j[_]-W,Z=D/2-j[_]/2+V,F=k0(re,Z,me),Y=!h.arrow&&Ql(o)!=null&&Z!==F&&l.reference[_]/2-(Z<re?q:W)-j[_]/2<0,G=Y?Z<re?Z-re:Z-me:0;return{[w]:y[w]+G,data:L({[w]:F,centerOffset:Z-F-G},Y&&{alignmentOffset:G}),reset:Y}})}}),TP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(n){return ye(this,null,function*(){var s,a;const{placement:o,middlewareData:l,rects:d,initialPlacement:f,platform:h,elements:p}=n,Z=Ha(e,n),{mainAxis:g=!0,crossAxis:b=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:j=!0}=Z,S=Me(Z,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((s=l.arrow)!=null&&s.alignmentOffset)return{};const M=Va(o),A=na(f),k=Va(f)===f,C=yield h.isRTL==null?void 0:h.isRTL(p.floating),O=y||(k||!j?[wh(f)]:bP(f)),H=_!=="none";!y&&H&&O.push(...jP(f,j,_,C));const D=[f,...O],V=yield Fu(n,S),te=[];let q=((a=l.flip)==null?void 0:a.overflows)||[];if(g&&te.push(V[M]),b){const F=yP(o,d,C);te.push(V[F[0]],V[F[1]])}if(q=[...q,{placement:o,overflows:te}],!te.every(F=>F<=0)){var W,re;const F=(((W=l.flip)==null?void 0:W.index)||0)+1,Y=D[F];if(Y&&(!(b==="alignment"?A!==na(Y):!1)||q.every(z=>na(z.placement)===A?z.overflows[0]>0:!0)))return{data:{index:F,overflows:q},reset:{placement:Y}};let G=(re=q.filter(ee=>ee.overflows[0]<=0).sort((ee,z)=>ee.overflows[1]-z.overflows[1])[0])==null?void 0:re.placement;if(!G)switch(w){case"bestFit":{var me;const ee=(me=q.filter(z=>{if(H){const ae=na(z.placement);return ae===A||ae==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(ae=>ae>0).reduce((ae,we)=>ae+we,0)]).sort((z,ae)=>z[1]-ae[1])[0])==null?void 0:me[0];ee&&(G=ee);break}case"initialPlacement":G=f;break}if(o!==G)return{reset:{placement:G}}}return{}})}}};function g1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function x1(e){return mP.some(t=>e[t]>=0)}const kP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(n){return ye(this,null,function*(){const{rects:s}=n,l=Ha(e,n),{strategy:a="referenceHidden"}=l,o=Me(l,["strategy"]);switch(a){case"referenceHidden":{const d=yield Fu(n,fe(L({},o),{elementContext:"reference"})),f=g1(d,s.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:x1(f)}}}case"escaped":{const d=yield Fu(n,fe(L({},o),{altBoundary:!0})),f=g1(d,s.floating);return{data:{escapedOffsets:f,escaped:x1(f)}}}default:return{}}})}}},R2=new Set(["left","top"]);function CP(e,t){return ye(this,null,function*(){const{placement:n,platform:s,elements:a}=e,o=yield s.isRTL==null?void 0:s.isRTL(a.floating),l=Va(n),d=Ql(n),f=na(n)==="y",h=R2.has(l)?-1:1,p=o&&f?-1:1,g=Ha(t,e);let{mainAxis:b,crossAxis:y,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof w=="number"&&(y=d==="end"?w*-1:w),f?{x:y*p,y:b*h}:{x:b*h,y:y*p}})}const AP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(n){return ye(this,null,function*(){var s,a;const{x:o,y:l,placement:d,middlewareData:f}=n,h=yield CP(n,e);return d===((s=f.offset)==null?void 0:s.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:o+h.x,y:l+h.y,data:fe(L({},h),{placement:d})}})}}},OP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(n){return ye(this,null,function*(){const{x:s,y:a,placement:o}=n,S=Ha(e,n),{mainAxis:l=!0,crossAxis:d=!1,limiter:f={fn:M=>{let{x:A,y:k}=M;return{x:A,y:k}}}}=S,h=Me(S,["mainAxis","crossAxis","limiter"]),p={x:s,y:a},g=yield Fu(n,h),b=na(Va(o)),y=Dx(b);let w=p[y],_=p[b];if(l){const M=y==="y"?"top":"left",A=y==="y"?"bottom":"right",k=w+g[M],C=w-g[A];w=k0(k,w,C)}if(d){const M=b==="y"?"top":"left",A=b==="y"?"bottom":"right",k=_+g[M],C=_-g[A];_=k0(k,_,C)}const j=f.fn(fe(L({},n),{[y]:w,[b]:_}));return fe(L({},j),{data:{x:j.x-s,y:j.y-a,enabled:{[y]:l,[b]:d}}})})}}},RP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:o,middlewareData:l}=t,{offset:d=0,mainAxis:f=!0,crossAxis:h=!0}=Ha(e,t),p={x:n,y:s},g=na(a),b=Dx(g);let y=p[b],w=p[g];const _=Ha(d,t),j=typeof _=="number"?{mainAxis:_,crossAxis:0}:L({mainAxis:0,crossAxis:0},_);if(f){const A=b==="y"?"height":"width",k=o.reference[b]-o.floating[A]+j.mainAxis,C=o.reference[b]+o.reference[A]-j.mainAxis;y<k?y=k:y>C&&(y=C)}if(h){var S,M;const A=b==="y"?"width":"height",k=R2.has(Va(a)),C=o.reference[g]-o.floating[A]+(k&&((S=l.offset)==null?void 0:S[g])||0)+(k?0:j.crossAxis),O=o.reference[g]+o.reference[A]+(k?0:((M=l.offset)==null?void 0:M[g])||0)-(k?j.crossAxis:0);w<C?w=C:w>O&&(w=O)}return{[b]:y,[g]:w}}}},DP=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(n){return ye(this,null,function*(){var s,a;const{placement:o,rects:l,platform:d,elements:f}=n,q=Ha(e,n),{apply:h=()=>{}}=q,p=Me(q,["apply"]),g=yield Fu(n,p),b=Va(o),y=Ql(o),w=na(o)==="y",{width:_,height:j}=l.floating;let S,M;b==="top"||b==="bottom"?(S=b,M=y===((yield d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(M=b,S=y==="end"?"top":"bottom");const A=j-g.top-g.bottom,k=_-g.left-g.right,C=Oi(j-g[S],A),O=Oi(_-g[M],k),H=!n.middlewareData.shift;let D=C,V=O;if((s=n.middlewareData.shift)!=null&&s.enabled.x&&(V=k),(a=n.middlewareData.shift)!=null&&a.enabled.y&&(D=A),H&&!y){const W=tr(g.left,0),re=tr(g.right,0),me=tr(g.top,0),Z=tr(g.bottom,0);w?V=_-2*(W!==0||re!==0?W+re:tr(g.left,g.right)):D=j-2*(me!==0||Z!==0?me+Z:tr(g.top,g.bottom))}yield h(fe(L({},n),{availableWidth:V,availableHeight:D}));const te=yield d.getDimensions(f.floating);return _!==te.width||j!==te.height?{reset:{rects:!0}}:{}})}}};function Kh(){return typeof window!="undefined"}function Zl(e){return D2(e)?(e.nodeName||"").toLowerCase():"#document"}function ar(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fa(e){var t;return(t=(D2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function D2(e){return Kh()?e instanceof Node||e instanceof ar(e).Node:!1}function Br(e){return Kh()?e instanceof Element||e instanceof ar(e).Element:!1}function ca(e){return Kh()?e instanceof HTMLElement||e instanceof ar(e).HTMLElement:!1}function y1(e){return!Kh()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof ar(e).ShadowRoot}const MP=new Set(["inline","contents"]);function Zu(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=Fr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!MP.has(a)}const PP=new Set(["table","td","th"]);function LP(e){return PP.has(Zl(e))}const zP=[":popover-open",":modal"];function Qh(e){return zP.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const UP=["transform","translate","scale","rotate","perspective"],BP=["transform","translate","scale","rotate","perspective","filter"],FP=["paint","layout","strict","content"];function Lx(e){const t=zx(),n=Br(e)?Fr(e):e;return UP.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||BP.some(s=>(n.willChange||"").includes(s))||FP.some(s=>(n.contain||"").includes(s))}function HP(e){let t=Ri(e);for(;ca(t)&&!Yl(t);){if(Lx(t))return t;if(Qh(t))return null;t=Ri(t)}return null}function zx(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const VP=new Set(["html","body","#document"]);function Yl(e){return VP.has(Zl(e))}function Fr(e){return ar(e).getComputedStyle(e)}function Zh(e){return Br(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ri(e){if(Zl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||y1(e)&&e.host||fa(e);return y1(t)?t.host:t}function M2(e){const t=Ri(e);return Yl(t)?e.ownerDocument?e.ownerDocument.body:e.body:ca(t)&&Zu(t)?t:M2(t)}function Hu(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=M2(e),o=a===((s=e.ownerDocument)==null?void 0:s.body),l=ar(a);if(o){const d=A0(l);return t.concat(l,l.visualViewport||[],Zu(a)?a:[],d&&n?Hu(d):[])}return t.concat(a,Hu(a,[],n))}function A0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function P2(e){const t=Fr(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=ca(e),o=a?e.offsetWidth:n,l=a?e.offsetHeight:s,d=vh(n)!==o||vh(s)!==l;return d&&(n=o,s=l),{width:n,height:s,$:d}}function Ux(e){return Br(e)?e:e.contextElement}function Ul(e){const t=Ux(e);if(!ca(t))return oa(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:o}=P2(t);let l=(o?vh(n.width):n.width)/s,d=(o?vh(n.height):n.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const $P=oa(0);function L2(e){const t=ar(e);return!zx()||!t.visualViewport?$P:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function qP(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ar(e)?!1:t}function Ao(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=Ux(e);let l=oa(1);t&&(s?Br(s)&&(l=Ul(s)):l=Ul(e));const d=qP(o,n,s)?L2(o):oa(0);let f=(a.left+d.x)/l.x,h=(a.top+d.y)/l.y,p=a.width/l.x,g=a.height/l.y;if(o){const b=ar(o),y=s&&Br(s)?ar(s):s;let w=b,_=A0(w);for(;_&&s&&y!==w;){const j=Ul(_),S=_.getBoundingClientRect(),M=Fr(_),A=S.left+(_.clientLeft+parseFloat(M.paddingLeft))*j.x,k=S.top+(_.clientTop+parseFloat(M.paddingTop))*j.y;f*=j.x,h*=j.y,p*=j.x,g*=j.y,f+=A,h+=k,w=ar(_),_=A0(w)}}return _h({width:p,height:g,x:f,y:h})}function Bx(e,t){const n=Zh(e).scrollLeft;return t?t.left+n:Ao(fa(e)).left+n}function z2(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:Bx(e,s)),o=s.top+t.scrollTop;return{x:a,y:o}}function IP(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const o=a==="fixed",l=fa(s),d=t?Qh(t.floating):!1;if(s===l||d&&o)return n;let f={scrollLeft:0,scrollTop:0},h=oa(1);const p=oa(0),g=ca(s);if((g||!g&&!o)&&((Zl(s)!=="body"||Zu(l))&&(f=Zh(s)),ca(s))){const y=Ao(s);h=Ul(s),p.x=y.x+s.clientLeft,p.y=y.y+s.clientTop}const b=l&&!g&&!o?z2(l,f,!0):oa(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+p.x+b.x,y:n.y*h.y-f.scrollTop*h.y+p.y+b.y}}function YP(e){return Array.from(e.getClientRects())}function WP(e){const t=fa(e),n=Zh(e),s=e.ownerDocument.body,a=tr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=tr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let l=-n.scrollLeft+Bx(e);const d=-n.scrollTop;return Fr(s).direction==="rtl"&&(l+=tr(t.clientWidth,s.clientWidth)-a),{width:a,height:o,x:l,y:d}}function XP(e,t){const n=ar(e),s=fa(e),a=n.visualViewport;let o=s.clientWidth,l=s.clientHeight,d=0,f=0;if(a){o=a.width,l=a.height;const h=zx();(!h||h&&t==="fixed")&&(d=a.offsetLeft,f=a.offsetTop)}return{width:o,height:l,x:d,y:f}}const GP=new Set(["absolute","fixed"]);function KP(e,t){const n=Ao(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,o=ca(e)?Ul(e):oa(1),l=e.clientWidth*o.x,d=e.clientHeight*o.y,f=a*o.x,h=s*o.y;return{width:l,height:d,x:f,y:h}}function b1(e,t,n){let s;if(t==="viewport")s=XP(e,n);else if(t==="document")s=WP(fa(e));else if(Br(t))s=KP(t,n);else{const a=L2(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return _h(s)}function U2(e,t){const n=Ri(e);return n===t||!Br(n)||Yl(n)?!1:Fr(n).position==="fixed"||U2(n,t)}function QP(e,t){const n=t.get(e);if(n)return n;let s=Hu(e,[],!1).filter(d=>Br(d)&&Zl(d)!=="body"),a=null;const o=Fr(e).position==="fixed";let l=o?Ri(e):e;for(;Br(l)&&!Yl(l);){const d=Fr(l),f=Lx(l);!f&&d.position==="fixed"&&(a=null),(o?!f&&!a:!f&&d.position==="static"&&!!a&&GP.has(a.position)||Zu(l)&&!f&&U2(e,l))?s=s.filter(p=>p!==l):a=d,l=Ri(l)}return t.set(e,s),s}function ZP(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const l=[...n==="clippingAncestors"?Qh(t)?[]:QP(t,this._c):[].concat(n),s],d=l[0],f=l.reduce((h,p)=>{const g=b1(t,p,a);return h.top=tr(g.top,h.top),h.right=Oi(g.right,h.right),h.bottom=Oi(g.bottom,h.bottom),h.left=tr(g.left,h.left),h},b1(t,d,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function JP(e){const{width:t,height:n}=P2(e);return{width:t,height:n}}function e3(e,t,n){const s=ca(t),a=fa(t),o=n==="fixed",l=Ao(e,!0,o,t);let d={scrollLeft:0,scrollTop:0};const f=oa(0);function h(){f.x=Bx(a)}if(s||!s&&!o)if((Zl(t)!=="body"||Zu(a))&&(d=Zh(t)),s){const y=Ao(t,!0,o,t);f.x=y.x+t.clientLeft,f.y=y.y+t.clientTop}else a&&h();o&&!s&&a&&h();const p=a&&!s&&!o?z2(a,d):oa(0),g=l.left+d.scrollLeft-f.x-p.x,b=l.top+d.scrollTop-f.y-p.y;return{x:g,y:b,width:l.width,height:l.height}}function Ag(e){return Fr(e).position==="static"}function v1(e,t){if(!ca(e)||Fr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return fa(e)===n&&(n=n.ownerDocument.body),n}function B2(e,t){const n=ar(e);if(Qh(e))return n;if(!ca(e)){let a=Ri(e);for(;a&&!Yl(a);){if(Br(a)&&!Ag(a))return a;a=Ri(a)}return n}let s=v1(e,t);for(;s&&LP(s)&&Ag(s);)s=v1(s,t);return s&&Yl(s)&&Ag(s)&&!Lx(s)?n:s||HP(e)||n}const t3=function(e){return ye(this,null,function*(){const t=this.getOffsetParent||B2,n=this.getDimensions,s=yield n(e.floating);return{reference:e3(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}})};function n3(e){return Fr(e).direction==="rtl"}const s3={convertOffsetParentRelativeRectToViewportRelativeRect:IP,getDocumentElement:fa,getClippingRect:ZP,getOffsetParent:B2,getElementRects:t3,getClientRects:YP,getDimensions:JP,getScale:Ul,isElement:Br,isRTL:n3};function F2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function r3(e,t){let n=null,s;const a=fa(e);function o(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function l(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),o();const h=e.getBoundingClientRect(),{left:p,top:g,width:b,height:y}=h;if(d||t(),!b||!y)return;const w=_f(g),_=_f(a.clientWidth-(p+b)),j=_f(a.clientHeight-(g+y)),S=_f(p),A={rootMargin:-w+"px "+-_+"px "+-j+"px "+-S+"px",threshold:tr(0,Oi(1,f))||1};let k=!0;function C(O){const H=O[0].intersectionRatio;if(H!==f){if(!k)return l();H?l(!1,H):s=setTimeout(()=>{l(!1,1e-7)},1e3)}H===1&&!F2(h,e.getBoundingClientRect())&&l(),k=!1}try{n=new IntersectionObserver(C,fe(L({},A),{root:a.ownerDocument}))}catch(O){n=new IntersectionObserver(C,A)}n.observe(e)}return l(!0),o}function a3(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,h=Ux(e),p=a||o?[...h?Hu(h):[],...Hu(t)]:[];p.forEach(S=>{a&&S.addEventListener("scroll",n,{passive:!0}),o&&S.addEventListener("resize",n)});const g=h&&d?r3(h,n):null;let b=-1,y=null;l&&(y=new ResizeObserver(S=>{let[M]=S;M&&M.target===h&&y&&(y.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var A;(A=y)==null||A.observe(t)})),n()}),h&&!f&&y.observe(h),y.observe(t));let w,_=f?Ao(e):null;f&&j();function j(){const S=Ao(e);_&&!F2(_,S)&&n(),_=S,w=requestAnimationFrame(j)}return n(),()=>{var S;p.forEach(M=>{a&&M.removeEventListener("scroll",n),o&&M.removeEventListener("resize",n)}),g==null||g(),(S=y)==null||S.disconnect(),y=null,f&&cancelAnimationFrame(w)}}const i3=AP,o3=OP,l3=TP,c3=DP,u3=kP,w1=EP,d3=RP,f3=(e,t,n)=>{const s=new Map,a=L({platform:s3},n),o=fe(L({},a.platform),{_c:s});return NP(e,t,fe(L({},a),{platform:o}))};var h3=typeof document!="undefined",m3=function(){},ih=h3?N.useLayoutEffect:m3;function jh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!jh(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const o=a[s];if(!(o==="_owner"&&e.$$typeof)&&!jh(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function H2(e){return typeof window=="undefined"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _1(e,t){const n=H2(e);return Math.round(t*n)/n}function Og(e){const t=N.useRef(e);return ih(()=>{t.current=e}),t}function p3(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:o,floating:l}={},transform:d=!0,whileElementsMounted:f,open:h}=e,[p,g]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,y]=N.useState(s);jh(b,s)||y(s);const[w,_]=N.useState(null),[j,S]=N.useState(null),M=N.useCallback(G=>{G!==O.current&&(O.current=G,_(G))},[]),A=N.useCallback(G=>{G!==H.current&&(H.current=G,S(G))},[]),k=o||w,C=l||j,O=N.useRef(null),H=N.useRef(null),D=N.useRef(p),V=f!=null,te=Og(f),q=Og(a),W=Og(h),re=N.useCallback(()=>{if(!O.current||!H.current)return;const G={placement:t,strategy:n,middleware:b};q.current&&(G.platform=q.current),f3(O.current,H.current,G).then(ee=>{const z=fe(L({},ee),{isPositioned:W.current!==!1});me.current&&!jh(D.current,z)&&(D.current=z,Ih.flushSync(()=>{g(z)}))})},[b,t,n,q,W]);ih(()=>{h===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,g(G=>fe(L({},G),{isPositioned:!1})))},[h]);const me=N.useRef(!1);ih(()=>(me.current=!0,()=>{me.current=!1}),[]),ih(()=>{if(k&&(O.current=k),C&&(H.current=C),k&&C){if(te.current)return te.current(k,C,re);re()}},[k,C,re,te,V]);const Z=N.useMemo(()=>({reference:O,floating:H,setReference:M,setFloating:A}),[M,A]),F=N.useMemo(()=>({reference:k,floating:C}),[k,C]),Y=N.useMemo(()=>{const G={position:n,left:0,top:0};if(!F.floating)return G;const ee=_1(F.floating,p.x),z=_1(F.floating,p.y);return d?L(fe(L({},G),{transform:"translate("+ee+"px, "+z+"px)"}),H2(F.floating)>=1.5&&{willChange:"transform"}):{position:n,left:ee,top:z}},[n,d,F.floating,p.x,p.y]);return N.useMemo(()=>fe(L({},p),{update:re,refs:Z,elements:F,floatingStyles:Y}),[p,re,Z,F,Y])}const g3=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?w1({element:s.current,padding:a}).fn(n):{}:s?w1({element:s,padding:a}).fn(n):{}}}},x3=(e,t)=>fe(L({},i3(e)),{options:[e,t]}),y3=(e,t)=>fe(L({},o3(e)),{options:[e,t]}),b3=(e,t)=>fe(L({},d3(e)),{options:[e,t]}),v3=(e,t)=>fe(L({},l3(e)),{options:[e,t]}),w3=(e,t)=>fe(L({},c3(e)),{options:[e,t]}),_3=(e,t)=>fe(L({},u3(e)),{options:[e,t]}),j3=(e,t)=>fe(L({},g3(e)),{options:[e,t]});var S3="Arrow",V2=N.forwardRef((e,t)=>{const l=e,{children:n,width:s=10,height:a=5}=l,o=Me(l,["children","width","height"]);return u.jsx(kn.svg,fe(L({},o),{ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})}))});V2.displayName=S3;var N3=V2;function E3(e){const[t,n]=N.useState(void 0);return Ai(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let l,d;if("borderBoxSize"in o){const f=o.borderBoxSize,h=Array.isArray(f)?f[0]:f;l=h.inlineSize,d=h.blockSize}else l=e.offsetWidth,d=e.offsetHeight;n({width:l,height:d})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Fx="Popper",[$2,q2]=Ax(Fx),[T3,I2]=$2(Fx),Y2=e=>{const{__scopePopper:t,children:n}=e,[s,a]=N.useState(null);return u.jsx(T3,{scope:t,anchor:s,onAnchorChange:a,children:n})};Y2.displayName=Fx;var W2="PopperAnchor",X2=N.forwardRef((e,t)=>{const f=e,{__scopePopper:n,virtualRef:s}=f,a=Me(f,["__scopePopper","virtualRef"]),o=I2(W2,n),l=N.useRef(null),d=Hr(t,l);return N.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||l.current)}),s?null:u.jsx(kn.div,fe(L({},a),{ref:d}))});X2.displayName=W2;var Hx="PopperContent",[k3,C3]=$2(Hx),G2=N.forwardRef((e,t)=>{var Oe,We,He,it,st,vt,Pe,gt;const Ee=e,{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:o="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:y="optimized",onPlaced:w}=Ee,_=Me(Ee,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),j=I2(Hx,n),[S,M]=N.useState(null),A=Hr(t,Vt=>M(Vt)),[k,C]=N.useState(null),O=E3(k),H=(Oe=O==null?void 0:O.width)!=null?Oe:0,D=(We=O==null?void 0:O.height)!=null?We:0,V=s+(o!=="center"?"-"+o:""),te=typeof p=="number"?p:L({top:0,right:0,bottom:0,left:0},p),q=Array.isArray(h)?h:[h],W=q.length>0,re={padding:te,boundary:q.filter(O3),altBoundary:W},{refs:me,floatingStyles:Z,placement:F,isPositioned:Y,middlewareData:G}=p3({strategy:"fixed",placement:V,whileElementsMounted:(...Vt)=>a3(...Vt,{animationFrame:y==="always"}),elements:{reference:j.anchor},middleware:[x3({mainAxis:a+D,alignmentAxis:l}),f&&y3(L({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?b3():void 0},re)),f&&v3(L({},re)),w3(fe(L({},re),{apply:({elements:Vt,rects:jt,availableWidth:$t,availableHeight:Ct})=>{const{width:X,height:ce}=jt.reference,$=Vt.floating.style;$.setProperty("--radix-popper-available-width",`${$t}px`),$.setProperty("--radix-popper-available-height",`${Ct}px`),$.setProperty("--radix-popper-anchor-width",`${X}px`),$.setProperty("--radix-popper-anchor-height",`${ce}px`)}})),k&&j3({element:k,padding:d}),R3({arrowWidth:H,arrowHeight:D}),b&&_3(L({strategy:"referenceHidden"},re))]}),[ee,z]=Z2(F),ae=Il(w);Ai(()=>{Y&&(ae==null||ae())},[Y,ae]);const we=(He=G.arrow)==null?void 0:He.x,I=(it=G.arrow)==null?void 0:it.y,oe=((st=G.arrow)==null?void 0:st.centerOffset)!==0,[je,ge]=N.useState();return Ai(()=>{S&&ge(window.getComputedStyle(S).zIndex)},[S]),u.jsx("div",{ref:me.setFloating,"data-radix-popper-content-wrapper":"",style:L(fe(L({},Z),{transform:Y?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[(vt=G.transformOrigin)==null?void 0:vt.x,(Pe=G.transformOrigin)==null?void 0:Pe.y].join(" ")}),((gt=G.hide)==null?void 0:gt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:u.jsx(k3,{scope:n,placedSide:ee,onArrowChange:C,arrowX:we,arrowY:I,shouldHideArrow:oe,children:u.jsx(kn.div,fe(L({"data-side":ee,"data-align":z},_),{ref:A,style:fe(L({},_.style),{animation:Y?void 0:"none"})}))})})});G2.displayName=Hx;var K2="PopperArrow",A3={top:"bottom",right:"left",bottom:"top",left:"right"},Q2=N.forwardRef(function(t,n){const d=t,{__scopePopper:s}=d,a=Me(d,["__scopePopper"]),o=C3(K2,s),l=A3[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(N3,fe(L({},a),{ref:n,style:fe(L({},a.style),{display:"block"})}))})});Q2.displayName=K2;function O3(e){return e!==null}var R3=e=>({name:"transformOrigin",options:e,fn(t){var j,S,M,A,k;const{placement:n,rects:s,middlewareData:a}=t,l=((j=a.arrow)==null?void 0:j.centerOffset)!==0,d=l?0:e.arrowWidth,f=l?0:e.arrowHeight,[h,p]=Z2(n),g={start:"0%",center:"50%",end:"100%"}[p],b=((M=(S=a.arrow)==null?void 0:S.x)!=null?M:0)+d/2,y=((k=(A=a.arrow)==null?void 0:A.y)!=null?k:0)+f/2;let w="",_="";return h==="bottom"?(w=l?g:`${b}px`,_=`${-f}px`):h==="top"?(w=l?g:`${b}px`,_=`${s.floating.height+f}px`):h==="right"?(w=`${-f}px`,_=l?g:`${y}px`):h==="left"&&(w=`${s.floating.width+f}px`,_=l?g:`${y}px`),{data:{x:w,y:_}}}});function Z2(e){const[t,n="center"]=e.split("-");return[t,n]}var D3=Y2,J2=X2,M3=G2,P3=Q2,L3="Portal",Vx=N.forwardRef((e,t)=>{var f;const d=e,{container:n}=d,s=Me(d,["container"]),[a,o]=N.useState(!1);Ai(()=>o(!0),[]);const l=n||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return l?_2.createPortal(u.jsx(kn.div,fe(L({},s),{ref:t})),l):null});Vx.displayName=L3;function z3(e,t){return N.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var Jl=e=>{const{present:t,children:n}=e,s=U3(t),a=typeof n=="function"?n({present:s.isPresent}):N.Children.only(n),o=Hr(s.ref,B3(a));return typeof n=="function"||s.isPresent?N.cloneElement(a,{ref:o}):null};Jl.displayName="Presence";function U3(e){const[t,n]=N.useState(),s=N.useRef(null),a=N.useRef(e),o=N.useRef("none"),l=e?"mounted":"unmounted",[d,f]=z3(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const h=jf(s.current);o.current=d==="mounted"?h:"none"},[d]),Ai(()=>{const h=s.current,p=a.current;if(p!==e){const b=o.current,y=jf(h);e?f("MOUNT"):y==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&b!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Ai(()=>{var h;if(t){let p;const g=(h=t.ownerDocument.defaultView)!=null?h:window,b=w=>{const j=jf(s.current).includes(w.animationName);if(w.target===t&&j&&(f("ANIMATION_END"),!a.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},y=w=>{w.target===t&&(o.current=jf(s.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:N.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function jf(e){return(e==null?void 0:e.animationName)||"none"}function B3(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var F3=xS[" useInsertionEffect ".trim().toString()]||Ai;function eN({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,o,l]=H3({defaultProp:t,onChange:n}),d=e!==void 0,f=d?e:a;{const p=N.useRef(e!==void 0);N.useEffect(()=>{const g=p.current;g!==d&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,s])}const h=N.useCallback(p=>{var g;if(d){const b=V3(p)?p(e):p;b!==e&&((g=l.current)==null||g.call(l,b))}else o(p)},[d,e,o,l]);return[f,h]}function H3({defaultProp:e,onChange:t}){const[n,s]=N.useState(e),a=N.useRef(n),o=N.useRef(t);return F3(()=>{o.current=t},[t]),N.useEffect(()=>{var l;a.current!==n&&((l=o.current)==null||l.call(o,n),a.current=n)},[n,a]),[n,s,o]}function V3(e){return typeof e=="function"}var $3=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},jl=new WeakMap,Sf=new WeakMap,Nf={},Rg=0,tN=function(e){return e&&(e.host||tN(e.parentNode))},q3=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=tN(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},I3=function(e,t,n,s){var a=q3(t,Array.isArray(e)?e:[e]);Nf[n]||(Nf[n]=new WeakMap);var o=Nf[n],l=[],d=new Set,f=new Set(a),h=function(g){!g||d.has(g)||(d.add(g),h(g.parentNode))};a.forEach(h);var p=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(b){if(d.has(b))p(b);else try{var y=b.getAttribute(s),w=y!==null&&y!=="false",_=(jl.get(b)||0)+1,j=(o.get(b)||0)+1;jl.set(b,_),o.set(b,j),l.push(b),_===1&&w&&Sf.set(b,!0),j===1&&b.setAttribute(n,"true"),w||b.setAttribute(s,"true")}catch(S){console.error("aria-hidden: cannot operate on ",b,S)}})};return p(t),d.clear(),Rg++,function(){l.forEach(function(g){var b=jl.get(g)-1,y=o.get(g)-1;jl.set(g,b),o.set(g,y),b||(Sf.has(g)||g.removeAttribute(s),Sf.delete(g)),y||g.removeAttribute(n)}),Rg--,Rg||(jl=new WeakMap,jl=new WeakMap,Sf=new WeakMap,Nf={})}},nN=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=$3(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),I3(s,a,n,"aria-hidden")):function(){return null}},ta=function(){return ta=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ta.apply(this,arguments)};function sN(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function Y3(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,o;s<a;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var oh="right-scroll-bar-position",lh="width-before-scroll-bar",W3="with-scroll-bars-hidden",X3="--removed-body-scroll-bar-size";function Dg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function G3(e,t){var n=N.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var K3=typeof window!="undefined"?N.useLayoutEffect:N.useEffect,j1=new WeakMap;function Q3(e,t){var n=G3(null,function(s){return e.forEach(function(a){return Dg(a,s)})});return K3(function(){var s=j1.get(n);if(s){var a=new Set(s),o=new Set(e),l=n.current;a.forEach(function(d){o.has(d)||Dg(d,null)}),o.forEach(function(d){a.has(d)||Dg(d,l)})}j1.set(n,e)},[e]),n}function Z3(e){return e}function J3(e,t){t===void 0&&(t=Z3);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,s);return n.push(l),function(){n=n.filter(function(d){return d!==l})}},assignSyncMedium:function(o){for(s=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(d){return o(d)},filter:function(){return n}}},assignMedium:function(o){s=!0;var l=[];if(n.length){var d=n;n=[],d.forEach(o),l=n}var f=function(){var p=l;l=[],p.forEach(o)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),n}}}};return a}function e4(e){e===void 0&&(e={});var t=J3(null);return t.options=ta({async:!0,ssr:!1},e),t}var rN=function(e){var t=e.sideCar,n=sN(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return N.createElement(s,ta({},n))};rN.isSideCarExport=!0;function t4(e,t){return e.useMedium(t),rN}var aN=e4(),Mg=function(){},Jh=N.forwardRef(function(e,t){var n=N.useRef(null),s=N.useState({onScrollCapture:Mg,onWheelCapture:Mg,onTouchMoveCapture:Mg}),a=s[0],o=s[1],l=e.forwardProps,d=e.children,f=e.className,h=e.removeScrollBar,p=e.enabled,g=e.shards,b=e.sideCar,y=e.noRelative,w=e.noIsolation,_=e.inert,j=e.allowPinchZoom,S=e.as,M=S===void 0?"div":S,A=e.gapMode,k=sN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=b,O=Q3([n,t]),H=ta(ta({},k),a);return N.createElement(N.Fragment,null,p&&N.createElement(C,{sideCar:aN,removeScrollBar:h,shards:g,noRelative:y,noIsolation:w,inert:_,setCallbacks:o,allowPinchZoom:!!j,lockRef:n,gapMode:A}),l?N.cloneElement(N.Children.only(d),ta(ta({},H),{ref:O})):N.createElement(M,ta({},H,{className:f,ref:O}),d))});Jh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jh.classNames={fullWidth:lh,zeroRight:oh};var n4=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function s4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=n4();return t&&e.setAttribute("nonce",t),e}function r4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function a4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var i4=function(){var e=0,t=null;return{add:function(n){e==0&&(t=s4())&&(r4(t,n),a4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},o4=function(){var e=i4();return function(t,n){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},iN=function(){var e=o4(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},l4={left:0,top:0,right:0,gap:0},Pg=function(e){return parseInt(e||"",10)||0},c4=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Pg(n),Pg(s),Pg(a)]},u4=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return l4;var t=c4(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},d4=iN(),Bl="data-scroll-locked",f4=function(e,t,n,s){var a=e.left,o=e.top,l=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(W3,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(Bl,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(oh,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(lh,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(oh," .").concat(oh,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(lh," .").concat(lh,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Bl,`] {
    `).concat(X3,": ").concat(d,`px;
  }
`)},S1=function(){var e=parseInt(document.body.getAttribute(Bl)||"0",10);return isFinite(e)?e:0},h4=function(){N.useEffect(function(){return document.body.setAttribute(Bl,(S1()+1).toString()),function(){var e=S1()-1;e<=0?document.body.removeAttribute(Bl):document.body.setAttribute(Bl,e.toString())}},[])},m4=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;h4();var o=N.useMemo(function(){return u4(a)},[a]);return N.createElement(d4,{styles:f4(o,!t,a,n?"":"!important")})},O0=!1;if(typeof window!="undefined")try{var Ef=Object.defineProperty({},"passive",{get:function(){return O0=!0,!0}});window.addEventListener("test",Ef,Ef),window.removeEventListener("test",Ef,Ef)}catch(e){O0=!1}var Sl=O0?{passive:!1}:!1,p4=function(e){return e.tagName==="TEXTAREA"},oN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!p4(e)&&n[t]==="visible")},g4=function(e){return oN(e,"overflowY")},x4=function(e){return oN(e,"overflowX")},N1=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot!="undefined"&&s instanceof ShadowRoot&&(s=s.host);var a=lN(e,s);if(a){var o=cN(e,s),l=o[1],d=o[2];if(l>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},y4=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},b4=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},lN=function(e,t){return e==="v"?g4(t):x4(t)},cN=function(e,t){return e==="v"?y4(t):b4(t)},v4=function(e,t){return e==="h"&&t==="rtl"?-1:1},w4=function(e,t,n,s,a){var o=v4(e,window.getComputedStyle(t).direction),l=o*s,d=n.target,f=t.contains(d),h=!1,p=l>0,g=0,b=0;do{if(!d)break;var y=cN(e,d),w=y[0],_=y[1],j=y[2],S=_-j-o*w;(w||S)&&lN(e,d)&&(g+=S,b+=w);var M=d.parentNode;d=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(p&&Math.abs(g)<1||!p&&Math.abs(b)<1)&&(h=!0),h},Tf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},E1=function(e){return[e.deltaX,e.deltaY]},T1=function(e){return e&&"current"in e?e.current:e},_4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},j4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},S4=0,Nl=[];function N4(e){var t=N.useRef([]),n=N.useRef([0,0]),s=N.useRef(),a=N.useState(S4++)[0],o=N.useState(iN)[0],l=N.useRef(e);N.useEffect(function(){l.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var _=Y3([e.lockRef.current],(e.shards||[]).map(T1),!0).filter(Boolean);return _.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),_.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var d=N.useCallback(function(_,j){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var S=Tf(_),M=n.current,A="deltaX"in _?_.deltaX:M[0]-S[0],k="deltaY"in _?_.deltaY:M[1]-S[1],C,O=_.target,H=Math.abs(A)>Math.abs(k)?"h":"v";if("touches"in _&&H==="h"&&O.type==="range")return!1;var D=N1(H,O);if(!D)return!0;if(D?C=H:(C=H==="v"?"h":"v",D=N1(H,O)),!D)return!1;if(!s.current&&"changedTouches"in _&&(A||k)&&(s.current=C),!C)return!0;var V=s.current||C;return w4(V,j,_,V==="h"?A:k)},[]),f=N.useCallback(function(_){var j=_;if(!(!Nl.length||Nl[Nl.length-1]!==o)){var S="deltaY"in j?E1(j):Tf(j),M=t.current.filter(function(C){return C.name===j.type&&(C.target===j.target||j.target===C.shadowParent)&&_4(C.delta,S)})[0];if(M&&M.should){j.cancelable&&j.preventDefault();return}if(!M){var A=(l.current.shards||[]).map(T1).filter(Boolean).filter(function(C){return C.contains(j.target)}),k=A.length>0?d(j,A[0]):!l.current.noIsolation;k&&j.cancelable&&j.preventDefault()}}},[]),h=N.useCallback(function(_,j,S,M){var A={name:_,delta:j,target:S,should:M,shadowParent:E4(S)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(k){return k!==A})},1)},[]),p=N.useCallback(function(_){n.current=Tf(_),s.current=void 0},[]),g=N.useCallback(function(_){h(_.type,E1(_),_.target,d(_,e.lockRef.current))},[]),b=N.useCallback(function(_){h(_.type,Tf(_),_.target,d(_,e.lockRef.current))},[]);N.useEffect(function(){return Nl.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",f,Sl),document.addEventListener("touchmove",f,Sl),document.addEventListener("touchstart",p,Sl),function(){Nl=Nl.filter(function(_){return _!==o}),document.removeEventListener("wheel",f,Sl),document.removeEventListener("touchmove",f,Sl),document.removeEventListener("touchstart",p,Sl)}},[]);var y=e.removeScrollBar,w=e.inert;return N.createElement(N.Fragment,null,w?N.createElement(o,{styles:j4(a)}):null,y?N.createElement(m4,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function E4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const T4=t4(aN,N4);var $x=N.forwardRef(function(e,t){return N.createElement(Jh,ta({},e,{ref:t,sideCar:T4}))});$x.classNames=Jh.classNames;var em="Popover",[uN,mH]=Ax(em,[q2]),Ju=q2(),[k4,Ui]=uN(em),dN=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!1}=e,d=Ju(t),f=N.useRef(null),[h,p]=N.useState(!1),[g,b]=eN({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:em});return u.jsx(D3,fe(L({},d),{children:u.jsx(k4,{scope:t,contentId:ia(),triggerRef:f,open:g,onOpenChange:b,onOpenToggle:N.useCallback(()=>b(y=>!y),[b]),hasCustomAnchor:h,onCustomAnchorAdd:N.useCallback(()=>p(!0),[]),onCustomAnchorRemove:N.useCallback(()=>p(!1),[]),modal:l,children:n})}))};dN.displayName=em;var fN="PopoverAnchor",C4=N.forwardRef((e,t)=>{const f=e,{__scopePopover:n}=f,s=Me(f,["__scopePopover"]),a=Ui(fN,n),o=Ju(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:d}=a;return N.useEffect(()=>(l(),()=>d()),[l,d]),u.jsx(J2,fe(L(L({},o),s),{ref:t}))});C4.displayName=fN;var hN="PopoverTrigger",mN=N.forwardRef((e,t)=>{const f=e,{__scopePopover:n}=f,s=Me(f,["__scopePopover"]),a=Ui(hN,n),o=Ju(n),l=Hr(t,a.triggerRef),d=u.jsx(kn.button,fe(L({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":bN(a.open)},s),{ref:l,onClick:rr(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?d:u.jsx(J2,fe(L({asChild:!0},o),{children:d}))});mN.displayName=hN;var qx="PopoverPortal",[A4,O4]=uN(qx,{forceMount:void 0}),pN=e=>{const{__scopePopover:t,forceMount:n,children:s,container:a}=e,o=Ui(qx,t);return u.jsx(A4,{scope:t,forceMount:n,children:u.jsx(Jl,{present:n||o.open,children:u.jsx(Vx,{asChild:!0,container:a,children:s})})})};pN.displayName=qx;var Wl="PopoverContent",gN=N.forwardRef((e,t)=>{const n=O4(Wl,e.__scopePopover),l=e,{forceMount:s=n.forceMount}=l,a=Me(l,["forceMount"]),o=Ui(Wl,e.__scopePopover);return u.jsx(Jl,{present:s||o.open,children:o.modal?u.jsx(D4,fe(L({},a),{ref:t})):u.jsx(M4,fe(L({},a),{ref:t}))})});gN.displayName=Wl;var R4=Gh("PopoverContent.RemoveScroll"),D4=N.forwardRef((e,t)=>{const n=Ui(Wl,e.__scopePopover),s=N.useRef(null),a=Hr(t,s),o=N.useRef(!1);return N.useEffect(()=>{const l=s.current;if(l)return nN(l)},[]),u.jsx($x,{as:R4,allowPinchZoom:!0,children:u.jsx(xN,fe(L({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rr(e.onCloseAutoFocus,l=>{var d;l.preventDefault(),o.current||(d=n.triggerRef.current)==null||d.focus()}),onPointerDownOutside:rr(e.onPointerDownOutside,l=>{const d=l.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,h=d.button===2||f;o.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:rr(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})}))})}),M4=N.forwardRef((e,t)=>{const n=Ui(Wl,e.__scopePopover),s=N.useRef(!1),a=N.useRef(!1);return u.jsx(xN,fe(L({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,d;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),xN=N.forwardRef((e,t)=>{const w=e,{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p}=w,g=Me(w,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),b=Ui(Wl,n),y=Ju(n);return C2(),u.jsx(Rx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:u.jsx(Ox,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>b.onOpenChange(!1),children:u.jsx(M3,fe(L(L({"data-state":bN(b.open),role:"dialog",id:b.contentId},y),g),{ref:t,style:fe(L({},g.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),yN="PopoverClose",P4=N.forwardRef((e,t)=>{const o=e,{__scopePopover:n}=o,s=Me(o,["__scopePopover"]),a=Ui(yN,n);return u.jsx(kn.button,fe(L({type:"button"},s),{ref:t,onClick:rr(e.onClick,()=>a.onOpenChange(!1))}))});P4.displayName=yN;var L4="PopoverArrow",z4=N.forwardRef((e,t)=>{const o=e,{__scopePopover:n}=o,s=Me(o,["__scopePopover"]),a=Ju(n);return u.jsx(P3,fe(L(L({},a),s),{ref:t}))});z4.displayName=L4;function bN(e){return e?"open":"closed"}var U4=dN,B4=mN,F4=pN,H4=gN;function vN(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=vN(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function wN(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=vN(e))&&(s&&(s+=" "),s+=t);return s}const Ix="-",V4=e=>{const t=q4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:l=>{const d=l.split(Ix);return d[0]===""&&d.length!==1&&d.shift(),_N(d,t)||$4(l)},getConflictingClassGroupIds:(l,d)=>{const f=n[l]||[];return d&&s[l]?[...f,...s[l]]:f}}},_N=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?_N(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(Ix);return(l=t.validators.find(({validator:d})=>d(o)))==null?void 0:l.classGroupId},k1=/^\[(.+)\]$/,$4=e=>{if(k1.test(e)){const t=k1.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},q4=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const a in n)R0(n[a],s,a,t);return s},R0=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:C1(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(I4(a)){R0(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,l])=>{R0(l,C1(t,o),n,s)})})},C1=(e,t)=>{let n=e;return t.split(Ix).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},I4=e=>e.isThemeGetter,Y4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(o,l)=>{n.set(o,l),t++,t>e&&(t=0,s=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=s.get(o))!==void 0)return a(o,l),l},set(o,l){n.has(o)?n.set(o,l):a(o,l)}}},D0="!",M0=":",W4=M0.length,X4=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=a=>{const o=[];let l=0,d=0,f=0,h;for(let w=0;w<a.length;w++){let _=a[w];if(l===0&&d===0){if(_===M0){o.push(a.slice(f,w)),f=w+W4;continue}if(_==="/"){h=w;continue}}_==="["?l++:_==="]"?l--:_==="("?d++:_===")"&&d--}const p=o.length===0?a:a.substring(f),g=G4(p),b=g!==p,y=h&&h>f?h-f:void 0;return{modifiers:o,hasImportantModifier:b,baseClassName:g,maybePostfixModifierPosition:y}};if(t){const a=t+M0,o=s;s=l=>l.startsWith(a)?o(l.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const a=s;s=o=>n({className:o,parseClassName:a})}return s},G4=e=>e.endsWith(D0)?e.substring(0,e.length-1):e.startsWith(D0)?e.substring(1):e,K4=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let o=[];return s.forEach(l=>{l[0]==="["||t[l]?(a.push(...o.sort(),l),o=[]):o.push(l)}),a.push(...o.sort()),a}},Q4=e=>L({cache:Y4(e.cacheSize),parseClassName:X4(e),sortModifiers:K4(e)},V4(e)),Z4=/\s+/,J4=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:o}=t,l=[],d=e.trim().split(Z4);let f="";for(let h=d.length-1;h>=0;h-=1){const p=d[h],{isExternal:g,modifiers:b,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:_}=n(p);if(g){f=p+(f.length>0?" "+f:f);continue}let j=!!_,S=s(j?w.substring(0,_):w);if(!S){if(!j){f=p+(f.length>0?" "+f:f);continue}if(S=s(w),!S){f=p+(f.length>0?" "+f:f);continue}j=!1}const M=o(b).join(":"),A=y?M+D0:M,k=A+S;if(l.includes(k))continue;l.push(k);const C=a(S,j);for(let O=0;O<C.length;++O){const H=C[O];l.push(A+H)}f=p+(f.length>0?" "+f:f)}return f};function e5(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=jN(t))&&(s&&(s+=" "),s+=n);return s}const jN=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=jN(e[s]))&&(n&&(n+=" "),n+=t);return n};function t5(e,...t){let n,s,a,o=l;function l(f){const h=t.reduce((p,g)=>g(p),e());return n=Q4(h),s=n.cache.get,a=n.cache.set,o=d,d(f)}function d(f){const h=s(f);if(h)return h;const p=J4(f,n);return a(f,p),p}return function(){return o(e5.apply(null,arguments))}}const es=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},SN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,NN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,n5=/^\d+\/\d+$/,s5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,r5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,a5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,i5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,o5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,El=e=>n5.test(e),Lt=e=>!!e&&!Number.isNaN(Number(e)),xi=e=>!!e&&Number.isInteger(Number(e)),Lg=e=>e.endsWith("%")&&Lt(e.slice(0,-1)),Oa=e=>s5.test(e),l5=()=>!0,c5=e=>r5.test(e)&&!a5.test(e),EN=()=>!1,u5=e=>i5.test(e),d5=e=>o5.test(e),f5=e=>!Je(e)&&!et(e),h5=e=>ec(e,CN,EN),Je=e=>SN.test(e),fo=e=>ec(e,AN,c5),zg=e=>ec(e,y5,Lt),A1=e=>ec(e,TN,EN),m5=e=>ec(e,kN,d5),kf=e=>ec(e,ON,u5),et=e=>NN.test(e),cu=e=>tc(e,AN),p5=e=>tc(e,b5),O1=e=>tc(e,TN),g5=e=>tc(e,CN),x5=e=>tc(e,kN),Cf=e=>tc(e,ON,!0),ec=(e,t,n)=>{const s=SN.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},tc=(e,t,n=!1)=>{const s=NN.exec(e);return s?s[1]?t(s[1]):n:!1},TN=e=>e==="position"||e==="percentage",kN=e=>e==="image"||e==="url",CN=e=>e==="length"||e==="size"||e==="bg-size",AN=e=>e==="length",y5=e=>e==="number",b5=e=>e==="family-name",ON=e=>e==="shadow",v5=()=>{const e=es("color"),t=es("font"),n=es("text"),s=es("font-weight"),a=es("tracking"),o=es("leading"),l=es("breakpoint"),d=es("container"),f=es("spacing"),h=es("radius"),p=es("shadow"),g=es("inset-shadow"),b=es("text-shadow"),y=es("drop-shadow"),w=es("blur"),_=es("perspective"),j=es("aspect"),S=es("ease"),M=es("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...k(),et,Je],O=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto","contain","none"],D=()=>[et,Je,f],V=()=>[El,"full","auto",...D()],te=()=>[xi,"none","subgrid",et,Je],q=()=>["auto",{span:["full",xi,et,Je]},xi,et,Je],W=()=>[xi,"auto",et,Je],re=()=>["auto","min","max","fr",et,Je],me=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Z=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...D()],Y=()=>[El,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],G=()=>[e,et,Je],ee=()=>[...k(),O1,A1,{position:[et,Je]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ae=()=>["auto","cover","contain",g5,h5,{size:[et,Je]}],we=()=>[Lg,cu,fo],I=()=>["","none","full",h,et,Je],oe=()=>["",Lt,cu,fo],je=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[Lt,Lg,O1,A1],Oe=()=>["","none",w,et,Je],We=()=>["none",Lt,et,Je],He=()=>["none",Lt,et,Je],it=()=>[Lt,et,Je],st=()=>[El,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Oa],breakpoint:[Oa],color:[l5],container:[Oa],"drop-shadow":[Oa],ease:["in","out","in-out"],font:[f5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Oa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Oa],shadow:[Oa],spacing:["px",Lt],text:[Oa],"text-shadow":[Oa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",El,Je,et,j]}],container:["container"],columns:[{columns:[Lt,Je,et,d]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[xi,"auto",et,Je]}],basis:[{basis:[El,"full","auto",d,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Lt,El,"auto","initial","none",Je]}],grow:[{grow:["",Lt,et,Je]}],shrink:[{shrink:["",Lt,et,Je]}],order:[{order:[xi,"first","last","none",et,Je]}],"grid-cols":[{"grid-cols":te()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":te()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":re()}],"auto-rows":[{"auto-rows":re()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...me(),"normal"]}],"justify-items":[{"justify-items":[...Z(),"normal"]}],"justify-self":[{"justify-self":["auto",...Z()]}],"align-content":[{content:["normal",...me()]}],"align-items":[{items:[...Z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Z(),{baseline:["","last"]}]}],"place-content":[{"place-content":me()}],"place-items":[{"place-items":[...Z(),"baseline"]}],"place-self":[{"place-self":["auto",...Z()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[d,"screen",...Y()]}],"min-w":[{"min-w":[d,"screen","none",...Y()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",n,cu,fo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,et,zg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Lg,Je]}],"font-family":[{font:[p5,Je,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,et,Je]}],"line-clamp":[{"line-clamp":[Lt,"none",et,zg]}],leading:[{leading:[o,...D()]}],"list-image":[{"list-image":["none",et,Je]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",et,Je]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...je(),"wavy"]}],"text-decoration-thickness":[{decoration:[Lt,"from-font","auto",et,fo]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[Lt,"auto",et,Je]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",et,Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",et,Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:ae()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xi,et,Je],radial:["",et,Je],conic:[xi,et,Je]},x5,m5]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:we()}],"gradient-via-pos":[{via:we()}],"gradient-to-pos":[{to:we()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:I()}],"rounded-s":[{"rounded-s":I()}],"rounded-e":[{"rounded-e":I()}],"rounded-t":[{"rounded-t":I()}],"rounded-r":[{"rounded-r":I()}],"rounded-b":[{"rounded-b":I()}],"rounded-l":[{"rounded-l":I()}],"rounded-ss":[{"rounded-ss":I()}],"rounded-se":[{"rounded-se":I()}],"rounded-ee":[{"rounded-ee":I()}],"rounded-es":[{"rounded-es":I()}],"rounded-tl":[{"rounded-tl":I()}],"rounded-tr":[{"rounded-tr":I()}],"rounded-br":[{"rounded-br":I()}],"rounded-bl":[{"rounded-bl":I()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...je(),"hidden","none"]}],"divide-style":[{divide:[...je(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...je(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Lt,et,Je]}],"outline-w":[{outline:["",Lt,cu,fo]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",p,Cf,kf]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",g,Cf,kf]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[Lt,fo]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",b,Cf,kf]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[Lt,et,Je]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Lt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[et,Je]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Lt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:ae()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",et,Je]}],filter:[{filter:["","none",et,Je]}],blur:[{blur:Oe()}],brightness:[{brightness:[Lt,et,Je]}],contrast:[{contrast:[Lt,et,Je]}],"drop-shadow":[{"drop-shadow":["","none",y,Cf,kf]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",Lt,et,Je]}],"hue-rotate":[{"hue-rotate":[Lt,et,Je]}],invert:[{invert:["",Lt,et,Je]}],saturate:[{saturate:[Lt,et,Je]}],sepia:[{sepia:["",Lt,et,Je]}],"backdrop-filter":[{"backdrop-filter":["","none",et,Je]}],"backdrop-blur":[{"backdrop-blur":Oe()}],"backdrop-brightness":[{"backdrop-brightness":[Lt,et,Je]}],"backdrop-contrast":[{"backdrop-contrast":[Lt,et,Je]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Lt,et,Je]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Lt,et,Je]}],"backdrop-invert":[{"backdrop-invert":["",Lt,et,Je]}],"backdrop-opacity":[{"backdrop-opacity":[Lt,et,Je]}],"backdrop-saturate":[{"backdrop-saturate":[Lt,et,Je]}],"backdrop-sepia":[{"backdrop-sepia":["",Lt,et,Je]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",et,Je]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Lt,"initial",et,Je]}],ease:[{ease:["linear","initial",S,et,Je]}],delay:[{delay:[Lt,et,Je]}],animate:[{animate:["none",M,et,Je]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,et,Je]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:We()}],"rotate-x":[{"rotate-x":We()}],"rotate-y":[{"rotate-y":We()}],"rotate-z":[{"rotate-z":We()}],scale:[{scale:He()}],"scale-x":[{"scale-x":He()}],"scale-y":[{"scale-y":He()}],"scale-z":[{"scale-z":He()}],"scale-3d":["scale-3d"],skew:[{skew:it()}],"skew-x":[{"skew-x":it()}],"skew-y":[{"skew-y":it()}],transform:[{transform:[et,Je,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:st()}],"translate-x":[{"translate-x":st()}],"translate-y":[{"translate-y":st()}],"translate-z":[{"translate-z":st()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",et,Je]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",et,Je]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[Lt,cu,fo,zg]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},w5=t5(v5);function jn(...e){return w5(wN(e))}function Yx(t){var e=Me(t,[]);return u.jsx(U4,L({"data-slot":"popover"},e))}function Wx(t){var e=Me(t,[]);return u.jsx(B4,L({"data-slot":"popover-trigger"},e))}function Xx(a){var o=a,{className:e,align:t="center",sideOffset:n=4}=o,s=Me(o,["className","align","sideOffset"]);return u.jsx(F4,{children:u.jsx(H4,L({"data-slot":"popover-content",align:t,sideOffset:n,className:jn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e)},s))})}const Mu=class Mu{static useUsers(){const{data:t,isLoading:n,error:s}=_n("User",{fields:Mu.USER_FIELDS,filters:[["enabled","=",1],["user_type","=","System User"]],limit:0});return{data:t||[],isLoading:n,error:s}}static useCurrentUser(){const{currentUser:t,isLoading:n}=$l();return{currentUser:t,isLoading:n}}static useCurrentUserProfile(){const{currentUser:t}=$l(),{data:n,isLoading:s,error:a}=Un("User",t||void 0,{fields:Mu.USER_FIELDS});return{currentUserProfile:n,isLoading:s,error:a}}};ft(Mu,"USER_FIELDS",["name","email","full_name","first_name","last_name","user_image","enabled","user_type","role_profile_name"]);let Sh=Mu;const _5=Sh.useCurrentUser,j5=Sh.useCurrentUserProfile,S5=()=>ye(null,null,function*(){try{const e=yield fetch("/api/method/frappe.auth.get_logged_user",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""}});if(e.status===401||e.status===403)return{isValid:!1};if(e.ok){const t=yield e.json();if(t&&!t.exc)return{isValid:!0}}return{isValid:!1}}catch(e){return console.error("Token validation error:",e),{isValid:!1}}}),RN=()=>{try{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(t=>{const n=t.indexOf("="),s=n>-1?t.substr(0,n).trim():t.trim();document.cookie=`${s}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=${window.location.hostname}`,document.cookie=`${s}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}),console.warn("Session expired. Redirecting to login...");const e="/login";window.location.href=e}catch(e){console.error("Error handling token expiry:",e),window.location.href="/login"}},N5=()=>"/login",ch=()=>window.location.pathname.includes("/login")||window.location.pathname.includes("/signin");function E5(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const T5=e=>{switch(e){case"success":return A5;case"info":return R5;case"warning":return O5;case"error":return D5;default:return null}},k5=Array(12).fill(0),C5=({visible:e,className:t})=>J.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},J.createElement("div",{className:"sonner-spinner"},k5.map((n,s)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),A5=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),O5=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),R5=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),D5=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),M5=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),P5=()=>{const[e,t]=J.useState(document.hidden);return J.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let P0=1;class L5{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const f=t,{message:s}=f,a=Me(f,["message"]),o=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:P0++,l=this.toasts.find(h=>h.id===o),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(h=>h.id===o?(this.publish(fe(L(L({},h),t),{id:o,title:s})),fe(L(L({},h),t),{id:o,dismissible:d,title:s})):h):this.addToast(fe(L({title:s},a),{dismissible:d,id:o})),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create(fe(L({},n),{message:t})),this.error=(t,n)=>this.create(fe(L({},n),{message:t,type:"error"})),this.success=(t,n)=>this.create(fe(L({},n),{type:"success",message:t})),this.info=(t,n)=>this.create(fe(L({},n),{type:"info",message:t})),this.warning=(t,n)=>this.create(fe(L({},n),{type:"warning",message:t})),this.loading=(t,n)=>this.create(fe(L({},n),{type:"loading",message:t})),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create(fe(L({},n),{promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0})));const a=Promise.resolve(t instanceof Function?t():t);let o=s!==void 0,l;const d=a.then(h=>ye(this,null,function*(){if(l=["resolve",h],J.isValidElement(h))o=!1,this.create({id:s,type:"default",message:h});else if(U5(h)&&!h.ok){o=!1;const g=typeof n.error=="function"?yield n.error(`HTTP error! status: ${h.status}`):n.error,b=typeof n.description=="function"?yield n.description(`HTTP error! status: ${h.status}`):n.description,w=typeof g=="object"&&!J.isValidElement(g)?g:{message:g};this.create(L({id:s,type:"error",description:b},w))}else if(h instanceof Error){o=!1;const g=typeof n.error=="function"?yield n.error(h):n.error,b=typeof n.description=="function"?yield n.description(h):n.description,w=typeof g=="object"&&!J.isValidElement(g)?g:{message:g};this.create(L({id:s,type:"error",description:b},w))}else if(n.success!==void 0){o=!1;const g=typeof n.success=="function"?yield n.success(h):n.success,b=typeof n.description=="function"?yield n.description(h):n.description,w=typeof g=="object"&&!J.isValidElement(g)?g:{message:g};this.create(L({id:s,type:"success",description:b},w))}})).catch(h=>ye(this,null,function*(){if(l=["reject",h],n.error!==void 0){o=!1;const p=typeof n.error=="function"?yield n.error(h):n.error,g=typeof n.description=="function"?yield n.description(h):n.description,y=typeof p=="object"&&!J.isValidElement(p)?p:{message:p};this.create(L({id:s,type:"error",description:g},y))}})).finally(()=>{o&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((h,p)=>d.then(()=>l[0]==="reject"?p(l[1]):h(l[1])).catch(p));return typeof s!="string"&&typeof s!="number"?{unwrap:f}:Object.assign(s,{unwrap:f})},this.custom=(t,n)=>{const s=(n==null?void 0:n.id)||P0++;return this.create(L({jsx:t(s),id:s},n)),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Fs=new L5,z5=(e,t)=>{const n=(t==null?void 0:t.id)||P0++;return Fs.addToast(fe(L({title:e},t),{id:n})),n},U5=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",B5=z5,F5=()=>Fs.toasts,H5=()=>Fs.getActiveToasts(),uu=Object.assign(B5,{success:Fs.success,info:Fs.info,warning:Fs.warning,error:Fs.error,custom:Fs.custom,message:Fs.message,promise:Fs.promise,dismiss:Fs.dismiss,loading:Fs.loading},{getHistory:F5,getToasts:H5});E5("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Af(e){return e.label!==void 0}const V5=3,$5="24px",q5="16px",R1=4e3,I5=356,Y5=14,W5=45,X5=200;function Kr(...e){return e.filter(Boolean).join(" ")}function G5(e){const[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const K5=e=>{var t,n,s,a,o,l,d,f,h;const{invert:p,toast:g,unstyled:b,interacting:y,setHeights:w,visibleToasts:_,heights:j,index:S,toasts:M,expanded:A,removeToast:k,defaultRichColors:C,closeButton:O,style:H,cancelButtonStyle:D,actionButtonStyle:V,className:te="",descriptionClassName:q="",duration:W,position:re,gap:me,expandByDefault:Z,classNames:F,icons:Y,closeButtonAriaLabel:G="Close toast"}=e,[ee,z]=J.useState(null),[ae,we]=J.useState(null),[I,oe]=J.useState(!1),[je,ge]=J.useState(!1),[Ee,Oe]=J.useState(!1),[We,He]=J.useState(!1),[it,st]=J.useState(!1),[vt,Pe]=J.useState(0),[gt,Vt]=J.useState(0),jt=J.useRef(g.duration||W||R1),$t=J.useRef(null),Ct=J.useRef(null),X=S===0,ce=S+1<=_,$=g.type,Se=g.dismissible!==!1,De=g.className||"",Re=g.descriptionClassName||"",Ue=J.useMemo(()=>j.findIndex(Ge=>Ge.toastId===g.id)||0,[j,g.id]),qe=J.useMemo(()=>{var Ge;return(Ge=g.closeButton)!=null?Ge:O},[g.closeButton,O]),Ke=J.useMemo(()=>g.duration||W||R1,[g.duration,W]),xt=J.useRef(0),yn=J.useRef(0),ct=J.useRef(0),ke=J.useRef(null),[Be,Dt]=re.split("-"),Sn=J.useMemo(()=>j.reduce((Ge,wt,qt)=>qt>=Ue?Ge:Ge+wt.height,0),[j,Ue]),as=P5(),Hn=g.invert||p,ds=$==="loading";yn.current=J.useMemo(()=>Ue*me+Sn,[Ue,Sn]),J.useEffect(()=>{jt.current=Ke},[Ke]),J.useEffect(()=>{oe(!0)},[]),J.useEffect(()=>{const Ge=Ct.current;if(Ge){const wt=Ge.getBoundingClientRect().height;return Vt(wt),w(qt=>[{toastId:g.id,height:wt,position:g.position},...qt]),()=>w(qt=>qt.filter(Xt=>Xt.toastId!==g.id))}},[w,g.id]),J.useLayoutEffect(()=>{if(!I)return;const Ge=Ct.current,wt=Ge.style.height;Ge.style.height="auto";const qt=Ge.getBoundingClientRect().height;Ge.style.height=wt,Vt(qt),w(Xt=>Xt.find(se=>se.toastId===g.id)?Xt.map(se=>se.toastId===g.id?fe(L({},se),{height:qt}):se):[{toastId:g.id,height:qt,position:g.position},...Xt])},[I,g.title,g.description,w,g.id,g.jsx,g.action,g.cancel]);const Xe=J.useCallback(()=>{ge(!0),Pe(yn.current),w(Ge=>Ge.filter(wt=>wt.toastId!==g.id)),setTimeout(()=>{k(g)},X5)},[g,k,w,yn]);J.useEffect(()=>{if(g.promise&&$==="loading"||g.duration===1/0||g.type==="loading")return;let Ge;return A||y||as?(()=>{if(ct.current<xt.current){const Xt=new Date().getTime()-xt.current;jt.current=jt.current-Xt}ct.current=new Date().getTime()})():(()=>{jt.current!==1/0&&(xt.current=new Date().getTime(),Ge=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Xe()},jt.current))})(),()=>clearTimeout(Ge)},[A,y,g,$,as,Xe]),J.useEffect(()=>{g.delete&&(Xe(),g.onDismiss==null||g.onDismiss.call(g,g))},[Xe,g.delete]);function Mt(){var Ge;if(Y!=null&&Y.loading){var wt;return J.createElement("div",{className:Kr(F==null?void 0:F.loader,g==null||(wt=g.classNames)==null?void 0:wt.loader,"sonner-loader"),"data-visible":$==="loading"},Y.loading)}return J.createElement(C5,{className:Kr(F==null?void 0:F.loader,g==null||(Ge=g.classNames)==null?void 0:Ge.loader),visible:$==="loading"})}const Ut=g.icon||(Y==null?void 0:Y[$])||T5($);var St,en;return J.createElement("li",{tabIndex:0,ref:Ct,className:Kr(te,De,F==null?void 0:F.toast,g==null||(t=g.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[$],g==null||(n=g.classNames)==null?void 0:n[$]),"data-sonner-toast":"","data-rich-colors":(St=g.richColors)!=null?St:C,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":I,"data-promise":!!g.promise,"data-swiped":it,"data-removed":je,"data-visible":ce,"data-y-position":Be,"data-x-position":Dt,"data-index":S,"data-front":X,"data-swiping":Ee,"data-dismissible":Se,"data-type":$,"data-invert":Hn,"data-swipe-out":We,"data-swipe-direction":ae,"data-expanded":!!(A||Z&&I),"data-testid":g.testId,style:L(L({"--index":S,"--toasts-before":S,"--z-index":M.length-S,"--offset":`${je?vt:yn.current}px`,"--initial-height":Z?"auto":`${gt}px`},H),g.style),onDragEnd:()=>{Oe(!1),z(null),ke.current=null},onPointerDown:Ge=>{Ge.button!==2&&(ds||!Se||($t.current=new Date,Pe(yn.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(Oe(!0),ke.current={x:Ge.clientX,y:Ge.clientY})))},onPointerUp:()=>{var Ge,wt,qt;if(We||!Se)return;ke.current=null;const Xt=Number(((Ge=Ct.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Q=Number(((wt=Ct.current)==null?void 0:wt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),se=new Date().getTime()-((qt=$t.current)==null?void 0:qt.getTime()),de=ee==="x"?Xt:Q,_e=Math.abs(de)/se;if(Math.abs(de)>=W5||_e>.11){Pe(yn.current),g.onDismiss==null||g.onDismiss.call(g,g),we(ee==="x"?Xt>0?"right":"left":Q>0?"down":"up"),Xe(),He(!0);return}else{var Ae,Ve;(Ae=Ct.current)==null||Ae.style.setProperty("--swipe-amount-x","0px"),(Ve=Ct.current)==null||Ve.style.setProperty("--swipe-amount-y","0px")}st(!1),Oe(!1),z(null)},onPointerMove:Ge=>{var wt,qt,Xt;if(!ke.current||!Se||((wt=window.getSelection())==null?void 0:wt.toString().length)>0)return;const se=Ge.clientY-ke.current.y,de=Ge.clientX-ke.current.x;var _e;const Ae=(_e=e.swipeDirections)!=null?_e:G5(re);!ee&&(Math.abs(de)>1||Math.abs(se)>1)&&z(Math.abs(de)>Math.abs(se)?"x":"y");let Ve={x:0,y:0};const Qe=tt=>1/(1.5+Math.abs(tt)/20);if(ee==="y"){if(Ae.includes("top")||Ae.includes("bottom"))if(Ae.includes("top")&&se<0||Ae.includes("bottom")&&se>0)Ve.y=se;else{const tt=se*Qe(se);Ve.y=Math.abs(tt)<Math.abs(se)?tt:se}}else if(ee==="x"&&(Ae.includes("left")||Ae.includes("right")))if(Ae.includes("left")&&de<0||Ae.includes("right")&&de>0)Ve.x=de;else{const tt=de*Qe(de);Ve.x=Math.abs(tt)<Math.abs(de)?tt:de}(Math.abs(Ve.x)>0||Math.abs(Ve.y)>0)&&st(!0),(qt=Ct.current)==null||qt.style.setProperty("--swipe-amount-x",`${Ve.x}px`),(Xt=Ct.current)==null||Xt.style.setProperty("--swipe-amount-y",`${Ve.y}px`)}},qe&&!g.jsx&&$!=="loading"?J.createElement("button",{"aria-label":G,"data-disabled":ds,"data-close-button":!0,onClick:ds||!Se?()=>{}:()=>{Xe(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Kr(F==null?void 0:F.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(en=Y==null?void 0:Y.close)!=null?en:M5):null,($||g.icon||g.promise)&&g.icon!==null&&((Y==null?void 0:Y[$])!==null||g.icon)?J.createElement("div",{"data-icon":"",className:Kr(F==null?void 0:F.icon,g==null||(a=g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Mt():null,g.type!=="loading"?Ut:null):null,J.createElement("div",{"data-content":"",className:Kr(F==null?void 0:F.content,g==null||(o=g.classNames)==null?void 0:o.content)},J.createElement("div",{"data-title":"",className:Kr(F==null?void 0:F.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?J.createElement("div",{"data-description":"",className:Kr(q,Re,F==null?void 0:F.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),J.isValidElement(g.cancel)?g.cancel:g.cancel&&Af(g.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||D,onClick:Ge=>{Af(g.cancel)&&Se&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ge),Xe())},className:Kr(F==null?void 0:F.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,J.isValidElement(g.action)?g.action:g.action&&Af(g.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||V,onClick:Ge=>{Af(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ge),!Ge.defaultPrevented&&Xe())},className:Kr(F==null?void 0:F.actionButton,g==null||(h=g.classNames)==null?void 0:h.actionButton)},g.action.label):null)};function D1(){if(typeof window=="undefined"||typeof document=="undefined")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Q5(e,t){const n={};return[e,t].forEach((s,a)=>{const o=a===1,l=o?"--mobile-offset":"--offset",d=o?q5:$5;function f(h){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?f(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?n[`${l}-${h}`]=d:n[`${l}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):f(d)}),n}const Z5=J.forwardRef(function(t,n){const{id:s,invert:a,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:d,closeButton:f,className:h,offset:p,mobileOffset:g,theme:b="light",richColors:y,duration:w,style:_,visibleToasts:j=V5,toastOptions:S,dir:M=D1(),gap:A=Y5,icons:k,containerAriaLabel:C="Notifications"}=t,[O,H]=J.useState([]),D=J.useMemo(()=>s?O.filter(I=>I.toasterId===s):O.filter(I=>!I.toasterId),[O,s]),V=J.useMemo(()=>Array.from(new Set([o].concat(D.filter(I=>I.position).map(I=>I.position)))),[D,o]),[te,q]=J.useState([]),[W,re]=J.useState(!1),[me,Z]=J.useState(!1),[F,Y]=J.useState(b!=="system"?b:typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=J.useRef(null),ee=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=J.useRef(null),ae=J.useRef(!1),we=J.useCallback(I=>{H(oe=>{var je;return(je=oe.find(ge=>ge.id===I.id))!=null&&je.delete||Fs.dismiss(I.id),oe.filter(({id:ge})=>ge!==I.id)})},[]);return J.useEffect(()=>Fs.subscribe(I=>{if(I.dismiss){requestAnimationFrame(()=>{H(oe=>oe.map(je=>je.id===I.id?fe(L({},je),{delete:!0}):je))});return}setTimeout(()=>{_2.flushSync(()=>{H(oe=>{const je=oe.findIndex(ge=>ge.id===I.id);return je!==-1?[...oe.slice(0,je),L(L({},oe[je]),I),...oe.slice(je+1)]:[I,...oe]})})})}),[O]),J.useEffect(()=>{if(b!=="system"){Y(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window=="undefined")return;const I=window.matchMedia("(prefers-color-scheme: dark)");try{I.addEventListener("change",({matches:oe})=>{Y(oe?"dark":"light")})}catch(oe){I.addListener(({matches:je})=>{try{Y(je?"dark":"light")}catch(ge){console.error(ge)}})}},[b]),J.useEffect(()=>{O.length<=1&&re(!1)},[O]),J.useEffect(()=>{const I=oe=>{var je;if(l.every(Oe=>oe[Oe]||oe.code===Oe)){var Ee;re(!0),(Ee=G.current)==null||Ee.focus()}oe.code==="Escape"&&(document.activeElement===G.current||(je=G.current)!=null&&je.contains(document.activeElement))&&re(!1)};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[l]),J.useEffect(()=>{if(G.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,ae.current=!1)}},[G.current]),J.createElement("section",{ref:n,"aria-label":`${C} ${ee}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((I,oe)=>{var je;const[ge,Ee]=I.split("-");return D.length?J.createElement("ol",{key:I,dir:M==="auto"?D1():M,tabIndex:-1,ref:G,className:h,"data-sonner-toaster":!0,"data-sonner-theme":F,"data-y-position":ge,"data-x-position":Ee,style:L(L({"--front-toast-height":`${((je=te[0])==null?void 0:je.height)||0}px`,"--width":`${I5}px`,"--gap":`${A}px`},_),Q5(p,g)),onBlur:Oe=>{ae.current&&!Oe.currentTarget.contains(Oe.relatedTarget)&&(ae.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:Oe=>{Oe.target instanceof HTMLElement&&Oe.target.dataset.dismissible==="false"||ae.current||(ae.current=!0,z.current=Oe.relatedTarget)},onMouseEnter:()=>re(!0),onMouseMove:()=>re(!0),onMouseLeave:()=>{me||re(!1)},onDragEnd:()=>re(!1),onPointerDown:Oe=>{Oe.target instanceof HTMLElement&&Oe.target.dataset.dismissible==="false"||Z(!0)},onPointerUp:()=>Z(!1)},D.filter(Oe=>!Oe.position&&oe===0||Oe.position===I).map((Oe,We)=>{var He,it;return J.createElement(K5,{key:Oe.id,icons:k,index:We,toast:Oe,defaultRichColors:y,duration:(He=S==null?void 0:S.duration)!=null?He:w,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:a,visibleToasts:j,closeButton:(it=S==null?void 0:S.closeButton)!=null?it:f,interacting:me,position:I,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:we,toasts:D.filter(st=>st.position==Oe.position),heights:te.filter(st=>st.position==Oe.position),setHeights:q,expandByDefault:d,gap:A,expanded:W,swipeDirections:t.swipeDirections})})):null}))}),Of={duration:4e3};class L0{static success(t,n){const s=`success-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),uu.success(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Of.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static error(t,n){const s=`error-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),uu.error(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Of.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static info(t,n){const s=`info-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),uu.info(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Of.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static warning(t,n){const s=`warning-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),uu.warning(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Of.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static dismissAll(){uu.dismiss(),this.activeToasts.clear()}static clearCache(){this.activeToasts.clear()}}ft(L0,"activeToasts",new Set),ft(L0,"DUPLICATE_TIMEOUT",1e3);const Xn=L0,J5=({onMenuClick:e})=>{const{currentUser:t,isLoading:n}=_5(),{currentUserProfile:s}=j5(),{logout:a}=$l(),o=()=>ye(null,null,function*(){try{Xn.success("Logging out...",{description:"You will be redirected to the login page.",duration:2e3}),yield a(),setTimeout(()=>{RN()},1e3)}catch(p){console.error("Logout failed:",p),Xn.error("Logout failed",{description:"Please try again or contact support."}),setTimeout(()=>{window.location.href=N5()},2e3)}}),l=()=>s?s.full_name||s.first_name||s.email||"User":!t||typeof t=="string"?t||"Guest":t.full_name||t.first_name||t.email||"User",d=()=>t?l().split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2):"G",f=()=>s!=null&&s.user_image?s.user_image:null,h=()=>s?s.email:t&&typeof t!="string"?t.email:t||"No email";return u.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:u.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 lg:hidden",children:u.jsx(pM,{className:"h-5 w-5 text-gray-600"})}),u.jsxs("div",{className:"relative hidden md:block",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Wh,{className:"h-4 w-4 text-gray-400"})}),u.jsx("input",{type:"text",className:"block w-80 pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects, tasks, or team members..."})]})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[u.jsx(AD,{className:"h-5 w-5 text-gray-600"}),u.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),u.jsx("div",{className:"relative",children:u.jsxs(Yx,{children:[u.jsx(Wx,{asChild:!0,children:u.jsxs("button",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f()?u.jsx("img",{src:f(),alt:"User avatar",className:"w-8 h-8 rounded-full object-cover"}):u.jsx("span",{className:"text-xs font-medium text-white",children:d()})}),u.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:n?"Loading...":l()}),u.jsx(S2,{className:"h-4 w-4 text-gray-500"})]})}),u.jsxs(Xx,{className:"w-64 p-0",align:"end",children:[u.jsx("div",{className:"p-4 border-b border-gray-100",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f()?u.jsx("img",{src:f(),alt:"User avatar",className:"w-10 h-10 rounded-full object-cover"}):u.jsx("span",{className:"text-sm font-medium text-white",children:d()})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900",children:l()}),u.jsx("p",{className:"text-sm text-gray-500",children:h()})]})]})}),u.jsxs("div",{className:"p-2",children:[u.jsxs("button",{className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[u.jsx(E2,{className:"h-4 w-4 text-gray-500"}),u.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),u.jsxs("button",{onClick:o,className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-red-50 transition-colors duration-200 text-red-600",children:[u.jsx(hM,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm",children:"Sign out"})]})]})]})]})})]})]})})},eL=t=>{var e=Me(t,[]);const{theme:n="system"}=iO();return u.jsx(Z5,L({theme:n,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"}},e))},tL=()=>{const[e,t]=N.useState(!1);return u.jsxs("div",{className:"flex h-screen bg-gray-50",children:[u.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:u.jsx(r1,{})}),e&&u.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>t(!1)}),u.jsx("div",{className:"relative flex flex-col w-64 h-full bg-white shadow-xl",children:u.jsx(r1,{})})]}),u.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[u.jsx(J5,{onMenuClick:()=>t(!e)}),u.jsx("main",{className:"flex-1 overflow-y-auto",children:u.jsx("div",{className:"py-6",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx(BR,{})})})})]}),u.jsx(eL,{position:"top-right",richColors:!0,expand:!0,closeButton:!0,toastOptions:{duration:4e3}})]})},nL=(e={})=>{const{checkIntervalMinutes:t=5,showNotifications:n=!0,enabled:s=!0,onTokenExpired:a}=e,{currentUser:o,isLoading:l}=$l(),d=N.useRef(null),f=N.useRef(!1),h=N.useCallback(()=>{d.current&&(clearInterval(d.current),d.current=null)},[]),p=N.useCallback(()=>{h(),n&&Xn.error("Session Expired",{description:"Your session has expired. Please log in again.",duration:3e3}),a==null||a(),setTimeout(()=>{RN()},1e3)},[h,a,n]),g=N.useCallback(()=>ye(null,null,function*(){try{return(yield S5()).isValid?(f.current=!1,!0):(console.warn("Authentication check failed - token invalid"),p(),!1)}catch(_){return console.error("Error checking authentication:",_),!0}}),[p]),b=N.useCallback(()=>{if(!s||l||!o||ch())return;h(),g();const _=t*60*1e3;d.current=setInterval(g,_),console.log(`Auth watcher started - checking every ${t} minutes`)},[s,l,o,t,g,h]);N.useEffect(()=>(o&&!l?b():h(),h),[o,l,b,h]),N.useEffect(()=>h,[h]);const y=N.useCallback(()=>g(),[g]),w=N.useCallback(()=>{p()},[p]);return{checkAuth:y,forceLogout:w,isWatching:!!d.current,currentUser:o,isLoading:l}},sL=({children:e,checkInterval:t=5,showNotifications:n=!0})=>{const{isWatching:s,currentUser:a,isLoading:o}=nL({checkIntervalMinutes:t,showNotifications:n,enabled:!ch(),onTokenExpired:()=>{console.log("Token expired callback triggered")}});return N.useEffect(()=>{ch()||console.log("Auth watcher initialized:",{isWatching:s,currentUser:!!a,isLoading:o,checkInterval:t})},[s,a,o,t]),ch()?u.jsx(u.Fragment,{children:e}):o?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.jsx(u.Fragment,{children:e})};function rL(){return u.jsx(JA,{siteName:"frontend",socketPort:"9000",children:u.jsx(oO,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:u.jsx(sL,{checkInterval:5,showNotifications:!0,children:u.jsx(tL,{})})})})}const aL=()=>{const[e,t]=N.useState("all"),[n,s]=N.useState("all"),[a,o]=N.useState("all"),[l,d]=N.useState([]),[f,h]=N.useState(!1),{data:p,isLoading:g,error:b}=_n("Project",{fields:["name","project_name","status","department","team","estimated_costing","expected_end_date","percent_complete"]}),{data:y,isLoading:w,error:_}=_n("project_phase",{fields:["name"]});N.useEffect(()=>{ye(null,null,function*(){if(!y||y.length===0){d([]);return}h(!0),console.log("🔄 Fetching individual phase documents for tasks...");try{const W=y.map(Z=>ye(null,null,function*(){try{const F=yield fetch(`/api/resource/project_phase/${Z.name}`,{method:"GET",headers:{Accept:"application/json"}});if(!F.ok)return console.warn(`❌ Failed to fetch phase ${Z.name}:`,F.status),null;const Y=yield F.json(),G=Y.data||Y;return console.log(`✅ Phase ${Z.name} full data:`,G),console.log(`📋 Phase ${Z.name} tasks:`,G.tasks),G}catch(F){return console.error(`💥 Error fetching phase ${Z.name}:`,F),null}})),me=(yield Promise.all(W)).filter(Z=>Z!==null);console.log("🎉 All phases with tasks loaded:",me),d(me)}catch(W){console.error("💥 Error in fetchPhasesWithTasks:",W)}finally{h(!1)}})},[y]);const{data:j,isLoading:S,error:M}=_n("Task",{fields:["name","subject","status","exp_end_date","exp_start_date","project","progress","priority","is_group"]}),{data:A,isLoading:k}=_n("Timesheet",{fields:["name","total_hours"]}),C=(p||[]).map(q=>{var W;return fe(L({},q),{project_type:q.project_type||"",customer:q.customer||"",company:q.company||"",department:q.department||"",team:q.team||"",expected_start_date:q.expected_start_date||"",expected_end_date:q.expected_end_date||"",actual_start_date:q.actual_start_date||"",actual_end_date:q.actual_end_date||null,percent_complete:q.percent_complete||0,priority:q.priority||"Medium",estimated_costing:q.estimated_costing||0,total_billable_amount:q.total_billable_amount||0,total_billed_amount:q.total_billed_amount||0,gross_margin:q.gross_margin||0,estimated_hours:q.estimated_hours||0,total_hours:q.total_hours||0,is_active:(W=q.is_active)!=null?W:!0})}),O=N.useMemo(()=>!l||l.length===0?[]:l.map(q=>{const W=q.tasks||[];return console.log(`📊 Processing Phase ${q.name} with ${W.length} tasks:`,W),fe(L({},q),{phase_name:q.subject||q.name||"",status:q.status||"Open",expected_start_date:q.start_date||"",expected_end_date:q.end_date||"",actual_start_date:q.start_date||"",actual_end_date:null,progress:q.progress||0,description:q.details||"",tasks:W})}),[l]),H=(j||[]).map(q=>fe(L({},q),{project:q.project||"",priority:q.priority||"Medium",type:q.type||"",expected_time:q.expected_time||0,actual_time:q.actual_time||0,start_date:q.exp_start_date||"",end_date:q.exp_end_date||"",progress:q.progress||0,assigned_to:q.assigned_to||null,is_group:q.is_group||!1,parent_task_name:q.parent_task_name||null})),D=(A||[]).map(q=>({name:q.name,employee:q.employee||"",project:"",task:"",start_date:q.start_date||"",end_date:q.end_date||"",total_hours:q.total_hours||0,billable:!0,billing_hours:0,billing_rate:0,billing_amount:0})),V=g||w||f||S||k,te=N.useMemo(()=>{let q=C;n!=="all"&&n!==""&&(q=q.filter(Z=>Z.department===n)),a!=="all"&&a!==""&&(q=q.filter(Z=>Z.team===a)),e!=="all"&&e!==""&&(q=q.filter(Z=>Z.project_name===e));const W=q.map(Z=>Z.project_name),re=q.map(Z=>Z.name),me=O.filter(Z=>re.includes(Z.project));return{filteredProjects:q,filteredPhases:me,filteredTasks:H.filter(Z=>{const F=Z.project||"";return re.includes(F)}),filteredTimesheets:D.filter(Z=>Z.project?W.includes(Z.project):!0)}},[C,O,H,D,e,n,a]);return{allProjects:C,allPhases:O,filteredData:te,selectedProject:e,selectedDepartment:n,selectedTeam:a,setSelectedProject:t,setSelectedDepartment:s,setSelectedTeam:o,isLoading:V}},tm=({title:e,children:t,className:n=""})=>u.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 mb-6 ${n}`,children:[e&&u.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-4",children:e}),t]}),iL=({projects:e,selectedProject:t,selectedDepartment:n,selectedTeam:s,onProjectChange:a,onDepartmentChange:o,onTeamChange:l})=>{const[d,f]=N.useState(!0),h=Array.from(new Set(e.map(y=>y.department).filter(Boolean))),p=n==="all"||n===""?[]:Array.from(new Set(e.filter(y=>y.department===n).map(y=>y.team).filter(Boolean))),g=e.filter(y=>n==="all"||n===""?!0:y.department!==n?!1:s==="all"||s===""?!0:y.team===s),b=()=>{const y=[];return n!=="all"&&y.push(`Phòng ban: ${n}`),s!=="all"&&y.push(`Team: ${s}`),t!=="all"&&y.push(`Dự án: ${t}`),y.length>0?y.join(" | "):"Tất cả dự án"};return u.jsx(tm,{title:u.jsxs("div",{className:"flex items-center justify-between w-full cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded-md transition-colors",onClick:()=>f(!d),children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Tx,{className:"w-5 h-5 mr-2 text-blue-600"}),u.jsx("span",{children:"Bộ lọc dự án"}),!d&&u.jsxs("span",{className:"ml-3 text-sm text-gray-600 font-normal",children:["- ",b()]})]}),u.jsx("button",{className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors p-1 rounded-md hover:bg-blue-50",title:d?"Thu gọn":"Mở rộng",onClick:y=>{y.stopPropagation(),f(!d)},children:d?u.jsx(UD,{className:"w-5 h-5"}):u.jsx(S2,{className:"w-5 h-5"})})]}),children:d&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phòng ban"}),u.jsxs("select",{value:n,onChange:y=>{o(y.target.value),l("all")},className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"Tất cả phòng ban"}),h.map(y=>u.jsx("option",{value:y,children:y},y))]})]}),n!=="all"&&n!==""&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team"}),u.jsxs("select",{value:s,onChange:y=>l(y.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"Tất cả team"}),p.map(y=>u.jsx("option",{value:y,children:y},y))]})]}),u.jsxs("div",{className:n!=="all"&&n!==""?"md:col-span-2":"md:col-span-3",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dự án"}),u.jsxs("select",{value:t,onChange:y=>a(y.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"Tất cả dự án"}),g.map(y=>u.jsxs("option",{value:y.project_name,children:[y.project_name," (",y.department," - ",y.team,")"]},y.name))]})]})]})})},oL=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),lL=e=>{switch(e){case"Open":case"Đang mở":return"bg-blue-100 text-blue-800";case"Working":case"Đang thực hiện":return"bg-orange-100 text-orange-800";case"Completed":case"Hoàn thành":return"bg-green-100 text-green-800";case"Overdue":case"Quá hạn":case"Sắp đến hạn":return"bg-red-100 text-red-800";case"Cancelled":case"Hủy":case"Đã hủy":return"bg-gray-100 text-gray-800";case"Đang xem xét":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},cL=e=>{switch(e){case"Urgent":case"Khẩn cấp":return"bg-red-100 text-red-800";case"High":case"Cao":return"bg-orange-100 text-red-800";case"Medium":case"Trung bình":return"bg-yellow-100 text-yellow-800";case"Low":case"Thấp":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},uL=({projects:e,tasks:t,selectedProject:n})=>{const s=n&&n!=="all",a=s?"Task":"Dự án";let o,l,d;if(s){o=t.filter(g=>g.status==="Open"||g.status==="Working"||g.status!=="Completed"&&g.status!=="Cancelled").length,l=t.filter(g=>g.status==="Completed").length;const p=new Date;d=t.filter(g=>g.exp_end_date?new Date(g.exp_end_date)<p&&g.status!=="Completed":!1).length,t.reduce((g,b)=>g+(b.expected_time||0),0)}else{o=e.filter(g=>g.status==="Đang thực hiện"||g.status!=="Hoàn thành"&&g.status!=="Hủy"&&g.percent_complete<100).length,l=e.filter(g=>g.status==="Hoàn thành"||g.percent_complete===100).length;const p=new Date;d=e.filter(g=>new Date(g.expected_end_date)<p&&g.status!=="Hoàn thành"&&g.percent_complete<100).length}const f=e.reduce((p,g)=>p+(g.estimated_costing||0),0),h=[{title:`${a} đang hoạt động`,value:o,icon:TD,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-blue-500 to-blue-600",cardBg:"bg-white",shadow:"shadow-lg shadow-blue-500/20",change:"+55%",changeText:"than last week",changeColor:"text-green-500"},{title:`${a} hoàn thành`,value:l,icon:$D,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-green-500 to-green-600",cardBg:"bg-white",shadow:"shadow-lg shadow-green-500/20",change:"+3%",changeText:"than last month",changeColor:"text-green-500"},{title:`${a} quá hạn`,value:d,icon:Kl,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-pink-500 to-pink-600",cardBg:"bg-white",shadow:"shadow-lg shadow-pink-500/20",change:"+1%",changeText:"than yesterday",changeColor:"text-green-500"},{title:"Chi phí Dự án",value:oL(f),icon:wM,iconColor:"text-white",iconBg:"bg-gradient-to-br from-yellow-200 to-yellow-600",cardBg:"bg-white",shadow:"shadow-lg shadow-yellow-500/20",change:"+91",changeText:"Just updated",changeColor:"text-gray-500"}];return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:h.map((p,g)=>{const b=p.icon;return u.jsx("div",{className:`${p.cardBg} ${p.shadow} rounded-xl p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:`${p.iconBg} ${p.iconColor} p-3 rounded-2xl shadow-lg`,children:u.jsx(b,{className:"h-6 w-6"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:p.title}),u.jsx("p",{className:`${p.title.includes("Chi phí")?"text-2xl":"text-3xl"} font-bold text-gray-900`,children:p.value})]})]})},g)})})},dL=({projects:e,tasks:t,selectedProject:n})=>{const s=n&&n!=="all",a=J.useMemo(()=>{const p=new Date;return p.setHours(0,0,0,0),e.map((b,y)=>({id:`milestone-${y}`,name:b.project_name,project:b.project_name,endDate:new Date(b.expected_end_date),priority:b.priority,status:b.percent_complete===100?"completed":b.percent_complete>0?"in progress":"upcoming",progress:b.percent_complete})).filter(b=>{const y=new Date(b.endDate);y.setHours(0,0,0,0);const w=Math.ceil((y.getTime()-p.getTime())/(1e3*60*60*24));return b.status!=="completed"&&w>=0&&w<=60}).sort((b,y)=>{const w=new Date;w.setHours(0,0,0,0);const _=new Date(b.endDate);_.setHours(0,0,0,0);const j=new Date(y.endDate);j.setHours(0,0,0,0);const S=Math.abs(_.getTime()-w.getTime()),M=Math.abs(j.getTime()-w.getTime()),A=S-M;if(A!==0)return A;const k={"Khẩn cấp":0,Cao:1,"Trung bình":2,Thấp:3,Urgent:0,High:1,Medium:2,Low:3};return(k[b.priority]||3)-(k[y.priority]||3)})},[e]),o=J.useMemo(()=>{if(!s)return[];const p=new Date;return p.setHours(0,0,0,0),t.filter(g=>{if(!g.exp_end_date||g.status==="Completed")return!1;const b=new Date(g.exp_end_date);b.setHours(0,0,0,0);const y=Math.ceil((b.getTime()-p.getTime())/(1e3*60*60*24));return y>=0&&y<=30}).sort((g,b)=>{const y=new Date;y.setHours(0,0,0,0);const w=new Date(g.exp_end_date);w.setHours(0,0,0,0);const _=new Date(b.exp_end_date);_.setHours(0,0,0,0);const j=Math.abs(w.getTime()-y.getTime()),S=Math.abs(_.getTime()-y.getTime()),M=j-S;if(M!==0)return M;const A={Urgent:0,High:1,Medium:2,Low:3};return(A[g.priority]||3)-(A[b.priority]||3)})},[t,s]),l=p=>{switch(p){case"completed":return"bg-green-500";case"in progress":return"bg-blue-500";case"upcoming":return"bg-gray-300";default:return"bg-gray-300"}},d=p=>{switch(p){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},f=p=>p.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),h=p=>{const g=new Date;g.setHours(0,0,0,0);const b=new Date(p);b.setHours(0,0,0,0);const y=Math.ceil((b.getTime()-g.getTime())/(1e3*60*60*24));return y<0?{text:`Quá hạn ${Math.abs(y)} ngày`,color:"text-red-600",urgent:!0}:y===0?{text:"Hôm nay",color:"text-red-600",urgent:!0}:y<=3?{text:`${y} ngày nữa`,color:"text-red-600",urgent:!0}:y<=7?{text:`${y} ngày nữa`,color:"text-orange-600",urgent:!0}:y<=14?{text:`${y} ngày nữa`,color:"text-yellow-600",urgent:!1}:{text:`${y} ngày nữa`,color:"text-gray-600",urgent:!1}};return u.jsx("div",{className:"grid grid-cols-1 gap-8",children:u.jsx(tm,{title:s?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})," ","gần ",u.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn "})," (<30 ngày)"]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Dự án"})," ","sắp ",u.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn"})," (<30 ngày)"]}),children:u.jsx("div",{className:`space-y-6 ${s?o.length>=3?"h-80 overflow-y-auto":"overflow-visible":a.length>=3?"h-80 overflow-y-auto":"overflow-visible"}`,children:s?u.jsxs(u.Fragment,{children:[o.map((p,g)=>{const b=h(new Date(p.exp_end_date));return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center space-x-3",children:u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("h4",{className:"font-medium text-gray-900",children:p.subject}),u.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(p.priority)}`,children:p.priority})]}),u.jsx("div",{className:"mt-1",children:u.jsx("span",{className:`text-xs font-medium ${b.color}`,children:b.text})})]})}),u.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[u.jsx(wr,{className:"h-4 w-4 mr-1"}),f(new Date(p.exp_end_date))]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"Progress"}),u.jsxs("span",{className:"font-medium",children:[p.progress||0,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full ${p.status==="Completed"?"bg-green-500":p.status==="Working"?"bg-blue-500":"bg-gray-300"}`,style:{width:`${p.progress||0}%`}})})]})]},`task-${g}`)}),o.length===0&&u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx(wr,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),u.jsx("p",{children:"Không có task nào sắp đến hạn"})]})]}):u.jsxs(u.Fragment,{children:[a.map(p=>{const g=h(p.endDate);return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center space-x-3",children:u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("h4",{className:"font-medium text-gray-900",children:p.name}),u.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(p.priority)}`,children:p.priority})]}),u.jsx("div",{className:"mt-1",children:u.jsx("span",{className:`text-xs font-medium ${g.color}`,children:g.text})})]})}),u.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[u.jsx(wr,{className:"h-4 w-4 mr-1"}),f(p.endDate)]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"Progress"}),u.jsxs("span",{className:"font-medium",children:[p.progress,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full ${l(p.status)}`,style:{width:`${p.progress}%`}})})]})]},p.id)}),a.length===0&&u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx(wr,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),u.jsx("p",{children:"Không có dự án nào sắp đến hạn"})]})]})})})})},fL=({projects:e,tasks:t,selectedProject:n})=>{const[s,a]=N.useState(null),[o,l]=N.useState(!0),d=w=>{a(_=>_===w?null:w)},f=n&&n!=="all",p=(()=>{if(f){const w={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Open",height:30},working:{projects:[],color:"#f59e0b",lightColor:"#fbbf24",darkColor:"#d97706",label:"Working",height:25},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Completed",height:20},overdue:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Overdue",height:40},cancelled:{projects:[],color:"#6b7280",lightColor:"#9ca3af",darkColor:"#4b5563",label:"Cancelled",height:35}};return t.forEach(_=>{const j=new Date;_.exp_end_date&&new Date(_.exp_end_date)<j&&_.status!=="Completed"&&_.status!=="Cancelled"?w.overdue.projects.push(_):_.status==="Completed"?w.completed.projects.push(_):_.status==="Working"?w.working.projects.push(_):_.status==="Cancelled"?w.cancelled.projects.push(_):w.open.projects.push(_)}),w}else{const w={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Đang mở",height:30},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Hoàn thành",height:20},cancelled:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Đã hủy",height:40}};return e.forEach(_=>{_.status==="Completed"||_.status==="Hoàn thành"?w.completed.projects.push(_):_.status==="Cancelled"||_.status==="Canceled"||_.status==="Hủy"?w.cancelled.projects.push(_):w.open.projects.push(_)}),w}})(),g=f?t.length:e.length,b=w=>{const _={Urgent:4,High:3,Medium:2,Low:1};return w.sort((j,S)=>{const M=_[j.priority]||0;return(_[S.priority]||0)-M})};Object.values(p).forEach(w=>{w.projects=b(w.projects)});const y=()=>{const[w,_]=J.useState({visible:!1,x:0,y:0,categoryKey:""}),j=360,S=j/2,M=j/2,A=170;let k=0;const C=Object.entries(p).filter(([,V])=>V.projects.length>0),O=(V,te)=>{const q=te.clientX,W=te.clientY;_({visible:!0,x:q+15,y:W-10,categoryKey:V})},H=(V,te)=>{if(w.visible&&w.categoryKey===V){const q=te.clientX,W=te.clientY;_(re=>fe(L({},re),{x:q+15,y:W-10}))}},D=()=>{_({visible:!1,x:0,y:0,categoryKey:""})};return u.jsxs("div",{className:"relative flex flex-col items-center",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-6 text-center max-w-xs",children:f?"Biểu đồ phân bố Tasks theo trạng thái":"Biểu đồ phân bố dự án theo trạng thái"}),u.jsx("div",{className:"relative",style:{width:j,height:j},children:u.jsxs("svg",{width:j,height:j,className:"absolute top-0 left-0",children:[u.jsx("defs",{children:u.jsx("filter",{id:"dropshadow2d",x:"-20%",y:"-20%",width:"140%",height:"140%",children:u.jsx("feDropShadow",{dx:"2",dy:"4",stdDeviation:"4",floodOpacity:"0.2"})})}),(k=0,C.map(([V,te])=>{const q=te.projects.length/g*100,W=k,re=k+q/100*360;k=re;const me=W*Math.PI/180,Z=re*Math.PI/180,F=(W+re)/2*Math.PI/180,Y=S+A*Math.cos(me),G=M+A*Math.sin(me),ee=S+A*Math.cos(Z),z=M+A*Math.sin(Z),ae=re-W>180?1:0,we=C.length===1;let I;we?I=`M ${S} ${M+A} A ${A} ${A} 0 1 1 ${S} ${M-A} A ${A} ${A} 0 1 1 ${S} ${M+A} Z`:I=[`M ${S} ${M}`,`L ${Y} ${G}`,`A ${A} ${A} 0 ${ae} 1 ${ee} ${z}`,"Z"].join(" ");const oe=A*.7,je=we?S:S+oe*Math.cos(F),ge=we?M:M+oe*Math.sin(F);return u.jsxs("g",{children:[u.jsx("path",{d:I,fill:te.color,stroke:"white",strokeWidth:"2",filter:"url(#dropshadow2d)",className:"hover:opacity-80 transition-opacity cursor-pointer",onMouseEnter:Ee=>O(V,Ee),onMouseMove:Ee=>H(V,Ee),onMouseLeave:D}),q>5&&u.jsxs("text",{x:je,y:ge,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs font-bold fill-white pointer-events-none",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:[Math.round(q),"%"]})]},`segment-${V}`)}))]})}),w.visible&&w.categoryKey&&p[w.categoryKey]&&u.jsxs("div",{className:"fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-xs pointer-events-none",style:{left:w.x,top:w.y,transform:"translate(-50%, -100%)"},children:[u.jsxs("div",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded mr-2",style:{backgroundColor:p[w.categoryKey].color}}),p[w.categoryKey].label," (",p[w.categoryKey].projects.length,")"]}),u.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:p[w.categoryKey].projects.map((V,te)=>u.jsxs("div",{className:"text-xs border-b border-gray-100 pb-1 last:border-b-0",children:[u.jsx("div",{className:"font-medium text-gray-700",children:f?V.subject:V.project_name}),u.jsxs("div",{className:"text-gray-500 flex justify-between",children:[u.jsx("span",{children:f?`${V.progress||0}% hoàn thành`:`${V.percent_complete}% hoàn thành`}),u.jsxs("span",{className:"font-medium",children:["Priority: ",V.priority]})]})]},te))})]})]})};return u.jsx(tm,{title:u.jsx("div",{className:"flex items-center justify-between w-full cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded-md transition-colors",onClick:()=>l(!o),children:u.jsx("div",{className:"flex items-center",children:u.jsx("span",{children:f?u.jsxs(u.Fragment,{children:["Tổng quan ",u.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})]}):u.jsxs(u.Fragment,{children:["Tổng quan ",u.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"dự án"})]})})})}),children:o&&u.jsx("div",{children:g===0?u.jsx("div",{className:"flex flex-col items-center justify-center py-16",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-8xl text-gray-300 mb-6",children:"📊"}),u.jsx("p",{className:"text-xl font-medium text-gray-600 mb-3",children:f?"Không có task nào":"Không có dự án nào"}),u.jsx("p",{className:"text-base text-gray-500 max-w-md",children:f?"Không có task nào đang thực hiện trong dự án này":"Không có dự án nào đang thực hiện"})]})}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsx("div",{className:"flex flex-col items-center",children:u.jsx(y,{})}),u.jsx("div",{className:"space-y-4",children:Object.entries(p).map(([w,_])=>_.projects.length>0&&u.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[u.jsxs("button",{onClick:()=>d(w),className:"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between border-l-4",style:{borderLeftColor:_.color},children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:_.color}}),u.jsxs("h4",{className:"font-semibold text-gray-800",children:[_.label," (",_.projects.length,")"]})]}),u.jsx("div",{className:"flex items-center",children:u.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${s===w?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),u.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${s===w?"max-h-96":"max-h-0"}`,children:u.jsx("div",{className:"p-4 space-y-2 max-h-80 overflow-y-auto",children:_.projects.map(j=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:[u.jsx("div",{className:"flex-1 min-w-0",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:f?j.subject:j.project_name}),u.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ml-2 flex-shrink-0 ${j.priority==="Urgent"?"bg-red-100 text-red-800":j.priority==="High"?"bg-orange-100 text-orange-800":j.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:j.priority})]})}),u.jsx("div",{className:"flex flex-col items-end ml-3",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(f?j.progress||0:j.percent_complete||0,100)}%`,backgroundColor:(()=>{const S=f?j.progress||0:j.percent_complete||0;return S>=100?"#22c55e":S>=70?"#3b82f6":S>=30?"#f59e0b":"#ef4444"})()}})}),u.jsxs("span",{className:"text-xs font-semibold text-gray-600 min-w-[35px] text-right",children:[f?j.progress||0:j.percent_complete||0,"%"]})]})})]},j.name))})})]},w))})]})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ed(e){return e+.5|0}const ji=(e,t,n)=>Math.max(Math.min(e,n),t);function ju(e){return ji(ed(e*2.55),0,255)}function Ei(e){return ji(ed(e*255),0,255)}function La(e){return ji(ed(e/2.55)/100,0,1)}function M1(e){return ji(ed(e*100),0,100)}const xr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},z0=[..."0123456789ABCDEF"],hL=e=>z0[e&15],mL=e=>z0[(e&240)>>4]+z0[e&15],Rf=e=>(e&240)>>4===(e&15),pL=e=>Rf(e.r)&&Rf(e.g)&&Rf(e.b)&&Rf(e.a);function gL(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&xr[e[1]]*17,g:255&xr[e[2]]*17,b:255&xr[e[3]]*17,a:t===5?xr[e[4]]*17:255}:(t===7||t===9)&&(n={r:xr[e[1]]<<4|xr[e[2]],g:xr[e[3]]<<4|xr[e[4]],b:xr[e[5]]<<4|xr[e[6]],a:t===9?xr[e[7]]<<4|xr[e[8]]:255})),n}const xL=(e,t)=>e<255?t(e):"";function yL(e){var t=pL(e)?hL:mL;return e?"#"+t(e.r)+t(e.g)+t(e.b)+xL(e.a,t):void 0}const bL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function DN(e,t,n){const s=t*Math.min(n,1-n),a=(o,l=(o+e/30)%12)=>n-s*Math.max(Math.min(l-3,9-l,1),-1);return[a(0),a(8),a(4)]}function vL(e,t,n){const s=(a,o=(a+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function wL(e,t,n){const s=DN(e,1,.5);let a;for(t+n>1&&(a=1/(t+n),t*=a,n*=a),a=0;a<3;a++)s[a]*=1-t-n,s[a]+=t;return s}function _L(e,t,n,s,a){return e===a?(t-n)/s+(t<n?6:0):t===a?(n-e)/s+2:(e-t)/s+4}function Gx(e){const n=e.r/255,s=e.g/255,a=e.b/255,o=Math.max(n,s,a),l=Math.min(n,s,a),d=(o+l)/2;let f,h,p;return o!==l&&(p=o-l,h=d>.5?p/(2-o-l):p/(o+l),f=_L(n,s,a,p,o),f=f*60+.5),[f|0,h||0,d]}function Kx(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(Ei)}function Qx(e,t,n){return Kx(DN,e,t,n)}function jL(e,t,n){return Kx(wL,e,t,n)}function SL(e,t,n){return Kx(vL,e,t,n)}function MN(e){return(e%360+360)%360}function NL(e){const t=bL.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?ju(+t[5]):Ei(+t[5]));const a=MN(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?s=jL(a,o,l):t[1]==="hsv"?s=SL(a,o,l):s=Qx(a,o,l),{r:s[0],g:s[1],b:s[2],a:n}}function EL(e,t){var n=Gx(e);n[0]=MN(n[0]+t),n=Qx(n),e.r=n[0],e.g=n[1],e.b=n[2]}function TL(e){if(!e)return;const t=Gx(e),n=t[0],s=M1(t[1]),a=M1(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${a}%, ${La(e.a)})`:`hsl(${n}, ${s}%, ${a}%)`}const P1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},L1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function kL(){const e={},t=Object.keys(L1),n=Object.keys(P1);let s,a,o,l,d;for(s=0;s<t.length;s++){for(l=d=t[s],a=0;a<n.length;a++)o=n[a],d=d.replace(o,P1[o]);o=parseInt(L1[l],16),e[d]=[o>>16&255,o>>8&255,o&255]}return e}let Df;function CL(e){Df||(Df=kL(),Df.transparent=[0,0,0,0]);const t=Df[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const AL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function OL(e){const t=AL.exec(e);let n=255,s,a,o;if(t){if(t[7]!==s){const l=+t[7];n=t[8]?ju(l):ji(l*255,0,255)}return s=+t[1],a=+t[3],o=+t[5],s=255&(t[2]?ju(s):ji(s,0,255)),a=255&(t[4]?ju(a):ji(a,0,255)),o=255&(t[6]?ju(o):ji(o,0,255)),{r:s,g:a,b:o,a:n}}}function RL(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${La(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Ug=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Tl=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function DL(e,t,n){const s=Tl(La(e.r)),a=Tl(La(e.g)),o=Tl(La(e.b));return{r:Ei(Ug(s+n*(Tl(La(t.r))-s))),g:Ei(Ug(a+n*(Tl(La(t.g))-a))),b:Ei(Ug(o+n*(Tl(La(t.b))-o))),a:e.a+n*(t.a-e.a)}}function Mf(e,t,n){if(e){let s=Gx(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=Qx(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function PN(e,t){return e&&Object.assign(t||{},e)}function z1(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ei(e[3]))):(t=PN(e,{r:0,g:0,b:0,a:1}),t.a=Ei(t.a)),t}function ML(e){return e.charAt(0)==="r"?OL(e):NL(e)}class Vu{constructor(t){if(t instanceof Vu)return t;const n=typeof t;let s;n==="object"?s=z1(t):n==="string"&&(s=gL(t)||CL(t)||ML(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=PN(this._rgb);return t&&(t.a=La(t.a)),t}set rgb(t){this._rgb=z1(t)}rgbString(){return this._valid?RL(this._rgb):void 0}hexString(){return this._valid?yL(this._rgb):void 0}hslString(){return this._valid?TL(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,a=t.rgb;let o;const l=n===o?.5:n,d=2*l-1,f=s.a-a.a,h=((d*f===-1?d:(d+f)/(1+d*f))+1)/2;o=1-h,s.r=255&h*s.r+o*a.r+.5,s.g=255&h*s.g+o*a.g+.5,s.b=255&h*s.b+o*a.b+.5,s.a=l*s.a+(1-l)*a.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=DL(this._rgb,t._rgb,n)),this}clone(){return new Vu(this.rgb)}alpha(t){return this._rgb.a=Ei(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=ed(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Mf(this._rgb,2,t),this}darken(t){return Mf(this._rgb,2,-t),this}saturate(t){return Mf(this._rgb,1,t),this}desaturate(t){return Mf(this._rgb,1,-t),this}rotate(t){return EL(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ra(){}const PL=(()=>{let e=0;return()=>e++})();function mn(e){return e==null}function ss(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Zt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Sr(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Qr(e,t){return Sr(e)?e:t}function Qt(e,t){return typeof e=="undefined"?t:e}const LL=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,LN=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function bn(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function rn(e,t,n,s){let a,o,l;if(ss(e))for(o=e.length,a=0;a<o;a++)t.call(n,e[a],a);else if(Zt(e))for(l=Object.keys(e),o=l.length,a=0;a<o;a++)t.call(n,e[l[a]],l[a])}function Nh(e,t){let n,s,a,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(a=e[n],o=t[n],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Eh(e){if(ss(e))return e.map(Eh);if(Zt(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let a=0;for(;a<s;++a)t[n[a]]=Eh(e[n[a]]);return t}return e}function zN(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function zL(e,t,n,s){if(!zN(e))return;const a=t[e],o=n[e];Zt(a)&&Zt(o)?$u(a,o,s):t[e]=Eh(o)}function $u(e,t,n){const s=ss(t)?t:[t],a=s.length;if(!Zt(e))return e;n=n||{};const o=n.merger||zL;let l;for(let d=0;d<a;++d){if(l=s[d],!Zt(l))continue;const f=Object.keys(l);for(let h=0,p=f.length;h<p;++h)o(f[h],e,l,n)}return e}function ku(e,t){return $u(e,t,{merger:UL})}function UL(e,t,n){if(!zN(e))return;const s=t[e],a=n[e];Zt(s)&&Zt(a)?ku(s,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Eh(a))}const U1={"":e=>e,x:e=>e.x,y:e=>e.y};function BL(e){const t=e.split("."),n=[];let s="";for(const a of t)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function FL(e){const t=BL(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function Oo(e,t){return(U1[t]||(U1[t]=FL(t)))(e)}function Zx(e){return e.charAt(0).toUpperCase()+e.slice(1)}const qu=e=>typeof e!="undefined",Di=e=>typeof e=="function",B1=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function HL(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const hn=Math.PI,Gn=2*hn,Th=Number.POSITIVE_INFINITY,VL=hn/180,rs=hn/2,ho=hn/4,F1=hn*2/3,UN=Math.log10,Ti=Math.sign;function uh(e,t,n){return Math.abs(e-t)<n}function H1(e){const t=Math.round(e);e=uh(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(UN(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function $L(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((a,o)=>a-o).pop(),t}function qL(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function kh(e){return!qL(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function IL(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function YL(e,t,n){let s,a,o;for(s=0,a=e.length;s<a;s++)o=e[s][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ba(e){return e*(hn/180)}function WL(e){return e*(180/hn)}function V1(e){if(!Sr(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function BN(e,t){const n=t.x-e.x,s=t.y-e.y,a=Math.sqrt(n*n+s*s);let o=Math.atan2(s,n);return o<-.5*hn&&(o+=Gn),{angle:o,distance:a}}function XL(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ea(e){return(e%Gn+Gn)%Gn}function Ch(e,t,n,s){const a=ea(e),o=ea(t),l=ea(n),d=ea(o-a),f=ea(l-a),h=ea(a-o),p=ea(a-l);return a===o||a===l||s&&o===l||d>f&&h<p}function qs(e,t,n){return Math.max(t,Math.min(n,e))}function GL(e){return qs(e,-32768,32767)}function So(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function Jx(e,t,n){n=n||(l=>e[l]<t);let s=e.length-1,a=0,o;for(;s-a>1;)o=a+s>>1,n(o)?a=o:s=o;return{lo:a,hi:s}}const U0=(e,t,n,s)=>Jx(e,n,s?a=>{const o=e[a][t];return o<n||o===n&&e[a+1][t]===n}:a=>e[a][t]<n),KL=(e,t,n)=>Jx(e,n,s=>e[s][t]>=n);function QL(e,t,n){let s=0,a=e.length;for(;s<a&&e[s]<t;)s++;for(;a>s&&e[a-1]>n;)a--;return s>0||a<e.length?e.slice(s,a):e}const FN=["push","pop","shift","splice","unshift"];function ZL(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),FN.forEach(n=>{const s="_onData"+Zx(n),a=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...o){const l=a.apply(this,o);return e._chartjs.listeners.forEach(d=>{typeof d[s]=="function"&&d[s](...o)}),l}})})}function $1(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,a=s.indexOf(t);a!==-1&&s.splice(a,1),!(s.length>0)&&(FN.forEach(o=>{delete e[o]}),delete e._chartjs)}function HN(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const VN=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function $N(e,t){let n=[],s=!1;return function(...a){n=a,s||(s=!0,VN.call(window,()=>{s=!1,e.apply(t,n)}))}}function JL(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const ey=e=>e==="start"?"left":e==="end"?"right":"center",ws=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,e6=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t,Pf=e=>e===0||e===1,q1=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Gn/n)),I1=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Gn/n)+1,Cu={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*rs)+1,easeOutSine:e=>Math.sin(e*rs),easeInOutSine:e=>-.5*(Math.cos(hn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Pf(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Pf(e)?e:q1(e,.075,.3),easeOutElastic:e=>Pf(e)?e:I1(e,.075,.3),easeInOutElastic(e){return Pf(e)?e:e<.5?.5*q1(e*2,.1125,.45):.5+.5*I1(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Cu.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Cu.easeInBounce(e*2)*.5:Cu.easeOutBounce(e*2-1)*.5+.5};function qN(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Y1(e){return qN(e)?e:new Vu(e)}function Bg(e){return qN(e)?e:new Vu(e).saturate(.5).darken(.1).hexString()}const t6=["x","y","borderWidth","radius","tension"],n6=["color","borderColor","backgroundColor"];function s6(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:n6},numbers:{type:"number",properties:t6}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function r6(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const W1=new Map;function a6(e,t){t=t||{};const n=e+JSON.stringify(t);let s=W1.get(n);return s||(s=new Intl.NumberFormat(e,t),W1.set(n,s)),s}function ty(e,t,n){return a6(t,n).format(e)}const i6={values(e){return ss(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let a,o=e;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(a="scientific"),o=o6(e,n)}const l=UN(Math.abs(o)),d=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:a,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(f,this.options.ticks.format),ty(e,s,f)}};function o6(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var IN={formatters:i6};function l6(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:IN.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ro=Object.create(null),B0=Object.create(null);function Au(e,t){if(!t)return e;const n=t.split(".");for(let s=0,a=n.length;s<a;++s){const o=n[s];e=e[o]||(e[o]=Object.create(null))}return e}function Fg(e,t,n){return typeof t=="string"?$u(Au(e,t),n):$u(Au(e,""),t)}class c6{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>Bg(a.backgroundColor),this.hoverBorderColor=(s,a)=>Bg(a.borderColor),this.hoverColor=(s,a)=>Bg(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Fg(this,t,n)}get(t){return Au(this,t)}describe(t,n){return Fg(B0,t,n)}override(t,n){return Fg(Ro,t,n)}route(t,n,s,a){const o=Au(this,t),l=Au(this,s),d="_"+n;Object.defineProperties(o,{[d]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[d],h=l[a];return Zt(f)?Object.assign({},h,f):Qt(f,h)},set(f){this[d]=f}}})}apply(t){t.forEach(n=>n(this))}}var Bn=new c6({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[s6,r6,l6]);function u6(e){return!e||mn(e.size)||mn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function X1(e,t,n,s,a){let o=t[a];return o||(o=t[a]=e.measureText(a).width,n.push(a)),o>s&&(s=o),s}function mo(e,t,n){const s=e.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((t-a)*s)/s+a}function G1(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function K1(e,t,n,s){YN(e,t,n,s,null)}function YN(e,t,n,s,a){let o,l,d,f,h,p,g,b;const y=t.pointStyle,w=t.rotation,_=t.radius;let j=(w||0)*VL;if(y&&typeof y=="object"&&(o=y.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(j),e.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),e.restore();return}if(!(isNaN(_)||_<=0)){switch(e.beginPath(),y){default:a?e.ellipse(n,s,a/2,_,0,0,Gn):e.arc(n,s,_,0,Gn),e.closePath();break;case"triangle":p=a?a/2:_,e.moveTo(n+Math.sin(j)*p,s-Math.cos(j)*_),j+=F1,e.lineTo(n+Math.sin(j)*p,s-Math.cos(j)*_),j+=F1,e.lineTo(n+Math.sin(j)*p,s-Math.cos(j)*_),e.closePath();break;case"rectRounded":h=_*.516,f=_-h,l=Math.cos(j+ho)*f,g=Math.cos(j+ho)*(a?a/2-h:f),d=Math.sin(j+ho)*f,b=Math.sin(j+ho)*(a?a/2-h:f),e.arc(n-g,s-d,h,j-hn,j-rs),e.arc(n+b,s-l,h,j-rs,j),e.arc(n+g,s+d,h,j,j+rs),e.arc(n-b,s+l,h,j+rs,j+hn),e.closePath();break;case"rect":if(!w){f=Math.SQRT1_2*_,p=a?a/2:f,e.rect(n-p,s-f,2*p,2*f);break}j+=ho;case"rectRot":g=Math.cos(j)*(a?a/2:_),l=Math.cos(j)*_,d=Math.sin(j)*_,b=Math.sin(j)*(a?a/2:_),e.moveTo(n-g,s-d),e.lineTo(n+b,s-l),e.lineTo(n+g,s+d),e.lineTo(n-b,s+l),e.closePath();break;case"crossRot":j+=ho;case"cross":g=Math.cos(j)*(a?a/2:_),l=Math.cos(j)*_,d=Math.sin(j)*_,b=Math.sin(j)*(a?a/2:_),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+b,s-l),e.lineTo(n-b,s+l);break;case"star":g=Math.cos(j)*(a?a/2:_),l=Math.cos(j)*_,d=Math.sin(j)*_,b=Math.sin(j)*(a?a/2:_),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+b,s-l),e.lineTo(n-b,s+l),j+=ho,g=Math.cos(j)*(a?a/2:_),l=Math.cos(j)*_,d=Math.sin(j)*_,b=Math.sin(j)*(a?a/2:_),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+b,s-l),e.lineTo(n-b,s+l);break;case"line":l=a?a/2:Math.cos(j)*_,d=Math.sin(j)*_,e.moveTo(n-l,s-d),e.lineTo(n+l,s+d);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(j)*(a?a/2:_),s+Math.sin(j)*_);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function WN(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function ny(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function sy(e){e.restore()}function d6(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),mn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function f6(e,t,n,s,a){if(a.strikethrough||a.underline){const o=e.measureText(s),l=t-o.actualBoundingBoxLeft,d=t+o.actualBoundingBoxRight,f=n-o.actualBoundingBoxAscent,h=n+o.actualBoundingBoxDescent,p=a.strikethrough?(f+h)/2:h;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(l,p),e.lineTo(d,p),e.stroke()}}function h6(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Iu(e,t,n,s,a,o={}){const l=ss(t)?t:[t],d=o.strokeWidth>0&&o.strokeColor!=="";let f,h;for(e.save(),e.font=a.string,d6(e,o),f=0;f<l.length;++f)h=l[f],o.backdrop&&h6(e,o.backdrop),d&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),mn(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(h,n,s,o.maxWidth)),e.fillText(h,n,s,o.maxWidth),f6(e,n,s,h,o),s+=Number(a.lineHeight);e.restore()}function Ah(e,t){const{x:n,y:s,w:a,h:o,radius:l}=t;e.arc(n+l.topLeft,s+l.topLeft,l.topLeft,1.5*hn,hn,!0),e.lineTo(n,s+o-l.bottomLeft),e.arc(n+l.bottomLeft,s+o-l.bottomLeft,l.bottomLeft,hn,rs,!0),e.lineTo(n+a-l.bottomRight,s+o),e.arc(n+a-l.bottomRight,s+o-l.bottomRight,l.bottomRight,rs,0,!0),e.lineTo(n+a,s+l.topRight),e.arc(n+a-l.topRight,s+l.topRight,l.topRight,0,-rs,!0),e.lineTo(n+l.topLeft,s)}const m6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,p6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function g6(e,t){const n=(""+e).match(m6);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const x6=e=>+e||0;function ry(e,t){const n={},s=Zt(t),a=s?Object.keys(t):t,o=Zt(e)?s?l=>Qt(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of a)n[l]=x6(o(l));return n}function XN(e){return ry(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Fl(e){return ry(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Nr(e){const t=XN(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function js(e,t){e=e||{},t=t||Bn.font;let n=Qt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=Qt(e.style,t.style);s&&!(""+s).match(p6)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:Qt(e.family,t.family),lineHeight:g6(Qt(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:Qt(e.weight,t.weight),string:""};return a.string=u6(a),a}function Lf(e,t,n,s){let a,o,l;for(a=0,o=e.length;a<o;++a)if(l=e[a],l!==void 0&&l!==void 0)return l}function y6(e,t,n){const{min:s,max:a}=e,o=LN(t,(a-s)/2),l=(d,f)=>n&&d===0?0:d+f;return{min:l(s,-Math.abs(o)),max:l(a,o)}}function nc(e,t){return Object.assign(Object.create(e),t)}function ay(e,t=[""],n,s,a=()=>e[0]){const o=n||e;typeof s=="undefined"&&(s=ZN("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:s,_getTarget:a,override:d=>ay([d,...e],t,o,s)};return new Proxy(l,{deleteProperty(d,f){return delete d[f],delete d._keys,delete e[0][f],!0},get(d,f){return KN(d,f,()=>E6(f,t,e,d))},getOwnPropertyDescriptor(d,f){return Reflect.getOwnPropertyDescriptor(d._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(d,f){return Z1(d).includes(f)},ownKeys(d){return Z1(d)},set(d,f,h){const p=d._storage||(d._storage=a());return d[f]=p[f]=h,delete d._keys,!0}})}function Xl(e,t,n,s){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:GN(e,s),setContext:o=>Xl(e,o,n,s),override:o=>Xl(e.override(o),t,n,s)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete e[l],!0},get(o,l,d){return KN(o,l,()=>v6(o,l,d))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(o,l,d){return e[l]=d,delete o[l],!0}})}function GN(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:n,indexable:s,isScriptable:Di(n)?n:()=>n,isIndexable:Di(s)?s:()=>s}}const b6=(e,t)=>e?e+Zx(t):t,iy=(e,t)=>Zt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function KN(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function v6(e,t,n){const{_proxy:s,_context:a,_subProxy:o,_descriptors:l}=e;let d=s[t];return Di(d)&&l.isScriptable(t)&&(d=w6(t,d,e,n)),ss(d)&&d.length&&(d=_6(t,d,e,l.isIndexable)),iy(t,d)&&(d=Xl(d,a,o&&o[t],l)),d}function w6(e,t,n,s){const{_proxy:a,_context:o,_subProxy:l,_stack:d}=n;if(d.has(e))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+e);d.add(e);let f=t(o,l||s);return d.delete(e),iy(e,f)&&(f=oy(a._scopes,a,e,f)),f}function _6(e,t,n,s){const{_proxy:a,_context:o,_subProxy:l,_descriptors:d}=n;if(typeof o.index!="undefined"&&s(e))return t[o.index%t.length];if(Zt(t[0])){const f=t,h=a._scopes.filter(p=>p!==f);t=[];for(const p of f){const g=oy(h,a,e,p);t.push(Xl(g,o,l&&l[e],d))}}return t}function QN(e,t,n){return Di(e)?e(t,n):e}const j6=(e,t)=>e===!0?t:typeof e=="string"?Oo(t,e):void 0;function S6(e,t,n,s,a){for(const o of t){const l=j6(n,o);if(l){e.add(l);const d=QN(l._fallback,n,a);if(typeof d!="undefined"&&d!==n&&d!==s)return d}else if(l===!1&&typeof s!="undefined"&&n!==s)return null}return!1}function oy(e,t,n,s){const a=t._rootScopes,o=QN(t._fallback,n,s),l=[...e,...a],d=new Set;d.add(s);let f=Q1(d,l,n,o||n,s);return f===null||typeof o!="undefined"&&o!==n&&(f=Q1(d,l,o,f,s),f===null)?!1:ay(Array.from(d),[""],a,o,()=>N6(t,n,s))}function Q1(e,t,n,s,a){for(;n;)n=S6(e,t,n,s,a);return n}function N6(e,t,n){const s=e._getTarget();t in s||(s[t]={});const a=s[t];return ss(a)&&Zt(n)?n:a||{}}function E6(e,t,n,s){let a;for(const o of t)if(a=ZN(b6(o,e),n),typeof a!="undefined")return iy(e,a)?oy(n,s,e,a):a}function ZN(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s!="undefined")return s}}function Z1(e){let t=e._keys;return t||(t=e._keys=T6(e._scopes)),t}function T6(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(a=>!a.startsWith("_")))t.add(s);return Array.from(t)}function ly(){return typeof window!="undefined"&&typeof document!="undefined"}function cy(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Oh(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const nm=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function k6(e,t){return nm(e).getPropertyValue(t)}const C6=["top","right","bottom","left"];function Eo(e,t,n){const s={};n=n?"-"+n:"";for(let a=0;a<4;a++){const o=C6[a];s[o]=parseFloat(e[t+"-"+o+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const A6=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function O6(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:a,offsetY:o}=s;let l=!1,d,f;if(A6(a,o,e.target))d=a,f=o;else{const h=t.getBoundingClientRect();d=s.clientX-h.left,f=s.clientY-h.top,l=!0}return{x:d,y:f,box:l}}function xo(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,a=nm(n),o=a.boxSizing==="border-box",l=Eo(a,"padding"),d=Eo(a,"border","width"),{x:f,y:h,box:p}=O6(e,n),g=l.left+(p&&d.left),b=l.top+(p&&d.top);let{width:y,height:w}=t;return o&&(y-=l.width+d.width,w-=l.height+d.height),{x:Math.round((f-g)/y*n.width/s),y:Math.round((h-b)/w*n.height/s)}}function R6(e,t,n){let s,a;if(t===void 0||n===void 0){const o=e&&cy(e);if(!o)t=e.clientWidth,n=e.clientHeight;else{const l=o.getBoundingClientRect(),d=nm(o),f=Eo(d,"border","width"),h=Eo(d,"padding");t=l.width-h.width-f.width,n=l.height-h.height-f.height,s=Oh(d.maxWidth,o,"clientWidth"),a=Oh(d.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:s||Th,maxHeight:a||Th}}const zf=e=>Math.round(e*10)/10;function D6(e,t,n,s){const a=nm(e),o=Eo(a,"margin"),l=Oh(a.maxWidth,e,"clientWidth")||Th,d=Oh(a.maxHeight,e,"clientHeight")||Th,f=R6(e,t,n);let{width:h,height:p}=f;if(a.boxSizing==="content-box"){const b=Eo(a,"border","width"),y=Eo(a,"padding");h-=y.width+b.width,p-=y.height+b.height}return h=Math.max(0,h-o.width),p=Math.max(0,s?h/s:p-o.height),h=zf(Math.min(h,l,f.maxWidth)),p=zf(Math.min(p,d,f.maxHeight)),h&&!p&&(p=zf(h/2)),(t!==void 0||n!==void 0)&&s&&f.height&&p>f.height&&(p=f.height,h=zf(Math.floor(p*s))),{width:h,height:p}}function J1(e,t,n){const s=t||1,a=Math.floor(e.height*s),o=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||l.height!==a||l.width!==o?(e.currentDevicePixelRatio=s,l.height=a,l.width=o,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const M6=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};ly()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function ej(e,t){const n=k6(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const P6=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},L6=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Hl(e,t,n){return e?P6(t,n):L6()}function JN(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function eE(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Uf(e,t,n){return e.options.clip?e[n]:t[n]}function z6(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:Uf(n,t,"left"),right:Uf(n,t,"right"),top:Uf(s,t,"top"),bottom:Uf(s,t,"bottom")}:t}function U6(e,t){const n=t._clip;if(n.disabled)return!1;const s=z6(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class B6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,a){const o=n.listeners[a],l=n.duration;o.forEach(d=>d({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(s-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=VN.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const o=s.items;let l=o.length-1,d=!1,f;for(;l>=0;--l)f=o[l],f._active?(f._total>s.duration&&(s.duration=f._total),f.tick(t),d=!0):(o[l]=o[o.length-1],o.pop());d&&(a.draw(),this._notify(a,s,t,"progress")),o.length||(s.running=!1,this._notify(a,s,t,"complete"),s.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ma=new B6;const tj="transparent",F6={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=Y1(e||tj),a=s.valid&&Y1(t||tj);return a&&a.valid?a.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class H6{constructor(t,n,s,a){const o=n[s];a=Lf([t.to,a,o,t.from]);const l=Lf([t.from,o,a]);this._active=!0,this._fn=t.fn||F6[t.type||typeof l],this._easing=Cu[t.easing]||Cu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=l,this._to=a,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const a=this._target[this._prop],o=s-this._start,l=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Lf([t.to,n,a,t.from]),this._from=Lf([t.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,a=this._prop,o=this._from,l=this._loop,d=this._to;let f;if(this._active=o!==d&&(l||n<s),!this._active){this._target[a]=d,this._notify(!0);return}if(n<0){this._target[a]=o;return}f=n/s%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,d,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][n]()}}class tE{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Zt(t))return;const n=Object.keys(Bn.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!Zt(o))return;const l={};for(const d of n)l[d]=o[d];(ss(o.properties)&&o.properties||[a]).forEach(d=>{(d===a||!s.has(d))&&s.set(d,l)})})}_animateOptions(t,n){const s=n.options,a=$6(t,s);if(!a)return[];const o=this._createAnimations(a,s);return s.$shared&&V6(t.options.$animations,s).then(()=>{t.options=s},()=>{}),o}_createAnimations(t,n){const s=this._properties,a=[],o=t.$animations||(t.$animations={}),l=Object.keys(n),d=Date.now();let f;for(f=l.length-1;f>=0;--f){const h=l[f];if(h.charAt(0)==="$")continue;if(h==="options"){a.push(...this._animateOptions(t,n));continue}const p=n[h];let g=o[h];const b=s.get(h);if(g)if(b&&g.active()){g.update(b,p,d);continue}else g.cancel();if(!b||!b.duration){t[h]=p;continue}o[h]=g=new H6(b,t,h,p),a.push(g)}return a}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return Ma.add(this._chart,s),!0}}function V6(e,t){const n=[],s=Object.keys(t);for(let a=0;a<s.length;a++){const o=e[s[a]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function $6(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function nj(e,t){const n=e&&e.options||{},s=n.reverse,a=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:s?o:a,end:s?a:o}}function q6(e,t,n){if(n===!1)return!1;const s=nj(e,n),a=nj(t,n);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function I6(e){let t,n,s,a;return Zt(e)?(t=e.top,n=e.right,s=e.bottom,a=e.left):t=n=s=a=e,{top:t,right:n,bottom:s,left:a,disabled:e===!1}}function nE(e,t){const n=[],s=e._getSortedDatasetMetas(t);let a,o;for(a=0,o=s.length;a<o;++a)n.push(s[a].index);return n}function sj(e,t,n,s={}){const a=e.keys,o=s.mode==="single";let l,d,f,h;if(t===null)return;let p=!1;for(l=0,d=a.length;l<d;++l){if(f=+a[l],f===n){if(p=!0,s.all)continue;break}h=e.values[f],Sr(h)&&(o||t===0||Ti(t)===Ti(h))&&(t+=h)}return!p&&!s.all?0:t}function Y6(e,t){const{iScale:n,vScale:s}=t,a=n.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",l=Object.keys(e),d=new Array(l.length);let f,h,p;for(f=0,h=l.length;f<h;++f)p=l[f],d[f]={[a]:p,[o]:e[p]};return d}function Hg(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function W6(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function X6(e){const{min:t,max:n,minDefined:s,maxDefined:a}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function G6(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function rj(e,t,n,s){for(const a of t.getMatchingVisibleMetas(s).reverse()){const o=e[a.index];if(n&&o>0||!n&&o<0)return a.index}return null}function aj(e,t){const{chart:n,_cachedMeta:s}=e,a=n._stacks||(n._stacks={}),{iScale:o,vScale:l,index:d}=s,f=o.axis,h=l.axis,p=W6(o,l,s),g=t.length;let b;for(let y=0;y<g;++y){const w=t[y],{[f]:_,[h]:j}=w,S=w._stacks||(w._stacks={});b=S[h]=G6(a,p,_),b[d]=j,b._top=rj(b,l,!0,s.type),b._bottom=rj(b,l,!1,s.type);const M=b._visualValues||(b._visualValues={});M[d]=j}}function Vg(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function K6(e,t){return nc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Q6(e,t,n){return nc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function du(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const a of t){const o=a._stacks;if(!o||o[s]===void 0||o[s][n]===void 0)return;delete o[s][n],o[s]._visualValues!==void 0&&o[s]._visualValues[n]!==void 0&&delete o[s]._visualValues[n]}}}const $g=e=>e==="reset"||e==="none",ij=(e,t)=>t?e:Object.assign({},e),Z6=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:nE(n,!0),values:null};class Vl{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Hg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&du(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),a=(g,b,y,w)=>g==="x"?b:g==="r"?w:y,o=n.xAxisID=Qt(s.xAxisID,Vg(t,"x")),l=n.yAxisID=Qt(s.yAxisID,Vg(t,"y")),d=n.rAxisID=Qt(s.rAxisID,Vg(t,"r")),f=n.indexAxis,h=n.iAxisID=a(f,o,l,d),p=n.vAxisID=a(f,l,o,d);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&$1(this._data,this),t._stacked&&du(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(Zt(n)){const a=this._cachedMeta;this._data=Y6(n,a)}else if(s!==n){if(s){$1(s,this);const a=this._cachedMeta;du(a),a._parsed=[]}n&&Object.isExtensible(n)&&ZL(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const o=n._stacked;n._stacked=Hg(n.vScale,n),n.stack!==s.stack&&(a=!0,du(n),n.stack=s.stack),this._resyncElements(t),(a||o!==n._stacked)&&(aj(this,n._parsed),n._stacked=Hg(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:a}=this,{iScale:o,_stacked:l}=s,d=o.axis;let f=t===0&&n===a.length?!0:s._sorted,h=t>0&&s._parsed[t-1],p,g,b;if(this._parsing===!1)s._parsed=a,s._sorted=!0,b=a;else{ss(a[t])?b=this.parseArrayData(s,a,t,n):Zt(a[t])?b=this.parseObjectData(s,a,t,n):b=this.parsePrimitiveData(s,a,t,n);const y=()=>g[d]===null||h&&g[d]<h[d];for(p=0;p<n;++p)s._parsed[p+t]=g=b[p],f&&(y()&&(f=!1),h=g);s._sorted=f}l&&aj(this,b)}parsePrimitiveData(t,n,s,a){const{iScale:o,vScale:l}=t,d=o.axis,f=l.axis,h=o.getLabels(),p=o===l,g=new Array(a);let b,y,w;for(b=0,y=a;b<y;++b)w=b+s,g[b]={[d]:p||o.parse(h[w],w),[f]:l.parse(n[w],w)};return g}parseArrayData(t,n,s,a){const{xScale:o,yScale:l}=t,d=new Array(a);let f,h,p,g;for(f=0,h=a;f<h;++f)p=f+s,g=n[p],d[f]={x:o.parse(g[0],p),y:l.parse(g[1],p)};return d}parseObjectData(t,n,s,a){const{xScale:o,yScale:l}=t,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,h=new Array(a);let p,g,b,y;for(p=0,g=a;p<g;++p)b=p+s,y=n[b],h[p]={x:o.parse(Oo(y,d),b),y:l.parse(Oo(y,f),b)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const a=this.chart,o=this._cachedMeta,l=n[t.axis],d={keys:nE(a,!0),values:n._stacks[t.axis]._visualValues};return sj(d,l,o.index,{mode:s})}updateRangeFromParsed(t,n,s,a){const o=s[n.axis];let l=o===null?NaN:o;const d=a&&s._stacks[n.axis];a&&d&&(a.values=d,l=sj(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const s=this._cachedMeta,a=s._parsed,o=s._sorted&&t===s.iScale,l=a.length,d=this._getOtherScale(t),f=Z6(n,s,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=X6(d);let b,y;function w(){y=a[b];const _=y[d.axis];return!Sr(y[t.axis])||p>_||g<_}for(b=0;b<l&&!(!w()&&(this.updateRangeFromParsed(h,t,y,f),o));++b);if(o){for(b=l-1;b>=0;--b)if(!w()){this.updateRangeFromParsed(h,t,y,f);break}}return h}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let a,o,l;for(a=0,o=n.length;a<o;++a)l=n[a][t.axis],Sr(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,a=n.vScale,o=this.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=I6(Qt(this.options.clip,q6(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,a=s.data||[],o=n.chartArea,l=[],d=this._drawStart||0,f=this._drawCount||a.length-d,h=this.options.drawActiveElementsOnTop;let p;for(s.dataset&&s.dataset.draw(t,o,d,f),p=d;p<d+f;++p){const g=a[p];g.hidden||(g.active&&h?l.push(g):g.draw(t,o))}for(p=0;p<l.length;++p)l[p].draw(t,o)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=Q6(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=K6(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const a=n==="active",o=this._cachedDataOpts,l=t+"-"+n,d=o[l],f=this.enableOptionSharing&&qu(s);if(d)return ij(d,f);const h=this.chart.config,p=h.datasetElementScopeKeys(this._type,t),g=a?[`${t}Hover`,"hover",t,""]:[t,""],b=h.getOptionScopes(this.getDataset(),p),y=Object.keys(Bn.elements[t]),w=()=>this.getContext(s,a,n),_=h.resolveNamedOptions(b,y,w,g);return _.$shared&&(_.$shared=f,o[l]=Object.freeze(ij(_,f))),_}_resolveAnimations(t,n,s){const a=this.chart,o=this._cachedDataOpts,l=`animation-${n}`,d=o[l];if(d)return d;let f;if(a.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,n),b=p.getOptionScopes(this.getDataset(),g);f=p.createResolver(b,this.getContext(t,s,n))}const h=new tE(a,f&&f.animations);return f&&f._cacheable&&(o[l]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||$g(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),a=this._sharedOptions,o=this.getSharedOptions(s),l=this.includeOptions(n,o)||o!==a;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:l}}updateElement(t,n,s,a){$g(a)?Object.assign(t,s):this._resolveAnimations(n,a).update(t,s)}updateSharedOptions(t,n,s){t&&!$g(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,a){t.active=a;const o=this.getStyle(n,a);this._resolveAnimations(n,s,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[d,f,h]of this._syncList)this[d](f,h);this._syncList=[];const a=s.length,o=n.length,l=Math.min(o,a);l&&this.parse(0,l),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,n,s=!0){const a=this._cachedMeta,o=a.data,l=t+n;let d;const f=h=>{for(h.length+=n,d=h.length-1;d>=l;d--)h[d]=h[d-n]};for(f(o),d=t;d<l;++d)o[d]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(t,n),s&&this.updateElements(o,t,n,"reset")}updateElements(t,n,s,a){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(t,n);s._stacked&&du(s,a)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,a]=t;this[n](s,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ft(Vl,"defaults",{}),ft(Vl,"datasetElementType",null),ft(Vl,"dataElementType",null);function J6(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let s=[];for(let a=0,o=n.length;a<o;a++)s=s.concat(n[a].controller.getAllParsedValues(e));e._cache.$bar=HN(s.sort((a,o)=>a-o))}return e._cache.$bar}function ez(e){const t=e.iScale,n=J6(t,e.type);let s=t._length,a,o,l,d;const f=()=>{l===32767||l===-32768||(qu(d)&&(s=Math.min(s,Math.abs(l-d)||s)),d=l)};for(a=0,o=n.length;a<o;++a)l=t.getPixelForValue(n[a]),f();for(d=void 0,a=0,o=t.ticks.length;a<o;++a)l=t.getPixelForTick(a),f();return s}function tz(e,t,n,s){const a=n.barThickness;let o,l;return mn(a)?(o=t.min*n.categoryPercentage,l=n.barPercentage):(o=a*s,l=1),{chunk:o/s,ratio:l,start:t.pixels[e]-o/2}}function nz(e,t,n,s){const a=t.pixels,o=a[e];let l=e>0?a[e-1]:null,d=e<a.length-1?a[e+1]:null;const f=n.categoryPercentage;l===null&&(l=o-(d===null?t.end-t.start:d-o)),d===null&&(d=o+o-l);const h=o-(o-Math.min(l,d))/2*f;return{chunk:Math.abs(d-l)/2*f/s,ratio:n.barPercentage,start:h}}function sz(e,t,n,s){const a=n.parse(e[0],s),o=n.parse(e[1],s),l=Math.min(a,o),d=Math.max(a,o);let f=l,h=d;Math.abs(l)>Math.abs(d)&&(f=d,h=l),t[n.axis]=h,t._custom={barStart:f,barEnd:h,start:a,end:o,min:l,max:d}}function sE(e,t,n,s){return ss(e)?sz(e,t,n,s):t[n.axis]=n.parse(e,s),t}function oj(e,t,n,s){const a=e.iScale,o=e.vScale,l=a.getLabels(),d=a===o,f=[];let h,p,g,b;for(h=n,p=n+s;h<p;++h)b=t[h],g={},g[a.axis]=d||a.parse(l[h],h),f.push(sE(b,g,o,h));return f}function qg(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function rz(e,t,n){return e!==0?Ti(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function az(e){let t,n,s,a,o;return e.horizontal?(t=e.base>e.x,n="left",s="right"):(t=e.base<e.y,n="bottom",s="top"),t?(a="end",o="start"):(a="start",o="end"),{start:n,end:s,reverse:t,top:a,bottom:o}}function iz(e,t,n,s){let a=t.borderSkipped;const o={};if(!a){e.borderSkipped=o;return}if(a===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:d,reverse:f,top:h,bottom:p}=az(e);a==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===s?a=h:(n._bottom||0)===s?a=p:(o[lj(p,l,d,f)]=!0,a=h)),o[lj(a,l,d,f)]=!0,e.borderSkipped=o}function lj(e,t,n,s){return s?(e=oz(e,t,n),e=cj(e,n,t)):e=cj(e,t,n),e}function oz(e,t,n){return e===t?n:e===n?t:e}function cj(e,t,n){return e==="start"?t:e==="end"?n:e}function lz(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class dh extends Vl{parsePrimitiveData(t,n,s,a){return oj(t,n,s,a)}parseArrayData(t,n,s,a){return oj(t,n,s,a)}parseObjectData(t,n,s,a){const{iScale:o,vScale:l}=t,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,h=o.axis==="x"?d:f,p=l.axis==="x"?d:f,g=[];let b,y,w,_;for(b=s,y=s+a;b<y;++b)_=n[b],w={},w[o.axis]=o.parse(Oo(_,h),b),g.push(sE(Oo(_,p),w,l,b));return g}updateRangeFromParsed(t,n,s,a){super.updateRangeFromParsed(t,n,s,a);const o=s._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:s,vScale:a}=n,o=this.getParsed(t),l=o._custom,d=qg(l)?"["+l.start+", "+l.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,a){const o=a==="reset",{index:l,_cachedMeta:{vScale:d}}=this,f=d.getBasePixel(),h=d.isHorizontal(),p=this._getRuler(),{sharedOptions:g,includeOptions:b}=this._getSharedOptions(n,a);for(let y=n;y<n+s;y++){const w=this.getParsed(y),_=o||mn(w[d.axis])?{base:f,head:f}:this._calculateBarValuePixels(y),j=this._calculateBarIndexPixels(y,p),S=(w._stacks||{})[d.axis],M={horizontal:h,base:_.base,enableBorderRadius:!S||qg(w._custom)||l===S._top||l===S._bottom,x:h?_.head:j.center,y:h?j.center:_.head,height:h?j.size:Math.abs(_.size),width:h?Math.abs(_.size):j.size};b&&(M.options=g||this.resolveDataElementOptions(y,t[y].active?"active":a));const A=M.options||t[y].options;iz(M,A,S,l),lz(M,A,p.ratio),this.updateElement(t[y],y,M,a)}}_getStacks(t,n){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=s.options.stacked,l=[],d=this._cachedMeta.controller.getParsed(n),f=d&&d[s.axis],h=p=>{const g=p._parsed.find(y=>y[s.axis]===f),b=g&&g[p.vScale.axis];if(mn(b)||isNaN(b))return!0};for(const p of a)if(!(n!==void 0&&h(p))&&((o===!1||l.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[Qt(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,s){const a=this._getStacks(t,s),o=n!==void 0?a.indexOf(n):-1;return o===-1?a.length-1:o}_getRuler(){const t=this.options,n=this._cachedMeta,s=n.iScale,a=[];let o,l;for(o=0,l=n.data.length;o<l;++o)a.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const d=t.barThickness;return{min:d||ez(n),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:d?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:s,index:a},options:{base:o,minBarLength:l}}=this,d=o||0,f=this.getParsed(t),h=f._custom,p=qg(h);let g=f[n.axis],b=0,y=s?this.applyStack(n,f,s):g,w,_;y!==g&&(b=y-g,y=g),p&&(g=h.barStart,y=h.barEnd-h.barStart,g!==0&&Ti(g)!==Ti(h.barEnd)&&(b=0),b+=g);const j=!mn(o)&&!p?o:b;let S=n.getPixelForValue(j);if(this.chart.getDataVisibility(t)?w=n.getPixelForValue(b+y):w=S,_=w-S,Math.abs(_)<l){_=rz(_,n,d)*l,g===d&&(S-=_/2);const M=n.getPixelForDecimal(0),A=n.getPixelForDecimal(1),k=Math.min(M,A),C=Math.max(M,A);S=Math.max(Math.min(S,C),k),w=S+_,s&&!p&&(f._stacks[n.axis]._visualValues[a]=n.getValueForPixel(w)-n.getValueForPixel(S))}if(S===n.getPixelForValue(d)){const M=Ti(_)*n.getLineWidthForValue(d)/2;S+=M,_-=M}return{size:_,base:S,head:w,center:w+_/2}}_calculateBarIndexPixels(t,n){const s=n.scale,a=this.options,o=a.skipNull,l=Qt(a.maxBarThickness,1/0);let d,f;const h=this._getAxisCount();if(n.grouped){const p=o?this._getStackCount(t):n.stackCount,g=a.barThickness==="flex"?nz(t,n,a,p*h):tz(t,n,a,p*h),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(Qt(b,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+y;d=g.start+g.chunk*w+g.chunk/2,f=Math.min(l,g.chunk*g.ratio)}else d=s.getPixelForValue(this.getParsed(t)[s.axis],t),f=Math.min(l,n.min*n.ratio);return{base:d-f/2,head:d+f/2,center:d,size:f}}draw(){const t=this._cachedMeta,n=t.vScale,s=t.data,a=s.length;let o=0;for(;o<a;++o)this.getParsed(o)[n.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}ft(dh,"id","bar"),ft(dh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ft(dh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function cz(e,t,n){let s=1,a=1,o=0,l=0;if(t<Gn){const d=e,f=d+t,h=Math.cos(d),p=Math.sin(d),g=Math.cos(f),b=Math.sin(f),y=(A,k,C)=>Ch(A,d,f,!0)?1:Math.max(k,k*n,C,C*n),w=(A,k,C)=>Ch(A,d,f,!0)?-1:Math.min(k,k*n,C,C*n),_=y(0,h,g),j=y(rs,p,b),S=w(hn,h,g),M=w(hn+rs,p,b);s=(_-S)/2,a=(j-M)/2,o=-(_+S)/2,l=-(j+M)/2}return{ratioX:s,ratioY:a,offsetX:o,offsetY:l}}class Su extends Vl{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let o=f=>+s[f];if(Zt(s[t])){const{key:f="value"}=this._parsing;o=h=>+Oo(s[h],f)}let l,d;for(l=t,d=t+n;l<d;++l)a._parsed[l]=o(l)}}_getRotation(){return Ba(this.options.rotation-90)}_getCircumference(){return Ba(this.options.circumference)}_getRotationExtents(){let t=Gn,n=-Gn;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,o=a._getRotation(),l=a._getCircumference();t=Math.min(t,o),n=Math.max(n,o+l)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:s}=n,a=this._cachedMeta,o=a.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,d=Math.max((Math.min(s.width,s.height)-l)/2,0),f=Math.min(LL(this.options.cutout,d),1),h=this._getRingWeight(this.index),{circumference:p,rotation:g}=this._getRotationExtents(),{ratioX:b,ratioY:y,offsetX:w,offsetY:_}=cz(g,p,f),j=(s.width-l)/b,S=(s.height-l)/y,M=Math.max(Math.min(j,S)/2,0),A=LN(this.options.radius,M),k=Math.max(A*f,0),C=(A-k)/this._getVisibleDatasetWeightTotal();this.offsetX=w*A,this.offsetY=_*A,a.total=this.calculateTotal(),this.outerRadius=A-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*h,0),this.updateElements(o,0,o.length,t)}_circumference(t,n){const s=this.options,a=this._cachedMeta,o=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*o/Gn)}updateElements(t,n,s,a){const o=a==="reset",l=this.chart,d=l.chartArea,h=l.options.animation,p=(d.left+d.right)/2,g=(d.top+d.bottom)/2,b=o&&h.animateScale,y=b?0:this.innerRadius,w=b?0:this.outerRadius,{sharedOptions:_,includeOptions:j}=this._getSharedOptions(n,a);let S=this._getRotation(),M;for(M=0;M<n;++M)S+=this._circumference(M,o);for(M=n;M<n+s;++M){const A=this._circumference(M,o),k=t[M],C={x:p+this.offsetX,y:g+this.offsetY,startAngle:S,endAngle:S+A,circumference:A,outerRadius:w,innerRadius:y};j&&(C.options=_||this.resolveDataElementOptions(M,k.active?"active":a)),S+=A,this.updateElement(k,M,C,a)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let s=0,a;for(a=0;a<n.length;a++){const o=t._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!n[a].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Gn*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,a=s.data.labels||[],o=ty(n._parsed[t],s.options.locale);return{label:a[t]||"",value:o}}getMaxBorderWidth(t){let n=0;const s=this.chart;let a,o,l,d,f;if(!t){for(a=0,o=s.data.datasets.length;a<o;++a)if(s.isDatasetVisible(a)){l=s.getDatasetMeta(a),t=l.data,d=l.controller;break}}if(!t)return 0;for(a=0,o=t.length;a<o;++a)f=d.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(n=Math.max(n,f.borderWidth||0,f.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let s=0,a=t.length;s<a;++s){const o=this.resolveDataElementOptions(s);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(t){return Math.max(Qt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ft(Su,"id","doughnut"),ft(Su,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ft(Su,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),ft(Su,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:a}}=t.legend.options;return n.labels.map((o,l)=>{const f=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});function po(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class uy{constructor(t){ft(this,"options");this.options=t||{}}static override(t){Object.assign(uy.prototype,t)}init(){}formats(){return po()}parse(){return po()}format(){return po()}add(){return po()}diff(){return po()}startOf(){return po()}endOf(){return po()}}var uz={_date:uy};function dz(e,t,n,s){const{controller:a,data:o,_sorted:l}=e,d=a._cachedMeta.iScale,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(d&&t===d.axis&&t!=="r"&&l&&o.length){const h=d._reversePixels?KL:U0;if(s){if(a._sharedOptions){const p=o[0],g=typeof p.getRange=="function"&&p.getRange(t);if(g){const b=h(o,t,n-g),y=h(o,t,n+g);return{lo:b.lo,hi:y.hi}}}}else{const p=h(o,t,n);if(f){const{vScale:g}=a._cachedMeta,{_parsed:b}=e,y=b.slice(0,p.lo+1).reverse().findIndex(_=>!mn(_[g.axis]));p.lo-=Math.max(0,y);const w=b.slice(p.hi).findIndex(_=>!mn(_[g.axis]));p.hi+=Math.max(0,w)}return p}}return{lo:0,hi:o.length-1}}function sm(e,t,n,s,a){const o=e.getSortedVisibleDatasetMetas(),l=n[t];for(let d=0,f=o.length;d<f;++d){const{index:h,data:p}=o[d],{lo:g,hi:b}=dz(o[d],t,l,a);for(let y=g;y<=b;++y){const w=p[y];w.skip||s(w,h,y)}}}function fz(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,a){const o=t?Math.abs(s.x-a.x):0,l=n?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Ig(e,t,n,s,a){const o=[];return!a&&!e.isPointInArea(t)||sm(e,n,t,function(d,f,h){!a&&!WN(d,e.chartArea,0)||d.inRange(t.x,t.y,s)&&o.push({element:d,datasetIndex:f,index:h})},!0),o}function hz(e,t,n,s){let a=[];function o(l,d,f){const{startAngle:h,endAngle:p}=l.getProps(["startAngle","endAngle"],s),{angle:g}=BN(l,{x:t.x,y:t.y});Ch(g,h,p)&&a.push({element:l,datasetIndex:d,index:f})}return sm(e,n,t,o),a}function mz(e,t,n,s,a,o){let l=[];const d=fz(n);let f=Number.POSITIVE_INFINITY;function h(p,g,b){const y=p.inRange(t.x,t.y,a);if(s&&!y)return;const w=p.getCenterPoint(a);if(!(!!o||e.isPointInArea(w))&&!y)return;const j=d(t,w);j<f?(l=[{element:p,datasetIndex:g,index:b}],f=j):j===f&&l.push({element:p,datasetIndex:g,index:b})}return sm(e,n,t,h),l}function Yg(e,t,n,s,a,o){return!o&&!e.isPointInArea(t)?[]:n==="r"&&!s?hz(e,t,n,a):mz(e,t,n,s,a,o)}function uj(e,t,n,s,a){const o=[],l=n==="x"?"inXRange":"inYRange";let d=!1;return sm(e,n,t,(f,h,p)=>{f[l]&&f[l](t[n],a)&&(o.push({element:f,datasetIndex:h,index:p}),d=d||f.inRange(t.x,t.y,a))}),s&&!d?[]:o}var pz={modes:{index(e,t,n,s){const a=xo(t,e),o=n.axis||"x",l=n.includeInvisible||!1,d=n.intersect?Ig(e,a,o,s,l):Yg(e,a,o,!1,s,l),f=[];return d.length?(e.getSortedVisibleDatasetMetas().forEach(h=>{const p=d[0].index,g=h.data[p];g&&!g.skip&&f.push({element:g,datasetIndex:h.index,index:p})}),f):[]},dataset(e,t,n,s){const a=xo(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;let d=n.intersect?Ig(e,a,o,s,l):Yg(e,a,o,!1,s,l);if(d.length>0){const f=d[0].datasetIndex,h=e.getDatasetMeta(f).data;d=[];for(let p=0;p<h.length;++p)d.push({element:h[p],datasetIndex:f,index:p})}return d},point(e,t,n,s){const a=xo(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;return Ig(e,a,o,s,l)},nearest(e,t,n,s){const a=xo(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;return Yg(e,a,o,n.intersect,s,l)},x(e,t,n,s){const a=xo(t,e);return uj(e,a,"x",n.intersect,s)},y(e,t,n,s){const a=xo(t,e);return uj(e,a,"y",n.intersect,s)}}};const rE=["left","top","right","bottom"];function fu(e,t){return e.filter(n=>n.pos===t)}function dj(e,t){return e.filter(n=>rE.indexOf(n.pos)===-1&&n.box.axis===t)}function hu(e,t){return e.sort((n,s)=>{const a=t?s:n,o=t?n:s;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function gz(e){const t=[];let n,s,a,o,l,d;for(n=0,s=(e||[]).length;n<s;++n)a=e[n],{position:o,options:{stack:l,stackWeight:d=1}}=a,t.push({index:n,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:l&&o+l,stackWeight:d});return t}function xz(e){const t={};for(const n of e){const{stack:s,pos:a,stackWeight:o}=n;if(!s||!rE.includes(a))continue;const l=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function yz(e,t){const n=xz(e),{vBoxMaxWidth:s,hBoxMaxHeight:a}=t;let o,l,d;for(o=0,l=e.length;o<l;++o){d=e[o];const{fullSize:f}=d.box,h=n[d.stack],p=h&&d.stackWeight/h.weight;d.horizontal?(d.width=p?p*s:f&&t.availableWidth,d.height=a):(d.width=s,d.height=p?p*a:f&&t.availableHeight)}return n}function bz(e){const t=gz(e),n=hu(t.filter(h=>h.box.fullSize),!0),s=hu(fu(t,"left"),!0),a=hu(fu(t,"right")),o=hu(fu(t,"top"),!0),l=hu(fu(t,"bottom")),d=dj(t,"x"),f=dj(t,"y");return{fullSize:n,leftAndTop:s.concat(o),rightAndBottom:a.concat(f).concat(l).concat(d),chartArea:fu(t,"chartArea"),vertical:s.concat(a).concat(f),horizontal:o.concat(l).concat(d)}}function fj(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function aE(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function vz(e,t,n,s){const{pos:a,box:o}=n,l=e.maxPadding;if(!Zt(a)){n.size&&(e[a]-=n.size);const g=s[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?o.height:o.width),n.size=g.size/g.count,e[a]+=n.size}o.getPadding&&aE(l,o.getPadding());const d=Math.max(0,t.outerWidth-fj(l,e,"left","right")),f=Math.max(0,t.outerHeight-fj(l,e,"top","bottom")),h=d!==e.w,p=f!==e.h;return e.w=d,e.h=f,n.horizontal?{same:h,other:p}:{same:p,other:h}}function wz(e){const t=e.maxPadding;function n(s){const a=Math.max(t[s]-e[s],0);return e[s]+=a,a}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function _z(e,t){const n=t.maxPadding;function s(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(l=>{o[l]=Math.max(t[l],n[l])}),o}return s(e?["left","right"]:["top","bottom"])}function Nu(e,t,n,s){const a=[];let o,l,d,f,h,p;for(o=0,l=e.length,h=0;o<l;++o){d=e[o],f=d.box,f.update(d.width||t.w,d.height||t.h,_z(d.horizontal,t));const{same:g,other:b}=vz(t,n,d,s);h|=g&&a.length,p=p||b,f.fullSize||a.push(d)}return h&&Nu(a,t,n,s)||p}function Bf(e,t,n,s,a){e.top=n,e.left=t,e.right=t+s,e.bottom=n+a,e.width=s,e.height=a}function hj(e,t,n,s){const a=n.padding;let{x:o,y:l}=t;for(const d of e){const f=d.box,h=s[d.stack]||{placed:0,weight:1},p=d.stackWeight/h.weight||1;if(d.horizontal){const g=t.w*p,b=h.size||f.height;qu(h.start)&&(l=h.start),f.fullSize?Bf(f,a.left,l,n.outerWidth-a.right-a.left,b):Bf(f,t.left+h.placed,l,g,b),h.start=l,h.placed+=g,l=f.bottom}else{const g=t.h*p,b=h.size||f.width;qu(h.start)&&(o=h.start),f.fullSize?Bf(f,o,a.top,b,n.outerHeight-a.bottom-a.top):Bf(f,o,t.top+h.placed,b,g),h.start=o,h.placed+=g,o=f.right}}t.x=o,t.y=l}var _r={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const a=Nr(e.options.layout.padding),o=Math.max(t-a.width,0),l=Math.max(n-a.height,0),d=bz(e.boxes),f=d.vertical,h=d.horizontal;rn(e.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const p=f.reduce((_,j)=>j.box.options&&j.box.options.display===!1?_:_+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),b=Object.assign({},a);aE(b,Nr(s));const y=Object.assign({maxPadding:b,w:o,h:l,x:a.left,y:a.top},a),w=yz(f.concat(h),g);Nu(d.fullSize,y,g,w),Nu(f,y,g,w),Nu(h,y,g,w)&&Nu(f,y,g,w),wz(y),hj(d.leftAndTop,y,g,w),y.x+=y.w,y.y+=y.h,hj(d.rightAndBottom,y,g,w),e.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},rn(d.chartArea,_=>{const j=_.box;Object.assign(j,e.chartArea),j.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class iE{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,a){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,a?Math.floor(n/a):s)}}isAttached(t){return!0}updateConfig(t){}}class jz extends iE{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const fh="$chartjs",Sz={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},mj=e=>e===null||e==="";function Nz(e,t){const n=e.style,s=e.getAttribute("height"),a=e.getAttribute("width");if(e[fh]={initial:{height:s,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",mj(a)){const o=ej(e,"width");o!==void 0&&(e.width=o)}if(mj(s))if(e.style.height==="")e.height=e.width/(t||2);else{const o=ej(e,"height");o!==void 0&&(e.height=o)}return e}const oE=M6?{passive:!0}:!1;function Ez(e,t,n){e&&e.addEventListener(t,n,oE)}function Tz(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,oE)}function kz(e,t){const n=Sz[e.type]||e.type,{x:s,y:a}=xo(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:a!==void 0?a:null}}function Rh(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Cz(e,t,n){const s=e.canvas,a=new MutationObserver(o=>{let l=!1;for(const d of o)l=l||Rh(d.addedNodes,s),l=l&&!Rh(d.removedNodes,s);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function Az(e,t,n){const s=e.canvas,a=new MutationObserver(o=>{let l=!1;for(const d of o)l=l||Rh(d.removedNodes,s),l=l&&!Rh(d.addedNodes,s);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const Yu=new Map;let pj=0;function lE(){const e=window.devicePixelRatio;e!==pj&&(pj=e,Yu.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function Oz(e,t){Yu.size||window.addEventListener("resize",lE),Yu.set(e,t)}function Rz(e){Yu.delete(e),Yu.size||window.removeEventListener("resize",lE)}function Dz(e,t,n){const s=e.canvas,a=s&&cy(s);if(!a)return;const o=$N((d,f)=>{const h=a.clientWidth;n(d,f),h<a.clientWidth&&n()},window),l=new ResizeObserver(d=>{const f=d[0],h=f.contentRect.width,p=f.contentRect.height;h===0&&p===0||o(h,p)});return l.observe(a),Oz(e,o),l}function Wg(e,t,n){n&&n.disconnect(),t==="resize"&&Rz(e)}function Mz(e,t,n){const s=e.canvas,a=$N(o=>{e.ctx!==null&&n(kz(o,e))},e);return Ez(s,t,a),a}class Pz extends iE{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(Nz(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[fh])return!1;const s=n[fh].initial;["height","width"].forEach(o=>{const l=s[o];mn(l)?n.removeAttribute(o):n.setAttribute(o,l)});const a=s.style||{};return Object.keys(a).forEach(o=>{n.style[o]=a[o]}),n.width=n.width,delete n[fh],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const a=t.$proxies||(t.$proxies={}),l={attach:Cz,detach:Az,resize:Dz}[n]||Mz;a[n]=l(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),a=s[n];if(!a)return;({attach:Wg,detach:Wg,resize:Wg}[n]||Tz)(t,n,a),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,a){return D6(t,n,s,a)}isAttached(t){const n=t&&cy(t);return!!(n&&n.isConnected)}}function Lz(e){return!ly()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?jz:Pz}var Gf;let Lo=(Gf=class{constructor(){ft(this,"x");ft(this,"y");ft(this,"active",!1);ft(this,"options");ft(this,"$animations")}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return kh(this.x)&&kh(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const a={};return t.forEach(o=>{a[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),a}},ft(Gf,"defaults",{}),ft(Gf,"defaultRoutes"),Gf);function zz(e,t){const n=e.options.ticks,s=Uz(e),a=Math.min(n.maxTicksLimit||s,s),o=n.major.enabled?Fz(t):[],l=o.length,d=o[0],f=o[l-1],h=[];if(l>a)return Hz(t,h,o,l/a),h;const p=Bz(o,t,a);if(l>0){let g,b;const y=l>1?Math.round((f-d)/(l-1)):null;for(Ff(t,h,p,mn(y)?0:d-y,d),g=0,b=l-1;g<b;g++)Ff(t,h,p,o[g],o[g+1]);return Ff(t,h,p,f,mn(y)?t.length:f+y),h}return Ff(t,h,p),h}function Uz(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),a=e._maxLength/n;return Math.floor(Math.min(s,a))}function Bz(e,t,n){const s=Vz(e),a=t.length/n;if(!s)return Math.max(a,1);const o=$L(s);for(let l=0,d=o.length-1;l<d;l++){const f=o[l];if(f>a)return f}return Math.max(a,1)}function Fz(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function Hz(e,t,n,s){let a=0,o=n[0],l;for(s=Math.ceil(s),l=0;l<e.length;l++)l===o&&(t.push(e[l]),a++,o=n[a*s])}function Ff(e,t,n,s,a){const o=Qt(s,0),l=Math.min(Qt(a,e.length),e.length);let d=0,f,h,p;for(n=Math.ceil(n),a&&(f=a-s,n=f/Math.floor(f/n)),p=o;p<0;)d++,p=Math.round(o+d*n);for(h=Math.max(o,0);h<l;h++)h===p&&(t.push(e[h]),d++,p=Math.round(o+d*n))}function Vz(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const $z=e=>e==="left"?"right":e==="right"?"left":e,gj=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,xj=(e,t)=>Math.min(t||e,e);function yj(e,t){const n=[],s=e.length/t,a=e.length;let o=0;for(;o<a;o+=s)n.push(e[Math.floor(o)]);return n}function qz(e,t,n){const s=e.ticks.length,a=Math.min(t,s-1),o=e._startPixel,l=e._endPixel,d=1e-6;let f=e.getPixelForTick(a),h;if(!(n&&(s===1?h=Math.max(f-o,l-f):t===0?h=(e.getPixelForTick(1)-f)/2:h=(f-e.getPixelForTick(a-1))/2,f+=a<t?h:-h,f<o-d||f>l+d)))return f}function Iz(e,t){rn(e,n=>{const s=n.gc,a=s.length/2;let o;if(a>t){for(o=0;o<a;++o)delete n.data[s[o]];s.splice(0,a)}})}function mu(e){return e.drawTicks?e.tickLength:0}function bj(e,t){if(!e.display)return 0;const n=js(e.font,t),s=Nr(e.padding);return(ss(e.text)?e.text.length:1)*n.lineHeight+s.height}function Yz(e,t){return nc(e,{scale:t,type:"scale"})}function Wz(e,t,n){return nc(e,{tick:n,index:t,type:"tick"})}function Xz(e,t,n){let s=ey(e);return(n&&t!=="right"||!n&&t==="right")&&(s=$z(s)),s}function Gz(e,t,n,s){const{top:a,left:o,bottom:l,right:d,chart:f}=e,{chartArea:h,scales:p}=f;let g=0,b,y,w;const _=l-a,j=d-o;if(e.isHorizontal()){if(y=ws(s,o,d),Zt(n)){const S=Object.keys(n)[0],M=n[S];w=p[S].getPixelForValue(M)+_-t}else n==="center"?w=(h.bottom+h.top)/2+_-t:w=gj(e,n,t);b=d-o}else{if(Zt(n)){const S=Object.keys(n)[0],M=n[S];y=p[S].getPixelForValue(M)-j+t}else n==="center"?y=(h.left+h.right)/2-j+t:y=gj(e,n,t);w=ws(s,l,a),g=n==="left"?-rs:rs}return{titleX:y,titleY:w,maxWidth:b,rotation:g}}class sc extends Lo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:a}=this;return t=Qr(t,Number.POSITIVE_INFINITY),n=Qr(n,Number.NEGATIVE_INFINITY),s=Qr(s,Number.POSITIVE_INFINITY),a=Qr(a,Number.NEGATIVE_INFINITY),{min:Qr(t,s),max:Qr(n,a),minDefined:Sr(t),maxDefined:Sr(n)}}getMinMax(t){let{min:n,max:s,minDefined:a,maxDefined:o}=this.getUserBounds(),l;if(a&&o)return{min:n,max:s};const d=this.getMatchingVisibleMetas();for(let f=0,h=d.length;f<h;++f)l=d[f].controller.getMinMax(this,t),a||(n=Math.min(n,l.min)),o||(s=Math.max(s,l.max));return n=o&&n>s?s:n,s=a&&n>s?n:s,{min:Qr(n,Qr(s,n)),max:Qr(s,Qr(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){bn(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:a,grace:o,ticks:l}=this.options,d=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=y6(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=d<this.ticks.length;this._convertTicksToLabels(f?yj(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=zz(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){bn(this.options.afterUpdate,[this])}beforeSetDimensions(){bn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){bn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),bn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){bn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,a,o;for(s=0,a=t.length;s<a;s++)o=t[s],o.label=bn(n.callback,[o.value,s,t],this)}afterTickToLabelConversion(){bn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){bn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=xj(this.ticks.length,t.ticks.maxTicksLimit),a=n.minRotation||0,o=n.maxRotation;let l=a,d,f,h;if(!this._isVisible()||!n.display||a>=o||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const p=this._getLabelSizes(),g=p.widest.width,b=p.highest.height,y=qs(this.chart.width-g,0,this.maxWidth);d=t.offset?this.maxWidth/s:y/(s-1),g+6>d&&(d=y/(s-(t.offset?.5:1)),f=this.maxHeight-mu(t.grid)-n.padding-bj(t.title,this.chart.options.font),h=Math.sqrt(g*g+b*b),l=WL(Math.min(Math.asin(qs((p.highest.height+6)/d,-1,1)),Math.asin(qs(f/h,-1,1))-Math.asin(qs(b/h,-1,1)))),l=Math.max(a,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){bn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){bn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:a,grid:o}}=this,l=this._isVisible(),d=this.isHorizontal();if(l){const f=bj(a,n.options.font);if(d?(t.width=this.maxWidth,t.height=mu(o)+f):(t.height=this.maxHeight,t.width=mu(o)+f),s.display&&this.ticks.length){const{first:h,last:p,widest:g,highest:b}=this._getLabelSizes(),y=s.padding*2,w=Ba(this.labelRotation),_=Math.cos(w),j=Math.sin(w);if(d){const S=s.mirror?0:j*g.width+_*b.height;t.height=Math.min(this.maxHeight,t.height+S+y)}else{const S=s.mirror?0:_*g.width+j*b.height;t.width=Math.min(this.maxWidth,t.width+S+y)}this._calculatePadding(h,p,j,_)}}this._handleMargins(),d?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,a){const{ticks:{align:o,padding:l},position:d}=this.options,f=this.labelRotation!==0,h=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,y=0;f?h?(b=a*t.width,y=s*n.height):(b=s*t.height,y=a*n.width):o==="start"?y=n.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,y=n.width/2),this.paddingLeft=Math.max((b-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((y-g+l)*this.width/(this.width-g),0)}else{let p=n.height/2,g=t.height/2;o==="start"?(p=0,g=t.height):o==="end"&&(p=n.height,g=0),this.paddingTop=p+l,this.paddingBottom=g+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){bn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)mn(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=yj(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:a,_longestTextCache:o}=this,l=[],d=[],f=Math.floor(n/xj(n,s));let h=0,p=0,g,b,y,w,_,j,S,M,A,k,C;for(g=0;g<n;g+=f){if(w=t[g].label,_=this._resolveTickFontOptions(g),a.font=j=_.string,S=o[j]=o[j]||{data:{},gc:[]},M=_.lineHeight,A=k=0,!mn(w)&&!ss(w))A=X1(a,S.data,S.gc,A,w),k=M;else if(ss(w))for(b=0,y=w.length;b<y;++b)C=w[b],!mn(C)&&!ss(C)&&(A=X1(a,S.data,S.gc,A,C),k+=M);l.push(A),d.push(k),h=Math.max(A,h),p=Math.max(k,p)}Iz(o,n);const O=l.indexOf(h),H=d.indexOf(p),D=V=>({width:l[V]||0,height:d[V]||0});return{first:D(0),last:D(n-1),widest:D(O),highest:D(H),widths:l,heights:d}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return GL(this._alignToPixels?mo(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=Wz(this.getContext(),t,s))}return this.$context||(this.$context=Yz(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Ba(this.labelRotation),s=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,d=o?o.widest.width+l:0,f=o?o.highest.height+l:0;return this.isHorizontal()?f*s>d*a?d/s:f/a:f*a<d*s?f/s:d/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,a=this.options,{grid:o,position:l,border:d}=a,f=o.offset,h=this.isHorizontal(),g=this.ticks.length+(f?1:0),b=mu(o),y=[],w=d.setContext(this.getContext()),_=w.display?w.width:0,j=_/2,S=function(F){return mo(s,F,_)};let M,A,k,C,O,H,D,V,te,q,W,re;if(l==="top")M=S(this.bottom),H=this.bottom-b,V=M-j,q=S(t.top)+j,re=t.bottom;else if(l==="bottom")M=S(this.top),q=t.top,re=S(t.bottom)-j,H=M+j,V=this.top+b;else if(l==="left")M=S(this.right),O=this.right-b,D=M-j,te=S(t.left)+j,W=t.right;else if(l==="right")M=S(this.left),te=t.left,W=S(t.right)-j,O=M+j,D=this.left+b;else if(n==="x"){if(l==="center")M=S((t.top+t.bottom)/2+.5);else if(Zt(l)){const F=Object.keys(l)[0],Y=l[F];M=S(this.chart.scales[F].getPixelForValue(Y))}q=t.top,re=t.bottom,H=M+j,V=H+b}else if(n==="y"){if(l==="center")M=S((t.left+t.right)/2);else if(Zt(l)){const F=Object.keys(l)[0],Y=l[F];M=S(this.chart.scales[F].getPixelForValue(Y))}O=M-j,D=O-b,te=t.left,W=t.right}const me=Qt(a.ticks.maxTicksLimit,g),Z=Math.max(1,Math.ceil(g/me));for(A=0;A<g;A+=Z){const F=this.getContext(A),Y=o.setContext(F),G=d.setContext(F),ee=Y.lineWidth,z=Y.color,ae=G.dash||[],we=G.dashOffset,I=Y.tickWidth,oe=Y.tickColor,je=Y.tickBorderDash||[],ge=Y.tickBorderDashOffset;k=qz(this,A,f),k!==void 0&&(C=mo(s,k,ee),h?O=D=te=W=C:H=V=q=re=C,y.push({tx1:O,ty1:H,tx2:D,ty2:V,x1:te,y1:q,x2:W,y2:re,width:ee,color:z,borderDash:ae,borderDashOffset:we,tickWidth:I,tickColor:oe,tickBorderDash:je,tickBorderDashOffset:ge}))}return this._ticksLength=g,this._borderValue=M,y}_computeLabelItems(t){const n=this.axis,s=this.options,{position:a,ticks:o}=s,l=this.isHorizontal(),d=this.ticks,{align:f,crossAlign:h,padding:p,mirror:g}=o,b=mu(s.grid),y=b+p,w=g?-p:y,_=-Ba(this.labelRotation),j=[];let S,M,A,k,C,O,H,D,V,te,q,W,re="middle";if(a==="top")O=this.bottom-w,H=this._getXAxisLabelAlignment();else if(a==="bottom")O=this.top+w,H=this._getXAxisLabelAlignment();else if(a==="left"){const Z=this._getYAxisLabelAlignment(b);H=Z.textAlign,C=Z.x}else if(a==="right"){const Z=this._getYAxisLabelAlignment(b);H=Z.textAlign,C=Z.x}else if(n==="x"){if(a==="center")O=(t.top+t.bottom)/2+y;else if(Zt(a)){const Z=Object.keys(a)[0],F=a[Z];O=this.chart.scales[Z].getPixelForValue(F)+y}H=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")C=(t.left+t.right)/2-y;else if(Zt(a)){const Z=Object.keys(a)[0],F=a[Z];C=this.chart.scales[Z].getPixelForValue(F)}H=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(f==="start"?re="top":f==="end"&&(re="bottom"));const me=this._getLabelSizes();for(S=0,M=d.length;S<M;++S){A=d[S],k=A.label;const Z=o.setContext(this.getContext(S));D=this.getPixelForTick(S)+o.labelOffset,V=this._resolveTickFontOptions(S),te=V.lineHeight,q=ss(k)?k.length:1;const F=q/2,Y=Z.color,G=Z.textStrokeColor,ee=Z.textStrokeWidth;let z=H;l?(C=D,H==="inner"&&(S===M-1?z=this.options.reverse?"left":"right":S===0?z=this.options.reverse?"right":"left":z="center"),a==="top"?h==="near"||_!==0?W=-q*te+te/2:h==="center"?W=-me.highest.height/2-F*te+te:W=-me.highest.height+te/2:h==="near"||_!==0?W=te/2:h==="center"?W=me.highest.height/2-F*te:W=me.highest.height-q*te,g&&(W*=-1),_!==0&&!Z.showLabelBackdrop&&(C+=te/2*Math.sin(_))):(O=D,W=(1-q)*te/2);let ae;if(Z.showLabelBackdrop){const we=Nr(Z.backdropPadding),I=me.heights[S],oe=me.widths[S];let je=W-we.top,ge=0-we.left;switch(re){case"middle":je-=I/2;break;case"bottom":je-=I;break}switch(H){case"center":ge-=oe/2;break;case"right":ge-=oe;break;case"inner":S===M-1?ge-=oe:S>0&&(ge-=oe/2);break}ae={left:ge,top:je,width:oe+we.width,height:I+we.height,color:Z.backdropColor}}j.push({label:k,font:V,textOffset:W,options:{rotation:_,color:Y,strokeColor:G,strokeWidth:ee,textAlign:z,textBaseline:re,translation:[C,O],backdrop:ae}})}return j}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Ba(this.labelRotation))return t==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:a,padding:o}}=this.options,l=this._getLabelSizes(),d=t+o,f=l.widest.width;let h,p;return n==="left"?a?(p=this.right+o,s==="near"?h="left":s==="center"?(h="center",p+=f/2):(h="right",p+=f)):(p=this.right-d,s==="near"?h="right":s==="center"?(h="center",p-=f/2):(h="left",p=this.left)):n==="right"?a?(p=this.left+o,s==="near"?h="right":s==="center"?(h="center",p-=f/2):(h="left",p-=f)):(p=this.left+d,s==="near"?h="left":s==="center"?(h="center",p+=f/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:a,width:o,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,a,o,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const d=(f,h,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(f.x,f.y),s.lineTo(h.x,h.y),s.stroke(),s.restore())};if(n.display)for(o=0,l=a.length;o<l;++o){const f=a[o];n.drawOnChartArea&&d({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&d({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:a}}=this,o=s.setContext(this.getContext()),l=s.display?o.width:0;if(!l)return;const d=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let h,p,g,b;this.isHorizontal()?(h=mo(t,this.left,l)-l/2,p=mo(t,this.right,d)+d/2,g=b=f):(g=mo(t,this.top,l)-l/2,b=mo(t,this.bottom,d)+d/2,h=p=f),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(h,g),n.lineTo(p,b),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&ny(s,a);const o=this.getLabelItems(t);for(const l of o){const d=l.options,f=l.font,h=l.label,p=l.textOffset;Iu(s,h,0,p,f,d)}a&&sy(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:a}}=this;if(!s.display)return;const o=js(s.font),l=Nr(s.padding),d=s.align;let f=o.lineHeight/2;n==="bottom"||n==="center"||Zt(n)?(f+=l.bottom,ss(s.text)&&(f+=o.lineHeight*(s.text.length-1))):f+=l.top;const{titleX:h,titleY:p,maxWidth:g,rotation:b}=Gz(this,f,n,d);Iu(t,s.text,0,0,o,{color:s.color,maxWidth:g,rotation:b,textAlign:Xz(d,n,a),textBaseline:"middle",translation:[h,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=Qt(t.grid&&t.grid.z,-1),a=Qt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==sc.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let o,l;for(o=0,l=n.length;o<l;++o){const d=n[o];d[s]===this.id&&(!t||d.type===t)&&a.push(d)}return a}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return js(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Hf{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;Zz(n)&&(s=this.register(n));const a=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,Kz(t,l,s),this.override&&Bn.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,a=this.scope;s in n&&delete n[s],a&&s in Bn[a]&&(delete Bn[a][s],this.override&&delete Ro[s])}}function Kz(e,t,n){const s=$u(Object.create(null),[n?Bn.get(n):{},Bn.get(t),e.defaults]);Bn.set(t,s),e.defaultRoutes&&Qz(t,e.defaultRoutes),e.descriptors&&Bn.describe(t,e.descriptors)}function Qz(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),a=s.pop(),o=[e].concat(s).join("."),l=t[n].split("."),d=l.pop(),f=l.join(".");Bn.route(o,a,f,d)})}function Zz(e){return"id"in e&&"defaults"in e}class Jz{constructor(){this.controllers=new Hf(Vl,"datasets",!0),this.elements=new Hf(Lo,"elements"),this.plugins=new Hf(Object,"plugins"),this.scales=new Hf(sc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(a=>{const o=s||this._getRegistryForType(a);s||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):rn(a,l=>{const d=s||this._getRegistryForType(l);this._exec(t,d,l)})})}_exec(t,n,s){const a=Zx(t);bn(s["before"+a],[],s),n[t](s),bn(s["after"+a],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const a=n.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return a}}var Jr=new Jz;class eU{constructor(){this._init=[]}notify(t,n,s,a){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=a?this._descriptors(t).filter(a):this._descriptors(t),l=this._notify(o,t,n,s);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,n,s,a){a=a||{};for(const o of t){const l=o.plugin,d=l[s],f=[n,a,o.options];if(bn(d,f,l)===!1&&a.cancelable)return!1}return!0}invalidate(){mn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,a=Qt(s.options&&s.options.plugins,{}),o=tU(s);return a===!1&&!n?[]:sU(t,o,a,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,a=(o,l)=>o.filter(d=>!l.some(f=>d.plugin.id===f.plugin.id));this._notify(a(n,s),t,"stop"),this._notify(a(s,n),t,"start")}}function tU(e){const t={},n=[],s=Object.keys(Jr.plugins.items);for(let o=0;o<s.length;o++)n.push(Jr.getPlugin(s[o]));const a=e.plugins||[];for(let o=0;o<a.length;o++){const l=a[o];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function nU(e,t){return!t&&e===!1?null:e===!0?{}:e}function sU(e,{plugins:t,localIds:n},s,a){const o=[],l=e.getContext();for(const d of t){const f=d.id,h=nU(s[f],a);h!==null&&o.push({plugin:d,options:rU(e.config,{plugin:d,local:n[f]},h,l)})}return o}function rU(e,{plugin:t,local:n},s,a){const o=e.pluginScopeKeys(t),l=e.getOptionScopes(s,o);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function F0(e,t){const n=Bn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function aU(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function iU(e,t){return e===t?"_index_":"_value_"}function vj(e){if(e==="x"||e==="y"||e==="r")return e}function oU(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function H0(e,...t){if(vj(e))return e;for(const n of t){const s=n.axis||oU(n.position)||e.length>1&&vj(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function wj(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function lU(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return wj(e,"x",n[0])||wj(e,"y",n[0])}return{}}function cU(e,t){const n=Ro[e.type]||{scales:{}},s=t.scales||{},a=F0(e.type,t),o=Object.create(null);return Object.keys(s).forEach(l=>{const d=s[l];if(!Zt(d))return console.error(`Invalid scale configuration for scale: ${l}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=H0(l,d,lU(l,e),Bn.scales[d.type]),h=iU(f,a),p=n.scales||{};o[l]=ku(Object.create(null),[{axis:f},d,p[f],p[h]])}),e.data.datasets.forEach(l=>{const d=l.type||e.type,f=l.indexAxis||F0(d,t),p=(Ro[d]||{}).scales||{};Object.keys(p).forEach(g=>{const b=aU(g,f),y=l[b+"AxisID"]||b;o[y]=o[y]||Object.create(null),ku(o[y],[{axis:b},s[y],p[g]])})}),Object.keys(o).forEach(l=>{const d=o[l];ku(d,[Bn.scales[d.type],Bn.scale])}),o}function cE(e){const t=e.options||(e.options={});t.plugins=Qt(t.plugins,{}),t.scales=cU(e,t)}function uE(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function uU(e){return e=e||{},e.data=uE(e.data),cE(e),e}const _j=new Map,dE=new Set;function Vf(e,t){let n=_j.get(e);return n||(n=t(),_j.set(e,n),dE.add(n)),n}const pu=(e,t,n)=>{const s=Oo(t,n);s!==void 0&&e.add(s)};class dU{constructor(t){this._config=uU(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=uE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),cE(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Vf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Vf(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Vf(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return Vf(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let a=s.get(t);return(!a||n)&&(a=new Map,s.set(t,a)),a}getOptionScopes(t,n,s){const{options:a,type:o}=this,l=this._cachedScopes(t,s),d=l.get(n);if(d)return d;const f=new Set;n.forEach(p=>{t&&(f.add(t),p.forEach(g=>pu(f,t,g))),p.forEach(g=>pu(f,a,g)),p.forEach(g=>pu(f,Ro[o]||{},g)),p.forEach(g=>pu(f,Bn,g)),p.forEach(g=>pu(f,B0,g))});const h=Array.from(f);return h.length===0&&h.push(Object.create(null)),dE.has(n)&&l.set(n,h),h}chartOptionScopes(){const{options:t,type:n}=this;return[t,Ro[n]||{},Bn.datasets[n]||{},{type:n},Bn,B0]}resolveNamedOptions(t,n,s,a=[""]){const o={$shared:!0},{resolver:l,subPrefixes:d}=jj(this._resolverCache,t,a);let f=l;if(hU(l,n)){o.$shared=!1,s=Di(s)?s():s;const h=this.createResolver(t,s,d);f=Xl(l,s,h)}for(const h of n)o[h]=f[h];return o}createResolver(t,n,s=[""],a){const{resolver:o}=jj(this._resolverCache,t,s);return Zt(n)?Xl(o,n,void 0,a):o}}function jj(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const a=n.join();let o=s.get(a);return o||(o={resolver:ay(t,n),subPrefixes:n.filter(d=>!d.toLowerCase().includes("hover"))},s.set(a,o)),o}const fU=e=>Zt(e)&&Object.getOwnPropertyNames(e).some(t=>Di(e[t]));function hU(e,t){const{isScriptable:n,isIndexable:s}=GN(e);for(const a of t){const o=n(a),l=s(a),d=(l||o)&&e[a];if(o&&(Di(d)||fU(d))||l&&ss(d))return!0}return!1}var mU="4.5.0";const pU=["top","bottom","left","right","chartArea"];function Sj(e,t){return e==="top"||e==="bottom"||pU.indexOf(e)===-1&&t==="x"}function Nj(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function Ej(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),bn(n&&n.onComplete,[e],t)}function gU(e){const t=e.chart,n=t.options.animation;bn(n&&n.onProgress,[e],t)}function fE(e){return ly()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const hh={},Tj=e=>{const t=fE(e);return Object.values(hh).filter(n=>n.canvas===t).pop()};function xU(e,t,n){const s=Object.keys(e);for(const a of s){const o=+a;if(o>=t){const l=e[a];delete e[a],(n>0||o>t)&&(e[o+n]=l)}}}function yU(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}var yi;let rm=(yi=class{static register(...t){Jr.add(...t),kj()}static unregister(...t){Jr.remove(...t),kj()}constructor(t,n){const s=this.config=new dU(n),a=fE(t),o=Tj(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Lz(a)),this.platform.updateConfig(s);const d=this.platform.acquireContext(a,l.aspectRatio),f=d&&d.canvas,h=f&&f.height,p=f&&f.width;if(this.id=PL(),this.ctx=d,this.canvas=f,this.width=p,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new eU,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=JL(g=>this.update(g),l.resizeDelay||0),this._dataChanges=[],hh[this.id]=this,!d||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Ma.listen(this,"complete",Ej),Ma.listen(this,"progress",gU),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:a,_aspectRatio:o}=this;return mn(t)?n&&o?o:a?s/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Jr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():J1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return G1(this.canvas,this.ctx),this}stop(){return Ma.stop(this),this}resize(t,n){Ma.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,a=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(a,t,n,o),d=s.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,J1(this,d,!0)&&(this.notifyPlugins("resize",{size:l}),bn(s.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};rn(n,(s,a)=>{s.id=a})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,a=Object.keys(s).reduce((l,d)=>(l[d]=!1,l),{});let o=[];n&&(o=o.concat(Object.keys(n).map(l=>{const d=n[l],f=H0(l,d),h=f==="r",p=f==="x";return{options:d,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),rn(o,l=>{const d=l.options,f=d.id,h=H0(f,d),p=Qt(d.type,l.dtype);(d.position===void 0||Sj(d.position,h)!==Sj(l.dposition))&&(d.position=l.dposition),a[f]=!0;let g=null;if(f in s&&s[f].type===p)g=s[f];else{const b=Jr.getScale(p);g=new b({id:f,type:p,ctx:this.ctx,chart:this}),s[g.id]=g}g.init(d,t)}),rn(a,(l,d)=>{l||delete s[d]}),rn(s,l=>{_r.configure(this,l,l.options),_r.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((a,o)=>a.index-o.index),s>n){for(let a=n;a<s;++a)this._destroyDatasetMeta(a);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(Nj("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,a)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=n.length;s<a;s++){const o=n[s];let l=this.getDatasetMeta(s);const d=o.type||this.config.type;if(l.type&&l.type!==d&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=d,l.indexAxis=o.indexAxis||F0(d,this.options),l.order=o.order||0,l.index=s,l.label=""+o.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{const f=Jr.getController(d),{datasetElementType:h,dataElementType:p}=Bn.datasets[d];Object.assign(f,{dataElementType:Jr.getElement(p),datasetElementType:h&&Jr.getElement(h)}),l.controller=new f(this,s),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){rn(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,p=this.data.datasets.length;h<p;h++){const{controller:g}=this.getDatasetMeta(h),b=!a&&o.indexOf(g)===-1;g.buildOrUpdateElements(b),l=Math.max(+g.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),a||rn(o,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Nj("z","_idx"));const{_active:d,_lastEvent:f}=this;f?this._eventHandler(f,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){rn(this.scales,t=>{_r.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!B1(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:o}of n){const l=s==="_removeElements"?-o:o;xU(t,a,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=o=>new Set(t.filter(l=>l[0]===o).map((l,d)=>d+","+l.splice(1).join(","))),a=s(0);for(let o=1;o<n;o++)if(!B1(a,s(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;_r.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],rn(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Di(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),a={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ma.has(this)?this.attached&&!Ma.running(this)&&Ma.start(this):(this.draw(),Ej({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let a,o;for(a=0,o=n.length;a<o;++a){const l=n[a];(!t||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},a=U6(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&ny(n,a),t.controller.draw(),a&&sy(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return WN(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,a){const o=pz.modes[n];return typeof o=="function"?o(this,t,s,a):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let a=s.filter(o=>o&&o._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=nc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const a=s?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,a);qu(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),l.update(o,{visible:s}),this.update(d=>d.datasetIndex===t?a:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ma.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),G1(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete hh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(o,l)=>{n.addEventListener(this,o,l),t[o]=l},a=(o,l,d)=>{o.offsetX=l,o.offsetY=d,this._eventHandler(o)};rn(this.options.events,o=>s(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(f,h)=>{n.addEventListener(this,f,h),t[f]=h},a=(f,h)=>{t[f]&&(n.removeEventListener(this,f,h),delete t[f])},o=(f,h)=>{this.canvas&&this.resize(f,h)};let l;const d=()=>{a("attach",d),this.attached=!0,this.resize(),s("resize",o),s("detach",l)};l=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),s("attach",d)},n.isAttached(this.canvas)?d():l()}unbindEvents(){rn(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},rn(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const a=s?"set":"remove";let o,l,d,f;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),d=0,f=t.length;d<f;++d){l=t[d];const h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[a+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:o,index:l})=>{const d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[l],index:l}});!Nh(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const a=this.options.hover,o=(f,h)=>f.filter(p=>!h.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),l=o(n,t),d=s?t:o(t,n);l.length&&this.updateHoverStyle(l,a.mode,!1),d.length&&a.mode&&this.updateHoverStyle(d,a.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},a=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const o=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(o||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:a=[],options:o}=this,l=n,d=this._getActiveElements(t,a,s,l),f=HL(t),h=yU(t,this._lastEvent,s,f);s&&(this._lastEvent=null,bn(o.onHover,[t,d,this],this),f&&bn(o.onClick,[t,d,this],this));const p=!Nh(d,a);return(p||n)&&(this._active=d,this._updateHoverStyles(d,a,n)),this._lastEvent=h,p}_getActiveElements(t,n,s,a){if(t.type==="mouseout")return[];if(!s)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}},ft(yi,"defaults",Bn),ft(yi,"instances",hh),ft(yi,"overrides",Ro),ft(yi,"registry",Jr),ft(yi,"version",mU),ft(yi,"getChart",Tj),yi);function kj(){return rn(rm.instances,e=>e._plugins.invalidate())}function bU(e,t,n){const{startAngle:s,x:a,y:o,outerRadius:l,innerRadius:d,options:f}=t,{borderWidth:h,borderJoinStyle:p}=f,g=Math.min(h/l,ea(s-n));if(e.beginPath(),e.arc(a,o,l-h/2,s+g/2,n-g/2),d>0){const b=Math.min(h/d,ea(s-n));e.arc(a,o,d+h/2,n-b/2,s+b/2,!0)}else{const b=Math.min(h/2,l*ea(s-n));if(p==="round")e.arc(a,o,b,n-hn/2,s+hn/2,!0);else if(p==="bevel"){const y=2*b*b,w=-y*Math.cos(n+hn/2)+a,_=-y*Math.sin(n+hn/2)+o,j=y*Math.cos(s+hn/2)+a,S=y*Math.sin(s+hn/2)+o;e.lineTo(w,_),e.lineTo(j,S)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function vU(e,t,n){const{startAngle:s,pixelMargin:a,x:o,y:l,outerRadius:d,innerRadius:f}=t;let h=a/d;e.beginPath(),e.arc(o,l,d,s-h,n+h),f>a?(h=a/f,e.arc(o,l,f,n+h,s-h,!0)):e.arc(o,l,a,n+rs,s-rs),e.closePath(),e.clip()}function wU(e){return ry(e,["outerStart","outerEnd","innerStart","innerEnd"])}function _U(e,t,n,s){const a=wU(e.options.borderRadius),o=(n-t)/2,l=Math.min(o,s*t/2),d=f=>{const h=(n-Math.min(o,f))*s/2;return qs(f,0,Math.min(o,h))};return{outerStart:d(a.outerStart),outerEnd:d(a.outerEnd),innerStart:qs(a.innerStart,0,l),innerEnd:qs(a.innerEnd,0,l)}}function kl(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function Dh(e,t,n,s,a,o){const{x:l,y:d,startAngle:f,pixelMargin:h,innerRadius:p}=t,g=Math.max(t.outerRadius+s+n-h,0),b=p>0?p+s+n+h:0;let y=0;const w=a-f;if(s){const Z=p>0?p-s:0,F=g>0?g-s:0,Y=(Z+F)/2,G=Y!==0?w*Y/(Y+s):w;y=(w-G)/2}const _=Math.max(.001,w*g-n/hn)/g,j=(w-_)/2,S=f+j+y,M=a-j-y,{outerStart:A,outerEnd:k,innerStart:C,innerEnd:O}=_U(t,b,g,M-S),H=g-A,D=g-k,V=S+A/H,te=M-k/D,q=b+C,W=b+O,re=S+C/q,me=M-O/W;if(e.beginPath(),o){const Z=(V+te)/2;if(e.arc(l,d,g,V,Z),e.arc(l,d,g,Z,te),k>0){const ee=kl(D,te,l,d);e.arc(ee.x,ee.y,k,te,M+rs)}const F=kl(W,M,l,d);if(e.lineTo(F.x,F.y),O>0){const ee=kl(W,me,l,d);e.arc(ee.x,ee.y,O,M+rs,me+Math.PI)}const Y=(M-O/b+(S+C/b))/2;if(e.arc(l,d,b,M-O/b,Y,!0),e.arc(l,d,b,Y,S+C/b,!0),C>0){const ee=kl(q,re,l,d);e.arc(ee.x,ee.y,C,re+Math.PI,S-rs)}const G=kl(H,S,l,d);if(e.lineTo(G.x,G.y),A>0){const ee=kl(H,V,l,d);e.arc(ee.x,ee.y,A,S-rs,V)}}else{e.moveTo(l,d);const Z=Math.cos(V)*g+l,F=Math.sin(V)*g+d;e.lineTo(Z,F);const Y=Math.cos(te)*g+l,G=Math.sin(te)*g+d;e.lineTo(Y,G)}e.closePath()}function jU(e,t,n,s,a){const{fullCircles:o,startAngle:l,circumference:d}=t;let f=t.endAngle;if(o){Dh(e,t,n,s,f,a);for(let h=0;h<o;++h)e.fill();isNaN(d)||(f=l+(d%Gn||Gn))}return Dh(e,t,n,s,f,a),e.fill(),f}function SU(e,t,n,s,a){const{fullCircles:o,startAngle:l,circumference:d,options:f}=t,{borderWidth:h,borderJoinStyle:p,borderDash:g,borderDashOffset:b,borderRadius:y}=f,w=f.borderAlign==="inner";if(!h)return;e.setLineDash(g||[]),e.lineDashOffset=b,w?(e.lineWidth=h*2,e.lineJoin=p||"round"):(e.lineWidth=h,e.lineJoin=p||"bevel");let _=t.endAngle;if(o){Dh(e,t,n,s,_,a);for(let j=0;j<o;++j)e.stroke();isNaN(d)||(_=l+(d%Gn||Gn))}w&&vU(e,t,_),f.selfJoin&&_-l>=hn&&y===0&&p!=="miter"&&bU(e,t,_),o||(Dh(e,t,n,s,_,a),e.stroke())}class Eu extends Lo{constructor(n){super();ft(this,"circumference");ft(this,"endAngle");ft(this,"fullCircles");ft(this,"innerRadius");ft(this,"outerRadius");ft(this,"pixelMargin");ft(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,a){const o=this.getProps(["x","y"],a),{angle:l,distance:d}=BN(o,{x:n,y:s}),{startAngle:f,endAngle:h,innerRadius:p,outerRadius:g,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),y=(this.options.spacing+this.options.borderWidth)/2,w=Qt(b,h-f),_=Ch(l,f,h)&&f!==h,j=w>=Gn||_,S=So(d,p+y,g+y);return j&&S}getCenterPoint(n){const{x:s,y:a,startAngle:o,endAngle:l,innerRadius:d,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:h,spacing:p}=this.options,g=(o+l)/2,b=(d+f+p+h)/2;return{x:s+Math.cos(g)*b,y:a+Math.sin(g)*b}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:a}=this,o=(s.offset||0)/4,l=(s.spacing||0)/2,d=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=a>Gn?Math.floor(a/Gn):0,a===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const f=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(f)*o,Math.sin(f)*o);const h=1-Math.sin(Math.min(hn,a||0)),p=o*h;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,jU(n,this,p,l,d),SU(n,this,p,l,d),n.restore()}}ft(Eu,"id","arc"),ft(Eu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ft(Eu,"defaultRoutes",{backgroundColor:"backgroundColor"}),ft(Eu,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function hE(e,t){const{x:n,y:s,base:a,width:o,height:l}=e.getProps(["x","y","base","width","height"],t);let d,f,h,p,g;return e.horizontal?(g=l/2,d=Math.min(n,a),f=Math.max(n,a),h=s-g,p=s+g):(g=o/2,d=n-g,f=n+g,h=Math.min(s,a),p=Math.max(s,a)),{left:d,top:h,right:f,bottom:p}}function Si(e,t,n,s){return e?0:qs(t,n,s)}function NU(e,t,n){const s=e.options.borderWidth,a=e.borderSkipped,o=XN(s);return{t:Si(a.top,o.top,0,n),r:Si(a.right,o.right,0,t),b:Si(a.bottom,o.bottom,0,n),l:Si(a.left,o.left,0,t)}}function EU(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,o=Fl(a),l=Math.min(t,n),d=e.borderSkipped,f=s||Zt(a);return{topLeft:Si(!f||d.top||d.left,o.topLeft,0,l),topRight:Si(!f||d.top||d.right,o.topRight,0,l),bottomLeft:Si(!f||d.bottom||d.left,o.bottomLeft,0,l),bottomRight:Si(!f||d.bottom||d.right,o.bottomRight,0,l)}}function TU(e){const t=hE(e),n=t.right-t.left,s=t.bottom-t.top,a=NU(e,n/2,s/2),o=EU(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:o},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function Xg(e,t,n,s){const a=t===null,o=n===null,d=e&&!(a&&o)&&hE(e,s);return d&&(a||So(t,d.left,d.right))&&(o||So(n,d.top,d.bottom))}function kU(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function CU(e,t){e.rect(t.x,t.y,t.w,t.h)}function Gg(e,t,n={}){const s=e.x!==n.x?-t:0,a=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-s,l=(e.y+e.h!==n.y+n.h?t:0)-a;return{x:e.x+s,y:e.y+a,w:e.w+o,h:e.h+l,radius:e.radius}}class mh extends Lo{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:a}}=this,{inner:o,outer:l}=TU(this),d=kU(l.radius)?Ah:CU;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),d(t,Gg(l,n,o)),t.clip(),d(t,Gg(o,-n,l)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),d(t,Gg(o,n)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,n,s){return Xg(this,t,n,s)}inXRange(t,n){return Xg(this,t,null,n)}inYRange(t,n){return Xg(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(n+a)/2:n,y:o?s:(s+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}ft(mh,"id","bar"),ft(mh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ft(mh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Cj=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},AU=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Aj extends Lo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=bn(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,a)=>t.sort(s,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,a=js(s.font),o=a.size,l=this._computeTitleHeight(),{boxWidth:d,itemHeight:f}=Cj(s,o);let h,p;n.font=a.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(l,o,d,f)+10):(p=this.maxHeight,h=this._fitCols(l,a,d,f)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,a){const{ctx:o,maxWidth:l,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],h=this.lineWidths=[0],p=a+d;let g=t;o.textAlign="left",o.textBaseline="middle";let b=-1,y=-p;return this.legendItems.forEach((w,_)=>{const j=s+n/2+o.measureText(w.text).width;(_===0||h[h.length-1]+j+2*d>l)&&(g+=p,h[h.length-(_>0?0:1)]=0,y+=p,b++),f[_]={left:0,top:y,row:b,width:j,height:a},h[h.length-1]+=j+d}),g}_fitCols(t,n,s,a){const{ctx:o,maxHeight:l,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],h=this.columnSizes=[],p=l-t;let g=d,b=0,y=0,w=0,_=0;return this.legendItems.forEach((j,S)=>{const{itemWidth:M,itemHeight:A}=OU(s,n,o,j,a);S>0&&y+A+2*d>p&&(g+=b+d,h.push({width:b,height:y}),w+=b+d,_++,b=y=0),f[S]={left:w,top:y,col:_,width:M,height:A},b=Math.max(b,M),y+=A+d}),g+=b,h.push({width:b,height:y}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:a},rtl:o}}=this,l=Hl(o,this.left,this.width);if(this.isHorizontal()){let d=0,f=ws(s,this.left+a,this.right-this.lineWidths[d]);for(const h of n)d!==h.row&&(d=h.row,f=ws(s,this.left+a,this.right-this.lineWidths[d])),h.top+=this.top+t+a,h.left=l.leftForLtr(l.x(f),h.width),f+=h.width+a}else{let d=0,f=ws(s,this.top+t+a,this.bottom-this.columnSizes[d].height);for(const h of n)h.col!==d&&(d=h.col,f=ws(s,this.top+t+a,this.bottom-this.columnSizes[d].height)),h.top=f,h.left+=this.left+a,h.left=l.leftForLtr(l.x(h.left),h.width),f+=h.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;ny(t,this),this._draw(),sy(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:a}=this,{align:o,labels:l}=t,d=Bn.color,f=Hl(t.rtl,this.left,this.width),h=js(l.font),{padding:p}=l,g=h.size,b=g/2;let y;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=h.string;const{boxWidth:w,boxHeight:_,itemHeight:j}=Cj(l,g),S=function(O,H,D){if(isNaN(w)||w<=0||isNaN(_)||_<0)return;a.save();const V=Qt(D.lineWidth,1);if(a.fillStyle=Qt(D.fillStyle,d),a.lineCap=Qt(D.lineCap,"butt"),a.lineDashOffset=Qt(D.lineDashOffset,0),a.lineJoin=Qt(D.lineJoin,"miter"),a.lineWidth=V,a.strokeStyle=Qt(D.strokeStyle,d),a.setLineDash(Qt(D.lineDash,[])),l.usePointStyle){const te={radius:_*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:V},q=f.xPlus(O,w/2),W=H+b;YN(a,te,q,W,l.pointStyleWidth&&w)}else{const te=H+Math.max((g-_)/2,0),q=f.leftForLtr(O,w),W=Fl(D.borderRadius);a.beginPath(),Object.values(W).some(re=>re!==0)?Ah(a,{x:q,y:te,w,h:_,radius:W}):a.rect(q,te,w,_),a.fill(),V!==0&&a.stroke()}a.restore()},M=function(O,H,D){Iu(a,D.text,O,H+j/2,h,{strikethrough:D.hidden,textAlign:f.textAlign(D.textAlign)})},A=this.isHorizontal(),k=this._computeTitleHeight();A?y={x:ws(o,this.left+p,this.right-s[0]),y:this.top+p+k,line:0}:y={x:this.left+p,y:ws(o,this.top+k+p,this.bottom-n[0].height),line:0},JN(this.ctx,t.textDirection);const C=j+p;this.legendItems.forEach((O,H)=>{a.strokeStyle=O.fontColor,a.fillStyle=O.fontColor;const D=a.measureText(O.text).width,V=f.textAlign(O.textAlign||(O.textAlign=l.textAlign)),te=w+b+D;let q=y.x,W=y.y;f.setWidth(this.width),A?H>0&&q+te+p>this.right&&(W=y.y+=C,y.line++,q=y.x=ws(o,this.left+p,this.right-s[y.line])):H>0&&W+C>this.bottom&&(q=y.x=q+n[y.line].width+p,y.line++,W=y.y=ws(o,this.top+k+p,this.bottom-n[y.line].height));const re=f.x(q);if(S(re,W,O),q=e6(V,q+w+b,A?q+te:this.right,t.rtl),M(f.x(q),W,O),A)y.x+=te+p;else if(typeof O.text!="string"){const me=h.lineHeight;y.y+=mE(O,me)+p}else y.y+=C}),eE(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=js(n.font),a=Nr(n.padding);if(!n.display)return;const o=Hl(t.rtl,this.left,this.width),l=this.ctx,d=n.position,f=s.size/2,h=a.top+f;let p,g=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+h,g=ws(t.align,g,this.right-b);else{const w=this.columnSizes.reduce((_,j)=>Math.max(_,j.height),0);p=h+ws(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const y=ws(d,g,g+b);l.textAlign=o.textAlign(ey(d)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=s.string,Iu(l,n.text,y,p,s)}_computeTitleHeight(){const t=this.options.title,n=js(t.font),s=Nr(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,a,o;if(So(t,this.left,this.right)&&So(n,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(a=o[s],So(t,a.left,a.left+a.width)&&So(n,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!MU(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=AU(a,s);a&&!o&&bn(n.onLeave,[t,a,this],this),this._hoveredItem=s,s&&!o&&bn(n.onHover,[t,s,this],this)}else s&&bn(n.onClick,[t,s,this],this)}}function OU(e,t,n,s,a){const o=RU(s,e,t,n),l=DU(a,s,t.lineHeight);return{itemWidth:o,itemHeight:l}}function RU(e,t,n,s){let a=e.text;return a&&typeof a!="string"&&(a=a.reduce((o,l)=>o.length>l.length?o:l)),t+n.size/2+s.measureText(a).width}function DU(e,t,n){let s=e;return typeof t.text!="string"&&(s=mE(t,n)),s}function mE(e,t){const n=e.text?e.text.length:0;return t*n}function MU(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var PU={id:"legend",_element:Aj,start(e,t,n){const s=e.legend=new Aj({ctx:e.ctx,options:n,chart:e});_r.configure(e,s,n),_r.addBox(e,s)},stop(e){_r.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;_r.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,a=n.chart;a.isDatasetVisible(s)?(a.hide(s),t.hidden=!0):(a.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:a,color:o,useBorderRadius:l,borderRadius:d}}=e.legend.options;return e._getSortedDatasetMetas().map(f=>{const h=f.controller.getStyle(n?0:void 0),p=Nr(h.borderWidth);return{text:t[f.index].label,fillStyle:h.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:h.borderColor,pointStyle:s||h.pointStyle,rotation:h.rotation,textAlign:a||h.textAlign,borderRadius:l&&(d||h.borderRadius),datasetIndex:f.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};let pE=class extends Lo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const a=ss(s.text)?s.text.length:1;this._padding=Nr(s.padding);const o=a*js(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:a,right:o,options:l}=this,d=l.align;let f=0,h,p,g;return this.isHorizontal()?(p=ws(d,s,o),g=n+t,h=o-s):(l.position==="left"?(p=s+t,g=ws(d,a,n),f=hn*-.5):(p=o-t,g=ws(d,n,a),f=hn*.5),h=a-n),{titleX:p,titleY:g,maxWidth:h,rotation:f}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=js(n.font),o=s.lineHeight/2+this._padding.top,{titleX:l,titleY:d,maxWidth:f,rotation:h}=this._drawArgs(o);Iu(t,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:h,textAlign:ey(n.align),textBaseline:"middle",translation:[l,d]})}};function LU(e,t){const n=new pE({ctx:e.ctx,options:t,chart:e});_r.configure(e,n,t),_r.addBox(e,n),e.titleBlock=n}var zU={id:"title",_element:pE,start(e,t,n){LU(e,n)},stop(e){const t=e.titleBlock;_r.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;_r.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Tu={average(e){if(!e.length)return!1;let t,n,s=new Set,a=0,o=0;for(t=0,n=e.length;t<n;++t){const d=e[t].element;if(d&&d.hasValue()){const f=d.tooltipPosition();s.add(f.x),a+=f.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((d,f)=>d+f)/s.size,y:a/o}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,a=Number.POSITIVE_INFINITY,o,l,d;for(o=0,l=e.length;o<l;++o){const f=e[o].element;if(f&&f.hasValue()){const h=f.getCenterPoint(),p=XL(t,h);p<a&&(a=p,d=f)}}if(d){const f=d.tooltipPosition();n=f.x,s=f.y}return{x:n,y:s}}};function Zr(e,t){return t&&(ss(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Pa(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function UU(e,t){const{element:n,datasetIndex:s,index:a}=t,o=e.getDatasetMeta(s).controller,{label:l,value:d}=o.getLabelAndValue(a);return{chart:e,label:l,parsed:o.getParsed(a),raw:e.data.datasets[s].data[a],formattedValue:d,dataset:o.getDataset(),dataIndex:a,datasetIndex:s,element:n}}function Oj(e,t){const n=e.chart.ctx,{body:s,footer:a,title:o}=e,{boxWidth:l,boxHeight:d}=t,f=js(t.bodyFont),h=js(t.titleFont),p=js(t.footerFont),g=o.length,b=a.length,y=s.length,w=Nr(t.padding);let _=w.height,j=0,S=s.reduce((k,C)=>k+C.before.length+C.lines.length+C.after.length,0);if(S+=e.beforeBody.length+e.afterBody.length,g&&(_+=g*h.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),S){const k=t.displayColors?Math.max(d,f.lineHeight):f.lineHeight;_+=y*k+(S-y)*f.lineHeight+(S-1)*t.bodySpacing}b&&(_+=t.footerMarginTop+b*p.lineHeight+(b-1)*t.footerSpacing);let M=0;const A=function(k){j=Math.max(j,n.measureText(k).width+M)};return n.save(),n.font=h.string,rn(e.title,A),n.font=f.string,rn(e.beforeBody.concat(e.afterBody),A),M=t.displayColors?l+2+t.boxPadding:0,rn(s,k=>{rn(k.before,A),rn(k.lines,A),rn(k.after,A)}),M=0,n.font=p.string,rn(e.footer,A),n.restore(),j+=w.width,{width:j,height:_}}function BU(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function FU(e,t,n,s){const{x:a,width:o}=s,l=n.caretSize+n.caretPadding;if(e==="left"&&a+o+l>t.width||e==="right"&&a-o-l<0)return!0}function HU(e,t,n,s){const{x:a,width:o}=n,{width:l,chartArea:{left:d,right:f}}=e;let h="center";return s==="center"?h=a<=(d+f)/2?"left":"right":a<=o/2?h="left":a>=l-o/2&&(h="right"),FU(h,e,t,n)&&(h="center"),h}function Rj(e,t,n){const s=n.yAlign||t.yAlign||BU(e,n);return{xAlign:n.xAlign||t.xAlign||HU(e,t,n,s),yAlign:s}}function VU(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function $U(e,t,n){let{y:s,height:a}=e;return t==="top"?s+=n:t==="bottom"?s-=a+n:s-=a/2,s}function Dj(e,t,n,s){const{caretSize:a,caretPadding:o,cornerRadius:l}=e,{xAlign:d,yAlign:f}=n,h=a+o,{topLeft:p,topRight:g,bottomLeft:b,bottomRight:y}=Fl(l);let w=VU(t,d);const _=$U(t,f,h);return f==="center"?d==="left"?w+=h:d==="right"&&(w-=h):d==="left"?w-=Math.max(p,b)+a:d==="right"&&(w+=Math.max(g,y)+a),{x:qs(w,0,s.width-t.width),y:qs(_,0,s.height-t.height)}}function $f(e,t,n){const s=Nr(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function Mj(e){return Zr([],Pa(e))}function qU(e,t,n){return nc(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Pj(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const gE={beforeTitle:Ra,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:Ra,beforeBody:Ra,beforeLabel:Ra,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return mn(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ra,afterBody:Ra,beforeFooter:Ra,footer:Ra,afterFooter:Ra};function Us(e,t,n,s){const a=e[t].call(n,s);return typeof a=="undefined"?gE[t].call(n,s):a}class V0 extends Lo{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&n.options.animation&&s.animations,o=new tE(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=qU(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,a=Us(s,"beforeTitle",this,t),o=Us(s,"title",this,t),l=Us(s,"afterTitle",this,t);let d=[];return d=Zr(d,Pa(a)),d=Zr(d,Pa(o)),d=Zr(d,Pa(l)),d}getBeforeBody(t,n){return Mj(Us(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,a=[];return rn(t,o=>{const l={before:[],lines:[],after:[]},d=Pj(s,o);Zr(l.before,Pa(Us(d,"beforeLabel",this,o))),Zr(l.lines,Us(d,"label",this,o)),Zr(l.after,Pa(Us(d,"afterLabel",this,o))),a.push(l)}),a}getAfterBody(t,n){return Mj(Us(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,a=Us(s,"beforeFooter",this,t),o=Us(s,"footer",this,t),l=Us(s,"afterFooter",this,t);let d=[];return d=Zr(d,Pa(a)),d=Zr(d,Pa(o)),d=Zr(d,Pa(l)),d}_createItems(t){const n=this._active,s=this.chart.data,a=[],o=[],l=[];let d=[],f,h;for(f=0,h=n.length;f<h;++f)d.push(UU(this.chart,n[f]));return t.filter&&(d=d.filter((p,g,b)=>t.filter(p,g,b,s))),t.itemSort&&(d=d.sort((p,g)=>t.itemSort(p,g,s))),rn(d,p=>{const g=Pj(t.callbacks,p);a.push(Us(g,"labelColor",this,p)),o.push(Us(g,"labelPointStyle",this,p)),l.push(Us(g,"labelTextColor",this,p))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=d,d}update(t,n){const s=this.options.setContext(this.getContext()),a=this._active;let o,l=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const d=Tu[s.position].call(this,a,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const f=this._size=Oj(this,s),h=Object.assign({},d,f),p=Rj(this.chart,s,h),g=Dj(s,h,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:g.x,y:g.y,width:f.width,height:f.height,caretX:d.x,caretY:d.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,a){const o=this.getCaretPosition(t,s,a);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,s){const{xAlign:a,yAlign:o}=this,{caretSize:l,cornerRadius:d}=s,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:g}=Fl(d),{x:b,y}=t,{width:w,height:_}=n;let j,S,M,A,k,C;return o==="center"?(k=y+_/2,a==="left"?(j=b,S=j-l,A=k+l,C=k-l):(j=b+w,S=j+l,A=k-l,C=k+l),M=j):(a==="left"?S=b+Math.max(f,p)+l:a==="right"?S=b+w-Math.max(h,g)-l:S=this.caretX,o==="top"?(A=y,k=A-l,j=S-l,M=S+l):(A=y+_,k=A+l,j=S+l,M=S-l),C=A),{x1:j,x2:S,x3:M,y1:A,y2:k,y3:C}}drawTitle(t,n,s){const a=this.title,o=a.length;let l,d,f;if(o){const h=Hl(s.rtl,this.x,this.width);for(t.x=$f(this,s.titleAlign,s),n.textAlign=h.textAlign(s.titleAlign),n.textBaseline="middle",l=js(s.titleFont),d=s.titleSpacing,n.fillStyle=s.titleColor,n.font=l.string,f=0;f<o;++f)n.fillText(a[f],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+d,f+1===o&&(t.y+=s.titleMarginBottom-d)}}_drawColorBox(t,n,s,a,o){const l=this.labelColors[s],d=this.labelPointStyles[s],{boxHeight:f,boxWidth:h}=o,p=js(o.bodyFont),g=$f(this,"left",o),b=a.x(g),y=f<p.lineHeight?(p.lineHeight-f)/2:0,w=n.y+y;if(o.usePointStyle){const _={radius:Math.min(h,f)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},j=a.leftForLtr(b,h)+h/2,S=w+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,K1(t,_,j,S),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,K1(t,_,j,S)}else{t.lineWidth=Zt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const _=a.leftForLtr(b,h),j=a.leftForLtr(a.xPlus(b,1),h-2),S=Fl(l.borderRadius);Object.values(S).some(M=>M!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Ah(t,{x:_,y:w,w:h,h:f,radius:S}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Ah(t,{x:j,y:w+1,w:h-2,h:f-2,radius:S}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(_,w,h,f),t.strokeRect(_,w,h,f),t.fillStyle=l.backgroundColor,t.fillRect(j,w+1,h-2,f-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:a}=this,{bodySpacing:o,bodyAlign:l,displayColors:d,boxHeight:f,boxWidth:h,boxPadding:p}=s,g=js(s.bodyFont);let b=g.lineHeight,y=0;const w=Hl(s.rtl,this.x,this.width),_=function(D){n.fillText(D,w.x(t.x+y),t.y+b/2),t.y+=b+o},j=w.textAlign(l);let S,M,A,k,C,O,H;for(n.textAlign=l,n.textBaseline="middle",n.font=g.string,t.x=$f(this,j,s),n.fillStyle=s.bodyColor,rn(this.beforeBody,_),y=d&&j!=="right"?l==="center"?h/2+p:h+2+p:0,k=0,O=a.length;k<O;++k){for(S=a[k],M=this.labelTextColors[k],n.fillStyle=M,rn(S.before,_),A=S.lines,d&&A.length&&(this._drawColorBox(n,t,k,w,s),b=Math.max(g.lineHeight,f)),C=0,H=A.length;C<H;++C)_(A[C]),b=g.lineHeight;rn(S.after,_)}y=0,b=g.lineHeight,rn(this.afterBody,_),t.y-=o}drawFooter(t,n,s){const a=this.footer,o=a.length;let l,d;if(o){const f=Hl(s.rtl,this.x,this.width);for(t.x=$f(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=f.textAlign(s.footerAlign),n.textBaseline="middle",l=js(s.footerFont),n.fillStyle=s.footerColor,n.font=l.string,d=0;d<o;++d)n.fillText(a[d],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+s.footerSpacing}}drawBackground(t,n,s,a){const{xAlign:o,yAlign:l}=this,{x:d,y:f}=t,{width:h,height:p}=s,{topLeft:g,topRight:b,bottomLeft:y,bottomRight:w}=Fl(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(d+g,f),l==="top"&&this.drawCaret(t,n,s,a),n.lineTo(d+h-b,f),n.quadraticCurveTo(d+h,f,d+h,f+b),l==="center"&&o==="right"&&this.drawCaret(t,n,s,a),n.lineTo(d+h,f+p-w),n.quadraticCurveTo(d+h,f+p,d+h-w,f+p),l==="bottom"&&this.drawCaret(t,n,s,a),n.lineTo(d+y,f+p),n.quadraticCurveTo(d,f+p,d,f+p-y),l==="center"&&o==="left"&&this.drawCaret(t,n,s,a),n.lineTo(d,f+g),n.quadraticCurveTo(d,f,d+g,f),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,a=s&&s.x,o=s&&s.y;if(a||o){const l=Tu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const d=this._size=Oj(this,t),f=Object.assign({},l,this._size),h=Rj(n,t,f),p=Dj(t,f,h,n);(a._to!==p.x||o._to!==p.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=d.width,this.height=d.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=Nr(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(t.save(),t.globalAlpha=s,this.drawBackground(o,t,a,n),JN(t,n.textDirection),o.y+=l.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),eE(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,a=t.map(({datasetIndex:d,index:f})=>{const h=this.chart.getDatasetMeta(d);if(!h)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:h.data[f],index:f}}),o=!Nh(s,a),l=this._positionChanged(a,n);(o||l)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],l=this._getActiveElements(t,o,n,s),d=this._positionChanged(l,t),f=n||!Nh(l,o)||d;return f&&(this._active=l,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),f}_getActiveElements(t,n,s,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,s);return o.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:s,caretY:a,options:o}=this,l=Tu[o.position].call(this,t,n);return l!==!1&&(s!==l.x||a!==l.y)}}ft(V0,"positioners",Tu);var IU={id:"tooltip",_element:V0,positioners:Tu,afterInit(e,t,n){n&&(e.tooltip=new V0({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",fe(L({},n),{cancelable:!0}))===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:gE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const YU=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function WU(e,t,n,s){const a=e.indexOf(t);if(a===-1)return YU(e,t,n,s);const o=e.lastIndexOf(t);return a!==o?n:a}const XU=(e,t)=>e===null?null:qs(Math.round(e),0,t);function Lj(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class $0 extends sc{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:a,label:o}of n)s[a]===o&&s.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(mn(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:WU(s,t,Qt(n,t),this._addedLabels),XU(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,a=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=t;l<=n;l++)a.push({value:l});return a}getLabelForValue(t){return Lj.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ft($0,"id","category"),ft($0,"defaults",{ticks:{callback:Lj}});function GU(e,t){const n=[],{bounds:a,step:o,min:l,max:d,precision:f,count:h,maxTicks:p,maxDigits:g,includeBounds:b}=e,y=o||1,w=p-1,{min:_,max:j}=t,S=!mn(l),M=!mn(d),A=!mn(h),k=(j-_)/(g+1);let C=H1((j-_)/w/y)*y,O,H,D,V;if(C<1e-14&&!S&&!M)return[{value:_},{value:j}];V=Math.ceil(j/C)-Math.floor(_/C),V>w&&(C=H1(V*C/w/y)*y),mn(f)||(O=Math.pow(10,f),C=Math.ceil(C*O)/O),a==="ticks"?(H=Math.floor(_/C)*C,D=Math.ceil(j/C)*C):(H=_,D=j),S&&M&&o&&IL((d-l)/o,C/1e3)?(V=Math.round(Math.min((d-l)/C,p)),C=(d-l)/V,H=l,D=d):A?(H=S?l:H,D=M?d:D,V=h-1,C=(D-H)/V):(V=(D-H)/C,uh(V,Math.round(V),C/1e3)?V=Math.round(V):V=Math.ceil(V));const te=Math.max(V1(C),V1(H));O=Math.pow(10,mn(f)?te:f),H=Math.round(H*O)/O,D=Math.round(D*O)/O;let q=0;for(S&&(b&&H!==l?(n.push({value:l}),H<l&&q++,uh(Math.round((H+q*C)*O)/O,l,zj(l,k,e))&&q++):H<l&&q++);q<V;++q){const W=Math.round((H+q*C)*O)/O;if(M&&W>d)break;n.push({value:W})}return M&&b&&D!==d?n.length&&uh(n[n.length-1].value,d,zj(d,k,e))?n[n.length-1].value=d:n.push({value:d}):(!M||D===d)&&n.push({value:D}),n}function zj(e,t,{horizontal:n,minRotation:s}){const a=Ba(s),o=(n?Math.sin(a):Math.cos(a))||.001,l=.75*t*(""+e).length;return Math.min(t/o,l)}class KU extends sc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return mn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:a,max:o}=this;const l=f=>a=n?a:f,d=f=>o=s?o:f;if(t){const f=Ti(a),h=Ti(o);f<0&&h<0?d(0):f>0&&h>0&&l(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);d(o+f),t||l(a-f)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,l=GU(a,o);return t.bounds==="ticks"&&YL(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const a=(s-n)/Math.max(t.length-1,1)/2;n-=a,s+=a}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return ty(t,this.chart.options.locale,this.options.ticks.format)}}class q0 extends KU{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Sr(t)?t:0,this.max=Sr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=Ba(this.options.ticks.minRotation),a=(t?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ft(q0,"id","linear"),ft(q0,"defaults",{ticks:{callback:IN.formatters.numeric}});const am={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vs=Object.keys(am);function Uj(e,t){return e-t}function Bj(e,t){if(mn(t))return null;const n=e._adapter,{parser:s,round:a,isoWeekday:o}=e._parseOpts;let l=t;return typeof s=="function"&&(l=s(l)),Sr(l)||(l=typeof s=="string"?n.parse(l,s):n.parse(l)),l===null?null:(a&&(l=a==="week"&&(kh(o)||o===!0)?n.startOf(l,"isoWeek",o):n.startOf(l,a)),+l)}function Fj(e,t,n,s){const a=Vs.length;for(let o=Vs.indexOf(e);o<a-1;++o){const l=am[Vs[o]],d=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(d*l.size))<=s)return Vs[o]}return Vs[a-1]}function QU(e,t,n,s,a){for(let o=Vs.length-1;o>=Vs.indexOf(n);o--){const l=Vs[o];if(am[l].common&&e._adapter.diff(a,s,l)>=t-1)return l}return Vs[n?Vs.indexOf(n):0]}function ZU(e){for(let t=Vs.indexOf(e)+1,n=Vs.length;t<n;++t)if(am[Vs[t]].common)return Vs[t]}function Hj(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:a}=Jx(n,t),o=n[s]>=t?n[s]:n[a];e[o]=!0}}function JU(e,t,n,s){const a=e._adapter,o=+a.startOf(t[0].value,s),l=t[t.length-1].value;let d,f;for(d=o;d<=l;d=+a.add(d,1,s))f=n[d],f>=0&&(t[f].major=!0);return t}function Vj(e,t,n){const s=[],a={},o=t.length;let l,d;for(l=0;l<o;++l)d=t[l],a[d]=l,s.push({value:d,major:!1});return o===0||!n?s:JU(e,s,a,n)}class Mh extends sc{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),a=this._adapter=new uz._date(t.adapters.date);a.init(n),ku(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Bj(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:a,max:o,minDefined:l,maxDefined:d}=this.getUserBounds();function f(h){!l&&!isNaN(h.min)&&(a=Math.min(a,h.min)),!d&&!isNaN(h.max)&&(o=Math.max(o,h.max))}(!l||!d)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=Sr(a)&&!isNaN(a)?a:+n.startOf(Date.now(),s),o=Sr(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,l=this.max,d=QL(a,o,l);return this._unit=n.unit||(s.autoSkip?Fj(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):QU(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:ZU(this._unit),this.initOffsets(a),t.reverse&&d.reverse(),Vj(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?n=1-a:n=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?s=o:s=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=qs(n,0,l),s=qs(s,0,l),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,a=this.options,o=a.time,l=o.unit||Fj(o.minUnit,n,s,this._getLabelCapacity(n)),d=Qt(a.ticks.stepSize,1),f=l==="week"?o.isoWeekday:!1,h=kh(f)||f===!0,p={};let g=n,b,y;if(h&&(g=+t.startOf(g,"isoWeek",f)),g=+t.startOf(g,h?"day":l),t.diff(s,n,l)>1e5*d)throw new Error(n+" and "+s+" are too far apart with stepSize of "+d+" "+l);const w=a.ticks.source==="data"&&this.getDataTimestamps();for(b=g,y=0;b<s;b=+t.add(b,d,l),y++)Hj(p,b,w);return(b===s||a.bounds==="ticks"||y===1)&&Hj(p,b,w),Object.keys(p).sort(Uj).map(_=>+_)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const a=this.options.time.displayFormats,o=this._unit,l=n||a[o];return this._adapter.format(t,l)}_tickFormatFunction(t,n,s,a){const o=this.options,l=o.ticks.callback;if(l)return bn(l,[t,n,s],this);const d=o.time.displayFormats,f=this._unit,h=this._majorUnit,p=f&&d[f],g=h&&d[h],b=s[n],y=h&&g&&b&&b.major;return this._adapter.format(t,a||(y?g:p))}generateTickLabels(t){let n,s,a;for(n=0,s=t.length;n<s;++n)a=t[n],a.label=this._tickFormatFunction(a.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,a=Ba(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),l=Math.sin(a),d=this._resolveTickFontOptions(0).size;return{w:s*o+d*l,h:s*l+d*o}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,a=s[n.unit]||s.millisecond,o=this._tickFormatFunction(t,0,Vj(this,[t],this._majorUnit),a),l=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return d>0?d:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,s=a.length;n<s;++n)t=t.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const a=this.getLabels();for(n=0,s=a.length;n<s;++n)t.push(Bj(this,a[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return HN(t.sort(Uj))}}ft(Mh,"id","time"),ft(Mh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function qf(e,t,n){let s=0,a=e.length-1,o,l,d,f;n?(t>=e[s].pos&&t<=e[a].pos&&({lo:s,hi:a}=U0(e,"pos",t)),{pos:o,time:d}=e[s],{pos:l,time:f}=e[a]):(t>=e[s].time&&t<=e[a].time&&({lo:s,hi:a}=U0(e,"time",t)),{time:o,pos:d}=e[s],{time:l,pos:f}=e[a]);const h=l-o;return h?d+(f-d)*(t-o)/h:d}class $j extends Mh{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=qf(n,this.min),this._tableRange=qf(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,a=[],o=[];let l,d,f,h,p;for(l=0,d=t.length;l<d;++l)h=t[l],h>=n&&h<=s&&a.push(h);if(a.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(l=0,d=a.length;l<d;++l)p=a[l+1],f=a[l-1],h=a[l],Math.round((p+f)/2)!==h&&o.push({time:h,pos:l/(d-1)});return o}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(qf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return qf(this._table,s*this._tableRange+this._minPos,!0)}}ft($j,"id","timeseries"),ft($j,"defaults",Mh.defaults);const xE="label";function qj(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function eB(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function yE(e,t){e.labels=t}function bE(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xE;const s=[];e.datasets=t.map(a=>{const o=e.datasets.find(l=>l[n]===a[n]);return!o||!a.data||s.includes(o)?L({},a):(s.push(o),Object.assign(o,a),o)})}function tB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xE;const n={labels:[],datasets:[]};return yE(n,e.labels),bE(n,e.datasets,t),n}function nB(e,t){const S=e,{height:n=150,width:s=300,redraw:a=!1,datasetIdKey:o,type:l,data:d,options:f,plugins:h=[],fallbackContent:p,updateMode:g}=S,b=Me(S,["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"]),y=N.useRef(null),w=N.useRef(null),_=()=>{y.current&&(w.current=new rm(y.current,{type:l,data:tB(d,o),options:f&&L({},f),plugins:h}),qj(t,w.current))},j=()=>{qj(t,null),w.current&&(w.current.destroy(),w.current=null)};return N.useEffect(()=>{!a&&w.current&&f&&eB(w.current,f)},[a,f]),N.useEffect(()=>{!a&&w.current&&yE(w.current.config.data,d.labels)},[a,d.labels]),N.useEffect(()=>{!a&&w.current&&d.datasets&&bE(w.current.config.data,d.datasets,o)},[a,d.datasets]),N.useEffect(()=>{w.current&&(a?(j(),setTimeout(_)):w.current.update(g))},[a,f,d.labels,d.datasets,g]),N.useEffect(()=>{w.current&&(j(),setTimeout(_))},[l]),N.useEffect(()=>(_(),()=>j()),[]),J.createElement("canvas",L({ref:y,role:"img",height:n,width:s},b),p)}const sB=N.forwardRef(nB);function vE(e,t){return rm.register(t),N.forwardRef((n,s)=>J.createElement(sB,fe(L({},n),{ref:s,type:e})))}const rB=vE("bar",dh),aB=vE("doughnut",Su),Ij=({value:e,label:t,className:n=""})=>u.jsxs("div",{className:`text-center ${n}`,children:[u.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-1",children:e}),u.jsx("div",{className:"text-sm text-gray-500",children:t})]}),Yj=({status:e,type:t="status"})=>{const n="px-2 py-1 rounded-full text-xs font-medium inline-block",s=t==="status"?lL(e):cL(e);return u.jsx("span",{className:`${n} ${s}`,children:e})};rm.register($0,q0,mh,Eu,zU,IU,PU);const iB=({projects:e,phases:t,tasks:n})=>{const[s,a]=N.useState(new Set(e.map(D=>D.name))),[o,l]=N.useState(new Set),d=n.filter(D=>D.status==="Working").length,f=n.filter(D=>D.status==="Completed").length,h=D=>{const V=new Set(s);V.has(D)?V.delete(D):V.add(D),a(V)},p=D=>{const V=new Set(o);V.has(D)?V.delete(D):V.add(D),l(V)},g=n.reduce((D,V)=>(D[V.status]=(D[V.status]||0)+1,D),{}),b=D=>{switch(D){case"Open":return"#3b82f6";case"Working":return"#f59e0b";case"Completed":return"#22c55e";case"Overdue":return"#ef4444";case"Cancelled":return"#6b7280";default:return"#3b82f6"}},y={labels:Object.keys(g),datasets:[{data:Object.values(g),backgroundColor:Object.keys(g).map(D=>b(D)),borderColor:Object.keys(g).map(D=>b(D)),borderWidth:1}]},w=n.reduce((D,V)=>(D[V.priority]=(D[V.priority]||0)+1,D),{}),_=D=>{switch(D){case"Urgent":return"#dc2626";case"High":return"#f97316";case"Medium":return"#eab308";case"Low":return"#16a34a";default:return"#6b7280"}},j=D=>{switch(D){case"Completed":case"Hoàn thành":return"#22c55e";case"Cancelled":case"Canceled":case"Hủy":case"Đã hủy":return"#ef4444";default:return"#3b82f6"}},S={labels:Object.keys(w),datasets:[{data:Object.values(w),backgroundColor:Object.keys(w).map(D=>_(D)),hoverOffset:4}]},M={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}},A={responsive:!0,plugins:{title:{display:!0,text:"Độ ưu tiên nhiệm vụ",font:{size:16}},legend:{position:"bottom"}}},k=D=>{const V=t.find(q=>q.name===D);if(!V||!V.tasks)return[];const te=V.tasks.map(q=>q.task);return n.filter(q=>te.includes(q.name))},C=D=>t.filter(V=>V.project===D),O=(D,V=1)=>{const te=V>0?`pl-${V*6}`:"";return u.jsxs("div",{className:`flex items-center py-2 ${te} border-b border-gray-100 last:border-b-0`,children:[u.jsxs("div",{className:"flex-grow flex items-center",children:[u.jsx("span",{className:"mr-2 text-blue-600",children:"●"}),u.jsx("span",{className:"font-medium text-gray-800",children:D.subject})]}),u.jsx("div",{className:"w-32 text-sm text-gray-600",children:D.assigned_to||"Chưa giao"}),u.jsx("div",{className:"w-32 text-center",children:u.jsx(Yj,{status:D.status,type:"status"})}),u.jsx("div",{className:"w-24 text-center",children:u.jsx(Yj,{status:D.priority,type:"priority"})}),u.jsxs("div",{className:"w-20 text-right text-sm text-gray-600",children:[D.progress,"%"]})]},D.name)},H=(D,V)=>{const te=`${V}-${D.name}`,q=o.has(te),W=k(D.name);return u.jsxs("div",{className:"ml-4",children:[u.jsxs("div",{className:"bg-green-500 text-white p-2 rounded-t-lg font-medium text-md cursor-pointer hover:bg-green-600 flex items-center justify-between",onClick:()=>p(te),children:[u.jsxs("span",{children:["Giai đoạn: ",D.phase_name," (",D.status,")"]}),u.jsx("span",{className:"text-lg",children:q?"▼":"▶️"})]}),q&&u.jsx("div",{className:"bg-white border-l-2 border-r-2 border-b-2 border-gray-200 p-3",children:W.length>0?W.map(re=>O(re)):u.jsx("div",{className:"text-gray-500 text-center py-2 text-sm",children:"Chưa có nhiệm vụ nào cho giai đoạn này."})})]},D.name)};return u.jsxs(tm,{title:"Quản lý nhiệm vụ (Task)",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[u.jsx(Ij,{value:d,label:"Tổng nhiệm vụ đang thực hiện"}),u.jsx(Ij,{value:f,label:"Tổng nhiệm vụ đã hoàn thành"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Trạng thái nhiệm vụ"}),u.jsx("div",{className:"flex-1",style:{height:"400px"},children:u.jsx(rB,{data:y,options:M})})]}),u.jsx("div",{className:"flex flex-col",children:u.jsx("div",{className:"flex-1",style:{height:"400px"},children:u.jsx(aB,{data:S,options:A})})})]}),u.jsx("h3",{className:"text-xl font-semibold mt-8 mb-4 text-gray-700",children:"Danh sách nhiệm vụ"}),u.jsx("div",{className:"space-y-4",children:e.map(D=>{const V=C(D.name),te=s.has(D.name);return u.jsxs("div",{children:[u.jsx("div",{className:"text-white p-3 rounded-t-lg font-semibold text-lg cursor-pointer hover:opacity-90 flex items-center justify-between transition-opacity",style:{backgroundColor:j(D.status)},onClick:()=>h(D.name),children:u.jsxs("div",{className:"flex flex-col flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-lg font-semibold",children:["Dự án: ",D.project_name," (",D.status,")"]}),u.jsx("span",{className:"text-xl",children:te?"▼":"▶️"})]}),u.jsxs("div",{className:"flex items-center mt-2 text-sm text-white space-x-6",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium mr-2",children:"Priority:"}),u.jsx("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:D.priority})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium mr-2",children:"Progress:"}),u.jsxs("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:[D.percent_complete,"%"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium mr-2",children:"Expected End:"}),u.jsx("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:D.expected_end_date?new Date(D.expected_end_date).toLocaleDateString("vi-VN"):"Chưa xác định"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium mr-2",children:"Department:"}),u.jsx("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:D.department})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium mr-2",children:"Team:"}),u.jsx("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:D.team})]})]})]})}),te&&u.jsx("div",{className:"bg-white rounded-b-lg border border-gray-200 p-4",children:V.length>0?V.map(q=>H(q,D.name)):u.jsx("div",{className:"text-gray-500 text-center py-4",children:"Chưa có giai đoạn nào cho dự án này."})})]},D.name)})})]})},oB=({className:e=""})=>u.jsx("div",{className:`inline-block animate-spin rounded-full border-4 border-gray-200 border-t-blue-600 h-6 w-6 ${e}`}),lB=()=>{const{allProjects:e,filteredData:t,selectedProject:n,selectedDepartment:s,selectedTeam:a,setSelectedProject:o,setSelectedDepartment:l,setSelectedTeam:d,isLoading:f}=aL();return f?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsxs("div",{className:"text-center",children:[u.jsx(oB,{className:"h-12 w-12 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Đang tải dữ liệu..."})]})}):u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-8 text-center",children:"Bảng điều khiển quản lý dự án"}),u.jsx(iL,{projects:e,selectedProject:n,selectedDepartment:s,selectedTeam:a,onProjectChange:o,onDepartmentChange:l,onTeamChange:d}),u.jsx(uL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),u.jsx(fL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),u.jsx(dL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),u.jsx(iB,{projects:t.filteredProjects,phases:t.filteredPhases,tasks:t.filteredTasks})]})})},bo=e=>e==null?"N/A":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(e);var td=e=>e.type==="checkbox",No=e=>e instanceof Date,As=e=>e==null;const wE=e=>typeof e=="object";var Fn=e=>!As(e)&&!Array.isArray(e)&&wE(e)&&!No(e),_E=e=>Fn(e)&&e.target?td(e.target)?e.target.checked:e.target.value:e,cB=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,jE=(e,t)=>e.has(cB(t)),uB=e=>{const t=e.constructor&&e.constructor.prototype;return Fn(t)&&t.hasOwnProperty("isPrototypeOf")},dy=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function ts(e){let t;const n=Array.isArray(e),s=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(dy&&(e instanceof Blob||s))&&(n||Fn(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!uB(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=ts(e[a]));else return e;return t}var im=e=>/^\w*$/.test(e),zn=e=>e===void 0,fy=e=>Array.isArray(e)?e.filter(Boolean):[],hy=e=>fy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),$e=(e,t,n)=>{if(!t||!Fn(e))return n;const s=(im(t)?[t]:hy(t)).reduce((a,o)=>As(a)?a:a[o],e);return zn(s)||s===e?zn(e[t])?n:e[t]:s},er=e=>typeof e=="boolean",xn=(e,t,n)=>{let s=-1;const a=im(t)?[t]:hy(t),o=a.length,l=o-1;for(;++s<o;){const d=a[s];let f=n;if(s!==l){const h=e[d];f=Fn(h)||Array.isArray(h)?h:isNaN(+a[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=f,e=e[d]}};const Ph={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},zr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Da={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},SE=J.createContext(null);SE.displayName="HookFormContext";const my=()=>J.useContext(SE);var NE=(e,t,n,s=!0)=>{const a={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const l=o;return t._proxyFormState[l]!==zr.all&&(t._proxyFormState[l]=!s||zr.all),n&&(n[l]=!0),e[l]}});return a};const py=typeof window!="undefined"?J.useLayoutEffect:J.useEffect;function dB(e){const t=my(),{control:n=t.control,disabled:s,name:a,exact:o}=e||{},[l,d]=J.useState(n._formState),f=J.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return py(()=>n._subscribe({name:a,formState:f.current,exact:o,callback:h=>{!s&&d(L(L({},n._formState),h))}}),[a,s,o]),J.useEffect(()=>{f.current.isValid&&n._setValid(!0)},[n]),J.useMemo(()=>NE(l,n,f.current,!1),[l,n])}var sa=e=>typeof e=="string",EE=(e,t,n,s,a)=>sa(e)?(s&&t.watch.add(e),$e(n,e,a)):Array.isArray(e)?e.map(o=>(s&&t.watch.add(o),$e(n,o))):(s&&(t.watchAll=!0),n),I0=e=>As(e)||!wE(e);function Ua(e,t,n=new WeakSet){if(I0(e)||I0(t))return e===t;if(No(e)&&No(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const o of s){const l=e[o];if(!a.includes(o))return!1;if(o!=="ref"){const d=t[o];if(No(l)&&No(d)||Fn(l)&&Fn(d)||Array.isArray(l)&&Array.isArray(d)?!Ua(l,d,n):l!==d)return!1}}return!0}function fB(e){const t=my(),{control:n=t.control,name:s,defaultValue:a,disabled:o,exact:l,compute:d}=e||{},f=J.useRef(a),h=J.useRef(d),p=J.useRef(void 0);h.current=d;const g=J.useMemo(()=>n._getWatch(s,f.current),[n,s]),[b,y]=J.useState(h.current?h.current(g):g);return py(()=>n._subscribe({name:s,formState:{values:!0},exact:l,callback:w=>{if(!o){const _=EE(s,n._names,w.values||n._formValues,!1,f.current);if(h.current){const j=h.current(_);Ua(j,p.current)||(y(j),p.current=j)}else y(_)}}}),[n,o,s,l]),J.useEffect(()=>n._removeUnmounted()),b}function hB(e){const t=my(),{name:n,disabled:s,control:a=t.control,shouldUnregister:o,defaultValue:l}=e,d=jE(a._names.array,n),f=J.useMemo(()=>$e(a._formValues,n,$e(a._defaultValues,n,l)),[a,n,l]),h=fB({control:a,name:n,defaultValue:f,exact:!0}),p=dB({control:a,name:n,exact:!0}),g=J.useRef(e),b=J.useRef(a.register(n,L(fe(L({},e.rules),{value:h}),er(e.disabled)?{disabled:e.disabled}:{})));g.current=e;const y=J.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!$e(p.errors,n)},isDirty:{enumerable:!0,get:()=>!!$e(p.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!$e(p.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!$e(p.validatingFields,n)},error:{enumerable:!0,get:()=>$e(p.errors,n)}}),[p,n]),w=J.useCallback(M=>b.current.onChange({target:{value:_E(M),name:n},type:Ph.CHANGE}),[n]),_=J.useCallback(()=>b.current.onBlur({target:{value:$e(a._formValues,n),name:n},type:Ph.BLUR}),[n,a._formValues]),j=J.useCallback(M=>{const A=$e(a._fields,n);A&&M&&(A._f.ref={focus:()=>M.focus&&M.focus(),select:()=>M.select&&M.select(),setCustomValidity:k=>M.setCustomValidity(k),reportValidity:()=>M.reportValidity()})},[a._fields,n]),S=J.useMemo(()=>fe(L({name:n,value:h},er(s)||p.disabled?{disabled:p.disabled||s}:{}),{onChange:w,onBlur:_,ref:j}),[n,s,p.disabled,w,_,j,h]);return J.useEffect(()=>{const M=a._options.shouldUnregister||o;a.register(n,L(L({},g.current.rules),er(g.current.disabled)?{disabled:g.current.disabled}:{}));const A=(k,C)=>{const O=$e(a._fields,k);O&&O._f&&(O._f.mount=C)};if(A(n,!0),M){const k=ts($e(a._options.defaultValues,n));xn(a._defaultValues,n,k),zn($e(a._formValues,n))&&xn(a._formValues,n,k)}return!d&&a.register(n),()=>{(d?M&&!a._state.action:M)?a.unregister(n):A(n,!1)}},[n,a,d,o]),J.useEffect(()=>{a._setDisabledField({disabled:s,name:n})},[s,n,a]),J.useMemo(()=>({field:S,formState:p,fieldState:y}),[S,p,y])}const nr=e=>e.render(hB(e));var mB=(e,t,n,s,a)=>t?fe(L({},n[e]),{types:fe(L({},n[e]&&n[e].types?n[e].types:{}),{[s]:a||!0})}):{},Ou=e=>Array.isArray(e)?e:[e],Wj=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}},Bs=e=>Fn(e)&&!Object.keys(e).length,gy=e=>e.type==="file",Ur=e=>typeof e=="function",Lh=e=>{if(!dy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},TE=e=>e.type==="select-multiple",xy=e=>e.type==="radio",pB=e=>xy(e)||td(e),Kg=e=>Lh(e)&&e.isConnected;function gB(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=zn(e)?s++:e[t[s++]];return e}function xB(e){for(const t in e)if(e.hasOwnProperty(t)&&!zn(e[t]))return!1;return!0}function In(e,t){const n=Array.isArray(t)?t:im(t)?[t]:hy(t),s=n.length===1?e:gB(e,n),a=n.length-1,o=n[a];return s&&delete s[o],a!==0&&(Fn(s)&&Bs(s)||Array.isArray(s)&&xB(s))&&In(e,n.slice(0,-1)),e}var kE=e=>{for(const t in e)if(Ur(e[t]))return!0;return!1};function zh(e,t={}){const n=Array.isArray(e);if(Fn(e)||n)for(const s in e)Array.isArray(e[s])||Fn(e[s])&&!kE(e[s])?(t[s]=Array.isArray(e[s])?[]:{},zh(e[s],t[s])):As(e[s])||(t[s]=!0);return t}function CE(e,t,n){const s=Array.isArray(e);if(Fn(e)||s)for(const a in e)Array.isArray(e[a])||Fn(e[a])&&!kE(e[a])?zn(t)||I0(n[a])?n[a]=Array.isArray(e[a])?zh(e[a],[]):L({},zh(e[a])):CE(e[a],As(t)?{}:t[a],n[a]):n[a]=!Ua(e[a],t[a]);return n}var gu=(e,t)=>CE(e,t,zh(t));const Xj={value:!1,isValid:!1},Gj={value:!0,isValid:!0};var AE=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!zn(e[0].attributes.value)?zn(e[0].value)||e[0].value===""?Gj:{value:e[0].value,isValid:!0}:Gj:Xj}return Xj},OE=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>zn(e)?e:t?e===""?NaN:e&&+e:n&&sa(e)?new Date(e):s?s(e):e;const Kj={isValid:!1,value:null};var RE=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Kj):Kj;function Qj(e){const t=e.ref;return gy(t)?t.files:xy(t)?RE(e.refs).value:TE(t)?[...t.selectedOptions].map(({value:n})=>n):td(t)?AE(e.refs).value:OE(zn(t.value)?e.ref.value:t.value,e)}var yB=(e,t,n,s)=>{const a={};for(const o of e){const l=$e(t,o);l&&xn(a,o,l._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:s}},Uh=e=>e instanceof RegExp,xu=e=>zn(e)?e:Uh(e)?e.source:Fn(e)?Uh(e.value)?e.value.source:e.value:e,Zj=e=>({isOnSubmit:!e||e===zr.onSubmit,isOnBlur:e===zr.onBlur,isOnChange:e===zr.onChange,isOnAll:e===zr.all,isOnTouch:e===zr.onTouched});const Jj="AsyncFunction";var bB=e=>!!e&&!!e.validate&&!!(Ur(e.validate)&&e.validate.constructor.name===Jj||Fn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Jj)),vB=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),eS=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Ru=(e,t,n,s)=>{for(const o of n||Object.keys(e)){const l=$e(e,o);if(l){const a=l,{_f:d}=a,f=Me(a,["_f"]);if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],o)&&!s)return!0;if(d.ref&&t(d.ref,d.name)&&!s)return!0;if(Ru(f,t))break}else if(Fn(f)&&Ru(f,t))break}}};function tS(e,t,n){const s=$e(e,n);if(s||im(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const o=a.join("."),l=$e(t,o),d=$e(e,o);if(l&&!Array.isArray(l)&&n!==o)return{name:n};if(d&&d.type)return{name:o,error:d};if(d&&d.root&&d.root.type)return{name:`${o}.root`,error:d.root};a.pop()}return{name:n}}var wB=(e,t,n,s)=>{n(e);const l=e,{name:a}=l,o=Me(l,["name"]);return Bs(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(d=>t[d]===(!s||zr.all))},_B=(e,t,n)=>!e||!t||e===t||Ou(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),jB=(e,t,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?s.isOnBlur:a.isOnBlur)?!e:(n?s.isOnChange:a.isOnChange)?e:!0,SB=(e,t)=>!fy($e(e,t)).length&&In(e,t),NB=(e,t,n)=>{const s=Ou($e(e,n));return xn(s,"root",t[n]),xn(e,n,s),e},ph=e=>sa(e);function nS(e,t,n="validate"){if(ph(e)||Array.isArray(e)&&e.every(ph)||er(e)&&!e)return{type:n,message:ph(e)?e:"",ref:t}}var Cl=e=>Fn(e)&&!Uh(e)?e:{value:e,message:""},sS=(e,t,n,s,a,o)=>ye(null,null,function*(){const{ref:l,refs:d,required:f,maxLength:h,minLength:p,min:g,max:b,pattern:y,validate:w,name:_,valueAsNumber:j,mount:S}=e._f,M=$e(n,_);if(!S||t.has(_))return{};const A=d?d[0]:l,k=W=>{a&&A.reportValidity&&(A.setCustomValidity(er(W)?"":W||""),A.reportValidity())},C={},O=xy(l),H=td(l),D=O||H,V=(j||gy(l))&&zn(l.value)&&zn(M)||Lh(l)&&l.value===""||M===""||Array.isArray(M)&&!M.length,te=mB.bind(null,_,s,C),q=(W,re,me,Z=Da.maxLength,F=Da.minLength)=>{const Y=W?re:me;C[_]=L({type:W?Z:F,message:Y,ref:l},te(W?Z:F,Y))};if(o?!Array.isArray(M)||!M.length:f&&(!D&&(V||As(M))||er(M)&&!M||H&&!AE(d).isValid||O&&!RE(d).isValid)){const{value:W,message:re}=ph(f)?{value:!!f,message:f}:Cl(f);if(W&&(C[_]=L({type:Da.required,message:re,ref:A},te(Da.required,re)),!s))return k(re),C}if(!V&&(!As(g)||!As(b))){let W,re;const me=Cl(b),Z=Cl(g);if(!As(M)&&!isNaN(M)){const F=l.valueAsNumber||M&&+M;As(me.value)||(W=F>me.value),As(Z.value)||(re=F<Z.value)}else{const F=l.valueAsDate||new Date(M),Y=z=>new Date(new Date().toDateString()+" "+z),G=l.type=="time",ee=l.type=="week";sa(me.value)&&M&&(W=G?Y(M)>Y(me.value):ee?M>me.value:F>new Date(me.value)),sa(Z.value)&&M&&(re=G?Y(M)<Y(Z.value):ee?M<Z.value:F<new Date(Z.value))}if((W||re)&&(q(!!W,me.message,Z.message,Da.max,Da.min),!s))return k(C[_].message),C}if((h||p)&&!V&&(sa(M)||o&&Array.isArray(M))){const W=Cl(h),re=Cl(p),me=!As(W.value)&&M.length>+W.value,Z=!As(re.value)&&M.length<+re.value;if((me||Z)&&(q(me,W.message,re.message),!s))return k(C[_].message),C}if(y&&!V&&sa(M)){const{value:W,message:re}=Cl(y);if(Uh(W)&&!M.match(W)&&(C[_]=L({type:Da.pattern,message:re,ref:l},te(Da.pattern,re)),!s))return k(re),C}if(w){if(Ur(w)){const W=yield w(M,n),re=nS(W,A);if(re&&(C[_]=L(L({},re),te(Da.validate,re.message)),!s))return k(re.message),C}else if(Fn(w)){let W={};for(const re in w){if(!Bs(W)&&!s)break;const me=nS(yield w[re](M,n),A,re);me&&(W=L(L({},me),te(re,me.message)),k(me.message),s&&(C[_]=W))}if(!Bs(W)&&(C[_]=L({ref:A},W),!s))return C}}return k(!0),C});const EB={mode:zr.onSubmit,reValidateMode:zr.onChange,shouldFocusError:!0};function TB(e={}){let t=L(L({},EB),e),n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ur(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Fn(t.defaultValues)||Fn(t.values)?ts(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:ts(a),l={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g=L({},p);const b={array:Wj(),state:Wj()},y=t.criteriaMode===zr.all,w=X=>ce=>{clearTimeout(h),h=setTimeout(X,ce)},_=X=>ye(null,null,function*(){if(!t.disabled&&(p.isValid||g.isValid||X)){const ce=t.resolver?Bs((yield H()).errors):yield V(s,!0);ce!==n.isValid&&b.state.next({isValid:ce})}}),j=(X,ce)=>{!t.disabled&&(p.isValidating||p.validatingFields||g.isValidating||g.validatingFields)&&((X||Array.from(d.mount)).forEach($=>{$&&(ce?xn(n.validatingFields,$,ce):In(n.validatingFields,$))}),b.state.next({validatingFields:n.validatingFields,isValidating:!Bs(n.validatingFields)}))},S=(X,ce=[],$,Se,De=!0,Re=!0)=>{if(Se&&$&&!t.disabled){if(l.action=!0,Re&&Array.isArray($e(s,X))){const Ue=$($e(s,X),Se.argA,Se.argB);De&&xn(s,X,Ue)}if(Re&&Array.isArray($e(n.errors,X))){const Ue=$($e(n.errors,X),Se.argA,Se.argB);De&&xn(n.errors,X,Ue),SB(n.errors,X)}if((p.touchedFields||g.touchedFields)&&Re&&Array.isArray($e(n.touchedFields,X))){const Ue=$($e(n.touchedFields,X),Se.argA,Se.argB);De&&xn(n.touchedFields,X,Ue)}(p.dirtyFields||g.dirtyFields)&&(n.dirtyFields=gu(a,o)),b.state.next({name:X,isDirty:q(X,ce),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else xn(o,X,ce)},M=(X,ce)=>{xn(n.errors,X,ce),b.state.next({errors:n.errors})},A=X=>{n.errors=X,b.state.next({errors:n.errors,isValid:!1})},k=(X,ce,$,Se)=>{const De=$e(s,X);if(De){const Re=$e(o,X,zn($)?$e(a,X):$);zn(Re)||Se&&Se.defaultChecked||ce?xn(o,X,ce?Re:Qj(De._f)):me(X,Re),l.mount&&_()}},C=(X,ce,$,Se,De)=>{let Re=!1,Ue=!1;const qe={name:X};if(!t.disabled){if(!$||Se){(p.isDirty||g.isDirty)&&(Ue=n.isDirty,n.isDirty=qe.isDirty=q(),Re=Ue!==qe.isDirty);const Ke=Ua($e(a,X),ce);Ue=!!$e(n.dirtyFields,X),Ke?In(n.dirtyFields,X):xn(n.dirtyFields,X,!0),qe.dirtyFields=n.dirtyFields,Re=Re||(p.dirtyFields||g.dirtyFields)&&Ue!==!Ke}if($){const Ke=$e(n.touchedFields,X);Ke||(xn(n.touchedFields,X,$),qe.touchedFields=n.touchedFields,Re=Re||(p.touchedFields||g.touchedFields)&&Ke!==$)}Re&&De&&b.state.next(qe)}return Re?qe:{}},O=(X,ce,$,Se)=>{const De=$e(n.errors,X),Re=(p.isValid||g.isValid)&&er(ce)&&n.isValid!==ce;if(t.delayError&&$?(f=w(()=>M(X,$)),f(t.delayError)):(clearTimeout(h),f=null,$?xn(n.errors,X,$):In(n.errors,X)),($?!Ua(De,$):De)||!Bs(Se)||Re){const Ue=fe(L(L({},Se),Re&&er(ce)?{isValid:ce}:{}),{errors:n.errors,name:X});n=L(L({},n),Ue),b.state.next(Ue)}},H=X=>ye(null,null,function*(){j(X,!0);const ce=yield t.resolver(o,t.context,yB(X||d.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return j(X),ce}),D=X=>ye(null,null,function*(){const{errors:ce}=yield H(X);if(X)for(const $ of X){const Se=$e(ce,$);Se?xn(n.errors,$,Se):In(n.errors,$)}else n.errors=ce;return ce}),V=(Se,De,...Re)=>ye(null,[Se,De,...Re],function*(X,ce,$={valid:!0}){for(const qe in X){const Ke=X[qe];if(Ke){const Ue=Ke,{_f:xt}=Ue,yn=Me(Ue,["_f"]);if(xt){const ct=d.array.has(xt.name),ke=Ke._f&&bB(Ke._f);ke&&p.validatingFields&&j([qe],!0);const Be=yield sS(Ke,d.disabled,o,y,t.shouldUseNativeValidation&&!ce,ct);if(ke&&p.validatingFields&&j([qe]),Be[xt.name]&&($.valid=!1,ce))break;!ce&&($e(Be,xt.name)?ct?NB(n.errors,Be,xt.name):xn(n.errors,xt.name,Be[xt.name]):In(n.errors,xt.name))}!Bs(yn)&&(yield V(yn,ce,$))}}return $.valid}),te=()=>{for(const X of d.unMount){const ce=$e(s,X);ce&&(ce._f.refs?ce._f.refs.every($=>!Kg($)):!Kg(ce._f.ref))&&Ee(X)}d.unMount=new Set},q=(X,ce)=>!t.disabled&&(X&&ce&&xn(o,X,ce),!Ua(z(),a)),W=(X,ce,$)=>EE(X,d,L({},l.mount?o:zn(ce)?a:sa(X)?{[X]:ce}:ce),$,ce),re=X=>fy($e(l.mount?o:a,X,t.shouldUnregister?$e(a,X,[]):[])),me=(X,ce,$={})=>{const Se=$e(s,X);let De=ce;if(Se){const Re=Se._f;Re&&(!Re.disabled&&xn(o,X,OE(ce,Re)),De=Lh(Re.ref)&&As(ce)?"":ce,TE(Re.ref)?[...Re.ref.options].forEach(Ue=>Ue.selected=De.includes(Ue.value)):Re.refs?td(Re.ref)?Re.refs.forEach(Ue=>{(!Ue.defaultChecked||!Ue.disabled)&&(Array.isArray(De)?Ue.checked=!!De.find(qe=>qe===Ue.value):Ue.checked=De===Ue.value||!!De)}):Re.refs.forEach(Ue=>Ue.checked=Ue.value===De):gy(Re.ref)?Re.ref.value="":(Re.ref.value=De,Re.ref.type||b.state.next({name:X,values:ts(o)})))}($.shouldDirty||$.shouldTouch)&&C(X,De,$.shouldTouch,$.shouldDirty,!0),$.shouldValidate&&ee(X)},Z=(X,ce,$)=>{for(const Se in ce){if(!ce.hasOwnProperty(Se))return;const De=ce[Se],Re=X+"."+Se,Ue=$e(s,Re);(d.array.has(X)||Fn(De)||Ue&&!Ue._f)&&!No(De)?Z(Re,De,$):me(Re,De,$)}},F=(X,ce,$={})=>{const Se=$e(s,X),De=d.array.has(X),Re=ts(ce);xn(o,X,Re),De?(b.array.next({name:X,values:ts(o)}),(p.isDirty||p.dirtyFields||g.isDirty||g.dirtyFields)&&$.shouldDirty&&b.state.next({name:X,dirtyFields:gu(a,o),isDirty:q(X,Re)})):Se&&!Se._f&&!As(Re)?Z(X,Re,$):me(X,Re,$),eS(X,d)&&b.state.next(fe(L({},n),{name:X})),b.state.next({name:l.mount?X:void 0,values:ts(o)})},Y=X=>ye(null,null,function*(){l.mount=!0;const ce=X.target;let $=ce.name,Se=!0;const De=$e(s,$),Re=Ke=>{Se=Number.isNaN(Ke)||No(Ke)&&isNaN(Ke.getTime())||Ua(Ke,$e(o,$,Ke))},Ue=Zj(t.mode),qe=Zj(t.reValidateMode);if(De){let Ke,xt;const yn=ce.type?Qj(De._f):_E(X),ct=X.type===Ph.BLUR||X.type===Ph.FOCUS_OUT,ke=!vB(De._f)&&!t.resolver&&!$e(n.errors,$)&&!De._f.deps||jB(ct,$e(n.touchedFields,$),n.isSubmitted,qe,Ue),Be=eS($,d,ct);xn(o,$,yn),ct?(!ce||!ce.readOnly)&&(De._f.onBlur&&De._f.onBlur(X),f&&f(0)):De._f.onChange&&De._f.onChange(X);const Dt=C($,yn,ct),Sn=!Bs(Dt)||Be;if(!ct&&b.state.next({name:$,type:X.type,values:ts(o)}),ke)return(p.isValid||g.isValid)&&(t.mode==="onBlur"?ct&&_():ct||_()),Sn&&b.state.next(L({name:$},Be?{}:Dt));if(!ct&&Be&&b.state.next(L({},n)),t.resolver){const{errors:as}=yield H([$]);if(Re(yn),Se){const Hn=tS(n.errors,s,$),ds=tS(as,s,Hn.name||$);Ke=ds.error,$=ds.name,xt=Bs(as)}}else j([$],!0),Ke=(yield sS(De,d.disabled,o,y,t.shouldUseNativeValidation))[$],j([$]),Re(yn),Se&&(Ke?xt=!1:(p.isValid||g.isValid)&&(xt=yield V(s,!0)));Se&&(De._f.deps&&ee(De._f.deps),O($,xt,Ke,Dt))}}),G=(X,ce)=>{if($e(n.errors,ce)&&X.focus)return X.focus(),1},ee=($,...Se)=>ye(null,[$,...Se],function*(X,ce={}){let De,Re;const Ue=Ou(X);if(t.resolver){const qe=yield D(zn(X)?X:Ue);De=Bs(qe),Re=X?!Ue.some(Ke=>$e(qe,Ke)):De}else X?(Re=(yield Promise.all(Ue.map(qe=>ye(null,null,function*(){const Ke=$e(s,qe);return yield V(Ke&&Ke._f?{[qe]:Ke}:Ke)})))).every(Boolean),!(!Re&&!n.isValid)&&_()):Re=De=yield V(s);return b.state.next(fe(L(L({},!sa(X)||(p.isValid||g.isValid)&&De!==n.isValid?{}:{name:X}),t.resolver||!X?{isValid:De}:{}),{errors:n.errors})),ce.shouldFocus&&!Re&&Ru(s,G,X?Ue:d.mount),Re}),z=X=>{const ce=L({},l.mount?o:a);return zn(X)?ce:sa(X)?$e(ce,X):X.map($=>$e(ce,$))},ae=(X,ce)=>({invalid:!!$e((ce||n).errors,X),isDirty:!!$e((ce||n).dirtyFields,X),error:$e((ce||n).errors,X),isValidating:!!$e(n.validatingFields,X),isTouched:!!$e((ce||n).touchedFields,X)}),we=X=>{X&&Ou(X).forEach(ce=>In(n.errors,ce)),b.state.next({errors:X?n.errors:{}})},I=(X,ce,$)=>{const Se=($e(s,X,{_f:{}})._f||{}).ref,xt=$e(n.errors,X)||{},{ref:Re,message:Ue,type:qe}=xt,Ke=Me(xt,["ref","message","type"]);xn(n.errors,X,fe(L(L({},Ke),ce),{ref:Se})),b.state.next({name:X,errors:n.errors,isValid:!1}),$&&$.shouldFocus&&Se&&Se.focus&&Se.focus()},oe=(X,ce)=>Ur(X)?b.state.subscribe({next:$=>"values"in $&&X(W(void 0,ce),$)}):W(X,ce,!0),je=X=>b.state.subscribe({next:ce=>{_B(X.name,ce.name,X.exact)&&wB(ce,X.formState||p,jt,X.reRenderRoot)&&X.callback(fe(L(L({values:L({},o)},n),ce),{defaultValues:a}))}}).unsubscribe,ge=X=>(l.mount=!0,g=L(L({},g),X.formState),je(fe(L({},X),{formState:g}))),Ee=(X,ce={})=>{for(const $ of X?Ou(X):d.mount)d.mount.delete($),d.array.delete($),ce.keepValue||(In(s,$),In(o,$)),!ce.keepError&&In(n.errors,$),!ce.keepDirty&&In(n.dirtyFields,$),!ce.keepTouched&&In(n.touchedFields,$),!ce.keepIsValidating&&In(n.validatingFields,$),!t.shouldUnregister&&!ce.keepDefaultValue&&In(a,$);b.state.next({values:ts(o)}),b.state.next(L(L({},n),ce.keepDirty?{isDirty:q()}:{})),!ce.keepIsValid&&_()},Oe=({disabled:X,name:ce})=>{(er(X)&&l.mount||X||d.disabled.has(ce))&&(X?d.disabled.add(ce):d.disabled.delete(ce))},We=(X,ce={})=>{let $=$e(s,X);const Se=er(ce.disabled)||er(t.disabled);return xn(s,X,fe(L({},$||{}),{_f:L(fe(L({},$&&$._f?$._f:{ref:{name:X}}),{name:X,mount:!0}),ce)})),d.mount.add(X),$?Oe({disabled:er(ce.disabled)?ce.disabled:t.disabled,name:X}):k(X,!0,ce.value),fe(L(L({},Se?{disabled:ce.disabled||t.disabled}:{}),t.progressive?{required:!!ce.required,min:xu(ce.min),max:xu(ce.max),minLength:xu(ce.minLength),maxLength:xu(ce.maxLength),pattern:xu(ce.pattern)}:{}),{name:X,onChange:Y,onBlur:Y,ref:De=>{if(De){We(X,ce),$=$e(s,X);const Re=zn(De.value)&&De.querySelectorAll&&De.querySelectorAll("input,select,textarea")[0]||De,Ue=pB(Re),qe=$._f.refs||[];if(Ue?qe.find(Ke=>Ke===Re):Re===$._f.ref)return;xn(s,X,{_f:L(L({},$._f),Ue?{refs:[...qe.filter(Kg),Re,...Array.isArray($e(a,X))?[{}]:[]],ref:{type:Re.type,name:X}}:{ref:Re})}),k(X,!1,void 0,Re)}else $=$e(s,X,{}),$._f&&($._f.mount=!1),(t.shouldUnregister||ce.shouldUnregister)&&!(jE(d.array,X)&&l.action)&&d.unMount.add(X)}})},He=()=>t.shouldFocusError&&Ru(s,G,d.mount),it=X=>{er(X)&&(b.state.next({disabled:X}),Ru(s,(ce,$)=>{const Se=$e(s,$);Se&&(ce.disabled=Se._f.disabled||X,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(De=>{De.disabled=Se._f.disabled||X}))},0,!1))},st=(X,ce)=>$=>ye(null,null,function*(){let Se;$&&($.preventDefault&&$.preventDefault(),$.persist&&$.persist());let De=ts(o);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:Re,values:Ue}=yield H();n.errors=Re,De=ts(Ue)}else yield V(s);if(d.disabled.size)for(const Re of d.disabled)In(De,Re);if(In(n.errors,"root"),Bs(n.errors)){b.state.next({errors:{}});try{yield X(De,$)}catch(Re){Se=Re}}else ce&&(yield ce(L({},n.errors),$)),He(),setTimeout(He);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Bs(n.errors)&&!Se,submitCount:n.submitCount+1,errors:n.errors}),Se)throw Se}),vt=(X,ce={})=>{$e(s,X)&&(zn(ce.defaultValue)?F(X,ts($e(a,X))):(F(X,ce.defaultValue),xn(a,X,ts(ce.defaultValue))),ce.keepTouched||In(n.touchedFields,X),ce.keepDirty||(In(n.dirtyFields,X),n.isDirty=ce.defaultValue?q(X,ts($e(a,X))):q()),ce.keepError||(In(n.errors,X),p.isValid&&_()),b.state.next(L({},n)))},Pe=(X,ce={})=>{const $=X?ts(X):a,Se=ts($),De=Bs(X),Re=De?a:Se;if(ce.keepDefaultValues||(a=$),!ce.keepValues){if(ce.keepDirtyValues){const Ue=new Set([...d.mount,...Object.keys(gu(a,o))]);for(const qe of Array.from(Ue))$e(n.dirtyFields,qe)?xn(Re,qe,$e(o,qe)):F(qe,$e(Re,qe))}else{if(dy&&zn(X))for(const Ue of d.mount){const qe=$e(s,Ue);if(qe&&qe._f){const Ke=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(Lh(Ke)){const xt=Ke.closest("form");if(xt){xt.reset();break}}}}if(ce.keepFieldsRef)for(const Ue of d.mount)F(Ue,$e(Re,Ue));else s={}}o=t.shouldUnregister?ce.keepDefaultValues?ts(a):{}:ts(Re),b.array.next({values:L({},Re)}),b.state.next({values:L({},Re)})}d={mount:ce.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!p.isValid||!!ce.keepIsValid||!!ce.keepDirtyValues,l.watch=!!t.shouldUnregister,b.state.next({submitCount:ce.keepSubmitCount?n.submitCount:0,isDirty:De?!1:ce.keepDirty?n.isDirty:!!(ce.keepDefaultValues&&!Ua(X,a)),isSubmitted:ce.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:De?{}:ce.keepDirtyValues?ce.keepDefaultValues&&o?gu(a,o):n.dirtyFields:ce.keepDefaultValues&&X?gu(a,X):ce.keepDirty?n.dirtyFields:{},touchedFields:ce.keepTouched?n.touchedFields:{},errors:ce.keepErrors?n.errors:{},isSubmitSuccessful:ce.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},gt=(X,ce)=>Pe(Ur(X)?X(o):X,ce),Vt=(X,ce={})=>{const $=$e(s,X),Se=$&&$._f;if(Se){const De=Se.refs?Se.refs[0]:Se.ref;De.focus&&(De.focus(),ce.shouldSelect&&Ur(De.select)&&De.select())}},jt=X=>{n=L(L({},n),X)},Ct={control:{register:We,unregister:Ee,getFieldState:ae,handleSubmit:st,setError:I,_subscribe:je,_runSchema:H,_focusError:He,_getWatch:W,_getDirty:q,_setValid:_,_setFieldArray:S,_setDisabledField:Oe,_setErrors:A,_getFieldArray:re,_reset:Pe,_resetDefaultValues:()=>Ur(t.defaultValues)&&t.defaultValues().then(X=>{gt(X,t.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:te,_disableForm:it,_subjects:b,_proxyFormState:p,get _fields(){return s},get _formValues(){return o},get _state(){return l},set _state(X){l=X},get _defaultValues(){return a},get _names(){return d},set _names(X){d=X},get _formState(){return n},get _options(){return t},set _options(X){t=L(L({},t),X)}},subscribe:ge,trigger:ee,register:We,handleSubmit:st,watch:oe,setValue:F,getValues:z,reset:gt,resetField:vt,clearErrors:we,unregister:Ee,setError:I,setFocus:Vt,getFieldState:ae};return fe(L({},Ct),{formControl:Ct})}function Du(e={}){const t=J.useRef(void 0),n=J.useRef(void 0),[s,a]=J.useState({isDirty:!1,isValidating:!1,isLoading:Ur(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ur(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=fe(L({},e.formControl),{formState:s}),e.defaultValues&&!Ur(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const l=TB(e),{formControl:d}=l,f=Me(l,["formControl"]);t.current=fe(L({},f),{formState:s})}const o=t.current.control;return o._options=e,py(()=>{const d=o._subscribe({formState:o._proxyFormState,callback:()=>a(L({},o._formState)),reRenderRoot:!0});return a(f=>fe(L({},f),{isReady:!0})),o._formState.isReady=!0,d},[o]),J.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),J.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),J.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),J.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),J.useEffect(()=>{if(o._proxyFormState.isDirty){const d=o._getDirty();d!==s.isDirty&&o._subjects.state.next({isDirty:d})}},[o,s.isDirty]),J.useEffect(()=>{e.values&&!Ua(e.values,n.current)?(o._reset(e.values,L({keepFieldsRef:!0},o._options.resetOptions)),n.current=e.values,a(d=>L({},d))):o._resetDefaultValues()},[o,e.values]),J.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(L({},o._formState))),o._removeUnmounted()}),t.current.formState=NE(s,o),t.current}const kB=0,CB=1,AB=2;var rS=Object.prototype.hasOwnProperty;function Y0(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&Y0(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(rS.call(e,n)&&++s&&!rS.call(t,n)||!(n in t)||!Y0(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const vo=new WeakMap,Ni=()=>{},vr=Ni(),W0=Object,ra=e=>e===vr,wo=e=>typeof e=="function",om=(e,t)=>L(L({},e),t),OB=e=>wo(e.then),Qg={},If={},DE="undefined",yy=typeof window!=DE,X0=typeof document!=DE,RB=yy&&"Deno"in window,DB=(e,t)=>{const n=vo.get(e);return[()=>!ra(t)&&e.get(t)||Qg,s=>{if(!ra(t)){const a=e.get(t);t in If||(If[t]=a),n[5](t,om(a,s),a||Qg)}},n[6],()=>!ra(t)&&t in If?If[t]:!ra(t)&&e.get(t)||Qg]};let G0=!0;const MB=()=>G0,[K0,Q0]=yy&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ni,Ni],PB=()=>{const e=X0&&document.visibilityState;return ra(e)||e!=="hidden"},LB=e=>(X0&&document.addEventListener("visibilitychange",e),K0("focus",e),()=>{X0&&document.removeEventListener("visibilitychange",e),Q0("focus",e)}),zB=e=>{const t=()=>{G0=!0,e()},n=()=>{G0=!1};return K0("online",t),K0("offline",n),()=>{Q0("online",t),Q0("offline",n)}},UB={isOnline:MB,isVisible:PB},BB={initFocus:LB,initReconnect:zB};J.useId;const ME=!yy||RB,Zg=typeof navigator!="undefined"&&navigator.connection,aS=!ME&&Zg&&(["slow-2g","2g"].includes(Zg.effectiveType)||Zg.saveData),Yf=new WeakMap,FB=e=>W0.prototype.toString.call(e),Jg=(e,t)=>e===`[object ${t}]`;let HB=0;const Z0=e=>{const t=typeof e,n=FB(e),s=Jg(n,"Date"),a=Jg(n,"RegExp"),o=Jg(n,"Object");let l,d;if(W0(e)===e&&!s&&!a){if(l=Yf.get(e),l)return l;if(l=++HB+"~",Yf.set(e,l),Array.isArray(e)){for(l="@",d=0;d<e.length;d++)l+=Z0(e[d])+",";Yf.set(e,l)}if(o){l="#";const f=W0.keys(e).sort();for(;!ra(d=f.pop());)ra(e[d])||(l+=d+":"+Z0(e[d])+",");Yf.set(e,l)}}else l=s?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return l},VB=e=>{if(wo(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Z0(e):"",[e,t]};let $B=0;const iS=()=>++$B;function qB(...e){return ye(this,null,function*(){const[t,n,s,a]=e,o=om({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let l=o.populateCache;const d=o.rollbackOnError;let f=o.optimisticData;const h=b=>typeof d=="function"?d(b):d!==!1,p=o.throwOnError;if(wo(n)){const b=n,y=[],w=t.keys();for(const _ of w)!/^\$(inf|sub)\$/.test(_)&&b(t.get(_)._k)&&y.push(_);return Promise.all(y.map(g))}return g(n);function g(b){return ye(this,null,function*(){const[y]=VB(b);if(!y)return;const[w,_]=DB(t,y),[j,S,M,A]=vo.get(t),k=()=>{const me=j[y];return(wo(o.revalidate)?o.revalidate(w().data,b):o.revalidate!==!1)&&(delete M[y],delete A[y],me&&me[0])?me[0](AB).then(()=>w().data):w().data};if(e.length<3)return k();let C=s,O,H=!1;const D=iS();S[y]=[D,0];const V=!ra(f),te=w(),q=te.data,W=te._c,re=ra(W)?q:W;if(V&&(f=wo(f)?f(re,q):f,_({data:f,_c:re})),wo(C))try{C=C(re)}catch(me){O=me,H=!0}if(C&&OB(C))if(C=yield C.catch(me=>{O=me,H=!0}),D!==S[y][0]){if(H)throw O;return C}else H&&V&&h(O)&&(l=!0,_({data:re,_c:vr}));if(l&&!H)if(wo(l)){const me=l(C,re);_({data:me,error:vr,_c:vr})}else _({data:C,error:vr,_c:vr});if(S[y][1]=iS(),Promise.resolve(k()).then(()=>{_({_c:vr})}),H){if(p)throw O;return}return C})}})}const oS=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},IB=(e,t)=>{if(!vo.has(e)){const n=om(BB,t),s=Object.create(null),a=qB.bind(vr,e);let o=Ni;const l=Object.create(null),d=(p,g)=>{const b=l[p]||[];return l[p]=b,b.push(g),()=>b.splice(b.indexOf(g),1)},f=(p,g,b)=>{e.set(p,g);const y=l[p];if(y)for(const w of y)w(g,b)},h=()=>{if(!vo.has(e)&&(vo.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,f,d]),!ME)){const p=n.initFocus(setTimeout.bind(vr,oS.bind(vr,s,kB))),g=n.initReconnect(setTimeout.bind(vr,oS.bind(vr,s,CB)));o=()=>{p&&p(),g&&g(),vo.delete(e)}}};return h(),[e,a,h,o]}return[e,vo.get(e)[4]]},YB=(e,t,n,s,a)=>{const o=n.errorRetryCount,l=a.retryCount,d=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;!ra(o)&&l>o||setTimeout(s,d,a)},WB=Y0,[XB,by]=IB(new Map);om({onLoadingSlow:Ni,onSuccess:Ni,onError:Ni,onErrorRetry:YB,onDiscarded:Ni,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:aS?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:aS?5e3:3e3,compare:WB,isPaused:()=>!1,cache:XB,mutate:by,fallback:{}},UB);N.createContext({});const lS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cS=wN,GB=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return cS(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=t,l=Object.keys(a).map(h=>{const p=n==null?void 0:n[h],g=o==null?void 0:o[h];if(p===null)return null;const b=lS(p)||lS(g);return a[h][b]}),d=n&&Object.entries(n).reduce((h,p)=>{let[g,b]=p;return b===void 0||(h[g]=b),h},{}),f=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((h,p)=>{let w=p,{class:g,className:b}=w,y=Me(w,["class","className"]);return Object.entries(y).every(_=>{let[j,S]=_;return Array.isArray(S)?S.includes(L(L({},o),d)[j]):L(L({},o),d)[j]===S})?[...h,g,b]:h},[]);return cS(e,l,f,n==null?void 0:n.class,n==null?void 0:n.className)},KB=GB("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ye(o){var l=o,{className:e,variant:t,size:n,asChild:s=!1}=l,a=Me(l,["className","variant","size","asChild"]);const d=s?$M:"button";return u.jsx(d,L({"data-slot":"button",className:jn(KB({variant:t,size:n,className:e}))},a))}var uS=1,QB=.9,ZB=.8,JB=.17,e0=.1,t0=.999,e8=.9999,t8=.99,n8=/[\\\/_+.#"@\[\(\{&]/,s8=/[\\\/_+.#"@\[\(\{&]/g,r8=/[\s-]/,PE=/[\s-]/g;function J0(e,t,n,s,a,o,l){if(o===t.length)return a===e.length?uS:t8;var d=`${a},${o}`;if(l[d]!==void 0)return l[d];for(var f=s.charAt(o),h=n.indexOf(f,a),p=0,g,b,y,w;h>=0;)g=J0(e,t,n,s,h+1,o+1,l),g>p&&(h===a?g*=uS:n8.test(e.charAt(h-1))?(g*=ZB,y=e.slice(a,h-1).match(s8),y&&a>0&&(g*=Math.pow(t0,y.length))):r8.test(e.charAt(h-1))?(g*=QB,w=e.slice(a,h-1).match(PE),w&&a>0&&(g*=Math.pow(t0,w.length))):(g*=JB,a>0&&(g*=Math.pow(t0,h-a))),e.charAt(h)!==t.charAt(o)&&(g*=e8)),(g<e0&&n.charAt(h-1)===s.charAt(o+1)||s.charAt(o+1)===s.charAt(o)&&n.charAt(h-1)!==s.charAt(o))&&(b=J0(e,t,n,s,h+1,o+2,l),b*e0>g&&(g=b*e0)),g>p&&(p=g),h=n.indexOf(f,h+1);return l[d]=p,p}function dS(e){return e.toLowerCase().replace(PE," ")}function a8(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,J0(e,t,dS(e),dS(t),0,0,{})}var lm="Dialog",[LE,yH]=Ax(lm),[i8,Vr]=LE(lm),zE=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,d=N.useRef(null),f=N.useRef(null),[h,p]=eN({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:lm});return u.jsx(i8,{scope:t,triggerRef:d,contentRef:f,contentId:ia(),titleId:ia(),descriptionId:ia(),open:h,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(g=>!g),[p]),modal:l,children:n})};zE.displayName=lm;var UE="DialogTrigger",BE=N.forwardRef((e,t)=>{const l=e,{__scopeDialog:n}=l,s=Me(l,["__scopeDialog"]),a=Vr(UE,n),o=Hr(t,a.triggerRef);return u.jsx(kn.button,fe(L({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":_y(a.open)},s),{ref:o,onClick:rr(e.onClick,a.onOpenToggle)}))});BE.displayName=UE;var vy="DialogPortal",[o8,FE]=LE(vy,{forceMount:void 0}),HE=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,o=Vr(vy,t);return u.jsx(o8,{scope:t,forceMount:n,children:N.Children.map(s,l=>u.jsx(Jl,{present:n||o.open,children:u.jsx(Vx,{asChild:!0,container:a,children:l})}))})};HE.displayName=vy;var Bh="DialogOverlay",VE=N.forwardRef((e,t)=>{const n=FE(Bh,e.__scopeDialog),l=e,{forceMount:s=n.forceMount}=l,a=Me(l,["forceMount"]),o=Vr(Bh,e.__scopeDialog);return o.modal?u.jsx(Jl,{present:s||o.open,children:u.jsx(c8,fe(L({},a),{ref:t}))}):null});VE.displayName=Bh;var l8=Gh("DialogOverlay.RemoveScroll"),c8=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Me(o,["__scopeDialog"]),a=Vr(Bh,n);return u.jsx($x,{as:l8,allowPinchZoom:!0,shards:[a.contentRef],children:u.jsx(kn.div,fe(L({"data-state":_y(a.open)},s),{ref:t,style:L({pointerEvents:"auto"},s.style)}))})}),Do="DialogContent",$E=N.forwardRef((e,t)=>{const n=FE(Do,e.__scopeDialog),l=e,{forceMount:s=n.forceMount}=l,a=Me(l,["forceMount"]),o=Vr(Do,e.__scopeDialog);return u.jsx(Jl,{present:s||o.open,children:o.modal?u.jsx(u8,fe(L({},a),{ref:t})):u.jsx(d8,fe(L({},a),{ref:t}))})});$E.displayName=Do;var u8=N.forwardRef((e,t)=>{const n=Vr(Do,e.__scopeDialog),s=N.useRef(null),a=Hr(t,n.contentRef,s);return N.useEffect(()=>{const o=s.current;if(o)return nN(o)},[]),u.jsx(qE,fe(L({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rr(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:rr(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&o.preventDefault()}),onFocusOutside:rr(e.onFocusOutside,o=>o.preventDefault())}))}),d8=N.forwardRef((e,t)=>{const n=Vr(Do,e.__scopeDialog),s=N.useRef(!1),a=N.useRef(!1);return u.jsx(qE,fe(L({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,d;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),qE=N.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o}=p,l=Me(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Vr(Do,n),f=N.useRef(null),h=Hr(t,f);return C2(),u.jsxs(u.Fragment,{children:[u.jsx(Rx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:u.jsx(Ox,fe(L({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":_y(d.open)},l),{ref:h,onDismiss:()=>d.onOpenChange(!1)}))}),u.jsxs(u.Fragment,{children:[u.jsx(f8,{titleId:d.titleId}),u.jsx(m8,{contentRef:f,descriptionId:d.descriptionId})]})]})}),wy="DialogTitle",IE=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Me(o,["__scopeDialog"]),a=Vr(wy,n);return u.jsx(kn.h2,fe(L({id:a.titleId},s),{ref:t}))});IE.displayName=wy;var YE="DialogDescription",WE=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Me(o,["__scopeDialog"]),a=Vr(YE,n);return u.jsx(kn.p,fe(L({id:a.descriptionId},s),{ref:t}))});WE.displayName=YE;var XE="DialogClose",GE=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Me(o,["__scopeDialog"]),a=Vr(XE,n);return u.jsx(kn.button,fe(L({type:"button"},s),{ref:t,onClick:rr(e.onClick,()=>a.onOpenChange(!1))}))});GE.displayName=XE;function _y(e){return e?"open":"closed"}var KE="DialogTitleWarning",[bH,QE]=HM(KE,{contentName:Do,titleName:wy,docsSlug:"dialog"}),f8=({titleId:e})=>{const t=QE(KE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},h8="DialogDescriptionWarning",m8=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${QE(h8).contentName}}.`;return N.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},jy=zE,p8=BE,Sy=HE,Ny=VE,Ey=$E,ZE=IE,JE=WE,eT=GE,yu='[cmdk-group=""]',n0='[cmdk-group-items=""]',g8='[cmdk-group-heading=""]',tT='[cmdk-item=""]',fS=`${tT}:not([aria-disabled="true"])`,ex="cmdk-item-select",Dl="data-value",x8=(e,t,n)=>a8(e,t,n),nT=N.createContext(void 0),nd=()=>N.useContext(nT),sT=N.createContext(void 0),Ty=()=>N.useContext(sT),rT=N.createContext(void 0),aT=N.forwardRef((e,t)=>{let n=Ml(()=>{var I,oe;return{search:"",value:(oe=(I=e.value)!=null?I:e.defaultValue)!=null?oe:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=Ml(()=>new Set),a=Ml(()=>new Map),o=Ml(()=>new Map),l=Ml(()=>new Set),d=iT(e),we=e,{label:f,children:h,value:p,onValueChange:g,filter:b,shouldFilter:y,loop:w,disablePointerSelection:_=!1,vimBindings:j=!0}=we,S=Me(we,["label","children","value","onValueChange","filter","shouldFilter","loop","disablePointerSelection","vimBindings"]),M=ia(),A=ia(),k=ia(),C=N.useRef(null),O=k8();Mo(()=>{if(p!==void 0){let I=p.trim();n.current.value=I,H.emit()}},[p]),Mo(()=>{O(6,re)},[]);let H=N.useMemo(()=>({subscribe:I=>(l.current.add(I),()=>l.current.delete(I)),snapshot:()=>n.current,setState:(I,oe,je)=>{var ge,Ee,Oe,We;if(!Object.is(n.current[I],oe)){if(n.current[I]=oe,I==="search")W(),te(),O(1,q);else if(I==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let He=document.getElementById(k);He?He.focus():(ge=document.getElementById(M))==null||ge.focus()}if(O(7,()=>{var He;n.current.selectedItemId=(He=me())==null?void 0:He.id,H.emit()}),je||O(5,re),((Ee=d.current)==null?void 0:Ee.value)!==void 0){let He=oe!=null?oe:"";(We=(Oe=d.current).onValueChange)==null||We.call(Oe,He);return}}H.emit()}},emit:()=>{l.current.forEach(I=>I())}}),[]),D=N.useMemo(()=>({value:(I,oe,je)=>{var ge;oe!==((ge=o.current.get(I))==null?void 0:ge.value)&&(o.current.set(I,{value:oe,keywords:je}),n.current.filtered.items.set(I,V(oe,je)),O(2,()=>{te(),H.emit()}))},item:(I,oe)=>(s.current.add(I),oe&&(a.current.has(oe)?a.current.get(oe).add(I):a.current.set(oe,new Set([I]))),O(3,()=>{W(),te(),n.current.value||q(),H.emit()}),()=>{o.current.delete(I),s.current.delete(I),n.current.filtered.items.delete(I);let je=me();O(4,()=>{W(),(je==null?void 0:je.getAttribute("id"))===I&&q(),H.emit()})}),group:I=>(a.current.has(I)||a.current.set(I,new Set),()=>{o.current.delete(I),a.current.delete(I)}),filter:()=>d.current.shouldFilter,label:f||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:M,inputId:k,labelId:A,listInnerRef:C}),[]);function V(I,oe){var je,ge;let Ee=(ge=(je=d.current)==null?void 0:je.filter)!=null?ge:x8;return I?Ee(I,n.current.search,oe):0}function te(){if(!n.current.search||d.current.shouldFilter===!1)return;let I=n.current.filtered.items,oe=[];n.current.filtered.groups.forEach(ge=>{let Ee=a.current.get(ge),Oe=0;Ee.forEach(We=>{let He=I.get(We);Oe=Math.max(He,Oe)}),oe.push([ge,Oe])});let je=C.current;Z().sort((ge,Ee)=>{var Oe,We;let He=ge.getAttribute("id"),it=Ee.getAttribute("id");return((Oe=I.get(it))!=null?Oe:0)-((We=I.get(He))!=null?We:0)}).forEach(ge=>{let Ee=ge.closest(n0);Ee?Ee.appendChild(ge.parentElement===Ee?ge:ge.closest(`${n0} > *`)):je.appendChild(ge.parentElement===je?ge:ge.closest(`${n0} > *`))}),oe.sort((ge,Ee)=>Ee[1]-ge[1]).forEach(ge=>{var Ee;let Oe=(Ee=C.current)==null?void 0:Ee.querySelector(`${yu}[${Dl}="${encodeURIComponent(ge[0])}"]`);Oe==null||Oe.parentElement.appendChild(Oe)})}function q(){let I=Z().find(je=>je.getAttribute("aria-disabled")!=="true"),oe=I==null?void 0:I.getAttribute(Dl);H.setState("value",oe||void 0)}function W(){var I,oe,je,ge;if(!n.current.search||d.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let Ee=0;for(let Oe of s.current){let We=(oe=(I=o.current.get(Oe))==null?void 0:I.value)!=null?oe:"",He=(ge=(je=o.current.get(Oe))==null?void 0:je.keywords)!=null?ge:[],it=V(We,He);n.current.filtered.items.set(Oe,it),it>0&&Ee++}for(let[Oe,We]of a.current)for(let He of We)if(n.current.filtered.items.get(He)>0){n.current.filtered.groups.add(Oe);break}n.current.filtered.count=Ee}function re(){var I,oe,je;let ge=me();ge&&(((I=ge.parentElement)==null?void 0:I.firstChild)===ge&&((je=(oe=ge.closest(yu))==null?void 0:oe.querySelector(g8))==null||je.scrollIntoView({block:"nearest"})),ge.scrollIntoView({block:"nearest"}))}function me(){var I;return(I=C.current)==null?void 0:I.querySelector(`${tT}[aria-selected="true"]`)}function Z(){var I;return Array.from(((I=C.current)==null?void 0:I.querySelectorAll(fS))||[])}function F(I){let oe=Z()[I];oe&&H.setState("value",oe.getAttribute(Dl))}function Y(I){var oe;let je=me(),ge=Z(),Ee=ge.findIndex(We=>We===je),Oe=ge[Ee+I];(oe=d.current)!=null&&oe.loop&&(Oe=Ee+I<0?ge[ge.length-1]:Ee+I===ge.length?ge[0]:ge[Ee+I]),Oe&&H.setState("value",Oe.getAttribute(Dl))}function G(I){let oe=me(),je=oe==null?void 0:oe.closest(yu),ge;for(;je&&!ge;)je=I>0?E8(je,yu):T8(je,yu),ge=je==null?void 0:je.querySelector(fS);ge?H.setState("value",ge.getAttribute(Dl)):Y(I)}let ee=()=>F(Z().length-1),z=I=>{I.preventDefault(),I.metaKey?ee():I.altKey?G(1):Y(1)},ae=I=>{I.preventDefault(),I.metaKey?F(0):I.altKey?G(-1):Y(-1)};return N.createElement(kn.div,fe(L({ref:t,tabIndex:-1},S),{"cmdk-root":"",onKeyDown:I=>{var oe;(oe=S.onKeyDown)==null||oe.call(S,I);let je=I.nativeEvent.isComposing||I.keyCode===229;if(!(I.defaultPrevented||je))switch(I.key){case"n":case"j":{j&&I.ctrlKey&&z(I);break}case"ArrowDown":{z(I);break}case"p":case"k":{j&&I.ctrlKey&&ae(I);break}case"ArrowUp":{ae(I);break}case"Home":{I.preventDefault(),F(0);break}case"End":{I.preventDefault(),ee();break}case"Enter":{I.preventDefault();let ge=me();if(ge){let Ee=new Event(ex);ge.dispatchEvent(Ee)}}}}}),N.createElement("label",{"cmdk-label":"",htmlFor:D.inputId,id:D.labelId,style:A8},f),cm(e,I=>N.createElement(sT.Provider,{value:H},N.createElement(nT.Provider,{value:D},I))))}),y8=N.forwardRef((e,t)=>{var n,s;let a=ia(),o=N.useRef(null),l=N.useContext(rT),d=nd(),f=iT(e),h=(s=(n=f.current)==null?void 0:n.forceMount)!=null?s:l==null?void 0:l.forceMount;Mo(()=>{if(!h)return d.item(a,l==null?void 0:l.id)},[h]);let p=oT(a,o,[e.value,e.children,o],e.keywords),g=Ty(),b=Mi(H=>H.value&&H.value===p.current),y=Mi(H=>h||d.filter()===!1?!0:H.search?H.filtered.items.get(a)>0:!0);N.useEffect(()=>{let H=o.current;if(!(!H||e.disabled))return H.addEventListener(ex,w),()=>H.removeEventListener(ex,w)},[y,e.onSelect,e.disabled]);function w(){var H,D;_(),(D=(H=f.current).onSelect)==null||D.call(H,p.current)}function _(){g.setState("value",p.current,!0)}if(!y)return null;let O=e,{disabled:j,value:S,onSelect:M,forceMount:A,keywords:k}=O,C=Me(O,["disabled","value","onSelect","forceMount","keywords"]);return N.createElement(kn.div,fe(L({ref:Co(o,t)},C),{id:a,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!b,"data-disabled":!!j,"data-selected":!!b,onPointerMove:j||d.getDisablePointerSelection()?void 0:_,onClick:j?void 0:w}),e.children)}),b8=N.forwardRef((e,t)=>{let y=e,{heading:n,children:s,forceMount:a}=y,o=Me(y,["heading","children","forceMount"]),l=ia(),d=N.useRef(null),f=N.useRef(null),h=ia(),p=nd(),g=Mi(w=>a||p.filter()===!1?!0:w.search?w.filtered.groups.has(l):!0);Mo(()=>p.group(l),[]),oT(l,d,[e.value,e.heading,f]);let b=N.useMemo(()=>({id:l,forceMount:a}),[a]);return N.createElement(kn.div,fe(L({ref:Co(d,t)},o),{"cmdk-group":"",role:"presentation",hidden:g?void 0:!0}),n&&N.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),cm(e,w=>N.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},N.createElement(rT.Provider,{value:b},w))))}),v8=N.forwardRef((e,t)=>{let l=e,{alwaysRender:n}=l,s=Me(l,["alwaysRender"]),a=N.useRef(null),o=Mi(d=>!d.search);return!n&&!o?null:N.createElement(kn.div,fe(L({ref:Co(a,t)},s),{"cmdk-separator":"",role:"separator"}))}),w8=N.forwardRef((e,t)=>{let h=e,{onValueChange:n}=h,s=Me(h,["onValueChange"]),a=e.value!=null,o=Ty(),l=Mi(p=>p.search),d=Mi(p=>p.selectedItemId),f=nd();return N.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),N.createElement(kn.input,fe(L({ref:t},s),{"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":d,id:f.inputId,type:"text",value:a?e.value:l,onChange:p=>{a||o.setState("search",p.target.value),n==null||n(p.target.value)}}))}),_8=N.forwardRef((e,t)=>{let h=e,{children:n,label:s="Suggestions"}=h,a=Me(h,["children","label"]),o=N.useRef(null),l=N.useRef(null),d=Mi(p=>p.selectedItemId),f=nd();return N.useEffect(()=>{if(l.current&&o.current){let p=l.current,g=o.current,b,y=new ResizeObserver(()=>{b=requestAnimationFrame(()=>{let w=p.offsetHeight;g.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return y.observe(p),()=>{cancelAnimationFrame(b),y.unobserve(p)}}},[]),N.createElement(kn.div,fe(L({ref:Co(o,t)},a),{"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":s,id:f.listId}),cm(e,p=>N.createElement("div",{ref:Co(l,f.listInnerRef),"cmdk-list-sizer":""},p)))}),j8=N.forwardRef((e,t)=>{let f=e,{open:n,onOpenChange:s,overlayClassName:a,contentClassName:o,container:l}=f,d=Me(f,["open","onOpenChange","overlayClassName","contentClassName","container"]);return N.createElement(jy,{open:n,onOpenChange:s},N.createElement(Sy,{container:l},N.createElement(Ny,{"cmdk-overlay":"",className:a}),N.createElement(Ey,{"aria-label":e.label,"cmdk-dialog":"",className:o},N.createElement(aT,L({ref:t},d)))))}),S8=N.forwardRef((e,t)=>Mi(n=>n.filtered.count===0)?N.createElement(kn.div,fe(L({ref:t},e),{"cmdk-empty":"",role:"presentation"})):null),N8=N.forwardRef((e,t)=>{let l=e,{progress:n,children:s,label:a="Loading..."}=l,o=Me(l,["progress","children","label"]);return N.createElement(kn.div,fe(L({ref:t},o),{"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a}),cm(e,d=>N.createElement("div",{"aria-hidden":!0},d)))}),rc=Object.assign(aT,{List:_8,Item:y8,Input:w8,Group:b8,Separator:v8,Dialog:j8,Empty:S8,Loading:N8});function E8(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function T8(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function iT(e){let t=N.useRef(e);return Mo(()=>{t.current=e}),t}var Mo=typeof window=="undefined"?N.useEffect:N.useLayoutEffect;function Ml(e){let t=N.useRef();return t.current===void 0&&(t.current=e()),t}function Mi(e){let t=Ty(),n=()=>e(t.snapshot());return N.useSyncExternalStore(t.subscribe,n,n)}function oT(e,t,n,s=[]){let a=N.useRef(),o=nd();return Mo(()=>{var l;let d=(()=>{var h;for(let p of n){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(h=p.current.textContent)==null?void 0:h.trim():a.current}})(),f=s.map(h=>h.trim());o.value(e,d,f),(l=t.current)==null||l.setAttribute(Dl,d),a.current=d}),a}var k8=()=>{let[e,t]=N.useState(),n=Ml(()=>new Map);return Mo(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,a)=>{n.current.set(s,a),t({})}};function C8(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function cm({asChild:e,children:t},n){return e&&N.isValidElement(t)?N.cloneElement(C8(t),{ref:t.ref},n(t.props.children)):n(t)}var A8={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Ss(t){var e=Me(t,[]);return u.jsx(jy,L({"data-slot":"dialog"},e))}function O8(t){var e=Me(t,[]);return u.jsx(p8,L({"data-slot":"dialog-trigger"},e))}function R8(t){var e=Me(t,[]);return u.jsx(Sy,L({"data-slot":"dialog-portal"},e))}function D8(t){var e=Me(t,[]);return u.jsx(eT,L({"data-slot":"dialog-close"},e))}function M8(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(Ny,L({"data-slot":"dialog-overlay",className:jn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function Ns(a){var o=a,{className:e,children:t,showCloseButton:n=!0}=o,s=Me(o,["className","children","showCloseButton"]);return u.jsxs(R8,{"data-slot":"dialog-portal",children:[u.jsx(M8,{}),u.jsxs(Ey,fe(L({"data-slot":"dialog-content",className:jn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e)},s),{children:[t,n&&u.jsxs(eT,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[u.jsx(BM,{}),u.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}function Es(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx("div",L({"data-slot":"dialog-header",className:jn("flex flex-col gap-2 text-center sm:text-left",e)},t))}function Ts(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx("div",L({"data-slot":"dialog-footer",className:jn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e)},t))}function ks(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(ZE,L({"data-slot":"dialog-title",className:jn("text-lg leading-none font-semibold",e)},t))}function To(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(JE,L({"data-slot":"dialog-description",className:jn("text-muted-foreground text-sm",e)},t))}function P8(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(rc,L({"data-slot":"command",className:jn("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e)},t))}function L8(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[u.jsx(Wh,{className:"size-4 shrink-0 opacity-50"}),u.jsx(rc.Input,L({"data-slot":"command-input",className:jn("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e)},t))]})}function z8(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(rc.List,L({"data-slot":"command-list",className:jn("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e)},t))}function s0(t){var e=Me(t,[]);return u.jsx(rc.Empty,L({"data-slot":"command-empty",className:"py-6 text-center text-sm"},e))}function U8(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(rc.Group,L({"data-slot":"command-group",className:jn("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e)},t))}function B8(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(rc.Item,L({"data-slot":"command-item",className:jn("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e)},t))}function sr({doctype:e,value:t="",onChange:n,placeholder:s="Select option...",className:a="w-[200px]",fields:o=["name"],filters:l=[],displayField:d="name",valueField:f="name",disabled:h=!1,limit:p=20}){const[g,b]=N.useState(!1),[y,w]=N.useState(""),_=N.useMemo(()=>{let H={};if(l.length>0&&l.forEach(V=>{if(Array.isArray(V)&&V.length>=3){const[te,q,W]=V;q==="="&&(H[te]=W)}}),y.trim()&&(H[d]=["like",`%${y}%`]),Object.keys(H).length===0&&y.trim())return[[d,"like",`%${y}%`]];const D=[];return Object.entries(H).forEach(([V,te])=>{Array.isArray(te)?D.push([V,te[0],te[1]]):D.push([V,"=",te])}),D.length>0?D:void 0},[y,l,d]),{data:j,isLoading:S,error:M}=_n(e,{fields:[...new Set([...o,d,f])],filters:_,limit:p,orderBy:{field:d,order:"asc"}}),A=N.useMemo(()=>!j||!Array.isArray(j)?[]:j.map(H=>({value:H[f],label:H[d]})),[j,d,f]),k=A.find(H=>H.value===t),C=H=>{n(H===t?"":H),b(!1)},O=H=>{w(H)};return u.jsxs(Yx,{open:g,onOpenChange:b,children:[u.jsx(Wx,{asChild:!0,children:u.jsxs(Ye,{variant:"outline",role:"combobox","aria-expanded":g,className:jn("justify-between",a),disabled:h,children:[(k==null?void 0:k.label)||s,u.jsx(FD,{className:"opacity-50"})]})}),u.jsx(Xx,{className:jn("p-0",a),children:u.jsxs(P8,{shouldFilter:!1,children:[u.jsx(L8,{placeholder:`Search ${e.toLowerCase()}...`,className:"h-9",value:y,onValueChange:O}),u.jsxs(z8,{children:[S&&u.jsx(s0,{children:"Loading..."}),M&&u.jsx(s0,{children:"Error loading data."}),!S&&!M&&A.length===0&&u.jsxs(s0,{children:["No ",e.toLowerCase()," found."]}),!S&&!M&&A.length>0&&u.jsx(U8,{children:A.map(H=>u.jsxs(B8,{value:H.value,onSelect:C,children:[H.label,u.jsx(PD,{className:jn("ml-auto",t===H.value?"opacity-100":"opacity-0")})]},H.value))})]})]})})]})}function Wt(s){var a=s,{className:e,type:t}=a,n=Me(a,["className","type"]);return u.jsx("input",L({type:t,"data-slot":"input",className:jn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e)},n))}var F8="Label",lT=N.forwardRef((e,t)=>u.jsx(kn.label,fe(L({},e),{ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}})));lT.displayName=F8;var H8=lT;function Fe(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(H8,L({"data-slot":"label",className:jn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e)},t))}function V8(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const cT=J.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),sd=()=>{const e=J.useContext(cT);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};V8(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function $8(){const e=navigator.userAgent;return typeof window!="undefined"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function q8(){return ky(/^Mac/)}function I8(){return ky(/^iPhone/)}function hS(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Y8(){return ky(/^iPad/)||q8()&&navigator.maxTouchPoints>1}function uT(){return I8()||Y8()}function ky(e){return typeof window!="undefined"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const W8=24,X8=typeof window!="undefined"?N.useLayoutEffect:N.useEffect;function mS(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const r0=typeof document!="undefined"&&window.visualViewport;function pS(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function dT(e){for(pS(e)&&(e=e.parentElement);e&&!pS(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const G8=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Wf=0,a0;function K8(e={}){let{isDisabled:t}=e;X8(()=>{if(!t)return Wf++,Wf===1&&uT()&&(a0=Q8()),()=>{Wf--,Wf===0&&(a0==null||a0())}},[t])}function Q8(){let e,t=0,n=g=>{e=dT(g.target),!(e===document.documentElement&&e===document.body)&&(t=g.changedTouches[0].pageY)},s=g=>{if(!e||e===document.documentElement||e===document.body){g.preventDefault();return}let b=g.changedTouches[0].pageY,y=e.scrollTop,w=e.scrollHeight-e.clientHeight;w!==0&&((y<=0&&b>t||y>=w&&b<t)&&g.preventDefault(),t=b)},a=g=>{let b=g.target;tx(b)&&b!==document.activeElement&&(g.preventDefault(),b.style.transform="translateY(-2000px)",b.focus(),requestAnimationFrame(()=>{b.style.transform=""}))},o=g=>{let b=g.target;tx(b)&&(b.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{b.style.transform="",r0&&(r0.height<window.innerHeight?requestAnimationFrame(()=>{gS(b)}):r0.addEventListener("resize",()=>gS(b),{once:!0}))}))},l=()=>{window.scrollTo(0,0)},d=window.pageXOffset,f=window.pageYOffset,h=mS(Z8(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let p=mS(bu(document,"touchstart",n,{passive:!1,capture:!0}),bu(document,"touchmove",s,{passive:!1,capture:!0}),bu(document,"touchend",a,{passive:!1,capture:!0}),bu(document,"focus",o,!0),bu(window,"scroll",l));return()=>{h(),p(),window.scrollTo(d,f)}}function Z8(e,t,n){let s=e.style[t];return e.style[t]=n,()=>{e.style[t]=s}}function bu(e,t,n,s){return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}function gS(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=dT(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let s=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const l=n.getBoundingClientRect().bottom+W8;o>l&&(n.scrollTop+=a-s)}e=n.parentElement}}function tx(e){return e instanceof HTMLInputElement&&!G8.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function J8(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function eF(...e){return t=>e.forEach(n=>J8(n,t))}function fT(...e){return N.useCallback(eF(...e),e)}const hT=new WeakMap;function ns(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([a,o])=>{if(a.startsWith("--")){e.style.setProperty(a,o);return}s[a]=e.style[a],e.style[a]=o}),!n&&hT.set(e,s)}function tF(e,t){if(!e||!(e instanceof HTMLElement))return;let n=hT.get(e);n&&(e.style[t]=n[t])}const Yn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Xf(e,t){if(!e)return null;const n=window.getComputedStyle(e),s=n.transform||n.webkitTransform||n.mozTransform;let a=s.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[Yn(t)?13:12]):(a=s.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[Yn(t)?5:4]):null)}function nF(e){return 8*(Math.log(e+1)-2)}function i0(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function sF(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Tn={DURATION:.5,EASE:[.32,.72,0,1]},mT=.4,rF=.25,aF=100,pT=8,go=16,nx=26,o0="vaul-dragging";function gT(e){const t=J.useRef(e);return J.useEffect(()=>{t.current=e}),J.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function iF({defaultProp:e,onChange:t}){const n=J.useState(e),[s]=n,a=J.useRef(s),o=gT(t);return J.useEffect(()=>{a.current!==s&&(o(s),a.current=s)},[s,a,o]),n}function xT({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,a]=iF({defaultProp:t,onChange:n}),o=e!==void 0,l=o?e:s,d=gT(n),f=J.useCallback(h=>{if(o){const g=typeof h=="function"?h(e):h;g!==e&&d(g)}else a(h)},[o,e,a,d]);return[l,f]}function oF({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:s,overlayRef:a,fadeFromIndex:o,onSnapPointChange:l,direction:d="bottom",container:f,snapToSequentialPoint:h}){const[p,g]=xT({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[b,y]=J.useState(typeof window!="undefined"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);J.useEffect(()=>{function H(){y({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]);const w=J.useMemo(()=>p===(n==null?void 0:n[n.length-1])||null,[n,p]),_=J.useMemo(()=>{var H;return(H=n==null?void 0:n.findIndex(D=>D===p))!=null?H:null},[n,p]),j=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===p||!n,S=J.useMemo(()=>{const H=f?{width:f.getBoundingClientRect().width,height:f.getBoundingClientRect().height}:typeof window!="undefined"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var D;return(D=n==null?void 0:n.map(V=>{const te=typeof V=="string";let q=0;if(te&&(q=parseInt(V,10)),Yn(d)){const re=te?q:b?V*H.height:0;return b?d==="bottom"?H.height-re:-H.height+re:re}const W=te?q:b?V*H.width:0;return b?d==="right"?H.width-W:-H.width+W:W}))!=null?D:[]},[n,b,f]),M=J.useMemo(()=>_!==null?S==null?void 0:S[_]:null,[S,_]),A=J.useCallback(H=>{var D;const V=(D=S==null?void 0:S.findIndex(te=>te===H))!=null?D:null;l(V),ns(s.current,{transition:`transform ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,transform:Yn(d)?`translate3d(0, ${H}px, 0)`:`translate3d(${H}px, 0, 0)`}),S&&V!==S.length-1&&o!==void 0&&V!==o&&V<o?ns(a.current,{transition:`opacity ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,opacity:"0"}):ns(a.current,{transition:`opacity ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,opacity:"1"}),g(n==null?void 0:n[Math.max(V,0)])},[s.current,n,S,o,a,g]);J.useEffect(()=>{if(p||e){var H;const D=(H=n==null?void 0:n.findIndex(V=>V===e||V===p))!=null?H:-1;S&&D!==-1&&typeof S[D]=="number"&&A(S[D])}},[p,e,n,S,A]);function k({draggedDistance:H,closeDrawer:D,velocity:V,dismissible:te}){if(o===void 0)return;const q=d==="bottom"||d==="right"?(M!=null?M:0)-H:(M!=null?M:0)+H,W=_===o-1,re=_===0,me=H>0;if(W&&ns(a.current,{transition:`opacity ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`}),!h&&V>2&&!me){te?D():A(S[0]);return}if(!h&&V>2&&me&&S&&n){A(S[n.length-1]);return}const Z=S==null?void 0:S.reduce((Y,G)=>typeof Y!="number"||typeof G!="number"?Y:Math.abs(G-q)<Math.abs(Y-q)?G:Y),F=Yn(d)?window.innerHeight:window.innerWidth;if(V>mT&&Math.abs(H)<F*.4){const Y=me?1:-1;if(Y>0&&w&&n){A(S[n.length-1]);return}if(re&&Y<0&&te&&D(),_===null)return;A(S[_+Y]);return}A(Z)}function C({draggedDistance:H}){if(M===null)return;const D=d==="bottom"||d==="right"?M-H:M+H;(d==="bottom"||d==="right")&&D<S[S.length-1]||(d==="top"||d==="left")&&D>S[S.length-1]||ns(s.current,{transform:Yn(d)?`translate3d(0, ${D}px, 0)`:`translate3d(${D}px, 0, 0)`})}function O(H,D){if(!n||typeof _!="number"||!S||o===void 0)return null;const V=_===o-1;if(_>=o&&D)return 0;if(V&&!D)return 1;if(!j&&!V)return null;const q=V?_+1:_-1,W=V?S[q]-S[q-1]:S[q+1]-S[q],re=H/Math.abs(W);return V?1-re:re}return{isLastSnapPoint:w,activeSnapPoint:p,shouldFade:j,getPercentageDragged:O,setActiveSnapPoint:g,activeSnapPointIndex:_,onRelease:k,onDrag:C,snapPointsOffset:S}}const lF=()=>()=>{};function cF(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:a}=sd(),o=J.useRef(null),l=N.useMemo(()=>document.body.style.backgroundColor,[]);function d(){return(window.innerWidth-nx)/window.innerWidth}J.useEffect(()=>{if(t&&n){o.current&&clearTimeout(o.current);const f=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!f)return;sF(s&&!a?i0(document.body,{background:"black"}):lF,i0(f,{transformOrigin:Yn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Tn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Tn.EASE.join(",")})`}));const h=i0(f,L({borderRadius:`${pT}px`,overflow:"hidden"},Yn(e)?{transform:`scale(${d()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${d()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}));return()=>{h(),o.current=window.setTimeout(()=>{l?document.body.style.background=l:document.body.style.removeProperty("background")},Tn.DURATION*1e3)}}},[t,n,l])}let vu=null;function uF({isOpen:e,modal:t,nested:n,hasBeenOpened:s,preventScrollRestoration:a,noBodyStyles:o}){const[l,d]=J.useState(()=>typeof window!="undefined"?window.location.href:""),f=J.useRef(0),h=J.useCallback(()=>{if(hS()&&vu===null&&e&&!o){vu={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:g,innerHeight:b}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-f.current}px`,left:`${-g}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const y=b-window.innerHeight;y&&f.current>=b&&(document.body.style.top=`${-(f.current+y)}px`)}),300)}},[e]),p=J.useCallback(()=>{if(hS()&&vu!==null&&!o){const g=-parseInt(document.body.style.top,10),b=-parseInt(document.body.style.left,10);Object.assign(document.body.style,vu),window.requestAnimationFrame(()=>{if(a&&l!==window.location.href){d(window.location.href);return}window.scrollTo(b,g)}),vu=null}},[l]);return J.useEffect(()=>{function g(){f.current=window.scrollY}return g(),window.addEventListener("scroll",g),()=>{window.removeEventListener("scroll",g)}},[]),J.useEffect(()=>{if(t)return()=>{typeof document=="undefined"||document.querySelector("[data-vaul-drawer]")||p()}},[t,p]),J.useEffect(()=>{n||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&h(),t||window.setTimeout(()=>{p()},500)):p())},[e,s,l,t,n,h,p]),{restorePositionSetting:p}}function dF({open:e,onOpenChange:t,children:n,onDrag:s,onRelease:a,snapPoints:o,shouldScaleBackground:l=!1,setBackgroundColorOnScale:d=!0,closeThreshold:f=rF,scrollLockTimeout:h=aF,dismissible:p=!0,handleOnly:g=!1,fadeFromIndex:b=o&&o.length-1,activeSnapPoint:y,setActiveSnapPoint:w,fixed:_,modal:j=!0,onClose:S,nested:M,noBodyStyles:A=!1,direction:k="bottom",defaultOpen:C=!1,disablePreventScroll:O=!0,snapToSequentialPoint:H=!1,preventScrollRestoration:D=!1,repositionInputs:V=!0,onAnimationEnd:te,container:q,autoFocus:W=!1}){var re,me;const[Z=!1,F]=xT({defaultProp:C,prop:e,onChange:Xe=>{t==null||t(Xe),!Xe&&!M&&qe(),setTimeout(()=>{te==null||te(Xe)},Tn.DURATION*1e3),Xe&&!j&&typeof window!="undefined"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Xe||(document.body.style.pointerEvents="auto")}}),[Y,G]=J.useState(!1),[ee,z]=J.useState(!1),[ae,we]=J.useState(!1),I=J.useRef(null),oe=J.useRef(null),je=J.useRef(null),ge=J.useRef(null),Ee=J.useRef(null),Oe=J.useRef(!1),We=J.useRef(null),He=J.useRef(0),it=J.useRef(!1),st=J.useRef(!C),vt=J.useRef(0),Pe=J.useRef(null),gt=J.useRef(((re=Pe.current)==null?void 0:re.getBoundingClientRect().height)||0),Vt=J.useRef(((me=Pe.current)==null?void 0:me.getBoundingClientRect().width)||0),jt=J.useRef(0),$t=J.useCallback(Xe=>{o&&Xe===Se.length-1&&(oe.current=new Date)},[]),{activeSnapPoint:Ct,activeSnapPointIndex:X,setActiveSnapPoint:ce,onRelease:$,snapPointsOffset:Se,onDrag:De,shouldFade:Re,getPercentageDragged:Ue}=oF({snapPoints:o,activeSnapPointProp:y,setActiveSnapPointProp:w,drawerRef:Pe,fadeFromIndex:b,overlayRef:I,onSnapPointChange:$t,direction:k,container:q,snapToSequentialPoint:H});K8({isDisabled:!Z||ee||!j||ae||!Y||!V||!O});const{restorePositionSetting:qe}=uF({isOpen:Z,modal:j,nested:M!=null?M:!1,hasBeenOpened:Y,preventScrollRestoration:D,noBodyStyles:A});function Ke(){return(window.innerWidth-nx)/window.innerWidth}function xt(Xe){var Mt,Ut;!p&&!o||Pe.current&&!Pe.current.contains(Xe.target)||(gt.current=((Mt=Pe.current)==null?void 0:Mt.getBoundingClientRect().height)||0,Vt.current=((Ut=Pe.current)==null?void 0:Ut.getBoundingClientRect().width)||0,z(!0),je.current=new Date,uT()&&window.addEventListener("touchend",()=>Oe.current=!1,{once:!0}),Xe.target.setPointerCapture(Xe.pointerId),He.current=Yn(k)?Xe.pageY:Xe.pageX)}function yn(Xe,Mt){var Ut;let St=Xe;const en=(Ut=window.getSelection())==null?void 0:Ut.toString(),Ge=Pe.current?Xf(Pe.current,k):null,wt=new Date;if(St.tagName==="SELECT"||St.hasAttribute("data-vaul-no-drag")||St.closest("[data-vaul-no-drag]"))return!1;if(k==="right"||k==="left")return!0;if(oe.current&&wt.getTime()-oe.current.getTime()<500)return!1;if(Ge!==null&&(k==="bottom"?Ge>0:Ge<0))return!0;if(en&&en.length>0)return!1;if(Ee.current&&wt.getTime()-Ee.current.getTime()<h&&Ge===0||Mt)return Ee.current=wt,!1;for(;St;){if(St.scrollHeight>St.clientHeight){if(St.scrollTop!==0)return Ee.current=new Date,!1;if(St.getAttribute("role")==="dialog")return!0}St=St.parentNode}return!0}function ct(Xe){if(Pe.current&&ee){const Mt=k==="bottom"||k==="right"?1:-1,Ut=(He.current-(Yn(k)?Xe.pageY:Xe.pageX))*Mt,St=Ut>0,en=o&&!p&&!St;if(en&&X===0)return;const Ge=Math.abs(Ut),wt=document.querySelector("[data-vaul-drawer-wrapper]"),qt=k==="bottom"||k==="top"?gt.current:Vt.current;let Xt=Ge/qt;const Q=Ue(Ge,St);if(Q!==null&&(Xt=Q),en&&Xt>=1||!Oe.current&&!yn(Xe.target,St))return;if(Pe.current.classList.add(o0),Oe.current=!0,ns(Pe.current,{transition:"none"}),ns(I.current,{transition:"none"}),o&&De({draggedDistance:Ut}),St&&!o){const de=nF(Ut),_e=Math.min(de*-1,0)*Mt;ns(Pe.current,{transform:Yn(k)?`translate3d(0, ${_e}px, 0)`:`translate3d(${_e}px, 0, 0)`});return}const se=1-Xt;if((Re||b&&X===b-1)&&(s==null||s(Xe,Xt),ns(I.current,{opacity:`${se}`,transition:"none"},!0)),wt&&I.current&&l){const de=Math.min(Ke()+Xt*(1-Ke()),1),_e=8-Xt*8,Ae=Math.max(0,14-Xt*14);ns(wt,{borderRadius:`${_e}px`,transform:Yn(k)?`scale(${de}) translate3d(0, ${Ae}px, 0)`:`scale(${de}) translate3d(${Ae}px, 0, 0)`,transition:"none"},!0)}if(!o){const de=Ge*Mt;ns(Pe.current,{transform:Yn(k)?`translate3d(0, ${de}px, 0)`:`translate3d(${de}px, 0, 0)`})}}}J.useEffect(()=>{window.requestAnimationFrame(()=>{st.current=!0})},[]),J.useEffect(()=>{var Xe;function Mt(){if(!Pe.current||!V)return;const Ut=document.activeElement;if(tx(Ut)||it.current){var St;const en=((St=window.visualViewport)==null?void 0:St.height)||0,Ge=window.innerHeight;let wt=Ge-en;const qt=Pe.current.getBoundingClientRect().height||0,Xt=qt>Ge*.8;jt.current||(jt.current=qt);const Q=Pe.current.getBoundingClientRect().top;if(Math.abs(vt.current-wt)>60&&(it.current=!it.current),o&&o.length>0&&Se&&X){const se=Se[X]||0;wt+=se}if(vt.current=wt,qt>en||it.current){const se=Pe.current.getBoundingClientRect().height;let de=se;se>en&&(de=en-(Xt?Q:nx)),_?Pe.current.style.height=`${se-Math.max(wt,0)}px`:Pe.current.style.height=`${Math.max(de,en-Q)}px`}else $8()||(Pe.current.style.height=`${jt.current}px`);o&&o.length>0&&!it.current?Pe.current.style.bottom="0px":Pe.current.style.bottom=`${Math.max(wt,0)}px`}}return(Xe=window.visualViewport)==null||Xe.addEventListener("resize",Mt),()=>{var Ut;return(Ut=window.visualViewport)==null?void 0:Ut.removeEventListener("resize",Mt)}},[X,o,Se]);function ke(Xe){Dt(),S==null||S(),Xe||F(!1),setTimeout(()=>{o&&ce(o[0])},Tn.DURATION*1e3)}function Be(){if(!Pe.current)return;const Xe=document.querySelector("[data-vaul-drawer-wrapper]"),Mt=Xf(Pe.current,k);ns(Pe.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`}),ns(I.current,{transition:`opacity ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,opacity:"1"}),l&&Mt&&Mt>0&&Z&&ns(Xe,fe(L({borderRadius:`${pT}px`,overflow:"hidden"},Yn(k)?{transform:`scale(${Ke()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ke()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"}),{transitionProperty:"transform, border-radius",transitionDuration:`${Tn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Tn.EASE.join(",")})`}),!0)}function Dt(){!ee||!Pe.current||(Pe.current.classList.remove(o0),Oe.current=!1,z(!1),ge.current=new Date)}function Sn(Xe){if(!ee||!Pe.current)return;Pe.current.classList.remove(o0),Oe.current=!1,z(!1),ge.current=new Date;const Mt=Xf(Pe.current,k);if(!Xe||!yn(Xe.target,!1)||!Mt||Number.isNaN(Mt)||je.current===null)return;const Ut=ge.current.getTime()-je.current.getTime(),St=He.current-(Yn(k)?Xe.pageY:Xe.pageX),en=Math.abs(St)/Ut;if(en>.05&&(we(!0),setTimeout(()=>{we(!1)},200)),o){$({draggedDistance:St*(k==="bottom"||k==="right"?1:-1),closeDrawer:ke,velocity:en,dismissible:p}),a==null||a(Xe,!0);return}if(k==="bottom"||k==="right"?St>0:St<0){Be(),a==null||a(Xe,!0);return}if(en>mT){ke(),a==null||a(Xe,!1);return}var Ge;const wt=Math.min((Ge=Pe.current.getBoundingClientRect().height)!=null?Ge:0,window.innerHeight);var qt;const Xt=Math.min((qt=Pe.current.getBoundingClientRect().width)!=null?qt:0,window.innerWidth),Q=k==="left"||k==="right";if(Math.abs(Mt)>=(Q?Xt:wt)*f){ke(),a==null||a(Xe,!1);return}a==null||a(Xe,!0),Be()}J.useEffect(()=>(Z&&(ns(document.documentElement,{scrollBehavior:"auto"}),oe.current=new Date),()=>{tF(document.documentElement,"scrollBehavior")}),[Z]);function as(Xe){const Mt=Xe?(window.innerWidth-go)/window.innerWidth:1,Ut=Xe?-go:0;We.current&&window.clearTimeout(We.current),ns(Pe.current,{transition:`transform ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,transform:Yn(k)?`scale(${Mt}) translate3d(0, ${Ut}px, 0)`:`scale(${Mt}) translate3d(${Ut}px, 0, 0)`}),!Xe&&Pe.current&&(We.current=setTimeout(()=>{const St=Xf(Pe.current,k);ns(Pe.current,{transition:"none",transform:Yn(k)?`translate3d(0, ${St}px, 0)`:`translate3d(${St}px, 0, 0)`})},500))}function Hn(Xe,Mt){if(Mt<0)return;const Ut=(window.innerWidth-go)/window.innerWidth,St=Ut+Mt*(1-Ut),en=-go+Mt*go;ns(Pe.current,{transform:Yn(k)?`scale(${St}) translate3d(0, ${en}px, 0)`:`scale(${St}) translate3d(${en}px, 0, 0)`,transition:"none"})}function ds(Xe,Mt){const Ut=Yn(k)?window.innerHeight:window.innerWidth,St=Mt?(Ut-go)/Ut:1,en=Mt?-go:0;Mt&&ns(Pe.current,{transition:`transform ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,transform:Yn(k)?`scale(${St}) translate3d(0, ${en}px, 0)`:`scale(${St}) translate3d(${en}px, 0, 0)`})}return J.useEffect(()=>{j||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[j]),J.createElement(jy,{defaultOpen:C,onOpenChange:Xe=>{!p&&!Xe||(Xe?G(!0):ke(!0),F(Xe))},open:Z},J.createElement(cT.Provider,{value:{activeSnapPoint:Ct,snapPoints:o,setActiveSnapPoint:ce,drawerRef:Pe,overlayRef:I,onOpenChange:t,onPress:xt,onRelease:Sn,onDrag:ct,dismissible:p,shouldAnimate:st,handleOnly:g,isOpen:Z,isDragging:ee,shouldFade:Re,closeDrawer:ke,onNestedDrag:Hn,onNestedOpenChange:as,onNestedRelease:ds,keyboardIsOpen:it,modal:j,snapPointsOffset:Se,activeSnapPointIndex:X,direction:k,shouldScaleBackground:l,setBackgroundColorOnScale:d,noBodyStyles:A,container:q,autoFocus:W}},n))}const yT=J.forwardRef(function(n,t){var e=Me(n,[]);const{overlayRef:s,snapPoints:a,onRelease:o,shouldFade:l,isOpen:d,modal:f,shouldAnimate:h}=sd(),p=fT(t,s),g=a&&a.length>0;if(!f)return null;const b=J.useCallback(y=>o(y),[o]);return J.createElement(Ny,L({onMouseUp:b,ref:p,"data-vaul-overlay":"","data-vaul-snap-points":d&&g?"true":"false","data-vaul-snap-points-overlay":d&&l?"true":"false","data-vaul-animate":h!=null&&h.current?"true":"false"},e))});yT.displayName="Drawer.Overlay";const bT=J.forwardRef(function(o,a){var l=o,{onPointerDownOutside:e,style:t,onOpenAutoFocus:n}=l,s=Me(l,["onPointerDownOutside","style","onOpenAutoFocus"]);const{drawerRef:d,onPress:f,onRelease:h,onDrag:p,keyboardIsOpen:g,snapPointsOffset:b,activeSnapPointIndex:y,modal:w,isOpen:_,direction:j,snapPoints:S,container:M,handleOnly:A,shouldAnimate:k,autoFocus:C}=sd(),[O,H]=J.useState(!1),D=fT(a,d),V=J.useRef(null),te=J.useRef(null),q=J.useRef(!1),W=S&&S.length>0;cF();const re=(Z,F,Y=0)=>{if(q.current)return!0;const G=Math.abs(Z.y),ee=Math.abs(Z.x),z=ee>G,ae=["bottom","right"].includes(F)?1:-1;if(F==="left"||F==="right"){if(!(Z.x*ae<0)&&ee>=0&&ee<=Y)return z}else if(!(Z.y*ae<0)&&G>=0&&G<=Y)return!z;return q.current=!0,!0};J.useEffect(()=>{W&&window.requestAnimationFrame(()=>{H(!0)})},[]);function me(Z){V.current=null,q.current=!1,h(Z)}return J.createElement(Ey,fe(L({"data-vaul-drawer-direction":j,"data-vaul-drawer":"","data-vaul-delayed-snap-points":O?"true":"false","data-vaul-snap-points":_&&W?"true":"false","data-vaul-custom-container":M?"true":"false","data-vaul-animate":k!=null&&k.current?"true":"false"},s),{ref:D,style:b&&b.length>0?L({"--snap-point-height":`${b[y!=null?y:0]}px`},t):t,onPointerDown:Z=>{A||(s.onPointerDown==null||s.onPointerDown.call(s,Z),V.current={x:Z.pageX,y:Z.pageY},f(Z))},onOpenAutoFocus:Z=>{n==null||n(Z),C||Z.preventDefault()},onPointerDownOutside:Z=>{if(e==null||e(Z),!w||Z.defaultPrevented){Z.preventDefault();return}g.current&&(g.current=!1)},onFocusOutside:Z=>{if(!w){Z.preventDefault();return}},onPointerMove:Z=>{if(te.current=Z,A||(s.onPointerMove==null||s.onPointerMove.call(s,Z),!V.current))return;const F=Z.pageY-V.current.y,Y=Z.pageX-V.current.x,G=Z.pointerType==="touch"?10:2;re({x:Y,y:F},j,G)?p(Z):(Math.abs(Y)>G||Math.abs(F)>G)&&(V.current=null)},onPointerUp:Z=>{s.onPointerUp==null||s.onPointerUp.call(s,Z),V.current=null,q.current=!1,h(Z)},onPointerOut:Z=>{s.onPointerOut==null||s.onPointerOut.call(s,Z),me(te.current)},onContextMenu:Z=>{s.onContextMenu==null||s.onContextMenu.call(s,Z),te.current&&me(te.current)}}))});bT.displayName="Drawer.Content";const fF=250,hF=120,mF=J.forwardRef(function(a,s){var o=a,{preventCycle:e=!1,children:t}=o,n=Me(o,["preventCycle","children"]);const{closeDrawer:l,isDragging:d,snapPoints:f,activeSnapPoint:h,setActiveSnapPoint:p,dismissible:g,handleOnly:b,isOpen:y,onPress:w,onDrag:_}=sd(),j=J.useRef(null),S=J.useRef(!1);function M(){if(S.current){C();return}window.setTimeout(()=>{A()},hF)}function A(){if(d||e||S.current){C();return}if(C(),!f||f.length===0){g||l();return}if(h===f[f.length-1]&&g){l();return}const H=f.findIndex(V=>V===h);if(H===-1)return;const D=f[H+1];p(D)}function k(){j.current=window.setTimeout(()=>{S.current=!0},fF)}function C(){j.current&&window.clearTimeout(j.current),S.current=!1}return J.createElement("div",L({onClick:M,onPointerCancel:C,onPointerDown:O=>{b&&w(O),k()},onPointerMove:O=>{b&&_(O)},ref:s,"data-vaul-drawer-visible":y?"true":"false","data-vaul-handle":"","aria-hidden":"true"},n),J.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});mF.displayName="Drawer.Handle";function pF(e){const t=sd(),a=e,{container:n=t.container}=a,s=Me(a,["container"]);return J.createElement(Sy,L({container:n},s))}const ac={Root:dF,Content:bT,Overlay:yT,Portal:pF,Title:ZE,Description:JE};function gF(t){var e=Me(t,[]);return u.jsx(ac.Root,L({"data-slot":"drawer"},e))}function xF(t){var e=Me(t,[]);return u.jsx(ac.Portal,L({"data-slot":"drawer-portal"},e))}function yF(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(ac.Overlay,L({"data-slot":"drawer-overlay",className:jn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function bF(s){var a=s,{className:e,children:t}=a,n=Me(a,["className","children"]);return u.jsxs(xF,{"data-slot":"drawer-portal",children:[u.jsx(yF,{}),u.jsxs(ac.Content,fe(L({"data-slot":"drawer-content",className:jn("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-2/3 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e)},n),{children:[u.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]}))]})}function vF(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx("div",L({"data-slot":"drawer-header",className:jn("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",e)},t))}function wF(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx("div",L({"data-slot":"drawer-footer",className:jn("mt-auto flex flex-col gap-2 p-4",e)},t))}function _F(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(ac.Title,L({"data-slot":"drawer-title",className:jn("text-foreground font-semibold",e)},t))}function jF(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(ac.Description,L({"data-slot":"drawer-description",className:jn("text-muted-foreground text-sm",e)},t))}const ic=e=>{const{data:t,isLoading:n,error:s}=Un("Project",e,{fields:["name","users"]}),{data:a,isLoading:o}=Un("Project",(t==null?void 0:t.name)||"",t!=null&&t.name?"Project":void 0);return{data:(a==null?void 0:a.users)||(t==null?void 0:t.users)||[],isLoading:n||o,error:s}};class vT{static useUpdatePhase(){const{updateDoc:t,loading:n,error:s}=$s();return{updatePhase:(o,l)=>ye(null,null,function*(){return t("project_phase",o,l)}),isLoading:n,error:s}}static usePhaseAssignment(){const{createDoc:t}=Pi(),{deleteDoc:n}=Vh(),{data:s}=Un("User","",{shouldFetch:!0});return{assignPhase:(l,d)=>ye(null,null,function*(){return t("ToDo",{allocated_to:d,assigned_by:(s==null?void 0:s.name)||"",reference_type:"project_phase",reference_name:l,description:`Assigned to phase: ${l}`,status:"Open"})}),unassignPhase:l=>ye(null,null,function*(){return n("ToDo",l)})}}}const SF=vT.useUpdatePhase,wT=vT.usePhaseAssignment,NF=({isOpen:e,onClose:t,projectName:n,onSuccess:s})=>{const[a,o]=N.useState({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),{createDoc:l,loading:d,error:f}=Pi(),{assignPhase:h}=wT(),{data:p,isLoading:g}=ic(n),b=(_,j)=>{o(S=>fe(L({},S),{[_]:j}))},y=_=>ye(null,null,function*(){if(_.preventDefault(),!!a.subject.trim())try{const j=a,{assign_to:S}=j,M=Me(j,["assign_to"]),A=yield l("project_phase",{project:n,subject:M.subject,start_date:M.start_date||null,end_date:M.end_date||null,priority:M.priority,details:M.details||null,costing:M.costing||0,status:"Open",progress:0});S&&A&&(yield h(A.name,S)),o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),s&&s(),t()}catch(S){console.error("Failed to create project phase:",S)}}),w=()=>{o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),t()};return u.jsx(Ss,{open:e,onOpenChange:w,children:u.jsxs(Ns,{className:"sm:max-w-[500px]",children:[u.jsxs(Es,{children:[u.jsx(ks,{children:"Create New Project Phase"}),u.jsxs(To,{children:['Add a new phase to organize tasks and milestones for "',n,'".']})]}),u.jsxs("form",{onSubmit:y,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"subject",children:"Phase Name *"}),u.jsx(Wt,{id:"subject",value:a.subject,onChange:_=>b("subject",_.target.value),placeholder:"e.g., Planning, Development, Testing",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"priority",children:"Priority"}),u.jsxs("select",{id:"priority",value:a.priority,onChange:_=>b("priority",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"}),u.jsx("option",{value:"Critical",children:"Critical"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"start_date",children:"Start Date"}),u.jsxs("div",{className:"relative",children:[u.jsx(Wt,{id:"start_date",type:"date",value:a.start_date,onChange:_=>b("start_date",_.target.value)}),u.jsx(wr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"end_date",children:"End Date"}),u.jsxs("div",{className:"relative",children:[u.jsx(Wt,{id:"end_date",type:"date",value:a.end_date,onChange:_=>b("end_date",_.target.value),min:a.start_date||void 0}),u.jsx(wr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"costing",children:"Estimated Cost"}),u.jsx(Wt,{id:"costing",type:"number",value:a.costing,onChange:_=>b("costing",parseFloat(_.target.value)||0),placeholder:"0",min:"0",step:"0.01"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"assign_to",children:"Assign To"}),u.jsxs("select",{id:"assign_to",value:a.assign_to,onChange:_=>b("assign_to",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:g,children:[u.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(_=>u.jsx("option",{value:_.user||_.name,children:_.user||_.name},_.name))]}),g&&u.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"details",children:"Description"}),u.jsx("textarea",{id:"details",value:a.details,onChange:_=>b("details",_.target.value),placeholder:"Phase description, objectives, and key deliverables...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]}),f&&u.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:u.jsx("p",{className:"text-sm text-red-600",children:f.message||"Failed to create project phase. Please try again."})}),u.jsxs(Ts,{children:[u.jsx(Ye,{type:"button",variant:"outline",onClick:w,disabled:d,children:"Cancel"}),u.jsxs(Ye,{type:"submit",disabled:d||!a.subject.trim(),className:"flex items-center gap-2",children:[d&&u.jsx(E0,{className:"h-4 w-4 animate-spin"}),"Create Phase"]})]})]})]})})},EF=({isOpen:e,onClose:t,projectName:n,onSuccess:s})=>{const[a,o]=N.useState({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),{createDoc:l,loading:d,error:f}=Pi(),h=g=>ye(null,null,function*(){if(g.preventDefault(),!!a.subject.trim())try{yield l("Task",{subject:a.subject,description:a.description,priority:a.priority,exp_start_date:a.exp_start_date||null,exp_end_date:a.exp_end_date||null,status:a.status,project:n,is_template:0,progress:0}),o({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),s==null||s(),t()}catch(b){console.error("Error creating standalone task:",b)}}),p=(g,b)=>{o(y=>fe(L({},y),{[g]:b}))};return u.jsx(Ss,{open:e,onOpenChange:t,children:u.jsxs(Ns,{className:"sm:max-w-[500px]",children:[u.jsx(Es,{children:u.jsx(ks,{className:"flex items-center justify-between",children:"Create Standalone Task"})}),u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"subject",children:"Task Subject *"}),u.jsx(Wt,{id:"subject",value:a.subject,onChange:g=>p("subject",g.target.value),placeholder:"Enter task subject",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"description",children:"Description"}),u.jsx("textarea",{id:"description",value:a.description,onChange:g=>p("description",g.target.value),placeholder:"Enter task description (optional)",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"priority",children:"Priority"}),u.jsxs("select",{id:"priority",value:a.priority,onChange:g=>p("priority",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"}),u.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"status",children:"Status"}),u.jsxs("select",{id:"status",value:a.status,onChange:g=>p("status",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Working",children:"Working"}),u.jsx("option",{value:"Pending Review",children:"Pending Review"}),u.jsx("option",{value:"Overdue",children:"Overdue"}),u.jsx("option",{value:"Template",children:"Template"}),u.jsx("option",{value:"Completed",children:"Completed"}),u.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"exp_start_date",children:"Expected Start Date"}),u.jsx(Wt,{id:"exp_start_date",type:"date",value:a.exp_start_date,onChange:g=>p("exp_start_date",g.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"exp_end_date",children:"Expected End Date"}),u.jsx(Wt,{id:"exp_end_date",type:"date",value:a.exp_end_date,onChange:g=>p("exp_end_date",g.target.value)})]})]}),f&&u.jsxs("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",children:["Error creating task: ",f.message]}),u.jsxs(Ts,{children:[u.jsx(Ye,{type:"button",variant:"outline",onClick:t,disabled:d,children:"Cancel"}),u.jsx(Ye,{type:"submit",disabled:d||!a.subject.trim(),children:d?"Creating...":"Create Task"})]})]})]})})},TF=({projectName:e,onViewPhaseDetails:t,onViewTaskDetails:n,onViewSubTaskDetails:s})=>{const[a,o]=N.useState(new Set),[l,d]=N.useState(new Set),[f,h]=N.useState(!1),[p,g]=N.useState(!1),[b,y]=N.useState([]),{data:w,isLoading:_,mutate:j}=_n("project_phase",{fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e]],orderBy:{field:"start_date",order:"asc"}});N.useEffect(()=>{w&&w.length>0?ye(null,null,function*(){const G=[];for(const ee of w)try{const z=yield fetch(`/api/resource/project_phase/${ee.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(z.ok){const ae=yield z.json();G.push(ae.data)}else console.warn("Failed to fetch phase:",ee.name),G.push(ee)}catch(z){console.error("Error fetching phase:",ee.name,z),G.push(ee)}y(G)}):y([])},[w==null?void 0:w.length,w==null?void 0:w.map(Y=>Y.name).join(",")]);const{data:S,isLoading:M,mutate:A}=_n("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",e]],orderBy:{field:"exp_start_date",order:"asc"}}),k=(S==null?void 0:S.map(Y=>Y.name))||[],{data:C,isLoading:O}=_n("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:k.length>0?[["task","in",k]]:[["task","=","dummy-non-existent-task"]],orderBy:{field:"start_date",order:"asc"}}),H=Y=>{const G=new Set(a);G.has(Y)?G.delete(Y):G.add(Y),o(G)},D=Y=>{const G=new Set(l);G.has(Y)?G.delete(Y):G.add(Y),d(G)},V=Y=>{switch(Y){case"Completed":return u.jsx(Yh,{className:"h-4 w-4 text-green-600"});case"Working":return u.jsx(ko,{className:"h-4 w-4 text-yellow-600"});default:return u.jsx(YD,{className:"h-4 w-4 text-gray-400"})}},te=Y=>{switch(Y){case"Completed":return"bg-green-100 text-green-800";case"Working":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},q=Y=>{switch(Y){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},W=(Y,G,ee,z=!1,ae=!1,we)=>{const I=G>0?`pl-${G*6}`:"pl-6";let oe="",je="mr-3 text-lg",ge="";ee==="phase"?ge="📋":ee==="task"?ge="📝":ee==="phase-task"?ge="📄":ee==="subtask"&&(ge="📌"),ee==="phase"||ee==="task"&&z||ee==="phase-task"&&z?(oe=ae?"▼":"▶️",je+=" text-blue-600 cursor-pointer hover:text-blue-800 transition-colors"):ee==="phase-task"?(oe="•",je+=" text-green-500"):ee==="subtask"?(oe="◦",je+=" text-gray-400"):ee==="task"?(oe="●",je+=" text-orange-500"):(oe="●",je+=" text-gray-400");const Ee=Y.subject||Y.name,Oe=Y.status||"Open",We=Y.progress||0,He=it=>{it.preventDefault(),it.stopPropagation(),we&&we()};return u.jsx("div",{className:"hover:bg-gray-50 transition-colors",children:u.jsxs("div",{className:`grid grid-cols-12 gap-4 py-3 px-6 border-b border-gray-100 items-center ${I}`,children:[u.jsxs("div",{className:"col-span-6 flex items-center",children:[u.jsx("span",{className:je,onClick:He,role:we?"button":void 0,tabIndex:we?0:void 0,children:oe}),u.jsx("span",{className:"mr-2 text-lg",children:ge}),V(Oe),u.jsxs("div",{className:"ml-3 flex-1",children:[u.jsx("div",{className:`font-medium ${ee==="phase"?"text-blue-900 text-lg":ee==="task"?"text-orange-900":ee==="phase-task"?"text-green-900":"text-gray-700"}`,children:Ee}),Y.description&&ee==="subtask"&&u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:Y.description}),Y.details&&ee==="phase"&&u.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Y.details})]})]}),u.jsx("div",{className:"col-span-2 text-center",children:u.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${te(Oe)}`,children:Oe})}),u.jsx("div",{className:"col-span-2 text-center",children:Y.priority&&u.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${q(Y.priority)}`,children:Y.priority})}),u.jsxs("div",{className:"col-span-2 flex items-center justify-center space-x-2",children:[u.jsx("div",{className:`${ee==="phase"?"w-20":"w-16"} bg-gray-200 rounded-full h-2`,children:u.jsx("div",{className:`${ee==="phase"?"bg-blue-600":ee==="task"?"bg-orange-600":ee==="phase-task"?"bg-green-600":"bg-purple-600"} h-2 rounded-full transition-all duration-300`,style:{width:`${We}%`}})}),u.jsxs("span",{className:"text-sm text-gray-600 w-8 text-right",children:[We,"%"]}),ee==="phase"&&t&&u.jsx(Ye,{variant:"outline",size:"sm",onClick:it=>{it.preventDefault(),it.stopPropagation(),t(Y)},className:"ml-2 h-7 px-2 text-xs",children:"View Details"}),(ee==="task"||ee==="phase-task")&&n&&u.jsx(Ye,{variant:"outline",size:"sm",onClick:it=>{it.preventDefault(),it.stopPropagation(),n(Y)},className:"ml-2 h-7 px-2 text-xs",children:"View Details"}),ee==="subtask"&&s&&u.jsx(Ye,{variant:"outline",size:"sm",onClick:it=>{it.preventDefault(),it.stopPropagation(),s(Y)},className:"ml-2 h-7 px-2 text-xs",children:"View Details"})]})]})},`${ee}-${Y.name}`)};if(_||M||O)return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),u.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),u.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"})]});const re=b.length>0?b:w||[],me=S||[],Z=C||[],F=Y=>Z.filter(G=>G.task===Y);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Tasks & Phases"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Ye,{size:"sm",variant:"outline",className:"flex items-center gap-2",onClick:()=>g(!0),children:[u.jsx(Ci,{className:"h-4 w-4"}),"Add Task"]}),u.jsxs(Ye,{size:"sm",className:"flex items-center gap-2",onClick:()=>h(!0),children:[u.jsx(Ci,{className:"h-4 w-4"}),"Add Phase"]})]})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[u.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 grid grid-cols-12 gap-4 text-sm font-medium text-gray-700",children:[u.jsx("div",{className:"col-span-6",children:"Task / Phase"}),u.jsx("div",{className:"col-span-2 text-center",children:"Status"}),u.jsx("div",{className:"col-span-2 text-center",children:"Priority"}),u.jsx("div",{className:"col-span-2 text-center",children:"Progress"})]}),u.jsxs("div",{className:"divide-y divide-gray-100",children:[re.map(Y=>{const G=a.has(Y.name),ee=Y.tasks||[];return u.jsxs("div",{children:[W(Y,0,"phase",ee.length>0,G,()=>{H(Y.name)}),G&&ee.map((z,ae)=>{const we=me.find(ge=>ge.name===z.task),I=F(z.task),oe=I.length>0,je=l.has(z.task);if(!we){const ge={name:z.task,subject:z.task,status:"Open"};return u.jsxs("div",{children:[W(ge,1,"phase-task",oe,je,oe?()=>{D(z.task)}:void 0),je&&oe&&I.map((Ee,Oe)=>u.jsx("div",{children:W(Ee,2,"subtask",!1,!1)},`subtask-${Oe}`))]},`phase-task-${ae}`)}return u.jsxs("div",{children:[W(we,1,"phase-task",oe,je,oe?()=>{D(we.name)}:void 0),je&&oe&&I.map((ge,Ee)=>u.jsx("div",{children:W(ge,2,"subtask",!1,!1)},`subtask-${Ee}`))]},`phase-task-${ae}`)})]},Y.name)}),re.length>0&&me.filter(Y=>!re.some(ee=>{var z;return(z=ee.tasks)==null?void 0:z.some(ae=>ae.task===Y.name)})).length>0&&u.jsx("div",{className:"bg-gray-100 px-6 py-2 border-b border-gray-200",children:u.jsxs("div",{className:"text-sm font-medium text-gray-600 flex items-center",children:[u.jsx("span",{className:"mr-2",children:"📝"}),"Standalone Tasks"]})}),me.filter(Y=>!re.some(ee=>{var z;return(z=ee.tasks)==null?void 0:z.some(ae=>ae.task===Y.name)})).map(Y=>{const G=l.has(Y.name),ee=F(Y.name),z=ee.length>0;return u.jsxs("div",{children:[W(Y,0,"task",z,G,z?()=>{D(Y.name)}:void 0),G&&z&&ee.map((ae,we)=>u.jsx("div",{children:W(ae,1,"subtask",!1,!1)},`standalone-subtask-${we}`))]},Y.name)})]})]}),re.length===0&&me.length===0&&u.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:u.jsxs("div",{className:"max-w-md mx-auto",children:[u.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📋"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No phases or tasks yet"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Start organizing your project by creating phases and tasks."}),u.jsxs("div",{className:"flex gap-3 justify-center",children:[u.jsx(Ye,{onClick:()=>h(!0),children:"Create First Phase"}),u.jsx(Ye,{variant:"outline",onClick:()=>g(!0),children:"Create Task"})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:[u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:re.length}),u.jsx("div",{className:"text-sm text-blue-600",children:"Total Phases"})]}),u.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600",children:me.length}),u.jsx("div",{className:"text-sm text-green-600",children:"Total Tasks"})]}),u.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Z.length}),u.jsx("div",{className:"text-sm text-purple-600",children:"Total Subtasks"})]})]}),u.jsx(NF,{isOpen:f,onClose:()=>h(!1),projectName:e,onSuccess:()=>{j()}}),u.jsx(EF,{isOpen:p,onClose:()=>g(!1),projectName:e,onSuccess:()=>{A()}})]})};class kF{static useCreatePhaseTask(){const{createDoc:t,loading:n}=Pi(),{call:s}=gs("frappe.client.insert"),{call:a}=gs("frappe.client.save"),{data:o}=Un("User","",{shouldFetch:!0});return{createTaskWithPhase:d=>ye(null,null,function*(){try{const f=yield t("Task",{subject:d.subject,description:d.description,priority:d.priority,status:d.status,type:d.type,expected_time:d.expected_time,task_weight:d.task_weight,exp_start_date:d.exp_start_date||null,exp_end_date:d.exp_end_date||null,project:d.project});console.log("Task created successfully:",f);let h=null;if(d.assign_to&&f)try{h=yield s({doc:{doctype:"ToDo",allocated_to:d.assign_to,assigned_by:(o==null?void 0:o.name)||"",description:`Task: ${d.subject}`,reference_type:"Task",reference_name:f.name,status:"Open",priority:d.priority,date:new Date().toISOString().split("T")[0]}}),console.log("ToDo created successfully:",h)}catch(p){console.error("Error creating ToDo:",p)}if(d.phaseId&&f){const p={parent:d.phaseId,parenttype:"project_phase",parentfield:"tasks",task:f.name,task_name:f.subject,status:f.status,start_date:f.exp_start_date,end_date:f.exp_end_date,description:f.description},g=yield s({doc:L({doctype:"Project Phase Task"},p)});console.log("Project Phase Task created successfully:",g);try{console.log("Saving parent phase document to commit child table changes...");const b=yield a({doc:{doctype:"project_phase",name:d.phaseId}});console.log("Parent phase saved successfully:",b)}catch(b){console.warn("Failed to save parent phase, but child was created:",b)}return{success:!0,task:f,phaseTask:g,todo:h,message:"Task created and linked to phase successfully"}}return{success:!0,task:f,todo:h,message:"Task created successfully"}}catch(f){throw console.error("Error in createTaskWithPhase:",f),f}}),isLoading:n}}static useLinkTaskToPhase(){const{call:t}=gs("frappe.client.insert");return{linkTaskToPhase:(s,a,o)=>ye(null,null,function*(){try{const l={parent:a,parenttype:"Project Phase",parentfield:"tasks",task:s,task_name:(o==null?void 0:o.task_name)||s,status:(o==null?void 0:o.status)||"Open",start_date:o==null?void 0:o.start_date,end_date:o==null?void 0:o.end_date,description:o==null?void 0:o.description};return{success:!0,phaseTask:yield t({doc:L({doctype:"Project Phase Task"},l)}),message:"Task linked to phase successfully"}}catch(l){return console.error("Error linking task to phase:",l),{success:!1,error:l instanceof Error?l.message:"Unknown error",message:"Failed to link task to phase"}}})}}}const CF=kF.useCreatePhaseTask,AF=({isOpen:e,onClose:t,projectName:n,phaseId:s,onSuccess:a})=>{const[o,l]=N.useState({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),[d,f]=N.useState({}),[h,p]=N.useState(!1),{createTaskWithPhase:g,isLoading:b}=CF(),{data:y,isLoading:w}=ic(n),{data:_}=Un("Project",n),j=(k,C)=>{l(O=>fe(L({},O),{[k]:C})),d[k]&&f(O=>fe(L({},O),{[k]:""}))},S=()=>{const k={};return o.subject.trim()||(k.subject="Task subject is required"),f(k),Object.keys(k).length===0},M=k=>ye(null,null,function*(){if(k.preventDefault(),!h&&S()){if(o.exp_start_date&&o.exp_end_date){const C=new Date(o.exp_start_date);if(new Date(o.exp_end_date)<C){Xn.error("End date cannot be earlier than start date");return}}if(o.exp_end_date&&(_!=null&&_.expected_end_date)){const C=new Date(o.exp_end_date),O=new Date(_.expected_end_date);if(C>O){Xn.error(`Task end date cannot be after project end date (${_.expected_end_date})`);return}}p(!0);try{const C=fe(L({},o),{project:n,expected_time:Number(o.expected_time),task_weight:Number(o.task_weight),exp_start_date:o.exp_start_date||void 0,exp_end_date:o.exp_end_date||void 0,phaseId:s,assign_to:o.assign_to||void 0});console.log("Creating task with data:",C),console.log("Date fields:",{exp_start_date:o.exp_start_date,exp_end_date:o.exp_end_date});const O=yield g(C);console.log("Task with phase created:",O);let H=`Task "${o.subject}" has been created successfully.`;O.todo&&o.assign_to&&(console.log("Task assigned and ToDo created for:",o.assign_to),H+=` Task has been assigned to ${o.assign_to}.`),Xn.success("Task created successfully",{description:H}),l({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),f({}),a&&a(),t()}catch(C){console.error("Error creating task:",C);let O="Failed to create task. Please try again.";C!=null&&C.message&&(C.message.includes("Expected End Date cannot be after Project")?O="Task end date cannot be after the project end date. Please choose an earlier date.":C.message.includes("InvalidDates")?O="Invalid date configuration. Please check your task dates.":O=C.message),C!=null&&C.exception&&typeof C.exception=="string"&&C.exception.includes("Expected End Date cannot be after Project")&&(O="Task end date cannot be after the project end date. Please choose an earlier date."),Xn.error("Failed to create task",{description:O}),f({submit:O})}finally{p(!1)}}}),A=()=>{l({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),f({}),t()};return u.jsx(Ss,{open:e,onOpenChange:A,children:u.jsxs(Ns,{className:"sm:max-w-[600px]",children:[u.jsxs(Es,{children:[u.jsxs(ks,{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:"📝"}),"Create New Task"]}),u.jsxs(To,{children:["Create a new task for project: ",u.jsx("strong",{children:n}),s&&u.jsxs(u.Fragment,{children:[u.jsx("br",{}),u.jsx("span",{className:"text-blue-600",children:"🔗 This task will be linked to the current phase"})]}),u.jsx("br",{}),u.jsx("span",{className:"text-gray-600",children:"💡 Assigning to a user will automatically create a ToDo item for them"})]})]}),u.jsxs("form",{onSubmit:M,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Fe,{htmlFor:"subject",children:"Task Subject *"}),u.jsx(Wt,{id:"subject",value:o.subject,onChange:k=>j("subject",k.target.value),placeholder:"Enter task subject...",className:d.subject?"border-red-500":""}),d.subject&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Fe,{htmlFor:"description",children:"Description"}),u.jsx("textarea",{id:"description",value:o.description,onChange:k=>j("description",k.target.value),placeholder:"Enter task description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Fe,{htmlFor:"priority",children:"Priority"}),u.jsxs("select",{id:"priority",value:o.priority,onChange:k=>j("priority",k.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"}),u.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Fe,{htmlFor:"status",children:"Status"}),u.jsxs("select",{id:"status",value:o.status,onChange:k=>j("status",k.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Working",children:"Working"}),u.jsx("option",{value:"Overdue",children:"Overdue"}),u.jsx("option",{value:"Pending Review",children:"Pending Review"}),u.jsx("option",{value:"Completed",children:"Completed"}),u.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Fe,{htmlFor:"assign_to",children:"Assign To"}),u.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:k=>j("assign_to",k.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",disabled:w,children:[u.jsx("option",{value:"",children:"Select user to assign (Optional)"}),y==null?void 0:y.map(k=>u.jsxs("option",{value:k.user||k.name,children:[k.full_name||k.name,k.email&&` (${k.email})`]},k.user||k.name))]}),w&&u.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!w&&y&&y.length>10&&u.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Fe,{htmlFor:"expected_time",children:"Expected Time (hours)"}),u.jsx(Wt,{id:"expected_time",type:"number",min:"0",step:"0.5",value:o.expected_time,onChange:k=>j("expected_time",Number(k.target.value)),placeholder:"0"})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Fe,{htmlFor:"task_weight",children:"Task Weight"}),u.jsx(Wt,{id:"task_weight",type:"number",min:"1",value:o.task_weight,onChange:k=>j("task_weight",Number(k.target.value)),placeholder:"1"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"exp_start_date",children:"Expected Start Date"}),u.jsx(Wt,{id:"exp_start_date",type:"date",value:o.exp_start_date,onChange:k=>j("exp_start_date",k.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"exp_end_date",children:"Expected End Date"}),u.jsx(Wt,{id:"exp_end_date",type:"date",value:o.exp_end_date,onChange:k=>j("exp_end_date",k.target.value),max:(_==null?void 0:_.expected_end_date)||void 0}),(_==null?void 0:_.expected_end_date)&&u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",_.expected_end_date]})]})]})]}),d.submit&&u.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),u.jsxs(Ts,{children:[u.jsx(Ye,{type:"button",variant:"outline",onClick:A,children:"Cancel"}),u.jsx(Ye,{type:"submit",disabled:b||h,children:b||h?"Creating...":"Create Task"})]})]})]})})},OF=({phase:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var A;const{updatePhase:o,isLoading:l,error:d}=SF(),{assignPhase:f,unassignPhase:h}=wT(),{data:p,isLoading:g}=ic(t),{data:b}=_n("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","project_phase"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[y,w]=N.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,details:"",costing:0,assign_to:""}),_=((A=b==null?void 0:b[0])==null?void 0:A.allocated_to)||"";N.useEffect(()=>{e&&w({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:_})},[e,_]);const j=(k,C)=>{w(O=>fe(L({},O),{[k]:C}))},S=k=>ye(null,null,function*(){if(k.preventDefault(),!!e)try{const C=y,{assign_to:O}=C,H=Me(C,["assign_to"]);yield o(e.name,H);const D=_,V=O;if(D&&D!==V){const te=b==null?void 0:b.find(q=>q.allocated_to===D);te&&(yield h(te.name))}V&&V!==D&&(yield f(e.name,V)),Xn.success("Phase updated successfully",{description:`Phase "${y.subject}" has been updated.`}),a&&a(),s()}catch(O){console.error("Error updating phase:",O),Xn.error("Failed to update phase",{description:O instanceof Error?O.message:"An unexpected error occurred."})}}),M=()=>{e&&w({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:_}),s()};return u.jsx(Ss,{open:n,onOpenChange:s,children:u.jsxs(Ns,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[u.jsx(Es,{children:u.jsx(ks,{children:"Edit Phase"})}),u.jsxs("form",{onSubmit:S,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"subject",children:"Subject *"}),u.jsx(Wt,{id:"subject",value:y.subject,onChange:k=>j("subject",k.target.value),required:!0,placeholder:"Enter phase subject"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"status",children:"Status"}),u.jsxs("select",{id:"status",value:y.status,onChange:k=>j("status",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Working",children:"Working"}),u.jsx("option",{value:"Pending Review",children:"Pending Review"}),u.jsx("option",{value:"Completed",children:"Completed"}),u.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"priority",children:"Priority"}),u.jsxs("select",{id:"priority",value:y.priority,onChange:k=>j("priority",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"}),u.jsx("option",{value:"Critical",children:"Critical"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"start_date",children:"Start Date"}),u.jsx(Wt,{id:"start_date",type:"date",value:y.start_date,onChange:k=>j("start_date",k.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"end_date",children:"End Date"}),u.jsx(Wt,{id:"end_date",type:"date",value:y.end_date,onChange:k=>j("end_date",k.target.value)})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"progress",children:"Progress (%)"}),u.jsx(Wt,{id:"progress",type:"number",min:"0",max:"100",value:y.progress,onChange:k=>j("progress",parseInt(k.target.value)||0),placeholder:"0"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"costing",children:"Costing"}),u.jsx(Wt,{id:"costing",type:"number",min:"0",step:"0.01",value:y.costing,onChange:k=>j("costing",parseFloat(k.target.value)||0),placeholder:"0.00"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"details",children:"Details"}),u.jsx("textarea",{id:"details",value:y.details,onChange:k=>j("details",k.target.value),placeholder:"Enter phase details",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"assign_to",children:"Assign To"}),u.jsxs("select",{id:"assign_to",value:y.assign_to,onChange:k=>j("assign_to",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:g,children:[u.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(k=>u.jsx("option",{value:k.user||k.name,children:k.user||k.name},k.name))]}),g&&u.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update phase"]})}),u.jsxs(Ts,{className:"flex gap-2",children:[u.jsx(Ye,{type:"button",variant:"outline",onClick:M,children:"Cancel"}),u.jsx(Ye,{type:"submit",disabled:l,children:l?"Updating...":"Update Phase"})]})]})]})})},RF=({phase:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:o,error:l}=gs("frappe.client.delete"),d=()=>ye(null,null,function*(){if(e)try{yield a({doctype:"project_phase",name:e.name}),s&&s(),n()}catch(h){console.error("Error deleting phase:",h)}}),f=()=>{n()};return u.jsx(Ss,{open:t,onOpenChange:n,children:u.jsxs(Ns,{className:"sm:max-w-[400px]",children:[u.jsx(Es,{children:u.jsxs(ks,{className:"flex items-center gap-2 text-red-600",children:[u.jsx(Xh,{className:"h-5 w-5"}),"Delete Phase"]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this phase? This action cannot be undone."}),e&&u.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[u.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]})]}),u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[u.jsxs("div",{className:"text-sm text-red-800",children:[u.jsx("strong",{children:"Warning:"})," Deleting this phase will also remove:"]}),u.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[u.jsx("li",{children:"All tasks associated with this phase"}),u.jsx("li",{children:"All phase progress data"}),u.jsx("li",{children:"Phase timeline and milestones"}),u.jsx("li",{children:"Related documents and attachments"})]})]}),l&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete phase"]})})]}),u.jsxs(Ts,{className:"flex gap-2",children:[u.jsx(Ye,{type:"button",variant:"outline",onClick:f,children:"Cancel"}),u.jsx(Ye,{type:"button",variant:"destructive",onClick:d,disabled:o,children:o?"Deleting...":"Delete Phase"})]})]})})};class DF{static usePhaseProgressCalculation(){const{updateDoc:t}=$s();return{calculateAndUpdatePhaseProgress:s=>ye(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",name:s})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message;if(!l||!l.tasks||l.tasks.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no tasks)`),0;const d=l.tasks.map(y=>y.task),f=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["name","in",d]]})});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const p=(yield f.json()).message||[];if(p.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no valid tasks)`),0;let g=0;p.forEach(y=>{g+=y.progress||0});const b=Math.round(g/p.length);return yield t("project_phase",s,{progress:b}),console.log(`Phase ${s} progress updated to ${b}% (based on ${p.length} tasks)`),b}catch(a){return console.error("Error calculating phase progress:",a),null}})}}static usePhaseStatusProgressUpdate(){const{updateDoc:t}=$s();return{updatePhaseProgressByStatus:(s,a,o)=>ye(null,null,function*(){try{let l=o||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("project_phase",s,{status:a,progress:l}),l}catch(l){return console.error("Error updating phase progress by status:",l),null}})}}static useManualPhaseProgressUpdate(){const{updateDoc:t}=$s();return{updatePhaseProgress:(s,a)=>ye(null,null,function*(){try{let o="";return a===0||a===1?o="Open":a>1&&a<=90?o="Working":a>90&&a<100?o="Pending Review":a===100&&(o="Completed"),yield t("project_phase",s,{progress:a,status:o}),{progress:a,status:o}}catch(o){return console.error("Error updating manual phase progress:",o),null}})}}}const{usePhaseProgressCalculation:_T}=DF,MF=({phase:e,projectName:t,onBack:n,onViewTaskDetails:s,onPhaseUpdated:a,onPhaseDeleted:o,onTaskCreated:l})=>{var G;const[d,f]=N.useState(!1),[h,p]=N.useState(!1),[g,b]=N.useState(!1),[y,w]=N.useState(!1),[_,j]=N.useState(!1),{calculateAndUpdatePhaseProgress:S}=_T(),{data:M,mutate:A}=Un("project_phase",e.name,"project_phase"),k=M||e,{data:C,isLoading:O,mutate:H}=_n("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",t]],orderBy:{field:"exp_start_date",order:"asc"}}),D=J.useMemo(()=>{if(!C)return[];if(k.tasks&&k.tasks.length>0){const ee=k.tasks.map(z=>z.task);return C.filter(z=>ee.includes(z.name))}return[]},[C,k.tasks]),V=J.useMemo(()=>{if(!D||D.length===0)return 0;const ee=D.reduce((z,ae)=>z+(ae.progress||0),0);return Math.round(ee/D.length)},[D]);N.useEffect(()=>{D.length>0&&V!==(k.progress||0)&&te()},[V,D.length]);const te=()=>ye(null,null,function*(){w(!0);try{yield S(e.name),yield A(),a&&a()}catch(ee){console.error("Error recalculating phase progress:",ee)}finally{w(!1)}}),q=ee=>ee?new Date(ee).toLocaleDateString():"N/A",W=ee=>ee?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ee):"$0",re=ee=>{switch(ee){case"Completed":return u.jsx(Yh,{className:"h-5 w-5 text-green-600"});case"Working":return u.jsx(Kl,{className:"h-5 w-5 text-yellow-600"});case"Open":return u.jsx(ko,{className:"h-5 w-5 text-blue-600"});default:return u.jsx(ko,{className:"h-5 w-5 text-gray-400"})}},me=ee=>{switch(ee){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Z=ee=>{switch(ee){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},F=()=>ye(null,null,function*(){j(!0);try{yield A(),yield H(),a&&(yield a()),setTimeout(()=>ye(null,null,function*(){w(!0);try{yield S(k.name),setTimeout(()=>ye(null,null,function*(){yield A()}),500)}catch(ee){console.error("Error recalculating phase progress:",ee)}finally{w(!1)}}),500)}finally{j(!1)}}),Y=()=>{o&&o(),n()};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(Ye,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[u.jsx(Nx,{className:"h-4 w-4"}),"Back to Tasks"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Ye,{variant:"outline",size:"sm",onClick:()=>p(!0),disabled:_||y,className:"flex items-center gap-2",children:[u.jsx(zl,{className:`h-4 w-4 ${_?"animate-pulse":""}`}),_?"Updating...":"Edit Phase"]}),u.jsxs(Ye,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[u.jsx(ql,{className:"h-4 w-4"}),"Delete Phase"]})]})]}),u.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500 flex items-center justify-center",children:u.jsx("span",{className:"text-xl",children:"📋"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:k.subject}),u.jsx("p",{className:"text-sm text-gray-600",children:"Phase Details"})]})]}),k.details&&u.jsx("p",{className:"text-gray-700 leading-relaxed",children:k.details})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${me(k.status||"Open")}`,children:[re(k.status||"Open"),u.jsx("span",{className:"font-medium",children:k.status||"Open"})]}),k.priority&&u.jsx("div",{className:`px-3 py-1 rounded-full border ${Z(k.priority)}`,children:u.jsx("span",{className:"text-sm font-medium",children:k.priority})})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phase Progress"}),D.length>0&&u.jsxs("span",{className:"text-xs text-gray-500",children:["(Auto-calculated from ",D.length," tasks)"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[V,"%"]}),u.jsx(Ye,{variant:"ghost",size:"sm",onClick:te,disabled:y,className:"h-8 w-8 p-0",title:"Recalculate progress from tasks",children:u.jsx(kx,{className:`h-4 w-4 ${y?"animate-spin":""}`})})]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${V}%`}})}),D.length>0&&u.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Task progress: ",D.map(ee=>`${ee.subject}: ${ee.progress||0}%`).join(", ")]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:u.jsx(wr,{className:"h-6 w-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:q(k.start_date)})]})]})}),u.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:u.jsx(Cx,{className:"h-6 w-6 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:q(k.end_date)})]})]})}),u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:u.jsx(Ex,{className:"h-6 w-6 text-green-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Estimated Cost"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:W(k.costing)})]})]})})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Phase Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Phase ID"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:k.name})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),u.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${me(k.status||"Open")}`,children:[re(k.status||"Open"),u.jsx("span",{className:"font-medium",children:k.status||"Open"})]})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),u.jsx("div",{className:`px-3 py-1 rounded-full ${Z(k.priority||"Medium")}`,children:u.jsx("span",{className:"font-medium",children:k.priority||"Medium"})})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Tasks Count"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:((G=k.tasks)==null?void 0:G.length)||0})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:k.start_date&&k.end_date?`${Math.ceil((new Date(k.end_date).getTime()-new Date(k.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[V,"%"]}),D.length>0&&u.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",D.length," tasks)"]})]})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Estimated Cost"}),u.jsx("span",{className:"text-xl font-bold text-green-600",children:W(e.costing)})]})]})]})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Tasks in this Phase"})}),O?u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),u.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),u.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):u.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[u.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:u.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[u.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),u.jsx("div",{className:"col-span-4 text-sm font-medium text-gray-700",children:"Task"}),u.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Progress"}),u.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),u.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700 text-center",children:"Priority"}),u.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),u.jsxs("div",{className:"divide-y divide-gray-100",children:[D&&D.length>0?D.map((ee,z)=>u.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[u.jsx("div",{className:"col-span-1 flex items-center",children:u.jsx("span",{className:"text-sm text-gray-600",children:z+1})}),u.jsxs("div",{className:"col-span-4 flex items-center gap-3",children:[u.jsx("div",{className:"p-1 bg-orange-100 rounded",children:u.jsx("span",{className:"text-sm",children:"📝"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-gray-900",children:ee.subject||ee.name}),u.jsx("div",{className:"text-sm text-gray-500",children:ee.name})]})]}),u.jsx("div",{className:"col-span-2 flex items-center justify-center",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${ee.progress||0}%`}})}),u.jsxs("span",{className:"text-sm font-medium text-gray-700 min-w-[30px]",children:[ee.progress||0,"%"]})]})}),u.jsx("div",{className:"col-span-2 flex items-center justify-center",children:u.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${me(ee.status||"Open")}`,children:ee.status||"Open"})}),u.jsx("div",{className:"col-span-1 flex items-center justify-center",children:ee.priority&&u.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Z(ee.priority)}`,children:ee.priority})}),u.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&u.jsx(Ye,{variant:"outline",size:"sm",onClick:()=>s(ee),className:"h-7 px-2 text-xs",children:"View Details"})})]},ee.name)):u.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[u.jsx("div",{className:"text-4xl mb-2",children:"📝"}),u.jsx("div",{className:"text-lg font-medium mb-1",children:"No tasks yet"}),u.jsx("div",{className:"text-sm",children:'Click "Add Task" to create the first task for this phase'})]}),u.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:u.jsx("div",{className:"col-span-12 flex items-center justify-center",children:u.jsxs(Ye,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>f(!0),children:[u.jsx(Ci,{className:"h-4 w-4"}),"Add new task to this phase"]})})})]})]})]}),u.jsx(AF,{isOpen:d,onClose:()=>f(!1),projectName:t,phaseId:e.name,onSuccess:()=>ye(null,null,function*(){yield A(),l&&(yield l()),setTimeout(()=>ye(null,null,function*(){yield H(),setTimeout(()=>ye(null,null,function*(){yield te()}),500)}),500)})}),u.jsx(OF,{phase:e,projectName:t,isOpen:h,onClose:()=>p(!1),onSuccess:F}),u.jsx(RF,{phase:e,isOpen:g,onClose:()=>b(!1),onSuccess:Y})]})};class PF{static useUpdateSubTask(){const{updateDoc:t,loading:n,error:s}=$s();return{updateSubTask:(o,l)=>ye(null,null,function*(){return yield t("SubTask",o,l)}),isLoading:n,error:s}}static useSubTaskAssignment(){const{createDoc:t}=Pi(),{deleteDoc:n}=Vh(),{data:s}=Un("User","",{shouldFetch:!0});return{assignSubTask:(l,d)=>ye(null,null,function*(){return yield t("ToDo",{allocated_to:d,assigned_by:(s==null?void 0:s.name)||"",reference_type:"SubTask",reference_name:l,description:`Assignment for SubTask: ${l}`,status:"Open"})}),unassignSubTask:l=>ye(null,null,function*(){return yield n("ToDo",l)})}}}const{useUpdateSubTask:LF,useSubTaskAssignment:jT}=PF;class zF{static useTaskProgressCalculation(){const{updateDoc:t}=$s();return{calculateAndUpdateTaskProgress:s=>ye(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name","status"],filters:[["task","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0)return null;let d=0;l.forEach(h=>{switch(h.status){case"Open":d+=1;break;case"Working":d+=50;break;case"Completed":d+=100;break;default:d+=0}});const f=Math.round(d/l.length);return yield t("Task",s,{progress:f}),console.log(`Task ${s} progress updated to ${f}%`),f}catch(a){return console.error("Error calculating task progress:",a),null}})}}static useTaskStatusProgressUpdate(){const{updateDoc:t}=$s();return{updateTaskProgressByStatus:(s,a,o)=>ye(null,null,function*(){try{let l=o||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("Task",s,{status:a,progress:l}),l}catch(l){return console.error("Error updating task progress by status:",l),null}})}}static useManualProgressUpdate(){const{updateDoc:t}=$s();return{updateTaskProgress:(s,a)=>ye(null,null,function*(){try{let o="";return a===0||a===1?o="Open":a>1&&a<=90?o="Working":a>90&&a<100?o="Pending Review":a===100&&(o="Completed"),yield t("Task",s,{progress:a,status:o}),{progress:a,status:o}}catch(o){return console.error("Error updating manual task progress:",o),null}})}}}const{useTaskProgressCalculation:rd,useTaskStatusProgressUpdate:UF,useManualProgressUpdate:BF}=zF,FF=({isOpen:e,onClose:t,projectName:n,parentTask:s,onSuccess:a})=>{const[o,l]=N.useState({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),[d,f]=N.useState({}),{createDoc:h,loading:p}=Pi(),{assignSubTask:g}=jT(),{calculateAndUpdateTaskProgress:b}=rd(),{data:y,isLoading:w}=ic(n),_=(A,k)=>{l(C=>fe(L({},C),{[A]:k})),d[A]&&f(C=>fe(L({},C),{[A]:""}))},j=()=>{const A={};return o.subject.trim()||(A.subject="SubTask subject is required"),o.task.trim()||(A.task="Parent task is required"),f(A),Object.keys(A).length===0},S=A=>ye(null,null,function*(){if(A.preventDefault(),!!j())try{const k=o,{assign_to:C}=k,O=Me(k,["assign_to"]),H=yield h("SubTask",fe(L({},O),{project:n}));if(C&&H&&(yield g(H.name,C)),s)try{yield b(s)}catch(D){console.error("Error updating task progress after subtask creation:",D)}l({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),f({}),a&&a(),t()}catch(C){console.error("Error creating subtask:",C),f({submit:"Failed to create subtask. Please try again."})}}),M=()=>{l({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),f({}),t()};return u.jsx(Ss,{open:e,onOpenChange:M,children:u.jsxs(Ns,{className:"sm:max-w-[600px]",children:[u.jsxs(Es,{children:[u.jsxs(ks,{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:"📌"}),"Create New SubTask"]}),u.jsxs(To,{children:["Create a new subtask for project: ",u.jsx("strong",{children:n}),s&&u.jsxs("span",{className:"block mt-1",children:["Parent Task: ",u.jsx("strong",{children:s})]})]})]}),u.jsxs("form",{onSubmit:S,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Fe,{htmlFor:"subject",children:"SubTask Subject *"}),u.jsx(Wt,{id:"subject",value:o.subject,onChange:A=>_("subject",A.target.value),placeholder:"Enter subtask subject...",className:d.subject?"border-red-500":""}),d.subject&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Fe,{htmlFor:"task",children:"Parent Task *"}),u.jsx(Wt,{id:"task",value:o.task,onChange:A=>_("task",A.target.value),placeholder:"Enter parent task ID...",className:d.task?"border-red-500":""}),d.task&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.task}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the Task ID that this subtask belongs to"})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Fe,{htmlFor:"description",children:"Description"}),u.jsx("textarea",{id:"description",value:o.description,onChange:A=>_("description",A.target.value),placeholder:"Enter subtask description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"assign_to",children:"Assign To"}),u.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:A=>_("assign_to",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:w,children:[u.jsx("option",{value:"",children:"Select user..."}),y==null?void 0:y.map(A=>u.jsx("option",{value:A.user||A.name,children:A.user||A.name},A.name))]}),w&&u.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Fe,{htmlFor:"priority",children:"Priority"}),u.jsxs("select",{id:"priority",value:o.priority,onChange:A=>_("priority",A.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"})]})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Fe,{htmlFor:"status",children:"Status"}),u.jsxs("select",{id:"status",value:o.status,onChange:A=>_("status",A.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Working",children:"Working"}),u.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]}),d.submit&&u.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),u.jsxs(Ts,{children:[u.jsx(Ye,{type:"button",variant:"outline",onClick:M,children:"Cancel"}),u.jsx(Ye,{type:"submit",disabled:p,children:p?"Creating...":"Create SubTask"})]})]})]})})};class ST{static useUpdateTask(){const{updateDoc:t,loading:n,error:s}=$s();return{updateTask:(o,l)=>ye(null,null,function*(){const h=l,{assign_to:d}=h,f=Me(h,["assign_to"]);return yield t("Task",o,fe(L({},f),{exp_start_date:f.exp_start_date||void 0,exp_end_date:f.exp_end_date||void 0}))}),isLoading:n,error:s}}static useTaskAssignment(){const{createDoc:t}=Pi(),{deleteDoc:n}=Vh(),{data:s}=Un("User","",{shouldFetch:!0});return{assignTask:(l,d,f,h="Medium")=>ye(null,null,function*(){return yield t("ToDo",{allocated_to:f,assigned_by:(s==null?void 0:s.name)||"",description:`Task: ${d}`,reference_type:"Task",reference_name:l,status:"Open",priority:h,date:new Date().toISOString().split("T")[0]})}),unassignTask:l=>ye(null,null,function*(){return yield n("ToDo",l)})}}}const HF=ST.useUpdateTask,VF=ST.useTaskAssignment,$F=({task:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{const{updateTask:o,isLoading:l,error:d}=HF(),{assignTask:f,unassignTask:h}=VF(),{updateTaskProgress:p}=BF(),{updateTaskProgressByStatus:g}=UF(),{data:b,isLoading:y}=ic(t),{data:w}=Un("Project",t),{data:_}=_n("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","Task"],["reference_name","=",(e==null?void 0:e.name)||""]]}),{data:j}=_n("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.name)||""]],limit:1}),[S,M]=N.useState({subject:"",status:"Open",priority:"Medium",exp_start_date:"",exp_end_date:"",progress:0,description:"",assign_to:""}),[A,k]=N.useState(!1);N.useEffect(()=>{var D;if(e){const V=((D=_==null?void 0:_[0])==null?void 0:D.allocated_to)||"";M({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:V})}},[e,_]),N.useEffect(()=>{k(!!(j&&j.length>0))},[j]);const C=(D,V)=>{M(te=>fe(L({},te),{[D]:V}))},O=D=>ye(null,null,function*(){var V,te,q;if(D.preventDefault(),!!e){if(S.exp_start_date&&S.exp_end_date){const W=new Date(S.exp_start_date);if(new Date(S.exp_end_date)<W){Xn.error("End date cannot be earlier than start date");return}}if(S.exp_end_date&&(w!=null&&w.expected_end_date)){const W=new Date(S.exp_end_date),re=new Date(w.expected_end_date);if(W>re){Xn.error(`Task end date cannot be after project end date (${w.expected_end_date})`);return}}try{const W=S.progress!==(e.progress||0),re=S.status!==e.status;A&&W?yield p(e.name,S.progress):re&&(S.status==="Completed"||S.status==="Cancelled")?yield g(e.name,S.status):yield o(e.name,S);const me=((V=_==null?void 0:_[0])==null?void 0:V.allocated_to)||"",Z=S.assign_to;if(me!==Z){if(me&&(_!=null&&_[0]))try{yield h(_[0].name)}catch(F){console.error("Error deleting old ToDo:",F)}if(Z)try{yield f(e.name,S.subject,Z,S.priority)}catch(F){console.error("Error creating new ToDo:",F)}}Xn.success("Task updated successfully",{description:`Task "${S.subject}" has been updated.`}),a&&a(),s()}catch(W){console.error("Error updating task:",W);let re="Failed to update task";(te=W==null?void 0:W.message)!=null&&te.includes("modified")?re="The task has been modified by someone else. Please close and reopen the task to get the latest version.":(q=W==null?void 0:W.message)!=null&&q.includes("permission")?re="You do not have permission to update this task.":W!=null&&W.message&&(re=W.message),Xn.error("Failed to update task",{description:re})}}}),H=()=>{var D;if(e){const V=((D=_==null?void 0:_[0])==null?void 0:D.allocated_to)||"";M({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:V})}s()};return u.jsx(Ss,{open:n,onOpenChange:s,children:u.jsxs(Ns,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[u.jsx(Es,{children:u.jsx(ks,{children:"Edit Task"})}),u.jsxs("form",{onSubmit:O,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"subject",children:"Subject *"}),u.jsx(Wt,{id:"subject",value:S.subject,onChange:D=>C("subject",D.target.value),required:!0,placeholder:"Enter task subject"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"status",children:"Status"}),u.jsxs("select",{id:"status",value:S.status,onChange:D=>C("status",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Working",children:"Working"}),u.jsx("option",{value:"Pending Review",children:"Pending Review"}),u.jsx("option",{value:"Overdue",children:"Overdue"}),u.jsx("option",{value:"Template",children:"Template"}),u.jsx("option",{value:"Completed",children:"Completed"}),u.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"priority",children:"Priority"}),u.jsxs("select",{id:"priority",value:S.priority,onChange:D=>C("priority",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"}),u.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"assign_to",children:"Assign To"}),u.jsxs("select",{id:"assign_to",value:S.assign_to,onChange:D=>C("assign_to",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:y,children:[u.jsx("option",{value:"",children:"Select user to assign (Optional)"}),b==null?void 0:b.map(D=>u.jsxs("option",{value:D.user||D.name,children:[D.full_name||D.name,D.email&&` (${D.email})`]},D.user||D.name))]}),y&&u.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!y&&b&&b.length>10&&u.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"}),_&&_.length>0&&u.jsx("p",{className:"text-sm text-blue-600",children:"💡 Changing assignment will update the ToDo automatically"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"exp_start_date",children:"Expected Start Date"}),u.jsx(Wt,{id:"exp_start_date",type:"date",value:S.exp_start_date,onChange:D=>C("exp_start_date",D.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"exp_end_date",children:"Expected End Date"}),u.jsx(Wt,{id:"exp_end_date",type:"date",value:S.exp_end_date,onChange:D=>C("exp_end_date",D.target.value),max:(w==null?void 0:w.expected_end_date)||void 0}),(w==null?void 0:w.expected_end_date)&&u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",w.expected_end_date]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"progress",children:"Progress (%)"}),u.jsx(Wt,{id:"progress",type:"number",min:"0",max:"100",value:S.progress,onChange:D=>C("progress",parseInt(D.target.value)||0),placeholder:"0",disabled:A}),A?u.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[u.jsx("strong",{children:"🔄 Smart Progress Mode:"}),u.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[u.jsx("li",{children:"Progress is automatically calculated from subtasks"}),u.jsx("li",{children:"Only assignee can manually override progress"}),u.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):u.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[u.jsx("strong",{children:"✏️ Manual Progress Mode:"}),u.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"description",children:"Description"}),u.jsx("textarea",{id:"description",value:S.description,onChange:D=>C("description",D.target.value),placeholder:"Enter task description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),d&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update task"]})}),u.jsxs(Ts,{className:"flex gap-2",children:[u.jsx(Ye,{type:"button",variant:"outline",onClick:H,children:"Cancel"}),u.jsx(Ye,{type:"submit",disabled:l,children:l?"Updating...":"Update Task"})]})]})]})})},qF=({task:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteDoc:a,loading:o,error:l}=Vh(),[d,f]=N.useState(!1),h=()=>ye(null,null,function*(){var g,b;if(e){f(!0);try{const y=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name"],filters:[["task","=",e.name]]})});if(y.ok){const _=(yield y.json()).message||[];if(_.length>0)for(const j of _)yield a("SubTask",j.name)}try{const w=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e.project]],orderBy:{field:"start_date",order:"asc"}})});if(w.ok){const j=(yield w.json()).message||[],S=[];for(const M of j)try{const A=yield fetch(`/api/resource/project_phase/${M.name}`,{headers:{Accept:"application/json"}});if(A.ok){const k=yield A.json(),C=((g=k.data)==null?void 0:g.tasks)||[],O=C.findIndex(H=>H.task===e.name);O>=0&&(console.log(`Found task ${e.name} in phase ${M.name}, will remove from child table...`),C.splice(O,1),S.push({name:M.name,data:fe(L({},k.data),{tasks:C})}))}else console.warn("Failed to fetch phase:",M.name)}catch(A){console.error("Error fetching phase:",M.name,A)}for(const M of S)try{(yield fetch(`/api/resource/project_phase/${M.name}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(M.data)})).ok?console.log(`Successfully removed task ${e.name} from phase ${M.name}`):console.warn(`Failed to update phase ${M.name} after removing task`)}catch(A){console.error(`Error updating phase ${M.name}:`,A)}}else console.warn("Failed to fetch phases list, proceeding with task deletion...")}catch(w){console.warn("Error checking phases for task references:",w)}yield a("Task",e.name),console.log(`Successfully deleted task ${e.name}`),s&&s(),n()}catch(y){console.error("Error deleting task:",y),(b=y==null?void 0:y.exception)!=null&&b.includes("LinkExistsError")?y.exception.includes("project_phase")||y.exception.includes("phase")?alert("Cannot delete task because it is still linked with project phases. The system tried to remove phase task links automatically but failed. Please contact administrator."):y.exception.includes("SubTask")?alert("Cannot delete task because it has linked subtasks. Please delete all subtasks first."):alert("Cannot delete task because it has linked dependencies. Please check related records."):alert("Error deleting task. Please try again.")}finally{f(!1)}}}),p=()=>{n()};return u.jsx(Ss,{open:t,onOpenChange:n,children:u.jsxs(Ns,{className:"sm:max-w-[400px]",children:[u.jsx(Es,{children:u.jsxs(ks,{className:"flex items-center gap-2 text-red-600",children:[u.jsx(Xh,{className:"h-5 w-5"}),"Delete Task"]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this task? This action cannot be undone."}),e&&u.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[u.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),e.project&&u.jsxs("div",{className:"text-sm text-blue-600",children:["Project: ",e.project]})]}),u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[u.jsxs("div",{className:"text-sm text-red-800",children:[u.jsx("strong",{children:"⚠️ Warning:"})," Deleting this task will automatically:"]}),u.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Delete ALL subtasks first"})," (to resolve SubTask dependencies)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Remove task from ALL phase child tables"})," (for any phases this task is assigned to)"]}),u.jsx("li",{children:"Remove all task progress data"}),u.jsx("li",{children:"Delete task timeline and activities"}),u.jsx("li",{children:"Remove related comments and attachments"})]}),u.jsx("div",{className:"text-xs text-red-600 mt-2 font-medium",children:"💡 The system will automatically search and handle ALL dependencies to prevent LinkExistsError."})]}),l&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete task"]})})]}),u.jsxs(Ts,{className:"flex gap-2",children:[u.jsx(Ye,{type:"button",variant:"outline",onClick:p,disabled:d,children:"Cancel"}),u.jsx(Ye,{type:"button",variant:"destructive",onClick:h,disabled:d||o,children:d?"Deleting Task & SubTasks...":o?"Deleting...":"Delete Task"})]})]})})};class Cy{static useProjectProgressFromPhases(){const{updateDoc:t}=$s();return{calculateAndUpdateProjectProgressFromPhases:s=>ye(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0){const{calculateAndUpdateProjectProgressFromTasks:h}=Cy.useProjectProgressFromTasks();return yield h(s)}let d=0;l.forEach(h=>{d+=h.progress||0});const f=Math.round(d/l.length);return yield t("Project",s,{percent_complete:f}),f}catch(a){return console.error("Error calculating project progress from phases:",a),null}})}}static useProjectProgressFromTasks(){const{updateDoc:t}=$s();return{calculateAndUpdateProjectProgressFromTasks:s=>ye(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0)return yield t("Project",s,{percent_complete:0}),0;let d=0;l.forEach(h=>{d+=h.progress||0});const f=Math.round(d/l.length);return yield t("Project",s,{percent_complete:f}),f}catch(a){return console.error("Error calculating project progress from tasks:",a),null}})}}static useProjectProgressCalculation(){const{updateDoc:t}=$s();return{calculateAndUpdateProjectProgress:s=>ye(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(l&&l.length>0){let d=0;l.forEach(h=>{d+=h.progress||0});const f=Math.round(d/l.length);return yield t("Project",s,{percent_complete:f}),{progress:f,source:"phases",count:l.length}}else{const d=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const h=(yield d.json()).message||[];if(!h||h.length===0)return yield t("Project",s,{percent_complete:0}),{progress:0,source:"none",count:0};let p=0;h.forEach(b=>{p+=b.progress||0});const g=Math.round(p/h.length);return yield t("Project",s,{percent_complete:g}),{progress:g,source:"tasks",count:h.length}}}catch(a){return console.error("Error calculating project progress:",a),null}})}}static useProjectStatusProgressUpdate(){const{updateDoc:t}=$s();return{updateProjectProgressByStatus:(s,a,o)=>ye(null,null,function*(){try{let l=o||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("Project",s,{status:a,percent_complete:l}),l}catch(l){return console.error("Error updating project progress by status:",l),null}})}}}const{useProjectProgressCalculation:IF}=Cy,Ay=()=>{const{calculateAndUpdatePhaseProgress:e}=_T(),{calculateAndUpdateProjectProgress:t}=IF();return{updatePhaseProgressForTask:(a,o)=>ye(null,null,function*(){try{const l=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","tasks"],filters:[["project","=",o]]})});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const h=((yield l.json()).message||[]).filter(p=>p.tasks&&p.tasks.some(g=>g.task===a));for(const p of h)console.log(`Updating progress for phase ${p.name} after task ${a} change`),yield e(p.name);return console.log(`Updating overall project progress for ${o} after task ${a} change`),yield t(o),console.log(`Updated progress for ${h.length} phases and project ${o} affected by task ${a}`),h}catch(l){return console.error("Error updating phase progress for task:",l),[]}}),updateProjectProgress:a=>ye(null,null,function*(){try{console.log(`Updating overall project progress for ${a}`);const o=yield t(a);return o&&console.log(`Project ${a} progress updated to ${o.progress}% from ${o.source} (${o.count} items)`),o}catch(o){return console.error("Error updating project progress:",o),null}})}},YF=({task:e,projectName:t,onBack:n,onViewSubTaskDetails:s,onTaskUpdated:a,onTaskDeleted:o})=>{const[l,d]=N.useState(!1),[f,h]=N.useState(!1),[p,g]=N.useState(!1),{updatePhaseProgressForTask:b}=Ay(),{calculateAndUpdateTaskProgress:y}=rd(),{data:w,isLoading:_,mutate:j}=_n("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:[["task","=",e.name]],orderBy:{field:"start_date",order:"asc"}}),{data:S}=_n("ToDo",{fields:["name","allocated_to","status"],filters:[["reference_type","=","Task"],["reference_name","=",e.name]],limit:1}),M=S&&S.length>0?S[0].allocated_to:null,{data:A}=Un("User",M||void 0,{fields:["name","full_name","email","user_image"]}),k=q=>q?new Date(q).toLocaleDateString():"N/A",C=q=>{switch(q){case"Completed":return u.jsx(Yh,{className:"h-5 w-5 text-green-600"});case"Working":return u.jsx(Kl,{className:"h-5 w-5 text-yellow-600"});case"Open":return u.jsx(ko,{className:"h-5 w-5 text-blue-600"});default:return u.jsx(ko,{className:"h-5 w-5 text-gray-400"})}},O=q=>{switch(q){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},H=q=>{switch(q){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},D=()=>{a&&a(),b(e.name,t).catch(console.error)},V=()=>{o&&o(),b(e.name,t).catch(console.error),n()},te=({subtask:q})=>{var me;const{data:W}=_n("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(q==null?void 0:q.name)||""]]}),re=(me=W==null?void 0:W[0])==null?void 0:me.allocated_to;return u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("span",{children:re})})};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(Ye,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[u.jsx(Nx,{className:"h-4 w-4"}),"Back to Tasks"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Ye,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"flex items-center gap-2",children:[u.jsx(zl,{className:"h-4 w-4"}),"Edit Task"]}),u.jsxs(Ye,{variant:"outline",size:"sm",onClick:()=>g(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[u.jsx(ql,{className:"h-4 w-4"}),"Delete Task"]})]})]}),u.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-xl p-6",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-orange-500 flex items-center justify-center",children:u.jsx("span",{className:"text-xl",children:"📝"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),u.jsx("p",{className:"text-sm text-gray-600",children:"Task Details"})]})]}),e.description&&u.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${O(e.status||"Open")}`,children:[C(e.status||"Open"),u.jsx("span",{className:"font-medium",children:e.status||"Open"})]}),e.priority&&u.jsx("div",{className:`px-3 py-1 rounded-full border ${H(e.priority)}`,children:u.jsx("span",{className:"text-sm font-medium",children:e.priority})})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Task Progress"}),u.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[e.progress||0,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:u.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${e.progress||0}%`}})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:u.jsx(wr,{className:"h-6 w-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:k(e.exp_start_date)})]})]})}),u.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:u.jsx(Cx,{className:"h-6 w-6 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:k(e.exp_end_date)})]})]})}),u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:u.jsx(Bu,{className:"h-6 w-6 text-green-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Assigned To"}),S&&S.length>0?u.jsxs("div",{children:[u.jsx("p",{className:"text-lg font-bold text-gray-900",children:(A==null?void 0:A.full_name)||M}),(A==null?void 0:A.email)&&u.jsx("p",{className:"text-sm text-gray-600",children:A.email})]}):u.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Task Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Task ID"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),u.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${O(e.status||"Open")}`,children:[C(e.status||"Open"),u.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),u.jsx("div",{className:`px-3 py-1 rounded-full ${H(e.priority||"Medium")}`,children:u.jsx("span",{className:"font-medium",children:e.priority||"Medium"})})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Subtasks Count"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:(w==null?void 0:w.length)||0})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:e.exp_start_date&&e.exp_end_date?`${Math.ceil((new Date(e.exp_end_date).getTime()-new Date(e.exp_start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),u.jsxs("span",{className:"text-xl font-bold text-orange-600",children:[e.progress||0,"%"]})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Assigned To"}),S&&S.length>0?u.jsx("div",{children:u.jsx("p",{className:"text-lg font-bold text-gray-900",children:(A==null?void 0:A.full_name)||M})}):u.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})]})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"SubTasks"})}),_?u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),u.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),u.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):u.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[u.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:u.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[u.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),u.jsx("div",{className:"col-span-5 text-sm font-medium text-gray-700",children:"SubTask"}),u.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),u.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Assign To"}),u.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),u.jsxs("div",{className:"divide-y divide-gray-100",children:[w&&w.length>0?w.map((q,W)=>u.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[u.jsx("div",{className:"col-span-1 flex items-center",children:u.jsx("span",{className:"text-sm text-gray-600",children:W+1})}),u.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[u.jsx("div",{className:"p-1 bg-green-100 rounded",children:u.jsx("span",{className:"text-sm",children:"✅"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-gray-900",children:q.subject||q.name}),u.jsx("div",{className:"text-sm text-gray-500",children:q.name})]})]}),u.jsx("div",{className:"col-span-2 flex items-center justify-center",children:u.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${O(q.status||"Open")}`,children:q.status||"Open"})}),u.jsx("div",{className:"col-span-2 flex items-center justify-center",children:u.jsx(te,{subtask:q})}),u.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&u.jsx(Ye,{variant:"outline",size:"sm",onClick:()=>s(q),className:"h-7 px-2 text-xs",children:"View Details"})})]},q.name)):u.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[u.jsx("div",{className:"text-4xl mb-2",children:"✅"}),u.jsx("div",{className:"text-lg font-medium mb-1",children:"No subtasks yet"}),u.jsx("div",{className:"text-sm",children:'Click "Add SubTask" to create the first subtask for this task'})]}),u.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:u.jsx("div",{className:"col-span-12 flex items-center justify-center",children:u.jsxs(Ye,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>d(!0),children:[u.jsx(Ci,{className:"h-4 w-4"}),"Add new subtask to this task"]})})})]})]})]}),u.jsx(FF,{isOpen:l,onClose:()=>d(!1),projectName:t,parentTask:e.name,onSuccess:()=>ye(null,null,function*(){console.log("SubTask created successfully for task:",e.name),j(),setTimeout(()=>ye(null,null,function*(){console.log("Recalculating task progress after subtask creation..."),yield y(e.name),setTimeout(()=>ye(null,null,function*(){console.log("Updating phase progress after task progress update..."),yield b(e.name,t)}),500)}),500)})}),u.jsx($F,{task:e,projectName:t,isOpen:f,onClose:()=>h(!1),onSuccess:D}),u.jsx(qF,{task:e,isOpen:p,onClose:()=>g(!1),onSuccess:V})]})},WF=({subtask:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var k;const{updateSubTask:o,isLoading:l,error:d}=LF(),{assignSubTask:f,unassignSubTask:h}=jT(),{calculateAndUpdateTaskProgress:p}=rd(),{data:g,isLoading:b}=ic(t),{data:y}=_n("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[w,_]=N.useState({subject:"",status:"Open",start_date:"",end_date:"",description:"",assign_to:""}),j=((k=y==null?void 0:y[0])==null?void 0:k.allocated_to)||"";N.useEffect(()=>{e&&_({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:j})},[e,j]);const S=(C,O)=>{_(H=>fe(L({},H),{[C]:O}))},M=C=>ye(null,null,function*(){if(C.preventDefault(),!!e)try{const O=w,{assign_to:H}=O,D=Me(O,["assign_to"]);yield o(e.name,D);const V=j,te=H;if(V&&V!==te){const q=y==null?void 0:y.find(W=>W.allocated_to===V);q&&(yield h(q.name))}te&&te!==V&&(yield f(e.name,te)),e.task&&D.status!==e.status&&(yield p(e.task)),a&&a(),s()}catch(H){console.error("Error updating subtask:",H)}}),A=()=>{e&&_({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:j}),s()};return u.jsx(Ss,{open:n,onOpenChange:s,children:u.jsxs(Ns,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[u.jsx(Es,{children:u.jsx(ks,{children:"Edit SubTask"})}),u.jsxs("form",{onSubmit:M,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"subject",children:"Subject *"}),u.jsx(Wt,{id:"subject",value:w.subject,onChange:C=>S("subject",C.target.value),required:!0,placeholder:"Enter subtask subject"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"status",children:"Status"}),u.jsxs("select",{id:"status",value:w.status,onChange:C=>S("status",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Working",children:"Working"}),u.jsx("option",{value:"Pending Review",children:"Pending Review"}),u.jsx("option",{value:"Completed",children:"Completed"}),u.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"start_date",children:"Start Date"}),u.jsx(Wt,{id:"start_date",type:"date",value:w.start_date,onChange:C=>S("start_date",C.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"end_date",children:"End Date"}),u.jsx(Wt,{id:"end_date",type:"date",value:w.end_date,onChange:C=>S("end_date",C.target.value)})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"description",children:"Description"}),u.jsx("textarea",{id:"description",value:w.description,onChange:C=>S("description",C.target.value),placeholder:"Enter subtask description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"assign_to",children:"Assign To"}),u.jsxs("select",{id:"assign_to",value:w.assign_to,onChange:C=>S("assign_to",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,children:[u.jsx("option",{value:"",children:"Select user..."}),g==null?void 0:g.map(C=>u.jsx("option",{value:C.user||C.name,children:C.user||C.name},C.name))]}),b&&u.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update subtask"]})}),u.jsxs(Ts,{className:"flex gap-2",children:[u.jsx(Ye,{type:"button",variant:"outline",onClick:A,children:"Cancel"}),u.jsx(Ye,{type:"submit",disabled:l,children:l?"Updating...":"Update SubTask"})]})]})]})})},XF=({subtask:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:o,error:l}=gs("frappe.client.delete"),{calculateAndUpdateTaskProgress:d}=rd(),f=()=>ye(null,null,function*(){if(e)try{if(yield a({doctype:"SubTask",name:e.name}),e.task)try{yield d(e.task)}catch(p){console.error("Error updating task progress after subtask deletion:",p)}s&&s(),n()}catch(p){console.error("Error deleting subtask:",p)}}),h=()=>{n()};return u.jsx(Ss,{open:t,onOpenChange:n,children:u.jsxs(Ns,{className:"sm:max-w-[400px]",children:[u.jsx(Es,{children:u.jsxs(ks,{className:"flex items-center gap-2 text-red-600",children:[u.jsx(Xh,{className:"h-5 w-5"}),"Delete SubTask"]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this subtask? This action cannot be undone."}),e&&u.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[u.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Task: ",e.task]})]}),u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[u.jsxs("div",{className:"text-sm text-red-800",children:[u.jsx("strong",{children:"Warning:"})," Deleting this subtask will also remove:"]}),u.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[u.jsx("li",{children:"All subtask progress data"}),u.jsx("li",{children:"Subtask timeline and activities"}),u.jsx("li",{children:"Related comments and attachments"}),u.jsx("li",{children:"Any associated time logs"})]})]}),l&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete subtask"]})})]}),u.jsxs(Ts,{className:"flex gap-2",children:[u.jsx(Ye,{type:"button",variant:"outline",onClick:h,children:"Cancel"}),u.jsx(Ye,{type:"button",variant:"destructive",onClick:f,disabled:o,children:o?"Deleting...":"Delete SubTask"})]})]})})},GF=({subtask:e,projectName:t,onBack:n,onSubTaskUpdated:s,onSubTaskDeleted:a})=>{var A;const[o,l]=N.useState(!1),[d,f]=N.useState(!1),{calculateAndUpdateTaskProgress:h}=rd(),{updatePhaseProgressForTask:p}=Ay(),{data:g}=_n("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),b=(A=g==null?void 0:g[0])==null?void 0:A.allocated_to,{data:y}=Un("User",b||"",{shouldFetch:!!b}),w=k=>k?new Date(k).toLocaleDateString():"N/A",_=k=>{switch(k){case"Completed":return u.jsx(Yh,{className:"h-5 w-5 text-green-600"});case"Working":return u.jsx(Kl,{className:"h-5 w-5 text-yellow-600"});case"Open":return u.jsx(ko,{className:"h-5 w-5 text-blue-600"});default:return u.jsx(ko,{className:"h-5 w-5 text-gray-400"})}},j=k=>{switch(k){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},S=()=>ye(null,null,function*(){if(e!=null&&e.task)try{yield h(e.task),setTimeout(()=>ye(null,null,function*(){try{yield p(e.task,t),console.log("Phase progress updated after subtask edit")}catch(k){console.error("Error updating phase progress after subtask edit:",k)}}),500)}catch(k){console.error("Error updating task progress after subtask edit:",k)}s&&s()}),M=()=>ye(null,null,function*(){if(e!=null&&e.task)try{yield h(e.task),setTimeout(()=>ye(null,null,function*(){try{yield p(e.task,t),console.log("Phase progress updated after subtask delete")}catch(k){console.error("Error updating phase progress after subtask delete:",k)}}),500)}catch(k){console.error("Error updating task progress after subtask delete:",k)}a&&a(),n()});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(Ye,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[u.jsx(Nx,{className:"h-4 w-4"}),"Back to Tasks"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Ye,{variant:"outline",size:"sm",onClick:()=>l(!0),className:"flex items-center gap-2",children:[u.jsx(zl,{className:"h-4 w-4"}),"Edit SubTask"]}),u.jsxs(Ye,{variant:"outline",size:"sm",onClick:()=>f(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[u.jsx(ql,{className:"h-4 w-4"}),"Delete SubTask"]})]})]}),u.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500 flex items-center justify-center",children:u.jsx("span",{className:"text-xl",children:"✅"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),u.jsx("p",{className:"text-sm text-gray-600",children:"SubTask Details"})]})]}),e.description&&u.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),u.jsx("div",{className:"flex items-center gap-3",children:u.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${j(e.status||"Open")}`,children:[_(e.status||"Open"),u.jsx("span",{className:"font-medium",children:e.status||"Open"})]})})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:u.jsx(wr,{className:"h-6 w-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:w(e.start_date)})]})]})}),u.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:u.jsx(Cx,{className:"h-6 w-6 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:w(e.end_date)})]})]})}),u.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:u.jsx(N2,{className:"h-6 w-6 text-orange-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-orange-600 uppercase tracking-wide",children:"Parent Task"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.task||"N/A"})]})]})})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"SubTask Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"SubTask ID"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Parent Task"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:e.task||"N/A"})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),u.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${j(e.status||"Open")}`,children:[_(e.status||"Open"),u.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:w(e.start_date)})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"End Date"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:w(e.end_date)})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:e.start_date&&e.end_date?`${Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-gray-100",children:[u.jsxs("span",{className:"text-gray-600 font-medium flex items-center gap-2",children:[u.jsx(Bu,{className:"h-4 w-4"}),"Assigned To"]}),u.jsx("span",{className:"text-gray-900 font-semibold",children:b?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{children:(y==null?void 0:y.full_name)||b}),(y==null?void 0:y.user_image)&&u.jsx("img",{src:y.user_image,alt:y.full_name||b,className:"h-6 w-6 rounded-full"})]}):u.jsx("span",{className:"text-gray-400",children:"Not assigned"})})]})]})]})]}),e.description&&u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Description"}),u.jsx("div",{className:"prose max-w-none",children:u.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.description})})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Activity Timeline"}),u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx("div",{className:"text-4xl mb-2",children:"📋"}),u.jsx("div",{className:"text-lg font-medium mb-1",children:"No activity yet"}),u.jsx("div",{className:"text-sm",children:"Activity and updates will appear here when available"})]})]}),u.jsx(WF,{subtask:e,projectName:t,isOpen:o,onClose:()=>l(!1),onSuccess:S}),u.jsx(XF,{subtask:e,isOpen:d,onClose:()=>f(!1),onSuccess:M})]})},_o=class _o{static useUserProjects(){const{currentUser:t}=$l(),{data:n,isLoading:s,error:a,mutate:o}=_n("Project",{fields:_o.PROJECT_FIELDS,filters:t?[["owner","=",t]]:[]}),{data:l,isLoading:d,error:f,mutate:h}=_n("Project",{fields:_o.PROJECT_FIELDS,limit:0}),p=J.useMemo(()=>{if(!t)return[];const b=w=>{const _=new Map;return w.forEach(j=>{var M;const S=j.name;if(!_.has(S)){const A={name:j.name,owner:j.owner,project_name:j.project_name,project_type:j.project_type,status:j.status,customer:j.customer,expected_start_date:j.expected_start_date,expected_end_date:j.expected_end_date,percent_complete:j.percent_complete,priority:j.priority,department:j.department,estimated_costing:j.estimated_costing,total_billable_amount:j.total_billable_amount,company:j.company,users:[]};_.set(S,A)}if(j.user){const A=_.get(S);((M=A.users)==null?void 0:M.some(C=>C.user===j.user))||(A.users=A.users||[],A.users.push({user:j.user,email:j.email,full_name:j.full_name,project_status:j.project_status}))}}),Array.from(_.values())};let y=[];if(n&&n.length>0&&(y=y.concat(n)),l&&l.length>0){const w=l.filter(_=>_.owner===t||_.user&&_.user===t);y=y.concat(w)}return b(y)},[n,l,t]),g=J.useCallback(()=>{o(),h()},[o,h]);return{data:p,isLoading:s||d,error:a&&f?a||f:null,mutate:g}}static useProject(t){const{data:n,isLoading:s,error:a,mutate:o}=Un("Project",t||"",t?"Project":void 0);return{data:n,isLoading:s,error:a,mutate:o}}static useProjectOwner(t){const{data:n,isLoading:s,error:a}=Un("User",t||"",t?void 0:null);return{data:n,isLoading:s,error:a}}static useCreateProject(){const{createDoc:t,loading:n,error:s}=Pi();return{createProject:o=>ye(null,null,function*(){return yield t("Project",fe(L({},o),{expected_start_date:o.expected_start_date||void 0,expected_end_date:o.expected_end_date||void 0}))}),isLoading:n,error:s}}static useUpdateProject(){const{updateDoc:t,loading:n,error:s}=$s();return{updateProject:(o,l)=>ye(null,null,function*(){return yield t("Project",o,fe(L({},l),{expected_start_date:l.expected_start_date||void 0,expected_end_date:l.expected_end_date||void 0}))}),isLoading:n,error:s}}static useDeleteProject(){const{call:t,loading:n,error:s}=gs("frappe.client.delete");return{deleteProject:o=>ye(null,null,function*(){return yield t({doctype:"Project",name:o})}),isLoading:n,error:s}}static useProjectMembers(){const{call:t}=gs("frappe.client.insert"),{call:n}=gs("frappe.client.save"),{call:s}=gs("frappe.client.delete");return{addMember:d=>ye(null,null,function*(){return yield t({doc:fe(L({doctype:"Project User"},d),{welcome_email_sent:1})})}),updateMember:(d,f)=>ye(null,null,function*(){return yield n({doc:L({doctype:"Project User",name:d},f)})}),removeMember:d=>ye(null,null,function*(){return yield s({doctype:"Project User",name:d})})}}static useProjectOwnerManagement(){const{call:t}=gs("frappe.client.save"),{call:n}=gs("frappe.client.set_value");return{transferOwner:(o,l)=>ye(null,null,function*(){try{return yield t({doc:{doctype:"Project",name:o,owner:l}}),{success:!0,method:"save"}}catch(d){try{return yield n({doctype:"Project",name:o,fieldname:"owner",value:l}),{success:!0,method:"set_value"}}catch(f){throw new Error("Owner field is protected by ERPNext")}}}),transferOwnerWithAPI:(o,l)=>ye(null,null,function*(){try{const d=yield fetch("/api/method/my_app.api.project_transfer.transfer_project_owner",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({project_name:o,new_owner:l})}),f=yield d.json();return d.ok&&f.message?{success:!0,data:f.message}:{success:!1,error:f.message||"Transfer failed"}}catch(d){return{success:!1,error:d instanceof Error?d.message:"Unknown error"}}})}}static useProjectUsers(t){const{data:n,isLoading:s,error:a,mutate:o}=Un("Project",t,{fields:["name","users"]});return{data:(n==null?void 0:n.users)||[],isLoading:s,error:a,mutate:o}}static useProjectUsersAlt(t){const{data:n,isLoading:s,error:a,mutate:o}=_n("Project User",{fields:["name","user","email","full_name","image"],filters:[["parent","=",t]],limit:0});return{data:n||[],isLoading:s,error:a,mutate:o}}};ft(_o,"PROJECT_FIELDS",["name","owner","project_name","project_type","status","customer","department","expected_start_date","expected_end_date","percent_complete","priority","estimated_costing","total_billable_amount","company","users.user","users.email","users.full_name","users.project_status"]),ft(_o,"DETAILED_PROJECT_FIELDS",[..._o.PROJECT_FIELDS,"creation","modified","modified_by","description","notes","expected_start_date","actual_start_date","actual_end_date","total_costing_amount","total_purchase_cost","total_sales_amount","total_billed_amount","users"]);let Wu=_o;const KF=Wu.useUserProjects,QF=Wu.useCreateProject,ZF=Wu.useUpdateProject;class JF{static useProjectCascadeDelete(){const{call:t}=gs("frappe.client.delete"),{call:n}=gs("frappe.client.get_list");return{deleteProjectCascade:a=>ye(null,null,function*(){try{console.log(`Starting cascade delete for project: ${a}`);try{const y=yield n({doctype:"Project",fields:["name"],filters:[["name","=",a]],limit_page_length:1});if(!(y!=null&&y.message)||y.message.length===0)throw new Error(`Project ${a} not found`)}catch(y){throw console.error("Project validation failed:",y),new Error(`Project validation failed: ${y instanceof Error?y.message:"Unknown validation error"}`)}let o=0,l=0,d=0;console.log("Step 1: Fetching all tasks...");let f=[];try{const y=yield n({doctype:"Task",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3});f=(y==null?void 0:y.message)||[],console.log(`Found ${f.length} tasks to delete`)}catch(y){console.error("Error fetching tasks:",y),console.log("Continuing with deletion despite task fetch error...")}if(f.length>0){console.log(`Step 2: Processing ${f.length} tasks for subtask deletion...`);for(const y of f){console.log(`Step 2: Deleting subtasks for task ${y.name}...`);try{const w=yield n({doctype:"SubTask",fields:["name"],filters:[["task","=",y.name]],limit_page_length:1e3}),_=(w==null?void 0:w.message)||[];console.log(`Found ${_.length} subtasks for task ${y.name}`);for(const j of _)try{console.log(`Deleting subtask: ${j.name}`),yield t({doctype:"SubTask",name:j.name}),o++,console.log(`Successfully deleted subtask: ${j.name}`),yield new Promise(S=>setTimeout(S,100))}catch(S){console.error(`Error deleting subtask ${j.name}:`,S)}}catch(w){console.error(`Error fetching subtasks for task ${y.name}:`,w)}}yield new Promise(y=>setTimeout(y,500))}if(f.length>0){console.log(`Step 3: Deleting ${f.length} tasks...`);for(const y of f)try{console.log(`Deleting task: ${y.name}`),yield t({doctype:"Task",name:y.name}),l++,console.log(`Successfully deleted task: ${y.name}`),yield new Promise(w=>setTimeout(w,100))}catch(w){console.error(`Error deleting task ${y.name}:`,w)}yield new Promise(y=>setTimeout(y,500))}console.log("Step 4: Deleting all phases...");let h=[];try{const y=yield n({doctype:"project_phase",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3});h=(y==null?void 0:y.message)||[],console.log(`Found ${h.length} phases to delete`)}catch(y){console.error("Error fetching phases:",y),console.log("Continuing with deletion despite phase fetch error...")}for(const y of h)try{console.log(`Deleting phase: ${y.name}`),yield t({doctype:"project_phase",name:y.name}),d++,console.log(`Successfully deleted phase: ${y.name}`),yield new Promise(w=>setTimeout(w,100))}catch(w){console.error(`Error deleting phase ${y.name}:`,w)}h.length>0&&(yield new Promise(y=>setTimeout(y,500))),console.log("Step 5: Deleting ToDo assignments...");try{const y=yield n({doctype:"ToDo",fields:["name"],filters:[["reference_type","in",["Project","Task","SubTask"]],["reference_name","like",`%${a}%`]],limit_page_length:1e3}),w=(y==null?void 0:y.message)||[];console.log(`Found ${w.length} ToDo assignments to delete`);for(const _ of w)try{yield t({doctype:"ToDo",name:_.name})}catch(j){console.error(`Error deleting ToDo ${_.name}:`,j)}}catch(y){console.error("Error fetching/deleting ToDo assignments:",y)}console.log("Step 6: Deleting project users...");try{const y=yield n({doctype:"Project User",fields:["name"],filters:[["parent","=",a]],limit_page_length:1e3}),w=(y==null?void 0:y.message)||[];console.log(`Found ${w.length} project users to delete`);for(const _ of w)try{yield t({doctype:"Project User",name:_.name})}catch(j){console.error(`Error deleting Project User ${_.name}:`,j)}}catch(y){console.error("Error fetching/deleting project users:",y)}console.log("Step 6.5: Performing comprehensive dependency cleanup...");const p=[{doctype:"Task",filter:[["project","=",a]]},{doctype:"SubTask",filter:[["project","=",a]]},{doctype:"project_phase",filter:[["project","=",a]]},{doctype:"Project User",filter:[["parent","=",a]]},{doctype:"ToDo",filter:[["reference_type","=","Project"],["reference_name","=",a]]},{doctype:"ToDo",filter:[["reference_type","=","Task"],["reference_name","like",`%${a}%`]]},{doctype:"Communication",filter:[["reference_doctype","=","Project"],["reference_name","=",a]]},{doctype:"File",filter:[["attached_to_doctype","=","Project"],["attached_to_name","=",a]]},{doctype:"Comment",filter:[["reference_doctype","=","Project"],["reference_name","=",a]]}];for(const y of p)try{console.log(`Checking for remaining ${y.doctype} dependencies...`);const w=yield n({doctype:y.doctype,fields:["name"],filters:y.filter,limit_page_length:1e3}),_=(w==null?void 0:w.message)||[];if(_.length>0){console.log(`Found ${_.length} remaining ${y.doctype} items, deleting them...`);for(const j of _)try{yield t({doctype:y.doctype,name:j.name}),console.log(`Deleted remaining ${y.doctype}: ${j.name}`),yield new Promise(S=>setTimeout(S,100))}catch(S){console.error(`Error deleting remaining ${y.doctype} ${j.name}:`,S)}}else console.log(`No remaining ${y.doctype} dependencies found.`)}catch(w){console.error(`Error checking ${y.doctype} dependencies:`,w)}yield new Promise(y=>setTimeout(y,1e3)),console.log("Step 7: Deleting the project..."),yield new Promise(y=>setTimeout(y,1e3));let g=0;const b=3;for(;g<b;)try{g++,console.log(`Attempting to delete project ${a} (attempt ${g}/${b})`),yield t({doctype:"Project",name:a}),console.log(`Verifying project ${a} deletion...`);try{const y=yield n({doctype:"Project",fields:["name"],filters:[["name","=",a]],limit_page_length:1});if(y!=null&&y.message&&y.message.length>0)throw new Error("Project still exists after deletion attempt");console.log(`Successfully verified project ${a} deletion`)}catch(y){if(y.message==="Project still exists after deletion attempt")throw y;console.log(`Project ${a} not found during verification - deletion successful`)}console.log(`Successfully deleted project: ${a}`);break}catch(y){if(console.error(`Error deleting project ${a} (attempt ${g}):`,y),g<b){console.log(`Waiting before retry attempt ${g+1}...`),yield new Promise(w=>setTimeout(w,2e3)),console.log("Attempting to clean up remaining dependencies...");try{const w=yield n({doctype:"Project User",fields:["name"],filters:[["parent","=",a]],limit_page_length:1e3}),_=(w==null?void 0:w.message)||[];if(_.length>0){console.log(`Found ${_.length} remaining project users, deleting them...`);for(const j of _)try{yield t({doctype:"Project User",name:j.name}),console.log(`Deleted remaining project user: ${j.name}`)}catch(S){console.error(`Error deleting remaining project user ${j.name}:`,S)}}}catch(w){console.error("Error during dependency cleanup:",w)}try{const w=yield n({doctype:"ToDo",fields:["name"],filters:[["reference_type","=","Project"],["reference_name","=",a]],limit_page_length:1e3}),_=(w==null?void 0:w.message)||[];if(_.length>0){console.log(`Found ${_.length} remaining todos, deleting them...`);for(const j of _)try{yield t({doctype:"ToDo",name:j.name}),console.log(`Deleted remaining todo: ${j.name}`)}catch(S){console.error(`Error deleting remaining todo ${j.name}:`,S)}}}catch(w){console.error("Error during todo cleanup:",w)}}else{let w="Unknown project deletion error";if(y&&typeof y=="object")if(console.error("Full project deletion error object:",JSON.stringify(y,null,2)),y.message)w=y.message;else if(y.exc)w=y.exc;else if(y._server_messages)try{const _=JSON.parse(y._server_messages);Array.isArray(_)&&_.length>0&&(w=JSON.parse(_[0]).message||w)}catch(_){console.error("Error parsing server messages:",_)}else w=JSON.stringify(y);else typeof y=="string"&&(w=y);throw new Error(`Failed to delete project ${a} after ${b} attempts: ${w}`)}}return console.log(`Successfully completed cascade delete for project: ${a}`),{success:!0,deletedItems:{subtasks:o,tasks:l,phases:d,project:1}}}catch(o){console.error("Error in cascade delete:",o);let l="Unknown error";throw o instanceof Error?l=o.message:typeof o=="string"?l=o:o&&typeof o=="object"&&(l=o.message||o.error||o.exc||JSON.stringify(o)),new Error(`Failed to delete project and related items: ${l}`)}})}}}const{useProjectCascadeDelete:eH}=JF;class Oy{static useUserTodos(){const{data:t}=Un("User","",{shouldFetch:!0}),{data:n,isLoading:s,error:a,mutate:o}=_n("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",(t==null?void 0:t.name)||""],["reference_type","=","Task"]],orderBy:{field:"creation",order:"desc"}},t!=null&&t.name?"user-todos":null);return{todos:n||[],isLoading:s,error:a,mutate:o,currentUser:t}}static useUserTodosEnriched(){const{data:t}=Un("User","",{shouldFetch:!0}),{data:n,isLoading:s,error:a,mutate:o}=nO("todo.api.get_user_todos_with_task_info",{user:(t==null?void 0:t.name)||""},t!=null&&t.name?"user-todos-enriched":null,{revalidateOnFocus:!1,revalidateOnReconnect:!1});return{todos:(n==null?void 0:n.message)||[],isLoading:s,error:a,mutate:o,currentUser:t}}static useUserTodosWithTaskData(){const{todos:t,isLoading:n,error:s,mutate:a,currentUser:o}=Oy.useUserTodos();return{todos:t.map(d=>(d.reference_type==="Task"&&d.reference_name,d)),isLoading:n,error:s,mutate:a,currentUser:o}}}const tH=Oy.useUserTodos,NT=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{updateProject:a,isLoading:o}=ZF(),{register:l,control:d,handleSubmit:f,reset:h,formState:{errors:p}}=Du({defaultValues:{project_name:"",customer:"",project_type:"",status:"Open",priority:"Medium",department:"",company:"",cost_center:"",expected_start_date:"",expected_end_date:"",notes:""}});N.useEffect(()=>{e&&h({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""})},[e,h]);const g=y=>ye(null,null,function*(){if(e)try{yield a(e.name,y),Xn.success("Project updated successfully"),s&&s(),n()}catch(w){let _="Edit project failed";if(w!=null&&w._server_messages)try{const j=JSON.parse(w._server_messages);Array.isArray(j)&&j.length>0&&(_=JSON.parse(j[0]).message||_)}catch(j){console.error("Parse error messages failed:",j)}else w!=null&&w.message&&(_=w.message);Xn.error("Update project failed",{description:_}),console.error("Error updating project:",w)}}),b=()=>{e&&h({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""}),n()};return u.jsx(Ss,{open:t,onOpenChange:n,children:u.jsxs(Ns,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[u.jsx(Es,{children:u.jsx(ks,{children:"Edit Project"})}),u.jsxs("form",{onSubmit:f(g),className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"project_name",children:"Project Name *"}),u.jsx(Wt,fe(L({id:"project_name"},l("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),p.project_name&&u.jsx("span",{className:"text-red-500 text-sm",children:p.project_name.message})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Fe,{children:"Customer"}),u.jsx(nr,{name:"customer",control:d,render:({field:y})=>u.jsx(sr,{doctype:"Customer",value:y.value||"",onChange:y.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Fe,{children:"Project Type"}),u.jsx(nr,{name:"project_type",control:d,render:({field:y})=>u.jsx(sr,{doctype:"Project Type",value:y.value||"",onChange:y.onChange,placeholder:"Select type...",className:"w-full"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Fe,{children:"Status"}),u.jsxs("select",fe(L({},l("status")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[u.jsx("option",{value:"",children:"Select status..."}),u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Completed",children:"Completed"}),u.jsx("option",{value:"Cancelled",children:"Cancelled"})]}))]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Fe,{children:"Priority"}),u.jsxs("select",fe(L({},l("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[u.jsx("option",{value:"",children:"Select priority..."}),u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"}),u.jsx("option",{value:"Critical",children:"Critical"})]}))]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Fe,{children:"Department"}),u.jsx(nr,{name:"department",control:d,render:({field:y})=>u.jsx(sr,{doctype:"Department",value:y.value||"",onChange:y.onChange,placeholder:"Select department...",className:"w-full"})})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Fe,{children:"Company"}),u.jsx(nr,{name:"company",control:d,render:({field:y})=>u.jsx(sr,{doctype:"Company",value:y.value||"",onChange:y.onChange,placeholder:"Select company...",className:"w-full"})})]})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Fe,{children:"Cost Center"}),u.jsx(nr,{name:"cost_center",control:d,render:({field:y})=>u.jsx(sr,{doctype:"Cost Center",value:y.value||"",onChange:y.onChange,placeholder:"Select cost center...",className:"w-full"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"expected_start_date",children:"Expected Start Date"}),u.jsx(Wt,L({id:"expected_start_date",type:"date"},l("expected_start_date")))]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"expected_end_date",children:"Expected End Date"}),u.jsx(Wt,L({id:"expected_end_date",type:"date"},l("expected_end_date")))]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Fe,{htmlFor:"notes",children:"Notes"}),u.jsx("textarea",fe(L({id:"notes"},l("notes")),{placeholder:"Enter project notes",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}))]}),u.jsxs(Ts,{className:"flex gap-2",children:[u.jsx(Ye,{type:"button",variant:"outline",onClick:b,children:"Cancel"}),u.jsx(Ye,{type:"submit",disabled:o,children:o?"Updating...":"Update Project"})]})]})]})})},ET=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteProjectCascade:a}=eH(),[o,l]=N.useState(!1),[d,f]=N.useState(null),[h,p]=N.useState(""),g=()=>ye(null,null,function*(){if(!e){console.error("No project selected for deletion"),Xn.error("Delete project failed",{description:"No project selected"});return}if(o){console.log("Delete already in progress, ignoring duplicate request");return}l(!0),f(null),p("Starting deletion...");try{console.log(`Starting deletion for project: ${e.name}`),p("Deleting subtasks..."),yield new Promise(w=>setTimeout(w,300)),p("Deleting tasks..."),yield new Promise(w=>setTimeout(w,300)),p("Deleting project phases..."),yield new Promise(w=>setTimeout(w,300)),p("Cleaning up dependencies..."),yield new Promise(w=>setTimeout(w,300)),p("Deleting project...");const y=yield a(e.name);p("Deletion completed successfully!"),console.log("Cascade deletion result:",y),Xn.success("Project deleted successfully",{description:`Project "${e.name}" and all related items have been deleted.`}),s&&s(),n()}catch(y){let w="Delete project failed",_=!1;if(y!=null&&y._server_messages)try{const j=JSON.parse(y._server_messages);Array.isArray(j)&&j.length>0&&(w=JSON.parse(j[0]).message||w)}catch(j){console.error("Parse error messages failed:",j)}else y!=null&&y.message&&(w=y.message,(w.includes("dependencies")||w.includes("linked")||w.includes("referenced")||w.includes("Unknown project deletion error"))&&(_=!0,w+=`

Tip: This error usually resolves on the second attempt. Please try again.`));console.error("Error deleting project:",y),Xn.error("Delete project failed",{description:w,duration:_?8e3:5e3}),f(y instanceof Error?y:new Error(w)),p("")}finally{l(!1)}}),b=()=>{o||(f(null),p(""),n())};return u.jsx(Ss,{open:t,onOpenChange:n,children:u.jsxs(Ns,{className:"sm:max-w-[400px]",children:[u.jsx(Es,{children:u.jsxs(ks,{className:"flex items-center gap-2 text-red-600",children:[u.jsx(Xh,{className:"h-5 w-5"}),"Delete Project"]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this project? This action cannot be undone."}),e&&u.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[u.jsx("div",{className:"font-medium text-gray-900",children:e.project_name}),u.jsx("div",{className:"text-sm text-gray-600",children:e.customer||"No customer"}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]})]}),u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[u.jsxs("div",{className:"text-sm text-red-800",children:[u.jsx("strong",{children:"Warning:"})," This will permanently delete in the following order:"]}),u.jsxs("ol",{className:"text-sm text-red-700 mt-1 ml-4 list-decimal",children:[u.jsx("li",{children:"All subtasks in all tasks"}),u.jsx("li",{children:"All tasks in the project"}),u.jsx("li",{children:"All project phases"}),u.jsx("li",{children:"All ToDo assignments"}),u.jsx("li",{children:"All project team members"}),u.jsx("li",{children:"The project itself"})]}),u.jsx("div",{className:"text-sm text-red-800 mt-2",children:u.jsx("strong",{children:"This action cannot be undone!"})})]}),o&&h&&u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(E0,{className:"h-4 w-4 animate-spin text-blue-600"}),u.jsxs("span",{className:"text-sm text-blue-800",children:[u.jsx("strong",{children:"Progress:"})," ",h]})]}),u.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Please wait while we delete all related items..."})]}),d&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",d.message||"Failed to delete project"]})})]}),u.jsxs(Ts,{className:"flex gap-2",children:[u.jsx(Ye,{type:"button",variant:"outline",onClick:b,disabled:o,children:o?"Deleting...":"Cancel"}),u.jsx(Ye,{type:"button",variant:"destructive",onClick:g,disabled:o,className:"min-w-[120px]",children:o?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(E0,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Project"})]})]})})};function TT({project:e,isOpen:t,onClose:n}){const[s,a]=N.useState("overview"),[o,l]=N.useState(null),[d,f]=N.useState(null),[h,p]=N.useState(null),[g,b]=N.useState(!1),[y,w]=N.useState(null),[_,j]=N.useState(!1),[S,M]=N.useState(!1),[A,k]=N.useState(!1),[C,O]=N.useState(!1),[H,D]=N.useState(!1),{updateProjectProgress:V}=Ay(),{data:te,isLoading:q,mutate:W}=Un("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),{data:re}=_n("project_phase",{fields:["name","progress"],filters:[["project","=",(e==null?void 0:e.name)||""]],orderBy:{field:"creation",order:"asc"}}),{data:me}=_n("Task",{fields:["name","progress"],filters:[["project","=",(e==null?void 0:e.name)||""]],orderBy:{field:"creation",order:"asc"}}),{call:Z}=gs("frappe.client.insert"),{call:F}=gs("frappe.client.save"),{call:Y}=gs("frappe.client.delete"),{call:G}=gs("frappe.client.set_value"),{data:ee,error:z,isLoading:ae}=Un("User",(e==null?void 0:e.owner)||"",e!=null&&e.owner?void 0:null),{data:we,mutate:I}=Un("SubTask",(h==null?void 0:h.name)||"",h!=null&&h.name?void 0:null),{data:oe,mutate:je}=Un("Task",(d==null?void 0:d.name)||"",d!=null&&d.name?void 0:null),{currentUser:ge}=$l(),Ee=(te==null?void 0:te.users)||(e==null?void 0:e.users)||[],Oe=q,We=N.useMemo(()=>{if(re&&re.length>0){const ke=re.reduce((Be,Dt)=>Be+(Dt.progress||0),0);return{progress:Math.round(ke/re.length),source:"phases",count:re.length}}else if(me&&me.length>0){const ke=me.reduce((Be,Dt)=>Be+(Dt.progress||0),0);return{progress:Math.round(ke/me.length),source:"tasks",count:me.length}}return{progress:(te==null?void 0:te.percent_complete)||(e==null?void 0:e.percent_complete)||0,source:"manual",count:0}},[re,me,te==null?void 0:te.percent_complete,e==null?void 0:e.percent_complete]),He=()=>ye(null,null,function*(){if(e!=null&&e.name){D(!0);try{yield V(e.name),yield W()}catch(ke){console.error("Error recalculating project progress:",ke)}finally{D(!1)}}}),it=()=>ye(null,null,function*(){if(h!=null&&h.name)try{yield I()}catch(ke){console.error("Error refreshing subtask data:",ke)}}),st=()=>ye(null,null,function*(){if(d!=null&&d.name)try{yield je()}catch(ke){console.error("Error refreshing task data:",ke)}}),vt=ke=>ye(null,null,function*(){(d==null?void 0:d.name)===ke&&(yield st())});N.useEffect(()=>{we&&(h==null?void 0:h.name)===we.name&&p(we)},[we,h==null?void 0:h.name]),N.useEffect(()=>{oe&&(d==null?void 0:d.name)===oe.name&&f(oe)},[oe,d==null?void 0:d.name]),N.useEffect(()=>{if(We.source!=="manual"&&(e!=null&&e.name)){const ke=(te==null?void 0:te.percent_complete)||(e==null?void 0:e.percent_complete)||0;Math.abs(We.progress-ke)>1&&He()}},[We.progress,re,me]);const Pe=Du(),gt=Du(),Vt=Du(),[jt,$t]=N.useState(!1),Ct=ke=>ye(null,null,function*(){if(e!=null&&e.name){$t(!0);try{if((Ee||[]).find(Sn=>Sn.user===ke.user)){alert("User is already a member of this project");return}yield Z({doc:{doctype:"Project User",parent:e.name,parenttype:"Project",parentfield:"users",user:ke.user,view_attachments:1,hide_timesheets:0,project_status:"Open",welcome_email_sent:1}}),setTimeout(()=>W(),1e3),b(!1),Pe.reset()}catch(Be){console.error("Error adding member:",Be);const Dt=Be instanceof Error?Be.message:String(Be);Dt.includes("Email Account")||Dt.includes("OutgoingEmailError")||Dt.includes("email")?(alert("Member may have been added, but welcome email failed. Please check the project members list and refresh if needed."),setTimeout(()=>W(),1e3),b(!1),Pe.reset()):alert("Failed to add member: "+Dt)}finally{$t(!1)}}}),X=ke=>ye(null,null,function*(){if(!(!y||!(e!=null&&e.name))){$t(!0);try{const Be=Ee.find(Dt=>Dt.user===y.user);if(!(Be!=null&&Be.name)){alert("User record not found");return}yield F({doc:{doctype:"Project User",name:Be.name,view_attachments:ke.view_attachments?1:0,hide_timesheets:ke.hide_timesheets?1:0,project_status:ke.project_status||""}}),setTimeout(()=>W(),1e3),j(!1),w(null),gt.reset()}catch(Be){console.error("Error updating member:",Be),alert("Failed to update member")}finally{$t(!1)}}}),ce=ke=>ye(null,null,function*(){if(e!=null&&e.name&&confirm("Are you sure you want to remove this member from the project?"))try{const Be=Ee.find(Dt=>Dt.user===ke);if(!(Be!=null&&Be.name)){alert("User record not found");return}yield Y({doctype:"Project User",name:Be.name}),setTimeout(()=>W(),1e3)}catch(Be){console.error("Error removing member:",Be),alert("Failed to remove member")}}),$=ke=>{w(ke),gt.reset({user:ke.user,view_attachments:!!ke.view_attachments,hide_timesheets:!!ke.hide_timesheets,project_status:ke.project_status||""}),j(!0)},Se=()=>(e==null?void 0:e.owner)===ge||ge==="Administrator",De=ke=>ye(null,null,function*(){if(e!=null&&e.name){$t(!0);try{yield W();const Be=te||e;try{yield F({doc:{doctype:"Project",name:e.name,owner:ke.owner,project_name:Be==null?void 0:Be.project_name,status:Be==null?void 0:Be.status,priority:Be==null?void 0:Be.priority,company:Be==null?void 0:Be.company,customer:Be==null?void 0:Be.customer,expected_start_date:Be==null?void 0:Be.expected_start_date,expected_end_date:Be==null?void 0:Be.expected_end_date,description:Be==null?void 0:Be.description,modified:new Date().toISOString(),modified_by:ke.owner}})}catch(Dt){console.log("Save method failed:",Dt);try{yield G({doctype:"Project",name:e.name,fieldname:"owner",value:ke.owner})}catch(Sn){if(console.log("Set value failed, falling back to Project Manager approach:",Sn),(Ee||[]).find(ds=>ds.user===ke.owner)){alert("Cannot change owner field (protected by ERPNext), but user is already a project member. Please edit their role manually.");return}yield Z({doc:{doctype:"Project User",parent:e.name,parenttype:"Project",parentfield:"users",user:ke.owner,view_attachments:1,hide_timesheets:0,project_status:"Project Manager (Owner Substitute)",welcome_email_sent:1}}),alert('Owner field is protected by ERPNext. Added user as "Project Manager (Owner Substitute)" instead with full permissions.')}}setTimeout(()=>W(),1e3),M(!1),Vt.reset()}catch(Be){console.error("Error changing owner:",Be);const Dt=Be instanceof Error?Be.message:String(Be);Dt.includes("Cannot edit standard fields")||Dt.includes("protects this field")?alert(`Cannot change project owner: ERPNext protects the owner field from modification.

Alternative solutions:
1. Add the user as Project Manager in the team members
2. Contact system administrator to manually update via backend
3. Use project permissions to grant the user full access

Admin command (run in ERPNext console):
frappe.db.sql("UPDATE tabProject SET owner = '${ke.owner}' WHERE name = '${e.name}'")`):alert("Failed to change owner: "+Dt)}finally{$t(!1)}}}),Re=ke=>{switch(ke){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},Ue=ke=>ke?new Date(ke).toLocaleDateString():"N/A",qe=()=>{k(!0)},Ke=()=>{O(!0)},xt=()=>{W(),by(ke=>typeof ke=="string"&&ke.includes("Project"),void 0,{revalidate:!0})},yn=()=>{n()};if(!e)return null;const ct=te||e;return u.jsxs(gF,{open:t,onOpenChange:n,direction:"right",children:[u.jsx(bF,{children:u.jsxs("div",{className:"w-full h-full overflow-y-auto p-6",children:[u.jsxs(vF,{className:"px-0 pb-6",children:[u.jsxs(_F,{className:"flex gap-4 justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:u.jsx("span",{className:"text-2xl font-bold text-white",children:ct.project_name.charAt(0).toUpperCase()})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:ct.project_name}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:`inline-flex px-4 py-2 text-sm font-semibold rounded-full ${Re(ct.status)}`,children:ct.status||"Open"}),ct.project_type&&u.jsx("span",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full",children:ct.project_type})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Ye,{variant:"outline",size:"sm",onClick:qe,className:"flex items-center gap-2",children:[u.jsx(zl,{className:"h-4 w-4"}),"Edit"]}),u.jsxs(Ye,{variant:"outline",size:"sm",onClick:Ke,className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[u.jsx(ql,{className:"h-4 w-4"}),"Delete"]}),u.jsx(Ye,{variant:"ghost",size:"sm",onClick:n,children:"X"})]})]}),u.jsx(jF,{className:"text-lg text-gray-600 mt-4",children:"Project Details and Progress Overview"}),u.jsxs("div",{className:"flex border-b border-gray-200 mt-6",children:[u.jsx("button",{onClick:()=>a("overview"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overview"}),u.jsx("button",{onClick:()=>a("tasks"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="tasks"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Tasks & Phases"}),u.jsxs("button",{onClick:()=>a("team"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="team"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[u.jsx(ah,{className:"h-4 w-4"}),"Team (",((Ee==null?void 0:Ee.length)||0)+1,")"]}),o&&u.jsxs("button",{onClick:()=>a("phase-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="phase-details"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📋 ",o.subject,u.jsx("span",{onClick:ke=>{ke.stopPropagation(),l(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close phase details",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d&&u.jsxs("button",{onClick:()=>a("task-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="task-details"?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📝 ",d.subject||d.name,u.jsx("span",{onClick:ke=>{ke.stopPropagation(),f(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close task details",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),h&&u.jsxs("button",{onClick:()=>a("subtask-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="subtask-details"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📌 ",h.subject||h.name,u.jsx("span",{onClick:ke=>{ke.stopPropagation(),p(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close subtask details",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),u.jsxs("div",{className:"space-y-8",children:[s==="overview"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Project Progress"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg font-medium text-gray-700",children:"Overall Progress"}),We.source!=="manual"&&u.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",We.count," ",We.source,")"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[We.progress,"%"]}),u.jsx(Ye,{variant:"ghost",size:"sm",onClick:He,disabled:H,className:"h-8 w-8 p-0",title:"Recalculate progress",children:u.jsx(kx,{className:`h-4 w-4 ${H?"animate-spin":""}`})})]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${We.progress}%`}})}),We.source==="phases"&&re&&u.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[u.jsx("div",{className:"font-medium mb-1",children:"Phase progress breakdown:"}),u.jsx("div",{className:"grid grid-cols-2 gap-1",children:re.map((ke,Be)=>u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("span",{children:["Phase ",Be+1,":"]}),u.jsxs("span",{children:[ke.progress||0,"%"]})]},ke.name))})]}),We.source==="tasks"&&u.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Progress calculated from ",We.count," direct tasks (no phases)"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:u.jsx(Bu,{className:"h-8 w-8 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Customer"}),u.jsx("p",{className:"text-xl font-bold text-gray-900",children:ct.customer||"N/A"})]})]})}),u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:u.jsx(Ex,{className:"h-8 w-8 text-green-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Budget"}),u.jsx("p",{className:"text-xl font-bold text-gray-900",children:bo(ct.estimated_costing)})]})]})}),u.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:u.jsx(wr,{className:"h-8 w-8 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"Deadline"}),u.jsx("p",{className:"text-xl font-bold text-gray-900",children:Ue(ct.expected_end_date)})]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Project Information"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:Ue(ct.expected_start_date)})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:ct.priority||"Medium"})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Department"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:ct.department||"N/A"})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Company"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:ct.company||"N/A"})]})]})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Financial Metrics"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Total Cost"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:bo(ct.total_costing_amount)})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Total Sales"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:bo(ct.total_sales_amount)})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Billable Amount"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:bo(ct.total_billable_amount)})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Gross Margin"}),u.jsx("span",{className:"text-lg font-bold text-green-600",children:bo(ct.gross_margin)})]})]})]})]})]}),s==="team"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(GD,{className:"h-6 w-6 text-yellow-600"}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Owner"})]}),Se()&&u.jsxs(Ye,{variant:"outline",size:"sm",onClick:()=>{Vt.reset({owner:(e==null?void 0:e.owner)||""}),M(!0)},className:"flex items-center gap-2",children:[u.jsx(zl,{className:"h-4 w-4"}),"Change Owner"]})]}),u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[u.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:u.jsx(Bu,{className:"h-6 w-6 text-yellow-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ae?"Loading...":ee!=null&&ee.full_name?ee.full_name:ct!=null&&ct.owner?ct.owner:"No Owner"}),u.jsx("p",{className:"text-sm text-gray-600",children:ae?"Loading email...":ee!=null&&ee.email?ee.email:ct!=null&&ct.owner?ct.owner:"No email"}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded",children:"Project Owner"}),(ee==null?void 0:ee.designation)&&u.jsx("span",{className:"text-xs text-gray-500",children:ee.designation}),z&&u.jsx("span",{className:"text-xs text-red-500",children:"(Error loading user details)"})]})]})]})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ah,{className:"h-6 w-6 text-blue-600"}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Team Members"}),u.jsxs("span",{className:"inline-flex px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:[(Ee==null?void 0:Ee.length)||0," members"]})]}),u.jsxs(Ye,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>b(!0),children:[u.jsx(Ci,{className:"h-4 w-4 mr-1"}),"Add Member"]})]}),Oe?u.jsxs("div",{className:"flex items-center justify-center py-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),u.jsx("span",{className:"ml-3 text-gray-600",children:"Loading team members..."})]}):Ee&&Ee.length>0?u.jsx("div",{className:"grid gap-4",children:Ee.map((ke,Be)=>u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[u.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center overflow-hidden",children:ke.image?u.jsx("img",{src:ke.image,alt:ke.full_name||ke.user,className:"h-full w-full object-cover"}):u.jsx("span",{className:"text-sm font-semibold text-blue-600",children:(ke.full_name||ke.user||"U").charAt(0).toUpperCase()})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-gray-900",children:ke.full_name||ke.user||"Unknown User"}),u.jsx("p",{className:"text-sm text-gray-600",children:ke.email||ke.user||"No email"}),ke.project_status&&u.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Status: ",ke.project_status]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:"Team Member"}),ke.view_attachments&&u.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded",children:"Can View Files"}),u.jsxs(Ye,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>$(ke),children:[u.jsx(zl,{className:"h-3 w-3 mr-1"}),"Edit"]}),u.jsxs(Ye,{size:"sm",variant:"outline",className:"text-xs text-red-600 hover:text-red-700",onClick:()=>ce(ke.user),children:[u.jsx(ql,{className:"h-3 w-3 mr-1"}),"Remove"]})]})]},ke.user||Be))}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx(ah,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No team members added yet"}),u.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Add team members to collaborate on this project"}),u.jsxs(Ye,{className:"mt-4 bg-blue-600 hover:bg-blue-700",onClick:()=>b(!0),children:[u.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Add First Member"]})]})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Statistics"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[u.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((Ee==null?void 0:Ee.length)||0)+1}),u.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),u.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[u.jsx("p",{className:"text-2xl font-bold text-green-600",children:"1"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Project Owner"})]}),u.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[u.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(Ee==null?void 0:Ee.length)||0}),u.jsx("p",{className:"text-sm text-gray-600",children:"Team Members"})]}),u.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[u.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(e==null?void 0:e.percent_complete)||0,"%"]}),u.jsx("p",{className:"text-sm text-gray-600",children:"Progress"})]})]})]})]}),s==="tasks"&&u.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:u.jsx(TF,{projectName:e.name,onViewPhaseDetails:ke=>{l(ke),a("phase-details")},onViewTaskDetails:ke=>{f(ke),a("task-details")},onViewSubTaskDetails:ke=>{p(ke),a("subtask-details")}})}),s==="phase-details"&&o&&u.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:u.jsx(MF,{phase:o,projectName:e.name,onBack:()=>a("tasks"),onViewTaskDetails:ke=>{f(ke),a("task-details")},onPhaseUpdated:()=>ye(null,null,function*(){W(),setTimeout(()=>ye(null,null,function*(){yield He()}),500)}),onPhaseDeleted:()=>ye(null,null,function*(){W(),a("tasks"),l(null),setTimeout(()=>ye(null,null,function*(){yield He()}),500)}),onTaskCreated:()=>ye(null,null,function*(){W(),setTimeout(()=>ye(null,null,function*(){yield He()}),500)})})}),s==="task-details"&&d&&u.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:u.jsx(YF,{task:d,projectName:e.name,onBack:()=>a("tasks"),onViewSubTaskDetails:ke=>{p(ke),a("subtask-details")},onTaskUpdated:()=>ye(null,null,function*(){W(),yield st(),setTimeout(()=>ye(null,null,function*(){yield He()}),500)}),onTaskDeleted:()=>ye(null,null,function*(){W(),a("tasks"),f(null),setTimeout(()=>ye(null,null,function*(){yield He()}),500)})})}),s==="subtask-details"&&h&&u.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:u.jsx(GF,{subtask:h,projectName:e.name,onBack:()=>a("tasks"),onSubTaskUpdated:()=>ye(null,null,function*(){W(),yield it(),h!=null&&h.task&&(yield vt(h.task)),setTimeout(()=>ye(null,null,function*(){yield He()}),500)}),onSubTaskDeleted:()=>ye(null,null,function*(){W(),a("tasks"),p(null),setTimeout(()=>ye(null,null,function*(){yield He()}),500)})})})]}),u.jsx(wF,{className:"px-0 mt-8 pt-6 border-t border-gray-200",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsx(Ye,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",onClick:()=>a("tasks"),children:"View Tasks"}),u.jsx(Ye,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",children:"View Timeline"})]})})]})}),u.jsx(Ss,{open:g,onOpenChange:b,children:u.jsx(Ns,{className:"sm:max-w-md",children:u.jsxs("form",{onSubmit:Pe.handleSubmit(Ct),children:[u.jsxs(Es,{children:[u.jsx(ks,{children:"Add Team Member"}),u.jsx(To,{children:"Add a new member to the project team."})]}),u.jsx("div",{className:"grid gap-4 py-4",children:u.jsxs("div",{className:"grid gap-2",children:[u.jsxs(Fe,{children:["User ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(nr,{name:"user",control:Pe.control,rules:{required:"Please select a user"},render:({field:ke})=>u.jsx(sr,{doctype:"User",value:ke.value||"",onChange:ke.onChange,placeholder:"Select user...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email"],className:"w-full"})}),Pe.formState.errors.user&&u.jsx("span",{className:"text-red-500 text-sm",children:Pe.formState.errors.user.message})]})}),u.jsxs(Ts,{children:[u.jsx(Ye,{type:"button",variant:"outline",onClick:()=>{b(!1),Pe.reset()},children:"Cancel"}),u.jsx(Ye,{type:"submit",disabled:jt,className:"bg-blue-600 hover:bg-blue-700",children:jt?"Adding...":"Add Member"})]})]})})}),u.jsx(Ss,{open:_,onOpenChange:j,children:u.jsx(Ns,{className:"sm:max-w-md",children:u.jsxs("form",{onSubmit:gt.handleSubmit(X),children:[u.jsxs(Es,{children:[u.jsx(ks,{children:"Edit Team Member"}),u.jsxs(To,{children:["Update member settings for ",(y==null?void 0:y.full_name)||(y==null?void 0:y.user),"."]})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Fe,{children:"User"}),u.jsx(Wt,{value:(y==null?void 0:y.full_name)||(y==null?void 0:y.user)||"",disabled:!0,className:"bg-gray-100"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Fe,{children:"Project Status"}),u.jsx(Wt,fe(L({},gt.register("project_status")),{placeholder:"Enter project status for this member..."}))]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",fe(L({type:"checkbox",id:"edit_view_attachments"},gt.register("view_attachments")),{className:"rounded border-gray-300"})),u.jsx(Fe,{htmlFor:"edit_view_attachments",className:"text-sm",children:"Can view attachments"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",fe(L({type:"checkbox",id:"edit_hide_timesheets"},gt.register("hide_timesheets")),{className:"rounded border-gray-300"})),u.jsx(Fe,{htmlFor:"edit_hide_timesheets",className:"text-sm",children:"Hide timesheets from this user"})]})]}),u.jsxs(Ts,{children:[u.jsx(Ye,{type:"button",variant:"outline",onClick:()=>{j(!1),w(null),gt.reset()},children:"Cancel"}),u.jsx(Ye,{type:"submit",disabled:jt,className:"bg-blue-600 hover:bg-blue-700",children:jt?"Updating...":"Update Member"})]})]})})}),u.jsx(Ss,{open:S,onOpenChange:M,children:u.jsx(Ns,{className:"sm:max-w-md",children:u.jsxs("form",{onSubmit:Vt.handleSubmit(De),children:[u.jsxs(Es,{children:[u.jsx(ks,{children:"Change Project Owner"}),u.jsx(To,{children:"Attempt to change the project owner. Note: ERPNext may protect this field, in which case we'll add the user as Project Manager instead."})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsxs(Fe,{children:["New Owner ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(nr,{name:"owner",control:Vt.control,rules:{required:"Please select a new owner"},render:({field:ke})=>u.jsx(sr,{doctype:"User",value:ke.value||"",onChange:ke.onChange,placeholder:"Select new owner...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email"],className:"w-full"})}),Vt.formState.errors.owner&&u.jsx("span",{className:"text-red-500 text-sm",children:Vt.formState.errors.owner.message})]}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:u.jsxs("p",{className:"text-sm text-blue-800",children:[u.jsx("strong",{children:"Note:"}),' This will attempt to change the actual project owner. If that fails (due to ERPNext protection), the user will be added as "Project Manager (Owner Substitute)" with full permissions.']})})]}),u.jsxs(Ts,{children:[u.jsx(Ye,{type:"button",variant:"outline",onClick:()=>{M(!1),Vt.reset()},children:"Cancel"}),u.jsx(Ye,{type:"submit",disabled:jt,className:"bg-yellow-600 hover:bg-yellow-700",children:jt?"Changing Owner...":"Change Owner"})]})]})})}),u.jsx(NT,{project:e,isOpen:A,onClose:()=>k(!1),onSuccess:xt}),u.jsx(ET,{project:e,isOpen:C,onClose:()=>O(!1),onSuccess:yn})]})}const kT=({project:e,onProjectUpdated:t,onProjectDeleted:n,onCloseDrawer:s})=>{const[a,o]=N.useState(!1),[l,d]=N.useState(!1),[f,h]=N.useState(!1),p=w=>{w&&w.stopPropagation(),o(!0),h(!1)},g=w=>{w&&w.stopPropagation(),d(!0),h(!1)},b=()=>{t&&t()},y=()=>{n&&n(),s&&s()};return u.jsxs(u.Fragment,{children:[u.jsxs(Yx,{open:f,onOpenChange:h,children:[u.jsx(Wx,{asChild:!0,children:u.jsx(Ye,{variant:"ghost",size:"sm",onClick:w=>{w.stopPropagation(),h(!f)},className:"h-8 w-8 p-0",children:u.jsx(ZD,{className:"h-4 w-4"})})}),u.jsx(Xx,{className:"w-48 p-2",align:"end",onClick:w=>w.stopPropagation(),children:u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Ye,{variant:"ghost",size:"sm",onClick:w=>p(w),className:"w-full justify-start text-left",children:[u.jsx(bM,{className:"mr-2 h-4 w-4"}),"Edit Project"]}),u.jsxs(Ye,{variant:"ghost",size:"sm",onClick:w=>g(w),className:"w-full justify-start text-left text-red-600 hover:text-red-700 hover:bg-red-50",children:[u.jsx(ql,{className:"mr-2 h-4 w-4"}),"Delete Project"]})]})})]}),u.jsx(NT,{project:e,isOpen:a,onClose:()=>o(!1),onSuccess:b}),u.jsx(ET,{project:e,isOpen:l,onClose:()=>d(!1),onSuccess:y})]})},nH=({projects:e,onProjectsChange:t})=>{const[n,s]=N.useState(null),[a,o]=N.useState(!1),l=h=>{s(h),o(!0)},d=()=>{o(!1),s(null)},f=h=>{switch(h){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map(h=>u.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 hover:shadow-md transition-shadow duration-200 cursor-pointer",onClick:()=>l(h),children:[u.jsx("div",{className:"h-48 bg-gray-200 flex items-center justify-center",children:u.jsx("div",{className:"text-4xl font-bold text-gray-400",children:h.project_name.charAt(0).toUpperCase()})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate flex-1",children:h.project_name}),u.jsxs("div",{className:"flex items-center gap-2",onClick:p=>p.stopPropagation(),children:[u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(h.status)}`,children:h.status||"Open"}),u.jsx(kT,{project:h,onProjectUpdated:t,onProjectDeleted:t,onCloseDrawer:d})]})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:h.project_type||"N/A"}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),u.jsxs("span",{className:"text-sm text-gray-600",children:[h.percent_complete||0,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${h.percent_complete||0}%`}})})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[u.jsx("span",{children:h.customer||"N/A"}),u.jsx("span",{children:bo(h.estimated_costing)})]})]})]},h.name))}),u.jsx(TT,{project:n,isOpen:a,onClose:d})]})},sH=({projects:e,onProjectsChange:t})=>{const[n,s]=N.useState(null),[a,o]=N.useState(!1),l=p=>{s(p),o(!0)},d=()=>{o(!1),s(null)},f=p=>{switch(p){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},h=p=>p?new Date(p).toLocaleDateString():"N/A";return u.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[u.jsx("div",{className:"overflow-hidden",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deadline"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(p=>u.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>l(p),children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:u.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-bold text-gray-600",children:p.project_name.charAt(0).toUpperCase()})})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.project_name}),u.jsx("div",{className:"text-sm text-gray-500",children:p.project_type||"N/A"})]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(p.status)}`,children:p.status||"Open"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${p.percent_complete||0}%`}})}),u.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[p.percent_complete||0,"%"]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.customer||"N/A"}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:bo(p.estimated_costing)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h(p.expected_end_date)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",onClick:g=>g.stopPropagation(),children:u.jsx(kT,{project:p,onProjectUpdated:t,onProjectDeleted:t,onCloseDrawer:d})})]},p.name))})]})}),u.jsx(TT,{project:n,isOpen:a,onClose:d})]})},rH=({onProjectCreated:e})=>{const[t,n]=N.useState(!1),{createProject:s,isLoading:a}=QF(),{register:o,control:l,handleSubmit:d,reset:f,formState:{errors:h,isSubmitting:p}}=Du({defaultValues:{status:"Open",priority:"Medium"}}),g=b=>ye(null,null,function*(){try{yield s(b),f(),n(!1),by(y=>typeof y=="string"&&y.includes("Project"),void 0,{revalidate:!0}),Xn.success("Project created successfully"),e&&e()}catch(y){let w="Create project failed";if(y!=null&&y._server_messages)try{const _=JSON.parse(y._server_messages);Array.isArray(_)&&_.length>0&&(w=JSON.parse(_[0]).message||w)}catch(_){console.error("Parse error messages failed:",_)}else y!=null&&y.message&&(w=y.message);Xn.error("Create project failed",{description:w}),console.error("Error creating project:",y)}});return u.jsxs(Ss,{open:t,onOpenChange:n,children:[u.jsx(O8,{asChild:!0,children:u.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[u.jsx(Ci,{className:"mr-2 h-4 w-4"}),"New Project"]})}),u.jsx(Ns,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:u.jsxs("form",{onSubmit:d(g),children:[u.jsxs(Es,{children:[u.jsx(ks,{children:"Create New Project"}),u.jsx(To,{children:"Fill in the project details. Fields marked with * are required."})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsxs(Fe,{htmlFor:"project_name",children:["Project Name ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(Wt,fe(L({id:"project_name"},o("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),h.project_name&&u.jsx("span",{className:"text-red-500 text-sm",children:h.project_name.message})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Fe,{children:"Customer"}),u.jsx(nr,{name:"customer",control:l,render:({field:b})=>u.jsx(sr,{doctype:"Customer",value:b.value||"",onChange:b.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Fe,{children:"Project Type"}),u.jsx(nr,{name:"project_type",control:l,render:({field:b})=>u.jsx(sr,{doctype:"Project Type",value:b.value||"",onChange:b.onChange,placeholder:"Select type...",className:"w-full"})})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsxs(Fe,{children:["Status ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",fe(L({},o("status",{required:"Status is required"})),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Completed",children:"Completed"}),u.jsx("option",{value:"Cancelled",children:"Cancelled"})]}))]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Fe,{children:"Priority"}),u.jsxs("select",fe(L({},o("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[u.jsx("option",{value:"",children:"Select priority..."}),u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"}),u.jsx("option",{value:"Critical",children:"Critical"})]}))]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Fe,{children:"Department"}),u.jsx(nr,{name:"department",control:l,render:({field:b})=>u.jsx(sr,{doctype:"Department",value:b.value||"",onChange:b.onChange,placeholder:"Select department...",className:"w-full"})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Fe,{children:"Company"}),u.jsx(nr,{name:"company",control:l,render:({field:b})=>u.jsx(sr,{doctype:"Company",value:b.value||"",onChange:b.onChange,placeholder:"Select company...",className:"w-full"})})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Fe,{children:"Cost Center"}),u.jsx(nr,{name:"cost_center",control:l,render:({field:b})=>u.jsx(sr,{doctype:"Cost Center",value:b.value||"",onChange:b.onChange,placeholder:"Select cost center...",displayField:"cost_center_name",valueField:"name",className:"w-full"})})]})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Fe,{children:"Project Template"}),u.jsx(nr,{name:"project_template",control:l,render:({field:b})=>u.jsx(sr,{doctype:"Project Template",value:b.value||"",onChange:b.onChange,placeholder:"Select project template...",className:"w-full"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Fe,{children:"Expected Start Date"}),u.jsx(Wt,L({type:"date"},o("expected_start_date")))]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Fe,{children:"Expected End Date"}),u.jsx(Wt,L({type:"date"},o("expected_end_date")))]})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Fe,{children:"Notes"}),u.jsx("textarea",fe(L({},o("notes")),{placeholder:"Enter project notes...",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}))]})]}),u.jsxs(Ts,{children:[u.jsx(D8,{asChild:!0,children:u.jsx(Ye,{type:"button",variant:"outline",children:"Cancel"})}),u.jsx(Ye,{type:"submit",disabled:p||a,className:"bg-blue-600 hover:bg-blue-700",children:p||a?"Creating...":"Create Project"})]})]})})]})},aH=()=>{const[e,t]=J.useState("grid"),{data:n=[],isLoading:s,error:a,mutate:o}=KF(),l=()=>{o&&o()};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Projects"}),u.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Showing projects you have access to (",n.length," projects)"]})]}),u.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:u.jsx(rH,{onProjectCreated:l})})]}),u.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Wh,{className:"h-4 w-4 text-gray-400"})}),u.jsx("input",{type:"text",className:"block w-64 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects..."})]}),u.jsxs("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[u.jsx(Tx,{className:"mr-2 h-4 w-4"}),"Filter"]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>t("grid"),className:`p-2 rounded-md ${e==="grid"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:u.jsx(iM,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>t("list"),className:`p-2 rounded-md ${e==="list"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:u.jsx(uM,{className:"h-4 w-4"})})]})]})}),s?u.jsx("div",{className:"flex justify-center items-center p-8",children:u.jsx("div",{className:"text-gray-500",children:"Loading projects..."})}):a?u.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-red-50 rounded-lg border border-red-200",children:u.jsxs("div",{className:"text-red-700 text-center",children:[u.jsx("p",{className:"text-lg font-medium mb-2",children:"Error loading projects"}),u.jsx("p",{className:"text-sm mb-2",children:a.message}),a.message.includes("PermissionError")&&u.jsxs("div",{className:"text-sm text-red-600 bg-red-100 p-3 rounded mt-2",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Permission Issue:"})," You don't have access to view projects."]}),u.jsx("p",{children:"Please contact your system administrator to:"}),u.jsxs("ul",{className:"list-disc list-inside mt-1",children:[u.jsx("li",{children:'Grant you "Read" permission for Project doctype'}),u.jsx("li",{children:"Add you to projects as a team member"}),u.jsx("li",{children:"Make you the owner of projects"})]})]})]})}):n.length===0?u.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:u.jsxs("div",{className:"text-gray-500 text-center",children:[u.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects found"}),u.jsx("p",{className:"text-sm",children:"You are not currently participating in any projects."}),u.jsx("p",{className:"text-sm",children:"Create a new project or ask to be added to an existing one."})]})}):u.jsx(u.Fragment,{children:e==="grid"?u.jsx(nH,{projects:n,onProjectsChange:l}):u.jsx(sH,{projects:n,onProjectsChange:l})})]})},iH={Todo:"bg-gray-100 text-gray-800","In Progress":"bg-blue-100 text-blue-800",Done:"bg-green-100 text-green-800",Blocked:"bg-red-100 text-red-800"},oH={Low:"bg-green-100 text-green-800",Medium:"bg-yellow-100 text-yellow-800",High:"bg-red-100 text-red-800"},lH=()=>{const[e,t]=J.useState("All"),[n,s]=J.useState("All"),[a,o]=J.useState(""),{todos:l,isLoading:d,error:f,mutate:h,currentUser:p}=tH();console.log(l);const g=J.useMemo(()=>l.map(w=>({id:w.name,title:w.reference_name||"Untitled Task",description:w.description||"No description available",project:"Unknown Project",assignee:(p==null?void 0:p.full_name)||(p==null?void 0:p.name)||"Unknown",status:w.status==="Open"?"Todo":w.status==="Closed"?"Done":"Todo",priority:w.priority||"Medium",dueDate:w.date||new Date().toISOString().split("T")[0],labels:[w.reference_type||"Task"],todoId:w.name,referenceName:w.reference_name,referenceType:w.reference_type})),[l,p]),b=J.useMemo(()=>g.filter(w=>{const _=e==="All"||w.status===e,j=n==="All"||w.priority===n,S=a===""||w.title.toLowerCase().includes(a.toLowerCase())||w.description.toLowerCase().includes(a.toLowerCase());return _&&j&&S}),[g,e,n,a]),y=()=>{h()};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"My Tasks"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track and manage all your assigned tasks"})]}),u.jsxs("div",{className:"mt-4 flex space-x-2 md:mt-0 md:ml-4",children:[u.jsxs("button",{onClick:y,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",disabled:d,children:[u.jsx(kx,{className:`mr-2 h-4 w-4 ${d?"animate-spin":""}`}),"Refresh"]}),u.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[u.jsx(Ci,{className:"mr-2 h-4 w-4"}),"New Task"]})]})]}),f&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:u.jsx("div",{className:"flex",children:u.jsxs("div",{className:"ml-3",children:[u.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading tasks"}),u.jsx("div",{className:"mt-2 text-sm text-red-700",children:u.jsx("p",{children:f.message||"Failed to load your tasks. Please try again."})})]})})}),u.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Wh,{className:"h-4 w-4 text-gray-400"})}),u.jsx("input",{type:"text",value:a,onChange:w=>o(w.target.value),className:"block w-64 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search tasks..."})]}),u.jsxs("select",{value:e,onChange:w=>t(w.target.value),className:"border border-gray-300 rounded-md text-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"All",children:"All Status"}),u.jsx("option",{value:"Todo",children:"Todo"}),u.jsx("option",{value:"In Progress",children:"In Progress"}),u.jsx("option",{value:"Done",children:"Done"}),u.jsx("option",{value:"Blocked",children:"Blocked"})]}),u.jsxs("select",{value:n,onChange:w=>s(w.target.value),className:"border border-gray-300 rounded-md text-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"All",children:"All Priority"}),u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"})]})]}),u.jsxs("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[u.jsx(Tx,{className:"mr-2 h-4 w-4"}),"More Filters"]})]})}),u.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["My Assigned Tasks (",b.length,")"]}),d&&u.jsx("div",{className:"text-sm text-gray-500",children:"Loading..."})]})}),u.jsx("div",{className:"divide-y divide-gray-200",children:d&&b.length===0?u.jsxs("div",{className:"p-6 text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading your tasks..."})]}):b.length===0?u.jsx("div",{className:"p-6 text-center",children:u.jsx("p",{className:"text-sm text-gray-500",children:a||e!=="All"||n!=="All"?"No tasks match your current filters.":"No tasks assigned to you yet."})}):b.map(w=>u.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors duration-200",children:u.jsxs("div",{className:"flex items-start space-x-4",children:[u.jsx("div",{className:"flex-shrink-0 pt-1",children:u.jsx("input",{type:"checkbox",checked:w.status==="Done",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",readOnly:!0})}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:w.title}),u.jsx("p",{className:"text-sm text-gray-600 mb-3",children:w.description}),u.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[w.labels.map(_=>u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:_},_)),w.referenceName&&u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:w.referenceName})]}),u.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(wr,{className:"mr-1 h-3 w-3"}),w.dueDate]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Bu,{className:"mr-1 h-3 w-3"}),w.assignee]}),u.jsx("div",{className:"flex items-center",children:u.jsx("span",{children:w.project})})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${iH[w.status]}`,children:w.status}),u.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${oH[w.priority]}`,children:[u.jsx(tM,{className:"mr-1 h-3 w-3"}),w.priority]})]})]})})]})},w.id))})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-4",children:[u.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-gray-900",children:g.filter(w=>w.status==="Todo").length}),u.jsx("div",{className:"text-sm text-gray-500",children:"Todo"})]})}),u.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g.filter(w=>w.status==="In Progress").length}),u.jsx("div",{className:"text-sm text-gray-500",children:"In Progress"})]})}),u.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600",children:g.filter(w=>w.status==="Done").length}),u.jsx("div",{className:"text-sm text-gray-500",children:"Completed"})]})}),u.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-gray-900",children:g.length}),u.jsx("div",{className:"text-sm text-gray-500",children:"Total Tasks"})]})})]})]})},cH=[{id:1,project:"E-commerce Platform",task:"Design user interface mockups",user:"Jane Smith",startTime:"09:00 AM",endTime:"11:30 AM",duration:"2h 30m",date:"2024-03-08"},{id:2,project:"Mobile App Redesign",task:"API documentation",user:"Mike Johnson",startTime:"02:00 PM",endTime:"04:15 PM",duration:"2h 15m",date:"2024-03-08"},{id:3,project:"Data Analytics Dashboard",task:"Testing setup",user:"Sarah Wilson",startTime:"10:30 AM",endTime:"12:00 PM",duration:"1h 30m",date:"2024-03-07"}],uH=()=>{const[e,t]=J.useState(!1),[n,s]=J.useState("00:00:00");return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"md:flex md:items-center md:justify-between",children:u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Time Tracking"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track time spent on projects and tasks"})]})}),u.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-6",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900",children:n}),u.jsx("div",{className:"flex items-center justify-center space-x-4",children:e?u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>t(!1),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-yellow-600 hover:bg-yellow-700",children:[u.jsx(xM,{className:"mr-2 h-5 w-5"}),"Pause"]}),u.jsxs("button",{onClick:()=>{t(!1),s("00:00:00")},className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-red-600 hover:bg-red-700",children:[u.jsx(RM,{className:"mr-2 h-5 w-5"}),"Stop"]})]}):u.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700",children:[u.jsx(jM,{className:"mr-2 h-5 w-5"}),"Start Timer"]})}),e&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project"}),u.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[u.jsx("option",{children:"E-commerce Platform"}),u.jsx("option",{children:"Mobile App Redesign"}),u.jsx("option",{children:"Data Analytics Dashboard"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Description"}),u.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"What are you working on?"})]})]})]})}),u.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Time Entries"})}),u.jsx("div",{className:"overflow-hidden",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Period"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:cH.map(a=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.project}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.task}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.user}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[a.startTime," - ",a.endTime]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[u.jsx(Kl,{className:"mr-1 h-3 w-3"}),a.duration]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.date})]},a.id))})]})})]})]})},Al=({title:e,description:t})=>u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"text-center py-12",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e}),u.jsx("p",{className:"text-lg text-gray-600 mb-8",children:t}),u.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-12",children:u.jsxs("div",{className:"text-gray-400 text-center",children:[u.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-4xl",children:"🚧"})}),u.jsx("p",{className:"text-lg",children:"This page is under construction"}),u.jsx("p",{className:"text-sm mt-2",children:"More features coming soon!"})]})})]})}),dH=cD([{path:"/",element:u.jsx(rL,{}),children:[{index:!0,element:u.jsx(lB,{})},{path:"projects",element:u.jsx(aH,{})},{path:"tasks",element:u.jsx(lH,{})},{path:"time-tracking",element:u.jsx(uH,{})},{path:"cost-analysis",element:u.jsx(Al,{title:"Cost Analysis",description:"Track project costs and budget allocations"})},{path:"reports",element:u.jsx(Al,{title:"Reports",description:"Generate detailed reports and analytics"})},{path:"calendar",element:u.jsx(Al,{title:"Calendar",description:"Manage deadlines and project timelines"})},{path:"team",element:u.jsx(Al,{title:"Team Management",description:"Manage team members and permissions"})},{path:"documents",element:u.jsx(Al,{title:"Documents",description:"Store and organize project documents"})},{path:"settings",element:u.jsx(Al,{title:"Settings",description:"Configure your workspace preferences"})}]}],{basename:"/todo"});EC.createRoot(document.getElementById("root")).render(u.jsx(J.StrictMode,{children:u.jsx(vD,{router:dH})}))});export default fH();
