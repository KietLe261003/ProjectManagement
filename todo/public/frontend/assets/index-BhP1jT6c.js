var oD=Object.defineProperty,lD=Object.defineProperties;var cD=Object.getOwnPropertyDescriptors;var Oh=Object.getOwnPropertySymbols;var fj=Object.prototype.hasOwnProperty,mj=Object.prototype.propertyIsEnumerable;var Bl=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),dD=e=>{throw TypeError(e)};var Op=(e,t,s)=>t in e?oD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,F=(e,t)=>{for(var s in t||(t={}))fj.call(t,s)&&Op(e,s,t[s]);if(Oh)for(var s of Oh(t))mj.call(t,s)&&Op(e,s,t[s]);return e},ie=(e,t)=>lD(e,cD(t));var $e=(e,t)=>{var s={};for(var n in e)fj.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&Oh)for(var n of Oh(e))t.indexOf(n)<0&&mj.call(e,n)&&(s[n]=e[n]);return s};var uD=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var kt=(e,t,s)=>Op(e,typeof t!="symbol"?t+"":t,s);var fe=(e,t,s)=>new Promise((n,i)=>{var o=h=>{try{d(s.next(h))}catch(f){i(f)}},c=h=>{try{d(s.throw(h))}catch(f){i(f)}},d=h=>h.done?n(h.value):Promise.resolve(h.value).then(o,c);d((s=s.apply(e,t)).next())}),ko=function(e,t){this[0]=e,this[1]=t},Mp=(e,t,s)=>{var n=(c,d,h,f)=>{try{var g=s[c](d),p=(d=g.value)instanceof ko,b=g.done;Promise.resolve(p?d[0]:d).then(y=>p?n(c==="return"?c:"next",d[1]?{done:y.done,value:y.value}:y,h,f):h({value:y,done:b})).catch(y=>n("throw",y,h,f))}catch(y){f(y)}},i=c=>o[c]=d=>new Promise((h,f)=>n(c,d,h,f)),o={};return s=s.apply(e,t),o[Bl("asyncIterator")]=()=>o,i("next"),i("throw"),i("return"),o},Rp=e=>{var t=e[Bl("asyncIterator")],s=!1,n,i={};return t==null?(t=e[Bl("iterator")](),n=o=>i[o]=c=>t[o](c)):(t=t.call(e),n=o=>i[o]=c=>{if(s){if(s=!1,o==="throw")throw c;return c}return s=!0,{done:!1,value:new ko(new Promise(d=>{var h=t[o](c);h instanceof Object||dD("Object expected"),d(h)}),1)}}),i[Bl("iterator")]=()=>i,n("next"),"throw"in t?n("throw"):i.throw=o=>{throw o},"return"in t&&n("return"),i},gj=(e,t,s)=>(t=e[Bl("asyncIterator")])?t.call(e):(e=e[Bl("iterator")](),t={},s=(n,i)=>(i=e[n])&&(t[n]=o=>new Promise((c,d,h)=>(o=i.call(e,o),h=o.done,Promise.resolve(o.value).then(f=>c({value:f,done:h}),d)))),s("next"),s("return"),t);var c$=uD(yt=>{function hD(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();function Sx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pp={exports:{}},jd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pj;function fD(){if(pj)return jd;pj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(n,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var d in i)d!=="key"&&(o[d]=i[d])}else o=i;return i=o.ref,{$$typeof:e,type:n,key:c,ref:i!==void 0?i:null,props:o}}return jd.Fragment=t,jd.jsx=s,jd.jsxs=s,jd}var xj;function mD(){return xj||(xj=1,Pp.exports=fD()),Pp.exports}var a=mD(),Lp={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yj;function gD(){if(yj)return Rt;yj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=p&&P[p]||P["@@iterator"],typeof P=="function"?P:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,v={};function _(P,ne,ge){this.props=P,this.context=ne,this.refs=v,this.updater=ge||y}_.prototype.isReactComponent={},_.prototype.setState=function(P,ne){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ne,"setState")},_.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function T(){}T.prototype=_.prototype;function A(P,ne,ge){this.props=P,this.context=ne,this.refs=v,this.updater=ge||y}var k=A.prototype=new T;k.constructor=A,j(k,_.prototype),k.isPureReactComponent=!0;var S=Array.isArray,E={H:null,A:null,T:null,S:null,V:null},C=Object.prototype.hasOwnProperty;function z(P,ne,ge,X,re,_e){return ge=_e.ref,{$$typeof:e,type:P,key:ne,ref:ge!==void 0?ge:null,props:_e}}function L(P,ne){return z(P.type,ne,void 0,void 0,void 0,P.props)}function R(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function V(P){var ne={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ge){return ne[ge]})}var I=/\/+/g;function G(P,ne){return typeof P=="object"&&P!==null&&P.key!=null?V(""+P.key):ne.toString(36)}function U(){}function W(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(U,U):(P.status="pending",P.then(function(ne){P.status==="pending"&&(P.status="fulfilled",P.value=ne)},function(ne){P.status==="pending"&&(P.status="rejected",P.reason=ne)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function K(P,ne,ge,X,re){var _e=typeof P;(_e==="undefined"||_e==="boolean")&&(P=null);var me=!1;if(P===null)me=!0;else switch(_e){case"bigint":case"string":case"number":me=!0;break;case"object":switch(P.$$typeof){case e:case t:me=!0;break;case g:return me=P._init,K(me(P._payload),ne,ge,X,re)}}if(me)return re=re(P),me=X===""?"."+G(P,0):X,S(re)?(ge="",me!=null&&(ge=me.replace(I,"$&/")+"/"),K(re,ne,ge,"",function(Ce){return Ce})):re!=null&&(R(re)&&(re=L(re,ge+(re.key==null||P&&P.key===re.key?"":(""+re.key).replace(I,"$&/")+"/")+me)),ne.push(re)),1;me=0;var Pe=X===""?".":X+":";if(S(P))for(var we=0;we<P.length;we++)X=P[we],_e=Pe+G(X,we),me+=K(X,ne,ge,_e,re);else if(we=b(P),typeof we=="function")for(P=we.call(P),we=0;!(X=P.next()).done;)X=X.value,_e=Pe+G(X,we++),me+=K(X,ne,ge,_e,re);else if(_e==="object"){if(typeof P.then=="function")return K(W(P),ne,ge,X,re);throw ne=String(P),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return me}function $(P,ne,ge){if(P==null)return P;var X=[],re=0;return K(P,X,"","",function(_e){return ne.call(ge,_e,re++)}),X}function ee(P){if(P._status===-1){var ne=P._result;ne=ne(),ne.then(function(ge){(P._status===0||P._status===-1)&&(P._status=1,P._result=ge)},function(ge){(P._status===0||P._status===-1)&&(P._status=2,P._result=ge)}),P._status===-1&&(P._status=0,P._result=ne)}if(P._status===1)return P._result.default;throw P._result}var se=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Ne(){}return Rt.Children={map:$,forEach:function(P,ne,ge){$(P,function(){ne.apply(this,arguments)},ge)},count:function(P){var ne=0;return $(P,function(){ne++}),ne},toArray:function(P){return $(P,function(ne){return ne})||[]},only:function(P){if(!R(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Rt.Component=_,Rt.Fragment=s,Rt.Profiler=i,Rt.PureComponent=A,Rt.StrictMode=n,Rt.Suspense=h,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return E.H.useMemoCache(P)}},Rt.cache=function(P){return function(){return P.apply(null,arguments)}},Rt.cloneElement=function(P,ne,ge){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var X=j({},P.props),re=P.key,_e=void 0;if(ne!=null)for(me in ne.ref!==void 0&&(_e=void 0),ne.key!==void 0&&(re=""+ne.key),ne)!C.call(ne,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&ne.ref===void 0||(X[me]=ne[me]);var me=arguments.length-2;if(me===1)X.children=ge;else if(1<me){for(var Pe=Array(me),we=0;we<me;we++)Pe[we]=arguments[we+2];X.children=Pe}return z(P.type,re,void 0,void 0,_e,X)},Rt.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},Rt.createElement=function(P,ne,ge){var X,re={},_e=null;if(ne!=null)for(X in ne.key!==void 0&&(_e=""+ne.key),ne)C.call(ne,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(re[X]=ne[X]);var me=arguments.length-2;if(me===1)re.children=ge;else if(1<me){for(var Pe=Array(me),we=0;we<me;we++)Pe[we]=arguments[we+2];re.children=Pe}if(P&&P.defaultProps)for(X in me=P.defaultProps,me)re[X]===void 0&&(re[X]=me[X]);return z(P,_e,void 0,void 0,null,re)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(P){return{$$typeof:d,render:P}},Rt.isValidElement=R,Rt.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:ee}},Rt.memo=function(P,ne){return{$$typeof:f,type:P,compare:ne===void 0?null:ne}},Rt.startTransition=function(P){var ne=E.T,ge={};E.T=ge;try{var X=P(),re=E.S;re!==null&&re(ge,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Ne,se)}catch(_e){se(_e)}finally{E.T=ne}},Rt.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Rt.use=function(P){return E.H.use(P)},Rt.useActionState=function(P,ne,ge){return E.H.useActionState(P,ne,ge)},Rt.useCallback=function(P,ne){return E.H.useCallback(P,ne)},Rt.useContext=function(P){return E.H.useContext(P)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(P,ne){return E.H.useDeferredValue(P,ne)},Rt.useEffect=function(P,ne,ge){var X=E.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(P,ne)},Rt.useId=function(){return E.H.useId()},Rt.useImperativeHandle=function(P,ne,ge){return E.H.useImperativeHandle(P,ne,ge)},Rt.useInsertionEffect=function(P,ne){return E.H.useInsertionEffect(P,ne)},Rt.useLayoutEffect=function(P,ne){return E.H.useLayoutEffect(P,ne)},Rt.useMemo=function(P,ne){return E.H.useMemo(P,ne)},Rt.useOptimistic=function(P,ne){return E.H.useOptimistic(P,ne)},Rt.useReducer=function(P,ne,ge){return E.H.useReducer(P,ne,ge)},Rt.useRef=function(P){return E.H.useRef(P)},Rt.useState=function(P){return E.H.useState(P)},Rt.useSyncExternalStore=function(P,ne,ge){return E.H.useSyncExternalStore(P,ne,ge)},Rt.useTransition=function(){return E.H.useTransition()},Rt.version="19.1.1",Rt}var bj;function kx(){return bj||(bj=1,Lp.exports=gD()),Lp.exports}var N=kx();const ye=Sx(N),U2=hD({__proto__:null,default:ye},[N]);var Bp={exports:{}},Nd={},Fp={exports:{}},zp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vj;function pD(){return vj||(vj=1,function(e){function t($,ee){var se=$.length;$.push(ee);e:for(;0<se;){var Ne=se-1>>>1,P=$[Ne];if(0<i(P,ee))$[Ne]=ee,$[se]=P,se=Ne;else break e}}function s($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var ee=$[0],se=$.pop();if(se!==ee){$[0]=se;e:for(var Ne=0,P=$.length,ne=P>>>1;Ne<ne;){var ge=2*(Ne+1)-1,X=$[ge],re=ge+1,_e=$[re];if(0>i(X,se))re<P&&0>i(_e,X)?($[Ne]=_e,$[re]=se,Ne=re):($[Ne]=X,$[ge]=se,Ne=ge);else if(re<P&&0>i(_e,se))$[Ne]=_e,$[re]=se,Ne=re;else break e}}return ee}function i($,ee){var se=$.sortIndex-ee.sortIndex;return se!==0?se:$.id-ee.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var h=[],f=[],g=1,p=null,b=3,y=!1,j=!1,v=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate!="undefined"?setImmediate:null;function S($){for(var ee=s(f);ee!==null;){if(ee.callback===null)n(f);else if(ee.startTime<=$)n(f),ee.sortIndex=ee.expirationTime,t(h,ee);else break;ee=s(f)}}function E($){if(v=!1,S($),!j)if(s(h)!==null)j=!0,C||(C=!0,G());else{var ee=s(f);ee!==null&&K(E,ee.startTime-$)}}var C=!1,z=-1,L=5,R=-1;function V(){return _?!0:!(e.unstable_now()-R<L)}function I(){if(_=!1,C){var $=e.unstable_now();R=$;var ee=!0;try{e:{j=!1,v&&(v=!1,A(z),z=-1),y=!0;var se=b;try{t:{for(S($),p=s(h);p!==null&&!(p.expirationTime>$&&V());){var Ne=p.callback;if(typeof Ne=="function"){p.callback=null,b=p.priorityLevel;var P=Ne(p.expirationTime<=$);if($=e.unstable_now(),typeof P=="function"){p.callback=P,S($),ee=!0;break t}p===s(h)&&n(h),S($)}else n(h);p=s(h)}if(p!==null)ee=!0;else{var ne=s(f);ne!==null&&K(E,ne.startTime-$),ee=!1}}break e}finally{p=null,b=se,y=!1}ee=void 0}}finally{ee?G():C=!1}}}var G;if(typeof k=="function")G=function(){k(I)};else if(typeof MessageChannel!="undefined"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=I,G=function(){W.postMessage(null)}}else G=function(){T(I,0)};function K($,ee){z=T(function(){$(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function($){switch(b){case 1:case 2:case 3:var ee=3;break;default:ee=b}var se=b;b=ee;try{return $()}finally{b=se}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function($,ee){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var se=b;b=$;try{return ee()}finally{b=se}},e.unstable_scheduleCallback=function($,ee,se){var Ne=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ne+se:Ne):se=Ne,$){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=se+P,$={id:g++,callback:ee,priorityLevel:$,startTime:se,expirationTime:P,sortIndex:-1},se>Ne?($.sortIndex=se,t(f,$),s(h)===null&&$===s(f)&&(v?(A(z),z=-1):v=!0,K(E,se-Ne))):($.sortIndex=P,t(h,$),j||y||(j=!0,C||(C=!0,G()))),$},e.unstable_shouldYield=V,e.unstable_wrapCallback=function($){var ee=b;return function(){var se=b;b=ee;try{return $.apply(this,arguments)}finally{b=se}}}}(zp)),zp}var wj;function xD(){return wj||(wj=1,Fp.exports=pD()),Fp.exports}var Up={exports:{}},jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jj;function yD(){if(jj)return jn;jj=1;var e=kx();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var n={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,f,g){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:h,containerInfo:f,implementation:g}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,jn.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(h,f,null,g)},jn.flushSync=function(h){var f=c.T,g=n.p;try{if(c.T=null,n.p=2,h)return h()}finally{c.T=f,n.p=g,n.d.f()}},jn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(h,f))},jn.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},jn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,p=d(g,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?n.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:y}):g==="script"&&n.d.X(h,{crossOrigin:p,integrity:b,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},jn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=d(f.as,f.crossOrigin);n.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(h)},jn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,p=d(g,f.crossOrigin);n.d.L(h,g,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},jn.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=d(f.as,f.crossOrigin);n.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(h)},jn.requestFormReset=function(h){n.d.r(h)},jn.unstable_batchedUpdates=function(h,f){return h(f)},jn.useFormState=function(h,f,g){return c.H.useFormState(h,f,g)},jn.useFormStatus=function(){return c.H.useHostTransitionStatus()},jn.version="19.1.1",jn}var Nj;function H2(){if(Nj)return Up.exports;Nj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Up.exports=yD(),Up.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _j;function bD(){if(_j)return Nd;_j=1;var e=xD(),t=kx(),s=H2();function n(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var l=r,u=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(u=l.return),r=l.return;while(r)}return l.tag===3?u:null}function c(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(n(188))}function h(r){var l=r.alternate;if(!l){if(l=o(r),l===null)throw Error(n(188));return l!==r?null:r}for(var u=r,m=l;;){var x=u.return;if(x===null)break;var w=x.alternate;if(w===null){if(m=x.return,m!==null){u=m;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===u)return d(x),r;if(w===m)return d(x),l;w=w.sibling}throw Error(n(188))}if(u.return!==m.return)u=x,m=w;else{for(var O=!1,B=x.child;B;){if(B===u){O=!0,u=x,m=w;break}if(B===m){O=!0,m=x,u=w;break}B=B.sibling}if(!O){for(B=w.child;B;){if(B===u){O=!0,u=w,m=x;break}if(B===m){O=!0,m=w,u=x;break}B=B.sibling}if(!O)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?r:l}function f(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=f(r),l!==null)return l;r=r.sibling}return null}var g=Object.assign,p=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),k=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function G(r){return r===null||typeof r!="object"?null:(r=I&&r[I]||r["@@iterator"],typeof r=="function"?r:null)}var U=Symbol.for("react.client.reference");function W(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===U?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case _:return"Profiler";case v:return"StrictMode";case E:return"Suspense";case C:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case y:return"Portal";case k:return(r.displayName||"Context")+".Provider";case A:return(r._context.displayName||"Context")+".Consumer";case S:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case z:return l=r.displayName||null,l!==null?l:W(r.type)||"Memo";case L:l=r._payload,r=r._init;try{return W(r(l))}catch(u){}}return null}var K=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Ne=[],P=-1;function ne(r){return{current:r}}function ge(r){0>P||(r.current=Ne[P],Ne[P]=null,P--)}function X(r,l){P++,Ne[P]=r.current,r.current=l}var re=ne(null),_e=ne(null),me=ne(null),Pe=ne(null);function we(r,l){switch(X(me,l),X(_e,r),X(re,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?Hw(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=Hw(l),r=$w(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ge(re),X(re,r)}function Ce(){ge(re),ge(_e),ge(me)}function Z(r){r.memoizedState!==null&&X(Pe,r);var l=re.current,u=$w(l,r.type);l!==u&&(X(_e,r),X(re,u))}function Re(r){_e.current===r&&(ge(re),ge(_e)),Pe.current===r&&(ge(Pe),xd._currentValue=se)}var He=Object.prototype.hasOwnProperty,Ye=e.unstable_scheduleCallback,tt=e.unstable_cancelCallback,gt=e.unstable_shouldYield,Dt=e.unstable_requestPaint,De=e.unstable_now,ze=e.unstable_getCurrentPriorityLevel,Fe=e.unstable_ImmediatePriority,Q=e.unstable_UserBlockingPriority,le=e.unstable_NormalPriority,q=e.unstable_LowPriority,Te=e.unstable_IdlePriority,Le=e.log,Me=e.unstable_setDisableYieldValue,Ve=null,Ge=null;function st(r){if(typeof Le=="function"&&Me(r),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Ve,r)}catch(l){}}var wt=Math.clz32?Math.clz32:Ze,ke=Math.log,Ue=Math.LN2;function Ze(r){return r>>>=0,r===0?32:31-(ke(r)/Ue|0)|0}var Ot=256,Ke=4194304;function zt(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ds(r,l,u){var m=r.pendingLanes;if(m===0)return 0;var x=0,w=r.suspendedLanes,O=r.pingedLanes;r=r.warmLanes;var B=m&134217727;return B!==0?(m=B&~w,m!==0?x=zt(m):(O&=B,O!==0?x=zt(O):u||(u=B&~r,u!==0&&(x=zt(u))))):(B=m&~w,B!==0?x=zt(B):O!==0?x=zt(O):u||(u=m&~r,u!==0&&(x=zt(u)))),x===0?0:l!==0&&l!==x&&(l&w)===0&&(w=x&-x,u=l&-l,w>=u||w===32&&(u&4194048)!==0)?l:x}function Zs(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function yn(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Js(){var r=Ot;return Ot<<=1,(Ot&4194048)===0&&(Ot=256),r}function br(){var r=Ke;return Ke<<=1,(Ke&62914560)===0&&(Ke=4194304),r}function Wa(r){for(var l=[],u=0;31>u;u++)l.push(r);return l}function ra(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function vr(r,l,u,m,x,w){var O=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var B=r.entanglements,J=r.expirationTimes,xe=r.hiddenUpdates;for(u=O&~u;0<u;){var Ee=31-wt(u),Oe=1<<Ee;B[Ee]=0,J[Ee]=-1;var ve=xe[Ee];if(ve!==null)for(xe[Ee]=null,Ee=0;Ee<ve.length;Ee++){var je=ve[Ee];je!==null&&(je.lane&=-536870913)}u&=~Oe}m!==0&&bt(r,m,0),w!==0&&x===0&&r.tag!==0&&(r.suspendedLanes|=w&~(O&~l))}function bt(r,l,u){r.pendingLanes|=l,r.suspendedLanes&=~l;var m=31-wt(l);r.entangledLanes|=l,r.entanglements[m]=r.entanglements[m]|1073741824|u&4194090}function Zt(r,l){var u=r.entangledLanes|=l;for(r=r.entanglements;u;){var m=31-wt(u),x=1<<m;x&l|r[m]&l&&(r[m]|=l),u&=~x}}function fs(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ms(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function te(){var r=ee.p;return r!==0?r:(r=window.event,r===void 0?32:oj(r.type))}function oe(r,l){var u=ee.p;try{return ee.p=r,l()}finally{ee.p=u}}var pe=Math.random().toString(36).slice(2),Se="__reactFiber$"+pe,Be="__reactProps$"+pe,Xe="__reactContainer$"+pe,nt="__reactEvents$"+pe,ot="__reactListeners$"+pe,pt="__reactHandles$"+pe,Mt="__reactResources$"+pe,dt="__reactMarker$"+pe;function St(r){delete r[Se],delete r[Be],delete r[nt],delete r[ot],delete r[pt]}function At(r){var l=r[Se];if(l)return l;for(var u=r.parentNode;u;){if(l=u[Xe]||u[Se]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(r=Ww(r);r!==null;){if(u=r[Se])return u;r=Ww(r)}return l}r=u,u=r.parentNode}return null}function us(r){if(r=r[Se]||r[Xe]){var l=r.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return r}return null}function _s(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(n(33))}function rs(r){var l=r[Mt];return l||(l=r[Mt]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function ut(r){r[dt]=!0}var Ct=new Set,Wt={};function bs(r,l){Ts(r,l),Ts(r+"Capture",l)}function Ts(r,l){for(Wt[r]=l,r=0;r<l.length;r++)Ct.add(l[r])}var Ys=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),en={},ia={};function oa(r){return He.call(ia,r)?!0:He.call(en,r)?!1:Ys.test(r)?ia[r]=!0:(en[r]=!0,!1)}function bn(r,l,u){if(oa(l))if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+u)}}function la(r,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+u)}}function Lt(r,l,u,m){if(m===null)r.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(l,u,""+m)}}var Ss,wr;function ln(r){if(Ss===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);Ss=l&&l[1]||"",wr=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+r+wr}var ms=!1;function Sa(r,l){if(!r||ms)return"";ms=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var Oe=function(){throw Error()};if(Object.defineProperty(Oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Oe,[])}catch(je){var ve=je}Reflect.construct(r,[],Oe)}else{try{Oe.call()}catch(je){ve=je}r.call(Oe.prototype)}}else{try{throw Error()}catch(je){ve=je}(Oe=r())&&typeof Oe.catch=="function"&&Oe.catch(function(){})}}catch(je){if(je&&ve&&typeof je.stack=="string")return[je.stack,ve.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),O=w[0],B=w[1];if(O&&B){var J=O.split(`
`),xe=B.split(`
`);for(x=m=0;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;for(;x<xe.length&&!xe[x].includes("DetermineComponentFrameRoot");)x++;if(m===J.length||x===xe.length)for(m=J.length-1,x=xe.length-1;1<=m&&0<=x&&J[m]!==xe[x];)x--;for(;1<=m&&0<=x;m--,x--)if(J[m]!==xe[x]){if(m!==1||x!==1)do if(m--,x--,0>x||J[m]!==xe[x]){var Ee=`
`+J[m].replace(" at new "," at ");return r.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",r.displayName)),Ee}while(1<=m&&0<=x);break}}}finally{ms=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?ln(u):""}function Jo(r){switch(r.tag){case 26:case 27:case 5:return ln(r.type);case 16:return ln("Lazy");case 13:return ln("Suspense");case 19:return ln("SuspenseList");case 0:case 15:return Sa(r.type,!1);case 11:return Sa(r.type.render,!1);case 1:return Sa(r.type,!0);case 31:return ln("Activity");default:return""}}function el(r){try{var l="";do l+=Jo(r),r=r.return;while(r);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function On(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Tu(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Su(r){var l=Tu(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,l),m=""+r[l];if(!r.hasOwnProperty(l)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,w=u.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return x.call(this)},set:function(O){m=""+O,w.call(this,O)}}),Object.defineProperty(r,l,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(O){m=""+O},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function so(r){r._valueTracker||(r._valueTracker=Su(r))}function Ya(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var u=l.getValue(),m="";return r&&(m=Tu(r)?r.checked?"true":"false":r.value),r=m,r!==u?(l.setValue(r),!0):!1}function no(r){if(r=r||(typeof document!="undefined"?document:void 0),typeof r=="undefined")return null;try{return r.activeElement||r.body}catch(l){return r.body}}var zm=/[\n"\\]/g;function Mn(r){return r.replace(zm,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function kc(r,l,u,m,x,w,O,B){r.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.type=O:r.removeAttribute("type"),l!=null?O==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+On(l)):r.value!==""+On(l)&&(r.value=""+On(l)):O!=="submit"&&O!=="reset"||r.removeAttribute("value"),l!=null?Cc(r,O,On(l)):u!=null?Cc(r,O,On(u)):m!=null&&r.removeAttribute("value"),x==null&&w!=null&&(r.defaultChecked=!!w),x!=null&&(r.checked=x&&typeof x!="function"&&typeof x!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?r.name=""+On(B):r.removeAttribute("name")}function ku(r,l,u,m,x,w,O,B){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),l!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;u=u!=null?""+On(u):"",l=l!=null?""+On(l):u,B||l===r.value||(r.value=l),r.defaultValue=l}m=m!=null?m:x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=B?r.checked:!!m,r.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(r.name=O)}function Cc(r,l,u){l==="number"&&no(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function jr(r,l,u,m){if(r=r.options,l){l={};for(var x=0;x<u.length;x++)l["$"+u[x]]=!0;for(u=0;u<r.length;u++)x=l.hasOwnProperty("$"+r[u].value),r[u].selected!==x&&(r[u].selected=x),x&&m&&(r[u].defaultSelected=!0)}else{for(u=""+On(u),l=null,x=0;x<r.length;x++){if(r[x].value===u){r[x].selected=!0,m&&(r[x].defaultSelected=!0);return}l!==null||r[x].disabled||(l=r[x])}l!==null&&(l.selected=!0)}}function ao(r,l,u){if(l!=null&&(l=""+On(l),l!==r.value&&(r.value=l),u==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=u!=null?""+On(u):""}function Ec(r,l,u,m){if(l==null){if(m!=null){if(u!=null)throw Error(n(92));if(K(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),l=u}u=On(l),r.defaultValue=u,m=r.textContent,m===u&&m!==""&&m!==null&&(r.value=m)}function Zr(r,l){if(l){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=l;return}}r.textContent=l}var Cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(r,l,u){var m=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":m?r.setProperty(l,u):typeof u!="number"||u===0||Cu.has(l)?l==="float"?r.cssFloat=u:r[l]=(""+u).trim():r[l]=u+"px"}function Dc(r,l,u){if(l!=null&&typeof l!="object")throw Error(n(62));if(r=r.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var x in l)m=l[x],l.hasOwnProperty(x)&&u[x]!==m&&Eu(r,x,m)}else for(var w in l)l.hasOwnProperty(w)&&Eu(r,w,l[w])}function ro(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Um=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sl(r){return Um.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ac=null;function io(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Nr=null,Jr=null;function Oc(r){var l=us(r);if(l&&(r=l.stateNode)){var u=r[Be]||null;e:switch(r=l.stateNode,l.type){case"input":if(kc(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Mn(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var m=u[l];if(m!==r&&m.form===r.form){var x=m[Be]||null;if(!x)throw Error(n(90));kc(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(l=0;l<u.length;l++)m=u[l],m.form===r.form&&Ya(m)}break e;case"textarea":ao(r,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&jr(r,!!u.multiple,l,!1)}}}var oo=!1;function Mc(r,l,u){if(oo)return r(l,u);oo=!0;try{var m=r(l);return m}finally{if(oo=!1,(Nr!==null||Jr!==null)&&(uh(),Nr&&(l=Nr,r=Jr,Jr=Nr=null,Oc(l),r)))for(l=0;l<r.length;l++)Oc(r[l])}}function ei(r,l){var u=r.stateNode;if(u===null)return null;var m=u[Be]||null;if(m===null)return null;u=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(n(231,l,typeof u));return u}var Rn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),nl=!1;if(Rn)try{var lo={};Object.defineProperty(lo,"passive",{get:function(){nl=!0}}),window.addEventListener("test",lo,lo),window.removeEventListener("test",lo,lo)}catch(r){nl=!1}var qn=null,Pn=null,_r=null;function co(){if(_r)return _r;var r,l=Pn,u=l.length,m,x="value"in qn?qn.value:qn.textContent,w=x.length;for(r=0;r<u&&l[r]===x[r];r++);var O=u-r;for(m=1;m<=O&&l[u-m]===x[w-m];m++);return _r=x.slice(r,1<m?1-m:void 0)}function ti(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function al(){return!0}function Du(){return!1}function vn(r){function l(u,m,x,w,O){this._reactName=u,this._targetInst=x,this.type=m,this.nativeEvent=w,this.target=O,this.currentTarget=null;for(var B in r)r.hasOwnProperty(B)&&(u=r[B],this[B]=u?u(w):w[B]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?al:Du,this.isPropagationStopped=Du,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),l}var ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=vn(ka),si=g({},ka,{view:0,detail:0}),ks=vn(si),D,M,H,Y=g({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==H&&(H&&r.type==="mousemove"?(D=r.screenX-H.screenX,M=r.screenY-H.screenY):M=D=0,H=r),D)},movementY:function(r){return"movementY"in r?r.movementY:M}}),ce=vn(Y),ue=g({},Y,{dataTransfer:0}),be=vn(ue),qe=g({},si,{relatedTarget:0}),mt=vn(qe),We=g({},ka,{animationName:0,elapsedTime:0,pseudoElement:0}),et=vn(We),jt=g({},ka,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),is=vn(jt),Et=g({},ka,{data:0}),xt=vn(Et),lt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Us={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ws(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=Us[r])?!!l[r]:!1}function ca(){return ws}var uo=g({},si,{key:function(r){if(r.key){var l=lt[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=ti(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?tn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(r){return r.type==="keypress"?ti(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ti(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ga=vn(uo),ni=g({},Y,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),il=vn(ni),ol=g({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca}),Au=vn(ol),TC=g({},ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),SC=vn(TC),kC=g({},Y,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),CC=vn(kC),EC=g({},ka,{newState:0,oldState:0}),DC=vn(EC),AC=[9,13,27,32],Hm=Rn&&"CompositionEvent"in window,Rc=null;Rn&&"documentMode"in document&&(Rc=document.documentMode);var OC=Rn&&"TextEvent"in window&&!Rc,Ky=Rn&&(!Hm||Rc&&8<Rc&&11>=Rc),Qy=" ",Zy=!1;function Jy(r,l){switch(r){case"keyup":return AC.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eb(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ll=!1;function MC(r,l){switch(r){case"compositionend":return eb(l);case"keypress":return l.which!==32?null:(Zy=!0,Qy);case"textInput":return r=l.data,r===Qy&&Zy?null:r;default:return null}}function RC(r,l){if(ll)return r==="compositionend"||!Hm&&Jy(r,l)?(r=co(),_r=Pn=qn=null,ll=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ky&&l.locale!=="ko"?null:l.data;default:return null}}var PC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tb(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!PC[r.type]:l==="textarea"}function sb(r,l,u,m){Nr?Jr?Jr.push(m):Jr=[m]:Nr=m,l=xh(l,"onChange"),0<l.length&&(u=new rl("onChange","change",null,u,m),r.push({event:u,listeners:l}))}var Pc=null,Lc=null;function LC(r){Lw(r,0)}function Ou(r){var l=_s(r);if(Ya(l))return r}function nb(r,l){if(r==="change")return l}var ab=!1;if(Rn){var $m;if(Rn){var Vm="oninput"in document;if(!Vm){var rb=document.createElement("div");rb.setAttribute("oninput","return;"),Vm=typeof rb.oninput=="function"}$m=Vm}else $m=!1;ab=$m&&(!document.documentMode||9<document.documentMode)}function ib(){Pc&&(Pc.detachEvent("onpropertychange",ob),Lc=Pc=null)}function ob(r){if(r.propertyName==="value"&&Ou(Lc)){var l=[];sb(l,Lc,r,io(r)),Mc(LC,l)}}function BC(r,l,u){r==="focusin"?(ib(),Pc=l,Lc=u,Pc.attachEvent("onpropertychange",ob)):r==="focusout"&&ib()}function FC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ou(Lc)}function zC(r,l){if(r==="click")return Ou(l)}function UC(r,l){if(r==="input"||r==="change")return Ou(l)}function HC(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var Wn=typeof Object.is=="function"?Object.is:HC;function Bc(r,l){if(Wn(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var u=Object.keys(r),m=Object.keys(l);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var x=u[m];if(!He.call(l,x)||!Wn(r[x],l[x]))return!1}return!0}function lb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function cb(r,l){var u=lb(r);r=0;for(var m;u;){if(u.nodeType===3){if(m=r+u.textContent.length,r<=l&&m>=l)return{node:u,offset:l-r};r=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=lb(u)}}function db(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?db(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function ub(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=no(r.document);l instanceof r.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch(m){u=!1}if(u)r=l.contentWindow;else break;l=no(r.document)}return l}function Im(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var $C=Rn&&"documentMode"in document&&11>=document.documentMode,cl=null,qm=null,Fc=null,Wm=!1;function hb(r,l,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Wm||cl==null||cl!==no(m)||(m=cl,"selectionStart"in m&&Im(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Fc&&Bc(Fc,m)||(Fc=m,m=xh(qm,"onSelect"),0<m.length&&(l=new rl("onSelect","select",null,l,u),r.push({event:l,listeners:m}),l.target=cl)))}function ho(r,l){var u={};return u[r.toLowerCase()]=l.toLowerCase(),u["Webkit"+r]="webkit"+l,u["Moz"+r]="moz"+l,u}var dl={animationend:ho("Animation","AnimationEnd"),animationiteration:ho("Animation","AnimationIteration"),animationstart:ho("Animation","AnimationStart"),transitionrun:ho("Transition","TransitionRun"),transitionstart:ho("Transition","TransitionStart"),transitioncancel:ho("Transition","TransitionCancel"),transitionend:ho("Transition","TransitionEnd")},Ym={},fb={};Rn&&(fb=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function fo(r){if(Ym[r])return Ym[r];if(!dl[r])return r;var l=dl[r],u;for(u in l)if(l.hasOwnProperty(u)&&u in fb)return Ym[r]=l[u];return r}var mb=fo("animationend"),gb=fo("animationiteration"),pb=fo("animationstart"),VC=fo("transitionrun"),IC=fo("transitionstart"),qC=fo("transitioncancel"),xb=fo("transitionend"),yb=new Map,Gm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gm.push("scrollEnd");function Ca(r,l){yb.set(r,l),bs(l,[r])}var bb=new WeakMap;function da(r,l){if(typeof r=="object"&&r!==null){var u=bb.get(r);return u!==void 0?u:(l={value:r,source:l,stack:el(l)},bb.set(r,l),l)}return{value:r,source:l,stack:el(l)}}var ua=[],ul=0,Xm=0;function Mu(){for(var r=ul,l=Xm=ul=0;l<r;){var u=ua[l];ua[l++]=null;var m=ua[l];ua[l++]=null;var x=ua[l];ua[l++]=null;var w=ua[l];if(ua[l++]=null,m!==null&&x!==null){var O=m.pending;O===null?x.next=x:(x.next=O.next,O.next=x),m.pending=x}w!==0&&vb(u,x,w)}}function Ru(r,l,u,m){ua[ul++]=r,ua[ul++]=l,ua[ul++]=u,ua[ul++]=m,Xm|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function Km(r,l,u,m){return Ru(r,l,u,m),Pu(r)}function hl(r,l){return Ru(r,null,null,l),Pu(r)}function vb(r,l,u){r.lanes|=u;var m=r.alternate;m!==null&&(m.lanes|=u);for(var x=!1,w=r.return;w!==null;)w.childLanes|=u,m=w.alternate,m!==null&&(m.childLanes|=u),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(x=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,x&&l!==null&&(x=31-wt(u),r=w.hiddenUpdates,m=r[x],m===null?r[x]=[l]:m.push(l),l.lane=u|536870912),w):null}function Pu(r){if(50<cd)throw cd=0,sp=null,Error(n(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var fl={};function WC(r,l,u,m){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(r,l,u,m){return new WC(r,l,u,m)}function Qm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Tr(r,l){var u=r.alternate;return u===null?(u=Yn(r.tag,l,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=l,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,l=r.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function wb(r,l){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,l=u.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function Lu(r,l,u,m,x,w){var O=0;if(m=r,typeof r=="function")Qm(r)&&(O=1);else if(typeof r=="string")O=GE(r,u,re.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=Yn(31,u,l,x),r.elementType=R,r.lanes=w,r;case j:return mo(u.children,x,w,l);case v:O=8,x|=24;break;case _:return r=Yn(12,u,l,x|2),r.elementType=_,r.lanes=w,r;case E:return r=Yn(13,u,l,x),r.elementType=E,r.lanes=w,r;case C:return r=Yn(19,u,l,x),r.elementType=C,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case T:case k:O=10;break e;case A:O=9;break e;case S:O=11;break e;case z:O=14;break e;case L:O=16,m=null;break e}O=29,u=Error(n(130,r===null?"null":typeof r,"")),m=null}return l=Yn(O,u,l,x),l.elementType=r,l.type=m,l.lanes=w,l}function mo(r,l,u,m){return r=Yn(7,r,m,l),r.lanes=u,r}function Zm(r,l,u){return r=Yn(6,r,null,l),r.lanes=u,r}function Jm(r,l,u){return l=Yn(4,r.children!==null?r.children:[],r.key,l),l.lanes=u,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var ml=[],gl=0,Bu=null,Fu=0,ha=[],fa=0,go=null,Sr=1,kr="";function po(r,l){ml[gl++]=Fu,ml[gl++]=Bu,Bu=r,Fu=l}function jb(r,l,u){ha[fa++]=Sr,ha[fa++]=kr,ha[fa++]=go,go=r;var m=Sr;r=kr;var x=32-wt(m)-1;m&=~(1<<x),u+=1;var w=32-wt(l)+x;if(30<w){var O=x-x%5;w=(m&(1<<O)-1).toString(32),m>>=O,x-=O,Sr=1<<32-wt(l)+x|u<<x|m,kr=w+r}else Sr=1<<w|u<<x|m,kr=r}function eg(r){r.return!==null&&(po(r,1),jb(r,1,0))}function tg(r){for(;r===Bu;)Bu=ml[--gl],ml[gl]=null,Fu=ml[--gl],ml[gl]=null;for(;r===go;)go=ha[--fa],ha[fa]=null,kr=ha[--fa],ha[fa]=null,Sr=ha[--fa],ha[fa]=null}var Sn=null,Cs=null,Qt=!1,xo=null,Xa=!1,sg=Error(n(519));function yo(r){var l=Error(n(418,""));throw Hc(da(l,r)),sg}function Nb(r){var l=r.stateNode,u=r.type,m=r.memoizedProps;switch(l[Se]=r,l[Be]=m,u){case"dialog":$t("cancel",l),$t("close",l);break;case"iframe":case"object":case"embed":$t("load",l);break;case"video":case"audio":for(u=0;u<ud.length;u++)$t(ud[u],l);break;case"source":$t("error",l);break;case"img":case"image":case"link":$t("error",l),$t("load",l);break;case"details":$t("toggle",l);break;case"input":$t("invalid",l),ku(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),so(l);break;case"select":$t("invalid",l);break;case"textarea":$t("invalid",l),Ec(l,m.value,m.defaultValue,m.children),so(l)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||m.suppressHydrationWarning===!0||Uw(l.textContent,u)?(m.popover!=null&&($t("beforetoggle",l),$t("toggle",l)),m.onScroll!=null&&$t("scroll",l),m.onScrollEnd!=null&&$t("scrollend",l),m.onClick!=null&&(l.onclick=yh),l=!0):l=!1,l||yo(r)}function _b(r){for(Sn=r.return;Sn;)switch(Sn.tag){case 5:case 13:Xa=!1;return;case 27:case 3:Xa=!0;return;default:Sn=Sn.return}}function zc(r){if(r!==Sn)return!1;if(!Qt)return _b(r),Qt=!0,!1;var l=r.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||yp(r.type,r.memoizedProps)),u=!u),u&&Cs&&yo(r),_b(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,l=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(l===0){Cs=Da(r.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;r=r.nextSibling}Cs=null}}else l===27?(l=Cs,bi(r.type)?(r=jp,jp=null,Cs=r):Cs=l):Cs=Sn?Da(r.stateNode.nextSibling):null;return!0}function Uc(){Cs=Sn=null,Qt=!1}function Tb(){var r=xo;return r!==null&&(Fn===null?Fn=r:Fn.push.apply(Fn,r),xo=null),r}function Hc(r){xo===null?xo=[r]:xo.push(r)}var ng=ne(null),bo=null,Cr=null;function ai(r,l,u){X(ng,l._currentValue),l._currentValue=u}function Er(r){r._currentValue=ng.current,ge(ng)}function ag(r,l,u){for(;r!==null;){var m=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),r===u)break;r=r.return}}function rg(r,l,u,m){var x=r.child;for(x!==null&&(x.return=r);x!==null;){var w=x.dependencies;if(w!==null){var O=x.child;w=w.firstContext;e:for(;w!==null;){var B=w;w=x;for(var J=0;J<l.length;J++)if(B.context===l[J]){w.lanes|=u,B=w.alternate,B!==null&&(B.lanes|=u),ag(w.return,u,r),m||(O=null);break e}w=B.next}}else if(x.tag===18){if(O=x.return,O===null)throw Error(n(341));O.lanes|=u,w=O.alternate,w!==null&&(w.lanes|=u),ag(O,u,r),O=null}else O=x.child;if(O!==null)O.return=x;else for(O=x;O!==null;){if(O===r){O=null;break}if(x=O.sibling,x!==null){x.return=O.return,O=x;break}O=O.return}x=O}}function $c(r,l,u,m){r=null;for(var x=l,w=!1;x!==null;){if(!w){if((x.flags&524288)!==0)w=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var O=x.alternate;if(O===null)throw Error(n(387));if(O=O.memoizedProps,O!==null){var B=x.type;Wn(x.pendingProps.value,O.value)||(r!==null?r.push(B):r=[B])}}else if(x===Pe.current){if(O=x.alternate,O===null)throw Error(n(387));O.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(r!==null?r.push(xd):r=[xd])}x=x.return}r!==null&&rg(l,r,u,m),l.flags|=262144}function zu(r){for(r=r.firstContext;r!==null;){if(!Wn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function vo(r){bo=r,Cr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function wn(r){return Sb(bo,r)}function Uu(r,l){return bo===null&&vo(r),Sb(r,l)}function Sb(r,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Cr===null){if(r===null)throw Error(n(308));Cr=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else Cr=Cr.next=l;return u}var YC=typeof AbortController!="undefined"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(u,m){r.push(m)}};this.abort=function(){l.aborted=!0,r.forEach(function(u){return u()})}},GC=e.unstable_scheduleCallback,XC=e.unstable_NormalPriority,Gs={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ig(){return{controller:new YC,data:new Map,refCount:0}}function Vc(r){r.refCount--,r.refCount===0&&GC(XC,function(){r.controller.abort()})}var Ic=null,og=0,pl=0,xl=null;function KC(r,l){if(Ic===null){var u=Ic=[];og=0,pl=cp(),xl={status:"pending",value:void 0,then:function(m){u.push(m)}}}return og++,l.then(kb,kb),l}function kb(){if(--og===0&&Ic!==null){xl!==null&&(xl.status="fulfilled");var r=Ic;Ic=null,pl=0,xl=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function QC(r,l){var u=[],m={status:"pending",value:null,reason:null,then:function(x){u.push(x)}};return r.then(function(){m.status="fulfilled",m.value=l;for(var x=0;x<u.length;x++)(0,u[x])(l)},function(x){for(m.status="rejected",m.reason=x,x=0;x<u.length;x++)(0,u[x])(void 0)}),m}var Cb=$.S;$.S=function(r,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&KC(r,l),Cb!==null&&Cb(r,l)};var wo=ne(null);function lg(){var r=wo.current;return r!==null?r:gs.pooledCache}function Hu(r,l){l===null?X(wo,wo.current):X(wo,l.pool)}function Eb(){var r=lg();return r===null?null:{parent:Gs._currentValue,pool:r}}var qc=Error(n(460)),Db=Error(n(474)),$u=Error(n(542)),cg={then:function(){}};function Ab(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Vu(){}function Ob(r,l,u){switch(u=r[u],u===void 0?r.push(l):u!==l&&(l.then(Vu,Vu),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,Rb(r),r;default:if(typeof l.status=="string")l.then(Vu,Vu);else{if(r=gs,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=l,r.status="pending",r.then(function(m){if(l.status==="pending"){var x=l;x.status="fulfilled",x.value=m}},function(m){if(l.status==="pending"){var x=l;x.status="rejected",x.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,Rb(r),r}throw Wc=l,qc}}var Wc=null;function Mb(){if(Wc===null)throw Error(n(459));var r=Wc;return Wc=null,r}function Rb(r){if(r===qc||r===$u)throw Error(n(483))}var ri=!1;function dg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ug(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ii(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function oi(r,l,u){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(es&2)!==0){var x=m.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),m.pending=l,l=Pu(r),vb(r,null,u),l}return Ru(r,m,l,u),Pu(r)}function Yc(r,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var m=l.lanes;m&=r.pendingLanes,u|=m,l.lanes=u,Zt(r,u)}}function hg(r,l){var u=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var x=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?x=w=O:w=w.next=O,u=u.next}while(u!==null);w===null?x=w=l:w=w.next=l}else x=w=l;u={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=l:r.next=l,u.lastBaseUpdate=l}var fg=!1;function Gc(){if(fg){var r=xl;if(r!==null)throw r}}function Xc(r,l,u,m){fg=!1;var x=r.updateQueue;ri=!1;var w=x.firstBaseUpdate,O=x.lastBaseUpdate,B=x.shared.pending;if(B!==null){x.shared.pending=null;var J=B,xe=J.next;J.next=null,O===null?w=xe:O.next=xe,O=J;var Ee=r.alternate;Ee!==null&&(Ee=Ee.updateQueue,B=Ee.lastBaseUpdate,B!==O&&(B===null?Ee.firstBaseUpdate=xe:B.next=xe,Ee.lastBaseUpdate=J))}if(w!==null){var Oe=x.baseState;O=0,Ee=xe=J=null,B=w;do{var ve=B.lane&-536870913,je=ve!==B.lane;if(je?(qt&ve)===ve:(m&ve)===ve){ve!==0&&ve===pl&&(fg=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var _t=r,vt=B;ve=l;var cs=u;switch(vt.tag){case 1:if(_t=vt.payload,typeof _t=="function"){Oe=_t.call(cs,Oe,ve);break e}Oe=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=vt.payload,ve=typeof _t=="function"?_t.call(cs,Oe,ve):_t,ve==null)break e;Oe=g({},Oe,ve);break e;case 2:ri=!0}}ve=B.callback,ve!==null&&(r.flags|=64,je&&(r.flags|=8192),je=x.callbacks,je===null?x.callbacks=[ve]:je.push(ve))}else je={lane:ve,tag:B.tag,payload:B.payload,callback:B.callback,next:null},Ee===null?(xe=Ee=je,J=Oe):Ee=Ee.next=je,O|=ve;if(B=B.next,B===null){if(B=x.shared.pending,B===null)break;je=B,B=je.next,je.next=null,x.lastBaseUpdate=je,x.shared.pending=null}}while(!0);Ee===null&&(J=Oe),x.baseState=J,x.firstBaseUpdate=xe,x.lastBaseUpdate=Ee,w===null&&(x.shared.lanes=0),gi|=O,r.lanes=O,r.memoizedState=Oe}}function Pb(r,l){if(typeof r!="function")throw Error(n(191,r));r.call(l)}function Lb(r,l){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)Pb(u[r],l)}var yl=ne(null),Iu=ne(0);function Bb(r,l){r=Lr,X(Iu,r),X(yl,l),Lr=r|l.baseLanes}function mg(){X(Iu,Lr),X(yl,yl.current)}function gg(){Lr=Iu.current,ge(yl),ge(Iu)}var li=0,Bt=null,os=null,Hs=null,qu=!1,bl=!1,jo=!1,Wu=0,Kc=0,vl=null,ZC=0;function Rs(){throw Error(n(321))}function pg(r,l){if(l===null)return!1;for(var u=0;u<l.length&&u<r.length;u++)if(!Wn(r[u],l[u]))return!1;return!0}function xg(r,l,u,m,x,w){return li=w,Bt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,$.H=r===null||r.memoizedState===null?vv:wv,jo=!1,w=u(m,x),jo=!1,bl&&(w=zb(l,u,m,x)),Fb(r),w}function Fb(r){$.H=Zu;var l=os!==null&&os.next!==null;if(li=0,Hs=os=Bt=null,qu=!1,Kc=0,vl=null,l)throw Error(n(300));r===null||sn||(r=r.dependencies,r!==null&&zu(r)&&(sn=!0))}function zb(r,l,u,m){Bt=r;var x=0;do{if(bl&&(vl=null),Kc=0,bl=!1,25<=x)throw Error(n(301));if(x+=1,Hs=os=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}$.H=rE,w=l(u,m)}while(bl);return w}function JC(){var r=$.H,l=r.useState()[0];return l=typeof l.then=="function"?Qc(l):l,r=r.useState()[0],(os!==null?os.memoizedState:null)!==r&&(Bt.flags|=1024),l}function yg(){var r=Wu!==0;return Wu=0,r}function bg(r,l,u){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~u}function vg(r){if(qu){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}qu=!1}li=0,Hs=os=Bt=null,bl=!1,Kc=Wu=0,vl=null}function Ln(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hs===null?Bt.memoizedState=Hs=r:Hs=Hs.next=r,Hs}function $s(){if(os===null){var r=Bt.alternate;r=r!==null?r.memoizedState:null}else r=os.next;var l=Hs===null?Bt.memoizedState:Hs.next;if(l!==null)Hs=l,os=r;else{if(r===null)throw Bt.alternate===null?Error(n(467)):Error(n(310));os=r,r={memoizedState:os.memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},Hs===null?Bt.memoizedState=Hs=r:Hs=Hs.next=r}return Hs}function wg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qc(r){var l=Kc;return Kc+=1,vl===null&&(vl=[]),r=Ob(vl,r,l),l=Bt,(Hs===null?l.memoizedState:Hs.next)===null&&(l=l.alternate,$.H=l===null||l.memoizedState===null?vv:wv),r}function Yu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Qc(r);if(r.$$typeof===k)return wn(r)}throw Error(n(438,String(r)))}function jg(r){var l=null,u=Bt.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var m=Bt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(x){return x.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=wg(),Bt.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(r),m=0;m<r;m++)u[m]=V;return l.index++,u}function Dr(r,l){return typeof l=="function"?l(r):l}function Gu(r){var l=$s();return Ng(l,os,r)}function Ng(r,l,u){var m=r.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var x=r.baseQueue,w=m.pending;if(w!==null){if(x!==null){var O=x.next;x.next=w.next,w.next=O}l.baseQueue=x=w,m.pending=null}if(w=r.baseState,x===null)r.memoizedState=w;else{l=x.next;var B=O=null,J=null,xe=l,Ee=!1;do{var Oe=xe.lane&-536870913;if(Oe!==xe.lane?(qt&Oe)===Oe:(li&Oe)===Oe){var ve=xe.revertLane;if(ve===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),Oe===pl&&(Ee=!0);else if((li&ve)===ve){xe=xe.next,ve===pl&&(Ee=!0);continue}else Oe={lane:0,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},J===null?(B=J=Oe,O=w):J=J.next=Oe,Bt.lanes|=ve,gi|=ve;Oe=xe.action,jo&&u(w,Oe),w=xe.hasEagerState?xe.eagerState:u(w,Oe)}else ve={lane:Oe,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},J===null?(B=J=ve,O=w):J=J.next=ve,Bt.lanes|=Oe,gi|=Oe;xe=xe.next}while(xe!==null&&xe!==l);if(J===null?O=w:J.next=B,!Wn(w,r.memoizedState)&&(sn=!0,Ee&&(u=xl,u!==null)))throw u;r.memoizedState=w,r.baseState=O,r.baseQueue=J,m.lastRenderedState=w}return x===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function _g(r){var l=$s(),u=l.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var m=u.dispatch,x=u.pending,w=l.memoizedState;if(x!==null){u.pending=null;var O=x=x.next;do w=r(w,O.action),O=O.next;while(O!==x);Wn(w,l.memoizedState)||(sn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),u.lastRenderedState=w}return[w,m]}function Ub(r,l,u){var m=Bt,x=$s(),w=Qt;if(w){if(u===void 0)throw Error(n(407));u=u()}else u=l();var O=!Wn((os||x).memoizedState,u);O&&(x.memoizedState=u,sn=!0),x=x.queue;var B=Vb.bind(null,m,x,r);if(Zc(2048,8,B,[r]),x.getSnapshot!==l||O||Hs!==null&&Hs.memoizedState.tag&1){if(m.flags|=2048,wl(9,Xu(),$b.bind(null,m,x,u,l),null),gs===null)throw Error(n(349));w||(li&124)!==0||Hb(m,l,u)}return u}function Hb(r,l,u){r.flags|=16384,r={getSnapshot:l,value:u},l=Bt.updateQueue,l===null?(l=wg(),Bt.updateQueue=l,l.stores=[r]):(u=l.stores,u===null?l.stores=[r]:u.push(r))}function $b(r,l,u,m){l.value=u,l.getSnapshot=m,Ib(l)&&qb(r)}function Vb(r,l,u){return u(function(){Ib(l)&&qb(r)})}function Ib(r){var l=r.getSnapshot;r=r.value;try{var u=l();return!Wn(r,u)}catch(m){return!0}}function qb(r){var l=hl(r,2);l!==null&&Zn(l,r,2)}function Tg(r){var l=Ln();if(typeof r=="function"){var u=r;if(r=u(),jo){st(!0);try{u()}finally{st(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:r},l}function Wb(r,l,u,m){return r.baseState=u,Ng(r,os,typeof m=="function"?m:Dr)}function eE(r,l,u,m,x){if(Qu(r))throw Error(n(485));if(r=l.action,r!==null){var w={payload:x,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){w.listeners.push(O)}};$.T!==null?u(!0):w.isTransition=!1,m(w),u=l.pending,u===null?(w.next=l.pending=w,Yb(l,w)):(w.next=u.next,l.pending=u.next=w)}}function Yb(r,l){var u=l.action,m=l.payload,x=r.state;if(l.isTransition){var w=$.T,O={};$.T=O;try{var B=u(x,m),J=$.S;J!==null&&J(O,B),Gb(r,l,B)}catch(xe){Sg(r,l,xe)}finally{$.T=w}}else try{w=u(x,m),Gb(r,l,w)}catch(xe){Sg(r,l,xe)}}function Gb(r,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){Xb(r,l,m)},function(m){return Sg(r,l,m)}):Xb(r,l,u)}function Xb(r,l,u){l.status="fulfilled",l.value=u,Kb(l),r.state=u,l=r.pending,l!==null&&(u=l.next,u===l?r.pending=null:(u=u.next,l.next=u,Yb(r,u)))}function Sg(r,l,u){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=u,Kb(l),l=l.next;while(l!==m)}r.action=null}function Kb(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function Qb(r,l){return l}function Zb(r,l){if(Qt){var u=gs.formState;if(u!==null){e:{var m=Bt;if(Qt){if(Cs){t:{for(var x=Cs,w=Xa;x.nodeType!==8;){if(!w){x=null;break t}if(x=Da(x.nextSibling),x===null){x=null;break t}}w=x.data,x=w==="F!"||w==="F"?x:null}if(x){Cs=Da(x.nextSibling),m=x.data==="F!";break e}}yo(m)}m=!1}m&&(l=u[0])}}return u=Ln(),u.memoizedState=u.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qb,lastRenderedState:l},u.queue=m,u=xv.bind(null,Bt,m),m.dispatch=u,m=Tg(!1),w=Ag.bind(null,Bt,!1,m.queue),m=Ln(),x={state:l,dispatch:null,action:r,pending:null},m.queue=x,u=eE.bind(null,Bt,x,w,u),x.dispatch=u,m.memoizedState=r,[l,u,!1]}function Jb(r){var l=$s();return ev(l,os,r)}function ev(r,l,u){if(l=Ng(r,l,Qb)[0],r=Gu(Dr)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Qc(l)}catch(O){throw O===qc?$u:O}else m=l;l=$s();var x=l.queue,w=x.dispatch;return u!==l.memoizedState&&(Bt.flags|=2048,wl(9,Xu(),tE.bind(null,x,u),null)),[m,w,r]}function tE(r,l){r.action=l}function tv(r){var l=$s(),u=os;if(u!==null)return ev(l,u,r);$s(),l=l.memoizedState,u=$s();var m=u.queue.dispatch;return u.memoizedState=r,[l,m,!1]}function wl(r,l,u,m){return r={tag:r,create:u,deps:m,inst:l,next:null},l=Bt.updateQueue,l===null&&(l=wg(),Bt.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=r.next=r:(m=u.next,u.next=r,r.next=m,l.lastEffect=r),r}function Xu(){return{destroy:void 0,resource:void 0}}function sv(){return $s().memoizedState}function Ku(r,l,u,m){var x=Ln();m=m===void 0?null:m,Bt.flags|=r,x.memoizedState=wl(1|l,Xu(),u,m)}function Zc(r,l,u,m){var x=$s();m=m===void 0?null:m;var w=x.memoizedState.inst;os!==null&&m!==null&&pg(m,os.memoizedState.deps)?x.memoizedState=wl(l,w,u,m):(Bt.flags|=r,x.memoizedState=wl(1|l,w,u,m))}function nv(r,l){Ku(8390656,8,r,l)}function av(r,l){Zc(2048,8,r,l)}function rv(r,l){return Zc(4,2,r,l)}function iv(r,l){return Zc(4,4,r,l)}function ov(r,l){if(typeof l=="function"){r=r();var u=l(r);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function lv(r,l,u){u=u!=null?u.concat([r]):null,Zc(4,4,ov.bind(null,l,r),u)}function kg(){}function cv(r,l){var u=$s();l=l===void 0?null:l;var m=u.memoizedState;return l!==null&&pg(l,m[1])?m[0]:(u.memoizedState=[r,l],r)}function dv(r,l){var u=$s();l=l===void 0?null:l;var m=u.memoizedState;if(l!==null&&pg(l,m[1]))return m[0];if(m=r(),jo){st(!0);try{r()}finally{st(!1)}}return u.memoizedState=[m,l],m}function Cg(r,l,u){return u===void 0||(li&1073741824)!==0?r.memoizedState=l:(r.memoizedState=u,r=fw(),Bt.lanes|=r,gi|=r,u)}function uv(r,l,u,m){return Wn(u,l)?u:yl.current!==null?(r=Cg(r,u,m),Wn(r,l)||(sn=!0),r):(li&42)===0?(sn=!0,r.memoizedState=u):(r=fw(),Bt.lanes|=r,gi|=r,l)}function hv(r,l,u,m,x){var w=ee.p;ee.p=w!==0&&8>w?w:8;var O=$.T,B={};$.T=B,Ag(r,!1,l,u);try{var J=x(),xe=$.S;if(xe!==null&&xe(B,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var Ee=QC(J,m);Jc(r,l,Ee,Qn(r))}else Jc(r,l,m,Qn(r))}catch(Oe){Jc(r,l,{then:function(){},status:"rejected",reason:Oe},Qn())}finally{ee.p=w,$.T=O}}function sE(){}function Eg(r,l,u,m){if(r.tag!==5)throw Error(n(476));var x=fv(r).queue;hv(r,x,l,se,u===null?sE:function(){return mv(r),u(m)})}function fv(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:se},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:u},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function mv(r){var l=fv(r).next.queue;Jc(r,l,{},Qn())}function Dg(){return wn(xd)}function gv(){return $s().memoizedState}function pv(){return $s().memoizedState}function nE(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var u=Qn();r=ii(u);var m=oi(l,r,u);m!==null&&(Zn(m,l,u),Yc(m,l,u)),l={cache:ig()},r.payload=l;return}l=l.return}}function aE(r,l,u){var m=Qn();u={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Qu(r)?yv(l,u):(u=Km(r,l,u,m),u!==null&&(Zn(u,r,m),bv(u,l,m)))}function xv(r,l,u){var m=Qn();Jc(r,l,u,m)}function Jc(r,l,u,m){var x={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Qu(r))yv(l,x);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var O=l.lastRenderedState,B=w(O,u);if(x.hasEagerState=!0,x.eagerState=B,Wn(B,O))return Ru(r,l,x,0),gs===null&&Mu(),!1}catch(J){}finally{}if(u=Km(r,l,x,m),u!==null)return Zn(u,r,m),bv(u,l,m),!0}return!1}function Ag(r,l,u,m){if(m={lane:2,revertLane:cp(),action:m,hasEagerState:!1,eagerState:null,next:null},Qu(r)){if(l)throw Error(n(479))}else l=Km(r,u,m,2),l!==null&&Zn(l,r,2)}function Qu(r){var l=r.alternate;return r===Bt||l!==null&&l===Bt}function yv(r,l){bl=qu=!0;var u=r.pending;u===null?l.next=l:(l.next=u.next,u.next=l),r.pending=l}function bv(r,l,u){if((u&4194048)!==0){var m=l.lanes;m&=r.pendingLanes,u|=m,l.lanes=u,Zt(r,u)}}var Zu={readContext:wn,use:Yu,useCallback:Rs,useContext:Rs,useEffect:Rs,useImperativeHandle:Rs,useLayoutEffect:Rs,useInsertionEffect:Rs,useMemo:Rs,useReducer:Rs,useRef:Rs,useState:Rs,useDebugValue:Rs,useDeferredValue:Rs,useTransition:Rs,useSyncExternalStore:Rs,useId:Rs,useHostTransitionStatus:Rs,useFormState:Rs,useActionState:Rs,useOptimistic:Rs,useMemoCache:Rs,useCacheRefresh:Rs},vv={readContext:wn,use:Yu,useCallback:function(r,l){return Ln().memoizedState=[r,l===void 0?null:l],r},useContext:wn,useEffect:nv,useImperativeHandle:function(r,l,u){u=u!=null?u.concat([r]):null,Ku(4194308,4,ov.bind(null,l,r),u)},useLayoutEffect:function(r,l){return Ku(4194308,4,r,l)},useInsertionEffect:function(r,l){Ku(4,2,r,l)},useMemo:function(r,l){var u=Ln();l=l===void 0?null:l;var m=r();if(jo){st(!0);try{r()}finally{st(!1)}}return u.memoizedState=[m,l],m},useReducer:function(r,l,u){var m=Ln();if(u!==void 0){var x=u(l);if(jo){st(!0);try{u(l)}finally{st(!1)}}}else x=l;return m.memoizedState=m.baseState=x,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:x},m.queue=r,r=r.dispatch=aE.bind(null,Bt,r),[m.memoizedState,r]},useRef:function(r){var l=Ln();return r={current:r},l.memoizedState=r},useState:function(r){r=Tg(r);var l=r.queue,u=xv.bind(null,Bt,l);return l.dispatch=u,[r.memoizedState,u]},useDebugValue:kg,useDeferredValue:function(r,l){var u=Ln();return Cg(u,r,l)},useTransition:function(){var r=Tg(!1);return r=hv.bind(null,Bt,r.queue,!0,!1),Ln().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,u){var m=Bt,x=Ln();if(Qt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=l(),gs===null)throw Error(n(349));(qt&124)!==0||Hb(m,l,u)}x.memoizedState=u;var w={value:u,getSnapshot:l};return x.queue=w,nv(Vb.bind(null,m,w,r),[r]),m.flags|=2048,wl(9,Xu(),$b.bind(null,m,w,u,l),null),u},useId:function(){var r=Ln(),l=gs.identifierPrefix;if(Qt){var u=kr,m=Sr;u=(m&~(1<<32-wt(m)-1)).toString(32)+u,l="«"+l+"R"+u,u=Wu++,0<u&&(l+="H"+u.toString(32)),l+="»"}else u=ZC++,l="«"+l+"r"+u.toString(32)+"»";return r.memoizedState=l},useHostTransitionStatus:Dg,useFormState:Zb,useActionState:Zb,useOptimistic:function(r){var l=Ln();l.memoizedState=l.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Ag.bind(null,Bt,!0,u),u.dispatch=l,[r,l]},useMemoCache:jg,useCacheRefresh:function(){return Ln().memoizedState=nE.bind(null,Bt)}},wv={readContext:wn,use:Yu,useCallback:cv,useContext:wn,useEffect:av,useImperativeHandle:lv,useInsertionEffect:rv,useLayoutEffect:iv,useMemo:dv,useReducer:Gu,useRef:sv,useState:function(){return Gu(Dr)},useDebugValue:kg,useDeferredValue:function(r,l){var u=$s();return uv(u,os.memoizedState,r,l)},useTransition:function(){var r=Gu(Dr)[0],l=$s().memoizedState;return[typeof r=="boolean"?r:Qc(r),l]},useSyncExternalStore:Ub,useId:gv,useHostTransitionStatus:Dg,useFormState:Jb,useActionState:Jb,useOptimistic:function(r,l){var u=$s();return Wb(u,os,r,l)},useMemoCache:jg,useCacheRefresh:pv},rE={readContext:wn,use:Yu,useCallback:cv,useContext:wn,useEffect:av,useImperativeHandle:lv,useInsertionEffect:rv,useLayoutEffect:iv,useMemo:dv,useReducer:_g,useRef:sv,useState:function(){return _g(Dr)},useDebugValue:kg,useDeferredValue:function(r,l){var u=$s();return os===null?Cg(u,r,l):uv(u,os.memoizedState,r,l)},useTransition:function(){var r=_g(Dr)[0],l=$s().memoizedState;return[typeof r=="boolean"?r:Qc(r),l]},useSyncExternalStore:Ub,useId:gv,useHostTransitionStatus:Dg,useFormState:tv,useActionState:tv,useOptimistic:function(r,l){var u=$s();return os!==null?Wb(u,os,r,l):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:jg,useCacheRefresh:pv},jl=null,ed=0;function Ju(r){var l=ed;return ed+=1,jl===null&&(jl=[]),Ob(jl,r,l)}function td(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function eh(r,l){throw l.$$typeof===p?Error(n(525)):(r=Object.prototype.toString.call(l),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function jv(r){var l=r._init;return l(r._payload)}function Nv(r){function l(de,ae){if(r){var he=de.deletions;he===null?(de.deletions=[ae],de.flags|=16):he.push(ae)}}function u(de,ae){if(!r)return null;for(;ae!==null;)l(de,ae),ae=ae.sibling;return null}function m(de){for(var ae=new Map;de!==null;)de.key!==null?ae.set(de.key,de):ae.set(de.index,de),de=de.sibling;return ae}function x(de,ae){return de=Tr(de,ae),de.index=0,de.sibling=null,de}function w(de,ae,he){return de.index=he,r?(he=de.alternate,he!==null?(he=he.index,he<ae?(de.flags|=67108866,ae):he):(de.flags|=67108866,ae)):(de.flags|=1048576,ae)}function O(de){return r&&de.alternate===null&&(de.flags|=67108866),de}function B(de,ae,he,Ae){return ae===null||ae.tag!==6?(ae=Zm(he,de.mode,Ae),ae.return=de,ae):(ae=x(ae,he),ae.return=de,ae)}function J(de,ae,he,Ae){var at=he.type;return at===j?Ee(de,ae,he.props.children,Ae,he.key):ae!==null&&(ae.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===L&&jv(at)===ae.type)?(ae=x(ae,he.props),td(ae,he),ae.return=de,ae):(ae=Lu(he.type,he.key,he.props,null,de.mode,Ae),td(ae,he),ae.return=de,ae)}function xe(de,ae,he,Ae){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==he.containerInfo||ae.stateNode.implementation!==he.implementation?(ae=Jm(he,de.mode,Ae),ae.return=de,ae):(ae=x(ae,he.children||[]),ae.return=de,ae)}function Ee(de,ae,he,Ae,at){return ae===null||ae.tag!==7?(ae=mo(he,de.mode,Ae,at),ae.return=de,ae):(ae=x(ae,he),ae.return=de,ae)}function Oe(de,ae,he){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Zm(""+ae,de.mode,he),ae.return=de,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return he=Lu(ae.type,ae.key,ae.props,null,de.mode,he),td(he,ae),he.return=de,he;case y:return ae=Jm(ae,de.mode,he),ae.return=de,ae;case L:var Ae=ae._init;return ae=Ae(ae._payload),Oe(de,ae,he)}if(K(ae)||G(ae))return ae=mo(ae,de.mode,he,null),ae.return=de,ae;if(typeof ae.then=="function")return Oe(de,Ju(ae),he);if(ae.$$typeof===k)return Oe(de,Uu(de,ae),he);eh(de,ae)}return null}function ve(de,ae,he,Ae){var at=ae!==null?ae.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return at!==null?null:B(de,ae,""+he,Ae);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case b:return he.key===at?J(de,ae,he,Ae):null;case y:return he.key===at?xe(de,ae,he,Ae):null;case L:return at=he._init,he=at(he._payload),ve(de,ae,he,Ae)}if(K(he)||G(he))return at!==null?null:Ee(de,ae,he,Ae,null);if(typeof he.then=="function")return ve(de,ae,Ju(he),Ae);if(he.$$typeof===k)return ve(de,ae,Uu(de,he),Ae);eh(de,he)}return null}function je(de,ae,he,Ae,at){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return de=de.get(he)||null,B(ae,de,""+Ae,at);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case b:return de=de.get(Ae.key===null?he:Ae.key)||null,J(ae,de,Ae,at);case y:return de=de.get(Ae.key===null?he:Ae.key)||null,xe(ae,de,Ae,at);case L:var Ut=Ae._init;return Ae=Ut(Ae._payload),je(de,ae,he,Ae,at)}if(K(Ae)||G(Ae))return de=de.get(he)||null,Ee(ae,de,Ae,at,null);if(typeof Ae.then=="function")return je(de,ae,he,Ju(Ae),at);if(Ae.$$typeof===k)return je(de,ae,he,Uu(ae,Ae),at);eh(ae,Ae)}return null}function _t(de,ae,he,Ae){for(var at=null,Ut=null,ht=ae,Nt=ae=0,an=null;ht!==null&&Nt<he.length;Nt++){ht.index>Nt?(an=ht,ht=null):an=ht.sibling;var Xt=ve(de,ht,he[Nt],Ae);if(Xt===null){ht===null&&(ht=an);break}r&&ht&&Xt.alternate===null&&l(de,ht),ae=w(Xt,ae,Nt),Ut===null?at=Xt:Ut.sibling=Xt,Ut=Xt,ht=an}if(Nt===he.length)return u(de,ht),Qt&&po(de,Nt),at;if(ht===null){for(;Nt<he.length;Nt++)ht=Oe(de,he[Nt],Ae),ht!==null&&(ae=w(ht,ae,Nt),Ut===null?at=ht:Ut.sibling=ht,Ut=ht);return Qt&&po(de,Nt),at}for(ht=m(ht);Nt<he.length;Nt++)an=je(ht,de,Nt,he[Nt],Ae),an!==null&&(r&&an.alternate!==null&&ht.delete(an.key===null?Nt:an.key),ae=w(an,ae,Nt),Ut===null?at=an:Ut.sibling=an,Ut=an);return r&&ht.forEach(function(_i){return l(de,_i)}),Qt&&po(de,Nt),at}function vt(de,ae,he,Ae){if(he==null)throw Error(n(151));for(var at=null,Ut=null,ht=ae,Nt=ae=0,an=null,Xt=he.next();ht!==null&&!Xt.done;Nt++,Xt=he.next()){ht.index>Nt?(an=ht,ht=null):an=ht.sibling;var _i=ve(de,ht,Xt.value,Ae);if(_i===null){ht===null&&(ht=an);break}r&&ht&&_i.alternate===null&&l(de,ht),ae=w(_i,ae,Nt),Ut===null?at=_i:Ut.sibling=_i,Ut=_i,ht=an}if(Xt.done)return u(de,ht),Qt&&po(de,Nt),at;if(ht===null){for(;!Xt.done;Nt++,Xt=he.next())Xt=Oe(de,Xt.value,Ae),Xt!==null&&(ae=w(Xt,ae,Nt),Ut===null?at=Xt:Ut.sibling=Xt,Ut=Xt);return Qt&&po(de,Nt),at}for(ht=m(ht);!Xt.done;Nt++,Xt=he.next())Xt=je(ht,de,Nt,Xt.value,Ae),Xt!==null&&(r&&Xt.alternate!==null&&ht.delete(Xt.key===null?Nt:Xt.key),ae=w(Xt,ae,Nt),Ut===null?at=Xt:Ut.sibling=Xt,Ut=Xt);return r&&ht.forEach(function(iD){return l(de,iD)}),Qt&&po(de,Nt),at}function cs(de,ae,he,Ae){if(typeof he=="object"&&he!==null&&he.type===j&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case b:e:{for(var at=he.key;ae!==null;){if(ae.key===at){if(at=he.type,at===j){if(ae.tag===7){u(de,ae.sibling),Ae=x(ae,he.props.children),Ae.return=de,de=Ae;break e}}else if(ae.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===L&&jv(at)===ae.type){u(de,ae.sibling),Ae=x(ae,he.props),td(Ae,he),Ae.return=de,de=Ae;break e}u(de,ae);break}else l(de,ae);ae=ae.sibling}he.type===j?(Ae=mo(he.props.children,de.mode,Ae,he.key),Ae.return=de,de=Ae):(Ae=Lu(he.type,he.key,he.props,null,de.mode,Ae),td(Ae,he),Ae.return=de,de=Ae)}return O(de);case y:e:{for(at=he.key;ae!==null;){if(ae.key===at)if(ae.tag===4&&ae.stateNode.containerInfo===he.containerInfo&&ae.stateNode.implementation===he.implementation){u(de,ae.sibling),Ae=x(ae,he.children||[]),Ae.return=de,de=Ae;break e}else{u(de,ae);break}else l(de,ae);ae=ae.sibling}Ae=Jm(he,de.mode,Ae),Ae.return=de,de=Ae}return O(de);case L:return at=he._init,he=at(he._payload),cs(de,ae,he,Ae)}if(K(he))return _t(de,ae,he,Ae);if(G(he)){if(at=G(he),typeof at!="function")throw Error(n(150));return he=at.call(he),vt(de,ae,he,Ae)}if(typeof he.then=="function")return cs(de,ae,Ju(he),Ae);if(he.$$typeof===k)return cs(de,ae,Uu(de,he),Ae);eh(de,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,ae!==null&&ae.tag===6?(u(de,ae.sibling),Ae=x(ae,he),Ae.return=de,de=Ae):(u(de,ae),Ae=Zm(he,de.mode,Ae),Ae.return=de,de=Ae),O(de)):u(de,ae)}return function(de,ae,he,Ae){try{ed=0;var at=cs(de,ae,he,Ae);return jl=null,at}catch(ht){if(ht===qc||ht===$u)throw ht;var Ut=Yn(29,ht,null,de.mode);return Ut.lanes=Ae,Ut.return=de,Ut}finally{}}}var Nl=Nv(!0),_v=Nv(!1),ma=ne(null),Ka=null;function ci(r){var l=r.alternate;X(Xs,Xs.current&1),X(ma,r),Ka===null&&(l===null||yl.current!==null||l.memoizedState!==null)&&(Ka=r)}function Tv(r){if(r.tag===22){if(X(Xs,Xs.current),X(ma,r),Ka===null){var l=r.alternate;l!==null&&l.memoizedState!==null&&(Ka=r)}}else di()}function di(){X(Xs,Xs.current),X(ma,ma.current)}function Ar(r){ge(ma),Ka===r&&(Ka=null),ge(Xs)}var Xs=ne(0);function th(r){for(var l=r;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||wp(u)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Og(r,l,u,m){l=r.memoizedState,u=u(m,l),u=u==null?l:g({},l,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Mg={enqueueSetState:function(r,l,u){r=r._reactInternals;var m=Qn(),x=ii(m);x.payload=l,u!=null&&(x.callback=u),l=oi(r,x,m),l!==null&&(Zn(l,r,m),Yc(l,r,m))},enqueueReplaceState:function(r,l,u){r=r._reactInternals;var m=Qn(),x=ii(m);x.tag=1,x.payload=l,u!=null&&(x.callback=u),l=oi(r,x,m),l!==null&&(Zn(l,r,m),Yc(l,r,m))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var u=Qn(),m=ii(u);m.tag=2,l!=null&&(m.callback=l),l=oi(r,m,u),l!==null&&(Zn(l,r,u),Yc(l,r,u))}};function Sv(r,l,u,m,x,w,O){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,w,O):l.prototype&&l.prototype.isPureReactComponent?!Bc(u,m)||!Bc(x,w):!0}function kv(r,l,u,m){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,m),l.state!==r&&Mg.enqueueReplaceState(l,l.state,null)}function No(r,l){var u=l;if("ref"in l){u={};for(var m in l)m!=="ref"&&(u[m]=l[m])}if(r=r.defaultProps){u===l&&(u=g({},u));for(var x in r)u[x]===void 0&&(u[x]=r[x])}return u}var sh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Cv(r){sh(r)}function Ev(r){console.error(r)}function Dv(r){sh(r)}function nh(r,l){try{var u=r.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function Av(r,l,u){try{var m=r.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Rg(r,l,u){return u=ii(u),u.tag=3,u.payload={element:null},u.callback=function(){nh(r,l)},u}function Ov(r){return r=ii(r),r.tag=3,r}function Mv(r,l,u,m){var x=u.type.getDerivedStateFromError;if(typeof x=="function"){var w=m.value;r.payload=function(){return x(w)},r.callback=function(){Av(l,u,m)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(r.callback=function(){Av(l,u,m),typeof x!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var B=m.stack;this.componentDidCatch(m.value,{componentStack:B!==null?B:""})})}function iE(r,l,u,m,x){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=u.alternate,l!==null&&$c(l,u,x,!0),u=ma.current,u!==null){switch(u.tag){case 13:return Ka===null?ap():u.alternate===null&&Es===0&&(Es=3),u.flags&=-257,u.flags|=65536,u.lanes=x,m===cg?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([m]):l.add(m),ip(r,m,x)),!1;case 22:return u.flags|=65536,m===cg?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([m]):u.add(m)),ip(r,m,x)),!1}throw Error(n(435,u.tag))}return ip(r,m,x),ap(),!1}if(Qt)return l=ma.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=x,m!==sg&&(r=Error(n(422),{cause:m}),Hc(da(r,u)))):(m!==sg&&(l=Error(n(423),{cause:m}),Hc(da(l,u))),r=r.current.alternate,r.flags|=65536,x&=-x,r.lanes|=x,m=da(m,u),x=Rg(r.stateNode,m,x),hg(r,x),Es!==4&&(Es=2)),!1;var w=Error(n(520),{cause:m});if(w=da(w,u),ld===null?ld=[w]:ld.push(w),Es!==4&&(Es=2),l===null)return!0;m=da(m,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,r=x&-x,u.lanes|=r,r=Rg(u.stateNode,m,r),hg(u,r),!1;case 1:if(l=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(pi===null||!pi.has(w))))return u.flags|=65536,x&=-x,u.lanes|=x,x=Ov(x),Mv(x,r,u,m),hg(u,x),!1}u=u.return}while(u!==null);return!1}var Rv=Error(n(461)),sn=!1;function cn(r,l,u,m){l.child=r===null?_v(l,null,u,m):Nl(l,r.child,u,m)}function Pv(r,l,u,m,x){u=u.render;var w=l.ref;if("ref"in m){var O={};for(var B in m)B!=="ref"&&(O[B]=m[B])}else O=m;return vo(l),m=xg(r,l,u,O,w,x),B=yg(),r!==null&&!sn?(bg(r,l,x),Or(r,l,x)):(Qt&&B&&eg(l),l.flags|=1,cn(r,l,m,x),l.child)}function Lv(r,l,u,m,x){if(r===null){var w=u.type;return typeof w=="function"&&!Qm(w)&&w.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=w,Bv(r,l,w,m,x)):(r=Lu(u.type,null,m,l,l.mode,x),r.ref=l.ref,r.return=l,l.child=r)}if(w=r.child,!$g(r,x)){var O=w.memoizedProps;if(u=u.compare,u=u!==null?u:Bc,u(O,m)&&r.ref===l.ref)return Or(r,l,x)}return l.flags|=1,r=Tr(w,m),r.ref=l.ref,r.return=l,l.child=r}function Bv(r,l,u,m,x){if(r!==null){var w=r.memoizedProps;if(Bc(w,m)&&r.ref===l.ref)if(sn=!1,l.pendingProps=m=w,$g(r,x))(r.flags&131072)!==0&&(sn=!0);else return l.lanes=r.lanes,Or(r,l,x)}return Pg(r,l,u,m,x)}function Fv(r,l,u){var m=l.pendingProps,x=m.children,w=r!==null?r.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=w!==null?w.baseLanes|u:u,r!==null){for(x=l.child=r.child,w=0;x!==null;)w=w|x.lanes|x.childLanes,x=x.sibling;l.childLanes=w&~m}else l.childLanes=0,l.child=null;return zv(r,l,m,u)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&Hu(l,w!==null?w.cachePool:null),w!==null?Bb(l,w):mg(),Tv(l);else return l.lanes=l.childLanes=536870912,zv(r,l,w!==null?w.baseLanes|u:u,u)}else w!==null?(Hu(l,w.cachePool),Bb(l,w),di(),l.memoizedState=null):(r!==null&&Hu(l,null),mg(),di());return cn(r,l,x,u),l.child}function zv(r,l,u,m){var x=lg();return x=x===null?null:{parent:Gs._currentValue,pool:x},l.memoizedState={baseLanes:u,cachePool:x},r!==null&&Hu(l,null),mg(),Tv(l),r!==null&&$c(r,l,m,!0),null}function ah(r,l){var u=l.ref;if(u===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(r===null||r.ref!==u)&&(l.flags|=4194816)}}function Pg(r,l,u,m,x){return vo(l),u=xg(r,l,u,m,void 0,x),m=yg(),r!==null&&!sn?(bg(r,l,x),Or(r,l,x)):(Qt&&m&&eg(l),l.flags|=1,cn(r,l,u,x),l.child)}function Uv(r,l,u,m,x,w){return vo(l),l.updateQueue=null,u=zb(l,m,u,x),Fb(r),m=yg(),r!==null&&!sn?(bg(r,l,w),Or(r,l,w)):(Qt&&m&&eg(l),l.flags|=1,cn(r,l,u,w),l.child)}function Hv(r,l,u,m,x){if(vo(l),l.stateNode===null){var w=fl,O=u.contextType;typeof O=="object"&&O!==null&&(w=wn(O)),w=new u(m,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Mg,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=m,w.state=l.memoizedState,w.refs={},dg(l),O=u.contextType,w.context=typeof O=="object"&&O!==null?wn(O):fl,w.state=l.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Og(l,u,O,m),w.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(O=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),O!==w.state&&Mg.enqueueReplaceState(w,w.state,null),Xc(l,m,w,x),Gc(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(r===null){w=l.stateNode;var B=l.memoizedProps,J=No(u,B);w.props=J;var xe=w.context,Ee=u.contextType;O=fl,typeof Ee=="object"&&Ee!==null&&(O=wn(Ee));var Oe=u.getDerivedStateFromProps;Ee=typeof Oe=="function"||typeof w.getSnapshotBeforeUpdate=="function",B=l.pendingProps!==B,Ee||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(B||xe!==O)&&kv(l,w,m,O),ri=!1;var ve=l.memoizedState;w.state=ve,Xc(l,m,w,x),Gc(),xe=l.memoizedState,B||ve!==xe||ri?(typeof Oe=="function"&&(Og(l,u,Oe,m),xe=l.memoizedState),(J=ri||Sv(l,u,J,m,ve,xe,O))?(Ee||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=xe),w.props=m,w.state=xe,w.context=O,m=J):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{w=l.stateNode,ug(r,l),O=l.memoizedProps,Ee=No(u,O),w.props=Ee,Oe=l.pendingProps,ve=w.context,xe=u.contextType,J=fl,typeof xe=="object"&&xe!==null&&(J=wn(xe)),B=u.getDerivedStateFromProps,(xe=typeof B=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==Oe||ve!==J)&&kv(l,w,m,J),ri=!1,ve=l.memoizedState,w.state=ve,Xc(l,m,w,x),Gc();var je=l.memoizedState;O!==Oe||ve!==je||ri||r!==null&&r.dependencies!==null&&zu(r.dependencies)?(typeof B=="function"&&(Og(l,u,B,m),je=l.memoizedState),(Ee=ri||Sv(l,u,Ee,m,ve,je,J)||r!==null&&r.dependencies!==null&&zu(r.dependencies))?(xe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,je,J),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,je,J)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||O===r.memoizedProps&&ve===r.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&ve===r.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=je),w.props=m,w.state=je,w.context=J,m=Ee):(typeof w.componentDidUpdate!="function"||O===r.memoizedProps&&ve===r.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&ve===r.memoizedState||(l.flags|=1024),m=!1)}return w=m,ah(r,l),m=(l.flags&128)!==0,w||m?(w=l.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,r!==null&&m?(l.child=Nl(l,r.child,null,x),l.child=Nl(l,null,u,x)):cn(r,l,u,x),l.memoizedState=w.state,r=l.child):r=Or(r,l,x),r}function $v(r,l,u,m){return Uc(),l.flags|=256,cn(r,l,u,m),l.child}var Lg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bg(r){return{baseLanes:r,cachePool:Eb()}}function Fg(r,l,u){return r=r!==null?r.childLanes&~u:0,l&&(r|=ga),r}function Vv(r,l,u){var m=l.pendingProps,x=!1,w=(l.flags&128)!==0,O;if((O=w)||(O=r!==null&&r.memoizedState===null?!1:(Xs.current&2)!==0),O&&(x=!0,l.flags&=-129),O=(l.flags&32)!==0,l.flags&=-33,r===null){if(Qt){if(x?ci(l):di(),Qt){var B=Cs,J;if(J=B){e:{for(J=B,B=Xa;J.nodeType!==8;){if(!B){B=null;break e}if(J=Da(J.nextSibling),J===null){B=null;break e}}B=J}B!==null?(l.memoizedState={dehydrated:B,treeContext:go!==null?{id:Sr,overflow:kr}:null,retryLane:536870912,hydrationErrors:null},J=Yn(18,null,null,0),J.stateNode=B,J.return=l,l.child=J,Sn=l,Cs=null,J=!0):J=!1}J||yo(l)}if(B=l.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return wp(B)?l.lanes=32:l.lanes=536870912,null;Ar(l)}return B=m.children,m=m.fallback,x?(di(),x=l.mode,B=rh({mode:"hidden",children:B},x),m=mo(m,x,u,null),B.return=l,m.return=l,B.sibling=m,l.child=B,x=l.child,x.memoizedState=Bg(u),x.childLanes=Fg(r,O,u),l.memoizedState=Lg,m):(ci(l),zg(l,B))}if(J=r.memoizedState,J!==null&&(B=J.dehydrated,B!==null)){if(w)l.flags&256?(ci(l),l.flags&=-257,l=Ug(r,l,u)):l.memoizedState!==null?(di(),l.child=r.child,l.flags|=128,l=null):(di(),x=m.fallback,B=l.mode,m=rh({mode:"visible",children:m.children},B),x=mo(x,B,u,null),x.flags|=2,m.return=l,x.return=l,m.sibling=x,l.child=m,Nl(l,r.child,null,u),m=l.child,m.memoizedState=Bg(u),m.childLanes=Fg(r,O,u),l.memoizedState=Lg,l=x);else if(ci(l),wp(B)){if(O=B.nextSibling&&B.nextSibling.dataset,O)var xe=O.dgst;O=xe,m=Error(n(419)),m.stack="",m.digest=O,Hc({value:m,source:null,stack:null}),l=Ug(r,l,u)}else if(sn||$c(r,l,u,!1),O=(u&r.childLanes)!==0,sn||O){if(O=gs,O!==null&&(m=u&-u,m=(m&42)!==0?1:fs(m),m=(m&(O.suspendedLanes|u))!==0?0:m,m!==0&&m!==J.retryLane))throw J.retryLane=m,hl(r,m),Zn(O,r,m),Rv;B.data==="$?"||ap(),l=Ug(r,l,u)}else B.data==="$?"?(l.flags|=192,l.child=r.child,l=null):(r=J.treeContext,Cs=Da(B.nextSibling),Sn=l,Qt=!0,xo=null,Xa=!1,r!==null&&(ha[fa++]=Sr,ha[fa++]=kr,ha[fa++]=go,Sr=r.id,kr=r.overflow,go=l),l=zg(l,m.children),l.flags|=4096);return l}return x?(di(),x=m.fallback,B=l.mode,J=r.child,xe=J.sibling,m=Tr(J,{mode:"hidden",children:m.children}),m.subtreeFlags=J.subtreeFlags&65011712,xe!==null?x=Tr(xe,x):(x=mo(x,B,u,null),x.flags|=2),x.return=l,m.return=l,m.sibling=x,l.child=m,m=x,x=l.child,B=r.child.memoizedState,B===null?B=Bg(u):(J=B.cachePool,J!==null?(xe=Gs._currentValue,J=J.parent!==xe?{parent:xe,pool:xe}:J):J=Eb(),B={baseLanes:B.baseLanes|u,cachePool:J}),x.memoizedState=B,x.childLanes=Fg(r,O,u),l.memoizedState=Lg,m):(ci(l),u=r.child,r=u.sibling,u=Tr(u,{mode:"visible",children:m.children}),u.return=l,u.sibling=null,r!==null&&(O=l.deletions,O===null?(l.deletions=[r],l.flags|=16):O.push(r)),l.child=u,l.memoizedState=null,u)}function zg(r,l){return l=rh({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function rh(r,l){return r=Yn(22,r,null,l),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Ug(r,l,u){return Nl(l,r.child,null,u),r=zg(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function Iv(r,l,u){r.lanes|=l;var m=r.alternate;m!==null&&(m.lanes|=l),ag(r.return,l,u)}function Hg(r,l,u,m,x){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:x}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=u,w.tailMode=x)}function qv(r,l,u){var m=l.pendingProps,x=m.revealOrder,w=m.tail;if(cn(r,l,m.children,u),m=Xs.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Iv(r,u,l);else if(r.tag===19)Iv(r,u,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}switch(X(Xs,m),x){case"forwards":for(u=l.child,x=null;u!==null;)r=u.alternate,r!==null&&th(r)===null&&(x=u),u=u.sibling;u=x,u===null?(x=l.child,l.child=null):(x=u.sibling,u.sibling=null),Hg(l,!1,x,u,w);break;case"backwards":for(u=null,x=l.child,l.child=null;x!==null;){if(r=x.alternate,r!==null&&th(r)===null){l.child=x;break}r=x.sibling,x.sibling=u,u=x,x=r}Hg(l,!0,u,null,w);break;case"together":Hg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Or(r,l,u){if(r!==null&&(l.dependencies=r.dependencies),gi|=l.lanes,(u&l.childLanes)===0)if(r!==null){if($c(r,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(n(153));if(l.child!==null){for(r=l.child,u=Tr(r,r.pendingProps),l.child=u,u.return=l;r.sibling!==null;)r=r.sibling,u=u.sibling=Tr(r,r.pendingProps),u.return=l;u.sibling=null}return l.child}function $g(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&zu(r)))}function oE(r,l,u){switch(l.tag){case 3:we(l,l.stateNode.containerInfo),ai(l,Gs,r.memoizedState.cache),Uc();break;case 27:case 5:Z(l);break;case 4:we(l,l.stateNode.containerInfo);break;case 10:ai(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(ci(l),l.flags|=128,null):(u&l.child.childLanes)!==0?Vv(r,l,u):(ci(l),r=Or(r,l,u),r!==null?r.sibling:null);ci(l);break;case 19:var x=(r.flags&128)!==0;if(m=(u&l.childLanes)!==0,m||($c(r,l,u,!1),m=(u&l.childLanes)!==0),x){if(m)return qv(r,l,u);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),X(Xs,Xs.current),m)break;return null;case 22:case 23:return l.lanes=0,Fv(r,l,u);case 24:ai(l,Gs,r.memoizedState.cache)}return Or(r,l,u)}function Wv(r,l,u){if(r!==null)if(r.memoizedProps!==l.pendingProps)sn=!0;else{if(!$g(r,u)&&(l.flags&128)===0)return sn=!1,oE(r,l,u);sn=(r.flags&131072)!==0}else sn=!1,Qt&&(l.flags&1048576)!==0&&jb(l,Fu,l.index);switch(l.lanes=0,l.tag){case 16:e:{r=l.pendingProps;var m=l.elementType,x=m._init;if(m=x(m._payload),l.type=m,typeof m=="function")Qm(m)?(r=No(m,r),l.tag=1,l=Hv(null,l,m,r,u)):(l.tag=0,l=Pg(null,l,m,r,u));else{if(m!=null){if(x=m.$$typeof,x===S){l.tag=11,l=Pv(null,l,m,r,u);break e}else if(x===z){l.tag=14,l=Lv(null,l,m,r,u);break e}}throw l=W(m)||m,Error(n(306,l,""))}}return l;case 0:return Pg(r,l,l.type,l.pendingProps,u);case 1:return m=l.type,x=No(m,l.pendingProps),Hv(r,l,m,x,u);case 3:e:{if(we(l,l.stateNode.containerInfo),r===null)throw Error(n(387));m=l.pendingProps;var w=l.memoizedState;x=w.element,ug(r,l),Xc(l,m,null,u);var O=l.memoizedState;if(m=O.cache,ai(l,Gs,m),m!==w.cache&&rg(l,[Gs],u,!0),Gc(),m=O.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:O.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=$v(r,l,m,u);break e}else if(m!==x){x=da(Error(n(424)),l),Hc(x),l=$v(r,l,m,u);break e}else{switch(r=l.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Cs=Da(r.firstChild),Sn=l,Qt=!0,xo=null,Xa=!0,u=_v(l,null,m,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Uc(),m===x){l=Or(r,l,u);break e}cn(r,l,m,u)}l=l.child}return l;case 26:return ah(r,l),r===null?(u=Kw(l.type,null,l.pendingProps,null))?l.memoizedState=u:Qt||(u=l.type,r=l.pendingProps,m=bh(me.current).createElement(u),m[Se]=l,m[Be]=r,un(m,u,r),ut(m),l.stateNode=m):l.memoizedState=Kw(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return Z(l),r===null&&Qt&&(m=l.stateNode=Yw(l.type,l.pendingProps,me.current),Sn=l,Xa=!0,x=Cs,bi(l.type)?(jp=x,Cs=Da(m.firstChild)):Cs=x),cn(r,l,l.pendingProps.children,u),ah(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&Qt&&((x=m=Cs)&&(m=PE(m,l.type,l.pendingProps,Xa),m!==null?(l.stateNode=m,Sn=l,Cs=Da(m.firstChild),Xa=!1,x=!0):x=!1),x||yo(l)),Z(l),x=l.type,w=l.pendingProps,O=r!==null?r.memoizedProps:null,m=w.children,yp(x,w)?m=null:O!==null&&yp(x,O)&&(l.flags|=32),l.memoizedState!==null&&(x=xg(r,l,JC,null,null,u),xd._currentValue=x),ah(r,l),cn(r,l,m,u),l.child;case 6:return r===null&&Qt&&((r=u=Cs)&&(u=LE(u,l.pendingProps,Xa),u!==null?(l.stateNode=u,Sn=l,Cs=null,r=!0):r=!1),r||yo(l)),null;case 13:return Vv(r,l,u);case 4:return we(l,l.stateNode.containerInfo),m=l.pendingProps,r===null?l.child=Nl(l,null,m,u):cn(r,l,m,u),l.child;case 11:return Pv(r,l,l.type,l.pendingProps,u);case 7:return cn(r,l,l.pendingProps,u),l.child;case 8:return cn(r,l,l.pendingProps.children,u),l.child;case 12:return cn(r,l,l.pendingProps.children,u),l.child;case 10:return m=l.pendingProps,ai(l,l.type,m.value),cn(r,l,m.children,u),l.child;case 9:return x=l.type._context,m=l.pendingProps.children,vo(l),x=wn(x),m=m(x),l.flags|=1,cn(r,l,m,u),l.child;case 14:return Lv(r,l,l.type,l.pendingProps,u);case 15:return Bv(r,l,l.type,l.pendingProps,u);case 19:return qv(r,l,u);case 31:return m=l.pendingProps,u=l.mode,m={mode:m.mode,children:m.children},r===null?(u=rh(m,u),u.ref=l.ref,l.child=u,u.return=l,l=u):(u=Tr(r.child,m),u.ref=l.ref,l.child=u,u.return=l,l=u),l;case 22:return Fv(r,l,u);case 24:return vo(l),m=wn(Gs),r===null?(x=lg(),x===null&&(x=gs,w=ig(),x.pooledCache=w,w.refCount++,w!==null&&(x.pooledCacheLanes|=u),x=w),l.memoizedState={parent:m,cache:x},dg(l),ai(l,Gs,x)):((r.lanes&u)!==0&&(ug(r,l),Xc(l,null,null,u),Gc()),x=r.memoizedState,w=l.memoizedState,x.parent!==m?(x={parent:m,cache:m},l.memoizedState=x,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=x),ai(l,Gs,m)):(m=w.cache,ai(l,Gs,m),m!==x.cache&&rg(l,[Gs],u,!0))),cn(r,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function Mr(r){r.flags|=4}function Yv(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!tj(l)){if(l=ma.current,l!==null&&((qt&4194048)===qt?Ka!==null:(qt&62914560)!==qt&&(qt&536870912)===0||l!==Ka))throw Wc=cg,Db;r.flags|=8192}}function ih(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?br():536870912,r.lanes|=l,kl|=l)}function sd(r,l){if(!Qt)switch(r.tailMode){case"hidden":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function js(r){var l=r.alternate!==null&&r.alternate.child===r.child,u=0,m=0;if(l)for(var x=r.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=m,r.childLanes=u,l}function lE(r,l,u){var m=l.pendingProps;switch(tg(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return js(l),null;case 1:return js(l),null;case 3:return u=l.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Er(Gs),Ce(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(zc(l)?Mr(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Tb())),js(l),null;case 26:return u=l.memoizedState,r===null?(Mr(l),u!==null?(js(l),Yv(l,u)):(js(l),l.flags&=-16777217)):u?u!==r.memoizedState?(Mr(l),js(l),Yv(l,u)):(js(l),l.flags&=-16777217):(r.memoizedProps!==m&&Mr(l),js(l),l.flags&=-16777217),null;case 27:Re(l),u=me.current;var x=l.type;if(r!==null&&l.stateNode!=null)r.memoizedProps!==m&&Mr(l);else{if(!m){if(l.stateNode===null)throw Error(n(166));return js(l),null}r=re.current,zc(l)?Nb(l):(r=Yw(x,m,u),l.stateNode=r,Mr(l))}return js(l),null;case 5:if(Re(l),u=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==m&&Mr(l);else{if(!m){if(l.stateNode===null)throw Error(n(166));return js(l),null}if(r=re.current,zc(l))Nb(l);else{switch(x=bh(me.current),r){case 1:r=x.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=x.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=x.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=x.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof m.is=="string"?x.createElement("select",{is:m.is}):x.createElement("select"),m.multiple?r.multiple=!0:m.size&&(r.size=m.size);break;default:r=typeof m.is=="string"?x.createElement(u,{is:m.is}):x.createElement(u)}}r[Se]=l,r[Be]=m;e:for(x=l.child;x!==null;){if(x.tag===5||x.tag===6)r.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===l)break e;for(;x.sibling===null;){if(x.return===null||x.return===l)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}l.stateNode=r;e:switch(un(r,u,m),u){case"button":case"input":case"select":case"textarea":r=!!m.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Mr(l)}}return js(l),l.flags&=-16777217,null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==m&&Mr(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(r=me.current,zc(l)){if(r=l.stateNode,u=l.memoizedProps,m=null,x=Sn,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}r[Se]=l,r=!!(r.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||Uw(r.nodeValue,u)),r||yo(l)}else r=bh(r).createTextNode(m),r[Se]=l,l.stateNode=r}return js(l),null;case 13:if(m=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(x=zc(l),m!==null&&m.dehydrated!==null){if(r===null){if(!x)throw Error(n(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Se]=l}else Uc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;js(l),x=!1}else x=Tb(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=x),x=!0;if(!x)return l.flags&256?(Ar(l),l):(Ar(l),null)}if(Ar(l),(l.flags&128)!==0)return l.lanes=u,l;if(u=m!==null,r=r!==null&&r.memoizedState!==null,u){m=l.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool);var w=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==x&&(m.flags|=2048)}return u!==r&&u&&(l.child.flags|=8192),ih(l,l.updateQueue),js(l),null;case 4:return Ce(),r===null&&fp(l.stateNode.containerInfo),js(l),null;case 10:return Er(l.type),js(l),null;case 19:if(ge(Xs),x=l.memoizedState,x===null)return js(l),null;if(m=(l.flags&128)!==0,w=x.rendering,w===null)if(m)sd(x,!1);else{if(Es!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(w=th(r),w!==null){for(l.flags|=128,sd(x,!1),r=w.updateQueue,l.updateQueue=r,ih(l,r),l.subtreeFlags=0,r=u,u=l.child;u!==null;)wb(u,r),u=u.sibling;return X(Xs,Xs.current&1|2),l.child}r=r.sibling}x.tail!==null&&De()>ch&&(l.flags|=128,m=!0,sd(x,!1),l.lanes=4194304)}else{if(!m)if(r=th(w),r!==null){if(l.flags|=128,m=!0,r=r.updateQueue,l.updateQueue=r,ih(l,r),sd(x,!0),x.tail===null&&x.tailMode==="hidden"&&!w.alternate&&!Qt)return js(l),null}else 2*De()-x.renderingStartTime>ch&&u!==536870912&&(l.flags|=128,m=!0,sd(x,!1),l.lanes=4194304);x.isBackwards?(w.sibling=l.child,l.child=w):(r=x.last,r!==null?r.sibling=w:l.child=w,x.last=w)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=De(),l.sibling=null,r=Xs.current,X(Xs,m?r&1|2:r&1),l):(js(l),null);case 22:case 23:return Ar(l),gg(),m=l.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(u&536870912)!==0&&(l.flags&128)===0&&(js(l),l.subtreeFlags&6&&(l.flags|=8192)):js(l),u=l.updateQueue,u!==null&&ih(l,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==u&&(l.flags|=2048),r!==null&&ge(wo),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Er(Gs),js(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function cE(r,l){switch(tg(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return Er(Gs),Ce(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return Re(l),null;case 13:if(Ar(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Uc()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return ge(Xs),null;case 4:return Ce(),null;case 10:return Er(l.type),null;case 22:case 23:return Ar(l),gg(),r!==null&&ge(wo),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return Er(Gs),null;case 25:return null;default:return null}}function Gv(r,l){switch(tg(l),l.tag){case 3:Er(Gs),Ce();break;case 26:case 27:case 5:Re(l);break;case 4:Ce();break;case 13:Ar(l);break;case 19:ge(Xs);break;case 10:Er(l.type);break;case 22:case 23:Ar(l),gg(),r!==null&&ge(wo);break;case 24:Er(Gs)}}function nd(r,l){try{var u=l.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var x=m.next;u=x;do{if((u.tag&r)===r){m=void 0;var w=u.create,O=u.inst;m=w(),O.destroy=m}u=u.next}while(u!==x)}}catch(B){hs(l,l.return,B)}}function ui(r,l,u){try{var m=l.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var w=x.next;m=w;do{if((m.tag&r)===r){var O=m.inst,B=O.destroy;if(B!==void 0){O.destroy=void 0,x=l;var J=u,xe=B;try{xe()}catch(Ee){hs(x,J,Ee)}}}m=m.next}while(m!==w)}}catch(Ee){hs(l,l.return,Ee)}}function Xv(r){var l=r.updateQueue;if(l!==null){var u=r.stateNode;try{Lb(l,u)}catch(m){hs(r,r.return,m)}}}function Kv(r,l,u){u.props=No(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(m){hs(r,l,m)}}function ad(r,l){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof u=="function"?r.refCleanup=u(m):u.current=m}}catch(x){hs(r,l,x)}}function Qa(r,l){var u=r.ref,m=r.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(x){hs(r,l,x)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(x){hs(r,l,x)}else u.current=null}function Qv(r){var l=r.type,u=r.memoizedProps,m=r.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(x){hs(r,r.return,x)}}function Vg(r,l,u){try{var m=r.stateNode;DE(m,r.type,u,l),m[Be]=l}catch(x){hs(r,r.return,x)}}function Zv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&bi(r.type)||r.tag===4}function Ig(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Zv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&bi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function qg(r,l,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(r),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=yh));else if(m!==4&&(m===27&&bi(r.type)&&(u=r.stateNode,l=null),r=r.child,r!==null))for(qg(r,l,u),r=r.sibling;r!==null;)qg(r,l,u),r=r.sibling}function oh(r,l,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,l?u.insertBefore(r,l):u.appendChild(r);else if(m!==4&&(m===27&&bi(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(oh(r,l,u),r=r.sibling;r!==null;)oh(r,l,u),r=r.sibling}function Jv(r){var l=r.stateNode,u=r.memoizedProps;try{for(var m=r.type,x=l.attributes;x.length;)l.removeAttributeNode(x[0]);un(l,m,u),l[Se]=r,l[Be]=u}catch(w){hs(r,r.return,w)}}var Rr=!1,Ps=!1,Wg=!1,ew=typeof WeakSet=="function"?WeakSet:Set,nn=null;function dE(r,l){if(r=r.containerInfo,pp=Th,r=ub(r),Im(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var x=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{u.nodeType,w.nodeType}catch(vt){u=null;break e}var O=0,B=-1,J=-1,xe=0,Ee=0,Oe=r,ve=null;t:for(;;){for(var je;Oe!==u||x!==0&&Oe.nodeType!==3||(B=O+x),Oe!==w||m!==0&&Oe.nodeType!==3||(J=O+m),Oe.nodeType===3&&(O+=Oe.nodeValue.length),(je=Oe.firstChild)!==null;)ve=Oe,Oe=je;for(;;){if(Oe===r)break t;if(ve===u&&++xe===x&&(B=O),ve===w&&++Ee===m&&(J=O),(je=Oe.nextSibling)!==null)break;Oe=ve,ve=Oe.parentNode}Oe=je}u=B===-1||J===-1?null:{start:B,end:J}}else u=null}u=u||{start:0,end:0}}else u=null;for(xp={focusedElem:r,selectionRange:u},Th=!1,nn=l;nn!==null;)if(l=nn,r=l.child,(l.subtreeFlags&1024)!==0&&r!==null)r.return=l,nn=r;else for(;nn!==null;){switch(l=nn,w=l.alternate,r=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,u=l,x=w.memoizedProps,w=w.memoizedState,m=u.stateNode;try{var _t=No(u.type,x,u.elementType===u.type);r=m.getSnapshotBeforeUpdate(_t,w),m.__reactInternalSnapshotBeforeUpdate=r}catch(vt){hs(u,u.return,vt)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,u=r.nodeType,u===9)vp(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":vp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=l.sibling,r!==null){r.return=l.return,nn=r;break}nn=l.return}}function tw(r,l,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:hi(r,u),m&4&&nd(5,u);break;case 1:if(hi(r,u),m&4)if(r=u.stateNode,l===null)try{r.componentDidMount()}catch(O){hs(u,u.return,O)}else{var x=No(u.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(x,l,r.__reactInternalSnapshotBeforeUpdate)}catch(O){hs(u,u.return,O)}}m&64&&Xv(u),m&512&&ad(u,u.return);break;case 3:if(hi(r,u),m&64&&(r=u.updateQueue,r!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{Lb(r,l)}catch(O){hs(u,u.return,O)}}break;case 27:l===null&&m&4&&Jv(u);case 26:case 5:hi(r,u),l===null&&m&4&&Qv(u),m&512&&ad(u,u.return);break;case 12:hi(r,u);break;case 13:hi(r,u),m&4&&aw(r,u),m&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=bE.bind(null,u),BE(r,u))));break;case 22:if(m=u.memoizedState!==null||Rr,!m){l=l!==null&&l.memoizedState!==null||Ps,x=Rr;var w=Ps;Rr=m,(Ps=l)&&!w?fi(r,u,(u.subtreeFlags&8772)!==0):hi(r,u),Rr=x,Ps=w}break;case 30:break;default:hi(r,u)}}function sw(r){var l=r.alternate;l!==null&&(r.alternate=null,sw(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&St(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var vs=null,Bn=!1;function Pr(r,l,u){for(u=u.child;u!==null;)nw(r,l,u),u=u.sibling}function nw(r,l,u){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Ve,u)}catch(w){}switch(u.tag){case 26:Ps||Qa(u,l),Pr(r,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ps||Qa(u,l);var m=vs,x=Bn;bi(u.type)&&(vs=u.stateNode,Bn=!1),Pr(r,l,u),fd(u.stateNode),vs=m,Bn=x;break;case 5:Ps||Qa(u,l);case 6:if(m=vs,x=Bn,vs=null,Pr(r,l,u),vs=m,Bn=x,vs!==null)if(Bn)try{(vs.nodeType===9?vs.body:vs.nodeName==="HTML"?vs.ownerDocument.body:vs).removeChild(u.stateNode)}catch(w){hs(u,l,w)}else try{vs.removeChild(u.stateNode)}catch(w){hs(u,l,w)}break;case 18:vs!==null&&(Bn?(r=vs,qw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),wd(r)):qw(vs,u.stateNode));break;case 4:m=vs,x=Bn,vs=u.stateNode.containerInfo,Bn=!0,Pr(r,l,u),vs=m,Bn=x;break;case 0:case 11:case 14:case 15:Ps||ui(2,u,l),Ps||ui(4,u,l),Pr(r,l,u);break;case 1:Ps||(Qa(u,l),m=u.stateNode,typeof m.componentWillUnmount=="function"&&Kv(u,l,m)),Pr(r,l,u);break;case 21:Pr(r,l,u);break;case 22:Ps=(m=Ps)||u.memoizedState!==null,Pr(r,l,u),Ps=m;break;default:Pr(r,l,u)}}function aw(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{wd(r)}catch(u){hs(l,l.return,u)}}function uE(r){switch(r.tag){case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new ew),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new ew),l;default:throw Error(n(435,r.tag))}}function Yg(r,l){var u=uE(r);l.forEach(function(m){var x=vE.bind(null,r,m);u.has(m)||(u.add(m),m.then(x,x))})}function Gn(r,l){var u=l.deletions;if(u!==null)for(var m=0;m<u.length;m++){var x=u[m],w=r,O=l,B=O;e:for(;B!==null;){switch(B.tag){case 27:if(bi(B.type)){vs=B.stateNode,Bn=!1;break e}break;case 5:vs=B.stateNode,Bn=!1;break e;case 3:case 4:vs=B.stateNode.containerInfo,Bn=!0;break e}B=B.return}if(vs===null)throw Error(n(160));nw(w,O,x),vs=null,Bn=!1,w=x.alternate,w!==null&&(w.return=null),x.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)rw(l,r),l=l.sibling}var Ea=null;function rw(r,l){var u=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Gn(l,r),Xn(r),m&4&&(ui(3,r,r.return),nd(3,r),ui(5,r,r.return));break;case 1:Gn(l,r),Xn(r),m&512&&(Ps||u===null||Qa(u,u.return)),m&64&&Rr&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var x=Ea;if(Gn(l,r),Xn(r),m&512&&(Ps||u===null||Qa(u,u.return)),m&4){var w=u!==null?u.memoizedState:null;if(m=r.memoizedState,u===null)if(m===null)if(r.stateNode===null){e:{m=r.type,u=r.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":w=x.getElementsByTagName("title")[0],(!w||w[dt]||w[Se]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=x.createElement(m),x.head.insertBefore(w,x.querySelector("head > title"))),un(w,m,u),w[Se]=r,ut(w),m=w;break e;case"link":var O=Jw("link","href",x).get(m+(u.href||""));if(O){for(var B=0;B<O.length;B++)if(w=O[B],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(B,1);break t}}w=x.createElement(m),un(w,m,u),x.head.appendChild(w);break;case"meta":if(O=Jw("meta","content",x).get(m+(u.content||""))){for(B=0;B<O.length;B++)if(w=O[B],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(B,1);break t}}w=x.createElement(m),un(w,m,u),x.head.appendChild(w);break;default:throw Error(n(468,m))}w[Se]=r,ut(w),m=w}r.stateNode=m}else ej(x,r.type,r.stateNode);else r.stateNode=Zw(x,m,r.memoizedProps);else w!==m?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,m===null?ej(x,r.type,r.stateNode):Zw(x,m,r.memoizedProps)):m===null&&r.stateNode!==null&&Vg(r,r.memoizedProps,u.memoizedProps)}break;case 27:Gn(l,r),Xn(r),m&512&&(Ps||u===null||Qa(u,u.return)),u!==null&&m&4&&Vg(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Gn(l,r),Xn(r),m&512&&(Ps||u===null||Qa(u,u.return)),r.flags&32){x=r.stateNode;try{Zr(x,"")}catch(je){hs(r,r.return,je)}}m&4&&r.stateNode!=null&&(x=r.memoizedProps,Vg(r,x,u!==null?u.memoizedProps:x)),m&1024&&(Wg=!0);break;case 6:if(Gn(l,r),Xn(r),m&4){if(r.stateNode===null)throw Error(n(162));m=r.memoizedProps,u=r.stateNode;try{u.nodeValue=m}catch(je){hs(r,r.return,je)}}break;case 3:if(jh=null,x=Ea,Ea=vh(l.containerInfo),Gn(l,r),Ea=x,Xn(r),m&4&&u!==null&&u.memoizedState.isDehydrated)try{wd(l.containerInfo)}catch(je){hs(r,r.return,je)}Wg&&(Wg=!1,iw(r));break;case 4:m=Ea,Ea=vh(r.stateNode.containerInfo),Gn(l,r),Xn(r),Ea=m;break;case 12:Gn(l,r),Xn(r);break;case 13:Gn(l,r),Xn(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Jg=De()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Yg(r,m)));break;case 22:x=r.memoizedState!==null;var J=u!==null&&u.memoizedState!==null,xe=Rr,Ee=Ps;if(Rr=xe||x,Ps=Ee||J,Gn(l,r),Ps=Ee,Rr=xe,Xn(r),m&8192)e:for(l=r.stateNode,l._visibility=x?l._visibility&-2:l._visibility|1,x&&(u===null||J||Rr||Ps||_o(r)),u=null,l=r;;){if(l.tag===5||l.tag===26){if(u===null){J=u=l;try{if(w=J.stateNode,x)O=w.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{B=J.stateNode;var Oe=J.memoizedProps.style,ve=Oe!=null&&Oe.hasOwnProperty("display")?Oe.display:null;B.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(je){hs(J,J.return,je)}}}else if(l.tag===6){if(u===null){J=l;try{J.stateNode.nodeValue=x?"":J.memoizedProps}catch(je){hs(J,J.return,je)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=r.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Yg(r,u))));break;case 19:Gn(l,r),Xn(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Yg(r,m)));break;case 30:break;case 21:break;default:Gn(l,r),Xn(r)}}function Xn(r){var l=r.flags;if(l&2){try{for(var u,m=r.return;m!==null;){if(Zv(m)){u=m;break}m=m.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var x=u.stateNode,w=Ig(r);oh(r,w,x);break;case 5:var O=u.stateNode;u.flags&32&&(Zr(O,""),u.flags&=-33);var B=Ig(r);oh(r,B,O);break;case 3:case 4:var J=u.stateNode.containerInfo,xe=Ig(r);qg(r,xe,J);break;default:throw Error(n(161))}}catch(Ee){hs(r,r.return,Ee)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function iw(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;iw(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function hi(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)tw(r,l.alternate,l),l=l.sibling}function _o(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:ui(4,l,l.return),_o(l);break;case 1:Qa(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&Kv(l,l.return,u),_o(l);break;case 27:fd(l.stateNode);case 26:case 5:Qa(l,l.return),_o(l);break;case 22:l.memoizedState===null&&_o(l);break;case 30:_o(l);break;default:_o(l)}r=r.sibling}}function fi(r,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,x=r,w=l,O=w.flags;switch(w.tag){case 0:case 11:case 15:fi(x,w,u),nd(4,w);break;case 1:if(fi(x,w,u),m=w,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(xe){hs(m,m.return,xe)}if(m=w,x=m.updateQueue,x!==null){var B=m.stateNode;try{var J=x.shared.hiddenCallbacks;if(J!==null)for(x.shared.hiddenCallbacks=null,x=0;x<J.length;x++)Pb(J[x],B)}catch(xe){hs(m,m.return,xe)}}u&&O&64&&Xv(w),ad(w,w.return);break;case 27:Jv(w);case 26:case 5:fi(x,w,u),u&&m===null&&O&4&&Qv(w),ad(w,w.return);break;case 12:fi(x,w,u);break;case 13:fi(x,w,u),u&&O&4&&aw(x,w);break;case 22:w.memoizedState===null&&fi(x,w,u),ad(w,w.return);break;case 30:break;default:fi(x,w,u)}l=l.sibling}}function Gg(r,l){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Vc(u))}function Xg(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Vc(r))}function Za(r,l,u,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ow(r,l,u,m),l=l.sibling}function ow(r,l,u,m){var x=l.flags;switch(l.tag){case 0:case 11:case 15:Za(r,l,u,m),x&2048&&nd(9,l);break;case 1:Za(r,l,u,m);break;case 3:Za(r,l,u,m),x&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Vc(r)));break;case 12:if(x&2048){Za(r,l,u,m),r=l.stateNode;try{var w=l.memoizedProps,O=w.id,B=w.onPostCommit;typeof B=="function"&&B(O,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(J){hs(l,l.return,J)}}else Za(r,l,u,m);break;case 13:Za(r,l,u,m);break;case 23:break;case 22:w=l.stateNode,O=l.alternate,l.memoizedState!==null?w._visibility&2?Za(r,l,u,m):rd(r,l):w._visibility&2?Za(r,l,u,m):(w._visibility|=2,_l(r,l,u,m,(l.subtreeFlags&10256)!==0)),x&2048&&Gg(O,l);break;case 24:Za(r,l,u,m),x&2048&&Xg(l.alternate,l);break;default:Za(r,l,u,m)}}function _l(r,l,u,m,x){for(x=x&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=r,O=l,B=u,J=m,xe=O.flags;switch(O.tag){case 0:case 11:case 15:_l(w,O,B,J,x),nd(8,O);break;case 23:break;case 22:var Ee=O.stateNode;O.memoizedState!==null?Ee._visibility&2?_l(w,O,B,J,x):rd(w,O):(Ee._visibility|=2,_l(w,O,B,J,x)),x&&xe&2048&&Gg(O.alternate,O);break;case 24:_l(w,O,B,J,x),x&&xe&2048&&Xg(O.alternate,O);break;default:_l(w,O,B,J,x)}l=l.sibling}}function rd(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=r,m=l,x=m.flags;switch(m.tag){case 22:rd(u,m),x&2048&&Gg(m.alternate,m);break;case 24:rd(u,m),x&2048&&Xg(m.alternate,m);break;default:rd(u,m)}l=l.sibling}}var id=8192;function Tl(r){if(r.subtreeFlags&id)for(r=r.child;r!==null;)lw(r),r=r.sibling}function lw(r){switch(r.tag){case 26:Tl(r),r.flags&id&&r.memoizedState!==null&&KE(Ea,r.memoizedState,r.memoizedProps);break;case 5:Tl(r);break;case 3:case 4:var l=Ea;Ea=vh(r.stateNode.containerInfo),Tl(r),Ea=l;break;case 22:r.memoizedState===null&&(l=r.alternate,l!==null&&l.memoizedState!==null?(l=id,id=16777216,Tl(r),id=l):Tl(r));break;default:Tl(r)}}function cw(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function od(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];nn=m,uw(m,r)}cw(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)dw(r),r=r.sibling}function dw(r){switch(r.tag){case 0:case 11:case 15:od(r),r.flags&2048&&ui(9,r,r.return);break;case 3:od(r);break;case 12:od(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,lh(r)):od(r);break;default:od(r)}}function lh(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];nn=m,uw(m,r)}cw(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:ui(8,l,l.return),lh(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,lh(l));break;default:lh(l)}r=r.sibling}}function uw(r,l){for(;nn!==null;){var u=nn;switch(u.tag){case 0:case 11:case 15:ui(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Vc(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,nn=m;else e:for(u=r;nn!==null;){m=nn;var x=m.sibling,w=m.return;if(sw(m),m===u){nn=null;break e}if(x!==null){x.return=w,nn=x;break e}nn=w}}}var hE={getCacheForType:function(r){var l=wn(Gs),u=l.data.get(r);return u===void 0&&(u=r(),l.data.set(r,u)),u}},fE=typeof WeakMap=="function"?WeakMap:Map,es=0,gs=null,Ht=null,qt=0,ts=0,Kn=null,mi=!1,Sl=!1,Kg=!1,Lr=0,Es=0,gi=0,To=0,Qg=0,ga=0,kl=0,ld=null,Fn=null,Zg=!1,Jg=0,ch=1/0,dh=null,pi=null,dn=0,xi=null,Cl=null,El=0,ep=0,tp=null,hw=null,cd=0,sp=null;function Qn(){if((es&2)!==0&&qt!==0)return qt&-qt;if($.T!==null){var r=pl;return r!==0?r:cp()}return te()}function fw(){ga===0&&(ga=(qt&536870912)===0||Qt?Js():536870912);var r=ma.current;return r!==null&&(r.flags|=32),ga}function Zn(r,l,u){(r===gs&&(ts===2||ts===9)||r.cancelPendingCommit!==null)&&(Dl(r,0),yi(r,qt,ga,!1)),ra(r,u),((es&2)===0||r!==gs)&&(r===gs&&((es&2)===0&&(To|=u),Es===4&&yi(r,qt,ga,!1)),Ja(r))}function mw(r,l,u){if((es&6)!==0)throw Error(n(327));var m=!u&&(l&124)===0&&(l&r.expiredLanes)===0||Zs(r,l),x=m?pE(r,l):rp(r,l,!0),w=m;do{if(x===0){Sl&&!m&&yi(r,l,0,!1);break}else{if(u=r.current.alternate,w&&!mE(u)){x=rp(r,l,!1),w=!1;continue}if(x===2){if(w=l,r.errorRecoveryDisabledLanes&w)var O=0;else O=r.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){l=O;e:{var B=r;x=ld;var J=B.current.memoizedState.isDehydrated;if(J&&(Dl(B,O).flags|=256),O=rp(B,O,!1),O!==2){if(Kg&&!J){B.errorRecoveryDisabledLanes|=w,To|=w,x=4;break e}w=Fn,Fn=x,w!==null&&(Fn===null?Fn=w:Fn.push.apply(Fn,w))}x=O}if(w=!1,x!==2)continue}}if(x===1){Dl(r,0),yi(r,l,0,!0);break}e:{switch(m=r,w=x,w){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:yi(m,l,ga,!mi);break e;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(x=Jg+300-De(),10<x)){if(yi(m,l,ga,!mi),ds(m,0,!0)!==0)break e;m.timeoutHandle=Vw(gw.bind(null,m,u,Fn,dh,Zg,l,ga,To,kl,mi,w,2,-0,0),x);break e}gw(m,u,Fn,dh,Zg,l,ga,To,kl,mi,w,0,-0,0)}}break}while(!0);Ja(r)}function gw(r,l,u,m,x,w,O,B,J,xe,Ee,Oe,ve,je){if(r.timeoutHandle=-1,Oe=l.subtreeFlags,(Oe&8192||(Oe&16785408)===16785408)&&(pd={stylesheets:null,count:0,unsuspend:XE},lw(l),Oe=QE(),Oe!==null)){r.cancelPendingCommit=Oe(jw.bind(null,r,l,w,u,m,x,O,B,J,Ee,1,ve,je)),yi(r,w,O,!xe);return}jw(r,l,w,u,m,x,O,B,J)}function mE(r){for(var l=r;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var x=u[m],w=x.getSnapshot;x=x.value;try{if(!Wn(w(),x))return!1}catch(O){return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function yi(r,l,u,m){l&=~Qg,l&=~To,r.suspendedLanes|=l,r.pingedLanes&=~l,m&&(r.warmLanes|=l),m=r.expirationTimes;for(var x=l;0<x;){var w=31-wt(x),O=1<<w;m[w]=-1,x&=~O}u!==0&&bt(r,u,l)}function uh(){return(es&6)===0?(dd(0),!1):!0}function np(){if(Ht!==null){if(ts===0)var r=Ht.return;else r=Ht,Cr=bo=null,vg(r),jl=null,ed=0,r=Ht;for(;r!==null;)Gv(r.alternate,r),r=r.return;Ht=null}}function Dl(r,l){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,OE(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),np(),gs=r,Ht=u=Tr(r.current,null),qt=l,ts=0,Kn=null,mi=!1,Sl=Zs(r,l),Kg=!1,kl=ga=Qg=To=gi=Es=0,Fn=ld=null,Zg=!1,(l&8)!==0&&(l|=l&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=l;0<m;){var x=31-wt(m),w=1<<x;l|=r[x],m&=~w}return Lr=l,Mu(),u}function pw(r,l){Bt=null,$.H=Zu,l===qc||l===$u?(l=Mb(),ts=3):l===Db?(l=Mb(),ts=4):ts=l===Rv?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Kn=l,Ht===null&&(Es=1,nh(r,da(l,r.current)))}function xw(){var r=$.H;return $.H=Zu,r===null?Zu:r}function yw(){var r=$.A;return $.A=hE,r}function ap(){Es=4,mi||(qt&4194048)!==qt&&ma.current!==null||(Sl=!0),(gi&134217727)===0&&(To&134217727)===0||gs===null||yi(gs,qt,ga,!1)}function rp(r,l,u){var m=es;es|=2;var x=xw(),w=yw();(gs!==r||qt!==l)&&(dh=null,Dl(r,l)),l=!1;var O=Es;e:do try{if(ts!==0&&Ht!==null){var B=Ht,J=Kn;switch(ts){case 8:np(),O=6;break e;case 3:case 2:case 9:case 6:ma.current===null&&(l=!0);var xe=ts;if(ts=0,Kn=null,Al(r,B,J,xe),u&&Sl){O=0;break e}break;default:xe=ts,ts=0,Kn=null,Al(r,B,J,xe)}}gE(),O=Es;break}catch(Ee){pw(r,Ee)}while(!0);return l&&r.shellSuspendCounter++,Cr=bo=null,es=m,$.H=x,$.A=w,Ht===null&&(gs=null,qt=0,Mu()),O}function gE(){for(;Ht!==null;)bw(Ht)}function pE(r,l){var u=es;es|=2;var m=xw(),x=yw();gs!==r||qt!==l?(dh=null,ch=De()+500,Dl(r,l)):Sl=Zs(r,l);e:do try{if(ts!==0&&Ht!==null){l=Ht;var w=Kn;t:switch(ts){case 1:ts=0,Kn=null,Al(r,l,w,1);break;case 2:case 9:if(Ab(w)){ts=0,Kn=null,vw(l);break}l=function(){ts!==2&&ts!==9||gs!==r||(ts=7),Ja(r)},w.then(l,l);break e;case 3:ts=7;break e;case 4:ts=5;break e;case 7:Ab(w)?(ts=0,Kn=null,vw(l)):(ts=0,Kn=null,Al(r,l,w,7));break;case 5:var O=null;switch(Ht.tag){case 26:O=Ht.memoizedState;case 5:case 27:var B=Ht;if(!O||tj(O)){ts=0,Kn=null;var J=B.sibling;if(J!==null)Ht=J;else{var xe=B.return;xe!==null?(Ht=xe,hh(xe)):Ht=null}break t}}ts=0,Kn=null,Al(r,l,w,5);break;case 6:ts=0,Kn=null,Al(r,l,w,6);break;case 8:np(),Es=6;break e;default:throw Error(n(462))}}xE();break}catch(Ee){pw(r,Ee)}while(!0);return Cr=bo=null,$.H=m,$.A=x,es=u,Ht!==null?0:(gs=null,qt=0,Mu(),Es)}function xE(){for(;Ht!==null&&!gt();)bw(Ht)}function bw(r){var l=Wv(r.alternate,r,Lr);r.memoizedProps=r.pendingProps,l===null?hh(r):Ht=l}function vw(r){var l=r,u=l.alternate;switch(l.tag){case 15:case 0:l=Uv(u,l,l.pendingProps,l.type,void 0,qt);break;case 11:l=Uv(u,l,l.pendingProps,l.type.render,l.ref,qt);break;case 5:vg(l);default:Gv(u,l),l=Ht=wb(l,Lr),l=Wv(u,l,Lr)}r.memoizedProps=r.pendingProps,l===null?hh(r):Ht=l}function Al(r,l,u,m){Cr=bo=null,vg(l),jl=null,ed=0;var x=l.return;try{if(iE(r,x,l,u,qt)){Es=1,nh(r,da(u,r.current)),Ht=null;return}}catch(w){if(x!==null)throw Ht=x,w;Es=1,nh(r,da(u,r.current)),Ht=null;return}l.flags&32768?(Qt||m===1?r=!0:Sl||(qt&536870912)!==0?r=!1:(mi=r=!0,(m===2||m===9||m===3||m===6)&&(m=ma.current,m!==null&&m.tag===13&&(m.flags|=16384))),ww(l,r)):hh(l)}function hh(r){var l=r;do{if((l.flags&32768)!==0){ww(l,mi);return}r=l.return;var u=lE(l.alternate,l,Lr);if(u!==null){Ht=u;return}if(l=l.sibling,l!==null){Ht=l;return}Ht=l=r}while(l!==null);Es===0&&(Es=5)}function ww(r,l){do{var u=cE(r.alternate,r);if(u!==null){u.flags&=32767,Ht=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(r=r.sibling,r!==null)){Ht=r;return}Ht=r=u}while(r!==null);Es=6,Ht=null}function jw(r,l,u,m,x,w,O,B,J){r.cancelPendingCommit=null;do fh();while(dn!==0);if((es&6)!==0)throw Error(n(327));if(l!==null){if(l===r.current)throw Error(n(177));if(w=l.lanes|l.childLanes,w|=Xm,vr(r,u,w,O,B,J),r===gs&&(Ht=gs=null,qt=0),Cl=l,xi=r,El=u,ep=w,tp=x,hw=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,wE(le,function(){return kw(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=$.T,$.T=null,x=ee.p,ee.p=2,O=es,es|=4;try{dE(r,l,u)}finally{es=O,ee.p=x,$.T=m}}dn=1,Nw(),_w(),Tw()}}function Nw(){if(dn===1){dn=0;var r=xi,l=Cl,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=$.T,$.T=null;var m=ee.p;ee.p=2;var x=es;es|=4;try{rw(l,r);var w=xp,O=ub(r.containerInfo),B=w.focusedElem,J=w.selectionRange;if(O!==B&&B&&B.ownerDocument&&db(B.ownerDocument.documentElement,B)){if(J!==null&&Im(B)){var xe=J.start,Ee=J.end;if(Ee===void 0&&(Ee=xe),"selectionStart"in B)B.selectionStart=xe,B.selectionEnd=Math.min(Ee,B.value.length);else{var Oe=B.ownerDocument||document,ve=Oe&&Oe.defaultView||window;if(ve.getSelection){var je=ve.getSelection(),_t=B.textContent.length,vt=Math.min(J.start,_t),cs=J.end===void 0?vt:Math.min(J.end,_t);!je.extend&&vt>cs&&(O=cs,cs=vt,vt=O);var de=cb(B,vt),ae=cb(B,cs);if(de&&ae&&(je.rangeCount!==1||je.anchorNode!==de.node||je.anchorOffset!==de.offset||je.focusNode!==ae.node||je.focusOffset!==ae.offset)){var he=Oe.createRange();he.setStart(de.node,de.offset),je.removeAllRanges(),vt>cs?(je.addRange(he),je.extend(ae.node,ae.offset)):(he.setEnd(ae.node,ae.offset),je.addRange(he))}}}}for(Oe=[],je=B;je=je.parentNode;)je.nodeType===1&&Oe.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<Oe.length;B++){var Ae=Oe[B];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}Th=!!pp,xp=pp=null}finally{es=x,ee.p=m,$.T=u}}r.current=l,dn=2}}function _w(){if(dn===2){dn=0;var r=xi,l=Cl,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=$.T,$.T=null;var m=ee.p;ee.p=2;var x=es;es|=4;try{tw(r,l.alternate,l)}finally{es=x,ee.p=m,$.T=u}}dn=3}}function Tw(){if(dn===4||dn===3){dn=0,Dt();var r=xi,l=Cl,u=El,m=hw;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?dn=5:(dn=0,Cl=xi=null,Sw(r,r.pendingLanes));var x=r.pendingLanes;if(x===0&&(pi=null),Ms(u),l=l.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Ve,l,void 0,(l.current.flags&128)===128)}catch(J){}if(m!==null){l=$.T,x=ee.p,ee.p=2,$.T=null;try{for(var w=r.onRecoverableError,O=0;O<m.length;O++){var B=m[O];w(B.value,{componentStack:B.stack})}}finally{$.T=l,ee.p=x}}(El&3)!==0&&fh(),Ja(r),x=r.pendingLanes,(u&4194090)!==0&&(x&42)!==0?r===sp?cd++:(cd=0,sp=r):cd=0,dd(0)}}function Sw(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,Vc(l)))}function fh(r){return Nw(),_w(),Tw(),kw()}function kw(){if(dn!==5)return!1;var r=xi,l=ep;ep=0;var u=Ms(El),m=$.T,x=ee.p;try{ee.p=32>u?32:u,$.T=null,u=tp,tp=null;var w=xi,O=El;if(dn=0,Cl=xi=null,El=0,(es&6)!==0)throw Error(n(331));var B=es;if(es|=4,dw(w.current),ow(w,w.current,O,u),es=B,dd(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Ve,w)}catch(J){}return!0}finally{ee.p=x,$.T=m,Sw(r,l)}}function Cw(r,l,u){l=da(u,l),l=Rg(r.stateNode,l,2),r=oi(r,l,2),r!==null&&(ra(r,2),Ja(r))}function hs(r,l,u){if(r.tag===3)Cw(r,r,u);else for(;l!==null;){if(l.tag===3){Cw(l,r,u);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(pi===null||!pi.has(m))){r=da(u,r),u=Ov(2),m=oi(l,u,2),m!==null&&(Mv(u,m,l,r),ra(m,2),Ja(m));break}}l=l.return}}function ip(r,l,u){var m=r.pingCache;if(m===null){m=r.pingCache=new fE;var x=new Set;m.set(l,x)}else x=m.get(l),x===void 0&&(x=new Set,m.set(l,x));x.has(u)||(Kg=!0,x.add(u),r=yE.bind(null,r,l,u),l.then(r,r))}function yE(r,l,u){var m=r.pingCache;m!==null&&m.delete(l),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,gs===r&&(qt&u)===u&&(Es===4||Es===3&&(qt&62914560)===qt&&300>De()-Jg?(es&2)===0&&Dl(r,0):Qg|=u,kl===qt&&(kl=0)),Ja(r)}function Ew(r,l){l===0&&(l=br()),r=hl(r,l),r!==null&&(ra(r,l),Ja(r))}function bE(r){var l=r.memoizedState,u=0;l!==null&&(u=l.retryLane),Ew(r,u)}function vE(r,l){var u=0;switch(r.tag){case 13:var m=r.stateNode,x=r.memoizedState;x!==null&&(u=x.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(l),Ew(r,u)}function wE(r,l){return Ye(r,l)}var mh=null,Ol=null,op=!1,gh=!1,lp=!1,So=0;function Ja(r){r!==Ol&&r.next===null&&(Ol===null?mh=Ol=r:Ol=Ol.next=r),gh=!0,op||(op=!0,NE())}function dd(r,l){if(!lp&&gh){lp=!0;do for(var u=!1,m=mh;m!==null;){if(r!==0){var x=m.pendingLanes;if(x===0)var w=0;else{var O=m.suspendedLanes,B=m.pingedLanes;w=(1<<31-wt(42|r)+1)-1,w&=x&~(O&~B),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,Mw(m,w))}else w=qt,w=ds(m,m===gs?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Zs(m,w)||(u=!0,Mw(m,w));m=m.next}while(u);lp=!1}}function jE(){Dw()}function Dw(){gh=op=!1;var r=0;So!==0&&(AE()&&(r=So),So=0);for(var l=De(),u=null,m=mh;m!==null;){var x=m.next,w=Aw(m,l);w===0?(m.next=null,u===null?mh=x:u.next=x,x===null&&(Ol=u)):(u=m,(r!==0||(w&3)!==0)&&(gh=!0)),m=x}dd(r)}function Aw(r,l){for(var u=r.suspendedLanes,m=r.pingedLanes,x=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var O=31-wt(w),B=1<<O,J=x[O];J===-1?((B&u)===0||(B&m)!==0)&&(x[O]=yn(B,l)):J<=l&&(r.expiredLanes|=B),w&=~B}if(l=gs,u=qt,u=ds(r,r===l?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,u===0||r===l&&(ts===2||ts===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&tt(m),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Zs(r,u)){if(l=u&-u,l===r.callbackPriority)return l;switch(m!==null&&tt(m),Ms(u)){case 2:case 8:u=Q;break;case 32:u=le;break;case 268435456:u=Te;break;default:u=le}return m=Ow.bind(null,r),u=Ye(u,m),r.callbackPriority=l,r.callbackNode=u,l}return m!==null&&m!==null&&tt(m),r.callbackPriority=2,r.callbackNode=null,2}function Ow(r,l){if(dn!==0&&dn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(fh()&&r.callbackNode!==u)return null;var m=qt;return m=ds(r,r===gs?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(mw(r,m,l),Aw(r,De()),r.callbackNode!=null&&r.callbackNode===u?Ow.bind(null,r):null)}function Mw(r,l){if(fh())return null;mw(r,l,!0)}function NE(){ME(function(){(es&6)!==0?Ye(Fe,jE):Dw()})}function cp(){return So===0&&(So=Js()),So}function Rw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:sl(""+r)}function Pw(r,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,r.id&&u.setAttribute("form",r.id),l.parentNode.insertBefore(u,l),r=new FormData(r),u.parentNode.removeChild(u),r}function _E(r,l,u,m,x){if(l==="submit"&&u&&u.stateNode===x){var w=Rw((x[Be]||null).action),O=m.submitter;O&&(l=(l=O[Be]||null)?Rw(l.formAction):O.getAttribute("formAction"),l!==null&&(w=l,O=null));var B=new rl("action","action",null,m,x);r.push({event:B,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(So!==0){var J=O?Pw(x,O):new FormData(x);Eg(u,{pending:!0,data:J,method:x.method,action:w},null,J)}}else typeof w=="function"&&(B.preventDefault(),J=O?Pw(x,O):new FormData(x),Eg(u,{pending:!0,data:J,method:x.method,action:w},w,J))},currentTarget:x}]})}}for(var dp=0;dp<Gm.length;dp++){var up=Gm[dp],TE=up.toLowerCase(),SE=up[0].toUpperCase()+up.slice(1);Ca(TE,"on"+SE)}Ca(mb,"onAnimationEnd"),Ca(gb,"onAnimationIteration"),Ca(pb,"onAnimationStart"),Ca("dblclick","onDoubleClick"),Ca("focusin","onFocus"),Ca("focusout","onBlur"),Ca(VC,"onTransitionRun"),Ca(IC,"onTransitionStart"),Ca(qC,"onTransitionCancel"),Ca(xb,"onTransitionEnd"),Ts("onMouseEnter",["mouseout","mouseover"]),Ts("onMouseLeave",["mouseout","mouseover"]),Ts("onPointerEnter",["pointerout","pointerover"]),Ts("onPointerLeave",["pointerout","pointerover"]),bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bs("onBeforeInput",["compositionend","keypress","textInput","paste"]),bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ud="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ud));function Lw(r,l){l=(l&4)!==0;for(var u=0;u<r.length;u++){var m=r[u],x=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var O=m.length-1;0<=O;O--){var B=m[O],J=B.instance,xe=B.currentTarget;if(B=B.listener,J!==w&&x.isPropagationStopped())break e;w=B,x.currentTarget=xe;try{w(x)}catch(Ee){sh(Ee)}x.currentTarget=null,w=J}else for(O=0;O<m.length;O++){if(B=m[O],J=B.instance,xe=B.currentTarget,B=B.listener,J!==w&&x.isPropagationStopped())break e;w=B,x.currentTarget=xe;try{w(x)}catch(Ee){sh(Ee)}x.currentTarget=null,w=J}}}}function $t(r,l){var u=l[nt];u===void 0&&(u=l[nt]=new Set);var m=r+"__bubble";u.has(m)||(Bw(l,r,2,!1),u.add(m))}function hp(r,l,u){var m=0;l&&(m|=4),Bw(u,r,m,l)}var ph="_reactListening"+Math.random().toString(36).slice(2);function fp(r){if(!r[ph]){r[ph]=!0,Ct.forEach(function(u){u!=="selectionchange"&&(kE.has(u)||hp(u,!1,r),hp(u,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[ph]||(l[ph]=!0,hp("selectionchange",!1,l))}}function Bw(r,l,u,m){switch(oj(l)){case 2:var x=eD;break;case 8:x=tD;break;default:x=kp}u=x.bind(null,l,u,r),x=void 0,!nl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),m?x!==void 0?r.addEventListener(l,u,{capture:!0,passive:x}):r.addEventListener(l,u,!0):x!==void 0?r.addEventListener(l,u,{passive:x}):r.addEventListener(l,u,!1)}function mp(r,l,u,m,x){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var B=m.stateNode.containerInfo;if(B===x)break;if(O===4)for(O=m.return;O!==null;){var J=O.tag;if((J===3||J===4)&&O.stateNode.containerInfo===x)return;O=O.return}for(;B!==null;){if(O=At(B),O===null)return;if(J=O.tag,J===5||J===6||J===26||J===27){m=w=O;continue e}B=B.parentNode}}m=m.return}Mc(function(){var xe=w,Ee=io(u),Oe=[];e:{var ve=yb.get(r);if(ve!==void 0){var je=rl,_t=r;switch(r){case"keypress":if(ti(u)===0)break e;case"keydown":case"keyup":je=Ga;break;case"focusin":_t="focus",je=mt;break;case"focusout":_t="blur",je=mt;break;case"beforeblur":case"afterblur":je=mt;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=ce;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=be;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=Au;break;case mb:case gb:case pb:je=et;break;case xb:je=SC;break;case"scroll":case"scrollend":je=ks;break;case"wheel":je=CC;break;case"copy":case"cut":case"paste":je=is;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=il;break;case"toggle":case"beforetoggle":je=DC}var vt=(l&4)!==0,cs=!vt&&(r==="scroll"||r==="scrollend"),de=vt?ve!==null?ve+"Capture":null:ve;vt=[];for(var ae=xe,he;ae!==null;){var Ae=ae;if(he=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||he===null||de===null||(Ae=ei(ae,de),Ae!=null&&vt.push(hd(ae,Ae,he))),cs)break;ae=ae.return}0<vt.length&&(ve=new je(ve,_t,null,u,Ee),Oe.push({event:ve,listeners:vt}))}}if((l&7)===0){e:{if(ve=r==="mouseover"||r==="pointerover",je=r==="mouseout"||r==="pointerout",ve&&u!==Ac&&(_t=u.relatedTarget||u.fromElement)&&(At(_t)||_t[Xe]))break e;if((je||ve)&&(ve=Ee.window===Ee?Ee:(ve=Ee.ownerDocument)?ve.defaultView||ve.parentWindow:window,je?(_t=u.relatedTarget||u.toElement,je=xe,_t=_t?At(_t):null,_t!==null&&(cs=o(_t),vt=_t.tag,_t!==cs||vt!==5&&vt!==27&&vt!==6)&&(_t=null)):(je=null,_t=xe),je!==_t)){if(vt=ce,Ae="onMouseLeave",de="onMouseEnter",ae="mouse",(r==="pointerout"||r==="pointerover")&&(vt=il,Ae="onPointerLeave",de="onPointerEnter",ae="pointer"),cs=je==null?ve:_s(je),he=_t==null?ve:_s(_t),ve=new vt(Ae,ae+"leave",je,u,Ee),ve.target=cs,ve.relatedTarget=he,Ae=null,At(Ee)===xe&&(vt=new vt(de,ae+"enter",_t,u,Ee),vt.target=he,vt.relatedTarget=cs,Ae=vt),cs=Ae,je&&_t)t:{for(vt=je,de=_t,ae=0,he=vt;he;he=Ml(he))ae++;for(he=0,Ae=de;Ae;Ae=Ml(Ae))he++;for(;0<ae-he;)vt=Ml(vt),ae--;for(;0<he-ae;)de=Ml(de),he--;for(;ae--;){if(vt===de||de!==null&&vt===de.alternate)break t;vt=Ml(vt),de=Ml(de)}vt=null}else vt=null;je!==null&&Fw(Oe,ve,je,vt,!1),_t!==null&&cs!==null&&Fw(Oe,cs,_t,vt,!0)}}e:{if(ve=xe?_s(xe):window,je=ve.nodeName&&ve.nodeName.toLowerCase(),je==="select"||je==="input"&&ve.type==="file")var at=nb;else if(tb(ve))if(ab)at=UC;else{at=FC;var Ut=BC}else je=ve.nodeName,!je||je.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?xe&&ro(xe.elementType)&&(at=nb):at=zC;if(at&&(at=at(r,xe))){sb(Oe,at,u,Ee);break e}Ut&&Ut(r,ve,xe),r==="focusout"&&xe&&ve.type==="number"&&xe.memoizedProps.value!=null&&Cc(ve,"number",ve.value)}switch(Ut=xe?_s(xe):window,r){case"focusin":(tb(Ut)||Ut.contentEditable==="true")&&(cl=Ut,qm=xe,Fc=null);break;case"focusout":Fc=qm=cl=null;break;case"mousedown":Wm=!0;break;case"contextmenu":case"mouseup":case"dragend":Wm=!1,hb(Oe,u,Ee);break;case"selectionchange":if($C)break;case"keydown":case"keyup":hb(Oe,u,Ee)}var ht;if(Hm)e:{switch(r){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else ll?Jy(r,u)&&(Nt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Nt="onCompositionStart");Nt&&(Ky&&u.locale!=="ko"&&(ll||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&ll&&(ht=co()):(qn=Ee,Pn="value"in qn?qn.value:qn.textContent,ll=!0)),Ut=xh(xe,Nt),0<Ut.length&&(Nt=new xt(Nt,r,null,u,Ee),Oe.push({event:Nt,listeners:Ut}),ht?Nt.data=ht:(ht=eb(u),ht!==null&&(Nt.data=ht)))),(ht=OC?MC(r,u):RC(r,u))&&(Nt=xh(xe,"onBeforeInput"),0<Nt.length&&(Ut=new xt("onBeforeInput","beforeinput",null,u,Ee),Oe.push({event:Ut,listeners:Nt}),Ut.data=ht)),_E(Oe,r,xe,u,Ee)}Lw(Oe,l)})}function hd(r,l,u){return{instance:r,listener:l,currentTarget:u}}function xh(r,l){for(var u=l+"Capture",m=[];r!==null;){var x=r,w=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||w===null||(x=ei(r,u),x!=null&&m.unshift(hd(r,x,w)),x=ei(r,l),x!=null&&m.push(hd(r,x,w))),r.tag===3)return m;r=r.return}return[]}function Ml(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Fw(r,l,u,m,x){for(var w=l._reactName,O=[];u!==null&&u!==m;){var B=u,J=B.alternate,xe=B.stateNode;if(B=B.tag,J!==null&&J===m)break;B!==5&&B!==26&&B!==27||xe===null||(J=xe,x?(xe=ei(u,w),xe!=null&&O.unshift(hd(u,xe,J))):x||(xe=ei(u,w),xe!=null&&O.push(hd(u,xe,J)))),u=u.return}O.length!==0&&r.push({event:l,listeners:O})}var CE=/\r\n?/g,EE=/\u0000|\uFFFD/g;function zw(r){return(typeof r=="string"?r:""+r).replace(CE,`
`).replace(EE,"")}function Uw(r,l){return l=zw(l),zw(r)===l}function yh(){}function ls(r,l,u,m,x,w){switch(u){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Zr(r,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Zr(r,""+m);break;case"className":la(r,"class",m);break;case"tabIndex":la(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":la(r,u,m);break;case"style":Dc(r,m,w);break;case"data":if(l!=="object"){la(r,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||u!=="href")){r.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=sl(""+m),r.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(l!=="input"&&ls(r,l,"name",x.name,x,null),ls(r,l,"formEncType",x.formEncType,x,null),ls(r,l,"formMethod",x.formMethod,x,null),ls(r,l,"formTarget",x.formTarget,x,null)):(ls(r,l,"encType",x.encType,x,null),ls(r,l,"method",x.method,x,null),ls(r,l,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=sl(""+m),r.setAttribute(u,m);break;case"onClick":m!=null&&(r.onclick=yh);break;case"onScroll":m!=null&&$t("scroll",r);break;case"onScrollEnd":m!=null&&$t("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(x.children!=null)throw Error(n(60));r.innerHTML=u}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}u=sl(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""+m):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":m===!0?r.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,m):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(u,m):r.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(u):r.setAttribute(u,m);break;case"popover":$t("beforetoggle",r),$t("toggle",r),bn(r,"popover",m);break;case"xlinkActuate":Lt(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Lt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Lt(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Lt(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Lt(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Lt(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Lt(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Lt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Lt(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":bn(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=tl.get(u)||u,bn(r,u,m))}}function gp(r,l,u,m,x,w){switch(u){case"style":Dc(r,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(x.children!=null)throw Error(n(60));r.innerHTML=u}}break;case"children":typeof m=="string"?Zr(r,m):(typeof m=="number"||typeof m=="bigint")&&Zr(r,""+m);break;case"onScroll":m!=null&&$t("scroll",r);break;case"onScrollEnd":m!=null&&$t("scrollend",r);break;case"onClick":m!=null&&(r.onclick=yh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wt.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(x=u.endsWith("Capture"),l=u.slice(2,x?u.length-7:void 0),w=r[Be]||null,w=w!=null?w[u]:null,typeof w=="function"&&r.removeEventListener(l,w,x),typeof m=="function")){typeof w!="function"&&w!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(l,m,x);break e}u in r?r[u]=m:m===!0?r.setAttribute(u,""):bn(r,u,m)}}}function un(r,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$t("error",r),$t("load",r);var m=!1,x=!1,w;for(w in u)if(u.hasOwnProperty(w)){var O=u[w];if(O!=null)switch(w){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:ls(r,l,w,O,u,null)}}x&&ls(r,l,"srcSet",u.srcSet,u,null),m&&ls(r,l,"src",u.src,u,null);return;case"input":$t("invalid",r);var B=w=O=x=null,J=null,xe=null;for(m in u)if(u.hasOwnProperty(m)){var Ee=u[m];if(Ee!=null)switch(m){case"name":x=Ee;break;case"type":O=Ee;break;case"checked":J=Ee;break;case"defaultChecked":xe=Ee;break;case"value":w=Ee;break;case"defaultValue":B=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(n(137,l));break;default:ls(r,l,m,Ee,u,null)}}ku(r,w,B,J,xe,O,x,!1),so(r);return;case"select":$t("invalid",r),m=O=w=null;for(x in u)if(u.hasOwnProperty(x)&&(B=u[x],B!=null))switch(x){case"value":w=B;break;case"defaultValue":O=B;break;case"multiple":m=B;default:ls(r,l,x,B,u,null)}l=w,u=O,r.multiple=!!m,l!=null?jr(r,!!m,l,!1):u!=null&&jr(r,!!m,u,!0);return;case"textarea":$t("invalid",r),w=x=m=null;for(O in u)if(u.hasOwnProperty(O)&&(B=u[O],B!=null))switch(O){case"value":m=B;break;case"defaultValue":x=B;break;case"children":w=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(n(91));break;default:ls(r,l,O,B,u,null)}Ec(r,m,x,w),so(r);return;case"option":for(J in u)if(u.hasOwnProperty(J)&&(m=u[J],m!=null))switch(J){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ls(r,l,J,m,u,null)}return;case"dialog":$t("beforetoggle",r),$t("toggle",r),$t("cancel",r),$t("close",r);break;case"iframe":case"object":$t("load",r);break;case"video":case"audio":for(m=0;m<ud.length;m++)$t(ud[m],r);break;case"image":$t("error",r),$t("load",r);break;case"details":$t("toggle",r);break;case"embed":case"source":case"link":$t("error",r),$t("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xe in u)if(u.hasOwnProperty(xe)&&(m=u[xe],m!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:ls(r,l,xe,m,u,null)}return;default:if(ro(l)){for(Ee in u)u.hasOwnProperty(Ee)&&(m=u[Ee],m!==void 0&&gp(r,l,Ee,m,u,void 0));return}}for(B in u)u.hasOwnProperty(B)&&(m=u[B],m!=null&&ls(r,l,B,m,u,null))}function DE(r,l,u,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,w=null,O=null,B=null,J=null,xe=null,Ee=null;for(je in u){var Oe=u[je];if(u.hasOwnProperty(je)&&Oe!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":J=Oe;default:m.hasOwnProperty(je)||ls(r,l,je,null,m,Oe)}}for(var ve in m){var je=m[ve];if(Oe=u[ve],m.hasOwnProperty(ve)&&(je!=null||Oe!=null))switch(ve){case"type":w=je;break;case"name":x=je;break;case"checked":xe=je;break;case"defaultChecked":Ee=je;break;case"value":O=je;break;case"defaultValue":B=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(n(137,l));break;default:je!==Oe&&ls(r,l,ve,je,m,Oe)}}kc(r,O,B,J,xe,Ee,w,x);return;case"select":je=O=B=ve=null;for(w in u)if(J=u[w],u.hasOwnProperty(w)&&J!=null)switch(w){case"value":break;case"multiple":je=J;default:m.hasOwnProperty(w)||ls(r,l,w,null,m,J)}for(x in m)if(w=m[x],J=u[x],m.hasOwnProperty(x)&&(w!=null||J!=null))switch(x){case"value":ve=w;break;case"defaultValue":B=w;break;case"multiple":O=w;default:w!==J&&ls(r,l,x,w,m,J)}l=B,u=O,m=je,ve!=null?jr(r,!!u,ve,!1):!!m!=!!u&&(l!=null?jr(r,!!u,l,!0):jr(r,!!u,u?[]:"",!1));return;case"textarea":je=ve=null;for(B in u)if(x=u[B],u.hasOwnProperty(B)&&x!=null&&!m.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:ls(r,l,B,null,m,x)}for(O in m)if(x=m[O],w=u[O],m.hasOwnProperty(O)&&(x!=null||w!=null))switch(O){case"value":ve=x;break;case"defaultValue":je=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(n(91));break;default:x!==w&&ls(r,l,O,x,m,w)}ao(r,ve,je);return;case"option":for(var _t in u)if(ve=u[_t],u.hasOwnProperty(_t)&&ve!=null&&!m.hasOwnProperty(_t))switch(_t){case"selected":r.selected=!1;break;default:ls(r,l,_t,null,m,ve)}for(J in m)if(ve=m[J],je=u[J],m.hasOwnProperty(J)&&ve!==je&&(ve!=null||je!=null))switch(J){case"selected":r.selected=ve&&typeof ve!="function"&&typeof ve!="symbol";break;default:ls(r,l,J,ve,m,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in u)ve=u[vt],u.hasOwnProperty(vt)&&ve!=null&&!m.hasOwnProperty(vt)&&ls(r,l,vt,null,m,ve);for(xe in m)if(ve=m[xe],je=u[xe],m.hasOwnProperty(xe)&&ve!==je&&(ve!=null||je!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(137,l));break;default:ls(r,l,xe,ve,m,je)}return;default:if(ro(l)){for(var cs in u)ve=u[cs],u.hasOwnProperty(cs)&&ve!==void 0&&!m.hasOwnProperty(cs)&&gp(r,l,cs,void 0,m,ve);for(Ee in m)ve=m[Ee],je=u[Ee],!m.hasOwnProperty(Ee)||ve===je||ve===void 0&&je===void 0||gp(r,l,Ee,ve,m,je);return}}for(var de in u)ve=u[de],u.hasOwnProperty(de)&&ve!=null&&!m.hasOwnProperty(de)&&ls(r,l,de,null,m,ve);for(Oe in m)ve=m[Oe],je=u[Oe],!m.hasOwnProperty(Oe)||ve===je||ve==null&&je==null||ls(r,l,Oe,ve,m,je)}var pp=null,xp=null;function bh(r){return r.nodeType===9?r:r.ownerDocument}function Hw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $w(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function yp(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var bp=null;function AE(){var r=window.event;return r&&r.type==="popstate"?r===bp?!1:(bp=r,!0):(bp=null,!1)}var Vw=typeof setTimeout=="function"?setTimeout:void 0,OE=typeof clearTimeout=="function"?clearTimeout:void 0,Iw=typeof Promise=="function"?Promise:void 0,ME=typeof queueMicrotask=="function"?queueMicrotask:typeof Iw!="undefined"?function(r){return Iw.resolve(null).then(r).catch(RE)}:Vw;function RE(r){setTimeout(function(){throw r})}function bi(r){return r==="head"}function qw(r,l){var u=l,m=0,x=0;do{var w=u.nextSibling;if(r.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(0<m&&8>m){u=m;var O=r.ownerDocument;if(u&1&&fd(O.documentElement),u&2&&fd(O.body),u&4)for(u=O.head,fd(u),O=u.firstChild;O;){var B=O.nextSibling,J=O.nodeName;O[dt]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&O.rel.toLowerCase()==="stylesheet"||u.removeChild(O),O=B}}if(x===0){r.removeChild(w),wd(l);return}x--}else u==="$"||u==="$?"||u==="$!"?x++:m=u.charCodeAt(0)-48;else m=0;u=w}while(u);wd(l)}function vp(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":vp(u),St(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function PE(r,l,u,m){for(;r.nodeType===1;){var x=u;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[dt])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==x.rel||r.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||r.getAttribute("title")!==(x.title==null?null:x.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(x.src==null?null:x.src)||r.getAttribute("type")!==(x.type==null?null:x.type)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var w=x.name==null?null:""+x.name;if(x.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=Da(r.nextSibling),r===null)break}return null}function LE(r,l,u){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Da(r.nextSibling),r===null))return null;return r}function wp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function BE(r,l){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")l();else{var m=function(){l(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function Da(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return r}var jp=null;function Ww(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return r;l--}else u==="/$"&&l++}r=r.previousSibling}return null}function Yw(r,l,u){switch(l=bh(u),r){case"html":if(r=l.documentElement,!r)throw Error(n(452));return r;case"head":if(r=l.head,!r)throw Error(n(453));return r;case"body":if(r=l.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function fd(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);St(r)}var pa=new Map,Gw=new Set;function vh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Br=ee.d;ee.d={f:FE,r:zE,D:UE,C:HE,L:$E,m:VE,X:qE,S:IE,M:WE};function FE(){var r=Br.f(),l=uh();return r||l}function zE(r){var l=us(r);l!==null&&l.tag===5&&l.type==="form"?mv(l):Br.r(r)}var Rl=typeof document=="undefined"?null:document;function Xw(r,l,u){var m=Rl;if(m&&typeof l=="string"&&l){var x=Mn(l);x='link[rel="'+r+'"][href="'+x+'"]',typeof u=="string"&&(x+='[crossorigin="'+u+'"]'),Gw.has(x)||(Gw.add(x),r={rel:r,crossOrigin:u,href:l},m.querySelector(x)===null&&(l=m.createElement("link"),un(l,"link",r),ut(l),m.head.appendChild(l)))}}function UE(r){Br.D(r),Xw("dns-prefetch",r,null)}function HE(r,l){Br.C(r,l),Xw("preconnect",r,l)}function $E(r,l,u){Br.L(r,l,u);var m=Rl;if(m&&r&&l){var x='link[rel="preload"][as="'+Mn(l)+'"]';l==="image"&&u&&u.imageSrcSet?(x+='[imagesrcset="'+Mn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(x+='[imagesizes="'+Mn(u.imageSizes)+'"]')):x+='[href="'+Mn(r)+'"]';var w=x;switch(l){case"style":w=Pl(r);break;case"script":w=Ll(r)}pa.has(w)||(r=g({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:r,as:l},u),pa.set(w,r),m.querySelector(x)!==null||l==="style"&&m.querySelector(md(w))||l==="script"&&m.querySelector(gd(w))||(l=m.createElement("link"),un(l,"link",r),ut(l),m.head.appendChild(l)))}}function VE(r,l){Br.m(r,l);var u=Rl;if(u&&r){var m=l&&typeof l.as=="string"?l.as:"script",x='link[rel="modulepreload"][as="'+Mn(m)+'"][href="'+Mn(r)+'"]',w=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Ll(r)}if(!pa.has(w)&&(r=g({rel:"modulepreload",href:r},l),pa.set(w,r),u.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(gd(w)))return}m=u.createElement("link"),un(m,"link",r),ut(m),u.head.appendChild(m)}}}function IE(r,l,u){Br.S(r,l,u);var m=Rl;if(m&&r){var x=rs(m).hoistableStyles,w=Pl(r);l=l||"default";var O=x.get(w);if(!O){var B={loading:0,preload:null};if(O=m.querySelector(md(w)))B.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":l},u),(u=pa.get(w))&&Np(r,u);var J=O=m.createElement("link");ut(J),un(J,"link",r),J._p=new Promise(function(xe,Ee){J.onload=xe,J.onerror=Ee}),J.addEventListener("load",function(){B.loading|=1}),J.addEventListener("error",function(){B.loading|=2}),B.loading|=4,wh(O,l,m)}O={type:"stylesheet",instance:O,count:1,state:B},x.set(w,O)}}}function qE(r,l){Br.X(r,l);var u=Rl;if(u&&r){var m=rs(u).hoistableScripts,x=Ll(r),w=m.get(x);w||(w=u.querySelector(gd(x)),w||(r=g({src:r,async:!0},l),(l=pa.get(x))&&_p(r,l),w=u.createElement("script"),ut(w),un(w,"link",r),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(x,w))}}function WE(r,l){Br.M(r,l);var u=Rl;if(u&&r){var m=rs(u).hoistableScripts,x=Ll(r),w=m.get(x);w||(w=u.querySelector(gd(x)),w||(r=g({src:r,async:!0,type:"module"},l),(l=pa.get(x))&&_p(r,l),w=u.createElement("script"),ut(w),un(w,"link",r),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(x,w))}}function Kw(r,l,u,m){var x=(x=me.current)?vh(x):null;if(!x)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=Pl(u.href),u=rs(x).hoistableStyles,m=u.get(l),m||(m={type:"style",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Pl(u.href);var w=rs(x).hoistableStyles,O=w.get(r);if(O||(x=x.ownerDocument||x,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,O),(w=x.querySelector(md(r)))&&!w._p&&(O.instance=w,O.state.loading=5),pa.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},pa.set(r,u),w||YE(x,r,u,O.state))),l&&m===null)throw Error(n(528,""));return O}if(l&&m!==null)throw Error(n(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ll(u),u=rs(x).hoistableScripts,m=u.get(l),m||(m={type:"script",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function Pl(r){return'href="'+Mn(r)+'"'}function md(r){return'link[rel="stylesheet"]['+r+"]"}function Qw(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function YE(r,l,u,m){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=r.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),un(l,"link",u),ut(l),r.head.appendChild(l))}function Ll(r){return'[src="'+Mn(r)+'"]'}function gd(r){return"script[async]"+r}function Zw(r,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var m=r.querySelector('style[data-href~="'+Mn(u.href)+'"]');if(m)return l.instance=m,ut(m),m;var x=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),ut(m),un(m,"style",x),wh(m,u.precedence,r),l.instance=m;case"stylesheet":x=Pl(u.href);var w=r.querySelector(md(x));if(w)return l.state.loading|=4,l.instance=w,ut(w),w;m=Qw(u),(x=pa.get(x))&&Np(m,x),w=(r.ownerDocument||r).createElement("link"),ut(w);var O=w;return O._p=new Promise(function(B,J){O.onload=B,O.onerror=J}),un(w,"link",m),l.state.loading|=4,wh(w,u.precedence,r),l.instance=w;case"script":return w=Ll(u.src),(x=r.querySelector(gd(w)))?(l.instance=x,ut(x),x):(m=u,(x=pa.get(w))&&(m=g({},u),_p(m,x)),r=r.ownerDocument||r,x=r.createElement("script"),ut(x),un(x,"link",m),r.head.appendChild(x),l.instance=x);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,wh(m,u.precedence,r));return l.instance}function wh(r,l,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,w=x,O=0;O<m.length;O++){var B=m[O];if(B.dataset.precedence===l)w=B;else if(w!==x)break}w?w.parentNode.insertBefore(r,w.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(r,l.firstChild))}function Np(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function _p(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var jh=null;function Jw(r,l,u){if(jh===null){var m=new Map,x=jh=new Map;x.set(u,m)}else x=jh,m=x.get(u),m||(m=new Map,x.set(u,m));if(m.has(r))return m;for(m.set(r,null),u=u.getElementsByTagName(r),x=0;x<u.length;x++){var w=u[x];if(!(w[dt]||w[Se]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var O=w.getAttribute(l)||"";O=r+O;var B=m.get(O);B?B.push(w):m.set(O,[w])}}return m}function ej(r,l,u){r=r.ownerDocument||r,r.head.insertBefore(u,l==="title"?r.querySelector("head > title"):null)}function GE(r,l,u){if(u===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return r=l.disabled,typeof l.precedence=="string"&&r==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function tj(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var pd=null;function XE(){}function KE(r,l,u){if(pd===null)throw Error(n(475));var m=pd;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var x=Pl(u.href),w=r.querySelector(md(x));if(w){r=w._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(m.count++,m=Nh.bind(m),r.then(m,m)),l.state.loading|=4,l.instance=w,ut(w);return}w=r.ownerDocument||r,u=Qw(u),(x=pa.get(x))&&Np(u,x),w=w.createElement("link"),ut(w);var O=w;O._p=new Promise(function(B,J){O.onload=B,O.onerror=J}),un(w,"link",u),l.instance=w}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=Nh.bind(m),r.addEventListener("load",l),r.addEventListener("error",l))}}function QE(){if(pd===null)throw Error(n(475));var r=pd;return r.stylesheets&&r.count===0&&Tp(r,r.stylesheets),0<r.count?function(l){var u=setTimeout(function(){if(r.stylesheets&&Tp(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(u)}}:null}function Nh(){if(this.count--,this.count===0){if(this.stylesheets)Tp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var _h=null;function Tp(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,_h=new Map,l.forEach(ZE,r),_h=null,Nh.call(r))}function ZE(r,l){if(!(l.state.loading&4)){var u=_h.get(r);if(u)var m=u.get(null);else{u=new Map,_h.set(r,u);for(var x=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<x.length;w++){var O=x[w];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),m=O)}m&&u.set(null,m)}x=l.instance,O=x.getAttribute("data-precedence"),w=u.get(O)||m,w===m&&u.set(null,x),u.set(O,x),this.count++,m=Nh.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),w?w.parentNode.insertBefore(x,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(x,r.firstChild)),l.state.loading|=4}}var xd={$$typeof:k,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function JE(r,l,u,m,x,w,O,B){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wa(0),this.hiddenUpdates=Wa(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=w,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function sj(r,l,u,m,x,w,O,B,J,xe,Ee,Oe){return r=new JE(r,l,u,O,B,J,xe,Oe),l=1,w===!0&&(l|=24),w=Yn(3,null,null,l),r.current=w,w.stateNode=r,l=ig(),l.refCount++,r.pooledCache=l,l.refCount++,w.memoizedState={element:m,isDehydrated:u,cache:l},dg(w),r}function nj(r){return r?(r=fl,r):fl}function aj(r,l,u,m,x,w){x=nj(x),m.context===null?m.context=x:m.pendingContext=x,m=ii(l),m.payload={element:u},w=w===void 0?null:w,w!==null&&(m.callback=w),u=oi(r,m,l),u!==null&&(Zn(u,r,l),Yc(u,r,l))}function rj(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<l?u:l}}function Sp(r,l){rj(r,l),(r=r.alternate)&&rj(r,l)}function ij(r){if(r.tag===13){var l=hl(r,67108864);l!==null&&Zn(l,r,67108864),Sp(r,67108864)}}var Th=!0;function eD(r,l,u,m){var x=$.T;$.T=null;var w=ee.p;try{ee.p=2,kp(r,l,u,m)}finally{ee.p=w,$.T=x}}function tD(r,l,u,m){var x=$.T;$.T=null;var w=ee.p;try{ee.p=8,kp(r,l,u,m)}finally{ee.p=w,$.T=x}}function kp(r,l,u,m){if(Th){var x=Cp(m);if(x===null)mp(r,l,m,Sh,u),lj(r,m);else if(nD(x,r,l,u,m))m.stopPropagation();else if(lj(r,m),l&4&&-1<sD.indexOf(r)){for(;x!==null;){var w=us(x);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var O=zt(w.pendingLanes);if(O!==0){var B=w;for(B.pendingLanes|=2,B.entangledLanes|=2;O;){var J=1<<31-wt(O);B.entanglements[1]|=J,O&=~J}Ja(w),(es&6)===0&&(ch=De()+500,dd(0))}}break;case 13:B=hl(w,2),B!==null&&Zn(B,w,2),uh(),Sp(w,2)}if(w=Cp(m),w===null&&mp(r,l,m,Sh,u),w===x)break;x=w}x!==null&&m.stopPropagation()}else mp(r,l,m,null,u)}}function Cp(r){return r=io(r),Ep(r)}var Sh=null;function Ep(r){if(Sh=null,r=At(r),r!==null){var l=o(r);if(l===null)r=null;else{var u=l.tag;if(u===13){if(r=c(l),r!==null)return r;r=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return Sh=r,null}function oj(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ze()){case Fe:return 2;case Q:return 8;case le:case q:return 32;case Te:return 268435456;default:return 32}default:return 32}}var Dp=!1,vi=null,wi=null,ji=null,yd=new Map,bd=new Map,Ni=[],sD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lj(r,l){switch(r){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":yd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":bd.delete(l.pointerId)}}function vd(r,l,u,m,x,w){return r===null||r.nativeEvent!==w?(r={blockedOn:l,domEventName:u,eventSystemFlags:m,nativeEvent:w,targetContainers:[x]},l!==null&&(l=us(l),l!==null&&ij(l)),r):(r.eventSystemFlags|=m,l=r.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),r)}function nD(r,l,u,m,x){switch(l){case"focusin":return vi=vd(vi,r,l,u,m,x),!0;case"dragenter":return wi=vd(wi,r,l,u,m,x),!0;case"mouseover":return ji=vd(ji,r,l,u,m,x),!0;case"pointerover":var w=x.pointerId;return yd.set(w,vd(yd.get(w)||null,r,l,u,m,x)),!0;case"gotpointercapture":return w=x.pointerId,bd.set(w,vd(bd.get(w)||null,r,l,u,m,x)),!0}return!1}function cj(r){var l=At(r.target);if(l!==null){var u=o(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){r.blockedOn=l,oe(r.priority,function(){if(u.tag===13){var m=Qn();m=fs(m);var x=hl(u,m);x!==null&&Zn(x,u,m),Sp(u,m)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function kh(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var u=Cp(r.nativeEvent);if(u===null){u=r.nativeEvent;var m=new u.constructor(u.type,u);Ac=m,u.target.dispatchEvent(m),Ac=null}else return l=us(u),l!==null&&ij(l),r.blockedOn=u,!1;l.shift()}return!0}function dj(r,l,u){kh(r)&&u.delete(l)}function aD(){Dp=!1,vi!==null&&kh(vi)&&(vi=null),wi!==null&&kh(wi)&&(wi=null),ji!==null&&kh(ji)&&(ji=null),yd.forEach(dj),bd.forEach(dj)}function Ch(r,l){r.blockedOn===l&&(r.blockedOn=null,Dp||(Dp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,aD)))}var Eh=null;function uj(r){Eh!==r&&(Eh=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Eh===r&&(Eh=null);for(var l=0;l<r.length;l+=3){var u=r[l],m=r[l+1],x=r[l+2];if(typeof m!="function"){if(Ep(m||u)===null)continue;break}var w=us(u);w!==null&&(r.splice(l,3),l-=3,Eg(w,{pending:!0,data:x,method:u.method,action:m},m,x))}}))}function wd(r){function l(J){return Ch(J,r)}vi!==null&&Ch(vi,r),wi!==null&&Ch(wi,r),ji!==null&&Ch(ji,r),yd.forEach(l),bd.forEach(l);for(var u=0;u<Ni.length;u++){var m=Ni[u];m.blockedOn===r&&(m.blockedOn=null)}for(;0<Ni.length&&(u=Ni[0],u.blockedOn===null);)cj(u),u.blockedOn===null&&Ni.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var x=u[m],w=u[m+1],O=x[Be]||null;if(typeof w=="function")O||uj(u);else if(O){var B=null;if(w&&w.hasAttribute("formAction")){if(x=w,O=w[Be]||null)B=O.formAction;else if(Ep(x)!==null)continue}else B=O.action;typeof B=="function"?u[m+1]=B:(u.splice(m,3),m-=3),uj(u)}}}function Ap(r){this._internalRoot=r}Dh.prototype.render=Ap.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(n(409));var u=l.current,m=Qn();aj(u,m,r,l,null,null)},Dh.prototype.unmount=Ap.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;aj(r.current,2,null,r,null,null),uh(),l[Xe]=null}};function Dh(r){this._internalRoot=r}Dh.prototype.unstable_scheduleHydration=function(r){if(r){var l=te();r={blockedOn:null,target:r,priority:l};for(var u=0;u<Ni.length&&l!==0&&l<Ni[u].priority;u++);Ni.splice(u,0,r),u===0&&cj(r)}};var hj=t.version;if(hj!=="19.1.1")throw Error(n(527,hj,"19.1.1"));ee.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=h(l),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var rD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{Ve=Ah.inject(rD),Ge=Ah}catch(r){}}return Nd.createRoot=function(r,l){if(!i(r))throw Error(n(299));var u=!1,m="",x=Cv,w=Ev,O=Dv,B=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(B=l.unstable_transitionCallbacks)),l=sj(r,1,!1,null,null,u,m,x,w,O,B,null),r[Xe]=l.current,fp(r),new Ap(l)},Nd.hydrateRoot=function(r,l,u){if(!i(r))throw Error(n(299));var m=!1,x="",w=Cv,O=Ev,B=Dv,J=null,xe=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(B=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(J=u.unstable_transitionCallbacks),u.formState!==void 0&&(xe=u.formState)),l=sj(r,1,!0,l,u!=null?u:null,m,x,w,O,B,J,xe),l.context=nj(null),u=l.current,m=Qn(),m=fs(m),x=ii(m),x.callback=null,oi(u,x,m),u=m,l.current.lanes=u,ra(l,u),Ja(l),r[Xe]=l.current,fp(r),new Dh(l)},Nd.version="19.1.1",Nd}var Tj;function vD(){if(Tj)return Bp.exports;Tj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Bp.exports=bD(),Bp.exports}var wD=vD();const jD=Sx(wD);var ND=Object.defineProperty,_D=(e,t,s)=>t in e?ND(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Co=(e,t,s)=>_D(e,typeof t!="symbol"?t+"":t,s),TD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fl={},_d={},Aa={},Sj;function $2(){if(Sj)return Aa;Sj=1;var e=Aa&&Aa.__assign||function(){return e=Object.assign||function(i){for(var o,c=1,d=arguments.length;c<d;c++){o=arguments[c];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(i[h]=o[h])}return i},e.apply(this,arguments)},t=Aa&&Aa.__awaiter||function(i,o,c,d){function h(f){return f instanceof c?f:new c(function(g){g(f)})}return new(c||(c=Promise))(function(f,g){function p(j){try{y(d.next(j))}catch(v){g(v)}}function b(j){try{y(d.throw(j))}catch(v){g(v)}}function y(j){j.done?f(j.value):h(j.value).then(p,b)}y((d=d.apply(i,o||[])).next())})},s=Aa&&Aa.__generator||function(i,o){var c={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},d,h,f,g;return g={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function p(y){return function(j){return b([y,j])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;g&&(g=0,y[0]&&(c=0)),c;)try{if(d=1,h&&(f=y[0]&2?h.return:y[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,y[1])).done)return f;switch(h=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return c.label++,{value:y[1],done:!1};case 5:c.label++,h=y[1],y=[0];continue;case 7:y=c.ops.pop(),c.trys.pop();continue;default:if(f=c.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){c=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){c.label=y[1];break}if(y[0]===6&&c.label<f[1]){c.label=f[1],f=y;break}if(f&&c.label<f[2]){c.label=f[2],c.ops.push(y);break}f[2]&&c.ops.pop(),c.trys.pop();continue}y=o.call(i,c)}catch(j){y=[6,j],h=0}finally{d=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.FrappeCall=void 0;var n=function(){function i(o,c,d,h,f){this.appURL=o,this.axios=c,this.useToken=d!=null?d:!1,this.token=h,this.tokenType=f}return i.prototype.get=function(o,c){return t(this,void 0,void 0,function(){var d;return s(this,function(h){return d=new URLSearchParams,c&&Object.entries(c).forEach(function(f){var g=f[0],p=f[1];if(p!=null){var b=typeof p=="object"?JSON.stringify(p):p;d.set(g,b)}}),[2,this.axios.get("/api/method/".concat(o),{params:d}).then(function(f){return f.data}).catch(function(f){var g,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(g=f.response.data.message)!==null&&g!==void 0?g:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},i.prototype.post=function(o,c){return t(this,void 0,void 0,function(){return s(this,function(d){return[2,this.axios.post("/api/method/".concat(o),e({},c)).then(function(h){return h.data}).catch(function(h){var f,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(f=h.response.data.message)!==null&&f!==void 0?f:"There was an error.",exception:(g=h.response.data.exception)!==null&&g!==void 0?g:""})})]})})},i.prototype.put=function(o,c){return t(this,void 0,void 0,function(){return s(this,function(d){return[2,this.axios.put("/api/method/".concat(o),e({},c)).then(function(h){return h.data}).catch(function(h){var f,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(f=h.response.data.message)!==null&&f!==void 0?f:"There was an error.",exception:(g=h.response.data.exception)!==null&&g!==void 0?g:""})})]})})},i.prototype.delete=function(o,c){return t(this,void 0,void 0,function(){return s(this,function(d){return[2,this.axios.delete("/api/method/".concat(o),{params:c}).then(function(h){return h.data}).catch(function(h){var f,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(f=h.response.data.message)!==null&&f!==void 0?f:"There was an error.",exception:(g=h.response.data.exception)!==null&&g!==void 0?g:""})})]})})},i}();return Aa.FrappeCall=n,Aa}var Oa={},kj;function V2(){if(kj)return Oa;kj=1;var e=Oa&&Oa.__assign||function(){return e=Object.assign||function(i){for(var o,c=1,d=arguments.length;c<d;c++){o=arguments[c];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(i[h]=o[h])}return i},e.apply(this,arguments)},t=Oa&&Oa.__awaiter||function(i,o,c,d){function h(f){return f instanceof c?f:new c(function(g){g(f)})}return new(c||(c=Promise))(function(f,g){function p(j){try{y(d.next(j))}catch(v){g(v)}}function b(j){try{y(d.throw(j))}catch(v){g(v)}}function y(j){j.done?f(j.value):h(j.value).then(p,b)}y((d=d.apply(i,o||[])).next())})},s=Oa&&Oa.__generator||function(i,o){var c={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},d,h,f,g;return g={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function p(y){return function(j){return b([y,j])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;g&&(g=0,y[0]&&(c=0)),c;)try{if(d=1,h&&(f=y[0]&2?h.return:y[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,y[1])).done)return f;switch(h=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return c.label++,{value:y[1],done:!1};case 5:c.label++,h=y[1],y=[0];continue;case 7:y=c.ops.pop(),c.trys.pop();continue;default:if(f=c.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){c=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){c.label=y[1];break}if(y[0]===6&&c.label<f[1]){c.label=f[1],f=y;break}if(f&&c.label<f[2]){c.label=f[2],c.ops.push(y);break}f[2]&&c.ops.pop(),c.trys.pop();continue}y=o.call(i,c)}catch(j){y=[6,j],h=0}finally{d=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.FrappeDB=void 0;var n=function(){function i(o,c,d,h,f){this.appURL=o,this.axios=c,this.useToken=d!=null?d:!1,this.token=h,this.tokenType=f}return i.prototype.getDoc=function(o,c){return c===void 0&&(c=""),t(this,void 0,void 0,function(){return s(this,function(d){return[2,this.axios.get("/api/resource/".concat(o,"/").concat(encodeURIComponent(c))).then(function(h){return h.data.data}).catch(function(h){var f,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while fetching the document.",exception:(g=(f=h.response.data.exception)!==null&&f!==void 0?f:h.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},i.prototype.getDocList=function(o,c){var d;return t(this,void 0,void 0,function(){var h,f,g,p,b,y,j,v,_,T,A;return s(this,function(k){return h={},c&&(f=c.fields,g=c.filters,p=c.orFilters,b=c.orderBy,y=c.limit,j=c.limit_start,v=c.groupBy,_=c.asDict,T=_===void 0?!0:_,A=b?"".concat(String(b==null?void 0:b.field)," ").concat((d=b==null?void 0:b.order)!==null&&d!==void 0?d:"asc"):"",h={fields:f?JSON.stringify(f):void 0,filters:g?JSON.stringify(g):void 0,or_filters:p?JSON.stringify(p):void 0,order_by:A,group_by:v,limit:y,limit_start:j,as_dict:T}),[2,this.axios.get("/api/resource/".concat(o),{params:h}).then(function(S){return S.data.data}).catch(function(S){var E,C;throw e(e({},S.response.data),{httpStatus:S.response.status,httpStatusText:S.response.statusText,message:"There was an error while fetching the documents.",exception:(C=(E=S.response.data.exception)!==null&&E!==void 0?E:S.response.data.exc_type)!==null&&C!==void 0?C:""})})]})})},i.prototype.createDoc=function(o,c){return t(this,void 0,void 0,function(){return s(this,function(d){return[2,this.axios.post("/api/resource/".concat(o),e({},c)).then(function(h){return h.data.data}).catch(function(h){var f,g,p;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(f=h.response.data.message)!==null&&f!==void 0?f:"There was an error while creating the document.",exception:(p=(g=h.response.data.exception)!==null&&g!==void 0?g:h.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},i.prototype.updateDoc=function(o,c,d){return t(this,void 0,void 0,function(){return s(this,function(h){return[2,this.axios.put("/api/resource/".concat(o,"/").concat(c&&encodeURIComponent(c)),e({},d)).then(function(f){return f.data.data}).catch(function(f){var g,p,b;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(g=f.response.data.message)!==null&&g!==void 0?g:"There was an error while updating the document.",exception:(b=(p=f.response.data.exception)!==null&&p!==void 0?p:f.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},i.prototype.deleteDoc=function(o,c){return t(this,void 0,void 0,function(){return s(this,function(d){return[2,this.axios.delete("/api/resource/".concat(o,"/").concat(c&&encodeURIComponent(c))).then(function(h){return h.data}).catch(function(h){var f,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while deleting the document.",exception:(g=(f=h.response.data.exception)!==null&&f!==void 0?f:h.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},i.prototype.getCount=function(o,c,d,h){return d===void 0&&(d=!1),h===void 0&&(h=!1),t(this,void 0,void 0,function(){var f;return s(this,function(g){return f={doctype:o,filters:[]},d&&(f.cache=d),h&&(f.debug=h),c&&(f.filters=c?JSON.stringify(c):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:f}).then(function(p){return p.data.message}).catch(function(p){var b,y;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while getting the count.",exception:(y=(b=p.response.data.exception)!==null&&b!==void 0?b:p.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},i.prototype.getLastDoc=function(o,c){return t(this,void 0,void 0,function(){var d,h;return s(this,function(f){switch(f.label){case 0:return d={orderBy:{field:"creation",order:"desc"}},c&&(d=e(e({},d),c)),[4,this.getDocList(o,e(e({},d),{limit:1,fields:["name"]}))];case 1:return h=f.sent(),h.length>0?[2,this.getDoc(o,h[0].name)]:[2,{}]}})})},i.prototype.renameDoc=function(o,c,d,h){return h===void 0&&(h=!1),t(this,void 0,void 0,function(){return s(this,function(f){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:o,old_name:c,new_name:d,merge:h}).then(function(g){return g.data}).catch(function(g){var p,b,y;throw e(e({},g.response.data),{httpStatus:g.response.status,httpStatusText:g.response.statusText,message:(p=g.response.data.message)!==null&&p!==void 0?p:"There was an error while renaming the document.",exception:(y=(b=g.response.data.exception)!==null&&b!==void 0?b:g.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},i.prototype.getValue=function(o,c,d,h,f,g){return h===void 0&&(h=!0),f===void 0&&(f=!1),g===void 0&&(g=null),t(this,void 0,void 0,function(){var p;return s(this,function(b){return p={doctype:o,fieldname:"[]",filters:[],as_dict:h,debug:f,parent:null},c&&(p.fieldname=typeof c=="object"?JSON.stringify(c):c),d&&(p.filters=d?JSON.stringify(d):void 0),g&&(p.parent=g),[2,this.axios.get("/api/method/frappe.client.get_value",{params:p}).then(function(y){return y.data}).catch(function(y){var j,v;throw e(e({},y.response.data),{httpStatus:y.response.status,httpStatusText:y.response.statusText,message:"There was an error while getting the value.",exception:(v=(j=y.response.data.exception)!==null&&j!==void 0?j:y.response.data.exc_type)!==null&&v!==void 0?v:""})})]})})},i.prototype.setValue=function(o,c,d,h){return t(this,void 0,void 0,function(){return s(this,function(f){return d!==null&&typeof d=="object"&&!Array.isArray(d)&&(h=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:o,name:c,fieldname:d,value:h}).then(function(g){return g.data}).catch(function(g){var p,b;throw e(e({},g.response.data),{httpStatus:g.response.status,httpStatusText:g.response.statusText,message:"There was an error while setting the value.",exception:(b=(p=g.response.data.exception)!==null&&p!==void 0?p:g.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},i.prototype.getSingleValue=function(o,c){return t(this,void 0,void 0,function(){var d;return s(this,function(h){return d={doctype:o,field:c},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:d}).then(function(f){return f.data}).catch(function(f){var g,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(p=(g=f.response.data.exception)!==null&&g!==void 0?g:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},i.prototype.submit=function(o){return t(this,void 0,void 0,function(){return s(this,function(c){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:o}).then(function(d){return d.data.message}).catch(function(d){var h,f;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:"There was an error while submitting the document.",exception:(f=(h=d.response.data.exception)!==null&&h!==void 0?h:d.response.data.exc_type)!==null&&f!==void 0?f:""})})]})})},i.prototype.cancel=function(o,c){return t(this,void 0,void 0,function(){return s(this,function(d){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:o,name:c}).then(function(h){return h.data}).catch(function(h){var f,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while cancelling the document.",exception:(g=(f=h.response.data.exception)!==null&&f!==void 0?f:h.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},i}();return Oa.FrappeDB=n,Oa}var Ma={},Fr={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var Hp,Cj;function SD(){if(Cj)return Hp;Cj=1;function e(D,M){return function(){return D.apply(M,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:s}=Object,n=(D=>M=>{const H=t.call(M);return D[H]||(D[H]=H.slice(8,-1).toLowerCase())})(Object.create(null)),i=D=>(D=D.toLowerCase(),M=>n(M)===D),o=D=>M=>typeof M===D,{isArray:c}=Array,d=o("undefined");function h(D){return D!==null&&!d(D)&&D.constructor!==null&&!d(D.constructor)&&b(D.constructor.isBuffer)&&D.constructor.isBuffer(D)}const f=i("ArrayBuffer");function g(D){let M;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?M=ArrayBuffer.isView(D):M=D&&D.buffer&&f(D.buffer),M}const p=o("string"),b=o("function"),y=o("number"),j=D=>D!==null&&typeof D=="object",v=D=>D===!0||D===!1,_=D=>{if(n(D)!=="object")return!1;const M=s(D);return(M===null||M===Object.prototype||Object.getPrototypeOf(M)===null)&&!(Symbol.toStringTag in D)&&!(Symbol.iterator in D)},T=i("Date"),A=i("File"),k=i("Blob"),S=i("FileList"),E=D=>j(D)&&b(D.pipe),C=D=>{let M;return D&&(typeof FormData=="function"&&D instanceof FormData||b(D.append)&&((M=n(D))==="formdata"||M==="object"&&b(D.toString)&&D.toString()==="[object FormData]"))},z=i("URLSearchParams"),[L,R,V,I]=["ReadableStream","Request","Response","Headers"].map(i),G=D=>D.trim?D.trim():D.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function U(D,M,{allOwnKeys:H=!1}={}){if(D===null||typeof D>"u")return;let Y,ce;if(typeof D!="object"&&(D=[D]),c(D))for(Y=0,ce=D.length;Y<ce;Y++)M.call(null,D[Y],Y,D);else{const ue=H?Object.getOwnPropertyNames(D):Object.keys(D),be=ue.length;let qe;for(Y=0;Y<be;Y++)qe=ue[Y],M.call(null,D[qe],qe,D)}}function W(D,M){M=M.toLowerCase();const H=Object.keys(D);let Y=H.length,ce;for(;Y-- >0;)if(ce=H[Y],M===ce.toLowerCase())return ce;return null}const K=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:TD,$=D=>!d(D)&&D!==K;function ee(){const{caseless:D}=$(this)&&this||{},M={},H=(Y,ce)=>{const ue=D&&W(M,ce)||ce;_(M[ue])&&_(Y)?M[ue]=ee(M[ue],Y):_(Y)?M[ue]=ee({},Y):c(Y)?M[ue]=Y.slice():M[ue]=Y};for(let Y=0,ce=arguments.length;Y<ce;Y++)arguments[Y]&&U(arguments[Y],H);return M}const se=(D,M,H,{allOwnKeys:Y}={})=>(U(M,(ce,ue)=>{H&&b(ce)?D[ue]=e(ce,H):D[ue]=ce},{allOwnKeys:Y}),D),Ne=D=>(D.charCodeAt(0)===65279&&(D=D.slice(1)),D),P=(D,M,H,Y)=>{D.prototype=Object.create(M.prototype,Y),D.prototype.constructor=D,Object.defineProperty(D,"super",{value:M.prototype}),H&&Object.assign(D.prototype,H)},ne=(D,M,H,Y)=>{let ce,ue,be;const qe={};if(M=M||{},D==null)return M;do{for(ce=Object.getOwnPropertyNames(D),ue=ce.length;ue-- >0;)be=ce[ue],(!Y||Y(be,D,M))&&!qe[be]&&(M[be]=D[be],qe[be]=!0);D=H!==!1&&s(D)}while(D&&(!H||H(D,M))&&D!==Object.prototype);return M},ge=(D,M,H)=>{D=String(D),(H===void 0||H>D.length)&&(H=D.length),H-=M.length;const Y=D.indexOf(M,H);return Y!==-1&&Y===H},X=D=>{if(!D)return null;if(c(D))return D;let M=D.length;if(!y(M))return null;const H=new Array(M);for(;M-- >0;)H[M]=D[M];return H},re=(D=>M=>D&&M instanceof D)(typeof Uint8Array<"u"&&s(Uint8Array)),_e=(D,M)=>{const H=(D&&D[Symbol.iterator]).call(D);let Y;for(;(Y=H.next())&&!Y.done;){const ce=Y.value;M.call(D,ce[0],ce[1])}},me=(D,M)=>{let H;const Y=[];for(;(H=D.exec(M))!==null;)Y.push(H);return Y},Pe=i("HTMLFormElement"),we=D=>D.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(M,H,Y){return H.toUpperCase()+Y}),Ce=(({hasOwnProperty:D})=>(M,H)=>D.call(M,H))(Object.prototype),Z=i("RegExp"),Re=(D,M)=>{const H=Object.getOwnPropertyDescriptors(D),Y={};U(H,(ce,ue)=>{let be;(be=M(ce,ue,D))!==!1&&(Y[ue]=be||ce)}),Object.defineProperties(D,Y)},He=D=>{Re(D,(M,H)=>{if(b(D)&&["arguments","caller","callee"].indexOf(H)!==-1)return!1;const Y=D[H];if(b(Y)){if(M.enumerable=!1,"writable"in M){M.writable=!1;return}M.set||(M.set=()=>{throw Error("Can not rewrite read-only method '"+H+"'")})}})},Ye=(D,M)=>{const H={},Y=ce=>{ce.forEach(ue=>{H[ue]=!0})};return c(D)?Y(D):Y(String(D).split(M)),H},tt=()=>{},gt=(D,M)=>D!=null&&Number.isFinite(D=+D)?D:M;function Dt(D){return!!(D&&b(D.append)&&D[Symbol.toStringTag]==="FormData"&&D[Symbol.iterator])}const De=D=>{const M=new Array(10),H=(Y,ce)=>{if(j(Y)){if(M.indexOf(Y)>=0)return;if(!("toJSON"in Y)){M[ce]=Y;const ue=c(Y)?[]:{};return U(Y,(be,qe)=>{const mt=H(be,ce+1);!d(mt)&&(ue[qe]=mt)}),M[ce]=void 0,ue}}return Y};return H(D,0)},ze=i("AsyncFunction"),Fe=D=>D&&(j(D)||b(D))&&b(D.then)&&b(D.catch),Q=((D,M)=>D?setImmediate:M?((H,Y)=>(K.addEventListener("message",({source:ce,data:ue})=>{ce===K&&ue===H&&Y.length&&Y.shift()()},!1),ce=>{Y.push(ce),K.postMessage(H,"*")}))(`axios@${Math.random()}`,[]):H=>setTimeout(H))(typeof setImmediate=="function",b(K.postMessage)),le=typeof queueMicrotask<"u"?queueMicrotask.bind(K):typeof process<"u"&&process.nextTick||Q;var q={isArray:c,isArrayBuffer:f,isBuffer:h,isFormData:C,isArrayBufferView:g,isString:p,isNumber:y,isBoolean:v,isObject:j,isPlainObject:_,isReadableStream:L,isRequest:R,isResponse:V,isHeaders:I,isUndefined:d,isDate:T,isFile:A,isBlob:k,isRegExp:Z,isFunction:b,isStream:E,isURLSearchParams:z,isTypedArray:re,isFileList:S,forEach:U,merge:ee,extend:se,trim:G,stripBOM:Ne,inherits:P,toFlatObject:ne,kindOf:n,kindOfTest:i,endsWith:ge,toArray:X,forEachEntry:_e,matchAll:me,isHTMLForm:Pe,hasOwnProperty:Ce,hasOwnProp:Ce,reduceDescriptors:Re,freezeMethods:He,toObjectSet:Ye,toCamelCase:we,noop:tt,toFiniteNumber:gt,findKey:W,global:K,isContextDefined:$,isSpecCompliantForm:Dt,toJSONObject:De,isAsyncFn:ze,isThenable:Fe,setImmediate:Q,asap:le};function Te(D,M,H,Y,ce){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=D,this.name="AxiosError",M&&(this.code=M),H&&(this.config=H),Y&&(this.request=Y),ce&&(this.response=ce,this.status=ce.status?ce.status:null)}q.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const Le=Te.prototype,Me={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(D=>{Me[D]={value:D}}),Object.defineProperties(Te,Me),Object.defineProperty(Le,"isAxiosError",{value:!0}),Te.from=(D,M,H,Y,ce,ue)=>{const be=Object.create(Le);return q.toFlatObject(D,be,function(qe){return qe!==Error.prototype},qe=>qe!=="isAxiosError"),Te.call(be,D.message,M,H,Y,ce),be.cause=D,be.name=D.name,ue&&Object.assign(be,ue),be};var Ve=null;function Ge(D){return q.isPlainObject(D)||q.isArray(D)}function st(D){return q.endsWith(D,"[]")?D.slice(0,-2):D}function wt(D,M,H){return D?D.concat(M).map(function(Y,ce){return Y=st(Y),!H&&ce?"["+Y+"]":Y}).join(H?".":""):M}function ke(D){return q.isArray(D)&&!D.some(Ge)}const Ue=q.toFlatObject(q,{},null,function(D){return/^is[A-Z]/.test(D)});function Ze(D,M,H){if(!q.isObject(D))throw new TypeError("target must be an object");M=M||new FormData,H=q.toFlatObject(H,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Et,xt){return!q.isUndefined(xt[Et])});const Y=H.metaTokens,ce=H.visitor||We,ue=H.dots,be=H.indexes,qe=(H.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(M);if(!q.isFunction(ce))throw new TypeError("visitor must be a function");function mt(Et){if(Et===null)return"";if(q.isDate(Et))return Et.toISOString();if(!qe&&q.isBlob(Et))throw new Te("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(Et)||q.isTypedArray(Et)?qe&&typeof Blob=="function"?new Blob([Et]):Buffer.from(Et):Et}function We(Et,xt,lt){let tn=Et;if(Et&&!lt&&typeof Et=="object"){if(q.endsWith(xt,"{}"))xt=Y?xt:xt.slice(0,-2),Et=JSON.stringify(Et);else if(q.isArray(Et)&&ke(Et)||(q.isFileList(Et)||q.endsWith(xt,"[]"))&&(tn=q.toArray(Et)))return xt=st(xt),tn.forEach(function(Us,ws){!(q.isUndefined(Us)||Us===null)&&M.append(be===!0?wt([xt],ws,ue):be===null?xt:xt+"[]",mt(Us))}),!1}return Ge(Et)?!0:(M.append(wt(lt,xt,ue),mt(Et)),!1)}const et=[],jt=Object.assign(Ue,{defaultVisitor:We,convertValue:mt,isVisitable:Ge});function is(Et,xt){if(!q.isUndefined(Et)){if(et.indexOf(Et)!==-1)throw Error("Circular reference detected in "+xt.join("."));et.push(Et),q.forEach(Et,function(lt,tn){(!(q.isUndefined(lt)||lt===null)&&ce.call(M,lt,q.isString(tn)?tn.trim():tn,xt,jt))===!0&&is(lt,xt?xt.concat(tn):[tn])}),et.pop()}}if(!q.isObject(D))throw new TypeError("data must be an object");return is(D),M}function Ot(D){const M={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(D).replace(/[!'()~]|%20|%00/g,function(H){return M[H]})}function Ke(D,M){this._pairs=[],D&&Ze(D,this,M)}const zt=Ke.prototype;zt.append=function(D,M){this._pairs.push([D,M])},zt.toString=function(D){const M=D?function(H){return D.call(this,H,Ot)}:Ot;return this._pairs.map(function(H){return M(H[0])+"="+M(H[1])},"").join("&")};function ds(D){return encodeURIComponent(D).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Zs(D,M,H){if(!M)return D;const Y=H&&H.encode||ds;q.isFunction(H)&&(H={serialize:H});const ce=H&&H.serialize;let ue;if(ce?ue=ce(M,H):ue=q.isURLSearchParams(M)?M.toString():new Ke(M,H).toString(Y),ue){const be=D.indexOf("#");be!==-1&&(D=D.slice(0,be)),D+=(D.indexOf("?")===-1?"?":"&")+ue}return D}class yn{constructor(){this.handlers=[]}use(M,H,Y){return this.handlers.push({fulfilled:M,rejected:H,synchronous:Y?Y.synchronous:!1,runWhen:Y?Y.runWhen:null}),this.handlers.length-1}eject(M){this.handlers[M]&&(this.handlers[M]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(M){q.forEach(this.handlers,function(H){H!==null&&M(H)})}}var Js=yn,br={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wa=typeof URLSearchParams<"u"?URLSearchParams:Ke,ra=typeof FormData<"u"?FormData:null,vr=typeof Blob<"u"?Blob:null,bt={isBrowser:!0,classes:{URLSearchParams:Wa,FormData:ra,Blob:vr},protocols:["http","https","file","blob","url","data"]};const Zt=typeof window<"u"&&typeof document<"u",fs=typeof navigator=="object"&&navigator||void 0,Ms=Zt&&(!fs||["ReactNative","NativeScript","NS"].indexOf(fs.product)<0),te=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",oe=Zt&&window.location.href||"http://localhost";var pe=Object.freeze({__proto__:null,hasBrowserEnv:Zt,hasStandardBrowserWebWorkerEnv:te,hasStandardBrowserEnv:Ms,navigator:fs,origin:oe}),Se=F(F({},pe),bt);function Be(D,M){return Ze(D,new Se.classes.URLSearchParams,Object.assign({visitor:function(H,Y,ce,ue){return Se.isNode&&q.isBuffer(H)?(this.append(Y,H.toString("base64")),!1):ue.defaultVisitor.apply(this,arguments)}},M))}function Xe(D){return q.matchAll(/\w+|\[(\w*)]/g,D).map(M=>M[0]==="[]"?"":M[1]||M[0])}function nt(D){const M={},H=Object.keys(D);let Y;const ce=H.length;let ue;for(Y=0;Y<ce;Y++)ue=H[Y],M[ue]=D[ue];return M}function ot(D){function M(H,Y,ce,ue){let be=H[ue++];if(be==="__proto__")return!0;const qe=Number.isFinite(+be),mt=ue>=H.length;return be=!be&&q.isArray(ce)?ce.length:be,mt?(q.hasOwnProp(ce,be)?ce[be]=[ce[be],Y]:ce[be]=Y,!qe):((!ce[be]||!q.isObject(ce[be]))&&(ce[be]=[]),M(H,Y,ce[be],ue)&&q.isArray(ce[be])&&(ce[be]=nt(ce[be])),!qe)}if(q.isFormData(D)&&q.isFunction(D.entries)){const H={};return q.forEachEntry(D,(Y,ce)=>{M(Xe(Y),ce,H,0)}),H}return null}function pt(D,M,H){if(q.isString(D))try{return(M||JSON.parse)(D),q.trim(D)}catch(Y){if(Y.name!=="SyntaxError")throw Y}return(H||JSON.stringify)(D)}const Mt={transitional:br,adapter:["xhr","http","fetch"],transformRequest:[function(D,M){const H=M.getContentType()||"",Y=H.indexOf("application/json")>-1,ce=q.isObject(D);if(ce&&q.isHTMLForm(D)&&(D=new FormData(D)),q.isFormData(D))return Y?JSON.stringify(ot(D)):D;if(q.isArrayBuffer(D)||q.isBuffer(D)||q.isStream(D)||q.isFile(D)||q.isBlob(D)||q.isReadableStream(D))return D;if(q.isArrayBufferView(D))return D.buffer;if(q.isURLSearchParams(D))return M.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),D.toString();let ue;if(ce){if(H.indexOf("application/x-www-form-urlencoded")>-1)return Be(D,this.formSerializer).toString();if((ue=q.isFileList(D))||H.indexOf("multipart/form-data")>-1){const be=this.env&&this.env.FormData;return Ze(ue?{"files[]":D}:D,be&&new be,this.formSerializer)}}return ce||Y?(M.setContentType("application/json",!1),pt(D)):D}],transformResponse:[function(D){const M=this.transitional||Mt.transitional,H=M&&M.forcedJSONParsing,Y=this.responseType==="json";if(q.isResponse(D)||q.isReadableStream(D))return D;if(D&&q.isString(D)&&(H&&!this.responseType||Y)){const ce=!(M&&M.silentJSONParsing)&&Y;try{return JSON.parse(D)}catch(ue){if(ce)throw ue.name==="SyntaxError"?Te.from(ue,Te.ERR_BAD_RESPONSE,this,null,this.response):ue}}return D}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Se.classes.FormData,Blob:Se.classes.Blob},validateStatus:function(D){return D>=200&&D<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],D=>{Mt.headers[D]={}});var dt=Mt;const St=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var At=D=>{const M={};let H,Y,ce;return D&&D.split(`
`).forEach(function(ue){ce=ue.indexOf(":"),H=ue.substring(0,ce).trim().toLowerCase(),Y=ue.substring(ce+1).trim(),!(!H||M[H]&&St[H])&&(H==="set-cookie"?M[H]?M[H].push(Y):M[H]=[Y]:M[H]=M[H]?M[H]+", "+Y:Y)}),M};const us=Symbol("internals");function _s(D){return D&&String(D).trim().toLowerCase()}function rs(D){return D===!1||D==null?D:q.isArray(D)?D.map(rs):String(D)}function ut(D){const M=Object.create(null),H=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let Y;for(;Y=H.exec(D);)M[Y[1]]=Y[2];return M}const Ct=D=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(D.trim());function Wt(D,M,H,Y,ce){if(q.isFunction(Y))return Y.call(this,M,H);if(ce&&(M=H),!!q.isString(M)){if(q.isString(Y))return M.indexOf(Y)!==-1;if(q.isRegExp(Y))return Y.test(M)}}function bs(D){return D.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(M,H,Y)=>H.toUpperCase()+Y)}function Ts(D,M){const H=q.toCamelCase(" "+M);["get","set","has"].forEach(Y=>{Object.defineProperty(D,Y+H,{value:function(ce,ue,be){return this[Y].call(this,M,ce,ue,be)},configurable:!0})})}class Ys{constructor(M){M&&this.set(M)}set(M,H,Y){const ce=this;function ue(qe,mt,We){const et=_s(mt);if(!et)throw new Error("header name must be a non-empty string");const jt=q.findKey(ce,et);(!jt||ce[jt]===void 0||We===!0||We===void 0&&ce[jt]!==!1)&&(ce[jt||mt]=rs(qe))}const be=(qe,mt)=>q.forEach(qe,(We,et)=>ue(We,et,mt));if(q.isPlainObject(M)||M instanceof this.constructor)be(M,H);else if(q.isString(M)&&(M=M.trim())&&!Ct(M))be(At(M),H);else if(q.isHeaders(M))for(const[qe,mt]of M.entries())ue(mt,qe,Y);else M!=null&&ue(H,M,Y);return this}get(M,H){if(M=_s(M),M){const Y=q.findKey(this,M);if(Y){const ce=this[Y];if(!H)return ce;if(H===!0)return ut(ce);if(q.isFunction(H))return H.call(this,ce,Y);if(q.isRegExp(H))return H.exec(ce);throw new TypeError("parser must be boolean|regexp|function")}}}has(M,H){if(M=_s(M),M){const Y=q.findKey(this,M);return!!(Y&&this[Y]!==void 0&&(!H||Wt(this,this[Y],Y,H)))}return!1}delete(M,H){const Y=this;let ce=!1;function ue(be){if(be=_s(be),be){const qe=q.findKey(Y,be);qe&&(!H||Wt(Y,Y[qe],qe,H))&&(delete Y[qe],ce=!0)}}return q.isArray(M)?M.forEach(ue):ue(M),ce}clear(M){const H=Object.keys(this);let Y=H.length,ce=!1;for(;Y--;){const ue=H[Y];(!M||Wt(this,this[ue],ue,M,!0))&&(delete this[ue],ce=!0)}return ce}normalize(M){const H=this,Y={};return q.forEach(this,(ce,ue)=>{const be=q.findKey(Y,ue);if(be){H[be]=rs(ce),delete H[ue];return}const qe=M?bs(ue):String(ue).trim();qe!==ue&&delete H[ue],H[qe]=rs(ce),Y[qe]=!0}),this}concat(...M){return this.constructor.concat(this,...M)}toJSON(M){const H=Object.create(null);return q.forEach(this,(Y,ce)=>{Y!=null&&Y!==!1&&(H[ce]=M&&q.isArray(Y)?Y.join(", "):Y)}),H}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([M,H])=>M+": "+H).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(M){return M instanceof this?M:new this(M)}static concat(M,...H){const Y=new this(M);return H.forEach(ce=>Y.set(ce)),Y}static accessor(M){const H=(this[us]=this[us]={accessors:{}}).accessors,Y=this.prototype;function ce(ue){const be=_s(ue);H[be]||(Ts(Y,ue),H[be]=!0)}return q.isArray(M)?M.forEach(ce):ce(M),this}}Ys.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),q.reduceDescriptors(Ys.prototype,({value:D},M)=>{let H=M[0].toUpperCase()+M.slice(1);return{get:()=>D,set(Y){this[H]=Y}}}),q.freezeMethods(Ys);var en=Ys;function ia(D,M){const H=this||dt,Y=M||H,ce=en.from(Y.headers);let ue=Y.data;return q.forEach(D,function(be){ue=be.call(H,ue,ce.normalize(),M?M.status:void 0)}),ce.normalize(),ue}function oa(D){return!!(D&&D.__CANCEL__)}function bn(D,M,H){Te.call(this,D!=null?D:"canceled",Te.ERR_CANCELED,M,H),this.name="CanceledError"}q.inherits(bn,Te,{__CANCEL__:!0});function la(D,M,H){const Y=H.config.validateStatus;!H.status||!Y||Y(H.status)?D(H):M(new Te("Request failed with status code "+H.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(H.status/100)-4],H.config,H.request,H))}function Lt(D){const M=/^([-+\w]{1,25})(:?\/\/|:)/.exec(D);return M&&M[1]||""}function Ss(D,M){D=D||10;const H=new Array(D),Y=new Array(D);let ce=0,ue=0,be;return M=M!==void 0?M:1e3,function(qe){const mt=Date.now(),We=Y[ue];be||(be=mt),H[ce]=qe,Y[ce]=mt;let et=ue,jt=0;for(;et!==ce;)jt+=H[et++],et=et%D;if(ce=(ce+1)%D,ce===ue&&(ue=(ue+1)%D),mt-be<M)return;const is=We&&mt-We;return is?Math.round(jt*1e3/is):void 0}}function wr(D,M){let H=0,Y=1e3/M,ce,ue;const be=(qe,mt=Date.now())=>{H=mt,ce=null,ue&&(clearTimeout(ue),ue=null),D.apply(null,qe)};return[(...qe)=>{const mt=Date.now(),We=mt-H;We>=Y?be(qe,mt):(ce=qe,ue||(ue=setTimeout(()=>{ue=null,be(ce)},Y-We)))},()=>ce&&be(ce)]}const ln=(D,M,H=3)=>{let Y=0;const ce=Ss(50,250);return wr(ue=>{const be=ue.loaded,qe=ue.lengthComputable?ue.total:void 0,mt=be-Y,We=ce(mt),et=be<=qe;Y=be;const jt={loaded:be,total:qe,progress:qe?be/qe:void 0,bytes:mt,rate:We||void 0,estimated:We&&qe&&et?(qe-be)/We:void 0,event:ue,lengthComputable:qe!=null,[M?"download":"upload"]:!0};D(jt)},H)},ms=(D,M)=>{const H=D!=null;return[Y=>M[0]({lengthComputable:H,total:D,loaded:Y}),M[1]]},Sa=D=>(...M)=>q.asap(()=>D(...M));var Jo=Se.hasStandardBrowserEnv?((D,M)=>H=>(H=new URL(H,Se.origin),D.protocol===H.protocol&&D.host===H.host&&(M||D.port===H.port)))(new URL(Se.origin),Se.navigator&&/(msie|trident)/i.test(Se.navigator.userAgent)):()=>!0,el=Se.hasStandardBrowserEnv?{write(D,M,H,Y,ce,ue){const be=[D+"="+encodeURIComponent(M)];q.isNumber(H)&&be.push("expires="+new Date(H).toGMTString()),q.isString(Y)&&be.push("path="+Y),q.isString(ce)&&be.push("domain="+ce),ue===!0&&be.push("secure"),document.cookie=be.join("; ")},read(D){const M=document.cookie.match(new RegExp("(^|;\\s*)("+D+")=([^;]*)"));return M?decodeURIComponent(M[3]):null},remove(D){this.write(D,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function On(D){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(D)}function Tu(D,M){return M?D.replace(/\/?\/$/,"")+"/"+M.replace(/^\/+/,""):D}function Su(D,M,H){let Y=!On(M);return D&&Y||H==!1?Tu(D,M):M}const so=D=>D instanceof en?F({},D):D;function Ya(D,M){M=M||{};const H={};function Y(We,et,jt,is){return q.isPlainObject(We)&&q.isPlainObject(et)?q.merge.call({caseless:is},We,et):q.isPlainObject(et)?q.merge({},et):q.isArray(et)?et.slice():et}function ce(We,et,jt,is){if(q.isUndefined(et)){if(!q.isUndefined(We))return Y(void 0,We,jt,is)}else return Y(We,et,jt,is)}function ue(We,et){if(!q.isUndefined(et))return Y(void 0,et)}function be(We,et){if(q.isUndefined(et)){if(!q.isUndefined(We))return Y(void 0,We)}else return Y(void 0,et)}function qe(We,et,jt){if(jt in M)return Y(We,et);if(jt in D)return Y(void 0,We)}const mt={url:ue,method:ue,data:ue,baseURL:be,transformRequest:be,transformResponse:be,paramsSerializer:be,timeout:be,timeoutMessage:be,withCredentials:be,withXSRFToken:be,adapter:be,responseType:be,xsrfCookieName:be,xsrfHeaderName:be,onUploadProgress:be,onDownloadProgress:be,decompress:be,maxContentLength:be,maxBodyLength:be,beforeRedirect:be,transport:be,httpAgent:be,httpsAgent:be,cancelToken:be,socketPath:be,responseEncoding:be,validateStatus:qe,headers:(We,et,jt)=>ce(so(We),so(et),jt,!0)};return q.forEach(Object.keys(Object.assign({},D,M)),function(We){const et=mt[We]||ce,jt=et(D[We],M[We],We);q.isUndefined(jt)&&et!==qe||(H[We]=jt)}),H}var no=D=>{const M=Ya({},D);let{data:H,withXSRFToken:Y,xsrfHeaderName:ce,xsrfCookieName:ue,headers:be,auth:qe}=M;M.headers=be=en.from(be),M.url=Zs(Su(M.baseURL,M.url),D.params,D.paramsSerializer),qe&&be.set("Authorization","Basic "+btoa((qe.username||"")+":"+(qe.password?unescape(encodeURIComponent(qe.password)):"")));let mt;if(q.isFormData(H)){if(Se.hasStandardBrowserEnv||Se.hasStandardBrowserWebWorkerEnv)be.setContentType(void 0);else if((mt=be.getContentType())!==!1){const[We,...et]=mt?mt.split(";").map(jt=>jt.trim()).filter(Boolean):[];be.setContentType([We||"multipart/form-data",...et].join("; "))}}if(Se.hasStandardBrowserEnv&&(Y&&q.isFunction(Y)&&(Y=Y(M)),Y||Y!==!1&&Jo(M.url))){const We=ce&&ue&&el.read(ue);We&&be.set(ce,We)}return M},zm=typeof XMLHttpRequest<"u"&&function(D){return new Promise(function(M,H){const Y=no(D);let ce=Y.data;const ue=en.from(Y.headers).normalize();let{responseType:be,onUploadProgress:qe,onDownloadProgress:mt}=Y,We,et,jt,is,Et;function xt(){is&&is(),Et&&Et(),Y.cancelToken&&Y.cancelToken.unsubscribe(We),Y.signal&&Y.signal.removeEventListener("abort",We)}let lt=new XMLHttpRequest;lt.open(Y.method.toUpperCase(),Y.url,!0),lt.timeout=Y.timeout;function tn(){if(!lt)return;const ws=en.from("getAllResponseHeaders"in lt&&lt.getAllResponseHeaders()),ca={data:!be||be==="text"||be==="json"?lt.responseText:lt.response,status:lt.status,statusText:lt.statusText,headers:ws,config:D,request:lt};la(function(uo){M(uo),xt()},function(uo){H(uo),xt()},ca),lt=null}"onloadend"in lt?lt.onloadend=tn:lt.onreadystatechange=function(){!lt||lt.readyState!==4||lt.status===0&&!(lt.responseURL&&lt.responseURL.indexOf("file:")===0)||setTimeout(tn)},lt.onabort=function(){lt&&(H(new Te("Request aborted",Te.ECONNABORTED,D,lt)),lt=null)},lt.onerror=function(){H(new Te("Network Error",Te.ERR_NETWORK,D,lt)),lt=null},lt.ontimeout=function(){let ws=Y.timeout?"timeout of "+Y.timeout+"ms exceeded":"timeout exceeded";const ca=Y.transitional||br;Y.timeoutErrorMessage&&(ws=Y.timeoutErrorMessage),H(new Te(ws,ca.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,D,lt)),lt=null},ce===void 0&&ue.setContentType(null),"setRequestHeader"in lt&&q.forEach(ue.toJSON(),function(ws,ca){lt.setRequestHeader(ca,ws)}),q.isUndefined(Y.withCredentials)||(lt.withCredentials=!!Y.withCredentials),be&&be!=="json"&&(lt.responseType=Y.responseType),mt&&([jt,Et]=ln(mt,!0),lt.addEventListener("progress",jt)),qe&&lt.upload&&([et,is]=ln(qe),lt.upload.addEventListener("progress",et),lt.upload.addEventListener("loadend",is)),(Y.cancelToken||Y.signal)&&(We=ws=>{lt&&(H(!ws||ws.type?new bn(null,D,lt):ws),lt.abort(),lt=null)},Y.cancelToken&&Y.cancelToken.subscribe(We),Y.signal&&(Y.signal.aborted?We():Y.signal.addEventListener("abort",We)));const Us=Lt(Y.url);if(Us&&Se.protocols.indexOf(Us)===-1){H(new Te("Unsupported protocol "+Us+":",Te.ERR_BAD_REQUEST,D));return}lt.send(ce||null)})},Mn=(D,M)=>{const{length:H}=D=D?D.filter(Boolean):[];if(M||H){let Y=new AbortController,ce;const ue=function(We){if(!ce){ce=!0,qe();const et=We instanceof Error?We:this.reason;Y.abort(et instanceof Te?et:new bn(et instanceof Error?et.message:et))}};let be=M&&setTimeout(()=>{be=null,ue(new Te(`timeout ${M} of ms exceeded`,Te.ETIMEDOUT))},M);const qe=()=>{D&&(be&&clearTimeout(be),be=null,D.forEach(We=>{We.unsubscribe?We.unsubscribe(ue):We.removeEventListener("abort",ue)}),D=null)};D.forEach(We=>We.addEventListener("abort",ue));const{signal:mt}=Y;return mt.unsubscribe=()=>q.asap(qe),mt}};const kc=function*(D,M){let H=D.byteLength;if(H<M){yield D;return}let Y=0,ce;for(;Y<H;)ce=Y+M,yield D.slice(Y,ce),Y=ce},ku=function(D,M){return Mp(this,null,function*(){try{for(var H=gj(Cc(D)),Y,ce,ue;Y=!(ce=yield new ko(H.next())).done;Y=!1){const be=ce.value;yield*Rp(kc(be,M))}}catch(ce){ue=[ce]}finally{try{Y&&(ce=H.return)&&(yield new ko(ce.call(H)))}finally{if(ue)throw ue[0]}}})},Cc=function(D){return Mp(this,null,function*(){if(D[Symbol.asyncIterator]){yield*Rp(D);return}const M=D.getReader();try{for(;;){const{done:H,value:Y}=yield new ko(M.read());if(H)break;yield Y}}finally{yield new ko(M.cancel())}})},jr=(D,M,H,Y)=>{const ce=ku(D,M);let ue=0,be,qe=We=>{be||(be=!0,Y&&Y(We))};return new ReadableStream({pull(We){return fe(this,null,function*(){try{const{done:et,value:jt}=yield ce.next();if(et){qe(),We.close();return}let is=jt.byteLength;if(H){let Et=ue+=is;H(Et)}We.enqueue(new Uint8Array(jt))}catch(et){throw qe(et),et}})},cancel(We){return qe(We),ce.return()}},{highWaterMark:2})},ao=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ec=ao&&typeof ReadableStream=="function",Zr=ao&&(typeof TextEncoder=="function"?(D=>M=>D.encode(M))(new TextEncoder):D=>fe(null,null,function*(){return new Uint8Array(yield new Response(D).arrayBuffer())})),Cu=(D,...M)=>{try{return!!D(...M)}catch(H){return!1}},Eu=Ec&&Cu(()=>{let D=!1;const M=new Request(Se.origin,{body:new ReadableStream,method:"POST",get duplex(){return D=!0,"half"}}).headers.has("Content-Type");return D&&!M}),Dc=64*1024,ro=Ec&&Cu(()=>q.isReadableStream(new Response("").body)),tl={stream:ro&&(D=>D.body)};ao&&(D=>{["text","arrayBuffer","blob","formData","stream"].forEach(M=>{!tl[M]&&(tl[M]=q.isFunction(D[M])?H=>H[M]():(H,Y)=>{throw new Te(`Response type '${M}' is not supported`,Te.ERR_NOT_SUPPORT,Y)})})})(new Response);const Um=D=>fe(null,null,function*(){if(D==null)return 0;if(q.isBlob(D))return D.size;if(q.isSpecCompliantForm(D))return(yield new Request(Se.origin,{method:"POST",body:D}).arrayBuffer()).byteLength;if(q.isArrayBufferView(D)||q.isArrayBuffer(D))return D.byteLength;if(q.isURLSearchParams(D)&&(D=D+""),q.isString(D))return(yield Zr(D)).byteLength}),sl=(D,M)=>fe(null,null,function*(){const H=q.toFiniteNumber(D.getContentLength());return H!=null?H:Um(M)});var Ac=ao&&(D=>fe(null,null,function*(){let{url:M,method:H,data:Y,signal:ce,cancelToken:ue,timeout:be,onDownloadProgress:qe,onUploadProgress:mt,responseType:We,headers:et,withCredentials:jt="same-origin",fetchOptions:is}=no(D);We=We?(We+"").toLowerCase():"text";let Et=Mn([ce,ue&&ue.toAbortSignal()],be),xt;const lt=Et&&Et.unsubscribe&&(()=>{Et.unsubscribe()});let tn;try{if(mt&&Eu&&H!=="get"&&H!=="head"&&(tn=yield sl(et,Y))!==0){let Ga=new Request(M,{method:"POST",body:Y,duplex:"half"}),ni;if(q.isFormData(Y)&&(ni=Ga.headers.get("content-type"))&&et.setContentType(ni),Ga.body){const[il,ol]=ms(tn,ln(Sa(mt)));Y=jr(Ga.body,Dc,il,ol)}}q.isString(jt)||(jt=jt?"include":"omit");const Us="credentials"in Request.prototype;xt=new Request(M,ie(F({},is),{signal:Et,method:H.toUpperCase(),headers:et.normalize().toJSON(),body:Y,duplex:"half",credentials:Us?jt:void 0}));let ws=yield fetch(xt);const ca=ro&&(We==="stream"||We==="response");if(ro&&(qe||ca&&lt)){const Ga={};["status","statusText","headers"].forEach(Au=>{Ga[Au]=ws[Au]});const ni=q.toFiniteNumber(ws.headers.get("content-length")),[il,ol]=qe&&ms(ni,ln(Sa(qe),!0))||[];ws=new Response(jr(ws.body,Dc,il,()=>{ol&&ol(),lt&&lt()}),Ga)}We=We||"text";let uo=yield tl[q.findKey(tl,We)||"text"](ws,D);return!ca&&lt&&lt(),yield new Promise((Ga,ni)=>{la(Ga,ni,{data:uo,headers:en.from(ws.headers),status:ws.status,statusText:ws.statusText,config:D,request:xt})})}catch(Us){throw lt&&lt(),Us&&Us.name==="TypeError"&&/fetch/i.test(Us.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,D,xt),{cause:Us.cause||Us}):Te.from(Us,Us&&Us.code,D,xt)}}));const io={http:Ve,xhr:zm,fetch:Ac};q.forEach(io,(D,M)=>{if(D){try{Object.defineProperty(D,"name",{value:M})}catch(H){}Object.defineProperty(D,"adapterName",{value:M})}});const Nr=D=>`- ${D}`,Jr=D=>q.isFunction(D)||D===null||D===!1;var Oc={getAdapter:D=>{D=q.isArray(D)?D:[D];const{length:M}=D;let H,Y;const ce={};for(let ue=0;ue<M;ue++){H=D[ue];let be;if(Y=H,!Jr(H)&&(Y=io[(be=String(H)).toLowerCase()],Y===void 0))throw new Te(`Unknown adapter '${be}'`);if(Y)break;ce[be||"#"+ue]=Y}if(!Y){const ue=Object.entries(ce).map(([qe,mt])=>`adapter ${qe} `+(mt===!1?"is not supported by the environment":"is not available in the build"));let be=M?ue.length>1?`since :
`+ue.map(Nr).join(`
`):" "+Nr(ue[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+be,"ERR_NOT_SUPPORT")}return Y},adapters:io};function oo(D){if(D.cancelToken&&D.cancelToken.throwIfRequested(),D.signal&&D.signal.aborted)throw new bn(null,D)}function Mc(D){return oo(D),D.headers=en.from(D.headers),D.data=ia.call(D,D.transformRequest),["post","put","patch"].indexOf(D.method)!==-1&&D.headers.setContentType("application/x-www-form-urlencoded",!1),Oc.getAdapter(D.adapter||dt.adapter)(D).then(function(M){return oo(D),M.data=ia.call(D,D.transformResponse,M),M.headers=en.from(M.headers),M},function(M){return oa(M)||(oo(D),M&&M.response&&(M.response.data=ia.call(D,D.transformResponse,M.response),M.response.headers=en.from(M.response.headers))),Promise.reject(M)})}const ei="1.8.2",Rn={};["object","boolean","number","function","string","symbol"].forEach((D,M)=>{Rn[D]=function(H){return typeof H===D||"a"+(M<1?"n ":" ")+D}});const nl={};Rn.transitional=function(D,M,H){function Y(ce,ue){return"[Axios v"+ei+"] Transitional option '"+ce+"'"+ue+(H?". "+H:"")}return(ce,ue,be)=>{if(D===!1)throw new Te(Y(ue," has been removed"+(M?" in "+M:"")),Te.ERR_DEPRECATED);return M&&!nl[ue]&&(nl[ue]=!0,console.warn(Y(ue," has been deprecated since v"+M+" and will be removed in the near future"))),D?D(ce,ue,be):!0}},Rn.spelling=function(D){return(M,H)=>(console.warn(`${H} is likely a misspelling of ${D}`),!0)};function lo(D,M,H){if(typeof D!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const Y=Object.keys(D);let ce=Y.length;for(;ce-- >0;){const ue=Y[ce],be=M[ue];if(be){const qe=D[ue],mt=qe===void 0||be(qe,ue,D);if(mt!==!0)throw new Te("option "+ue+" must be "+mt,Te.ERR_BAD_OPTION_VALUE);continue}if(H!==!0)throw new Te("Unknown option "+ue,Te.ERR_BAD_OPTION)}}var qn={assertOptions:lo,validators:Rn};const Pn=qn.validators;class _r{constructor(M){this.defaults=M,this.interceptors={request:new Js,response:new Js}}request(M,H){return fe(this,null,function*(){try{return yield this._request(M,H)}catch(Y){if(Y instanceof Error){let ce={};Error.captureStackTrace?Error.captureStackTrace(ce):ce=new Error;const ue=ce.stack?ce.stack.replace(/^.+\n/,""):"";try{Y.stack?ue&&!String(Y.stack).endsWith(ue.replace(/^.+\n.+\n/,""))&&(Y.stack+=`
`+ue):Y.stack=ue}catch(be){}}throw Y}})}_request(M,H){typeof M=="string"?(H=H||{},H.url=M):H=M||{},H=Ya(this.defaults,H);const{transitional:Y,paramsSerializer:ce,headers:ue}=H;Y!==void 0&&qn.assertOptions(Y,{silentJSONParsing:Pn.transitional(Pn.boolean),forcedJSONParsing:Pn.transitional(Pn.boolean),clarifyTimeoutError:Pn.transitional(Pn.boolean)},!1),ce!=null&&(q.isFunction(ce)?H.paramsSerializer={serialize:ce}:qn.assertOptions(ce,{encode:Pn.function,serialize:Pn.function},!0)),H.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?H.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:H.allowAbsoluteUrls=!0),qn.assertOptions(H,{baseUrl:Pn.spelling("baseURL"),withXsrfToken:Pn.spelling("withXSRFToken")},!0),H.method=(H.method||this.defaults.method||"get").toLowerCase();let be=ue&&q.merge(ue.common,ue[H.method]);ue&&q.forEach(["delete","get","head","post","put","patch","common"],xt=>{delete ue[xt]}),H.headers=en.concat(be,ue);const qe=[];let mt=!0;this.interceptors.request.forEach(function(xt){typeof xt.runWhen=="function"&&xt.runWhen(H)===!1||(mt=mt&&xt.synchronous,qe.unshift(xt.fulfilled,xt.rejected))});const We=[];this.interceptors.response.forEach(function(xt){We.push(xt.fulfilled,xt.rejected)});let et,jt=0,is;if(!mt){const xt=[Mc.bind(this),void 0];for(xt.unshift.apply(xt,qe),xt.push.apply(xt,We),is=xt.length,et=Promise.resolve(H);jt<is;)et=et.then(xt[jt++],xt[jt++]);return et}is=qe.length;let Et=H;for(jt=0;jt<is;){const xt=qe[jt++],lt=qe[jt++];try{Et=xt(Et)}catch(tn){lt.call(this,tn);break}}try{et=Mc.call(this,Et)}catch(xt){return Promise.reject(xt)}for(jt=0,is=We.length;jt<is;)et=et.then(We[jt++],We[jt++]);return et}getUri(M){M=Ya(this.defaults,M);const H=Su(M.baseURL,M.url,M.allowAbsoluteUrls);return Zs(H,M.params,M.paramsSerializer)}}q.forEach(["delete","get","head","options"],function(D){_r.prototype[D]=function(M,H){return this.request(Ya(H||{},{method:D,url:M,data:(H||{}).data}))}}),q.forEach(["post","put","patch"],function(D){function M(H){return function(Y,ce,ue){return this.request(Ya(ue||{},{method:D,headers:H?{"Content-Type":"multipart/form-data"}:{},url:Y,data:ce}))}}_r.prototype[D]=M(),_r.prototype[D+"Form"]=M(!0)});var co=_r;class ti{constructor(M){if(typeof M!="function")throw new TypeError("executor must be a function.");let H;this.promise=new Promise(function(ce){H=ce});const Y=this;this.promise.then(ce=>{if(!Y._listeners)return;let ue=Y._listeners.length;for(;ue-- >0;)Y._listeners[ue](ce);Y._listeners=null}),this.promise.then=ce=>{let ue;const be=new Promise(qe=>{Y.subscribe(qe),ue=qe}).then(ce);return be.cancel=function(){Y.unsubscribe(ue)},be},M(function(ce,ue,be){Y.reason||(Y.reason=new bn(ce,ue,be),H(Y.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(M){if(this.reason){M(this.reason);return}this._listeners?this._listeners.push(M):this._listeners=[M]}unsubscribe(M){if(!this._listeners)return;const H=this._listeners.indexOf(M);H!==-1&&this._listeners.splice(H,1)}toAbortSignal(){const M=new AbortController,H=Y=>{M.abort(Y)};return this.subscribe(H),M.signal.unsubscribe=()=>this.unsubscribe(H),M.signal}static source(){let M;return{token:new ti(function(H){M=H}),cancel:M}}}var al=ti;function Du(D){return function(M){return D.apply(null,M)}}function vn(D){return q.isObject(D)&&D.isAxiosError===!0}const ka={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ka).forEach(([D,M])=>{ka[M]=D});var rl=ka;function si(D){const M=new co(D),H=e(co.prototype.request,M);return q.extend(H,co.prototype,M,{allOwnKeys:!0}),q.extend(H,M,null,{allOwnKeys:!0}),H.create=function(Y){return si(Ya(D,Y))},H}const ks=si(dt);return ks.Axios=co,ks.CanceledError=bn,ks.CancelToken=al,ks.isCancel=oa,ks.VERSION=ei,ks.toFormData=Ze,ks.AxiosError=Te,ks.Cancel=ks.CanceledError,ks.all=function(D){return Promise.all(D)},ks.spread=Du,ks.isAxiosError=vn,ks.mergeConfig=Ya,ks.AxiosHeaders=en,ks.formToJSON=D=>ot(q.isHTMLForm(D)?new FormData(D):D),ks.getAdapter=Oc.getAdapter,ks.HttpStatusCode=rl,ks.default=ks,Hp=ks,Hp}var Ej;function I2(){if(Ej)return Fr;Ej=1;var e=Fr&&Fr.__assign||function(){return e=Object.assign||function(i){for(var o,c=1,d=arguments.length;c<d;c++){o=arguments[c];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(i[h]=o[h])}return i},e.apply(this,arguments)};Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.getRequestHeaders=Fr.getAxiosClient=void 0;var t=SD();function s(i,o,c,d,h){var f=t.default.create({baseURL:i,headers:n(o,d,c,i,h),withCredentials:!0});return f.interceptors.request.use(function(g){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(g.headers["X-Frappe-CSRF-Token"]=window.csrf_token),o&&d&&c&&(g.headers.Authorization="".concat(d," ").concat(c())),g}),f}Fr.getAxiosClient=s;function n(i,o,c,d,h){i===void 0&&(i=!1);var f={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return i&&o&&c&&(f.Authorization="".concat(o," ").concat(c())),typeof window<"u"&&typeof document<"u"&&(window.location&&(d&&d!==window.location.origin||(f["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(f["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},f),h!=null?h:{})}return Fr.getRequestHeaders=n,Fr}var Dj;function q2(){if(Dj)return Ma;Dj=1;var e=Ma&&Ma.__assign||function(){return e=Object.assign||function(o){for(var c,d=1,h=arguments.length;d<h;d++){c=arguments[d];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(o[f]=c[f])}return o},e.apply(this,arguments)},t=Ma&&Ma.__awaiter||function(o,c,d,h){function f(g){return g instanceof d?g:new d(function(p){p(g)})}return new(d||(d=Promise))(function(g,p){function b(v){try{j(h.next(v))}catch(_){p(_)}}function y(v){try{j(h.throw(v))}catch(_){p(_)}}function j(v){v.done?g(v.value):f(v.value).then(b,y)}j((h=h.apply(o,c||[])).next())})},s=Ma&&Ma.__generator||function(o,c){var d={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,f,g,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(j){return function(v){return y([j,v])}}function y(j){if(h)throw new TypeError("Generator is already executing.");for(;p&&(p=0,j[0]&&(d=0)),d;)try{if(h=1,f&&(g=j[0]&2?f.return:j[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,j[1])).done)return g;switch(f=0,g&&(j=[j[0]&2,g.value]),j[0]){case 0:case 1:g=j;break;case 4:return d.label++,{value:j[1],done:!1};case 5:d.label++,f=j[1],j=[0];continue;case 7:j=d.ops.pop(),d.trys.pop();continue;default:if(g=d.trys,!(g=g.length>0&&g[g.length-1])&&(j[0]===6||j[0]===2)){d=0;continue}if(j[0]===3&&(!g||j[1]>g[0]&&j[1]<g[3])){d.label=j[1];break}if(j[0]===6&&d.label<g[1]){d.label=g[1],g=j;break}if(g&&d.label<g[2]){d.label=g[2],d.ops.push(j);break}g[2]&&d.ops.pop(),d.trys.pop();continue}j=c.call(o,d)}catch(v){j=[6,v],f=0}finally{h=g=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}};Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.FrappeFileUpload=void 0;var n=I2(),i=function(){function o(c,d,h,f,g,p){this.appURL=c,this.axios=d,this.useToken=h!=null?h:!1,this.token=f,this.tokenType=g,this.customHeaders=p}return o.prototype.uploadFile=function(c,d,h,f){return f===void 0&&(f="upload_file"),t(this,void 0,void 0,function(){var g,p,b,y,j,v,_,T;return s(this,function(A){return g=new FormData,c&&g.append("file",c,c.name),p=d.isPrivate,b=d.folder,y=d.file_url,j=d.doctype,v=d.docname,_=d.fieldname,T=d.otherData,p&&g.append("is_private","1"),b&&g.append("folder",b),y&&g.append("file_url",y),j&&v&&(g.append("doctype",j),g.append("docname",v),_&&g.append("fieldname",_)),T&&Object.keys(T).forEach(function(k){var S=T[k];g.append(k,S)}),[2,this.axios.post("/api/method/".concat(f),g,{onUploadProgress:function(k){h&&h(k.loaded,k.total,k)},headers:e(e({},(0,n.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(k){var S,E;throw e(e({},k.response.data),{httpStatus:k.response.status,httpStatusText:k.response.statusText,message:(S=k.response.data.message)!==null&&S!==void 0?S:"There was an error while uploading the file.",exception:(E=k.response.data.exception)!==null&&E!==void 0?E:""})})]})})},o}();return Ma.FrappeFileUpload=i,Ma}var Aj;function kD(){if(Aj)return _d;Aj=1,Object.defineProperty(_d,"__esModule",{value:!0}),_d.FrappeApp=void 0;var e=W2(),t=$2(),s=V2(),n=q2(),i=I2(),o=function(){function c(d,h,f,g){var p,b;this.url=d,this.name=f!=null?f:"FrappeApp",this.useToken=(p=h==null?void 0:h.useToken)!==null&&p!==void 0?p:!1,this.token=h==null?void 0:h.token,this.tokenType=(b=h==null?void 0:h.type)!==null&&b!==void 0?b:"Bearer",this.customHeaders=g,this.axios=(0,i.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return c.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},c.prototype.db=function(){return new s.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},c.prototype.file=function(){return new n.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},c.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},c}();return _d.FrappeApp=o,_d}var Ra={},Oj;function CD(){if(Oj)return Ra;Oj=1;var e=Ra&&Ra.__assign||function(){return e=Object.assign||function(i){for(var o,c=1,d=arguments.length;c<d;c++){o=arguments[c];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(i[h]=o[h])}return i},e.apply(this,arguments)},t=Ra&&Ra.__awaiter||function(i,o,c,d){function h(f){return f instanceof c?f:new c(function(g){g(f)})}return new(c||(c=Promise))(function(f,g){function p(j){try{y(d.next(j))}catch(v){g(v)}}function b(j){try{y(d.throw(j))}catch(v){g(v)}}function y(j){j.done?f(j.value):h(j.value).then(p,b)}y((d=d.apply(i,o||[])).next())})},s=Ra&&Ra.__generator||function(i,o){var c={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},d,h,f,g;return g={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function p(y){return function(j){return b([y,j])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;g&&(g=0,y[0]&&(c=0)),c;)try{if(d=1,h&&(f=y[0]&2?h.return:y[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,y[1])).done)return f;switch(h=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return c.label++,{value:y[1],done:!1};case 5:c.label++,h=y[1],y=[0];continue;case 7:y=c.ops.pop(),c.trys.pop();continue;default:if(f=c.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){c=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){c.label=y[1];break}if(y[0]===6&&c.label<f[1]){c.label=f[1],f=y;break}if(f&&c.label<f[2]){c.label=f[2],c.ops.push(y);break}f[2]&&c.ops.pop(),c.trys.pop();continue}y=o.call(i,c)}catch(j){y=[6,j],h=0}finally{d=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.FrappeAuth=void 0;var n=function(){function i(o,c,d,h,f){this.appURL=o,this.axios=c,this.useToken=d!=null?d:!1,this.token=h,this.tokenType=f}return i.prototype.loginWithUsernamePassword=function(o){return t(this,void 0,void 0,function(){return s(this,function(c){return[2,this.axios.post("/api/method/login",{usr:o.username,pwd:o.password,otp:o.otp,tmp_id:o.tmp_id,device:o.device}).then(function(d){return d.data}).catch(function(d){var h,f;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(h=d.response.data.message)!==null&&h!==void 0?h:"There was an error while logging in",exception:(f=d.response.data.exception)!==null&&f!==void 0?f:""})})]})})},i.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return s(this,function(o){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(c){return c.data.message}).catch(function(c){var d;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:"There was an error while fetching the logged in user",exception:(d=c.response.data.exception)!==null&&d!==void 0?d:""})})]})})},i.prototype.logout=function(){return t(this,void 0,void 0,function(){return s(this,function(o){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(c){var d,h;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:(d=c.response.data.message)!==null&&d!==void 0?d:"There was an error while logging out",exception:(h=c.response.data.exception)!==null&&h!==void 0?h:""})})]})})},i.prototype.forgetPassword=function(o){return t(this,void 0,void 0,function(){return s(this,function(c){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:o}).then(function(){}).catch(function(d){var h,f;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(h=d.response.data.message)!==null&&h!==void 0?h:"There was an error sending password reset email.",exception:(f=d.response.data.exception)!==null&&f!==void 0?f:""})})]})})},i}();return Ra.FrappeAuth=n,Ra}var Mj;function W2(){return Mj||(Mj=1,function(e){var t=Fl&&Fl.__createBinding||(Object.create?function(n,i,o,c){c===void 0&&(c=o);var d=Object.getOwnPropertyDescriptor(i,o);(!d||("get"in d?!i.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,c,d)}:function(n,i,o,c){c===void 0&&(c=o),n[c]=i[o]}),s=Fl&&Fl.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),s(kD(),e),s(CD(),e),s(V2(),e),s(q2(),e),s($2(),e)}(Fl)),Fl}var ED=W2(),Rj={exports:{}},$p={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pj;function DD(){if(Pj)return $p;Pj=1;var e=ye;function t(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var s=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,o=e.useLayoutEffect,c=e.useDebugValue;function d(p,b){var y=b(),j=n({inst:{value:y,getSnapshot:b}}),v=j[0].inst,_=j[1];return o(function(){v.value=y,v.getSnapshot=b,h(v)&&_({inst:v})},[p,y,b]),i(function(){return h(v)&&_({inst:v}),p(function(){h(v)&&_({inst:v})})},[p]),c(y),y}function h(p){var b=p.getSnapshot;p=p.value;try{var y=b();return!s(p,y)}catch(j){return!0}}function f(p,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return $p.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,$p}var Lj;function AD(){return Lj||(Lj=1,Rj.exports=DD()),Rj.exports}var OD=AD();const Y2=0,G2=1,X2=2,Bj=3;var Fj=Object.prototype.hasOwnProperty;function O0(e,t){var s,n;if(e===t)return!0;if(e&&t&&(s=e.constructor)===t.constructor){if(s===Date)return e.getTime()===t.getTime();if(s===RegExp)return e.toString()===t.toString();if(s===Array){if((n=e.length)===t.length)for(;n--&&O0(e[n],t[n]););return n===-1}if(!s||typeof e=="object"){n=0;for(s in e)if(Fj.call(e,s)&&++n&&!Fj.call(t,s)||!(s in t)||!O0(e[s],t[s]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}const Wr=new WeakMap,Oi=()=>{},_n=Oi(),Mf=Object,Yt=e=>e===_n,Ba=e=>typeof e=="function",Gr=(e,t)=>F(F({},e),t),K2=e=>Ba(e.then),Vp={},Mh={},Cx="undefined",mu=typeof window!=Cx,M0=typeof document!=Cx,MD=mu&&"Deno"in window,RD=()=>mu&&typeof window.requestAnimationFrame!=Cx,Q2=(e,t)=>{const s=Wr.get(e);return[()=>!Yt(t)&&e.get(t)||Vp,n=>{if(!Yt(t)){const i=e.get(t);t in Mh||(Mh[t]=i),s[5](t,Gr(i,n),i||Vp)}},s[6],()=>!Yt(t)&&t in Mh?Mh[t]:!Yt(t)&&e.get(t)||Vp]};let R0=!0;const PD=()=>R0,[P0,L0]=mu&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Oi,Oi],LD=()=>{const e=M0&&document.visibilityState;return Yt(e)||e!=="hidden"},BD=e=>(M0&&document.addEventListener("visibilitychange",e),P0("focus",e),()=>{M0&&document.removeEventListener("visibilitychange",e),L0("focus",e)}),FD=e=>{const t=()=>{R0=!0,e()},s=()=>{R0=!1};return P0("online",t),P0("offline",s),()=>{L0("online",t),L0("offline",s)}},zD={isOnline:PD,isVisible:LD},UD={initFocus:BD,initReconnect:FD},zj=!ye.useId,Qd=!mu||MD,HD=e=>RD()?window.requestAnimationFrame(e):setTimeout(e,1),pf=Qd?N.useEffect:N.useLayoutEffect,Ip=typeof navigator<"u"&&navigator.connection,Uj=!Qd&&Ip&&(["slow-2g","2g"].includes(Ip.effectiveType)||Ip.saveData),Rh=new WeakMap,qp=(e,t)=>Mf.prototype.toString.call(e)===`[object ${t}]`;let $D=0;const B0=e=>{const t=typeof e,s=qp(e,"Date"),n=qp(e,"RegExp"),i=qp(e,"Object");let o,c;if(Mf(e)===e&&!s&&!n){if(o=Rh.get(e),o)return o;if(o=++$D+"~",Rh.set(e,o),Array.isArray(e)){for(o="@",c=0;c<e.length;c++)o+=B0(e[c])+",";Rh.set(e,o)}if(i){o="#";const d=Mf.keys(e).sort();for(;!Yt(c=d.pop());)Yt(e[c])||(o+=c+":"+B0(e[c])+",");Rh.set(e,o)}}else o=s?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},Ex=e=>{if(Ba(e))try{e=e()}catch(s){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?B0(e):"",[e,t]};let VD=0;const F0=()=>++VD;function Z2(...e){return fe(this,null,function*(){const[t,s,n,i]=e,o=Gr({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let c=o.populateCache;const d=o.rollbackOnError;let h=o.optimisticData;const f=b=>typeof d=="function"?d(b):d!==!1,g=o.throwOnError;if(Ba(s)){const b=s,y=[],j=t.keys();for(const v of j)!/^\$(inf|sub)\$/.test(v)&&b(t.get(v)._k)&&y.push(v);return Promise.all(y.map(p))}return p(s);function p(b){return fe(this,null,function*(){const[y]=Ex(b);if(!y)return;const[j,v]=Q2(t,y),[_,T,A,k]=Wr.get(t),S=()=>{const U=_[y];return(Ba(o.revalidate)?o.revalidate(j().data,b):o.revalidate!==!1)&&(delete A[y],delete k[y],U&&U[0])?U[0](X2).then(()=>j().data):j().data};if(e.length<3)return S();let E=n,C;const z=F0();T[y]=[z,0];const L=!Yt(h),R=j(),V=R.data,I=R._c,G=Yt(I)?V:I;if(L&&(h=Ba(h)?h(G,V):h,v({data:h,_c:G})),Ba(E))try{E=E(G)}catch(U){C=U}if(E&&K2(E))if(E=yield E.catch(U=>{C=U}),z!==T[y][0]){if(C)throw C;return E}else C&&L&&f(C)&&(c=!0,v({data:G,_c:_n}));if(c&&!C)if(Ba(c)){const U=c(E,G);v({data:U,error:_n,_c:_n})}else v({data:E,error:_n,_c:_n});if(T[y][1]=F0(),Promise.resolve(S()).then(()=>{v({_c:_n})}),C){if(g)throw C;return}return E})}})}const Hj=(e,t)=>{for(const s in e)e[s][0]&&e[s][0](t)},J2=(e,t)=>{if(!Wr.has(e)){const s=Gr(UD,t),n=Object.create(null),i=Z2.bind(_n,e);let o=Oi;const c=Object.create(null),d=(g,p)=>{const b=c[g]||[];return c[g]=b,b.push(p),()=>b.splice(b.indexOf(p),1)},h=(g,p,b)=>{e.set(g,p);const y=c[g];if(y)for(const j of y)j(p,b)},f=()=>{if(!Wr.has(e)&&(Wr.set(e,[n,Object.create(null),Object.create(null),Object.create(null),i,h,d]),!Qd)){const g=s.initFocus(setTimeout.bind(_n,Hj.bind(_n,n,Y2))),p=s.initReconnect(setTimeout.bind(_n,Hj.bind(_n,n,G2)));o=()=>{g&&g(),p&&p(),Wr.delete(e)}}};return f(),[e,i,f,o]}return[e,Wr.get(e)[4]]},ID=(e,t,s,n,i)=>{const o=s.errorRetryCount,c=i.retryCount,d=~~((Math.random()+.5)*(1<<(c<8?c:8)))*s.errorRetryInterval;!Yt(o)&&c>o||setTimeout(n,d,i)},qD=O0,[Dx,WD]=J2(new Map),e_=Gr({onLoadingSlow:Oi,onSuccess:Oi,onError:Oi,onErrorRetry:ID,onDiscarded:Oi,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Uj?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Uj?5e3:3e3,compare:qD,isPaused:()=>!1,cache:Dx,mutate:WD,fallback:{}},zD),t_=(e,t)=>{const s=Gr(e,t);if(t){const{use:n,fallback:i}=e,{use:o,fallback:c}=t;n&&o&&(s.use=n.concat(o)),i&&c&&(s.fallback=Gr(i,c))}return s},z0=N.createContext({}),YD=e=>{const{value:t}=e,s=N.useContext(z0),n=Ba(t),i=N.useMemo(()=>n?t(s):t,[n,s,t]),o=N.useMemo(()=>n?i:t_(s,i),[n,s,i]),c=i&&i.provider,d=N.useRef(_n);c&&!d.current&&(d.current=J2(c(o.cache||Dx),i));const h=d.current;return h&&(o.cache=h[0],o.mutate=h[1]),pf(()=>{if(h)return h[2]&&h[2](),h[3]},[]),N.createElement(z0.Provider,Gr(e,{value:o}))},GD="$inf$",s_=mu&&window.__SWR_DEVTOOLS_USE__,XD=s_?window.__SWR_DEVTOOLS_USE__:[],KD=()=>{s_&&(window.__SWR_DEVTOOLS_REACT__=ye)},QD=e=>Ba(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],ZD=()=>Gr(e_,N.useContext(z0)),JD=e=>(t,s,n)=>e(t,s&&((...i)=>{const[o]=Ex(t),[,,,c]=Wr.get(Dx);if(o.startsWith(GD))return s(...i);const d=c[o];return Yt(d)?s(...i):(delete c[o],d)}),n),e4=XD.concat(JD),t4=e=>function(...t){const s=ZD(),[n,i,o]=QD(t),c=t_(s,o);let d=e;const{use:h}=c,f=(h||[]).concat(e4);for(let g=f.length;g--;)d=f[g](d);return d(n,i||c.fetcher||null,c)},s4=(e,t,s)=>{const n=t[e]||(t[e]=[]);return n.push(s),()=>{const i=n.indexOf(s);i>=0&&(n[i]=n[n.length-1],n.pop())}};KD();const Wp=ye.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),Yp={dedupe:!0},n4=(e,t,s)=>{const{cache:n,compare:i,suspense:o,fallbackData:c,revalidateOnMount:d,revalidateIfStale:h,refreshInterval:f,refreshWhenHidden:g,refreshWhenOffline:p,keepPreviousData:b}=s,[y,j,v,_]=Wr.get(n),[T,A]=Ex(e),k=N.useRef(!1),S=N.useRef(!1),E=N.useRef(T),C=N.useRef(t),z=N.useRef(s),L=()=>z.current,R=()=>L().isVisible()&&L().isOnline(),[V,I,G,U]=Q2(n,T),W=N.useRef({}).current,K=Yt(c)?Yt(s.fallback)?_n:s.fallback[T]:c,$=(He,Ye)=>{for(const tt in W){const gt=tt;if(gt==="data"){if(!i(He[gt],Ye[gt])&&(!Yt(He[gt])||!i(_e,Ye[gt])))return!1}else if(Ye[gt]!==He[gt])return!1}return!0},ee=N.useMemo(()=>{const He=!T||!t?!1:Yt(d)?L().isPaused()||o?!1:h!==!1:d,Ye=Fe=>{const Q=Gr(Fe);return delete Q._k,He?F({isValidating:!0,isLoading:!0},Q):Q},tt=V(),gt=U(),Dt=Ye(tt),De=tt===gt?Dt:Ye(gt);let ze=Dt;return[()=>{const Fe=Ye(V());return $(Fe,ze)?(ze.data=Fe.data,ze.isLoading=Fe.isLoading,ze.isValidating=Fe.isValidating,ze.error=Fe.error,ze):(ze=Fe,Fe)},()=>De]},[n,T]),se=OD.useSyncExternalStore(N.useCallback(He=>G(T,(Ye,tt)=>{$(tt,Ye)||He()}),[n,T]),ee[0],ee[1]),Ne=!k.current,P=y[T]&&y[T].length>0,ne=se.data,ge=Yt(ne)?K&&K2(K)?Wp(K):K:ne,X=se.error,re=N.useRef(ge),_e=b?Yt(ne)?Yt(re.current)?ge:re.current:ne:ge,me=P&&!Yt(X)?!1:Ne&&!Yt(d)?d:L().isPaused()?!1:o?Yt(ge)?!1:h:Yt(ge)||h,Pe=!!(T&&t&&Ne&&me),we=Yt(se.isValidating)?Pe:se.isValidating,Ce=Yt(se.isLoading)?Pe:se.isLoading,Z=N.useCallback(He=>fe(null,null,function*(){const Ye=C.current;if(!T||!Ye||S.current||L().isPaused())return!1;let tt,gt,Dt=!0;const De=He||{},ze=!v[T]||!De.dedupe,Fe=()=>zj?!S.current&&T===E.current&&k.current:T===E.current,Q={isValidating:!1,isLoading:!1},le=()=>{I(Q)},q=()=>{const Le=v[T];Le&&Le[1]===gt&&delete v[T]},Te={isValidating:!0};Yt(V().data)&&(Te.isLoading=!0);try{if(ze&&(I(Te),s.loadingTimeout&&Yt(V().data)&&setTimeout(()=>{Dt&&Fe()&&L().onLoadingSlow(T,s)},s.loadingTimeout),v[T]=[Ye(A),F0()]),[tt,gt]=v[T],tt=yield tt,ze&&setTimeout(q,s.dedupingInterval),!v[T]||v[T][1]!==gt)return ze&&Fe()&&L().onDiscarded(T),!1;Q.error=_n;const Le=j[T];if(!Yt(Le)&&(gt<=Le[0]||gt<=Le[1]||Le[1]===0))return le(),ze&&Fe()&&L().onDiscarded(T),!1;const Me=V().data;Q.data=i(Me,tt)?Me:tt,ze&&Fe()&&L().onSuccess(tt,T,s)}catch(Le){q();const Me=L(),{shouldRetryOnError:Ve}=Me;Me.isPaused()||(Q.error=Le,ze&&Fe()&&(Me.onError(Le,T,Me),(Ve===!0||Ba(Ve)&&Ve(Le))&&(!L().revalidateOnFocus||!L().revalidateOnReconnect||R())&&Me.onErrorRetry(Le,T,Me,Ge=>{const st=y[T];st&&st[0]&&st[0](Bj,Ge)},{retryCount:(De.retryCount||0)+1,dedupe:!0})))}return Dt=!1,le(),!0}),[T,n]),Re=N.useCallback((...He)=>Z2(n,E.current,...He),[]);if(pf(()=>{C.current=t,z.current=s,Yt(ne)||(re.current=ne)}),pf(()=>{if(!T)return;const He=Z.bind(_n,Yp);let Ye=0;L().revalidateOnFocus&&(Ye=Date.now()+L().focusThrottleInterval);const tt=s4(T,y,(gt,Dt={})=>{if(gt==Y2){const De=Date.now();L().revalidateOnFocus&&De>Ye&&R()&&(Ye=De+L().focusThrottleInterval,He())}else if(gt==G2)L().revalidateOnReconnect&&R()&&He();else{if(gt==X2)return Z();if(gt==Bj)return Z(Dt)}});return S.current=!1,E.current=T,k.current=!0,I({_k:A}),me&&(Yt(ge)||Qd?He():HD(He)),()=>{S.current=!0,tt()}},[T]),pf(()=>{let He;function Ye(){const gt=Ba(f)?f(V().data):f;gt&&He!==-1&&(He=setTimeout(tt,gt))}function tt(){!V().error&&(g||L().isVisible())&&(p||L().isOnline())?Z(Yp).then(Ye):Ye()}return Ye(),()=>{He&&(clearTimeout(He),He=-1)}},[f,g,p,T]),N.useDebugValue(_e),o&&Yt(ge)&&T){if(!zj&&Qd)throw new Error("Fallback data is required when using Suspense in SSR.");C.current=t,z.current=s,S.current=!1;const He=_[T];if(!Yt(He)){const Ye=Re(He);Wp(Ye)}if(Yt(X)){const Ye=Z(Yp);Yt(_e)||(Ye.status="fulfilled",Ye.value=!0),Wp(Ye)}else throw X}return{mutate:Re,get data(){return W.data=!0,_e},get error(){return W.error=!0,X},get isValidating(){return W.isValidating=!0,we},get isLoading(){return W.isLoading=!0,Ce}}},a4=Mf.defineProperty(YD,"defaultValue",{value:e_}),im=t4(n4);Promise.resolve();const mr=Object.create(null);mr.open="0";mr.close="1";mr.ping="2";mr.pong="3";mr.message="4";mr.upgrade="5";mr.noop="6";const xf=Object.create(null);Object.keys(mr).forEach(e=>{xf[mr[e]]=e});const U0={type:"error",data:"parser error"},n_=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",a_=typeof ArrayBuffer=="function",r_=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ax=({type:e,data:t},s,n)=>n_&&t instanceof Blob?s?n(t):$j(t,n):a_&&(t instanceof ArrayBuffer||r_(t))?s?n(t):$j(new Blob([t]),n):n(mr[e]+(t||"")),$j=(e,t)=>{const s=new FileReader;return s.onload=function(){const n=s.result.split(",")[1];t("b"+(n||""))},s.readAsDataURL(e)};function Vj(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Gp;function r4(e,t){if(n_&&e.data instanceof Blob)return e.data.arrayBuffer().then(Vj).then(t);if(a_&&(e.data instanceof ArrayBuffer||r_(e.data)))return t(Vj(e.data));Ax(e,!1,s=>{Gp||(Gp=new TextEncoder),t(Gp.encode(s))})}const Ij="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Ij.length;e++)zd[Ij.charCodeAt(e)]=e;const i4=e=>{let t=e.length*.75,s=e.length,n,i=0,o,c,d,h;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const f=new ArrayBuffer(t),g=new Uint8Array(f);for(n=0;n<s;n+=4)o=zd[e.charCodeAt(n)],c=zd[e.charCodeAt(n+1)],d=zd[e.charCodeAt(n+2)],h=zd[e.charCodeAt(n+3)],g[i++]=o<<2|c>>4,g[i++]=(c&15)<<4|d>>2,g[i++]=(d&3)<<6|h&63;return f},o4=typeof ArrayBuffer=="function",Ox=(e,t)=>{if(typeof e!="string")return{type:"message",data:i_(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:l4(e.substring(1),t)}:xf[s]?e.length>1?{type:xf[s],data:e.substring(1)}:{type:xf[s]}:U0},l4=(e,t)=>{if(o4){const s=i4(e);return i_(s,t)}else return{base64:!0,data:e}},i_=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},o_="",c4=(e,t)=>{const s=e.length,n=new Array(s);let i=0;e.forEach((o,c)=>{Ax(o,!1,d=>{n[c]=d,++i===s&&t(n.join(o_))})})},d4=(e,t)=>{const s=e.split(o_),n=[];for(let i=0;i<s.length;i++){const o=Ox(s[i],t);if(n.push(o),o.type==="error")break}return n};function u4(){return new TransformStream({transform(e,t){r4(e,s=>{const n=s.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(s)})}})}let Xp;function Ph(e){return e.reduce((t,s)=>t+s.length,0)}function Lh(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)s[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),s}function h4(e,t){Xp||(Xp=new TextDecoder);const s=[];let n=0,i=-1,o=!1;return new TransformStream({transform(c,d){for(s.push(c);;){if(n===0){if(Ph(s)<1)break;const h=Lh(s,1);o=(h[0]&128)===128,i=h[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Ph(s)<2)break;const h=Lh(s,2);i=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),n=3}else if(n===2){if(Ph(s)<8)break;const h=Lh(s,8),f=new DataView(h.buffer,h.byteOffset,h.length),g=f.getUint32(0);if(g>Math.pow(2,21)-1){d.enqueue(U0);break}i=g*Math.pow(2,32)+f.getUint32(4),n=3}else{if(Ph(s)<i)break;const h=Lh(s,i);d.enqueue(Ox(o?h:Xp.decode(h),t)),n=0}if(i===0||i>e){d.enqueue(U0);break}}}})}const l_=4;function qs(e){if(e)return f4(e)}function f4(e){for(var t in qs.prototype)e[t]=qs.prototype[t];return e}qs.prototype.on=qs.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};qs.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};qs.prototype.off=qs.prototype.removeListener=qs.prototype.removeAllListeners=qs.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<s.length;i++)if(n=s[i],n===t||n.fn===t){s.splice(i,1);break}return s.length===0&&delete this._callbacks["$"+e],this};qs.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(s){s=s.slice(0);for(var n=0,i=s.length;n<i;++n)s[n].apply(this,t)}return this};qs.prototype.emitReserved=qs.prototype.emit;qs.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};qs.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ba=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function c_(e,...t){return t.reduce((s,n)=>(e.hasOwnProperty(n)&&(s[n]=e[n]),s),{})}const m4=ba.setTimeout,g4=ba.clearTimeout;function om(e,t){t.useNativeTimers?(e.setTimeoutFn=m4.bind(ba),e.clearTimeoutFn=g4.bind(ba)):(e.setTimeoutFn=ba.setTimeout.bind(ba),e.clearTimeoutFn=ba.clearTimeout.bind(ba))}const p4=1.33;function x4(e){return typeof e=="string"?y4(e):Math.ceil((e.byteLength||e.size)*p4)}function y4(e){let t=0,s=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(n++,s+=4);return s}function b4(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function v4(e){let t={},s=e.split("&");for(let n=0,i=s.length;n<i;n++){let o=s[n].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class w4 extends Error{constructor(t,s,n){super(t),this.description=s,this.context=n,this.type="TransportError"}}class Mx extends qs{constructor(t){super(),this.writable=!1,om(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,s,n){return super.emitReserved("error",new w4(t,s,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=Ox(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=b4(t);return s.length?"?"+s:""}}const d_="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),H0=64,j4={};let qj=0,Bh=0,Wj;function Yj(e){let t="";do t=d_[e%H0]+t,e=Math.floor(e/H0);while(e>0);return t}function u_(){const e=Yj(+new Date);return e!==Wj?(qj=0,Wj=e):e+"."+Yj(qj++)}for(;Bh<H0;Bh++)j4[d_[Bh]]=Bh;let h_=!1;try{h_=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const N4=h_;function f_(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||N4))return new XMLHttpRequest}catch(s){}if(!t)try{return new ba[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(s){}}function _4(){}const T4=function(){return new f_({xdomain:!1}).responseType!=null}();class S4 extends Mx{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}const s=t&&t.forceBase64;this.supportsBinary=T4&&!s,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||s()})),this.writable||(n++,this.once("drain",function(){--n||s()}))}else s()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};d4(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,c4(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=u_()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Jl(this.uri(),t)}doWrite(t,s){const n=this.request({method:"POST",data:t});n.on("success",s),n.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,n)=>{this.onError("xhr poll error",s,n)}),this.pollXhr=t}}let Jl=class yf extends qs{constructor(t,s){super(),om(this,s),this.opts=s,this.method=s.method||"GET",this.uri=t,this.data=s.data!==void 0?s.data:null,this.create()}create(){var t;const s=c_(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this.opts.xd;const n=this.xhr=new f_(s);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch(i){}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{n.setRequestHeader("Accept","*/*")}catch(i){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=yf.requestsCount++,yf.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=_4,t)try{this.xhr.abort()}catch(s){}typeof document<"u"&&delete yf.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Jl.requestsCount=0;Jl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Gj);else if(typeof addEventListener=="function"){const e="onpagehide"in ba?"pagehide":"unload";addEventListener(e,Gj,!1)}}function Gj(){for(let e in Jl.requests)Jl.requests.hasOwnProperty(e)&&Jl.requests[e].abort()}const Rx=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Fh=ba.WebSocket||ba.MozWebSocket,Xj=!0,k4="arraybuffer",Kj=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class C4 extends Mx{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),s=this.opts.protocols,n=Kj?{}:c_(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Xj&&!Kj?s?new Fh(t,s):new Fh(t):new Fh(t,s,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],i=s===t.length-1;Ax(n,this.supportsBinary,o=>{try{Xj&&this.ws.send(o)}catch(c){}i&&Rx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=u_()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}check(){return!!Fh}}class E4 extends Mx{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const s=h4(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(s).getReader(),i=u4();i.readable.pipeTo(t.writable),this.writer=i.writable.getWriter();const o=()=>{n.read().then(({done:d,value:h})=>{d||(this.onPacket(h),o())}).catch(d=>{})};o();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this.writer.write(c).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],i=s===t.length-1;this.writer.write(n).then(()=>{i&&Rx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const D4={websocket:C4,webtransport:E4,polling:S4},A4=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,O4=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function $0(e){if(e.length>2e3)throw"URI too long";const t=e,s=e.indexOf("["),n=e.indexOf("]");s!=-1&&n!=-1&&(e=e.substring(0,s)+e.substring(s,n).replace(/:/g,";")+e.substring(n,e.length));let i=A4.exec(e||""),o={},c=14;for(;c--;)o[O4[c]]=i[c]||"";return s!=-1&&n!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=M4(o,o.path),o.queryKey=R4(o,o.query),o}function M4(e,t){const s=/\/{2,9}/g,n=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function R4(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(s[i]=o)}),s}let m_=class Yl extends qs{constructor(t,s={}){super(),this.binaryType=k4,this.writeBuffer=[],t&&typeof t=="object"&&(s=t,t=null),t?(t=$0(t),s.hostname=t.host,s.secure=t.protocol==="https"||t.protocol==="wss",s.port=t.port,t.query&&(s.query=t.query)):s.host&&(s.hostname=$0(s.host).host),om(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=s.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=v4(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=l_,s.transport=t,this.id&&(s.sid=this.id);const n=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new D4[t](n)}open(){let t;if(this.opts.rememberUpgrade&&Yl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(s){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",s=>this.onClose("transport close",s))}probe(t){let s=this.createTransport(t),n=!1;Yl.priorWebsocketSuccess=!1;const i=()=>{n||(s.send([{type:"ping",data:"probe"}]),s.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Yl.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(g(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=s.name,this.emitReserved("upgradeError",b)}}))};function o(){n||(n=!0,g(),s.close(),s=null)}const c=p=>{const b=new Error("probe error: "+p);b.transport=s.name,o(),this.emitReserved("upgradeError",b)};function d(){c("transport closed")}function h(){c("socket closed")}function f(p){s&&p.name!==s.name&&o()}const g=()=>{s.removeListener("open",i),s.removeListener("error",c),s.removeListener("close",d),this.off("close",h),this.off("upgrading",f)};s.once("open",i),s.once("error",c),s.once("close",d),this.once("close",h),this.once("upgrading",f),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||s.open()},200):s.open()}onOpen(){if(this.readyState="open",Yl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const s=this.upgrades.length;for(;t<s;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const s=new Error("server error");s.code=t.data,this.onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let s=0;s<this.writeBuffer.length;s++){const n=this.writeBuffer[s].data;if(n&&(t+=x4(n)),s>0&&t>this.maxPayload)return this.writeBuffer.slice(0,s);t+=2}return this.writeBuffer}write(t,s,n){return this.sendPacket("message",t,s,n),this}send(t,s,n){return this.sendPacket("message",t,s,n),this}sendPacket(t,s,n,i){if(typeof s=="function"&&(i=s,s=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:t,data:s,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},n=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}onError(t){Yl.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,s){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const s=[];let n=0;const i=t.length;for(;n<i;n++)~this.transports.indexOf(t[n])&&s.push(t[n]);return s}};m_.protocol=l_;function P4(e,t="",s){let n=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),n=$0(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(s&&s.port===n.port?"":":"+n.port),n}const L4=typeof ArrayBuffer=="function",B4=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,g_=Object.prototype.toString,F4=typeof Blob=="function"||typeof Blob<"u"&&g_.call(Blob)==="[object BlobConstructor]",z4=typeof File=="function"||typeof File<"u"&&g_.call(File)==="[object FileConstructor]";function Px(e){return L4&&(e instanceof ArrayBuffer||B4(e))||F4&&e instanceof Blob||z4&&e instanceof File}function bf(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,n=e.length;s<n;s++)if(bf(e[s]))return!0;return!1}if(Px(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return bf(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&bf(e[s]))return!0;return!1}function U4(e){const t=[],s=e.data,n=e;return n.data=V0(s,t),n.attachments=t.length,{packet:n,buffers:t}}function V0(e,t){if(!e)return e;if(Px(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let n=0;n<e.length;n++)s[n]=V0(e[n],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=V0(e[n],t));return s}return e}function H4(e,t){return e.data=I0(e.data,t),delete e.attachments,e}function I0(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=I0(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=I0(e[s],t));return e}const $4=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],V4=5;var It;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(It||(It={}));class I4{constructor(t){this.replacer=t}encode(t){return(t.type===It.EVENT||t.type===It.ACK)&&bf(t)?this.encodeAsBinary({type:t.type===It.EVENT?It.BINARY_EVENT:It.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===It.BINARY_EVENT||t.type===It.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=U4(t),n=this.encodeAsString(s.packet),i=s.buffers;return i.unshift(n),i}}function Qj(e){return Object.prototype.toString.call(e)==="[object Object]"}class Lx extends qs{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const n=s.type===It.BINARY_EVENT;n||s.type===It.BINARY_ACK?(s.type=n?It.EVENT:It.ACK,this.reconstructor=new q4(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Px(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const n={type:Number(t.charAt(0))};if(It[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===It.BINARY_EVENT||n.type===It.BINARY_ACK){const o=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const c=t.substring(o,s);if(c!=Number(c)||t.charAt(s)!=="-")throw new Error("Illegal attachments");n.attachments=Number(c)}if(t.charAt(s+1)==="/"){const o=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););n.nsp=t.substring(o,s)}else n.nsp="/";const i=t.charAt(s+1);if(i!==""&&Number(i)==i){const o=s+1;for(;++s;){const c=t.charAt(s);if(c==null||Number(c)!=c){--s;break}if(s===t.length)break}n.id=Number(t.substring(o,s+1))}if(t.charAt(++s)){const o=this.tryParse(t.substr(s));if(Lx.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(s){return!1}}static isPayloadValid(t,s){switch(t){case It.CONNECT:return Qj(s);case It.DISCONNECT:return s===void 0;case It.CONNECT_ERROR:return typeof s=="string"||Qj(s);case It.EVENT:case It.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&$4.indexOf(s[0])===-1);case It.ACK:case It.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class q4{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=H4(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const W4=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Lx,Encoder:I4,get PacketType(){return It},protocol:V4},Symbol.toStringTag,{value:"Module"}));function Pa(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const Y4=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class p_ extends qs{constructor(t,s,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Pa(t,"open",this.onopen.bind(this)),Pa(t,"packet",this.onpacket.bind(this)),Pa(t,"error",this.onerror.bind(this)),Pa(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){if(Y4.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const n={type:It.EVENT,data:s};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const o=this.ids++,c=s.pop();this._registerAckCallback(o,c),n.id=o}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,s){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=s;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);s.call(this,new Error("operation has timed out"))},i);this.acks[t]=(...c)=>{this.io.clearTimeoutFn(o),s.apply(this,[null,...c])}}emitWithAck(t,...s){const n=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,o)=>{s.push((c,d)=>n?c?o(c):i(d):i(c)),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...o)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(i)):(this._queue.shift(),s&&s(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:It.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case It.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case It.EVENT:case It.BINARY_EVENT:this.onevent(t);break;case It.ACK:case It.BINARY_ACK:this.onack(t);break;case It.DISCONNECT:this.ondisconnect();break;case It.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const n of s)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let n=!1;return function(...i){n||(n=!0,s.packet({type:It.ACK,id:t,data:i}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(s.apply(this,t.data),delete this.acks[t.id])}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:It.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const n of s)n.apply(this,t.data)}}}function gc(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}gc.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-s:e+s}return Math.min(e,this.max)|0};gc.prototype.reset=function(){this.attempts=0};gc.prototype.setMin=function(e){this.ms=e};gc.prototype.setMax=function(e){this.max=e};gc.prototype.setJitter=function(e){this.jitter=e};class q0 extends qs{constructor(t,s){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,om(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((n=s.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new gc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const i=s.parser||W4;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new m_(this.uri,this.opts);const s=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Pa(s,"open",function(){n.onopen(),t&&t()}),o=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),t?t(d):this.maybeReconnectOnOpen()},c=Pa(s,"error",o);if(this._timeout!==!1){const d=this._timeout,h=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),s.close()},d);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(i),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Pa(t,"ping",this.onping.bind(this)),Pa(t,"data",this.ondata.bind(this)),Pa(t,"error",this.onerror.bind(this)),Pa(t,"close",this.onclose.bind(this)),Pa(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){Rx(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new p_(this,t,s),this.nsps[t]=n),n}_destroy(t){const s=Object.keys(this.nsps);for(const n of s)if(this.nsps[n].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let n=0;n<s.length;n++)this.engine.write(s[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,s){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},s);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Td={};function vf(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=P4(e,t.path||"/socket.io"),n=s.source,i=s.id,o=s.path,c=Td[i]&&o in Td[i].nsps,d=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let h;return d?h=new q0(n,t):(Td[i]||(Td[i]=new q0(n,t)),h=Td[i]),s.query&&!t.query&&(t.query=s.queryKey),h.socket(s.path,t)}Object.assign(vf,{Manager:q0,Socket:p_,io:vf,connect:vf});class G4{constructor(t,s,n,i){Co(this,"socket_port"),Co(this,"host"),Co(this,"port"),Co(this,"protocol"),Co(this,"url"),Co(this,"site_name"),Co(this,"socket");var o,c,d,h;if(this.socket_port=n!=null?n:"9000",this.host=(o=window.location)==null?void 0:o.hostname,this.port=(c=window.location)!=null&&c.port?`:${this.socket_port}`:"",this.protocol=((d=window.location)==null?void 0:d.protocol)==="https:"?"https":"http",t){let f=new URL(t);f.port="",n?(f.port=n,this.url=f.toString()):this.url=f.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;s&&(this.url=`${this.url}${s}`),this.site_name=s,this.socket=vf(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:i&&i.useToken===!0?{Authorization:`${i.type} ${(h=i.token)==null?void 0:h.call(i)}`}:{}})}}const Qr=N.createContext(null),X4=({url:e="",tokenParams:t,socketPort:s,swrConfig:n,siteName:i,enableSocket:o=!0,children:c,customHeaders:d})=>{const h=N.useMemo(()=>{const f=new ED.FrappeApp(e,t,void 0,d);return{url:e,tokenParams:t,app:f,auth:f.auth(),db:f.db(),call:f.call(),file:f.file(),socket:o?new G4(e,i,s,t).socket:void 0,enableSocket:o,socketPort:s}},[e,t,s,o,d]);return a.jsx(Qr.Provider,{value:h,children:a.jsx(a4,{value:n,children:c})})},on=e=>{const{url:t,auth:s,tokenParams:n}=N.useContext(Qr),[i,o]=N.useState(),c=N.useCallback(()=>{const j=document.cookie.split(";").find(v=>v.trim().startsWith("user_id="));if(j){const v=j.split("=")[1];o(v&&v!=="Guest"?v:null)}else o(null)},[]);N.useEffect(()=>{n&&n.useToken?o(null):c()},[]);const{data:d,error:h,isLoading:f,isValidating:g,mutate:p}=im(()=>n&&n.useToken||i?`${t}/api/method/frappe.auth.get_logged_user`:null,()=>s.getLoggedInUser(),F({onError:()=>{o(null)},shouldRetryOnError:!1,revalidateOnFocus:!1},e)),b=N.useCallback(j=>fe(null,null,function*(){return s.loginWithUsernamePassword(j).then(v=>(c(),v))}),[]),y=N.useCallback(()=>fe(null,null,function*(){return s.logout().then(()=>p(null)).then(()=>o(null))}),[]);return{isLoading:i===void 0||f,currentUser:d,isValidating:g,error:h,login:b,logout:y,updateCurrentUser:p,getUserCookie:c}},x_=(e,t,s)=>{let n=`${t}/api/resource/`;return s?n+=`${e}/${s}`:n+=`${e}`,n},Tt=(e,t,s,n)=>{const{url:i,db:o}=N.useContext(Qr);return im(s===void 0?x_(e,i,t):s,()=>o.getDoc(e,t),n)},K4=e=>{var i;var t,s;let n="";if(e!=null&&e.fields&&(n+="fields="+JSON.stringify(e==null?void 0:e.fields)+"&"),e!=null&&e.filters&&(n+="filters="+JSON.stringify(e==null?void 0:e.filters)+"&"),e!=null&&e.orFilters&&(n+="or_filters="+JSON.stringify(e==null?void 0:e.orFilters)+"&"),e!=null&&e.limit_start&&(n+="limit_start="+JSON.stringify(e==null?void 0:e.limit_start)+"&"),e!=null&&e.limit&&(n+="limit="+JSON.stringify(e==null?void 0:e.limit)+"&"),e!=null&&e.groupBy&&(n+="group_by="+String(e.groupBy)+"&"),e!=null&&e.orderBy){const o=`${String((t=e.orderBy)==null?void 0:t.field)} ${(i=(s=e.orderBy)==null?void 0:s.order)!=null?i:"asc"}`;n+="order_by="+o+"&"}return e!=null&&e.asDict&&(n+="as_dict="+e.asDict),n},ft=(e,t,s,n)=>{const{url:i,db:o}=N.useContext(Qr);return im(s===void 0?`${x_(e,i)}?${K4(t)}`:s,()=>o.getDocList(e,t),n)},Qi=()=>{const{db:e}=N.useContext(Qr),[t,s]=N.useState(!1),[n,i]=N.useState(null),[o,c]=N.useState(!1),d=N.useCallback(()=>{s(!1),i(null),c(!1)},[]);return{createDoc:N.useCallback((h,f)=>fe(null,null,function*(){return i(null),c(!1),s(!0),e.createDoc(h,f).then(g=>(s(!1),c(!0),g)).catch(g=>{throw s(!1),c(!1),i(g),g})}),[]),loading:t,error:n,isCompleted:o,reset:d}},En=()=>{const{db:e}=N.useContext(Qr),[t,s]=N.useState(!1),[n,i]=N.useState(null),[o,c]=N.useState(!1),d=N.useCallback(()=>{s(!1),i(null),c(!1)},[]);return{updateDoc:N.useCallback((h,f,g)=>fe(null,null,function*(){return i(null),c(!1),s(!0),e.updateDoc(h,f,g).then(p=>(s(!1),c(!0),p)).catch(p=>{throw s(!1),c(!1),i(p),p})}),[]),loading:t,error:n,reset:d,isCompleted:o}},lm=()=>{const{db:e}=N.useContext(Qr),[t,s]=N.useState(!1),[n,i]=N.useState(null),[o,c]=N.useState(!1),d=N.useCallback(()=>{s(!1),i(null),c(!1)},[]);return{deleteDoc:N.useCallback((h,f)=>fe(null,null,function*(){return i(null),c(!1),s(!0),e.deleteDoc(h,f).then(g=>(s(!1),c(!0),g)).catch(g=>{throw s(!1),c(!1),i(g),g})}),[]),loading:t,error:n,reset:d,isCompleted:o}};function Q4(e){const t=[];for(let s in e)t.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t.join("&")}const Z4=(e,t,s,n,i="GET")=>{const{call:o}=N.useContext(Qr),c=Q4(t!=null?t:{}),d=`${e}?${c}`;return F({},im(s===void 0?d:s,i==="GET"?()=>o.get(e,t):()=>o.post(e,t),n))},Is=e=>{const{call:t}=N.useContext(Qr),[s,n]=N.useState(null),[i,o]=N.useState(!1),[c,d]=N.useState(null),[h,f]=N.useState(!1),g=N.useCallback(()=>{n(null),o(!1),d(null),f(!1)},[]);return{call:N.useCallback(p=>fe(null,null,function*(){return d(null),f(!1),o(!0),n(null),t.post(e,p).then(b=>(n(b),o(!1),f(!0),b)).catch(b=>{throw o(!1),f(!1),d(b),b})}),[]),result:s,loading:i,error:c,reset:g,isCompleted:h}};var J4=(e,t,s,n,i,o,c,d)=>{let h=document.documentElement,f=["light","dark"];function g(y){(Array.isArray(e)?e:[e]).forEach(j=>{let v=j==="class",_=v&&o?i.map(T=>o[T]||T):i;v?(h.classList.remove(..._),h.classList.add(o&&o[y]?o[y]:y)):h.setAttribute(j,y)}),p(y)}function p(y){d&&f.includes(y)&&(h.style.colorScheme=y)}function b(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)g(n);else try{let y=localStorage.getItem(t)||s,j=c&&y==="system"?b():y;g(j)}catch(y){}},Zj=["light","dark"],y_="(prefers-color-scheme: dark)",eA=typeof window=="undefined",Bx=N.createContext(void 0),tA={setTheme:e=>{},themes:[]},sA=()=>{var e;return(e=N.useContext(Bx))!=null?e:tA},nA=e=>N.useContext(Bx)?N.createElement(N.Fragment,null,e.children):N.createElement(rA,F({},e)),aA=["light","dark"],rA=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:s=!0,enableColorScheme:n=!0,storageKey:i="theme",themes:o=aA,defaultTheme:c=s?"system":"light",attribute:d="data-theme",value:h,children:f,nonce:g,scriptProps:p})=>{let[b,y]=N.useState(()=>oA(i,c)),[j,v]=N.useState(()=>b==="system"?Kp():b),_=h?Object.values(h):o,T=N.useCallback(E=>{let C=E;if(!C)return;E==="system"&&s&&(C=Kp());let z=h?h[C]:C,L=t?lA(g):null,R=document.documentElement,V=I=>{I==="class"?(R.classList.remove(..._),z&&R.classList.add(z)):I.startsWith("data-")&&(z?R.setAttribute(I,z):R.removeAttribute(I))};if(Array.isArray(d)?d.forEach(V):V(d),n){let I=Zj.includes(c)?c:null,G=Zj.includes(C)?C:I;R.style.colorScheme=G}L==null||L()},[g]),A=N.useCallback(E=>{let C=typeof E=="function"?E(b):E;y(C);try{localStorage.setItem(i,C)}catch(z){}},[b]),k=N.useCallback(E=>{let C=Kp(E);v(C),b==="system"&&s&&!e&&T("system")},[b,e]);N.useEffect(()=>{let E=window.matchMedia(y_);return E.addListener(k),k(E),()=>E.removeListener(k)},[k]),N.useEffect(()=>{let E=C=>{C.key===i&&(C.newValue?y(C.newValue):A(c))};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[A]),N.useEffect(()=>{T(e!=null?e:b)},[e,b]);let S=N.useMemo(()=>({theme:b,setTheme:A,forcedTheme:e,resolvedTheme:b==="system"?j:b,themes:s?[...o,"system"]:o,systemTheme:s?j:void 0}),[b,A,e,j,s,o]);return N.createElement(Bx.Provider,{value:S},N.createElement(iA,{forcedTheme:e,storageKey:i,attribute:d,enableSystem:s,enableColorScheme:n,defaultTheme:c,value:h,themes:o,nonce:g,scriptProps:p}),f)},iA=N.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:n,enableColorScheme:i,defaultTheme:o,value:c,themes:d,nonce:h,scriptProps:f})=>{let g=JSON.stringify([s,t,o,e,d,c,n,i]).slice(1,-1);return N.createElement("script",ie(F({},f),{suppressHydrationWarning:!0,nonce:typeof window=="undefined"?h:"",dangerouslySetInnerHTML:{__html:`(${J4.toString()})(${g})`}}))}),oA=(e,t)=>{if(eA)return;let s;try{s=localStorage.getItem(e)||void 0}catch(n){}return s||t},lA=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Kp=e=>(e||(e=window.matchMedia(y_)),e.matches?"dark":"light");/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var b_=e=>{throw TypeError(e)},cA=(e,t,s)=>t.has(e)||b_("Cannot "+s),Qp=(e,t,s)=>(cA(e,t,"read from private field"),s?s.call(e):t.get(e)),dA=(e,t,s)=>t.has(e)?b_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),Jj="popstate";function uA(e={}){function t(n,i){let{pathname:o,search:c,hash:d}=n.location;return Zd("",{pathname:o,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(n,i){return typeof i=="string"?i:Fi(i)}return fA(t,s,null,e)}function Vt(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function Ws(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(s){}}}function hA(){return Math.random().toString(36).substring(2,10)}function e1(e,t){return{usr:e.state,key:e.key,idx:t}}function Zd(e,t,s=null,n){return ie(F({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zi(t):t),{state:s,key:t&&t.key||n||hA()})}function Fi({pathname:e="/",search:t="",hash:s=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Zi(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function fA(e,t,s,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,c=i.history,d="POP",h=null,f=g();f==null&&(f=0,c.replaceState(ie(F({},c.state),{idx:f}),""));function g(){return(c.state||{idx:null}).idx}function p(){d="POP";let _=g(),T=_==null?null:_-f;f=_,h&&h({action:d,location:v.location,delta:T})}function b(_,T){d="PUSH";let A=Zd(v.location,_,T);f=g()+1;let k=e1(A,f),S=v.createHref(A);try{c.pushState(k,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}o&&h&&h({action:d,location:v.location,delta:1})}function y(_,T){d="REPLACE";let A=Zd(v.location,_,T);f=g();let k=e1(A,f),S=v.createHref(A);c.replaceState(k,"",S),o&&h&&h({action:d,location:v.location,delta:0})}function j(_){return v_(_)}let v={get action(){return d},get location(){return e(i,c)},listen(_){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Jj,p),h=_,()=>{i.removeEventListener(Jj,p),h=null}},createHref(_){return t(i,_)},createURL:j,encodeLocation(_){let T=j(_);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:b,replace:y,go(_){return c.go(_)}};return v}function v_(e,t=!1){let s="http://localhost";typeof window!="undefined"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(s,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Fi(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=s+n),new URL(n,s)}var Ud,t1=class{constructor(e){if(dA(this,Ud,new Map),e)for(let[t,s]of e)this.set(t,s)}get(e){if(Qp(this,Ud).has(e))return Qp(this,Ud).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Qp(this,Ud).set(e,t)}};Ud=new WeakMap;var mA=new Set(["lazy","caseSensitive","path","id","index","children"]);function gA(e){return mA.has(e)}var pA=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function xA(e){return pA.has(e)}function yA(e){return e.index===!0}function Jd(e,t,s=[],n={},i=!1){return e.map((o,c)=>{let d=[...s,String(c)],h=typeof o.id=="string"?o.id:d.join("-");if(Vt(o.index!==!0||!o.children,"Cannot specify children on an index route"),Vt(i||!n[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),yA(o)){let f=ie(F(F({},o),t(o)),{id:h});return n[h]=f,f}else{let f=ie(F(F({},o),t(o)),{id:h,children:void 0});return n[h]=f,o.children&&(f.children=Jd(o.children,t,d,n,i)),f}})}function Ai(e,t,s="/"){return wf(e,t,s,!1)}function wf(e,t,s,n){let i=typeof t=="string"?Zi(t):t,o=Na(i.pathname||"/",s);if(o==null)return null;let c=w_(e);vA(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=AA(o);d=EA(c[h],f,n)}return d}function bA(e,t){let{route:s,pathname:n,params:i}=e;return{id:s.id,pathname:n,params:i,data:t[s.id],handle:s.handle}}function w_(e,t=[],s=[],n=""){let i=(o,c,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(Vt(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let f=hr([n,h.relativePath]),g=s.concat(h);o.children&&o.children.length>0&&(Vt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),w_(o.children,t,g,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:kA(f,o.index),routesMeta:g})};return e.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))i(o,c);else for(let h of j_(o.path))i(o,c,h)}),t}function j_(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,i=s.endsWith("?"),o=s.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let c=j_(n.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),i&&d.push(...c),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function vA(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:CA(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}var wA=/^:[\w-]+$/,jA=3,NA=2,_A=1,TA=10,SA=-2,s1=e=>e==="*";function kA(e,t){let s=e.split("/"),n=s.length;return s.some(s1)&&(n+=SA),t&&(n+=NA),s.filter(i=>!s1(i)).reduce((i,o)=>i+(wA.test(o)?jA:o===""?_A:TA),n)}function CA(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function EA(e,t,s=!1){let{routesMeta:n}=e,i={},o="/",c=[];for(let d=0;d<n.length;++d){let h=n[d],f=d===n.length-1,g=o==="/"?t:t.slice(o.length)||"/",p=Rf({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),b=h.route;if(!p&&f&&s&&!n[n.length-1].route.index&&(p=Rf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!p)return null;Object.assign(i,p.params),c.push({params:i,pathname:hr([o,p.pathname]),pathnameBase:PA(hr([o,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(o=hr([o,p.pathnameBase]))}return c}function Rf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=DA(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:n.reduce((f,{paramName:g,isOptional:p},b)=>{if(g==="*"){let j=d[b]||"";c=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const y=d[b];return p&&!y?f[g]=void 0:f[g]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:e}}function DA(e,t=!1,s=!0){Ws(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(n.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function AA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ws(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Na(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function OA({basename:e,pathname:t}){return t==="/"?e:hr([e,t])}function MA(e,t="/"){let{pathname:s,search:n="",hash:i=""}=typeof e=="string"?Zi(e):e;return{pathname:s?s.startsWith("/")?s:RA(s,t):t,search:LA(n),hash:BA(i)}}function RA(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function Zp(e,t,s,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N_(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Fx(e){let t=N_(e);return t.map((s,n)=>n===t.length-1?s.pathname:s.pathnameBase)}function zx(e,t,s,n=!1){let i;typeof e=="string"?i=Zi(e):(i=F({},e),Vt(!i.pathname||!i.pathname.includes("?"),Zp("?","pathname","search",i)),Vt(!i.pathname||!i.pathname.includes("#"),Zp("#","pathname","hash",i)),Vt(!i.search||!i.search.includes("#"),Zp("#","search","hash",i)));let o=e===""||i.pathname==="",c=o?"/":i.pathname,d;if(c==null)d=s;else{let p=t.length-1;if(!n&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),p-=1;i.pathname=b.join("/")}d=p>=0?t[p]:"/"}let h=MA(i,d),f=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var hr=e=>e.join("/").replace(/\/\/+/g,"/"),PA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),LA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,BA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Pf=class{constructor(e,t,s,n=!1){this.status=e,this.statusText=t||"",this.internal=n,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function eu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var __=["POST","PUT","PATCH","DELETE"],FA=new Set(__),zA=["GET",...__],UA=new Set(zA),HA=new Set([301,302,303,307,308]),$A=new Set([307,308]),Jp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},VA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Sd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},IA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ux=e=>IA.test(e),qA=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),T_="remix-router-transitions",S_=Symbol("ResetLoaderData");function WA(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,s=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined";Vt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],i=e.mapRouteProperties||qA,o={},c=Jd(e.routes,i,void 0,o),d,h=e.basename||"/",f=e.dataStrategy||QA,g=F({unstable_middleware:!1},e.future),p=null,b=new Set,y=null,j=null,v=null,_=e.hydrationData!=null,T=Ai(c,e.history.location,h),A=!1,k=null,S;if(T==null&&!e.patchRoutesOnNavigation){let te=ya(404,{pathname:e.history.location.pathname}),{matches:oe,route:pe}=m1(c);S=!0,T=oe,k={[pe.id]:te}}else if(T&&!e.hydrationData&&bt(T,c,e.history.location.pathname).active&&(T=null),T)if(T.some(te=>te.route.lazy))S=!1;else if(!T.some(te=>te.route.loader))S=!0;else{let te=e.hydrationData?e.hydrationData.loaderData:null,oe=e.hydrationData?e.hydrationData.errors:null;if(oe){let pe=T.findIndex(Se=>oe[Se.route.id]!==void 0);S=T.slice(0,pe+1).every(Se=>!Y0(Se.route,te,oe))}else S=T.every(pe=>!Y0(pe.route,te,oe))}else{S=!1,T=[];let te=bt(null,c,e.history.location.pathname);te.active&&te.matches&&(A=!0,T=te.matches)}let E,C={historyAction:e.history.action,location:e.history.location,matches:T,initialized:S,navigation:Jp,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||k,fetchers:new Map,blockers:new Map},z="POP",L=!1,R,V=!1,I=new Map,G=null,U=!1,W=!1,K=new Set,$=new Map,ee=0,se=-1,Ne=new Map,P=new Set,ne=new Map,ge=new Map,X=new Set,re=new Map,_e,me=null;function Pe(){if(p=e.history.listen(({action:te,location:oe,delta:pe})=>{if(_e){_e(),_e=void 0;return}Ws(re.size===0||pe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Se=yn({currentLocation:C.location,nextLocation:oe,historyAction:te});if(Se&&pe!=null){let Be=new Promise(Xe=>{_e=Xe});e.history.go(pe*-1),Zs(Se,{state:"blocked",location:oe,proceed(){Zs(Se,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),Be.then(()=>e.history.go(pe))},reset(){let Xe=new Map(C.blockers);Xe.set(Se,Sd),Z({blockers:Xe})}});return}return tt(te,oe)}),s){lO(t,I);let te=()=>cO(t,I);t.addEventListener("pagehide",te),G=()=>t.removeEventListener("pagehide",te)}return C.initialized||tt("POP",C.location,{initialHydration:!0}),E}function we(){p&&p(),G&&G(),b.clear(),R&&R.abort(),C.fetchers.forEach((te,oe)=>wt(oe)),C.blockers.forEach((te,oe)=>ds(oe))}function Ce(te){return b.add(te),()=>b.delete(te)}function Z(te,oe={}){te.matches&&(te.matches=te.matches.map(Be=>{let Xe=o[Be.route.id],nt=Be.route;return nt.element!==Xe.element||nt.errorElement!==Xe.errorElement||nt.hydrateFallbackElement!==Xe.hydrateFallbackElement?ie(F({},Be),{route:Xe}):Be})),C=F(F({},C),te);let pe=[],Se=[];C.fetchers.forEach((Be,Xe)=>{Be.state==="idle"&&(X.has(Xe)?pe.push(Xe):Se.push(Xe))}),X.forEach(Be=>{!C.fetchers.has(Be)&&!$.has(Be)&&pe.push(Be)}),[...b].forEach(Be=>Be(C,{deletedFetchers:pe,viewTransitionOpts:oe.viewTransitionOpts,flushSync:oe.flushSync===!0})),pe.forEach(Be=>wt(Be)),Se.forEach(Be=>C.fetchers.delete(Be))}function Re(te,oe,{flushSync:pe}={}){var dt,St;let Se=C.actionData!=null&&C.navigation.formMethod!=null&&$n(C.navigation.formMethod)&&C.navigation.state==="loading"&&((dt=te.state)==null?void 0:dt._isRedirect)!==!0,Be;oe.actionData?Object.keys(oe.actionData).length>0?Be=oe.actionData:Be=null:Se?Be=C.actionData:Be=null;let Xe=oe.loaderData?h1(C.loaderData,oe.loaderData,oe.matches||[],oe.errors):C.loaderData,nt=C.blockers;nt.size>0&&(nt=new Map(nt),nt.forEach((At,us)=>nt.set(us,Sd)));let ot=U?!1:vr(te,oe.matches||C.matches),pt=L===!0||C.navigation.formMethod!=null&&$n(C.navigation.formMethod)&&((St=te.state)==null?void 0:St._isRedirect)!==!0;d&&(c=d,d=void 0),U||z==="POP"||(z==="PUSH"?e.history.push(te,te.state):z==="REPLACE"&&e.history.replace(te,te.state));let Mt;if(z==="POP"){let At=I.get(C.location.pathname);At&&At.has(te.pathname)?Mt={currentLocation:C.location,nextLocation:te}:I.has(te.pathname)&&(Mt={currentLocation:te,nextLocation:C.location})}else if(V){let At=I.get(C.location.pathname);At?At.add(te.pathname):(At=new Set([te.pathname]),I.set(C.location.pathname,At)),Mt={currentLocation:C.location,nextLocation:te}}Z(ie(F({},oe),{actionData:Be,loaderData:Xe,historyAction:z,location:te,initialized:!0,navigation:Jp,revalidation:"idle",restoreScrollPosition:ot,preventScrollReset:pt,blockers:nt}),{viewTransitionOpts:Mt,flushSync:pe===!0}),z="POP",L=!1,V=!1,U=!1,W=!1,me==null||me.resolve(),me=null}function He(te,oe){return fe(this,null,function*(){if(typeof te=="number"){e.history.go(te);return}let pe=W0(C.location,C.matches,h,te,oe==null?void 0:oe.fromRouteId,oe==null?void 0:oe.relative),{path:Se,submission:Be,error:Xe}=n1(!1,pe,oe),nt=C.location,ot=Zd(C.location,Se,oe&&oe.state);ot=F(F({},ot),e.history.encodeLocation(ot));let pt=oe&&oe.replace!=null?oe.replace:void 0,Mt="PUSH";pt===!0?Mt="REPLACE":pt===!1||Be!=null&&$n(Be.formMethod)&&Be.formAction===C.location.pathname+C.location.search&&(Mt="REPLACE");let dt=oe&&"preventScrollReset"in oe?oe.preventScrollReset===!0:void 0,St=(oe&&oe.flushSync)===!0,At=yn({currentLocation:nt,nextLocation:ot,historyAction:Mt});if(At){Zs(At,{state:"blocked",location:ot,proceed(){Zs(At,{state:"proceeding",proceed:void 0,reset:void 0,location:ot}),He(te,oe)},reset(){let us=new Map(C.blockers);us.set(At,Sd),Z({blockers:us})}});return}yield tt(Mt,ot,{submission:Be,pendingError:Xe,preventScrollReset:dt,replace:oe&&oe.replace,enableViewTransition:oe&&oe.viewTransition,flushSync:St})})}function Ye(){me||(me=dO()),Me(),Z({revalidation:"loading"});let te=me.promise;return C.navigation.state==="submitting"?te:C.navigation.state==="idle"?(tt(C.historyAction,C.location,{startUninterruptedRevalidation:!0}),te):(tt(z||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:V===!0}),te)}function tt(te,oe,pe){return fe(this,null,function*(){R&&R.abort(),R=null,z=te,U=(pe&&pe.startUninterruptedRevalidation)===!0,ra(C.location,C.matches),L=(pe&&pe.preventScrollReset)===!0,V=(pe&&pe.enableViewTransition)===!0;let Se=d||c,Be=pe&&pe.overrideNavigation,Xe=pe!=null&&pe.initialHydration&&C.matches&&C.matches.length>0&&!A?C.matches:Ai(Se,oe,h),nt=(pe&&pe.flushSync)===!0;if(Xe&&C.initialized&&!W&&nO(C.location,oe)&&!(pe&&pe.submission&&$n(pe.submission.formMethod))){Re(oe,{matches:Xe},{flushSync:nt});return}let ot=bt(Xe,Se,oe.pathname);if(ot.active&&ot.matches&&(Xe=ot.matches),!Xe){let{error:rs,notFoundMatches:ut,route:Ct}=Js(oe.pathname);Re(oe,{matches:ut,loaderData:{},errors:{[Ct.id]:rs}},{flushSync:nt});return}R=new AbortController;let pt=Gl(e.history,oe,R.signal,pe&&pe.submission),Mt=new t1(e.unstable_getContext?yield e.unstable_getContext():void 0),dt;if(pe&&pe.pendingError)dt=[Po(Xe).route.id,{type:"error",error:pe.pendingError}];else if(pe&&pe.submission&&$n(pe.submission.formMethod)){let rs=yield gt(pt,oe,pe.submission,Xe,Mt,ot.active,pe&&pe.initialHydration===!0,{replace:pe.replace,flushSync:nt});if(rs.shortCircuited)return;if(rs.pendingActionResult){let[ut,Ct]=rs.pendingActionResult;if(Jn(Ct)&&eu(Ct.error)&&Ct.error.status===404){R=null,Re(oe,{matches:rs.matches,loaderData:{},errors:{[ut]:Ct.error}});return}}Xe=rs.matches||Xe,dt=rs.pendingActionResult,Be=e0(oe,pe.submission),nt=!1,ot.active=!1,pt=Gl(e.history,pt.url,pt.signal)}let{shortCircuited:St,matches:At,loaderData:us,errors:_s}=yield Dt(pt,oe,Xe,Mt,ot.active,Be,pe&&pe.submission,pe&&pe.fetcherSubmission,pe&&pe.replace,pe&&pe.initialHydration===!0,nt,dt);St||(R=null,Re(oe,ie(F({matches:At||Xe},f1(dt)),{loaderData:us,errors:_s})))})}function gt(pt,Mt,dt,St,At,us,_s){return fe(this,arguments,function*(te,oe,pe,Se,Be,Xe,nt,ot={}){Me();let rs=iO(oe,pe);if(Z({navigation:rs},{flushSync:ot.flushSync===!0}),Xe){let Wt=yield Zt(Se,oe.pathname,te.signal);if(Wt.type==="aborted")return{shortCircuited:!0};if(Wt.type==="error"){let bs=Po(Wt.partialMatches).route.id;return{matches:Wt.partialMatches,pendingActionResult:[bs,{type:"error",error:Wt.error}]}}else if(Wt.matches)Se=Wt.matches;else{let{notFoundMatches:bs,error:Ts,route:Ys}=Js(oe.pathname);return{matches:bs,pendingActionResult:[Ys.id,{type:"error",error:Ts}]}}}let ut,Ct=jf(Se,oe);if(!Ct.route.action&&!Ct.route.lazy)ut={type:"error",error:ya(405,{method:te.method,pathname:oe.pathname,routeId:Ct.route.id})};else{let Wt=ec(i,o,te,Se,Ct,nt?[]:n,Be),bs=yield Te(te,Wt,Be,null);if(ut=bs[Ct.route.id],!ut){for(let Ts of Se)if(bs[Ts.route.id]){ut=bs[Ts.route.id];break}}if(te.signal.aborted)return{shortCircuited:!0}}if(zo(ut)){let Wt;return ot&&ot.replace!=null?Wt=ot.replace:Wt=c1(ut.response.headers.get("Location"),new URL(te.url),h)===C.location.pathname+C.location.search,yield q(te,ut,!0,{submission:pe,replace:Wt}),{shortCircuited:!0}}if(Jn(ut)){let Wt=Po(Se,Ct.route.id);return(ot&&ot.replace)!==!0&&(z="PUSH"),{matches:Se,pendingActionResult:[Wt.route.id,ut,Ct.route.id]}}return{matches:Se,pendingActionResult:[Ct.route.id,ut]}})}function Dt(te,oe,pe,Se,Be,Xe,nt,ot,pt,Mt,dt,St){return fe(this,null,function*(){let At=Xe||e0(oe,nt),us=nt||ot||p1(At),_s=!U&&!Mt;if(Be){if(_s){let Ss=De(St);Z(F({navigation:At},Ss!==void 0?{actionData:Ss}:{}),{flushSync:dt})}let Lt=yield Zt(pe,oe.pathname,te.signal);if(Lt.type==="aborted")return{shortCircuited:!0};if(Lt.type==="error"){let Ss=Po(Lt.partialMatches).route.id;return{matches:Lt.partialMatches,loaderData:{},errors:{[Ss]:Lt.error}}}else if(Lt.matches)pe=Lt.matches;else{let{error:Ss,notFoundMatches:wr,route:ln}=Js(oe.pathname);return{matches:wr,loaderData:{},errors:{[ln.id]:Ss}}}}let rs=d||c,{dsMatches:ut,revalidatingFetchers:Ct}=a1(te,Se,i,o,e.history,C,pe,us,oe,Mt?[]:n,Mt===!0,W,K,X,ne,P,rs,h,e.patchRoutesOnNavigation!=null,St);if(se=++ee,!e.dataStrategy&&!ut.some(Lt=>Lt.shouldLoad)&&Ct.length===0){let Lt=Ot();return Re(oe,F(F({matches:pe,loaderData:{},errors:St&&Jn(St[1])?{[St[0]]:St[1].error}:null},f1(St)),Lt?{fetchers:new Map(C.fetchers)}:{}),{flushSync:dt}),{shortCircuited:!0}}if(_s){let Lt={};if(!Be){Lt.navigation=At;let Ss=De(St);Ss!==void 0&&(Lt.actionData=Ss)}Ct.length>0&&(Lt.fetchers=ze(Ct)),Z(Lt,{flushSync:dt})}Ct.forEach(Lt=>{Ue(Lt.key),Lt.controller&&$.set(Lt.key,Lt.controller)});let Wt=()=>Ct.forEach(Lt=>Ue(Lt.key));R&&R.signal.addEventListener("abort",Wt);let{loaderResults:bs,fetcherResults:Ts}=yield Le(ut,Ct,te,Se);if(te.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Wt),Ct.forEach(Lt=>$.delete(Lt.key));let Ys=zh(bs);if(Ys)return yield q(te,Ys.result,!0,{replace:pt}),{shortCircuited:!0};if(Ys=zh(Ts),Ys)return P.add(Ys.key),yield q(te,Ys.result,!0,{replace:pt}),{shortCircuited:!0};let{loaderData:en,errors:ia}=u1(C,pe,bs,St,Ct,Ts);Mt&&C.errors&&(ia=F(F({},C.errors),ia));let oa=Ot(),bn=Ke(se),la=oa||bn||Ct.length>0;return F({matches:pe,loaderData:en,errors:ia},la?{fetchers:new Map(C.fetchers)}:{})})}function De(te){if(te&&!Jn(te[1]))return{[te[0]]:te[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function ze(te){return te.forEach(oe=>{let pe=C.fetchers.get(oe.key),Se=kd(void 0,pe?pe.data:void 0);C.fetchers.set(oe.key,Se)}),new Map(C.fetchers)}function Fe(te,oe,pe,Se){return fe(this,null,function*(){Ue(te);let Be=(Se&&Se.flushSync)===!0,Xe=d||c,nt=W0(C.location,C.matches,h,pe,oe,Se==null?void 0:Se.relative),ot=Ai(Xe,nt,h),pt=bt(ot,Xe,nt);if(pt.active&&pt.matches&&(ot=pt.matches),!ot){Ge(te,oe,ya(404,{pathname:nt}),{flushSync:Be});return}let{path:Mt,submission:dt,error:St}=n1(!0,nt,Se);if(St){Ge(te,oe,St,{flushSync:Be});return}let At=new t1(e.unstable_getContext?yield e.unstable_getContext():void 0),us=(Se&&Se.preventScrollReset)===!0;if(dt&&$n(dt.formMethod)){yield Q(te,oe,Mt,ot,At,pt.active,Be,us,dt);return}ne.set(te,{routeId:oe,path:Mt}),yield le(te,oe,Mt,ot,At,pt.active,Be,us,dt)})}function Q(te,oe,pe,Se,Be,Xe,nt,ot,pt){return fe(this,null,function*(){Me(),ne.delete(te);let Mt=C.fetchers.get(te);Ve(te,oO(pt,Mt),{flushSync:nt});let dt=new AbortController,St=Gl(e.history,pe,dt.signal,pt);if(Xe){let ms=yield Zt(Se,new URL(St.url).pathname,St.signal,te);if(ms.type==="aborted")return;if(ms.type==="error"){Ge(te,oe,ms.error,{flushSync:nt});return}else if(ms.matches)Se=ms.matches;else{Ge(te,oe,ya(404,{pathname:pe}),{flushSync:nt});return}}let At=jf(Se,pe);if(!At.route.action&&!At.route.lazy){let ms=ya(405,{method:pt.formMethod,pathname:pe,routeId:oe});Ge(te,oe,ms,{flushSync:nt});return}$.set(te,dt);let us=ee,_s=ec(i,o,St,Se,At,n,Be),ut=(yield Te(St,_s,Be,te))[At.route.id];if(St.signal.aborted){$.get(te)===dt&&$.delete(te);return}if(X.has(te)){if(zo(ut)||Jn(ut)){Ve(te,ki(void 0));return}}else{if(zo(ut))if($.delete(te),se>us){Ve(te,ki(void 0));return}else return P.add(te),Ve(te,kd(pt)),q(St,ut,!1,{fetcherSubmission:pt,preventScrollReset:ot});if(Jn(ut)){Ge(te,oe,ut.error);return}}let Ct=C.navigation.location||C.location,Wt=Gl(e.history,Ct,dt.signal),bs=d||c,Ts=C.navigation.state!=="idle"?Ai(bs,C.navigation.location,h):C.matches;Vt(Ts,"Didn't find any matches after fetcher action");let Ys=++ee;Ne.set(te,Ys);let en=kd(pt,ut.data);C.fetchers.set(te,en);let{dsMatches:ia,revalidatingFetchers:oa}=a1(Wt,Be,i,o,e.history,C,Ts,pt,Ct,n,!1,W,K,X,ne,P,bs,h,e.patchRoutesOnNavigation!=null,[At.route.id,ut]);oa.filter(ms=>ms.key!==te).forEach(ms=>{let Sa=ms.key,Jo=C.fetchers.get(Sa),el=kd(void 0,Jo?Jo.data:void 0);C.fetchers.set(Sa,el),Ue(Sa),ms.controller&&$.set(Sa,ms.controller)}),Z({fetchers:new Map(C.fetchers)});let bn=()=>oa.forEach(ms=>Ue(ms.key));dt.signal.addEventListener("abort",bn);let{loaderResults:la,fetcherResults:Lt}=yield Le(ia,oa,Wt,Be);if(dt.signal.aborted)return;if(dt.signal.removeEventListener("abort",bn),Ne.delete(te),$.delete(te),oa.forEach(ms=>$.delete(ms.key)),C.fetchers.has(te)){let ms=ki(ut.data);C.fetchers.set(te,ms)}let Ss=zh(la);if(Ss)return q(Wt,Ss.result,!1,{preventScrollReset:ot});if(Ss=zh(Lt),Ss)return P.add(Ss.key),q(Wt,Ss.result,!1,{preventScrollReset:ot});let{loaderData:wr,errors:ln}=u1(C,Ts,la,void 0,oa,Lt);Ke(Ys),C.navigation.state==="loading"&&Ys>se?(Vt(z,"Expected pending action"),R&&R.abort(),Re(C.navigation.location,{matches:Ts,loaderData:wr,errors:ln,fetchers:new Map(C.fetchers)})):(Z({errors:ln,loaderData:h1(C.loaderData,wr,Ts,ln),fetchers:new Map(C.fetchers)}),W=!1)})}function le(te,oe,pe,Se,Be,Xe,nt,ot,pt){return fe(this,null,function*(){let Mt=C.fetchers.get(te);Ve(te,kd(pt,Mt?Mt.data:void 0),{flushSync:nt});let dt=new AbortController,St=Gl(e.history,pe,dt.signal);if(Xe){let Ct=yield Zt(Se,new URL(St.url).pathname,St.signal,te);if(Ct.type==="aborted")return;if(Ct.type==="error"){Ge(te,oe,Ct.error,{flushSync:nt});return}else if(Ct.matches)Se=Ct.matches;else{Ge(te,oe,ya(404,{pathname:pe}),{flushSync:nt});return}}let At=jf(Se,pe);$.set(te,dt);let us=ee,_s=ec(i,o,St,Se,At,n,Be),ut=(yield Te(St,_s,Be,te))[At.route.id];if($.get(te)===dt&&$.delete(te),!St.signal.aborted){if(X.has(te)){Ve(te,ki(void 0));return}if(zo(ut))if(se>us){Ve(te,ki(void 0));return}else{P.add(te),yield q(St,ut,!1,{preventScrollReset:ot});return}if(Jn(ut)){Ge(te,oe,ut.error);return}Ve(te,ki(ut.data))}})}function q(ot,pt,Mt){return fe(this,arguments,function*(te,oe,pe,{submission:Se,fetcherSubmission:Be,preventScrollReset:Xe,replace:nt}={}){oe.response.headers.has("X-Remix-Revalidate")&&(W=!0);let dt=oe.response.headers.get("Location");Vt(dt,"Expected a Location header on the redirect Response"),dt=c1(dt,new URL(te.url),h);let St=Zd(C.location,dt,{_isRedirect:!0});if(s){let Ct=!1;if(oe.response.headers.has("X-Remix-Reload-Document"))Ct=!0;else if(Ux(dt)){const Wt=v_(dt,!0);Ct=Wt.origin!==t.location.origin||Na(Wt.pathname,h)==null}if(Ct){nt?t.location.replace(dt):t.location.assign(dt);return}}R=null;let At=nt===!0||oe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:us,formAction:_s,formEncType:rs}=C.navigation;!Se&&!Be&&us&&_s&&rs&&(Se=p1(C.navigation));let ut=Se||Be;if($A.has(oe.response.status)&&ut&&$n(ut.formMethod))yield tt(At,St,{submission:ie(F({},ut),{formAction:dt}),preventScrollReset:Xe||L,enableViewTransition:pe?V:void 0});else{let Ct=e0(St,Se);yield tt(At,St,{overrideNavigation:Ct,fetcherSubmission:Be,preventScrollReset:Xe||L,enableViewTransition:pe?V:void 0})}})}function Te(te,oe,pe,Se){return fe(this,null,function*(){let Be,Xe={};try{Be=yield ZA(f,te,oe,Se,pe,!1)}catch(nt){return oe.filter(ot=>ot.shouldLoad).forEach(ot=>{Xe[ot.route.id]={type:"error",error:nt}}),Xe}if(te.signal.aborted)return Xe;for(let[nt,ot]of Object.entries(Be))if(aO(ot)){let pt=ot.result;Xe[nt]={type:"redirect",response:tO(pt,te,nt,oe,h)}}else Xe[nt]=yield eO(ot);return Xe})}function Le(te,oe,pe,Se){return fe(this,null,function*(){let Be=Te(pe,te,Se,null),Xe=Promise.all(oe.map(pt=>fe(null,null,function*(){if(pt.matches&&pt.match&&pt.request&&pt.controller){let dt=(yield Te(pt.request,pt.matches,Se,pt.key))[pt.match.route.id];return{[pt.key]:dt}}else return Promise.resolve({[pt.key]:{type:"error",error:ya(404,{pathname:pt.path})}})}))),nt=yield Be,ot=(yield Xe).reduce((pt,Mt)=>Object.assign(pt,Mt),{});return{loaderResults:nt,fetcherResults:ot}})}function Me(){W=!0,ne.forEach((te,oe)=>{$.has(oe)&&K.add(oe),Ue(oe)})}function Ve(te,oe,pe={}){C.fetchers.set(te,oe),Z({fetchers:new Map(C.fetchers)},{flushSync:(pe&&pe.flushSync)===!0})}function Ge(te,oe,pe,Se={}){let Be=Po(C.matches,oe);wt(te),Z({errors:{[Be.route.id]:pe},fetchers:new Map(C.fetchers)},{flushSync:(Se&&Se.flushSync)===!0})}function st(te){return ge.set(te,(ge.get(te)||0)+1),X.has(te)&&X.delete(te),C.fetchers.get(te)||VA}function wt(te){let oe=C.fetchers.get(te);$.has(te)&&!(oe&&oe.state==="loading"&&Ne.has(te))&&Ue(te),ne.delete(te),Ne.delete(te),P.delete(te),X.delete(te),K.delete(te),C.fetchers.delete(te)}function ke(te){let oe=(ge.get(te)||0)-1;oe<=0?(ge.delete(te),X.add(te)):ge.set(te,oe),Z({fetchers:new Map(C.fetchers)})}function Ue(te){let oe=$.get(te);oe&&(oe.abort(),$.delete(te))}function Ze(te){for(let oe of te){let pe=st(oe),Se=ki(pe.data);C.fetchers.set(oe,Se)}}function Ot(){let te=[],oe=!1;for(let pe of P){let Se=C.fetchers.get(pe);Vt(Se,`Expected fetcher: ${pe}`),Se.state==="loading"&&(P.delete(pe),te.push(pe),oe=!0)}return Ze(te),oe}function Ke(te){let oe=[];for(let[pe,Se]of Ne)if(Se<te){let Be=C.fetchers.get(pe);Vt(Be,`Expected fetcher: ${pe}`),Be.state==="loading"&&(Ue(pe),Ne.delete(pe),oe.push(pe))}return Ze(oe),oe.length>0}function zt(te,oe){let pe=C.blockers.get(te)||Sd;return re.get(te)!==oe&&re.set(te,oe),pe}function ds(te){C.blockers.delete(te),re.delete(te)}function Zs(te,oe){let pe=C.blockers.get(te)||Sd;Vt(pe.state==="unblocked"&&oe.state==="blocked"||pe.state==="blocked"&&oe.state==="blocked"||pe.state==="blocked"&&oe.state==="proceeding"||pe.state==="blocked"&&oe.state==="unblocked"||pe.state==="proceeding"&&oe.state==="unblocked",`Invalid blocker state transition: ${pe.state} -> ${oe.state}`);let Se=new Map(C.blockers);Se.set(te,oe),Z({blockers:Se})}function yn({currentLocation:te,nextLocation:oe,historyAction:pe}){if(re.size===0)return;re.size>1&&Ws(!1,"A router only supports one blocker at a time");let Se=Array.from(re.entries()),[Be,Xe]=Se[Se.length-1],nt=C.blockers.get(Be);if(!(nt&&nt.state==="proceeding")&&Xe({currentLocation:te,nextLocation:oe,historyAction:pe}))return Be}function Js(te){let oe=ya(404,{pathname:te}),pe=d||c,{matches:Se,route:Be}=m1(pe);return{notFoundMatches:Se,route:Be,error:oe}}function br(te,oe,pe){if(y=te,v=oe,j=pe||null,!_&&C.navigation===Jp){_=!0;let Se=vr(C.location,C.matches);Se!=null&&Z({restoreScrollPosition:Se})}return()=>{y=null,v=null,j=null}}function Wa(te,oe){return j&&j(te,oe.map(Se=>bA(Se,C.loaderData)))||te.key}function ra(te,oe){if(y&&v){let pe=Wa(te,oe);y[pe]=v()}}function vr(te,oe){if(y){let pe=Wa(te,oe),Se=y[pe];if(typeof Se=="number")return Se}return null}function bt(te,oe,pe){if(e.patchRoutesOnNavigation)if(te){if(Object.keys(te[0].params).length>0)return{active:!0,matches:wf(oe,pe,h,!0)}}else return{active:!0,matches:wf(oe,pe,h,!0)||[]};return{active:!1,matches:null}}function Zt(te,oe,pe,Se){return fe(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:te};let Be=te;for(;;){let Xe=d==null,nt=d||c,ot=o;try{yield e.patchRoutesOnNavigation({signal:pe,path:oe,matches:Be,fetcherKey:Se,patch:(dt,St)=>{pe.aborted||r1(dt,St,nt,ot,i,!1)}})}catch(dt){return{type:"error",error:dt,partialMatches:Be}}finally{Xe&&!pe.aborted&&(c=[...c])}if(pe.aborted)return{type:"aborted"};let pt=Ai(nt,oe,h);if(pt)return{type:"success",matches:pt};let Mt=wf(nt,oe,h,!0);if(!Mt||Be.length===Mt.length&&Be.every((dt,St)=>dt.route.id===Mt[St].route.id))return{type:"success",matches:null};Be=Mt}})}function fs(te){o={},d=Jd(te,i,void 0,o)}function Ms(te,oe,pe=!1){let Se=d==null;r1(te,oe,d||c,o,i,pe),Se&&(c=[...c],Z({}))}return E={get basename(){return h},get future(){return g},get state(){return C},get routes(){return c},get window(){return t},initialize:Pe,subscribe:Ce,enableScrollRestoration:br,navigate:He,fetch:Fe,revalidate:Ye,createHref:te=>e.history.createHref(te),encodeLocation:te=>e.history.encodeLocation(te),getFetcher:st,deleteFetcher:ke,dispose:we,getBlocker:zt,deleteBlocker:ds,patchRoutes:Ms,_internalFetchControllers:$,_internalSetRoutes:fs,_internalSetStateDoNotUseOrYouWillBreakYourApp(te){Z(te)}},E}function YA(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function W0(e,t,s,n,i,o){let c,d;if(i){c=[];for(let f of t)if(c.push(f),f.route.id===i){d=f;break}}else c=t,d=t[t.length-1];let h=zx(n||".",Fx(c),Na(e.pathname,s)||e.pathname,o==="path");if(n==null&&(h.search=e.search,h.hash=e.hash),(n==null||n===""||n===".")&&d){let f=Hx(h.search);if(d.route.index&&!f)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&f){let g=new URLSearchParams(h.search),p=g.getAll("index");g.delete("index"),p.filter(y=>y).forEach(y=>g.append("index",y));let b=g.toString();h.search=b?`?${b}`:""}}return s!=="/"&&(h.pathname=OA({basename:s,pathname:h.pathname})),Fi(h)}function n1(e,t,s){if(!s||!YA(s))return{path:t};if(s.formMethod&&!rO(s.formMethod))return{path:t,error:ya(405,{method:s.formMethod})};let n=()=>({path:t,error:ya(400,{type:"invalid-body"})}),o=(s.formMethod||"get").toUpperCase(),c=O_(t);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!$n(o))return n();let p=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((b,[y,j])=>`${b}${y}=${j}
`,""):String(s.body);return{path:t,submission:{formMethod:o,formAction:c,formEncType:s.formEncType,formData:void 0,json:void 0,text:p}}}else if(s.formEncType==="application/json"){if(!$n(o))return n();try{let p=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:t,submission:{formMethod:o,formAction:c,formEncType:s.formEncType,formData:void 0,json:p,text:void 0}}}catch(p){return n()}}}Vt(typeof FormData=="function","FormData is not available in this environment");let d,h;if(s.formData)d=X0(s.formData),h=s.formData;else if(s.body instanceof FormData)d=X0(s.body),h=s.body;else if(s.body instanceof URLSearchParams)d=s.body,h=d1(d);else if(s.body==null)d=new URLSearchParams,h=new FormData;else try{d=new URLSearchParams(s.body),h=d1(d)}catch(p){return n()}let f={formMethod:o,formAction:c,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if($n(f.formMethod))return{path:t,submission:f};let g=Zi(t);return e&&g.search&&Hx(g.search)&&d.append("index",""),g.search=`?${d}`,{path:Fi(g),submission:f}}function a1(e,t,s,n,i,o,c,d,h,f,g,p,b,y,j,v,_,T,A,k){var U;let S=k?Jn(k[1])?k[1].error:k[1].data:void 0,E=i.createURL(o.location),C=i.createURL(h),z;if(g&&o.errors){let W=Object.keys(o.errors)[0];z=c.findIndex(K=>K.route.id===W)}else if(k&&Jn(k[1])){let W=k[0];z=c.findIndex(K=>K.route.id===W)-1}let L=k?k[1].statusCode:void 0,R=L&&L>=400,V=ie(F({currentUrl:E,currentParams:((U=o.matches[0])==null?void 0:U.params)||{},nextUrl:C,nextParams:c[0].params},d),{actionResult:S,actionStatus:L}),I=c.map((W,K)=>{let{route:$}=W,ee=null;if(z!=null&&K>z?ee=!1:$.lazy?ee=!0:$.loader==null?ee=!1:g?ee=Y0($,o.loaderData,o.errors):GA(o.loaderData,o.matches[K],W)&&(ee=!0),ee!==null)return G0(s,n,e,W,f,t,ee);let se=R?!1:p||E.pathname+E.search===C.pathname+C.search||E.search!==C.search||XA(o.matches[K],W),Ne=ie(F({},V),{defaultShouldRevalidate:se}),P=Lf(W,Ne);return G0(s,n,e,W,f,t,P,Ne)}),G=[];return j.forEach((W,K)=>{if(g||!c.some(X=>X.route.id===W.routeId)||y.has(K))return;let $=o.fetchers.get(K),ee=$&&$.state!=="idle"&&$.data===void 0,se=Ai(_,W.path,T);if(!se){if(A&&ee)return;G.push({key:K,routeId:W.routeId,path:W.path,matches:null,match:null,request:null,controller:null});return}if(v.has(K))return;let Ne=jf(se,W.path),P=new AbortController,ne=Gl(i,W.path,P.signal),ge=null;if(b.has(K))b.delete(K),ge=ec(s,n,ne,se,Ne,f,t);else if(ee)p&&(ge=ec(s,n,ne,se,Ne,f,t));else{let X=ie(F({},V),{defaultShouldRevalidate:R?!1:p});Lf(Ne,X)&&(ge=ec(s,n,ne,se,Ne,f,t,X))}ge&&G.push({key:K,routeId:W.routeId,path:W.path,matches:ge,match:Ne,request:ne,controller:P})}),{dsMatches:I,revalidatingFetchers:G}}function Y0(e,t,s){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&e.id in t,i=s!=null&&s[e.id]!==void 0;return!n&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!i}function GA(e,t,s){let n=!t||s.route.id!==t.route.id,i=!e.hasOwnProperty(s.route.id);return n||i}function XA(e,t){let s=e.route.path;return e.pathname!==t.pathname||s!=null&&s.endsWith("*")&&e.params["*"]!==t.params["*"]}function Lf(e,t){if(e.route.shouldRevalidate){let s=e.route.shouldRevalidate(t);if(typeof s=="boolean")return s}return t.defaultShouldRevalidate}function r1(e,t,s,n,i,o){let c;if(e){let f=n[e];Vt(f,`No route found to patch children into: routeId = ${e}`),f.children||(f.children=[]),c=f.children}else c=s;let d=[],h=[];if(t.forEach(f=>{let g=c.find(p=>k_(f,p));g?h.push({existingRoute:g,newRoute:f}):d.push(f)}),d.length>0){let f=Jd(d,i,[e||"_","patch",String((c==null?void 0:c.length)||"0")],n);c.push(...f)}if(o&&h.length>0)for(let f=0;f<h.length;f++){let{existingRoute:g,newRoute:p}=h[f],b=g,[y]=Jd([p],i,[],{},!0);Object.assign(b,{element:y.element?y.element:b.element,errorElement:y.errorElement?y.errorElement:b.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:b.hydrateFallbackElement})}}function k_(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((s,n)=>{var i;return(i=t.children)==null?void 0:i.some(o=>k_(s,o))}):!1}var i1=new WeakMap,C_=({key:e,route:t,manifest:s,mapRouteProperties:n})=>{let i=s[t.id];if(Vt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[e];if(!o)return;let c=i1.get(i);c||(c={},i1.set(i,c));let d=c[e];if(d)return d;let h=fe(null,null,function*(){let f=gA(e),p=i[e]!==void 0&&e!=="hasErrorBoundary";if(f)Ws(!f,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),c[e]=Promise.resolve();else if(p)Ws(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let b=yield o();b!=null&&(Object.assign(i,{[e]:b}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(b=>b===void 0)&&(i.lazy=void 0))});return c[e]=h,h},o1=new WeakMap;function KA(e,t,s,n,i){let o=s[e.id];if(Vt(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let g=o1.get(o);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let p=fe(null,null,function*(){Vt(typeof e.lazy=="function","No lazy route function found");let b=yield e.lazy(),y={};for(let j in b){let v=b[j];if(v===void 0)continue;let _=xA(j),A=o[j]!==void 0&&j!=="hasErrorBoundary";_?Ws(!_,"Route property "+j+" is not a supported property to be returned from a lazy route function. This property will be ignored."):A?Ws(!A,`Route "${o.id}" has a static property "${j}" defined but its lazy function is also returning a value for this property. The lazy route property "${j}" will be ignored.`):y[j]=v}Object.assign(o,y),Object.assign(o,ie(F({},n(o)),{lazy:void 0}))});return o1.set(o,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let c=Object.keys(e.lazy),d=[],h;for(let g of c){if(i&&i.includes(g))continue;let p=C_({key:g,route:e,manifest:s,mapRouteProperties:n});p&&(d.push(p),g===t&&(h=p))}let f=d.length>0?Promise.all(d).then(()=>{}):void 0;return f==null||f.catch(()=>{}),h==null||h.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:h}}function l1(e){return fe(this,null,function*(){let t=e.matches.filter(i=>i.shouldLoad),s={};return(yield Promise.all(t.map(i=>i.resolve()))).forEach((i,o)=>{s[t[o].route.id]=i}),s})}function QA(e){return fe(this,null,function*(){return e.matches.some(t=>t.route.unstable_middleware)?E_(e,!1,()=>l1(e),(t,s)=>({[s]:{type:"error",result:t}})):l1(e)})}function E_(e,t,s,n){return fe(this,null,function*(){let{matches:i,request:o,params:c,context:d}=e,h={handlerResult:void 0};try{let f=i.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(b=>[p.route.id,b]):[]),g=yield D_({request:o,params:c,context:d},f,t,h,s);return t?g:h.handlerResult}catch(f){if(!h.middlewareError)throw f;let g=yield n(h.middlewareError.error,h.middlewareError.routeId);return h.handlerResult?Object.assign(h.handlerResult,g):g}})}function D_(e,t,s,n,i,o=0){return fe(this,null,function*(){let{request:c}=e;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let d=t[o];if(!d)return n.handlerResult=yield i(),n.handlerResult;let[h,f]=d,g=!1,p,b=()=>fe(null,null,function*(){if(g)throw new Error("You may only call `next()` once per middleware");g=!0,yield D_(e,t,s,n,i,o+1)});try{let y=yield f({request:e.request,params:e.params,context:e.context},b);return g?y===void 0?p:y:b()}catch(y){throw n.middlewareError?n.middlewareError.error!==y&&(n.middlewareError={routeId:h,error:y}):n.middlewareError={routeId:h,error:y},y}})}function A_(e,t,s,n,i){let o=C_({key:"unstable_middleware",route:n.route,manifest:t,mapRouteProperties:e}),c=KA(n.route,$n(s.method)?"action":"loader",t,e,i);return{middleware:o,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function G0(e,t,s,n,i,o,c,d=null){let h=!1,f=A_(e,t,s,n,i);return ie(F({},n),{_lazyPromises:f,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(g){return h=!0,d?typeof g=="boolean"?Lf(n,ie(F({},d),{defaultShouldRevalidate:g})):Lf(n,d):c},resolve(g){return h||c||g&&!$n(s.method)&&(n.route.lazy||n.route.loader)?JA({request:s,match:n,lazyHandlerPromise:f==null?void 0:f.handler,lazyRoutePromise:f==null?void 0:f.route,handlerOverride:g,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}})}function ec(e,t,s,n,i,o,c,d=null){return n.map(h=>h.route.id!==i.route.id?ie(F({},h),{shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:A_(e,t,s,h,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}):G0(e,t,s,h,o,c,!0,d))}function ZA(e,t,s,n,i,o){return fe(this,null,function*(){s.some(f=>{var g;return(g=f._lazyPromises)==null?void 0:g.middleware})&&(yield Promise.all(s.map(f=>{var g;return(g=f._lazyPromises)==null?void 0:g.middleware})));let c={request:t,params:s[0].params,context:i,matches:s},d=f=>{let g=c;return E_(g,!1,()=>f(ie(F({},g),{fetcherKey:n,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(p,b)=>({[b]:{type:"error",result:p}}))},h=yield e(ie(F({},c),{fetcherKey:n,unstable_runClientMiddleware:d}));try{yield Promise.all(s.flatMap(f=>{var g,p;return[(g=f._lazyPromises)==null?void 0:g.handler,(p=f._lazyPromises)==null?void 0:p.route]}))}catch(f){}return h})}function JA(c){return fe(this,arguments,function*({request:e,match:t,lazyHandlerPromise:s,lazyRoutePromise:n,handlerOverride:i,scopedContext:o}){let d,h,f=$n(e.method),g=f?"action":"loader",p=b=>{let y,j=new Promise((T,A)=>y=A);h=()=>y(),e.signal.addEventListener("abort",h);let v=T=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${t.route.id}]`)):b({request:e,params:t.params,context:o},...T!==void 0?[T]:[]),_=fe(null,null,function*(){try{return{type:"data",result:yield i?i(A=>v(A)):v()}}catch(T){return{type:"error",result:T}}});return Promise.race([_,j])};try{let b=f?t.route.action:t.route.loader;if(s||n)if(b){let y,[j]=yield Promise.all([p(b).catch(v=>{y=v}),s,n]);if(y!==void 0)throw y;d=j}else{yield s;let y=f?t.route.action:t.route.loader;if(y)[d]=yield Promise.all([p(y),n]);else if(g==="action"){let j=new URL(e.url),v=j.pathname+j.search;throw ya(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(b)d=yield p(b);else{let y=new URL(e.url),j=y.pathname+y.search;throw ya(404,{pathname:j})}}catch(b){return{type:"error",result:b}}finally{h&&e.signal.removeEventListener("abort",h)}return d})}function eO(e){return fe(this,null,function*(){var n,i,o,c,d,h;let{result:t,type:s}=e;if(M_(t)){let f;try{let g=t.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?t.body==null?f=null:f=yield t.json():f=yield t.text()}catch(g){return{type:"error",error:g}}return s==="error"?{type:"error",error:new Pf(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:"data",data:f,statusCode:t.status,headers:t.headers}}return s==="error"?g1(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Pf(((o=t.init)==null?void 0:o.status)||500,void 0,t.data),statusCode:eu(t)?t.status:void 0,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:eu(t)?t.status:void 0}:g1(t)?{type:"data",data:t.data,statusCode:(d=t.init)==null?void 0:d.status,headers:(h=t.init)!=null&&h.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}})}function tO(e,t,s,n,i){let o=e.headers.get("Location");if(Vt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ux(o)){let c=n.slice(0,n.findIndex(d=>d.route.id===s)+1);o=W0(new URL(t.url),c,i,o),e.headers.set("Location",o)}return e}function c1(e,t,s){if(Ux(e)){let n=e,i=n.startsWith("//")?new URL(t.protocol+n):new URL(n),o=Na(i.pathname,s)!=null;if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function Gl(e,t,s,n){let i=e.createURL(O_(t)).toString(),o={signal:s};if(n&&$n(n.formMethod)){let{formMethod:c,formEncType:d}=n;o.method=c.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(n.json)):d==="text/plain"?o.body=n.text:d==="application/x-www-form-urlencoded"&&n.formData?o.body=X0(n.formData):o.body=n.formData}return new Request(i,o)}function X0(e){let t=new URLSearchParams;for(let[s,n]of e.entries())t.append(s,typeof n=="string"?n:n.name);return t}function d1(e){let t=new FormData;for(let[s,n]of e.entries())t.append(s,n);return t}function sO(e,t,s,n=!1,i=!1){let o={},c=null,d,h=!1,f={},g=s&&Jn(s[1])?s[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let b=p.route.id,y=t[b];if(Vt(!zo(y),"Cannot handle redirect results in processLoaderData"),Jn(y)){let j=y.error;if(g!==void 0&&(j=g,g=void 0),c=c||{},i)c[b]=j;else{let v=Po(e,b);c[v.route.id]==null&&(c[v.route.id]=j)}n||(o[b]=S_),h||(h=!0,d=eu(y.error)?y.error.status:500),y.headers&&(f[b]=y.headers)}else o[b]=y.data,y.statusCode&&y.statusCode!==200&&!h&&(d=y.statusCode),y.headers&&(f[b]=y.headers)}),g!==void 0&&s&&(c={[s[0]]:g},s[2]&&(o[s[2]]=void 0)),{loaderData:o,errors:c,statusCode:d||200,loaderHeaders:f}}function u1(e,t,s,n,i,o){let{loaderData:c,errors:d}=sO(t,s,n);return i.filter(h=>!h.matches||h.matches.some(f=>f.shouldLoad)).forEach(h=>{let{key:f,match:g,controller:p}=h,b=o[f];if(Vt(b,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(Jn(b)){let y=Po(e.matches,g==null?void 0:g.route.id);d&&d[y.route.id]||(d=ie(F({},d),{[y.route.id]:b.error})),e.fetchers.delete(f)}else if(zo(b))Vt(!1,"Unhandled fetcher revalidation redirect");else{let y=ki(b.data);e.fetchers.set(f,y)}}),{loaderData:c,errors:d}}function h1(e,t,s,n){let i=Object.entries(t).filter(([,o])=>o!==S_).reduce((o,[c,d])=>(o[c]=d,o),{});for(let o of s){let c=o.route.id;if(!t.hasOwnProperty(c)&&e.hasOwnProperty(c)&&o.route.loader&&(i[c]=e[c]),n&&n.hasOwnProperty(c))break}return i}function f1(e){return e?Jn(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Po(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function m1(e){let t=e.length===1?e[0]:e.find(s=>s.index||!s.path||s.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ya(e,{pathname:t,routeId:s,method:n,type:i,message:o}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(c="Bad Request",n&&t&&s?d=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${s}", so there is no way to handle the request.`:i==="invalid-body"&&(d="Unable to encode submission body")):e===403?(c="Forbidden",d=`Route "${s}" does not match URL "${t}"`):e===404?(c="Not Found",d=`No route matches URL "${t}"`):e===405&&(c="Method Not Allowed",n&&t&&s?d=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${s}", so there is no way to handle the request.`:n&&(d=`Invalid request method "${n.toUpperCase()}"`)),new Pf(e||500,c,new Error(d),!0)}function zh(e){let t=Object.entries(e);for(let s=t.length-1;s>=0;s--){let[n,i]=t[s];if(zo(i))return{key:n,result:i}}}function O_(e){let t=typeof e=="string"?Zi(e):e;return Fi(ie(F({},t),{hash:""}))}function nO(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function aO(e){return M_(e.result)&&HA.has(e.result.status)}function Jn(e){return e.type==="error"}function zo(e){return(e&&e.type)==="redirect"}function g1(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function M_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function rO(e){return UA.has(e.toUpperCase())}function $n(e){return FA.has(e.toUpperCase())}function Hx(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function jf(e,t){let s=typeof t=="string"?Zi(t).search:t.search;if(e[e.length-1].route.index&&Hx(s||""))return e[e.length-1];let n=N_(e);return n[n.length-1]}function p1(e){let{formMethod:t,formAction:s,formEncType:n,text:i,formData:o,json:c}=e;if(!(!t||!s||!n)){if(i!=null)return{formMethod:t,formAction:s,formEncType:n,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:s,formEncType:n,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:t,formAction:s,formEncType:n,formData:void 0,json:c,text:void 0}}}function e0(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function iO(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function kd(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function oO(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function ki(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function lO(e,t){try{let s=e.sessionStorage.getItem(T_);if(s){let n=JSON.parse(s);for(let[i,o]of Object.entries(n||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch(s){}}function cO(e,t){if(t.size>0){let s={};for(let[n,i]of t)s[n]=[...i];try{e.sessionStorage.setItem(T_,JSON.stringify(s))}catch(n){Ws(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function dO(){let e,t,s=new Promise((n,i)=>{e=o=>fe(null,null,function*(){n(o);try{yield s}catch(c){}}),t=o=>fe(null,null,function*(){i(o);try{yield s}catch(c){}})});return{promise:s,resolve:e,reject:t}}var Ko=N.createContext(null);Ko.displayName="DataRouter";var gu=N.createContext(null);gu.displayName="DataRouterState";N.createContext(!1);var $x=N.createContext({isTransitioning:!1});$x.displayName="ViewTransition";var R_=N.createContext(new Map);R_.displayName="Fetchers";var uO=N.createContext(null);uO.displayName="Await";var xr=N.createContext(null);xr.displayName="Navigation";var cm=N.createContext(null);cm.displayName="Location";var $a=N.createContext({outlet:null,matches:[],isDataRoute:!1});$a.displayName="Route";var Vx=N.createContext(null);Vx.displayName="RouteError";function hO(e,{relative:t}={}){Vt(pu(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:n}=N.useContext(xr),{hash:i,pathname:o,search:c}=xu(e,{relative:t}),d=o;return s!=="/"&&(d=o==="/"?s:hr([s,o])),n.createHref({pathname:d,search:c,hash:i})}function pu(){return N.useContext(cm)!=null}function Ji(){return Vt(pu(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(cm).location}var P_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L_(e){N.useContext(xr).static||N.useLayoutEffect(e)}function dm(){let{isDataRoute:e}=N.useContext($a);return e?CO():fO()}function fO(){Vt(pu(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Ko),{basename:t,navigator:s}=N.useContext(xr),{matches:n}=N.useContext($a),{pathname:i}=Ji(),o=JSON.stringify(Fx(n)),c=N.useRef(!1);return L_(()=>{c.current=!0}),N.useCallback((h,f={})=>{if(Ws(c.current,P_),!c.current)return;if(typeof h=="number"){s.go(h);return}let g=zx(h,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:hr([t,g.pathname])),(f.replace?s.replace:s.push)(g,f.state,f)},[t,s,o,i,e])}var mO=N.createContext(null);function gO(e){let t=N.useContext($a).outlet;return t&&N.createElement(mO.Provider,{value:e},t)}function pO(){let{matches:e}=N.useContext($a),t=e[e.length-1];return t?t.params:{}}function xu(e,{relative:t}={}){let{matches:s}=N.useContext($a),{pathname:n}=Ji(),i=JSON.stringify(Fx(s));return N.useMemo(()=>zx(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function xO(e,t,s,n){Vt(pu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=N.useContext(xr),{matches:o}=N.useContext($a),c=o[o.length-1],d=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",g=c&&c.route;{let T=g&&g.path||"";B_(h,!g||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let p=Ji(),b;b=p;let y=b.pathname||"/",j=y;if(f!=="/"){let T=f.replace(/^\//,"").split("/");j="/"+y.replace(/^\//,"").split("/").slice(T.length).join("/")}let v=Ai(e,{pathname:j});return Ws(g||v!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ws(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),jO(v&&v.map(T=>Object.assign({},T,{params:Object.assign({},d,T.params),pathname:hr([f,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:hr([f,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,s,n)}function yO(){let e=kO(),t=eu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:o},"ErrorBoundary")," or"," ",N.createElement("code",{style:o},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),s?N.createElement("pre",{style:i},s):null,c)}var bO=N.createElement(yO,null),vO=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement($a.Provider,{value:this.props.routeContext},N.createElement(Vx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wO({routeContext:e,match:t,children:s}){let n=N.useContext(Ko);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement($a.Provider,{value:e},s)}function jO(e,t=[],s=null,n=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,o=s==null?void 0:s.errors;if(o!=null){let h=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Vt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,d=-1;if(s)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:g,errors:p}=s,b=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||b){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((h,f,g)=>{let p,b=!1,y=null,j=null;s&&(p=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||bO,c&&(d<0&&g===0?(B_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,j=null):d===g&&(b=!0,j=f.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,g+1)),_=()=>{let T;return p?T=y:b?T=j:f.route.Component?T=N.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=h,N.createElement(wO,{match:f,routeContext:{outlet:h,matches:v,isDataRoute:s!=null},children:T})};return s&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?N.createElement(vO,{location:s.location,revalidation:s.revalidation,component:y,error:p,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}function Ix(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NO(e){let t=N.useContext(Ko);return Vt(t,Ix(e)),t}function _O(e){let t=N.useContext(gu);return Vt(t,Ix(e)),t}function TO(e){let t=N.useContext($a);return Vt(t,Ix(e)),t}function qx(e){let t=TO(e),s=t.matches[t.matches.length-1];return Vt(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function SO(){return qx("useRouteId")}function kO(){var n;let e=N.useContext(Vx),t=_O("useRouteError"),s=qx("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function CO(){let{router:e}=NO("useNavigate"),t=qx("useNavigate"),s=N.useRef(!1);return L_(()=>{s.current=!0}),N.useCallback((c,...d)=>fe(null,[c,...d],function*(i,o={}){Ws(s.current,P_),s.current&&(typeof i=="number"?e.navigate(i):yield e.navigate(i,F({fromRouteId:t},o)))}),[e,t])}var x1={};function B_(e,t,s){!t&&!x1[e]&&(x1[e]=!0,Ws(!1,s))}var y1={};function b1(e,t){!e&&!y1[t]&&(y1[t]=!0,console.warn(t))}function EO(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Ws(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:N.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Ws(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:N.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Ws(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:N.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var DO=["HydrateFallback","hydrateFallbackElement"],AO=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",t(s))}})}};function OO({router:e,flushSync:t}){let[s,n]=N.useState(e.state),[i,o]=N.useState(),[c,d]=N.useState({isTransitioning:!1}),[h,f]=N.useState(),[g,p]=N.useState(),[b,y]=N.useState(),j=N.useRef(new Map),v=N.useCallback((k,{deletedFetchers:S,flushSync:E,viewTransitionOpts:C})=>{k.fetchers.forEach((L,R)=>{L.data!==void 0&&j.current.set(R,L.data)}),S.forEach(L=>j.current.delete(L)),b1(E===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let z=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(b1(C==null||z,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!C||!z){t&&E?t(()=>n(k)):N.startTransition(()=>n(k));return}if(t&&E){t(()=>{g&&(h&&h.resolve(),g.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:C.currentLocation,nextLocation:C.nextLocation})});let L=e.window.document.startViewTransition(()=>{t(()=>n(k))});L.finished.finally(()=>{t(()=>{f(void 0),p(void 0),o(void 0),d({isTransitioning:!1})})}),t(()=>p(L));return}g?(h&&h.resolve(),g.skipTransition(),y({state:k,currentLocation:C.currentLocation,nextLocation:C.nextLocation})):(o(k),d({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}))},[e.window,t,g,h]);N.useLayoutEffect(()=>e.subscribe(v),[e,v]),N.useEffect(()=>{c.isTransitioning&&!c.flushSync&&f(new AO)},[c]),N.useEffect(()=>{if(h&&i&&e.window){let k=i,S=h.promise,E=e.window.document.startViewTransition(()=>fe(null,null,function*(){N.startTransition(()=>n(k)),yield S}));E.finished.finally(()=>{f(void 0),p(void 0),o(void 0),d({isTransitioning:!1})}),p(E)}},[i,h,e.window]),N.useEffect(()=>{h&&i&&s.location.key===i.location.key&&h.resolve()},[h,g,s.location,i]),N.useEffect(()=>{!c.isTransitioning&&b&&(o(b.state),d({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),y(void 0))},[c.isTransitioning,b]);let _=N.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:k=>e.navigate(k),push:(k,S,E)=>e.navigate(k,{state:S,preventScrollReset:E==null?void 0:E.preventScrollReset}),replace:(k,S,E)=>e.navigate(k,{replace:!0,state:S,preventScrollReset:E==null?void 0:E.preventScrollReset})}),[e]),T=e.basename||"/",A=N.useMemo(()=>({router:e,navigator:_,static:!1,basename:T}),[e,_,T]);return N.createElement(N.Fragment,null,N.createElement(Ko.Provider,{value:A},N.createElement(gu.Provider,{value:s},N.createElement(R_.Provider,{value:j.current},N.createElement($x.Provider,{value:c},N.createElement(LO,{basename:T,location:s.location,navigationType:s.historyAction,navigator:_},N.createElement(MO,{routes:e.routes,future:e.future,state:s})))))),null)}var MO=N.memo(RO);function RO({routes:e,future:t,state:s}){return xO(e,void 0,s,t)}function PO(e){return gO(e.context)}function LO({basename:e="/",children:t=null,location:s,navigationType:n="POP",navigator:i,static:o=!1}){Vt(!pu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof s=="string"&&(s=Zi(s));let{pathname:h="/",search:f="",hash:g="",state:p=null,key:b="default"}=s,y=N.useMemo(()=>{let j=Na(h,c);return j==null?null:{location:{pathname:j,search:f,hash:g,state:p,key:b},navigationType:n}},[c,h,f,g,p,b,n]);return Ws(y!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:N.createElement(xr.Provider,{value:d},N.createElement(cm.Provider,{children:t,value:y}))}var Nf="get",_f="application/x-www-form-urlencoded";function um(e){return e!=null&&typeof e.tagName=="string"}function BO(e){return um(e)&&e.tagName.toLowerCase()==="button"}function FO(e){return um(e)&&e.tagName.toLowerCase()==="form"}function zO(e){return um(e)&&e.tagName.toLowerCase()==="input"}function UO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function HO(e,t){return e.button===0&&(!t||t==="_self")&&!UO(e)}var Uh=null;function $O(){if(Uh===null)try{new FormData(document.createElement("form"),0),Uh=!1}catch(e){Uh=!0}return Uh}var VO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function t0(e){return e!=null&&!VO.has(e)?(Ws(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_f}"`),null):e}function IO(e,t){let s,n,i,o,c;if(FO(e)){let d=e.getAttribute("action");n=d?Na(d,t):null,s=e.getAttribute("method")||Nf,i=t0(e.getAttribute("enctype"))||_f,o=new FormData(e)}else if(BO(e)||zO(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||d.getAttribute("action");if(n=h?Na(h,t):null,s=e.getAttribute("formmethod")||d.getAttribute("method")||Nf,i=t0(e.getAttribute("formenctype"))||t0(d.getAttribute("enctype"))||_f,o=new FormData(d,e),!$O()){let{name:f,type:g,value:p}=e;if(g==="image"){let b=f?`${f}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else f&&o.append(f,p)}}else{if(um(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Nf,n=null,i=_f,c=e}return o&&i==="text/plain"&&(c=o,o=void 0),{action:n,method:s.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wx(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function qO(e,t,s){let n=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${s}`:t&&Na(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${s}`,n}function WO(e,t){return fe(this,null,function*(){if(e.id in t)return t[e.id];try{let s=yield import(e.module);return t[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function YO(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function GO(e,t,s){return fe(this,null,function*(){let n=yield Promise.all(e.map(i=>fe(null,null,function*(){let o=t.routes[i.route.id];if(o){let c=yield WO(o,s);return c.links?c.links():[]}return[]})));return ZO(n.flat(1).filter(YO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?ie(F({},i),{rel:"prefetch",as:"style"}):ie(F({},i),{rel:"prefetch"})))})}function v1(e,t,s,n,i,o){let c=(h,f)=>s[f]?h.route.id!==s[f].route.id:!0,d=(h,f)=>{var g;return s[f].pathname!==h.pathname||((g=s[f].route.path)==null?void 0:g.endsWith("*"))&&s[f].params["*"]!==h.params["*"]};return o==="assets"?t.filter((h,f)=>c(h,f)||d(h,f)):o==="data"?t.filter((h,f)=>{var p;let g=n.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=s[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function XO(e,t,{includeHydrateFallback:s}={}){return KO(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function KO(e){return[...new Set(e)]}function QO(e){let t={},s=Object.keys(e).sort();for(let n of s)t[n]=e[n];return t}function ZO(e,t){let s=new Set;return new Set(t),e.reduce((n,i)=>{let o=JSON.stringify(QO(i));return s.has(o)||(s.add(o),n.push({key:o,link:i})),n},[])}function F_(){let e=N.useContext(Ko);return Wx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function JO(){let e=N.useContext(gu);return Wx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Yx=N.createContext(void 0);Yx.displayName="FrameworkContext";function z_(){let e=N.useContext(Yx);return Wx(e,"You must render this element inside a <HydratedRouter> element"),e}function eM(e,t){let s=N.useContext(Yx),[n,i]=N.useState(!1),[o,c]=N.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:p}=t,b=N.useRef(null);N.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let v=T=>{T.forEach(A=>{c(A.isIntersecting)})},_=new IntersectionObserver(v,{threshold:.5});return b.current&&_.observe(b.current),()=>{_.disconnect()}}},[e]),N.useEffect(()=>{if(n){let v=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(v)}}},[n]);let y=()=>{i(!0)},j=()=>{i(!1),c(!1)};return s?e!=="intent"?[o,b,{}]:[o,b,{onFocus:Cd(d,y),onBlur:Cd(h,j),onMouseEnter:Cd(f,y),onMouseLeave:Cd(g,j),onTouchStart:Cd(p,y)}]:[!1,b,{}]}function Cd(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function tM(s){var n=s,{page:e}=n,t=$e(n,["page"]);let{router:i}=F_(),o=N.useMemo(()=>Ai(i.routes,e,i.basename),[i.routes,e,i.basename]);return o?N.createElement(nM,F({page:e,matches:o},t)):null}function sM(e){let{manifest:t,routeModules:s}=z_(),[n,i]=N.useState([]);return N.useEffect(()=>{let o=!1;return GO(e,t,s).then(c=>{o||i(c)}),()=>{o=!0}},[e,t,s]),n}function nM(n){var i=n,{page:e,matches:t}=i,s=$e(i,["page","matches"]);let o=Ji(),{manifest:c,routeModules:d}=z_(),{basename:h}=F_(),{loaderData:f,matches:g}=JO(),p=N.useMemo(()=>v1(e,t,g,c,o,"data"),[e,t,g,c,o]),b=N.useMemo(()=>v1(e,t,g,c,o,"assets"),[e,t,g,c,o]),y=N.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let _=new Set,T=!1;if(t.forEach(k=>{var E;let S=c.routes[k.route.id];!S||!S.hasLoader||(!p.some(C=>C.route.id===k.route.id)&&k.route.id in f&&((E=d[k.route.id])!=null&&E.shouldRevalidate)||S.hasClientLoader?T=!0:_.add(k.route.id))}),_.size===0)return[];let A=qO(e,h,"data");return T&&_.size>0&&A.searchParams.set("_routes",t.filter(k=>_.has(k.route.id)).map(k=>k.route.id).join(",")),[A.pathname+A.search]},[h,f,o,c,p,t,e,d]),j=N.useMemo(()=>XO(b,c),[b,c]),v=sM(b);return N.createElement(N.Fragment,null,y.map(_=>N.createElement("link",F({key:_,rel:"prefetch",as:"fetch",href:_},s))),j.map(_=>N.createElement("link",F({key:_,rel:"modulepreload",href:_},s))),v.map(({key:_,link:T})=>N.createElement("link",F({key:_},T))))}function aM(...e){return t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var U_=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{U_&&(window.__reactRouterVersion="7.7.1")}catch(e){}function rM(e,t){return WA({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:uA({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||iM(),routes:e,mapRouteProperties:EO,hydrationRouteProperties:DO,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function iM(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=ie(F({},e),{errors:oM(e.errors)})),e}function oM(e){if(!e)return null;let t=Object.entries(e),s={};for(let[n,i]of t)if(i&&i.__type==="RouteErrorResponse")s[n]=new Pf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let c=new o(i.message);c.stack="",s[n]=c}catch(c){}}if(s[n]==null){let o=new Error(i.message);o.stack="",s[n]=o}}else s[n]=i;return s}var H_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$_=N.forwardRef(function(j,y){var v=j,{onClick:t,discover:s="render",prefetch:n="none",relative:i,reloadDocument:o,replace:c,state:d,target:h,to:f,preventScrollReset:g,viewTransition:p}=v,b=$e(v,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:_}=N.useContext(xr),T=typeof f=="string"&&H_.test(f),A,k=!1;if(typeof f=="string"&&T&&(A=f,U_))try{let I=new URL(window.location.href),G=f.startsWith("//")?new URL(I.protocol+f):new URL(f),U=Na(G.pathname,_);G.origin===I.origin&&U!=null?f=U+G.search+G.hash:k=!0}catch(I){Ws(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=hO(f,{relative:i}),[E,C,z]=eM(n,b),L=dM(f,{replace:c,state:d,target:h,preventScrollReset:g,relative:i,viewTransition:p});function R(I){t&&t(I),I.defaultPrevented||L(I)}let V=N.createElement("a",ie(F(F({},b),z),{href:A||S,onClick:k||o?t:R,ref:aM(y,C),target:h,"data-discover":!T&&s==="render"?"true":void 0}));return E&&!T?N.createElement(N.Fragment,null,V,N.createElement(tM,{page:S})):V});$_.displayName="Link";var V_=N.forwardRef(function(p,g){var b=p,{"aria-current":t="page",caseSensitive:s=!1,className:n="",end:i=!1,style:o,to:c,viewTransition:d,children:h}=b,f=$e(b,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let y=xu(c,{relative:f.relative}),j=Ji(),v=N.useContext(gu),{navigator:_,basename:T}=N.useContext(xr),A=v!=null&&gM(y)&&d===!0,k=_.encodeLocation?_.encodeLocation(y).pathname:y.pathname,S=j.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(S=S.toLowerCase(),E=E?E.toLowerCase():null,k=k.toLowerCase()),E&&T&&(E=Na(E,T)||E);const C=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let z=S===k||!i&&S.startsWith(k)&&S.charAt(C)==="/",L=E!=null&&(E===k||!i&&E.startsWith(k)&&E.charAt(k.length)==="/"),R={isActive:z,isPending:L,isTransitioning:A},V=z?t:void 0,I;typeof n=="function"?I=n(R):I=[n,z?"active":null,L?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let G=typeof o=="function"?o(R):o;return N.createElement($_,ie(F({},f),{"aria-current":V,className:I,ref:g,style:G,to:c,viewTransition:d}),typeof h=="function"?h(R):h)});V_.displayName="NavLink";var lM=N.forwardRef((j,y)=>{var v=j,{discover:e="render",fetcherKey:t,navigate:s,reloadDocument:n,replace:i,state:o,method:c=Nf,action:d,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:p}=v,b=$e(v,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let _=fM(),T=mM(d,{relative:f}),A=c.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&H_.test(d),S=E=>{if(h&&h(E),E.defaultPrevented)return;E.preventDefault();let C=E.nativeEvent.submitter,z=(C==null?void 0:C.getAttribute("formmethod"))||c;_(C||E.currentTarget,{fetcherKey:t,method:z,navigate:s,replace:i,state:o,relative:f,preventScrollReset:g,viewTransition:p})};return N.createElement("form",ie(F({ref:y,method:A,action:T,onSubmit:n?h:S},b),{"data-discover":!k&&e==="render"?"true":void 0}))});lM.displayName="Form";function cM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I_(e){let t=N.useContext(Ko);return Vt(t,cM(e)),t}function dM(e,{target:t,replace:s,state:n,preventScrollReset:i,relative:o,viewTransition:c}={}){let d=dm(),h=Ji(),f=xu(e,{relative:o});return N.useCallback(g=>{if(HO(g,t)){g.preventDefault();let p=s!==void 0?s:Fi(h)===Fi(f);d(e,{replace:p,state:n,preventScrollReset:i,relative:o,viewTransition:c})}},[h,d,f,s,n,t,e,i,o,c])}var uM=0,hM=()=>`__${String(++uM)}__`;function fM(){let{router:e}=I_("useSubmit"),{basename:t}=N.useContext(xr),s=SO();return N.useCallback((o,...c)=>fe(null,[o,...c],function*(n,i={}){let{action:d,method:h,encType:f,formData:g,body:p}=IO(n,t);if(i.navigate===!1){let b=i.fetcherKey||hM();yield e.fetch(b,s,i.action||d,{preventScrollReset:i.preventScrollReset,formData:g,body:p,formMethod:i.method||h,formEncType:i.encType||f,flushSync:i.flushSync})}else yield e.navigate(i.action||d,{preventScrollReset:i.preventScrollReset,formData:g,body:p,formMethod:i.method||h,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:s,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,s])}function mM(e,{relative:t}={}){let{basename:s}=N.useContext(xr),n=N.useContext($a);Vt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o=F({},xu(e||".",{relative:t})),c=Ji();if(e==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(p=>p).forEach(p=>d.append("index",p));let g=d.toString();o.search=g?`?${g}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(o.pathname=o.pathname==="/"?s:hr([s,o.pathname])),Fi(o)}function gM(e,{relative:t}={}){let s=N.useContext($x);Vt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=I_("useViewTransitionState"),i=xu(e,{relative:t});if(!s.isTransitioning)return!1;let o=Na(s.currentLocation.pathname,n)||s.currentLocation.pathname,c=Na(s.nextLocation.pathname,n)||s.nextLocation.pathname;return Rf(i.pathname,c)!=null||Rf(i.pathname,o)!=null}var hm=H2();const q_=Sx(hm);function pM(e){return N.createElement(OO,F({flushSync:hm.flushSync},e))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,n)=>n?n.toUpperCase():s.toLowerCase()),w1=e=>{const t=yM(e);return t.charAt(0).toUpperCase()+t.slice(1)},W_=(...e)=>e.filter((t,s,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===s).join(" ").trim(),bM=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=N.forwardRef((f,h)=>{var g=f,{color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:c}=g,d=$e(g,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return N.createElement("svg",F(F(ie(F({ref:h},vM),{width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:W_("lucide",i)}),!o&&!bM(d)&&{"aria-hidden":"true"}),d),[...c.map(([p,b])=>N.createElement(p,b)),...Array.isArray(o)?o:[o]])});/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(e,t)=>{const s=N.forwardRef((c,o)=>{var d=c,{className:n}=d,i=$e(d,["className"]);return N.createElement(wM,F({ref:o,iconNode:t,className:W_(`lucide-${xM(w1(e))}`,`lucide-${e}`,n)},i))});return s.displayName=w1(e),s};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],NM=ct("activity",jM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],TM=ct("archive",_M);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],tu=ct("arrow-left",SM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Y_=ct("bell",kM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],EM=ct("book-open",CM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Os=ct("calendar",DM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],su=ct("chart-column",AM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],MM=ct("chart-pie",OM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],G_=ct("check",RM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Gx=ct("chevron-down",PM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BM=ct("chevron-right",LM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zM=ct("chevron-up",FM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],X_=ct("chevrons-up-down",UM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zi=ct("circle-alert",HM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],K_=ct("circle-check-big",$M);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xx=ct("circle-check",VM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ui=ct("clock",IM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],WM=ct("crown",qM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Hi=ct("dollar-sign",YM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],dc=ct("download",GM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],KM=ct("ellipsis-vertical",XM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],K0=ct("external-link",QM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Kx=ct("eye",ZM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ds=ct("file-text",JM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Hh=ct("file",e5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Xl=ct("folder-open",t5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],pc=ct("funnel",s5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],a5=ct("grid-3x3",n5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],i5=ct("image",r5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],l5=ct("layout-dashboard",o5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Hd=ct("link",c5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],u5=ct("list",d5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Q0=ct("loader-circle",h5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],m5=ct("log-out",f5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],p5=ct("map-pin",g5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],y5=ct("menu",x5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],v5=ct("pause",b5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],j5=ct("pen",w5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],_5=ct("piggy-bank",N5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],S5=ct("play",T5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$i=ct("plus",k5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],E5=ct("refresh-cw",C5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],A5=ct("save",D5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Vi=ct("search",O5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qx=ct("settings",M5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Q_=ct("shield",R5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ci=ct("square-check-big",P5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],fm=ct("square-pen",L5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],F5=ct("square",B5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Zx=ct("target",z5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],eo=ct("trash-2",U5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],j1=ct("trending-down",H5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],tc=ct("trending-up",$5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xc=ct("triangle-alert",V5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Z_=ct("upload",I5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],N1=ct("user-plus",q5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nu=ct("user",W5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Cn=ct("users",Y5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],_1=ct("video",G5);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],J_=ct("x",X5),K5=[{name:"Dashboard",href:"/",icon:l5,subtitle:"Tổng quan hệ thống"},{name:"Dự án",href:"/projects",icon:Xl,subtitle:"Quản lý dự án R&D"},{name:"Công việc",href:"/tasks",icon:Ci,subtitle:"Quản lý task và tiến độ"},{name:"Tài liệu",href:"/documents",icon:Ds,subtitle:"Quản lý biểu mẫu và tài liệu"},{name:"Ngân sách",href:"/budget",icon:Hi,subtitle:"Quản lý chi phí và ngân sách"},{name:"Rủi ro",href:"/risk",icon:xc,subtitle:"Quản lý rủi ro dự án"},{name:"Lịch họp",href:"/meetings",icon:Os,subtitle:"Quản lý cuộc họp và gate review"},{name:"Báo cáo",href:"/reports",icon:su,subtitle:"Báo cáo và thống kê"},{name:"Cài đặt",href:"/settings",icon:Qx,subtitle:"Cài đặt hệ thống"}],T1=({collapsed:e=!1,onToggle:t})=>{const s=Ji();return a.jsxs("div",{className:`flex flex-col bg-white shadow-lg border-r border-gray-200 transition-all duration-300 ${e?"w-20":"w-85"}`,children:[a.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[!e&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden",children:a.jsx("img",{src:"https://ctuav.vn/wp-content/uploads/2024/08/Logo-moi-ctuav-e1755917887778.png",alt:"R&D",className:"w-full h-full object-contain bg-white"})}),a.jsx("span",{className:"text-xl font-bold text-gray-800",children:"R&D Management"})]}),e&&a.jsx("div",{className:"w-12 h-10 bg-blue-600 rounded-lg flex items-center justify-center mx-auto",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"RD"})})]}),a.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:K5.map(n=>{const i=s.pathname===n.href;return a.jsxs(V_,{to:n.href,className:`
                group flex items-start rounded-lg transition-all duration-200 relative
                ${e?"px-2 py-3 justify-center":"px-3 py-3"}
                ${i?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}
              `,title:e?n.name:void 0,children:[a.jsx(n.icon,{className:`
                  h-5 w-5 transition-colors duration-200 flex-shrink-0
                  ${e?"mr-0":"mr-3 mt-0.5"}
                  ${i?"text-blue-600":"text-gray-500 group-hover:text-gray-700"}
                `}),!e&&a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium text-sm",children:n.name}),a.jsx("span",{className:`text-xs mt-0.5 ${i?"text-blue-600":"text-gray-500"}`,children:n.subtitle})]}),e&&a.jsxs("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:[n.name,a.jsx("div",{className:"absolute top-1/2 left-0 transform -translate-y-1/2 -translate-x-1 w-2 h-2 bg-gray-800 rotate-45"})]})]},n.name)})}),a.jsx("div",{className:"p-4 border-t border-gray-200",children:a.jsxs("div",{className:`flex items-center ${e?"justify-center":"space-x-3"}`,children:[a.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium text-sm",children:"AU"})}),!e&&a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Admin User"}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:"System Administrator"})]})]})})]})};function sa(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e==null||e(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function S1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Io(...e){return t=>{let s=!1;const n=e.map(i=>{const o=S1(i,t);return!s&&typeof o=="function"&&(s=!0),o});if(s)return()=>{for(let i=0;i<n.length;i++){const o=n[i];typeof o=="function"?o():S1(e[i],null)}}}}function xn(...e){return N.useCallback(Io(...e),e)}function eT(e,t){const s=N.createContext(t),n=o=>{const f=o,{children:c}=f,d=$e(f,["children"]),h=N.useMemo(()=>d,Object.values(d));return a.jsx(s.Provider,{value:h,children:c})};n.displayName=e+"Provider";function i(o){const c=N.useContext(s);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,i]}function mm(e,t=[]){let s=[];function n(o,c){const d=N.createContext(c),h=s.length;s=[...s,c];const f=p=>{var A;const T=p,{scope:b,children:y}=T,j=$e(T,["scope","children"]),v=((A=b==null?void 0:b[e])==null?void 0:A[h])||d,_=N.useMemo(()=>j,Object.values(j));return a.jsx(v.Provider,{value:_,children:y})};f.displayName=o+"Provider";function g(p,b){var v;const y=((v=b==null?void 0:b[e])==null?void 0:v[h])||d,j=N.useContext(y);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[f,g]}const i=()=>{const o=s.map(c=>N.createContext(c));return function(d){const h=(d==null?void 0:d[e])||o;return N.useMemo(()=>({[`__scope${e}`]:ie(F({},d),{[e]:h})}),[d,h])}};return i.scopeName=e,[n,Q5(i,...t)]}function Q5(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const c=n.reduce((d,{useScope:h,scopeName:f})=>{const p=h(o)[`__scope${f}`];return F(F({},d),p)},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return s.scopeName=t.scopeName,s}function yu(e){const t=J5(e),s=N.forwardRef((n,i)=>{const f=n,{children:o}=f,c=$e(f,["children"]),d=N.Children.toArray(o),h=d.find(tR);if(h){const g=h.props.children,p=d.map(b=>b===h?N.Children.count(g)>1?N.Children.only(null):N.isValidElement(g)?g.props.children:null:b);return a.jsx(t,ie(F({},c),{ref:i,children:N.isValidElement(g)?N.cloneElement(g,void 0,p):null}))}return a.jsx(t,ie(F({},c),{ref:i,children:o}))});return s.displayName=`${e}.Slot`,s}var Z5=yu("Slot");function J5(e){const t=N.forwardRef((s,n)=>{const c=s,{children:i}=c,o=$e(c,["children"]);if(N.isValidElement(i)){const d=nR(i),h=sR(o,i.props);return i.type!==N.Fragment&&(h.ref=n?Io(n,d):d),N.cloneElement(i,h)}return N.Children.count(i)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eR=Symbol("radix.slottable");function tR(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eR}function sR(e,t){const s=F({},t);for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?s[n]=(...d)=>{const h=o(...d);return i(...d),h}:i&&(s[n]=i):n==="style"?s[n]=F(F({},i),o):n==="className"&&(s[n]=[i,o].filter(Boolean).join(" "))}return F(F({},e),s)}function nR(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var aR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Jt=aR.reduce((e,t)=>{const s=yu(`Primitive.${t}`),n=N.forwardRef((i,o)=>{const f=i,{asChild:c}=f,d=$e(f,["asChild"]),h=c?s:t;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(h,ie(F({},d),{ref:o}))});return n.displayName=`Primitive.${t}`,ie(F({},e),{[t]:n})},{});function tT(e,t){e&&hm.flushSync(()=>e.dispatchEvent(t))}function Ii(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...s)=>{var n;return(n=t.current)==null?void 0:n.call(t,...s)},[])}function sT(e,t=globalThis==null?void 0:globalThis.document){const s=Ii(e);N.useEffect(()=>{const n=i=>{i.key==="Escape"&&s(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[s,t])}var rR="DismissableLayer",Z0="dismissableLayer.update",iR="dismissableLayer.pointerDownOutside",oR="dismissableLayer.focusOutside",k1,nT=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jx=N.forwardRef((e,t)=>{var L;const z=e,{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:c,onDismiss:d}=z,h=$e(z,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),f=N.useContext(nT),[g,p]=N.useState(null),b=(L=g==null?void 0:g.ownerDocument)!=null?L:globalThis==null?void 0:globalThis.document,[,y]=N.useState({}),j=xn(t,R=>p(R)),v=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),T=v.indexOf(_),A=g?v.indexOf(g):-1,k=f.layersWithOutsidePointerEventsDisabled.size>0,S=A>=T,E=dR(R=>{const V=R.target,I=[...f.branches].some(G=>G.contains(V));!S||I||(i==null||i(R),c==null||c(R),R.defaultPrevented||d==null||d())},b),C=uR(R=>{const V=R.target;[...f.branches].some(G=>G.contains(V))||(o==null||o(R),c==null||c(R),R.defaultPrevented||d==null||d())},b);return sT(R=>{A===f.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&d&&(R.preventDefault(),d()))},b),N.useEffect(()=>{if(g)return s&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(k1=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),C1(),()=>{s&&f.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=k1)}},[g,b,s,f]),N.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),C1())},[g,f]),N.useEffect(()=>{const R=()=>y({});return document.addEventListener(Z0,R),()=>document.removeEventListener(Z0,R)},[]),a.jsx(Jt.div,ie(F({},h),{ref:j,style:F({pointerEvents:k?S?"auto":"none":void 0},e.style),onFocusCapture:sa(e.onFocusCapture,C.onFocusCapture),onBlurCapture:sa(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:sa(e.onPointerDownCapture,E.onPointerDownCapture)}))});Jx.displayName=rR;var lR="DismissableLayerBranch",cR=N.forwardRef((e,t)=>{const s=N.useContext(nT),n=N.useRef(null),i=xn(t,n);return N.useEffect(()=>{const o=n.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),a.jsx(Jt.div,ie(F({},e),{ref:i}))});cR.displayName=lR;function dR(e,t=globalThis==null?void 0:globalThis.document){const s=Ii(e),n=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const o=d=>{if(d.target&&!n.current){let h=function(){aT(iR,s,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=h,t.addEventListener("click",i.current,{once:!0})):h()}else t.removeEventListener("click",i.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function uR(e,t=globalThis==null?void 0:globalThis.document){const s=Ii(e),n=N.useRef(!1);return N.useEffect(()=>{const i=o=>{o.target&&!n.current&&aT(oR,s,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function C1(){const e=new CustomEvent(Z0);document.dispatchEvent(e)}function aT(e,t,s,{discrete:n}){const i=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),n?tT(i,o):i.dispatchEvent(o)}var s0=0;function rT(){N.useEffect(()=>{var t,s;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:E1()),document.body.insertAdjacentElement("beforeend",(s=e[1])!=null?s:E1()),s0++,()=>{s0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),s0--}},[])}function E1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var n0="focusScope.autoFocusOnMount",a0="focusScope.autoFocusOnUnmount",D1={bubbles:!1,cancelable:!0},hR="FocusScope",gm=N.forwardRef((e,t)=>{const v=e,{loop:s=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:o}=v,c=$e(v,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[d,h]=N.useState(null),f=Ii(i),g=Ii(o),p=N.useRef(null),b=xn(t,_=>h(_)),y=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(n){let _=function(S){if(y.paused||!d)return;const E=S.target;d.contains(E)?p.current=E:Ei(p.current,{select:!0})},T=function(S){if(y.paused||!d)return;const E=S.relatedTarget;E!==null&&(d.contains(E)||Ei(p.current,{select:!0}))},A=function(S){if(document.activeElement===document.body)for(const C of S)C.removedNodes.length>0&&Ei(d)};document.addEventListener("focusin",_),document.addEventListener("focusout",T);const k=new MutationObserver(A);return d&&k.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",T),k.disconnect()}}},[n,d,y.paused]),N.useEffect(()=>{if(d){O1.add(y);const _=document.activeElement;if(!d.contains(_)){const A=new CustomEvent(n0,D1);d.addEventListener(n0,f),d.dispatchEvent(A),A.defaultPrevented||(fR(yR(iT(d)),{select:!0}),document.activeElement===_&&Ei(d))}return()=>{d.removeEventListener(n0,f),setTimeout(()=>{const A=new CustomEvent(a0,D1);d.addEventListener(a0,g),d.dispatchEvent(A),A.defaultPrevented||Ei(_!=null?_:document.body,{select:!0}),d.removeEventListener(a0,g),O1.remove(y)},0)}}},[d,f,g,y]);const j=N.useCallback(_=>{if(!s&&!n||y.paused)return;const T=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,A=document.activeElement;if(T&&A){const k=_.currentTarget,[S,E]=mR(k);S&&E?!_.shiftKey&&A===E?(_.preventDefault(),s&&Ei(S,{select:!0})):_.shiftKey&&A===S&&(_.preventDefault(),s&&Ei(E,{select:!0})):A===k&&_.preventDefault()}},[s,n,y.paused]);return a.jsx(Jt.div,ie(F({tabIndex:-1},c),{ref:b,onKeyDown:j}))});gm.displayName=hR;function fR(e,{select:t=!1}={}){const s=document.activeElement;for(const n of e)if(Ei(n,{select:t}),document.activeElement!==s)return}function mR(e){const t=iT(e),s=A1(t,e),n=A1(t.reverse(),e);return[s,n]}function iT(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function A1(e,t){for(const s of e)if(!gR(s,{upTo:t}))return s}function gR(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function pR(e){return e instanceof HTMLInputElement&&"select"in e}function Ei(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&pR(e)&&t&&e.select()}}var O1=xR();function xR(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=M1(e,t),e.unshift(t)},remove(t){var s;e=M1(e,t),(s=e[0])==null||s.resume()}}}function M1(e,t){const s=[...e],n=s.indexOf(t);return n!==-1&&s.splice(n,1),s}function yR(e){return e.filter(t=>t.tagName!=="A")}var gr=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},bR=U2[" useId ".trim().toString()]||(()=>{}),vR=0;function na(e){const[t,s]=N.useState(bR());return gr(()=>{s(n=>n!=null?n:String(vR++))},[e]),e||(t?`radix-${t}`:"")}const wR=["top","right","bottom","left"],qi=Math.min,ta=Math.max,Bf=Math.round,$h=Math.floor,fr=e=>({x:e,y:e}),jR={left:"right",right:"left",bottom:"top",top:"bottom"},NR={start:"end",end:"start"};function J0(e,t,s){return ta(e,qi(t,s))}function Xr(e,t){return typeof e=="function"?e(t):e}function Kr(e){return e.split("-")[0]}function yc(e){return e.split("-")[1]}function ey(e){return e==="x"?"y":"x"}function ty(e){return e==="y"?"height":"width"}const _R=new Set(["top","bottom"]);function cr(e){return _R.has(Kr(e))?"y":"x"}function sy(e){return ey(cr(e))}function TR(e,t,s){s===void 0&&(s=!1);const n=yc(e),i=sy(e),o=ty(i);let c=i==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(c=Ff(c)),[c,Ff(c)]}function SR(e){const t=Ff(e);return[ex(e),t,ex(t)]}function ex(e){return e.replace(/start|end/g,t=>NR[t])}const R1=["left","right"],P1=["right","left"],kR=["top","bottom"],CR=["bottom","top"];function ER(e,t,s){switch(e){case"top":case"bottom":return s?t?P1:R1:t?R1:P1;case"left":case"right":return t?kR:CR;default:return[]}}function DR(e,t,s,n){const i=yc(e);let o=ER(Kr(e),s==="start",n);return i&&(o=o.map(c=>c+"-"+i),t&&(o=o.concat(o.map(ex)))),o}function Ff(e){return e.replace(/left|right|bottom|top/g,t=>jR[t])}function AR(e){return F({top:0,right:0,bottom:0,left:0},e)}function oT(e){return typeof e!="number"?AR(e):{top:e,right:e,bottom:e,left:e}}function zf(e){const{x:t,y:s,width:n,height:i}=e;return{width:n,height:i,top:s,left:t,right:t+n,bottom:s+i,x:t,y:s}}function L1(e,t,s){let{reference:n,floating:i}=e;const o=cr(t),c=sy(t),d=ty(c),h=Kr(t),f=o==="y",g=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,b=n[d]/2-i[d]/2;let y;switch(h){case"top":y={x:g,y:n.y-i.height};break;case"bottom":y={x:g,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:p};break;case"left":y={x:n.x-i.width,y:p};break;default:y={x:n.x,y:n.y}}switch(yc(t)){case"start":y[c]-=b*(s&&f?-1:1);break;case"end":y[c]+=b*(s&&f?-1:1);break}return y}const OR=(e,t,s)=>fe(null,null,function*(){const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:c}=s,d=o.filter(Boolean),h=yield c.isRTL==null?void 0:c.isRTL(t);let f=yield c.getElementRects({reference:e,floating:t,strategy:i}),{x:g,y:p}=L1(f,n,h),b=n,y={},j=0;for(let v=0;v<d.length;v++){const{name:_,fn:T}=d[v],{x:A,y:k,data:S,reset:E}=yield T({x:g,y:p,initialPlacement:n,placement:b,strategy:i,middlewareData:y,rects:f,platform:c,elements:{reference:e,floating:t}});g=A!=null?A:g,p=k!=null?k:p,y=ie(F({},y),{[_]:F(F({},y[_]),S)}),E&&j<=50&&(j++,typeof E=="object"&&(E.placement&&(b=E.placement),E.rects&&(f=E.rects===!0?yield c.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:g,y:p}=L1(f,b,h)),v=-1)}return{x:g,y:p,placement:b,strategy:i,middlewareData:y}});function au(e,t){return fe(this,null,function*(){var s;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:c,elements:d,strategy:h}=e,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:p="floating",altBoundary:b=!1,padding:y=0}=Xr(t,e),j=oT(y),_=d[b?p==="floating"?"reference":"floating":p],T=zf(yield o.getClippingRect({element:(s=yield o.isElement==null?void 0:o.isElement(_))==null||s?_:_.contextElement||(yield o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:f,rootBoundary:g,strategy:h})),A=p==="floating"?{x:n,y:i,width:c.floating.width,height:c.floating.height}:c.reference,k=yield o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating),S=(yield o.isElement==null?void 0:o.isElement(k))?(yield o.getScale==null?void 0:o.getScale(k))||{x:1,y:1}:{x:1,y:1},E=zf(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:A,offsetParent:k,strategy:h}):A);return{top:(T.top-E.top+j.top)/S.y,bottom:(E.bottom-T.bottom+j.bottom)/S.y,left:(T.left-E.left+j.left)/S.x,right:(E.right-T.right+j.right)/S.x}})}const MR=e=>({name:"arrow",options:e,fn(s){return fe(this,null,function*(){const{x:n,y:i,placement:o,rects:c,platform:d,elements:h,middlewareData:f}=s,{element:g,padding:p=0}=Xr(e,s)||{};if(g==null)return{};const b=oT(p),y={x:n,y:i},j=sy(o),v=ty(j),_=yield d.getDimensions(g),T=j==="y",A=T?"top":"left",k=T?"bottom":"right",S=T?"clientHeight":"clientWidth",E=c.reference[v]+c.reference[j]-y[j]-c.floating[v],C=y[j]-c.reference[j],z=yield d.getOffsetParent==null?void 0:d.getOffsetParent(g);let L=z?z[S]:0;(!L||!(yield d.isElement==null?void 0:d.isElement(z)))&&(L=h.floating[S]||c.floating[v]);const R=E/2-C/2,V=L/2-_[v]/2-1,I=qi(b[A],V),G=qi(b[k],V),U=I,W=L-_[v]-G,K=L/2-_[v]/2+R,$=J0(U,K,W),ee=!f.arrow&&yc(o)!=null&&K!==$&&c.reference[v]/2-(K<U?I:G)-_[v]/2<0,se=ee?K<U?K-U:K-W:0;return{[j]:y[j]+se,data:F({[j]:$,centerOffset:K-$-se},ee&&{alignmentOffset:se}),reset:ee}})}}),RR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(s){return fe(this,null,function*(){var n,i;const{placement:o,middlewareData:c,rects:d,initialPlacement:h,platform:f,elements:g}=s,K=Xr(e,s),{mainAxis:p=!0,crossAxis:b=!0,fallbackPlacements:y,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:_=!0}=K,T=$e(K,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const A=Kr(o),k=cr(h),S=Kr(h)===h,E=yield f.isRTL==null?void 0:f.isRTL(g.floating),C=y||(S||!_?[Ff(h)]:SR(h)),z=v!=="none";!y&&z&&C.push(...DR(h,_,v,E));const L=[h,...C],R=yield au(s,T),V=[];let I=((i=c.flip)==null?void 0:i.overflows)||[];if(p&&V.push(R[A]),b){const $=TR(o,d,E);V.push(R[$[0]],R[$[1]])}if(I=[...I,{placement:o,overflows:V}],!V.every($=>$<=0)){var G,U;const $=(((G=c.flip)==null?void 0:G.index)||0)+1,ee=L[$];if(ee&&(!(b==="alignment"?k!==cr(ee):!1)||I.every(P=>cr(P.placement)===k?P.overflows[0]>0:!0)))return{data:{index:$,overflows:I},reset:{placement:ee}};let se=(U=I.filter(Ne=>Ne.overflows[0]<=0).sort((Ne,P)=>Ne.overflows[1]-P.overflows[1])[0])==null?void 0:U.placement;if(!se)switch(j){case"bestFit":{var W;const Ne=(W=I.filter(P=>{if(z){const ne=cr(P.placement);return ne===k||ne==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(ne=>ne>0).reduce((ne,ge)=>ne+ge,0)]).sort((P,ne)=>P[1]-ne[1])[0])==null?void 0:W[0];Ne&&(se=Ne);break}case"initialPlacement":se=h;break}if(o!==se)return{reset:{placement:se}}}return{}})}}};function B1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function F1(e){return wR.some(t=>e[t]>=0)}const PR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(s){return fe(this,null,function*(){const{rects:n}=s,c=Xr(e,s),{strategy:i="referenceHidden"}=c,o=$e(c,["strategy"]);switch(i){case"referenceHidden":{const d=yield au(s,ie(F({},o),{elementContext:"reference"})),h=B1(d,n.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:F1(h)}}}case"escaped":{const d=yield au(s,ie(F({},o),{altBoundary:!0})),h=B1(d,n.floating);return{data:{escapedOffsets:h,escaped:F1(h)}}}default:return{}}})}}},lT=new Set(["left","top"]);function LR(e,t){return fe(this,null,function*(){const{placement:s,platform:n,elements:i}=e,o=yield n.isRTL==null?void 0:n.isRTL(i.floating),c=Kr(s),d=yc(s),h=cr(s)==="y",f=lT.has(c)?-1:1,g=o&&h?-1:1,p=Xr(t,e);let{mainAxis:b,crossAxis:y,alignmentAxis:j}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return d&&typeof j=="number"&&(y=d==="end"?j*-1:j),h?{x:y*g,y:b*f}:{x:b*f,y:y*g}})}const BR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(s){return fe(this,null,function*(){var n,i;const{x:o,y:c,placement:d,middlewareData:h}=s,f=yield LR(s,e);return d===((n=h.offset)==null?void 0:n.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:o+f.x,y:c+f.y,data:ie(F({},f),{placement:d})}})}}},FR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(s){return fe(this,null,function*(){const{x:n,y:i,placement:o}=s,T=Xr(e,s),{mainAxis:c=!0,crossAxis:d=!1,limiter:h={fn:A=>{let{x:k,y:S}=A;return{x:k,y:S}}}}=T,f=$e(T,["mainAxis","crossAxis","limiter"]),g={x:n,y:i},p=yield au(s,f),b=cr(Kr(o)),y=ey(b);let j=g[y],v=g[b];if(c){const A=y==="y"?"top":"left",k=y==="y"?"bottom":"right",S=j+p[A],E=j-p[k];j=J0(S,j,E)}if(d){const A=b==="y"?"top":"left",k=b==="y"?"bottom":"right",S=v+p[A],E=v-p[k];v=J0(S,v,E)}const _=h.fn(ie(F({},s),{[y]:j,[b]:v}));return ie(F({},_),{data:{x:_.x-n,y:_.y-i,enabled:{[y]:c,[b]:d}}})})}}},zR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:n,placement:i,rects:o,middlewareData:c}=t,{offset:d=0,mainAxis:h=!0,crossAxis:f=!0}=Xr(e,t),g={x:s,y:n},p=cr(i),b=ey(p);let y=g[b],j=g[p];const v=Xr(d,t),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:F({mainAxis:0,crossAxis:0},v);if(h){const k=b==="y"?"height":"width",S=o.reference[b]-o.floating[k]+_.mainAxis,E=o.reference[b]+o.reference[k]-_.mainAxis;y<S?y=S:y>E&&(y=E)}if(f){var T,A;const k=b==="y"?"width":"height",S=lT.has(Kr(i)),E=o.reference[p]-o.floating[k]+(S&&((T=c.offset)==null?void 0:T[p])||0)+(S?0:_.crossAxis),C=o.reference[p]+o.reference[k]+(S?0:((A=c.offset)==null?void 0:A[p])||0)-(S?_.crossAxis:0);j<E?j=E:j>C&&(j=C)}return{[b]:y,[p]:j}}}},UR=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(s){return fe(this,null,function*(){var n,i;const{placement:o,rects:c,platform:d,elements:h}=s,I=Xr(e,s),{apply:f=()=>{}}=I,g=$e(I,["apply"]),p=yield au(s,g),b=Kr(o),y=yc(o),j=cr(o)==="y",{width:v,height:_}=c.floating;let T,A;b==="top"||b==="bottom"?(T=b,A=y===((yield d.isRTL==null?void 0:d.isRTL(h.floating))?"start":"end")?"left":"right"):(A=b,T=y==="end"?"top":"bottom");const k=_-p.top-p.bottom,S=v-p.left-p.right,E=qi(_-p[T],k),C=qi(v-p[A],S),z=!s.middlewareData.shift;let L=E,R=C;if((n=s.middlewareData.shift)!=null&&n.enabled.x&&(R=S),(i=s.middlewareData.shift)!=null&&i.enabled.y&&(L=k),z&&!y){const G=ta(p.left,0),U=ta(p.right,0),W=ta(p.top,0),K=ta(p.bottom,0);j?R=v-2*(G!==0||U!==0?G+U:ta(p.left,p.right)):L=_-2*(W!==0||K!==0?W+K:ta(p.top,p.bottom))}yield f(ie(F({},s),{availableWidth:R,availableHeight:L}));const V=yield d.getDimensions(h.floating);return v!==V.width||_!==V.height?{reset:{rects:!0}}:{}})}}};function pm(){return typeof window!="undefined"}function bc(e){return cT(e)?(e.nodeName||"").toLowerCase():"#document"}function aa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function yr(e){var t;return(t=(cT(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function cT(e){return pm()?e instanceof Node||e instanceof aa(e).Node:!1}function Ua(e){return pm()?e instanceof Element||e instanceof aa(e).Element:!1}function pr(e){return pm()?e instanceof HTMLElement||e instanceof aa(e).HTMLElement:!1}function z1(e){return!pm()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof aa(e).ShadowRoot}const HR=new Set(["inline","contents"]);function bu(e){const{overflow:t,overflowX:s,overflowY:n,display:i}=Ha(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!HR.has(i)}const $R=new Set(["table","td","th"]);function VR(e){return $R.has(bc(e))}const IR=[":popover-open",":modal"];function xm(e){return IR.some(t=>{try{return e.matches(t)}catch(s){return!1}})}const qR=["transform","translate","scale","rotate","perspective"],WR=["transform","translate","scale","rotate","perspective","filter"],YR=["paint","layout","strict","content"];function ny(e){const t=ay(),s=Ua(e)?Ha(e):e;return qR.some(n=>s[n]?s[n]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||WR.some(n=>(s.willChange||"").includes(n))||YR.some(n=>(s.contain||"").includes(n))}function GR(e){let t=Wi(e);for(;pr(t)&&!uc(t);){if(ny(t))return t;if(xm(t))return null;t=Wi(t)}return null}function ay(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const XR=new Set(["html","body","#document"]);function uc(e){return XR.has(bc(e))}function Ha(e){return aa(e).getComputedStyle(e)}function ym(e){return Ua(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wi(e){if(bc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||z1(e)&&e.host||yr(e);return z1(t)?t.host:t}function dT(e){const t=Wi(e);return uc(t)?e.ownerDocument?e.ownerDocument.body:e.body:pr(t)&&bu(t)?t:dT(t)}function ru(e,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const i=dT(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),c=aa(i);if(o){const d=tx(c);return t.concat(c,c.visualViewport||[],bu(i)?i:[],d&&s?ru(d):[])}return t.concat(i,ru(i,[],s))}function tx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function uT(e){const t=Ha(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=pr(e),o=i?e.offsetWidth:s,c=i?e.offsetHeight:n,d=Bf(s)!==o||Bf(n)!==c;return d&&(s=o,n=c),{width:s,height:n,$:d}}function ry(e){return Ua(e)?e:e.contextElement}function sc(e){const t=ry(e);if(!pr(t))return fr(1);const s=t.getBoundingClientRect(),{width:n,height:i,$:o}=uT(t);let c=(o?Bf(s.width):s.width)/n,d=(o?Bf(s.height):s.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const KR=fr(0);function hT(e){const t=aa(e);return!ay()||!t.visualViewport?KR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function QR(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==aa(e)?!1:t}function qo(e,t,s,n){t===void 0&&(t=!1),s===void 0&&(s=!1);const i=e.getBoundingClientRect(),o=ry(e);let c=fr(1);t&&(n?Ua(n)&&(c=sc(n)):c=sc(e));const d=QR(o,s,n)?hT(o):fr(0);let h=(i.left+d.x)/c.x,f=(i.top+d.y)/c.y,g=i.width/c.x,p=i.height/c.y;if(o){const b=aa(o),y=n&&Ua(n)?aa(n):n;let j=b,v=tx(j);for(;v&&n&&y!==j;){const _=sc(v),T=v.getBoundingClientRect(),A=Ha(v),k=T.left+(v.clientLeft+parseFloat(A.paddingLeft))*_.x,S=T.top+(v.clientTop+parseFloat(A.paddingTop))*_.y;h*=_.x,f*=_.y,g*=_.x,p*=_.y,h+=k,f+=S,j=aa(v),v=tx(j)}}return zf({width:g,height:p,x:h,y:f})}function iy(e,t){const s=ym(e).scrollLeft;return t?t.left+s:qo(yr(e)).left+s}function fT(e,t,s){s===void 0&&(s=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(s?0:iy(e,n)),o=n.top+t.scrollTop;return{x:i,y:o}}function ZR(e){let{elements:t,rect:s,offsetParent:n,strategy:i}=e;const o=i==="fixed",c=yr(n),d=t?xm(t.floating):!1;if(n===c||d&&o)return s;let h={scrollLeft:0,scrollTop:0},f=fr(1);const g=fr(0),p=pr(n);if((p||!p&&!o)&&((bc(n)!=="body"||bu(c))&&(h=ym(n)),pr(n))){const y=qo(n);f=sc(n),g.x=y.x+n.clientLeft,g.y=y.y+n.clientTop}const b=c&&!p&&!o?fT(c,h,!0):fr(0);return{width:s.width*f.x,height:s.height*f.y,x:s.x*f.x-h.scrollLeft*f.x+g.x+b.x,y:s.y*f.y-h.scrollTop*f.y+g.y+b.y}}function JR(e){return Array.from(e.getClientRects())}function e3(e){const t=yr(e),s=ym(e),n=e.ownerDocument.body,i=ta(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=ta(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-s.scrollLeft+iy(e);const d=-s.scrollTop;return Ha(n).direction==="rtl"&&(c+=ta(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:c,y:d}}function t3(e,t){const s=aa(e),n=yr(e),i=s.visualViewport;let o=n.clientWidth,c=n.clientHeight,d=0,h=0;if(i){o=i.width,c=i.height;const f=ay();(!f||f&&t==="fixed")&&(d=i.offsetLeft,h=i.offsetTop)}return{width:o,height:c,x:d,y:h}}const s3=new Set(["absolute","fixed"]);function n3(e,t){const s=qo(e,!0,t==="fixed"),n=s.top+e.clientTop,i=s.left+e.clientLeft,o=pr(e)?sc(e):fr(1),c=e.clientWidth*o.x,d=e.clientHeight*o.y,h=i*o.x,f=n*o.y;return{width:c,height:d,x:h,y:f}}function U1(e,t,s){let n;if(t==="viewport")n=t3(e,s);else if(t==="document")n=e3(yr(e));else if(Ua(t))n=n3(t,s);else{const i=hT(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return zf(n)}function mT(e,t){const s=Wi(e);return s===t||!Ua(s)||uc(s)?!1:Ha(s).position==="fixed"||mT(s,t)}function a3(e,t){const s=t.get(e);if(s)return s;let n=ru(e,[],!1).filter(d=>Ua(d)&&bc(d)!=="body"),i=null;const o=Ha(e).position==="fixed";let c=o?Wi(e):e;for(;Ua(c)&&!uc(c);){const d=Ha(c),h=ny(c);!h&&d.position==="fixed"&&(i=null),(o?!h&&!i:!h&&d.position==="static"&&!!i&&s3.has(i.position)||bu(c)&&!h&&mT(e,c))?n=n.filter(g=>g!==c):i=d,c=Wi(c)}return t.set(e,n),n}function r3(e){let{element:t,boundary:s,rootBoundary:n,strategy:i}=e;const c=[...s==="clippingAncestors"?xm(t)?[]:a3(t,this._c):[].concat(s),n],d=c[0],h=c.reduce((f,g)=>{const p=U1(t,g,i);return f.top=ta(p.top,f.top),f.right=qi(p.right,f.right),f.bottom=qi(p.bottom,f.bottom),f.left=ta(p.left,f.left),f},U1(t,d,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function i3(e){const{width:t,height:s}=uT(e);return{width:t,height:s}}function o3(e,t,s){const n=pr(t),i=yr(t),o=s==="fixed",c=qo(e,!0,o,t);let d={scrollLeft:0,scrollTop:0};const h=fr(0);function f(){h.x=iy(i)}if(n||!n&&!o)if((bc(t)!=="body"||bu(i))&&(d=ym(t)),n){const y=qo(t,!0,o,t);h.x=y.x+t.clientLeft,h.y=y.y+t.clientTop}else i&&f();o&&!n&&i&&f();const g=i&&!n&&!o?fT(i,d):fr(0),p=c.left+d.scrollLeft-h.x-g.x,b=c.top+d.scrollTop-h.y-g.y;return{x:p,y:b,width:c.width,height:c.height}}function r0(e){return Ha(e).position==="static"}function H1(e,t){if(!pr(e)||Ha(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return yr(e)===s&&(s=s.ownerDocument.body),s}function gT(e,t){const s=aa(e);if(xm(e))return s;if(!pr(e)){let i=Wi(e);for(;i&&!uc(i);){if(Ua(i)&&!r0(i))return i;i=Wi(i)}return s}let n=H1(e,t);for(;n&&VR(n)&&r0(n);)n=H1(n,t);return n&&uc(n)&&r0(n)&&!ny(n)?s:n||GR(e)||s}const l3=function(e){return fe(this,null,function*(){const t=this.getOffsetParent||gT,s=this.getDimensions,n=yield s(e.floating);return{reference:o3(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}})};function c3(e){return Ha(e).direction==="rtl"}const d3={convertOffsetParentRelativeRectToViewportRelativeRect:ZR,getDocumentElement:yr,getClippingRect:r3,getOffsetParent:gT,getElementRects:l3,getClientRects:JR,getDimensions:i3,getScale:sc,isElement:Ua,isRTL:c3};function pT(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function u3(e,t){let s=null,n;const i=yr(e);function o(){var d;clearTimeout(n),(d=s)==null||d.disconnect(),s=null}function c(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),o();const f=e.getBoundingClientRect(),{left:g,top:p,width:b,height:y}=f;if(d||t(),!b||!y)return;const j=$h(p),v=$h(i.clientWidth-(g+b)),_=$h(i.clientHeight-(p+y)),T=$h(g),k={rootMargin:-j+"px "+-v+"px "+-_+"px "+-T+"px",threshold:ta(0,qi(1,h))||1};let S=!0;function E(C){const z=C[0].intersectionRatio;if(z!==h){if(!S)return c();z?c(!1,z):n=setTimeout(()=>{c(!1,1e-7)},1e3)}z===1&&!pT(f,e.getBoundingClientRect())&&c(),S=!1}try{s=new IntersectionObserver(E,ie(F({},k),{root:i.ownerDocument}))}catch(C){s=new IntersectionObserver(E,k)}s.observe(e)}return c(!0),o}function h3(e,t,s,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=n,f=ry(e),g=i||o?[...f?ru(f):[],...ru(t)]:[];g.forEach(T=>{i&&T.addEventListener("scroll",s,{passive:!0}),o&&T.addEventListener("resize",s)});const p=f&&d?u3(f,s):null;let b=-1,y=null;c&&(y=new ResizeObserver(T=>{let[A]=T;A&&A.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var k;(k=y)==null||k.observe(t)})),s()}),f&&!h&&y.observe(f),y.observe(t));let j,v=h?qo(e):null;h&&_();function _(){const T=qo(e);v&&!pT(v,T)&&s(),v=T,j=requestAnimationFrame(_)}return s(),()=>{var T;g.forEach(A=>{i&&A.removeEventListener("scroll",s),o&&A.removeEventListener("resize",s)}),p==null||p(),(T=y)==null||T.disconnect(),y=null,h&&cancelAnimationFrame(j)}}const f3=BR,m3=FR,g3=RR,p3=UR,x3=PR,$1=MR,y3=zR,b3=(e,t,s)=>{const n=new Map,i=F({platform:d3},s),o=ie(F({},i.platform),{_c:n});return OR(e,t,ie(F({},i),{platform:o}))};var v3=typeof document!="undefined",w3=function(){},Tf=v3?N.useLayoutEffect:w3;function Uf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!Uf(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),s=i.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=s;n--!==0;){const o=i[n];if(!(o==="_owner"&&e.$$typeof)&&!Uf(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function xT(e){return typeof window=="undefined"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function V1(e,t){const s=xT(e);return Math.round(t*s)/s}function i0(e){const t=N.useRef(e);return Tf(()=>{t.current=e}),t}function j3(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:h,open:f}=e,[g,p]=N.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[b,y]=N.useState(n);Uf(b,n)||y(n);const[j,v]=N.useState(null),[_,T]=N.useState(null),A=N.useCallback(se=>{se!==C.current&&(C.current=se,v(se))},[]),k=N.useCallback(se=>{se!==z.current&&(z.current=se,T(se))},[]),S=o||j,E=c||_,C=N.useRef(null),z=N.useRef(null),L=N.useRef(g),R=h!=null,V=i0(h),I=i0(i),G=i0(f),U=N.useCallback(()=>{if(!C.current||!z.current)return;const se={placement:t,strategy:s,middleware:b};I.current&&(se.platform=I.current),b3(C.current,z.current,se).then(Ne=>{const P=ie(F({},Ne),{isPositioned:G.current!==!1});W.current&&!Uf(L.current,P)&&(L.current=P,hm.flushSync(()=>{p(P)}))})},[b,t,s,I,G]);Tf(()=>{f===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,p(se=>ie(F({},se),{isPositioned:!1})))},[f]);const W=N.useRef(!1);Tf(()=>(W.current=!0,()=>{W.current=!1}),[]),Tf(()=>{if(S&&(C.current=S),E&&(z.current=E),S&&E){if(V.current)return V.current(S,E,U);U()}},[S,E,U,V,R]);const K=N.useMemo(()=>({reference:C,floating:z,setReference:A,setFloating:k}),[A,k]),$=N.useMemo(()=>({reference:S,floating:E}),[S,E]),ee=N.useMemo(()=>{const se={position:s,left:0,top:0};if(!$.floating)return se;const Ne=V1($.floating,g.x),P=V1($.floating,g.y);return d?F(ie(F({},se),{transform:"translate("+Ne+"px, "+P+"px)"}),xT($.floating)>=1.5&&{willChange:"transform"}):{position:s,left:Ne,top:P}},[s,d,$.floating,g.x,g.y]);return N.useMemo(()=>ie(F({},g),{update:U,refs:K,elements:$,floatingStyles:ee}),[g,U,K,$,ee])}const N3=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:n,padding:i}=typeof e=="function"?e(s):e;return n&&t(n)?n.current!=null?$1({element:n.current,padding:i}).fn(s):{}:n?$1({element:n,padding:i}).fn(s):{}}}},_3=(e,t)=>ie(F({},f3(e)),{options:[e,t]}),T3=(e,t)=>ie(F({},m3(e)),{options:[e,t]}),S3=(e,t)=>ie(F({},y3(e)),{options:[e,t]}),k3=(e,t)=>ie(F({},g3(e)),{options:[e,t]}),C3=(e,t)=>ie(F({},p3(e)),{options:[e,t]}),E3=(e,t)=>ie(F({},x3(e)),{options:[e,t]}),D3=(e,t)=>ie(F({},N3(e)),{options:[e,t]});var A3="Arrow",yT=N.forwardRef((e,t)=>{const c=e,{children:s,width:n=10,height:i=5}=c,o=$e(c,["children","width","height"]);return a.jsx(Jt.svg,ie(F({},o),{ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:a.jsx("polygon",{points:"0,0 30,0 15,10"})}))});yT.displayName=A3;var O3=yT;function M3(e){const[t,s]=N.useState(void 0);return gr(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let c,d;if("borderBoxSize"in o){const h=o.borderBoxSize,f=Array.isArray(h)?h[0]:h;c=f.inlineSize,d=f.blockSize}else c=e.offsetWidth,d=e.offsetHeight;s({width:c,height:d})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else s(void 0)},[e]),t}var oy="Popper",[bT,vT]=mm(oy),[R3,wT]=bT(oy),jT=e=>{const{__scopePopper:t,children:s}=e,[n,i]=N.useState(null);return a.jsx(R3,{scope:t,anchor:n,onAnchorChange:i,children:s})};jT.displayName=oy;var NT="PopperAnchor",_T=N.forwardRef((e,t)=>{const f=e,{__scopePopper:s,virtualRef:n}=f,i=$e(f,["__scopePopper","virtualRef"]),o=wT(NT,s),c=N.useRef(null),d=xn(t,c),h=N.useRef(null);return N.useEffect(()=>{const g=h.current;h.current=(n==null?void 0:n.current)||c.current,g!==h.current&&o.onAnchorChange(h.current)}),n?null:a.jsx(Jt.div,ie(F({},i),{ref:d}))});_T.displayName=NT;var ly="PopperContent",[P3,L3]=bT(ly),TT=N.forwardRef((e,t)=>{var we,Ce,Z,Re,He,Ye,tt,gt;const Pe=e,{__scopePopper:s,side:n="bottom",sideOffset:i=0,align:o="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:g=0,sticky:p="partial",hideWhenDetached:b=!1,updatePositionStrategy:y="optimized",onPlaced:j}=Pe,v=$e(Pe,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),_=wT(ly,s),[T,A]=N.useState(null),k=xn(t,Dt=>A(Dt)),[S,E]=N.useState(null),C=M3(S),z=(we=C==null?void 0:C.width)!=null?we:0,L=(Ce=C==null?void 0:C.height)!=null?Ce:0,R=n+(o!=="center"?"-"+o:""),V=typeof g=="number"?g:F({top:0,right:0,bottom:0,left:0},g),I=Array.isArray(f)?f:[f],G=I.length>0,U={padding:V,boundary:I.filter(F3),altBoundary:G},{refs:W,floatingStyles:K,placement:$,isPositioned:ee,middlewareData:se}=j3({strategy:"fixed",placement:R,whileElementsMounted:(...Dt)=>h3(...Dt,{animationFrame:y==="always"}),elements:{reference:_.anchor},middleware:[_3({mainAxis:i+L,alignmentAxis:c}),h&&T3(F({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?S3():void 0},U)),h&&k3(F({},U)),C3(ie(F({},U),{apply:({elements:Dt,rects:De,availableWidth:ze,availableHeight:Fe})=>{const{width:Q,height:le}=De.reference,q=Dt.floating.style;q.setProperty("--radix-popper-available-width",`${ze}px`),q.setProperty("--radix-popper-available-height",`${Fe}px`),q.setProperty("--radix-popper-anchor-width",`${Q}px`),q.setProperty("--radix-popper-anchor-height",`${le}px`)}})),S&&D3({element:S,padding:d}),z3({arrowWidth:z,arrowHeight:L}),b&&E3(F({strategy:"referenceHidden"},U))]}),[Ne,P]=CT($),ne=Ii(j);gr(()=>{ee&&(ne==null||ne())},[ee,ne]);const ge=(Z=se.arrow)==null?void 0:Z.x,X=(Re=se.arrow)==null?void 0:Re.y,re=((He=se.arrow)==null?void 0:He.centerOffset)!==0,[_e,me]=N.useState();return gr(()=>{T&&me(window.getComputedStyle(T).zIndex)},[T]),a.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:F(ie(F({},K),{transform:ee?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_e,"--radix-popper-transform-origin":[(Ye=se.transformOrigin)==null?void 0:Ye.x,(tt=se.transformOrigin)==null?void 0:tt.y].join(" ")}),((gt=se.hide)==null?void 0:gt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:a.jsx(P3,{scope:s,placedSide:Ne,onArrowChange:E,arrowX:ge,arrowY:X,shouldHideArrow:re,children:a.jsx(Jt.div,ie(F({"data-side":Ne,"data-align":P},v),{ref:k,style:ie(F({},v.style),{animation:ee?void 0:"none"})}))})})});TT.displayName=ly;var ST="PopperArrow",B3={top:"bottom",right:"left",bottom:"top",left:"right"},kT=N.forwardRef(function(t,s){const d=t,{__scopePopper:n}=d,i=$e(d,["__scopePopper"]),o=L3(ST,n),c=B3[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(O3,ie(F({},i),{ref:s,style:ie(F({},i.style),{display:"block"})}))})});kT.displayName=ST;function F3(e){return e!==null}var z3=e=>({name:"transformOrigin",options:e,fn(t){var _,T,A,k,S;const{placement:s,rects:n,middlewareData:i}=t,c=((_=i.arrow)==null?void 0:_.centerOffset)!==0,d=c?0:e.arrowWidth,h=c?0:e.arrowHeight,[f,g]=CT(s),p={start:"0%",center:"50%",end:"100%"}[g],b=((A=(T=i.arrow)==null?void 0:T.x)!=null?A:0)+d/2,y=((S=(k=i.arrow)==null?void 0:k.y)!=null?S:0)+h/2;let j="",v="";return f==="bottom"?(j=c?p:`${b}px`,v=`${-h}px`):f==="top"?(j=c?p:`${b}px`,v=`${n.floating.height+h}px`):f==="right"?(j=`${-h}px`,v=c?p:`${y}px`):f==="left"&&(j=`${n.floating.width+h}px`,v=c?p:`${y}px`),{data:{x:j,y:v}}}});function CT(e){const[t,s="center"]=e.split("-");return[t,s]}var U3=jT,ET=_T,H3=TT,$3=kT,V3="Portal",bm=N.forwardRef((e,t)=>{var h;const d=e,{container:s}=d,n=$e(d,["container"]),[i,o]=N.useState(!1);gr(()=>o(!0),[]);const c=s||i&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return c?q_.createPortal(a.jsx(Jt.div,ie(F({},n),{ref:t})),c):null});bm.displayName=V3;function I3(e,t){return N.useReducer((s,n)=>{const i=t[s][n];return i!=null?i:s},e)}var vc=e=>{const{present:t,children:s}=e,n=q3(t),i=typeof s=="function"?s({present:n.isPresent}):N.Children.only(s),o=xn(n.ref,W3(i));return typeof s=="function"||n.isPresent?N.cloneElement(i,{ref:o}):null};vc.displayName="Presence";function q3(e){const[t,s]=N.useState(),n=N.useRef(null),i=N.useRef(e),o=N.useRef("none"),c=e?"mounted":"unmounted",[d,h]=I3(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const f=Vh(n.current);o.current=d==="mounted"?f:"none"},[d]),gr(()=>{const f=n.current,g=i.current;if(g!==e){const b=o.current,y=Vh(f);e?h("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(g&&b!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),gr(()=>{var f;if(t){let g;const p=(f=t.ownerDocument.defaultView)!=null?f:window,b=j=>{const _=Vh(n.current).includes(CSS.escape(j.animationName));if(j.target===t&&_&&(h("ANIMATION_END"),!i.current)){const T=t.style.animationFillMode;t.style.animationFillMode="forwards",g=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=T)})}},y=j=>{j.target===t&&(o.current=Vh(n.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{p.clearTimeout(g),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:N.useCallback(f=>{n.current=f?getComputedStyle(f):null,s(f)},[])}}function Vh(e){return(e==null?void 0:e.animationName)||"none"}function W3(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Y3=U2[" useInsertionEffect ".trim().toString()]||gr;function cy({prop:e,defaultProp:t,onChange:s=()=>{},caller:n}){const[i,o,c]=G3({defaultProp:t,onChange:s}),d=e!==void 0,h=d?e:i;{const g=N.useRef(e!==void 0);N.useEffect(()=>{const p=g.current;p!==d&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,n])}const f=N.useCallback(g=>{var p;if(d){const b=X3(g)?g(e):g;b!==e&&((p=c.current)==null||p.call(c,b))}else o(g)},[d,e,o,c]);return[h,f]}function G3({defaultProp:e,onChange:t}){const[s,n]=N.useState(e),i=N.useRef(s),o=N.useRef(t);return Y3(()=>{o.current=t},[t]),N.useEffect(()=>{var c;i.current!==s&&((c=o.current)==null||c.call(o,s),i.current=s)},[s,i]),[s,n,o]}function X3(e){return typeof e=="function"}var K3=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zl=new WeakMap,Ih=new WeakMap,qh={},o0=0,DT=function(e){return e&&(e.host||DT(e.parentNode))},Q3=function(e,t){return t.map(function(s){if(e.contains(s))return s;var n=DT(s);return n&&e.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},Z3=function(e,t,s,n){var i=Q3(t,Array.isArray(e)?e:[e]);qh[s]||(qh[s]=new WeakMap);var o=qh[s],c=[],d=new Set,h=new Set(i),f=function(p){!p||d.has(p)||(d.add(p),f(p.parentNode))};i.forEach(f);var g=function(p){!p||h.has(p)||Array.prototype.forEach.call(p.children,function(b){if(d.has(b))g(b);else try{var y=b.getAttribute(n),j=y!==null&&y!=="false",v=(zl.get(b)||0)+1,_=(o.get(b)||0)+1;zl.set(b,v),o.set(b,_),c.push(b),v===1&&j&&Ih.set(b,!0),_===1&&b.setAttribute(s,"true"),j||b.setAttribute(n,"true")}catch(T){console.error("aria-hidden: cannot operate on ",b,T)}})};return g(t),d.clear(),o0++,function(){c.forEach(function(p){var b=zl.get(p)-1,y=o.get(p)-1;zl.set(p,b),o.set(p,y),b||(Ih.has(p)||p.removeAttribute(n),Ih.delete(p)),y||p.removeAttribute(s)}),o0--,o0||(zl=new WeakMap,zl=new WeakMap,Ih=new WeakMap,qh={})}},dy=function(e,t,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=K3(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),Z3(n,i,s,"aria-hidden")):function(){return null}},ir=function(){return ir=Object.assign||function(t){for(var s,n=1,i=arguments.length;n<i;n++){s=arguments[n];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},ir.apply(this,arguments)};function AT(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s}function J3(e,t,s){if(s||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Sf="right-scroll-bar-position",kf="width-before-scroll-bar",e6="with-scroll-bars-hidden",t6="--removed-body-scroll-bar-size";function l0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function s6(e,t){var s=N.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(n){var i=s.value;i!==n&&(s.value=n,s.callback(n,i))}}}})[0];return s.callback=t,s.facade}var n6=typeof window!="undefined"?N.useLayoutEffect:N.useEffect,I1=new WeakMap;function a6(e,t){var s=s6(null,function(n){return e.forEach(function(i){return l0(i,n)})});return n6(function(){var n=I1.get(s);if(n){var i=new Set(n),o=new Set(e),c=s.current;i.forEach(function(d){o.has(d)||l0(d,null)}),o.forEach(function(d){i.has(d)||l0(d,c)})}I1.set(s,e)},[e]),s}function r6(e){return e}function i6(e,t){t===void 0&&(t=r6);var s=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(o){var c=t(o,n);return s.push(c),function(){s=s.filter(function(d){return d!==c})}},assignSyncMedium:function(o){for(n=!0;s.length;){var c=s;s=[],c.forEach(o)}s={push:function(d){return o(d)},filter:function(){return s}}},assignMedium:function(o){n=!0;var c=[];if(s.length){var d=s;s=[],d.forEach(o),c=s}var h=function(){var g=c;c=[],g.forEach(o)},f=function(){return Promise.resolve().then(h)};f(),s={push:function(g){c.push(g),f()},filter:function(g){return c=c.filter(g),s}}}};return i}function o6(e){e===void 0&&(e={});var t=i6(null);return t.options=ir({async:!0,ssr:!1},e),t}var OT=function(e){var t=e.sideCar,s=AT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return N.createElement(n,ir({},s))};OT.isSideCarExport=!0;function l6(e,t){return e.useMedium(t),OT}var MT=o6(),c0=function(){},vm=N.forwardRef(function(e,t){var s=N.useRef(null),n=N.useState({onScrollCapture:c0,onWheelCapture:c0,onTouchMoveCapture:c0}),i=n[0],o=n[1],c=e.forwardProps,d=e.children,h=e.className,f=e.removeScrollBar,g=e.enabled,p=e.shards,b=e.sideCar,y=e.noRelative,j=e.noIsolation,v=e.inert,_=e.allowPinchZoom,T=e.as,A=T===void 0?"div":T,k=e.gapMode,S=AT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=b,C=a6([s,t]),z=ir(ir({},S),i);return N.createElement(N.Fragment,null,g&&N.createElement(E,{sideCar:MT,removeScrollBar:f,shards:p,noRelative:y,noIsolation:j,inert:v,setCallbacks:o,allowPinchZoom:!!_,lockRef:s,gapMode:k}),c?N.cloneElement(N.Children.only(d),ir(ir({},z),{ref:C})):N.createElement(A,ir({},z,{className:h,ref:C}),d))});vm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vm.classNames={fullWidth:kf,zeroRight:Sf};var c6=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function d6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=c6();return t&&e.setAttribute("nonce",t),e}function u6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function h6(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var f6=function(){var e=0,t=null;return{add:function(s){e==0&&(t=d6())&&(u6(t,s),h6(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},m6=function(){var e=f6();return function(t,s){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},RT=function(){var e=m6(),t=function(s){var n=s.styles,i=s.dynamic;return e(n,i),null};return t},g6={left:0,top:0,right:0,gap:0},d0=function(e){return parseInt(e||"",10)||0},p6=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[d0(s),d0(n),d0(i)]},x6=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return g6;var t=p6(e),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-s+t[2]-t[0])}},y6=RT(),nc="data-scroll-locked",b6=function(e,t,s,n){var i=e.left,o=e.top,c=e.right,d=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(e6,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(d,"px ").concat(n,`;
  }
  body[`).concat(nc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sf,` {
    right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(kf,` {
    margin-right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(Sf," .").concat(Sf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(kf," .").concat(kf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(nc,`] {
    `).concat(t6,": ").concat(d,`px;
  }
`)},q1=function(){var e=parseInt(document.body.getAttribute(nc)||"0",10);return isFinite(e)?e:0},v6=function(){N.useEffect(function(){return document.body.setAttribute(nc,(q1()+1).toString()),function(){var e=q1()-1;e<=0?document.body.removeAttribute(nc):document.body.setAttribute(nc,e.toString())}},[])},w6=function(e){var t=e.noRelative,s=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;v6();var o=N.useMemo(function(){return x6(i)},[i]);return N.createElement(y6,{styles:b6(o,!t,i,s?"":"!important")})},sx=!1;if(typeof window!="undefined")try{var Wh=Object.defineProperty({},"passive",{get:function(){return sx=!0,!0}});window.addEventListener("test",Wh,Wh),window.removeEventListener("test",Wh,Wh)}catch(e){sx=!1}var Ul=sx?{passive:!1}:!1,j6=function(e){return e.tagName==="TEXTAREA"},PT=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!j6(e)&&s[t]==="visible")},N6=function(e){return PT(e,"overflowY")},_6=function(e){return PT(e,"overflowX")},W1=function(e,t){var s=t.ownerDocument,n=t;do{typeof ShadowRoot!="undefined"&&n instanceof ShadowRoot&&(n=n.host);var i=LT(e,n);if(i){var o=BT(e,n),c=o[1],d=o[2];if(c>d)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},T6=function(e){var t=e.scrollTop,s=e.scrollHeight,n=e.clientHeight;return[t,s,n]},S6=function(e){var t=e.scrollLeft,s=e.scrollWidth,n=e.clientWidth;return[t,s,n]},LT=function(e,t){return e==="v"?N6(t):_6(t)},BT=function(e,t){return e==="v"?T6(t):S6(t)},k6=function(e,t){return e==="h"&&t==="rtl"?-1:1},C6=function(e,t,s,n,i){var o=k6(e,window.getComputedStyle(t).direction),c=o*n,d=s.target,h=t.contains(d),f=!1,g=c>0,p=0,b=0;do{if(!d)break;var y=BT(e,d),j=y[0],v=y[1],_=y[2],T=v-_-o*j;(j||T)&&LT(e,d)&&(p+=T,b+=j);var A=d.parentNode;d=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!h&&d!==document.body||h&&(t.contains(d)||t===d));return(g&&Math.abs(p)<1||!g&&Math.abs(b)<1)&&(f=!0),f},Yh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Y1=function(e){return[e.deltaX,e.deltaY]},G1=function(e){return e&&"current"in e?e.current:e},E6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},D6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},A6=0,Hl=[];function O6(e){var t=N.useRef([]),s=N.useRef([0,0]),n=N.useRef(),i=N.useState(A6++)[0],o=N.useState(RT)[0],c=N.useRef(e);N.useEffect(function(){c.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=J3([e.lockRef.current],(e.shards||[]).map(G1),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var d=N.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!c.current.allowPinchZoom;var T=Yh(v),A=s.current,k="deltaX"in v?v.deltaX:A[0]-T[0],S="deltaY"in v?v.deltaY:A[1]-T[1],E,C=v.target,z=Math.abs(k)>Math.abs(S)?"h":"v";if("touches"in v&&z==="h"&&C.type==="range")return!1;var L=W1(z,C);if(!L)return!0;if(L?E=z:(E=z==="v"?"h":"v",L=W1(z,C)),!L)return!1;if(!n.current&&"changedTouches"in v&&(k||S)&&(n.current=E),!E)return!0;var R=n.current||E;return C6(R,_,v,R==="h"?k:S)},[]),h=N.useCallback(function(v){var _=v;if(!(!Hl.length||Hl[Hl.length-1]!==o)){var T="deltaY"in _?Y1(_):Yh(_),A=t.current.filter(function(E){return E.name===_.type&&(E.target===_.target||_.target===E.shadowParent)&&E6(E.delta,T)})[0];if(A&&A.should){_.cancelable&&_.preventDefault();return}if(!A){var k=(c.current.shards||[]).map(G1).filter(Boolean).filter(function(E){return E.contains(_.target)}),S=k.length>0?d(_,k[0]):!c.current.noIsolation;S&&_.cancelable&&_.preventDefault()}}},[]),f=N.useCallback(function(v,_,T,A){var k={name:v,delta:_,target:T,should:A,shadowParent:M6(T)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(S){return S!==k})},1)},[]),g=N.useCallback(function(v){s.current=Yh(v),n.current=void 0},[]),p=N.useCallback(function(v){f(v.type,Y1(v),v.target,d(v,e.lockRef.current))},[]),b=N.useCallback(function(v){f(v.type,Yh(v),v.target,d(v,e.lockRef.current))},[]);N.useEffect(function(){return Hl.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:b}),document.addEventListener("wheel",h,Ul),document.addEventListener("touchmove",h,Ul),document.addEventListener("touchstart",g,Ul),function(){Hl=Hl.filter(function(v){return v!==o}),document.removeEventListener("wheel",h,Ul),document.removeEventListener("touchmove",h,Ul),document.removeEventListener("touchstart",g,Ul)}},[]);var y=e.removeScrollBar,j=e.inert;return N.createElement(N.Fragment,null,j?N.createElement(o,{styles:D6(i)}):null,y?N.createElement(w6,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function M6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const R6=l6(MT,O6);var wm=N.forwardRef(function(e,t){return N.createElement(vm,ir({},e,{ref:t,sideCar:R6}))});wm.classNames=vm.classNames;var jm="Popover",[FT,u$]=mm(jm,[vT]),vu=vT(),[P6,to]=FT(jm),zT=e=>{const{__scopePopover:t,children:s,open:n,defaultOpen:i,onOpenChange:o,modal:c=!1}=e,d=vu(t),h=N.useRef(null),[f,g]=N.useState(!1),[p,b]=cy({prop:n,defaultProp:i!=null?i:!1,onChange:o,caller:jm});return a.jsx(U3,ie(F({},d),{children:a.jsx(P6,{scope:t,contentId:na(),triggerRef:h,open:p,onOpenChange:b,onOpenToggle:N.useCallback(()=>b(y=>!y),[b]),hasCustomAnchor:f,onCustomAnchorAdd:N.useCallback(()=>g(!0),[]),onCustomAnchorRemove:N.useCallback(()=>g(!1),[]),modal:c,children:s})}))};zT.displayName=jm;var UT="PopoverAnchor",L6=N.forwardRef((e,t)=>{const h=e,{__scopePopover:s}=h,n=$e(h,["__scopePopover"]),i=to(UT,s),o=vu(s),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=i;return N.useEffect(()=>(c(),()=>d()),[c,d]),a.jsx(ET,ie(F(F({},o),n),{ref:t}))});L6.displayName=UT;var HT="PopoverTrigger",$T=N.forwardRef((e,t)=>{const h=e,{__scopePopover:s}=h,n=$e(h,["__scopePopover"]),i=to(HT,s),o=vu(s),c=xn(t,i.triggerRef),d=a.jsx(Jt.button,ie(F({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":YT(i.open)},n),{ref:c,onClick:sa(e.onClick,i.onOpenToggle)}));return i.hasCustomAnchor?d:a.jsx(ET,ie(F({asChild:!0},o),{children:d}))});$T.displayName=HT;var uy="PopoverPortal",[B6,F6]=FT(uy,{forceMount:void 0}),VT=e=>{const{__scopePopover:t,forceMount:s,children:n,container:i}=e,o=to(uy,t);return a.jsx(B6,{scope:t,forceMount:s,children:a.jsx(vc,{present:s||o.open,children:a.jsx(bm,{asChild:!0,container:i,children:n})})})};VT.displayName=uy;var hc="PopoverContent",IT=N.forwardRef((e,t)=>{const s=F6(hc,e.__scopePopover),c=e,{forceMount:n=s.forceMount}=c,i=$e(c,["forceMount"]),o=to(hc,e.__scopePopover);return a.jsx(vc,{present:n||o.open,children:o.modal?a.jsx(U6,ie(F({},i),{ref:t})):a.jsx(H6,ie(F({},i),{ref:t}))})});IT.displayName=hc;var z6=yu("PopoverContent.RemoveScroll"),U6=N.forwardRef((e,t)=>{const s=to(hc,e.__scopePopover),n=N.useRef(null),i=xn(t,n),o=N.useRef(!1);return N.useEffect(()=>{const c=n.current;if(c)return dy(c)},[]),a.jsx(wm,{as:z6,allowPinchZoom:!0,children:a.jsx(qT,ie(F({},e),{ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:sa(e.onCloseAutoFocus,c=>{var d;c.preventDefault(),o.current||(d=s.triggerRef.current)==null||d.focus()}),onPointerDownOutside:sa(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,f=d.button===2||h;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:sa(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})}))})}),H6=N.forwardRef((e,t)=>{const s=to(hc,e.__scopePopover),n=N.useRef(!1),i=N.useRef(!1);return a.jsx(qT,ie(F({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(n.current||(d=s.triggerRef.current)==null||d.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((f=s.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),qT=N.forwardRef((e,t)=>{const j=e,{__scopePopover:s,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:g}=j,p=$e(j,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),b=to(hc,s),y=vu(s);return rT(),a.jsx(gm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:a.jsx(Jx,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:g,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onDismiss:()=>b.onOpenChange(!1),children:a.jsx(H3,ie(F(F({"data-state":YT(b.open),role:"dialog",id:b.contentId},y),p),{ref:t,style:ie(F({},p.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),WT="PopoverClose",$6=N.forwardRef((e,t)=>{const o=e,{__scopePopover:s}=o,n=$e(o,["__scopePopover"]),i=to(WT,s);return a.jsx(Jt.button,ie(F({type:"button"},n),{ref:t,onClick:sa(e.onClick,()=>i.onOpenChange(!1))}))});$6.displayName=WT;var V6="PopoverArrow",I6=N.forwardRef((e,t)=>{const o=e,{__scopePopover:s}=o,n=$e(o,["__scopePopover"]),i=vu(s);return a.jsx($3,ie(F(F({},i),n),{ref:t}))});I6.displayName=V6;function YT(e){return e?"open":"closed"}var q6=zT,W6=$T,Y6=VT,G6=IT;function GT(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(s=GT(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function XT(){for(var e,t,s=0,n="",i=arguments.length;s<i;s++)(e=arguments[s])&&(t=GT(e))&&(n&&(n+=" "),n+=t);return n}const hy="-",X6=e=>{const t=Q6(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{const d=c.split(hy);return d[0]===""&&d.length!==1&&d.shift(),KT(d,t)||K6(c)},getConflictingClassGroupIds:(c,d)=>{const h=s[c]||[];return d&&n[c]?[...h,...n[c]]:h}}},KT=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const s=e[0],n=t.nextPart.get(s),i=n?KT(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(hy);return(c=t.validators.find(({validator:d})=>d(o)))==null?void 0:c.classGroupId},X1=/^\[(.+)\]$/,K6=e=>{if(X1.test(e)){const t=X1.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},Q6=e=>{const{theme:t,classGroups:s}=e,n={nextPart:new Map,validators:[]};for(const i in s)nx(s[i],n,i,t);return n},nx=(e,t,s,n)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:K1(t,i);o.classGroupId=s;return}if(typeof i=="function"){if(Z6(i)){nx(i(n),t,s,n);return}t.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([o,c])=>{nx(c,K1(t,o),s,n)})})},K1=(e,t)=>{let s=e;return t.split(hy).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},Z6=e=>e.isThemeGetter,J6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,n=new Map;const i=(o,c)=>{s.set(o,c),t++,t>e&&(t=0,n=s,s=new Map)};return{get(o){let c=s.get(o);if(c!==void 0)return c;if((c=n.get(o))!==void 0)return i(o,c),c},set(o,c){s.has(o)?s.set(o,c):i(o,c)}}},ax="!",rx=":",eP=rx.length,tP=e=>{const{prefix:t,experimentalParseClassName:s}=e;let n=i=>{const o=[];let c=0,d=0,h=0,f;for(let j=0;j<i.length;j++){let v=i[j];if(c===0&&d===0){if(v===rx){o.push(i.slice(h,j)),h=j+eP;continue}if(v==="/"){f=j;continue}}v==="["?c++:v==="]"?c--:v==="("?d++:v===")"&&d--}const g=o.length===0?i:i.substring(h),p=sP(g),b=p!==g,y=f&&f>h?f-h:void 0;return{modifiers:o,hasImportantModifier:b,baseClassName:p,maybePostfixModifierPosition:y}};if(t){const i=t+rx,o=n;n=c=>c.startsWith(i)?o(c.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(s){const i=n;n=o=>s({className:o,parseClassName:i})}return n},sP=e=>e.endsWith(ax)?e.substring(0,e.length-1):e.startsWith(ax)?e.substring(1):e,nP=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let o=[];return n.forEach(c=>{c[0]==="["||t[c]?(i.push(...o.sort(),c),o=[]):o.push(c)}),i.push(...o.sort()),i}},aP=e=>F({cache:J6(e.cacheSize),parseClassName:tP(e),sortModifiers:nP(e)},X6(e)),rP=/\s+/,iP=(e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=t,c=[],d=e.trim().split(rP);let h="";for(let f=d.length-1;f>=0;f-=1){const g=d[f],{isExternal:p,modifiers:b,hasImportantModifier:y,baseClassName:j,maybePostfixModifierPosition:v}=s(g);if(p){h=g+(h.length>0?" "+h:h);continue}let _=!!v,T=n(_?j.substring(0,v):j);if(!T){if(!_){h=g+(h.length>0?" "+h:h);continue}if(T=n(j),!T){h=g+(h.length>0?" "+h:h);continue}_=!1}const A=o(b).join(":"),k=y?A+ax:A,S=k+T;if(c.includes(S))continue;c.push(S);const E=i(T,_);for(let C=0;C<E.length;++C){const z=E[C];c.push(k+z)}h=g+(h.length>0?" "+h:h)}return h};function oP(){let e=0,t,s,n="";for(;e<arguments.length;)(t=arguments[e++])&&(s=QT(t))&&(n&&(n+=" "),n+=s);return n}const QT=e=>{if(typeof e=="string")return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=QT(e[n]))&&(s&&(s+=" "),s+=t);return s};function lP(e,...t){let s,n,i,o=c;function c(h){const f=t.reduce((g,p)=>p(g),e());return s=aP(f),n=s.cache.get,i=s.cache.set,o=d,d(h)}function d(h){const f=n(h);if(f)return f;const g=iP(h,s);return i(h,g),g}return function(){return o(oP.apply(null,arguments))}}const Ks=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},ZT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,JT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,cP=/^\d+\/\d+$/,dP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$l=e=>cP.test(e),Ft=e=>!!e&&!Number.isNaN(Number(e)),Ti=e=>!!e&&Number.isInteger(Number(e)),u0=e=>e.endsWith("%")&&Ft(e.slice(0,-1)),zr=e=>dP.test(e),gP=()=>!0,pP=e=>uP.test(e)&&!hP.test(e),eS=()=>!1,xP=e=>fP.test(e),yP=e=>mP.test(e),bP=e=>!rt(e)&&!it(e),vP=e=>wc(e,nS,eS),rt=e=>ZT.test(e),Eo=e=>wc(e,aS,pP),h0=e=>wc(e,TP,Ft),Q1=e=>wc(e,tS,eS),wP=e=>wc(e,sS,yP),Gh=e=>wc(e,rS,xP),it=e=>JT.test(e),Ed=e=>jc(e,aS),jP=e=>jc(e,SP),Z1=e=>jc(e,tS),NP=e=>jc(e,nS),_P=e=>jc(e,sS),Xh=e=>jc(e,rS,!0),wc=(e,t,s)=>{const n=ZT.exec(e);return n?n[1]?t(n[1]):s(n[2]):!1},jc=(e,t,s=!1)=>{const n=JT.exec(e);return n?n[1]?t(n[1]):s:!1},tS=e=>e==="position"||e==="percentage",sS=e=>e==="image"||e==="url",nS=e=>e==="length"||e==="size"||e==="bg-size",aS=e=>e==="length",TP=e=>e==="number",SP=e=>e==="family-name",rS=e=>e==="shadow",kP=()=>{const e=Ks("color"),t=Ks("font"),s=Ks("text"),n=Ks("font-weight"),i=Ks("tracking"),o=Ks("leading"),c=Ks("breakpoint"),d=Ks("container"),h=Ks("spacing"),f=Ks("radius"),g=Ks("shadow"),p=Ks("inset-shadow"),b=Ks("text-shadow"),y=Ks("drop-shadow"),j=Ks("blur"),v=Ks("perspective"),_=Ks("aspect"),T=Ks("ease"),A=Ks("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...S(),it,rt],C=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],L=()=>[it,rt,h],R=()=>[$l,"full","auto",...L()],V=()=>[Ti,"none","subgrid",it,rt],I=()=>["auto",{span:["full",Ti,it,rt]},Ti,it,rt],G=()=>[Ti,"auto",it,rt],U=()=>["auto","min","max","fr",it,rt],W=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...L()],ee=()=>[$l,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],se=()=>[e,it,rt],Ne=()=>[...S(),Z1,Q1,{position:[it,rt]}],P=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ne=()=>["auto","cover","contain",NP,vP,{size:[it,rt]}],ge=()=>[u0,Ed,Eo],X=()=>["","none","full",f,it,rt],re=()=>["",Ft,Ed,Eo],_e=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Pe=()=>[Ft,u0,Z1,Q1],we=()=>["","none",j,it,rt],Ce=()=>["none",Ft,it,rt],Z=()=>["none",Ft,it,rt],Re=()=>[Ft,it,rt],He=()=>[$l,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[zr],breakpoint:[zr],color:[gP],container:[zr],"drop-shadow":[zr],ease:["in","out","in-out"],font:[bP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[zr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[zr],shadow:[zr],spacing:["px",Ft],text:[zr],"text-shadow":[zr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",$l,rt,it,_]}],container:["container"],columns:[{columns:[Ft,rt,it,d]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Ti,"auto",it,rt]}],basis:[{basis:[$l,"full","auto",d,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ft,$l,"auto","initial","none",rt]}],grow:[{grow:["",Ft,it,rt]}],shrink:[{shrink:["",Ft,it,rt]}],order:[{order:[Ti,"first","last","none",it,rt]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[d,"screen",...ee()]}],"min-w":[{"min-w":[d,"screen","none",...ee()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",s,Ed,Eo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,it,h0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",u0,rt]}],"font-family":[{font:[jP,rt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,it,rt]}],"line-clamp":[{"line-clamp":[Ft,"none",it,h0]}],leading:[{leading:[o,...L()]}],"list-image":[{"list-image":["none",it,rt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",it,rt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:se()}],"text-color":[{text:se()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ft,"from-font","auto",it,Eo]}],"text-decoration-color":[{decoration:se()}],"underline-offset":[{"underline-offset":[Ft,"auto",it,rt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",it,rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",it,rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ne()}],"bg-repeat":[{bg:P()}],"bg-size":[{bg:ne()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ti,it,rt],radial:["",it,rt],conic:[Ti,it,rt]},_P,wP]}],"bg-color":[{bg:se()}],"gradient-from-pos":[{from:ge()}],"gradient-via-pos":[{via:ge()}],"gradient-to-pos":[{to:ge()}],"gradient-from":[{from:se()}],"gradient-via":[{via:se()}],"gradient-to":[{to:se()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[..._e(),"hidden","none"]}],"divide-style":[{divide:[..._e(),"hidden","none"]}],"border-color":[{border:se()}],"border-color-x":[{"border-x":se()}],"border-color-y":[{"border-y":se()}],"border-color-s":[{"border-s":se()}],"border-color-e":[{"border-e":se()}],"border-color-t":[{"border-t":se()}],"border-color-r":[{"border-r":se()}],"border-color-b":[{"border-b":se()}],"border-color-l":[{"border-l":se()}],"divide-color":[{divide:se()}],"outline-style":[{outline:[..._e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ft,it,rt]}],"outline-w":[{outline:["",Ft,Ed,Eo]}],"outline-color":[{outline:se()}],shadow:[{shadow:["","none",g,Xh,Gh]}],"shadow-color":[{shadow:se()}],"inset-shadow":[{"inset-shadow":["none",p,Xh,Gh]}],"inset-shadow-color":[{"inset-shadow":se()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:se()}],"ring-offset-w":[{"ring-offset":[Ft,Eo]}],"ring-offset-color":[{"ring-offset":se()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":se()}],"text-shadow":[{"text-shadow":["none",b,Xh,Gh]}],"text-shadow-color":[{"text-shadow":se()}],opacity:[{opacity:[Ft,it,rt]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ft]}],"mask-image-linear-from-pos":[{"mask-linear-from":Pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":Pe()}],"mask-image-linear-from-color":[{"mask-linear-from":se()}],"mask-image-linear-to-color":[{"mask-linear-to":se()}],"mask-image-t-from-pos":[{"mask-t-from":Pe()}],"mask-image-t-to-pos":[{"mask-t-to":Pe()}],"mask-image-t-from-color":[{"mask-t-from":se()}],"mask-image-t-to-color":[{"mask-t-to":se()}],"mask-image-r-from-pos":[{"mask-r-from":Pe()}],"mask-image-r-to-pos":[{"mask-r-to":Pe()}],"mask-image-r-from-color":[{"mask-r-from":se()}],"mask-image-r-to-color":[{"mask-r-to":se()}],"mask-image-b-from-pos":[{"mask-b-from":Pe()}],"mask-image-b-to-pos":[{"mask-b-to":Pe()}],"mask-image-b-from-color":[{"mask-b-from":se()}],"mask-image-b-to-color":[{"mask-b-to":se()}],"mask-image-l-from-pos":[{"mask-l-from":Pe()}],"mask-image-l-to-pos":[{"mask-l-to":Pe()}],"mask-image-l-from-color":[{"mask-l-from":se()}],"mask-image-l-to-color":[{"mask-l-to":se()}],"mask-image-x-from-pos":[{"mask-x-from":Pe()}],"mask-image-x-to-pos":[{"mask-x-to":Pe()}],"mask-image-x-from-color":[{"mask-x-from":se()}],"mask-image-x-to-color":[{"mask-x-to":se()}],"mask-image-y-from-pos":[{"mask-y-from":Pe()}],"mask-image-y-to-pos":[{"mask-y-to":Pe()}],"mask-image-y-from-color":[{"mask-y-from":se()}],"mask-image-y-to-color":[{"mask-y-to":se()}],"mask-image-radial":[{"mask-radial":[it,rt]}],"mask-image-radial-from-pos":[{"mask-radial-from":Pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":Pe()}],"mask-image-radial-from-color":[{"mask-radial-from":se()}],"mask-image-radial-to-color":[{"mask-radial-to":se()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[Ft]}],"mask-image-conic-from-pos":[{"mask-conic-from":Pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":Pe()}],"mask-image-conic-from-color":[{"mask-conic-from":se()}],"mask-image-conic-to-color":[{"mask-conic-to":se()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ne()}],"mask-repeat":[{mask:P()}],"mask-size":[{mask:ne()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",it,rt]}],filter:[{filter:["","none",it,rt]}],blur:[{blur:we()}],brightness:[{brightness:[Ft,it,rt]}],contrast:[{contrast:[Ft,it,rt]}],"drop-shadow":[{"drop-shadow":["","none",y,Xh,Gh]}],"drop-shadow-color":[{"drop-shadow":se()}],grayscale:[{grayscale:["",Ft,it,rt]}],"hue-rotate":[{"hue-rotate":[Ft,it,rt]}],invert:[{invert:["",Ft,it,rt]}],saturate:[{saturate:[Ft,it,rt]}],sepia:[{sepia:["",Ft,it,rt]}],"backdrop-filter":[{"backdrop-filter":["","none",it,rt]}],"backdrop-blur":[{"backdrop-blur":we()}],"backdrop-brightness":[{"backdrop-brightness":[Ft,it,rt]}],"backdrop-contrast":[{"backdrop-contrast":[Ft,it,rt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ft,it,rt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ft,it,rt]}],"backdrop-invert":[{"backdrop-invert":["",Ft,it,rt]}],"backdrop-opacity":[{"backdrop-opacity":[Ft,it,rt]}],"backdrop-saturate":[{"backdrop-saturate":[Ft,it,rt]}],"backdrop-sepia":[{"backdrop-sepia":["",Ft,it,rt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",it,rt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ft,"initial",it,rt]}],ease:[{ease:["linear","initial",T,it,rt]}],delay:[{delay:[Ft,it,rt]}],animate:[{animate:["none",A,it,rt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,it,rt]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:Ce()}],"rotate-x":[{"rotate-x":Ce()}],"rotate-y":[{"rotate-y":Ce()}],"rotate-z":[{"rotate-z":Ce()}],scale:[{scale:Z()}],"scale-x":[{"scale-x":Z()}],"scale-y":[{"scale-y":Z()}],"scale-z":[{"scale-z":Z()}],"scale-3d":["scale-3d"],skew:[{skew:Re()}],"skew-x":[{"skew-x":Re()}],"skew-y":[{"skew-y":Re()}],transform:[{transform:[it,rt,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:He()}],"translate-x":[{"translate-x":He()}],"translate-y":[{"translate-y":He()}],"translate-z":[{"translate-z":He()}],"translate-none":["translate-none"],accent:[{accent:se()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:se()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",it,rt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",it,rt]}],fill:[{fill:["none",...se()]}],"stroke-w":[{stroke:[Ft,Ed,Eo,h0]}],stroke:[{stroke:["none",...se()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},CP=lP(kP);function Fs(...e){return CP(XT(e))}function Nm(t){var e=$e(t,[]);return a.jsx(q6,F({"data-slot":"popover"},e))}function _m(t){var e=$e(t,[]);return a.jsx(W6,F({"data-slot":"popover-trigger"},e))}function Tm(i){var o=i,{className:e,align:t="center",sideOffset:s=4}=o,n=$e(o,["className","align","sideOffset"]);return a.jsx(Y6,{children:a.jsx(G6,F({"data-slot":"popover-content",align:t,sideOffset:s,className:Fs("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-[10000] w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e)},n))})}const Zl=class Zl{static useUsers(){const{data:t,isLoading:s,error:n}=ft("User",{fields:Zl.USER_FIELDS,filters:[["enabled","=",1],["user_type","=","System User"]],limit:0});return{data:t||[],isLoading:s,error:n}}static useCurrentUser(){const{currentUser:t,isLoading:s}=on();return{currentUser:t,isLoading:s}}static useCurrentUserProfile(){const{currentUser:t}=on(),{data:s,isLoading:n,error:i,mutate:o}=Tt("User",t||void 0,{fields:Zl.USER_PROFILE_FIELDS});return{currentUserProfile:s,isLoading:n,error:i,mutate:o}}static useUpdateUserProfile(){const{updateDoc:t,loading:s,isCompleted:n,error:i,reset:o}=En();return{updateProfile:(d,h)=>fe(null,null,function*(){try{return yield t("User",d,h)}catch(f){throw console.error("Error updating user profile:",f),f}}),loading:s,isCompleted:n,error:i,reset:o}}static useChangePassword(){const{call:t,loading:s,error:n}=Is("frappe.core.doctype.user.user.update_password");return{changePassword:(o,c)=>fe(null,null,function*(){try{return yield t({old_password:o,new_password:c})}catch(d){throw console.error("Error changing password:",d),d}}),loading:s,error:n}}static useUploadUserImage(){const{call:t,loading:s,error:n}=Is("frappe.handler.upload_file");return{uploadImage:(o,c)=>fe(null,null,function*(){try{const d=new FormData;return d.append("file",o),d.append("doctype","User"),d.append("docname",c),d.append("fieldname","user_image"),yield t(d)}catch(d){throw console.error("Error uploading user image:",d),d}}),loading:s,error:n}}static useUserRoles(t){const{data:s,isLoading:n,error:i}=ft("Has Role",{fields:["role","parent"],filters:t?[["parent","=",t]]:[],limit:0});return{roles:s||[],isLoading:n,error:i}}static useUserPermissions(){const{call:t,loading:s,error:n}=Is("frappe.core.doctype.user.user.get_user_permissions");return{getUserPermissions:o=>fe(null,null,function*(){try{return yield t({user:o})}catch(c){throw console.error("Error getting user permissions:",c),c}}),loading:s,error:n}}};kt(Zl,"USER_FIELDS",["name","email","full_name","first_name","last_name","user_image","enabled","user_type","role_profile_name"]),kt(Zl,"USER_PROFILE_FIELDS",["name","email","full_name","first_name","middle_name","last_name","user_image","phone","mobile_no","gender","birth_date","location","bio","interest","time_zone","language","desk_theme","role_profile_name","enabled","user_type","last_login","last_active"]);let Yi=Zl;const iS=Yi.useCurrentUser,Sm=Yi.useCurrentUserProfile,oS=Yi.useUpdateUserProfile,EP=Yi.useChangePassword,DP=Yi.useUploadUserImage,AP=Yi.useUserRoles,OP=()=>fe(null,null,function*(){try{const e=yield fetch("/api/method/frappe.auth.get_logged_user",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""}});if(e.status===401||e.status===403)return{isValid:!1};if(e.ok){const t=yield e.json();if(t&&!t.exc)return{isValid:!0}}return{isValid:!1}}catch(e){return console.error("Token validation error:",e),{isValid:!1}}}),lS=()=>{try{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(t=>{const s=t.indexOf("="),n=s>-1?t.substr(0,s).trim():t.trim();document.cookie=`${n}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=${window.location.hostname}`,document.cookie=`${n}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}),console.warn("Session expired. Redirecting to login...");const e="/login";window.location.href=e}catch(e){console.error("Error handling token expiry:",e),window.location.href="/login"}},MP=()=>"/login",ix=()=>window.location.pathname.includes("/login")||window.location.pathname.includes("/signin");function RP(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}const PP=e=>{switch(e){case"success":return FP;case"info":return UP;case"warning":return zP;case"error":return HP;default:return null}},LP=Array(12).fill(0),BP=({visible:e,className:t})=>ye.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ye.createElement("div",{className:"sonner-spinner"},LP.map((s,n)=>ye.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),FP=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),zP=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),UP=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),HP=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$P=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ye.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ye.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),VP=()=>{const[e,t]=ye.useState(document.hidden);return ye.useEffect(()=>{const s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e};let ox=1;class IP{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;const h=t,{message:n}=h,i=$e(h,["message"]),o=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:ox++,c=this.toasts.find(f=>f.id===o),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),c?this.toasts=this.toasts.map(f=>f.id===o?(this.publish(ie(F(F({},f),t),{id:o,title:n})),ie(F(F({},f),t),{id:o,dismissible:d,title:n})):f):this.addToast(ie(F({title:n},i),{dismissible:d,id:o})),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:t,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(n=>n({id:s.id,dismiss:!0}))}),t),this.message=(t,s)=>this.create(ie(F({},s),{message:t})),this.error=(t,s)=>this.create(ie(F({},s),{message:t,type:"error"})),this.success=(t,s)=>this.create(ie(F({},s),{type:"success",message:t})),this.info=(t,s)=>this.create(ie(F({},s),{type:"info",message:t})),this.warning=(t,s)=>this.create(ie(F({},s),{type:"warning",message:t})),this.loading=(t,s)=>this.create(ie(F({},s),{type:"loading",message:t})),this.promise=(t,s)=>{if(!s)return;let n;s.loading!==void 0&&(n=this.create(ie(F({},s),{promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0})));const i=Promise.resolve(t instanceof Function?t():t);let o=n!==void 0,c;const d=i.then(f=>fe(this,null,function*(){if(c=["resolve",f],ye.isValidElement(f))o=!1,this.create({id:n,type:"default",message:f});else if(WP(f)&&!f.ok){o=!1;const p=typeof s.error=="function"?yield s.error(`HTTP error! status: ${f.status}`):s.error,b=typeof s.description=="function"?yield s.description(`HTTP error! status: ${f.status}`):s.description,j=typeof p=="object"&&!ye.isValidElement(p)?p:{message:p};this.create(F({id:n,type:"error",description:b},j))}else if(f instanceof Error){o=!1;const p=typeof s.error=="function"?yield s.error(f):s.error,b=typeof s.description=="function"?yield s.description(f):s.description,j=typeof p=="object"&&!ye.isValidElement(p)?p:{message:p};this.create(F({id:n,type:"error",description:b},j))}else if(s.success!==void 0){o=!1;const p=typeof s.success=="function"?yield s.success(f):s.success,b=typeof s.description=="function"?yield s.description(f):s.description,j=typeof p=="object"&&!ye.isValidElement(p)?p:{message:p};this.create(F({id:n,type:"success",description:b},j))}})).catch(f=>fe(this,null,function*(){if(c=["reject",f],s.error!==void 0){o=!1;const g=typeof s.error=="function"?yield s.error(f):s.error,p=typeof s.description=="function"?yield s.description(f):s.description,y=typeof g=="object"&&!ye.isValidElement(g)?g:{message:g};this.create(F({id:n,type:"error",description:p},y))}})).finally(()=>{o&&(this.dismiss(n),n=void 0),s.finally==null||s.finally.call(s)}),h=()=>new Promise((f,g)=>d.then(()=>c[0]==="reject"?g(c[1]):f(c[1])).catch(g));return typeof n!="string"&&typeof n!="number"?{unwrap:h}:Object.assign(n,{unwrap:h})},this.custom=(t,s)=>{const n=(s==null?void 0:s.id)||ox++;return this.create(F({jsx:t(n),id:n},s)),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Hn=new IP,qP=(e,t)=>{const s=(t==null?void 0:t.id)||ox++;return Hn.addToast(ie(F({title:e},t),{id:s})),s},WP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",YP=qP,GP=()=>Hn.toasts,XP=()=>Hn.getActiveToasts(),As=Object.assign(YP,{success:Hn.success,info:Hn.info,warning:Hn.warning,error:Hn.error,custom:Hn.custom,message:Hn.message,promise:Hn.promise,dismiss:Hn.dismiss,loading:Hn.loading},{getHistory:GP,getToasts:XP});RP("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Kh(e){return e.label!==void 0}const KP=3,QP="24px",ZP="16px",J1=4e3,JP=356,eL=14,tL=45,sL=200;function er(...e){return e.filter(Boolean).join(" ")}function nL(e){const[t,s]=e.split("-"),n=[];return t&&n.push(t),s&&n.push(s),n}const aL=e=>{var t,s,n,i,o,c,d,h,f;const{invert:g,toast:p,unstyled:b,interacting:y,setHeights:j,visibleToasts:v,heights:_,index:T,toasts:A,expanded:k,removeToast:S,defaultRichColors:E,closeButton:C,style:z,cancelButtonStyle:L,actionButtonStyle:R,className:V="",descriptionClassName:I="",duration:G,position:U,gap:W,expandByDefault:K,classNames:$,icons:ee,closeButtonAriaLabel:se="Close toast"}=e,[Ne,P]=ye.useState(null),[ne,ge]=ye.useState(null),[X,re]=ye.useState(!1),[_e,me]=ye.useState(!1),[Pe,we]=ye.useState(!1),[Ce,Z]=ye.useState(!1),[Re,He]=ye.useState(!1),[Ye,tt]=ye.useState(0),[gt,Dt]=ye.useState(0),De=ye.useRef(p.duration||G||J1),ze=ye.useRef(null),Fe=ye.useRef(null),Q=T===0,le=T+1<=v,q=p.type,Te=p.dismissible!==!1,Le=p.className||"",Me=p.descriptionClassName||"",Ve=ye.useMemo(()=>_.findIndex(bt=>bt.toastId===p.id)||0,[_,p.id]),Ge=ye.useMemo(()=>{var bt;return(bt=p.closeButton)!=null?bt:C},[p.closeButton,C]),st=ye.useMemo(()=>p.duration||G||J1,[p.duration,G]),wt=ye.useRef(0),ke=ye.useRef(0),Ue=ye.useRef(0),Ze=ye.useRef(null),[Ot,Ke]=U.split("-"),zt=ye.useMemo(()=>_.reduce((bt,Zt,fs)=>fs>=Ve?bt:bt+Zt.height,0),[_,Ve]),ds=VP(),Zs=p.invert||g,yn=q==="loading";ke.current=ye.useMemo(()=>Ve*W+zt,[Ve,zt]),ye.useEffect(()=>{De.current=st},[st]),ye.useEffect(()=>{re(!0)},[]),ye.useEffect(()=>{const bt=Fe.current;if(bt){const Zt=bt.getBoundingClientRect().height;return Dt(Zt),j(fs=>[{toastId:p.id,height:Zt,position:p.position},...fs]),()=>j(fs=>fs.filter(Ms=>Ms.toastId!==p.id))}},[j,p.id]),ye.useLayoutEffect(()=>{if(!X)return;const bt=Fe.current,Zt=bt.style.height;bt.style.height="auto";const fs=bt.getBoundingClientRect().height;bt.style.height=Zt,Dt(fs),j(Ms=>Ms.find(oe=>oe.toastId===p.id)?Ms.map(oe=>oe.toastId===p.id?ie(F({},oe),{height:fs}):oe):[{toastId:p.id,height:fs,position:p.position},...Ms])},[X,p.title,p.description,j,p.id,p.jsx,p.action,p.cancel]);const Js=ye.useCallback(()=>{me(!0),tt(ke.current),j(bt=>bt.filter(Zt=>Zt.toastId!==p.id)),setTimeout(()=>{S(p)},sL)},[p,S,j,ke]);ye.useEffect(()=>{if(p.promise&&q==="loading"||p.duration===1/0||p.type==="loading")return;let bt;return k||y||ds?(()=>{if(Ue.current<wt.current){const Ms=new Date().getTime()-wt.current;De.current=De.current-Ms}Ue.current=new Date().getTime()})():(()=>{De.current!==1/0&&(wt.current=new Date().getTime(),bt=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),Js()},De.current))})(),()=>clearTimeout(bt)},[k,y,p,q,ds,Js]),ye.useEffect(()=>{p.delete&&(Js(),p.onDismiss==null||p.onDismiss.call(p,p))},[Js,p.delete]);function br(){var bt;if(ee!=null&&ee.loading){var Zt;return ye.createElement("div",{className:er($==null?void 0:$.loader,p==null||(Zt=p.classNames)==null?void 0:Zt.loader,"sonner-loader"),"data-visible":q==="loading"},ee.loading)}return ye.createElement(BP,{className:er($==null?void 0:$.loader,p==null||(bt=p.classNames)==null?void 0:bt.loader),visible:q==="loading"})}const Wa=p.icon||(ee==null?void 0:ee[q])||PP(q);var ra,vr;return ye.createElement("li",{tabIndex:0,ref:Fe,className:er(V,Le,$==null?void 0:$.toast,p==null||(t=p.classNames)==null?void 0:t.toast,$==null?void 0:$.default,$==null?void 0:$[q],p==null||(s=p.classNames)==null?void 0:s[q]),"data-sonner-toast":"","data-rich-colors":(ra=p.richColors)!=null?ra:E,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":X,"data-promise":!!p.promise,"data-swiped":Re,"data-removed":_e,"data-visible":le,"data-y-position":Ot,"data-x-position":Ke,"data-index":T,"data-front":Q,"data-swiping":Pe,"data-dismissible":Te,"data-type":q,"data-invert":Zs,"data-swipe-out":Ce,"data-swipe-direction":ne,"data-expanded":!!(k||K&&X),"data-testid":p.testId,style:F(F({"--index":T,"--toasts-before":T,"--z-index":A.length-T,"--offset":`${_e?Ye:ke.current}px`,"--initial-height":K?"auto":`${gt}px`},z),p.style),onDragEnd:()=>{we(!1),P(null),Ze.current=null},onPointerDown:bt=>{bt.button!==2&&(yn||!Te||(ze.current=new Date,tt(ke.current),bt.target.setPointerCapture(bt.pointerId),bt.target.tagName!=="BUTTON"&&(we(!0),Ze.current={x:bt.clientX,y:bt.clientY})))},onPointerUp:()=>{var bt,Zt,fs;if(Ce||!Te)return;Ze.current=null;const Ms=Number(((bt=Fe.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),te=Number(((Zt=Fe.current)==null?void 0:Zt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),oe=new Date().getTime()-((fs=ze.current)==null?void 0:fs.getTime()),pe=Ne==="x"?Ms:te,Se=Math.abs(pe)/oe;if(Math.abs(pe)>=tL||Se>.11){tt(ke.current),p.onDismiss==null||p.onDismiss.call(p,p),ge(Ne==="x"?Ms>0?"right":"left":te>0?"down":"up"),Js(),Z(!0);return}else{var Be,Xe;(Be=Fe.current)==null||Be.style.setProperty("--swipe-amount-x","0px"),(Xe=Fe.current)==null||Xe.style.setProperty("--swipe-amount-y","0px")}He(!1),we(!1),P(null)},onPointerMove:bt=>{var Zt,fs,Ms;if(!Ze.current||!Te||((Zt=window.getSelection())==null?void 0:Zt.toString().length)>0)return;const oe=bt.clientY-Ze.current.y,pe=bt.clientX-Ze.current.x;var Se;const Be=(Se=e.swipeDirections)!=null?Se:nL(U);!Ne&&(Math.abs(pe)>1||Math.abs(oe)>1)&&P(Math.abs(pe)>Math.abs(oe)?"x":"y");let Xe={x:0,y:0};const nt=ot=>1/(1.5+Math.abs(ot)/20);if(Ne==="y"){if(Be.includes("top")||Be.includes("bottom"))if(Be.includes("top")&&oe<0||Be.includes("bottom")&&oe>0)Xe.y=oe;else{const ot=oe*nt(oe);Xe.y=Math.abs(ot)<Math.abs(oe)?ot:oe}}else if(Ne==="x"&&(Be.includes("left")||Be.includes("right")))if(Be.includes("left")&&pe<0||Be.includes("right")&&pe>0)Xe.x=pe;else{const ot=pe*nt(pe);Xe.x=Math.abs(ot)<Math.abs(pe)?ot:pe}(Math.abs(Xe.x)>0||Math.abs(Xe.y)>0)&&He(!0),(fs=Fe.current)==null||fs.style.setProperty("--swipe-amount-x",`${Xe.x}px`),(Ms=Fe.current)==null||Ms.style.setProperty("--swipe-amount-y",`${Xe.y}px`)}},Ge&&!p.jsx&&q!=="loading"?ye.createElement("button",{"aria-label":se,"data-disabled":yn,"data-close-button":!0,onClick:yn||!Te?()=>{}:()=>{Js(),p.onDismiss==null||p.onDismiss.call(p,p)},className:er($==null?void 0:$.closeButton,p==null||(n=p.classNames)==null?void 0:n.closeButton)},(vr=ee==null?void 0:ee.close)!=null?vr:$P):null,(q||p.icon||p.promise)&&p.icon!==null&&((ee==null?void 0:ee[q])!==null||p.icon)?ye.createElement("div",{"data-icon":"",className:er($==null?void 0:$.icon,p==null||(i=p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||br():null,p.type!=="loading"?Wa:null):null,ye.createElement("div",{"data-content":"",className:er($==null?void 0:$.content,p==null||(o=p.classNames)==null?void 0:o.content)},ye.createElement("div",{"data-title":"",className:er($==null?void 0:$.title,p==null||(c=p.classNames)==null?void 0:c.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?ye.createElement("div",{"data-description":"",className:er(I,Me,$==null?void 0:$.description,p==null||(d=p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),ye.isValidElement(p.cancel)?p.cancel:p.cancel&&Kh(p.cancel)?ye.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||L,onClick:bt=>{Kh(p.cancel)&&Te&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,bt),Js())},className:er($==null?void 0:$.cancelButton,p==null||(h=p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,ye.isValidElement(p.action)?p.action:p.action&&Kh(p.action)?ye.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||R,onClick:bt=>{Kh(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,bt),!bt.defaultPrevented&&Js())},className:er($==null?void 0:$.actionButton,p==null||(f=p.classNames)==null?void 0:f.actionButton)},p.action.label):null)};function eN(){if(typeof window=="undefined"||typeof document=="undefined")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function rL(e,t){const s={};return[e,t].forEach((n,i)=>{const o=i===1,c=o?"--mobile-offset":"--offset",d=o?ZP:QP;function h(f){["top","right","bottom","left"].forEach(g=>{s[`${c}-${g}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?h(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?s[`${c}-${f}`]=d:s[`${c}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):h(d)}),s}const iL=ye.forwardRef(function(t,s){const{id:n,invert:i,position:o="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:h,className:f,offset:g,mobileOffset:p,theme:b="light",richColors:y,duration:j,style:v,visibleToasts:_=KP,toastOptions:T,dir:A=eN(),gap:k=eL,icons:S,containerAriaLabel:E="Notifications"}=t,[C,z]=ye.useState([]),L=ye.useMemo(()=>n?C.filter(X=>X.toasterId===n):C.filter(X=>!X.toasterId),[C,n]),R=ye.useMemo(()=>Array.from(new Set([o].concat(L.filter(X=>X.position).map(X=>X.position)))),[L,o]),[V,I]=ye.useState([]),[G,U]=ye.useState(!1),[W,K]=ye.useState(!1),[$,ee]=ye.useState(b!=="system"?b:typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),se=ye.useRef(null),Ne=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=ye.useRef(null),ne=ye.useRef(!1),ge=ye.useCallback(X=>{z(re=>{var _e;return(_e=re.find(me=>me.id===X.id))!=null&&_e.delete||Hn.dismiss(X.id),re.filter(({id:me})=>me!==X.id)})},[]);return ye.useEffect(()=>Hn.subscribe(X=>{if(X.dismiss){requestAnimationFrame(()=>{z(re=>re.map(_e=>_e.id===X.id?ie(F({},_e),{delete:!0}):_e))});return}setTimeout(()=>{q_.flushSync(()=>{z(re=>{const _e=re.findIndex(me=>me.id===X.id);return _e!==-1?[...re.slice(0,_e),F(F({},re[_e]),X),...re.slice(_e+1)]:[X,...re]})})})}),[C]),ye.useEffect(()=>{if(b!=="system"){ee(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window=="undefined")return;const X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:re})=>{ee(re?"dark":"light")})}catch(re){X.addListener(({matches:_e})=>{try{ee(_e?"dark":"light")}catch(me){console.error(me)}})}},[b]),ye.useEffect(()=>{C.length<=1&&U(!1)},[C]),ye.useEffect(()=>{const X=re=>{var _e;if(c.every(we=>re[we]||re.code===we)){var Pe;U(!0),(Pe=se.current)==null||Pe.focus()}re.code==="Escape"&&(document.activeElement===se.current||(_e=se.current)!=null&&_e.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[c]),ye.useEffect(()=>{if(se.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,ne.current=!1)}},[se.current]),ye.createElement("section",{ref:s,"aria-label":`${E} ${Ne}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((X,re)=>{var _e;const[me,Pe]=X.split("-");return L.length?ye.createElement("ol",{key:X,dir:A==="auto"?eN():A,tabIndex:-1,ref:se,className:f,"data-sonner-toaster":!0,"data-sonner-theme":$,"data-y-position":me,"data-x-position":Pe,style:F(F({"--front-toast-height":`${((_e=V[0])==null?void 0:_e.height)||0}px`,"--width":`${JP}px`,"--gap":`${k}px`},v),rL(g,p)),onBlur:we=>{ne.current&&!we.currentTarget.contains(we.relatedTarget)&&(ne.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||ne.current||(ne.current=!0,P.current=we.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{W||U(!1)},onDragEnd:()=>U(!1),onPointerDown:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},L.filter(we=>!we.position&&re===0||we.position===X).map((we,Ce)=>{var Z,Re;return ye.createElement(aL,{key:we.id,icons:S,index:Ce,toast:we,defaultRichColors:y,duration:(Z=T==null?void 0:T.duration)!=null?Z:j,className:T==null?void 0:T.className,descriptionClassName:T==null?void 0:T.descriptionClassName,invert:i,visibleToasts:_,closeButton:(Re=T==null?void 0:T.closeButton)!=null?Re:h,interacting:W,position:X,style:T==null?void 0:T.style,unstyled:T==null?void 0:T.unstyled,classNames:T==null?void 0:T.classNames,cancelButtonStyle:T==null?void 0:T.cancelButtonStyle,actionButtonStyle:T==null?void 0:T.actionButtonStyle,closeButtonAriaLabel:T==null?void 0:T.closeButtonAriaLabel,removeToast:ge,toasts:L.filter(He=>He.position==we.position),heights:V.filter(He=>He.position==we.position),setHeights:I,expandByDefault:d,gap:k,expanded:G,swipeDirections:t.swipeDirections})})):null}))}),Qh={duration:4e3};class lx{static success(t,s){const n=`success-${t}`;return this.activeToasts.has(n)?void 0:(this.activeToasts.add(n),As.success(t,{description:s==null?void 0:s.description,duration:(s==null?void 0:s.duration)||Qh.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)}}))}static error(t,s){const n=`error-${t}`;return this.activeToasts.has(n)?void 0:(this.activeToasts.add(n),As.error(t,{description:s==null?void 0:s.description,duration:(s==null?void 0:s.duration)||Qh.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)}}))}static info(t,s){const n=`info-${t}`;return this.activeToasts.has(n)?void 0:(this.activeToasts.add(n),As.info(t,{description:s==null?void 0:s.description,duration:(s==null?void 0:s.duration)||Qh.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)}}))}static warning(t,s){const n=`warning-${t}`;return this.activeToasts.has(n)?void 0:(this.activeToasts.add(n),As.warning(t,{description:s==null?void 0:s.description,duration:(s==null?void 0:s.duration)||Qh.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(n)},this.DUPLICATE_TIMEOUT)}}))}static dismissAll(){As.dismiss(),this.activeToasts.clear()}static clearCache(){this.activeToasts.clear()}}kt(lx,"activeToasts",new Set),kt(lx,"DUPLICATE_TIMEOUT",1e3);const Gt=lx,oL=({onMenuClick:e})=>{const{currentUser:t,isLoading:s}=iS(),{currentUserProfile:n}=Sm(),{logout:i}=on(),o=()=>fe(null,null,function*(){try{Gt.success("Logging out...",{description:"You will be redirected to the login page.",duration:2e3}),yield i(),setTimeout(()=>{lS()},1e3)}catch(g){console.error("Logout failed:",g),Gt.error("Logout failed",{description:"Please try again or contact support."}),setTimeout(()=>{window.location.href=MP()},2e3)}}),c=()=>n?n.full_name||n.first_name||n.email||"User":!t||typeof t=="string"?t||"Guest":t.full_name||t.first_name||t.email||"User",d=()=>t?c().split(" ").map(p=>p[0]).join("").toUpperCase().slice(0,2):"G",h=()=>n!=null&&n.user_image?n.user_image:null,f=()=>n?n.email:t&&typeof t!="string"?t.email:t||"No email";return a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",title:"Toggle sidebar",children:a.jsx(y5,{className:"h-5 w-5 text-gray-600"})}),a.jsxs("div",{className:"relative hidden md:block",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Vi,{className:"h-4 w-4 text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-80 pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Tìm kiếm dự án, task, tài liệu..."})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[a.jsx(Y_,{className:"h-5 w-5 text-gray-600"}),a.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),a.jsx("div",{className:"relative",children:a.jsxs(Nm,{children:[a.jsx(_m,{asChild:!0,children:a.jsxs("button",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:h()?a.jsx("img",{src:h(),alt:"User avatar",className:"w-8 h-8 rounded-full object-cover"}):a.jsx("span",{className:"text-xs font-medium text-white",children:d()})}),a.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:s?"Loading...":c()}),a.jsx(Gx,{className:"h-4 w-4 text-gray-500"})]})}),a.jsxs(Tm,{className:"w-64 p-0",align:"end",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:h()?a.jsx("img",{src:h(),alt:"User avatar",className:"w-10 h-10 rounded-full object-cover"}):a.jsx("span",{className:"text-sm font-medium text-white",children:d()})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:c()}),a.jsx("p",{className:"text-sm text-gray-500",children:f()})]})]})}),a.jsxs("div",{className:"p-2",children:[a.jsxs("button",{className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[a.jsx(Qx,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),a.jsxs("button",{onClick:o,className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-red-50 transition-colors duration-200 text-red-600",children:[a.jsx(m5,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:"Sign out"})]})]})]})]})})]})]})})},cS=t=>{var e=$e(t,[]);const{theme:s="system"}=sA();return a.jsx(iL,F({theme:s,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"}},e))},lL=()=>{const[e,t]=N.useState(!1),[s,n]=N.useState(!1),i=()=>{window.innerWidth<1024?t(!e):n(!s)};return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0 transition-all duration-300",children:a.jsx(T1,{collapsed:s,onToggle:i})}),e&&a.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>t(!1)}),a.jsx("div",{className:"relative flex flex-col w-64 h-full bg-white shadow-xl",children:a.jsx(T1,{})})]}),a.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[a.jsx(oL,{onMenuClick:i}),a.jsx("main",{className:"flex-1 overflow-y-auto",children:a.jsx("div",{className:"py-6",children:a.jsx("div",{className:"mx-auto px-5",children:a.jsx(PO,{})})})})]}),a.jsx(cS,{position:"top-right",richColors:!0,expand:!0,closeButton:!0,toastOptions:{duration:4e3}})]})},cL=(e={})=>{const{checkIntervalMinutes:t=5,showNotifications:s=!0,enabled:n=!0,onTokenExpired:i}=e,{currentUser:o,isLoading:c}=on(),d=N.useRef(null),h=N.useRef(!1),f=N.useCallback(()=>{d.current&&(clearInterval(d.current),d.current=null)},[]),g=N.useCallback(()=>{f(),s&&Gt.error("Session Expired",{description:"Your session has expired. Please log in again.",duration:3e3}),i==null||i(),setTimeout(()=>{lS()},1e3)},[f,i,s]),p=N.useCallback(()=>fe(null,null,function*(){try{return(yield OP()).isValid?(h.current=!1,!0):(console.warn("Authentication check failed - token invalid"),g(),!1)}catch(v){return console.error("Error checking authentication:",v),!0}}),[g]),b=N.useCallback(()=>{if(!n||c||!o||ix())return;f(),p();const v=t*60*1e3;d.current=setInterval(p,v)},[n,c,o,t,p,f]);N.useEffect(()=>(o&&!c?b():f(),f),[o,c,b,f]),N.useEffect(()=>f,[f]);const y=N.useCallback(()=>p(),[p]),j=N.useCallback(()=>{g()},[g]);return{checkAuth:y,forceLogout:j,isWatching:!!d.current,currentUser:o,isLoading:c}},dL=({children:e,checkInterval:t=5,showNotifications:s=!0})=>{const{isWatching:n,currentUser:i,isLoading:o}=cL({checkIntervalMinutes:t,showNotifications:s,enabled:!ix(),onTokenExpired:()=>{console.log("Token expired callback triggered")}});return N.useEffect(()=>{},[n,i,o,t]),ix()?a.jsx(a.Fragment,{children:e}):o?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsx(a.Fragment,{children:e})};function uL(){return a.jsx(X4,{siteName:"frontend",socketPort:"9000",children:a.jsxs(nA,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:[a.jsx(dL,{checkInterval:5,showNotifications:!0,children:a.jsx(lL,{})}),a.jsx(cS,{})]})})}const hL=()=>{const[e,t]=N.useState("all"),[s,n]=N.useState("all"),[i,o]=N.useState([]),[c,d]=N.useState(!1),{data:h,isLoading:f}=ft("Project",{fields:["name","project_name","status","department","team","estimated_costing","expected_end_date","percent_complete"]}),{data:g,isLoading:p}=ft("project_phase",{fields:["name"],limit:0});N.useEffect(()=>{fe(null,null,function*(){if(!g||g.length===0){o([]);return}d(!0);try{const z=g.map(V=>fe(null,null,function*(){try{const I=yield fetch(`/api/resource/project_phase/${V.name}`,{method:"GET",headers:{Accept:"application/json"}});if(!I.ok)return console.warn(`❌ Failed to fetch phase ${V.name}:`,I.status),null;const G=yield I.json();return G.data||G}catch(I){return console.error(`💥 Error fetching phase ${V.name}:`,I),null}})),R=(yield Promise.all(z)).filter(V=>V!==null);o(R)}catch(z){console.error("💥 Error in fetchPhasesWithTasks:",z)}finally{d(!1)}})},[g]);const{data:b,isLoading:y}=ft("Task",{fields:["name","subject","status","exp_end_date","exp_start_date","project","progress","priority","is_group"],limit:0}),{data:j,isLoading:v}=ft("Timesheet",{fields:["name","total_hours"],limit:0}),_=(h||[]).map(C=>{var z;return ie(F({},C),{project_type:C.project_type||"",customer:C.customer||"",company:C.company||"",department:C.department||"",team:C.team||"",expected_start_date:C.expected_start_date||"",expected_end_date:C.expected_end_date||"",actual_start_date:C.actual_start_date||"",actual_end_date:C.actual_end_date||null,percent_complete:C.percent_complete||0,priority:C.priority||"Medium",estimated_costing:C.estimated_costing||0,total_billable_amount:C.total_billable_amount||0,total_billed_amount:C.total_billed_amount||0,gross_margin:C.gross_margin||0,estimated_hours:C.estimated_hours||0,total_hours:C.total_hours||0,is_active:(z=C.is_active)!=null?z:!0})}),T=N.useMemo(()=>!i||i.length===0?[]:i.map(C=>{const z=C.tasks||[];return ie(F({},C),{phase_name:C.subject||C.name||"",status:C.status||"Open",expected_start_date:C.start_date||"",expected_end_date:C.end_date||"",actual_start_date:C.start_date||"",actual_end_date:null,progress:C.progress||0,description:C.details||"",tasks:z})}),[i]),A=(b||[]).map(C=>ie(F({},C),{project:C.project||"",priority:C.priority||"Medium",type:C.type||"",expected_time:C.expected_time||0,actual_time:C.actual_time||0,start_date:C.exp_start_date||"",end_date:C.exp_end_date||"",progress:C.progress||0,assigned_to:C.assigned_to||null,is_group:C.is_group||!1,parent_task_name:C.parent_task_name||null})),k=(j||[]).map(C=>({name:C.name,employee:C.employee||"",project:"",task:"",start_date:C.start_date||"",end_date:C.end_date||"",total_hours:C.total_hours||0,billable:!0,billing_hours:0,billing_rate:0,billing_amount:0})),S=f||p||c||y||v,E=N.useMemo(()=>{let C=_;s!=="all"&&s!==""&&(C=C.filter(V=>V.team===s)),e!=="all"&&e!==""&&(C=C.filter(V=>V.project_name===e));const z=C.map(V=>V.project_name),L=C.map(V=>V.name),R=T.filter(V=>L.includes(V.project));return{filteredProjects:C,filteredPhases:R,filteredTasks:A.filter(V=>{const I=V.project||"";return L.includes(I)}),filteredTimesheets:k.filter(V=>V.project?z.includes(V.project):!0)}},[_,T,A,k,e,s]);return{allProjects:_,allPhases:T,filteredData:E,selectedProject:e,selectedTeam:s,setSelectedProject:t,setSelectedTeam:n,isLoading:S}};function fL(){const{currentUser:e}=on(),[t,s]=N.useState({roles:[],hasProjectsManager:!1,isAdministrator:!1,isLoading:!0});return N.useEffect(()=>{if(!e){s({roles:[],hasProjectsManager:!1,isAdministrator:!1,isLoading:!1});return}fe(null,null,function*(){var i,o,c,d;try{if(s(h=>ie(F({},h),{isLoading:!0})),e==="Administrator"){s({roles:["Administrator"],hasProjectsManager:!0,isAdministrator:!0,isLoading:!1});return}if(typeof window!="undefined"){const h=window.frappe;if((i=h==null?void 0:h.session)!=null&&i.user_roles&&Array.isArray(h.session.user_roles)){const f=h.session.user_roles;console.log("User roles from session:",f),s({roles:f,hasProjectsManager:f.includes("Projects Manager"),isAdministrator:f.includes("Administrator"),isLoading:!1});return}if((o=h==null?void 0:h.user)!=null&&o.has_role&&typeof h.user.has_role=="function")try{const f=h.user.has_role("Projects Manager"),g=h.user.has_role("Administrator");console.log("Role check via frappe.user.has_role - Projects Manager:",f,"Administrator:",g),s({roles:[],hasProjectsManager:f,isAdministrator:g,isLoading:!1});return}catch(f){console.warn("frappe.user.has_role failed:",f)}}console.log("Client-side role check failed, trying manual API call...");try{const h=yield fetch("/api/method/todo.api.get_current_user_roles",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!h.ok)throw new Error(`HTTP ${h.status}: ${h.statusText}`);const f=yield h.json();if(console.log("Manual API response:",f),(c=f==null?void 0:f.message)!=null&&c.success){const g=f.message;s({roles:g.roles||[],hasProjectsManager:g.has_projects_manager||!1,isAdministrator:g.is_administrator||!1,isLoading:!1});return}else throw new Error(((d=f==null?void 0:f.message)==null?void 0:d.message)||"API returned unsuccessful response")}catch(h){throw console.error("Manual API call failed:",h),h}}catch(h){console.error("Error getting user roles:",h);let f="Unknown error";h instanceof Error?f=h.message:typeof h=="string"?f=h:h&&typeof h=="object"&&(f=JSON.stringify(h)),console.log("Processed error message:",f),s({roles:[],hasProjectsManager:!1,isAdministrator:e==="Administrator",isLoading:!1,error:f})}})},[e]),t}const Fo=class Fo{static useUserProjects(){const{currentUser:t}=on(),{hasProjectsManager:s,isLoading:n,error:i}=fL(),o=ye.useMemo(()=>i?(console.warn("Role checking failed, using fallback logic:",i),t==="Administrator"):s,[s,i,t]),{data:c,isLoading:d,error:h,mutate:f}=ft("Project",{fields:Fo.PROJECT_FIELDS,filters:t?[["owner","=",t]]:[],orderBy:{field:"modified",order:"desc"}},void 0,{revalidateOnFocus:!0,revalidateOnReconnect:!0}),{data:g,isLoading:p,error:b,mutate:y}=ft("Project",{fields:Fo.PROJECT_FIELDS,limit:0,orderBy:{field:"modified",order:"desc"}},void 0,{revalidateOnFocus:!0,revalidateOnReconnect:!0}),j=ye.useMemo(()=>{if(!t)return[];const _=A=>{const k=new Map;return A.forEach(S=>{var C;const E=S.name;if(!k.has(E)){const z={name:S.name,owner:S.owner,creation:S.creation,modified:S.modified,project_name:S.project_name,project_type:S.project_type,status:S.status,customer:S.customer,expected_start_date:S.expected_start_date,expected_end_date:S.expected_end_date,percent_complete:S.percent_complete,priority:S.priority,department:S.department,team:S.team||null,estimated_costing:S.estimated_costing,total_billable_amount:S.total_billable_amount,company:S.company,users:[]};k.set(E,z)}if(S.user){const z=k.get(E);((C=z.users)==null?void 0:C.some(R=>R.user===S.user))||(z.users=z.users||[],z.users.push({user:S.user,email:S.email,full_name:S.full_name,project_status:S.project_status}))}}),Array.from(k.values()).sort((S,E)=>{const C=new Date(S.modified||S.creation||0);return new Date(E.modified||E.creation||0).getTime()-C.getTime()})};if(o&&g)return _(g);let T=[];if(c&&c.length>0&&(T=T.concat(c)),g&&g.length>0){const A=g.filter(k=>k.owner===t||k.user&&k.user===t);T=T.concat(A)}return _(T)},[c,g,t,o]),v=ye.useCallback(()=>fe(null,null,function*(){console.log("Mutating ownedProjects and allProjects...");try{yield Promise.all([f(),y()]),console.log("Data refreshed successfully")}catch(_){console.error("Error refreshing data:",_)}}),[f,y]);return{data:j,isLoading:d||p||n,error:h&&b?h||b:null,mutate:v}}static useProject(t){const{data:s,isLoading:n,error:i,mutate:o}=Tt("Project",t||"",t?"Project":void 0);return{data:s,isLoading:n,error:i,mutate:o}}static useProjectOwner(t){const{data:s,isLoading:n,error:i}=Tt("User",t||"",t?void 0:null);return{data:s,isLoading:n,error:i}}static useCreateProject(){const{createDoc:t,loading:s,error:n}=Qi();return{createProject:o=>fe(null,null,function*(){return yield t("Project",ie(F({},o),{expected_start_date:o.expected_start_date||void 0,expected_end_date:o.expected_end_date||void 0}))}),isLoading:s,error:n}}static useUpdateProject(){const{updateDoc:t,loading:s,error:n}=En();return{updateProject:(o,c)=>fe(null,null,function*(){return yield t("Project",o,ie(F({},c),{expected_start_date:c.expected_start_date||void 0,expected_end_date:c.expected_end_date||void 0}))}),isLoading:s,error:n}}static useDeleteProject(){const{call:t,loading:s,error:n}=Is("frappe.client.delete");return{deleteProject:o=>fe(null,null,function*(){return yield t({doctype:"Project",name:o})}),isLoading:s,error:n}}static useProjectMembers(){const{call:t}=Is("frappe.client.insert"),{call:s}=Is("frappe.client.save"),{call:n}=Is("frappe.client.delete");return{addMember:d=>fe(null,null,function*(){return yield t({doc:ie(F({doctype:"Project User"},d),{welcome_email_sent:1})})}),updateMember:(d,h)=>fe(null,null,function*(){return yield s({doc:F({doctype:"Project User",name:d},h)})}),removeMember:d=>fe(null,null,function*(){return yield n({doctype:"Project User",name:d})})}}static useProjectOwnerManagement(){const{call:t}=Is("frappe.client.save"),{call:s}=Is("frappe.client.set_value");return{transferOwner:(o,c)=>fe(null,null,function*(){try{return yield t({doc:{doctype:"Project",name:o,owner:c}}),{success:!0,method:"save"}}catch(d){try{return yield s({doctype:"Project",name:o,fieldname:"owner",value:c}),{success:!0,method:"set_value"}}catch(h){throw new Error("Owner field is protected by ERPNext")}}}),transferOwnerWithAPI:(o,c)=>fe(null,null,function*(){try{const d=yield fetch("/api/method/my_app.api.project_transfer.transfer_project_owner",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({project_name:o,new_owner:c})}),h=yield d.json();return d.ok&&h.message?{success:!0,data:h.message}:{success:!1,error:h.message||"Transfer failed"}}catch(d){return{success:!1,error:d instanceof Error?d.message:"Unknown error"}}})}}static useProjectUsers(t){const{data:s,isLoading:n,error:i,mutate:o}=Tt("Project",t,{fields:["name","users"]});return{data:(s==null?void 0:s.users)||[],isLoading:n,error:i,mutate:o}}static useProjectUsersAlt(t){const{data:s,isLoading:n,error:i,mutate:o}=ft("Project User",{fields:["name","user","email","full_name","image"],filters:[["parent","=",t]],limit:0});return{data:s||[],isLoading:n,error:i,mutate:o}}};kt(Fo,"PROJECT_FIELDS",["name","owner","creation","modified","project_name","project_type","status","customer","department","team","expected_start_date","expected_end_date","percent_complete","priority","estimated_costing","total_billable_amount","company","users.user","users.email","users.full_name","users.project_status"]),kt(Fo,"DETAILED_PROJECT_FIELDS",[...Fo.PROJECT_FIELDS,"creation","modified","modified_by","description","notes","expected_start_date","actual_start_date","actual_end_date","total_costing_amount","total_purchase_cost","total_sales_amount","total_billed_amount","users"]);let iu=Fo;const mL=iu.useUserProjects,gL=iu.useCreateProject,pL=iu.useUpdateProject;class Ir{static useDocTypeOptions(t,s={}){const{fields:n=["name"],filters:i=[],limit:o=100}=s,{data:c,isLoading:d,error:h}=ft(t,{fields:n,filters:i,limit:o});return{data:c||[],isLoading:d,error:h}}static useCustomers(){return Ir.useDocTypeOptions("Customer",{fields:["name","customer_name","customer_type"],filters:[["disabled","=",0]]})}static useCompanies(){return Ir.useDocTypeOptions("Company",{fields:["name","company_name","abbr"],filters:[["is_group","=",0]]})}static useProjectTypes(){return Ir.useDocTypeOptions("Project Type",{fields:["name","description"]})}static useDepartments(){return Ir.useDocTypeOptions("Department",{fields:["name","department_name","parent_department"],filters:[["disabled","=",0]]})}static useCostCenters(){return Ir.useDocTypeOptions("Cost Center",{fields:["name","cost_center_name","parent_cost_center"],filters:[["disabled","=",0],["is_group","=",0]]})}static useProjectTemplates(){return Ir.useDocTypeOptions("Project Template",{fields:["name","project_template_name"]})}static useTeams(){return Ir.useDocTypeOptions("Team",{fields:["name","team","department"]})}}const dS=Ir.useTeams;class xL{static useCreatePhaseTask(){const{createDoc:t,loading:s}=Qi(),{call:n}=Is("frappe.client.insert"),{call:i}=Is("frappe.client.save"),{data:o}=Tt("User","",{shouldFetch:!0});return{createTaskWithPhase:d=>fe(null,null,function*(){try{const h=yield t("Task",{subject:d.subject,description:d.description,priority:d.priority,status:d.status,type:d.type,expected_time:d.expected_time,task_weight:d.task_weight,exp_start_date:d.exp_start_date||null,exp_end_date:d.exp_end_date||null,project:d.project});let f=null;if(d.assign_to&&h)try{f=yield n({doc:{doctype:"ToDo",allocated_to:d.assign_to,assigned_by:(o==null?void 0:o.name)||"",description:`Task: ${d.subject}`,reference_type:"Task",reference_name:h.name,status:"Open",priority:d.priority,date:new Date().toISOString().split("T")[0]}})}catch(g){console.error("Error creating ToDo:",g)}if(d.phaseId&&h){const g={parent:d.phaseId,parenttype:"project_phase",parentfield:"tasks",task:h.name,task_name:h.subject,status:h.status,start_date:h.exp_start_date,end_date:h.exp_end_date,description:h.description},p=yield n({doc:F({doctype:"Project Phase Task"},g)});console.log("Project Phase Task created successfully:",p);try{console.log("Saving parent phase document to commit child table changes...");const b=yield i({doc:{doctype:"project_phase",name:d.phaseId}});console.log("Parent phase saved successfully:",b)}catch(b){console.warn("Failed to save parent phase, but child was created:",b)}return{success:!0,task:h,phaseTask:p,todo:f,message:"Task created and linked to phase successfully"}}return{success:!0,task:h,todo:f,message:"Task created successfully"}}catch(h){throw console.error("Error in createTaskWithPhase:",h),h}}),isLoading:s}}static useLinkTaskToPhase(){const{call:t}=Is("frappe.client.insert");return{linkTaskToPhase:(n,i,o)=>fe(null,null,function*(){try{const c={parent:i,parenttype:"Project Phase",parentfield:"tasks",task:n,task_name:(o==null?void 0:o.task_name)||n,status:(o==null?void 0:o.status)||"Open",start_date:o==null?void 0:o.start_date,end_date:o==null?void 0:o.end_date,description:o==null?void 0:o.description};return{success:!0,phaseTask:yield t({doc:F({doctype:"Project Phase Task"},c)}),message:"Task linked to phase successfully"}}catch(c){return console.error("Error linking task to phase:",c),{success:!1,error:c instanceof Error?c.message:"Unknown error",message:"Failed to link task to phase"}}})}}}const yL=xL.useCreatePhaseTask;class uS{static useUpdateTask(){const{updateDoc:t,loading:s,error:n}=En();return{updateTask:(o,c)=>fe(null,null,function*(){const g=c,{assign_to:d}=g,h=$e(g,["assign_to"]),f=yield t("Task",o,ie(F({},h),{exp_start_date:h.exp_start_date||void 0,exp_end_date:h.exp_end_date||void 0}));return h.progress!==void 0&&(console.log(`Task ${o} progress updated, signaling phase progress update...`),localStorage.setItem("task_progress_updated",o),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:o}))),f}),isLoading:s,error:n}}static useTaskAssignment(){const{createDoc:t}=Qi(),{deleteDoc:s}=lm(),{data:n}=Tt("User","",{shouldFetch:!0});return{assignTask:(c,d,h,f="Medium")=>fe(null,null,function*(){return yield t("ToDo",{allocated_to:h,assigned_by:(n==null?void 0:n.name)||"",description:`Task: ${d}`,reference_type:"Task",reference_name:c,status:"Open",priority:f,date:new Date().toISOString().split("T")[0]})}),unassignTask:c=>fe(null,null,function*(){return yield s("ToDo",c)})}}}const hS=uS.useUpdateTask,fS=uS.useTaskAssignment;class mS{static useUpdatePhase(){const{updateDoc:t,loading:s,error:n}=En();return{updatePhase:(o,c)=>fe(null,null,function*(){return t("project_phase",o,c)}),isLoading:s,error:n}}static usePhaseAssignment(){const{createDoc:t}=Qi(),{deleteDoc:s}=lm(),{data:n}=Tt("User","",{shouldFetch:!0});return{assignPhase:(c,d)=>fe(null,null,function*(){return t("ToDo",{allocated_to:d,assigned_by:(n==null?void 0:n.name)||"",reference_type:"project_phase",reference_name:c,description:`Assigned to phase: ${c}`,status:"Open"})}),unassignPhase:c=>fe(null,null,function*(){return s("ToDo",c)})}}}const bL=mS.useUpdatePhase,gS=mS.usePhaseAssignment;class vL{static useUpdateSubTask(){const{updateDoc:t,loading:s,error:n}=En();return{updateSubTask:(o,c)=>fe(null,null,function*(){return yield t("SubTask",o,c)}),isLoading:s,error:n}}static useSubTaskAssignment(){const{createDoc:t}=Qi(),{deleteDoc:s}=lm(),{data:n}=Tt("User","",{shouldFetch:!0});return{assignSubTask:(c,d)=>fe(null,null,function*(){return yield t("ToDo",{allocated_to:d,assigned_by:(n==null?void 0:n.name)||"",reference_type:"SubTask",reference_name:c,description:`Assignment for SubTask: ${c}`,status:"Open"})}),unassignSubTask:c=>fe(null,null,function*(){return yield s("ToDo",c)})}}}const{useUpdateSubTask:pS,useSubTaskAssignment:fy}=vL,Qo=e=>{const{data:t,isLoading:s,error:n}=Tt("Project",e,{fields:["name","users"]}),{data:i,isLoading:o}=Tt("Project",(t==null?void 0:t.name)||"",t!=null&&t.name?"Project":void 0);return{data:(i==null?void 0:i.users)||(t==null?void 0:t.users)||[],isLoading:s||o,error:n}};class wL{static useTaskProgressCalculation(){const{updateDoc:t}=En();return{calculateAndUpdateTaskProgress:n=>fe(null,null,function*(){try{const i=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name","status"],filters:[["task","=",n]]})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=(yield i.json()).message||[];if(!c||c.length===0)return null;let d=0;c.forEach(f=>{switch(f.status){case"Open":d+=1;break;case"Working":d+=50;break;case"Completed":d+=100;break;default:d+=0}});const h=Math.round(d/c.length);return yield t("Task",n,{progress:h}),console.log(`Task ${n} progress updated to ${h}%, signaling phase progress update...`),localStorage.setItem("task_progress_updated",n),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:n})),console.log(`Task ${n} progress updated to ${h}%`),h}catch(i){return console.error("Error calculating task progress:",i),null}})}}static useTaskStatusProgressUpdate(){const{updateDoc:t}=En();return{updateTaskProgressByStatus:(n,i,o)=>fe(null,null,function*(){try{let c=o||0;switch(i){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("Task",n,{status:i,progress:c}),console.log(`Task ${n} status/progress updated, signaling phase progress update...`),localStorage.setItem("task_progress_updated",n),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:n})),c}catch(c){return console.error("Error updating task progress by status:",c),null}})}}static useManualProgressUpdate(){const{updateDoc:t}=En();return{updateTaskProgress:(n,i)=>fe(null,null,function*(){try{let o="";return i===0||i===1?o="Open":i>1&&i<=90?o="Working":i>90&&i<100?o="Pending Review":i===100&&(o="Completed"),yield t("Task",n,{progress:i,status:o}),console.log(`Task ${n} manual progress updated to ${i}%, signaling phase progress update...`),localStorage.setItem("task_progress_updated",n),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:n})),{progress:i,status:o}}catch(o){return console.error("Error updating manual task progress:",o),null}})}}}const{useTaskProgressCalculation:wu,useTaskStatusProgressUpdate:xS,useManualProgressUpdate:yS}=wL;class bS{static usePhaseProgressCalculation(){const{updateDoc:t}=En();return{calculateAndUpdatePhaseProgress:n=>fe(null,null,function*(){try{const i=yield fetch("/api/method/frappe.client.get",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",name:n})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=(yield i.json()).message;if(!c||!c.tasks||c.tasks.length===0)return yield t("project_phase",n,{progress:0}),console.log(`Phase ${n} progress updated to 0% (no tasks)`),0;const d=c.tasks.map(y=>y.task);console.log(`Phase ${n} has ${d.length} tasks:`,d);const h=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["name","in",d]]})});if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);const g=(yield h.json()).message||[];if(g.length===0)return yield t("project_phase",n,{progress:0}),console.log(`Phase ${n} progress updated to 0% (no valid tasks)`),0;let p=0;g.forEach(y=>{const j=y.progress||0;console.log(`Task ${y.name}: ${j}%`),p+=j});const b=Math.round(p/g.length);return console.log(`Calculated phase progress: ${b}% (from ${g.length} tasks)`),yield t("project_phase",n,{progress:b}),console.log(`Phase ${n} progress updated to ${b}% (based on ${g.length} tasks)`),b}catch(i){return console.error("Error calculating phase progress:",i),null}})}}static usePhaseStatusProgressUpdate(){const{updateDoc:t}=En();return{updatePhaseProgressByStatus:(n,i,o)=>fe(null,null,function*(){try{let c=o||0;switch(i){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("project_phase",n,{status:i,progress:c}),c}catch(c){return console.error("Error updating phase progress by status:",c),null}})}}static useManualPhaseProgressUpdate(){const{updateDoc:t}=En();return{updatePhaseProgress:(n,i)=>fe(null,null,function*(){try{let o="";return i===0||i===1?o="Open":i>1&&i<=90?o="Working":i>90&&i<100?o="Pending Review":i===100&&(o="Completed"),yield t("project_phase",n,{progress:i,status:o}),{progress:i,status:o}}catch(o){return console.error("Error updating manual phase progress:",o),null}})}}}const{usePhaseProgressCalculation:vS}=bS,jL=e=>fe(null,null,function*(){const{calculateAndUpdatePhaseProgress:t}=bS.usePhaseProgressCalculation();return yield t(e)});class my{static useProjectProgressFromPhases(){const{updateDoc:t}=En();return{calculateAndUpdateProjectProgressFromPhases:n=>fe(null,null,function*(){try{const i=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",n]]})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=(yield i.json()).message||[];if(!c||c.length===0){const{calculateAndUpdateProjectProgressFromTasks:f}=my.useProjectProgressFromTasks();return yield f(n)}let d=0;c.forEach(f=>{d+=f.progress||0});const h=Math.round(d/c.length);return yield t("Project",n,{percent_complete:h}),h}catch(i){return console.error("Error calculating project progress from phases:",i),null}})}}static useProjectProgressFromTasks(){const{updateDoc:t}=En();return{calculateAndUpdateProjectProgressFromTasks:n=>fe(null,null,function*(){try{const i=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",n]]})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=(yield i.json()).message||[];if(!c||c.length===0)return yield t("Project",n,{percent_complete:0}),0;let d=0;c.forEach(f=>{d+=f.progress||0});const h=Math.round(d/c.length);return yield t("Project",n,{percent_complete:h}),h}catch(i){return console.error("Error calculating project progress from tasks:",i),null}})}}static useProjectProgressCalculation(){const{updateDoc:t}=En();return{calculateAndUpdateProjectProgress:n=>fe(null,null,function*(){try{const i=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",n]]})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=(yield i.json()).message||[];console.log("Found phases:",c.length);const d=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",n]]})});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const f=(yield d.json()).message||[];if(console.log("Found tasks:",f.length),c&&c.length>0){const g=[];for(const v of c)try{const _=yield fetch(`/api/resource/project_phase/${v.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(_.ok){const T=yield _.json();T.data.tasks&&T.data.tasks.length>0&&T.data.tasks.forEach(A=>{A.task&&g.push(A.task)})}}catch(_){console.warn("Error fetching phase document:",v.name,_)}console.log("Tasks in phases:",g);const p=f.filter(v=>!g.includes(v.name));console.log("Standalone tasks:",p.length);let b=0,y=0;c.forEach(v=>{const _=v.progress||0;console.log(`Phase ${v.name}: ${_}%`),b+=_,y+=1}),p.forEach(v=>{const _=v.progress||0;console.log(`Standalone Task ${v.name}: ${_}%`),b+=_,y+=1}),console.log(`Total components: ${y}, Total progress: ${b}`);const j=y>0?Math.round(b/y):0;return console.log(`Calculated average progress: ${j}%`),yield t("Project",n,{percent_complete:j}),{progress:j,source:"mixed",count:y,phases:c.length,standaloneTasks:p.length}}else if(f&&f.length>0){console.log("No phases found, calculating from all tasks");let g=0;f.forEach(b=>{g+=b.progress||0});const p=Math.round(g/f.length);return console.log(`Task-based progress: ${p}%`),yield t("Project",n,{percent_complete:p}),{progress:p,source:"tasks",count:f.length}}else return console.log("No phases or tasks found"),yield t("Project",n,{percent_complete:0}),{progress:0,source:"none",count:0}}catch(i){return console.error("Error calculating project progress:",i),null}})}}static useProjectStatusProgressUpdate(){const{updateDoc:t}=En();return{updateProjectProgressByStatus:(n,i,o)=>fe(null,null,function*(){try{let c=o||0;switch(i){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("Project",n,{status:i,percent_complete:c}),c}catch(c){return console.error("Error updating project progress by status:",c),null}})}}}const{useProjectProgressCalculation:NL}=my;class _L{static useProjectCascadeDelete(){const{call:t}=Is("frappe.client.delete"),{call:s}=Is("frappe.client.get_list");return{deleteProjectCascade:i=>fe(null,null,function*(){try{console.log(`Starting cascade delete for project: ${i}`);try{const y=yield s({doctype:"Project",fields:["name"],filters:[["name","=",i]],limit_page_length:1});if(!(y!=null&&y.message)||y.message.length===0)throw new Error(`Project ${i} not found`)}catch(y){throw console.error("Project validation failed:",y),new Error(`Project validation failed: ${y instanceof Error?y.message:"Unknown validation error"}`)}let o=0,c=0,d=0;console.log("Step 1: Fetching all tasks...");let h=[];try{const y=yield s({doctype:"Task",fields:["name"],filters:[["project","=",i]],limit_page_length:1e3});h=(y==null?void 0:y.message)||[],console.log(`Found ${h.length} tasks to delete`)}catch(y){console.error("Error fetching tasks:",y),console.log("Continuing with deletion despite task fetch error...")}if(h.length>0){console.log(`Step 2: Processing ${h.length} tasks for subtask deletion...`);for(const y of h){console.log(`Step 2: Deleting subtasks for task ${y.name}...`);try{const j=yield s({doctype:"SubTask",fields:["name"],filters:[["task","=",y.name]],limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];console.log(`Found ${v.length} subtasks for task ${y.name}`);for(const _ of v)try{console.log(`Deleting subtask: ${_.name}`),yield t({doctype:"SubTask",name:_.name}),o++,console.log(`Successfully deleted subtask: ${_.name}`),yield new Promise(T=>setTimeout(T,100))}catch(T){console.error(`Error deleting subtask ${_.name}:`,T)}}catch(j){console.error(`Error fetching subtasks for task ${y.name}:`,j)}}yield new Promise(y=>setTimeout(y,500))}if(h.length>0){console.log(`Step 3: Deleting ${h.length} tasks...`);for(const y of h)try{console.log(`Deleting task: ${y.name}`),yield t({doctype:"Task",name:y.name}),c++,console.log(`Successfully deleted task: ${y.name}`),yield new Promise(j=>setTimeout(j,100))}catch(j){console.error(`Error deleting task ${y.name}:`,j)}yield new Promise(y=>setTimeout(y,500))}console.log("Step 4: Deleting all phases...");let f=[];try{const y=yield s({doctype:"project_phase",fields:["name"],filters:[["project","=",i]],limit_page_length:1e3});f=(y==null?void 0:y.message)||[],console.log(`Found ${f.length} phases to delete`)}catch(y){console.error("Error fetching phases:",y),console.log("Continuing with deletion despite phase fetch error...")}for(const y of f)try{console.log(`Deleting phase: ${y.name}`),yield t({doctype:"project_phase",name:y.name}),d++,console.log(`Successfully deleted phase: ${y.name}`),yield new Promise(j=>setTimeout(j,100))}catch(j){console.error(`Error deleting phase ${y.name}:`,j)}f.length>0&&(yield new Promise(y=>setTimeout(y,500))),console.log("Step 5: Deleting ToDo assignments...");try{const y=yield s({doctype:"ToDo",fields:["name"],filters:[["reference_type","in",["Project","Task","SubTask"]],["reference_name","like",`%${i}%`]],limit_page_length:1e3}),j=(y==null?void 0:y.message)||[];console.log(`Found ${j.length} ToDo assignments to delete`);for(const v of j)try{yield t({doctype:"ToDo",name:v.name})}catch(_){console.error(`Error deleting ToDo ${v.name}:`,_)}}catch(y){console.error("Error fetching/deleting ToDo assignments:",y)}console.log("Step 6: Deleting project users...");try{const y=yield s({doctype:"Project User",fields:["name"],filters:[["parent","=",i]],limit_page_length:1e3}),j=(y==null?void 0:y.message)||[];console.log(`Found ${j.length} project users to delete`);for(const v of j)try{yield t({doctype:"Project User",name:v.name})}catch(_){console.error(`Error deleting Project User ${v.name}:`,_)}}catch(y){console.error("Error fetching/deleting project users:",y)}console.log("Step 6.5: Performing comprehensive dependency cleanup...");const g=[{doctype:"Task",filter:[["project","=",i]]},{doctype:"SubTask",filter:[["project","=",i]]},{doctype:"project_phase",filter:[["project","=",i]]},{doctype:"Project User",filter:[["parent","=",i]]},{doctype:"ToDo",filter:[["reference_type","=","Project"],["reference_name","=",i]]},{doctype:"ToDo",filter:[["reference_type","=","Task"],["reference_name","like",`%${i}%`]]},{doctype:"Communication",filter:[["reference_doctype","=","Project"],["reference_name","=",i]]},{doctype:"File",filter:[["attached_to_doctype","=","Project"],["attached_to_name","=",i]]},{doctype:"Comment",filter:[["reference_doctype","=","Project"],["reference_name","=",i]]}];for(const y of g)try{console.log(`Checking for remaining ${y.doctype} dependencies...`);const j=yield s({doctype:y.doctype,fields:["name"],filters:y.filter,limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];if(v.length>0){console.log(`Found ${v.length} remaining ${y.doctype} items, deleting them...`);for(const _ of v)try{yield t({doctype:y.doctype,name:_.name}),console.log(`Deleted remaining ${y.doctype}: ${_.name}`),yield new Promise(T=>setTimeout(T,100))}catch(T){console.error(`Error deleting remaining ${y.doctype} ${_.name}:`,T)}}else console.log(`No remaining ${y.doctype} dependencies found.`)}catch(j){console.error(`Error checking ${y.doctype} dependencies:`,j)}yield new Promise(y=>setTimeout(y,1e3)),console.log("Step 7: Deleting the project..."),yield new Promise(y=>setTimeout(y,1e3));let p=0;const b=3;for(;p<b;)try{p++,console.log(`Attempting to delete project ${i} (attempt ${p}/${b})`),yield t({doctype:"Project",name:i}),console.log(`Verifying project ${i} deletion...`);try{const y=yield s({doctype:"Project",fields:["name"],filters:[["name","=",i]],limit_page_length:1});if(y!=null&&y.message&&y.message.length>0)throw new Error("Project still exists after deletion attempt");console.log(`Successfully verified project ${i} deletion`)}catch(y){if(y.message==="Project still exists after deletion attempt")throw y;console.log(`Project ${i} not found during verification - deletion successful`)}console.log(`Successfully deleted project: ${i}`);break}catch(y){if(console.error(`Error deleting project ${i} (attempt ${p}):`,y),p<b){console.log(`Waiting before retry attempt ${p+1}...`),yield new Promise(j=>setTimeout(j,2e3)),console.log("Attempting to clean up remaining dependencies...");try{const j=yield s({doctype:"Project User",fields:["name"],filters:[["parent","=",i]],limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];if(v.length>0){console.log(`Found ${v.length} remaining project users, deleting them...`);for(const _ of v)try{yield t({doctype:"Project User",name:_.name}),console.log(`Deleted remaining project user: ${_.name}`)}catch(T){console.error(`Error deleting remaining project user ${_.name}:`,T)}}}catch(j){console.error("Error during dependency cleanup:",j)}try{const j=yield s({doctype:"ToDo",fields:["name"],filters:[["reference_type","=","Project"],["reference_name","=",i]],limit_page_length:1e3}),v=(j==null?void 0:j.message)||[];if(v.length>0){console.log(`Found ${v.length} remaining todos, deleting them...`);for(const _ of v)try{yield t({doctype:"ToDo",name:_.name}),console.log(`Deleted remaining todo: ${_.name}`)}catch(T){console.error(`Error deleting remaining todo ${_.name}:`,T)}}}catch(j){console.error("Error during todo cleanup:",j)}}else{let j="Unknown project deletion error";if(y&&typeof y=="object")if(console.error("Full project deletion error object:",JSON.stringify(y,null,2)),y.message)j=y.message;else if(y.exc)j=y.exc;else if(y._server_messages)try{const v=JSON.parse(y._server_messages);Array.isArray(v)&&v.length>0&&(j=JSON.parse(v[0]).message||j)}catch(v){console.error("Error parsing server messages:",v)}else j=JSON.stringify(y);else typeof y=="string"&&(j=y);throw new Error(`Failed to delete project ${i} after ${b} attempts: ${j}`)}}return console.log(`Successfully completed cascade delete for project: ${i}`),{success:!0,deletedItems:{subtasks:o,tasks:c,phases:d,project:1}}}catch(o){console.error("Error in cascade delete:",o);let c="Unknown error";throw o instanceof Error?c=o.message:typeof o=="string"?c=o:o&&typeof o=="object"&&(c=o.message||o.error||o.exc||JSON.stringify(o)),new Error(`Failed to delete project and related items: ${c}`)}})}}}const{useProjectCascadeDelete:TL}=_L;class gy{static useUserTodos(){const{data:t}=Tt("User","",{shouldFetch:!0}),{data:s,isLoading:n,error:i,mutate:o}=ft("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",(t==null?void 0:t.name)||""],["reference_type","=","Task"]],orderBy:{field:"creation",order:"desc"},limit:0},t!=null&&t.name?"user-todos":null);return{todos:s||[],isLoading:n,error:i,mutate:o,currentUser:t}}static useUserTodosEnriched(){const{data:t}=Tt("User","",{shouldFetch:!0}),{data:s,isLoading:n,error:i,mutate:o}=Z4("todo.api.get_user_todos_with_task_info",{user:(t==null?void 0:t.name)||""},t!=null&&t.name?"user-todos-enriched":null,{revalidateOnFocus:!1,revalidateOnReconnect:!1});return{todos:(s==null?void 0:s.message)||[],isLoading:n,error:i,mutate:o,currentUser:t}}static useUserTodosWithTaskData(){const{todos:t,isLoading:s,error:n,mutate:i,currentUser:o}=gy.useUserTodos();return{todos:t.map(d=>(d.reference_type==="Task"&&d.reference_name,d)),isLoading:s,error:n,mutate:i,currentUser:o}}static useAllTodos(){const{data:t,isLoading:s,error:n}=ft("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by"],filters:[["reference_type","in",["Task","SubTask"]]],limit:0});return{todos:t||[],isLoading:s,error:n}}}const SL=gy.useAllTodos;class kL{static useUserAssignedTasks(){const{currentUser:t}=on(),{data:s,isLoading:n,error:i,mutate:o}=ft("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",t||""]],orderBy:{field:"creation",order:"desc"},limit:0},t?"user-assigned-todos":null),d=(s||[]).filter(W=>W.reference_type==="Task").map(W=>W.reference_name).filter(Boolean),f=(s||[]).filter(W=>W.reference_type==="SubTask").map(W=>W.reference_name).filter(Boolean),{data:g,isLoading:p,error:b,mutate:y}=ft("Task",{fields:["name","subject","project","status","priority","type","expected_time","actual_time","exp_start_date","exp_end_date","progress","is_group","parent_task","description","company","department"],filters:d.length>0?[["name","in",d]]:[["name","=","nonexistent"]],limit:0},d.length>0?"user-assigned-tasks":null),{data:j,isLoading:v,error:_,mutate:T}=ft("SubTask",{fields:["name","subject","task","status","start_date","end_date","description","assigned_to"],filters:f.length>0?[["name","in",f]]:[["name","=","nonexistent"]],limit:0},f.length>0?"user-assigned-subtasks":null),A=[...new Set((j||[]).map(W=>W.task).filter(Boolean))],{data:k}=ft("Task",{fields:["name","subject","project"],filters:A.length>0?[["name","in",A]]:[["name","=","nonexistent"]],limit:0},A.length>0?"parent-tasks-for-subtasks":null),S=[...new Set([...(g||[]).map(W=>W.project).filter(Boolean),...(k||[]).map(W=>W.project).filter(Boolean)])],{data:E}=ft("Project",{fields:["name","project_name"],filters:S.length>0?[["name","in",S]]:[["name","=","nonexistent"]],limit:0},S.length>0?"projects-for-assigned-tasks":null),C=(E||[]).reduce((W,K)=>(W[K.name]=K.project_name||K.name,W),{}),z=(k||[]).reduce((W,K)=>(W[K.name]=K,W),{}),L=(s||[]).reduce((W,K)=>(K.reference_name&&(W[K.reference_name]=K),W),{}),R=(g||[]).map(W=>ie(F({},W),{project_name:W.project?C[W.project]:void 0,assignedTodo:L[W.name]})),V=(j||[]).map(W=>{const K=W.task?z[W.task]:void 0;return ie(F({},W),{task_subject:K==null?void 0:K.subject,project_name:K!=null&&K.project?C[K.project]:void 0,assignedTodo:L[W.name]})});return{tasks:R,subTasks:V,todos:s||[],isLoading:n||p||v,error:i||b||_,mutate:()=>{o(),y(),T()},currentUser:t}}}const CL=kL.useUserAssignedTasks;class wS{static useAllTeamTasks(){const{data:t,isLoading:s,error:n}=ft("Task",{fields:["name","subject","description","status","priority","exp_start_date","exp_end_date","project","type","progress","completed_by"],limit:0}),{data:i,isLoading:o,error:c}=ft("SubTask",{fields:["name","subject","description","status","start_date","end_date","assigned_to","task"],limit:0});return{allTasks:t||[],allSubTasks:i||[],isLoading:s||o,error:n||c}}static getAllTaskOfTeam(){const t=on().currentUser,{data:s}=ft("Team",{filters:[["teamlead","=",t||""]]}),n=(s==null?void 0:s.map(R=>R.name))||[],{data:i}=ft("Project",{fields:["name","team"],filters:[["team","in",n]],limit:0}),o=(i==null?void 0:i.map(R=>R.name))||[],{data:c,isLoading:d,error:h}=ft("Task",{fields:["name","status","exp_end_date","project"],limit:0}),f=(c||[]).filter(R=>o.includes(R.project||"")),{data:g,isLoading:p,error:b}=ft("SubTask",{fields:["name","status","task"],limit:0}),y=f.map(R=>R.name),j=(g||[]).filter(R=>y.includes(R.task||"")),v=R=>(R||"").toLowerCase()==="completed",_=R=>(R||"").toLowerCase()==="working",T=R=>(R||"").toLowerCase()==="cancelled",A=R=>(R||"").toLowerCase()==="overdue",k=new Date;k.setHours(0,0,0,0);const S=R=>{if(A(R.status))return!0;if(!v(R.status)&&!T(R.status)&&R.exp_end_date){const V=new Date(R.exp_end_date);return V.setHours(0,0,0,0),V<k}return!1},E=f.length+j.length,C=f.filter(R=>_(R.status)).length+j.filter(R=>_(R.status)).length,z=f.filter(R=>v(R.status)).length+j.filter(R=>v(R.status)).length,L=f.filter(R=>S(R)).length;return{total:E,working:C,completed:z,overdue:L,isLoading:d||p,error:h||b}}}const EL=wS.useAllTeamTasks,DL=wS.getAllTaskOfTeam,AL=()=>{const{currentUser:e}=on(),{data:t,isLoading:s,error:n}=ft("User",{fields:["name","full_name","user_image","first_name","last_name","email"],filters:[["enabled","=",1],["user_type","=","System User"]],limit:20});return{simpleTeamData:N.useMemo(()=>t?t.map(o=>({id:o.name,name:o.full_name||o.first_name||o.name||"Unknown User",role:o.name===e?"Leader":"Member",avatar:o.user_image||`https://placehold.co/40x40/e2e8f0/475569?text=${(o.first_name||o.full_name||"U").charAt(0).toUpperCase()}`})):[],[t,e]),users:t,isLoading:s,error:n}},OL=({projects:e,selectedProject:t,selectedTeam:s,onProjectChange:n,onTeamChange:i})=>{var v,_;const[o,c]=N.useState({selectedTeam:s,selectedProject:t}),[d,h]=N.useState(!1),{data:f}=dS(),g=(T,A)=>{c(k=>ie(F({},k),{[T]:A})),T==="selectedTeam"?i(A):T==="selectedProject"&&n(A)},p=ye.useMemo(()=>{const T=[{value:"all",label:"Tất cả team"},...(f==null?void 0:f.map(A=>({value:A.name,label:A.team_name||A.name})))||[]];return[T[0],...T.slice(1).sort((A,k)=>A.label.localeCompare(k.label))]},[f]),b=e.filter(T=>!(o.selectedTeam!=="all"&&o.selectedTeam!==""&&T.team!==o.selectedTeam)),y=()=>{c({selectedTeam:"all",selectedProject:"all"}),i("all"),n("all")},j=o.selectedTeam!=="all"||o.selectedProject!=="all";return ye.useEffect(()=>{c(T=>ie(F({},T),{selectedTeam:s,selectedProject:t}))},[s,t]),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>h(!d),className:`inline-flex items-center px-4 py-2 border rounded-lg text-sm font-medium bg-white hover:bg-gray-50 transition-colors ${j?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700"}`,children:[a.jsx(pc,{className:"mr-2 h-4 w-4"}),"Bộ lọc",j&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[o.selectedTeam!=="all"?1:0,o.selectedProject!=="all"?1:0].reduce((T,A)=>T+A,0)})]}),d&&a.jsx("div",{className:"absolute top-full right-0 mt-2 w-96 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Bộ lọc dự án"}),j&&a.jsx("button",{onClick:y,className:"text-sm text-blue-600 hover:text-blue-800",children:"Xóa tất cả"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team"}),a.jsx("select",{value:o.selectedTeam,onChange:T=>g("selectedTeam",T.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!f||f.length===0,children:p.map(T=>a.jsx("option",{value:T.value,children:T.label},T.value))}),(!f||f.length===0)&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Không có team nào"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dự án"}),a.jsxs("select",{value:o.selectedProject,onChange:T=>g("selectedProject",T.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Tất cả dự án"}),b.map(T=>a.jsx("option",{value:T.project_name,children:T.project_name},T.name))]})]})]}),j&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx("span",{children:"Đang áp dụng:"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.selectedTeam!=="all"&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Team: ",(v=p.find(T=>T.value===o.selectedTeam))==null?void 0:v.label,a.jsx("button",{onClick:()=>g("selectedTeam","all"),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]}),o.selectedProject!=="all"&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Dự án: ",(_=b.find(T=>T.project_name===o.selectedProject))==null?void 0:_.project_name,a.jsx("button",{onClick:()=>g("selectedProject","all"),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]})]})]})})]})}),d&&a.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>h(!1)})]})},ML=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),RL=({projects:e,tasks:t,selectedProject:s})=>{const n=s&&s!=="all",i=n?"Task":"Dự án";let o,c,d;if(n){o=t.filter(p=>p.status==="Open"||p.status==="Working"||p.status!=="Completed"&&p.status!=="Cancelled").length,c=t.filter(p=>p.status==="Completed").length;const g=new Date;d=t.filter(p=>p.exp_end_date?new Date(p.exp_end_date)<g&&p.status!=="Completed":!1).length,t.reduce((p,b)=>p+(b.expected_time||0),0)}else{o=e.filter(p=>p.status==="Đang thực hiện"||p.status!=="Hoàn thành"&&p.status!=="Hủy"&&p.percent_complete<100).length,c=e.filter(p=>p.status==="Hoàn thành"||p.percent_complete===100).length;const g=new Date;d=e.filter(p=>new Date(p.expected_end_date)<g&&p.status!=="Hoàn thành"&&p.percent_complete<100).length}const h=e.reduce((g,p)=>g+(p.estimated_costing||0),0),f=[{title:`${i} đang hoạt động`,value:o,icon:NM,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-blue-500 to-blue-600",cardBg:"bg-white",shadow:"shadow-lg shadow-blue-500/20",change:"+55%",changeText:"than last week",changeColor:"text-green-500"},{title:`${i} hoàn thành`,value:c,icon:K_,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-green-500 to-green-600",cardBg:"bg-white",shadow:"shadow-lg shadow-green-500/20",change:"+3%",changeText:"than last month",changeColor:"text-green-500"},{title:`${i} quá hạn`,value:d,icon:Ui,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-pink-500 to-pink-600",cardBg:"bg-white",shadow:"shadow-lg shadow-pink-500/20",change:"+1%",changeText:"than yesterday",changeColor:"text-green-500"},{title:"Chi phí Dự án",value:ML(h),icon:_5,iconColor:"text-white",iconBg:"bg-gradient-to-br from-yellow-200 to-yellow-600",cardBg:"bg-white",shadow:"shadow-lg shadow-yellow-500/20",change:"+91",changeText:"Just updated",changeColor:"text-gray-500"}];return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:f.map((g,p)=>{const b=g.icon;return a.jsx("div",{className:`${g.cardBg} ${g.shadow} rounded-xl p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`${g.iconBg} ${g.iconColor} p-3 rounded-2xl shadow-lg`,children:a.jsx(b,{className:"h-6 w-6"})}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:g.title}),a.jsx("p",{className:`${g.title.includes("Chi phí")?"text-2xl":"text-3xl"} font-bold text-gray-900`,children:g.value})]})]})},p)})})},jS=({title:e,children:t,className:s=""})=>a.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 mb-6 ${s}`,children:[e&&a.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-4",children:e}),t]}),PL=({projects:e,tasks:t,selectedProject:s})=>{const n=s&&s!=="all",i=ye.useMemo(()=>{const g=new Date;return g.setHours(0,0,0,0),e.map((b,y)=>({id:`milestone-${y}`,name:b.project_name,project:b.project_name,endDate:new Date(b.expected_end_date),priority:b.priority,status:b.percent_complete===100?"completed":b.percent_complete>0?"in progress":"upcoming",progress:b.percent_complete})).filter(b=>{const y=new Date(b.endDate);y.setHours(0,0,0,0);const j=Math.ceil((y.getTime()-g.getTime())/(1e3*60*60*24));return b.status!=="completed"&&j>=0&&j<=15}).sort((b,y)=>{const j=new Date;j.setHours(0,0,0,0);const v=new Date(b.endDate);v.setHours(0,0,0,0);const _=new Date(y.endDate);_.setHours(0,0,0,0);const T=Math.abs(v.getTime()-j.getTime()),A=Math.abs(_.getTime()-j.getTime()),k=T-A;if(k!==0)return k;const S={"Khẩn cấp":0,Cao:1,"Trung bình":2,Thấp:3,Urgent:0,High:1,Medium:2,Low:3};return(S[b.priority]||3)-(S[y.priority]||3)})},[e]),o=ye.useMemo(()=>{if(!n)return[];const g=new Date;return g.setHours(0,0,0,0),t.filter(p=>{if(!p.exp_end_date||p.status==="Completed")return!1;const b=new Date(p.exp_end_date);b.setHours(0,0,0,0);const y=Math.ceil((b.getTime()-g.getTime())/(1e3*60*60*24));return y>=0&&y<=2}).sort((p,b)=>{const y=new Date;y.setHours(0,0,0,0);const j=new Date(p.exp_end_date);j.setHours(0,0,0,0);const v=new Date(b.exp_end_date);v.setHours(0,0,0,0);const _=Math.abs(j.getTime()-y.getTime()),T=Math.abs(v.getTime()-y.getTime()),A=_-T;if(A!==0)return A;const k={Urgent:0,High:1,Medium:2,Low:3};return(k[p.priority]||3)-(k[b.priority]||3)})},[t,n]),c=g=>{switch(g){case"completed":return"bg-green-500";case"in progress":return"bg-blue-500";case"upcoming":return"bg-gray-300";default:return"bg-gray-300"}},d=g=>{switch(g){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},h=g=>g.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),f=g=>{const p=new Date;p.setHours(0,0,0,0);const b=new Date(g);b.setHours(0,0,0,0);const y=Math.ceil((b.getTime()-p.getTime())/(1e3*60*60*24));return y<0?{text:`Quá hạn ${Math.abs(y)} ngày`,color:"text-red-600",urgent:!0}:y===0?{text:"Hôm nay",color:"text-red-600",urgent:!0}:y<=3?{text:`${y} ngày nữa`,color:"text-red-600",urgent:!0}:y<=7?{text:`${y} ngày nữa`,color:"text-orange-600",urgent:!0}:y<=14?{text:`${y} ngày nữa`,color:"text-yellow-600",urgent:!1}:{text:`${y} ngày nữa`,color:"text-gray-600",urgent:!1}};return a.jsx("div",{className:"grid grid-cols-1 gap-8",children:a.jsx(jS,{title:n?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})," ","gần ",a.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn "})," (<2 ngày)"]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Dự án"})," ","sắp ",a.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn"})," (<15 ngày)"]}),children:a.jsx("div",{className:`space-y-6 ${n?o.length>=3?"h-80 overflow-y-auto":"overflow-visible":i.length>=3?"h-80 overflow-y-auto":"overflow-visible"}`,children:n?a.jsxs(a.Fragment,{children:[o.map((g,p)=>{const b=f(new Date(g.exp_end_date));return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:g.subject}),a.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(g.priority)}`,children:g.priority})]}),a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:`text-xs font-medium ${b.color}`,children:b.text})})]})}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(Os,{className:"h-4 w-4 mr-1"}),h(new Date(g.exp_end_date))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Progress"}),a.jsxs("span",{className:"font-medium",children:[g.progress||0,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${g.status==="Completed"?"bg-green-500":g.status==="Working"?"bg-blue-500":"bg-gray-300"}`,style:{width:`${g.progress||0}%`}})})]})]},`task-${p}`)}),o.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Os,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"Không có task nào sắp đến hạn"})]})]}):a.jsxs(a.Fragment,{children:[i.map(g=>{const p=f(g.endDate);return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:g.name}),a.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(g.priority)}`,children:g.priority})]}),a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:`text-xs font-medium ${p.color}`,children:p.text})})]})}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(Os,{className:"h-4 w-4 mr-1"}),h(g.endDate)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Progress"}),a.jsxs("span",{className:"font-medium",children:[g.progress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${c(g.status)}`,style:{width:`${g.progress}%`}})})]})]},g.id)}),i.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Os,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"Không có dự án nào sắp đến hạn"})]})]})})})})},LL=({projects:e,tasks:t,selectedProject:s})=>{const[n,i]=N.useState(null),[o,c]=N.useState(!0),d=j=>{i(v=>v===j?null:j)},h=s&&s!=="all",g=(()=>{if(h){const j={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Open",height:30},working:{projects:[],color:"#f59e0b",lightColor:"#fbbf24",darkColor:"#d97706",label:"Working",height:25},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Completed",height:20},overdue:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Overdue",height:40},cancelled:{projects:[],color:"#6b7280",lightColor:"#9ca3af",darkColor:"#4b5563",label:"Cancelled",height:35}};return t.forEach(v=>{const _=new Date;v.exp_end_date&&new Date(v.exp_end_date)<_&&v.status!=="Completed"&&v.status!=="Cancelled"?j.overdue.projects.push(v):v.status==="Completed"?j.completed.projects.push(v):v.status==="Working"?j.working.projects.push(v):v.status==="Cancelled"?j.cancelled.projects.push(v):j.open.projects.push(v)}),j}else{const j={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Đang mở",height:30},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Hoàn thành",height:20},cancelled:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Đã hủy",height:40}};return e.forEach(v=>{v.status==="Completed"||v.status==="Hoàn thành"?j.completed.projects.push(v):v.status==="Cancelled"||v.status==="Canceled"||v.status==="Hủy"?j.cancelled.projects.push(v):j.open.projects.push(v)}),j}})(),p=h?t.length:e.length,b=j=>{const v={Urgent:4,High:3,Medium:2,Low:1};return j.sort((_,T)=>{const A=v[_.priority]||0;return(v[T.priority]||0)-A})};Object.values(g).forEach(j=>{j.projects=b(j.projects)});const y=()=>{const[j,v]=ye.useState({visible:!1,x:0,y:0,categoryKey:""}),_=360,T=_/2,A=_/2,k=170;let S=0;const E=Object.entries(g).filter(([,R])=>R.projects.length>0),C=(R,V)=>{const I=V.clientX,G=V.clientY;v({visible:!0,x:I+15,y:G-10,categoryKey:R})},z=(R,V)=>{if(j.visible&&j.categoryKey===R){const I=V.clientX,G=V.clientY;v(U=>ie(F({},U),{x:I+15,y:G-10}))}},L=()=>{v({visible:!1,x:0,y:0,categoryKey:""})};return a.jsxs("div",{className:"relative flex flex-col items-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-6 text-center max-w-xs",children:h?"Biểu đồ phân bố Tasks theo trạng thái":"Biểu đồ phân bố dự án theo trạng thái"}),a.jsx("div",{className:"relative",style:{width:_,height:_},children:a.jsxs("svg",{width:_,height:_,className:"absolute top-0 left-0",children:[a.jsx("defs",{children:a.jsx("filter",{id:"dropshadow2d",x:"-20%",y:"-20%",width:"140%",height:"140%",children:a.jsx("feDropShadow",{dx:"2",dy:"4",stdDeviation:"4",floodOpacity:"0.2"})})}),(S=0,E.map(([R,V])=>{const I=V.projects.length/p*100,G=S,U=S+I/100*360;S=U;const W=G*Math.PI/180,K=U*Math.PI/180,$=(G+U)/2*Math.PI/180,ee=T+k*Math.cos(W),se=A+k*Math.sin(W),Ne=T+k*Math.cos(K),P=A+k*Math.sin(K),ne=U-G>180?1:0,ge=E.length===1;let X;ge?X=`M ${T} ${A+k} A ${k} ${k} 0 1 1 ${T} ${A-k} A ${k} ${k} 0 1 1 ${T} ${A+k} Z`:X=[`M ${T} ${A}`,`L ${ee} ${se}`,`A ${k} ${k} 0 ${ne} 1 ${Ne} ${P}`,"Z"].join(" ");const re=k*.7,_e=ge?T:T+re*Math.cos($),me=ge?A:A+re*Math.sin($);return a.jsxs("g",{children:[a.jsx("path",{d:X,fill:V.color,stroke:"white",strokeWidth:"2",filter:"url(#dropshadow2d)",className:"hover:opacity-80 transition-opacity cursor-pointer",onMouseEnter:Pe=>C(R,Pe),onMouseMove:Pe=>z(R,Pe),onMouseLeave:L}),I>5&&a.jsxs("text",{x:_e,y:me,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs font-bold fill-white pointer-events-none",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:[Math.round(I),"%"]})]},`segment-${R}`)}))]})}),j.visible&&j.categoryKey&&g[j.categoryKey]&&a.jsxs("div",{className:"fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-xs pointer-events-none",style:{left:j.x,top:j.y,transform:"translate(-50%, -100%)"},children:[a.jsxs("div",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[a.jsx("div",{className:"w-3 h-3 rounded mr-2",style:{backgroundColor:g[j.categoryKey].color}}),g[j.categoryKey].label," (",g[j.categoryKey].projects.length,")"]}),a.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:g[j.categoryKey].projects.map((R,V)=>a.jsxs("div",{className:"text-xs border-b border-gray-100 pb-1 last:border-b-0",children:[a.jsx("div",{className:"font-medium text-gray-700",children:h?R.subject:R.project_name}),a.jsxs("div",{className:"text-gray-500 flex justify-between",children:[a.jsx("span",{children:h?`${R.progress||0}% hoàn thành`:`${R.percent_complete}% hoàn thành`}),a.jsxs("span",{className:"font-medium",children:["Priority: ",R.priority]})]})]},V))})]})]})};return a.jsx(jS,{title:a.jsx("div",{className:"flex items-center justify-between w-full cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded-md transition-colors",onClick:()=>c(!o),children:a.jsx("div",{className:"flex items-center",children:a.jsx("span",{children:h?a.jsxs(a.Fragment,{children:["Tổng quan ",a.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})]}):a.jsxs(a.Fragment,{children:["Tổng quan ",a.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"dự án"})]})})})}),children:o&&a.jsx("div",{children:p===0?a.jsx("div",{className:"flex flex-col items-center justify-center py-16",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-8xl text-gray-300 mb-6",children:"📊"}),a.jsx("p",{className:"text-xl font-medium text-gray-600 mb-3",children:h?"Không có task nào":"Không có dự án nào"}),a.jsx("p",{className:"text-base text-gray-500 max-w-md",children:h?"Không có task nào đang thực hiện trong dự án này":"Không có dự án nào đang thực hiện"})]})}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx("div",{className:"flex flex-col items-center",children:a.jsx(y,{})}),a.jsx("div",{className:"space-y-4",children:Object.entries(g).map(([j,v])=>v.projects.length>0&&a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>d(j),className:"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between border-l-4",style:{borderLeftColor:v.color},children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:v.color}}),a.jsxs("h4",{className:"font-semibold text-gray-800",children:[v.label," (",v.projects.length,")"]})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${n===j?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),a.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${n===j?"max-h-96":"max-h-0"}`,children:a.jsx("div",{className:"p-4 space-y-2 max-h-80 overflow-y-auto",children:v.projects.map(_=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:h?_.subject:_.project_name}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ml-2 flex-shrink-0 ${_.priority==="Urgent"?"bg-red-100 text-red-800":_.priority==="High"?"bg-orange-100 text-orange-800":_.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:_.priority})]})}),a.jsx("div",{className:"flex flex-col items-end ml-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(h?_.progress||0:_.percent_complete||0,100)}%`,backgroundColor:(()=>{const T=h?_.progress||0:_.percent_complete||0;return T>=100?"#22c55e":T>=70?"#3b82f6":T>=30?"#f59e0b":"#ef4444"})()}})}),a.jsxs("span",{className:"text-xs font-semibold text-gray-600 min-w-[35px] text-right",children:[h?_.progress||0:_.percent_complete||0,"%"]})]})})]},_.name))})})]},j))})]})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ju(e){return e+.5|0}const Mi=(e,t,s)=>Math.max(Math.min(e,s),t);function $d(e){return Mi(ju(e*2.55),0,255)}function Li(e){return Mi(ju(e*255),0,255)}function qr(e){return Mi(ju(e/2.55)/100,0,1)}function tN(e){return Mi(ju(e*100),0,100)}const xa={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},cx=[..."0123456789ABCDEF"],BL=e=>cx[e&15],FL=e=>cx[(e&240)>>4]+cx[e&15],Zh=e=>(e&240)>>4===(e&15),zL=e=>Zh(e.r)&&Zh(e.g)&&Zh(e.b)&&Zh(e.a);function UL(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&xa[e[1]]*17,g:255&xa[e[2]]*17,b:255&xa[e[3]]*17,a:t===5?xa[e[4]]*17:255}:(t===7||t===9)&&(s={r:xa[e[1]]<<4|xa[e[2]],g:xa[e[3]]<<4|xa[e[4]],b:xa[e[5]]<<4|xa[e[6]],a:t===9?xa[e[7]]<<4|xa[e[8]]:255})),s}const HL=(e,t)=>e<255?t(e):"";function $L(e){var t=zL(e)?BL:FL;return e?"#"+t(e.r)+t(e.g)+t(e.b)+HL(e.a,t):void 0}const VL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function NS(e,t,s){const n=t*Math.min(s,1-s),i=(o,c=(o+e/30)%12)=>s-n*Math.max(Math.min(c-3,9-c,1),-1);return[i(0),i(8),i(4)]}function IL(e,t,s){const n=(i,o=(i+e/60)%6)=>s-s*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function qL(e,t,s){const n=NS(e,1,.5);let i;for(t+s>1&&(i=1/(t+s),t*=i,s*=i),i=0;i<3;i++)n[i]*=1-t-s,n[i]+=t;return n}function WL(e,t,s,n,i){return e===i?(t-s)/n+(t<s?6:0):t===i?(s-e)/n+2:(e-t)/n+4}function py(e){const s=e.r/255,n=e.g/255,i=e.b/255,o=Math.max(s,n,i),c=Math.min(s,n,i),d=(o+c)/2;let h,f,g;return o!==c&&(g=o-c,f=d>.5?g/(2-o-c):g/(o+c),h=WL(s,n,i,g,o),h=h*60+.5),[h|0,f||0,d]}function xy(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(Li)}function yy(e,t,s){return xy(NS,e,t,s)}function YL(e,t,s){return xy(qL,e,t,s)}function GL(e,t,s){return xy(IL,e,t,s)}function _S(e){return(e%360+360)%360}function XL(e){const t=VL.exec(e);let s=255,n;if(!t)return;t[5]!==n&&(s=t[6]?$d(+t[5]):Li(+t[5]));const i=_S(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?n=YL(i,o,c):t[1]==="hsv"?n=GL(i,o,c):n=yy(i,o,c),{r:n[0],g:n[1],b:n[2],a:s}}function KL(e,t){var s=py(e);s[0]=_S(s[0]+t),s=yy(s),e.r=s[0],e.g=s[1],e.b=s[2]}function QL(e){if(!e)return;const t=py(e),s=t[0],n=tN(t[1]),i=tN(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${i}%, ${qr(e.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const sN={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},nN={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ZL(){const e={},t=Object.keys(nN),s=Object.keys(sN);let n,i,o,c,d;for(n=0;n<t.length;n++){for(c=d=t[n],i=0;i<s.length;i++)o=s[i],d=d.replace(o,sN[o]);o=parseInt(nN[c],16),e[d]=[o>>16&255,o>>8&255,o&255]}return e}let Jh;function JL(e){Jh||(Jh=ZL(),Jh.transparent=[0,0,0,0]);const t=Jh[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const eB=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function tB(e){const t=eB.exec(e);let s=255,n,i,o;if(t){if(t[7]!==n){const c=+t[7];s=t[8]?$d(c):Mi(c*255,0,255)}return n=+t[1],i=+t[3],o=+t[5],n=255&(t[2]?$d(n):Mi(n,0,255)),i=255&(t[4]?$d(i):Mi(i,0,255)),o=255&(t[6]?$d(o):Mi(o,0,255)),{r:n,g:i,b:o,a:s}}}function sB(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${qr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const f0=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Vl=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function nB(e,t,s){const n=Vl(qr(e.r)),i=Vl(qr(e.g)),o=Vl(qr(e.b));return{r:Li(f0(n+s*(Vl(qr(t.r))-n))),g:Li(f0(i+s*(Vl(qr(t.g))-i))),b:Li(f0(o+s*(Vl(qr(t.b))-o))),a:e.a+s*(t.a-e.a)}}function ef(e,t,s){if(e){let n=py(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,t===0?360:1)),n=yy(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function TS(e,t){return e&&Object.assign(t||{},e)}function aN(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Li(e[3]))):(t=TS(e,{r:0,g:0,b:0,a:1}),t.a=Li(t.a)),t}function aB(e){return e.charAt(0)==="r"?tB(e):XL(e)}class ou{constructor(t){if(t instanceof ou)return t;const s=typeof t;let n;s==="object"?n=aN(t):s==="string"&&(n=UL(t)||JL(t)||aB(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=TS(this._rgb);return t&&(t.a=qr(t.a)),t}set rgb(t){this._rgb=aN(t)}rgbString(){return this._valid?sB(this._rgb):void 0}hexString(){return this._valid?$L(this._rgb):void 0}hslString(){return this._valid?QL(this._rgb):void 0}mix(t,s){if(t){const n=this.rgb,i=t.rgb;let o;const c=s===o?.5:s,d=2*c-1,h=n.a-i.a,f=((d*h===-1?d:(d+h)/(1+d*h))+1)/2;o=1-f,n.r=255&f*n.r+o*i.r+.5,n.g=255&f*n.g+o*i.g+.5,n.b=255&f*n.b+o*i.b+.5,n.a=c*n.a+(1-c)*i.a,this.rgb=n}return this}interpolate(t,s){return t&&(this._rgb=nB(this._rgb,t._rgb,s)),this}clone(){return new ou(this.rgb)}alpha(t){return this._rgb.a=Li(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=ju(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ef(this._rgb,2,t),this}darken(t){return ef(this._rgb,2,-t),this}saturate(t){return ef(this._rgb,1,t),this}desaturate(t){return ef(this._rgb,1,-t),this}rotate(t){return KL(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ur(){}const rB=(()=>{let e=0;return()=>e++})();function Ns(e){return e==null}function rn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Kt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function _a(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function tr(e,t){return _a(e)?e:t}function as(e,t){return typeof e=="undefined"?t:e}const iB=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function xs(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function ns(e,t,s,n){let i,o,c;if(rn(e))for(o=e.length,i=0;i<o;i++)t.call(s,e[i],i);else if(Kt(e))for(c=Object.keys(e),o=c.length,i=0;i<o;i++)t.call(s,e[c[i]],c[i])}function Hf(e,t){let s,n,i,o;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(i=e[s],o=t[s],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function $f(e){if(rn(e))return e.map($f);if(Kt(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let i=0;for(;i<n;++i)t[s[i]]=$f(e[s[i]]);return t}return e}function SS(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function oB(e,t,s,n){if(!SS(e))return;const i=t[e],o=s[e];Kt(i)&&Kt(o)?lu(i,o,n):t[e]=$f(o)}function lu(e,t,s){const n=rn(t)?t:[t],i=n.length;if(!Kt(e))return e;s=s||{};const o=s.merger||oB;let c;for(let d=0;d<i;++d){if(c=n[d],!Kt(c))continue;const h=Object.keys(c);for(let f=0,g=h.length;f<g;++f)o(h[f],e,c,s)}return e}function Wd(e,t){return lu(e,t,{merger:lB})}function lB(e,t,s){if(!SS(e))return;const n=t[e],i=s[e];Kt(n)&&Kt(i)?Wd(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=$f(i))}const rN={"":e=>e,x:e=>e.x,y:e=>e.y};function cB(e){const t=e.split("."),s=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function dB(e){const t=cB(e);return s=>{for(const n of t){if(n==="")break;s=s&&s[n]}return s}}function Vf(e,t){return(rN[t]||(rN[t]=dB(t)))(e)}function by(e){return e.charAt(0).toUpperCase()+e.slice(1)}const If=e=>typeof e!="undefined",Gi=e=>typeof e=="function",iN=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function uB(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ys=Math.PI,Dn=2*ys,qf=Number.POSITIVE_INFINITY,hB=ys/180,hn=ys/2,Do=ys/4,oN=ys*2/3,kS=Math.log10,Wf=Math.sign;function Cf(e,t,s){return Math.abs(e-t)<s}function lN(e){const t=Math.round(e);e=Cf(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(kS(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function fB(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(s|0)&&t.push(s),t.sort((i,o)=>i-o).pop(),t}function mB(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Yf(e){return!mB(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function gB(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function pB(e,t,s){let n,i,o;for(n=0,i=e.length;n<i;n++)o=e[n][s],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Uo(e){return e*(ys/180)}function xB(e){return e*(180/ys)}function cN(e){if(!_a(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function CS(e,t){const s=t.x-e.x,n=t.y-e.y,i=Math.sqrt(s*s+n*n);let o=Math.atan2(n,s);return o<-.5*ys&&(o+=Dn),{angle:o,distance:i}}function yB(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ar(e){return(e%Dn+Dn)%Dn}function ES(e,t,s,n){const i=ar(e),o=ar(t),c=ar(s),d=ar(o-i),h=ar(c-i),f=ar(i-o),g=ar(i-c);return i===o||i===c||n&&o===c||d>h&&f<g}function In(e,t,s){return Math.max(t,Math.min(s,e))}function bB(e){return In(e,-32768,32767)}function Ho(e,t,s,n=1e-6){return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function vy(e,t,s){s=s||(c=>e[c]<t);let n=e.length-1,i=0,o;for(;n-i>1;)o=i+n>>1,s(o)?i=o:n=o;return{lo:i,hi:n}}const dx=(e,t,s,n)=>vy(e,s,n?i=>{const o=e[i][t];return o<s||o===s&&e[i+1][t]===s}:i=>e[i][t]<s),vB=(e,t,s)=>vy(e,s,n=>e[n][t]>=s);function wB(e,t,s){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>s;)i--;return n>0||i<e.length?e.slice(n,i):e}const DS=["push","pop","shift","splice","unshift"];function jB(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),DS.forEach(s=>{const n="_onData"+by(s),i=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...o){const c=i.apply(this,o);return e._chartjs.listeners.forEach(d=>{typeof d[n]=="function"&&d[n](...o)}),c}})})}function dN(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&(DS.forEach(o=>{delete e[o]}),delete e._chartjs)}function NB(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const AS=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function OS(e,t){let s=[],n=!1;return function(...i){s=i,n||(n=!0,AS.call(window,()=>{n=!1,e.apply(t,s)}))}}function _B(e,t){let s;return function(...n){return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}const wy=e=>e==="start"?"left":e==="end"?"right":"center",Nn=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,TB=(e,t,s,n)=>e===(n?"left":"right")?s:e==="center"?(t+s)/2:t,tf=e=>e===0||e===1,uN=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Dn/s)),hN=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*Dn/s)+1,Yd={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*hn)+1,easeOutSine:e=>Math.sin(e*hn),easeInOutSine:e=>-.5*(Math.cos(ys*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>tf(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>tf(e)?e:uN(e,.075,.3),easeOutElastic:e=>tf(e)?e:hN(e,.075,.3),easeInOutElastic(e){return tf(e)?e:e<.5?.5*uN(e*2,.1125,.45):.5+.5*hN(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Yd.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Yd.easeInBounce(e*2)*.5:Yd.easeOutBounce(e*2-1)*.5+.5};function MS(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function fN(e){return MS(e)?e:new ou(e)}function m0(e){return MS(e)?e:new ou(e).saturate(.5).darken(.1).hexString()}const SB=["x","y","borderWidth","radius","tension"],kB=["color","borderColor","backgroundColor"];function CB(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:kB},numbers:{type:"number",properties:SB}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function EB(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const mN=new Map;function DB(e,t){t=t||{};const s=e+JSON.stringify(t);let n=mN.get(s);return n||(n=new Intl.NumberFormat(e,t),mN.set(s,n)),n}function RS(e,t,s){return DB(t,s).format(e)}const AB={values(e){return rn(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const n=this.chart.options.locale;let i,o=e;if(s.length>1){const f=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(f<1e-4||f>1e15)&&(i="scientific"),o=OB(e,s)}const c=kS(Math.abs(o)),d=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),h={notation:i,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(h,this.options.ticks.format),RS(e,n,h)}};function OB(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var PS={formatters:AB};function MB(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:PS.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Wo=Object.create(null),ux=Object.create(null);function Gd(e,t){if(!t)return e;const s=t.split(".");for(let n=0,i=s.length;n<i;++n){const o=s[n];e=e[o]||(e[o]=Object.create(null))}return e}function g0(e,t,s){return typeof t=="string"?lu(Gd(e,t),s):lu(Gd(e,""),t)}class RB{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>m0(i.backgroundColor),this.hoverBorderColor=(n,i)=>m0(i.borderColor),this.hoverColor=(n,i)=>m0(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return g0(this,t,s)}get(t){return Gd(this,t)}describe(t,s){return g0(ux,t,s)}override(t,s){return g0(Wo,t,s)}route(t,s,n,i){const o=Gd(this,t),c=Gd(this,n),d="_"+s;Object.defineProperties(o,{[d]:{value:o[s],writable:!0},[s]:{enumerable:!0,get(){const h=this[d],f=c[i];return Kt(h)?Object.assign({},f,h):as(h,f)},set(h){this[d]=h}}})}apply(t){t.forEach(s=>s(this))}}var Bs=new RB({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[CB,EB,MB]);function PB(e){return!e||Ns(e.size)||Ns(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function gN(e,t,s,n,i){let o=t[i];return o||(o=t[i]=e.measureText(i).width,s.push(i)),o>n&&(n=o),n}function Ao(e,t,s){const n=e.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((t-i)*n)/n+i}function pN(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function xN(e,t,s,n){LS(e,t,s,n,null)}function LS(e,t,s,n,i){let o,c,d,h,f,g,p,b;const y=t.pointStyle,j=t.rotation,v=t.radius;let _=(j||0)*hB;if(y&&typeof y=="object"&&(o=y.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(s,n),e.rotate(_),e.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),e.restore();return}if(!(isNaN(v)||v<=0)){switch(e.beginPath(),y){default:i?e.ellipse(s,n,i/2,v,0,0,Dn):e.arc(s,n,v,0,Dn),e.closePath();break;case"triangle":g=i?i/2:v,e.moveTo(s+Math.sin(_)*g,n-Math.cos(_)*v),_+=oN,e.lineTo(s+Math.sin(_)*g,n-Math.cos(_)*v),_+=oN,e.lineTo(s+Math.sin(_)*g,n-Math.cos(_)*v),e.closePath();break;case"rectRounded":f=v*.516,h=v-f,c=Math.cos(_+Do)*h,p=Math.cos(_+Do)*(i?i/2-f:h),d=Math.sin(_+Do)*h,b=Math.sin(_+Do)*(i?i/2-f:h),e.arc(s-p,n-d,f,_-ys,_-hn),e.arc(s+b,n-c,f,_-hn,_),e.arc(s+p,n+d,f,_,_+hn),e.arc(s-b,n+c,f,_+hn,_+ys),e.closePath();break;case"rect":if(!j){h=Math.SQRT1_2*v,g=i?i/2:h,e.rect(s-g,n-h,2*g,2*h);break}_+=Do;case"rectRot":p=Math.cos(_)*(i?i/2:v),c=Math.cos(_)*v,d=Math.sin(_)*v,b=Math.sin(_)*(i?i/2:v),e.moveTo(s-p,n-d),e.lineTo(s+b,n-c),e.lineTo(s+p,n+d),e.lineTo(s-b,n+c),e.closePath();break;case"crossRot":_+=Do;case"cross":p=Math.cos(_)*(i?i/2:v),c=Math.cos(_)*v,d=Math.sin(_)*v,b=Math.sin(_)*(i?i/2:v),e.moveTo(s-p,n-d),e.lineTo(s+p,n+d),e.moveTo(s+b,n-c),e.lineTo(s-b,n+c);break;case"star":p=Math.cos(_)*(i?i/2:v),c=Math.cos(_)*v,d=Math.sin(_)*v,b=Math.sin(_)*(i?i/2:v),e.moveTo(s-p,n-d),e.lineTo(s+p,n+d),e.moveTo(s+b,n-c),e.lineTo(s-b,n+c),_+=Do,p=Math.cos(_)*(i?i/2:v),c=Math.cos(_)*v,d=Math.sin(_)*v,b=Math.sin(_)*(i?i/2:v),e.moveTo(s-p,n-d),e.lineTo(s+p,n+d),e.moveTo(s+b,n-c),e.lineTo(s-b,n+c);break;case"line":c=i?i/2:Math.cos(_)*v,d=Math.sin(_)*v,e.moveTo(s-c,n-d),e.lineTo(s+c,n+d);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(_)*(i?i/2:v),n+Math.sin(_)*v);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function BS(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function jy(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ny(e){e.restore()}function LB(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Ns(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function BB(e,t,s,n,i){if(i.strikethrough||i.underline){const o=e.measureText(n),c=t-o.actualBoundingBoxLeft,d=t+o.actualBoundingBoxRight,h=s-o.actualBoundingBoxAscent,f=s+o.actualBoundingBoxDescent,g=i.strikethrough?(h+f)/2:f;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(c,g),e.lineTo(d,g),e.stroke()}}function FB(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function cu(e,t,s,n,i,o={}){const c=rn(t)?t:[t],d=o.strokeWidth>0&&o.strokeColor!=="";let h,f;for(e.save(),e.font=i.string,LB(e,o),h=0;h<c.length;++h)f=c[h],o.backdrop&&FB(e,o.backdrop),d&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),Ns(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(f,s,n,o.maxWidth)),e.fillText(f,s,n,o.maxWidth),BB(e,s,n,f,o),n+=Number(i.lineHeight);e.restore()}function Gf(e,t){const{x:s,y:n,w:i,h:o,radius:c}=t;e.arc(s+c.topLeft,n+c.topLeft,c.topLeft,1.5*ys,ys,!0),e.lineTo(s,n+o-c.bottomLeft),e.arc(s+c.bottomLeft,n+o-c.bottomLeft,c.bottomLeft,ys,hn,!0),e.lineTo(s+i-c.bottomRight,n+o),e.arc(s+i-c.bottomRight,n+o-c.bottomRight,c.bottomRight,hn,0,!0),e.lineTo(s+i,n+c.topRight),e.arc(s+i-c.topRight,n+c.topRight,c.topRight,0,-hn,!0),e.lineTo(s+c.topLeft,n)}const zB=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,UB=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function HB(e,t){const s=(""+e).match(zB);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const $B=e=>+e||0;function _y(e,t){const s={},n=Kt(t),i=n?Object.keys(t):t,o=Kt(e)?n?c=>as(e[c],e[t[c]]):c=>e[c]:()=>e;for(const c of i)s[c]=$B(o(c));return s}function FS(e){return _y(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ac(e){return _y(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Ta(e){const t=FS(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Tn(e,t){e=e||{},t=t||Bs.font;let s=as(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let n=as(e.style,t.style);n&&!(""+n).match(UB)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:as(e.family,t.family),lineHeight:HB(as(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:as(e.weight,t.weight),string:""};return i.string=PB(i),i}function sf(e,t,s,n){let i,o,c;for(i=0,o=e.length;i<o;++i)if(c=e[i],c!==void 0&&c!==void 0)return c}function VB(e,t,s){const{min:n,max:i}=e,o=iB(t,(i-n)/2),c=(d,h)=>s&&d===0?0:d+h;return{min:c(n,-Math.abs(o)),max:c(i,o)}}function Nc(e,t){return Object.assign(Object.create(e),t)}function Ty(e,t=[""],s,n,i=()=>e[0]){const o=s||e;typeof n=="undefined"&&(n=$S("_fallback",e));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:n,_getTarget:i,override:d=>Ty([d,...e],t,o,n)};return new Proxy(c,{deleteProperty(d,h){return delete d[h],delete d._keys,delete e[0][h],!0},get(d,h){return US(d,h,()=>QB(h,t,e,d))},getOwnPropertyDescriptor(d,h){return Reflect.getOwnPropertyDescriptor(d._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(d,h){return bN(d).includes(h)},ownKeys(d){return bN(d)},set(d,h,f){const g=d._storage||(d._storage=i());return d[h]=g[h]=f,delete d._keys,!0}})}function fc(e,t,s,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:zS(e,n),setContext:o=>fc(e,o,s,n),override:o=>fc(e.override(o),t,s,n)};return new Proxy(i,{deleteProperty(o,c){return delete o[c],delete e[c],!0},get(o,c,d){return US(o,c,()=>qB(o,c,d))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(e,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,c)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,c){return Reflect.has(e,c)},ownKeys(){return Reflect.ownKeys(e)},set(o,c,d){return e[c]=d,delete o[c],!0}})}function zS(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:s,indexable:n,isScriptable:Gi(s)?s:()=>s,isIndexable:Gi(n)?n:()=>n}}const IB=(e,t)=>e?e+by(t):t,Sy=(e,t)=>Kt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function US(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=s();return e[t]=n,n}function qB(e,t,s){const{_proxy:n,_context:i,_subProxy:o,_descriptors:c}=e;let d=n[t];return Gi(d)&&c.isScriptable(t)&&(d=WB(t,d,e,s)),rn(d)&&d.length&&(d=YB(t,d,e,c.isIndexable)),Sy(t,d)&&(d=fc(d,i,o&&o[t],c)),d}function WB(e,t,s,n){const{_proxy:i,_context:o,_subProxy:c,_stack:d}=s;if(d.has(e))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+e);d.add(e);let h=t(o,c||n);return d.delete(e),Sy(e,h)&&(h=ky(i._scopes,i,e,h)),h}function YB(e,t,s,n){const{_proxy:i,_context:o,_subProxy:c,_descriptors:d}=s;if(typeof o.index!="undefined"&&n(e))return t[o.index%t.length];if(Kt(t[0])){const h=t,f=i._scopes.filter(g=>g!==h);t=[];for(const g of h){const p=ky(f,i,e,g);t.push(fc(p,o,c&&c[e],d))}}return t}function HS(e,t,s){return Gi(e)?e(t,s):e}const GB=(e,t)=>e===!0?t:typeof e=="string"?Vf(t,e):void 0;function XB(e,t,s,n,i){for(const o of t){const c=GB(s,o);if(c){e.add(c);const d=HS(c._fallback,s,i);if(typeof d!="undefined"&&d!==s&&d!==n)return d}else if(c===!1&&typeof n!="undefined"&&s!==n)return null}return!1}function ky(e,t,s,n){const i=t._rootScopes,o=HS(t._fallback,s,n),c=[...e,...i],d=new Set;d.add(n);let h=yN(d,c,s,o||s,n);return h===null||typeof o!="undefined"&&o!==s&&(h=yN(d,c,o,h,n),h===null)?!1:Ty(Array.from(d),[""],i,o,()=>KB(t,s,n))}function yN(e,t,s,n,i){for(;s;)s=XB(e,t,s,n,i);return s}function KB(e,t,s){const n=e._getTarget();t in n||(n[t]={});const i=n[t];return rn(i)&&Kt(s)?s:i||{}}function QB(e,t,s,n){let i;for(const o of t)if(i=$S(IB(o,e),s),typeof i!="undefined")return Sy(e,i)?ky(s,n,e,i):i}function $S(e,t){for(const s of t){if(!s)continue;const n=s[e];if(typeof n!="undefined")return n}}function bN(e){let t=e._keys;return t||(t=e._keys=ZB(e._scopes)),t}function ZB(e){const t=new Set;for(const s of e)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}function Cy(){return typeof window!="undefined"&&typeof document!="undefined"}function Ey(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Xf(e,t,s){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[s])):n=e,n}const km=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function JB(e,t){return km(e).getPropertyValue(t)}const e8=["top","right","bottom","left"];function Vo(e,t,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const o=e8[i];n[o]=parseFloat(e[t+"-"+o+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const t8=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function s8(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:i,offsetY:o}=n;let c=!1,d,h;if(t8(i,o,e.target))d=i,h=o;else{const f=t.getBoundingClientRect();d=n.clientX-f.left,h=n.clientY-f.top,c=!0}return{x:d,y:h,box:c}}function Mo(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,i=km(s),o=i.boxSizing==="border-box",c=Vo(i,"padding"),d=Vo(i,"border","width"),{x:h,y:f,box:g}=s8(e,s),p=c.left+(g&&d.left),b=c.top+(g&&d.top);let{width:y,height:j}=t;return o&&(y-=c.width+d.width,j-=c.height+d.height),{x:Math.round((h-p)/y*s.width/n),y:Math.round((f-b)/j*s.height/n)}}function n8(e,t,s){let n,i;if(t===void 0||s===void 0){const o=e&&Ey(e);if(!o)t=e.clientWidth,s=e.clientHeight;else{const c=o.getBoundingClientRect(),d=km(o),h=Vo(d,"border","width"),f=Vo(d,"padding");t=c.width-f.width-h.width,s=c.height-f.height-h.height,n=Xf(d.maxWidth,o,"clientWidth"),i=Xf(d.maxHeight,o,"clientHeight")}}return{width:t,height:s,maxWidth:n||qf,maxHeight:i||qf}}const nf=e=>Math.round(e*10)/10;function a8(e,t,s,n){const i=km(e),o=Vo(i,"margin"),c=Xf(i.maxWidth,e,"clientWidth")||qf,d=Xf(i.maxHeight,e,"clientHeight")||qf,h=n8(e,t,s);let{width:f,height:g}=h;if(i.boxSizing==="content-box"){const b=Vo(i,"border","width"),y=Vo(i,"padding");f-=y.width+b.width,g-=y.height+b.height}return f=Math.max(0,f-o.width),g=Math.max(0,n?f/n:g-o.height),f=nf(Math.min(f,c,h.maxWidth)),g=nf(Math.min(g,d,h.maxHeight)),f&&!g&&(g=nf(f/2)),(t!==void 0||s!==void 0)&&n&&h.height&&g>h.height&&(g=h.height,f=nf(Math.floor(g*n))),{width:f,height:g}}function vN(e,t,s){const n=t||1,i=Math.floor(e.height*n),o=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const c=e.canvas;return c.style&&(s||!c.style.height&&!c.style.width)&&(c.style.height=`${e.height}px`,c.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||c.height!==i||c.width!==o?(e.currentDevicePixelRatio=n,c.height=i,c.width=o,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const r8=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Cy()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function wN(e,t){const s=JB(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}const i8=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},o8=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function rc(e,t,s){return e?i8(t,s):o8()}function VS(e,t){let s,n;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function IS(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function af(e,t,s){return e.options.clip?e[s]:t[s]}function l8(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:af(s,t,"left"),right:af(s,t,"right"),top:af(n,t,"top"),bottom:af(n,t,"bottom")}:t}function c8(e,t){const s=t._clip;if(s.disabled)return!1;const n=l8(t,e.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class d8{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,n,i){const o=s.listeners[i],c=s.duration;o.forEach(d=>d({chart:t,initial:s.initial,numSteps:c,currentStep:Math.min(n-s.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=AS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const o=n.items;let c=o.length-1,d=!1,h;for(;c>=0;--c)h=o[c],h._active?(h._total>n.duration&&(n.duration=h._total),h.tick(t),d=!0):(o[c]=o[o.length-1],o.pop());d&&(i.draw(),this._notify(i,n,t,"progress")),o.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),s+=o.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let n=s.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,n)),n}listen(t,s,n){this._getAnims(t).listeners[s].push(n)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var $r=new d8;const jN="transparent",u8={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const n=fN(e||jN),i=n.valid&&fN(t||jN);return i&&i.valid?i.mix(n,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class h8{constructor(t,s,n,i){const o=s[n];i=sf([t.to,i,o,t.from]);const c=sf([t.from,o,i]);this._active=!0,this._fn=t.fn||u8[t.type||typeof c],this._easing=Yd[t.easing]||Yd.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=n,this._from=c,this._to=i,this._promises=void 0}active(){return this._active}update(t,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],o=n-this._start,c=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=sf([t.to,s,i,t.from]),this._from=sf([t.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,n=this._duration,i=this._prop,o=this._from,c=this._loop,d=this._to;let h;if(this._active=o!==d&&(c||s<n),!this._active){this._target[i]=d,this._notify(!0);return}if(s<0){this._target[i]=o;return}h=s/n%2,h=c&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[i]=this._fn(o,d,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,n)=>{t.push({res:s,rej:n})})}_notify(t){const s=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class qS{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!Kt(t))return;const s=Object.keys(Bs.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const o=t[i];if(!Kt(o))return;const c={};for(const d of s)c[d]=o[d];(rn(o.properties)&&o.properties||[i]).forEach(d=>{(d===i||!n.has(d))&&n.set(d,c)})})}_animateOptions(t,s){const n=s.options,i=m8(t,n);if(!i)return[];const o=this._createAnimations(i,n);return n.$shared&&f8(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,s){const n=this._properties,i=[],o=t.$animations||(t.$animations={}),c=Object.keys(s),d=Date.now();let h;for(h=c.length-1;h>=0;--h){const f=c[h];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(t,s));continue}const g=s[f];let p=o[f];const b=n.get(f);if(p)if(b&&p.active()){p.update(b,g,d);continue}else p.cancel();if(!b||!b.duration){t[f]=g;continue}o[f]=p=new h8(b,t,f,g),i.push(p)}return i}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const n=this._createAnimations(t,s);if(n.length)return $r.add(this._chart,n),!0}}function f8(e,t){const s=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const o=e[n[i]];o&&o.active()&&s.push(o.wait())}return Promise.all(s)}function m8(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function NN(e,t){const s=e&&e.options||{},n=s.reverse,i=s.min===void 0?t:0,o=s.max===void 0?t:0;return{start:n?o:i,end:n?i:o}}function g8(e,t,s){if(s===!1)return!1;const n=NN(e,s),i=NN(t,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function p8(e){let t,s,n,i;return Kt(e)?(t=e.top,s=e.right,n=e.bottom,i=e.left):t=s=n=i=e,{top:t,right:s,bottom:n,left:i,disabled:e===!1}}function WS(e,t){const s=[],n=e._getSortedDatasetMetas(t);let i,o;for(i=0,o=n.length;i<o;++i)s.push(n[i].index);return s}function _N(e,t,s,n={}){const i=e.keys,o=n.mode==="single";let c,d,h,f;if(t===null)return;let g=!1;for(c=0,d=i.length;c<d;++c){if(h=+i[c],h===s){if(g=!0,n.all)continue;break}f=e.values[h],_a(f)&&(o||t===0||Wf(t)===Wf(f))&&(t+=f)}return!g&&!n.all?0:t}function x8(e,t){const{iScale:s,vScale:n}=t,i=s.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",c=Object.keys(e),d=new Array(c.length);let h,f,g;for(h=0,f=c.length;h<f;++h)g=c[h],d[h]={[i]:g,[o]:e[g]};return d}function p0(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function y8(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function b8(e){const{min:t,max:s,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function v8(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function TN(e,t,s,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const o=e[i.index];if(s&&o>0||!s&&o<0)return i.index}return null}function SN(e,t){const{chart:s,_cachedMeta:n}=e,i=s._stacks||(s._stacks={}),{iScale:o,vScale:c,index:d}=n,h=o.axis,f=c.axis,g=y8(o,c,n),p=t.length;let b;for(let y=0;y<p;++y){const j=t[y],{[h]:v,[f]:_}=j,T=j._stacks||(j._stacks={});b=T[f]=v8(i,g,v),b[d]=_,b._top=TN(b,c,!0,n.type),b._bottom=TN(b,c,!1,n.type);const A=b._visualValues||(b._visualValues={});A[d]=_}}function x0(e,t){const s=e.scales;return Object.keys(s).filter(n=>s[n].axis===t).shift()}function w8(e,t){return Nc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function j8(e,t,s){return Nc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function Dd(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const i of t){const o=i._stacks;if(!o||o[n]===void 0||o[n][s]===void 0)return;delete o[n][s],o[n]._visualValues!==void 0&&o[n]._visualValues[s]!==void 0&&delete o[n]._visualValues[s]}}}const y0=e=>e==="reset"||e==="none",kN=(e,t)=>t?e:Object.assign({},e),N8=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:WS(s,!0),values:null};class Ef{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=p0(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Dd(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(p,b,y,j)=>p==="x"?b:p==="r"?j:y,o=s.xAxisID=as(n.xAxisID,x0(t,"x")),c=s.yAxisID=as(n.yAxisID,x0(t,"y")),d=s.rAxisID=as(n.rAxisID,x0(t,"r")),h=s.indexAxis,f=s.iAxisID=i(h,o,c,d),g=s.vAxisID=i(h,c,o,d);s.xScale=this.getScaleForId(o),s.yScale=this.getScaleForId(c),s.rScale=this.getScaleForId(d),s.iScale=this.getScaleForId(f),s.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&dN(this._data,this),t._stacked&&Dd(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),n=this._data;if(Kt(s)){const i=this._cachedMeta;this._data=x8(s,i)}else if(n!==s){if(n){dN(n,this);const i=this._cachedMeta;Dd(i),i._parsed=[]}s&&Object.isExtensible(s)&&jB(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const o=s._stacked;s._stacked=p0(s.vScale,s),s.stack!==n.stack&&(i=!0,Dd(s),s.stack=n.stack),this._resyncElements(t),(i||o!==s._stacked)&&(SN(this,s._parsed),s._stacked=p0(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:n,_data:i}=this,{iScale:o,_stacked:c}=n,d=o.axis;let h=t===0&&s===i.length?!0:n._sorted,f=t>0&&n._parsed[t-1],g,p,b;if(this._parsing===!1)n._parsed=i,n._sorted=!0,b=i;else{rn(i[t])?b=this.parseArrayData(n,i,t,s):Kt(i[t])?b=this.parseObjectData(n,i,t,s):b=this.parsePrimitiveData(n,i,t,s);const y=()=>p[d]===null||f&&p[d]<f[d];for(g=0;g<s;++g)n._parsed[g+t]=p=b[g],h&&(y()&&(h=!1),f=p);n._sorted=h}c&&SN(this,b)}parsePrimitiveData(t,s,n,i){const{iScale:o,vScale:c}=t,d=o.axis,h=c.axis,f=o.getLabels(),g=o===c,p=new Array(i);let b,y,j;for(b=0,y=i;b<y;++b)j=b+n,p[b]={[d]:g||o.parse(f[j],j),[h]:c.parse(s[j],j)};return p}parseArrayData(t,s,n,i){const{xScale:o,yScale:c}=t,d=new Array(i);let h,f,g,p;for(h=0,f=i;h<f;++h)g=h+n,p=s[g],d[h]={x:o.parse(p[0],g),y:c.parse(p[1],g)};return d}parseObjectData(t,s,n,i){const{xScale:o,yScale:c}=t,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,f=new Array(i);let g,p,b,y;for(g=0,p=i;g<p;++g)b=g+n,y=s[b],f[g]={x:o.parse(Vf(y,d),b),y:c.parse(Vf(y,h),b)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,n){const i=this.chart,o=this._cachedMeta,c=s[t.axis],d={keys:WS(i,!0),values:s._stacks[t.axis]._visualValues};return _N(d,c,o.index,{mode:n})}updateRangeFromParsed(t,s,n,i){const o=n[s.axis];let c=o===null?NaN:o;const d=i&&n._stacks[s.axis];i&&d&&(i.values=d,c=_N(i,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,s){const n=this._cachedMeta,i=n._parsed,o=n._sorted&&t===n.iScale,c=i.length,d=this._getOtherScale(t),h=N8(s,n,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:p}=b8(d);let b,y;function j(){y=i[b];const v=y[d.axis];return!_a(y[t.axis])||g>v||p<v}for(b=0;b<c&&!(!j()&&(this.updateRangeFromParsed(f,t,y,h),o));++b);if(o){for(b=c-1;b>=0;--b)if(!j()){this.updateRangeFromParsed(f,t,y,h);break}}return f}getAllParsedValues(t){const s=this._cachedMeta._parsed,n=[];let i,o,c;for(i=0,o=s.length;i<o;++i)c=s[i][t.axis],_a(c)&&n.push(c);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,n=s.iScale,i=s.vScale,o=this.getParsed(t);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=p8(as(this.options.clip,g8(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],o=s.chartArea,c=[],d=this._drawStart||0,h=this._drawCount||i.length-d,f=this.options.drawActiveElementsOnTop;let g;for(n.dataset&&n.dataset.draw(t,o,d,h),g=d;g<d+h;++g){const p=i[g];p.hidden||(p.active&&f?c.push(p):p.draw(t,o))}for(g=0;g<c.length;++g)c[g].draw(t,o)}getStyle(t,s){const n=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,s,n){const i=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=j8(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=i.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=w8(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!s,o.mode=n,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",n){const i=s==="active",o=this._cachedDataOpts,c=t+"-"+s,d=o[c],h=this.enableOptionSharing&&If(n);if(d)return kN(d,h);const f=this.chart.config,g=f.datasetElementScopeKeys(this._type,t),p=i?[`${t}Hover`,"hover",t,""]:[t,""],b=f.getOptionScopes(this.getDataset(),g),y=Object.keys(Bs.elements[t]),j=()=>this.getContext(n,i,s),v=f.resolveNamedOptions(b,y,j,p);return v.$shared&&(v.$shared=h,o[c]=Object.freeze(kN(v,h))),v}_resolveAnimations(t,s,n){const i=this.chart,o=this._cachedDataOpts,c=`animation-${s}`,d=o[c];if(d)return d;let h;if(i.options.animation!==!1){const g=this.chart.config,p=g.datasetAnimationScopeKeys(this._type,s),b=g.getOptionScopes(this.getDataset(),p);h=g.createResolver(b,this.getContext(t,n,s))}const f=new qS(i,h&&h.animations);return h&&h._cacheable&&(o[c]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||y0(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const n=this.resolveDataElementOptions(t,s),i=this._sharedOptions,o=this.getSharedOptions(n),c=this.includeOptions(s,o)||o!==i;return this.updateSharedOptions(o,s,n),{sharedOptions:o,includeOptions:c}}updateElement(t,s,n,i){y0(i)?Object.assign(t,n):this._resolveAnimations(s,i).update(t,n)}updateSharedOptions(t,s,n){t&&!y0(s)&&this._resolveAnimations(void 0,s).update(t,n)}_setStyle(t,s,n,i){t.active=i;const o=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(t,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(t,s,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,s,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,n=this._cachedMeta.data;for(const[d,h,f]of this._syncList)this[d](h,f);this._syncList=[];const i=n.length,o=s.length,c=Math.min(o,i);c&&this.parse(0,c),o>i?this._insertElements(i,o-i,t):o<i&&this._removeElements(o,i-o)}_insertElements(t,s,n=!0){const i=this._cachedMeta,o=i.data,c=t+s;let d;const h=f=>{for(f.length+=s,d=f.length-1;d>=c;d--)f[d]=f[d-s]};for(h(o),d=t;d<c;++d)o[d]=new this.dataElementType;this._parsing&&h(i._parsed),this.parse(t,s),n&&this.updateElements(o,t,s,"reset")}updateElements(t,s,n,i){}_removeElements(t,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,s);n._stacked&&Dd(n,i)}n.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,n,i]=t;this[s](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}kt(Ef,"defaults",{}),kt(Ef,"datasetElementType",null),kt(Ef,"dataElementType",null);function Oo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Dy{constructor(t){kt(this,"options");this.options=t||{}}static override(t){Object.assign(Dy.prototype,t)}init(){}formats(){return Oo()}parse(){return Oo()}format(){return Oo()}add(){return Oo()}diff(){return Oo()}startOf(){return Oo()}endOf(){return Oo()}}var _8={_date:Dy};function T8(e,t,s,n){const{controller:i,data:o,_sorted:c}=e,d=i._cachedMeta.iScale,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(d&&t===d.axis&&t!=="r"&&c&&o.length){const f=d._reversePixels?vB:dx;if(n){if(i._sharedOptions){const g=o[0],p=typeof g.getRange=="function"&&g.getRange(t);if(p){const b=f(o,t,s-p),y=f(o,t,s+p);return{lo:b.lo,hi:y.hi}}}}else{const g=f(o,t,s);if(h){const{vScale:p}=i._cachedMeta,{_parsed:b}=e,y=b.slice(0,g.lo+1).reverse().findIndex(v=>!Ns(v[p.axis]));g.lo-=Math.max(0,y);const j=b.slice(g.hi).findIndex(v=>!Ns(v[p.axis]));g.hi+=Math.max(0,j)}return g}}return{lo:0,hi:o.length-1}}function Cm(e,t,s,n,i){const o=e.getSortedVisibleDatasetMetas(),c=s[t];for(let d=0,h=o.length;d<h;++d){const{index:f,data:g}=o[d],{lo:p,hi:b}=T8(o[d],t,c,i);for(let y=p;y<=b;++y){const j=g[y];j.skip||n(j,f,y)}}}function S8(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(n,i){const o=t?Math.abs(n.x-i.x):0,c=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function b0(e,t,s,n,i){const o=[];return!i&&!e.isPointInArea(t)||Cm(e,s,t,function(d,h,f){!i&&!BS(d,e.chartArea,0)||d.inRange(t.x,t.y,n)&&o.push({element:d,datasetIndex:h,index:f})},!0),o}function k8(e,t,s,n){let i=[];function o(c,d,h){const{startAngle:f,endAngle:g}=c.getProps(["startAngle","endAngle"],n),{angle:p}=CS(c,{x:t.x,y:t.y});ES(p,f,g)&&i.push({element:c,datasetIndex:d,index:h})}return Cm(e,s,t,o),i}function C8(e,t,s,n,i,o){let c=[];const d=S8(s);let h=Number.POSITIVE_INFINITY;function f(g,p,b){const y=g.inRange(t.x,t.y,i);if(n&&!y)return;const j=g.getCenterPoint(i);if(!(!!o||e.isPointInArea(j))&&!y)return;const _=d(t,j);_<h?(c=[{element:g,datasetIndex:p,index:b}],h=_):_===h&&c.push({element:g,datasetIndex:p,index:b})}return Cm(e,s,t,f),c}function v0(e,t,s,n,i,o){return!o&&!e.isPointInArea(t)?[]:s==="r"&&!n?k8(e,t,s,i):C8(e,t,s,n,i,o)}function CN(e,t,s,n,i){const o=[],c=s==="x"?"inXRange":"inYRange";let d=!1;return Cm(e,s,t,(h,f,g)=>{h[c]&&h[c](t[s],i)&&(o.push({element:h,datasetIndex:f,index:g}),d=d||h.inRange(t.x,t.y,i))}),n&&!d?[]:o}var E8={modes:{index(e,t,s,n){const i=Mo(t,e),o=s.axis||"x",c=s.includeInvisible||!1,d=s.intersect?b0(e,i,o,n,c):v0(e,i,o,!1,n,c),h=[];return d.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const g=d[0].index,p=f.data[g];p&&!p.skip&&h.push({element:p,datasetIndex:f.index,index:g})}),h):[]},dataset(e,t,s,n){const i=Mo(t,e),o=s.axis||"xy",c=s.includeInvisible||!1;let d=s.intersect?b0(e,i,o,n,c):v0(e,i,o,!1,n,c);if(d.length>0){const h=d[0].datasetIndex,f=e.getDatasetMeta(h).data;d=[];for(let g=0;g<f.length;++g)d.push({element:f[g],datasetIndex:h,index:g})}return d},point(e,t,s,n){const i=Mo(t,e),o=s.axis||"xy",c=s.includeInvisible||!1;return b0(e,i,o,n,c)},nearest(e,t,s,n){const i=Mo(t,e),o=s.axis||"xy",c=s.includeInvisible||!1;return v0(e,i,o,s.intersect,n,c)},x(e,t,s,n){const i=Mo(t,e);return CN(e,i,"x",s.intersect,n)},y(e,t,s,n){const i=Mo(t,e);return CN(e,i,"y",s.intersect,n)}}};const YS=["left","top","right","bottom"];function Ad(e,t){return e.filter(s=>s.pos===t)}function EN(e,t){return e.filter(s=>YS.indexOf(s.pos)===-1&&s.box.axis===t)}function Od(e,t){return e.sort((s,n)=>{const i=t?n:s,o=t?s:n;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function D8(e){const t=[];let s,n,i,o,c,d;for(s=0,n=(e||[]).length;s<n;++s)i=e[s],{position:o,options:{stack:c,stackWeight:d=1}}=i,t.push({index:s,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:c&&o+c,stackWeight:d});return t}function A8(e){const t={};for(const s of e){const{stack:n,pos:i,stackWeight:o}=s;if(!n||!YS.includes(i))continue;const c=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function O8(e,t){const s=A8(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let o,c,d;for(o=0,c=e.length;o<c;++o){d=e[o];const{fullSize:h}=d.box,f=s[d.stack],g=f&&d.stackWeight/f.weight;d.horizontal?(d.width=g?g*n:h&&t.availableWidth,d.height=i):(d.width=n,d.height=g?g*i:h&&t.availableHeight)}return s}function M8(e){const t=D8(e),s=Od(t.filter(f=>f.box.fullSize),!0),n=Od(Ad(t,"left"),!0),i=Od(Ad(t,"right")),o=Od(Ad(t,"top"),!0),c=Od(Ad(t,"bottom")),d=EN(t,"x"),h=EN(t,"y");return{fullSize:s,leftAndTop:n.concat(o),rightAndBottom:i.concat(h).concat(c).concat(d),chartArea:Ad(t,"chartArea"),vertical:n.concat(i).concat(h),horizontal:o.concat(c).concat(d)}}function DN(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function GS(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function R8(e,t,s,n){const{pos:i,box:o}=s,c=e.maxPadding;if(!Kt(i)){s.size&&(e[i]-=s.size);const p=n[s.stack]||{size:0,count:1};p.size=Math.max(p.size,s.horizontal?o.height:o.width),s.size=p.size/p.count,e[i]+=s.size}o.getPadding&&GS(c,o.getPadding());const d=Math.max(0,t.outerWidth-DN(c,e,"left","right")),h=Math.max(0,t.outerHeight-DN(c,e,"top","bottom")),f=d!==e.w,g=h!==e.h;return e.w=d,e.h=h,s.horizontal?{same:f,other:g}:{same:g,other:f}}function P8(e){const t=e.maxPadding;function s(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function L8(e,t){const s=t.maxPadding;function n(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(c=>{o[c]=Math.max(t[c],s[c])}),o}return n(e?["left","right"]:["top","bottom"])}function Vd(e,t,s,n){const i=[];let o,c,d,h,f,g;for(o=0,c=e.length,f=0;o<c;++o){d=e[o],h=d.box,h.update(d.width||t.w,d.height||t.h,L8(d.horizontal,t));const{same:p,other:b}=R8(t,s,d,n);f|=p&&i.length,g=g||b,h.fullSize||i.push(d)}return f&&Vd(i,t,s,n)||g}function rf(e,t,s,n,i){e.top=s,e.left=t,e.right=t+n,e.bottom=s+i,e.width=n,e.height=i}function AN(e,t,s,n){const i=s.padding;let{x:o,y:c}=t;for(const d of e){const h=d.box,f=n[d.stack]||{placed:0,weight:1},g=d.stackWeight/f.weight||1;if(d.horizontal){const p=t.w*g,b=f.size||h.height;If(f.start)&&(c=f.start),h.fullSize?rf(h,i.left,c,s.outerWidth-i.right-i.left,b):rf(h,t.left+f.placed,c,p,b),f.start=c,f.placed+=p,c=h.bottom}else{const p=t.h*g,b=f.size||h.width;If(f.start)&&(o=f.start),h.fullSize?rf(h,o,i.top,b,s.outerHeight-i.bottom-i.top):rf(h,o,t.top+f.placed,b,p),f.start=o,f.placed+=p,o=h.right}}t.x=o,t.y=c}var ja={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const i=Ta(e.options.layout.padding),o=Math.max(t-i.width,0),c=Math.max(s-i.height,0),d=M8(e.boxes),h=d.vertical,f=d.horizontal;ns(e.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const g=h.reduce((v,_)=>_.box.options&&_.box.options.display===!1?v:v+1,0)||1,p=Object.freeze({outerWidth:t,outerHeight:s,padding:i,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/g,hBoxMaxHeight:c/2}),b=Object.assign({},i);GS(b,Ta(n));const y=Object.assign({maxPadding:b,w:o,h:c,x:i.left,y:i.top},i),j=O8(h.concat(f),p);Vd(d.fullSize,y,p,j),Vd(h,y,p,j),Vd(f,y,p,j)&&Vd(h,y,p,j),P8(y),AN(d.leftAndTop,y,p,j),y.x+=y.w,y.y+=y.h,AN(d.rightAndBottom,y,p,j),e.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},ns(d.chartArea,v=>{const _=v.box;Object.assign(_,e.chartArea),_.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class XS{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,n){}removeEventListener(t,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,n,i){return s=Math.max(0,s||t.width),n=n||t.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(t){return!0}updateConfig(t){}}class B8 extends XS{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Df="$chartjs",F8={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ON=e=>e===null||e==="";function z8(e,t){const s=e.style,n=e.getAttribute("height"),i=e.getAttribute("width");if(e[Df]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",ON(i)){const o=wN(e,"width");o!==void 0&&(e.width=o)}if(ON(n))if(e.style.height==="")e.height=e.width/(t||2);else{const o=wN(e,"height");o!==void 0&&(e.height=o)}return e}const KS=r8?{passive:!0}:!1;function U8(e,t,s){e&&e.addEventListener(t,s,KS)}function H8(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,KS)}function $8(e,t){const s=F8[e.type]||e.type,{x:n,y:i}=Mo(e,t);return{type:s,chart:t,native:e,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Kf(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function V8(e,t,s){const n=e.canvas,i=new MutationObserver(o=>{let c=!1;for(const d of o)c=c||Kf(d.addedNodes,n),c=c&&!Kf(d.removedNodes,n);c&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function I8(e,t,s){const n=e.canvas,i=new MutationObserver(o=>{let c=!1;for(const d of o)c=c||Kf(d.removedNodes,n),c=c&&!Kf(d.addedNodes,n);c&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const du=new Map;let MN=0;function QS(){const e=window.devicePixelRatio;e!==MN&&(MN=e,du.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function q8(e,t){du.size||window.addEventListener("resize",QS),du.set(e,t)}function W8(e){du.delete(e),du.size||window.removeEventListener("resize",QS)}function Y8(e,t,s){const n=e.canvas,i=n&&Ey(n);if(!i)return;const o=OS((d,h)=>{const f=i.clientWidth;s(d,h),f<i.clientWidth&&s()},window),c=new ResizeObserver(d=>{const h=d[0],f=h.contentRect.width,g=h.contentRect.height;f===0&&g===0||o(f,g)});return c.observe(i),q8(e,o),c}function w0(e,t,s){s&&s.disconnect(),t==="resize"&&W8(e)}function G8(e,t,s){const n=e.canvas,i=OS(o=>{e.ctx!==null&&s($8(o,e))},e);return U8(n,t,i),i}class X8 extends XS{acquireContext(t,s){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(z8(t,s),n):null}releaseContext(t){const s=t.canvas;if(!s[Df])return!1;const n=s[Df].initial;["height","width"].forEach(o=>{const c=n[o];Ns(c)?s.removeAttribute(o):s.setAttribute(o,c)});const i=n.style||{};return Object.keys(i).forEach(o=>{s.style[o]=i[o]}),s.width=s.width,delete s[Df],!0}addEventListener(t,s,n){this.removeEventListener(t,s);const i=t.$proxies||(t.$proxies={}),c={attach:V8,detach:I8,resize:Y8}[s]||G8;i[s]=c(t,s,n)}removeEventListener(t,s){const n=t.$proxies||(t.$proxies={}),i=n[s];if(!i)return;({attach:w0,detach:w0,resize:w0}[s]||H8)(t,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,n,i){return a8(t,s,n,i)}isAttached(t){const s=t&&Ey(t);return!!(s&&s.isConnected)}}function K8(e){return!Cy()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?B8:X8}var gf;let Zo=(gf=class{constructor(){kt(this,"x");kt(this,"y");kt(this,"active",!1);kt(this,"options");kt(this,"$animations")}tooltipPosition(t){const{x:s,y:n}=this.getProps(["x","y"],t);return{x:s,y:n}}hasValue(){return Yf(this.x)&&Yf(this.y)}getProps(t,s){const n=this.$animations;if(!s||!n)return this;const i={};return t.forEach(o=>{i[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),i}},kt(gf,"defaults",{}),kt(gf,"defaultRoutes"),gf);function Q8(e,t){const s=e.options.ticks,n=Z8(e),i=Math.min(s.maxTicksLimit||n,n),o=s.major.enabled?eF(t):[],c=o.length,d=o[0],h=o[c-1],f=[];if(c>i)return tF(t,f,o,c/i),f;const g=J8(o,t,i);if(c>0){let p,b;const y=c>1?Math.round((h-d)/(c-1)):null;for(of(t,f,g,Ns(y)?0:d-y,d),p=0,b=c-1;p<b;p++)of(t,f,g,o[p],o[p+1]);return of(t,f,g,h,Ns(y)?t.length:h+y),f}return of(t,f,g),f}function Z8(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),i=e._maxLength/s;return Math.floor(Math.min(n,i))}function J8(e,t,s){const n=sF(e),i=t.length/s;if(!n)return Math.max(i,1);const o=fB(n);for(let c=0,d=o.length-1;c<d;c++){const h=o[c];if(h>i)return h}return Math.max(i,1)}function eF(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}function tF(e,t,s,n){let i=0,o=s[0],c;for(n=Math.ceil(n),c=0;c<e.length;c++)c===o&&(t.push(e[c]),i++,o=s[i*n])}function of(e,t,s,n,i){const o=as(n,0),c=Math.min(as(i,e.length),e.length);let d=0,h,f,g;for(s=Math.ceil(s),i&&(h=i-n,s=h/Math.floor(h/s)),g=o;g<0;)d++,g=Math.round(o+d*s);for(f=Math.max(o,0);f<c;f++)f===g&&(t.push(e[f]),d++,g=Math.round(o+d*s))}function sF(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}const nF=e=>e==="left"?"right":e==="right"?"left":e,RN=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,PN=(e,t)=>Math.min(t||e,e);function LN(e,t){const s=[],n=e.length/t,i=e.length;let o=0;for(;o<i;o+=n)s.push(e[Math.floor(o)]);return s}function aF(e,t,s){const n=e.ticks.length,i=Math.min(t,n-1),o=e._startPixel,c=e._endPixel,d=1e-6;let h=e.getPixelForTick(i),f;if(!(s&&(n===1?f=Math.max(h-o,c-h):t===0?f=(e.getPixelForTick(1)-h)/2:f=(h-e.getPixelForTick(i-1))/2,h+=i<t?f:-f,h<o-d||h>c+d)))return h}function rF(e,t){ns(e,s=>{const n=s.gc,i=n.length/2;let o;if(i>t){for(o=0;o<i;++o)delete s.data[n[o]];n.splice(0,i)}})}function Md(e){return e.drawTicks?e.tickLength:0}function BN(e,t){if(!e.display)return 0;const s=Tn(e.font,t),n=Ta(e.padding);return(rn(e.text)?e.text.length:1)*s.lineHeight+n.height}function iF(e,t){return Nc(e,{scale:t,type:"scale"})}function oF(e,t,s){return Nc(e,{tick:s,index:t,type:"tick"})}function lF(e,t,s){let n=wy(e);return(s&&t!=="right"||!s&&t==="right")&&(n=nF(n)),n}function cF(e,t,s,n){const{top:i,left:o,bottom:c,right:d,chart:h}=e,{chartArea:f,scales:g}=h;let p=0,b,y,j;const v=c-i,_=d-o;if(e.isHorizontal()){if(y=Nn(n,o,d),Kt(s)){const T=Object.keys(s)[0],A=s[T];j=g[T].getPixelForValue(A)+v-t}else s==="center"?j=(f.bottom+f.top)/2+v-t:j=RN(e,s,t);b=d-o}else{if(Kt(s)){const T=Object.keys(s)[0],A=s[T];y=g[T].getPixelForValue(A)-_+t}else s==="center"?y=(f.left+f.right)/2-_+t:y=RN(e,s,t);j=Nn(n,c,i),p=s==="left"?-hn:hn}return{titleX:y,titleY:j,maxWidth:b,rotation:p}}class _c extends Zo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return t=tr(t,Number.POSITIVE_INFINITY),s=tr(s,Number.NEGATIVE_INFINITY),n=tr(n,Number.POSITIVE_INFINITY),i=tr(i,Number.NEGATIVE_INFINITY),{min:tr(t,n),max:tr(s,i),minDefined:_a(t),maxDefined:_a(s)}}getMinMax(t){let{min:s,max:n,minDefined:i,maxDefined:o}=this.getUserBounds(),c;if(i&&o)return{min:s,max:n};const d=this.getMatchingVisibleMetas();for(let h=0,f=d.length;h<f;++h)c=d[h].controller.getMinMax(this,t),i||(s=Math.min(s,c.min)),o||(n=Math.max(n,c.max));return s=o&&s>n?n:s,n=i&&s>n?s:n,{min:tr(s,tr(n,s)),max:tr(n,tr(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xs(this.options.beforeUpdate,[this])}update(t,s,n){const{beginAtZero:i,grace:o,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=VB(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=d<this.ticks.length;this._convertTicksToLabels(h?LN(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=Q8(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,t=!t),this._startPixel=s,this._endPixel=n,this._reversePixels=t,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xs(this.options.afterUpdate,[this])}beforeSetDimensions(){xs(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xs(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),xs(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xs(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let n,i,o;for(n=0,i=t.length;n<i;n++)o=t[n],o.label=xs(s.callback,[o.value,n,t],this)}afterTickToLabelConversion(){xs(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xs(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,n=PN(this.ticks.length,t.ticks.maxTicksLimit),i=s.minRotation||0,o=s.maxRotation;let c=i,d,h,f;if(!this._isVisible()||!s.display||i>=o||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const g=this._getLabelSizes(),p=g.widest.width,b=g.highest.height,y=In(this.chart.width-p,0,this.maxWidth);d=t.offset?this.maxWidth/n:y/(n-1),p+6>d&&(d=y/(n-(t.offset?.5:1)),h=this.maxHeight-Md(t.grid)-s.padding-BN(t.title,this.chart.options.font),f=Math.sqrt(p*p+b*b),c=xB(Math.min(Math.asin(In((g.highest.height+6)/d,-1,1)),Math.asin(In(h/f,-1,1))-Math.asin(In(b/f,-1,1)))),c=Math.max(i,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){xs(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xs(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:o}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const h=BN(i,s.options.font);if(d?(t.width=this.maxWidth,t.height=Md(o)+h):(t.height=this.maxHeight,t.width=Md(o)+h),n.display&&this.ticks.length){const{first:f,last:g,widest:p,highest:b}=this._getLabelSizes(),y=n.padding*2,j=Uo(this.labelRotation),v=Math.cos(j),_=Math.sin(j);if(d){const T=n.mirror?0:_*p.width+v*b.height;t.height=Math.min(this.maxHeight,t.height+T+y)}else{const T=n.mirror?0:v*p.width+_*b.height;t.width=Math.min(this.maxWidth,t.width+T+y)}this._calculatePadding(f,g,_,v)}}this._handleMargins(),d?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,n,i){const{ticks:{align:o,padding:c},position:d}=this.options,h=this.labelRotation!==0,f=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,y=0;h?f?(b=i*t.width,y=n*s.height):(b=n*t.height,y=i*s.width):o==="start"?y=s.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,y=s.width/2),this.paddingLeft=Math.max((b-g+c)*this.width/(this.width-g),0),this.paddingRight=Math.max((y-p+c)*this.width/(this.width-p),0)}else{let g=s.height/2,p=t.height/2;o==="start"?(g=0,p=t.height):o==="end"&&(g=s.height,p=0),this.paddingTop=g+c,this.paddingBottom=p+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xs(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,n;for(s=0,n=t.length;s<n;s++)Ns(t[s].label)&&(t.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=LN(n,s)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,n){const{ctx:i,_longestTextCache:o}=this,c=[],d=[],h=Math.floor(s/PN(s,n));let f=0,g=0,p,b,y,j,v,_,T,A,k,S,E;for(p=0;p<s;p+=h){if(j=t[p].label,v=this._resolveTickFontOptions(p),i.font=_=v.string,T=o[_]=o[_]||{data:{},gc:[]},A=v.lineHeight,k=S=0,!Ns(j)&&!rn(j))k=gN(i,T.data,T.gc,k,j),S=A;else if(rn(j))for(b=0,y=j.length;b<y;++b)E=j[b],!Ns(E)&&!rn(E)&&(k=gN(i,T.data,T.gc,k,E),S+=A);c.push(k),d.push(S),f=Math.max(k,f),g=Math.max(S,g)}rF(o,s);const C=c.indexOf(f),z=d.indexOf(g),L=R=>({width:c[R]||0,height:d[R]||0});return{first:L(0),last:L(s-1),widest:L(C),highest:L(z),widths:c,heights:d}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return bB(this._alignToPixels?Ao(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const n=s[t];return n.$context||(n.$context=oF(this.getContext(),t,n))}return this.$context||(this.$context=iF(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=Uo(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,d=o?o.widest.width+c:0,h=o?o.highest.height+c:0;return this.isHorizontal()?h*n>d*i?d/n:h/i:h*i<d*n?h/n:d/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,n=this.chart,i=this.options,{grid:o,position:c,border:d}=i,h=o.offset,f=this.isHorizontal(),p=this.ticks.length+(h?1:0),b=Md(o),y=[],j=d.setContext(this.getContext()),v=j.display?j.width:0,_=v/2,T=function($){return Ao(n,$,v)};let A,k,S,E,C,z,L,R,V,I,G,U;if(c==="top")A=T(this.bottom),z=this.bottom-b,R=A-_,I=T(t.top)+_,U=t.bottom;else if(c==="bottom")A=T(this.top),I=t.top,U=T(t.bottom)-_,z=A+_,R=this.top+b;else if(c==="left")A=T(this.right),C=this.right-b,L=A-_,V=T(t.left)+_,G=t.right;else if(c==="right")A=T(this.left),V=t.left,G=T(t.right)-_,C=A+_,L=this.left+b;else if(s==="x"){if(c==="center")A=T((t.top+t.bottom)/2+.5);else if(Kt(c)){const $=Object.keys(c)[0],ee=c[$];A=T(this.chart.scales[$].getPixelForValue(ee))}I=t.top,U=t.bottom,z=A+_,R=z+b}else if(s==="y"){if(c==="center")A=T((t.left+t.right)/2);else if(Kt(c)){const $=Object.keys(c)[0],ee=c[$];A=T(this.chart.scales[$].getPixelForValue(ee))}C=A-_,L=C-b,V=t.left,G=t.right}const W=as(i.ticks.maxTicksLimit,p),K=Math.max(1,Math.ceil(p/W));for(k=0;k<p;k+=K){const $=this.getContext(k),ee=o.setContext($),se=d.setContext($),Ne=ee.lineWidth,P=ee.color,ne=se.dash||[],ge=se.dashOffset,X=ee.tickWidth,re=ee.tickColor,_e=ee.tickBorderDash||[],me=ee.tickBorderDashOffset;S=aF(this,k,h),S!==void 0&&(E=Ao(n,S,Ne),f?C=L=V=G=E:z=R=I=U=E,y.push({tx1:C,ty1:z,tx2:L,ty2:R,x1:V,y1:I,x2:G,y2:U,width:Ne,color:P,borderDash:ne,borderDashOffset:ge,tickWidth:X,tickColor:re,tickBorderDash:_e,tickBorderDashOffset:me}))}return this._ticksLength=p,this._borderValue=A,y}_computeLabelItems(t){const s=this.axis,n=this.options,{position:i,ticks:o}=n,c=this.isHorizontal(),d=this.ticks,{align:h,crossAlign:f,padding:g,mirror:p}=o,b=Md(n.grid),y=b+g,j=p?-g:y,v=-Uo(this.labelRotation),_=[];let T,A,k,S,E,C,z,L,R,V,I,G,U="middle";if(i==="top")C=this.bottom-j,z=this._getXAxisLabelAlignment();else if(i==="bottom")C=this.top+j,z=this._getXAxisLabelAlignment();else if(i==="left"){const K=this._getYAxisLabelAlignment(b);z=K.textAlign,E=K.x}else if(i==="right"){const K=this._getYAxisLabelAlignment(b);z=K.textAlign,E=K.x}else if(s==="x"){if(i==="center")C=(t.top+t.bottom)/2+y;else if(Kt(i)){const K=Object.keys(i)[0],$=i[K];C=this.chart.scales[K].getPixelForValue($)+y}z=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")E=(t.left+t.right)/2-y;else if(Kt(i)){const K=Object.keys(i)[0],$=i[K];E=this.chart.scales[K].getPixelForValue($)}z=this._getYAxisLabelAlignment(b).textAlign}s==="y"&&(h==="start"?U="top":h==="end"&&(U="bottom"));const W=this._getLabelSizes();for(T=0,A=d.length;T<A;++T){k=d[T],S=k.label;const K=o.setContext(this.getContext(T));L=this.getPixelForTick(T)+o.labelOffset,R=this._resolveTickFontOptions(T),V=R.lineHeight,I=rn(S)?S.length:1;const $=I/2,ee=K.color,se=K.textStrokeColor,Ne=K.textStrokeWidth;let P=z;c?(E=L,z==="inner"&&(T===A-1?P=this.options.reverse?"left":"right":T===0?P=this.options.reverse?"right":"left":P="center"),i==="top"?f==="near"||v!==0?G=-I*V+V/2:f==="center"?G=-W.highest.height/2-$*V+V:G=-W.highest.height+V/2:f==="near"||v!==0?G=V/2:f==="center"?G=W.highest.height/2-$*V:G=W.highest.height-I*V,p&&(G*=-1),v!==0&&!K.showLabelBackdrop&&(E+=V/2*Math.sin(v))):(C=L,G=(1-I)*V/2);let ne;if(K.showLabelBackdrop){const ge=Ta(K.backdropPadding),X=W.heights[T],re=W.widths[T];let _e=G-ge.top,me=0-ge.left;switch(U){case"middle":_e-=X/2;break;case"bottom":_e-=X;break}switch(z){case"center":me-=re/2;break;case"right":me-=re;break;case"inner":T===A-1?me-=re:T>0&&(me-=re/2);break}ne={left:me,top:_e,width:re+ge.width,height:X+ge.height,color:K.backdropColor}}_.push({label:S,font:R,textOffset:G,options:{rotation:v,color:ee,strokeColor:se,strokeWidth:Ne,textAlign:P,textBaseline:U,translation:[E,C],backdrop:ne}})}return _}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-Uo(this.labelRotation))return t==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:n,mirror:i,padding:o}}=this.options,c=this._getLabelSizes(),d=t+o,h=c.widest.width;let f,g;return s==="left"?i?(g=this.right+o,n==="near"?f="left":n==="center"?(f="center",g+=h/2):(f="right",g+=h)):(g=this.right-d,n==="near"?f="right":n==="center"?(f="center",g-=h/2):(f="left",g=this.left)):s==="right"?i?(g=this.left+o,n==="near"?f="right":n==="center"?(f="center",g-=h/2):(f="left",g-=h)):(g=this.left+d,n==="near"?f="left":n==="center"?(f="center",g+=h/2):(f="right",g=this.right)):f="right",{textAlign:f,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:n,top:i,width:o,height:c}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(n,i,o,c),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(o=>o.value===t);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const d=(h,f,g)=>{!g.width||!g.color||(n.save(),n.lineWidth=g.width,n.strokeStyle=g.color,n.setLineDash(g.borderDash||[]),n.lineDashOffset=g.borderDashOffset,n.beginPath(),n.moveTo(h.x,h.y),n.lineTo(f.x,f.y),n.stroke(),n.restore())};if(s.display)for(o=0,c=i.length;o<c;++o){const h=i[o];s.drawOnChartArea&&d({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),s.drawTicks&&d({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:n,grid:i}}=this,o=n.setContext(this.getContext()),c=n.display?o.width:0;if(!c)return;const d=i.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,g,p,b;this.isHorizontal()?(f=Ao(t,this.left,c)-c/2,g=Ao(t,this.right,d)+d/2,p=b=h):(p=Ao(t,this.top,c)-c/2,b=Ao(t,this.bottom,d)+d/2,f=g=h),s.save(),s.lineWidth=o.width,s.strokeStyle=o.color,s.beginPath(),s.moveTo(f,p),s.lineTo(g,b),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&jy(n,i);const o=this.getLabelItems(t);for(const c of o){const d=c.options,h=c.font,f=c.label,g=c.textOffset;cu(n,f,0,g,h,d)}i&&Ny(n)}drawTitle(){const{ctx:t,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const o=Tn(n.font),c=Ta(n.padding),d=n.align;let h=o.lineHeight/2;s==="bottom"||s==="center"||Kt(s)?(h+=c.bottom,rn(n.text)&&(h+=o.lineHeight*(n.text.length-1))):h+=c.top;const{titleX:f,titleY:g,maxWidth:p,rotation:b}=cF(this,h,s,d);cu(t,n.text,0,0,o,{color:n.color,maxWidth:p,rotation:b,textAlign:lF(d,s,i),textBaseline:"middle",translation:[f,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,n=as(t.grid&&t.grid.z,-1),i=as(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==_c.prototype.draw?[{z:s,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let o,c;for(o=0,c=s.length;o<c;++o){const d=s[o];d[n]===this.id&&(!t||d.type===t)&&i.push(d)}return i}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return Tn(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class lf{constructor(t,s,n){this.type=t,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let n;hF(s)&&(n=this.register(s));const i=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in i||(i[o]=t,dF(t,c,n),this.override&&Bs.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const s=this.items,n=t.id,i=this.scope;n in s&&delete s[n],i&&n in Bs[i]&&(delete Bs[i][n],this.override&&delete Wo[n])}}function dF(e,t,s){const n=lu(Object.create(null),[s?Bs.get(s):{},Bs.get(t),e.defaults]);Bs.set(t,n),e.defaultRoutes&&uF(t,e.defaultRoutes),e.descriptors&&Bs.describe(t,e.descriptors)}function uF(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),i=n.pop(),o=[e].concat(n).join("."),c=t[s].split("."),d=c.pop(),h=c.join(".");Bs.route(o,i,h,d)})}function hF(e){return"id"in e&&"defaults"in e}class fF{constructor(){this.controllers=new lf(Ef,"datasets",!0),this.elements=new lf(Zo,"elements"),this.plugins=new lf(Object,"plugins"),this.scales=new lf(_c,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,n){[...s].forEach(i=>{const o=n||this._getRegistryForType(i);n||o.isForType(i)||o===this.plugins&&i.id?this._exec(t,o,i):ns(i,c=>{const d=n||this._getRegistryForType(c);this._exec(t,d,c)})})}_exec(t,s,n){const i=by(t);xs(n["before"+i],[],n),s[t](n),xs(n["after"+i],[],n)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(t))return n}return this.plugins}_get(t,s,n){const i=s.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var nr=new fF;class mF{constructor(){this._init=[]}notify(t,s,n,i){s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=i?this._descriptors(t).filter(i):this._descriptors(t),c=this._notify(o,t,s,n);return s==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,s,n,i){i=i||{};for(const o of t){const c=o.plugin,d=c[n],h=[s,i,o.options];if(xs(d,h,c)===!1&&i.cancelable)return!1}return!0}invalidate(){Ns(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const n=t&&t.config,i=as(n.options&&n.options.plugins,{}),o=gF(n);return i===!1&&!s?[]:xF(t,o,i,s)}_notifyStateChanges(t){const s=this._oldCache||[],n=this._cache,i=(o,c)=>o.filter(d=>!c.some(h=>d.plugin.id===h.plugin.id));this._notify(i(s,n),t,"stop"),this._notify(i(n,s),t,"start")}}function gF(e){const t={},s=[],n=Object.keys(nr.plugins.items);for(let o=0;o<n.length;o++)s.push(nr.getPlugin(n[o]));const i=e.plugins||[];for(let o=0;o<i.length;o++){const c=i[o];s.indexOf(c)===-1&&(s.push(c),t[c.id]=!0)}return{plugins:s,localIds:t}}function pF(e,t){return!t&&e===!1?null:e===!0?{}:e}function xF(e,{plugins:t,localIds:s},n,i){const o=[],c=e.getContext();for(const d of t){const h=d.id,f=pF(n[h],i);f!==null&&o.push({plugin:d,options:yF(e.config,{plugin:d,local:s[h]},f,c)})}return o}function yF(e,{plugin:t,local:s},n,i){const o=e.pluginScopeKeys(t),c=e.getOptionScopes(n,o);return s&&t.defaults&&c.push(t.defaults),e.createResolver(c,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hx(e,t){const s=Bs.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function bF(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function vF(e,t){return e===t?"_index_":"_value_"}function FN(e){if(e==="x"||e==="y"||e==="r")return e}function wF(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function fx(e,...t){if(FN(e))return e;for(const s of t){const n=s.axis||wF(s.position)||e.length>1&&FN(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function zN(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function jF(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(s.length)return zN(e,"x",s[0])||zN(e,"y",s[0])}return{}}function NF(e,t){const s=Wo[e.type]||{scales:{}},n=t.scales||{},i=hx(e.type,t),o=Object.create(null);return Object.keys(n).forEach(c=>{const d=n[c];if(!Kt(d))return console.error(`Invalid scale configuration for scale: ${c}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=fx(c,d,jF(c,e),Bs.scales[d.type]),f=vF(h,i),g=s.scales||{};o[c]=Wd(Object.create(null),[{axis:h},d,g[h],g[f]])}),e.data.datasets.forEach(c=>{const d=c.type||e.type,h=c.indexAxis||hx(d,t),g=(Wo[d]||{}).scales||{};Object.keys(g).forEach(p=>{const b=bF(p,h),y=c[b+"AxisID"]||b;o[y]=o[y]||Object.create(null),Wd(o[y],[{axis:b},n[y],g[p]])})}),Object.keys(o).forEach(c=>{const d=o[c];Wd(d,[Bs.scales[d.type],Bs.scale])}),o}function ZS(e){const t=e.options||(e.options={});t.plugins=as(t.plugins,{}),t.scales=NF(e,t)}function JS(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function _F(e){return e=e||{},e.data=JS(e.data),ZS(e),e}const UN=new Map,ek=new Set;function cf(e,t){let s=UN.get(e);return s||(s=t(),UN.set(e,s),ek.add(s)),s}const Rd=(e,t,s)=>{const n=Vf(t,s);n!==void 0&&e.add(n)};class TF{constructor(t){this._config=_F(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=JS(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),ZS(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return cf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return cf(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return cf(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,n=this.type;return cf(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const n=this._scopeCache;let i=n.get(t);return(!i||s)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,s,n){const{options:i,type:o}=this,c=this._cachedScopes(t,n),d=c.get(s);if(d)return d;const h=new Set;s.forEach(g=>{t&&(h.add(t),g.forEach(p=>Rd(h,t,p))),g.forEach(p=>Rd(h,i,p)),g.forEach(p=>Rd(h,Wo[o]||{},p)),g.forEach(p=>Rd(h,Bs,p)),g.forEach(p=>Rd(h,ux,p))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),ek.has(s)&&c.set(s,f),f}chartOptionScopes(){const{options:t,type:s}=this;return[t,Wo[s]||{},Bs.datasets[s]||{},{type:s},Bs,ux]}resolveNamedOptions(t,s,n,i=[""]){const o={$shared:!0},{resolver:c,subPrefixes:d}=HN(this._resolverCache,t,i);let h=c;if(kF(c,s)){o.$shared=!1,n=Gi(n)?n():n;const f=this.createResolver(t,n,d);h=fc(c,n,f)}for(const f of s)o[f]=h[f];return o}createResolver(t,s,n=[""],i){const{resolver:o}=HN(this._resolverCache,t,n);return Kt(s)?fc(o,s,void 0,i):o}}function HN(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const i=s.join();let o=n.get(i);return o||(o={resolver:Ty(t,s),subPrefixes:s.filter(d=>!d.toLowerCase().includes("hover"))},n.set(i,o)),o}const SF=e=>Kt(e)&&Object.getOwnPropertyNames(e).some(t=>Gi(e[t]));function kF(e,t){const{isScriptable:s,isIndexable:n}=zS(e);for(const i of t){const o=s(i),c=n(i),d=(c||o)&&e[i];if(o&&(Gi(d)||SF(d))||c&&rn(d))return!0}return!1}var CF="4.5.0";const EF=["top","bottom","left","right","chartArea"];function $N(e,t){return e==="top"||e==="bottom"||EF.indexOf(e)===-1&&t==="x"}function VN(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function IN(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),xs(s&&s.onComplete,[e],t)}function DF(e){const t=e.chart,s=t.options.animation;xs(s&&s.onProgress,[e],t)}function tk(e){return Cy()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Af={},qN=e=>{const t=tk(e);return Object.values(Af).filter(s=>s.canvas===t).pop()};function AF(e,t,s){const n=Object.keys(e);for(const i of n){const o=+i;if(o>=t){const c=e[i];delete e[i],(s>0||o>t)&&(e[o+s]=c)}}}function OF(e,t,s,n){return!s||e.type==="mouseout"?null:n?t:e}class rr{static register(...t){nr.add(...t),WN()}static unregister(...t){nr.remove(...t),WN()}constructor(t,s){const n=this.config=new TF(s),i=tk(t),o=qN(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||K8(i)),this.platform.updateConfig(n);const d=this.platform.acquireContext(i,c.aspectRatio),h=d&&d.canvas,f=h&&h.height,g=h&&h.width;if(this.id=rB(),this.ctx=d,this.canvas=h,this.width=g,this.height=f,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new mF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=_B(p=>this.update(p),c.resizeDelay||0),this._dataChanges=[],Af[this.id]=this,!d||!h){console.error("Failed to create chart: can't acquire context from the given item");return}$r.listen(this,"complete",IN),$r.listen(this,"progress",DF),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:n,height:i,_aspectRatio:o}=this;return Ns(t)?s&&o?o:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return nr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vN(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return pN(this.canvas,this.ctx),this}stop(){return $r.stop(this),this}resize(t,s){$r.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const n=this.options,i=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(i,t,s,o),d=n.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,vN(this,d,!0)&&(this.notifyPlugins("resize",{size:c}),xs(n.onResize,[this,c],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};ns(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,s=t.scales,n=this.scales,i=Object.keys(n).reduce((c,d)=>(c[d]=!1,c),{});let o=[];s&&(o=o.concat(Object.keys(s).map(c=>{const d=s[c],h=fx(c,d),f=h==="r",g=h==="x";return{options:d,dposition:f?"chartArea":g?"bottom":"left",dtype:f?"radialLinear":g?"category":"linear"}}))),ns(o,c=>{const d=c.options,h=d.id,f=fx(h,d),g=as(d.type,c.dtype);(d.position===void 0||$N(d.position,f)!==$N(c.dposition))&&(d.position=c.dposition),i[h]=!0;let p=null;if(h in n&&n[h].type===g)p=n[h];else{const b=nr.getScale(g);p=new b({id:h,type:g,ctx:this.ctx,chart:this}),n[p.id]=p}p.init(d,t)}),ns(i,(c,d)=>{c||delete n[d]}),ns(n,c=>{ja.configure(this,c,c.options),ja.addBox(this,c)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,n=t.length;if(t.sort((i,o)=>i.index-o.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);t.splice(s,n-s)}this._sortedMetasets=t.slice(0).sort(VN("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((n,i)=>{s.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const o=s[n];let c=this.getDatasetMeta(n);const d=o.type||this.config.type;if(c.type&&c.type!==d&&(this._destroyDatasetMeta(n),c=this.getDatasetMeta(n)),c.type=d,c.indexAxis=o.indexAxis||hx(d,this.options),c.order=o.order||0,c.index=n,c.label=""+o.label,c.visible=this.isDatasetVisible(n),c.controller)c.controller.updateIndex(n),c.controller.linkScales();else{const h=nr.getController(d),{datasetElementType:f,dataElementType:g}=Bs.datasets[d];Object.assign(h,{dataElementType:nr.getElement(g),datasetElementType:f&&nr.getElement(f)}),c.controller=new h(this,n),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){ns(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,g=this.data.datasets.length;f<g;f++){const{controller:p}=this.getDatasetMeta(f),b=!i&&o.indexOf(p)===-1;p.buildOrUpdateElements(b),c=Math.max(+p.getMaxOverflow(),c)}c=this._minPadding=n.layout.autoPadding?c:0,this._updateLayout(c),i||ns(o,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(VN("z","_idx"));const{_active:d,_lastEvent:h}=this;h?this._eventHandler(h,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){ns(this.scales,t=>{ja.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!iN(s,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:o}of s){const c=n==="_removeElements"?-o:o;AF(t,i,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=o=>new Set(t.filter(c=>c[0]===o).map((c,d)=>d+","+c.splice(1).join(","))),i=n(0);for(let o=1;o<s;o++)if(!iN(i,n(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ja.update(this,this.width,this.height,t);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],ns(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Gi(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($r.has(this)?this.attached&&!$r.running(this)&&$r.start(this):(this.draw(),IN({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,n=[];let i,o;for(i=0,o=s.length;i<o;++i){const c=s[i];(!t||c.visible)&&n.push(c)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=c8(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&jy(s,i),t.controller.draw(),i&&Ny(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return BS(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,n,i){const o=E8.modes[s];return typeof o=="function"?o(this,t,n,i):[]}getDatasetMeta(t){const s=this.data.datasets[t],n=this._metasets;let i=n.filter(o=>o&&o._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Nc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(t,s){const n=this.getDatasetMeta(t);n.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,n){const i=n?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,i);If(s)?(o.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),c.update(o,{visible:n}),this.update(d=>d.datasetIndex===t?i:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),$r.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),pN(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Af[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,n=(o,c)=>{s.addEventListener(this,o,c),t[o]=c},i=(o,c,d)=>{o.offsetX=c,o.offsetY=d,this._eventHandler(o)};ns(this.options.events,o=>n(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,n=(h,f)=>{s.addEventListener(this,h,f),t[h]=f},i=(h,f)=>{t[h]&&(s.removeEventListener(this,h,f),delete t[h])},o=(h,f)=>{this.canvas&&this.resize(h,f)};let c;const d=()=>{i("attach",d),this.attached=!0,this.resize(),n("resize",o),n("detach",c)};c=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),n("attach",d)},s.isAttached(this.canvas)?d():c()}unbindEvents(){ns(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},ns(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,n){const i=n?"set":"remove";let o,c,d,h;for(s==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),d=0,h=t.length;d<h;++d){c=t[d];const f=c&&this.getDatasetMeta(c.datasetIndex).controller;f&&f[i+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],n=t.map(({datasetIndex:o,index:c})=>{const d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[c],index:c}});!Hf(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(t,s,n){return this._plugins.notify(this,t,s,n)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,n){const i=this.options.hover,o=(h,f)=>h.filter(g=>!f.some(p=>g.datasetIndex===p.datasetIndex&&g.index===p.index)),c=o(s,t),d=n?t:o(t,s);c.length&&this.updateHoverStyle(c,i.mode,!1),d.length&&i.mode&&this.updateHoverStyle(d,i.mode,!0)}_eventHandler(t,s){const n={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},i=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const o=this._handleEvent(t,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(o||n.changed)&&this.render(),this}_handleEvent(t,s,n){const{_active:i=[],options:o}=this,c=s,d=this._getActiveElements(t,i,n,c),h=uB(t),f=OF(t,this._lastEvent,n,h);n&&(this._lastEvent=null,xs(o.onHover,[t,d,this],this),h&&xs(o.onClick,[t,d,this],this));const g=!Hf(d,i);return(g||s)&&(this._active=d,this._updateHoverStyles(d,i,s)),this._lastEvent=f,g}_getActiveElements(t,s,n,i){if(t.type==="mouseout")return[];if(!n)return s;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,i)}}kt(rr,"defaults",Bs),kt(rr,"instances",Af),kt(rr,"overrides",Wo),kt(rr,"registry",nr),kt(rr,"version",CF),kt(rr,"getChart",qN);function WN(){return ns(rr.instances,e=>e._plugins.invalidate())}function MF(e,t,s){const{startAngle:n,x:i,y:o,outerRadius:c,innerRadius:d,options:h}=t,{borderWidth:f,borderJoinStyle:g}=h,p=Math.min(f/c,ar(n-s));if(e.beginPath(),e.arc(i,o,c-f/2,n+p/2,s-p/2),d>0){const b=Math.min(f/d,ar(n-s));e.arc(i,o,d+f/2,s-b/2,n+b/2,!0)}else{const b=Math.min(f/2,c*ar(n-s));if(g==="round")e.arc(i,o,b,s-ys/2,n+ys/2,!0);else if(g==="bevel"){const y=2*b*b,j=-y*Math.cos(s+ys/2)+i,v=-y*Math.sin(s+ys/2)+o,_=y*Math.cos(n+ys/2)+i,T=y*Math.sin(n+ys/2)+o;e.lineTo(j,v),e.lineTo(_,T)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function RF(e,t,s){const{startAngle:n,pixelMargin:i,x:o,y:c,outerRadius:d,innerRadius:h}=t;let f=i/d;e.beginPath(),e.arc(o,c,d,n-f,s+f),h>i?(f=i/h,e.arc(o,c,h,s+f,n-f,!0)):e.arc(o,c,i,s+hn,n-hn),e.closePath(),e.clip()}function PF(e){return _y(e,["outerStart","outerEnd","innerStart","innerEnd"])}function LF(e,t,s,n){const i=PF(e.options.borderRadius),o=(s-t)/2,c=Math.min(o,n*t/2),d=h=>{const f=(s-Math.min(o,h))*n/2;return In(h,0,Math.min(o,f))};return{outerStart:d(i.outerStart),outerEnd:d(i.outerEnd),innerStart:In(i.innerStart,0,c),innerEnd:In(i.innerEnd,0,c)}}function Il(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function Qf(e,t,s,n,i,o){const{x:c,y:d,startAngle:h,pixelMargin:f,innerRadius:g}=t,p=Math.max(t.outerRadius+n+s-f,0),b=g>0?g+n+s+f:0;let y=0;const j=i-h;if(n){const K=g>0?g-n:0,$=p>0?p-n:0,ee=(K+$)/2,se=ee!==0?j*ee/(ee+n):j;y=(j-se)/2}const v=Math.max(.001,j*p-s/ys)/p,_=(j-v)/2,T=h+_+y,A=i-_-y,{outerStart:k,outerEnd:S,innerStart:E,innerEnd:C}=LF(t,b,p,A-T),z=p-k,L=p-S,R=T+k/z,V=A-S/L,I=b+E,G=b+C,U=T+E/I,W=A-C/G;if(e.beginPath(),o){const K=(R+V)/2;if(e.arc(c,d,p,R,K),e.arc(c,d,p,K,V),S>0){const Ne=Il(L,V,c,d);e.arc(Ne.x,Ne.y,S,V,A+hn)}const $=Il(G,A,c,d);if(e.lineTo($.x,$.y),C>0){const Ne=Il(G,W,c,d);e.arc(Ne.x,Ne.y,C,A+hn,W+Math.PI)}const ee=(A-C/b+(T+E/b))/2;if(e.arc(c,d,b,A-C/b,ee,!0),e.arc(c,d,b,ee,T+E/b,!0),E>0){const Ne=Il(I,U,c,d);e.arc(Ne.x,Ne.y,E,U+Math.PI,T-hn)}const se=Il(z,T,c,d);if(e.lineTo(se.x,se.y),k>0){const Ne=Il(z,R,c,d);e.arc(Ne.x,Ne.y,k,T-hn,R)}}else{e.moveTo(c,d);const K=Math.cos(R)*p+c,$=Math.sin(R)*p+d;e.lineTo(K,$);const ee=Math.cos(V)*p+c,se=Math.sin(V)*p+d;e.lineTo(ee,se)}e.closePath()}function BF(e,t,s,n,i){const{fullCircles:o,startAngle:c,circumference:d}=t;let h=t.endAngle;if(o){Qf(e,t,s,n,h,i);for(let f=0;f<o;++f)e.fill();isNaN(d)||(h=c+(d%Dn||Dn))}return Qf(e,t,s,n,h,i),e.fill(),h}function FF(e,t,s,n,i){const{fullCircles:o,startAngle:c,circumference:d,options:h}=t,{borderWidth:f,borderJoinStyle:g,borderDash:p,borderDashOffset:b,borderRadius:y}=h,j=h.borderAlign==="inner";if(!f)return;e.setLineDash(p||[]),e.lineDashOffset=b,j?(e.lineWidth=f*2,e.lineJoin=g||"round"):(e.lineWidth=f,e.lineJoin=g||"bevel");let v=t.endAngle;if(o){Qf(e,t,s,n,v,i);for(let _=0;_<o;++_)e.stroke();isNaN(d)||(v=c+(d%Dn||Dn))}j&&RF(e,t,v),h.selfJoin&&v-c>=ys&&y===0&&g!=="miter"&&MF(e,t,v),o||(Qf(e,t,s,n,v,i),e.stroke())}class Id extends Zo{constructor(s){super();kt(this,"circumference");kt(this,"endAngle");kt(this,"fullCircles");kt(this,"innerRadius");kt(this,"outerRadius");kt(this,"pixelMargin");kt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,i){const o=this.getProps(["x","y"],i),{angle:c,distance:d}=CS(o,{x:s,y:n}),{startAngle:h,endAngle:f,innerRadius:g,outerRadius:p,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),y=(this.options.spacing+this.options.borderWidth)/2,j=as(b,f-h),v=ES(c,h,f)&&h!==f,_=j>=Dn||v,T=Ho(d,g+y,p+y);return _&&T}getCenterPoint(s){const{x:n,y:i,startAngle:o,endAngle:c,innerRadius:d,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:f,spacing:g}=this.options,p=(o+c)/2,b=(d+h+g+f)/2;return{x:n+Math.cos(p)*b,y:i+Math.sin(p)*b}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:i}=this,o=(n.offset||0)/4,c=(n.spacing||0)/2,d=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Dn?Math.floor(i/Dn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const h=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(h)*o,Math.sin(h)*o);const f=1-Math.sin(Math.min(ys,i||0)),g=o*f;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,BF(s,this,g,c,d),FF(s,this,g,c,d),s.restore()}}kt(Id,"id","arc"),kt(Id,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),kt(Id,"defaultRoutes",{backgroundColor:"backgroundColor"}),kt(Id,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function sk(e,t){const{x:s,y:n,base:i,width:o,height:c}=e.getProps(["x","y","base","width","height"],t);let d,h,f,g,p;return e.horizontal?(p=c/2,d=Math.min(s,i),h=Math.max(s,i),f=n-p,g=n+p):(p=o/2,d=s-p,h=s+p,f=Math.min(n,i),g=Math.max(n,i)),{left:d,top:f,right:h,bottom:g}}function Ri(e,t,s,n){return e?0:In(t,s,n)}function zF(e,t,s){const n=e.options.borderWidth,i=e.borderSkipped,o=FS(n);return{t:Ri(i.top,o.top,0,s),r:Ri(i.right,o.right,0,t),b:Ri(i.bottom,o.bottom,0,s),l:Ri(i.left,o.left,0,t)}}function UF(e,t,s){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,o=ac(i),c=Math.min(t,s),d=e.borderSkipped,h=n||Kt(i);return{topLeft:Ri(!h||d.top||d.left,o.topLeft,0,c),topRight:Ri(!h||d.top||d.right,o.topRight,0,c),bottomLeft:Ri(!h||d.bottom||d.left,o.bottomLeft,0,c),bottomRight:Ri(!h||d.bottom||d.right,o.bottomRight,0,c)}}function HF(e){const t=sk(e),s=t.right-t.left,n=t.bottom-t.top,i=zF(e,s/2,n/2),o=UF(e,s/2,n/2);return{outer:{x:t.left,y:t.top,w:s,h:n,radius:o},inner:{x:t.left+i.l,y:t.top+i.t,w:s-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function j0(e,t,s,n){const i=t===null,o=s===null,d=e&&!(i&&o)&&sk(e,n);return d&&(i||Ho(t,d.left,d.right))&&(o||Ho(s,d.top,d.bottom))}function $F(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function VF(e,t){e.rect(t.x,t.y,t.w,t.h)}function N0(e,t,s={}){const n=e.x!==s.x?-t:0,i=e.y!==s.y?-t:0,o=(e.x+e.w!==s.x+s.w?t:0)-n,c=(e.y+e.h!==s.y+s.h?t:0)-i;return{x:e.x+n,y:e.y+i,w:e.w+o,h:e.h+c,radius:e.radius}}class ic extends Zo{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:s,options:{borderColor:n,backgroundColor:i}}=this,{inner:o,outer:c}=HF(this),d=$F(c.radius)?Gf:VF;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),d(t,N0(c,s,o)),t.clip(),d(t,N0(o,-s,c)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),d(t,N0(o,s)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,s,n){return j0(this,t,s,n)}inXRange(t,s){return j0(this,t,null,s)}inYRange(t,s){return j0(this,null,t,s)}getCenterPoint(t){const{x:s,y:n,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(s+i)/2:s,y:o?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}kt(ic,"id","bar"),kt(ic,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),kt(ic,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const YN=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}},IF=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class GN extends Zo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,n){this.maxWidth=t,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=xs(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(n=>t.filter(n,this.chart.data))),t.sort&&(s=s.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=Tn(n.font),o=i.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:h}=YN(n,o);let f,g;s.font=i.string,this.isHorizontal()?(f=this.maxWidth,g=this._fitRows(c,o,d,h)+10):(g=this.maxHeight,f=this._fitCols(c,i,d,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(g,t.maxHeight||this.maxHeight)}_fitRows(t,s,n,i){const{ctx:o,maxWidth:c,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],g=i+d;let p=t;o.textAlign="left",o.textBaseline="middle";let b=-1,y=-g;return this.legendItems.forEach((j,v)=>{const _=n+s/2+o.measureText(j.text).width;(v===0||f[f.length-1]+_+2*d>c)&&(p+=g,f[f.length-(v>0?0:1)]=0,y+=g,b++),h[v]={left:0,top:y,row:b,width:_,height:i},f[f.length-1]+=_+d}),p}_fitCols(t,s,n,i){const{ctx:o,maxHeight:c,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],g=c-t;let p=d,b=0,y=0,j=0,v=0;return this.legendItems.forEach((_,T)=>{const{itemWidth:A,itemHeight:k}=qF(n,s,o,_,i);T>0&&y+k+2*d>g&&(p+=b+d,f.push({width:b,height:y}),j+=b+d,v++,b=y=0),h[T]={left:j,top:y,col:v,width:A,height:k},b=Math.max(b,A),y+=k+d}),p+=b,f.push({width:b,height:y}),p}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:o}}=this,c=rc(o,this.left,this.width);if(this.isHorizontal()){let d=0,h=Nn(n,this.left+i,this.right-this.lineWidths[d]);for(const f of s)d!==f.row&&(d=f.row,h=Nn(n,this.left+i,this.right-this.lineWidths[d])),f.top+=this.top+t+i,f.left=c.leftForLtr(c.x(h),f.width),h+=f.width+i}else{let d=0,h=Nn(n,this.top+t+i,this.bottom-this.columnSizes[d].height);for(const f of s)f.col!==d&&(d=f.col,h=Nn(n,this.top+t+i,this.bottom-this.columnSizes[d].height)),f.top=h,f.left+=this.left+i,f.left=c.leftForLtr(c.x(f.left),f.width),h+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;jy(t,this),this._draw(),Ny(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:n,ctx:i}=this,{align:o,labels:c}=t,d=Bs.color,h=rc(t.rtl,this.left,this.width),f=Tn(c.font),{padding:g}=c,p=f.size,b=p/2;let y;this.drawTitle(),i.textAlign=h.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:j,boxHeight:v,itemHeight:_}=YN(c,p),T=function(C,z,L){if(isNaN(j)||j<=0||isNaN(v)||v<0)return;i.save();const R=as(L.lineWidth,1);if(i.fillStyle=as(L.fillStyle,d),i.lineCap=as(L.lineCap,"butt"),i.lineDashOffset=as(L.lineDashOffset,0),i.lineJoin=as(L.lineJoin,"miter"),i.lineWidth=R,i.strokeStyle=as(L.strokeStyle,d),i.setLineDash(as(L.lineDash,[])),c.usePointStyle){const V={radius:v*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:R},I=h.xPlus(C,j/2),G=z+b;LS(i,V,I,G,c.pointStyleWidth&&j)}else{const V=z+Math.max((p-v)/2,0),I=h.leftForLtr(C,j),G=ac(L.borderRadius);i.beginPath(),Object.values(G).some(U=>U!==0)?Gf(i,{x:I,y:V,w:j,h:v,radius:G}):i.rect(I,V,j,v),i.fill(),R!==0&&i.stroke()}i.restore()},A=function(C,z,L){cu(i,L.text,C,z+_/2,f,{strikethrough:L.hidden,textAlign:h.textAlign(L.textAlign)})},k=this.isHorizontal(),S=this._computeTitleHeight();k?y={x:Nn(o,this.left+g,this.right-n[0]),y:this.top+g+S,line:0}:y={x:this.left+g,y:Nn(o,this.top+S+g,this.bottom-s[0].height),line:0},VS(this.ctx,t.textDirection);const E=_+g;this.legendItems.forEach((C,z)=>{i.strokeStyle=C.fontColor,i.fillStyle=C.fontColor;const L=i.measureText(C.text).width,R=h.textAlign(C.textAlign||(C.textAlign=c.textAlign)),V=j+b+L;let I=y.x,G=y.y;h.setWidth(this.width),k?z>0&&I+V+g>this.right&&(G=y.y+=E,y.line++,I=y.x=Nn(o,this.left+g,this.right-n[y.line])):z>0&&G+E>this.bottom&&(I=y.x=I+s[y.line].width+g,y.line++,G=y.y=Nn(o,this.top+S+g,this.bottom-s[y.line].height));const U=h.x(I);if(T(U,G,C),I=TB(R,I+j+b,k?I+V:this.right,t.rtl),A(h.x(I),G,C),k)y.x+=V+g;else if(typeof C.text!="string"){const W=f.lineHeight;y.y+=nk(C,W)+g}else y.y+=E}),IS(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,n=Tn(s.font),i=Ta(s.padding);if(!s.display)return;const o=rc(t.rtl,this.left,this.width),c=this.ctx,d=s.position,h=n.size/2,f=i.top+h;let g,p=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),g=this.top+f,p=Nn(t.align,p,this.right-b);else{const j=this.columnSizes.reduce((v,_)=>Math.max(v,_.height),0);g=f+Nn(t.align,this.top,this.bottom-j-t.labels.padding-this._computeTitleHeight())}const y=Nn(d,p,p+b);c.textAlign=o.textAlign(wy(d)),c.textBaseline="middle",c.strokeStyle=s.color,c.fillStyle=s.color,c.font=n.string,cu(c,s.text,y,g,n)}_computeTitleHeight(){const t=this.options.title,s=Tn(t.font),n=Ta(t.padding);return t.display?s.lineHeight+n.height:0}_getLegendItemAt(t,s){let n,i,o;if(Ho(t,this.left,this.right)&&Ho(s,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(i=o[n],Ho(t,i.left,i.left+i.width)&&Ho(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const s=this.options;if(!GF(t.type,s))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,o=IF(i,n);i&&!o&&xs(s.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!o&&xs(s.onHover,[t,n,this],this)}else n&&xs(s.onClick,[t,n,this],this)}}function qF(e,t,s,n,i){const o=WF(n,e,t,s),c=YF(i,n,t.lineHeight);return{itemWidth:o,itemHeight:c}}function WF(e,t,s,n){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((o,c)=>o.length>c.length?o:c)),t+s.size/2+n.measureText(i).width}function YF(e,t,s){let n=e;return typeof t.text!="string"&&(n=nk(t,s)),n}function nk(e,t){const s=e.text?e.text.length:0;return t*s}function GF(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Ay={id:"legend",_element:GN,start(e,t,s){const n=e.legend=new GN({ctx:e.ctx,options:s,chart:e});ja.configure(e,n,s),ja.addBox(e,n)},stop(e){ja.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;ja.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:o,useBorderRadius:c,borderRadius:d}}=e.legend.options;return e._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(s?0:void 0),g=Ta(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:f.borderColor,pointStyle:n||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:c&&(d||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};let ak=class extends Zo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const i=rn(n.text)?n.text.length:1;this._padding=Ta(n.padding);const o=i*Tn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:n,bottom:i,right:o,options:c}=this,d=c.align;let h=0,f,g,p;return this.isHorizontal()?(g=Nn(d,n,o),p=s+t,f=o-n):(c.position==="left"?(g=n+t,p=Nn(d,i,s),h=ys*-.5):(g=o-t,p=Nn(d,s,i),h=ys*.5),f=i-s),{titleX:g,titleY:p,maxWidth:f,rotation:h}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const n=Tn(s.font),o=n.lineHeight/2+this._padding.top,{titleX:c,titleY:d,maxWidth:h,rotation:f}=this._drawArgs(o);cu(t,s.text,0,0,n,{color:s.color,maxWidth:h,rotation:f,textAlign:wy(s.align),textBaseline:"middle",translation:[c,d]})}};function XF(e,t){const s=new ak({ctx:e.ctx,options:t,chart:e});ja.configure(e,s,t),ja.addBox(e,s),e.titleBlock=s}var Oy={id:"title",_element:ak,start(e,t,s){XF(e,s)},stop(e){const t=e.titleBlock;ja.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;ja.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qd={average(e){if(!e.length)return!1;let t,s,n=new Set,i=0,o=0;for(t=0,s=e.length;t<s;++t){const d=e[t].element;if(d&&d.hasValue()){const h=d.tooltipPosition();n.add(h.x),i+=h.y,++o}}return o===0||n.size===0?!1:{x:[...n].reduce((d,h)=>d+h)/n.size,y:i/o}},nearest(e,t){if(!e.length)return!1;let s=t.x,n=t.y,i=Number.POSITIVE_INFINITY,o,c,d;for(o=0,c=e.length;o<c;++o){const h=e[o].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),g=yB(t,f);g<i&&(i=g,d=h)}}if(d){const h=d.tooltipPosition();s=h.x,n=h.y}return{x:s,y:n}}};function sr(e,t){return t&&(rn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Vr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function KF(e,t){const{element:s,datasetIndex:n,index:i}=t,o=e.getDatasetMeta(n).controller,{label:c,value:d}=o.getLabelAndValue(i);return{chart:e,label:c,parsed:o.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:d,dataset:o.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function XN(e,t){const s=e.chart.ctx,{body:n,footer:i,title:o}=e,{boxWidth:c,boxHeight:d}=t,h=Tn(t.bodyFont),f=Tn(t.titleFont),g=Tn(t.footerFont),p=o.length,b=i.length,y=n.length,j=Ta(t.padding);let v=j.height,_=0,T=n.reduce((S,E)=>S+E.before.length+E.lines.length+E.after.length,0);if(T+=e.beforeBody.length+e.afterBody.length,p&&(v+=p*f.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),T){const S=t.displayColors?Math.max(d,h.lineHeight):h.lineHeight;v+=y*S+(T-y)*h.lineHeight+(T-1)*t.bodySpacing}b&&(v+=t.footerMarginTop+b*g.lineHeight+(b-1)*t.footerSpacing);let A=0;const k=function(S){_=Math.max(_,s.measureText(S).width+A)};return s.save(),s.font=f.string,ns(e.title,k),s.font=h.string,ns(e.beforeBody.concat(e.afterBody),k),A=t.displayColors?c+2+t.boxPadding:0,ns(n,S=>{ns(S.before,k),ns(S.lines,k),ns(S.after,k)}),A=0,s.font=g.string,ns(e.footer,k),s.restore(),_+=j.width,{width:_,height:v}}function QF(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}function ZF(e,t,s,n){const{x:i,width:o}=n,c=s.caretSize+s.caretPadding;if(e==="left"&&i+o+c>t.width||e==="right"&&i-o-c<0)return!0}function JF(e,t,s,n){const{x:i,width:o}=s,{width:c,chartArea:{left:d,right:h}}=e;let f="center";return n==="center"?f=i<=(d+h)/2?"left":"right":i<=o/2?f="left":i>=c-o/2&&(f="right"),ZF(f,e,t,s)&&(f="center"),f}function KN(e,t,s){const n=s.yAlign||t.yAlign||QF(e,s);return{xAlign:s.xAlign||t.xAlign||JF(e,t,s,n),yAlign:n}}function e7(e,t){let{x:s,width:n}=e;return t==="right"?s-=n:t==="center"&&(s-=n/2),s}function t7(e,t,s){let{y:n,height:i}=e;return t==="top"?n+=s:t==="bottom"?n-=i+s:n-=i/2,n}function QN(e,t,s,n){const{caretSize:i,caretPadding:o,cornerRadius:c}=e,{xAlign:d,yAlign:h}=s,f=i+o,{topLeft:g,topRight:p,bottomLeft:b,bottomRight:y}=ac(c);let j=e7(t,d);const v=t7(t,h,f);return h==="center"?d==="left"?j+=f:d==="right"&&(j-=f):d==="left"?j-=Math.max(g,b)+i:d==="right"&&(j+=Math.max(p,y)+i),{x:In(j,0,n.width-t.width),y:In(v,0,n.height-t.height)}}function df(e,t,s){const n=Ta(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function ZN(e){return sr([],Vr(e))}function s7(e,t,s){return Nc(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function JN(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const rk={beforeTitle:Ur,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:Ur,beforeBody:Ur,beforeLabel:Ur,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return Ns(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Ur,afterBody:Ur,beforeFooter:Ur,footer:Ur,afterFooter:Ur};function zn(e,t,s,n){const i=e[t].call(s,n);return typeof i=="undefined"?rk[t].call(s,n):i}class mx extends Zo{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,o=new qS(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=s7(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:n}=s,i=zn(n,"beforeTitle",this,t),o=zn(n,"title",this,t),c=zn(n,"afterTitle",this,t);let d=[];return d=sr(d,Vr(i)),d=sr(d,Vr(o)),d=sr(d,Vr(c)),d}getBeforeBody(t,s){return ZN(zn(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:n}=s,i=[];return ns(t,o=>{const c={before:[],lines:[],after:[]},d=JN(n,o);sr(c.before,Vr(zn(d,"beforeLabel",this,o))),sr(c.lines,zn(d,"label",this,o)),sr(c.after,Vr(zn(d,"afterLabel",this,o))),i.push(c)}),i}getAfterBody(t,s){return ZN(zn(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:n}=s,i=zn(n,"beforeFooter",this,t),o=zn(n,"footer",this,t),c=zn(n,"afterFooter",this,t);let d=[];return d=sr(d,Vr(i)),d=sr(d,Vr(o)),d=sr(d,Vr(c)),d}_createItems(t){const s=this._active,n=this.chart.data,i=[],o=[],c=[];let d=[],h,f;for(h=0,f=s.length;h<f;++h)d.push(KF(this.chart,s[h]));return t.filter&&(d=d.filter((g,p,b)=>t.filter(g,p,b,n))),t.itemSort&&(d=d.sort((g,p)=>t.itemSort(g,p,n))),ns(d,g=>{const p=JN(t.callbacks,g);i.push(zn(p,"labelColor",this,g)),o.push(zn(p,"labelPointStyle",this,g)),c.push(zn(p,"labelTextColor",this,g))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=d,d}update(t,s){const n=this.options.setContext(this.getContext()),i=this._active;let o,c=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const d=qd[n.position].call(this,i,this._eventPosition);c=this._createItems(n),this.title=this.getTitle(c,n),this.beforeBody=this.getBeforeBody(c,n),this.body=this.getBody(c,n),this.afterBody=this.getAfterBody(c,n),this.footer=this.getFooter(c,n);const h=this._size=XN(this,n),f=Object.assign({},d,h),g=KN(this.chart,n,f),p=QN(n,f,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,o={opacity:1,x:p.x,y:p.y,width:h.width,height:h.height,caretX:d.x,caretY:d.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,n,i){const o=this.getCaretPosition(t,n,i);s.lineTo(o.x1,o.y1),s.lineTo(o.x2,o.y2),s.lineTo(o.x3,o.y3)}getCaretPosition(t,s,n){const{xAlign:i,yAlign:o}=this,{caretSize:c,cornerRadius:d}=n,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:p}=ac(d),{x:b,y}=t,{width:j,height:v}=s;let _,T,A,k,S,E;return o==="center"?(S=y+v/2,i==="left"?(_=b,T=_-c,k=S+c,E=S-c):(_=b+j,T=_+c,k=S-c,E=S+c),A=_):(i==="left"?T=b+Math.max(h,g)+c:i==="right"?T=b+j-Math.max(f,p)-c:T=this.caretX,o==="top"?(k=y,S=k-c,_=T-c,A=T+c):(k=y+v,S=k+c,_=T+c,A=T-c),E=k),{x1:_,x2:T,x3:A,y1:k,y2:S,y3:E}}drawTitle(t,s,n){const i=this.title,o=i.length;let c,d,h;if(o){const f=rc(n.rtl,this.x,this.width);for(t.x=df(this,n.titleAlign,n),s.textAlign=f.textAlign(n.titleAlign),s.textBaseline="middle",c=Tn(n.titleFont),d=n.titleSpacing,s.fillStyle=n.titleColor,s.font=c.string,h=0;h<o;++h)s.fillText(i[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+d,h+1===o&&(t.y+=n.titleMarginBottom-d)}}_drawColorBox(t,s,n,i,o){const c=this.labelColors[n],d=this.labelPointStyles[n],{boxHeight:h,boxWidth:f}=o,g=Tn(o.bodyFont),p=df(this,"left",o),b=i.x(p),y=h<g.lineHeight?(g.lineHeight-h)/2:0,j=s.y+y;if(o.usePointStyle){const v={radius:Math.min(f,h)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},_=i.leftForLtr(b,f)+f/2,T=j+h/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,xN(t,v,_,T),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,xN(t,v,_,T)}else{t.lineWidth=Kt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const v=i.leftForLtr(b,f),_=i.leftForLtr(i.xPlus(b,1),f-2),T=ac(c.borderRadius);Object.values(T).some(A=>A!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Gf(t,{x:v,y:j,w:f,h,radius:T}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Gf(t,{x:_,y:j+1,w:f-2,h:h-2,radius:T}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(v,j,f,h),t.strokeRect(v,j,f,h),t.fillStyle=c.backgroundColor,t.fillRect(_,j+1,f-2,h-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,s,n){const{body:i}=this,{bodySpacing:o,bodyAlign:c,displayColors:d,boxHeight:h,boxWidth:f,boxPadding:g}=n,p=Tn(n.bodyFont);let b=p.lineHeight,y=0;const j=rc(n.rtl,this.x,this.width),v=function(L){s.fillText(L,j.x(t.x+y),t.y+b/2),t.y+=b+o},_=j.textAlign(c);let T,A,k,S,E,C,z;for(s.textAlign=c,s.textBaseline="middle",s.font=p.string,t.x=df(this,_,n),s.fillStyle=n.bodyColor,ns(this.beforeBody,v),y=d&&_!=="right"?c==="center"?f/2+g:f+2+g:0,S=0,C=i.length;S<C;++S){for(T=i[S],A=this.labelTextColors[S],s.fillStyle=A,ns(T.before,v),k=T.lines,d&&k.length&&(this._drawColorBox(s,t,S,j,n),b=Math.max(p.lineHeight,h)),E=0,z=k.length;E<z;++E)v(k[E]),b=p.lineHeight;ns(T.after,v)}y=0,b=p.lineHeight,ns(this.afterBody,v),t.y-=o}drawFooter(t,s,n){const i=this.footer,o=i.length;let c,d;if(o){const h=rc(n.rtl,this.x,this.width);for(t.x=df(this,n.footerAlign,n),t.y+=n.footerMarginTop,s.textAlign=h.textAlign(n.footerAlign),s.textBaseline="middle",c=Tn(n.footerFont),s.fillStyle=n.footerColor,s.font=c.string,d=0;d<o;++d)s.fillText(i[d],h.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+n.footerSpacing}}drawBackground(t,s,n,i){const{xAlign:o,yAlign:c}=this,{x:d,y:h}=t,{width:f,height:g}=n,{topLeft:p,topRight:b,bottomLeft:y,bottomRight:j}=ac(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(d+p,h),c==="top"&&this.drawCaret(t,s,n,i),s.lineTo(d+f-b,h),s.quadraticCurveTo(d+f,h,d+f,h+b),c==="center"&&o==="right"&&this.drawCaret(t,s,n,i),s.lineTo(d+f,h+g-j),s.quadraticCurveTo(d+f,h+g,d+f-j,h+g),c==="bottom"&&this.drawCaret(t,s,n,i),s.lineTo(d+y,h+g),s.quadraticCurveTo(d,h+g,d,h+g-y),c==="center"&&o==="left"&&this.drawCaret(t,s,n,i),s.lineTo(d,h+p),s.quadraticCurveTo(d,h,d+p,h),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,n=this.$animations,i=n&&n.x,o=n&&n.y;if(i||o){const c=qd[t.position].call(this,this._active,this._eventPosition);if(!c)return;const d=this._size=XN(this,t),h=Object.assign({},c,this._size),f=KN(s,t,h),g=QN(t,h,f,s);(i._to!==g.x||o._to!==g.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=d.width,this.height=d.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const c=Ta(s.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&d&&(t.save(),t.globalAlpha=n,this.drawBackground(o,t,i,s),VS(t,s.textDirection),o.y+=c.top,this.drawTitle(o,t,s),this.drawBody(o,t,s),this.drawFooter(o,t,s),IS(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const n=this._active,i=t.map(({datasetIndex:d,index:h})=>{const f=this.chart.getDatasetMeta(d);if(!f)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:f.data[h],index:h}}),o=!Hf(n,i),c=this._positionChanged(i,s);(o||c)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],c=this._getActiveElements(t,o,s,n),d=this._positionChanged(c,t),h=s||!Hf(c,o)||d;return h&&(this._active=c,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),h}_getActiveElements(t,s,n,i){const o=this.options;if(t.type==="mouseout")return[];if(!i)return s.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,n);return o.reverse&&c.reverse(),c}_positionChanged(t,s){const{caretX:n,caretY:i,options:o}=this,c=qd[o.position].call(this,t,s);return c!==!1&&(n!==c.x||i!==c.y)}}kt(mx,"positioners",qd);var My={id:"tooltip",_element:mx,positioners:qd,afterInit(e,t,s){s&&(e.tooltip=new mx({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",ie(F({},s),{cancelable:!0}))===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:rk},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const n7=(e,t,s,n)=>(typeof t=="string"?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function a7(e,t,s,n){const i=e.indexOf(t);if(i===-1)return n7(e,t,s,n);const o=e.lastIndexOf(t);return i!==o?s:i}const r7=(e,t)=>e===null?null:In(Math.round(e),0,t);function e2(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class uu extends _c{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:o}of s)n[i]===o&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(Ns(t))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===t?s:a7(n,t,as(s,t),this._addedLabels),r7(s,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,s=this.max,n=this.options.offset,i=[];let o=this.getLabels();o=t===0&&s===o.length-1?o:o.slice(t,s+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let c=t;c<=s;c++)i.push({value:c});return i}getLabelForValue(t){return e2.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}kt(uu,"id","category"),kt(uu,"defaults",{ticks:{callback:e2}});function i7(e,t){const s=[],{bounds:i,step:o,min:c,max:d,precision:h,count:f,maxTicks:g,maxDigits:p,includeBounds:b}=e,y=o||1,j=g-1,{min:v,max:_}=t,T=!Ns(c),A=!Ns(d),k=!Ns(f),S=(_-v)/(p+1);let E=lN((_-v)/j/y)*y,C,z,L,R;if(E<1e-14&&!T&&!A)return[{value:v},{value:_}];R=Math.ceil(_/E)-Math.floor(v/E),R>j&&(E=lN(R*E/j/y)*y),Ns(h)||(C=Math.pow(10,h),E=Math.ceil(E*C)/C),i==="ticks"?(z=Math.floor(v/E)*E,L=Math.ceil(_/E)*E):(z=v,L=_),T&&A&&o&&gB((d-c)/o,E/1e3)?(R=Math.round(Math.min((d-c)/E,g)),E=(d-c)/R,z=c,L=d):k?(z=T?c:z,L=A?d:L,R=f-1,E=(L-z)/R):(R=(L-z)/E,Cf(R,Math.round(R),E/1e3)?R=Math.round(R):R=Math.ceil(R));const V=Math.max(cN(E),cN(z));C=Math.pow(10,Ns(h)?V:h),z=Math.round(z*C)/C,L=Math.round(L*C)/C;let I=0;for(T&&(b&&z!==c?(s.push({value:c}),z<c&&I++,Cf(Math.round((z+I*E)*C)/C,c,t2(c,S,e))&&I++):z<c&&I++);I<R;++I){const G=Math.round((z+I*E)*C)/C;if(A&&G>d)break;s.push({value:G})}return A&&b&&L!==d?s.length&&Cf(s[s.length-1].value,d,t2(d,S,e))?s[s.length-1].value=d:s.push({value:d}):(!A||L===d)&&s.push({value:L}),s}function t2(e,t,{horizontal:s,minRotation:n}){const i=Uo(n),o=(s?Math.sin(i):Math.cos(i))||.001,c=.75*t*(""+e).length;return Math.min(t/o,c)}class o7 extends _c{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return Ns(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this;const c=h=>i=s?i:h,d=h=>o=n?o:h;if(t){const h=Wf(i),f=Wf(o);h<0&&f<0?d(0):h>0&&f>0&&c(0)}if(i===o){let h=o===0?1:Math.abs(o*.05);d(o+h),t||c(i-h)}this.min=i,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},o=this._range||this,c=i7(i,o);return t.bounds==="ticks"&&pB(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-s)/Math.max(t.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(t){return RS(t,this.chart.options.locale,this.options.ticks.format)}}class hu extends o7{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=_a(t)?t:0,this.max=_a(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,n=Uo(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,o.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}kt(hu,"id","linear"),kt(hu,"defaults",{ticks:{callback:PS.formatters.numeric}});const Em={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vn=Object.keys(Em);function s2(e,t){return e-t}function n2(e,t){if(Ns(t))return null;const s=e._adapter,{parser:n,round:i,isoWeekday:o}=e._parseOpts;let c=t;return typeof n=="function"&&(c=n(c)),_a(c)||(c=typeof n=="string"?s.parse(c,n):s.parse(c)),c===null?null:(i&&(c=i==="week"&&(Yf(o)||o===!0)?s.startOf(c,"isoWeek",o):s.startOf(c,i)),+c)}function a2(e,t,s,n){const i=Vn.length;for(let o=Vn.indexOf(e);o<i-1;++o){const c=Em[Vn[o]],d=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((s-t)/(d*c.size))<=n)return Vn[o]}return Vn[i-1]}function l7(e,t,s,n,i){for(let o=Vn.length-1;o>=Vn.indexOf(s);o--){const c=Vn[o];if(Em[c].common&&e._adapter.diff(i,n,c)>=t-1)return c}return Vn[s?Vn.indexOf(s):0]}function c7(e){for(let t=Vn.indexOf(e)+1,s=Vn.length;t<s;++t)if(Em[Vn[t]].common)return Vn[t]}function r2(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:n,hi:i}=vy(s,t),o=s[n]>=t?s[n]:s[i];e[o]=!0}}function d7(e,t,s,n){const i=e._adapter,o=+i.startOf(t[0].value,n),c=t[t.length-1].value;let d,h;for(d=o;d<=c;d=+i.add(d,1,n))h=s[d],h>=0&&(t[h].major=!0);return t}function i2(e,t,s){const n=[],i={},o=t.length;let c,d;for(c=0;c<o;++c)d=t[c],i[d]=c,n.push({value:d,major:!1});return o===0||!s?n:d7(e,n,i,s)}class Zf extends _c{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const n=t.time||(t.time={}),i=this._adapter=new _8._date(t.adapters.date);i.init(s),Wd(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:n2(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,n=t.time.unit||"day";let{min:i,max:o,minDefined:c,maxDefined:d}=this.getUserBounds();function h(f){!c&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!d&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!c||!d)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),i=_a(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),o=_a(o)&&!isNaN(o)?o:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],n=t[t.length-1]),{min:s,max:n}}buildTicks(){const t=this.options,s=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,c=this.max,d=wB(i,o,c);return this._unit=s.unit||(n.autoSkip?a2(s.minUnit,this.min,this.max,this._getLabelCapacity(o)):l7(this,d.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:c7(this._unit),this.initOffsets(i),t.reverse&&d.reverse(),i2(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,n=0,i,o;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?s=1-i:s=(this.getDecimalForValue(t[1])-i)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?n=o:n=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;s=In(s,0,c),n=In(n,0,c),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,s=this.min,n=this.max,i=this.options,o=i.time,c=o.unit||a2(o.minUnit,s,n,this._getLabelCapacity(s)),d=as(i.ticks.stepSize,1),h=c==="week"?o.isoWeekday:!1,f=Yf(h)||h===!0,g={};let p=s,b,y;if(f&&(p=+t.startOf(p,"isoWeek",h)),p=+t.startOf(p,f?"day":c),t.diff(n,s,c)>1e5*d)throw new Error(s+" and "+n+" are too far apart with stepSize of "+d+" "+c);const j=i.ticks.source==="data"&&this.getDataTimestamps();for(b=p,y=0;b<n;b=+t.add(b,d,c),y++)r2(g,b,j);return(b===n||i.bounds==="ticks"||y===1)&&r2(g,b,j),Object.keys(g).sort(s2).map(v=>+v)}getLabelForValue(t){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(t,n.tooltipFormat):s.format(t,n.displayFormats.datetime)}format(t,s){const i=this.options.time.displayFormats,o=this._unit,c=s||i[o];return this._adapter.format(t,c)}_tickFormatFunction(t,s,n,i){const o=this.options,c=o.ticks.callback;if(c)return xs(c,[t,s,n],this);const d=o.time.displayFormats,h=this._unit,f=this._majorUnit,g=h&&d[h],p=f&&d[f],b=n[s],y=f&&p&&b&&b.major;return this._adapter.format(t,i||(y?p:g))}generateTickLabels(t){let s,n,i;for(s=0,n=t.length;s<n;++s)i=t[s],i.label=this._tickFormatFunction(i.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,n=this.ctx.measureText(t).width,i=Uo(this.isHorizontal()?s.maxRotation:s.minRotation),o=Math.cos(i),c=Math.sin(i),d=this._resolveTickFontOptions(0).size;return{w:n*o+d*c,h:n*c+d*o}}_getLabelCapacity(t){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,o=this._tickFormatFunction(t,0,i2(this,[t],this._majorUnit),i),c=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return d>0?d:1}getDataTimestamps(){let t=this._cache.data||[],s,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)t=t.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,n;if(t.length)return t;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)t.push(n2(this,i[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return NB(t.sort(s2))}}kt(Zf,"id","time"),kt(Zf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function uf(e,t,s){let n=0,i=e.length-1,o,c,d,h;s?(t>=e[n].pos&&t<=e[i].pos&&({lo:n,hi:i}=dx(e,"pos",t)),{pos:o,time:d}=e[n],{pos:c,time:h}=e[i]):(t>=e[n].time&&t<=e[i].time&&({lo:n,hi:i}=dx(e,"time",t)),{time:o,pos:d}=e[n],{time:c,pos:h}=e[i]);const f=c-o;return f?d+(h-d)*(t-o)/f:d}class o2 extends Zf{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=uf(s,this.min),this._tableRange=uf(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:n}=this,i=[],o=[];let c,d,h,f,g;for(c=0,d=t.length;c<d;++c)f=t[c],f>=s&&f<=n&&i.push(f);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(c=0,d=i.length;c<d;++c)g=i[c+1],h=i[c-1],f=i[c],Math.round((g+h)/2)!==f&&o.push({time:f,pos:c/(d-1)});return o}_generate(){const t=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,o)=>i-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?t=this.normalize(s.concat(n)):t=s.length?s:n,t=this._cache.all=t,t}getDecimalForValue(t){return(uf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return uf(this._table,n*this._tableRange+this._minPos,!0)}}kt(o2,"id","timeseries"),kt(o2,"defaults",Zf.defaults);rr.register(uu,hu,ic,Id,Oy,My,Ay);const mc=({className:e=""})=>a.jsx("div",{className:`inline-block animate-spin rounded-full border-4 border-gray-200 border-t-blue-600 h-6 w-6 ${e}`}),u7=()=>{const{allProjects:e,filteredData:t,selectedProject:s,selectedTeam:n,setSelectedProject:i,setSelectedTeam:o,isLoading:c}=hL();return c?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx(mc,{className:"h-12 w-12 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Đang tải dữ liệu..."})]})}):a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-800 text-center flex-1",children:"Bảng điều khiển quản lý dự án"}),a.jsx(OL,{projects:e,selectedProject:s,selectedTeam:n,onProjectChange:i,onTeamChange:o})]}),a.jsx(RL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:s}),a.jsx(LL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:s}),a.jsx(PL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:s})]})})},Di=e=>e==null?"N/A":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(e),l2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,c2=XT,h7=(e,t)=>s=>{var n;if((t==null?void 0:t.variants)==null)return c2(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:o}=t,c=Object.keys(i).map(f=>{const g=s==null?void 0:s[f],p=o==null?void 0:o[f];if(g===null)return null;const b=l2(g)||l2(p);return i[f][b]}),d=s&&Object.entries(s).reduce((f,g)=>{let[p,b]=g;return b===void 0||(f[p]=b),f},{}),h=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,g)=>{let j=g,{class:p,className:b}=j,y=$e(j,["class","className"]);return Object.entries(y).every(v=>{let[_,T]=v;return Array.isArray(T)?T.includes(F(F({},o),d)[_]):F(F({},o),d)[_]===T})?[...f,p,b]:f},[]);return c2(e,c,h,s==null?void 0:s.class,s==null?void 0:s.className)},f7=h7("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Qe(o){var c=o,{className:e,variant:t,size:s,asChild:n=!1}=c,i=$e(c,["className","variant","size","asChild"]);const d=n?Z5:"button";return a.jsx(d,F({"data-slot":"button",className:Fs(f7({variant:t,size:s,className:e}))},i))}function Pt(n){var i=n,{className:e,type:t}=i,s=$e(i,["className","type"]);return a.jsx("input",F({type:t,"data-slot":"input",className:Fs("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e)},s))}var m7="Label",ik=N.forwardRef((e,t)=>a.jsx(Jt.label,ie(F({},e),{ref:t,onMouseDown:s=>{var i;s.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}})));ik.displayName=m7;var g7=ik;function Ie(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsx(g7,F({"data-slot":"label",className:Fs("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e)},t))}var Dm="Dialog",[ok,m$]=mm(Dm),[p7,Va]=ok(Dm),lk=e=>{const{__scopeDialog:t,children:s,open:n,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,d=N.useRef(null),h=N.useRef(null),[f,g]=cy({prop:n,defaultProp:i!=null?i:!1,onChange:o,caller:Dm});return a.jsx(p7,{scope:t,triggerRef:d,contentRef:h,contentId:na(),titleId:na(),descriptionId:na(),open:f,onOpenChange:g,onOpenToggle:N.useCallback(()=>g(p=>!p),[g]),modal:c,children:s})};lk.displayName=Dm;var ck="DialogTrigger",dk=N.forwardRef((e,t)=>{const c=e,{__scopeDialog:s}=c,n=$e(c,["__scopeDialog"]),i=Va(ck,s),o=xn(t,i.triggerRef);return a.jsx(Jt.button,ie(F({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Ly(i.open)},n),{ref:o,onClick:sa(e.onClick,i.onOpenToggle)}))});dk.displayName=ck;var Ry="DialogPortal",[x7,uk]=ok(Ry,{forceMount:void 0}),hk=e=>{const{__scopeDialog:t,forceMount:s,children:n,container:i}=e,o=Va(Ry,t);return a.jsx(x7,{scope:t,forceMount:s,children:N.Children.map(n,c=>a.jsx(vc,{present:s||o.open,children:a.jsx(bm,{asChild:!0,container:i,children:c})}))})};hk.displayName=Ry;var Jf="DialogOverlay",fk=N.forwardRef((e,t)=>{const s=uk(Jf,e.__scopeDialog),c=e,{forceMount:n=s.forceMount}=c,i=$e(c,["forceMount"]),o=Va(Jf,e.__scopeDialog);return o.modal?a.jsx(vc,{present:n||o.open,children:a.jsx(b7,ie(F({},i),{ref:t}))}):null});fk.displayName=Jf;var y7=yu("DialogOverlay.RemoveScroll"),b7=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=$e(o,["__scopeDialog"]),i=Va(Jf,s);return a.jsx(wm,{as:y7,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Jt.div,ie(F({"data-state":Ly(i.open)},n),{ref:t,style:F({pointerEvents:"auto"},n.style)}))})}),Yo="DialogContent",mk=N.forwardRef((e,t)=>{const s=uk(Yo,e.__scopeDialog),c=e,{forceMount:n=s.forceMount}=c,i=$e(c,["forceMount"]),o=Va(Yo,e.__scopeDialog);return a.jsx(vc,{present:n||o.open,children:o.modal?a.jsx(v7,ie(F({},i),{ref:t})):a.jsx(w7,ie(F({},i),{ref:t}))})});mk.displayName=Yo;var v7=N.forwardRef((e,t)=>{const s=Va(Yo,e.__scopeDialog),n=N.useRef(null),i=xn(t,s.contentRef,n);return N.useEffect(()=>{const o=n.current;if(o)return dy(o)},[]),a.jsx(gk,ie(F({},e),{ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:sa(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=s.triggerRef.current)==null||c.focus()}),onPointerDownOutside:sa(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:sa(e.onFocusOutside,o=>o.preventDefault())}))}),w7=N.forwardRef((e,t)=>{const s=Va(Yo,e.__scopeDialog),n=N.useRef(!1),i=N.useRef(!1);return a.jsx(gk,ie(F({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(n.current||(d=s.triggerRef.current)==null||d.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((f=s.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),gk=N.forwardRef((e,t)=>{const g=e,{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o}=g,c=$e(g,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Va(Yo,s),h=N.useRef(null),f=xn(t,h);return rT(),a.jsxs(a.Fragment,{children:[a.jsx(gm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:a.jsx(Jx,ie(F({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Ly(d.open)},c),{ref:f,onDismiss:()=>d.onOpenChange(!1)}))}),a.jsxs(a.Fragment,{children:[a.jsx(j7,{titleId:d.titleId}),a.jsx(_7,{contentRef:h,descriptionId:d.descriptionId})]})]})}),Py="DialogTitle",pk=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=$e(o,["__scopeDialog"]),i=Va(Py,s);return a.jsx(Jt.h2,ie(F({id:i.titleId},n),{ref:t}))});pk.displayName=Py;var xk="DialogDescription",yk=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=$e(o,["__scopeDialog"]),i=Va(xk,s);return a.jsx(Jt.p,ie(F({id:i.descriptionId},n),{ref:t}))});yk.displayName=xk;var bk="DialogClose",vk=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=$e(o,["__scopeDialog"]),i=Va(bk,s);return a.jsx(Jt.button,ie(F({type:"button"},n),{ref:t,onClick:sa(e.onClick,()=>i.onOpenChange(!1))}))});vk.displayName=bk;function Ly(e){return e?"open":"closed"}var wk="DialogTitleWarning",[g$,jk]=eT(wk,{contentName:Yo,titleName:Py,docsSlug:"dialog"}),j7=({titleId:e})=>{const t=jk(wk),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},N7="DialogDescriptionWarning",_7=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jk(N7).contentName}}.`;return N.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},T7=lk,S7=dk,k7=hk,C7=fk,E7=mk,D7=pk,A7=yk,Nk=vk;function fn(t){var e=$e(t,[]);return a.jsx(T7,F({"data-slot":"dialog"},e))}function O7(t){var e=$e(t,[]);return a.jsx(S7,F({"data-slot":"dialog-trigger"},e))}function M7(t){var e=$e(t,[]);return a.jsx(k7,F({"data-slot":"dialog-portal"},e))}function R7(t){var e=$e(t,[]);return a.jsx(Nk,F({"data-slot":"dialog-close"},e))}function P7(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsx(C7,F({"data-slot":"dialog-overlay",className:Fs("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",e)},t))}function mn(i){var o=i,{className:e,children:t,showCloseButton:s=!0}=o,n=$e(o,["className","children","showCloseButton"]);return a.jsxs(M7,{"data-slot":"dialog-portal",children:[a.jsx(P7,{}),a.jsxs(E7,ie(F({"data-slot":"dialog-content",className:Fs("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e)},n),{children:[t,s&&a.jsxs(Nk,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(J_,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}function gn(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsx("div",F({"data-slot":"dialog-header",className:Fs("flex flex-col gap-2 text-center sm:text-left",e)},t))}function An(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsx("div",F({"data-slot":"dialog-footer",className:Fs("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e)},t))}function pn(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsx(D7,F({"data-slot":"dialog-title",className:Fs("text-lg leading-none font-semibold",e)},t))}function Tc(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsx(A7,F({"data-slot":"dialog-description",className:Fs("text-muted-foreground text-sm",e)},t))}var Nu=e=>e.type==="checkbox",$o=e=>e instanceof Date,kn=e=>e==null;const _k=e=>typeof e=="object";var zs=e=>!kn(e)&&!Array.isArray(e)&&_k(e)&&!$o(e),Tk=e=>zs(e)&&e.target?Nu(e.target)?e.target.checked:e.target.value:e,L7=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Sk=(e,t)=>e.has(L7(t)),B7=e=>{const t=e.constructor&&e.constructor.prototype;return zs(t)&&t.hasOwnProperty("isPrototypeOf")},By=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function Qs(e){let t;const s=Array.isArray(e),n=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(By&&(e instanceof Blob||n))&&(s||zs(e)))if(t=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!B7(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Qs(e[i]));else return e;return t}var Am=e=>/^\w*$/.test(e),Ls=e=>e===void 0,Fy=e=>Array.isArray(e)?e.filter(Boolean):[],zy=e=>Fy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Je=(e,t,s)=>{if(!t||!zs(e))return s;const n=(Am(t)?[t]:zy(t)).reduce((i,o)=>kn(i)?i:i[o],e);return Ls(n)||n===e?Ls(e[t])?s:e[t]:n},ea=e=>typeof e=="boolean",ps=(e,t,s)=>{let n=-1;const i=Am(t)?[t]:zy(t),o=i.length,c=o-1;for(;++n<o;){const d=i[n];let h=s;if(n!==c){const f=e[d];h=zs(f)||Array.isArray(f)?f:isNaN(+i[n+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=h,e=e[d]}};const em={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Fa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Hr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},kk=ye.createContext(null);kk.displayName="HookFormContext";const Uy=()=>ye.useContext(kk);var Ck=(e,t,s,n=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const c=o;return t._proxyFormState[c]!==Fa.all&&(t._proxyFormState[c]=!n||Fa.all),s&&(s[c]=!0),e[c]}});return i};const Hy=typeof window!="undefined"?ye.useLayoutEffect:ye.useEffect;function F7(e){const t=Uy(),{control:s=t.control,disabled:n,name:i,exact:o}=e||{},[c,d]=ye.useState(s._formState),h=ye.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Hy(()=>s._subscribe({name:i,formState:h.current,exact:o,callback:f=>{!n&&d(F(F({},s._formState),f))}}),[i,n,o]),ye.useEffect(()=>{h.current.isValid&&s._setValid(!0)},[s]),ye.useMemo(()=>Ck(c,s,h.current,!1),[c,s])}var dr=e=>typeof e=="string",Ek=(e,t,s,n,i)=>dr(e)?(n&&t.watch.add(e),Je(s,e,i)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),Je(s,o))):(n&&(t.watchAll=!0),s),gx=e=>kn(e)||!_k(e);function Yr(e,t,s=new WeakSet){if(gx(e)||gx(t))return e===t;if($o(e)&&$o(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const o of n){const c=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const d=t[o];if($o(c)&&$o(d)||zs(c)&&zs(d)||Array.isArray(c)&&Array.isArray(d)?!Yr(c,d,s):c!==d)return!1}}return!0}function z7(e){const t=Uy(),{control:s=t.control,name:n,defaultValue:i,disabled:o,exact:c,compute:d}=e||{},h=ye.useRef(i),f=ye.useRef(d),g=ye.useRef(void 0);f.current=d;const p=ye.useMemo(()=>s._getWatch(n,h.current),[s,n]),[b,y]=ye.useState(f.current?f.current(p):p);return Hy(()=>s._subscribe({name:n,formState:{values:!0},exact:c,callback:j=>{if(!o){const v=Ek(n,s._names,j.values||s._formValues,!1,h.current);if(f.current){const _=f.current(v);Yr(_,g.current)||(y(_),g.current=_)}else y(v)}}}),[s,o,n,c]),ye.useEffect(()=>s._removeUnmounted()),b}function U7(e){const t=Uy(),{name:s,disabled:n,control:i=t.control,shouldUnregister:o,defaultValue:c}=e,d=Sk(i._names.array,s),h=ye.useMemo(()=>Je(i._formValues,s,Je(i._defaultValues,s,c)),[i,s,c]),f=z7({control:i,name:s,defaultValue:h,exact:!0}),g=F7({control:i,name:s,exact:!0}),p=ye.useRef(e),b=ye.useRef(i.register(s,F(ie(F({},e.rules),{value:f}),ea(e.disabled)?{disabled:e.disabled}:{})));p.current=e;const y=ye.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Je(g.errors,s)},isDirty:{enumerable:!0,get:()=>!!Je(g.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!Je(g.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!Je(g.validatingFields,s)},error:{enumerable:!0,get:()=>Je(g.errors,s)}}),[g,s]),j=ye.useCallback(A=>b.current.onChange({target:{value:Tk(A),name:s},type:em.CHANGE}),[s]),v=ye.useCallback(()=>b.current.onBlur({target:{value:Je(i._formValues,s),name:s},type:em.BLUR}),[s,i._formValues]),_=ye.useCallback(A=>{const k=Je(i._fields,s);k&&A&&(k._f.ref={focus:()=>A.focus&&A.focus(),select:()=>A.select&&A.select(),setCustomValidity:S=>A.setCustomValidity(S),reportValidity:()=>A.reportValidity()})},[i._fields,s]),T=ye.useMemo(()=>ie(F({name:s,value:f},ea(n)||g.disabled?{disabled:g.disabled||n}:{}),{onChange:j,onBlur:v,ref:_}),[s,n,g.disabled,j,v,_,f]);return ye.useEffect(()=>{const A=i._options.shouldUnregister||o;i.register(s,F(F({},p.current.rules),ea(p.current.disabled)?{disabled:p.current.disabled}:{}));const k=(S,E)=>{const C=Je(i._fields,S);C&&C._f&&(C._f.mount=E)};if(k(s,!0),A){const S=Qs(Je(i._options.defaultValues,s));ps(i._defaultValues,s,S),Ls(Je(i._formValues,s))&&ps(i._formValues,s,S)}return!d&&i.register(s),()=>{(d?A&&!i._state.action:A)?i.unregister(s):k(s,!1)}},[s,i,d,o]),ye.useEffect(()=>{i._setDisabledField({disabled:n,name:s})},[n,s,i]),ye.useMemo(()=>({field:T,formState:g,fieldState:y}),[T,g,y])}const va=e=>e.render(U7(e));var H7=(e,t,s,n,i)=>t?ie(F({},s[e]),{types:ie(F({},s[e]&&s[e].types?s[e].types:{}),{[n]:i||!0})}):{},Xd=e=>Array.isArray(e)?e:[e],d2=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}},Un=e=>zs(e)&&!Object.keys(e).length,$y=e=>e.type==="file",za=e=>typeof e=="function",tm=e=>{if(!By)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Dk=e=>e.type==="select-multiple",Vy=e=>e.type==="radio",$7=e=>Vy(e)||Nu(e),_0=e=>tm(e)&&e.isConnected;function V7(e,t){const s=t.slice(0,-1).length;let n=0;for(;n<s;)e=Ls(e)?n++:e[t[n++]];return e}function I7(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ls(e[t]))return!1;return!0}function Vs(e,t){const s=Array.isArray(t)?t:Am(t)?[t]:zy(t),n=s.length===1?e:V7(e,s),i=s.length-1,o=s[i];return n&&delete n[o],i!==0&&(zs(n)&&Un(n)||Array.isArray(n)&&I7(n))&&Vs(e,s.slice(0,-1)),e}var Ak=e=>{for(const t in e)if(za(e[t]))return!0;return!1};function sm(e,t={}){const s=Array.isArray(e);if(zs(e)||s)for(const n in e)Array.isArray(e[n])||zs(e[n])&&!Ak(e[n])?(t[n]=Array.isArray(e[n])?[]:{},sm(e[n],t[n])):kn(e[n])||(t[n]=!0);return t}function Ok(e,t,s){const n=Array.isArray(e);if(zs(e)||n)for(const i in e)Array.isArray(e[i])||zs(e[i])&&!Ak(e[i])?Ls(t)||gx(s[i])?s[i]=Array.isArray(e[i])?sm(e[i],[]):F({},sm(e[i])):Ok(e[i],kn(t)?{}:t[i],s[i]):s[i]=!Yr(e[i],t[i]);return s}var Pd=(e,t)=>Ok(e,t,sm(t));const u2={value:!1,isValid:!1},h2={value:!0,isValid:!0};var Mk=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ls(e[0].attributes.value)?Ls(e[0].value)||e[0].value===""?h2:{value:e[0].value,isValid:!0}:h2:u2}return u2},Rk=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:n})=>Ls(e)?e:t?e===""?NaN:e&&+e:s&&dr(e)?new Date(e):n?n(e):e;const f2={isValid:!1,value:null};var Pk=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,f2):f2;function m2(e){const t=e.ref;return $y(t)?t.files:Vy(t)?Pk(e.refs).value:Dk(t)?[...t.selectedOptions].map(({value:s})=>s):Nu(t)?Mk(e.refs).value:Rk(Ls(t.value)?e.ref.value:t.value,e)}var q7=(e,t,s,n)=>{const i={};for(const o of e){const c=Je(t,o);c&&ps(i,o,c._f)}return{criteriaMode:s,names:[...e],fields:i,shouldUseNativeValidation:n}},nm=e=>e instanceof RegExp,Ld=e=>Ls(e)?e:nm(e)?e.source:zs(e)?nm(e.value)?e.value.source:e.value:e,g2=e=>({isOnSubmit:!e||e===Fa.onSubmit,isOnBlur:e===Fa.onBlur,isOnChange:e===Fa.onChange,isOnAll:e===Fa.all,isOnTouch:e===Fa.onTouched});const p2="AsyncFunction";var W7=e=>!!e&&!!e.validate&&!!(za(e.validate)&&e.validate.constructor.name===p2||zs(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===p2)),Y7=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),x2=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Kd=(e,t,s,n)=>{for(const o of s||Object.keys(e)){const c=Je(e,o);if(c){const i=c,{_f:d}=i,h=$e(i,["_f"]);if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],o)&&!n)return!0;if(d.ref&&t(d.ref,d.name)&&!n)return!0;if(Kd(h,t))break}else if(zs(h)&&Kd(h,t))break}}};function y2(e,t,s){const n=Je(e,s);if(n||Am(s))return{error:n,name:s};const i=s.split(".");for(;i.length;){const o=i.join("."),c=Je(t,o),d=Je(e,o);if(c&&!Array.isArray(c)&&s!==o)return{name:s};if(d&&d.type)return{name:o,error:d};if(d&&d.root&&d.root.type)return{name:`${o}.root`,error:d.root};i.pop()}return{name:s}}var G7=(e,t,s,n)=>{s(e);const c=e,{name:i}=c,o=$e(c,["name"]);return Un(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(d=>t[d]===(!n||Fa.all))},X7=(e,t,s)=>!e||!t||e===t||Xd(e).some(n=>n&&(s?n===t:n.startsWith(t)||t.startsWith(n))),K7=(e,t,s,n,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(t||e):(s?n.isOnBlur:i.isOnBlur)?!e:(s?n.isOnChange:i.isOnChange)?e:!0,Q7=(e,t)=>!Fy(Je(e,t)).length&&Vs(e,t),Z7=(e,t,s)=>{const n=Xd(Je(e,s));return ps(n,"root",t[s]),ps(e,s,n),e},Of=e=>dr(e);function b2(e,t,s="validate"){if(Of(e)||Array.isArray(e)&&e.every(Of)||ea(e)&&!e)return{type:s,message:Of(e)?e:"",ref:t}}var ql=e=>zs(e)&&!nm(e)?e:{value:e,message:""},v2=(e,t,s,n,i,o)=>fe(null,null,function*(){const{ref:c,refs:d,required:h,maxLength:f,minLength:g,min:p,max:b,pattern:y,validate:j,name:v,valueAsNumber:_,mount:T}=e._f,A=Je(s,v);if(!T||t.has(v))return{};const k=d?d[0]:c,S=G=>{i&&k.reportValidity&&(k.setCustomValidity(ea(G)?"":G||""),k.reportValidity())},E={},C=Vy(c),z=Nu(c),L=C||z,R=(_||$y(c))&&Ls(c.value)&&Ls(A)||tm(c)&&c.value===""||A===""||Array.isArray(A)&&!A.length,V=H7.bind(null,v,n,E),I=(G,U,W,K=Hr.maxLength,$=Hr.minLength)=>{const ee=G?U:W;E[v]=F({type:G?K:$,message:ee,ref:c},V(G?K:$,ee))};if(o?!Array.isArray(A)||!A.length:h&&(!L&&(R||kn(A))||ea(A)&&!A||z&&!Mk(d).isValid||C&&!Pk(d).isValid)){const{value:G,message:U}=Of(h)?{value:!!h,message:h}:ql(h);if(G&&(E[v]=F({type:Hr.required,message:U,ref:k},V(Hr.required,U)),!n))return S(U),E}if(!R&&(!kn(p)||!kn(b))){let G,U;const W=ql(b),K=ql(p);if(!kn(A)&&!isNaN(A)){const $=c.valueAsNumber||A&&+A;kn(W.value)||(G=$>W.value),kn(K.value)||(U=$<K.value)}else{const $=c.valueAsDate||new Date(A),ee=P=>new Date(new Date().toDateString()+" "+P),se=c.type=="time",Ne=c.type=="week";dr(W.value)&&A&&(G=se?ee(A)>ee(W.value):Ne?A>W.value:$>new Date(W.value)),dr(K.value)&&A&&(U=se?ee(A)<ee(K.value):Ne?A<K.value:$<new Date(K.value))}if((G||U)&&(I(!!G,W.message,K.message,Hr.max,Hr.min),!n))return S(E[v].message),E}if((f||g)&&!R&&(dr(A)||o&&Array.isArray(A))){const G=ql(f),U=ql(g),W=!kn(G.value)&&A.length>+G.value,K=!kn(U.value)&&A.length<+U.value;if((W||K)&&(I(W,G.message,U.message),!n))return S(E[v].message),E}if(y&&!R&&dr(A)){const{value:G,message:U}=ql(y);if(nm(G)&&!A.match(G)&&(E[v]=F({type:Hr.pattern,message:U,ref:c},V(Hr.pattern,U)),!n))return S(U),E}if(j){if(za(j)){const G=yield j(A,s),U=b2(G,k);if(U&&(E[v]=F(F({},U),V(Hr.validate,U.message)),!n))return S(U.message),E}else if(zs(j)){let G={};for(const U in j){if(!Un(G)&&!n)break;const W=b2(yield j[U](A,s),k,U);W&&(G=F(F({},W),V(U,W.message)),S(W.message),n&&(E[v]=G))}if(!Un(G)&&(E[v]=F({ref:k},G),!n))return E}}return S(!0),E});const J7={mode:Fa.onSubmit,reValidateMode:Fa.onChange,shouldFocusError:!0};function ez(e={}){let t=F(F({},J7),e),s={submitCount:0,isDirty:!1,isReady:!1,isLoading:za(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=zs(t.defaultValues)||zs(t.values)?Qs(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Qs(i),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,f=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p=F({},g);const b={array:d2(),state:d2()},y=t.criteriaMode===Fa.all,j=Q=>le=>{clearTimeout(f),f=setTimeout(Q,le)},v=Q=>fe(null,null,function*(){if(!t.disabled&&(g.isValid||p.isValid||Q)){const le=t.resolver?Un((yield z()).errors):yield R(n,!0);le!==s.isValid&&b.state.next({isValid:le})}}),_=(Q,le)=>{!t.disabled&&(g.isValidating||g.validatingFields||p.isValidating||p.validatingFields)&&((Q||Array.from(d.mount)).forEach(q=>{q&&(le?ps(s.validatingFields,q,le):Vs(s.validatingFields,q))}),b.state.next({validatingFields:s.validatingFields,isValidating:!Un(s.validatingFields)}))},T=(Q,le=[],q,Te,Le=!0,Me=!0)=>{if(Te&&q&&!t.disabled){if(c.action=!0,Me&&Array.isArray(Je(n,Q))){const Ve=q(Je(n,Q),Te.argA,Te.argB);Le&&ps(n,Q,Ve)}if(Me&&Array.isArray(Je(s.errors,Q))){const Ve=q(Je(s.errors,Q),Te.argA,Te.argB);Le&&ps(s.errors,Q,Ve),Q7(s.errors,Q)}if((g.touchedFields||p.touchedFields)&&Me&&Array.isArray(Je(s.touchedFields,Q))){const Ve=q(Je(s.touchedFields,Q),Te.argA,Te.argB);Le&&ps(s.touchedFields,Q,Ve)}(g.dirtyFields||p.dirtyFields)&&(s.dirtyFields=Pd(i,o)),b.state.next({name:Q,isDirty:I(Q,le),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else ps(o,Q,le)},A=(Q,le)=>{ps(s.errors,Q,le),b.state.next({errors:s.errors})},k=Q=>{s.errors=Q,b.state.next({errors:s.errors,isValid:!1})},S=(Q,le,q,Te)=>{const Le=Je(n,Q);if(Le){const Me=Je(o,Q,Ls(q)?Je(i,Q):q);Ls(Me)||Te&&Te.defaultChecked||le?ps(o,Q,le?Me:m2(Le._f)):W(Q,Me),c.mount&&v()}},E=(Q,le,q,Te,Le)=>{let Me=!1,Ve=!1;const Ge={name:Q};if(!t.disabled){if(!q||Te){(g.isDirty||p.isDirty)&&(Ve=s.isDirty,s.isDirty=Ge.isDirty=I(),Me=Ve!==Ge.isDirty);const st=Yr(Je(i,Q),le);Ve=!!Je(s.dirtyFields,Q),st?Vs(s.dirtyFields,Q):ps(s.dirtyFields,Q,!0),Ge.dirtyFields=s.dirtyFields,Me=Me||(g.dirtyFields||p.dirtyFields)&&Ve!==!st}if(q){const st=Je(s.touchedFields,Q);st||(ps(s.touchedFields,Q,q),Ge.touchedFields=s.touchedFields,Me=Me||(g.touchedFields||p.touchedFields)&&st!==q)}Me&&Le&&b.state.next(Ge)}return Me?Ge:{}},C=(Q,le,q,Te)=>{const Le=Je(s.errors,Q),Me=(g.isValid||p.isValid)&&ea(le)&&s.isValid!==le;if(t.delayError&&q?(h=j(()=>A(Q,q)),h(t.delayError)):(clearTimeout(f),h=null,q?ps(s.errors,Q,q):Vs(s.errors,Q)),(q?!Yr(Le,q):Le)||!Un(Te)||Me){const Ve=ie(F(F({},Te),Me&&ea(le)?{isValid:le}:{}),{errors:s.errors,name:Q});s=F(F({},s),Ve),b.state.next(Ve)}},z=Q=>fe(null,null,function*(){_(Q,!0);const le=yield t.resolver(o,t.context,q7(Q||d.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return _(Q),le}),L=Q=>fe(null,null,function*(){const{errors:le}=yield z(Q);if(Q)for(const q of Q){const Te=Je(le,q);Te?ps(s.errors,q,Te):Vs(s.errors,q)}else s.errors=le;return le}),R=(Te,Le,...Me)=>fe(null,[Te,Le,...Me],function*(Q,le,q={valid:!0}){for(const Ge in Q){const st=Q[Ge];if(st){const Ve=st,{_f:wt}=Ve,ke=$e(Ve,["_f"]);if(wt){const Ue=d.array.has(wt.name),Ze=st._f&&W7(st._f);Ze&&g.validatingFields&&_([Ge],!0);const Ot=yield v2(st,d.disabled,o,y,t.shouldUseNativeValidation&&!le,Ue);if(Ze&&g.validatingFields&&_([Ge]),Ot[wt.name]&&(q.valid=!1,le))break;!le&&(Je(Ot,wt.name)?Ue?Z7(s.errors,Ot,wt.name):ps(s.errors,wt.name,Ot[wt.name]):Vs(s.errors,wt.name))}!Un(ke)&&(yield R(ke,le,q))}}return q.valid}),V=()=>{for(const Q of d.unMount){const le=Je(n,Q);le&&(le._f.refs?le._f.refs.every(q=>!_0(q)):!_0(le._f.ref))&&Pe(Q)}d.unMount=new Set},I=(Q,le)=>!t.disabled&&(Q&&le&&ps(o,Q,le),!Yr(P(),i)),G=(Q,le,q)=>Ek(Q,d,F({},c.mount?o:Ls(le)?i:dr(Q)?{[Q]:le}:le),q,le),U=Q=>Fy(Je(c.mount?o:i,Q,t.shouldUnregister?Je(i,Q,[]):[])),W=(Q,le,q={})=>{const Te=Je(n,Q);let Le=le;if(Te){const Me=Te._f;Me&&(!Me.disabled&&ps(o,Q,Rk(le,Me)),Le=tm(Me.ref)&&kn(le)?"":le,Dk(Me.ref)?[...Me.ref.options].forEach(Ve=>Ve.selected=Le.includes(Ve.value)):Me.refs?Nu(Me.ref)?Me.refs.forEach(Ve=>{(!Ve.defaultChecked||!Ve.disabled)&&(Array.isArray(Le)?Ve.checked=!!Le.find(Ge=>Ge===Ve.value):Ve.checked=Le===Ve.value||!!Le)}):Me.refs.forEach(Ve=>Ve.checked=Ve.value===Le):$y(Me.ref)?Me.ref.value="":(Me.ref.value=Le,Me.ref.type||b.state.next({name:Q,values:Qs(o)})))}(q.shouldDirty||q.shouldTouch)&&E(Q,Le,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&Ne(Q)},K=(Q,le,q)=>{for(const Te in le){if(!le.hasOwnProperty(Te))return;const Le=le[Te],Me=Q+"."+Te,Ve=Je(n,Me);(d.array.has(Q)||zs(Le)||Ve&&!Ve._f)&&!$o(Le)?K(Me,Le,q):W(Me,Le,q)}},$=(Q,le,q={})=>{const Te=Je(n,Q),Le=d.array.has(Q),Me=Qs(le);ps(o,Q,Me),Le?(b.array.next({name:Q,values:Qs(o)}),(g.isDirty||g.dirtyFields||p.isDirty||p.dirtyFields)&&q.shouldDirty&&b.state.next({name:Q,dirtyFields:Pd(i,o),isDirty:I(Q,Me)})):Te&&!Te._f&&!kn(Me)?K(Q,Me,q):W(Q,Me,q),x2(Q,d)&&b.state.next(ie(F({},s),{name:Q})),b.state.next({name:c.mount?Q:void 0,values:Qs(o)})},ee=Q=>fe(null,null,function*(){c.mount=!0;const le=Q.target;let q=le.name,Te=!0;const Le=Je(n,q),Me=st=>{Te=Number.isNaN(st)||$o(st)&&isNaN(st.getTime())||Yr(st,Je(o,q,st))},Ve=g2(t.mode),Ge=g2(t.reValidateMode);if(Le){let st,wt;const ke=le.type?m2(Le._f):Tk(Q),Ue=Q.type===em.BLUR||Q.type===em.FOCUS_OUT,Ze=!Y7(Le._f)&&!t.resolver&&!Je(s.errors,q)&&!Le._f.deps||K7(Ue,Je(s.touchedFields,q),s.isSubmitted,Ge,Ve),Ot=x2(q,d,Ue);ps(o,q,ke),Ue?(!le||!le.readOnly)&&(Le._f.onBlur&&Le._f.onBlur(Q),h&&h(0)):Le._f.onChange&&Le._f.onChange(Q);const Ke=E(q,ke,Ue),zt=!Un(Ke)||Ot;if(!Ue&&b.state.next({name:q,type:Q.type,values:Qs(o)}),Ze)return(g.isValid||p.isValid)&&(t.mode==="onBlur"?Ue&&v():Ue||v()),zt&&b.state.next(F({name:q},Ot?{}:Ke));if(!Ue&&Ot&&b.state.next(F({},s)),t.resolver){const{errors:ds}=yield z([q]);if(Me(ke),Te){const Zs=y2(s.errors,n,q),yn=y2(ds,n,Zs.name||q);st=yn.error,q=yn.name,wt=Un(ds)}}else _([q],!0),st=(yield v2(Le,d.disabled,o,y,t.shouldUseNativeValidation))[q],_([q]),Me(ke),Te&&(st?wt=!1:(g.isValid||p.isValid)&&(wt=yield R(n,!0)));Te&&(Le._f.deps&&Ne(Le._f.deps),C(q,wt,st,Ke))}}),se=(Q,le)=>{if(Je(s.errors,le)&&Q.focus)return Q.focus(),1},Ne=(q,...Te)=>fe(null,[q,...Te],function*(Q,le={}){let Le,Me;const Ve=Xd(Q);if(t.resolver){const Ge=yield L(Ls(Q)?Q:Ve);Le=Un(Ge),Me=Q?!Ve.some(st=>Je(Ge,st)):Le}else Q?(Me=(yield Promise.all(Ve.map(Ge=>fe(null,null,function*(){const st=Je(n,Ge);return yield R(st&&st._f?{[Ge]:st}:st)})))).every(Boolean),!(!Me&&!s.isValid)&&v()):Me=Le=yield R(n);return b.state.next(ie(F(F({},!dr(Q)||(g.isValid||p.isValid)&&Le!==s.isValid?{}:{name:Q}),t.resolver||!Q?{isValid:Le}:{}),{errors:s.errors})),le.shouldFocus&&!Me&&Kd(n,se,Q?Ve:d.mount),Me}),P=Q=>{const le=F({},c.mount?o:i);return Ls(Q)?le:dr(Q)?Je(le,Q):Q.map(q=>Je(le,q))},ne=(Q,le)=>({invalid:!!Je((le||s).errors,Q),isDirty:!!Je((le||s).dirtyFields,Q),error:Je((le||s).errors,Q),isValidating:!!Je(s.validatingFields,Q),isTouched:!!Je((le||s).touchedFields,Q)}),ge=Q=>{Q&&Xd(Q).forEach(le=>Vs(s.errors,le)),b.state.next({errors:Q?s.errors:{}})},X=(Q,le,q)=>{const Te=(Je(n,Q,{_f:{}})._f||{}).ref,wt=Je(s.errors,Q)||{},{ref:Me,message:Ve,type:Ge}=wt,st=$e(wt,["ref","message","type"]);ps(s.errors,Q,ie(F(F({},st),le),{ref:Te})),b.state.next({name:Q,errors:s.errors,isValid:!1}),q&&q.shouldFocus&&Te&&Te.focus&&Te.focus()},re=(Q,le)=>za(Q)?b.state.subscribe({next:q=>"values"in q&&Q(G(void 0,le),q)}):G(Q,le,!0),_e=Q=>b.state.subscribe({next:le=>{X7(Q.name,le.name,Q.exact)&&G7(le,Q.formState||g,De,Q.reRenderRoot)&&Q.callback(ie(F(F({values:F({},o)},s),le),{defaultValues:i}))}}).unsubscribe,me=Q=>(c.mount=!0,p=F(F({},p),Q.formState),_e(ie(F({},Q),{formState:p}))),Pe=(Q,le={})=>{for(const q of Q?Xd(Q):d.mount)d.mount.delete(q),d.array.delete(q),le.keepValue||(Vs(n,q),Vs(o,q)),!le.keepError&&Vs(s.errors,q),!le.keepDirty&&Vs(s.dirtyFields,q),!le.keepTouched&&Vs(s.touchedFields,q),!le.keepIsValidating&&Vs(s.validatingFields,q),!t.shouldUnregister&&!le.keepDefaultValue&&Vs(i,q);b.state.next({values:Qs(o)}),b.state.next(F(F({},s),le.keepDirty?{isDirty:I()}:{})),!le.keepIsValid&&v()},we=({disabled:Q,name:le})=>{(ea(Q)&&c.mount||Q||d.disabled.has(le))&&(Q?d.disabled.add(le):d.disabled.delete(le))},Ce=(Q,le={})=>{let q=Je(n,Q);const Te=ea(le.disabled)||ea(t.disabled);return ps(n,Q,ie(F({},q||{}),{_f:F(ie(F({},q&&q._f?q._f:{ref:{name:Q}}),{name:Q,mount:!0}),le)})),d.mount.add(Q),q?we({disabled:ea(le.disabled)?le.disabled:t.disabled,name:Q}):S(Q,!0,le.value),ie(F(F({},Te?{disabled:le.disabled||t.disabled}:{}),t.progressive?{required:!!le.required,min:Ld(le.min),max:Ld(le.max),minLength:Ld(le.minLength),maxLength:Ld(le.maxLength),pattern:Ld(le.pattern)}:{}),{name:Q,onChange:ee,onBlur:ee,ref:Le=>{if(Le){Ce(Q,le),q=Je(n,Q);const Me=Ls(Le.value)&&Le.querySelectorAll&&Le.querySelectorAll("input,select,textarea")[0]||Le,Ve=$7(Me),Ge=q._f.refs||[];if(Ve?Ge.find(st=>st===Me):Me===q._f.ref)return;ps(n,Q,{_f:F(F({},q._f),Ve?{refs:[...Ge.filter(_0),Me,...Array.isArray(Je(i,Q))?[{}]:[]],ref:{type:Me.type,name:Q}}:{ref:Me})}),S(Q,!1,void 0,Me)}else q=Je(n,Q,{}),q._f&&(q._f.mount=!1),(t.shouldUnregister||le.shouldUnregister)&&!(Sk(d.array,Q)&&c.action)&&d.unMount.add(Q)}})},Z=()=>t.shouldFocusError&&Kd(n,se,d.mount),Re=Q=>{ea(Q)&&(b.state.next({disabled:Q}),Kd(n,(le,q)=>{const Te=Je(n,q);Te&&(le.disabled=Te._f.disabled||Q,Array.isArray(Te._f.refs)&&Te._f.refs.forEach(Le=>{Le.disabled=Te._f.disabled||Q}))},0,!1))},He=(Q,le)=>q=>fe(null,null,function*(){let Te;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let Le=Qs(o);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:Me,values:Ve}=yield z();s.errors=Me,Le=Qs(Ve)}else yield R(n);if(d.disabled.size)for(const Me of d.disabled)Vs(Le,Me);if(Vs(s.errors,"root"),Un(s.errors)){b.state.next({errors:{}});try{yield Q(Le,q)}catch(Me){Te=Me}}else le&&(yield le(F({},s.errors),q)),Z(),setTimeout(Z);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Un(s.errors)&&!Te,submitCount:s.submitCount+1,errors:s.errors}),Te)throw Te}),Ye=(Q,le={})=>{Je(n,Q)&&(Ls(le.defaultValue)?$(Q,Qs(Je(i,Q))):($(Q,le.defaultValue),ps(i,Q,Qs(le.defaultValue))),le.keepTouched||Vs(s.touchedFields,Q),le.keepDirty||(Vs(s.dirtyFields,Q),s.isDirty=le.defaultValue?I(Q,Qs(Je(i,Q))):I()),le.keepError||(Vs(s.errors,Q),g.isValid&&v()),b.state.next(F({},s)))},tt=(Q,le={})=>{const q=Q?Qs(Q):i,Te=Qs(q),Le=Un(Q),Me=Le?i:Te;if(le.keepDefaultValues||(i=q),!le.keepValues){if(le.keepDirtyValues){const Ve=new Set([...d.mount,...Object.keys(Pd(i,o))]);for(const Ge of Array.from(Ve))Je(s.dirtyFields,Ge)?ps(Me,Ge,Je(o,Ge)):$(Ge,Je(Me,Ge))}else{if(By&&Ls(Q))for(const Ve of d.mount){const Ge=Je(n,Ve);if(Ge&&Ge._f){const st=Array.isArray(Ge._f.refs)?Ge._f.refs[0]:Ge._f.ref;if(tm(st)){const wt=st.closest("form");if(wt){wt.reset();break}}}}if(le.keepFieldsRef)for(const Ve of d.mount)$(Ve,Je(Me,Ve));else n={}}o=t.shouldUnregister?le.keepDefaultValues?Qs(i):{}:Qs(Me),b.array.next({values:F({},Me)}),b.state.next({values:F({},Me)})}d={mount:le.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!g.isValid||!!le.keepIsValid||!!le.keepDirtyValues,c.watch=!!t.shouldUnregister,b.state.next({submitCount:le.keepSubmitCount?s.submitCount:0,isDirty:Le?!1:le.keepDirty?s.isDirty:!!(le.keepDefaultValues&&!Yr(Q,i)),isSubmitted:le.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:Le?{}:le.keepDirtyValues?le.keepDefaultValues&&o?Pd(i,o):s.dirtyFields:le.keepDefaultValues&&Q?Pd(i,Q):le.keepDirty?s.dirtyFields:{},touchedFields:le.keepTouched?s.touchedFields:{},errors:le.keepErrors?s.errors:{},isSubmitSuccessful:le.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},gt=(Q,le)=>tt(za(Q)?Q(o):Q,le),Dt=(Q,le={})=>{const q=Je(n,Q),Te=q&&q._f;if(Te){const Le=Te.refs?Te.refs[0]:Te.ref;Le.focus&&(Le.focus(),le.shouldSelect&&za(Le.select)&&Le.select())}},De=Q=>{s=F(F({},s),Q)},Fe={control:{register:Ce,unregister:Pe,getFieldState:ne,handleSubmit:He,setError:X,_subscribe:_e,_runSchema:z,_focusError:Z,_getWatch:G,_getDirty:I,_setValid:v,_setFieldArray:T,_setDisabledField:we,_setErrors:k,_getFieldArray:U,_reset:tt,_resetDefaultValues:()=>za(t.defaultValues)&&t.defaultValues().then(Q=>{gt(Q,t.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:Re,_subjects:b,_proxyFormState:g,get _fields(){return n},get _formValues(){return o},get _state(){return c},set _state(Q){c=Q},get _defaultValues(){return i},get _names(){return d},set _names(Q){d=Q},get _formState(){return s},get _options(){return t},set _options(Q){t=F(F({},t),Q)}},subscribe:me,trigger:Ne,register:Ce,handleSubmit:He,watch:re,setValue:$,getValues:P,reset:gt,resetField:Ye,clearErrors:ge,unregister:Pe,setError:X,setFocus:Dt,getFieldState:ne};return ie(F({},Fe),{formControl:Fe})}function Om(e={}){const t=ye.useRef(void 0),s=ye.useRef(void 0),[n,i]=ye.useState({isDirty:!1,isValidating:!1,isLoading:za(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:za(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=ie(F({},e.formControl),{formState:n}),e.defaultValues&&!za(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const c=ez(e),{formControl:d}=c,h=$e(c,["formControl"]);t.current=ie(F({},h),{formState:n})}const o=t.current.control;return o._options=e,Hy(()=>{const d=o._subscribe({formState:o._proxyFormState,callback:()=>i(F({},o._formState)),reRenderRoot:!0});return i(h=>ie(F({},h),{isReady:!0})),o._formState.isReady=!0,d},[o]),ye.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),ye.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),ye.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),ye.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),ye.useEffect(()=>{if(o._proxyFormState.isDirty){const d=o._getDirty();d!==n.isDirty&&o._subjects.state.next({isDirty:d})}},[o,n.isDirty]),ye.useEffect(()=>{e.values&&!Yr(e.values,s.current)?(o._reset(e.values,F({keepFieldsRef:!0},o._options.resetOptions)),s.current=e.values,i(d=>F({},d))):o._resetDefaultValues()},[o,e.values]),ye.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(F({},o._formState))),o._removeUnmounted()}),t.current.formState=Ck(n,o),t.current}var w2=1,tz=.9,sz=.8,nz=.17,T0=.1,S0=.999,az=.9999,rz=.99,iz=/[\\\/_+.#"@\[\(\{&]/,oz=/[\\\/_+.#"@\[\(\{&]/g,lz=/[\s-]/,Lk=/[\s-]/g;function px(e,t,s,n,i,o,c){if(o===t.length)return i===e.length?w2:rz;var d=`${i},${o}`;if(c[d]!==void 0)return c[d];for(var h=n.charAt(o),f=s.indexOf(h,i),g=0,p,b,y,j;f>=0;)p=px(e,t,s,n,f+1,o+1,c),p>g&&(f===i?p*=w2:iz.test(e.charAt(f-1))?(p*=sz,y=e.slice(i,f-1).match(oz),y&&i>0&&(p*=Math.pow(S0,y.length))):lz.test(e.charAt(f-1))?(p*=tz,j=e.slice(i,f-1).match(Lk),j&&i>0&&(p*=Math.pow(S0,j.length))):(p*=nz,i>0&&(p*=Math.pow(S0,f-i))),e.charAt(f)!==t.charAt(o)&&(p*=az)),(p<T0&&s.charAt(f-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&s.charAt(f-1)!==n.charAt(o))&&(b=px(e,t,s,n,f+1,o+2,c),b*T0>p&&(p=b*T0)),p>g&&(g=p),f=s.indexOf(h,f+1);return c[d]=g,g}function j2(e){return e.toLowerCase().replace(Lk," ")}function cz(e,t,s){return e=s&&s.length>0?`${e+" "+s.join(" ")}`:e,px(e,t,j2(e),j2(t),0,0,{})}function Bi(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e==null||e(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var dz="DismissableLayer",xx="dismissableLayer.update",uz="dismissableLayer.pointerDownOutside",hz="dismissableLayer.focusOutside",N2,Bk=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fk=N.forwardRef((e,t)=>{var L;const z=e,{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:c,onDismiss:d}=z,h=$e(z,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),f=N.useContext(Bk),[g,p]=N.useState(null),b=(L=g==null?void 0:g.ownerDocument)!=null?L:globalThis==null?void 0:globalThis.document,[,y]=N.useState({}),j=xn(t,R=>p(R)),v=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),T=v.indexOf(_),A=g?v.indexOf(g):-1,k=f.layersWithOutsidePointerEventsDisabled.size>0,S=A>=T,E=gz(R=>{const V=R.target,I=[...f.branches].some(G=>G.contains(V));!S||I||(i==null||i(R),c==null||c(R),R.defaultPrevented||d==null||d())},b),C=pz(R=>{const V=R.target;[...f.branches].some(G=>G.contains(V))||(o==null||o(R),c==null||c(R),R.defaultPrevented||d==null||d())},b);return sT(R=>{A===f.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&d&&(R.preventDefault(),d()))},b),N.useEffect(()=>{if(g)return s&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(N2=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),_2(),()=>{s&&f.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=N2)}},[g,b,s,f]),N.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),_2())},[g,f]),N.useEffect(()=>{const R=()=>y({});return document.addEventListener(xx,R),()=>document.removeEventListener(xx,R)},[]),a.jsx(Jt.div,ie(F({},h),{ref:j,style:F({pointerEvents:k?S?"auto":"none":void 0},e.style),onFocusCapture:Bi(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Bi(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Bi(e.onPointerDownCapture,E.onPointerDownCapture)}))});Fk.displayName=dz;var fz="DismissableLayerBranch",mz=N.forwardRef((e,t)=>{const s=N.useContext(Bk),n=N.useRef(null),i=xn(t,n);return N.useEffect(()=>{const o=n.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),a.jsx(Jt.div,ie(F({},e),{ref:i}))});mz.displayName=fz;function gz(e,t=globalThis==null?void 0:globalThis.document){const s=Ii(e),n=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const o=d=>{if(d.target&&!n.current){let h=function(){zk(uz,s,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=h,t.addEventListener("click",i.current,{once:!0})):h()}else t.removeEventListener("click",i.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function pz(e,t=globalThis==null?void 0:globalThis.document){const s=Ii(e),n=N.useRef(!1);return N.useEffect(()=>{const i=o=>{o.target&&!n.current&&zk(hz,s,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function _2(){const e=new CustomEvent(xx);document.dispatchEvent(e)}function zk(e,t,s,{discrete:n}){const i=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),n?tT(i,o):i.dispatchEvent(o)}function xz(e,t){return N.useReducer((s,n)=>{const i=t[s][n];return i!=null?i:s},e)}var Mm=e=>{const{present:t,children:s}=e,n=yz(t),i=typeof s=="function"?s({present:n.isPresent}):N.Children.only(s),o=xn(n.ref,bz(i));return typeof s=="function"||n.isPresent?N.cloneElement(i,{ref:o}):null};Mm.displayName="Presence";function yz(e){const[t,s]=N.useState(),n=N.useRef(null),i=N.useRef(e),o=N.useRef("none"),c=e?"mounted":"unmounted",[d,h]=xz(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const f=hf(n.current);o.current=d==="mounted"?f:"none"},[d]),gr(()=>{const f=n.current,g=i.current;if(g!==e){const b=o.current,y=hf(f);e?h("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(g&&b!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),gr(()=>{var f;if(t){let g;const p=(f=t.ownerDocument.defaultView)!=null?f:window,b=j=>{const _=hf(n.current).includes(j.animationName);if(j.target===t&&_&&(h("ANIMATION_END"),!i.current)){const T=t.style.animationFillMode;t.style.animationFillMode="forwards",g=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=T)})}},y=j=>{j.target===t&&(o.current=hf(n.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{p.clearTimeout(g),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:N.useCallback(f=>{n.current=f?getComputedStyle(f):null,s(f)},[])}}function hf(e){return(e==null?void 0:e.animationName)||"none"}function bz(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var k0=0;function vz(){N.useEffect(()=>{var t,s;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:T2()),document.body.insertAdjacentElement("beforeend",(s=e[1])!=null?s:T2()),k0++,()=>{k0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),k0--}},[])}function T2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Rm="Dialog",[Uk,p$]=mm(Rm),[wz,Ia]=Uk(Rm),Hk=e=>{const{__scopeDialog:t,children:s,open:n,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,d=N.useRef(null),h=N.useRef(null),[f,g]=cy({prop:n,defaultProp:i!=null?i:!1,onChange:o,caller:Rm});return a.jsx(wz,{scope:t,triggerRef:d,contentRef:h,contentId:na(),titleId:na(),descriptionId:na(),open:f,onOpenChange:g,onOpenToggle:N.useCallback(()=>g(p=>!p),[g]),modal:c,children:s})};Hk.displayName=Rm;var $k="DialogTrigger",jz=N.forwardRef((e,t)=>{const c=e,{__scopeDialog:s}=c,n=$e(c,["__scopeDialog"]),i=Ia($k,s),o=xn(t,i.triggerRef);return a.jsx(Jt.button,ie(F({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Wy(i.open)},n),{ref:o,onClick:Bi(e.onClick,i.onOpenToggle)}))});jz.displayName=$k;var Iy="DialogPortal",[Nz,Vk]=Uk(Iy,{forceMount:void 0}),Ik=e=>{const{__scopeDialog:t,forceMount:s,children:n,container:i}=e,o=Ia(Iy,t);return a.jsx(Nz,{scope:t,forceMount:s,children:N.Children.map(n,c=>a.jsx(Mm,{present:s||o.open,children:a.jsx(bm,{asChild:!0,container:i,children:c})}))})};Ik.displayName=Iy;var am="DialogOverlay",qk=N.forwardRef((e,t)=>{const s=Vk(am,e.__scopeDialog),c=e,{forceMount:n=s.forceMount}=c,i=$e(c,["forceMount"]),o=Ia(am,e.__scopeDialog);return o.modal?a.jsx(Mm,{present:n||o.open,children:a.jsx(Tz,ie(F({},i),{ref:t}))}):null});qk.displayName=am;var _z=yu("DialogOverlay.RemoveScroll"),Tz=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=$e(o,["__scopeDialog"]),i=Ia(am,s);return a.jsx(wm,{as:_z,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Jt.div,ie(F({"data-state":Wy(i.open)},n),{ref:t,style:F({pointerEvents:"auto"},n.style)}))})}),Go="DialogContent",Wk=N.forwardRef((e,t)=>{const s=Vk(Go,e.__scopeDialog),c=e,{forceMount:n=s.forceMount}=c,i=$e(c,["forceMount"]),o=Ia(Go,e.__scopeDialog);return a.jsx(Mm,{present:n||o.open,children:o.modal?a.jsx(Sz,ie(F({},i),{ref:t})):a.jsx(kz,ie(F({},i),{ref:t}))})});Wk.displayName=Go;var Sz=N.forwardRef((e,t)=>{const s=Ia(Go,e.__scopeDialog),n=N.useRef(null),i=xn(t,s.contentRef,n);return N.useEffect(()=>{const o=n.current;if(o)return dy(o)},[]),a.jsx(Yk,ie(F({},e),{ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Bi(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=s.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Bi(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:Bi(e.onFocusOutside,o=>o.preventDefault())}))}),kz=N.forwardRef((e,t)=>{const s=Ia(Go,e.__scopeDialog),n=N.useRef(!1),i=N.useRef(!1);return a.jsx(Yk,ie(F({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(n.current||(d=s.triggerRef.current)==null||d.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((f=s.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),Yk=N.forwardRef((e,t)=>{const g=e,{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o}=g,c=$e(g,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Ia(Go,s),h=N.useRef(null),f=xn(t,h);return vz(),a.jsxs(a.Fragment,{children:[a.jsx(gm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:a.jsx(Fk,ie(F({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Wy(d.open)},c),{ref:f,onDismiss:()=>d.onOpenChange(!1)}))}),a.jsxs(a.Fragment,{children:[a.jsx(Az,{titleId:d.titleId}),a.jsx(Mz,{contentRef:h,descriptionId:d.descriptionId})]})]})}),qy="DialogTitle",Cz=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=$e(o,["__scopeDialog"]),i=Ia(qy,s);return a.jsx(Jt.h2,ie(F({id:i.titleId},n),{ref:t}))});Cz.displayName=qy;var Gk="DialogDescription",Ez=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=$e(o,["__scopeDialog"]),i=Ia(Gk,s);return a.jsx(Jt.p,ie(F({id:i.descriptionId},n),{ref:t}))});Ez.displayName=Gk;var Xk="DialogClose",Dz=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:s}=o,n=$e(o,["__scopeDialog"]),i=Ia(Xk,s);return a.jsx(Jt.button,ie(F({type:"button"},n),{ref:t,onClick:Bi(e.onClick,()=>i.onOpenChange(!1))}))});Dz.displayName=Xk;function Wy(e){return e?"open":"closed"}var Kk="DialogTitleWarning",[x$,Qk]=eT(Kk,{contentName:Go,titleName:qy,docsSlug:"dialog"}),Az=({titleId:e})=>{const t=Qk(Kk),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},Oz="DialogDescriptionWarning",Mz=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Qk(Oz).contentName}}.`;return N.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Rz=Hk,Pz=Ik,Lz=qk,Bz=Wk,Bd='[cmdk-group=""]',C0='[cmdk-group-items=""]',Fz='[cmdk-group-heading=""]',Zk='[cmdk-item=""]',S2=`${Zk}:not([aria-disabled="true"])`,yx="cmdk-item-select",Kl="data-value",zz=(e,t,s)=>cz(e,t,s),Jk=N.createContext(void 0),_u=()=>N.useContext(Jk),eC=N.createContext(void 0),Yy=()=>N.useContext(eC),tC=N.createContext(void 0),sC=N.forwardRef((e,t)=>{let s=Ql(()=>{var X,re;return{search:"",value:(re=(X=e.value)!=null?X:e.defaultValue)!=null?re:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Ql(()=>new Set),i=Ql(()=>new Map),o=Ql(()=>new Map),c=Ql(()=>new Set),d=nC(e),ge=e,{label:h,children:f,value:g,onValueChange:p,filter:b,shouldFilter:y,loop:j,disablePointerSelection:v=!1,vimBindings:_=!0}=ge,T=$e(ge,["label","children","value","onValueChange","filter","shouldFilter","loop","disablePointerSelection","vimBindings"]),A=na(),k=na(),S=na(),E=N.useRef(null),C=Kz();Xo(()=>{if(g!==void 0){let X=g.trim();s.current.value=X,z.emit()}},[g]),Xo(()=>{C(6,U)},[]);let z=N.useMemo(()=>({subscribe:X=>(c.current.add(X),()=>c.current.delete(X)),snapshot:()=>s.current,setState:(X,re,_e)=>{var me,Pe,we,Ce;if(!Object.is(s.current[X],re)){if(s.current[X]=re,X==="search")G(),V(),C(1,I);else if(X==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Z=document.getElementById(S);Z?Z.focus():(me=document.getElementById(A))==null||me.focus()}if(C(7,()=>{var Z;s.current.selectedItemId=(Z=W())==null?void 0:Z.id,z.emit()}),_e||C(5,U),((Pe=d.current)==null?void 0:Pe.value)!==void 0){let Z=re!=null?re:"";(Ce=(we=d.current).onValueChange)==null||Ce.call(we,Z);return}}z.emit()}},emit:()=>{c.current.forEach(X=>X())}}),[]),L=N.useMemo(()=>({value:(X,re,_e)=>{var me;re!==((me=o.current.get(X))==null?void 0:me.value)&&(o.current.set(X,{value:re,keywords:_e}),s.current.filtered.items.set(X,R(re,_e)),C(2,()=>{V(),z.emit()}))},item:(X,re)=>(n.current.add(X),re&&(i.current.has(re)?i.current.get(re).add(X):i.current.set(re,new Set([X]))),C(3,()=>{G(),V(),s.current.value||I(),z.emit()}),()=>{o.current.delete(X),n.current.delete(X),s.current.filtered.items.delete(X);let _e=W();C(4,()=>{G(),(_e==null?void 0:_e.getAttribute("id"))===X&&I(),z.emit()})}),group:X=>(i.current.has(X)||i.current.set(X,new Set),()=>{o.current.delete(X),i.current.delete(X)}),filter:()=>d.current.shouldFilter,label:h||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:A,inputId:S,labelId:k,listInnerRef:E}),[]);function R(X,re){var _e,me;let Pe=(me=(_e=d.current)==null?void 0:_e.filter)!=null?me:zz;return X?Pe(X,s.current.search,re):0}function V(){if(!s.current.search||d.current.shouldFilter===!1)return;let X=s.current.filtered.items,re=[];s.current.filtered.groups.forEach(me=>{let Pe=i.current.get(me),we=0;Pe.forEach(Ce=>{let Z=X.get(Ce);we=Math.max(Z,we)}),re.push([me,we])});let _e=E.current;K().sort((me,Pe)=>{var we,Ce;let Z=me.getAttribute("id"),Re=Pe.getAttribute("id");return((we=X.get(Re))!=null?we:0)-((Ce=X.get(Z))!=null?Ce:0)}).forEach(me=>{let Pe=me.closest(C0);Pe?Pe.appendChild(me.parentElement===Pe?me:me.closest(`${C0} > *`)):_e.appendChild(me.parentElement===_e?me:me.closest(`${C0} > *`))}),re.sort((me,Pe)=>Pe[1]-me[1]).forEach(me=>{var Pe;let we=(Pe=E.current)==null?void 0:Pe.querySelector(`${Bd}[${Kl}="${encodeURIComponent(me[0])}"]`);we==null||we.parentElement.appendChild(we)})}function I(){let X=K().find(_e=>_e.getAttribute("aria-disabled")!=="true"),re=X==null?void 0:X.getAttribute(Kl);z.setState("value",re||void 0)}function G(){var X,re,_e,me;if(!s.current.search||d.current.shouldFilter===!1){s.current.filtered.count=n.current.size;return}s.current.filtered.groups=new Set;let Pe=0;for(let we of n.current){let Ce=(re=(X=o.current.get(we))==null?void 0:X.value)!=null?re:"",Z=(me=(_e=o.current.get(we))==null?void 0:_e.keywords)!=null?me:[],Re=R(Ce,Z);s.current.filtered.items.set(we,Re),Re>0&&Pe++}for(let[we,Ce]of i.current)for(let Z of Ce)if(s.current.filtered.items.get(Z)>0){s.current.filtered.groups.add(we);break}s.current.filtered.count=Pe}function U(){var X,re,_e;let me=W();me&&(((X=me.parentElement)==null?void 0:X.firstChild)===me&&((_e=(re=me.closest(Bd))==null?void 0:re.querySelector(Fz))==null||_e.scrollIntoView({block:"nearest"})),me.scrollIntoView({block:"nearest"}))}function W(){var X;return(X=E.current)==null?void 0:X.querySelector(`${Zk}[aria-selected="true"]`)}function K(){var X;return Array.from(((X=E.current)==null?void 0:X.querySelectorAll(S2))||[])}function $(X){let re=K()[X];re&&z.setState("value",re.getAttribute(Kl))}function ee(X){var re;let _e=W(),me=K(),Pe=me.findIndex(Ce=>Ce===_e),we=me[Pe+X];(re=d.current)!=null&&re.loop&&(we=Pe+X<0?me[me.length-1]:Pe+X===me.length?me[0]:me[Pe+X]),we&&z.setState("value",we.getAttribute(Kl))}function se(X){let re=W(),_e=re==null?void 0:re.closest(Bd),me;for(;_e&&!me;)_e=X>0?Gz(_e,Bd):Xz(_e,Bd),me=_e==null?void 0:_e.querySelector(S2);me?z.setState("value",me.getAttribute(Kl)):ee(X)}let Ne=()=>$(K().length-1),P=X=>{X.preventDefault(),X.metaKey?Ne():X.altKey?se(1):ee(1)},ne=X=>{X.preventDefault(),X.metaKey?$(0):X.altKey?se(-1):ee(-1)};return N.createElement(Jt.div,ie(F({ref:t,tabIndex:-1},T),{"cmdk-root":"",onKeyDown:X=>{var re;(re=T.onKeyDown)==null||re.call(T,X);let _e=X.nativeEvent.isComposing||X.keyCode===229;if(!(X.defaultPrevented||_e))switch(X.key){case"n":case"j":{_&&X.ctrlKey&&P(X);break}case"ArrowDown":{P(X);break}case"p":case"k":{_&&X.ctrlKey&&ne(X);break}case"ArrowUp":{ne(X);break}case"Home":{X.preventDefault(),$(0);break}case"End":{X.preventDefault(),Ne();break}case"Enter":{X.preventDefault();let me=W();if(me){let Pe=new Event(yx);me.dispatchEvent(Pe)}}}}}),N.createElement("label",{"cmdk-label":"",htmlFor:L.inputId,id:L.labelId,style:Zz},h),Pm(e,X=>N.createElement(eC.Provider,{value:z},N.createElement(Jk.Provider,{value:L},X))))}),Uz=N.forwardRef((e,t)=>{var s,n;let i=na(),o=N.useRef(null),c=N.useContext(tC),d=_u(),h=nC(e),f=(n=(s=h.current)==null?void 0:s.forceMount)!=null?n:c==null?void 0:c.forceMount;Xo(()=>{if(!f)return d.item(i,c==null?void 0:c.id)},[f]);let g=aC(i,o,[e.value,e.children,o],e.keywords),p=Yy(),b=Xi(z=>z.value&&z.value===g.current),y=Xi(z=>f||d.filter()===!1?!0:z.search?z.filtered.items.get(i)>0:!0);N.useEffect(()=>{let z=o.current;if(!(!z||e.disabled))return z.addEventListener(yx,j),()=>z.removeEventListener(yx,j)},[y,e.onSelect,e.disabled]);function j(){var z,L;v(),(L=(z=h.current).onSelect)==null||L.call(z,g.current)}function v(){p.setState("value",g.current,!0)}if(!y)return null;let C=e,{disabled:_,value:T,onSelect:A,forceMount:k,keywords:S}=C,E=$e(C,["disabled","value","onSelect","forceMount","keywords"]);return N.createElement(Jt.div,ie(F({ref:Io(o,t)},E),{id:i,"cmdk-item":"",role:"option","aria-disabled":!!_,"aria-selected":!!b,"data-disabled":!!_,"data-selected":!!b,onPointerMove:_||d.getDisablePointerSelection()?void 0:v,onClick:_?void 0:j}),e.children)}),Hz=N.forwardRef((e,t)=>{let y=e,{heading:s,children:n,forceMount:i}=y,o=$e(y,["heading","children","forceMount"]),c=na(),d=N.useRef(null),h=N.useRef(null),f=na(),g=_u(),p=Xi(j=>i||g.filter()===!1?!0:j.search?j.filtered.groups.has(c):!0);Xo(()=>g.group(c),[]),aC(c,d,[e.value,e.heading,h]);let b=N.useMemo(()=>({id:c,forceMount:i}),[i]);return N.createElement(Jt.div,ie(F({ref:Io(d,t)},o),{"cmdk-group":"",role:"presentation",hidden:p?void 0:!0}),s&&N.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:f},s),Pm(e,j=>N.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":s?f:void 0},N.createElement(tC.Provider,{value:b},j))))}),$z=N.forwardRef((e,t)=>{let c=e,{alwaysRender:s}=c,n=$e(c,["alwaysRender"]),i=N.useRef(null),o=Xi(d=>!d.search);return!s&&!o?null:N.createElement(Jt.div,ie(F({ref:Io(i,t)},n),{"cmdk-separator":"",role:"separator"}))}),Vz=N.forwardRef((e,t)=>{let f=e,{onValueChange:s}=f,n=$e(f,["onValueChange"]),i=e.value!=null,o=Yy(),c=Xi(g=>g.search),d=Xi(g=>g.selectedItemId),h=_u();return N.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),N.createElement(Jt.input,ie(F({ref:t},n),{"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":d,id:h.inputId,type:"text",value:i?e.value:c,onChange:g=>{i||o.setState("search",g.target.value),s==null||s(g.target.value)}}))}),Iz=N.forwardRef((e,t)=>{let f=e,{children:s,label:n="Suggestions"}=f,i=$e(f,["children","label"]),o=N.useRef(null),c=N.useRef(null),d=Xi(g=>g.selectedItemId),h=_u();return N.useEffect(()=>{if(c.current&&o.current){let g=c.current,p=o.current,b,y=new ResizeObserver(()=>{b=requestAnimationFrame(()=>{let j=g.offsetHeight;p.style.setProperty("--cmdk-list-height",j.toFixed(1)+"px")})});return y.observe(g),()=>{cancelAnimationFrame(b),y.unobserve(g)}}},[]),N.createElement(Jt.div,ie(F({ref:Io(o,t)},i),{"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":n,id:h.listId}),Pm(e,g=>N.createElement("div",{ref:Io(c,h.listInnerRef),"cmdk-list-sizer":""},g)))}),qz=N.forwardRef((e,t)=>{let h=e,{open:s,onOpenChange:n,overlayClassName:i,contentClassName:o,container:c}=h,d=$e(h,["open","onOpenChange","overlayClassName","contentClassName","container"]);return N.createElement(Rz,{open:s,onOpenChange:n},N.createElement(Pz,{container:c},N.createElement(Lz,{"cmdk-overlay":"",className:i}),N.createElement(Bz,{"aria-label":e.label,"cmdk-dialog":"",className:o},N.createElement(sC,F({ref:t},d)))))}),Wz=N.forwardRef((e,t)=>Xi(s=>s.filtered.count===0)?N.createElement(Jt.div,ie(F({ref:t},e),{"cmdk-empty":"",role:"presentation"})):null),Yz=N.forwardRef((e,t)=>{let c=e,{progress:s,children:n,label:i="Loading..."}=c,o=$e(c,["progress","children","label"]);return N.createElement(Jt.div,ie(F({ref:t},o),{"cmdk-loading":"",role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i}),Pm(e,d=>N.createElement("div",{"aria-hidden":!0},d)))}),Sc=Object.assign(sC,{List:Iz,Item:Uz,Input:Vz,Group:Hz,Separator:$z,Dialog:qz,Empty:Wz,Loading:Yz});function Gz(e,t){let s=e.nextElementSibling;for(;s;){if(s.matches(t))return s;s=s.nextElementSibling}}function Xz(e,t){let s=e.previousElementSibling;for(;s;){if(s.matches(t))return s;s=s.previousElementSibling}}function nC(e){let t=N.useRef(e);return Xo(()=>{t.current=e}),t}var Xo=typeof window=="undefined"?N.useEffect:N.useLayoutEffect;function Ql(e){let t=N.useRef();return t.current===void 0&&(t.current=e()),t}function Xi(e){let t=Yy(),s=()=>e(t.snapshot());return N.useSyncExternalStore(t.subscribe,s,s)}function aC(e,t,s,n=[]){let i=N.useRef(),o=_u();return Xo(()=>{var c;let d=(()=>{var f;for(let g of s){if(typeof g=="string")return g.trim();if(typeof g=="object"&&"current"in g)return g.current?(f=g.current.textContent)==null?void 0:f.trim():i.current}})(),h=n.map(f=>f.trim());o.value(e,d,h),(c=t.current)==null||c.setAttribute(Kl,d),i.current=d}),i}var Kz=()=>{let[e,t]=N.useState(),s=Ql(()=>new Map);return Xo(()=>{s.current.forEach(n=>n()),s.current=new Map},[e]),(n,i)=>{s.current.set(n,i),t({})}};function Qz(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Pm({asChild:e,children:t},s){return e&&N.isValidElement(t)?N.cloneElement(Qz(t),{ref:t.ref},s(t.props.children)):s(t)}var Zz={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function rC(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsx(Sc,F({"data-slot":"command",className:Fs("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e)},t))}function iC(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[a.jsx(Vi,{className:"size-4 shrink-0 opacity-50"}),a.jsx(Sc.Input,F({"data-slot":"command-input",className:Fs("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e)},t))]})}function oC(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsx(Sc.List,F({"data-slot":"command-list",className:Fs("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e)},t))}function oc(t){var e=$e(t,[]);return a.jsx(Sc.Empty,F({"data-slot":"command-empty",className:"py-6 text-center text-sm"},e))}function lC(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsx(Sc.Group,F({"data-slot":"command-group",className:Fs("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e)},t))}function cC(s){var n=s,{className:e}=n,t=$e(n,["className"]);return a.jsx(Sc.Item,F({"data-slot":"command-item",className:Fs("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e)},t))}function La({doctype:e,value:t="",onChange:s,placeholder:n="Select option...",className:i="w-[200px]",fields:o=["name"],filters:c=[],displayField:d="name",valueField:h="name",disabled:f=!1,limit:g=20}){const[p,b]=N.useState(!1),[y,j]=N.useState(""),v=N.useMemo(()=>{let z={};if(c.length>0&&c.forEach(R=>{if(Array.isArray(R)&&R.length>=3){const[V,I,G]=R;I==="="&&(z[V]=G)}}),y.trim()&&(z[d]=["like",`%${y}%`]),Object.keys(z).length===0&&y.trim())return[[d,"like",`%${y}%`]];const L=[];return Object.entries(z).forEach(([R,V])=>{Array.isArray(V)?L.push([R,V[0],V[1]]):L.push([R,"=",V])}),L.length>0?L:void 0},[y,c,d]),{data:_,isLoading:T,error:A}=ft(e,{fields:[...new Set([...o,d,h])],filters:v,limit:g,orderBy:{field:d,order:"asc"}}),k=N.useMemo(()=>!_||!Array.isArray(_)?[]:_.map(z=>({value:z[h],label:z[d]})),[_,d,h]),S=k.find(z=>z.value===t),E=z=>{s(z===t?"":z),b(!1)},C=z=>{j(z)};return a.jsxs(Nm,{open:p,onOpenChange:b,children:[a.jsx(_m,{asChild:!0,children:a.jsxs(Qe,{variant:"outline",role:"combobox","aria-expanded":p,className:Fs("justify-between",i),disabled:f,children:[(S==null?void 0:S.label)||n,a.jsx(X_,{className:"opacity-50"})]})}),a.jsx(Tm,{className:Fs("p-0",i),children:a.jsxs(rC,{shouldFilter:!1,children:[a.jsx(iC,{placeholder:`Search ${e.toLowerCase()}...`,className:"h-9",value:y,onValueChange:C}),a.jsxs(oC,{children:[T&&a.jsx(oc,{children:"Loading..."}),A&&a.jsx(oc,{children:"Error loading data."}),!T&&!A&&k.length===0&&a.jsxs(oc,{children:["No ",e.toLowerCase()," found."]}),!T&&!A&&k.length>0&&a.jsx(lC,{children:k.map(z=>a.jsxs(cC,{value:z.value,onSelect:E,children:[z.label,a.jsx(G_,{className:Fs("ml-auto",t===z.value?"opacity-100":"opacity-0")})]},z.value))})]})]})})]})}const dC=({project:e,isOpen:t,onClose:s,onSuccess:n})=>{const{updateProject:i,isLoading:o}=pL(),{currentUser:c}=on(),{data:d}=Tt("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),h=(d==null?void 0:d.users)||(e==null?void 0:e.users)||[],f=()=>{if(c==="Administrator"||(e==null?void 0:e.owner)===c)return!0;const T=h.find(A=>A.user===c);return(T==null?void 0:T.project_status)==="Project Manager (Owner Substitute)"},{register:g,control:p,handleSubmit:b,reset:y,formState:{errors:j}}=Om({defaultValues:{project_name:"",customer:"",project_type:"",status:"Open",priority:"Medium",department:"",team:"",company:"",cost_center:"",expected_start_date:"",expected_end_date:"",notes:""}});N.useEffect(()=>{e&&y({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",team:e.team||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""})},[e,y]);const v=T=>fe(null,null,function*(){if(e){if(T.status==="Completed"&&!f()){Gt.error("Permission denied",{description:"You don't have permission to mark this project as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}try{yield i(e.name,T),Gt.success("Project updated successfully"),n&&setTimeout(()=>{n()},100),s()}catch(A){let k="Edit project failed";if(A!=null&&A._server_messages)try{const S=JSON.parse(A._server_messages);Array.isArray(S)&&S.length>0&&(k=JSON.parse(S[0]).message||k)}catch(S){console.error("Parse error messages failed:",S)}else A!=null&&A.message&&(k=A.message);Gt.error("Update project failed",{description:k}),console.error("Error updating project:",A)}}}),_=()=>{e&&y({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",team:e.team||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""}),s()};return a.jsx(fn,{open:t,onOpenChange:s,children:a.jsxs(mn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[a.jsx(gn,{children:a.jsx(pn,{children:"Edit Project"})}),a.jsxs("form",{onSubmit:b(v),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"project_name",children:"Project Name *"}),a.jsx(Pt,ie(F({id:"project_name"},g("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),j.project_name&&a.jsx("span",{className:"text-red-500 text-sm",children:j.project_name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Customer"}),a.jsx(va,{name:"customer",control:p,render:({field:T})=>a.jsx(La,{doctype:"Customer",value:T.value||"",onChange:T.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Project Type"}),a.jsx(va,{name:"project_type",control:p,render:({field:T})=>a.jsx(La,{doctype:"Project Type",value:T.value||"",onChange:T.onChange,placeholder:"Select type...",className:"w-full"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{children:"Status"}),a.jsxs("select",ie(F({},g("status")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select status..."}),a.jsx("option",{value:"Open",children:"Open"}),f()&&a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]})),!f()&&a.jsx("span",{className:"text-xs text-amber-600",children:"You dont have permission to mark Completed"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{children:"Priority"}),a.jsxs("select",ie(F({},g("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select priority..."}),a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Urgent",children:"Urgent"})]}))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Team"}),a.jsx(va,{name:"team",control:p,render:({field:T})=>a.jsx(La,{doctype:"Team",value:T.value||"",onChange:T.onChange,placeholder:"Select team...",className:"w-full"})})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Company"}),a.jsx(va,{name:"company",control:p,render:({field:T})=>a.jsx(La,{doctype:"Company",value:T.value||"",onChange:T.onChange,placeholder:"Select company...",className:"w-full"})})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Cost Center"}),a.jsx(va,{name:"cost_center",control:p,render:({field:T})=>a.jsx(La,{doctype:"Cost Center",value:T.value||"",onChange:T.onChange,placeholder:"Select cost center...",className:"w-full"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"expected_start_date",children:"Expected Start Date"}),a.jsx(Pt,F({id:"expected_start_date",type:"date"},g("expected_start_date")))]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"expected_end_date",children:"Expected End Date"}),a.jsx(Pt,F({id:"expected_end_date",type:"date"},g("expected_end_date")))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"notes",children:"Notes"}),a.jsx("textarea",ie(F({id:"notes"},g("notes")),{placeholder:"Enter project notes",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}))]}),a.jsxs(An,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:_,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:o,children:o?"Updating...":"Update Project"})]})]})]})})},uC=({project:e,isOpen:t,onClose:s,onSuccess:n})=>{const{deleteProjectCascade:i}=TL(),[o,c]=N.useState(!1),[d,h]=N.useState(null),[f,g]=N.useState(""),p=()=>fe(null,null,function*(){if(!e){console.error("No project selected for deletion"),Gt.error("Delete project failed",{description:"No project selected"});return}if(o){console.log("Delete already in progress, ignoring duplicate request");return}c(!0),h(null),g("Starting deletion...");try{console.log(`Starting deletion for project: ${e.name}`),g("Deleting subtasks..."),yield new Promise(j=>setTimeout(j,300)),g("Deleting tasks..."),yield new Promise(j=>setTimeout(j,300)),g("Deleting project phases..."),yield new Promise(j=>setTimeout(j,300)),g("Cleaning up dependencies..."),yield new Promise(j=>setTimeout(j,300)),g("Deleting project...");const y=yield i(e.name);g("Deletion completed successfully!"),console.log("Cascade deletion result:",y),Gt.success("Project deleted successfully",{description:`Project "${e.name}" and all related items have been deleted.`}),n&&n(),s()}catch(y){let j="Delete project failed",v=!1;if(y!=null&&y._server_messages)try{const _=JSON.parse(y._server_messages);Array.isArray(_)&&_.length>0&&(j=JSON.parse(_[0]).message||j)}catch(_){console.error("Parse error messages failed:",_)}else y!=null&&y.message&&(j=y.message,(j.includes("dependencies")||j.includes("linked")||j.includes("referenced")||j.includes("Unknown project deletion error"))&&(v=!0,j+=`

Tip: This error usually resolves on the second attempt. Please try again.`));console.error("Error deleting project:",y),Gt.error("Delete project failed",{description:j,duration:v?8e3:5e3}),h(y instanceof Error?y:new Error(j)),g("")}finally{c(!1)}}),b=()=>{o||(h(null),g(""),s())};return a.jsx(fn,{open:t,onOpenChange:s,children:a.jsxs(mn,{className:"sm:max-w-[400px]",children:[a.jsx(gn,{children:a.jsxs(pn,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(xc,{className:"h-5 w-5"}),"Delete Project"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this project? This action cannot be undone."}),e&&a.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.project_name}),a.jsx("div",{className:"text-sm text-gray-600",children:e.customer||"No customer"}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[a.jsxs("div",{className:"text-sm text-red-800",children:[a.jsx("strong",{children:"Warning:"})," This will permanently delete in the following order:"]}),a.jsxs("ol",{className:"text-sm text-red-700 mt-1 ml-4 list-decimal",children:[a.jsx("li",{children:"All subtasks in all tasks"}),a.jsx("li",{children:"All tasks in the project"}),a.jsx("li",{children:"All project phases"}),a.jsx("li",{children:"All ToDo assignments"}),a.jsx("li",{children:"All project team members"}),a.jsx("li",{children:"The project itself"})]}),a.jsx("div",{className:"text-sm text-red-800 mt-2",children:a.jsx("strong",{children:"This action cannot be undone!"})})]}),o&&f&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Q0,{className:"h-4 w-4 animate-spin text-blue-600"}),a.jsxs("span",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Progress:"})," ",f]})]}),a.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Please wait while we delete all related items..."})]}),d&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",d.message||"Failed to delete project"]})})]}),a.jsxs(An,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:b,disabled:o,children:o?"Deleting...":"Cancel"}),a.jsx(Qe,{type:"button",variant:"destructive",onClick:p,disabled:o,className:"min-w-[120px]",children:o?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Q0,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Project"})]})]})})},hC=({project:e,onProjectUpdated:t,onProjectDeleted:s})=>{const[n,i]=N.useState(!1),[o,c]=N.useState(!1),[d,h]=N.useState(!1),f=y=>{y&&y.stopPropagation(),i(!0),h(!1)},g=y=>{y&&y.stopPropagation(),c(!0),h(!1)},p=()=>{t&&t()},b=()=>{s&&s()};return a.jsxs(a.Fragment,{children:[a.jsxs(Nm,{open:d,onOpenChange:h,children:[a.jsx(_m,{asChild:!0,children:a.jsx(Qe,{variant:"ghost",size:"sm",onClick:y=>{y.stopPropagation(),h(!d)},className:"h-8 w-8 p-0",children:a.jsx(KM,{className:"h-4 w-4"})})}),a.jsx(Tm,{className:"w-48 p-2",align:"end",onClick:y=>y.stopPropagation(),children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Qe,{variant:"ghost",size:"sm",onClick:y=>f(y),className:"w-full justify-start text-left",children:[a.jsx(j5,{className:"mr-2 h-4 w-4"}),"Edit Project"]}),a.jsxs(Qe,{variant:"ghost",size:"sm",onClick:y=>g(y),className:"w-full justify-start text-left text-red-600 hover:text-red-700 hover:bg-red-50",children:[a.jsx(eo,{className:"mr-2 h-4 w-4"}),"Delete Project"]})]})})]}),a.jsx(dC,{project:e,isOpen:n,onClose:()=>i(!1),onSuccess:p}),a.jsx(uC,{project:e,isOpen:o,onClose:()=>c(!1),onSuccess:b})]})},Jz=({projects:e,onProjectsChange:t})=>{const s=dm(),n=o=>{s(`/projects/${o.name}`)},i=o=>{switch(o){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return a.jsx(a.Fragment,{children:a.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map(o=>a.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 hover:shadow-md transition-shadow duration-200 cursor-pointer",onClick:()=>n(o),children:[a.jsx("div",{className:"h-48 bg-gray-200 flex items-center justify-center",children:a.jsx("div",{className:"text-4xl font-bold text-gray-400",children:o.project_name.charAt(0).toUpperCase()})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate flex-1",children:o.project_name}),a.jsxs("div",{className:"flex items-center gap-2",onClick:c=>c.stopPropagation(),children:[a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${i(o.status)}`,children:o.status||"Open"}),a.jsx(hC,{project:o,onProjectUpdated:t,onProjectDeleted:t})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:o.project_type||"N/A"}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),a.jsxs("span",{className:"text-sm text-gray-600",children:[o.percent_complete||0,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${o.percent_complete||0}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsx("span",{children:o.customer||"N/A"}),a.jsx("span",{children:Di(o.estimated_costing)})]})]})]},o.name))})})},eU=0,tU=1,sU=2;var k2=Object.prototype.hasOwnProperty;function bx(e,t){var s,n;if(e===t)return!0;if(e&&t&&(s=e.constructor)===t.constructor){if(s===Date)return e.getTime()===t.getTime();if(s===RegExp)return e.toString()===t.toString();if(s===Array){if((n=e.length)===t.length)for(;n--&&bx(e[n],t[n]););return n===-1}if(!s||typeof e=="object"){n=0;for(s in e)if(k2.call(e,s)&&++n&&!k2.call(t,s)||!(s in t)||!bx(e[s],t[s]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}const Lo=new WeakMap,Pi=()=>{},wa=Pi(),vx=Object,ur=e=>e===wa,Bo=e=>typeof e=="function",Lm=(e,t)=>F(F({},e),t),nU=e=>Bo(e.then),E0={},ff={},fC="undefined",Gy=typeof window!=fC,wx=typeof document!=fC,aU=Gy&&"Deno"in window,rU=(e,t)=>{const s=Lo.get(e);return[()=>!ur(t)&&e.get(t)||E0,n=>{if(!ur(t)){const i=e.get(t);t in ff||(ff[t]=i),s[5](t,Lm(i,n),i||E0)}},s[6],()=>!ur(t)&&t in ff?ff[t]:!ur(t)&&e.get(t)||E0]};let jx=!0;const iU=()=>jx,[Nx,_x]=Gy&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Pi,Pi],oU=()=>{const e=wx&&document.visibilityState;return ur(e)||e!=="hidden"},lU=e=>(wx&&document.addEventListener("visibilitychange",e),Nx("focus",e),()=>{wx&&document.removeEventListener("visibilitychange",e),_x("focus",e)}),cU=e=>{const t=()=>{jx=!0,e()},s=()=>{jx=!1};return Nx("online",t),Nx("offline",s),()=>{_x("online",t),_x("offline",s)}},dU={isOnline:iU,isVisible:oU},uU={initFocus:lU,initReconnect:cU};ye.useId;const mC=!Gy||aU,D0=typeof navigator!="undefined"&&navigator.connection,C2=!mC&&D0&&(["slow-2g","2g"].includes(D0.effectiveType)||D0.saveData),mf=new WeakMap,hU=e=>vx.prototype.toString.call(e),A0=(e,t)=>e===`[object ${t}]`;let fU=0;const Tx=e=>{const t=typeof e,s=hU(e),n=A0(s,"Date"),i=A0(s,"RegExp"),o=A0(s,"Object");let c,d;if(vx(e)===e&&!n&&!i){if(c=mf.get(e),c)return c;if(c=++fU+"~",mf.set(e,c),Array.isArray(e)){for(c="@",d=0;d<e.length;d++)c+=Tx(e[d])+",";mf.set(e,c)}if(o){c="#";const h=vx.keys(e).sort();for(;!ur(d=h.pop());)ur(e[d])||(c+=d+":"+Tx(e[d])+",");mf.set(e,c)}}else c=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return c},mU=e=>{if(Bo(e))try{e=e()}catch(s){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Tx(e):"",[e,t]};let gU=0;const E2=()=>++gU;function pU(...e){return fe(this,null,function*(){const[t,s,n,i]=e,o=Lm({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let c=o.populateCache;const d=o.rollbackOnError;let h=o.optimisticData;const f=b=>typeof d=="function"?d(b):d!==!1,g=o.throwOnError;if(Bo(s)){const b=s,y=[],j=t.keys();for(const v of j)!/^\$(inf|sub)\$/.test(v)&&b(t.get(v)._k)&&y.push(v);return Promise.all(y.map(p))}return p(s);function p(b){return fe(this,null,function*(){const[y]=mU(b);if(!y)return;const[j,v]=rU(t,y),[_,T,A,k]=Lo.get(t),S=()=>{const W=_[y];return(Bo(o.revalidate)?o.revalidate(j().data,b):o.revalidate!==!1)&&(delete A[y],delete k[y],W&&W[0])?W[0](sU).then(()=>j().data):j().data};if(e.length<3)return S();let E=n,C,z=!1;const L=E2();T[y]=[L,0];const R=!ur(h),V=j(),I=V.data,G=V._c,U=ur(G)?I:G;if(R&&(h=Bo(h)?h(U,I):h,v({data:h,_c:U})),Bo(E))try{E=E(U)}catch(W){C=W,z=!0}if(E&&nU(E))if(E=yield E.catch(W=>{C=W,z=!0}),L!==T[y][0]){if(z)throw C;return E}else z&&R&&f(C)&&(c=!0,v({data:U,_c:wa}));if(c&&!z)if(Bo(c)){const W=c(E,U);v({data:W,error:wa,_c:wa})}else v({data:E,error:wa,_c:wa});if(T[y][1]=E2(),Promise.resolve(S()).then(()=>{v({_c:wa})}),z){if(g)throw C;return}return E})}})}const D2=(e,t)=>{for(const s in e)e[s][0]&&e[s][0](t)},xU=(e,t)=>{if(!Lo.has(e)){const s=Lm(uU,t),n=Object.create(null),i=pU.bind(wa,e);let o=Pi;const c=Object.create(null),d=(g,p)=>{const b=c[g]||[];return c[g]=b,b.push(p),()=>b.splice(b.indexOf(p),1)},h=(g,p,b)=>{e.set(g,p);const y=c[g];if(y)for(const j of y)j(p,b)},f=()=>{if(!Lo.has(e)&&(Lo.set(e,[n,Object.create(null),Object.create(null),Object.create(null),i,h,d]),!mC)){const g=s.initFocus(setTimeout.bind(wa,D2.bind(wa,n,eU))),p=s.initReconnect(setTimeout.bind(wa,D2.bind(wa,n,tU)));o=()=>{g&&g(),p&&p(),Lo.delete(e)}}};return f(),[e,i,f,o]}return[e,Lo.get(e)[4]]},yU=(e,t,s,n,i)=>{const o=s.errorRetryCount,c=i.retryCount,d=~~((Math.random()+.5)*(1<<(c<8?c:8)))*s.errorRetryInterval;!ur(o)&&c>o||setTimeout(n,d,i)},bU=bx,[vU,lc]=xU(new Map);Lm({onLoadingSlow:Pi,onSuccess:Pi,onError:Pi,onErrorRetry:yU,onDiscarded:Pi,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:C2?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:C2?5e3:3e3,compare:bU,isPaused:()=>!1,cache:vU,mutate:lc,fallback:{}},dU);N.createContext({});const wU=({projects:e,onProjectsChange:t})=>{const s=dm(),[n,i]=N.useState(null),o=p=>{s(`/projects/${p.name}`)},c=()=>{setTimeout(()=>{i(null)},5e3),console.log("handleProjectUpdated called, about to refresh data..."),lc(p=>typeof p=="string"&&p.includes("Project"),void 0,{revalidate:!0}),lc("/api/resource/Project"),lc("Project"),t?(console.log("Calling onProjectsChange to refresh data immediately"),t()):console.log("onProjectsChange is not available"),setTimeout(()=>{t&&(console.log("Calling onProjectsChange again as backup"),t())},100)},d=()=>{i(null),t&&t()},h=N.useMemo(()=>[...e].sort((p,b)=>{const y=new Date(p.modified||p.creation||0);return new Date(b.modified||b.creation||0).getTime()-y.getTime()}),[e]),f=p=>{switch(p){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},g=p=>p?new Date(p).toLocaleDateString():"N/A";return a.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:a.jsx("div",{className:"overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deadline"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(p=>a.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer transition-colors ${n===p.name?"bg-green-50 border-l-4 border-green-400":""}`,onClick:()=>o(p),children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-bold text-gray-600",children:p.project_name.charAt(0).toUpperCase()})})}),a.jsxs("div",{className:"ml-4",style:{maxWidth:"300px"},children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 cursor-help",title:p.project_name,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:p.project_name}),a.jsx("div",{className:"text-sm text-gray-500",children:p.project_type||"N/A"})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(p.status)}`,children:p.status||"Open"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${p.percent_complete||0}%`}})}),a.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[p.percent_complete||0,"%"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Di(p.estimated_costing)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g(p.expected_end_date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",onClick:b=>b.stopPropagation(),children:a.jsx(hC,{project:p,onProjectUpdated:c,onProjectDeleted:d})})]},p.name))})]})})})},jU=({projects:e,onFilteredProjectsChange:t,viewMode:s,onViewModeChange:n})=>{var j;const[i,o]=ye.useState({searchText:"",selectedTeam:"",selectedStatus:""}),[c,d]=ye.useState(!1),{data:h=[]}=dS(),f=[{value:"",label:"All Status"},{value:"Open",label:"Open"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],g=ye.useMemo(()=>{const v=[{value:"",label:"All Teams"},...h.map(_=>({value:_.name,label:_.team||_.name}))];return[v[0],...v.slice(1).sort((_,T)=>_.label.localeCompare(T.label))]},[h]);ye.useEffect(()=>{let v=[...e];if(i.searchText.trim()){const _=i.searchText.toLowerCase();v=v.filter(T=>T.project_name.toLowerCase().includes(_)||T.name.toLowerCase().includes(_))}i.selectedTeam&&(v=v.filter(_=>(_.team||"")===i.selectedTeam)),i.selectedStatus&&(v=v.filter(_=>_.status===i.selectedStatus)),t(v)},[i.searchText,i.selectedTeam,i.selectedStatus,e]);const p=(v,_)=>{o(T=>ie(F({},T),{[v]:_}))},b=()=>{o({searchText:"",selectedTeam:"",selectedStatus:""})},y=i.searchText||i.selectedTeam||i.selectedStatus;return a.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Vi,{className:"h-4 w-4 text-gray-400"})}),a.jsx("input",{type:"text",value:i.searchText,onChange:v=>p("searchText",v.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects by name..."})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>d(!c),className:`inline-flex items-center px-3 py-2 border rounded-md text-sm font-medium bg-white hover:bg-gray-50 ${y?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700"}`,children:[a.jsx(pc,{className:"mr-2 h-4 w-4"}),"Bộ lọc",y&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[i.selectedTeam,i.selectedStatus].filter(Boolean).length})]}),c&&a.jsx("div",{className:"absolute top-full left-0 mt-2 w-80 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Filters"}),y&&a.jsx("button",{onClick:b,className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team"}),a.jsx("select",{value:i.selectedTeam,onChange:v=>p("selectedTeam",v.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:h.length===0,children:g.map(v=>a.jsx("option",{value:v.value,children:v.label},v.value))}),h.length===0&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No teams available"}),h.length>0&&e.filter(v=>v.team).length===0&&a.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Projects haven't been assigned to teams yet"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsx("select",{value:i.selectedStatus,onChange:v=>p("selectedStatus",v.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:f.map(v=>a.jsx("option",{value:v.value,children:v.label},v.value))})]})]})})]}),a.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 border border-gray-200 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>n("grid"),className:`p-2 rounded-md transition-colors ${s==="grid"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"Grid view",children:a.jsx(a5,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>n("list"),className:`p-2 rounded-md transition-colors ${s==="list"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"List view",children:a.jsx(u5,{className:"h-4 w-4"})})]})]}),y&&a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx("span",{children:"Active filters:"}),a.jsxs("div",{className:"flex space-x-1",children:[i.selectedTeam&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Team: ",(j=g.find(v=>v.value===i.selectedTeam))==null?void 0:j.label,a.jsx("button",{onClick:()=>p("selectedTeam",""),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]}),i.selectedStatus&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Status: ",i.selectedStatus,a.jsx("button",{onClick:()=>p("selectedStatus",""),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]})]})]})]}),c&&a.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>d(!1)})]})},NU=({onProjectCreated:e})=>{const[t,s]=N.useState(!1),{createProject:n,isLoading:i}=gL(),{register:o,control:c,handleSubmit:d,reset:h,formState:{errors:f,isSubmitting:g}}=Om({defaultValues:{status:"Open",priority:"Medium"}}),p=b=>fe(null,null,function*(){try{yield n(b),h(),s(!1),lc(y=>typeof y=="string"&&y.includes("Project"),void 0,{revalidate:!0}),Gt.success("Project created successfully"),e&&e()}catch(y){let j="Create project failed";if(y!=null&&y._server_messages)try{const v=JSON.parse(y._server_messages);Array.isArray(v)&&v.length>0&&(j=JSON.parse(v[0]).message||j)}catch(v){console.error("Parse error messages failed:",v)}else y!=null&&y.message&&(j=y.message);Gt.error("Create project failed",{description:j}),console.error("Error creating project:",y)}});return a.jsxs(fn,{open:t,onOpenChange:s,children:[a.jsx(O7,{asChild:!0,children:a.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx($i,{className:"mr-2 h-4 w-4"}),"New Project"]})}),a.jsx(mn,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:a.jsxs("form",{onSubmit:d(p),children:[a.jsxs(gn,{children:[a.jsx(pn,{children:"Create New Project"}),a.jsx(Tc,{children:"Fill in the project details. Fields marked with * are required."})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsxs(Ie,{htmlFor:"project_name",children:["Project Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Pt,ie(F({id:"project_name"},o("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),f.project_name&&a.jsx("span",{className:"text-red-500 text-sm",children:f.project_name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Customer"}),a.jsx(va,{name:"customer",control:c,render:({field:b})=>a.jsx(La,{doctype:"Customer",value:b.value||"",onChange:b.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Project Type"}),a.jsx(va,{name:"project_type",control:c,render:({field:b})=>a.jsx(La,{doctype:"Project Type",value:b.value||"",onChange:b.onChange,placeholder:"Select type...",className:"w-full"})})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsxs(Ie,{children:["Status ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",ie(F({},o("status",{required:"Status is required"})),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Priority"}),a.jsxs("select",ie(F({},o("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select priority..."}),a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]}))]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Team"}),a.jsx(va,{name:"team",control:c,render:({field:b})=>a.jsx(La,{doctype:"Team",value:b.value||"",onChange:b.onChange,placeholder:"Select team...",className:"w-full"})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Company"}),a.jsx(va,{name:"company",control:c,render:({field:b})=>a.jsx(La,{doctype:"Company",value:b.value||"",onChange:b.onChange,placeholder:"Select company...",className:"w-full"})})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Cost Center"}),a.jsx(va,{name:"cost_center",control:c,render:({field:b})=>a.jsx(La,{doctype:"Cost Center",value:b.value||"",onChange:b.onChange,placeholder:"Select cost center...",displayField:"cost_center_name",valueField:"name",className:"w-full"})})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Project Template"}),a.jsx(va,{name:"project_template",control:c,render:({field:b})=>a.jsx(La,{doctype:"Project Template",value:b.value||"",onChange:b.onChange,placeholder:"Select project template...",className:"w-full"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Expected Start Date"}),a.jsx(Pt,F({type:"date"},o("expected_start_date")))]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Expected End Date"}),a.jsx(Pt,F({type:"date"},o("expected_end_date")))]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Ie,{children:"Notes"}),a.jsx("textarea",ie(F({},o("notes")),{placeholder:"Enter project notes...",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}))]})]}),a.jsxs(An,{children:[a.jsx(R7,{asChild:!0,children:a.jsx(Qe,{type:"button",variant:"outline",children:"Cancel"})}),a.jsx(Qe,{type:"submit",disabled:g||i,className:"bg-blue-600 hover:bg-blue-700",children:g||i?"Creating...":"Create Project"})]})]})})]})},_U=()=>{const[e,t]=ye.useState("list"),[s,n]=ye.useState([]),[i,o]=ye.useState(1),c=10,{data:d=[],isLoading:h,error:f,mutate:g}=mL();ye.useEffect(()=>{n(d),o(1)},[d]);const p=Math.ceil(s.length/c),b=(i-1)*c,y=b+c,j=s.slice(b,y),v=()=>fe(null,null,function*(){g&&(yield g())}),_=ye.useCallback(A=>{n(A),o(1)},[]),T=A=>{o(A)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Projects"}),a.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Showing ",b+1,"-",Math.min(y,s.length)," of ",s.length," projects (Total: ",d.length,")"]})]}),a.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:a.jsx(NU,{onProjectCreated:v})})]}),!h&&!f&&d.length>0&&a.jsx(jU,{projects:d,onFilteredProjectsChange:_,viewMode:e,onViewModeChange:t}),h?a.jsx("div",{className:"flex justify-center items-center p-8",children:a.jsx("div",{className:"text-gray-500",children:"Loading projects..."})}):f?a.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-red-50 rounded-lg border border-red-200",children:a.jsxs("div",{className:"text-red-700 text-center",children:[a.jsx("p",{className:"text-lg font-medium mb-2",children:"Error loading projects"}),a.jsx("p",{className:"text-sm mb-2",children:f.message}),f.message.includes("PermissionError")&&a.jsxs("div",{className:"text-sm text-red-600 bg-red-100 p-3 rounded mt-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Permission Issue:"})," You don't have access to view projects."]}),a.jsx("p",{children:"Please contact your system administrator to:"}),a.jsxs("ul",{className:"list-disc list-inside mt-1",children:[a.jsx("li",{children:'Grant you "Read" permission for Project doctype'}),a.jsx("li",{children:"Add you to projects as a team member"}),a.jsx("li",{children:"Make you the owner of projects"})]})]})]})}):d.length===0?a.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:a.jsxs("div",{className:"text-gray-500 text-center",children:[a.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects found"}),a.jsx("p",{className:"text-sm",children:"You are not currently participating in any projects."}),a.jsx("p",{className:"text-sm",children:"Create a new project or ask to be added to an existing one."})]})}):s.length===0?a.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:a.jsxs("div",{className:"text-gray-500 text-center",children:[a.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects match your filters"}),a.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria or clear the filters."})]})}):a.jsxs(a.Fragment,{children:[e==="grid"?a.jsx(Jz,{projects:j,onProjectsChange:v}):a.jsx(wU,{projects:j,onProjectsChange:v}),p>1&&a.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6 mt-6",children:[a.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[a.jsx("button",{onClick:()=>T(i-1),disabled:i===1,className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.jsx("button",{onClick:()=>T(i+1),disabled:i===p,className:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:b+1})," to"," ",a.jsx("span",{className:"font-medium",children:Math.min(y,s.length)})," of"," ",a.jsx("span",{className:"font-medium",children:s.length})," results"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[a.jsxs("button",{onClick:()=>T(i-1),disabled:i===1,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{className:"sr-only",children:"Previous"}),a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z",clipRule:"evenodd"})})]}),Array.from({length:p},(A,k)=>k+1).map(A=>a.jsx("button",{onClick:()=>T(A),className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold ${A===i?"bg-indigo-600 text-white focus:z-20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0"}`,children:A},A)),a.jsxs("button",{onClick:()=>T(i+1),disabled:i===p,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{className:"sr-only",children:"Next"}),a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z",clipRule:"evenodd"})})]})]})})]})]})]})]})};function Bm({doctype:e,docname:t,title:s="File Attachments",allowUpload:n=!0,allowDelete:i=!0,className:o=""}){const[c,d]=N.useState(!1),[h,f]=N.useState(!1),[g,p]=N.useState(null),[b,y]=N.useState(!1),[j,v]=N.useState(""),[_,T]=N.useState(""),[A,k]=N.useState(!1),S=N.useRef(null),{currentUser:E}=on(),{data:C,mutate:z,isLoading:L}=ft("File",{fields:["name","file_name","file_url","file_size","is_private","attached_to_doctype","attached_to_name","creation","owner","modified"],filters:[["attached_to_doctype","=",e],["attached_to_name","=",t]],orderBy:{field:"creation",order:"desc"},limit:0}),{call:R}=Is("frappe.client.delete"),V=P=>{var ge;if(se(P))return a.jsx(Hd,{className:"h-6 w-6 text-blue-500"});switch((ge=P.file_name.split(".").pop())==null?void 0:ge.toLowerCase()){case"pdf":return a.jsx(Ds,{className:"h-6 w-6 text-red-500"});case"doc":case"docx":return a.jsx(Ds,{className:"h-6 w-6 text-blue-500"});case"xls":case"xlsx":return a.jsx(Ds,{className:"h-6 w-6 text-green-500"});case"ppt":case"pptx":return a.jsx(Ds,{className:"h-6 w-6 text-orange-500"});case"jpg":case"jpeg":case"png":case"gif":case"webp":return a.jsx(i5,{className:"h-6 w-6 text-purple-500"});case"zip":case"rar":case"7z":return a.jsx(TM,{className:"h-6 w-6 text-gray-500"});default:return a.jsx(Hh,{className:"h-6 w-6 text-gray-500"})}},I=P=>{if(P===0)return"0 Bytes";const ne=1024,ge=["Bytes","KB","MB","GB"],X=Math.floor(Math.log(P)/Math.log(ne));return parseFloat((P/Math.pow(ne,X)).toFixed(2))+" "+ge[X]},G=P=>fe(null,null,function*(){var _e;if(!P||P.length===0)return;const ne=25*1024*1024,ge=Array.from(P).filter(me=>me.size>ne);if(ge.length>0){const me=ge.map(Pe=>Pe.name).join(", ");setTimeout(()=>{As.error(`File(s) too large: ${me}. Maximum size is 25MB per file.`)},100);return}d(!0);let X=0,re=0;try{for(let me=0;me<P.length;me++){const Pe=P[me],we=new FormData;we.append("file",Pe),we.append("doctype",e),we.append("docname",t),we.append("is_private","0");try{const Ce=yield fetch("/api/method/upload_file",{method:"POST",body:we,credentials:"include"});if(!Ce.ok){const Re=yield Ce.text();throw Re.includes("too large")||Re.includes("size")||Ce.status===413?new Error(`File "${Pe.name}" is too large. Maximum size is 25MB.`):new Error(`Upload failed for "${Pe.name}": ${Ce.statusText}`)}let Z;try{Z=yield Ce.json()}catch(Re){console.log("Response is not JSON, assuming success")}if((_e=Z==null?void 0:Z.message)!=null&&_e.error)throw new Error(`Upload failed for "${Pe.name}": ${Z.message.error}`);X++}catch(Ce){console.error(`Error uploading file ${Pe.name}:`,Ce);const Z=Ce instanceof Error?Ce.message:String(Ce);(Z.includes("too large")||Z.includes("25MB"))&&Pe.size>ne&&setTimeout(()=>{As.error(Z)},100),re++}}setTimeout(()=>fe(null,null,function*(){yield z()}),500)}catch(me){}finally{d(!1)}}),U=P=>fe(null,null,function*(){if(confirm(`Are you sure you want to delete "${P.file_name}"?`))try{yield R({doctype:"File",name:P.name}),yield z()}catch(ne){console.error("Error deleting file:",ne),As.error("Failed to delete file")}}),W=()=>fe(null,null,function*(){if(!j.trim()){As.error("Please enter a URL");return}try{new URL(j)}catch(P){As.error("Please enter a valid URL");return}k(!0);try{if(!(yield fetch("/api/method/frappe.client.insert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doc:{doctype:"File",file_name:_.trim()||j,file_url:j,attached_to_doctype:e,attached_to_name:t,is_private:0}}),credentials:"include"})).ok)throw new Error("Failed to attach link");v(""),T(""),y(!1),yield z(),As.success("Link attached successfully")}catch(P){console.error("Error attaching link:",P),As.error("Failed to attach link")}finally{k(!1)}}),K=P=>fe(null,null,function*(){const ne=P.target.files;ne&&ne.length>0&&(yield G(ne)),P.target.value=""}),$=P=>{p(P),f(!0)},ee=P=>{var ge;const ne=(ge=P.split(".").pop())==null?void 0:ge.toLowerCase();return["jpg","jpeg","png","gif","webp","svg"].includes(ne||"")},se=P=>{const ne=P.file_url.startsWith("http://")||P.file_url.startsWith("https://"),ge=P.file_size===0,X=P.file_name.startsWith("http://")||P.file_name.startsWith("https://"),re=!P.file_name.includes(".")||P.file_name.split(".").length<2;return ne&&(ge||X||re)},Ne=P=>i&&(P.owner===E||E==="Administrator");return a.jsxs("div",{className:`bg-white border border-gray-200 rounded-xl p-6 ${o}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Hh,{className:"h-5 w-5"}),s,C&&a.jsx("span",{className:"inline-flex px-2 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:C.length})]}),n&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Qe,{size:"sm",onClick:()=>{var P;return(P=S.current)==null?void 0:P.click()},disabled:c,className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx(Z_,{className:"h-4 w-4 mr-1"}),c?"Uploading...":"Upload Files"]}),a.jsxs(Qe,{size:"sm",variant:"outline",onClick:()=>y(!0),disabled:c||A,className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:[a.jsx(Hd,{className:"h-4 w-4 mr-1"}),"Attach Link"]}),a.jsx("input",{ref:S,type:"file",multiple:!0,accept:"*/*",onChange:K,className:"hidden",style:{display:"none"}})]})]}),L&&a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Loading attachments..."})]}),!L&&a.jsx(a.Fragment,{children:C&&C.length>0?a.jsx("div",{className:"space-y-3",children:C.map(P=>a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"flex-shrink-0",children:V(P)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:P.file_name}),a.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:I(P.file_size)}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded by ",P.owner]}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date(P.creation).toLocaleDateString()}),P.is_private===1&&a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded",children:"Private"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[ee(P.file_name)&&!se(P)&&a.jsxs(Qe,{size:"sm",variant:"outline",onClick:()=>$(P),className:"text-xs",children:[a.jsx(Kx,{className:"h-3 w-3 mr-1"}),"Preview"]}),a.jsx(Qe,{size:"sm",variant:"outline",onClick:()=>window.open(P.file_url,"_blank"),className:"text-xs",children:se(P)?a.jsxs(a.Fragment,{children:[a.jsx(K0,{className:"h-3 w-3 mr-1"}),"Open Link"]}):a.jsxs(a.Fragment,{children:[a.jsx(dc,{className:"h-3 w-3 mr-1"}),"Download"]})}),Ne(P)&&a.jsxs(Qe,{size:"sm",variant:"outline",onClick:()=>U(P),className:"text-xs text-red-600 hover:text-red-700",children:[a.jsx(eo,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]},P.name))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Hh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No files attached"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:n?"Upload files to attach them to this project":"No files have been attached to this project"})]})}),a.jsx(fn,{open:b,onOpenChange:y,children:a.jsxs(mn,{className:"max-w-md",children:[a.jsx(gn,{children:a.jsxs(pn,{className:"flex items-center gap-2",children:[a.jsx(Hd,{className:"h-5 w-5"}),"Attach Link"]})}),a.jsxs("div",{className:"space-y-4 pt-4",children:[a.jsxs("div",{children:[a.jsx(Ie,{htmlFor:"link-url",className:"text-sm font-medium",children:"URL *"}),a.jsx(Pt,{id:"link-url",type:"url",placeholder:"https://example.com",value:j,onChange:P=>v(P.target.value),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(Ie,{htmlFor:"link-title",className:"text-sm font-medium",children:"Title (optional)"}),a.jsx(Pt,{id:"link-title",type:"text",placeholder:"Enter a descriptive title",value:_,onChange:P=>T(P.target.value),className:"mt-1"})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(Qe,{onClick:W,disabled:!j.trim()||A,className:"flex-1",children:A?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Attaching..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Hd,{className:"h-4 w-4 mr-2"}),"Attach Link"]})}),a.jsx(Qe,{variant:"outline",onClick:()=>{y(!1),v(""),T("")},disabled:A,children:"Cancel"})]})]})]})}),h&&g&&a.jsx(fn,{open:h,onOpenChange:f,children:a.jsxs(mn,{className:"max-w-4xl max-h-[80vh] overflow-hidden",children:[a.jsx(gn,{children:a.jsx(pn,{className:"flex items-center justify-between",children:a.jsx("span",{children:g.file_name})})}),a.jsx("div",{className:"flex items-center justify-center p-4",children:ee(g.file_name)?a.jsx("img",{src:g.file_url,alt:g.file_name,className:"max-w-full max-h-[60vh] object-contain"}):a.jsxs("div",{className:"text-center",children:[a.jsx(Hh,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Preview not available for this file type"}),a.jsxs(Qe,{className:"mt-4",onClick:()=>window.open(g.file_url,"_blank"),children:[a.jsx(dc,{className:"h-4 w-4 mr-2"}),"Download File"]})]})})]})})]})}const TU=({isOpen:e,onClose:t,projectName:s,onSuccess:n})=>{const[i,o]=N.useState({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),{createDoc:c,loading:d,error:h}=Qi(),{assignPhase:f}=gS(),{data:g,isLoading:p}=Qo(s),b=(v,_)=>{o(T=>ie(F({},T),{[v]:_}))},y=v=>fe(null,null,function*(){if(v.preventDefault(),!!i.subject.trim())try{const _=i,{assign_to:T}=_,A=$e(_,["assign_to"]),k=yield c("project_phase",{project:s,subject:A.subject,start_date:A.start_date||null,end_date:A.end_date||null,priority:A.priority,details:A.details||null,costing:A.costing||0,status:"Open",progress:0});T&&k&&(yield f(k.name,T)),o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),n&&n(),t()}catch(T){console.error("Failed to create project phase:",T)}}),j=()=>{o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),t()};return a.jsx(fn,{open:e,onOpenChange:j,children:a.jsxs(mn,{className:"sm:max-w-[500px]",children:[a.jsxs(gn,{children:[a.jsx(pn,{children:"Create New Project Phase"}),a.jsxs(Tc,{children:['Add a new phase to organize tasks and milestones for "',s,'".']})]}),a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"subject",children:"Phase Name *"}),a.jsx(Pt,{id:"subject",value:i.subject,onChange:v=>b("subject",v.target.value),placeholder:"e.g., Planning, Development, Testing",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:i.priority,onChange:v=>b("priority",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"start_date",children:"Start Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{id:"start_date",type:"date",value:i.start_date,onChange:v=>b("start_date",v.target.value)}),a.jsx(Os,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"end_date",children:"End Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{id:"end_date",type:"date",value:i.end_date,onChange:v=>b("end_date",v.target.value),min:i.start_date||void 0}),a.jsx(Os,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"costing",children:"Estimated Cost"}),a.jsx(Pt,{id:"costing",type:"number",value:i.costing,onChange:v=>b("costing",parseFloat(v.target.value)||0),placeholder:"0",min:"0",step:"0.01"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"assign_to",children:"Assign To"}),a.jsxs("select",{id:"assign_to",value:i.assign_to,onChange:v=>b("assign_to",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:p,children:[a.jsx("option",{value:"",children:"Select user..."}),g==null?void 0:g.map(v=>a.jsx("option",{value:v.user||v.name,children:v.user||v.name},v.name))]}),p&&a.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"details",children:"Description"}),a.jsx("textarea",{id:"details",value:i.details,onChange:v=>b("details",v.target.value),placeholder:"Phase description, objectives, and key deliverables...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]}),h&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:a.jsx("p",{className:"text-sm text-red-600",children:h.message||"Failed to create project phase. Please try again."})}),a.jsxs(An,{children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:j,disabled:d,children:"Cancel"}),a.jsxs(Qe,{type:"submit",disabled:d||!i.subject.trim(),className:"flex items-center gap-2",children:[d&&a.jsx(Q0,{className:"h-4 w-4 animate-spin"}),"Create Phase"]})]})]})]})})},SU=({isOpen:e,onClose:t,projectName:s,onSuccess:n})=>{const[i,o]=N.useState({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),[c,d]=N.useState({}),[h,f]=N.useState(!1),{createDoc:g,loading:p}=Qi(),{currentUser:b}=on(),{data:y,isLoading:j}=Qo(s),{data:v}=Tt("Project",s),_=(S,E)=>{o(C=>ie(F({},C),{[S]:E})),c[S]&&d(C=>ie(F({},C),{[S]:""}))},T=()=>{const S={};return i.subject.trim()||(S.subject="Task subject is required"),d(S),Object.keys(S).length===0},A=S=>fe(null,null,function*(){if(S.preventDefault(),!h&&T()){if(i.exp_start_date&&i.exp_end_date){const E=new Date(i.exp_start_date);if(new Date(i.exp_end_date)<E){Gt.error("End date cannot be earlier than start date");return}}if(i.exp_end_date&&(v!=null&&v.expected_end_date)){const E=new Date(i.exp_end_date),C=new Date(v.expected_end_date);if(E>C){Gt.error(`Task end date cannot be after project end date (${v.expected_end_date})`);return}}f(!0);try{const E={subject:i.subject,description:i.description,priority:i.priority,status:i.status,type:i.type,expected_time:Number(i.expected_time),task_weight:Number(i.task_weight),exp_start_date:i.exp_start_date||null,exp_end_date:i.exp_end_date||null,project:s,is_template:0,progress:0},C=yield g("Task",E);let z=null;if(i.assign_to&&C)try{z=yield g("ToDo",{allocated_to:i.assign_to,assigned_by:b||"",description:`Task: ${i.subject}`,reference_type:"Task",reference_name:C.name,status:"Open",priority:i.priority,date:new Date().toISOString().split("T")[0]}),console.log("ToDo created for assignment:",z)}catch(R){console.error("Error creating ToDo for assignment:",R),Gt.warning("Task created successfully, but assignment failed",{description:"The task was created but could not be assigned. You can assign it manually later."})}let L=`Task "${i.subject}" has been created successfully.`;z&&i.assign_to&&(L+=` Task has been assigned to ${i.assign_to}.`),Gt.success("Task created successfully",{description:L}),o({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),d({}),n==null||n(),t()}catch(E){console.error("Error creating standalone task:",E);let C="Failed to create task. Please try again.";E!=null&&E.message&&(E.message.includes("Expected End Date cannot be after Project")?C="Task end date cannot be after the project end date. Please choose an earlier date.":E.message.includes("InvalidDates")?C="Invalid date configuration. Please check your task dates.":C=E.message),Gt.error("Failed to create task",{description:C}),d({submit:C})}finally{f(!1)}}}),k=()=>{o({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),d({}),t()};return a.jsx(fn,{open:e,onOpenChange:k,children:a.jsxs(mn,{className:"sm:max-w-[600px]",children:[a.jsxs(gn,{children:[a.jsxs(pn,{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:"📝"}),"Create Standalone Task"]}),a.jsxs(Tc,{children:["Create a new standalone task for project: ",a.jsx("strong",{children:s}),a.jsx("br",{}),a.jsx("span",{className:"text-gray-600",children:"💡 Assigning to a user will automatically create a ToDo item for them"})]})]}),a.jsxs("form",{onSubmit:A,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"subject",children:"Task Subject *"}),a.jsx(Pt,{id:"subject",value:i.subject,onChange:S=>_("subject",S.target.value),placeholder:"Enter task subject...",className:c.subject?"border-red-500":""}),c.subject&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:c.subject})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",value:i.description,onChange:S=>_("description",S.target.value),placeholder:"Enter task description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:i.priority,onChange:S=>_("priority",S.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:i.status,onChange:S=>_("status",S.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Pending Review",children:"Pending Review"}),a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"assign_to",children:"Assign To"}),a.jsxs("select",{id:"assign_to",value:i.assign_to,onChange:S=>_("assign_to",S.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",disabled:j,children:[a.jsx("option",{value:"",children:"Select user to assign (Optional)"}),y==null?void 0:y.map(S=>a.jsxs("option",{value:S.user||S.name,children:[S.full_name||S.name,S.email&&` (${S.email})`]},S.user||S.name))]}),j&&a.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"expected_time",children:"Expected Time (hours)"}),a.jsx(Pt,{id:"expected_time",type:"number",min:"0",step:"0.5",value:i.expected_time,onChange:S=>_("expected_time",Number(S.target.value)),placeholder:"0"})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"task_weight",children:"Task Weight"}),a.jsx(Pt,{id:"task_weight",type:"number",min:"1",value:i.task_weight,onChange:S=>_("task_weight",Number(S.target.value)),placeholder:"1"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"exp_start_date",children:"Expected Start Date"}),a.jsx(Pt,{id:"exp_start_date",type:"date",value:i.exp_start_date,onChange:S=>_("exp_start_date",S.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"exp_end_date",children:"Expected End Date"}),a.jsx(Pt,{id:"exp_end_date",type:"date",value:i.exp_end_date,onChange:S=>_("exp_end_date",S.target.value),max:(v==null?void 0:v.expected_end_date)||void 0}),(v==null?void 0:v.expected_end_date)&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",v.expected_end_date]})]})]})]}),c.submit&&a.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:c.submit}),a.jsxs(An,{children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:k,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:p||h,children:p||h?"Creating...":"Create Task"})]})]})]})})},kU=(e,t)=>{const s=n=>fe(null,null,function*(){try{console.log(`Task ${n} changed, updating affected phase progress...`);const i=yield fetch(`/api/resource/Task/${n}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(i.ok&&(yield i.json()).data.project===e){console.log(`Task ${n} belongs to current project ${e}, finding affected phases...`);const d=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name"],filters:[["project","=",e]]})});if(d.ok){const f=(yield d.json()).message||[];for(const g of f)try{const p=yield fetch(`/api/resource/project_phase/${g.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(p.ok){const y=(yield p.json()).data;y.tasks&&y.tasks.some(j=>j.task===n)&&(console.log(`Updating progress for phase ${g.name} containing task ${n}`),yield jL(g.name),t&&t())}}catch(p){console.error(`Error updating progress for phase ${g.name}:`,p)}}}}catch(i){console.error("Error in triggerPhaseProgressUpdate:",i)}});return N.useEffect(()=>{const n=i=>{if(i.key==="task_progress_updated"&&i.newValue){const o=i.newValue;console.log(`Received task progress update signal for: ${o}`),s(o),localStorage.removeItem("task_progress_updated")}};return window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}},[e,t]),{triggerPhaseProgressUpdate:s}},CU=({projectName:e,onViewPhaseDetails:t,onViewTaskDetails:s,onViewSubTaskDetails:n})=>{const[i,o]=N.useState(new Set),[c,d]=N.useState(new Set),[h,f]=N.useState(!1),[g,p]=N.useState(!1),[b,y]=N.useState([]),[j,v]=N.useState({visible:!1,text:"",x:0,y:0}),{data:_,isLoading:T,mutate:A}=ft("project_phase",{fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e]],orderBy:{field:"start_date",order:"asc"},limit:0});kU(e,()=>{A()}),N.useEffect(()=>{_&&_.length>0?fe(null,null,function*(){const ze=[];for(const Fe of _)try{const Q=yield fetch(`/api/resource/project_phase/${Fe.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(Q.ok){const le=yield Q.json();ze.push(le.data)}else console.warn("Failed to fetch phase:",Fe.name),ze.push(Fe)}catch(Q){console.error("Error fetching phase:",Fe.name,Q),ze.push(Fe)}y(ze)}):y([])},[_==null?void 0:_.length,_==null?void 0:_.map(De=>De.name).join(",")]);const{data:k,isLoading:S,mutate:E}=ft("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",e]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),C=(k==null?void 0:k.map(De=>De.name))||[],{data:z,isLoading:L,mutate:R}=ft("ToDo",{fields:["name","allocated_to","reference_name","reference_type"],filters:[["reference_type","=","Task"],["reference_name","in",C.length>0?C:["dummy-non-existent-task"]]],limit:0}),V=Array.from(new Set(z==null?void 0:z.map(De=>De.allocated_to).filter(Boolean)))||[],{data:I,isLoading:G}=ft("User",{fields:["name","full_name","email"],filters:V.length>0?[["name","in",V]]:[["name","=","dummy-non-existent-user"]],limit:0}),{data:U,isLoading:W,mutate:K}=ft("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:C.length>0?[["task","in",C]]:[["task","=","dummy-non-existent-task"]],orderBy:{field:"start_date",order:"asc"},limit:0}),$=(U==null?void 0:U.map(De=>De.name))||[],{data:ee,isLoading:se,mutate:Ne}=ft("ToDo",{fields:["name","allocated_to","reference_name","reference_type"],filters:[["reference_type","=","SubTask"],["reference_name","in",$.length>0?$:["dummy-non-existent-subtask"]]],limit:0}),P=Array.from(new Set(ee==null?void 0:ee.map(De=>De.allocated_to).filter(Boolean)))||[],{data:ne,isLoading:ge}=ft("User",{fields:["name","full_name","email"],filters:P.length>0?[["name","in",P]]:[["name","=","dummy-non-existent-user"]],limit:0}),X=(De,ze)=>{const Fe=ze.currentTarget.getBoundingClientRect();v({visible:!0,text:De,x:Fe.left,y:Fe.top-35})},re=()=>{v({visible:!1,text:"",x:0,y:0})},_e=De=>{const ze=z==null?void 0:z.find(Q=>Q.reference_name===De);if(!(ze!=null&&ze.allocated_to))return null;const Fe=I==null?void 0:I.find(Q=>Q.name===ze.allocated_to);return(Fe==null?void 0:Fe.full_name)||ze.allocated_to},me=De=>{const ze=ee==null?void 0:ee.find(Q=>Q.reference_name===De);if(!(ze!=null&&ze.allocated_to))return null;const Fe=ne==null?void 0:ne.find(Q=>Q.name===ze.allocated_to);return(Fe==null?void 0:Fe.full_name)||ze.allocated_to},Pe=De=>{const ze=new Set(i);ze.has(De)?ze.delete(De):ze.add(De),o(ze)},we=De=>{const ze=new Set(c);ze.has(De)?ze.delete(De):ze.add(De),d(ze)};N.useEffect(()=>{const De=()=>{document.hidden||(A(),E(),K(),R(),Ne())};return document.addEventListener("visibilitychange",De),()=>{document.removeEventListener("visibilitychange",De)}},[A,E,K,R,Ne]);const Ce=De=>null,Z=De=>{switch(De){case"Completed":return"bg-green-100 text-green-800";case"Working":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},Re=De=>{switch(De){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},He=(De,ze,Fe,Q=!1,le=!1,q)=>{let Te="0.75rem";Fe==="phase-task"||Fe==="task"&&ze===1?Te="2rem":Fe==="subtask"&&(Te="3.5rem");const Le=Fe==="phase"||Fe==="task"&&Q||Fe==="phase-task"&&Q,Me=De.subject||De.name,Ve=De.status||"Open",Ge=De.progress||0,st=Ke=>{Ke.preventDefault(),Ke.stopPropagation(),q&&q()},wt=Ke=>{Ke.preventDefault(),Ke.stopPropagation(),Fe==="phase"&&t?t(De):(Fe==="task"||Fe==="phase-task")&&s?s(De):Fe==="subtask"&&n&&n(De)},ke=Ke=>{Ke.preventDefault(),Ke.stopPropagation(),Q&&q&&q()},Ue=Ke=>{Ke.preventDefault(),Ke.stopPropagation(),wt(Ke)};let Ze="hover:bg-gray-50",Ot="";return Fe==="phase"||Fe==="task"?(Ze="bg-white hover:bg-gray-50",Ot=""):Fe==="phase-task"?(Ze="bg-green-50/20 hover:bg-green-50",Ot="border-l-2 border-l-green-200"):Fe==="subtask"&&(Ze="bg-yellow-50/20 hover:bg-yellow-50",Ot="border-l-2 border-l-yellow-200"),a.jsx("div",{className:`${Ze} ${Ot} transition-colors`,children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 py-3 px-6 border-b border-gray-100 items-center cursor-pointer",onClick:ke,onDoubleClick:Ue,children:[a.jsxs("div",{className:"col-span-4 flex items-center",style:{paddingLeft:Te},children:[Le&&a.jsx("button",{className:"mr-2 p-1 hover:bg-gray-100 rounded transition-colors flex-shrink-0",onClick:st,type:"button","aria-label":le?"Collapse":"Expand",children:le?a.jsx(Gx,{className:"h-4 w-4 text-gray-600"}):a.jsx(BM,{className:"h-4 w-4 text-gray-600"})}),!Le&&a.jsx("div",{className:"mr-2 p-1 flex-shrink-0 w-6 h-6"}),Ce(),a.jsxs("div",{className:"ml-1 flex-1 min-w-0",children:[a.jsx("div",{className:`font-medium truncate ${Fe==="phase"?"text-blue-900 text-lg":Fe==="task"?"text-orange-900":Fe==="phase-task"?"text-green-900":"text-gray-700"}`,onMouseEnter:Ke=>X(Me,Ke),onMouseLeave:re,title:Me.length>30?Me:void 0,children:Me}),De.description&&Fe==="subtask"&&a.jsx("p",{className:"text-sm text-gray-500 mt-1 truncate",onMouseEnter:Ke=>X(De.description,Ke),onMouseLeave:re,title:De.description.length>50?De.description:void 0,children:De.description}),De.details&&Fe==="phase"&&a.jsx("p",{className:"text-sm text-gray-600 mt-1 truncate",onMouseEnter:Ke=>X(De.details,Ke),onMouseLeave:re,title:De.details.length>50?De.details:void 0,children:De.details})]})]}),a.jsx("div",{className:"col-span-2 text-center",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Z(Ve)}`,children:Ve})}),a.jsx("div",{className:"col-span-2 text-center",children:De.priority&&a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Re(De.priority)}`,children:De.priority})}),a.jsxs("div",{className:"col-span-2 text-center",children:[(Fe==="task"||Fe==="phase-task")&&(()=>{const Ke=_e(De.name);return Ke?a.jsx("span",{className:"text-sm text-gray-700 truncate inline-block max-w-full",title:Ke.length>15?Ke:void 0,onMouseEnter:zt=>Ke.length>15&&X(Ke,zt),onMouseLeave:re,children:Ke.length>15?`${Ke.substring(0,15)}...`:Ke}):a.jsx("span",{className:"text-xs text-gray-400",children:"Unassigned"})})(),Fe==="subtask"&&(()=>{const Ke=me(De.name);return Ke?a.jsx("span",{className:"text-sm text-gray-700 truncate inline-block max-w-full",title:Ke.length>15?Ke:void 0,onMouseEnter:zt=>Ke.length>15&&X(Ke,zt),onMouseLeave:re,children:Ke.length>15?`${Ke.substring(0,15)}...`:Ke}):a.jsx("span",{className:"text-xs text-gray-400",children:"Unassigned"})})(),Fe==="phase"&&a.jsx("span",{className:"text-xs text-gray-400",children:"-"})]}),a.jsx("div",{className:"col-span-1 flex items-center justify-start space-x-2",children:Fe!=="subtask"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`${Fe==="phase"?"w-16":"w-12"} bg-gray-200 rounded-full h-2`,children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Ge}%`}})}),a.jsxs("span",{className:"text-sm text-gray-600 w-10 text-left flex-shrink-0",children:[Ge,"%"]})]})}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx(Qe,{size:"sm",variant:"outline",onClick:Ke=>{Ke.stopPropagation(),wt(Ke)},className:"text-xs px-2 py-1 h-6",children:"View Details"})})]})},`${Fe}-${De.name}`)};if(T||S||W||L||se||G||ge)return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),a.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),a.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"})]});const Ye=b.length>0?b:_||[],tt=k||[],gt=U||[],Dt=De=>gt.filter(ze=>ze.task===De);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Tasks & Phases"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Qe,{size:"sm",variant:"outline",className:"flex items-center gap-2",onClick:()=>p(!0),children:[a.jsx($i,{className:"h-4 w-4"}),"Add Task"]}),a.jsxs(Qe,{size:"sm",className:"flex items-center gap-2",onClick:()=>f(!0),children:[a.jsx($i,{className:"h-4 w-4"}),"Add Phase"]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 grid grid-cols-12 gap-4 text-sm font-medium text-gray-700",children:[a.jsx("div",{className:"col-span-4",children:"Task / Phase"}),a.jsx("div",{className:"col-span-2 text-center",children:"Status"}),a.jsx("div",{className:"col-span-2 text-center",children:"Priority"}),a.jsx("div",{className:"col-span-2 text-center",children:"Assign to"}),a.jsx("div",{className:"col-span-1 text-left",children:"Progress"}),a.jsx("div",{className:"col-span-1 text-center",children:"Actions"})]}),a.jsxs("div",{className:"divide-y divide-gray-100",children:[Ye.map(De=>{const ze=i.has(De.name),Fe=De.tasks||[];return a.jsxs("div",{children:[He(De,0,"phase",Fe.length>0,ze,()=>{Pe(De.name)}),ze&&Fe.map((Q,le)=>{const q=tt.find(Ve=>Ve.name===Q.task),Te=Dt(Q.task),Le=Te.length>0,Me=c.has(Q.task);if(!q){const Ve={name:Q.task,subject:Q.task,status:"Open"};return a.jsxs("div",{children:[He(Ve,1,"phase-task",Le,Me,Le?()=>{we(Q.task)}:void 0),Me&&Le&&Te.map((Ge,st)=>a.jsx("div",{children:He(Ge,2,"subtask",!1,!1)},`subtask-${st}`))]},`phase-task-${le}`)}return a.jsxs("div",{children:[He(q,1,"phase-task",Le,Me,Le?()=>{we(q.name)}:void 0),Me&&Le&&Te.map((Ve,Ge)=>a.jsx("div",{children:He(Ve,2,"subtask",!1,!1)},`subtask-${Ge}`))]},`phase-task-${le}`)})]},De.name)}),Ye.length>0&&tt.filter(De=>!Ye.some(Fe=>{var Q;return(Q=Fe.tasks)==null?void 0:Q.some(le=>le.task===De.name)})).length>0&&a.jsx("div",{className:"bg-gray-100 px-6 py-2 border-b border-gray-200",children:a.jsxs("div",{className:"text-sm font-medium text-gray-600 flex items-center",children:[a.jsx("span",{className:"mr-2",children:"📝"}),"Standalone Tasks"]})}),tt.filter(De=>!Ye.some(Fe=>{var Q;return(Q=Fe.tasks)==null?void 0:Q.some(le=>le.task===De.name)})).map(De=>{const ze=c.has(De.name),Fe=Dt(De.name),Q=Fe.length>0;return a.jsxs("div",{children:[He(De,1,"task",Q,ze,Q?()=>{we(De.name)}:void 0),ze&&Q&&Fe.map((le,q)=>a.jsx("div",{children:He(le,2,"subtask",!1,!1)},`standalone-subtask-${q}`))]},De.name)})]})]}),Ye.length===0&&tt.length===0&&a.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📋"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No phases or tasks yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Start organizing your project by creating phases and tasks."}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx(Qe,{onClick:()=>f(!0),children:"Create First Phase"}),a.jsx(Qe,{variant:"outline",onClick:()=>p(!0),children:"Create Task"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Ye.length}),a.jsx("div",{className:"text-sm text-blue-600",children:"Total Phases"})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:tt.length}),a.jsx("div",{className:"text-sm text-green-600",children:"Total Tasks"})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:gt.length}),a.jsx("div",{className:"text-sm text-purple-600",children:"Total Subtasks"})]})]}),a.jsx(TU,{isOpen:h,onClose:()=>f(!1),projectName:e,onSuccess:()=>{A()}}),a.jsx(SU,{isOpen:g,onClose:()=>p(!1),projectName:e,onSuccess:()=>{E()}}),j.visible&&a.jsxs("div",{className:"fixed z-50 bg-gray-900 text-white text-sm px-4 py-2 rounded-lg shadow-xl pointer-events-none border border-gray-700",style:{left:j.x,top:j.y,transform:"translateY(-100%)",maxWidth:"400px",minWidth:"200px",wordWrap:"break-word"},children:[a.jsx("div",{className:"font-medium leading-relaxed",children:j.text}),a.jsx("div",{className:"absolute top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900",style:{left:"20px"}})]})]})},EU=({isOpen:e,onClose:t,projectName:s,phaseId:n,onSuccess:i})=>{const[o,c]=N.useState({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),[d,h]=N.useState({}),[f,g]=N.useState(!1),{createTaskWithPhase:p,isLoading:b}=yL(),{data:y,isLoading:j}=Qo(s),{data:v}=Tt("Project",s),_=(S,E)=>{c(C=>ie(F({},C),{[S]:E})),d[S]&&h(C=>ie(F({},C),{[S]:""}))},T=()=>{const S={};return o.subject.trim()||(S.subject="Task subject is required"),h(S),Object.keys(S).length===0},A=S=>fe(null,null,function*(){if(S.preventDefault(),!f&&T()){if(o.exp_start_date&&o.exp_end_date){const E=new Date(o.exp_start_date);if(new Date(o.exp_end_date)<E){Gt.error("End date cannot be earlier than start date");return}}if(o.exp_end_date&&(v!=null&&v.expected_end_date)){const E=new Date(o.exp_end_date),C=new Date(v.expected_end_date);if(E>C){Gt.error(`Task end date cannot be after project end date (${v.expected_end_date})`);return}}g(!0);try{const E=ie(F({},o),{project:s,expected_time:Number(o.expected_time),task_weight:Number(o.task_weight),exp_start_date:o.exp_start_date||void 0,exp_end_date:o.exp_end_date||void 0,phaseId:n,assign_to:o.assign_to||void 0});console.log("Creating task with data:",E),console.log("Date fields:",{exp_start_date:o.exp_start_date,exp_end_date:o.exp_end_date});const C=yield p(E);console.log("Task with phase created:",C);let z=`Task "${o.subject}" has been created successfully.`;C.todo&&o.assign_to&&(console.log("Task assigned and ToDo created for:",o.assign_to),z+=` Task has been assigned to ${o.assign_to}.`),Gt.success("Task created successfully",{description:z}),c({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),h({}),i&&i(),t()}catch(E){console.error("Error creating task:",E);let C="Failed to create task. Please try again.";E!=null&&E.message&&(E.message.includes("Expected End Date cannot be after Project")?C="Task end date cannot be after the project end date. Please choose an earlier date.":E.message.includes("InvalidDates")?C="Invalid date configuration. Please check your task dates.":C=E.message),E!=null&&E.exception&&typeof E.exception=="string"&&E.exception.includes("Expected End Date cannot be after Project")&&(C="Task end date cannot be after the project end date. Please choose an earlier date."),Gt.error("Failed to create task",{description:C}),h({submit:C})}finally{g(!1)}}}),k=()=>{c({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),h({}),t()};return a.jsx(fn,{open:e,onOpenChange:k,children:a.jsxs(mn,{className:"sm:max-w-[600px]",children:[a.jsxs(gn,{children:[a.jsxs(pn,{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:"📝"}),"Create New Task"]}),a.jsxs(Tc,{children:["Create a new task for project: ",a.jsx("strong",{children:s}),n&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("span",{className:"text-blue-600",children:"🔗 This task will be linked to the current phase"})]}),a.jsx("br",{}),a.jsx("span",{className:"text-gray-600",children:"💡 Assigning to a user will automatically create a ToDo item for them"})]})]}),a.jsxs("form",{onSubmit:A,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"subject",children:"Task Subject *"}),a.jsx(Pt,{id:"subject",value:o.subject,onChange:S=>_("subject",S.target.value),placeholder:"Enter task subject...",className:d.subject?"border-red-500":""}),d.subject&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",value:o.description,onChange:S=>_("description",S.target.value),placeholder:"Enter task description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:o.priority,onChange:S=>_("priority",S.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:o.status,onChange:S=>_("status",S.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Pending Review",children:"Pending Review"}),a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"assign_to",children:"Assign To"}),a.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:S=>_("assign_to",S.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",disabled:j,children:[a.jsx("option",{value:"",children:"Select user to assign (Optional)"}),y==null?void 0:y.map(S=>a.jsxs("option",{value:S.user||S.name,children:[S.full_name||S.name,S.email&&` (${S.email})`]},S.user||S.name))]}),j&&a.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!j&&y&&y.length>10&&a.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"expected_time",children:"Expected Time (hours)"}),a.jsx(Pt,{id:"expected_time",type:"number",min:"0",step:"0.5",value:o.expected_time,onChange:S=>_("expected_time",Number(S.target.value)),placeholder:"0"})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"task_weight",children:"Task Weight"}),a.jsx(Pt,{id:"task_weight",type:"number",min:"1",value:o.task_weight,onChange:S=>_("task_weight",Number(S.target.value)),placeholder:"1"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"exp_start_date",children:"Expected Start Date"}),a.jsx(Pt,{id:"exp_start_date",type:"date",value:o.exp_start_date,onChange:S=>_("exp_start_date",S.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"exp_end_date",children:"Expected End Date"}),a.jsx(Pt,{id:"exp_end_date",type:"date",value:o.exp_end_date,onChange:S=>_("exp_end_date",S.target.value),max:(v==null?void 0:v.expected_end_date)||void 0}),(v==null?void 0:v.expected_end_date)&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",v.expected_end_date]})]})]})]}),d.submit&&a.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),a.jsxs(An,{children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:k,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:b||f,children:b||f?"Creating...":"Create Task"})]})]})]})})},DU=({phase:e,projectName:t,isOpen:s,onClose:n,onSuccess:i})=>{var z;const{updatePhase:o,isLoading:c,error:d}=bL(),{assignPhase:h,unassignPhase:f}=gS(),{currentUser:g}=on(),{data:p,isLoading:b}=Qo(t),{data:y}=Tt("Project",t||"",t?"Project":void 0),j=(y==null?void 0:y.users)||[],{data:v}=ft("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","project_phase"],["reference_name","=",(e==null?void 0:e.name)||""]]}),_=()=>{if(g==="Administrator"||(y==null?void 0:y.owner)===g)return!0;const L=j.find(R=>R.user===g);return(L==null?void 0:L.project_status)==="Project Manager (Owner Substitute)"},[T,A]=N.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,details:"",costing:0,assign_to:""}),k=((z=v==null?void 0:v[0])==null?void 0:z.allocated_to)||"";N.useEffect(()=>{e&&A({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:k})},[e,k]);const S=(L,R)=>{A(V=>ie(F({},V),{[L]:R}))},E=L=>fe(null,null,function*(){if(L.preventDefault(),!!e){if(T.status==="Completed"&&!_()){Gt.error("Permission denied",{description:"You don't have permission to mark this phase as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}try{const R=T,{assign_to:V}=R,I=$e(R,["assign_to"]);yield o(e.name,I);const G=k,U=V;if(G&&G!==U){const W=v==null?void 0:v.find(K=>K.allocated_to===G);W&&(yield f(W.name))}U&&U!==G&&(yield h(e.name,U)),Gt.success("Phase updated successfully",{description:`Phase "${T.subject}" has been updated.`}),i&&i(),n()}catch(V){console.error("Error updating phase:",V),Gt.error("Failed to update phase",{description:V instanceof Error?V.message:"An unexpected error occurred."})}}}),C=()=>{e&&A({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:k}),n()};return a.jsx(fn,{open:s,onOpenChange:n,children:a.jsxs(mn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[a.jsx(gn,{children:a.jsx(pn,{children:"Edit Phase"})}),a.jsxs("form",{onSubmit:E,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"subject",children:"Subject *"}),a.jsx(Pt,{id:"subject",value:T.subject,onChange:L=>S("subject",L.target.value),required:!0,placeholder:"Enter phase subject"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:T.status,onChange:L=>S("status",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Pending Review",children:"Pending Review"}),_()&&a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),!_()&&a.jsx("span",{className:"text-xs text-amber-600",children:"You don't have permission to mark Completed"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:T.priority,onChange:L=>S("priority",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"start_date",children:"Start Date"}),a.jsx(Pt,{id:"start_date",type:"date",value:T.start_date,onChange:L=>S("start_date",L.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"end_date",children:"End Date"}),a.jsx(Pt,{id:"end_date",type:"date",value:T.end_date,onChange:L=>S("end_date",L.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"progress",children:"Progress (%)"}),a.jsx(Pt,{id:"progress",type:"number",min:"0",max:"100",value:T.progress,onChange:L=>S("progress",parseInt(L.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"costing",children:"Costing"}),a.jsx(Pt,{id:"costing",type:"number",min:"0",step:"0.01",value:T.costing,onChange:L=>S("costing",parseFloat(L.target.value)||0),placeholder:"0.00"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"details",children:"Details"}),a.jsx("textarea",{id:"details",value:T.details,onChange:L=>S("details",L.target.value),placeholder:"Enter phase details",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"assign_to",children:"Assign To"}),a.jsxs("select",{id:"assign_to",value:T.assign_to,onChange:L=>S("assign_to",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,children:[a.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(L=>a.jsx("option",{value:L.user||L.name,children:L.user||L.name},L.name))]}),b&&a.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update phase"]})}),a.jsxs(An,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:C,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:c,children:c?"Updating...":"Update Phase"})]})]})]})})},AU=({phase:e,isOpen:t,onClose:s,onSuccess:n})=>{const{call:i,loading:o,error:c}=Is("frappe.client.delete"),d=()=>fe(null,null,function*(){if(e)try{yield i({doctype:"project_phase",name:e.name}),n&&n(),s()}catch(f){console.error("Error deleting phase:",f)}}),h=()=>{s()};return a.jsx(fn,{open:t,onOpenChange:s,children:a.jsxs(mn,{className:"sm:max-w-[400px]",children:[a.jsx(gn,{children:a.jsxs(pn,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(xc,{className:"h-5 w-5"}),"Delete Phase"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this phase? This action cannot be undone."}),e&&a.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[a.jsxs("div",{className:"text-sm text-red-800",children:[a.jsx("strong",{children:"Warning:"})," Deleting this phase will also remove:"]}),a.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[a.jsx("li",{children:"All tasks associated with this phase"}),a.jsx("li",{children:"All phase progress data"}),a.jsx("li",{children:"Phase timeline and milestones"}),a.jsx("li",{children:"Related documents and attachments"})]})]}),c&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete phase"]})})]}),a.jsxs(An,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:h,children:"Cancel"}),a.jsx(Qe,{type:"button",variant:"destructive",onClick:d,disabled:o,children:o?"Deleting...":"Delete Phase"})]})]})})},OU=({phase:e,projectName:t,onBack:s,onViewTaskDetails:n,onPhaseUpdated:i,onPhaseDeleted:o,onTaskCreated:c})=>{var Pe;const[d,h]=N.useState(!1),[f,g]=N.useState(!1),[p,b]=N.useState(!1),[y,j]=N.useState(!1),[v,_]=N.useState(!1),{calculateAndUpdatePhaseProgress:T}=vS(),{data:A,mutate:k}=Tt("project_phase",e.name,"project_phase"),S=A||e,{data:E,isLoading:C,mutate:z}=ft("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",t]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),L=ye.useMemo(()=>{if(!E)return[];if(S.tasks&&S.tasks.length>0){const we=S.tasks.map(Ce=>Ce.task);return E.filter(Ce=>we.includes(Ce.name))}return[]},[E,S.tasks]),R=(L==null?void 0:L.map(we=>we.name))||[],{data:V}=ft("ToDo",{fields:["name","reference_type","reference_name","allocated_to","status"],filters:R.length>0?[["reference_type","=","Task"],["reference_name","in",R]]:[["name","=","dummy-non-existent-todo"]],limit:0}),I=Array.from(new Set(V==null?void 0:V.map(we=>we.allocated_to).filter(Boolean)))||[],{data:G}=ft("User",{fields:["name","full_name","email"],filters:I.length>0?[["name","in",I]]:[["name","=","dummy-non-existent-user"]],limit:0}),[U,W]=N.useState({visible:!1,text:"",x:0,y:0}),K=(we,Ce)=>{const Z=Ce.currentTarget.getBoundingClientRect();W({visible:!0,text:we,x:Z.left,y:Z.top-35})},$=()=>{W({visible:!1,text:"",x:0,y:0})},ee=we=>{const Ce=V==null?void 0:V.find(Re=>Re.reference_name===we);if(!(Ce!=null&&Ce.allocated_to))return null;const Z=G==null?void 0:G.find(Re=>Re.name===Ce.allocated_to);return(Z==null?void 0:Z.full_name)||Ce.allocated_to},se=ye.useMemo(()=>{if(!L||L.length===0)return 0;const we=L.reduce((Ce,Z)=>Ce+(Z.progress||0),0);return Math.round(we/L.length)},[L]);N.useEffect(()=>{L.length>0&&se!==(S.progress||0)&&Ne()},[se,L.length]);const Ne=()=>fe(null,null,function*(){j(!0);try{yield T(e.name),yield k(),i&&i()}catch(we){console.error("Error recalculating phase progress:",we)}finally{j(!1)}}),P=we=>we?new Date(we).toLocaleDateString():"N/A",ne=we=>we?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(we):"$0",ge=we=>{switch(we){case"Completed":return a.jsx(Xx,{className:"h-5 w-5 text-green-600"});case"Working":return a.jsx(Ui,{className:"h-5 w-5 text-yellow-600"});case"Open":return a.jsx(zi,{className:"h-5 w-5 text-blue-600"});default:return a.jsx(zi,{className:"h-5 w-5 text-gray-400"})}},X=we=>{switch(we){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},re=we=>{switch(we){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},_e=()=>fe(null,null,function*(){_(!0);try{yield k(),yield z(),i&&(yield i()),setTimeout(()=>fe(null,null,function*(){j(!0);try{yield T(S.name),setTimeout(()=>fe(null,null,function*(){yield k()}),500)}catch(we){console.error("Error recalculating phase progress:",we)}finally{j(!1)}}),500)}finally{_(!1)}}),me=()=>{o&&o(),s()};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Qe,{variant:"ghost",size:"sm",onClick:s,className:"flex items-center gap-2",children:[a.jsx(tu,{className:"h-4 w-4"}),"Back to Tasks"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>g(!0),disabled:v||y,className:"flex items-center gap-2",children:[a.jsx(fm,{className:`h-4 w-4 ${v?"animate-pulse":""}`}),v?"Updating...":"Edit Phase"]}),a.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[a.jsx(eo,{className:"h-4 w-4"}),"Delete Phase"]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500 flex items-center justify-center",children:a.jsx("span",{className:"text-xl",children:"📋"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:S.subject}),a.jsx("p",{className:"text-sm text-gray-600",children:"Phase Details"})]})]}),S.details&&a.jsx("p",{className:"text-gray-700 leading-relaxed",children:S.details})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${X(S.status||"Open")}`,children:[ge(S.status||"Open"),a.jsx("span",{className:"font-medium",children:S.status||"Open"})]}),S.priority&&a.jsx("div",{className:`px-3 py-1 rounded-full border ${re(S.priority)}`,children:a.jsx("span",{className:"text-sm font-medium",children:S.priority})})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phase Progress"}),L.length>0&&a.jsxs("span",{className:"text-xs text-gray-500",children:["(Auto-calculated from ",L.length," tasks)"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[se,"%"]}),a.jsx(Qe,{variant:"ghost",size:"sm",onClick:Ne,disabled:y,className:"h-8 w-8 p-0",title:"Recalculate progress from tasks",children:a.jsx(E5,{className:`h-4 w-4 ${y?"animate-spin":""}`})})]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${se}%`}})}),L.length>0&&a.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Task progress: ",L.map(we=>`${we.subject}: ${we.progress||0}%`).join(", ")]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(Os,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:P(S.start_date)})]})]})}),a.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(Zx,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:P(S.end_date)})]})]})}),a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(Hi,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Estimated Cost"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:ne(S.costing)})]})]})})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Phase Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Phase ID"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:S.name})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${X(S.status||"Open")}`,children:[ge(S.status||"Open"),a.jsx("span",{className:"font-medium",children:S.status||"Open"})]})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),a.jsx("div",{className:`px-3 py-1 rounded-full ${re(S.priority||"Medium")}`,children:a.jsx("span",{className:"font-medium",children:S.priority||"Medium"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Tasks Count"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:((Pe=S.tasks)==null?void 0:Pe.length)||0})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:S.start_date&&S.end_date?`${Math.ceil((new Date(S.end_date).getTime()-new Date(S.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[se,"%"]}),L.length>0&&a.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",L.length," tasks)"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Estimated Cost"}),a.jsx("span",{className:"text-xl font-bold text-green-600",children:ne(e.costing)})]})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Tasks in this Phase"})}),C?a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),a.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),a.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[a.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),a.jsx("div",{className:"col-span-3 text-sm font-medium text-gray-700",children:"Task"}),a.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Progress"}),a.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Assign to"}),a.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),a.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700 text-center",children:"Priority"}),a.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),a.jsxs("div",{className:"divide-y divide-gray-100",children:[L&&L.length>0?L.map((we,Ce)=>a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"col-span-1 flex items-center",children:a.jsx("span",{className:"text-sm text-gray-600",children:Ce+1})}),a.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[a.jsx("div",{className:"p-1 bg-orange-100 rounded",children:a.jsx("span",{className:"text-sm",children:"📝"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:we.subject||we.name}),a.jsx("div",{className:"text-sm text-gray-500",children:we.name})]})]}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${we.progress||0}%`}})}),a.jsxs("span",{className:"text-sm font-medium text-gray-700 min-w-[30px]",children:[we.progress||0,"%"]})]})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:(()=>{const Z=ee(we.name);return Z?a.jsx("span",{className:"text-sm text-gray-700 truncate inline-block max-w-full",title:Z.length>15?Z:void 0,onMouseEnter:Re=>Z.length>15&&K(Z,Re),onMouseLeave:$,children:Z.length>15?`${Z.substring(0,15)}...`:Z}):a.jsx("span",{className:"text-xs text-gray-400",children:"Unassigned"})})()}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${X(we.status||"Open")}`,children:we.status||"Open"})}),a.jsx("div",{className:"col-span-1 flex items-center justify-center",children:we.priority&&a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${re(we.priority)}`,children:we.priority})}),a.jsx("div",{className:"col-span-1 flex items-center justify-center",children:n&&a.jsx(Qe,{variant:"outline",size:"sm",onClick:()=>n(we),className:"h-7 px-2 text-xs",children:"View"})})]},we.name)):a.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-2",children:"📝"}),a.jsx("div",{className:"text-lg font-medium mb-1",children:"No tasks yet"}),a.jsx("div",{className:"text-sm",children:'Click "Add Task" to create the first task for this phase'})]}),a.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:a.jsx("div",{className:"col-span-12 flex items-center justify-center",children:a.jsxs(Qe,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>h(!0),children:[a.jsx($i,{className:"h-4 w-4"}),"Add new task to this phase"]})})})]})]})]}),a.jsx(Bm,{doctype:"project_phase",docname:e.name,title:"Phase Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),a.jsx(EU,{isOpen:d,onClose:()=>h(!1),projectName:t,phaseId:e.name,onSuccess:()=>fe(null,null,function*(){yield k(),c&&(yield c()),setTimeout(()=>fe(null,null,function*(){yield z(),setTimeout(()=>fe(null,null,function*(){yield Ne()}),500)}),500)})}),a.jsx(DU,{phase:e,projectName:t,isOpen:f,onClose:()=>g(!1),onSuccess:_e}),a.jsx(AU,{phase:e,isOpen:p,onClose:()=>b(!1),onSuccess:me}),U.visible&&a.jsxs("div",{className:"fixed z-50 bg-gray-900 text-white text-sm px-4 py-2 rounded-lg shadow-xl pointer-events-none border border-gray-700",style:{left:U.x,top:U.y,transform:"translateY(-100%)",maxWidth:"400px",minWidth:"200px",wordWrap:"break-word"},children:[a.jsx("div",{className:"font-medium leading-relaxed",children:U.text}),a.jsx("div",{className:"absolute top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900",style:{left:"20px"}})]})]})},MU=({isOpen:e,onClose:t,projectName:s,parentTask:n,onSuccess:i})=>{const[o,c]=N.useState({subject:"",description:"",priority:"Medium",status:"Open",task:n||"",assign_to:""}),[d,h]=N.useState({}),{createDoc:f,loading:g}=Qi(),{assignSubTask:p}=fy(),{calculateAndUpdateTaskProgress:b}=wu(),{data:y,isLoading:j}=Qo(s),v=(k,S)=>{c(E=>ie(F({},E),{[k]:S})),d[k]&&h(E=>ie(F({},E),{[k]:""}))},_=()=>{const k={};return o.subject.trim()||(k.subject="SubTask subject is required"),o.task.trim()||(k.task="Parent task is required"),h(k),Object.keys(k).length===0},T=k=>fe(null,null,function*(){if(k.preventDefault(),!!_())try{const S=o,{assign_to:E}=S,C=$e(S,["assign_to"]),z=yield f("SubTask",ie(F({},C),{project:s}));if(E&&z&&(yield p(z.name,E)),n)try{yield b(n)}catch(L){console.error("Error updating task progress after subtask creation:",L)}c({subject:"",description:"",priority:"Medium",status:"Open",task:n||"",assign_to:""}),h({}),i&&i(),t()}catch(E){console.error("Error creating subtask:",E),h({submit:"Failed to create subtask. Please try again."})}}),A=()=>{c({subject:"",description:"",priority:"Medium",status:"Open",task:n||"",assign_to:""}),h({}),t()};return a.jsx(fn,{open:e,onOpenChange:A,children:a.jsxs(mn,{className:"sm:max-w-[600px]",children:[a.jsxs(gn,{children:[a.jsxs(pn,{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:"📌"}),"Create New SubTask"]}),a.jsxs(Tc,{children:["Create a new subtask for project: ",a.jsx("strong",{children:s}),n&&a.jsxs("span",{className:"block mt-1",children:["Parent Task: ",a.jsx("strong",{children:n})]})]})]}),a.jsxs("form",{onSubmit:T,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"subject",children:"SubTask Subject *"}),a.jsx(Pt,{id:"subject",value:o.subject,onChange:k=>v("subject",k.target.value),placeholder:"Enter subtask subject...",className:d.subject?"border-red-500":""}),d.subject&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"task",children:"Parent Task *"}),a.jsx(Pt,{id:"task",value:o.task,onChange:k=>v("task",k.target.value),placeholder:"Enter parent task ID...",className:d.task?"border-red-500":""}),d.task&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.task}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the Task ID that this subtask belongs to"})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",value:o.description,onChange:k=>v("description",k.target.value),placeholder:"Enter subtask description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"assign_to",children:"Assign To"}),a.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:k=>v("assign_to",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:j,children:[a.jsx("option",{value:"",children:"Select user..."}),y==null?void 0:y.map(k=>a.jsx("option",{value:k.user||k.name,children:k.user||k.name},k.name))]}),j&&a.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:o.priority,onChange:k=>v("priority",k.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Ie,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:o.status,onChange:k=>v("status",k.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]}),d.submit&&a.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),a.jsxs(An,{children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:A,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:g,children:g?"Creating...":"Create SubTask"})]})]})]})})},RU=({task:e,projectName:t,isOpen:s,onClose:n,onSuccess:i})=>{const{updateTask:o,isLoading:c,error:d}=hS(),{assignTask:h,unassignTask:f}=fS(),{updateTaskProgress:g}=yS(),{updateTaskProgressByStatus:p}=xS(),{currentUser:b}=on(),{data:y,isLoading:j}=Qo(t),{data:v}=Tt("Project",t),_=(v==null?void 0:v.users)||[],{data:T}=ft("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","Task"],["reference_name","=",(e==null?void 0:e.name)||""]]}),{data:A}=ft("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.name)||""]],limit:1}),k=()=>{if(b==="Administrator"||(v==null?void 0:v.owner)===b)return!0;const I=_.find(G=>G.user===b);return(I==null?void 0:I.project_status)==="Project Manager (Owner Substitute)"},[S,E]=N.useState({subject:"",status:"Open",priority:"Medium",exp_start_date:"",exp_end_date:"",progress:0,description:"",assign_to:""}),[C,z]=N.useState(!1);N.useEffect(()=>{var I;if(e){const G=((I=T==null?void 0:T[0])==null?void 0:I.allocated_to)||"";E({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:G})}},[e,T]),N.useEffect(()=>{z(!!(A&&A.length>0))},[A]);const L=(I,G)=>{E(U=>ie(F({},U),{[I]:G}))},R=I=>fe(null,null,function*(){var G,U,W;if(I.preventDefault(),!!e){if(S.status==="Completed"&&!k()){Gt.error("Permission denied",{description:"You don't have permission to mark this task as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}if(S.exp_start_date&&S.exp_end_date){const K=new Date(S.exp_start_date);if(new Date(S.exp_end_date)<K){Gt.error("End date cannot be earlier than start date");return}}if(S.exp_end_date&&(v!=null&&v.expected_end_date)){const K=new Date(S.exp_end_date),$=new Date(v.expected_end_date);if(K>$){Gt.error(`Task end date cannot be after project end date (${v.expected_end_date})`);return}}try{const K=S.progress!==(e.progress||0),$=S.status!==e.status;C&&K?yield g(e.name,S.progress):$&&(S.status==="Completed"||S.status==="Cancelled")?yield p(e.name,S.status):yield o(e.name,S);const ee=((G=T==null?void 0:T[0])==null?void 0:G.allocated_to)||"",se=S.assign_to;if(ee!==se){if(ee&&(T!=null&&T[0]))try{yield f(T[0].name)}catch(Ne){console.error("Error deleting old ToDo:",Ne)}if(se)try{yield h(e.name,S.subject,se,S.priority)}catch(Ne){console.error("Error creating new ToDo:",Ne)}}Gt.success("Task updated successfully",{description:`Task "${S.subject}" has been updated.`}),i&&i(),n()}catch(K){console.error("Error updating task:",K);let $="Failed to update task";(U=K==null?void 0:K.message)!=null&&U.includes("modified")?$="The task has been modified by someone else. Please close and reopen the task to get the latest version.":(W=K==null?void 0:K.message)!=null&&W.includes("permission")?$="You do not have permission to update this task.":K!=null&&K.message&&($=K.message),Gt.error("Failed to update task",{description:$})}}}),V=()=>{var I;if(e){const G=((I=T==null?void 0:T[0])==null?void 0:I.allocated_to)||"";E({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:G})}n()};return a.jsx(fn,{open:s,onOpenChange:n,children:a.jsxs(mn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[a.jsx(gn,{children:a.jsx(pn,{children:"Edit Task"})}),a.jsxs("form",{onSubmit:R,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"subject",children:"Subject *"}),a.jsx(Pt,{id:"subject",value:S.subject,onChange:I=>L("subject",I.target.value),required:!0,placeholder:"Enter task subject"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:S.status,onChange:I=>L("status",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Pending Review",children:"Pending Review"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Template",children:"Template"}),k()&&a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),!k()&&a.jsx("span",{className:"text-xs text-amber-600",children:"You don't have permission to mark Completed"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:S.priority,onChange:I=>L("priority",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"assign_to",children:"Assign To"}),a.jsxs("select",{id:"assign_to",value:S.assign_to,onChange:I=>L("assign_to",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:j,children:[a.jsx("option",{value:"",children:"Select user to assign (Optional)"}),y==null?void 0:y.map(I=>a.jsxs("option",{value:I.user||I.name,children:[I.full_name||I.name,I.email&&` (${I.email})`]},I.user||I.name))]}),j&&a.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!j&&y&&y.length>10&&a.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"}),T&&T.length>0&&a.jsx("p",{className:"text-sm text-blue-600",children:"💡 Changing assignment will update the ToDo automatically"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"exp_start_date",children:"Expected Start Date"}),a.jsx(Pt,{id:"exp_start_date",type:"date",value:S.exp_start_date,onChange:I=>L("exp_start_date",I.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"exp_end_date",children:"Expected End Date"}),a.jsx(Pt,{id:"exp_end_date",type:"date",value:S.exp_end_date,onChange:I=>L("exp_end_date",I.target.value),max:(v==null?void 0:v.expected_end_date)||void 0}),(v==null?void 0:v.expected_end_date)&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",v.expected_end_date]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"progress",children:"Progress (%)"}),a.jsx(Pt,{id:"progress",type:"number",min:"0",max:"100",value:S.progress,onChange:I=>L("progress",parseInt(I.target.value)||0),placeholder:"0",disabled:C}),C?a.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[a.jsx("strong",{children:"🔄 Smart Progress Mode:"}),a.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[a.jsx("li",{children:"Progress is automatically calculated from subtasks"}),a.jsx("li",{children:"Only assignee can manually override progress"}),a.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):a.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[a.jsx("strong",{children:"✏️ Manual Progress Mode:"}),a.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",value:S.description,onChange:I=>L("description",I.target.value),placeholder:"Enter task description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),d&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update task"]})}),a.jsxs(An,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:V,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:c,children:c?"Updating...":"Update Task"})]})]})]})})},PU=({task:e,isOpen:t,onClose:s,onSuccess:n})=>{const{deleteDoc:i,loading:o,error:c}=lm(),[d,h]=N.useState(!1),f=()=>fe(null,null,function*(){var p,b;if(e){h(!0);try{const y=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name"],filters:[["task","=",e.name]]})});if(y.ok){const v=(yield y.json()).message||[];if(v.length>0)for(const _ of v)yield i("SubTask",_.name)}try{const j=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e.project]],orderBy:{field:"start_date",order:"asc"}})});if(j.ok){const _=(yield j.json()).message||[],T=[];for(const A of _)try{const k=yield fetch(`/api/resource/project_phase/${A.name}`,{headers:{Accept:"application/json"}});if(k.ok){const S=yield k.json(),E=((p=S.data)==null?void 0:p.tasks)||[],C=E.findIndex(z=>z.task===e.name);C>=0&&(console.log(`Found task ${e.name} in phase ${A.name}, will remove from child table...`),E.splice(C,1),T.push({name:A.name,data:ie(F({},S.data),{tasks:E})}))}else console.warn("Failed to fetch phase:",A.name)}catch(k){console.error("Error fetching phase:",A.name,k)}for(const A of T)try{(yield fetch(`/api/resource/project_phase/${A.name}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(A.data)})).ok?console.log(`Successfully removed task ${e.name} from phase ${A.name}`):console.warn(`Failed to update phase ${A.name} after removing task`)}catch(k){console.error(`Error updating phase ${A.name}:`,k)}}else console.warn("Failed to fetch phases list, proceeding with task deletion...")}catch(j){console.warn("Error checking phases for task references:",j)}yield i("Task",e.name),console.log(`Successfully deleted task ${e.name}`),n&&n(),s()}catch(y){console.error("Error deleting task:",y),(b=y==null?void 0:y.exception)!=null&&b.includes("LinkExistsError")?y.exception.includes("project_phase")||y.exception.includes("phase")?alert("Cannot delete task because it is still linked with project phases. The system tried to remove phase task links automatically but failed. Please contact administrator."):y.exception.includes("SubTask")?alert("Cannot delete task because it has linked subtasks. Please delete all subtasks first."):alert("Cannot delete task because it has linked dependencies. Please check related records."):alert("Error deleting task. Please try again.")}finally{h(!1)}}}),g=()=>{s()};return a.jsx(fn,{open:t,onOpenChange:s,children:a.jsxs(mn,{className:"sm:max-w-[400px]",children:[a.jsx(gn,{children:a.jsxs(pn,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(xc,{className:"h-5 w-5"}),"Delete Task"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this task? This action cannot be undone."}),e&&a.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),e.project&&a.jsxs("div",{className:"text-sm text-blue-600",children:["Project: ",e.project]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[a.jsxs("div",{className:"text-sm text-red-800",children:[a.jsx("strong",{children:"⚠️ Warning:"})," Deleting this task will automatically:"]}),a.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Delete ALL subtasks first"})," (to resolve SubTask dependencies)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Remove task from ALL phase child tables"})," (for any phases this task is assigned to)"]}),a.jsx("li",{children:"Remove all task progress data"}),a.jsx("li",{children:"Delete task timeline and activities"}),a.jsx("li",{children:"Remove related comments and attachments"})]}),a.jsx("div",{className:"text-xs text-red-600 mt-2 font-medium",children:"💡 The system will automatically search and handle ALL dependencies to prevent LinkExistsError."})]}),c&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete task"]})})]}),a.jsxs(An,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:g,disabled:d,children:"Cancel"}),a.jsx(Qe,{type:"button",variant:"destructive",onClick:f,disabled:d||o,children:d?"Deleting Task & SubTasks...":o?"Deleting...":"Delete Task"})]})]})})},gC=()=>{const{calculateAndUpdatePhaseProgress:e}=vS(),{calculateAndUpdateProjectProgress:t}=NL();return{updatePhaseProgressForTask:(i,o)=>fe(null,null,function*(){try{const c=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","tasks"],filters:[["project","=",o]]})});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const h=(yield c.json()).message||[],f=[];for(const g of h)try{const p=yield fetch(`/api/resource/project_phase/${g.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(p.ok){const b=yield p.json();b.data.tasks&&b.data.tasks.some(y=>y.task===i)&&f.push(g)}}catch(p){console.warn("Error fetching phase document:",g.name,p)}console.log(`Found ${f.length} phases affected by task ${i}`);for(const g of f)console.log(`Updating progress for phase ${g.name} after task ${i} change`),yield e(g.name);return console.log(`Updating overall project progress for ${o} after task ${i} change`),yield t(o),console.log(`Updated progress for ${f.length} phases and project ${o} affected by task ${i}`),f}catch(c){return console.error("Error updating phase progress for task:",c),[]}}),updateProjectProgress:i=>fe(null,null,function*(){try{console.log(`Updating overall project progress for ${i}`);const o=yield t(i);return o&&console.log(`Project ${i} progress updated to ${o.progress}% from ${o.source} (${o.count} items)`),o}catch(o){return console.error("Error updating project progress:",o),null}})}},LU=({task:e,projectName:t,onBack:s,onViewSubTaskDetails:n,onTaskUpdated:i,onTaskDeleted:o})=>{const[c,d]=N.useState(!1),[h,f]=N.useState(!1),[g,p]=N.useState(!1),{updatePhaseProgressForTask:b}=gC(),{calculateAndUpdateTaskProgress:y}=wu(),{data:j,isLoading:v,mutate:_}=ft("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:[["task","=",e.name]],orderBy:{field:"start_date",order:"asc"},limit:0}),{data:T}=ft("ToDo",{fields:["name","allocated_to","status"],filters:[["reference_type","=","Task"],["reference_name","=",e.name]],limit:1}),A=T&&T.length>0?T[0].allocated_to:null,{data:k}=Tt("User",A||void 0,{fields:["name","full_name","email","user_image"]}),S=I=>I?new Date(I).toLocaleDateString():"N/A",E=I=>{switch(I){case"Completed":return a.jsx(Xx,{className:"h-5 w-5 text-green-600"});case"Working":return a.jsx(Ui,{className:"h-5 w-5 text-yellow-600"});case"Open":return a.jsx(zi,{className:"h-5 w-5 text-blue-600"});default:return a.jsx(zi,{className:"h-5 w-5 text-gray-400"})}},C=I=>{switch(I){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},z=I=>{switch(I){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},L=()=>{i&&i(),b(e.name,t).catch(console.error)},R=()=>{o&&o(),b(e.name,t).catch(console.error),s()},V=({subtask:I})=>{var W;const{data:G}=ft("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(I==null?void 0:I.name)||""]]}),U=(W=G==null?void 0:G[0])==null?void 0:W.allocated_to;return a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{children:U})})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Qe,{variant:"ghost",size:"sm",onClick:s,className:"flex items-center gap-2",children:[a.jsx(tu,{className:"h-4 w-4"}),"Back to Tasks"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>f(!0),className:"flex items-center gap-2",children:[a.jsx(fm,{className:"h-4 w-4"}),"Edit Task"]}),a.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>p(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[a.jsx(eo,{className:"h-4 w-4"}),"Delete Task"]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-lg bg-orange-500 flex items-center justify-center",children:a.jsx("span",{className:"text-xl",children:"📝"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),a.jsx("p",{className:"text-sm text-gray-600",children:"Task Details"})]})]}),e.description&&a.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${C(e.status||"Open")}`,children:[E(e.status||"Open"),a.jsx("span",{className:"font-medium",children:e.status||"Open"})]}),e.priority&&a.jsx("div",{className:`px-3 py-1 rounded-full border ${z(e.priority)}`,children:a.jsx("span",{className:"text-sm font-medium",children:e.priority})})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Task Progress"}),a.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[e.progress||0,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${e.progress||0}%`}})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(Os,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:S(e.exp_start_date)})]})]})}),a.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(Zx,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:S(e.exp_end_date)})]})]})}),a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(nu,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Assigned To"}),T&&T.length>0?a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-bold text-gray-900",children:(k==null?void 0:k.full_name)||A}),(k==null?void 0:k.email)&&a.jsx("p",{className:"text-sm text-gray-600",children:k.email})]}):a.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Task Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Task ID"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${C(e.status||"Open")}`,children:[E(e.status||"Open"),a.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),a.jsx("div",{className:`px-3 py-1 rounded-full ${z(e.priority||"Medium")}`,children:a.jsx("span",{className:"font-medium",children:e.priority||"Medium"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Subtasks Count"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:(j==null?void 0:j.length)||0})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:e.exp_start_date&&e.exp_end_date?`${Math.ceil((new Date(e.exp_end_date).getTime()-new Date(e.exp_start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),a.jsxs("span",{className:"text-xl font-bold text-orange-600",children:[e.progress||0,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Assigned To"}),T&&T.length>0?a.jsx("div",{children:a.jsx("p",{className:"text-lg font-bold text-gray-900",children:(k==null?void 0:k.full_name)||A})}):a.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"SubTasks"})}),v?a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),a.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),a.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[a.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),a.jsx("div",{className:"col-span-5 text-sm font-medium text-gray-700",children:"SubTask"}),a.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),a.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Assign To"}),a.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),a.jsxs("div",{className:"divide-y divide-gray-100",children:[j&&j.length>0?j.map((I,G)=>a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"col-span-1 flex items-center",children:a.jsx("span",{className:"text-sm text-gray-600",children:G+1})}),a.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[a.jsx("div",{className:"p-1 bg-green-100 rounded",children:a.jsx("span",{className:"text-sm",children:"✅"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:I.subject||I.name}),a.jsx("div",{className:"text-sm text-gray-500",children:I.name})]})]}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${C(I.status||"Open")}`,children:I.status||"Open"})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx(V,{subtask:I})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:n&&a.jsx(Qe,{variant:"outline",size:"sm",onClick:()=>n(I),className:"h-7 px-2 text-xs",children:"View Details"})})]},I.name)):a.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-2",children:"✅"}),a.jsx("div",{className:"text-lg font-medium mb-1",children:"No subtasks yet"}),a.jsx("div",{className:"text-sm",children:'Click "Add SubTask" to create the first subtask for this task'})]}),a.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:a.jsx("div",{className:"col-span-12 flex items-center justify-center",children:a.jsxs(Qe,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>d(!0),children:[a.jsx($i,{className:"h-4 w-4"}),"Add new subtask to this task"]})})})]})]})]}),a.jsx(Bm,{doctype:"Task",docname:e.name,title:"Task Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),a.jsx(MU,{isOpen:c,onClose:()=>d(!1),projectName:t,parentTask:e.name,onSuccess:()=>fe(null,null,function*(){_(),setTimeout(()=>fe(null,null,function*(){yield y(e.name),setTimeout(()=>fe(null,null,function*(){yield b(e.name,t)}),500)}),500)})}),a.jsx(RU,{task:e,projectName:t,isOpen:h,onClose:()=>f(!1),onSuccess:L}),a.jsx(PU,{task:e,isOpen:g,onClose:()=>p(!1),onSuccess:R})]})},BU=({subtask:e,projectName:t,isOpen:s,onClose:n,onSuccess:i})=>{var S;const{updateSubTask:o,isLoading:c,error:d}=pS(),{assignSubTask:h,unassignSubTask:f}=fy(),{calculateAndUpdateTaskProgress:g}=wu(),{data:p,isLoading:b}=Qo(t),{data:y}=ft("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[j,v]=N.useState({subject:"",status:"Open",start_date:"",end_date:"",description:"",assign_to:""}),_=((S=y==null?void 0:y[0])==null?void 0:S.allocated_to)||"";N.useEffect(()=>{e&&v({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:_})},[e,_]);const T=(E,C)=>{v(z=>ie(F({},z),{[E]:C}))},A=E=>fe(null,null,function*(){if(E.preventDefault(),!!e)try{const C=j,{assign_to:z}=C,L=$e(C,["assign_to"]);yield o(e.name,L);const R=_,V=z;if(R&&R!==V){const I=y==null?void 0:y.find(G=>G.allocated_to===R);I&&(yield f(I.name))}V&&V!==R&&(yield h(e.name,V)),e.task&&L.status!==e.status&&(yield g(e.task)),i&&i(),n()}catch(z){console.error("Error updating subtask:",z)}}),k=()=>{e&&v({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:_}),n()};return a.jsx(fn,{open:s,onOpenChange:n,children:a.jsxs(mn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[a.jsx(gn,{children:a.jsx(pn,{children:"Edit SubTask"})}),a.jsxs("form",{onSubmit:A,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"subject",children:"Subject *"}),a.jsx(Pt,{id:"subject",value:j.subject,onChange:E=>T("subject",E.target.value),required:!0,placeholder:"Enter subtask subject"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:j.status,onChange:E=>T("status",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Completed",children:"Completed"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"start_date",children:"Start Date"}),a.jsx(Pt,{id:"start_date",type:"date",value:j.start_date,onChange:E=>T("start_date",E.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"end_date",children:"End Date"}),a.jsx(Pt,{id:"end_date",type:"date",value:j.end_date,onChange:E=>T("end_date",E.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",value:j.description,onChange:E=>T("description",E.target.value),placeholder:"Enter subtask description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"assign_to",children:"Assign To"}),a.jsxs("select",{id:"assign_to",value:j.assign_to,onChange:E=>T("assign_to",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,children:[a.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(E=>a.jsx("option",{value:E.user||E.name,children:E.user||E.name},E.name))]}),b&&a.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update subtask"]})}),a.jsxs(An,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:k,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:c,children:c?"Updating...":"Update SubTask"})]})]})]})})},FU=({subtask:e,isOpen:t,onClose:s,onSuccess:n})=>{const{call:i,loading:o,error:c}=Is("frappe.client.delete"),{calculateAndUpdateTaskProgress:d}=wu(),h=()=>fe(null,null,function*(){if(e)try{if(yield i({doctype:"SubTask",name:e.name}),e.task)try{yield d(e.task)}catch(g){console.error("Error updating task progress after subtask deletion:",g)}n&&n(),s()}catch(g){console.error("Error deleting subtask:",g)}}),f=()=>{s()};return a.jsx(fn,{open:t,onOpenChange:s,children:a.jsxs(mn,{className:"sm:max-w-[400px]",children:[a.jsx(gn,{children:a.jsxs(pn,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(xc,{className:"h-5 w-5"}),"Delete SubTask"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this subtask? This action cannot be undone."}),e&&a.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Task: ",e.task]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[a.jsxs("div",{className:"text-sm text-red-800",children:[a.jsx("strong",{children:"Warning:"})," Deleting this subtask will also remove:"]}),a.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[a.jsx("li",{children:"All subtask progress data"}),a.jsx("li",{children:"Subtask timeline and activities"}),a.jsx("li",{children:"Related comments and attachments"}),a.jsx("li",{children:"Any associated time logs"})]})]}),c&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete subtask"]})})]}),a.jsxs(An,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:f,children:"Cancel"}),a.jsx(Qe,{type:"button",variant:"destructive",onClick:h,disabled:o,children:o?"Deleting...":"Delete SubTask"})]})]})})},zU=({subtask:e,projectName:t,onBack:s,onSubTaskUpdated:n,onSubTaskDeleted:i})=>{var k;const[o,c]=N.useState(!1),[d,h]=N.useState(!1),{calculateAndUpdateTaskProgress:f}=wu(),{updatePhaseProgressForTask:g}=gC(),{data:p}=ft("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),b=(k=p==null?void 0:p[0])==null?void 0:k.allocated_to,{data:y}=Tt("User",b||"",{shouldFetch:!!b}),j=S=>S?new Date(S).toLocaleDateString():"N/A",v=S=>{switch(S){case"Completed":return a.jsx(Xx,{className:"h-5 w-5 text-green-600"});case"Working":return a.jsx(Ui,{className:"h-5 w-5 text-yellow-600"});case"Open":return a.jsx(zi,{className:"h-5 w-5 text-blue-600"});default:return a.jsx(zi,{className:"h-5 w-5 text-gray-400"})}},_=S=>{switch(S){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},T=()=>fe(null,null,function*(){if(e!=null&&e.task)try{yield f(e.task);try{console.log(`Updating phase progress for task ${e.task} in project ${t}`),yield g(e.task,t),console.log("Phase and project progress updated after subtask edit")}catch(S){console.error("Error updating phase progress after subtask edit:",S)}}catch(S){console.error("Error updating task progress after subtask edit:",S)}n&&n()}),A=()=>fe(null,null,function*(){if(e!=null&&e.task)try{yield f(e.task);try{console.log(`Updating phase progress for task ${e.task} in project ${t}`),yield g(e.task,t),console.log("Phase and project progress updated after subtask delete")}catch(S){console.error("Error updating phase progress after subtask delete:",S)}}catch(S){console.error("Error updating task progress after subtask delete:",S)}i&&i(),s()});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Qe,{variant:"ghost",size:"sm",onClick:s,className:"flex items-center gap-2",children:[a.jsx(tu,{className:"h-4 w-4"}),"Back to Tasks"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>c(!0),className:"flex items-center gap-2",children:[a.jsx(fm,{className:"h-4 w-4"}),"Edit SubTask"]}),a.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[a.jsx(eo,{className:"h-4 w-4"}),"Delete SubTask"]})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500 flex items-center justify-center",children:a.jsx("span",{className:"text-xl",children:"✅"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),a.jsx("p",{className:"text-sm text-gray-600",children:"SubTask Details"})]})]}),e.description&&a.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${_(e.status||"Open")}`,children:[v(e.status||"Open"),a.jsx("span",{className:"font-medium",children:e.status||"Open"})]})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(Os,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:j(e.start_date)})]})]})}),a.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(Zx,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:j(e.end_date)})]})]})}),a.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:a.jsx(Ds,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-orange-600 uppercase tracking-wide",children:"Parent Task"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.task||"N/A"})]})]})})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"SubTask Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"SubTask ID"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Parent Task"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:e.task||"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${_(e.status||"Open")}`,children:[v(e.status||"Open"),a.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:j(e.start_date)})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"End Date"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:j(e.end_date)})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:e.start_date&&e.end_date?`${Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-gray-100",children:[a.jsxs("span",{className:"text-gray-600 font-medium flex items-center gap-2",children:[a.jsx(nu,{className:"h-4 w-4"}),"Assigned To"]}),a.jsx("span",{className:"text-gray-900 font-semibold",children:b?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:(y==null?void 0:y.full_name)||b}),(y==null?void 0:y.user_image)&&a.jsx("img",{src:y.user_image,alt:y.full_name||b,className:"h-6 w-6 rounded-full"})]}):a.jsx("span",{className:"text-gray-400",children:"Not assigned"})})]})]})]})]}),e.description&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Description"}),a.jsx("div",{className:"prose max-w-none",children:a.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.description})})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Activity Timeline"}),a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-2",children:"📋"}),a.jsx("div",{className:"text-lg font-medium mb-1",children:"No activity yet"}),a.jsx("div",{className:"text-sm",children:"Activity and updates will appear here when available"})]})]}),a.jsx(Bm,{doctype:"SubTask",docname:e.name,title:"SubTask Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),a.jsx(BU,{subtask:e,projectName:t,isOpen:o,onClose:()=>c(!1),onSuccess:T}),a.jsx(FU,{subtask:e,isOpen:d,onClose:()=>h(!1),onSuccess:A})]})};function UU({doctype:e,value:t=[],onChange:s,placeholder:n="Select options...",className:i="w-[200px]",fields:o=["name"],filters:c=[],displayField:d="name",valueField:h="name",disabled:f=!1,limit:g=20,maxSelections:p}){const[b,y]=N.useState(!1),[j,v]=N.useState(""),_=N.useMemo(()=>{let V={};if(c.length>0&&c.forEach(G=>{if(Array.isArray(G)&&G.length>=3){const[U,W,K]=G;W==="="&&(V[U]=K)}}),j.trim()&&(V[d]=["like",`%${j}%`]),Object.keys(V).length===0&&j.trim())return[[d,"like",`%${j}%`]];const I=[];return Object.entries(V).forEach(([G,U])=>{Array.isArray(U)?I.push([G,U[0],U[1]]):I.push([G,"=",U])}),I.length>0?I:void 0},[j,c,d]),{data:T,isLoading:A,error:k}=ft(e,{fields:[...new Set([...o,d,h])],filters:_,limit:g,orderBy:{field:d,order:"asc"}}),S=N.useMemo(()=>!T||!Array.isArray(T)?[]:T.map(V=>({value:V[h],label:V[d]})),[T,d,h]),E=S.filter(V=>t.includes(V.value)),C=V=>{let I;if(t.includes(V))I=t.filter(G=>G!==V);else{if(p&&t.length>=p)return;I=[...t,V]}s(I)},z=V=>{const I=t.filter(G=>G!==V);s(I)},L=V=>{v(V)},R=N.useMemo(()=>E.length===0?n:E.length===1?E[0].label:`${E.length} selected`,[E,n]);return a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Nm,{open:b,onOpenChange:y,children:[a.jsx(_m,{asChild:!0,children:a.jsxs(Qe,{variant:"outline",role:"combobox","aria-expanded":b,className:Fs("justify-between",i),disabled:f,children:[a.jsx("span",{className:"truncate",children:R}),a.jsx(X_,{className:"opacity-50 ml-2 h-4 w-4 shrink-0"})]})}),a.jsx(Tm,{className:Fs("p-0",i),children:a.jsxs(rC,{shouldFilter:!1,children:[a.jsx(iC,{placeholder:`Search ${e.toLowerCase()}...`,className:"h-9",value:j,onValueChange:L}),a.jsxs(oC,{children:[A&&a.jsx(oc,{children:"Loading..."}),k&&a.jsx(oc,{children:"Error loading data."}),!A&&!k&&S.length===0&&a.jsxs(oc,{children:["No ",e.toLowerCase()," found."]}),!A&&!k&&S.length>0&&a.jsx(lC,{children:S.map(V=>{const I=t.includes(V.value),G=!!(p&&t.length>=p&&!I);return a.jsxs(cC,{value:V.value,onSelect:C,disabled:G,className:G?"opacity-50 cursor-not-allowed":"",children:[a.jsx(G_,{className:Fs("mr-2 h-4 w-4",I?"opacity-100":"opacity-0")}),V.label]},V.value)})})]})]})})]}),E.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1",children:E.map(V=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-md",children:[V.label,a.jsx("button",{type:"button",onClick:()=>z(V.value),disabled:f,className:"hover:bg-blue-200 rounded-full p-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(J_,{className:"h-3 w-3"})})]},V.value))}),p&&a.jsxs("div",{className:"text-xs text-gray-500",children:[t.length,"/",p," selected"]})]})}function pC({isOpen:e,onClose:t,projectName:s,onSuccess:n}){var g;const[i,o]=N.useState(!1),{call:c}=Is("todo.api.add_project_member"),d=Om();N.useEffect(()=>{e&&(d.reset(),d.clearErrors())},[e,d]);const h=()=>{i||(t(),d.reset(),d.clearErrors())},f=p=>fe(null,null,function*(){if(!s||!p.users||p.users.length===0||i)return;o(!0);let b=0,y=[],j=!1;try{for(const v of p.users)try{const _=yield c({project_name:s,user:v,view_attachments:p.view_attachments?1:0,hide_timesheets:p.hide_timesheets?1:0,project_status:p.project_status||"Team Member"});console.log(`Member ${v} added successfully:`,_),b++}catch(_){console.error(`Error adding member ${v}:`,_);const T=_ instanceof Error?_.message:String(_),A=JSON.stringify(_);T.includes("Email Account")||T.includes("OutgoingEmailError")||T.includes("email")||T.includes("SMTP")||A.includes("OutgoingEmailError")||A.includes("Email Account")?(console.log(`Email error detected for ${v}, member likely added successfully`),b++,j=!0):T.includes("DuplicateEntryError")||T.includes("already exists")?console.log(`User ${v} already exists in project`):y.push(v)}t(),setTimeout(()=>{d.reset(),d.clearErrors()},0),setTimeout(()=>{n()},1e3),b===p.users.length?alert(j?`All ${b} members added successfully! (Welcome emails could not be sent due to email configuration, but all members were added to the project)`:`All ${b} members added successfully!`):b>0?alert(`${b} out of ${p.users.length} members added successfully. ${y.length} failed: ${y.join(", ")}`):alert(`Failed to add members: ${y.join(", ")}`)}catch(v){console.error("Error in bulk add members:",v),alert("Failed to add members: "+(v instanceof Error?v.message:String(v)))}finally{o(!1)}});return a.jsx(fn,{open:e,onOpenChange:h,children:a.jsx(mn,{className:"sm:max-w-md",children:a.jsxs("form",{onSubmit:d.handleSubmit(f),onKeyDown:p=>{p.key==="Enter"&&p.target instanceof HTMLInputElement&&p.preventDefault()},children:[a.jsxs(gn,{children:[a.jsx(pn,{children:"Add Team Members"}),a.jsx(Tc,{children:"Add new members to the project team. You can select multiple users at once."})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsxs(Ie,{children:["Users ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(va,{name:"users",control:d.control,rules:{required:"Please select at least one user",validate:p=>(p==null?void 0:p.length)>0||"Please select at least one user"},render:({field:p})=>a.jsx(UU,{doctype:"User",value:p.value||[],onChange:b=>{console.log("MultiCombobox onChange:",b),p.onChange(b),(b==null?void 0:b.length)>0&&d.formState.errors.users&&d.clearErrors("users")},placeholder:i?"Please wait...":"Select users...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email","user_image"],className:"w-full",disabled:i},`add-members-${e?"open":"closed"}-${Date.now()}`)}),d.formState.errors.users&&a.jsx("span",{className:"text-red-500 text-sm",children:d.formState.errors.users.message})]}),a.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[a.jsx(Ie,{className:"text-sm font-medium",children:"Permissions"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",ie(F({type:"checkbox",id:"add_view_attachments"},d.register("view_attachments")),{defaultChecked:!0,disabled:i,className:"rounded border-gray-300"})),a.jsx(Ie,{htmlFor:"add_view_attachments",className:"text-sm",children:"Can view attachments"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",ie(F({type:"checkbox",id:"add_hide_timesheets"},d.register("hide_timesheets")),{disabled:i,className:"rounded border-gray-300"})),a.jsx(Ie,{htmlFor:"add_hide_timesheets",className:"text-sm",children:"Hide timesheets from this user"})]})]})]}),a.jsxs(An,{className:"gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:h,disabled:i,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:i||!((g=d.watch("users"))!=null&&g.length),className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Adding Members..."]}):"Add Members"})]})]})})})}function HU({project:e,projectUsers:t,loadingUsers:s,onRefreshUsers:n,onRemoveMember:i}){const[o,c]=N.useState(!1),[d,h]=N.useState(""),[f,g]=N.useState("all"),{data:p,error:b,isLoading:y}=Tt("User",e.owner),j=(t==null?void 0:t.filter(_=>{var k,S,E,C;const T=!d||((k=_.full_name)==null?void 0:k.toLowerCase().includes(d.toLowerCase()))||((S=_.email)==null?void 0:S.toLowerCase().includes(d.toLowerCase()))||((E=_.user)==null?void 0:E.toLowerCase().includes(d.toLowerCase())),A=f==="all"||((C=_.project_status)==null?void 0:C.toLowerCase())===f.toLowerCase();return T&&A}))||[],v=[...new Set(t==null?void 0:t.map(_=>_.project_status).filter(Boolean))];return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-all duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Total Members"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:((t==null?void 0:t.length)||0)+1}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Including owner"})]}),a.jsx("div",{className:"h-14 w-14 bg-slate-100 rounded-xl flex items-center justify-center",children:a.jsx(Cn,{className:"w-7 h-7 text-slate-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-all duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Project Owner"}),a.jsx("p",{className:" font-bold text-amber-600 mt-2",children:(p==null?void 0:p.full_name)||e.owner||"N/A"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Active"})]}),a.jsx("div",{className:"h-14 w-14 bg-amber-50 rounded-xl flex items-center justify-center",children:a.jsx(WM,{className:"w-7 h-7 text-amber-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-all duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Team Members"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:(t==null?void 0:t.length)||0}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Contributors"})]}),a.jsx("div",{className:"h-14 w-14 bg-slate-100 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-slate-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})})})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-all duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Progress"}),a.jsxs("p",{className:"text-3xl font-bold text-emerald-600 mt-2",children:[(e==null?void 0:e.percent_complete)||0,"%"]}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Complete"})]}),a.jsx("div",{className:"h-14 w-14 bg-emerald-50 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-emerald-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[a.jsx("div",{className:"px-8 py-6 border-b border-slate-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 bg-slate-100 rounded-lg flex items-center justify-center",children:a.jsx(Cn,{className:"h-6 w-6 text-slate-600"})}),"Team Members",a.jsxs("span",{className:"inline-flex px-3 py-1 text-sm font-medium bg-slate-100 text-slate-700 rounded-full border border-slate-200",children:[j.length," of ",(t==null?void 0:t.length)||0," members"]})]}),a.jsxs(Qe,{size:"lg",className:"bg-slate-800 hover:bg-slate-900",onClick:()=>c(!0),children:[a.jsx(N1,{className:"h-5 w-5 mr-2"}),"Add Members"]})]})}),a.jsx("div",{className:"px-8 py-4 border-b border-slate-200 bg-slate-50",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(Pt,{placeholder:"Search team members by name, email, or username...",value:d,onChange:_=>h(_.target.value),className:"pl-10 bg-white border-slate-300 focus:border-slate-500"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pc,{className:"h-4 w-4 text-slate-500"}),a.jsxs("select",{value:f,onChange:_=>g(_.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg bg-white text-sm focus:outline-none focus:border-slate-500",children:[a.jsx("option",{value:"all",children:"All Status"}),v.map(_=>a.jsx("option",{value:_,children:_},_))]})]}),d&&a.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[j.length," result",j.length!==1?"s":""]})]})}),a.jsx("div",{className:"p-8",children:s?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-slate-300 border-t-slate-600 mx-auto mb-4"}),a.jsx("p",{className:"text-lg font-medium text-slate-600",children:"Loading team members..."}),a.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Please wait while we fetch the team data"})]})}):j&&j.length>0?a.jsx("div",{className:"grid gap-4",children:j.map((_,T)=>a.jsxs("div",{className:"flex items-center justify-between p-6 bg-slate-50 border border-slate-200 rounded-xl hover:bg-slate-100 hover:border-slate-300 transition-all duration-200",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-14 w-14 rounded-xl bg-slate-100 flex items-center justify-center overflow-hidden shadow-sm border border-slate-200",children:_.image?a.jsx("img",{src:_.image,alt:_.full_name||_.user,className:"h-full w-full object-cover rounded-xl"}):a.jsx("span",{className:"text-lg font-semibold text-slate-600",children:(_.full_name||_.user||"U").charAt(0).toUpperCase()})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-1",children:_.full_name||_.user||"Unknown User"}),a.jsx("p",{className:"text-slate-600 mb-2",children:_.email||_.user||"No email"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-slate-100 text-slate-700 rounded-md border border-slate-200",children:"👥 Team Member"}),_.project_status&&a.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-emerald-100 text-emerald-700 rounded-md border border-emerald-200",children:["📊 ",_.project_status]}),_.view_attachments&&a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-slate-100 text-slate-700 rounded-md border border-slate-200",children:"📎 File Access"})]})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs(Qe,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50 border-red-300",onClick:()=>i(_.user),children:[a.jsx(eo,{className:"h-4 w-4 mr-2"}),"Remove"]})})]},_.user||T))}):d?a.jsx("div",{className:"text-center py-16",children:a.jsxs("div",{className:"max-w-sm mx-auto",children:[a.jsx("div",{className:"h-20 w-20 bg-slate-100 rounded-xl flex items-center justify-center mx-auto mb-6 border border-slate-200",children:a.jsx(Vi,{className:"h-10 w-10 text-slate-400"})}),a.jsx("h4",{className:"text-xl font-semibold text-slate-900 mb-3",children:"No members found"}),a.jsxs("p",{className:"text-slate-600 text-base mb-6",children:['No team members match your search criteria "',d,'"']}),a.jsx(Qe,{variant:"outline",onClick:()=>h(""),children:"Clear Search"})]})}):a.jsx("div",{className:"text-center py-16",children:a.jsxs("div",{className:"max-w-sm mx-auto",children:[a.jsx("div",{className:"h-20 w-20 bg-slate-100 rounded-xl flex items-center justify-center mx-auto mb-6 border border-slate-200",children:a.jsx(Cn,{className:"h-10 w-10 text-slate-400"})}),a.jsx("h4",{className:"text-xl font-semibold text-slate-900 mb-3",children:"No team members yet"}),a.jsx("p",{className:"text-slate-600 text-base mb-6",children:"Start building your team by adding members to collaborate on this project"}),a.jsxs(Qe,{size:"lg",className:"bg-slate-800 hover:bg-slate-900",onClick:()=>c(!0),children:[a.jsx(N1,{className:"h-5 w-5 mr-2"}),"Add First Member"]})]})})})]}),a.jsx(pC,{isOpen:o,onClose:()=>c(!1),projectName:e.name,onSuccess:()=>{n(),c(!1)}})]})}function $U({project:e,onBack:t}){const[s,n]=N.useState("overview"),[i,o]=N.useState(null),[c,d]=N.useState(null),[h,f]=N.useState(null),[g,p]=N.useState(!1),[b,y]=N.useState(!1),[j,v]=N.useState(!1),[_,T]=N.useState(!1);N.useEffect(()=>{b||(ne.reset(),ne.clearErrors())},[b]),N.useEffect(()=>{e!=null&&e.name&&(n("overview"),o(null),d(null),f(null),p(!1),y(!1),v(!1),T(!1))},[e==null?void 0:e.name]);const{data:A,isLoading:k,mutate:S}=Tt("Project",(e==null?void 0:e.name)||"",{revalidateIfStale:!0,revalidateOnFocus:!0,revalidateOnReconnect:!0}),{call:E}=Is("frappe.client.delete"),{call:C}=Is("todo.api.remove_project_member"),{data:z,error:L,isLoading:R}=Tt("User",(e==null?void 0:e.owner)||"",{revalidateIfStale:!0,revalidateOnFocus:!0,revalidateOnReconnect:!0}),{data:V,mutate:I}=Tt("SubTask",(h==null?void 0:h.name)||"",{revalidateIfStale:!0,revalidateOnFocus:!0,revalidateOnReconnect:!0}),{data:G,mutate:U}=Tt("Task",(c==null?void 0:c.name)||"",{revalidateIfStale:!0,revalidateOnFocus:!0,revalidateOnReconnect:!0}),{currentUser:W}=on(),K=(A==null?void 0:A.users)||(e==null?void 0:e.users)||[],$=k,ee=(A==null?void 0:A.percent_complete)||(e==null?void 0:e.percent_complete)||0,se=()=>fe(null,null,function*(){if(h!=null&&h.name)try{yield I()}catch(Z){console.error("Error refreshing subtask data:",Z)}}),Ne=()=>fe(null,null,function*(){if(c!=null&&c.name)try{yield U()}catch(Z){console.error("Error refreshing task data:",Z)}}),P=Z=>fe(null,null,function*(){(c==null?void 0:c.name)===Z&&(yield Ne())});N.useEffect(()=>{V&&(h==null?void 0:h.name)===V.name&&f(V)},[V,h==null?void 0:h.name]),N.useEffect(()=>{G&&(c==null?void 0:c.name)===G.name&&d(G)},[G,c==null?void 0:c.name]);const ne=Om();N.useEffect(()=>{e!=null&&e.name&&(ne.reset(),S&&S())},[e==null?void 0:e.name,ne,S]);const ge=Z=>fe(null,null,function*(){if(e!=null&&e.name&&confirm("Are you sure you want to remove this member from the project?"))try{const Re=yield C({project_name:e.name,user:Z});console.log("Member removed successfully:",Re),setTimeout(()=>S(),1e3),alert("Member removed successfully!")}catch(Re){console.error("Error removing member:",Re);const He=Re instanceof Error?Re.message:String(Re);if(He.includes("Email Account")||He.includes("OutgoingEmailError")||He.includes("email")||He.includes("SMTP"))console.log("Email error detected when removing member, checking if removal was successful"),setTimeout(()=>{S(),alert("Member removed successfully! (Email notification failed to send, but member was removed from project)")},1e3);else if(He.includes("PermissionError")||He.includes("Not permitted"))alert("You do not have permission to remove members from this project.");else if(He.includes("ValidationError"))alert("Cannot remove member: Validation error occurred.");else if(He.includes("LinkExistsError")||He.includes("Cannot delete"))alert("Cannot remove member: This user may have linked records (tasks, timesheets, etc.). Please remove or reassign those records first.");else if(He.includes("is not a member of this project"))alert("This user is not a member of the project."),setTimeout(()=>S(),500);else{console.log("Custom API failed, trying fallback method");try{const Ye=K.find(tt=>tt.user===Z);Ye!=null&&Ye.name?(yield E({doctype:"Project User",name:Ye.name}),setTimeout(()=>S(),1e3),alert("Member removed successfully! (Using fallback method)")):alert("User record not found.")}catch(Ye){console.error("Fallback method also failed:",Ye),alert(`Failed to remove member: ${He}`)}}}}),X=()=>(e==null?void 0:e.owner)===W||W==="Administrator",re=Z=>Z?new Date(Z).toLocaleDateString():"N/A",_e=()=>{v(!0)},me=()=>{T(!0)},Pe=()=>{S(),lc(Z=>typeof Z=="string"&&Z.includes("Project"),void 0,{revalidate:!0})},we=()=>{t()};if(!e)return null;const Ce=A||e;return a.jsxs("div",{className:"min-h-screen bg-slate-50",children:[a.jsx("div",{className:"bg-gradient-to-r from-slate-800 to-slate-900 text-white shadow-2xl",children:a.jsxs("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsx("div",{className:"h-20 w-20 rounded-xl bg-white/10 backdrop-blur-sm flex items-center justify-center shadow-lg border border-white/20",children:a.jsx("span",{className:"text-3xl font-bold text-white",children:Ce.project_name.charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:Ce.project_name}),a.jsx("span",{className:`px-4 py-2 text-sm font-semibold rounded-full ${Ce.status==="Open"?"bg-emerald-500/20 text-emerald-300 border border-emerald-400/30":Ce.status==="Completed"?"bg-blue-500/20 text-blue-300 border border-blue-400/30":"bg-red-500/20 text-red-300 border border-red-400/30"}`,children:Ce.status||"Open"})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-slate-300",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),re(Ce.expected_end_date)]}),Ce.project_type&&a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),Ce.project_type]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(Qe,{variant:"outline",size:"lg",onClick:_e,className:"bg-white/10 border-white/30 text-white hover:bg-white/20 backdrop-blur-sm",children:[a.jsx(fm,{className:"h-5 w-5 mr-2"}),"Edit Project"]}),a.jsxs(Qe,{variant:"outline",size:"lg",onClick:me,className:"bg-red-600/20 border-red-400/30 text-red-200 hover:bg-red-600/30 backdrop-blur-sm",children:[a.jsx(eo,{className:"h-5 w-5 mr-2"}),"Delete"]}),a.jsxs(Qe,{variant:"ghost",size:"lg",onClick:t,className:"text-white hover:bg-white/10 backdrop-blur-sm",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Projects"]})]})]}),a.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-300 text-sm font-medium",children:"Progress"}),a.jsxs("p",{className:"text-3xl font-bold text-white",children:[ee,"%"]})]}),a.jsx("div",{className:"h-12 w-12 rounded-full bg-white/20 flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]}),a.jsx("div",{className:"mt-3 w-full bg-white/20 rounded-full h-2",children:a.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-1000 ease-out",style:{width:`${ee}%`}})})]}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-300 text-sm font-medium",children:"Budget"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:Di(Ce.estimated_costing)})]}),a.jsx("div",{className:"h-12 w-12 rounded-full bg-emerald-500/30 flex items-center justify-center",children:a.jsx(Hi,{className:"w-6 h-6"})})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-300 text-sm font-medium",children:"Team Size"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:((K==null?void 0:K.length)||0)+1})]}),a.jsx("div",{className:"h-12 w-12 rounded-full bg-slate-500/30 flex items-center justify-center",children:a.jsx(Cn,{className:"w-6 h-6"})})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-300 text-sm font-medium",children:"Days Left"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:Ce.expected_end_date?Math.max(0,Math.ceil((new Date(Ce.expected_end_date).getTime()-new Date().getTime())/(1e3*3600*24))):"N/A"})]}),a.jsx("div",{className:"h-12 w-12 rounded-full bg-orange-500/30 flex items-center justify-center",children:a.jsx(Os,{className:"w-6 h-6"})})]})})]})]})}),a.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-40 shadow-sm",children:a.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"flex space-x-8 overflow-x-auto",children:[{id:"overview",label:"Overview",icon:"📊"},{id:"tasks",label:"Tasks & Phases",icon:"📋"},{id:"team",label:`Team (${((K==null?void 0:K.length)||0)+1})`,icon:"👥"},...i?[{id:"phase-details",label:`📋 ${i.subject}`,icon:"🔍"}]:[],...c?[{id:"task-details",label:`📝 ${c.subject||c.name}`,icon:"🔍"}]:[],...h?[{id:"subtask-details",label:`📌 ${h.subject||h.name}`,icon:"🔍"}]:[]].map(Z=>a.jsxs("button",{onClick:()=>n(Z.id),className:`py-4 px-6 text-sm font-medium border-b-2 transition-all duration-200 whitespace-nowrap flex items-center space-x-2 ${s===Z.id?"border-slate-600 text-slate-800 bg-slate-50":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 hover:bg-slate-50/50"}`,children:[a.jsx("span",{children:Z.icon}),a.jsx("span",{children:Z.label}),(Z.id==="phase-details"||Z.id==="task-details"||Z.id==="subtask-details")&&a.jsx("button",{onClick:Re=>{Re.stopPropagation(),Z.id==="phase-details"?(o(null),n("tasks")):Z.id==="task-details"?(d(null),n("tasks")):(f(null),n("tasks"))},className:"ml-2 p-1 rounded-full hover:bg-slate-200 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},Z.id))})})}),a.jsx("div",{className:"bg-slate-50 min-h-screen",children:a.jsxs("div",{className:" mx-auto py-8",children:[a.jsxs("div",{className:"space-y-8",children:[s==="overview"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-all duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Progress"}),a.jsxs("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:[ee,"%"]}),a.jsx("p",{className:"text-sm text-emerald-600 mt-1",children:"Project completion"})]}),a.jsx("div",{className:"h-14 w-14 bg-slate-100 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-slate-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-all duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Team Size"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:((K==null?void 0:K.length)||0)+1}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Including project owner"})]}),a.jsx("div",{className:"h-14 w-14 bg-slate-100 rounded-xl flex items-center justify-center",children:a.jsx(Cn,{className:"w-7 h-7 text-slate-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-all duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Budget"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-2",children:Di(Ce.estimated_costing)}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Estimated cost"})]}),a.jsx("div",{className:"h-14 w-14 bg-emerald-50 rounded-xl flex items-center justify-center",children:a.jsx(Hi,{className:"w-7 h-7 text-emerald-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-all duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Days Left"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:Ce.expected_end_date?Math.max(0,Math.ceil((new Date(Ce.expected_end_date).getTime()-new Date().getTime())/(1e3*3600*24))):"N/A"}),a.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Days remaining"})]}),a.jsx("div",{className:"h-14 w-14 bg-orange-50 rounded-xl flex items-center justify-center",children:a.jsx(Os,{className:"w-7 h-7 text-orange-600"})})]})})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[a.jsx("div",{className:"px-8 py-6 border-b border-slate-200",children:a.jsxs("h3",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 bg-slate-100 rounded-lg flex items-center justify-center",children:a.jsx(EM,{className:"h-6 w-6 text-slate-600"})}),"Project Information"]})}),a.jsxs("div",{className:"p-8 space-y-6",children:[Ce.description&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Description"}),a.jsx("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:a.jsx("p",{className:"text-slate-900 leading-relaxed",children:Ce.description})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Ce.expected_start_date&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Start Date"}),a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-emerald-50 rounded-lg border border-emerald-200",children:[a.jsx("div",{className:"h-8 w-8 bg-emerald-100 rounded-lg flex items-center justify-center",children:a.jsx(Os,{className:"w-4 h-4 text-emerald-600"})}),a.jsx("div",{children:a.jsx("p",{className:"font-semibold text-slate-900",children:re(Ce.expected_start_date)})})]})]}),Ce.expected_end_date&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"End Date"}),a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-red-50 rounded-lg border border-red-200",children:[a.jsx("div",{className:"h-8 w-8 bg-red-100 rounded-lg flex items-center justify-center",children:a.jsx(Os,{className:"w-4 h-4 text-red-600"})}),a.jsx("div",{children:a.jsx("p",{className:"font-semibold text-slate-900",children:re(Ce.expected_end_date)})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Ce.customer&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Customer"}),a.jsx("div",{className:"p-3 bg-slate-50 rounded-lg border border-slate-200",children:a.jsx("p",{className:"text-slate-900 font-medium",children:Ce.customer})})]}),Ce.project_type&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Project Type"}),a.jsx("div",{className:"p-3 bg-slate-50 rounded-lg border border-slate-200",children:a.jsx("p",{className:"text-slate-900 font-medium",children:Ce.project_type})})]}),Ce.priority&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Priority"}),a.jsx("div",{className:"p-3 bg-amber-50 rounded-lg border border-amber-200",children:a.jsx("p",{className:"text-amber-900 font-medium",children:Ce.priority})})]})]}),(Ce.estimated_costing||Ce.total_sales_amount||Ce.total_costing_amount||Ce.total_billable_amount)&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Financial Overview"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[Ce.estimated_costing&&a.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200",children:[a.jsx("p",{className:"text-sm text-slate-700 font-medium",children:"Estimated Cost"}),a.jsx("p",{className:"text-lg font-bold text-slate-900",children:Di(Ce.estimated_costing)})]}),Ce.total_sales_amount&&a.jsxs("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200",children:[a.jsx("p",{className:"text-sm text-emerald-700 font-medium",children:"Total Sales"}),a.jsx("p",{className:"text-lg font-bold text-emerald-900",children:Di(Ce.total_sales_amount)})]}),Ce.total_costing_amount&&a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Total Cost"}),a.jsx("p",{className:"text-lg font-bold text-blue-900",children:Di(Ce.total_costing_amount)})]}),Ce.total_billable_amount&&a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[a.jsx("p",{className:"text-sm text-purple-700 font-medium",children:"Billable Amount"}),a.jsx("p",{className:"text-lg font-bold text-purple-900",children:Di(Ce.total_billable_amount)})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Project Progress"}),a.jsxs("div",{className:"bg-slate-50 p-6 rounded-lg border border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("span",{className:"text-lg font-semibold text-slate-900",children:"Overall Completion"}),a.jsxs("span",{className:"text-2xl font-bold text-slate-800",children:[ee,"%"]})]}),a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-4",children:a.jsx("div",{className:"bg-slate-600 h-4 rounded-full transition-all duration-500",style:{width:`${ee}%`}})})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[a.jsx("div",{className:"px-8 py-6 border-b border-slate-200",children:a.jsxs("h3",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 bg-slate-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"h-6 w-6 text-slate-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})})}),"Project Files"]})}),a.jsx("div",{className:"p-8",children:a.jsx(Bm,{doctype:"Project",docname:e.name,title:"",allowUpload:!0,allowDelete:!0})})]})]})]}),s==="team"&&a.jsx(HU,{project:e,projectUsers:K,loadingUsers:$,onRefreshUsers:S,onRemoveMember:ge,isCurrentUserOwner:X,ownerData:z,ownerLoading:R,ownerError:L,editOwnerForm:ne,setShowEditOwnerDialog:y}),s==="tasks"&&a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:a.jsx("div",{className:"p-8",children:a.jsx(CU,{projectName:e.name,onViewPhaseDetails:Z=>{o(Z),n("phase-details")},onViewTaskDetails:Z=>{d(Z),n("task-details")},onViewSubTaskDetails:Z=>{f(Z),n("subtask-details")}})})}),s==="phase-details"&&i&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-100 px-8 py-6 border-b border-gray-200",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 bg-purple-600 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),"Phase Details: ",i.subject]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage tasks and track progress for this phase"})]}),a.jsx("div",{className:"p-8",children:a.jsx(OU,{phase:i,projectName:e.name,onBack:()=>n("tasks"),onViewTaskDetails:Z=>{d(Z),n("task-details")},onPhaseUpdated:()=>fe(null,null,function*(){S()}),onPhaseDeleted:()=>fe(null,null,function*(){S(),n("tasks"),o(null)}),onTaskCreated:()=>fe(null,null,function*(){S()})})})]}),s==="task-details"&&c&&a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:a.jsx("div",{className:"p-8",children:a.jsx(LU,{task:c,projectName:e.name,onBack:()=>n("tasks"),onViewSubTaskDetails:Z=>{f(Z),n("subtask-details")},onTaskUpdated:()=>fe(null,null,function*(){S(),yield Ne()}),onTaskDeleted:()=>fe(null,null,function*(){S(),n("tasks"),d(null)})})})}),s==="subtask-details"&&h&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-rose-100 px-8 py-6 border-b border-gray-200",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 bg-pink-600 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),"Subtask Details:"," ",h.subject||h.name]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Detailed view and management of subtask"})]}),a.jsx("div",{className:"p-8",children:a.jsx(zU,{subtask:h,projectName:e.name,onBack:()=>n("tasks"),onSubTaskUpdated:()=>fe(null,null,function*(){S(),yield se(),h!=null&&h.task&&(yield P(h.task))}),onSubTaskDeleted:()=>fe(null,null,function*(){S(),n("tasks"),f(null)})})})]})]}),a.jsxs("div",{className:"mt-12 bg-white rounded-2xl shadow-lg border border-gray-100 p-8",children:[a.jsxs("h4",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[a.jsx("div",{className:"h-8 w-8 bg-indigo-600 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})}),"Quick Actions"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(Qe,{variant:"outline",className:"h-16 text-lg font-semibold bg-gradient-to-r from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 border-green-300 text-green-700 hover:text-green-800",onClick:()=>n("tasks"),children:[a.jsx("svg",{className:"w-6 h-6 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),"Manage Tasks"]}),a.jsxs(Qe,{variant:"outline",className:"h-16 text-lg font-semibold bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 border-blue-300 text-blue-700 hover:text-blue-800",onClick:()=>n("team"),children:[a.jsx(Cn,{className:"w-6 h-6 mr-3"}),"Team Overview"]}),a.jsxs(Qe,{variant:"outline",className:"h-16 text-lg font-semibold bg-gradient-to-r from-purple-50 to-pink-50 hover:from-purple-100 hover:to-pink-100 border-purple-300 text-purple-700 hover:text-purple-800",onClick:()=>n("overview"),children:[a.jsx(su,{className:"w-6 h-6 mr-3"}),"View Analytics"]})]})]})]})}),a.jsx(pC,{isOpen:g,onClose:()=>p(!1),projectName:e.name,onSuccess:()=>{setTimeout(()=>S(),1e3)}}),a.jsx(dC,{project:e,isOpen:j,onClose:()=>v(!1),onSuccess:Pe}),a.jsx(uC,{project:e,isOpen:_,onClose:()=>T(!1),onSuccess:we})]})}const VU=()=>{const{projectId:e}=pO(),t=dm(),{data:s,isLoading:n,error:i}=Tt("Project",e||"",{revalidateIfStale:!0,revalidateOnFocus:!0,revalidateOnReconnect:!0,shouldRetryOnError:!0}),o=()=>{t("/projects")};return e?n?a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:a.jsx("div",{className:"text-gray-500",children:"Loading project details..."})}):i||!s?a.jsx("div",{className:"flex flex-col justify-center items-center min-h-screen p-8 bg-red-50 rounded-lg border border-red-200",children:a.jsxs("div",{className:"text-red-700 text-center",children:[a.jsx("p",{className:"text-lg font-medium mb-2",children:"Error loading project"}),a.jsx("p",{className:"text-sm mb-4",children:(i==null?void 0:i.message)||"Project not found"}),a.jsxs(Qe,{onClick:o,variant:"outline",children:[a.jsx(tu,{className:"h-4 w-4 mr-2"}),"Back to Projects"]})]})}):a.jsx($U,{project:s,onBack:o},e):a.jsx("div",{className:"flex flex-col justify-center items-center min-h-screen p-8 bg-yellow-50 rounded-lg border border-yellow-200",children:a.jsxs("div",{className:"text-yellow-700 text-center",children:[a.jsx("p",{className:"text-lg font-medium mb-2",children:"No project selected"}),a.jsxs(Qe,{onClick:o,variant:"outline",children:[a.jsx(tu,{className:"h-4 w-4 mr-2"}),"Back to Projects"]})]})})},xC=({team:e})=>{var C,z;const{data:t,isLoading:s,error:n}=Tt("Team",e),i=(t==null?void 0:t.team_member)||[],{currentUser:o}=on(),c=o==="Administrator",{data:d,isLoading:h,error:f}=ft("User",{fields:["name","full_name","user_image","first_name","last_name","email"],limit:0}),{simpleTeamData:g,isLoading:p}=AL(),b=!n||!((C=n.message)!=null&&C.includes("PermissionError")),{allTasks:y,allSubTasks:j,isLoading:v,error:_}=EL(),{todos:T,isLoading:A,error:k}=SL(),S=N.useMemo(()=>{const L=[];return y.forEach(R=>{const V=T==null?void 0:T.find(I=>I.reference_type==="Task"&&I.reference_name===R.name);L.push({id:R.name,title:R.subject||"Untitled Task",description:R.description||"No description available",project:R.project||"Unknown Project",assignee:(V==null?void 0:V.allocated_to)||R.completed_by||R.owner||"Unknown",status:R.status||"Open",priority:R.priority||"Medium",dueDate:R.exp_end_date||new Date().toISOString().split("T")[0],labels:[R.type||"Task"],todoId:(V==null?void 0:V.name)||"",referenceName:R.name,referenceType:"Task",type:"Task",taskProgress:R.progress,expectedTime:R.expected_time,actualTime:0,startDate:R.exp_start_date,endDate:R.exp_end_date})}),j.forEach(R=>{const V=T==null?void 0:T.find(I=>I.reference_type==="SubTask"&&I.reference_name===R.name);L.push({id:R.name,title:R.subject||"Untitled SubTask",description:R.description||"No description available",project:"Unknown Project",assignee:(V==null?void 0:V.allocated_to)||R.assigned_to||R.owner||"Unknown",status:R.status||"Open",priority:"Medium",dueDate:R.end_date||new Date().toISOString().split("T")[0],labels:["SubTask"],todoId:(V==null?void 0:V.name)||"",referenceName:R.name,referenceType:"SubTask",type:"SubTask",parentTask:R.task,startDate:R.start_date,endDate:R.end_date})}),L.sort((R,V)=>new Date(V.dueDate).getTime()-new Date(R.dueDate).getTime())},[y,j,T]);return{teamMembersData:N.useMemo(()=>{var L;if(c&&d)return d.map(R=>{const V=S.filter(G=>G.assignee===R.name),I=R.user_image||`https://placehold.co/40x40/e2e8f0/475569?text=${(R.first_name||R.full_name||"U").charAt(0).toUpperCase()}`;return{id:R.name||"",name:R.full_name||R.first_name||R.name||"Unknown User",role:R.name===o?"Leader":"Member",taskCount:V.length,avatar:I,tasks:V,user:R}});if(!i||(L=n==null?void 0:n.message)!=null&&L.includes("PermissionError")){if(g&&g.length>0)return g.map(R=>{const V=S.filter(I=>I.assignee===R.id);return{id:R.id,name:R.name,role:R.role,taskCount:V.length,avatar:R.avatar,tasks:V,user:d==null?void 0:d.find(I=>I.name===R.id)}});if(d&&d.length>0){const R=d[0],V=S.filter(I=>I.assignee===(R==null?void 0:R.name));return[{id:(R==null?void 0:R.name)||"unknown",name:(R==null?void 0:R.full_name)||(R==null?void 0:R.first_name)||"Current User",role:"Member",taskCount:V.length,avatar:(R==null?void 0:R.user_image)||`https://placehold.co/40x40/e2e8f0/475569?text=${((R==null?void 0:R.first_name)||"U").charAt(0).toUpperCase()}`,tasks:V,user:R}]}return[]}return d?i.map(R=>{const V=d.find(U=>U.name===R.user),I=S.filter(U=>U.assignee===R.user),G=(V==null?void 0:V.user_image)||`https://placehold.co/40x40/e2e8f0/475569?text=${((V==null?void 0:V.first_name)||(V==null?void 0:V.full_name)||"U").charAt(0).toUpperCase()}`;return{id:R.user||"",name:(V==null?void 0:V.full_name)||(V==null?void 0:V.first_name)||R.user||"Unknown User",role:R.role||"Member",taskCount:I.length,avatar:G,tasks:I,user:V}}):[]},[i,d,S,n,g,c,o]),allTransformedTasks:S,isLoading:s||h||v||p||A,error:n&&!((z=n.message)!=null&&z.includes("PermissionError"))?n:f||_||k,teamMembers:i,users:d,hasTeamMemberPermission:b}},IU=({task:e,isOpen:t,onClose:s,onSuccess:n,isLeader:i})=>{const o=(e==null?void 0:e.type)==="SubTask",{updateTask:c,isLoading:d,error:h}=hS(),{assignTask:f,unassignTask:g}=fS(),{updateTaskProgress:p}=yS(),{updateTaskProgressByStatus:b}=xS(),{updateSubTask:y,isLoading:j,error:v}=pS(),{assignSubTask:_,unassignSubTask:T}=fy(),A=d||j,k=h||v,{data:S}=Tt("Project",(e==null?void 0:e.project)||"",{enabled:!!(e!=null&&e.project)&&!o}),{data:E}=ft("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=",o?"SubTask":"Task"],["reference_name","=",(e==null?void 0:e.referenceName)||""]]}),{data:C}=ft("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.referenceName)||""]],limit:1}),[z,L]=N.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,description:"",assign_to:""}),[R,V]=N.useState(!1);N.useEffect(()=>{var W;if(e){const K=((W=E==null?void 0:E[0])==null?void 0:W.allocated_to)||"";L({subject:e.title||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.startDate?e.startDate.split(" ")[0]:"",end_date:e.endDate?e.endDate.split(" ")[0]:"",progress:e.taskProgress||0,description:e.description||"",assign_to:K})}},[e,E]),N.useEffect(()=>{o||V(!!(C&&C.length>0))},[C,o]);const I=(W,K)=>{L($=>ie(F({},$),{[W]:K}))},G=W=>fe(null,null,function*(){var K,ee,se;if(W.preventDefault(),!!e){if(z.start_date&&z.end_date){const Ne=new Date(z.start_date);if(new Date(z.end_date)<Ne){Gt.error("End date cannot be earlier than start date");return}}if(!o&&z.end_date&&(S!=null&&S.expected_end_date)){const Ne=new Date(z.end_date),P=new Date(S.expected_end_date);if(Ne>P){Gt.error(`Task end date cannot be after project end date (${S.expected_end_date})`);return}}try{const Ne=((K=E==null?void 0:E[0])==null?void 0:K.allocated_to)||"",P=z.assign_to;if(o){const $=z,{assign_to:ne}=$,ge=$e($,["assign_to"]),X={subject:ge.subject,status:ge.status,start_date:ge.start_date,end_date:ge.end_date,description:ge.description};if(yield y(e.referenceName,X),Ne&&Ne!==P){const re=E==null?void 0:E.find(_e=>_e.allocated_to===Ne);re&&(yield T(re.name))}P&&P!==Ne&&(yield _(e.referenceName,P)),X.status,e.status,Gt.success("SubTask updated successfully",{description:`SubTask "${z.subject}" has been updated.`})}else{const ne=z.progress!==(e.taskProgress||0),ge=z.status!==e.status,X={subject:z.subject,status:z.status,priority:z.priority,exp_start_date:z.start_date,exp_end_date:z.end_date,progress:z.progress,description:z.description};if(R&&ne?yield p(e.referenceName,z.progress):ge&&(z.status==="Completed"||z.status==="Cancelled")?yield b(e.referenceName,z.status):yield c(e.referenceName,X),Ne!==P){if(Ne&&(E!=null&&E[0]))try{yield g(E[0].name)}catch(re){console.error("Error deleting old ToDo:",re)}if(P)try{yield f(e.referenceName,z.subject,P,z.priority)}catch(re){console.error("Error creating new ToDo:",re)}}Gt.success("Task updated successfully",{description:`Task "${z.subject}" has been updated.`})}n&&n(),s()}catch(Ne){console.error("Error updating task/subtask:",Ne);let P=`Failed to update ${o?"subtask":"task"}`;(ee=Ne==null?void 0:Ne.message)!=null&&ee.includes("modified")?P=`The ${o?"subtask":"task"} has been modified by someone else. Please close and reopen to get the latest version.`:(se=Ne==null?void 0:Ne.message)!=null&&se.includes("permission")?P=`You do not have permission to update this ${o?"subtask":"task"}.`:Ne!=null&&Ne.message&&(P=Ne.message),Gt.error(`Failed to update ${o?"subtask":"task"}`,{description:P})}}}),U=()=>{var W;if(e){const K=((W=E==null?void 0:E[0])==null?void 0:W.allocated_to)||"";L({subject:e.title||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.startDate?e.startDate.split(" ")[0]:"",end_date:e.endDate?e.endDate.split(" ")[0]:"",progress:e.taskProgress||0,description:e.description||"",assign_to:K})}s()};return e?a.jsx(fn,{open:t,onOpenChange:s,children:a.jsxs(mn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[a.jsx(gn,{children:a.jsxs(pn,{children:["Edit ",o?"SubTask":"Task"]})}),a.jsxs("form",{onSubmit:G,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"subject",children:"Subject *"}),a.jsx(Pt,{id:"subject",value:z.subject,onChange:W=>I("subject",W.target.value),required:!0,placeholder:`Enter ${o?"subtask":"task"} subject`})]}),a.jsxs("div",{className:`grid ${o?"grid-cols-1":"grid-cols-2"} gap-4`,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"status",children:"Status"}),a.jsxs("select",{id:"status",value:z.status,onChange:W=>I("status",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Working",children:"Working"}),a.jsx("option",{value:"Pending Review",children:"Pending Review"}),!o&&a.jsx("option",{value:"Overdue",children:"Overdue"}),i&&a.jsx("option",{value:"Completed",children:"Completed"}),i&&a.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),!o&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"priority",children:"Priority"}),a.jsxs("select",{id:"priority",value:z.priority,onChange:W=>I("priority",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"start_date",children:o?"Start Date":"Expected Start Date"}),a.jsx(Pt,{id:"start_date",type:"date",value:z.start_date,onChange:W=>I("start_date",W.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"end_date",children:o?"End Date":"Expected End Date"}),a.jsx(Pt,{id:"end_date",type:"date",value:z.end_date,onChange:W=>I("end_date",W.target.value),max:!o&&(S!=null&&S.expected_end_date)?S.expected_end_date:void 0}),!o&&(S==null?void 0:S.expected_end_date)&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",S.expected_end_date]})]})]}),!o&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"progress",children:"Progress (%)"}),a.jsx(Pt,{id:"progress",type:"number",min:"0",max:"100",value:z.progress,onChange:W=>I("progress",parseInt(W.target.value)||0),placeholder:"0",disabled:R}),R?a.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[a.jsx("strong",{children:"🔄 Smart Progress Mode:"}),a.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[a.jsx("li",{children:"Progress is automatically calculated from subtasks"}),a.jsx("li",{children:"Only assignee can manually override progress"}),a.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):a.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[a.jsx("strong",{children:"✏️ Manual Progress Mode:"}),a.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ie,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",value:z.description,onChange:W=>I("description",W.target.value),placeholder:`Enter ${o?"subtask":"task"} description`,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),a.jsx("div",{className:"bg-gray-50 p-3 rounded-md",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Project:"})," ",e.project]})}),k&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Error:"})," ",k.message||`Failed to update ${o?"subtask":"task"}`]})}),a.jsxs(An,{className:"flex gap-2",children:[a.jsx(Qe,{type:"button",variant:"outline",onClick:U,children:"Cancel"}),a.jsx(Qe,{type:"submit",disabled:A,children:A?"Updating...":`Update ${o?"SubTask":"Task"}`})]})]})]})}):null},qU=({role:e,currentView:t,setCurrentView:s})=>{const n=on().currentUser==="Administrator";return a.jsx("header",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{children:a.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Trình Quản Lý Công Việc"})}),(e==="Leader"||n)&&a.jsxs("div",{className:"inline-flex bg-slate-200 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>s("user"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="user"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"User"}),e==="Leader"&&a.jsx("button",{onClick:()=>s("leader"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="leader"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"Leader"}),n&&a.jsx("button",{onClick:()=>s("admin"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="admin"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"Admin"})]})]})})},Xy=e=>{switch(e){case"Working":return"text-orange-800 bg-orange-100";case"Open":return"text-sky-800 bg-sky-100";case"Completed":return"text-emerald-800 bg-emerald-100";case"Cancelled":return"text-red-800 bg-red-100";default:return"text-slate-800 bg-slate-100"}},yC=e=>{switch(e){case"High":return"text-red-800 bg-red-100";case"Medium":return"text-amber-800 bg-amber-100";case"Low":return"text-green-800 bg-green-100";default:return"text-slate-800 bg-slate-100"}},Fd=({task:e,onClick:t,formatDate:s,barClass:n="bg-indigo-600",completed:i=!1})=>{var o,c;return a.jsxs("div",{className:`kanban-card bg-white p-4 rounded-lg shadow-sm border border-slate-200 cursor-pointer ${i?"opacity-70":""}`,onClick:t,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("p",{className:`font-semibold text-slate-900 flex-1 ${i?"line-through":""}`,children:e.title}),a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ml-2 ${e.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:e.type})]}),a.jsx("p",{className:"text-xs text-slate-500 mb-3",children:e.project}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-xs text-slate-600",children:"Tiến độ"}),a.jsx("span",{className:"text-xs text-slate-600 font-medium",children:i?"100%":`${(o=e.taskProgress)!=null?o:0}%`})]}),a.jsx("div",{className:"bg-slate-200 rounded-full h-1.5",children:a.jsx("div",{className:`${i?"bg-emerald-500":n} h-1.5 rounded-full`,style:{width:i?"100%":`${(c=e.taskProgress)!=null?c:0}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`priority-badge ${yC(e.priority)}`,children:e.priority}),a.jsx("span",{className:"text-xs text-slate-500",children:s(e.dueDate).formatted})]})]})},WU=["Open","Working","Overdue","Pending Review","Completed"],YU=["Low","Medium","High","Urgent"],GU=["Task","SubTask"],A2=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),XU=({isLoading:e,handleRefresh:t,activeTab:s,setActiveTab:n,transformedTasks:i,formatDate:o,handleTaskClick:c})=>{const[d,h]=N.useState(""),[f,g]=N.useState(""),[p,b]=N.useState(""),[y,j]=N.useState(""),[v,_]=N.useState(""),[T,A]=N.useState(!1),[k,S]=N.useState(""),[E,C]=N.useState(""),z=N.useMemo(()=>{const U=new Set;return i.forEach(W=>W.project&&U.add(W.project)),Array.from(U).sort((W,K)=>W.localeCompare(K))},[i]),L=N.useMemo(()=>{const U=A2(d.trim()),W=K=>{if(!K)return!0;const $=new Date(K);if(Number.isNaN($.getTime()))return!0;if(k){const ee=new Date(k);if($<new Date(ee.getFullYear(),ee.getMonth(),ee.getDate()))return!1}if(E){const ee=new Date(E),se=new Date(ee.getFullYear(),ee.getMonth(),ee.getDate(),23,59,59,999);if($>se)return!1}return!0};return(i||[]).filter(K=>!(U&&!A2(`${K.title||""} ${K.project||""} ${K.status||""} ${K.priority||""}`).includes(U)||f&&K.status!==f||p&&K.priority!==p||y&&K.type!==y||v&&K.project!==v||T&&K.status!=="Overdue"&&!o(K.dueDate).isOverdue||!W(K.dueDate)))},[d,f,p,y,v,T,k,E,i,o]),R=()=>{h(""),g(""),b(""),j(""),_(""),A(!1),S(""),C("")},V=U=>L.filter(W=>W.status===U).length,[I,G]=N.useState(!1);return a.jsx("div",{className:"space-y-8",children:a.jsxs("section",{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Việc của tôi"}),a.jsxs("button",{onClick:t,disabled:e,className:"mt-4 sm:mt-0 flex items-center justify-center gap-2 bg-indigo-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-indigo-700 transition-all shadow-sm disabled:opacity-50",children:[e?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:a.jsx("path",{fill:"currentColor",d:"M12 20q-3.35 0-5.675-2.325T4 12t2.325-5.675T12 4q1.725 0 3.3.712T18 6.75V4h2v7h-7V9h4.2q-.8-1.4-2.187-2.2T12 6Q9.5 6 7.75 7.75T6 12t1.75 4.25T12 18q1.925 0 3.475-1.1T17.65 14h2.1q-.7 2.65-2.85 4.325T12 20"})}),e?"Đang tải...":"Làm mới"]})]}),a.jsx("div",{className:"mt-4 border-b border-slate-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[a.jsx("button",{onClick:()=>n("list"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${s==="list"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Danh sách"}),a.jsx("button",{onClick:()=>n("kanban"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${s==="kanban"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Bảng Kanban"}),a.jsx("button",{onClick:()=>n("calendar"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${s==="calendar"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Lịch"})]})}),a.jsxs("div",{className:"mt-4 bg-white border border-slate-200 p-4 rounded-xl shadow-sm",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[a.jsxs("div",{className:"relative w-full md:max-w-sm",children:[a.jsx("label",{className:"sr-only",children:"Tìm kiếm"}),a.jsx(Vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx("input",{value:d,onChange:U=>h(U.target.value),placeholder:"Tìm theo tên, dự án, trạng thái...",className:"w-full rounded-lg border border-slate-300 pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[a.jsxs("button",{onClick:()=>G(U=>!U),className:"px-3 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50 inline-flex items-center gap-2",children:[a.jsx(pc,{className:"h-4 w-4"}),"Bộ lọc"]}),a.jsx("button",{onClick:R,className:"px-3 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50",children:"Xóa"})]})]}),I&&a.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-6 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Trạng thái"}),a.jsxs("select",{value:f,onChange:U=>g(U.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Tất cả"}),WU.map(U=>a.jsx("option",{value:U,children:U},U))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Ưu tiên"}),a.jsxs("select",{value:p,onChange:U=>b(U.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Tất cả"}),YU.map(U=>a.jsx("option",{value:U,children:U},U))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Loại"}),a.jsxs("select",{value:y,onChange:U=>j(U.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Tất cả"}),GU.map(U=>a.jsx("option",{value:U,children:U},U))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Dự án"}),a.jsxs("select",{value:v,onChange:U=>_(U.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[a.jsx("option",{value:"",children:"Tất cả"}),z.map(U=>a.jsx("option",{value:U,children:U},U))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hạn từ"}),a.jsx("input",{type:"date",value:k,onChange:U=>S(U.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hạn đến"}),a.jsx("input",{type:"date",value:E,onChange:U=>C(U.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),s==="list"&&a.jsx("div",{className:"mt-6 bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100 rounded-t-lg",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tên công việc"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Loại"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Dự án"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tiến độ"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ngày hết hạn"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ưu tiên"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Trạng thái"})]})}),a.jsx("tbody",{children:L.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-slate-500",children:e?"Đang tải...":"Không có công việc nào"})}):L.map(U=>a.jsxs("tr",{className:"bg-white border-b border-slate-200 hover:bg-slate-50 table-row transition-all cursor-pointer",onClick:()=>c(U),children:[a.jsxs("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-900 whitespace-nowrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[U.type==="SubTask"&&a.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414L2.586 7l3.707-3.707a1 1 0 011.414 0z",clipRule:"evenodd"})}),U.title]}),U.parentTask&&a.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["↳ Subtask của: ",U.parentTask]})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${U.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:U.type})}),a.jsx("td",{className:"px-6 py-4",children:U.project}),a.jsx("td",{className:"px-6 py-4",children:U.taskProgress!==void 0?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-2",children:a.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${U.taskProgress}%`}})}),a.jsxs("span",{className:"text-xs text-slate-600 font-medium min-w-[3rem]",children:[U.taskProgress,"%"]})]}):a.jsx("span",{className:"text-xs text-slate-400",children:"N/A"})}),a.jsx("td",{className:`px-6 py-4 ${o(U.dueDate).isOverdue?"text-red-600 font-medium":""}`,children:o(U.dueDate).display}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`priority-badge ${yC(U.priority)}`,children:U.priority})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`status-badge ${Xy(U.status)}`,children:U.status})})]},U.id))})]})})}),s==="kanban"&&a.jsx("div",{className:"mt-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[a.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[a.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-sky-500"}),"Cần làm (",V("Open"),")"]}),a.jsx("div",{className:"space-y-4",children:L.filter(U=>U.status==="Open").map(U=>a.jsx(Fd,{task:U,onClick:()=>c(U),formatDate:o},U.id))})]}),a.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[a.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Đang làm (",V("Working"),")"]}),a.jsx("div",{className:"space-y-4",children:L.filter(U=>U.status==="Working").map(U=>a.jsx(Fd,{task:U,onClick:()=>c(U),formatDate:o,barClass:"bg-orange-500"},U.id))})]}),a.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[a.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Trễ (",V("Overdue"),")"]}),a.jsx("div",{className:"space-y-4",children:L.filter(U=>U.status==="Overdue").map(U=>a.jsx(Fd,{task:U,onClick:()=>c(U),formatDate:o,barClass:"bg-orange-500"},U.id))})]}),a.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[a.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Review (",V("Pending Review"),")"]}),a.jsx("div",{className:"space-y-4",children:L.filter(U=>U.status==="Pending Review").map(U=>a.jsx(Fd,{task:U,onClick:()=>c(U),formatDate:o,barClass:"bg-orange-500"},U.id))})]}),a.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[a.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Hoàn thành (",V("Completed"),")"]}),a.jsx("div",{className:"space-y-4",children:L.filter(U=>U.status==="Completed").map(U=>a.jsx(Fd,{task:U,onClick:()=>c(U),formatDate:o,completed:!0},U.id))})]})]})}),s==="calendar"&&a.jsx("div",{className:"mt-6 bg-white p-8 rounded-xl shadow-sm border border-slate-200",children:a.jsx("div",{className:"text-center text-slate-500",children:a.jsx("p",{children:"Giao diện lịch sẽ được phát triển trong tương lai"})})})]})})},KU=({teamDataError:e,teamMembersData:t,selectedMember:s,setSelectedMember:n,formatDate:i,handleTaskClick:o})=>{var U;const c=DL(),[d,h]=N.useState(""),[f,g]=N.useState(1),[p]=N.useState(5),[b,y]=N.useState(""),[j,v]=N.useState(""),[_,T]=N.useState(""),[A,k]=N.useState(1),[S]=N.useState(10),E=N.useMemo(()=>t.filter(W=>W.name.toLowerCase().includes(d.toLowerCase())||W.id.toLowerCase().includes(d.toLowerCase())),[t,d]),C=N.useMemo(()=>{const W=(f-1)*p;return E.slice(W,W+p)},[E,f,p]),z=Math.ceil(E.length/p),L=N.useMemo(()=>{if(!s)return[];const W=t.find(K=>K.id===s);return W?W.tasks.filter(K=>{const $=K.title.toLowerCase().includes(b.toLowerCase())||K.description.toLowerCase().includes(b.toLowerCase())||K.project.toLowerCase().includes(b.toLowerCase()),ee=j===""||K.status===j,se=_===""||K.type===_;return $&&ee&&se}):[]},[s,t,b,j,_]),R=N.useMemo(()=>{const W=(A-1)*S;return L.slice(W,W+S)},[L,A,S]),V=Math.ceil(L.length/S);ye.useEffect(()=>{k(1)},[b,j,_,s]),ye.useEffect(()=>{g(1)},[d]);const I=W=>{g(Math.max(1,Math.min(W,z)))},G=W=>{k(Math.max(1,Math.min(W,V)))};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Dashboard Tổng Quan"}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Tổng công việc"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:c.total})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Đang thực hiện"}),a.jsx("p",{className:"text-3xl font-bold text-orange-500 mt-1",children:c.working})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Hoàn thành"}),a.jsx("p",{className:"text-3xl font-bold text-emerald-500 mt-1",children:c.completed})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Trễ hạn"}),a.jsx("p",{className:"text-3xl font-bold text-red-500 mt-1",children:c.overdue})]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Quản lý Nhóm"}),((U=e==null?void 0:e.message)==null?void 0:U.includes("PermissionError"))&&a.jsx("div",{className:"mt-4 bg-amber-50 border border-amber-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Quyền truy cập hạn chế"}),a.jsx("div",{className:"mt-2 text-sm text-amber-700",children:a.jsx("p",{children:"Không thể truy cập đầy đủ dữ liệu team members. Hiển thị dữ liệu cơ bản từ danh sách users."})})]})]})}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-4 gap-5 items-start",children:[a.jsxs("div",{className:"lg:col-span-1 bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"font-bold text-slate-800",children:["Thành viên nhóm (",E.length,")"]})}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a.jsx("input",{type:"text",placeholder:"Tìm kiếm thành viên...",value:d,onChange:W=>h(W.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]})}),a.jsx("ul",{className:"space-y-2 mb-4",children:C.map(W=>a.jsx("li",{onClick:()=>n(W.id),className:`member-item p-3 border rounded-lg hover:bg-slate-100 cursor-pointer transition-all ${s===W.id?"active border-indigo-500 bg-indigo-50":"border-transparent"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:W.avatar,alt:W.name}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-slate-900 truncate",children:W.name}),a.jsxs("p",{className:"text-sm text-slate-500",children:[W.taskCount," công việc"]}),a.jsx("p",{className:"text-xs text-slate-400",children:W.role})]})]})},W.id))}),z>1&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:()=>I(f-1),disabled:f===1,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),a.jsxs("span",{className:"text-xs text-slate-500",children:["Trang ",f," / ",z]}),a.jsx("button",{onClick:()=>I(f+1),disabled:f===z,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]}),a.jsx("div",{className:"lg:col-span-3 bg-white p-4 rounded-xl shadow-sm border border-slate-200 min-h-[300px]",children:s?(()=>{const W=t.find(K=>K.id===s);return W?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-bold text-slate-800",children:["Công việc của ",W.name]}),a.jsxs("span",{className:"text-sm text-slate-500",children:["(",L.length," công việc)"]})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a.jsx("input",{type:"text",placeholder:"Tìm kiếm công việc...",value:b,onChange:K=>y(K.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("select",{value:j,onChange:K=>v(K.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",children:[a.jsx("option",{value:"",children:"Tất cả trạng thái"}),a.jsx("option",{value:"Open",children:"Mở"}),a.jsx("option",{value:"Working",children:"Đang làm"}),a.jsx("option",{value:"Pending Review",children:"Chờ duyệt"}),a.jsx("option",{value:"Completed",children:"Hoàn thành"}),a.jsx("option",{value:"Cancelled",children:"Đã hủy"})]}),a.jsxs("select",{value:_,onChange:K=>T(K.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",children:[a.jsx("option",{value:"",children:"Tất cả loại"}),a.jsx("option",{value:"Task",children:"Task"}),a.jsx("option",{value:"SubTask",children:"SubTask"})]}),(b||j||_)&&a.jsx("button",{onClick:()=>{y(""),v(""),T("")},className:"px-3 py-2 text-sm text-slate-600 hover:text-slate-800 underline",children:"Xóa bộ lọc"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2",children:"Tên công việc"}),a.jsx("th",{className:"px-4 py-2",children:"Loại"}),a.jsx("th",{className:"px-4 py-2",children:"Dự án"}),a.jsx("th",{className:"px-4 py-2",children:"Tiến độ"}),a.jsx("th",{className:"px-4 py-2",children:"Hạn chót"}),a.jsx("th",{className:"px-4 py-2",children:"Trạng thái"})]})}),a.jsx("tbody",{children:R.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"text-center py-8 text-slate-500",children:L.length===0&&W.tasks.length>0?"Không tìm thấy công việc phù hợp với bộ lọc.":"Thành viên này chưa có công việc nào."})}):R.map(K=>a.jsxs("tr",{className:"border-b border-slate-200 cursor-pointer hover:bg-slate-50",onClick:()=>o(K),children:[a.jsxs("td",{className:"px-4 py-3 font-medium text-slate-900",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[K.type==="SubTask"&&a.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414L2.586 7l3.707-3.707a1 1 0 011.414 0z",clipRule:"evenodd"})}),a.jsx("span",{className:"truncate",children:K.title})]}),K.parentTask&&a.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["↳ Subtask của: ",K.parentTask]})]}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${K.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:K.type})}),a.jsx("td",{className:"px-4 py-3 truncate",children:K.project}),a.jsx("td",{className:"px-4 py-3",children:K.taskProgress!==void 0?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-1.5 min-w-[60px]",children:a.jsx("div",{className:"bg-indigo-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${K.taskProgress}%`}})}),a.jsxs("span",{className:"text-xs text-slate-600 font-medium min-w-[2.5rem]",children:[K.taskProgress,"%"]})]}):a.jsx("span",{className:"text-xs text-slate-400",children:"N/A"})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:i(K.dueDate).display}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`status-badge ${Xy(K.status)}`,children:K.status})})]},K.id))})]})}),V>1&&a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-slate-500",children:["Hiển thị ",(A-1)*S+1," - ",Math.min(A*S,L.length)," trong số ",L.length," công việc"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>G(A-1),disabled:A===1,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),a.jsxs("span",{className:"text-sm text-slate-600",children:[A," / ",V]}),a.jsx("button",{onClick:()=>G(A+1),disabled:A===V,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]}):a.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:a.jsx("p",{children:"Không tìm thấy thành viên."})})})():a.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),a.jsx("p",{children:"Chọn một thành viên để xem công việc của họ."})]})})})]})]})]})},QU=({teamDataError:e,teamMembersData:t,selectedMember:s,setSelectedMember:n,formatDate:i,handleTaskClick:o})=>{var wt;const{allTransformedTasks:c,isLoading:d}=xC({team:""}),{data:h}=ft("Team",{fields:["name"],limit:0}),f=(h==null?void 0:h.map(ke=>ke.name).filter(Boolean))||[],{data:g}=ft("Project",{fields:["name","project_name","team"],limit:0}),p=N.useMemo(()=>g?g.map(Ue=>Ue.team).filter(Boolean).filter((Ue,Ze,Ot)=>Ot.indexOf(Ue)===Ze):[],[g]),b=Tt("Team",f[0],f[0]?void 0:{disabled:!0}),y=Tt("Team",f[1],f[1]?void 0:{disabled:!0}),j=Tt("Team",f[2],f[2]?void 0:{disabled:!0}),v=Tt("Team",f[3],f[3]?void 0:{disabled:!0}),_=Tt("Team",f[4],f[4]?void 0:{disabled:!0}),T=Tt("Team",f[5],f[5]?void 0:{disabled:!0}),A=Tt("Team",f[6],f[6]?void 0:{disabled:!0}),k=Tt("Team",f[7],f[7]?void 0:{disabled:!0}),S=Tt("Team",f[8],f[8]?void 0:{disabled:!0}),E=Tt("Team",f[9],f[9]?void 0:{disabled:!0}),C=Tt("Team",f[10],f[10]?void 0:{disabled:!0}),z=Tt("Team",f[11],f[11]?void 0:{disabled:!0}),L=Tt("Team",f[12],f[12]?void 0:{disabled:!0}),R=Tt("Team",f[13],f[13]?void 0:{disabled:!0}),V=Tt("Team",f[14],f[14]?void 0:{disabled:!0}),I=Tt("Team",f[15],f[15]?void 0:{disabled:!0}),G=Tt("Team",f[16],f[16]?void 0:{disabled:!0}),U=Tt("Team",f[17],f[17]?void 0:{disabled:!0}),W=Tt("Team",f[18],f[18]?void 0:{disabled:!0}),K=Tt("Team",f[19],f[19]?void 0:{disabled:!0}),$=N.useMemo(()=>{const ke=[];return b.data&&ke.push(b.data),y.data&&ke.push(y.data),j.data&&ke.push(j.data),v.data&&ke.push(v.data),_.data&&ke.push(_.data),T.data&&ke.push(T.data),A.data&&ke.push(A.data),k.data&&ke.push(k.data),S.data&&ke.push(S.data),E.data&&ke.push(E.data),C.data&&ke.push(C.data),z.data&&ke.push(z.data),L.data&&ke.push(L.data),R.data&&ke.push(R.data),V.data&&ke.push(V.data),I.data&&ke.push(I.data),G.data&&ke.push(G.data),U.data&&ke.push(U.data),W.data&&ke.push(W.data),K.data&&ke.push(K.data),ke},[b.data,y.data,j.data,v.data,_.data,T.data,A.data,k.data,S.data,E.data,C.data,z.data,L.data,R.data,V.data,I.data,G.data,U.data,W.data,K.data]),ee=N.useMemo(()=>{const ke={},Ue=[];return $==null||$.forEach(Ze=>{var Ot;if(ke[Ze.team||Ze.name]=[],Ze.teamlead){const Ke=t.find(zt=>zt.id===Ze.teamlead);Ke&&!ke[Ze.team||Ze.name].find(zt=>zt.id===Ke.id)&&ke[Ze.team||Ze.name].push(ie(F({},Ke),{role:"Leader"}))}(Ot=Ze.team_member)==null||Ot.forEach(Ke=>{const zt=t.find(ds=>ds.id===Ke.user);zt&&!ke[Ze.team||Ze.name].find(ds=>ds.id===zt.id)&&ke[Ze.team||Ze.name].push(ie(F({},zt),{role:Ke.role||"Member"}))})}),t.forEach(Ze=>{Object.values(ke).some(Ke=>Ke.find(zt=>zt.id===Ze.id))||Ue.push(Ze)}),Ue.length>0&&(ke["Không thuộc team nào"]=Ue),ke},[$,t]),[se,Ne]=N.useState(""),[P,ne]=N.useState(null),[ge,X]=N.useState(null),[re,_e]=N.useState({}),me=ke=>{_e(Ue=>ie(F({},Ue),{[ke]:!Ue[ke]}))},Pe=()=>{const ke=Object.values(re).every(Boolean),Ue={};Object.keys(ee).forEach(Ze=>{Ue[Ze]=!ke}),_e(Ue)},we=ke=>{n(ke),ne(null),X(null)},[Ce,Z]=N.useState(""),[Re,He]=N.useState(""),[Ye,tt]=N.useState(""),[gt,Dt]=N.useState(1),[De]=N.useState(10),ze=N.useMemo(()=>{const ke={};return Object.entries(ee).forEach(([Ue,Ze])=>{const Ot=Ze.filter(Ke=>Ke.name.toLowerCase().includes(se.toLowerCase())||Ke.id.toLowerCase().includes(se.toLowerCase()));Ot.length>0&&(ke[Ue]=Ot)}),ke},[ee,se]),Fe=N.useMemo(()=>s?c.filter(ke=>ke.assignee===s):[],[s,c]),Q=N.useMemo(()=>{if(!P||s)return[];const Ue=(ee[P]||[]).map(Ze=>Ze.id);return c.filter(Ze=>Ue.includes(Ze.assignee))},[P,s,c,ee]),le=N.useMemo(()=>!ge||s||P?[]:c.filter(ke=>{const Ue=g==null?void 0:g.find(Ze=>Ze.name===ke.project||Ze.project_name===ke.project);return Ue&&Ue.team===ge}),[ge,s,P,c,g]),q=N.useMemo(()=>{let ke=c;s?ke=Fe:P?ke=Q:ge&&(ke=le);const Ue=ke.length,Ze=ke.filter(zt=>{var ds;return((ds=zt.status)==null?void 0:ds.toLowerCase())==="working"}).length,Ot=ke.filter(zt=>{var ds;return((ds=zt.status)==null?void 0:ds.toLowerCase())==="completed"}).length,Ke=ke.filter(zt=>{var yn;if(((yn=zt.status)==null?void 0:yn.toLowerCase())==="completed")return!1;const ds=new Date;return new Date(zt.dueDate)<ds}).length;return{total:Ue,working:Ze,completed:Ot,overdue:Ke}},[s,Fe,P,Q,ge,le,c]),Te=N.useMemo(()=>{let ke=Fe;return Ce&&(ke=ke.filter(Ue=>{var Ze,Ot,Ke;return((Ze=Ue.title)==null?void 0:Ze.toLowerCase().includes(Ce.toLowerCase()))||((Ot=Ue.subject)==null?void 0:Ot.toLowerCase().includes(Ce.toLowerCase()))||((Ke=Ue.description)==null?void 0:Ke.toLowerCase().includes(Ce.toLowerCase()))})),Re&&(ke=ke.filter(Ue=>Ue.status===Re)),Ye&&(ke=ke.filter(Ue=>Ue.type===Ye||Ue.referenceType===Ye)),ke},[Fe,Ce,Re,Ye]),Le=N.useMemo(()=>{const ke=(gt-1)*De;return Te.slice(ke,ke+De)},[Te,gt,De]),Me=Math.ceil(Te.length/De),Ve=ke=>{Dt(Math.max(1,Math.min(ke,Me)))};ye.useEffect(()=>{Dt(1)},[s]),ye.useEffect(()=>{s&&(ne(null),X(null))},[s]),ye.useEffect(()=>{ge&&(n(null),ne(null))},[ge]),ye.useEffect(()=>{if(Object.keys(ee).length>0&&Object.keys(re).length===0){const ke={};Object.keys(ee).forEach(Ue=>{ke[Ue]=!0}),_e(ke)}},[ee,re]);const Ge=N.useMemo(()=>[...new Set(Fe.map(ke=>ke.status).filter(Boolean))],[Fe]),st=N.useMemo(()=>[...new Set(Fe.map(ke=>ke.type||ke.referenceType).filter(Boolean))],[Fe]);return e?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Lỗi khi tải dữ liệu nhóm: ",e.message]})}):a.jsxs("div",{className:"admin-view",children:[a.jsxs("section",{className:"mb-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:s?`Thống kê công việc - ${((wt=t.find(ke=>ke.id===s))==null?void 0:wt.name)||s}`:P?`Thống kê công việc - Team ${P}`:ge?`Thống kê công việc - Project Team ${ge}`:"Dashboard Tổng Quan - Toàn hệ thống"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Lọc theo Project Team:"}),a.jsxs("select",{value:ge||"",onChange:ke=>{const Ue=ke.target.value||null;X(Ue),Ue&&(n(null),ne(null))},className:"px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm min-w-[200px]",children:[a.jsx("option",{value:"",children:"Tất cả Project Teams"}),p.map(ke=>a.jsx("option",{value:ke,children:ke},ke))]}),ge&&a.jsx("button",{onClick:()=>X(null),className:"px-2 py-1 text-xs bg-slate-100 text-slate-600 rounded hover:bg-slate-200 transition-colors",title:"Xóa bộ lọc",children:"✕"})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Tổng công việc"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:q.total})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Đang thực hiện"}),a.jsx("p",{className:"text-3xl font-bold text-orange-500 mt-1",children:q.working})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Hoàn thành"}),a.jsx("p",{className:"text-3xl font-bold text-emerald-500 mt-1",children:q.completed})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Trễ hạn"}),a.jsx("p",{className:"text-3xl font-bold text-red-500 mt-1",children:q.overdue})]})]})]}),a.jsx("section",{children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[a.jsx("div",{className:"p-6 border-b border-slate-200",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"📋 Quản lý toàn bộ công việc (Admin)"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Xem và quản lý công việc của tất cả thành viên trong hệ thống"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:"text-slate-500",children:"Tổng số thành viên:"}),a.jsx("span",{className:"font-semibold text-slate-700",children:t.length})]})]})}),a.jsxs("div",{className:"flex flex-col lg:flex-row h-[600px]",children:[a.jsxs("div",{className:"lg:w-1/3 border-r border-slate-200 p-4",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsx("input",{type:"text",placeholder:"🔍 Tìm kiếm thành viên...",value:se,onChange:ke=>{Ne(ke.target.value)},className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),a.jsx("button",{onClick:Pe,className:"px-3 py-2 text-xs bg-slate-100 text-slate-700 border border-slate-300 rounded-lg hover:bg-slate-200 transition-colors whitespace-nowrap",children:Object.values(re).every(Boolean)?"📁 Thu gọn":"📂 Mở rộng"})]})}),a.jsx("div",{className:"space-y-4 mb-4 h-[400px] overflow-y-auto",children:d?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):Object.keys(ze).length===0?a.jsxs("div",{className:"text-center py-8 text-slate-500",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),a.jsx("p",{children:"Không tìm thấy thành viên nào."})]}):Object.entries(ze).map(([ke,Ue])=>a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:`flex items-center mb-2 px-2 py-2 rounded-lg cursor-pointer transition-colors ${P===ke&&!s?"bg-blue-100 border border-blue-300 hover:bg-blue-200":"bg-slate-100 hover:bg-slate-200"}`,onClick:()=>me(ke),children:a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx("svg",{className:`w-4 h-4 text-slate-600 transition-transform ${re[ke]?"rotate-90":"rotate-0"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:ke}),a.jsxs("p",{className:"text-xs text-slate-500",children:[Ue.length," thành viên"]})]}),a.jsx("button",{onClick:Ze=>{Ze.stopPropagation(),ne(ke),n(null)},className:`p-1.5 rounded-md transition-colors hover:bg-blue-200 ${P===ke&&!s?"bg-blue-200 text-blue-700":"text-slate-500 hover:text-blue-600"}`,title:"Xem thống kê team",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),re[ke]&&a.jsx("div",{className:"space-y-2 ml-6 animate-in slide-in-from-top-2 duration-200",children:Ue.map(Ze=>a.jsx("div",{onClick:()=>we(Ze.id),className:`p-3 rounded-lg border cursor-pointer transition-all ${s===Ze.id?"border-blue-500 bg-blue-50 shadow-sm":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-medium",children:Ze.name.charAt(0).toUpperCase()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-medium text-slate-800 truncate text-sm",children:Ze.name}),Ze.role==="Leader"&&a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Leader"})]}),a.jsx("p",{className:"text-xs text-slate-500 truncate",children:Ze.id})]}),s===Ze.id&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})},Ze.id))})]},ke))})]}),a.jsx("div",{className:"lg:w-2/3 p-4 flex flex-col",children:s?(()=>{const ke=t.find(Ue=>Ue.id===s);return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-medium",children:ke==null?void 0:ke.name.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:ke==null?void 0:ke.name}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Công việc được giao: ",Fe.length]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[a.jsx("input",{type:"text",placeholder:"🔍 Tìm kiếm công việc...",value:Ce,onChange:Ue=>{Z(Ue.target.value),Dt(1)},className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),a.jsxs("select",{value:Re,onChange:Ue=>{He(Ue.target.value),Dt(1)},className:"px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[a.jsx("option",{value:"",children:"Tất cả trạng thái"}),Ge.map(Ue=>a.jsx("option",{value:Ue,children:Ue},Ue))]}),a.jsxs("select",{value:Ye,onChange:Ue=>{tt(Ue.target.value),Dt(1)},className:"px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[a.jsx("option",{value:"",children:"Tất cả loại"}),st.map(Ue=>a.jsx("option",{value:Ue,children:Ue},Ue))]})]})]}),a.jsx("div",{className:"flex-1 overflow-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Công việc"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Dự án"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Loại"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Hạn chót"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Trạng thái"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:d?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-4 py-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-2 text-slate-500",children:"Đang tải..."})]})})}):Le.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-slate-500",children:Te.length===0&&Fe.length===0?"Thành viên này chưa có công việc nào.":"Không tìm thấy công việc phù hợp với bộ lọc."})}):Le.map(Ue=>a.jsxs("tr",{onClick:()=>o(Ue),className:"hover:bg-slate-50 cursor-pointer transition-colors",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:"font-medium text-slate-900 truncate text-sm",children:Ue.title||Ue.subject}),Ue.description&&a.jsx("div",{className:"text-slate-500 text-xs truncate mt-1",children:Ue.description})]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"text-sm text-slate-600 truncate block max-w-[100px]",children:Ue.project||Ue.project_name||"N/A"})}),a.jsx("td",{className:"px-4 py-3",children:Ue.type==="SubTask"||Ue.referenceType==="SubTask"?a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"SubTask"}):a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Task"})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:i(Ue.dueDate).display}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`status-badge ${Xy(Ue.status)}`,children:Ue.status})})]},Ue.id))})]})}),Me>1&&a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-slate-500",children:["Hiển thị ",(gt-1)*De+1," - ",Math.min(gt*De,Te.length)," trong số ",Te.length," công việc"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>Ve(gt-1),disabled:gt===1,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),a.jsxs("span",{className:"text-sm text-slate-600",children:[gt," / ",Me]}),a.jsx("button",{onClick:()=>Ve(gt+1),disabled:gt===Me,className:"px-3 py-1 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]})})():a.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),a.jsx("p",{children:"Chọn một thành viên để xem công việc của họ."})]})})})]})]})})]})},ZU=({error:e})=>a.jsx(a.Fragment,{children:e&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading tasks"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:e.message||"Failed to load your tasks. Please try again."})})]})})})}),JU=()=>{const[e,t]=ye.useState("user"),[s,n]=ye.useState("list"),[i,o]=ye.useState(null),c=on().currentUser==="Administrator",[d,h]=ye.useState(!1),[f,g]=ye.useState(null),{tasks:p,subTasks:b,isLoading:y,error:j,mutate:v,currentUser:_}=CL(),{data:T}=ft("Team",{filters:[["teamlead","=",_||""]]}),A=T&&T.length>0?"Leader":"Member";ye.useEffect(()=>{c?t("admin"):A==="Leader"&&t("leader")},[A,c]);const k=ye.useMemo(()=>{const U=[];return p.forEach(W=>{var K;U.push({id:W.name,title:W.subject||"Untitled Task",description:W.description||"No description available",project:W.project_name||W.project||"Unknown Project",assignee:_||"Unknown",status:W.status||"Open",priority:W.priority||"Medium",dueDate:W.exp_end_date||new Date().toISOString().split("T")[0],labels:[W.type||"Task"],todoId:((K=W.assignedTodo)==null?void 0:K.name)||"",referenceName:W.name,referenceType:"Task",type:"Task",taskProgress:W.progress,expectedTime:W.expected_time,actualTime:W.actual_time,startDate:W.exp_start_date,endDate:W.exp_end_date})}),b.forEach(W=>{var K;U.push({id:W.name,title:W.subject||"Untitled SubTask",description:W.description||"No description available",project:W.project_name||"Unknown Project",assignee:_||"Unknown",status:W.status||"Open",priority:"Medium",dueDate:W.end_date||new Date().toISOString().split("T")[0],labels:["SubTask"],todoId:((K=W.assignedTodo)==null?void 0:K.name)||"",referenceName:W.name,referenceType:"SubTask",type:"SubTask",parentTask:W.task_subject,startDate:W.start_date,endDate:W.end_date})}),U.sort((W,K)=>new Date(K.dueDate).getTime()-new Date(W.dueDate).getTime())},[p,b,_]),{teamMembersData:S,error:E}=xC({team:T&&T.length>0?T[0].name:""}),{data:C}=ft("User",{fields:["name","full_name","first_name","last_name"],filters:[["enabled","=",1]],limit:0}),z=ye.useMemo(()=>!c||!C?S:C.map(U=>({id:U.name,name:U.full_name||U.first_name||U.name,role:"Member",taskCount:0,avatar:"",tasks:[],user:U})),[c,C,S]),L=U=>{const W=new Date(U),$=W<new Date,ee=W.toLocaleDateString("vi-VN");return{formatted:ee,isOverdue:$,display:$?`${ee} (Trễ)`:ee}},R=()=>{v()},V=U=>{g(U),h(!0)},I=()=>{h(!1),g(null)},G=()=>{v()};return a.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-slate-50 text-slate-800",children:[a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx(qU,{role:A,currentView:e,setCurrentView:t}),a.jsx(ZU,{error:j}),a.jsxs("main",{children:[e==="user"&&a.jsx(XU,{isLoading:y,handleRefresh:R,activeTab:s,setActiveTab:n,transformedTasks:k,formatDate:L,handleTaskClick:V}),e==="leader"&&A==="Leader"&&a.jsx(KU,{teamDataError:E,teamMembersData:S,selectedMember:i,setSelectedMember:o,formatDate:L,handleTaskClick:V}),e==="admin"&&c&&a.jsx(QU,{teamDataError:E,teamMembersData:z,selectedMember:i,setSelectedMember:o,formatDate:L,handleTaskClick:V})]})]}),a.jsx(IU,{task:f,isOpen:d,onClose:I,onSuccess:G,isLeader:A==="Leader"})]})},e9=[{id:"CT-RD-F001",name:"Biểu mẫu Nộp ý tưởng",fileName:"01_Biểu mẫu Nộp ý tưởng -CT-RD-F001.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"approved",fileType:"docx",size:"245 KB",uploadDate:"2024-03-15",uploader:"Nguyễn Văn A",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7B586A401B-5252-4DC9-8909-D9100B60791C%7D&file=01_Bi%E1%BB%83u%20m%E1%BA%ABu%20N%E1%BB%99p%20%C3%BD%20t%C6%B0%E1%BB%9Fng.docx&action=default&mobileredirect=true",hasFile:!0},{id:"CT-RD-F002",name:"Biểu mẫu Ma trận đánh giá ý tưởng",fileName:"02_Biểu mẫu Ma trận đánh giá ý tưởng -CT-RD-F002.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"pending",fileType:"docx",size:"189 KB",uploadDate:"2024-03-16",uploader:"Trần Thị B",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7B875BEDBE-0BF8-4499-9C84-404FEFAA1FE0%7D&file=02_Bi%E1%BB%83u%20m%E1%BA%ABu%20Ma%20tr%E1%BA%ADn%20%C4%91%C3%A1nh%20gi%C3%A1%20%C3%BD%20t%C6%B0%E1%BB%9Fng%20-CT-RD-F002.docx&action=default&mobileredirect=true",hasFile:!0},{id:"CT-RD-F003",name:"Biểu mẫu Đề xuất khái niệm",fileName:"03_Biểu mẫu Đề xuất khái niệm -CT-RD-F003.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"draft",fileType:"docx",size:"298 KB",uploadDate:"2024-03-17",uploader:"Lê Văn C",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7B70EB7086-DACE-4788-9444-5DF02348BCE5%7D&file=03_Bi%E1%BB%83u%20m%E1%BA%ABu%20%C4%90%E1%BB%81%20xu%E1%BA%A5t%20kh%C3%A1i%20ni%E1%BB%87m%20-CT-RD-F003.docx&action=default&mobileredirect=true",hasFile:!0},{id:"CT-RD-F004",name:"Biểu mẫu Báo cáo phân tích thị trường",fileName:"04_Biểu mẫu Báo cáo phân tích thị trường -CT-RD-F004.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7BBDAA8503-E279-4041-86BD-9E63557BAE3C%7D&file=04_Bi%E1%BB%83u%20m%E1%BA%ABu%20B%C3%A1o%20c%C3%A1o%20ph%C3%A2n%20t%C3%ADch%20th%E1%BB%8B%20tr%C6%B0%E1%BB%9Dng%20-CT-RD-F004.docx&action=default&mobileredirect=true",hasFile:!1},{id:"CT-RD-F005",name:"Biểu mẫu Báo cáo IP sơ bộ",fileName:"05_Biểu mẫu Báo cáo IP sơ bộ -CT-RD-F005.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7B8198D875-CD5F-4591-AB56-6EB7A04CAB88%7D&file=05_Bi%E1%BB%83u%20m%E1%BA%ABu%20B%C3%A1o%20c%C3%A1o%20IP%20s%C6%A1%20b%E1%BB%99-CT-RD-F005.docx&action=default&mobileredirect=true",hasFile:!1},{id:"CT-RD-F006",name:"Biểu mẫu Biên bản họp Công 1",fileName:"06_Biểu mẫu Biên bản họp Công 1 -CT-RD-F006.docx",category:"GIAI ĐOẠN 1: HÌNH THÀNH Ý TƯỞNG VÀ PHÁT TRIỂN KHÁI NIỆM",status:"approved",fileType:"docx",size:"178 KB",uploadDate:"2024-03-18",uploader:"Phạm Thị D",link:"https://ctgroupvietnam.sharepoint.com/:w:/r/sites/CTTV-CTUAV-CTUAV-UAVLAB/_layouts/15/Doc.aspx?sourcedoc=%7BC2C9B73E-D6F0-4F43-8348-BB1952BE29CC%7D&file=06_Bi%E1%BB%83u%20m%E1%BA%ABu%20Bi%C3%AAn%20b%E1%BA%A3n%20h%E1%BB%8Dp%20C%E1%BB%95ng%201-CT-RD-F006.docx&action=default&mobileredirect=true",hasFile:!0},{id:"CT-RD-F007",name:"Biểu mẫu Báo cáo xem xét tài liệu",fileName:"07_Biểu mẫu Báo cáo xem xét tài liệu-CT-RD-F007.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"pending",fileType:"docx",size:"156 KB",uploadDate:"2024-03-19",uploader:"Hoàng Văn E",link:"#",hasFile:!0},{id:"CT-RD-F008",name:"Biểu mẫu Tài liệu thiết kế sơ bộ",fileName:"08_Biểu mẫu Tài liệu thiết kế sơ bộ -CT-RD-F008.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F009",name:"Biểu mẫu Báo cáo thử nghiệm PoC",fileName:"09_Biểu mẫu Báo cáo thử nghiệm PoC -CT-RD-F009.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"draft",fileType:"docx",size:"234 KB",uploadDate:"2024-03-20",uploader:"Võ Thị F",link:"#",hasFile:!0},{id:"CT-RD-F010",name:"Biểu mẫu Ma trận đánh giá rủi ro",fileName:"10_Biểu mẫu Ma trận đánh giá rủi ro -CT-RD-F010.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F011",name:"Biểu mẫu Kế hoạch tài nguyên",fileName:"11_Biểu mẫu Kế hoạch tài nguyên -CT-RD-F011.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"approved",fileType:"docx",size:"192 KB",uploadDate:"2024-03-21",uploader:"Đặng Văn G",link:"#",hasFile:!0},{id:"CT-RD-F012",name:"Biểu mẫu Biên bản họp Công 2",fileName:"12_Biểu mẫu Biên bản họp Công 2 -CT-RD-F012.docx",category:"GIAI ĐOẠN 2: NGHIÊN CỨU TÍNH KHẢ THI KỸ THUẬT",status:"pending",fileType:"docx",size:"168 KB",uploadDate:"2024-03-22",uploader:"Bùi Thị H",link:"#",hasFile:!0},{id:"CT-RD-F013",name:"Biểu mẫu Báo cáo tìm kiếm Prior Art",fileName:"13_Biểu mẫu Báo cáo tìm kiếm Prior Art-CT-RD-F013.docx",category:"GIAI ĐOẠN 3: PHÂN TÍCH BẢN ĐỒ SỞ HỮU TRÍ TUỆ",status:"draft",fileType:"docx",size:"210 KB",uploadDate:"2024-03-23",uploader:"Lý Văn I",link:"#",hasFile:!0},{id:"CT-RD-F014",name:"Biểu mẫu Báo cáo phân tích FTO",fileName:"14_Biểu mẫu Báo cáo phân tích FTO -CT-RD-F014.docx",category:"GIAI ĐOẠN 3: PHÂN TÍCH BẢN ĐỒ SỞ HỮU TRÍ TUỆ",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F015",name:"Biểu mẫu Báo cáo thông tin cảnh tranh IP",fileName:"15_Biểu mẫu Báo cáo thông tin cảnh tranh IP -CT-RD-F015.docx",category:"GIAI ĐOẠN 3: PHÂN TÍCH BẢN ĐỒ SỞ HỮU TRÍ TUỆ",status:"approved",fileType:"docx",size:"267 KB",uploadDate:"2024-03-24",uploader:"Ngô Thị J",link:"#",hasFile:!0},{id:"CT-RD-F016",name:"Biểu mẫu Kế hoạch chiến lược IP",fileName:"16_Biểu mẫu Kế hoạch chiến lược IP -CT-RD-F016.docx",category:"GIAI ĐOẠN 3: PHÂN TÍCH BẢN ĐỒ SỞ HỮU TRÍ TUỆ",status:"pending",fileType:"docx",size:"189 KB",uploadDate:"2024-03-25",uploader:"Phan Văn K",link:"#",hasFile:!0},{id:"CT-RD-F017",name:"Biểu mẫu Biên bản họp Công 3",fileName:"17_Biểu mẫu Biên bản họp Công 3 -CT-RD-F017.docx",category:"GIAI ĐOẠN 3: PHÂN TÍCH BẢN ĐỒ SỞ HỮU TRÍ TUỆ",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F018",name:"Biểu mẫu Bản vẽ thiết kế chi tiết",fileName:"18_Biểu mẫu Bản vẽ thiết kế chi tiết-CT-RD-F018.docx",category:"GIAI ĐOẠN 4: THIẾT KẾ VÀ PHÁT TRIỂN CHI TIẾT",status:"approved",fileType:"docx",size:"312 KB",uploadDate:"2024-04-01",uploader:"Nguyễn Thị L",link:"#",hasFile:!0},{id:"CT-RD-F019",name:"Biểu mẫu Báo cáo phân tích nguyên mẫu",fileName:"19_Biểu mẫu Báo cáo phân tích nguyên mẫu-CT-RD-F019.docx",category:"GIAI ĐOẠN 4: THIẾT KẾ VÀ PHÁT TRIỂN CHI TIẾT",status:"pending",fileType:"docx",size:"278 KB",uploadDate:"2024-04-02",uploader:"Trần Văn M",link:"#",hasFile:!0},{id:"CT-RD-F020",name:"Biểu mẫu kế hoạch kiểm soát chất lượng",fileName:"20_Biểu mẫu kế hoạch kiểm soát chất lượng-CT-RD-F020.docx",category:"GIAI ĐOẠN 4: THIẾT KẾ VÀ PHÁT TRIỂN CHI TIẾT",status:"draft",fileType:"docx",size:"195 KB",uploadDate:"2024-04-03",uploader:"Lê Thị N",link:"#",hasFile:!0},{id:"CT-RD-F021",name:"Biểu mẫu Báo cáo tiến độ dự án",fileName:"21_Biểu mẫu Báo cáo tiến độ dự án-CT-RD-F021.docx",category:"GIAI ĐOẠN 4: THIẾT KẾ VÀ PHÁT TRIỂN CHI TIẾT",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F022",name:"Biểu mẫu Biên bản họp Cổng 4",fileName:"22_Biểu mẫu Biên bản họp Cổng 4-CT-RD-F022.docx",category:"GIAI ĐOẠN 4: THIẾT KẾ VÀ PHÁT TRIỂN CHI TIẾT",status:"approved",fileType:"docx",size:"167 KB",uploadDate:"2024-04-04",uploader:"Phạm Văn O",link:"#",hasFile:!0},{id:"CT-RD-F023",name:"Biểu mẫu kế hoạch kiểm thử tổng thể",fileName:"23_Biểu mẫu kế hoạch kiểm thử tổng thể-CT-RD-F023.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"pending",fileType:"docx",size:"245 KB",uploadDate:"2024-04-05",uploader:"Võ Thị P",link:"#",hasFile:!0},{id:"CT-RD-F024",name:"Biểu mẫu Báo cáo kiểm thử chức năng",fileName:"24_Biểu mẫu Báo cáo kiểm thử chức năng-CT-RD-F024.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"draft",fileType:"docx",size:"189 KB",uploadDate:"2024-04-06",uploader:"Đặng Văn Q",link:"#",hasFile:!0},{id:"CT-RD-F025",name:"Biểu mẫu Báo cáo kiểm thử hiệu suất",fileName:"25_Biểu mẫu Báo cáo kiểm thử hiệu suất-CT-RD-F025.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F026",name:"Biểu mẫu Báo cáo kiểm thử an toàn",fileName:"26_Biểu mẫu Báo cáo kiểm thử an toàn-CT-RD-F026.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"approved",fileType:"docx",size:"223 KB",uploadDate:"2024-04-07",uploader:"Bùi Thị R",link:"#",hasFile:!0},{id:"CT-RD-F027",name:"Biểu mẫu Báo cáo xác thực khách hàng",fileName:"27_Biểu mẫu Báo cáo xác thực khách hàng-CT-RD-F027.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"pending",fileType:"docx",size:"156 KB",uploadDate:"2024-04-08",uploader:"Lý Văn S",link:"#",hasFile:!0},{id:"CT-RD-F028",name:"Biểu mẫu Biên bản họp Cổng 5",fileName:"28_Biểu mẫu Biên bản họp Cổng 5-CT-RD-F028.docx",category:"GIAI ĐOẠN 5: KIỂM THỬ VÀ XÁC THỰC",status:"draft",fileType:"docx",size:"172 KB",uploadDate:"2024-04-09",uploader:"Ngô Thị T",link:"#",hasFile:!0},{id:"CT-RD-F029",name:"Biểu mẫu Đơn bằng sáng chế",fileName:"29_Biểu mẫu Đơn bằng sáng chế-CT-RD-F029.docx",category:"GIAI ĐOẠN 6: HOÀN THIỆN SỞ HỮU TRÍ TUỆ",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F030",name:"Kế hoạch bảo vệ Trade Secret",fileName:"30_Kế hoạch bảo vệ Trade Secret-CT-RD-F030.docx",category:"GIAI ĐOẠN 6: HOÀN THIỆN SỞ HỮU TRÍ TUỆ",status:"approved",fileType:"docx",size:"198 KB",uploadDate:"2024-04-10",uploader:"Phan Văn U",link:"#",hasFile:!0},{id:"CT-RD-F031",name:"Biểu mẫu Ma trận rủi ro IP",fileName:"31_Biểu mẫu Ma trận rủi ro IP-CT-RD-F031.docx",category:"GIAI ĐOẠN 6: HOÀN THIỆN SỞ HỮU TRÍ TUỆ",status:"pending",fileType:"docx",size:"234 KB",uploadDate:"2024-04-11",uploader:"Hoàng Thị V",link:"#",hasFile:!0},{id:"CT-RD-F032",name:"Biểu mẫu Biên bản họp Cổng 6",fileName:"32_Biểu mẫu Biên bản họp Cổng 6-CT-RD-F032.docx",category:"GIAI ĐOẠN 6: HOÀN THIỆN SỞ HỮU TRÍ TUỆ",status:"draft",fileType:"docx",size:"165 KB",uploadDate:"2024-04-12",uploader:"Đinh Văn W",link:"#",hasFile:!0},{id:"CT-RD-F033",name:"Biểu mẫu Báo cáo DfM",fileName:"33_Biểu mẫu Báo cáo DfM-CT-RD-F033.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"approved",fileType:"docx",size:"289 KB",uploadDate:"2024-04-13",uploader:"Vũ Thị X",link:"#",hasFile:!0},{id:"CT-RD-F034",name:"Quy trình sản xuất UAV",fileName:"34_Quy trình sản xuất UAV - CT-RD-F034.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F035",name:"Biểu mẫu Hệ thống quản lý chất lượng",fileName:"35_Biểu mẫu Hệ thống quản lý chất lượng-CT-RD-F035.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"pending",fileType:"docx",size:"256 KB",uploadDate:"2024-04-14",uploader:"Mai Văn Y",link:"#",hasFile:!0},{id:"CT-RD-F036",name:"Biểu mẫu Kế hoạch chuỗi cung ứng",fileName:"36_Biểu mẫu Kế hoạch chuỗi cung ứng-CT-RD-F036.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"draft",fileType:"docx",size:"178 KB",uploadDate:"2024-04-15",uploader:"Cao Thị Z",link:"#",hasFile:!0},{id:"CT-RD-F037",name:"Biểu mẫu Báo cáo năng lực sản xuất",fileName:"37_Biểu mẫu Báo cáo năng lực sản xuất-CT-RD-F037.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"approved",fileType:"docx",size:"312 KB",uploadDate:"2024-04-16",uploader:"Tạ Văn AA",link:"#",hasFile:!0},{id:"CT-RD-F038",name:"Biểu mẫu Biên bản họp Cổng 7",fileName:"38_Biểu mẫu Biên bản họp Cổng 7-CT-RD-F038.docx",category:"GIAI ĐOẠN 7: CHUẨN BỊ SẢN XUẤT",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F039",name:"Biểu mẫu Kế hoạch chuyển giao công nghệ",fileName:"39_Biểu mẫu Kế hoạch chuyển giao công nghệ-CT-RD-F039.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"pending",fileType:"docx",size:"267 KB",uploadDate:"2024-04-17",uploader:"Lại Thị BB",link:"#",hasFile:!0},{id:"CT-RD-F040",name:"Biểu mẫu Danh mục tài liệu chuyển giao",fileName:"40_Biểu mẫu Danh mục tài liệu chuyển giao-CT-RD-F040.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"draft",fileType:"docx",size:"195 KB",uploadDate:"2024-04-18",uploader:"Dương Văn CC",link:"#",hasFile:!0},{id:"CT-RD-F041",name:"Biểu mẫu Chương trình đào tạo",fileName:"41_Biểu mẫu Chương trình đào tạo-CT-RD-F041.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"approved",fileType:"docx",size:"223 KB",uploadDate:"2024-04-19",uploader:"Hà Thị DD",link:"#",hasFile:!0},{id:"CT-RD-F042",name:"Biểu mẫu Kế hoạch hỗ trợ sản xuất",fileName:"42_Biểu mẫu Kế hoạch hỗ trợ sản xuất-CT-RD-F042.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"empty",fileType:"docx",size:"",uploadDate:"",uploader:"",link:"#",hasFile:!1},{id:"CT-RD-F043",name:"Biểu mẫu Báo cáo đánh giá chuyển giao",fileName:"43_Biểu mẫu Báo cáo đánh giá chuyển giao-CT-RD-F043.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"pending",fileType:"docx",size:"178 KB",uploadDate:"2024-04-20",uploader:"Từ Văn EE",link:"#",hasFile:!0},{id:"CT-RD-F044",name:"Biểu mẫu Biên bản họp Cổng 8",fileName:"44_Biểu mẫu Biên bản họp Cổng 8-CT-RD-F044.docx",category:"GIAI ĐOẠN 8: CHUYỂN GIAO CÔNG NGHỆ",status:"draft",fileType:"docx",size:"189 KB",uploadDate:"2024-04-21",uploader:"Ông Thị FF",link:"#",hasFile:!0}],t9=()=>{const[e,t]=N.useState(""),[s,n]=N.useState("teams"),[i,o]=N.useState([]),[c,d]=N.useState(""),[h,f]=N.useState(""),[g,p]=N.useState(""),[b,y]=N.useState(""),[j,v]=N.useState(new Set),[_,T]=N.useState({}),A=Z=>{switch(Z){case"approved":return{className:"bg-green-100 text-green-800 border-green-200",text:"Đã duyệt"};case"pending":return{className:"bg-yellow-100 text-yellow-800 border-yellow-200",text:"Chờ duyệt"};case"draft":return{className:"bg-blue-100 text-blue-800 border-blue-200",text:"Nháp"};case"empty":return{className:"bg-gray-100 text-gray-800 border-gray-200",text:"Trống"};default:return{className:"bg-gray-100 text-gray-800 border-gray-200",text:"Không xác định"}}},{data:k,isLoading:S}=ft("Team",{fields:["name","team","teamlead"],limit:0}),{data:E,isLoading:C}=ft("Project",{fields:["name","project_name","owner","team"],limit:0}),{data:z,isLoading:L}=ft("project_phase",{fields:["name","subject","project","progress","status"],limit:0}),{data:R,isLoading:V}=ft("Task",{fields:["name","subject","project","phase"],limit:0}),{data:I,isLoading:G}=ft("File",{fields:["name","file_name","file_url","file_size","is_private","attached_to_doctype","attached_to_name","creation","owner","modified"],filters:[["attached_to_doctype","=","Task"]],orderBy:{field:"creation",order:"desc"},limit:0}),U=(Z,Re)=>{d(Z),n("projects"),o([{id:Z,name:Re,type:"team"}])},W=(Z,Re)=>{f(Z),n("project-detail"),o(He=>[...He,{id:Z,name:Re,type:"project"}])},K=(Z,Re)=>{p(Z),n("tasks"),o(He=>[...He,{id:Z,name:Re,type:"phase"}])},$=(Z,Re)=>{y(Z),n("files"),o(He=>[...He,{id:Z,name:Re,type:"task"}])},ee=Z=>{const Re=i[Z];if(!Re){n("teams"),o([]),d(""),f(""),p(""),y("");return}switch(Re.type){case"team":n("projects"),o(i.slice(0,Z+1)),d(Re.id),f(""),p(""),y("");break;case"project":n("project-detail"),o(i.slice(0,Z+1)),p(""),y("");break;case"phase":n("tasks"),o(i.slice(0,Z+1)),y("");break}},se=Z=>{if(Z===0)return"0 Bytes";const Re=1024,He=["Bytes","KB","MB","GB"],Ye=Math.floor(Math.log(Z)/Math.log(Re));return parseFloat((Z/Math.pow(Re,Ye)).toFixed(2))+" "+He[Ye]},Ne=Z=>{var Ye;if(Z.file_url.startsWith("http")&&(Z.file_size===0||!Z.file_name.includes(".")))return a.jsx(Hd,{className:"h-5 w-5 text-blue-500"});switch((Ye=Z.file_name.split(".").pop())==null?void 0:Ye.toLowerCase()){case"pdf":return a.jsx(Ds,{className:"h-5 w-5 text-red-500"});case"doc":case"docx":return a.jsx(Ds,{className:"h-5 w-5 text-blue-500"});case"xls":case"xlsx":return a.jsx(Ds,{className:"h-5 w-5 text-green-500"});default:return a.jsx(Ds,{className:"h-5 w-5 text-gray-500"})}},P=Z=>Z.file_url.startsWith("http")&&(Z.file_size===0||!Z.file_name.includes(".")),ne=(Z,Re)=>{T(He=>ie(F({},He),{[Z]:Re})),console.log(`Updating document ${Z} status to ${Re}`)},ge=Z=>{console.log(`Deleting document ${Z}`)},X=N.useMemo(()=>!E||!c?[]:E.filter(Z=>Z.team===c),[E,c]),re=N.useMemo(()=>!z||!h?[]:z.filter(Re=>Re.project===h).slice(0,8),[z,h]),_e=Z=>{const Re=Z.progress||0,Ye=`GIAI ĐOẠN ${re.findIndex(tt=>tt.name===Z.name)+1}`;return e9.filter(tt=>tt.category.includes(Ye)).map(tt=>ie(F({},tt),{status:Re===100?"approved":tt.status,hasFile:Re===100?!0:tt.hasFile}))},me=N.useMemo(()=>!R||!h?[]:g?R.filter(Z=>Z.project===h&&Z.phase===g):R.filter(Z=>Z.project===h&&!Z.phase),[R,h,g]),Pe=N.useMemo(()=>!I||!b?[]:I.filter(Z=>Z.attached_to_name===b),[I,b]),we=N.useMemo(()=>{if(!k||!E)return{};const Z={};return k.forEach(Re=>{const Ye=E.filter(tt=>tt.team===Re.name).length*45;Z[Re.name]=Ye}),Z},[k,E]),Ce=N.useMemo(()=>{if(!E)return{};const Z={};return E.forEach(Re=>{Z[Re.name]=45}),Z},[E]);return S||C||L||V||G?a.jsxs("div",{className:"flex items-center justify-center min-h-96",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Đang tải dữ liệu..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản lý tài liệu"}),a.jsxs("p",{className:"text-gray-600",children:["Quản lý tài liệu theo cấu trúc Team ","->"," Project ","->"," Phase"]})]})}),i.length>0&&a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsxs("button",{onClick:()=>ee(-1),className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[a.jsx(Cn,{className:"h-4 w-4"}),"Teams"]}),i.map((Z,Re)=>a.jsxs(ye.Fragment,{children:[a.jsx("span",{className:"text-gray-500",children:"/"}),a.jsxs("button",{onClick:()=>ee(Re),className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[Z.type==="team"&&a.jsx(Cn,{className:"h-4 w-4"}),Z.type==="project"&&a.jsx(Xl,{className:"h-4 w-4"}),Z.type==="phase"&&a.jsx(Os,{className:"h-4 w-4"}),Z.type==="task"&&a.jsx(Ci,{className:"h-4 w-4"}),Z.name]})]},Z.id))]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(Vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:s==="teams"?"Tìm kiếm team...":s==="projects"?"Tìm kiếm dự án...":s==="project-detail"?"Tìm kiếm tài liệu...":s==="phases"?"Tìm kiếm phase...":s==="tasks"?"Tìm kiếm task...":"Tìm kiếm file...",value:e,onChange:Z=>t(Z.target.value),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s==="teams"&&a.jsxs("div",{children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 text-sm font-semibold text-gray-700 uppercase tracking-wider",children:[a.jsxs("div",{className:"col-span-5 flex items-center gap-2",children:[a.jsx(Cn,{className:"h-4 w-4"}),"Team"]}),a.jsxs("div",{className:"col-span-4 flex items-center gap-2",children:[a.jsx(nu,{className:"h-4 w-4"}),"Nhóm Trưởng"]}),a.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[a.jsx(Ds,{className:"h-4 w-4"}),"Số Tài liệu"]})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:k&&k.length>0?k.filter(Z=>{var Re;return!e||((Re=Z.team)==null?void 0:Re.toLowerCase().includes(e.toLowerCase()))}).map(Z=>a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>U(Z.name,Z.team||"Unnamed Team"),children:[a.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[a.jsx(Cn,{className:"h-6 w-6 text-blue-500 flex-shrink-0"}),a.jsx("div",{className:"min-w-0",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:Z.team||"Unnamed Team"})})]}),a.jsx("div",{className:"col-span-4 flex items-center",children:a.jsx("div",{className:"min-w-0",children:a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:Z.teamlead||"Chưa có nhóm trưởng"})})}),a.jsx("div",{className:"col-span-3 flex items-center",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-semibold text-blue-600",children:(we[Z.name]||45).toLocaleString("vi-VN")}),a.jsx("span",{className:"text-sm text-gray-600",children:"tài liệu"})]})})]},Z.name)):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Cn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Không có team nào"})]})})]}),s==="projects"&&a.jsxs("div",{children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 text-sm font-semibold text-gray-700 uppercase tracking-wider",children:[a.jsxs("div",{className:"col-span-6 flex items-center gap-2",children:[a.jsx(Xl,{className:"h-4 w-4"}),"Tên Dự Án"]}),a.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[a.jsx(Ds,{className:"h-4 w-4"}),"Số File"]}),a.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[a.jsx(Os,{className:"h-4 w-4"}),"Thao Tác"]})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:X&&X.length>0?X.filter(Z=>!e||Z.project_name.toLowerCase().includes(e.toLowerCase())).map(Z=>a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>W(Z.name,Z.project_name),children:[a.jsxs("div",{className:"col-span-6 flex items-center gap-3",children:[a.jsx(Xl,{className:"h-6 w-6 text-green-500 flex-shrink-0"}),a.jsx("div",{className:"min-w-0",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:Z.project_name})})]}),a.jsx("div",{className:"col-span-3 flex items-center",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-semibold text-green-600",children:(Ce[Z.name]||45).toLocaleString("vi-VN")}),a.jsx("span",{className:"text-sm text-gray-600",children:"tài liệu"})]})}),a.jsx("div",{className:"col-span-3 flex items-center",children:a.jsx("span",{className:"text-sm text-gray-600",children:"Click để xem phases và tasks"})})]},Z.name)):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Xl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Không có dự án nào"})]})})]}),s==="project-detail"&&a.jsx("div",{className:"space-y-6",children:re&&re.length>0?a.jsx("div",{className:"space-y-4",children:re.map((Z,Re)=>{const He=`phase-${Z.name}`,Ye=Z.progress||0,tt=_e(Z),gt=[{bg:"bg-blue-50",hoverBg:"hover:bg-blue-100",iconBg:"bg-blue-100",iconColor:"text-blue-600",textColor:"text-blue-600",uploadBg:"bg-blue-600",uploadHover:"hover:bg-blue-700"},{bg:"bg-green-50",hoverBg:"hover:bg-green-100",iconBg:"bg-green-100",iconColor:"text-green-600",textColor:"text-green-600",uploadBg:"bg-green-600",uploadHover:"hover:bg-green-700"},{bg:"bg-purple-50",hoverBg:"hover:bg-purple-100",iconBg:"bg-purple-100",iconColor:"text-purple-600",textColor:"text-purple-600",uploadBg:"bg-purple-600",uploadHover:"hover:bg-purple-700"},{bg:"bg-orange-50",hoverBg:"hover:bg-orange-100",iconBg:"bg-orange-100",iconColor:"text-orange-600",textColor:"text-orange-600",uploadBg:"bg-orange-600",uploadHover:"hover:bg-orange-700"},{bg:"bg-red-50",hoverBg:"hover:bg-red-100",iconBg:"bg-red-100",iconColor:"text-red-600",textColor:"text-red-600",uploadBg:"bg-red-600",uploadHover:"hover:bg-red-700"},{bg:"bg-indigo-50",hoverBg:"hover:bg-indigo-100",iconBg:"bg-indigo-100",iconColor:"text-indigo-600",textColor:"text-indigo-600",uploadBg:"bg-indigo-600",uploadHover:"hover:bg-indigo-700"},{bg:"bg-yellow-50",hoverBg:"hover:bg-yellow-100",iconBg:"bg-yellow-100",iconColor:"text-yellow-600",textColor:"text-yellow-600",uploadBg:"bg-yellow-600",uploadHover:"hover:bg-yellow-700"},{bg:"bg-pink-50",hoverBg:"hover:bg-pink-100",iconBg:"bg-pink-100",iconColor:"text-pink-600",textColor:"text-pink-600",uploadBg:"bg-pink-600",uploadHover:"hover:bg-pink-700"}],Dt=gt[Re%gt.length],De=ze=>ze===100?"✅":ze>=75?"🔄":ze>=50?"⏳":ze>=25?"🔧":ze>0?"🚀":"📋";return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{const ze=new Set(j);ze.has(He)?ze.delete(He):ze.add(He),v(ze)},className:`w-full px-6 py-4 ${Dt.bg} ${Dt.hoverBg} transition-colors flex items-center justify-between`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`${Dt.iconBg} p-2 rounded`,children:a.jsx(Ds,{className:`h-6 w-6 ${Dt.iconColor}`})}),a.jsxs("div",{className:"text-left",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[De(Ye)," ",Z.subject||"Unnamed Phase"]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[a.jsxs("span",{children:[tt.filter(ze=>ze.hasFile).length,"/",tt.length," tài liệu"]}),a.jsxs("span",{className:`font-medium ${Ye===100?"text-green-600":Ye>=1?"text-yellow-600":"text-gray-500"}`,children:["Progress: ",Ye,"%"]}),Ye===100&&a.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Tài liệu đã duyệt"}),Ye!==100&&a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Tài liệu trống/nháp"})]})]})]}),j.has(He)?a.jsx(zM,{className:"h-5 w-5 text-gray-500"}):a.jsx(Gx,{className:"h-5 w-5 text-gray-500"})]}),j.has(He)&&a.jsxs("div",{className:"border-t border-gray-200",children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3 text-sm font-semibold text-gray-700",children:[a.jsx("div",{className:"col-span-1 text-center",children:"Mã số"}),a.jsx("div",{className:"col-span-3",children:"Tên File"}),a.jsx("div",{className:"col-span-1 text-center",children:"Link"}),a.jsx("div",{className:"col-span-3",children:"File Upload"}),a.jsx("div",{className:"col-span-2",children:"Status"}),a.jsx("div",{className:"col-span-1 text-center",children:"Thao tác"})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:tt.filter(ze=>!e||ze.name.toLowerCase().includes(e.toLowerCase())||ze.id.toLowerCase().includes(e.toLowerCase())).map(ze=>a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("span",{className:`text-xs font-mono ${Dt.textColor} bg-opacity-50 ${Dt.bg} px-2 py-1 rounded`,children:ze.id})}),a.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[a.jsx(Ds,{className:`h-5 w-5 ${Dt.iconColor.replace("text-","text-").replace("-600","-500")}`}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:ze.name}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:ze.fileName})]})]}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("button",{onClick:()=>window.open(ze.link,"_blank"),className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem tài liệu",children:a.jsx(K0,{className:"h-4 w-4"})})}),a.jsx("div",{className:"col-span-3",children:ze.hasFile?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-900 truncate flex-1",title:ze.fileName,style:{maxWidth:"150px"},children:ze.fileName}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Xem",children:a.jsx(Kx,{className:"h-4 w-4"})}),a.jsx("button",{className:"text-green-600 hover:text-green-700 p-1 rounded transition-colors",title:"Tải xuống",children:a.jsx(dc,{className:"h-4 w-4"})})]})]}):a.jsxs("button",{className:`${Dt.uploadBg} ${Dt.uploadHover} text-white px-3 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-1`,children:[a.jsx(Z_,{className:"h-3 w-3"}),"Tải lên"]})}),a.jsx("div",{className:"col-span-2",children:a.jsxs("select",{value:_[ze.id]||ze.status,onChange:Fe=>ne(ze.id,Fe.target.value),className:`text-xs border rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent font-medium ${A(_[ze.id]||ze.status).className}`,children:[a.jsx("option",{value:"approved",children:"Đã duyệt"}),a.jsx("option",{value:"pending",children:"Chờ duyệt"}),a.jsx("option",{value:"draft",children:"Nháp"}),a.jsx("option",{value:"empty",children:"Trống"})]})}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("button",{onClick:()=>ge(ze.id),className:"text-red-600 hover:text-red-700 p-1 rounded transition-colors",title:"Xóa tài liệu",children:a.jsx(eo,{className:"h-4 w-4"})})})]},ze.id))})]})]},He)})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Os,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Dự án không có giai đoạn"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Dự án này chưa được thiết lập các giai đoạn"})]})}),s==="phases"&&a.jsxs("div",{className:"divide-y divide-gray-200",children:[a.jsx("div",{className:"p-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Os,{className:"h-5 w-5 text-orange-500"}),"Phases"]})}),re&&re.length>0?re.filter(Z=>{var Re;return!e||((Re=Z.subject)==null?void 0:Re.toLowerCase().includes(e.toLowerCase()))}).map(Z=>a.jsxs("div",{className:"flex items-center gap-4 p-6 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>K(Z.name,Z.subject||"Unnamed Phase"),children:[a.jsx(Os,{className:"h-8 w-8 text-orange-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:Z.subject||"Unnamed Phase"}),a.jsx("p",{className:"text-gray-600",children:"Click để xem tasks trong phase này"})]}),a.jsx("div",{className:"text-gray-400",children:a.jsx(Ci,{className:"h-5 w-5"})})]},Z.name)):a.jsx("div",{className:"p-6",children:a.jsx("p",{className:"text-gray-600",children:"Không có phase nào trong dự án này"})}),a.jsx("div",{className:"p-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Ci,{className:"h-5 w-5 text-purple-500"}),"Tasks (Không thuộc Phase)"]})}),me&&me.length>0?me.filter(Z=>!(e&&!Z.subject.toLowerCase().includes(e.toLowerCase()))).map(Z=>{const Re=(I==null?void 0:I.filter(He=>He.attached_to_name===Z.name).length)||0;return a.jsxs("div",{className:"flex items-center gap-4 p-6 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>$(Z.name,Z.subject),children:[a.jsx(Ci,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:Z.subject}),a.jsxs("p",{className:"text-gray-600",children:[Re," file(s)"]})]}),a.jsx("div",{className:"text-gray-400",children:a.jsx(Ds,{className:"h-5 w-5"})})]},Z.name)}):a.jsx("div",{className:"p-6",children:a.jsx("p",{className:"text-gray-600",children:"Không có task nào trong dự án này"})})]}),s==="tasks"&&g&&a.jsx("div",{className:"divide-y divide-gray-200",children:me&&me.length>0?me.filter(Z=>!(e&&!Z.subject.toLowerCase().includes(e.toLowerCase()))).map(Z=>{const Re=(I==null?void 0:I.filter(He=>He.attached_to_name===Z.name).length)||0;return a.jsxs("div",{className:"flex items-center gap-4 p-6 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>$(Z.name,Z.subject),children:[a.jsx(Ci,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:Z.subject}),a.jsxs("p",{className:"text-gray-600",children:[Re," file(s)"]})]}),a.jsx("div",{className:"text-gray-400",children:a.jsx(Ds,{className:"h-5 w-5"})})]},Z.name)}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ci,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Không có task nào trong phase này"})]})}),s==="files"&&a.jsx("div",{className:"divide-y divide-gray-200",children:Pe&&Pe.length>0?Pe.filter(Z=>!e||Z.file_name.toLowerCase().includes(e.toLowerCase())||Z.owner.toLowerCase().includes(e.toLowerCase())).map(Z=>a.jsxs("div",{className:"flex items-center gap-4 p-6 hover:bg-gray-50 transition-colors",children:[Ne(Z),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 truncate",children:Z.file_name}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(nu,{className:"h-4 w-4"}),a.jsxs("span",{children:["Người thêm: ",Z.owner]})]}),!P(Z)&&a.jsxs("span",{children:["Kích thước: ",se(Z.file_size)]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ui,{className:"h-4 w-4"}),a.jsx("span",{children:new Date(Z.creation).toLocaleDateString("vi-VN")})]}),P(Z)&&a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:"Link"})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("button",{onClick:Re=>{Re.stopPropagation(),window.open(Z.file_url,"_blank")},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:P(Z)?a.jsxs(a.Fragment,{children:[a.jsx(K0,{className:"h-4 w-4"}),"Mở Link"]}):a.jsxs(a.Fragment,{children:[a.jsx(dc,{className:"h-4 w-4"}),"Tải xuống"]})})})]},Z.name)):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ds,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Không có file nào"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Task này chưa có file đính kèm"})]})})]}),s==="teams"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Cn,{className:"h-8 w-8 text-blue-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng Team"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(k==null?void 0:k.length)||0})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Xl,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng Dự án"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(E==null?void 0:E.length)||0})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ci,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng Task"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(R==null?void 0:R.length)||0})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ds,{className:"h-8 w-8 text-red-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng Tài liệu"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:k?Object.values(we).reduce((Z,Re)=>Z+Re,0).toLocaleString("vi-VN"):"0"})]})]})})]})]})},s9=[{id:"1",project:"Hệ thống Điều khiển UAV Tự động",category:"Thiết kế Chi tiết",planned:5e8,actual:36e7,remaining:14e7,status:"on-track",lastUpdated:"2024-01-15"},{id:"2",project:"Cảm biến Nhiệt độ IoT",category:"Nghiên cứu Tính khả thi",planned:2e8,actual:24e7,remaining:-4e7,status:"over-budget",lastUpdated:"2024-01-16"},{id:"3",project:"Platform AI cho Robot",category:"Phát triển Sản phẩm",planned:8e8,remaining:576e6,actual:224e6,status:"under-budget",lastUpdated:"2024-01-14"}],n9=["Tất cả","Thiết kế Chi tiết","Nghiên cứu Tính khả thi","Phát triển Sản phẩm"],a9=()=>{const[e]=N.useState(s9),[t,s]=N.useState("Tất cả"),n=e.filter(b=>t==="Tất cả"||b.category===t),i=e.reduce((b,y)=>b+y.planned,0),o=e.reduce((b,y)=>b+y.actual,0),c=e.reduce((b,y)=>b+y.remaining,0),d=Math.round(o/i*100),h=b=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0}).format(b).replace("₫","đ"),f=b=>{switch(b){case"on-track":return"bg-green-100 text-green-800";case"over-budget":return"bg-red-100 text-red-800";case"under-budget":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},g=b=>{switch(b){case"on-track":return"Đúng kế hoạch";case"over-budget":return"Vượt ngân sách";case"under-budget":return"Dưới ngân sách";default:return b}},p=b=>{switch(b){case"on-track":return a.jsx(tc,{className:"h-4 w-4 text-green-600"});case"over-budget":return a.jsx(j1,{className:"h-4 w-4 text-red-600"});case"under-budget":return a.jsx(tc,{className:"h-4 w-4 text-blue-600"});default:return a.jsx(zi,{className:"h-4 w-4 text-gray-600"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ngân sách"}),a.jsx("p",{className:"text-gray-600",children:"Quản lý chi phí và ngân sách"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(dc,{className:"h-4 w-4"}),"Xuất báo cáo"]}),a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx($i,{className:"h-4 w-4"}),"Thêm ngân sách"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng ngân sách"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(i)}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Kế hoạch năm 2024"})]}),a.jsx(Hi,{className:"h-8 w-8 text-blue-500"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã sử dụng"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(o)}),a.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[d,"% đã sử dụng"]})]}),a.jsx(tc,{className:"h-8 w-8 text-green-500"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Còn lại"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(c)}),a.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[100-d,"% còn lại"]})]}),a.jsx(j1,{className:"h-8 w-8 text-purple-500"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Dự án vượt ngân sách"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.filter(b=>b.status==="over-budget").length}),a.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Cần chú ý"})]}),a.jsx(zi,{className:"h-8 w-8 text-red-500"})]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(pc,{className:"h-5 w-5 text-gray-400"}),a.jsx("select",{value:t,onChange:b=>s(b.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:n9.map(b=>a.jsx("option",{value:b,children:b},b))})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dự án"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Giai đoạn"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kế hoạch"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thực tế"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Còn lại"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tiến độ"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cập nhật"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(b=>{const y=Math.round(b.actual/b.planned*100);return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.project})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:b.category})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:h(b.planned)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:h(b.actual)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:a.jsx("span",{className:b.remaining<0?"text-red-600":"text-gray-900",children:h(b.remaining)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${y>100?"bg-red-500":y>80?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(y,100)}%`}})}),a.jsxs("span",{className:"ml-2 text-xs text-gray-600",children:[y,"%"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${f(b.status)}`,children:[p(b.status),a.jsx("span",{className:"ml-1",children:g(b.status)})]})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-500",children:b.lastUpdated})]},b.id)})})]})})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Biểu đồ ngân sách theo thời gian"}),a.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Biểu đồ sẽ được hiển thị tại đây"})})]})]})},r9=[{id:"1",title:"Thiếu linh kiện cảm biến chính",project:"Hệ thống Điều khiển UAV Tự động",category:"Kỹ thuật",probability:"high",impact:"high",status:"mitigating",owner:"Nguyễn Văn A",description:"Nhà cung cấp chính gặp vấn đề sản xuất, có thể ảnh hưởng đến tiến độ dự án",mitigation:"Tìm nhà cung cấp thay thế và đàm phán gia hạn giao hàng",createdDate:"2024-01-10",dueDate:"2024-02-15"},{id:"2",title:"Thay đổi yêu cầu từ khách hàng",project:"Cảm biến Nhiệt độ IoT",category:"Yêu cầu",probability:"medium",impact:"medium",status:"analyzing",owner:"Trần Thị B",description:"Khách hàng có thể thay đổi thông số kỹ thuật trong quá trình phát triển",mitigation:"Thiết lập quy trình quản lý thay đổi chặt chẽ",createdDate:"2024-01-12",dueDate:"2024-01-30"},{id:"3",title:"Nhân sự chủ chốt nghỉ việc",project:"Platform AI cho Robot",category:"Nhân sự",probability:"low",impact:"high",status:"identified",owner:"Lê Văn C",description:"Rủi ro mất đi nhân sự có kinh nghiệm trong quá trình phát triển",mitigation:"Xây dựng kế hoạch đào tạo và chuyển giao kiến thức",createdDate:"2024-01-08",dueDate:"2024-03-01"}],i9=["Tất cả","Kỹ thuật","Yêu cầu","Nhân sự","Tài chính","Lịch trình"],o9=["Tất cả","identified","analyzing","mitigating","closed"],l9=()=>{const[e]=N.useState(r9),[t,s]=N.useState(""),[n,i]=N.useState("Tất cả"),[o,c]=N.useState("Tất cả"),d=e.filter(k=>{const S=k.title.toLowerCase().includes(t.toLowerCase())||k.project.toLowerCase().includes(t.toLowerCase()),E=n==="Tất cả"||k.category===n,C=o==="Tất cả"||k.status===o;return S&&E&&C}),h=(k,S)=>{const z=(k==="high"?3:k==="medium"?2:1)*(S==="high"?3:S==="medium"?2:1);return z>=6?{level:"Cao",color:"bg-red-100 text-red-800"}:z>=3?{level:"Trung bình",color:"bg-yellow-100 text-yellow-800"}:{level:"Thấp",color:"bg-green-100 text-green-800"}},f=k=>{switch(k){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},g=k=>{switch(k){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},p=k=>{switch(k){case"identified":return"bg-blue-100 text-blue-800";case"analyzing":return"bg-yellow-100 text-yellow-800";case"mitigating":return"bg-orange-100 text-orange-800";case"closed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},b=k=>{switch(k){case"identified":return"Đã xác định";case"analyzing":return"Đang phân tích";case"mitigating":return"Đang giảm thiểu";case"closed":return"Đã đóng";default:return k}},y=k=>{switch(k){case"high":return"Cao";case"medium":return"Trung bình";case"low":return"Thấp";default:return k}},j=k=>{switch(k){case"high":return"Cao";case"medium":return"Trung bình";case"low":return"Thấp";default:return k}},v=e.filter(k=>h(k.probability,k.impact).level==="Cao").length,_=e.filter(k=>h(k.probability,k.impact).level==="Trung bình").length,T=e.filter(k=>h(k.probability,k.impact).level==="Thấp").length,A=e.filter(k=>k.status!=="closed").length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Rủi ro"}),a.jsx("p",{className:"text-gray-600",children:"Quản lý rủi ro dự án"})]}),a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx($i,{className:"h-4 w-4"}),"Thêm rủi ro"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(xc,{className:"h-8 w-8 text-red-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rủi ro cao"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:v})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kx,{className:"h-8 w-8 text-yellow-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rủi ro trung bình"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:_})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Q_,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rủi ro thấp"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:T})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(tc,{className:"h-8 w-8 text-blue-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang xử lý"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:A})]})]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Tìm kiếm rủi ro...",value:t,onChange:k=>s(k.target.value),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsx("div",{children:a.jsx("select",{value:n,onChange:k=>i(k.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:i9.map(k=>a.jsx("option",{value:k,children:k},k))})}),a.jsx("div",{children:a.jsx("select",{value:o,onChange:k=>c(k.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:o9.map(k=>a.jsx("option",{value:k,children:k==="Tất cả"?"Tất cả trạng thái":b(k)},k))})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rủi ro"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dự án"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Xác suất"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tác động"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mức độ"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Người phụ trách"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hạn xử lý"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(k=>{const S=h(k.probability,k.impact);return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.title}),a.jsx("div",{className:"text-sm text-gray-500 mt-1",children:k.category})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:k.project})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:a.jsx("span",{className:`text-sm font-medium ${f(k.probability)}`,children:y(k.probability)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:a.jsx("span",{className:`text-sm font-medium ${g(k.impact)}`,children:j(k.impact)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S.color}`,children:S.level})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p(k.status)}`,children:b(k.status)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.owner}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-500",children:k.dueDate})]},k.id)})})]})})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Ma trận rủi ro"}),a.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Ma trận rủi ro sẽ được hiển thị tại đây"})})]})]})},c9=[{id:"1",title:"Gate Review 4 - UAV Control System",type:"gate-review",project:"Hệ thống Điều khiển UAV Tự động",date:"2024-01-15",time:"09:00",duration:120,location:"Phòng họp A",attendees:["Nguyễn Văn A","Trần Thị B","Lê Văn C"],status:"scheduled",description:"Đánh giá tiến độ và chất lượng giai đoạn Thiết kế Chi tiết",isOnline:!1},{id:"2",title:"Weekly Progress Meeting",type:"progress",project:"Cảm biến Nhiệt độ IoT",date:"2024-01-16",time:"14:00",duration:60,location:"Microsoft Teams",attendees:["Trần Thị B","Phạm Văn D"],status:"scheduled",description:"Họp tiến độ hàng tuần cho dự án IoT",isOnline:!0,meetingLink:"https://teams.microsoft.com/..."},{id:"3",title:"Technical Review - AI Platform",type:"technical",project:"Platform AI cho Robot",date:"2024-01-18",time:"10:30",duration:90,location:"Phòng họp B",attendees:["Lê Văn C","Hoàng Thị E","Vũ Văn F"],status:"completed",description:"Đánh giá kỹ thuật kiến trúc hệ thống AI",isOnline:!1}],d9=[{value:"all",label:"Tất cả cuộc họp"},{value:"gate-review",label:"Gate Review"},{value:"progress",label:"Họp tiến độ"},{value:"planning",label:"Họp lập kế hoạch"},{value:"technical",label:"Họp kỹ thuật"}],u9=()=>{const[e]=N.useState(c9),[t,s]=N.useState("all"),[n,i]=N.useState("list"),o=e.filter(v=>t==="all"||v.type===t),c=v=>{switch(v){case"gate-review":return"bg-red-100 text-red-800";case"progress":return"bg-blue-100 text-blue-800";case"planning":return"bg-green-100 text-green-800";case"technical":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},d=v=>{switch(v){case"gate-review":return"Gate Review";case"progress":return"Họp tiến độ";case"planning":return"Lập kế hoạch";case"technical":return"Kỹ thuật";default:return v}},h=v=>{switch(v){case"scheduled":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=v=>{switch(v){case"scheduled":return"Đã lên lịch";case"in-progress":return"Đang diễn ra";case"completed":return"Hoàn thành";case"cancelled":return"Đã hủy";default:return v}},g=v=>new Date(v).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),p=e.filter(v=>v.date==="2024-01-15").length,b=e.filter(v=>v.status==="scheduled").length,y=e.filter(v=>v.status==="completed").length,j=e.filter(v=>v.type==="gate-review").length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Lịch họp"}),a.jsx("p",{className:"text-gray-600",children:"Quản lý cuộc họp và gate review"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>i("list"),className:`px-3 py-1 rounded text-sm transition-colors ${n==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Danh sách"}),a.jsx("button",{onClick:()=>i("calendar"),className:`px-3 py-1 rounded text-sm transition-colors ${n==="calendar"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Lịch"})]}),a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx($i,{className:"h-4 w-4"}),"Tạo cuộc họp"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Os,{className:"h-8 w-8 text-blue-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Hôm nay"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ui,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sắp tới"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(K_,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã hoàn thành"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ds,{className:"h-8 w-8 text-red-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Gate Review"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j})]})]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Loại cuộc họp:"}),a.jsx("select",{value:t,onChange:v=>s(v.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:d9.map(v=>a.jsx("option",{value:v.value,children:v.label},v.value))})]})}),n==="list"?a.jsx("div",{className:"space-y-4",children:o.map(v=>a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.title}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(v.type)}`,children:d(v.type)}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(v.status)}`,children:f(v.status)})]}),a.jsx("p",{className:"text-gray-600 mb-3",children:v.description}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Os,{className:"h-4 w-4 mr-2"}),g(v.date)]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ui,{className:"h-4 w-4 mr-2"}),v.time," (",v.duration," phút)"]}),a.jsxs("div",{className:"flex items-center",children:[v.isOnline?a.jsx(_1,{className:"h-4 w-4 mr-2"}):a.jsx(p5,{className:"h-4 w-4 mr-2"}),v.location]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Cn,{className:"h-4 w-4 mr-2"}),v.attendees.length," người tham gia"]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Dự án: ",a.jsx("span",{className:"font-medium",children:v.project})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:v.attendees.map((_,T)=>a.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:_},T))})]})]}),a.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[v.isOnline&&v.meetingLink&&a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm flex items-center gap-1",children:[a.jsx(_1,{className:"h-3 w-3"}),"Tham gia"]}),a.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:"Chi tiết"})]})]})},v.id))}):a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Lịch cuộc họp"}),a.jsx("div",{className:"h-96 bg-gray-50 rounded-lg flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Lịch cuộc họp sẽ được hiển thị tại đây"})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cuộc họp sắp tới"}),a.jsx("div",{className:"space-y-3",children:e.filter(v=>v.status==="scheduled").slice(0,3).map(v=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:v.title}),a.jsxs("p",{className:"text-xs text-gray-500",children:[v.date," - ",v.time]})]})]},v.id))})]})]})},h9=[{id:"1",name:"Báo cáo tiến độ dự án tháng 1",type:"project",description:"Tổng hợp tiến độ thực hiện các dự án R&D trong tháng 1/2024",lastGenerated:"2024-01-15",status:"ready",format:"PDF"},{id:"2",name:"Phân tích chi phí quý 1",type:"financial",description:"Báo cáo chi tiết về tình hình tài chính và ngân sách dự án",lastGenerated:"2024-01-14",status:"ready",format:"Excel"},{id:"3",name:"Báo cáo hiệu suất nhân sự",type:"resource",description:"Đánh giá hiệu suất làm việc và phân bổ nguồn lực",lastGenerated:"2024-01-13",status:"generating",format:"PowerPoint"},{id:"4",name:"Dashboard KPI tổng quan",type:"performance",description:"Các chỉ số hiệu suất chính của tổ chức",lastGenerated:"2024-01-12",status:"ready",format:"PDF"}],f9=[{value:"all",label:"Tất cả báo cáo",icon:Ds},{value:"project",label:"Báo cáo dự án",icon:su},{value:"financial",label:"Báo cáo tài chính",icon:Hi},{value:"resource",label:"Báo cáo nguồn lực",icon:Cn},{value:"performance",label:"Báo cáo hiệu suất",icon:tc}],m9=()=>{const[e]=N.useState(h9),[t,s]=N.useState("all"),[n,i]=N.useState("this-month"),o=e.filter(v=>t==="all"||v.type===t),c=v=>{switch(v){case"project":return"bg-blue-100 text-blue-800";case"financial":return"bg-green-100 text-green-800";case"resource":return"bg-purple-100 text-purple-800";case"performance":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},d=v=>{switch(v){case"project":return"Dự án";case"financial":return"Tài chính";case"resource":return"Nguồn lực";case"performance":return"Hiệu suất";default:return v}},h=v=>{switch(v){case"ready":return"bg-green-100 text-green-800";case"generating":return"bg-yellow-100 text-yellow-800";case"error":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=v=>{switch(v){case"ready":return"Sẵn sàng";case"generating":return"Đang tạo";case"error":return"Lỗi";default:return v}},g=v=>{switch(v){case"PDF":return"📄";case"Excel":return"📊";case"PowerPoint":return"📽️";default:return"📄"}},p=e.filter(v=>v.status==="ready").length,b=e.filter(v=>v.status==="generating").length,y=e.filter(v=>v.type==="project").length,j=e.filter(v=>v.type==="financial").length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Báo cáo"}),a.jsx("p",{className:"text-gray-600",children:"Báo cáo và thống kê"})]}),a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(Ds,{className:"h-4 w-4"}),"Tạo báo cáo mới"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ds,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Báo cáo sẵn sàng"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(su,{className:"h-8 w-8 text-yellow-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang tạo"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(MM,{className:"h-8 w-8 text-blue-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Báo cáo dự án"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hi,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Báo cáo tài chính"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j})]})]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại báo cáo"}),a.jsx("select",{value:t,onChange:v=>s(v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:f9.map(v=>a.jsx("option",{value:v.value,children:v.label},v.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thời gian"}),a.jsxs("select",{value:n,onChange:v=>i(v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"this-week",children:"Tuần này"}),a.jsx("option",{value:"this-month",children:"Tháng này"}),a.jsx("option",{value:"this-quarter",children:"Quý này"}),a.jsx("option",{value:"this-year",children:"Năm này"}),a.jsx("option",{value:"custom",children:"Tùy chọn"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[a.jsx(pc,{className:"h-4 w-4"}),"Lọc"]})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[a.jsx(su,{className:"h-8 w-8 text-blue-500 mb-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo tiến độ"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tổng quan tiến độ các dự án"})]}),a.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[a.jsx(Hi,{className:"h-8 w-8 text-green-500 mb-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo tài chính"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Chi phí và ngân sách"})]}),a.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[a.jsx(Cn,{className:"h-8 w-8 text-purple-500 mb-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo nhân sự"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Hiệu suất và phân bổ"})]}),a.jsxs("button",{className:"bg-white hover:bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-6 text-left transition-colors",children:[a.jsx(tc,{className:"h-8 w-8 text-orange-500 mb-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Dashboard KPI"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Chỉ số hiệu suất"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Báo cáo gần đây"})}),a.jsx("div",{className:"divide-y divide-gray-200",children:o.map(v=>a.jsx("div",{className:"p-6 hover:bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900",children:v.name}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(v.type)}`,children:d(v.type)}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(v.status)}`,children:f(v.status)})]}),a.jsx("p",{className:"text-gray-600 mb-2",children:v.description}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Os,{className:"h-4 w-4 mr-1"}),"Tạo: ",v.lastGenerated]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"mr-1",children:g(v.format)}),v.format]})]})]}),a.jsxs("div",{className:"flex space-x-2 ml-4",children:[v.status==="ready"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm flex items-center gap-1",children:[a.jsx(dc,{className:"h-3 w-3"}),"Tải xuống"]}),a.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:"Xem"})]}),v.status==="generating"&&a.jsxs("div",{className:"flex items-center text-yellow-600",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-yellow-600 border-t-transparent mr-2"}),"Đang tạo..."]}),a.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:"Tạo lại"})]})]})},v.id))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tiến độ dự án theo thời gian"}),a.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Biểu đồ tiến độ sẽ được hiển thị tại đây"})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Phân bổ ngân sách theo dự án"}),a.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Biểu đồ ngân sách sẽ được hiển thị tại đây"})})]})]})]})},bC=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông tin tổ chức"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên tổ chức"}),a.jsx("input",{type:"text",defaultValue:"R&D Management",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email liên hệ"}),a.jsx("input",{type:"email",defaultValue:"admin@company.com",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),a.jsx("input",{type:"tel",defaultValue:"+84 123 456 789",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Múi giờ"}),a.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Asia/Ho_Chi_Minh",children:"UTC+7 (Việt Nam)"}),a.jsx("option",{value:"UTC",children:"UTC"}),a.jsx("option",{value:"Asia/Tokyo",children:"UTC+9 (Nhật Bản)"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cài đặt hệ thống"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Cho phép đăng ký mới"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cho phép người dùng mới tự đăng ký tài khoản"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Yêu cầu xác thực 2 lớp"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Bắt buộc người dùng sử dụng 2FA"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]});rr.register(uu,hu,ic,Oy,My,Ay);rr.register(uu,hu,ic,Oy,My,Ay);const g9=()=>{const{currentUser:e}=iS(),{roles:t,isLoading:s,error:n}=AP(e||void 0);return s?a.jsx("div",{className:"flex justify-center items-center h-32",children:a.jsx(mc,{})}):n?a.jsx("div",{className:"text-red-600 text-sm",children:"Có lỗi xảy ra khi tải thông tin vai trò"}):a.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Vai trò của bạn"}),t&&t.length>0?a.jsx("div",{className:"space-y-2",children:t.map((i,o)=>a.jsx("div",{className:"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium mr-2 mb-2",children:i.role},o))}):a.jsx("p",{className:"text-gray-500 text-sm",children:"Chưa có vai trò được gán"}),a.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"Vai trò quyết định quyền truy cập và chức năng mà bạn có thể sử dụng trong hệ thống."})]})},vC=6048e5,p9=864e5,O2=Symbol.for("constructDateFrom");function Ki(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&O2 in e?e[O2](t):e instanceof Date?new e.constructor(t):new Date(t)}function qa(e,t){return Ki(t||e,e)}let x9={};function Fm(){return x9}function fu(e,t){var d,h,f,g,p,b,y,j;const s=Fm(),n=(j=(y=(g=(f=t==null?void 0:t.weekStartsOn)!=null?f:(h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)!=null?g:s.weekStartsOn)!=null?y:(b=(p=s.locale)==null?void 0:p.options)==null?void 0:b.weekStartsOn)!=null?j:0,i=qa(e,t==null?void 0:t.in),o=i.getDay(),c=(o<n?7:0)+o-n;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function rm(e,t){return fu(e,ie(F({},t),{weekStartsOn:1}))}function wC(e,t){const s=qa(e,t==null?void 0:t.in),n=s.getFullYear(),i=Ki(s,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const o=rm(i),c=Ki(s,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const d=rm(c);return s.getTime()>=o.getTime()?n+1:s.getTime()>=d.getTime()?n:n-1}function M2(e){const t=qa(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function y9(e,...t){const s=Ki.bind(null,t.find(n=>typeof n=="object"));return t.map(s)}function R2(e,t){const s=qa(e,t==null?void 0:t.in);return s.setHours(0,0,0,0),s}function b9(e,t,s){const[n,i]=y9(s==null?void 0:s.in,e,t),o=R2(n),c=R2(i),d=+o-M2(o),h=+c-M2(c);return Math.round((d-h)/p9)}function v9(e,t){const s=wC(e,t),n=Ki(e,0);return n.setFullYear(s,0,4),n.setHours(0,0,0,0),rm(n)}function w9(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function j9(e){return!(!w9(e)&&typeof e!="number"||isNaN(+qa(e)))}function N9(e,t){const s=qa(e,t==null?void 0:t.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const _9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},T9=(e,t,s)=>{let n;const i=_9[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function cc(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const S9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},k9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},C9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},E9={date:cc({formats:S9,defaultWidth:"full"}),time:cc({formats:k9,defaultWidth:"full"}),dateTime:cc({formats:C9,defaultWidth:"full"})},D9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},A9=(e,t,s,n)=>D9[e];function or(e){return(t,s)=>{const n=s!=null&&s.context?String(s.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,d=s!=null&&s.width?String(s.width):c;i=e.formattingValues[d]||e.formattingValues[c]}else{const c=e.defaultWidth,d=s!=null&&s.width?String(s.width):e.defaultWidth;i=e.values[d]||e.values[c]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const O9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},M9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},R9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},P9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},L9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},B9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},F9=(e,t)=>{const s=Number(e),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},z9={ordinalNumber:F9,era:or({values:O9,defaultWidth:"wide"}),quarter:or({values:M9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:or({values:R9,defaultWidth:"wide"}),day:or({values:P9,defaultWidth:"wide"}),dayPeriod:or({values:L9,defaultWidth:"wide",formattingValues:B9,defaultFormattingWidth:"wide"})};function lr(e){return(t,s={})=>{const n=s.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const c=o[0],d=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(d)?H9(d,p=>p.test(c)):U9(d,p=>p.test(c));let f;f=e.valueCallback?e.valueCallback(h):h,f=s.valueCallback?s.valueCallback(f):f;const g=t.slice(c.length);return{value:f,rest:g}}}function U9(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function H9(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function jC(e){return(t,s={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],o=t.match(e.parsePattern);if(!o)return null;let c=e.valueCallback?e.valueCallback(o[0]):o[0];c=s.valueCallback?s.valueCallback(c):c;const d=t.slice(i.length);return{value:c,rest:d}}}const $9=/^(\d+)(th|st|nd|rd)?/i,V9=/\d+/i,I9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},q9={any:[/^b/i,/^(a|c)/i]},W9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Y9={any:[/1/i,/2/i,/3/i,/4/i]},G9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},X9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},K9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Q9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Z9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},J9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},eH={ordinalNumber:jC({matchPattern:$9,parsePattern:V9,valueCallback:e=>parseInt(e,10)}),era:lr({matchPatterns:I9,defaultMatchWidth:"wide",parsePatterns:q9,defaultParseWidth:"any"}),quarter:lr({matchPatterns:W9,defaultMatchWidth:"wide",parsePatterns:Y9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:lr({matchPatterns:G9,defaultMatchWidth:"wide",parsePatterns:X9,defaultParseWidth:"any"}),day:lr({matchPatterns:K9,defaultMatchWidth:"wide",parsePatterns:Q9,defaultParseWidth:"any"}),dayPeriod:lr({matchPatterns:Z9,defaultMatchWidth:"any",parsePatterns:J9,defaultParseWidth:"any"})},tH={code:"en-US",formatDistance:T9,formatLong:E9,formatRelative:A9,localize:z9,match:eH,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sH(e,t){const s=qa(e,t==null?void 0:t.in);return b9(s,N9(s))+1}function nH(e,t){const s=qa(e,t==null?void 0:t.in),n=+rm(s)-+v9(s);return Math.round(n/vC)+1}function NC(e,t){var g,p,b,y,j,v,_,T;const s=qa(e,t==null?void 0:t.in),n=s.getFullYear(),i=Fm(),o=(T=(_=(y=(b=t==null?void 0:t.firstWeekContainsDate)!=null?b:(p=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)!=null?y:i.firstWeekContainsDate)!=null?_:(v=(j=i.locale)==null?void 0:j.options)==null?void 0:v.firstWeekContainsDate)!=null?T:1,c=Ki((t==null?void 0:t.in)||e,0);c.setFullYear(n+1,0,o),c.setHours(0,0,0,0);const d=fu(c,t),h=Ki((t==null?void 0:t.in)||e,0);h.setFullYear(n,0,o),h.setHours(0,0,0,0);const f=fu(h,t);return+s>=+d?n+1:+s>=+f?n:n-1}function aH(e,t){var d,h,f,g,p,b,y,j;const s=Fm(),n=(j=(y=(g=(f=t==null?void 0:t.firstWeekContainsDate)!=null?f:(h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)!=null?g:s.firstWeekContainsDate)!=null?y:(b=(p=s.locale)==null?void 0:p.options)==null?void 0:b.firstWeekContainsDate)!=null?j:1,i=NC(e,t),o=Ki((t==null?void 0:t.in)||e,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),fu(o,t)}function rH(e,t){const s=qa(e,t==null?void 0:t.in),n=+fu(s,t)-+aH(s,t);return Math.round(n/vC)+1}function ss(e,t){const s=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return s+n}const Si={y(e,t){const s=e.getFullYear(),n=s>0?s:1-s;return ss(t==="yy"?n%100:n,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):ss(s+1,2)},d(e,t){return ss(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return ss(e.getHours()%12||12,t.length)},H(e,t){return ss(e.getHours(),t.length)},m(e,t){return ss(e.getMinutes(),t.length)},s(e,t){return ss(e.getSeconds(),t.length)},S(e,t){const s=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,s-3));return ss(i,t.length)}},Wl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},P2={G:function(e,t,s){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return s.ordinalNumber(i,{unit:"year"})}return Si.y(e,t)},Y:function(e,t,s,n){const i=NC(e,n),o=i>0?i:1-i;if(t==="YY"){const c=o%100;return ss(c,2)}return t==="Yo"?s.ordinalNumber(o,{unit:"year"}):ss(o,t.length)},R:function(e,t){const s=wC(e);return ss(s,t.length)},u:function(e,t){const s=e.getFullYear();return ss(s,t.length)},Q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ss(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ss(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,s){const n=e.getMonth();switch(t){case"M":case"MM":return Si.M(e,t);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,s){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ss(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,s,n){const i=rH(e,n);return t==="wo"?s.ordinalNumber(i,{unit:"week"}):ss(i,t.length)},I:function(e,t,s){const n=nH(e);return t==="Io"?s.ordinalNumber(n,{unit:"week"}):ss(n,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):Si.d(e,t)},D:function(e,t,s){const n=sH(e);return t==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):ss(n,t.length)},E:function(e,t,s){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,s,n){const i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return ss(o,2);case"eo":return s.ordinalNumber(o,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,s,n){const i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return ss(o,t.length);case"co":return s.ordinalNumber(o,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,s){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return ss(i,t.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,s){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,s){const n=e.getHours();let i;switch(n===12?i=Wl.noon:n===0?i=Wl.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,s){const n=e.getHours();let i;switch(n>=17?i=Wl.evening:n>=12?i=Wl.afternoon:n>=4?i=Wl.morning:i=Wl.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return Si.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):Si.H(e,t)},K:function(e,t,s){const n=e.getHours()%12;return t==="Ko"?s.ordinalNumber(n,{unit:"hour"}):ss(n,t.length)},k:function(e,t,s){let n=e.getHours();return n===0&&(n=24),t==="ko"?s.ordinalNumber(n,{unit:"hour"}):ss(n,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Si.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Si.s(e,t)},S:function(e,t){return Si.S(e,t)},X:function(e,t,s){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return B2(n);case"XXXX":case"XX":return Ro(n);case"XXXXX":case"XXX":default:return Ro(n,":")}},x:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"x":return B2(n);case"xxxx":case"xx":return Ro(n);case"xxxxx":case"xxx":default:return Ro(n,":")}},O:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+L2(n,":");case"OOOO":default:return"GMT"+Ro(n,":")}},z:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+L2(n,":");case"zzzz":default:return"GMT"+Ro(n,":")}},t:function(e,t,s){const n=Math.trunc(+e/1e3);return ss(n,t.length)},T:function(e,t,s){return ss(+e,t.length)}};function L2(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),o=n%60;return o===0?s+String(i):s+String(i)+t+ss(o,2)}function B2(e,t){return e%60===0?(e>0?"-":"+")+ss(Math.abs(e)/60,2):Ro(e,t)}function Ro(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),i=ss(Math.trunc(n/60),2),o=ss(n%60,2);return s+i+t+o}const F2=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},_C=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},iH=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],n=s[1],i=s[2];if(!i)return F2(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",F2(n,t)).replace("{{time}}",_C(i,t))},oH={p:_C,P:iH},lH=/^D+$/,cH=/^Y+$/,dH=["D","DD","YY","YYYY"];function uH(e){return lH.test(e)}function hH(e){return cH.test(e)}function fH(e,t,s){const n=mH(e,t,s);if(console.warn(n),dH.includes(e))throw new RangeError(n)}function mH(e,t,s){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const gH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xH=/^'([^]*?)'?$/,yH=/''/g,bH=/[a-zA-Z]/;function vH(e,t,s){var g,p,b,y,j,v,_,T,A,k,S,E,C,z,L,R,V,I;const n=Fm(),i=(p=(g=s==null?void 0:s.locale)!=null?g:n.locale)!=null?p:tH,o=(k=(A=(v=(j=s==null?void 0:s.firstWeekContainsDate)!=null?j:(y=(b=s==null?void 0:s.locale)==null?void 0:b.options)==null?void 0:y.firstWeekContainsDate)!=null?v:n.firstWeekContainsDate)!=null?A:(T=(_=n.locale)==null?void 0:_.options)==null?void 0:T.firstWeekContainsDate)!=null?k:1,c=(I=(V=(z=(C=s==null?void 0:s.weekStartsOn)!=null?C:(E=(S=s==null?void 0:s.locale)==null?void 0:S.options)==null?void 0:E.weekStartsOn)!=null?z:n.weekStartsOn)!=null?V:(R=(L=n.locale)==null?void 0:L.options)==null?void 0:R.weekStartsOn)!=null?I:0,d=qa(e,s==null?void 0:s.in);if(!j9(d))throw new RangeError("Invalid time value");let h=t.match(pH).map(G=>{const U=G[0];if(U==="p"||U==="P"){const W=oH[U];return W(G,i.formatLong)}return G}).join("").match(gH).map(G=>{if(G==="''")return{isToken:!1,value:"'"};const U=G[0];if(U==="'")return{isToken:!1,value:wH(G)};if(P2[U])return{isToken:!0,value:G};if(U.match(bH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+U+"`");return{isToken:!1,value:G}});i.localize.preprocessor&&(h=i.localize.preprocessor(d,h));const f={firstWeekContainsDate:o,weekStartsOn:c,locale:i};return h.map(G=>{if(!G.isToken)return G.value;const U=G.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&hH(U)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&uH(U))&&fH(U,t,String(e));const W=P2[U[0]];return W(d,U,i.localize,f)}).join("")}function wH(e){const t=e.match(xH);return t?t[1].replace(yH,"'"):e}const jH={lessThanXSeconds:{one:"dưới 1 giây",other:"dưới {{count}} giây"},xSeconds:{one:"1 giây",other:"{{count}} giây"},halfAMinute:"nửa phút",lessThanXMinutes:{one:"dưới 1 phút",other:"dưới {{count}} phút"},xMinutes:{one:"1 phút",other:"{{count}} phút"},aboutXHours:{one:"khoảng 1 giờ",other:"khoảng {{count}} giờ"},xHours:{one:"1 giờ",other:"{{count}} giờ"},xDays:{one:"1 ngày",other:"{{count}} ngày"},aboutXWeeks:{one:"khoảng 1 tuần",other:"khoảng {{count}} tuần"},xWeeks:{one:"1 tuần",other:"{{count}} tuần"},aboutXMonths:{one:"khoảng 1 tháng",other:"khoảng {{count}} tháng"},xMonths:{one:"1 tháng",other:"{{count}} tháng"},aboutXYears:{one:"khoảng 1 năm",other:"khoảng {{count}} năm"},xYears:{one:"1 năm",other:"{{count}} năm"},overXYears:{one:"hơn 1 năm",other:"hơn {{count}} năm"},almostXYears:{one:"gần 1 năm",other:"gần {{count}} năm"}},NH=(e,t,s)=>{let n;const i=jH[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",String(t)),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?n+" nữa":n+" trước":n},_H={full:"EEEE, 'ngày' d MMMM 'năm' y",long:"'ngày' d MMMM 'năm' y",medium:"d MMM 'năm' y",short:"dd/MM/y"},TH={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},SH={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},kH={date:cc({formats:_H,defaultWidth:"full"}),time:cc({formats:TH,defaultWidth:"full"}),dateTime:cc({formats:SH,defaultWidth:"full"})},CH={lastWeek:"eeee 'tuần trước vào lúc' p",yesterday:"'hôm qua vào lúc' p",today:"'hôm nay vào lúc' p",tomorrow:"'ngày mai vào lúc' p",nextWeek:"eeee 'tới vào lúc' p",other:"P"},EH=(e,t,s,n)=>CH[e],DH={narrow:["TCN","SCN"],abbreviated:["trước CN","sau CN"],wide:["trước Công Nguyên","sau Công Nguyên"]},AH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["Quý 1","Quý 2","Quý 3","Quý 4"]},OH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["quý I","quý II","quý III","quý IV"]},MH={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],wide:["Tháng Một","Tháng Hai","Tháng Ba","Tháng Tư","Tháng Năm","Tháng Sáu","Tháng Bảy","Tháng Tám","Tháng Chín","Tháng Mười","Tháng Mười Một","Tháng Mười Hai"]},RH={narrow:["01","02","03","04","05","06","07","08","09","10","11","12"],abbreviated:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],wide:["tháng 01","tháng 02","tháng 03","tháng 04","tháng 05","tháng 06","tháng 07","tháng 08","tháng 09","tháng 10","tháng 11","tháng 12"]},PH={narrow:["CN","T2","T3","T4","T5","T6","T7"],short:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],abbreviated:["CN","Thứ 2","Thứ 3","Thứ 4","Thứ 5","Thứ 6","Thứ 7"],wide:["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"]},LH={narrow:{am:"am",pm:"pm",midnight:"nửa đêm",noon:"tr",morning:"sg",afternoon:"ch",evening:"tối",night:"đêm"},abbreviated:{am:"AM",pm:"PM",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"},wide:{am:"SA",pm:"CH",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"}},BH={narrow:{am:"am",pm:"pm",midnight:"nửa đêm",noon:"tr",morning:"sg",afternoon:"ch",evening:"tối",night:"đêm"},abbreviated:{am:"AM",pm:"PM",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"},wide:{am:"SA",pm:"CH",midnight:"nửa đêm",noon:"giữa trưa",morning:"vào buổi sáng",afternoon:"vào buổi chiều",evening:"vào buổi tối",night:"vào ban đêm"}},FH=(e,t)=>{const s=Number(e),n=t==null?void 0:t.unit;if(n==="quarter")switch(s){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV"}else if(n==="day")switch(s){case 1:return"thứ 2";case 2:return"thứ 3";case 3:return"thứ 4";case 4:return"thứ 5";case 5:return"thứ 6";case 6:return"thứ 7";case 7:return"chủ nhật"}else{if(n==="week")return s===1?"thứ nhất":"thứ "+s;if(n==="dayOfYear")return s===1?"đầu tiên":"thứ "+s}return String(s)},zH={ordinalNumber:FH,era:or({values:DH,defaultWidth:"wide"}),quarter:or({values:AH,defaultWidth:"wide",formattingValues:OH,defaultFormattingWidth:"wide",argumentCallback:e=>e-1}),month:or({values:MH,defaultWidth:"wide",formattingValues:RH,defaultFormattingWidth:"wide"}),day:or({values:PH,defaultWidth:"wide"}),dayPeriod:or({values:LH,defaultWidth:"wide",formattingValues:BH,defaultFormattingWidth:"wide"})},UH=/^(\d+)/i,HH=/\d+/i,$H={narrow:/^(tcn|scn)/i,abbreviated:/^(trước CN|sau CN)/i,wide:/^(trước Công Nguyên|sau Công Nguyên)/i},VH={any:[/^t/i,/^s/i]},IH={narrow:/^([1234]|i{1,3}v?)/i,abbreviated:/^q([1234]|i{1,3}v?)/i,wide:/^quý ([1234]|i{1,3}v?)/i},qH={any:[/(1|i)$/i,/(2|ii)$/i,/(3|iii)$/i,/(4|iv)$/i]},WH={narrow:/^(0?[2-9]|10|11|12|0?1)/i,abbreviated:/^thg[ _]?(0?[1-9](?!\d)|10|11|12)/i,wide:/^tháng ?(Một|Hai|Ba|Tư|Năm|Sáu|Bảy|Tám|Chín|Mười|Mười ?Một|Mười ?Hai|0?[1-9](?!\d)|10|11|12)/i},YH={narrow:[/0?1$/i,/0?2/i,/3/,/4/,/5/,/6/,/7/,/8/,/9/,/10/,/11/,/12/],abbreviated:[/^thg[ _]?0?1(?!\d)/i,/^thg[ _]?0?2/i,/^thg[ _]?0?3/i,/^thg[ _]?0?4/i,/^thg[ _]?0?5/i,/^thg[ _]?0?6/i,/^thg[ _]?0?7/i,/^thg[ _]?0?8/i,/^thg[ _]?0?9/i,/^thg[ _]?10/i,/^thg[ _]?11/i,/^thg[ _]?12/i],wide:[/^tháng ?(Một|0?1(?!\d))/i,/^tháng ?(Hai|0?2)/i,/^tháng ?(Ba|0?3)/i,/^tháng ?(Tư|0?4)/i,/^tháng ?(Năm|0?5)/i,/^tháng ?(Sáu|0?6)/i,/^tháng ?(Bảy|0?7)/i,/^tháng ?(Tám|0?8)/i,/^tháng ?(Chín|0?9)/i,/^tháng ?(Mười|10)/i,/^tháng ?(Mười ?Một|11)/i,/^tháng ?(Mười ?Hai|12)/i]},GH={narrow:/^(CN|T2|T3|T4|T5|T6|T7)/i,short:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,abbreviated:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,wide:/^(Chủ ?Nhật|Chúa ?Nhật|thứ ?Hai|thứ ?Ba|thứ ?Tư|thứ ?Năm|thứ ?Sáu|thứ ?Bảy)/i},XH={narrow:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],short:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],abbreviated:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],wide:[/(Chủ|Chúa) ?Nhật/i,/Hai/i,/Ba/i,/Tư/i,/Năm/i,/Sáu/i,/Bảy/i]},KH={narrow:/^(a|p|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i,abbreviated:/^(am|pm|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i,wide:/^(ch[^i]*|sa|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i},QH={any:{am:/^(a|sa)/i,pm:/^(p|ch[^i]*)/i,midnight:/nửa đêm/i,noon:/trưa/i,morning:/sáng/i,afternoon:/chiều/i,evening:/tối/i,night:/^đêm/i}},ZH={ordinalNumber:jC({matchPattern:UH,parsePattern:HH,valueCallback:e=>parseInt(e,10)}),era:lr({matchPatterns:$H,defaultMatchWidth:"wide",parsePatterns:VH,defaultParseWidth:"any"}),quarter:lr({matchPatterns:IH,defaultMatchWidth:"wide",parsePatterns:qH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:lr({matchPatterns:WH,defaultMatchWidth:"wide",parsePatterns:YH,defaultParseWidth:"wide"}),day:lr({matchPatterns:GH,defaultMatchWidth:"wide",parsePatterns:XH,defaultParseWidth:"wide"}),dayPeriod:lr({matchPatterns:KH,defaultMatchWidth:"wide",parsePatterns:QH,defaultParseWidth:"any"})},JH={code:"vi",formatDistance:NH,formatLong:kH,formatRelative:EH,localize:zH,match:ZH,options:{weekStartsOn:1,firstWeekContainsDate:1}},e$=()=>{const{currentUserProfile:e,isLoading:t,error:s}=Sm();if(t)return a.jsx("div",{className:"flex justify-center items-center h-32",children:a.jsx(mc,{})});if(s)return a.jsx("div",{className:"text-red-600 text-sm",children:"Có lỗi xảy ra khi tải thông tin hoạt động"});const n=i=>{if(!i)return"Chưa có thông tin";try{return vH(new Date(i),"dd/MM/yyyy HH:mm",{locale:JH})}catch(o){return"Ngày không hợp lệ"}};return a.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông tin hoạt động"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lần đăng nhập cuối"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n(e==null?void 0:e.last_login)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hoạt động cuối"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n(e==null?void 0:e.last_active)})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày tạo tài khoản"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n(e==null?void 0:e.creation)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Trạng thái tài khoản"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1 ${e!=null&&e.enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e!=null&&e.enabled?"Hoạt động":"Bị vô hiệu hóa"})]})]})]}),a.jsx("div",{className:"mt-4 pt-4 border-t",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Loại người dùng"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:(e==null?void 0:e.user_type)||"Chưa xác định"})]})})]})},t$=()=>{const{currentUserProfile:e,isLoading:t,error:s,mutate:n}=Sm(),{updateProfile:i,loading:o}=oS();if(t)return a.jsx("div",{className:"flex justify-center items-center h-32",children:a.jsx(mc,{})});if(s)return a.jsx("div",{className:"text-red-600 text-sm",children:"Có lỗi xảy ra khi tải tùy chỉnh"});const c=(d,h)=>fe(null,null,function*(){if(e)try{yield i(e.name,{[d]:h}),As.success("Tùy chỉnh đã được cập nhật thành công"),n()}catch(f){As.error("Có lỗi xảy ra khi cập nhật tùy chỉnh"),console.error("Update preference error:",f)}});return a.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tùy chỉnh giao diện"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Giao diện"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:["Light","Dark","Automatic"].map(d=>a.jsxs("button",{onClick:()=>c("desk_theme",d),disabled:o,className:`p-3 border rounded-lg text-sm font-medium transition-colors ${(e==null?void 0:e.desk_theme)===d?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"} disabled:opacity-50`,children:[d==="Light"&&"☀️ Sáng",d==="Dark"&&"🌙 Tối",d==="Automatic"&&"🔄 Tự động"]},d))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Cài đặt thông báo"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.notifications),onChange:d=>c("notifications",d.target.checked?1:0),disabled:o,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Nhận thông báo"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.mute_sounds),onChange:d=>c("mute_sounds",d.target.checked?1:0),disabled:o,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Tắt âm thanh thông báo"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.document_follow_notify),onChange:d=>c("document_follow_notify",d.target.checked?1:0),disabled:o,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Thông báo tài liệu theo dõi"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Tùy chỉnh giao diện"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.search_bar),onChange:d=>c("search_bar",d.target.checked?1:0),disabled:o,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Hiển thị thanh tìm kiếm"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.list_sidebar),onChange:d=>c("list_sidebar",d.target.checked?1:0),disabled:o,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Hiển thị sidebar danh sách"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.form_sidebar),onChange:d=>c("form_sidebar",d.target.checked?1:0),disabled:o,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Hiển thị sidebar form"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.timeline),onChange:d=>c("timeline",d.target.checked?1:0),disabled:o,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Hiển thị timeline"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.dashboard),onChange:d=>c("dashboard",d.target.checked?1:0),disabled:o,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Hiển thị dashboard"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Cài đặt email"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.send_me_a_copy),onChange:d=>c("send_me_a_copy",d.target.checked?1:0),disabled:o,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Gửi bản sao email cho tôi"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:!!(e!=null&&e.thread_notify),onChange:d=>c("thread_notify",d.target.checked?1:0),disabled:o,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Thông báo email thread"})]})]})]})]}),o&&a.jsxs("div",{className:"mt-4 text-sm text-blue-600 flex items-center",children:[a.jsx(mc,{}),a.jsx("span",{className:"ml-2",children:"Đang cập nhật..."})]})]})},s$=()=>{var L,R,V,I;const{currentUserProfile:e,isLoading:t,error:s,mutate:n}=Sm(),{updateProfile:i,loading:o}=oS(),{changePassword:c,loading:d}=EP(),{uploadImage:h,loading:f}=DP(),[g,p]=N.useState({first_name:"",last_name:"",email:"",phone:"",mobile_no:"",bio:"",location:"",gender:"",birth_date:""}),[b,y]=N.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[j,v]=N.useState(null),[_,T]=N.useState("");N.useEffect(()=>{e&&(p({first_name:e.first_name||"",last_name:e.last_name||"",email:e.email||"",phone:e.phone||"",mobile_no:e.mobile_no||"",bio:e.bio||"",location:e.location||"",gender:e.gender||"",birth_date:e.birth_date||""}),e.user_image&&T(e.user_image))},[e]);const A=(G,U)=>{p(W=>ie(F({},W),{[G]:U}))},k=(G,U)=>{y(W=>ie(F({},W),{[G]:U}))},S=G=>{var W;const U=(W=G.target.files)==null?void 0:W[0];if(U){v(U);const K=new FileReader;K.onload=$=>{var ee;T((ee=$.target)==null?void 0:ee.result)},K.readAsDataURL(U)}},E=()=>fe(null,null,function*(){if(!(!j||!e))try{yield h(j,e.name),As.success("Ảnh đại diện đã được cập nhật thành công"),n(),v(null)}catch(G){As.error("Có lỗi xảy ra khi tải ảnh lên"),console.error("Upload error:",G)}}),C=()=>fe(null,null,function*(){if(e)try{yield i(e.name,g),As.success("Thông tin cá nhân đã được cập nhật thành công"),n()}catch(G){As.error("Có lỗi xảy ra khi cập nhật thông tin"),console.error("Update error:",G)}}),z=()=>fe(null,null,function*(){if(b.newPassword!==b.confirmPassword){As.error("Mật khẩu mới và xác nhận mật khẩu không khớp");return}if(b.newPassword.length<6){As.error("Mật khẩu mới phải có ít nhất 6 ký tự");return}try{yield c(b.currentPassword,b.newPassword),As.success("Mật khẩu đã được thay đổi thành công"),y({currentPassword:"",newPassword:"",confirmPassword:""})}catch(G){As.error("Có lỗi xảy ra khi thay đổi mật khẩu"),console.error("Password change error:",G)}});return t?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(mc,{})}):s?a.jsx("div",{className:"text-center text-red-600 p-4",children:"Có lỗi xảy ra khi tải thông tin người dùng"}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông tin cá nhân"}),a.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[a.jsx("div",{className:"w-24 h-24 bg-blue-600 rounded-full flex items-center justify-center overflow-hidden",children:_?a.jsx("img",{src:_,alt:"User Avatar",className:"w-full h-full object-cover"}):a.jsxs("span",{className:"text-white font-bold text-2xl",children:[((R=(L=e==null?void 0:e.first_name)==null?void 0:L[0])==null?void 0:R.toUpperCase())||"U",((I=(V=e==null?void 0:e.last_name)==null?void 0:V[0])==null?void 0:I.toUpperCase())||"S"]})}),a.jsxs("div",{children:[a.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"hidden",id:"avatar-upload"}),a.jsx("label",{htmlFor:"avatar-upload",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg mr-3 cursor-pointer inline-block",children:"Chọn ảnh"}),j&&a.jsx("button",{onClick:E,disabled:f,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg mr-3 disabled:opacity-50",children:f?"Đang tải...":"Cập nhật ảnh"}),a.jsx("button",{onClick:()=>{T(""),v(null)},className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg",children:"Xóa ảnh"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Họ"}),a.jsx("input",{type:"text",value:g.first_name,onChange:G=>A("first_name",G.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên"}),a.jsx("input",{type:"text",value:g.last_name,onChange:G=>A("last_name",G.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsx("input",{type:"email",value:g.email,onChange:G=>A("email",G.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),a.jsx("input",{type:"text",value:g.phone||"",onChange:G=>A("phone",G.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số di động"}),a.jsx("input",{type:"text",value:g.mobile_no||"",onChange:G=>A("mobile_no",G.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giới tính"}),a.jsxs("select",{value:g.gender||"",onChange:G=>A("gender",G.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Chọn giới tính"}),a.jsx("option",{value:"Male",children:"Nam"}),a.jsx("option",{value:"Female",children:"Nữ"}),a.jsx("option",{value:"Other",children:"Khác"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày sinh"}),a.jsx("input",{type:"date",value:g.birth_date||"",onChange:G=>A("birth_date",G.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Địa chỉ"}),a.jsx("input",{type:"text",value:g.location||"",onChange:G=>A("location",G.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giới thiệu bản thân"}),a.jsx("textarea",{value:g.bio||"",onChange:G=>A("bio",G.target.value),rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsx("button",{onClick:C,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg disabled:opacity-50",children:o?"Đang cập nhật...":"Cập nhật thông tin"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thay đổi mật khẩu"}),a.jsxs("div",{className:"space-y-4 max-w-md",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu hiện tại"}),a.jsx("input",{type:"password",value:b.currentPassword,onChange:G=>k("currentPassword",G.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu mới"}),a.jsx("input",{type:"password",value:b.newPassword,onChange:G=>k("newPassword",G.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Xác nhận mật khẩu mới"}),a.jsx("input",{type:"password",value:b.confirmPassword,onChange:G=>k("confirmPassword",G.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsx("button",{onClick:z,disabled:d,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:d?"Đang cập nhật...":"Cập nhật mật khẩu"})]})]}),a.jsx(g9,{}),a.jsx(e$,{}),a.jsx(t$,{})]})},n$=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông báo Email"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Cập nhật dự án"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Nhận thông báo khi có cập nhật về dự án"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Thông báo task"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Nhận thông báo khi có task mới được giao"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Báo cáo tuần"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Nhận báo cáo tổng hợp hàng tuần"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông báo trình duyệt"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Thông báo realtime"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Hiển thị thông báo ngay lập tức trên trình duyệt"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]})]}),a$=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Bảo mật tài khoản"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Xác thực 2 lớp (2FA)"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Tăng cường bảo mật với xác thực 2 lớp"})]}),a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Kích hoạt"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Phiên đăng nhập"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Quản lý các phiên đăng nhập hiện tại"})]}),a.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg",children:"Xem chi tiết"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Nhật ký hoạt động"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Xem lịch sử hoạt động của tài khoản"})]}),a.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg",children:"Xem nhật ký"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quyền riêng tư"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Hiển thị trạng thái online"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cho phép người khác thấy khi bạn đang online"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]})]}),z2=[{id:"general",name:"Cài đặt chung",icon:Qx,component:bC},{id:"user",name:"Tài khoản",icon:nu,component:s$},{id:"notifications",name:"Thông báo",icon:Y_,component:n$},{id:"security",name:"Bảo mật",icon:Q_,component:a$}],r$=()=>{var n;const[e,t]=N.useState("general"),s=((n=z2.find(i=>i.id===e))==null?void 0:n.component)||bC;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Cài đặt"}),a.jsx("p",{className:"text-gray-600",children:"Cài đặt hệ thống"})]}),a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(A5,{className:"h-4 w-4"}),"Lưu thay đổi"]})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsx("div",{className:"lg:w-64 flex-shrink-0",children:a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("nav",{className:"space-y-1 p-2",children:z2.map(i=>{const o=i.icon;return a.jsxs("button",{onClick:()=>t(i.id),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${e===i.id?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(o,{className:`mr-3 h-5 w-5 ${e===i.id?"text-blue-600":"text-gray-400"}`}),i.name]},i.id)})})})}),a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsx(s,{})})})]})]})},i$=[{id:1,project:"E-commerce Platform",task:"Design user interface mockups",user:"Jane Smith",startTime:"09:00 AM",endTime:"11:30 AM",duration:"2h 30m",date:"2024-03-08"},{id:2,project:"Mobile App Redesign",task:"API documentation",user:"Mike Johnson",startTime:"02:00 PM",endTime:"04:15 PM",duration:"2h 15m",date:"2024-03-08"},{id:3,project:"Data Analytics Dashboard",task:"Testing setup",user:"Sarah Wilson",startTime:"10:30 AM",endTime:"12:00 PM",duration:"1h 30m",date:"2024-03-07"}],o$=()=>{const[e,t]=ye.useState(!1),[s,n]=ye.useState("00:00:00");return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"md:flex md:items-center md:justify-between",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Time Tracking"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track time spent on projects and tasks"})]})}),a.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-6",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900",children:s}),a.jsx("div",{className:"flex items-center justify-center space-x-4",children:e?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>t(!1),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-yellow-600 hover:bg-yellow-700",children:[a.jsx(v5,{className:"mr-2 h-5 w-5"}),"Pause"]}),a.jsxs("button",{onClick:()=>{t(!1),n("00:00:00")},className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-red-600 hover:bg-red-700",children:[a.jsx(F5,{className:"mr-2 h-5 w-5"}),"Stop"]})]}):a.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700",children:[a.jsx(S5,{className:"mr-2 h-5 w-5"}),"Start Timer"]})}),e&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project"}),a.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[a.jsx("option",{children:"E-commerce Platform"}),a.jsx("option",{children:"Mobile App Redesign"}),a.jsx("option",{children:"Data Analytics Dashboard"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Description"}),a.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"What are you working on?"})]})]})]})}),a.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Time Entries"})}),a.jsx("div",{className:"overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Period"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i$.map(i=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:i.project}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.task}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.user}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[i.startTime," - ",i.endTime]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[a.jsx(Ui,{className:"mr-1 h-3 w-3"}),i.duration]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.date})]},i.id))})]})})]})]})},l$=rM([{path:"/",element:a.jsx(uL,{}),children:[{index:!0,element:a.jsx(u7,{})},{path:"projects",element:a.jsx(_U,{})},{path:"projects/:projectId",element:a.jsx(VU,{})},{path:"tasks",element:a.jsx(JU,{})},{path:"documents",element:a.jsx(t9,{})},{path:"budget",element:a.jsx(a9,{})},{path:"risk",element:a.jsx(l9,{})},{path:"meetings",element:a.jsx(u9,{})},{path:"reports",element:a.jsx(m9,{})},{path:"settings",element:a.jsx(r$,{})},{path:"time-tracking",element:a.jsx(o$,{})}]}],{basename:"/todo"});jD.createRoot(document.getElementById("root")).render(a.jsx(ye.StrictMode,{children:a.jsx(pM,{router:l$})}))});export default c$();
