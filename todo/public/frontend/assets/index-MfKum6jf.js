var xO=Object.defineProperty,yO=Object.defineProperties;var bO=Object.getOwnPropertyDescriptors;var _f=Object.getOwnPropertySymbols;var b_=Object.prototype.hasOwnProperty,v_=Object.prototype.propertyIsEnumerable;var kl=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),vO=e=>{throw TypeError(e)};var _g=(e,t,n)=>t in e?xO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z=(e,t)=>{for(var n in t||(t={}))b_.call(t,n)&&_g(e,n,t[n]);if(_f)for(var n of _f(t))v_.call(t,n)&&_g(e,n,t[n]);return e},oe=(e,t)=>yO(e,bO(t));var Ae=(e,t)=>{var n={};for(var s in e)b_.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&_f)for(var s of _f(e))t.indexOf(s)<0&&v_.call(e,s)&&(n[s]=e[s]);return n};var wO=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Et=(e,t,n)=>_g(e,typeof t!="symbol"?t+"":t,n);var ge=(e,t,n)=>new Promise((s,a)=>{var i=f=>{try{d(n.next(f))}catch(h){a(h)}},c=f=>{try{d(n.throw(f))}catch(h){a(h)}},d=f=>f.done?s(f.value):Promise.resolve(f.value).then(i,c);d((n=n.apply(e,t)).next())}),po=function(e,t){this[0]=e,this[1]=t},jg=(e,t,n)=>{var s=(c,d,f,h)=>{try{var p=n[c](d),g=(d=p.value)instanceof po,b=p.done;Promise.resolve(g?d[0]:d).then(y=>g?s(c==="return"?c:"next",d[1]?{done:y.done,value:y.value}:y,f,h):f({value:y,done:b})).catch(y=>s("throw",y,f,h))}catch(y){h(y)}},a=c=>i[c]=d=>new Promise((f,h)=>s(c,d,f,h)),i={};return n=n.apply(e,t),i[kl("asyncIterator")]=()=>i,a("next"),a("throw"),a("return"),i},Sg=e=>{var t=e[kl("asyncIterator")],n=!1,s,a={};return t==null?(t=e[kl("iterator")](),s=i=>a[i]=c=>t[i](c)):(t=t.call(e),s=i=>a[i]=c=>{if(n){if(n=!1,i==="throw")throw c;return c}return n=!0,{done:!1,value:new po(new Promise(d=>{var f=t[i](c);f instanceof Object||vO("Object expected"),d(f)}),1)}}),a[kl("iterator")]=()=>a,s("next"),"throw"in t?s("throw"):a.throw=i=>{throw i},"return"in t&&s("return"),a},w_=(e,t,n)=>(t=e[kl("asyncIterator")])?t.call(e):(e=e[kl("iterator")](),t={},n=(s,a)=>(a=e[s])&&(t[s]=i=>new Promise((c,d,f)=>(i=a.call(e,i),f=i.done,Promise.resolve(i.value).then(h=>c({value:h,done:f}),d)))),n("next"),n("return"),t);var w7=wO(_t=>{function _O(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function Ex(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ng={exports:{}},uu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function jO(){if(__)return uu;__=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,i){var c=null;if(i!==void 0&&(c=""+i),a.key!==void 0&&(c=""+a.key),"key"in a){i={};for(var d in a)d!=="key"&&(i[d]=a[d])}else i=a;return a=i.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:i}}return uu.Fragment=t,uu.jsx=n,uu.jsxs=n,uu}var j_;function SO(){return j_||(j_=1,Ng.exports=jO()),Ng.exports}var l=SO(),Eg={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function NO(){if(S_)return Lt;S_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=g&&L[g]||L["@@iterator"],typeof L=="function"?L:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function N(L,le,re){this.props=L,this.context=le,this.refs=w,this.updater=re||y}N.prototype.isReactComponent={},N.prototype.setState=function(L,le){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,le,"setState")},N.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function S(){}S.prototype=N.prototype;function D(L,le,re){this.props=L,this.context=le,this.refs=w,this.updater=re||y}var A=D.prototype=new S;A.constructor=D,_(A,N.prototype),A.isPureReactComponent=!0;var C=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},T=Object.prototype.hasOwnProperty;function R(L,le,re,B,ne,ye){return re=ye.ref,{$$typeof:e,type:L,key:le,ref:re!==void 0?re:null,props:ye}}function P(L,le){return R(L.type,le,void 0,void 0,void 0,L.props)}function U(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function X(L){var le={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(re){return le[re]})}var H=/\/+/g;function K(L,le){return typeof L=="object"&&L!==null&&L.key!=null?X(""+L.key):le.toString(36)}function Y(){}function te(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(Y,Y):(L.status="pending",L.then(function(le){L.status==="pending"&&(L.status="fulfilled",L.value=le)},function(le){L.status==="pending"&&(L.status="rejected",L.reason=le)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function W(L,le,re,B,ne){var ye=typeof L;(ye==="undefined"||ye==="boolean")&&(L=null);var he=!1;if(L===null)he=!0;else switch(ye){case"bigint":case"string":case"number":he=!0;break;case"object":switch(L.$$typeof){case e:case t:he=!0;break;case p:return he=L._init,W(he(L._payload),le,re,B,ne)}}if(he)return ne=ne(L),he=B===""?"."+K(L,0):B,C(ne)?(re="",he!=null&&(re=he.replace(H,"$&/")+"/"),W(ne,le,re,"",function(We){return We})):ne!=null&&(U(ne)&&(ne=P(ne,re+(ne.key==null||L&&L.key===ne.key?"":(""+ne.key).replace(H,"$&/")+"/")+he)),le.push(ne)),1;he=0;var Ce=B===""?".":B+":";if(C(L))for(var ke=0;ke<L.length;ke++)B=L[ke],ye=Ce+K(B,ke),he+=W(B,le,re,ye,ne);else if(ke=b(L),typeof ke=="function")for(L=ke.call(L),ke=0;!(B=L.next()).done;)B=B.value,ye=Ce+K(B,ke++),he+=W(B,le,re,ye,ne);else if(ye==="object"){if(typeof L.then=="function")return W(te(L),le,re,B,ne);throw le=String(L),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return he}function V(L,le,re){if(L==null)return L;var B=[],ne=0;return W(L,B,"","",function(ye){return le.call(re,ye,ne++)}),B}function Q(L){if(L._status===-1){var le=L._result;le=le(),le.then(function(re){(L._status===0||L._status===-1)&&(L._status=1,L._result=re)},function(re){(L._status===0||L._status===-1)&&(L._status=2,L._result=re)}),L._status===-1&&(L._status=0,L._result=le)}if(L._status===1)return L._result.default;throw L._result}var ee=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function ce(){}return Lt.Children={map:V,forEach:function(L,le,re){V(L,function(){le.apply(this,arguments)},re)},count:function(L){var le=0;return V(L,function(){le++}),le},toArray:function(L){return V(L,function(le){return le})||[]},only:function(L){if(!U(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Lt.Component=N,Lt.Fragment=n,Lt.Profiler=a,Lt.PureComponent=D,Lt.StrictMode=s,Lt.Suspense=f,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return k.H.useMemoCache(L)}},Lt.cache=function(L){return function(){return L.apply(null,arguments)}},Lt.cloneElement=function(L,le,re){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var B=_({},L.props),ne=L.key,ye=void 0;if(le!=null)for(he in le.ref!==void 0&&(ye=void 0),le.key!==void 0&&(ne=""+le.key),le)!T.call(le,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&le.ref===void 0||(B[he]=le[he]);var he=arguments.length-2;if(he===1)B.children=re;else if(1<he){for(var Ce=Array(he),ke=0;ke<he;ke++)Ce[ke]=arguments[ke+2];B.children=Ce}return R(L.type,ne,void 0,void 0,ye,B)},Lt.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:i,_context:L},L},Lt.createElement=function(L,le,re){var B,ne={},ye=null;if(le!=null)for(B in le.key!==void 0&&(ye=""+le.key),le)T.call(le,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(ne[B]=le[B]);var he=arguments.length-2;if(he===1)ne.children=re;else if(1<he){for(var Ce=Array(he),ke=0;ke<he;ke++)Ce[ke]=arguments[ke+2];ne.children=Ce}if(L&&L.defaultProps)for(B in he=L.defaultProps,he)ne[B]===void 0&&(ne[B]=he[B]);return R(L,ye,void 0,void 0,null,ne)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(L){return{$$typeof:d,render:L}},Lt.isValidElement=U,Lt.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:Q}},Lt.memo=function(L,le){return{$$typeof:h,type:L,compare:le===void 0?null:le}},Lt.startTransition=function(L){var le=k.T,re={};k.T=re;try{var B=L(),ne=k.S;ne!==null&&ne(re,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(ce,ee)}catch(ye){ee(ye)}finally{k.T=le}},Lt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Lt.use=function(L){return k.H.use(L)},Lt.useActionState=function(L,le,re){return k.H.useActionState(L,le,re)},Lt.useCallback=function(L,le){return k.H.useCallback(L,le)},Lt.useContext=function(L){return k.H.useContext(L)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(L,le){return k.H.useDeferredValue(L,le)},Lt.useEffect=function(L,le,re){var B=k.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return B.useEffect(L,le)},Lt.useId=function(){return k.H.useId()},Lt.useImperativeHandle=function(L,le,re){return k.H.useImperativeHandle(L,le,re)},Lt.useInsertionEffect=function(L,le){return k.H.useInsertionEffect(L,le)},Lt.useLayoutEffect=function(L,le){return k.H.useLayoutEffect(L,le)},Lt.useMemo=function(L,le){return k.H.useMemo(L,le)},Lt.useOptimistic=function(L,le){return k.H.useOptimistic(L,le)},Lt.useReducer=function(L,le,re){return k.H.useReducer(L,le,re)},Lt.useRef=function(L){return k.H.useRef(L)},Lt.useState=function(L){return k.H.useState(L)},Lt.useSyncExternalStore=function(L,le,re){return k.H.useSyncExternalStore(L,le,re)},Lt.useTransition=function(){return k.H.useTransition()},Lt.version="19.1.1",Lt}var N_;function Tx(){return N_||(N_=1,Eg.exports=NO()),Eg.exports}var j=Tx();const se=Ex(j),VS=_O({__proto__:null,default:se},[j]);var Tg={exports:{}},du={},Cg={exports:{}},kg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function EO(){return E_||(E_=1,function(e){function t(V,Q){var ee=V.length;V.push(Q);e:for(;0<ee;){var ce=ee-1>>>1,L=V[ce];if(0<a(L,Q))V[ce]=Q,V[ee]=L,ee=ce;else break e}}function n(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var Q=V[0],ee=V.pop();if(ee!==Q){V[0]=ee;e:for(var ce=0,L=V.length,le=L>>>1;ce<le;){var re=2*(ce+1)-1,B=V[re],ne=re+1,ye=V[ne];if(0>a(B,ee))ne<L&&0>a(ye,B)?(V[ce]=ye,V[ne]=ee,ce=ne):(V[ce]=B,V[re]=ee,ce=re);else if(ne<L&&0>a(ye,ee))V[ce]=ye,V[ne]=ee,ce=ne;else break e}}return Q}function a(V,Q){var ee=V.sortIndex-Q.sortIndex;return ee!==0?ee:V.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],h=[],p=1,g=null,b=3,y=!1,_=!1,w=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate!="undefined"?setImmediate:null;function C(V){for(var Q=n(h);Q!==null;){if(Q.callback===null)s(h);else if(Q.startTime<=V)s(h),Q.sortIndex=Q.expirationTime,t(f,Q);else break;Q=n(h)}}function k(V){if(w=!1,C(V),!_)if(n(f)!==null)_=!0,T||(T=!0,K());else{var Q=n(h);Q!==null&&W(k,Q.startTime-V)}}var T=!1,R=-1,P=5,U=-1;function X(){return N?!0:!(e.unstable_now()-U<P)}function H(){if(N=!1,T){var V=e.unstable_now();U=V;var Q=!0;try{e:{_=!1,w&&(w=!1,D(R),R=-1),y=!0;var ee=b;try{t:{for(C(V),g=n(f);g!==null&&!(g.expirationTime>V&&X());){var ce=g.callback;if(typeof ce=="function"){g.callback=null,b=g.priorityLevel;var L=ce(g.expirationTime<=V);if(V=e.unstable_now(),typeof L=="function"){g.callback=L,C(V),Q=!0;break t}g===n(f)&&s(f),C(V)}else s(f);g=n(f)}if(g!==null)Q=!0;else{var le=n(h);le!==null&&W(k,le.startTime-V),Q=!1}}break e}finally{g=null,b=ee,y=!1}Q=void 0}}finally{Q?K():T=!1}}}var K;if(typeof A=="function")K=function(){A(H)};else if(typeof MessageChannel!="undefined"){var Y=new MessageChannel,te=Y.port2;Y.port1.onmessage=H,K=function(){te.postMessage(null)}}else K=function(){S(H,0)};function W(V,Q){R=S(function(){V(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(V){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var ee=b;b=Q;try{return V()}finally{b=ee}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=b;b=V;try{return Q()}finally{b=ee}},e.unstable_scheduleCallback=function(V,Q,ee){var ce=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ce+ee:ce):ee=ce,V){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ee+L,V={id:p++,callback:Q,priorityLevel:V,startTime:ee,expirationTime:L,sortIndex:-1},ee>ce?(V.sortIndex=ee,t(h,V),n(f)===null&&V===n(h)&&(w?(D(R),R=-1):w=!0,W(k,ee-ce))):(V.sortIndex=L,t(f,V),_||y||(_=!0,T||(T=!0,K()))),V},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(V){var Q=b;return function(){var ee=b;b=Q;try{return V.apply(this,arguments)}finally{b=ee}}}}(kg)),kg}var T_;function TO(){return T_||(T_=1,Cg.exports=EO()),Cg.exports}var Og={exports:{}},Ns={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function CO(){if(C_)return Ns;C_=1;var e=Tx();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ns.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ns.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return i(f,h,null,p)},Ns.flushSync=function(f){var h=c.T,p=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=h,s.p=p,s.d.f()}},Ns.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(f,h))},Ns.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},Ns.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?s.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:y}):p==="script"&&s.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ns.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);s.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(f)},Ns.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);s.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ns.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);s.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(f)},Ns.requestFormReset=function(f){s.d.r(f)},Ns.unstable_batchedUpdates=function(f,h){return f(h)},Ns.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},Ns.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ns.version="19.1.1",Ns}var k_;function IS(){if(k_)return Og.exports;k_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Og.exports=CO(),Og.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function kO(){if(O_)return du;O_=1;var e=TO(),t=Tx(),n=IS();function s(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function i(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function c(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function d(r){if(i(r)!==r)throw Error(s(188))}function f(r){var o=r.alternate;if(!o){if(o=i(r),o===null)throw Error(s(188));return o!==r?null:r}for(var u=r,m=o;;){var x=u.return;if(x===null)break;var v=x.alternate;if(v===null){if(m=x.return,m!==null){u=m;continue}break}if(x.child===v.child){for(v=x.child;v;){if(v===u)return d(x),r;if(v===m)return d(x),o;v=v.sibling}throw Error(s(188))}if(u.return!==m.return)u=x,m=v;else{for(var O=!1,F=x.child;F;){if(F===u){O=!0,u=x,m=v;break}if(F===m){O=!0,m=x,u=v;break}F=F.sibling}if(!O){for(F=v.child;F;){if(F===u){O=!0,u=v,m=x;break}if(F===m){O=!0,m=v,u=x;break}F=F.sibling}if(!O)throw Error(s(189))}}if(u.alternate!==m)throw Error(s(190))}if(u.tag!==3)throw Error(s(188));return u.stateNode.current===u?r:o}function h(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=h(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function K(r){return r===null||typeof r!="object"?null:(r=H&&r[H]||r["@@iterator"],typeof r=="function"?r:null)}var Y=Symbol.for("react.client.reference");function te(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Y?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case _:return"Fragment";case N:return"Profiler";case w:return"StrictMode";case k:return"Suspense";case T:return"SuspenseList";case U:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case y:return"Portal";case A:return(r.displayName||"Context")+".Provider";case D:return(r._context.displayName||"Context")+".Consumer";case C:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case R:return o=r.displayName||null,o!==null?o:te(r.type)||"Memo";case P:o=r._payload,r=r._init;try{return te(r(o))}catch(u){}}return null}var W=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ce=[],L=-1;function le(r){return{current:r}}function re(r){0>L||(r.current=ce[L],ce[L]=null,L--)}function B(r,o){L++,ce[L]=r.current,r.current=o}var ne=le(null),ye=le(null),he=le(null),Ce=le(null);function ke(r,o){switch(B(he,o),B(ye,r),B(ne,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?Yw(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=Yw(o),r=Xw(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}re(ne),B(ne,r)}function We(){re(ne),re(ye),re(he)}function Ue(r){r.memoizedState!==null&&B(Ce,r);var o=ne.current,u=Xw(o,r.type);o!==u&&(B(ye,r),B(ne,u))}function qe(r){ye.current===r&&(re(ne),re(ye)),Ce.current===r&&(re(Ce),au._currentValue=ee)}var Ze=Object.prototype.hasOwnProperty,st=e.unstable_scheduleCallback,Pe=e.unstable_cancelCallback,Tt=e.unstable_shouldYield,Yt=e.unstable_requestPaint,Nt=e.unstable_now,it=e.unstable_getCurrentPriorityLevel,jt=e.unstable_ImmediatePriority,G=e.unstable_UserBlockingPriority,de=e.unstable_NormalPriority,q=e.unstable_LowPriority,Se=e.unstable_IdlePriority,Me=e.log,Re=e.unstable_setDisableYieldValue,$e=null,Xe=null;function Qe(r){if(typeof Me=="function"&&Re(r),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode($e,r)}catch(o){}}var vt=Math.clz32?Math.clz32:sn,wn=Math.log,Jt=Math.LN2;function sn(r){return r>>>=0,r===0?32:31-(wn(r)/Jt|0)|0}var xn=256,Fn=4194304;function Bn(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Dt(r,o,u){var m=r.pendingLanes;if(m===0)return 0;var x=0,v=r.suspendedLanes,O=r.pingedLanes;r=r.warmLanes;var F=m&134217727;return F!==0?(m=F&~v,m!==0?x=Bn(m):(O&=F,O!==0?x=Bn(O):u||(u=F&~r,u!==0&&(x=Bn(u))))):(F=m&~v,F!==0?x=Bn(F):O!==0?x=Bn(O):u||(u=m&~r,u!==0&&(x=Bn(u)))),x===0?0:o!==0&&o!==x&&(o&v)===0&&(v=x&-x,u=o&-o,v>=u||v===32&&(u&4194048)!==0)?o:x}function Ee(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function He(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Le(){var r=xn;return xn<<=1,(xn&4194048)===0&&(xn=256),r}function pt(){var r=Fn;return Fn<<=1,(Fn&62914560)===0&&(Fn=4194304),r}function At(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function ot(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ct(r,o,u,m,x,v){var O=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var F=r.entanglements,Z=r.expirationTimes,be=r.hiddenUpdates;for(u=O&~u;0<u;){var Ne=31-vt(u),Oe=1<<Ne;F[Ne]=0,Z[Ne]=-1;var we=be[Ne];if(we!==null)for(be[Ne]=null,Ne=0;Ne<we.length;Ne++){var _e=we[Ne];_e!==null&&(_e.lane&=-536870913)}u&=~Oe}m!==0&&Ge(r,m,0),v!==0&&x===0&&r.tag!==0&&(r.suspendedLanes|=v&~(O&~o))}function Ge(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var m=31-vt(o);r.entangledLanes|=o,r.entanglements[m]=r.entanglements[m]|1073741824|u&4194090}function bt(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var m=31-vt(u),x=1<<m;x&o|r[m]&o&&(r[m]|=o),u&=~x}}function Ht(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Kt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function J(){var r=Q.p;return r!==0?r:(r=window.event,r===void 0?32:h_(r.type))}function ie(r,o){var u=Q.p;try{return Q.p=r,o()}finally{Q.p=u}}var pe=Math.random().toString(36).slice(2),je="__reactFiber$"+pe,De="__reactProps$"+pe,Ie="__reactContainer$"+pe,Je="__reactEvents$"+pe,rt="__reactListeners$"+pe,ft="__reactHandles$"+pe,Pt="__reactResources$"+pe,lt="__reactMarker$"+pe;function St(r){delete r[je],delete r[De],delete r[Je],delete r[rt],delete r[ft]}function Rt(r){var o=r[je];if(o)return o;for(var u=r.parentNode;u;){if(o=u[Ie]||u[je]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=Zw(r);r!==null;){if(u=r[je])return u;r=Zw(r)}return o}r=u,u=r.parentNode}return null}function pn(r){if(r=r[je]||r[Ie]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function Rn(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(s(33))}function cn(r){var o=r[Pt];return o||(o=r[Pt]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ct(r){r[lt]=!0}var kt=new Set,Qt={};function Nn(r,o){Mn(r,o),Mn(r+"Capture",o)}function Mn(r,o){for(Qt[r]=o,r=0;r<o.length;r++)kt.add(o[r])}var Jn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cs={},cr={};function ur(r){return Ze.call(cr,r)?!0:Ze.call(cs,r)?!1:Jn.test(r)?cr[r]=!0:(cs[r]=!0,!1)}function _s(r,o,u){if(ur(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function dr(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function zt(r,o,u,m){if(m===null)r.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+m)}}var Pn,ba;function gs(r){if(Pn===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Pn=o&&o[1]||"",ba=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pn+r+ba}var yn=!1;function Or(r,o){if(!r||yn)return"";yn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var Oe=function(){throw Error()};if(Object.defineProperty(Oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Oe,[])}catch(_e){var we=_e}Reflect.construct(r,[],Oe)}else{try{Oe.call()}catch(_e){we=_e}r.call(Oe.prototype)}}else{try{throw Error()}catch(_e){we=_e}(Oe=r())&&typeof Oe.catch=="function"&&Oe.catch(function(){})}}catch(_e){if(_e&&we&&typeof _e.stack=="string")return[_e.stack,we.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=m.DetermineComponentFrameRoot(),O=v[0],F=v[1];if(O&&F){var Z=O.split(`
`),be=F.split(`
`);for(x=m=0;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;for(;x<be.length&&!be[x].includes("DetermineComponentFrameRoot");)x++;if(m===Z.length||x===be.length)for(m=Z.length-1,x=be.length-1;1<=m&&0<=x&&Z[m]!==be[x];)x--;for(;1<=m&&0<=x;m--,x--)if(Z[m]!==be[x]){if(m!==1||x!==1)do if(m--,x--,0>x||Z[m]!==be[x]){var Ne=`
`+Z[m].replace(" at new "," at ");return r.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",r.displayName)),Ne}while(1<=m&&0<=x);break}}}finally{yn=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?gs(u):""}function qo(r){switch(r.tag){case 26:case 27:case 5:return gs(r.type);case 16:return gs("Lazy");case 13:return gs("Suspense");case 19:return gs("SuspenseList");case 0:case 15:return Or(r.type,!1);case 11:return Or(r.type.render,!1);case 1:return Or(r.type,!0);case 31:return gs("Activity");default:return""}}function Wo(r){try{var o="";do o+=qo(r),r=r.return;while(r);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Rs(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function md(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function pd(r){var o=md(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),m=""+r[o];if(!r.hasOwnProperty(o)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,v=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return x.call(this)},set:function(O){m=""+O,v.call(this,O)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(O){m=""+O},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Ii(r){r._valueTracker||(r._valueTracker=pd(r))}function Gr(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return r&&(m=md(r)?r.checked?"true":"false":r.value),r=m,r!==u?(o.setValue(r),!0):!1}function qi(r){if(r=r||(typeof document!="undefined"?document:void 0),typeof r=="undefined")return null;try{return r.activeElement||r.body}catch(o){return r.body}}var km=/[\n"\\]/g;function Ms(r){return r.replace(km,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function pc(r,o,u,m,x,v,O,F){r.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.type=O:r.removeAttribute("type"),o!=null?O==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Rs(o)):r.value!==""+Rs(o)&&(r.value=""+Rs(o)):O!=="submit"&&O!=="reset"||r.removeAttribute("value"),o!=null?gc(r,O,Rs(o)):u!=null?gc(r,O,Rs(u)):m!=null&&r.removeAttribute("value"),x==null&&v!=null&&(r.defaultChecked=!!v),x!=null&&(r.checked=x&&typeof x!="function"&&typeof x!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?r.name=""+Rs(F):r.removeAttribute("name")}function gd(r,o,u,m,x,v,O,F){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),o!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;u=u!=null?""+Rs(u):"",o=o!=null?""+Rs(o):u,F||o===r.value||(r.value=o),r.defaultValue=o}m=m!=null?m:x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=F?r.checked:!!m,r.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(r.name=O)}function gc(r,o,u){o==="number"&&qi(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function va(r,o,u,m){if(r=r.options,o){o={};for(var x=0;x<u.length;x++)o["$"+u[x]]=!0;for(u=0;u<r.length;u++)x=o.hasOwnProperty("$"+r[u].value),r[u].selected!==x&&(r[u].selected=x),x&&m&&(r[u].defaultSelected=!0)}else{for(u=""+Rs(u),o=null,x=0;x<r.length;x++){if(r[x].value===u){r[x].selected=!0,m&&(r[x].defaultSelected=!0);return}o!==null||r[x].disabled||(o=r[x])}o!==null&&(o.selected=!0)}}function Wi(r,o,u){if(o!=null&&(o=""+Rs(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+Rs(u):""}function xc(r,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(s(92));if(W(m)){if(1<m.length)throw Error(s(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=Rs(o),r.defaultValue=u,m=r.textContent,m===u&&m!==""&&m!==null&&(r.value=m)}function Ka(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var xd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yd(r,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":m?r.setProperty(o,u):typeof u!="number"||u===0||xd.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function yc(r,o,u){if(o!=null&&typeof o!="object")throw Error(s(62));if(r=r.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var x in o)m=o[x],o.hasOwnProperty(x)&&u[x]!==m&&yd(r,x,m)}else for(var v in o)o.hasOwnProperty(v)&&yd(r,v,o[v])}function Yi(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Om=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xo(r){return Om.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var bc=null;function Xi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var wa=null,Qa=null;function vc(r){var o=pn(r);if(o&&(r=o.stateNode)){var u=r[De]||null;e:switch(r=o.stateNode,o.type){case"input":if(pc(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ms(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==r&&m.form===r.form){var x=m[De]||null;if(!x)throw Error(s(90));pc(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===r.form&&Gr(m)}break e;case"textarea":Wi(r,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&va(r,!!u.multiple,o,!1)}}}var Gi=!1;function wc(r,o,u){if(Gi)return r(o,u);Gi=!0;try{var m=r(o);return m}finally{if(Gi=!1,(wa!==null||Qa!==null)&&(ef(),wa&&(o=wa,r=Qa,Qa=wa=null,vc(o),r)))for(o=0;o<r.length;o++)vc(r[o])}}function Za(r,o){var u=r.stateNode;if(u===null)return null;var m=u[De]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(s(231,o,typeof u));return u}var Ps=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Go=!1;if(Ps)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){Go=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch(r){Go=!1}var Ys=null,Ls=null,_a=null;function Qi(){if(_a)return _a;var r,o=Ls,u=o.length,m,x="value"in Ys?Ys.value:Ys.textContent,v=x.length;for(r=0;r<u&&o[r]===x[r];r++);var O=u-r;for(m=1;m<=O&&o[u-m]===x[v-m];m++);return _a=x.slice(r,1<m?1-m:void 0)}function Ja(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Ko(){return!0}function bd(){return!1}function js(r){function o(u,m,x,v,O){this._reactName=u,this._targetInst=x,this.type=m,this.nativeEvent=v,this.target=O,this.currentTarget=null;for(var F in r)r.hasOwnProperty(F)&&(u=r[F],this[F]=u?u(v):v[F]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ko:bd,this.isPropagationStopped=bd,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),o}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qo=js(Ar),ei=p({},Ar,{view:0,detail:0}),Ln=js(ei),E,M,$,I=p({},ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==$&&($&&r.type==="mousemove"?(E=r.screenX-$.screenX,M=r.screenY-$.screenY):M=E=0,$=r),E)},movementY:function(r){return"movementY"in r?r.movementY:M}}),ue=js(I),me=p({},I,{dataTransfer:0}),ve=js(me),Fe=p({},ei,{relatedTarget:0}),dt=js(Fe),Be=p({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Ke=js(Be),gt=p({},Ar,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),un=js(gt),Ot=p({},Ar,{data:0}),ht=js(Ot),at={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},us={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Wn[r])?!!o[r]:!1}function fr(){return Cn}var Zi=p({},ei,{key:function(r){if(r.key){var o=at[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Ja(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?us[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(r){return r.type==="keypress"?Ja(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ja(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Kr=js(Zi),ti=p({},I,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=js(ti),Jo=p({},ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),vd=js(Jo),PC=p({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),LC=js(PC),zC=p({},I,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),UC=js(zC),FC=p({},Ar,{newState:0,oldState:0}),BC=js(FC),$C=[9,13,27,32],Am=Ps&&"CompositionEvent"in window,_c=null;Ps&&"documentMode"in document&&(_c=document.documentMode);var HC=Ps&&"TextEvent"in window&&!_c,nb=Ps&&(!Am||_c&&8<_c&&11>=_c),sb=" ",rb=!1;function ab(r,o){switch(r){case"keyup":return $C.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ib(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var el=!1;function VC(r,o){switch(r){case"compositionend":return ib(o);case"keypress":return o.which!==32?null:(rb=!0,sb);case"textInput":return r=o.data,r===sb&&rb?null:r;default:return null}}function IC(r,o){if(el)return r==="compositionend"||!Am&&ab(r,o)?(r=Qi(),_a=Ls=Ys=null,el=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return nb&&o.locale!=="ko"?null:o.data;default:return null}}var qC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ob(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!qC[r.type]:o==="textarea"}function lb(r,o,u,m){wa?Qa?Qa.push(m):Qa=[m]:wa=m,o=of(o,"onChange"),0<o.length&&(u=new Qo("onChange","change",null,u,m),r.push({event:u,listeners:o}))}var jc=null,Sc=null;function WC(r){Hw(r,0)}function wd(r){var o=Rn(r);if(Gr(o))return r}function cb(r,o){if(r==="change")return o}var ub=!1;if(Ps){var Dm;if(Ps){var Rm="oninput"in document;if(!Rm){var db=document.createElement("div");db.setAttribute("oninput","return;"),Rm=typeof db.oninput=="function"}Dm=Rm}else Dm=!1;ub=Dm&&(!document.documentMode||9<document.documentMode)}function fb(){jc&&(jc.detachEvent("onpropertychange",hb),Sc=jc=null)}function hb(r){if(r.propertyName==="value"&&wd(Sc)){var o=[];lb(o,Sc,r,Xi(r)),wc(WC,o)}}function YC(r,o,u){r==="focusin"?(fb(),jc=o,Sc=u,jc.attachEvent("onpropertychange",hb)):r==="focusout"&&fb()}function XC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return wd(Sc)}function GC(r,o){if(r==="click")return wd(o)}function KC(r,o){if(r==="input"||r==="change")return wd(o)}function QC(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Xs=typeof Object.is=="function"?Object.is:QC;function Nc(r,o){if(Xs(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var x=u[m];if(!Ze.call(o,x)||!Xs(r[x],o[x]))return!1}return!0}function mb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function pb(r,o){var u=mb(r);r=0;for(var m;u;){if(u.nodeType===3){if(m=r+u.textContent.length,r<=o&&m>=o)return{node:u,offset:o-r};r=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=mb(u)}}function gb(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?gb(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function xb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=qi(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch(m){u=!1}if(u)r=o.contentWindow;else break;o=qi(r.document)}return o}function Mm(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var ZC=Ps&&"documentMode"in document&&11>=document.documentMode,tl=null,Pm=null,Ec=null,Lm=!1;function yb(r,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Lm||tl==null||tl!==qi(m)||(m=tl,"selectionStart"in m&&Mm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ec&&Nc(Ec,m)||(Ec=m,m=of(Pm,"onSelect"),0<m.length&&(o=new Qo("onSelect","select",null,o,u),r.push({event:o,listeners:m}),o.target=tl)))}function Ji(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var nl={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionrun:Ji("Transition","TransitionRun"),transitionstart:Ji("Transition","TransitionStart"),transitioncancel:Ji("Transition","TransitionCancel"),transitionend:Ji("Transition","TransitionEnd")},zm={},bb={};Ps&&(bb=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function eo(r){if(zm[r])return zm[r];if(!nl[r])return r;var o=nl[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in bb)return zm[r]=o[u];return r}var vb=eo("animationend"),wb=eo("animationiteration"),_b=eo("animationstart"),JC=eo("transitionrun"),ek=eo("transitionstart"),tk=eo("transitioncancel"),jb=eo("transitionend"),Sb=new Map,Um="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Um.push("scrollEnd");function Dr(r,o){Sb.set(r,o),Nn(o,[r])}var Nb=new WeakMap;function hr(r,o){if(typeof r=="object"&&r!==null){var u=Nb.get(r);return u!==void 0?u:(o={value:r,source:o,stack:Wo(o)},Nb.set(r,o),o)}return{value:r,source:o,stack:Wo(o)}}var mr=[],sl=0,Fm=0;function _d(){for(var r=sl,o=Fm=sl=0;o<r;){var u=mr[o];mr[o++]=null;var m=mr[o];mr[o++]=null;var x=mr[o];mr[o++]=null;var v=mr[o];if(mr[o++]=null,m!==null&&x!==null){var O=m.pending;O===null?x.next=x:(x.next=O.next,O.next=x),m.pending=x}v!==0&&Eb(u,x,v)}}function jd(r,o,u,m){mr[sl++]=r,mr[sl++]=o,mr[sl++]=u,mr[sl++]=m,Fm|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function Bm(r,o,u,m){return jd(r,o,u,m),Sd(r)}function rl(r,o){return jd(r,null,null,o),Sd(r)}function Eb(r,o,u){r.lanes|=u;var m=r.alternate;m!==null&&(m.lanes|=u);for(var x=!1,v=r.return;v!==null;)v.childLanes|=u,m=v.alternate,m!==null&&(m.childLanes|=u),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(x=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,x&&o!==null&&(x=31-vt(u),r=v.hiddenUpdates,m=r[x],m===null?r[x]=[o]:m.push(o),o.lane=u|536870912),v):null}function Sd(r){if(50<Qc)throw Qc=0,Wp=null,Error(s(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var al={};function nk(r,o,u,m){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gs(r,o,u,m){return new nk(r,o,u,m)}function $m(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ja(r,o){var u=r.alternate;return u===null?(u=Gs(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function Tb(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Nd(r,o,u,m,x,v){var O=0;if(m=r,typeof r=="function")$m(r)&&(O=1);else if(typeof r=="string")O=rO(r,u,ne.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case U:return r=Gs(31,u,o,x),r.elementType=U,r.lanes=v,r;case _:return to(u.children,x,v,o);case w:O=8,x|=24;break;case N:return r=Gs(12,u,o,x|2),r.elementType=N,r.lanes=v,r;case k:return r=Gs(13,u,o,x),r.elementType=k,r.lanes=v,r;case T:return r=Gs(19,u,o,x),r.elementType=T,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case S:case A:O=10;break e;case D:O=9;break e;case C:O=11;break e;case R:O=14;break e;case P:O=16,m=null;break e}O=29,u=Error(s(130,r===null?"null":typeof r,"")),m=null}return o=Gs(O,u,o,x),o.elementType=r,o.type=m,o.lanes=v,o}function to(r,o,u,m){return r=Gs(7,r,m,o),r.lanes=u,r}function Hm(r,o,u){return r=Gs(6,r,null,o),r.lanes=u,r}function Vm(r,o,u){return o=Gs(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var il=[],ol=0,Ed=null,Td=0,pr=[],gr=0,no=null,Sa=1,Na="";function so(r,o){il[ol++]=Td,il[ol++]=Ed,Ed=r,Td=o}function Cb(r,o,u){pr[gr++]=Sa,pr[gr++]=Na,pr[gr++]=no,no=r;var m=Sa;r=Na;var x=32-vt(m)-1;m&=~(1<<x),u+=1;var v=32-vt(o)+x;if(30<v){var O=x-x%5;v=(m&(1<<O)-1).toString(32),m>>=O,x-=O,Sa=1<<32-vt(o)+x|u<<x|m,Na=v+r}else Sa=1<<v|u<<x|m,Na=r}function Im(r){r.return!==null&&(so(r,1),Cb(r,1,0))}function qm(r){for(;r===Ed;)Ed=il[--ol],il[ol]=null,Td=il[--ol],il[ol]=null;for(;r===no;)no=pr[--gr],pr[gr]=null,Na=pr[--gr],pr[gr]=null,Sa=pr[--gr],pr[gr]=null}var Os=null,zn=null,nn=!1,ro=null,Qr=!1,Wm=Error(s(519));function ao(r){var o=Error(s(418,""));throw kc(hr(o,r)),Wm}function kb(r){var o=r.stateNode,u=r.type,m=r.memoizedProps;switch(o[je]=r,o[De]=m,u){case"dialog":It("cancel",o),It("close",o);break;case"iframe":case"object":case"embed":It("load",o);break;case"video":case"audio":for(u=0;u<Jc.length;u++)It(Jc[u],o);break;case"source":It("error",o);break;case"img":case"image":case"link":It("error",o),It("load",o);break;case"details":It("toggle",o);break;case"input":It("invalid",o),gd(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Ii(o);break;case"select":It("invalid",o);break;case"textarea":It("invalid",o),xc(o,m.value,m.defaultValue,m.children),Ii(o)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||Ww(o.textContent,u)?(m.popover!=null&&(It("beforetoggle",o),It("toggle",o)),m.onScroll!=null&&It("scroll",o),m.onScrollEnd!=null&&It("scrollend",o),m.onClick!=null&&(o.onclick=lf),o=!0):o=!1,o||ao(r)}function Ob(r){for(Os=r.return;Os;)switch(Os.tag){case 5:case 13:Qr=!1;return;case 27:case 3:Qr=!0;return;default:Os=Os.return}}function Tc(r){if(r!==Os)return!1;if(!nn)return Ob(r),nn=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||lg(r.type,r.memoizedProps)),u=!u),u&&zn&&ao(r),Ob(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(o===0){zn=Mr(r.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;r=r.nextSibling}zn=null}}else o===27?(o=zn,xi(r.type)?(r=fg,fg=null,zn=r):zn=o):zn=Os?Mr(r.stateNode.nextSibling):null;return!0}function Cc(){zn=Os=null,nn=!1}function Ab(){var r=ro;return r!==null&&(Fs===null?Fs=r:Fs.push.apply(Fs,r),ro=null),r}function kc(r){ro===null?ro=[r]:ro.push(r)}var Ym=le(null),io=null,Ea=null;function ni(r,o,u){B(Ym,o._currentValue),o._currentValue=u}function Ta(r){r._currentValue=Ym.current,re(Ym)}function Xm(r,o,u){for(;r!==null;){var m=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),r===u)break;r=r.return}}function Gm(r,o,u,m){var x=r.child;for(x!==null&&(x.return=r);x!==null;){var v=x.dependencies;if(v!==null){var O=x.child;v=v.firstContext;e:for(;v!==null;){var F=v;v=x;for(var Z=0;Z<o.length;Z++)if(F.context===o[Z]){v.lanes|=u,F=v.alternate,F!==null&&(F.lanes|=u),Xm(v.return,u,r),m||(O=null);break e}v=F.next}}else if(x.tag===18){if(O=x.return,O===null)throw Error(s(341));O.lanes|=u,v=O.alternate,v!==null&&(v.lanes|=u),Xm(O,u,r),O=null}else O=x.child;if(O!==null)O.return=x;else for(O=x;O!==null;){if(O===r){O=null;break}if(x=O.sibling,x!==null){x.return=O.return,O=x;break}O=O.return}x=O}}function Oc(r,o,u,m){r=null;for(var x=o,v=!1;x!==null;){if(!v){if((x.flags&524288)!==0)v=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var O=x.alternate;if(O===null)throw Error(s(387));if(O=O.memoizedProps,O!==null){var F=x.type;Xs(x.pendingProps.value,O.value)||(r!==null?r.push(F):r=[F])}}else if(x===Ce.current){if(O=x.alternate,O===null)throw Error(s(387));O.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(r!==null?r.push(au):r=[au])}x=x.return}r!==null&&Gm(o,r,u,m),o.flags|=262144}function Cd(r){for(r=r.firstContext;r!==null;){if(!Xs(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function oo(r){io=r,Ea=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ss(r){return Db(io,r)}function kd(r,o){return io===null&&oo(r),Db(r,o)}function Db(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Ea===null){if(r===null)throw Error(s(308));Ea=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Ea=Ea.next=o;return u}var sk=typeof AbortController!="undefined"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,m){r.push(m)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},rk=e.unstable_scheduleCallback,ak=e.unstable_NormalPriority,es={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Km(){return{controller:new sk,data:new Map,refCount:0}}function Ac(r){r.refCount--,r.refCount===0&&rk(ak,function(){r.controller.abort()})}var Dc=null,Qm=0,ll=0,cl=null;function ik(r,o){if(Dc===null){var u=Dc=[];Qm=0,ll=Jp(),cl={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Qm++,o.then(Rb,Rb),o}function Rb(){if(--Qm===0&&Dc!==null){cl!==null&&(cl.status="fulfilled");var r=Dc;Dc=null,ll=0,cl=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function ok(r,o){var u=[],m={status:"pending",value:null,reason:null,then:function(x){u.push(x)}};return r.then(function(){m.status="fulfilled",m.value=o;for(var x=0;x<u.length;x++)(0,u[x])(o)},function(x){for(m.status="rejected",m.reason=x,x=0;x<u.length;x++)(0,u[x])(void 0)}),m}var Mb=V.S;V.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&ik(r,o),Mb!==null&&Mb(r,o)};var lo=le(null);function Zm(){var r=lo.current;return r!==null?r:bn.pooledCache}function Od(r,o){o===null?B(lo,lo.current):B(lo,o.pool)}function Pb(){var r=Zm();return r===null?null:{parent:es._currentValue,pool:r}}var Rc=Error(s(460)),Lb=Error(s(474)),Ad=Error(s(542)),Jm={then:function(){}};function zb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Dd(){}function Ub(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(Dd,Dd),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Bb(r),r;default:if(typeof o.status=="string")o.then(Dd,Dd);else{if(r=bn,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=o,r.status="pending",r.then(function(m){if(o.status==="pending"){var x=o;x.status="fulfilled",x.value=m}},function(m){if(o.status==="pending"){var x=o;x.status="rejected",x.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Bb(r),r}throw Mc=o,Rc}}var Mc=null;function Fb(){if(Mc===null)throw Error(s(459));var r=Mc;return Mc=null,r}function Bb(r){if(r===Rc||r===Ad)throw Error(s(483))}var si=!1;function ep(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tp(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ri(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ai(r,o,u){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(rn&2)!==0){var x=m.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),m.pending=o,o=Sd(r),Eb(r,null,u),o}return jd(r,m,o,u),Sd(r)}function Pc(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=r.pendingLanes,u|=m,o.lanes=u,bt(r,u)}}function np(r,o){var u=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var x=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?x=v=O:v=v.next=O,u=u.next}while(u!==null);v===null?x=v=o:v=v.next=o}else x=v=o;u={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:v,shared:m.shared,callbacks:m.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var sp=!1;function Lc(){if(sp){var r=cl;if(r!==null)throw r}}function zc(r,o,u,m){sp=!1;var x=r.updateQueue;si=!1;var v=x.firstBaseUpdate,O=x.lastBaseUpdate,F=x.shared.pending;if(F!==null){x.shared.pending=null;var Z=F,be=Z.next;Z.next=null,O===null?v=be:O.next=be,O=Z;var Ne=r.alternate;Ne!==null&&(Ne=Ne.updateQueue,F=Ne.lastBaseUpdate,F!==O&&(F===null?Ne.firstBaseUpdate=be:F.next=be,Ne.lastBaseUpdate=Z))}if(v!==null){var Oe=x.baseState;O=0,Ne=be=Z=null,F=v;do{var we=F.lane&-536870913,_e=we!==F.lane;if(_e?(Gt&we)===we:(m&we)===we){we!==0&&we===ll&&(sp=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var wt=r,mt=F;we=o;var hn=u;switch(mt.tag){case 1:if(wt=mt.payload,typeof wt=="function"){Oe=wt.call(hn,Oe,we);break e}Oe=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=mt.payload,we=typeof wt=="function"?wt.call(hn,Oe,we):wt,we==null)break e;Oe=p({},Oe,we);break e;case 2:si=!0}}we=F.callback,we!==null&&(r.flags|=64,_e&&(r.flags|=8192),_e=x.callbacks,_e===null?x.callbacks=[we]:_e.push(we))}else _e={lane:we,tag:F.tag,payload:F.payload,callback:F.callback,next:null},Ne===null?(be=Ne=_e,Z=Oe):Ne=Ne.next=_e,O|=we;if(F=F.next,F===null){if(F=x.shared.pending,F===null)break;_e=F,F=_e.next,_e.next=null,x.lastBaseUpdate=_e,x.shared.pending=null}}while(!0);Ne===null&&(Z=Oe),x.baseState=Z,x.firstBaseUpdate=be,x.lastBaseUpdate=Ne,v===null&&(x.shared.lanes=0),hi|=O,r.lanes=O,r.memoizedState=Oe}}function $b(r,o){if(typeof r!="function")throw Error(s(191,r));r.call(o)}function Hb(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)$b(u[r],o)}var ul=le(null),Rd=le(0);function Vb(r,o){r=Ma,B(Rd,r),B(ul,o),Ma=r|o.baseLanes}function rp(){B(Rd,Ma),B(ul,ul.current)}function ap(){Ma=Rd.current,re(ul),re(Rd)}var ii=0,Ft=null,dn=null,Yn=null,Md=!1,dl=!1,co=!1,Pd=0,Uc=0,fl=null,lk=0;function $n(){throw Error(s(321))}function ip(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!Xs(r[u],o[u]))return!1;return!0}function op(r,o,u,m,x,v){return ii=v,Ft=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,V.H=r===null||r.memoizedState===null?Ev:Tv,co=!1,v=u(m,x),co=!1,dl&&(v=qb(o,u,m,x)),Ib(r),v}function Ib(r){V.H=$d;var o=dn!==null&&dn.next!==null;if(ii=0,Yn=dn=Ft=null,Md=!1,Uc=0,fl=null,o)throw Error(s(300));r===null||ds||(r=r.dependencies,r!==null&&Cd(r)&&(ds=!0))}function qb(r,o,u,m){Ft=r;var x=0;do{if(dl&&(fl=null),Uc=0,dl=!1,25<=x)throw Error(s(301));if(x+=1,Yn=dn=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}V.H=pk,v=o(u,m)}while(dl);return v}function ck(){var r=V.H,o=r.useState()[0];return o=typeof o.then=="function"?Fc(o):o,r=r.useState()[0],(dn!==null?dn.memoizedState:null)!==r&&(Ft.flags|=1024),o}function lp(){var r=Pd!==0;return Pd=0,r}function cp(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function up(r){if(Md){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Md=!1}ii=0,Yn=dn=Ft=null,dl=!1,Uc=Pd=0,fl=null}function zs(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?Ft.memoizedState=Yn=r:Yn=Yn.next=r,Yn}function Xn(){if(dn===null){var r=Ft.alternate;r=r!==null?r.memoizedState:null}else r=dn.next;var o=Yn===null?Ft.memoizedState:Yn.next;if(o!==null)Yn=o,dn=r;else{if(r===null)throw Ft.alternate===null?Error(s(467)):Error(s(310));dn=r,r={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},Yn===null?Ft.memoizedState=Yn=r:Yn=Yn.next=r}return Yn}function dp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fc(r){var o=Uc;return Uc+=1,fl===null&&(fl=[]),r=Ub(fl,r,o),o=Ft,(Yn===null?o.memoizedState:Yn.next)===null&&(o=o.alternate,V.H=o===null||o.memoizedState===null?Ev:Tv),r}function Ld(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Fc(r);if(r.$$typeof===A)return Ss(r)}throw Error(s(438,String(r)))}function fp(r){var o=null,u=Ft.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=Ft.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(x){return x.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=dp(),Ft.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),m=0;m<r;m++)u[m]=X;return o.index++,u}function Ca(r,o){return typeof o=="function"?o(r):o}function zd(r){var o=Xn();return hp(o,dn,r)}function hp(r,o,u){var m=r.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=u;var x=r.baseQueue,v=m.pending;if(v!==null){if(x!==null){var O=x.next;x.next=v.next,v.next=O}o.baseQueue=x=v,m.pending=null}if(v=r.baseState,x===null)r.memoizedState=v;else{o=x.next;var F=O=null,Z=null,be=o,Ne=!1;do{var Oe=be.lane&-536870913;if(Oe!==be.lane?(Gt&Oe)===Oe:(ii&Oe)===Oe){var we=be.revertLane;if(we===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),Oe===ll&&(Ne=!0);else if((ii&we)===we){be=be.next,we===ll&&(Ne=!0);continue}else Oe={lane:0,revertLane:be.revertLane,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},Z===null?(F=Z=Oe,O=v):Z=Z.next=Oe,Ft.lanes|=we,hi|=we;Oe=be.action,co&&u(v,Oe),v=be.hasEagerState?be.eagerState:u(v,Oe)}else we={lane:Oe,revertLane:be.revertLane,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},Z===null?(F=Z=we,O=v):Z=Z.next=we,Ft.lanes|=Oe,hi|=Oe;be=be.next}while(be!==null&&be!==o);if(Z===null?O=v:Z.next=F,!Xs(v,r.memoizedState)&&(ds=!0,Ne&&(u=cl,u!==null)))throw u;r.memoizedState=v,r.baseState=O,r.baseQueue=Z,m.lastRenderedState=v}return x===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function mp(r){var o=Xn(),u=o.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=r;var m=u.dispatch,x=u.pending,v=o.memoizedState;if(x!==null){u.pending=null;var O=x=x.next;do v=r(v,O.action),O=O.next;while(O!==x);Xs(v,o.memoizedState)||(ds=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,m]}function Wb(r,o,u){var m=Ft,x=Xn(),v=nn;if(v){if(u===void 0)throw Error(s(407));u=u()}else u=o();var O=!Xs((dn||x).memoizedState,u);O&&(x.memoizedState=u,ds=!0),x=x.queue;var F=Gb.bind(null,m,x,r);if(Bc(2048,8,F,[r]),x.getSnapshot!==o||O||Yn!==null&&Yn.memoizedState.tag&1){if(m.flags|=2048,hl(9,Ud(),Xb.bind(null,m,x,u,o),null),bn===null)throw Error(s(349));v||(ii&124)!==0||Yb(m,o,u)}return u}function Yb(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=Ft.updateQueue,o===null?(o=dp(),Ft.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function Xb(r,o,u,m){o.value=u,o.getSnapshot=m,Kb(o)&&Qb(r)}function Gb(r,o,u){return u(function(){Kb(o)&&Qb(r)})}function Kb(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!Xs(r,u)}catch(m){return!0}}function Qb(r){var o=rl(r,2);o!==null&&er(o,r,2)}function pp(r){var o=zs();if(typeof r=="function"){var u=r;if(r=u(),co){Qe(!0);try{u()}finally{Qe(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:r},o}function Zb(r,o,u,m){return r.baseState=u,hp(r,dn,typeof m=="function"?m:Ca)}function uk(r,o,u,m,x){if(Bd(r))throw Error(s(485));if(r=o.action,r!==null){var v={payload:x,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){v.listeners.push(O)}};V.T!==null?u(!0):v.isTransition=!1,m(v),u=o.pending,u===null?(v.next=o.pending=v,Jb(o,v)):(v.next=u.next,o.pending=u.next=v)}}function Jb(r,o){var u=o.action,m=o.payload,x=r.state;if(o.isTransition){var v=V.T,O={};V.T=O;try{var F=u(x,m),Z=V.S;Z!==null&&Z(O,F),ev(r,o,F)}catch(be){gp(r,o,be)}finally{V.T=v}}else try{v=u(x,m),ev(r,o,v)}catch(be){gp(r,o,be)}}function ev(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){tv(r,o,m)},function(m){return gp(r,o,m)}):tv(r,o,u)}function tv(r,o,u){o.status="fulfilled",o.value=u,nv(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,Jb(r,u)))}function gp(r,o,u){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,nv(o),o=o.next;while(o!==m)}r.action=null}function nv(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function sv(r,o){return o}function rv(r,o){if(nn){var u=bn.formState;if(u!==null){e:{var m=Ft;if(nn){if(zn){t:{for(var x=zn,v=Qr;x.nodeType!==8;){if(!v){x=null;break t}if(x=Mr(x.nextSibling),x===null){x=null;break t}}v=x.data,x=v==="F!"||v==="F"?x:null}if(x){zn=Mr(x.nextSibling),m=x.data==="F!";break e}}ao(m)}m=!1}m&&(o=u[0])}}return u=zs(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sv,lastRenderedState:o},u.queue=m,u=jv.bind(null,Ft,m),m.dispatch=u,m=pp(!1),v=wp.bind(null,Ft,!1,m.queue),m=zs(),x={state:o,dispatch:null,action:r,pending:null},m.queue=x,u=uk.bind(null,Ft,x,v,u),x.dispatch=u,m.memoizedState=r,[o,u,!1]}function av(r){var o=Xn();return iv(o,dn,r)}function iv(r,o,u){if(o=hp(r,o,sv)[0],r=zd(Ca)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Fc(o)}catch(O){throw O===Rc?Ad:O}else m=o;o=Xn();var x=o.queue,v=x.dispatch;return u!==o.memoizedState&&(Ft.flags|=2048,hl(9,Ud(),dk.bind(null,x,u),null)),[m,v,r]}function dk(r,o){r.action=o}function ov(r){var o=Xn(),u=dn;if(u!==null)return iv(o,u,r);Xn(),o=o.memoizedState,u=Xn();var m=u.queue.dispatch;return u.memoizedState=r,[o,m,!1]}function hl(r,o,u,m){return r={tag:r,create:u,deps:m,inst:o,next:null},o=Ft.updateQueue,o===null&&(o=dp(),Ft.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(m=u.next,u.next=r,r.next=m,o.lastEffect=r),r}function Ud(){return{destroy:void 0,resource:void 0}}function lv(){return Xn().memoizedState}function Fd(r,o,u,m){var x=zs();m=m===void 0?null:m,Ft.flags|=r,x.memoizedState=hl(1|o,Ud(),u,m)}function Bc(r,o,u,m){var x=Xn();m=m===void 0?null:m;var v=x.memoizedState.inst;dn!==null&&m!==null&&ip(m,dn.memoizedState.deps)?x.memoizedState=hl(o,v,u,m):(Ft.flags|=r,x.memoizedState=hl(1|o,v,u,m))}function cv(r,o){Fd(8390656,8,r,o)}function uv(r,o){Bc(2048,8,r,o)}function dv(r,o){return Bc(4,2,r,o)}function fv(r,o){return Bc(4,4,r,o)}function hv(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function mv(r,o,u){u=u!=null?u.concat([r]):null,Bc(4,4,hv.bind(null,o,r),u)}function xp(){}function pv(r,o){var u=Xn();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&ip(o,m[1])?m[0]:(u.memoizedState=[r,o],r)}function gv(r,o){var u=Xn();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&ip(o,m[1]))return m[0];if(m=r(),co){Qe(!0);try{r()}finally{Qe(!1)}}return u.memoizedState=[m,o],m}function yp(r,o,u){return u===void 0||(ii&1073741824)!==0?r.memoizedState=o:(r.memoizedState=u,r=bw(),Ft.lanes|=r,hi|=r,u)}function xv(r,o,u,m){return Xs(u,o)?u:ul.current!==null?(r=yp(r,u,m),Xs(r,o)||(ds=!0),r):(ii&42)===0?(ds=!0,r.memoizedState=u):(r=bw(),Ft.lanes|=r,hi|=r,o)}function yv(r,o,u,m,x){var v=Q.p;Q.p=v!==0&&8>v?v:8;var O=V.T,F={};V.T=F,wp(r,!1,o,u);try{var Z=x(),be=V.S;if(be!==null&&be(F,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var Ne=ok(Z,m);$c(r,o,Ne,Js(r))}else $c(r,o,m,Js(r))}catch(Oe){$c(r,o,{then:function(){},status:"rejected",reason:Oe},Js())}finally{Q.p=v,V.T=O}}function fk(){}function bp(r,o,u,m){if(r.tag!==5)throw Error(s(476));var x=bv(r).queue;yv(r,x,o,ee,u===null?fk:function(){return vv(r),u(m)})}function bv(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:ee},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function vv(r){var o=bv(r).next.queue;$c(r,o,{},Js())}function vp(){return Ss(au)}function wv(){return Xn().memoizedState}function _v(){return Xn().memoizedState}function hk(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=Js();r=ri(u);var m=ai(o,r,u);m!==null&&(er(m,o,u),Pc(m,o,u)),o={cache:Km()},r.payload=o;return}o=o.return}}function mk(r,o,u){var m=Js();u={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Bd(r)?Sv(o,u):(u=Bm(r,o,u,m),u!==null&&(er(u,r,m),Nv(u,o,m)))}function jv(r,o,u){var m=Js();$c(r,o,u,m)}function $c(r,o,u,m){var x={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Bd(r))Sv(o,x);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var O=o.lastRenderedState,F=v(O,u);if(x.hasEagerState=!0,x.eagerState=F,Xs(F,O))return jd(r,o,x,0),bn===null&&_d(),!1}catch(Z){}finally{}if(u=Bm(r,o,x,m),u!==null)return er(u,r,m),Nv(u,o,m),!0}return!1}function wp(r,o,u,m){if(m={lane:2,revertLane:Jp(),action:m,hasEagerState:!1,eagerState:null,next:null},Bd(r)){if(o)throw Error(s(479))}else o=Bm(r,u,m,2),o!==null&&er(o,r,2)}function Bd(r){var o=r.alternate;return r===Ft||o!==null&&o===Ft}function Sv(r,o){dl=Md=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function Nv(r,o,u){if((u&4194048)!==0){var m=o.lanes;m&=r.pendingLanes,u|=m,o.lanes=u,bt(r,u)}}var $d={readContext:Ss,use:Ld,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useLayoutEffect:$n,useInsertionEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useSyncExternalStore:$n,useId:$n,useHostTransitionStatus:$n,useFormState:$n,useActionState:$n,useOptimistic:$n,useMemoCache:$n,useCacheRefresh:$n},Ev={readContext:Ss,use:Ld,useCallback:function(r,o){return zs().memoizedState=[r,o===void 0?null:o],r},useContext:Ss,useEffect:cv,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,Fd(4194308,4,hv.bind(null,o,r),u)},useLayoutEffect:function(r,o){return Fd(4194308,4,r,o)},useInsertionEffect:function(r,o){Fd(4,2,r,o)},useMemo:function(r,o){var u=zs();o=o===void 0?null:o;var m=r();if(co){Qe(!0);try{r()}finally{Qe(!1)}}return u.memoizedState=[m,o],m},useReducer:function(r,o,u){var m=zs();if(u!==void 0){var x=u(o);if(co){Qe(!0);try{u(o)}finally{Qe(!1)}}}else x=o;return m.memoizedState=m.baseState=x,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:x},m.queue=r,r=r.dispatch=mk.bind(null,Ft,r),[m.memoizedState,r]},useRef:function(r){var o=zs();return r={current:r},o.memoizedState=r},useState:function(r){r=pp(r);var o=r.queue,u=jv.bind(null,Ft,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:xp,useDeferredValue:function(r,o){var u=zs();return yp(u,r,o)},useTransition:function(){var r=pp(!1);return r=yv.bind(null,Ft,r.queue,!0,!1),zs().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var m=Ft,x=zs();if(nn){if(u===void 0)throw Error(s(407));u=u()}else{if(u=o(),bn===null)throw Error(s(349));(Gt&124)!==0||Yb(m,o,u)}x.memoizedState=u;var v={value:u,getSnapshot:o};return x.queue=v,cv(Gb.bind(null,m,v,r),[r]),m.flags|=2048,hl(9,Ud(),Xb.bind(null,m,v,u,o),null),u},useId:function(){var r=zs(),o=bn.identifierPrefix;if(nn){var u=Na,m=Sa;u=(m&~(1<<32-vt(m)-1)).toString(32)+u,o="«"+o+"R"+u,u=Pd++,0<u&&(o+="H"+u.toString(32)),o+="»"}else u=lk++,o="«"+o+"r"+u.toString(32)+"»";return r.memoizedState=o},useHostTransitionStatus:vp,useFormState:rv,useActionState:rv,useOptimistic:function(r){var o=zs();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=wp.bind(null,Ft,!0,u),u.dispatch=o,[r,o]},useMemoCache:fp,useCacheRefresh:function(){return zs().memoizedState=hk.bind(null,Ft)}},Tv={readContext:Ss,use:Ld,useCallback:pv,useContext:Ss,useEffect:uv,useImperativeHandle:mv,useInsertionEffect:dv,useLayoutEffect:fv,useMemo:gv,useReducer:zd,useRef:lv,useState:function(){return zd(Ca)},useDebugValue:xp,useDeferredValue:function(r,o){var u=Xn();return xv(u,dn.memoizedState,r,o)},useTransition:function(){var r=zd(Ca)[0],o=Xn().memoizedState;return[typeof r=="boolean"?r:Fc(r),o]},useSyncExternalStore:Wb,useId:wv,useHostTransitionStatus:vp,useFormState:av,useActionState:av,useOptimistic:function(r,o){var u=Xn();return Zb(u,dn,r,o)},useMemoCache:fp,useCacheRefresh:_v},pk={readContext:Ss,use:Ld,useCallback:pv,useContext:Ss,useEffect:uv,useImperativeHandle:mv,useInsertionEffect:dv,useLayoutEffect:fv,useMemo:gv,useReducer:mp,useRef:lv,useState:function(){return mp(Ca)},useDebugValue:xp,useDeferredValue:function(r,o){var u=Xn();return dn===null?yp(u,r,o):xv(u,dn.memoizedState,r,o)},useTransition:function(){var r=mp(Ca)[0],o=Xn().memoizedState;return[typeof r=="boolean"?r:Fc(r),o]},useSyncExternalStore:Wb,useId:wv,useHostTransitionStatus:vp,useFormState:ov,useActionState:ov,useOptimistic:function(r,o){var u=Xn();return dn!==null?Zb(u,dn,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:fp,useCacheRefresh:_v},ml=null,Hc=0;function Hd(r){var o=Hc;return Hc+=1,ml===null&&(ml=[]),Ub(ml,r,o)}function Vc(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Vd(r,o){throw o.$$typeof===g?Error(s(525)):(r=Object.prototype.toString.call(o),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function Cv(r){var o=r._init;return o(r._payload)}function kv(r){function o(fe,ae){if(r){var xe=fe.deletions;xe===null?(fe.deletions=[ae],fe.flags|=16):xe.push(ae)}}function u(fe,ae){if(!r)return null;for(;ae!==null;)o(fe,ae),ae=ae.sibling;return null}function m(fe){for(var ae=new Map;fe!==null;)fe.key!==null?ae.set(fe.key,fe):ae.set(fe.index,fe),fe=fe.sibling;return ae}function x(fe,ae){return fe=ja(fe,ae),fe.index=0,fe.sibling=null,fe}function v(fe,ae,xe){return fe.index=xe,r?(xe=fe.alternate,xe!==null?(xe=xe.index,xe<ae?(fe.flags|=67108866,ae):xe):(fe.flags|=67108866,ae)):(fe.flags|=1048576,ae)}function O(fe){return r&&fe.alternate===null&&(fe.flags|=67108866),fe}function F(fe,ae,xe,Te){return ae===null||ae.tag!==6?(ae=Hm(xe,fe.mode,Te),ae.return=fe,ae):(ae=x(ae,xe),ae.return=fe,ae)}function Z(fe,ae,xe,Te){var et=xe.type;return et===_?Ne(fe,ae,xe.props.children,Te,xe.key):ae!==null&&(ae.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===P&&Cv(et)===ae.type)?(ae=x(ae,xe.props),Vc(ae,xe),ae.return=fe,ae):(ae=Nd(xe.type,xe.key,xe.props,null,fe.mode,Te),Vc(ae,xe),ae.return=fe,ae)}function be(fe,ae,xe,Te){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==xe.containerInfo||ae.stateNode.implementation!==xe.implementation?(ae=Vm(xe,fe.mode,Te),ae.return=fe,ae):(ae=x(ae,xe.children||[]),ae.return=fe,ae)}function Ne(fe,ae,xe,Te,et){return ae===null||ae.tag!==7?(ae=to(xe,fe.mode,Te,et),ae.return=fe,ae):(ae=x(ae,xe),ae.return=fe,ae)}function Oe(fe,ae,xe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Hm(""+ae,fe.mode,xe),ae.return=fe,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return xe=Nd(ae.type,ae.key,ae.props,null,fe.mode,xe),Vc(xe,ae),xe.return=fe,xe;case y:return ae=Vm(ae,fe.mode,xe),ae.return=fe,ae;case P:var Te=ae._init;return ae=Te(ae._payload),Oe(fe,ae,xe)}if(W(ae)||K(ae))return ae=to(ae,fe.mode,xe,null),ae.return=fe,ae;if(typeof ae.then=="function")return Oe(fe,Hd(ae),xe);if(ae.$$typeof===A)return Oe(fe,kd(fe,ae),xe);Vd(fe,ae)}return null}function we(fe,ae,xe,Te){var et=ae!==null?ae.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return et!==null?null:F(fe,ae,""+xe,Te);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:return xe.key===et?Z(fe,ae,xe,Te):null;case y:return xe.key===et?be(fe,ae,xe,Te):null;case P:return et=xe._init,xe=et(xe._payload),we(fe,ae,xe,Te)}if(W(xe)||K(xe))return et!==null?null:Ne(fe,ae,xe,Te,null);if(typeof xe.then=="function")return we(fe,ae,Hd(xe),Te);if(xe.$$typeof===A)return we(fe,ae,kd(fe,xe),Te);Vd(fe,xe)}return null}function _e(fe,ae,xe,Te,et){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return fe=fe.get(xe)||null,F(ae,fe,""+Te,et);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case b:return fe=fe.get(Te.key===null?xe:Te.key)||null,Z(ae,fe,Te,et);case y:return fe=fe.get(Te.key===null?xe:Te.key)||null,be(ae,fe,Te,et);case P:var $t=Te._init;return Te=$t(Te._payload),_e(fe,ae,xe,Te,et)}if(W(Te)||K(Te))return fe=fe.get(xe)||null,Ne(ae,fe,Te,et,null);if(typeof Te.then=="function")return _e(fe,ae,xe,Hd(Te),et);if(Te.$$typeof===A)return _e(fe,ae,xe,kd(ae,Te),et);Vd(ae,Te)}return null}function wt(fe,ae,xe,Te){for(var et=null,$t=null,ut=ae,xt=ae=0,hs=null;ut!==null&&xt<xe.length;xt++){ut.index>xt?(hs=ut,ut=null):hs=ut.sibling;var en=we(fe,ut,xe[xt],Te);if(en===null){ut===null&&(ut=hs);break}r&&ut&&en.alternate===null&&o(fe,ut),ae=v(en,ae,xt),$t===null?et=en:$t.sibling=en,$t=en,ut=hs}if(xt===xe.length)return u(fe,ut),nn&&so(fe,xt),et;if(ut===null){for(;xt<xe.length;xt++)ut=Oe(fe,xe[xt],Te),ut!==null&&(ae=v(ut,ae,xt),$t===null?et=ut:$t.sibling=ut,$t=ut);return nn&&so(fe,xt),et}for(ut=m(ut);xt<xe.length;xt++)hs=_e(ut,fe,xt,xe[xt],Te),hs!==null&&(r&&hs.alternate!==null&&ut.delete(hs.key===null?xt:hs.key),ae=v(hs,ae,xt),$t===null?et=hs:$t.sibling=hs,$t=hs);return r&&ut.forEach(function(_i){return o(fe,_i)}),nn&&so(fe,xt),et}function mt(fe,ae,xe,Te){if(xe==null)throw Error(s(151));for(var et=null,$t=null,ut=ae,xt=ae=0,hs=null,en=xe.next();ut!==null&&!en.done;xt++,en=xe.next()){ut.index>xt?(hs=ut,ut=null):hs=ut.sibling;var _i=we(fe,ut,en.value,Te);if(_i===null){ut===null&&(ut=hs);break}r&&ut&&_i.alternate===null&&o(fe,ut),ae=v(_i,ae,xt),$t===null?et=_i:$t.sibling=_i,$t=_i,ut=hs}if(en.done)return u(fe,ut),nn&&so(fe,xt),et;if(ut===null){for(;!en.done;xt++,en=xe.next())en=Oe(fe,en.value,Te),en!==null&&(ae=v(en,ae,xt),$t===null?et=en:$t.sibling=en,$t=en);return nn&&so(fe,xt),et}for(ut=m(ut);!en.done;xt++,en=xe.next())en=_e(ut,fe,xt,en.value,Te),en!==null&&(r&&en.alternate!==null&&ut.delete(en.key===null?xt:en.key),ae=v(en,ae,xt),$t===null?et=en:$t.sibling=en,$t=en);return r&&ut.forEach(function(gO){return o(fe,gO)}),nn&&so(fe,xt),et}function hn(fe,ae,xe,Te){if(typeof xe=="object"&&xe!==null&&xe.type===_&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:e:{for(var et=xe.key;ae!==null;){if(ae.key===et){if(et=xe.type,et===_){if(ae.tag===7){u(fe,ae.sibling),Te=x(ae,xe.props.children),Te.return=fe,fe=Te;break e}}else if(ae.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===P&&Cv(et)===ae.type){u(fe,ae.sibling),Te=x(ae,xe.props),Vc(Te,xe),Te.return=fe,fe=Te;break e}u(fe,ae);break}else o(fe,ae);ae=ae.sibling}xe.type===_?(Te=to(xe.props.children,fe.mode,Te,xe.key),Te.return=fe,fe=Te):(Te=Nd(xe.type,xe.key,xe.props,null,fe.mode,Te),Vc(Te,xe),Te.return=fe,fe=Te)}return O(fe);case y:e:{for(et=xe.key;ae!==null;){if(ae.key===et)if(ae.tag===4&&ae.stateNode.containerInfo===xe.containerInfo&&ae.stateNode.implementation===xe.implementation){u(fe,ae.sibling),Te=x(ae,xe.children||[]),Te.return=fe,fe=Te;break e}else{u(fe,ae);break}else o(fe,ae);ae=ae.sibling}Te=Vm(xe,fe.mode,Te),Te.return=fe,fe=Te}return O(fe);case P:return et=xe._init,xe=et(xe._payload),hn(fe,ae,xe,Te)}if(W(xe))return wt(fe,ae,xe,Te);if(K(xe)){if(et=K(xe),typeof et!="function")throw Error(s(150));return xe=et.call(xe),mt(fe,ae,xe,Te)}if(typeof xe.then=="function")return hn(fe,ae,Hd(xe),Te);if(xe.$$typeof===A)return hn(fe,ae,kd(fe,xe),Te);Vd(fe,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint"?(xe=""+xe,ae!==null&&ae.tag===6?(u(fe,ae.sibling),Te=x(ae,xe),Te.return=fe,fe=Te):(u(fe,ae),Te=Hm(xe,fe.mode,Te),Te.return=fe,fe=Te),O(fe)):u(fe,ae)}return function(fe,ae,xe,Te){try{Hc=0;var et=hn(fe,ae,xe,Te);return ml=null,et}catch(ut){if(ut===Rc||ut===Ad)throw ut;var $t=Gs(29,ut,null,fe.mode);return $t.lanes=Te,$t.return=fe,$t}finally{}}}var pl=kv(!0),Ov=kv(!1),xr=le(null),Zr=null;function oi(r){var o=r.alternate;B(ts,ts.current&1),B(xr,r),Zr===null&&(o===null||ul.current!==null||o.memoizedState!==null)&&(Zr=r)}function Av(r){if(r.tag===22){if(B(ts,ts.current),B(xr,r),Zr===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Zr=r)}}else li()}function li(){B(ts,ts.current),B(xr,xr.current)}function ka(r){re(xr),Zr===r&&(Zr=null),re(ts)}var ts=le(0);function Id(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||dg(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function _p(r,o,u,m){o=r.memoizedState,u=u(m,o),u=u==null?o:p({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var jp={enqueueSetState:function(r,o,u){r=r._reactInternals;var m=Js(),x=ri(m);x.payload=o,u!=null&&(x.callback=u),o=ai(r,x,m),o!==null&&(er(o,r,m),Pc(o,r,m))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var m=Js(),x=ri(m);x.tag=1,x.payload=o,u!=null&&(x.callback=u),o=ai(r,x,m),o!==null&&(er(o,r,m),Pc(o,r,m))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=Js(),m=ri(u);m.tag=2,o!=null&&(m.callback=o),o=ai(r,m,u),o!==null&&(er(o,r,u),Pc(o,r,u))}};function Dv(r,o,u,m,x,v,O){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,v,O):o.prototype&&o.prototype.isPureReactComponent?!Nc(u,m)||!Nc(x,v):!0}function Rv(r,o,u,m){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==r&&jp.enqueueReplaceState(o,o.state,null)}function uo(r,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(r=r.defaultProps){u===o&&(u=p({},u));for(var x in r)u[x]===void 0&&(u[x]=r[x])}return u}var qd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Mv(r){qd(r)}function Pv(r){console.error(r)}function Lv(r){qd(r)}function Wd(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function zv(r,o,u){try{var m=r.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Sp(r,o,u){return u=ri(u),u.tag=3,u.payload={element:null},u.callback=function(){Wd(r,o)},u}function Uv(r){return r=ri(r),r.tag=3,r}function Fv(r,o,u,m){var x=u.type.getDerivedStateFromError;if(typeof x=="function"){var v=m.value;r.payload=function(){return x(v)},r.callback=function(){zv(o,u,m)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(r.callback=function(){zv(o,u,m),typeof x!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var F=m.stack;this.componentDidCatch(m.value,{componentStack:F!==null?F:""})})}function gk(r,o,u,m,x){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&Oc(o,u,x,!0),u=xr.current,u!==null){switch(u.tag){case 13:return Zr===null?Xp():u.alternate===null&&Un===0&&(Un=3),u.flags&=-257,u.flags|=65536,u.lanes=x,m===Jm?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),Kp(r,m,x)),!1;case 22:return u.flags|=65536,m===Jm?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),Kp(r,m,x)),!1}throw Error(s(435,u.tag))}return Kp(r,m,x),Xp(),!1}if(nn)return o=xr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=x,m!==Wm&&(r=Error(s(422),{cause:m}),kc(hr(r,u)))):(m!==Wm&&(o=Error(s(423),{cause:m}),kc(hr(o,u))),r=r.current.alternate,r.flags|=65536,x&=-x,r.lanes|=x,m=hr(m,u),x=Sp(r.stateNode,m,x),np(r,x),Un!==4&&(Un=2)),!1;var v=Error(s(520),{cause:m});if(v=hr(v,u),Kc===null?Kc=[v]:Kc.push(v),Un!==4&&(Un=2),o===null)return!0;m=hr(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=x&-x,u.lanes|=r,r=Sp(u.stateNode,m,r),np(u,r),!1;case 1:if(o=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(mi===null||!mi.has(v))))return u.flags|=65536,x&=-x,u.lanes|=x,x=Uv(x),Fv(x,r,u,m),np(u,x),!1}u=u.return}while(u!==null);return!1}var Bv=Error(s(461)),ds=!1;function xs(r,o,u,m){o.child=r===null?Ov(o,null,u,m):pl(o,r.child,u,m)}function $v(r,o,u,m,x){u=u.render;var v=o.ref;if("ref"in m){var O={};for(var F in m)F!=="ref"&&(O[F]=m[F])}else O=m;return oo(o),m=op(r,o,u,O,v,x),F=lp(),r!==null&&!ds?(cp(r,o,x),Oa(r,o,x)):(nn&&F&&Im(o),o.flags|=1,xs(r,o,m,x),o.child)}function Hv(r,o,u,m,x){if(r===null){var v=u.type;return typeof v=="function"&&!$m(v)&&v.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=v,Vv(r,o,v,m,x)):(r=Nd(u.type,null,m,o,o.mode,x),r.ref=o.ref,r.return=o,o.child=r)}if(v=r.child,!Dp(r,x)){var O=v.memoizedProps;if(u=u.compare,u=u!==null?u:Nc,u(O,m)&&r.ref===o.ref)return Oa(r,o,x)}return o.flags|=1,r=ja(v,m),r.ref=o.ref,r.return=o,o.child=r}function Vv(r,o,u,m,x){if(r!==null){var v=r.memoizedProps;if(Nc(v,m)&&r.ref===o.ref)if(ds=!1,o.pendingProps=m=v,Dp(r,x))(r.flags&131072)!==0&&(ds=!0);else return o.lanes=r.lanes,Oa(r,o,x)}return Np(r,o,u,m,x)}function Iv(r,o,u){var m=o.pendingProps,x=m.children,v=r!==null?r.memoizedState:null;if(m.mode==="hidden"){if((o.flags&128)!==0){if(m=v!==null?v.baseLanes|u:u,r!==null){for(x=o.child=r.child,v=0;x!==null;)v=v|x.lanes|x.childLanes,x=x.sibling;o.childLanes=v&~m}else o.childLanes=0,o.child=null;return qv(r,o,m,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Od(o,v!==null?v.cachePool:null),v!==null?Vb(o,v):rp(),Av(o);else return o.lanes=o.childLanes=536870912,qv(r,o,v!==null?v.baseLanes|u:u,u)}else v!==null?(Od(o,v.cachePool),Vb(o,v),li(),o.memoizedState=null):(r!==null&&Od(o,null),rp(),li());return xs(r,o,x,u),o.child}function qv(r,o,u,m){var x=Zm();return x=x===null?null:{parent:es._currentValue,pool:x},o.memoizedState={baseLanes:u,cachePool:x},r!==null&&Od(o,null),rp(),Av(o),r!==null&&Oc(r,o,m,!0),null}function Yd(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(s(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function Np(r,o,u,m,x){return oo(o),u=op(r,o,u,m,void 0,x),m=lp(),r!==null&&!ds?(cp(r,o,x),Oa(r,o,x)):(nn&&m&&Im(o),o.flags|=1,xs(r,o,u,x),o.child)}function Wv(r,o,u,m,x,v){return oo(o),o.updateQueue=null,u=qb(o,m,u,x),Ib(r),m=lp(),r!==null&&!ds?(cp(r,o,v),Oa(r,o,v)):(nn&&m&&Im(o),o.flags|=1,xs(r,o,u,v),o.child)}function Yv(r,o,u,m,x){if(oo(o),o.stateNode===null){var v=al,O=u.contextType;typeof O=="object"&&O!==null&&(v=Ss(O)),v=new u(m,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=jp,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=m,v.state=o.memoizedState,v.refs={},ep(o),O=u.contextType,v.context=typeof O=="object"&&O!==null?Ss(O):al,v.state=o.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(_p(o,u,O,m),v.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(O=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),O!==v.state&&jp.enqueueReplaceState(v,v.state,null),zc(o,m,v,x),Lc(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(r===null){v=o.stateNode;var F=o.memoizedProps,Z=uo(u,F);v.props=Z;var be=v.context,Ne=u.contextType;O=al,typeof Ne=="object"&&Ne!==null&&(O=Ss(Ne));var Oe=u.getDerivedStateFromProps;Ne=typeof Oe=="function"||typeof v.getSnapshotBeforeUpdate=="function",F=o.pendingProps!==F,Ne||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(F||be!==O)&&Rv(o,v,m,O),si=!1;var we=o.memoizedState;v.state=we,zc(o,m,v,x),Lc(),be=o.memoizedState,F||we!==be||si?(typeof Oe=="function"&&(_p(o,u,Oe,m),be=o.memoizedState),(Z=si||Dv(o,u,Z,m,we,be,O))?(Ne||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=be),v.props=m,v.state=be,v.context=O,m=Z):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{v=o.stateNode,tp(r,o),O=o.memoizedProps,Ne=uo(u,O),v.props=Ne,Oe=o.pendingProps,we=v.context,be=u.contextType,Z=al,typeof be=="object"&&be!==null&&(Z=Ss(be)),F=u.getDerivedStateFromProps,(be=typeof F=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(O!==Oe||we!==Z)&&Rv(o,v,m,Z),si=!1,we=o.memoizedState,v.state=we,zc(o,m,v,x),Lc();var _e=o.memoizedState;O!==Oe||we!==_e||si||r!==null&&r.dependencies!==null&&Cd(r.dependencies)?(typeof F=="function"&&(_p(o,u,F,m),_e=o.memoizedState),(Ne=si||Dv(o,u,Ne,m,we,_e,Z)||r!==null&&r.dependencies!==null&&Cd(r.dependencies))?(be||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(m,_e,Z),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(m,_e,Z)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||O===r.memoizedProps&&we===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&we===r.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=_e),v.props=m,v.state=_e,v.context=Z,m=Ne):(typeof v.componentDidUpdate!="function"||O===r.memoizedProps&&we===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&we===r.memoizedState||(o.flags|=1024),m=!1)}return v=m,Yd(r,o),m=(o.flags&128)!==0,v||m?(v=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,r!==null&&m?(o.child=pl(o,r.child,null,x),o.child=pl(o,null,u,x)):xs(r,o,u,x),o.memoizedState=v.state,r=o.child):r=Oa(r,o,x),r}function Xv(r,o,u,m){return Cc(),o.flags|=256,xs(r,o,u,m),o.child}var Ep={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tp(r){return{baseLanes:r,cachePool:Pb()}}function Cp(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=yr),r}function Gv(r,o,u){var m=o.pendingProps,x=!1,v=(o.flags&128)!==0,O;if((O=v)||(O=r!==null&&r.memoizedState===null?!1:(ts.current&2)!==0),O&&(x=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,r===null){if(nn){if(x?oi(o):li(),nn){var F=zn,Z;if(Z=F){e:{for(Z=F,F=Qr;Z.nodeType!==8;){if(!F){F=null;break e}if(Z=Mr(Z.nextSibling),Z===null){F=null;break e}}F=Z}F!==null?(o.memoizedState={dehydrated:F,treeContext:no!==null?{id:Sa,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},Z=Gs(18,null,null,0),Z.stateNode=F,Z.return=o,o.child=Z,Os=o,zn=null,Z=!0):Z=!1}Z||ao(o)}if(F=o.memoizedState,F!==null&&(F=F.dehydrated,F!==null))return dg(F)?o.lanes=32:o.lanes=536870912,null;ka(o)}return F=m.children,m=m.fallback,x?(li(),x=o.mode,F=Xd({mode:"hidden",children:F},x),m=to(m,x,u,null),F.return=o,m.return=o,F.sibling=m,o.child=F,x=o.child,x.memoizedState=Tp(u),x.childLanes=Cp(r,O,u),o.memoizedState=Ep,m):(oi(o),kp(o,F))}if(Z=r.memoizedState,Z!==null&&(F=Z.dehydrated,F!==null)){if(v)o.flags&256?(oi(o),o.flags&=-257,o=Op(r,o,u)):o.memoizedState!==null?(li(),o.child=r.child,o.flags|=128,o=null):(li(),x=m.fallback,F=o.mode,m=Xd({mode:"visible",children:m.children},F),x=to(x,F,u,null),x.flags|=2,m.return=o,x.return=o,m.sibling=x,o.child=m,pl(o,r.child,null,u),m=o.child,m.memoizedState=Tp(u),m.childLanes=Cp(r,O,u),o.memoizedState=Ep,o=x);else if(oi(o),dg(F)){if(O=F.nextSibling&&F.nextSibling.dataset,O)var be=O.dgst;O=be,m=Error(s(419)),m.stack="",m.digest=O,kc({value:m,source:null,stack:null}),o=Op(r,o,u)}else if(ds||Oc(r,o,u,!1),O=(u&r.childLanes)!==0,ds||O){if(O=bn,O!==null&&(m=u&-u,m=(m&42)!==0?1:Ht(m),m=(m&(O.suspendedLanes|u))!==0?0:m,m!==0&&m!==Z.retryLane))throw Z.retryLane=m,rl(r,m),er(O,r,m),Bv;F.data==="$?"||Xp(),o=Op(r,o,u)}else F.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=Z.treeContext,zn=Mr(F.nextSibling),Os=o,nn=!0,ro=null,Qr=!1,r!==null&&(pr[gr++]=Sa,pr[gr++]=Na,pr[gr++]=no,Sa=r.id,Na=r.overflow,no=o),o=kp(o,m.children),o.flags|=4096);return o}return x?(li(),x=m.fallback,F=o.mode,Z=r.child,be=Z.sibling,m=ja(Z,{mode:"hidden",children:m.children}),m.subtreeFlags=Z.subtreeFlags&65011712,be!==null?x=ja(be,x):(x=to(x,F,u,null),x.flags|=2),x.return=o,m.return=o,m.sibling=x,o.child=m,m=x,x=o.child,F=r.child.memoizedState,F===null?F=Tp(u):(Z=F.cachePool,Z!==null?(be=es._currentValue,Z=Z.parent!==be?{parent:be,pool:be}:Z):Z=Pb(),F={baseLanes:F.baseLanes|u,cachePool:Z}),x.memoizedState=F,x.childLanes=Cp(r,O,u),o.memoizedState=Ep,m):(oi(o),u=r.child,r=u.sibling,u=ja(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,r!==null&&(O=o.deletions,O===null?(o.deletions=[r],o.flags|=16):O.push(r)),o.child=u,o.memoizedState=null,u)}function kp(r,o){return o=Xd({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Xd(r,o){return r=Gs(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Op(r,o,u){return pl(o,r.child,null,u),r=kp(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Kv(r,o,u){r.lanes|=o;var m=r.alternate;m!==null&&(m.lanes|=o),Xm(r.return,o,u)}function Ap(r,o,u,m,x){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:x}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=m,v.tail=u,v.tailMode=x)}function Qv(r,o,u){var m=o.pendingProps,x=m.revealOrder,v=m.tail;if(xs(r,o,m.children,u),m=ts.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Kv(r,u,o);else if(r.tag===19)Kv(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}switch(B(ts,m),x){case"forwards":for(u=o.child,x=null;u!==null;)r=u.alternate,r!==null&&Id(r)===null&&(x=u),u=u.sibling;u=x,u===null?(x=o.child,o.child=null):(x=u.sibling,u.sibling=null),Ap(o,!1,x,u,v);break;case"backwards":for(u=null,x=o.child,o.child=null;x!==null;){if(r=x.alternate,r!==null&&Id(r)===null){o.child=x;break}r=x.sibling,x.sibling=u,u=x,x=r}Ap(o,!0,u,null,v);break;case"together":Ap(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Oa(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),hi|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(Oc(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(s(153));if(o.child!==null){for(r=o.child,u=ja(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=ja(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function Dp(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Cd(r)))}function xk(r,o,u){switch(o.tag){case 3:ke(o,o.stateNode.containerInfo),ni(o,es,r.memoizedState.cache),Cc();break;case 27:case 5:Ue(o);break;case 4:ke(o,o.stateNode.containerInfo);break;case 10:ni(o,o.type,o.memoizedProps.value);break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(oi(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Gv(r,o,u):(oi(o),r=Oa(r,o,u),r!==null?r.sibling:null);oi(o);break;case 19:var x=(r.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(Oc(r,o,u,!1),m=(u&o.childLanes)!==0),x){if(m)return Qv(r,o,u);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),B(ts,ts.current),m)break;return null;case 22:case 23:return o.lanes=0,Iv(r,o,u);case 24:ni(o,es,r.memoizedState.cache)}return Oa(r,o,u)}function Zv(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)ds=!0;else{if(!Dp(r,u)&&(o.flags&128)===0)return ds=!1,xk(r,o,u);ds=(r.flags&131072)!==0}else ds=!1,nn&&(o.flags&1048576)!==0&&Cb(o,Td,o.index);switch(o.lanes=0,o.tag){case 16:e:{r=o.pendingProps;var m=o.elementType,x=m._init;if(m=x(m._payload),o.type=m,typeof m=="function")$m(m)?(r=uo(m,r),o.tag=1,o=Yv(null,o,m,r,u)):(o.tag=0,o=Np(null,o,m,r,u));else{if(m!=null){if(x=m.$$typeof,x===C){o.tag=11,o=$v(null,o,m,r,u);break e}else if(x===R){o.tag=14,o=Hv(null,o,m,r,u);break e}}throw o=te(m)||m,Error(s(306,o,""))}}return o;case 0:return Np(r,o,o.type,o.pendingProps,u);case 1:return m=o.type,x=uo(m,o.pendingProps),Yv(r,o,m,x,u);case 3:e:{if(ke(o,o.stateNode.containerInfo),r===null)throw Error(s(387));m=o.pendingProps;var v=o.memoizedState;x=v.element,tp(r,o),zc(o,m,null,u);var O=o.memoizedState;if(m=O.cache,ni(o,es,m),m!==v.cache&&Gm(o,[es],u,!0),Lc(),m=O.element,v.isDehydrated)if(v={element:m,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=Xv(r,o,m,u);break e}else if(m!==x){x=hr(Error(s(424)),o),kc(x),o=Xv(r,o,m,u);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(zn=Mr(r.firstChild),Os=o,nn=!0,ro=null,Qr=!0,u=Ov(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Cc(),m===x){o=Oa(r,o,u);break e}xs(r,o,m,u)}o=o.child}return o;case 26:return Yd(r,o),r===null?(u=n_(o.type,null,o.pendingProps,null))?o.memoizedState=u:nn||(u=o.type,r=o.pendingProps,m=cf(he.current).createElement(u),m[je]=o,m[De]=r,bs(m,u,r),ct(m),o.stateNode=m):o.memoizedState=n_(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Ue(o),r===null&&nn&&(m=o.stateNode=Jw(o.type,o.pendingProps,he.current),Os=o,Qr=!0,x=zn,xi(o.type)?(fg=x,zn=Mr(m.firstChild)):zn=x),xs(r,o,o.pendingProps.children,u),Yd(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&nn&&((x=m=zn)&&(m=qk(m,o.type,o.pendingProps,Qr),m!==null?(o.stateNode=m,Os=o,zn=Mr(m.firstChild),Qr=!1,x=!0):x=!1),x||ao(o)),Ue(o),x=o.type,v=o.pendingProps,O=r!==null?r.memoizedProps:null,m=v.children,lg(x,v)?m=null:O!==null&&lg(x,O)&&(o.flags|=32),o.memoizedState!==null&&(x=op(r,o,ck,null,null,u),au._currentValue=x),Yd(r,o),xs(r,o,m,u),o.child;case 6:return r===null&&nn&&((r=u=zn)&&(u=Wk(u,o.pendingProps,Qr),u!==null?(o.stateNode=u,Os=o,zn=null,r=!0):r=!1),r||ao(o)),null;case 13:return Gv(r,o,u);case 4:return ke(o,o.stateNode.containerInfo),m=o.pendingProps,r===null?o.child=pl(o,null,m,u):xs(r,o,m,u),o.child;case 11:return $v(r,o,o.type,o.pendingProps,u);case 7:return xs(r,o,o.pendingProps,u),o.child;case 8:return xs(r,o,o.pendingProps.children,u),o.child;case 12:return xs(r,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,ni(o,o.type,m.value),xs(r,o,m.children,u),o.child;case 9:return x=o.type._context,m=o.pendingProps.children,oo(o),x=Ss(x),m=m(x),o.flags|=1,xs(r,o,m,u),o.child;case 14:return Hv(r,o,o.type,o.pendingProps,u);case 15:return Vv(r,o,o.type,o.pendingProps,u);case 19:return Qv(r,o,u);case 31:return m=o.pendingProps,u=o.mode,m={mode:m.mode,children:m.children},r===null?(u=Xd(m,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=ja(r.child,m),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return Iv(r,o,u);case 24:return oo(o),m=Ss(es),r===null?(x=Zm(),x===null&&(x=bn,v=Km(),x.pooledCache=v,v.refCount++,v!==null&&(x.pooledCacheLanes|=u),x=v),o.memoizedState={parent:m,cache:x},ep(o),ni(o,es,x)):((r.lanes&u)!==0&&(tp(r,o),zc(o,null,null,u),Lc()),x=r.memoizedState,v=o.memoizedState,x.parent!==m?(x={parent:m,cache:m},o.memoizedState=x,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=x),ni(o,es,m)):(m=v.cache,ni(o,es,m),m!==x.cache&&Gm(o,[es],u,!0))),xs(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function Aa(r){r.flags|=4}function Jv(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!o_(o)){if(o=xr.current,o!==null&&((Gt&4194048)===Gt?Zr!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||o!==Zr))throw Mc=Jm,Lb;r.flags|=8192}}function Gd(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?pt():536870912,r.lanes|=o,bl|=o)}function Ic(r,o){if(!nn)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function kn(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,m=0;if(o)for(var x=r.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=m,r.childLanes=u,o}function yk(r,o,u){var m=o.pendingProps;switch(qm(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(o),null;case 1:return kn(o),null;case 3:return u=o.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Ta(es),We(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Tc(o)?Aa(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ab())),kn(o),null;case 26:return u=o.memoizedState,r===null?(Aa(o),u!==null?(kn(o),Jv(o,u)):(kn(o),o.flags&=-16777217)):u?u!==r.memoizedState?(Aa(o),kn(o),Jv(o,u)):(kn(o),o.flags&=-16777217):(r.memoizedProps!==m&&Aa(o),kn(o),o.flags&=-16777217),null;case 27:qe(o),u=he.current;var x=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==m&&Aa(o);else{if(!m){if(o.stateNode===null)throw Error(s(166));return kn(o),null}r=ne.current,Tc(o)?kb(o):(r=Jw(x,m,u),o.stateNode=r,Aa(o))}return kn(o),null;case 5:if(qe(o),u=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==m&&Aa(o);else{if(!m){if(o.stateNode===null)throw Error(s(166));return kn(o),null}if(r=ne.current,Tc(o))kb(o);else{switch(x=cf(he.current),r){case 1:r=x.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=x.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=x.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=x.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof m.is=="string"?x.createElement("select",{is:m.is}):x.createElement("select"),m.multiple?r.multiple=!0:m.size&&(r.size=m.size);break;default:r=typeof m.is=="string"?x.createElement(u,{is:m.is}):x.createElement(u)}}r[je]=o,r[De]=m;e:for(x=o.child;x!==null;){if(x.tag===5||x.tag===6)r.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===o)break e;for(;x.sibling===null;){if(x.return===null||x.return===o)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}o.stateNode=r;e:switch(bs(r,u,m),u){case"button":case"input":case"select":case"textarea":r=!!m.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Aa(o)}}return kn(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==m&&Aa(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(s(166));if(r=he.current,Tc(o)){if(r=o.stateNode,u=o.memoizedProps,m=null,x=Os,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}r[je]=o,r=!!(r.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||Ww(r.nodeValue,u)),r||ao(o)}else r=cf(r).createTextNode(m),r[je]=o,o.stateNode=r}return kn(o),null;case 13:if(m=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(x=Tc(o),m!==null&&m.dehydrated!==null){if(r===null){if(!x)throw Error(s(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[je]=o}else Cc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;kn(o),x=!1}else x=Ab(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=x),x=!0;if(!x)return o.flags&256?(ka(o),o):(ka(o),null)}if(ka(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=m!==null,r=r!==null&&r.memoizedState!==null,u){m=o.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool);var v=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(v=m.memoizedState.cachePool.pool),v!==x&&(m.flags|=2048)}return u!==r&&u&&(o.child.flags|=8192),Gd(o,o.updateQueue),kn(o),null;case 4:return We(),r===null&&sg(o.stateNode.containerInfo),kn(o),null;case 10:return Ta(o.type),kn(o),null;case 19:if(re(ts),x=o.memoizedState,x===null)return kn(o),null;if(m=(o.flags&128)!==0,v=x.rendering,v===null)if(m)Ic(x,!1);else{if(Un!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(v=Id(r),v!==null){for(o.flags|=128,Ic(x,!1),r=v.updateQueue,o.updateQueue=r,Gd(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)Tb(u,r),u=u.sibling;return B(ts,ts.current&1|2),o.child}r=r.sibling}x.tail!==null&&Nt()>Zd&&(o.flags|=128,m=!0,Ic(x,!1),o.lanes=4194304)}else{if(!m)if(r=Id(v),r!==null){if(o.flags|=128,m=!0,r=r.updateQueue,o.updateQueue=r,Gd(o,r),Ic(x,!0),x.tail===null&&x.tailMode==="hidden"&&!v.alternate&&!nn)return kn(o),null}else 2*Nt()-x.renderingStartTime>Zd&&u!==536870912&&(o.flags|=128,m=!0,Ic(x,!1),o.lanes=4194304);x.isBackwards?(v.sibling=o.child,o.child=v):(r=x.last,r!==null?r.sibling=v:o.child=v,x.last=v)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=Nt(),o.sibling=null,r=ts.current,B(ts,m?r&1|2:r&1),o):(kn(o),null);case 22:case 23:return ka(o),ap(),m=o.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(kn(o),o.subtreeFlags&6&&(o.flags|=8192)):kn(o),u=o.updateQueue,u!==null&&Gd(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),r!==null&&re(lo),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ta(es),kn(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function bk(r,o){switch(qm(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Ta(es),We(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return qe(o),null;case 13:if(ka(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Cc()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return re(ts),null;case 4:return We(),null;case 10:return Ta(o.type),null;case 22:case 23:return ka(o),ap(),r!==null&&re(lo),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Ta(es),null;case 25:return null;default:return null}}function ew(r,o){switch(qm(o),o.tag){case 3:Ta(es),We();break;case 26:case 27:case 5:qe(o);break;case 4:We();break;case 13:ka(o);break;case 19:re(ts);break;case 10:Ta(o.type);break;case 22:case 23:ka(o),ap(),r!==null&&re(lo);break;case 24:Ta(es)}}function qc(r,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var x=m.next;u=x;do{if((u.tag&r)===r){m=void 0;var v=u.create,O=u.inst;m=v(),O.destroy=m}u=u.next}while(u!==x)}}catch(F){gn(o,o.return,F)}}function ci(r,o,u){try{var m=o.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var v=x.next;m=v;do{if((m.tag&r)===r){var O=m.inst,F=O.destroy;if(F!==void 0){O.destroy=void 0,x=o;var Z=u,be=F;try{be()}catch(Ne){gn(x,Z,Ne)}}}m=m.next}while(m!==v)}}catch(Ne){gn(o,o.return,Ne)}}function tw(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{Hb(o,u)}catch(m){gn(r,r.return,m)}}}function nw(r,o,u){u.props=uo(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(m){gn(r,o,m)}}function Wc(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof u=="function"?r.refCleanup=u(m):u.current=m}}catch(x){gn(r,o,x)}}function Jr(r,o){var u=r.ref,m=r.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(x){gn(r,o,x)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(x){gn(r,o,x)}else u.current=null}function sw(r){var o=r.type,u=r.memoizedProps,m=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(x){gn(r,r.return,x)}}function Rp(r,o,u){try{var m=r.stateNode;Bk(m,r.type,u,o),m[De]=o}catch(x){gn(r,r.return,x)}}function rw(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&xi(r.type)||r.tag===4}function Mp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||rw(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&xi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Pp(r,o,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=lf));else if(m!==4&&(m===27&&xi(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(Pp(r,o,u),r=r.sibling;r!==null;)Pp(r,o,u),r=r.sibling}function Kd(r,o,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(m!==4&&(m===27&&xi(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(Kd(r,o,u),r=r.sibling;r!==null;)Kd(r,o,u),r=r.sibling}function aw(r){var o=r.stateNode,u=r.memoizedProps;try{for(var m=r.type,x=o.attributes;x.length;)o.removeAttributeNode(x[0]);bs(o,m,u),o[je]=r,o[De]=u}catch(v){gn(r,r.return,v)}}var Da=!1,Hn=!1,Lp=!1,iw=typeof WeakSet=="function"?WeakSet:Set,fs=null;function vk(r,o){if(r=r.containerInfo,ig=pf,r=xb(r),Mm(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var x=m.anchorOffset,v=m.focusNode;m=m.focusOffset;try{u.nodeType,v.nodeType}catch(mt){u=null;break e}var O=0,F=-1,Z=-1,be=0,Ne=0,Oe=r,we=null;t:for(;;){for(var _e;Oe!==u||x!==0&&Oe.nodeType!==3||(F=O+x),Oe!==v||m!==0&&Oe.nodeType!==3||(Z=O+m),Oe.nodeType===3&&(O+=Oe.nodeValue.length),(_e=Oe.firstChild)!==null;)we=Oe,Oe=_e;for(;;){if(Oe===r)break t;if(we===u&&++be===x&&(F=O),we===v&&++Ne===m&&(Z=O),(_e=Oe.nextSibling)!==null)break;Oe=we,we=Oe.parentNode}Oe=_e}u=F===-1||Z===-1?null:{start:F,end:Z}}else u=null}u=u||{start:0,end:0}}else u=null;for(og={focusedElem:r,selectionRange:u},pf=!1,fs=o;fs!==null;)if(o=fs,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,fs=r;else for(;fs!==null;){switch(o=fs,v=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,u=o,x=v.memoizedProps,v=v.memoizedState,m=u.stateNode;try{var wt=uo(u.type,x,u.elementType===u.type);r=m.getSnapshotBeforeUpdate(wt,v),m.__reactInternalSnapshotBeforeUpdate=r}catch(mt){gn(u,u.return,mt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)ug(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ug(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=o.sibling,r!==null){r.return=o.return,fs=r;break}fs=o.return}}function ow(r,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:ui(r,u),m&4&&qc(5,u);break;case 1:if(ui(r,u),m&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(O){gn(u,u.return,O)}else{var x=uo(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(x,o,r.__reactInternalSnapshotBeforeUpdate)}catch(O){gn(u,u.return,O)}}m&64&&tw(u),m&512&&Wc(u,u.return);break;case 3:if(ui(r,u),m&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Hb(r,o)}catch(O){gn(u,u.return,O)}}break;case 27:o===null&&m&4&&aw(u);case 26:case 5:ui(r,u),o===null&&m&4&&sw(u),m&512&&Wc(u,u.return);break;case 12:ui(r,u);break;case 13:ui(r,u),m&4&&uw(r,u),m&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=kk.bind(null,u),Yk(r,u))));break;case 22:if(m=u.memoizedState!==null||Da,!m){o=o!==null&&o.memoizedState!==null||Hn,x=Da;var v=Hn;Da=m,(Hn=o)&&!v?di(r,u,(u.subtreeFlags&8772)!==0):ui(r,u),Da=x,Hn=v}break;case 30:break;default:ui(r,u)}}function lw(r){var o=r.alternate;o!==null&&(r.alternate=null,lw(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&St(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var En=null,Us=!1;function Ra(r,o,u){for(u=u.child;u!==null;)cw(r,o,u),u=u.sibling}function cw(r,o,u){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount($e,u)}catch(v){}switch(u.tag){case 26:Hn||Jr(u,o),Ra(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Hn||Jr(u,o);var m=En,x=Us;xi(u.type)&&(En=u.stateNode,Us=!1),Ra(r,o,u),tu(u.stateNode),En=m,Us=x;break;case 5:Hn||Jr(u,o);case 6:if(m=En,x=Us,En=null,Ra(r,o,u),En=m,Us=x,En!==null)if(Us)try{(En.nodeType===9?En.body:En.nodeName==="HTML"?En.ownerDocument.body:En).removeChild(u.stateNode)}catch(v){gn(u,o,v)}else try{En.removeChild(u.stateNode)}catch(v){gn(u,o,v)}break;case 18:En!==null&&(Us?(r=En,Qw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),cu(r)):Qw(En,u.stateNode));break;case 4:m=En,x=Us,En=u.stateNode.containerInfo,Us=!0,Ra(r,o,u),En=m,Us=x;break;case 0:case 11:case 14:case 15:Hn||ci(2,u,o),Hn||ci(4,u,o),Ra(r,o,u);break;case 1:Hn||(Jr(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&nw(u,o,m)),Ra(r,o,u);break;case 21:Ra(r,o,u);break;case 22:Hn=(m=Hn)||u.memoizedState!==null,Ra(r,o,u),Hn=m;break;default:Ra(r,o,u)}}function uw(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{cu(r)}catch(u){gn(o,o.return,u)}}function wk(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new iw),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new iw),o;default:throw Error(s(435,r.tag))}}function zp(r,o){var u=wk(r);o.forEach(function(m){var x=Ok.bind(null,r,m);u.has(m)||(u.add(m),m.then(x,x))})}function Ks(r,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var x=u[m],v=r,O=o,F=O;e:for(;F!==null;){switch(F.tag){case 27:if(xi(F.type)){En=F.stateNode,Us=!1;break e}break;case 5:En=F.stateNode,Us=!1;break e;case 3:case 4:En=F.stateNode.containerInfo,Us=!0;break e}F=F.return}if(En===null)throw Error(s(160));cw(v,O,x),En=null,Us=!1,v=x.alternate,v!==null&&(v.return=null),x.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)dw(o,r),o=o.sibling}var Rr=null;function dw(r,o){var u=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ks(o,r),Qs(r),m&4&&(ci(3,r,r.return),qc(3,r),ci(5,r,r.return));break;case 1:Ks(o,r),Qs(r),m&512&&(Hn||u===null||Jr(u,u.return)),m&64&&Da&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var x=Rr;if(Ks(o,r),Qs(r),m&512&&(Hn||u===null||Jr(u,u.return)),m&4){var v=u!==null?u.memoizedState:null;if(m=r.memoizedState,u===null)if(m===null)if(r.stateNode===null){e:{m=r.type,u=r.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":v=x.getElementsByTagName("title")[0],(!v||v[lt]||v[je]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=x.createElement(m),x.head.insertBefore(v,x.querySelector("head > title"))),bs(v,m,u),v[je]=r,ct(v),m=v;break e;case"link":var O=a_("link","href",x).get(m+(u.href||""));if(O){for(var F=0;F<O.length;F++)if(v=O[F],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(F,1);break t}}v=x.createElement(m),bs(v,m,u),x.head.appendChild(v);break;case"meta":if(O=a_("meta","content",x).get(m+(u.content||""))){for(F=0;F<O.length;F++)if(v=O[F],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(F,1);break t}}v=x.createElement(m),bs(v,m,u),x.head.appendChild(v);break;default:throw Error(s(468,m))}v[je]=r,ct(v),m=v}r.stateNode=m}else i_(x,r.type,r.stateNode);else r.stateNode=r_(x,m,r.memoizedProps);else v!==m?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,m===null?i_(x,r.type,r.stateNode):r_(x,m,r.memoizedProps)):m===null&&r.stateNode!==null&&Rp(r,r.memoizedProps,u.memoizedProps)}break;case 27:Ks(o,r),Qs(r),m&512&&(Hn||u===null||Jr(u,u.return)),u!==null&&m&4&&Rp(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Ks(o,r),Qs(r),m&512&&(Hn||u===null||Jr(u,u.return)),r.flags&32){x=r.stateNode;try{Ka(x,"")}catch(_e){gn(r,r.return,_e)}}m&4&&r.stateNode!=null&&(x=r.memoizedProps,Rp(r,x,u!==null?u.memoizedProps:x)),m&1024&&(Lp=!0);break;case 6:if(Ks(o,r),Qs(r),m&4){if(r.stateNode===null)throw Error(s(162));m=r.memoizedProps,u=r.stateNode;try{u.nodeValue=m}catch(_e){gn(r,r.return,_e)}}break;case 3:if(ff=null,x=Rr,Rr=uf(o.containerInfo),Ks(o,r),Rr=x,Qs(r),m&4&&u!==null&&u.memoizedState.isDehydrated)try{cu(o.containerInfo)}catch(_e){gn(r,r.return,_e)}Lp&&(Lp=!1,fw(r));break;case 4:m=Rr,Rr=uf(r.stateNode.containerInfo),Ks(o,r),Qs(r),Rr=m;break;case 12:Ks(o,r),Qs(r);break;case 13:Ks(o,r),Qs(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Vp=Nt()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,zp(r,m)));break;case 22:x=r.memoizedState!==null;var Z=u!==null&&u.memoizedState!==null,be=Da,Ne=Hn;if(Da=be||x,Hn=Ne||Z,Ks(o,r),Hn=Ne,Da=be,Qs(r),m&8192)e:for(o=r.stateNode,o._visibility=x?o._visibility&-2:o._visibility|1,x&&(u===null||Z||Da||Hn||fo(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){Z=u=o;try{if(v=Z.stateNode,x)O=v.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{F=Z.stateNode;var Oe=Z.memoizedProps.style,we=Oe!=null&&Oe.hasOwnProperty("display")?Oe.display:null;F.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(_e){gn(Z,Z.return,_e)}}}else if(o.tag===6){if(u===null){Z=o;try{Z.stateNode.nodeValue=x?"":Z.memoizedProps}catch(_e){gn(Z,Z.return,_e)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=r.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,zp(r,u))));break;case 19:Ks(o,r),Qs(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,zp(r,m)));break;case 30:break;case 21:break;default:Ks(o,r),Qs(r)}}function Qs(r){var o=r.flags;if(o&2){try{for(var u,m=r.return;m!==null;){if(rw(m)){u=m;break}m=m.return}if(u==null)throw Error(s(160));switch(u.tag){case 27:var x=u.stateNode,v=Mp(r);Kd(r,v,x);break;case 5:var O=u.stateNode;u.flags&32&&(Ka(O,""),u.flags&=-33);var F=Mp(r);Kd(r,F,O);break;case 3:case 4:var Z=u.stateNode.containerInfo,be=Mp(r);Pp(r,be,Z);break;default:throw Error(s(161))}}catch(Ne){gn(r,r.return,Ne)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function fw(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;fw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function ui(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)ow(r,o.alternate,o),o=o.sibling}function fo(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:ci(4,o,o.return),fo(o);break;case 1:Jr(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&nw(o,o.return,u),fo(o);break;case 27:tu(o.stateNode);case 26:case 5:Jr(o,o.return),fo(o);break;case 22:o.memoizedState===null&&fo(o);break;case 30:fo(o);break;default:fo(o)}r=r.sibling}}function di(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,x=r,v=o,O=v.flags;switch(v.tag){case 0:case 11:case 15:di(x,v,u),qc(4,v);break;case 1:if(di(x,v,u),m=v,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(be){gn(m,m.return,be)}if(m=v,x=m.updateQueue,x!==null){var F=m.stateNode;try{var Z=x.shared.hiddenCallbacks;if(Z!==null)for(x.shared.hiddenCallbacks=null,x=0;x<Z.length;x++)$b(Z[x],F)}catch(be){gn(m,m.return,be)}}u&&O&64&&tw(v),Wc(v,v.return);break;case 27:aw(v);case 26:case 5:di(x,v,u),u&&m===null&&O&4&&sw(v),Wc(v,v.return);break;case 12:di(x,v,u);break;case 13:di(x,v,u),u&&O&4&&uw(x,v);break;case 22:v.memoizedState===null&&di(x,v,u),Wc(v,v.return);break;case 30:break;default:di(x,v,u)}o=o.sibling}}function Up(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Ac(u))}function Fp(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Ac(r))}function ea(r,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)hw(r,o,u,m),o=o.sibling}function hw(r,o,u,m){var x=o.flags;switch(o.tag){case 0:case 11:case 15:ea(r,o,u,m),x&2048&&qc(9,o);break;case 1:ea(r,o,u,m);break;case 3:ea(r,o,u,m),x&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Ac(r)));break;case 12:if(x&2048){ea(r,o,u,m),r=o.stateNode;try{var v=o.memoizedProps,O=v.id,F=v.onPostCommit;typeof F=="function"&&F(O,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Z){gn(o,o.return,Z)}}else ea(r,o,u,m);break;case 13:ea(r,o,u,m);break;case 23:break;case 22:v=o.stateNode,O=o.alternate,o.memoizedState!==null?v._visibility&2?ea(r,o,u,m):Yc(r,o):v._visibility&2?ea(r,o,u,m):(v._visibility|=2,gl(r,o,u,m,(o.subtreeFlags&10256)!==0)),x&2048&&Up(O,o);break;case 24:ea(r,o,u,m),x&2048&&Fp(o.alternate,o);break;default:ea(r,o,u,m)}}function gl(r,o,u,m,x){for(x=x&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=r,O=o,F=u,Z=m,be=O.flags;switch(O.tag){case 0:case 11:case 15:gl(v,O,F,Z,x),qc(8,O);break;case 23:break;case 22:var Ne=O.stateNode;O.memoizedState!==null?Ne._visibility&2?gl(v,O,F,Z,x):Yc(v,O):(Ne._visibility|=2,gl(v,O,F,Z,x)),x&&be&2048&&Up(O.alternate,O);break;case 24:gl(v,O,F,Z,x),x&&be&2048&&Fp(O.alternate,O);break;default:gl(v,O,F,Z,x)}o=o.sibling}}function Yc(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,m=o,x=m.flags;switch(m.tag){case 22:Yc(u,m),x&2048&&Up(m.alternate,m);break;case 24:Yc(u,m),x&2048&&Fp(m.alternate,m);break;default:Yc(u,m)}o=o.sibling}}var Xc=8192;function xl(r){if(r.subtreeFlags&Xc)for(r=r.child;r!==null;)mw(r),r=r.sibling}function mw(r){switch(r.tag){case 26:xl(r),r.flags&Xc&&r.memoizedState!==null&&iO(Rr,r.memoizedState,r.memoizedProps);break;case 5:xl(r);break;case 3:case 4:var o=Rr;Rr=uf(r.stateNode.containerInfo),xl(r),Rr=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=Xc,Xc=16777216,xl(r),Xc=o):xl(r));break;default:xl(r)}}function pw(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Gc(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];fs=m,xw(m,r)}pw(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)gw(r),r=r.sibling}function gw(r){switch(r.tag){case 0:case 11:case 15:Gc(r),r.flags&2048&&ci(9,r,r.return);break;case 3:Gc(r);break;case 12:Gc(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,Qd(r)):Gc(r);break;default:Gc(r)}}function Qd(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];fs=m,xw(m,r)}pw(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:ci(8,o,o.return),Qd(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Qd(o));break;default:Qd(o)}r=r.sibling}}function xw(r,o){for(;fs!==null;){var u=fs;switch(u.tag){case 0:case 11:case 15:ci(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Ac(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,fs=m;else e:for(u=r;fs!==null;){m=fs;var x=m.sibling,v=m.return;if(lw(m),m===u){fs=null;break e}if(x!==null){x.return=v,fs=x;break e}fs=v}}}var _k={getCacheForType:function(r){var o=Ss(es),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u}},jk=typeof WeakMap=="function"?WeakMap:Map,rn=0,bn=null,Vt=null,Gt=0,an=0,Zs=null,fi=!1,yl=!1,Bp=!1,Ma=0,Un=0,hi=0,ho=0,$p=0,yr=0,bl=0,Kc=null,Fs=null,Hp=!1,Vp=0,Zd=1/0,Jd=null,mi=null,ys=0,pi=null,vl=null,wl=0,Ip=0,qp=null,yw=null,Qc=0,Wp=null;function Js(){if((rn&2)!==0&&Gt!==0)return Gt&-Gt;if(V.T!==null){var r=ll;return r!==0?r:Jp()}return J()}function bw(){yr===0&&(yr=(Gt&536870912)===0||nn?Le():536870912);var r=xr.current;return r!==null&&(r.flags|=32),yr}function er(r,o,u){(r===bn&&(an===2||an===9)||r.cancelPendingCommit!==null)&&(_l(r,0),gi(r,Gt,yr,!1)),ot(r,u),((rn&2)===0||r!==bn)&&(r===bn&&((rn&2)===0&&(ho|=u),Un===4&&gi(r,Gt,yr,!1)),ta(r))}function vw(r,o,u){if((rn&6)!==0)throw Error(s(327));var m=!u&&(o&124)===0&&(o&r.expiredLanes)===0||Ee(r,o),x=m?Ek(r,o):Gp(r,o,!0),v=m;do{if(x===0){yl&&!m&&gi(r,o,0,!1);break}else{if(u=r.current.alternate,v&&!Sk(u)){x=Gp(r,o,!1),v=!1;continue}if(x===2){if(v=o,r.errorRecoveryDisabledLanes&v)var O=0;else O=r.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var F=r;x=Kc;var Z=F.current.memoizedState.isDehydrated;if(Z&&(_l(F,O).flags|=256),O=Gp(F,O,!1),O!==2){if(Bp&&!Z){F.errorRecoveryDisabledLanes|=v,ho|=v,x=4;break e}v=Fs,Fs=x,v!==null&&(Fs===null?Fs=v:Fs.push.apply(Fs,v))}x=O}if(v=!1,x!==2)continue}}if(x===1){_l(r,0),gi(r,o,0,!0);break}e:{switch(m=r,v=x,v){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:gi(m,o,yr,!fi);break e;case 2:Fs=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(x=Vp+300-Nt(),10<x)){if(gi(m,o,yr,!fi),Dt(m,0,!0)!==0)break e;m.timeoutHandle=Gw(ww.bind(null,m,u,Fs,Jd,Hp,o,yr,ho,bl,fi,v,2,-0,0),x);break e}ww(m,u,Fs,Jd,Hp,o,yr,ho,bl,fi,v,0,-0,0)}}break}while(!0);ta(r)}function ww(r,o,u,m,x,v,O,F,Z,be,Ne,Oe,we,_e){if(r.timeoutHandle=-1,Oe=o.subtreeFlags,(Oe&8192||(Oe&16785408)===16785408)&&(ru={stylesheets:null,count:0,unsuspend:aO},mw(o),Oe=oO(),Oe!==null)){r.cancelPendingCommit=Oe(Cw.bind(null,r,o,v,u,m,x,O,F,Z,Ne,1,we,_e)),gi(r,v,O,!be);return}Cw(r,o,v,u,m,x,O,F,Z)}function Sk(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var x=u[m],v=x.getSnapshot;x=x.value;try{if(!Xs(v(),x))return!1}catch(O){return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function gi(r,o,u,m){o&=~$p,o&=~ho,r.suspendedLanes|=o,r.pingedLanes&=~o,m&&(r.warmLanes|=o),m=r.expirationTimes;for(var x=o;0<x;){var v=31-vt(x),O=1<<v;m[v]=-1,x&=~O}u!==0&&Ge(r,u,o)}function ef(){return(rn&6)===0?(Zc(0),!1):!0}function Yp(){if(Vt!==null){if(an===0)var r=Vt.return;else r=Vt,Ea=io=null,up(r),ml=null,Hc=0,r=Vt;for(;r!==null;)ew(r.alternate,r),r=r.return;Vt=null}}function _l(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,Hk(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Yp(),bn=r,Vt=u=ja(r.current,null),Gt=o,an=0,Zs=null,fi=!1,yl=Ee(r,o),Bp=!1,bl=yr=$p=ho=hi=Un=0,Fs=Kc=null,Hp=!1,(o&8)!==0&&(o|=o&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=o;0<m;){var x=31-vt(m),v=1<<x;o|=r[x],m&=~v}return Ma=o,_d(),u}function _w(r,o){Ft=null,V.H=$d,o===Rc||o===Ad?(o=Fb(),an=3):o===Lb?(o=Fb(),an=4):an=o===Bv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Zs=o,Vt===null&&(Un=1,Wd(r,hr(o,r.current)))}function jw(){var r=V.H;return V.H=$d,r===null?$d:r}function Sw(){var r=V.A;return V.A=_k,r}function Xp(){Un=4,fi||(Gt&4194048)!==Gt&&xr.current!==null||(yl=!0),(hi&134217727)===0&&(ho&134217727)===0||bn===null||gi(bn,Gt,yr,!1)}function Gp(r,o,u){var m=rn;rn|=2;var x=jw(),v=Sw();(bn!==r||Gt!==o)&&(Jd=null,_l(r,o)),o=!1;var O=Un;e:do try{if(an!==0&&Vt!==null){var F=Vt,Z=Zs;switch(an){case 8:Yp(),O=6;break e;case 3:case 2:case 9:case 6:xr.current===null&&(o=!0);var be=an;if(an=0,Zs=null,jl(r,F,Z,be),u&&yl){O=0;break e}break;default:be=an,an=0,Zs=null,jl(r,F,Z,be)}}Nk(),O=Un;break}catch(Ne){_w(r,Ne)}while(!0);return o&&r.shellSuspendCounter++,Ea=io=null,rn=m,V.H=x,V.A=v,Vt===null&&(bn=null,Gt=0,_d()),O}function Nk(){for(;Vt!==null;)Nw(Vt)}function Ek(r,o){var u=rn;rn|=2;var m=jw(),x=Sw();bn!==r||Gt!==o?(Jd=null,Zd=Nt()+500,_l(r,o)):yl=Ee(r,o);e:do try{if(an!==0&&Vt!==null){o=Vt;var v=Zs;t:switch(an){case 1:an=0,Zs=null,jl(r,o,v,1);break;case 2:case 9:if(zb(v)){an=0,Zs=null,Ew(o);break}o=function(){an!==2&&an!==9||bn!==r||(an=7),ta(r)},v.then(o,o);break e;case 3:an=7;break e;case 4:an=5;break e;case 7:zb(v)?(an=0,Zs=null,Ew(o)):(an=0,Zs=null,jl(r,o,v,7));break;case 5:var O=null;switch(Vt.tag){case 26:O=Vt.memoizedState;case 5:case 27:var F=Vt;if(!O||o_(O)){an=0,Zs=null;var Z=F.sibling;if(Z!==null)Vt=Z;else{var be=F.return;be!==null?(Vt=be,tf(be)):Vt=null}break t}}an=0,Zs=null,jl(r,o,v,5);break;case 6:an=0,Zs=null,jl(r,o,v,6);break;case 8:Yp(),Un=6;break e;default:throw Error(s(462))}}Tk();break}catch(Ne){_w(r,Ne)}while(!0);return Ea=io=null,V.H=m,V.A=x,rn=u,Vt!==null?0:(bn=null,Gt=0,_d(),Un)}function Tk(){for(;Vt!==null&&!Tt();)Nw(Vt)}function Nw(r){var o=Zv(r.alternate,r,Ma);r.memoizedProps=r.pendingProps,o===null?tf(r):Vt=o}function Ew(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=Wv(u,o,o.pendingProps,o.type,void 0,Gt);break;case 11:o=Wv(u,o,o.pendingProps,o.type.render,o.ref,Gt);break;case 5:up(o);default:ew(u,o),o=Vt=Tb(o,Ma),o=Zv(u,o,Ma)}r.memoizedProps=r.pendingProps,o===null?tf(r):Vt=o}function jl(r,o,u,m){Ea=io=null,up(o),ml=null,Hc=0;var x=o.return;try{if(gk(r,x,o,u,Gt)){Un=1,Wd(r,hr(u,r.current)),Vt=null;return}}catch(v){if(x!==null)throw Vt=x,v;Un=1,Wd(r,hr(u,r.current)),Vt=null;return}o.flags&32768?(nn||m===1?r=!0:yl||(Gt&536870912)!==0?r=!1:(fi=r=!0,(m===2||m===9||m===3||m===6)&&(m=xr.current,m!==null&&m.tag===13&&(m.flags|=16384))),Tw(o,r)):tf(o)}function tf(r){var o=r;do{if((o.flags&32768)!==0){Tw(o,fi);return}r=o.return;var u=yk(o.alternate,o,Ma);if(u!==null){Vt=u;return}if(o=o.sibling,o!==null){Vt=o;return}Vt=o=r}while(o!==null);Un===0&&(Un=5)}function Tw(r,o){do{var u=bk(r.alternate,r);if(u!==null){u.flags&=32767,Vt=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){Vt=r;return}Vt=r=u}while(r!==null);Un=6,Vt=null}function Cw(r,o,u,m,x,v,O,F,Z){r.cancelPendingCommit=null;do nf();while(ys!==0);if((rn&6)!==0)throw Error(s(327));if(o!==null){if(o===r.current)throw Error(s(177));if(v=o.lanes|o.childLanes,v|=Fm,Ct(r,u,v,O,F,Z),r===bn&&(Vt=bn=null,Gt=0),vl=o,pi=r,wl=u,Ip=v,qp=x,yw=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Ak(de,function(){return Rw(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=V.T,V.T=null,x=Q.p,Q.p=2,O=rn,rn|=4;try{vk(r,o,u)}finally{rn=O,Q.p=x,V.T=m}}ys=1,kw(),Ow(),Aw()}}function kw(){if(ys===1){ys=0;var r=pi,o=vl,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=V.T,V.T=null;var m=Q.p;Q.p=2;var x=rn;rn|=4;try{dw(o,r);var v=og,O=xb(r.containerInfo),F=v.focusedElem,Z=v.selectionRange;if(O!==F&&F&&F.ownerDocument&&gb(F.ownerDocument.documentElement,F)){if(Z!==null&&Mm(F)){var be=Z.start,Ne=Z.end;if(Ne===void 0&&(Ne=be),"selectionStart"in F)F.selectionStart=be,F.selectionEnd=Math.min(Ne,F.value.length);else{var Oe=F.ownerDocument||document,we=Oe&&Oe.defaultView||window;if(we.getSelection){var _e=we.getSelection(),wt=F.textContent.length,mt=Math.min(Z.start,wt),hn=Z.end===void 0?mt:Math.min(Z.end,wt);!_e.extend&&mt>hn&&(O=hn,hn=mt,mt=O);var fe=pb(F,mt),ae=pb(F,hn);if(fe&&ae&&(_e.rangeCount!==1||_e.anchorNode!==fe.node||_e.anchorOffset!==fe.offset||_e.focusNode!==ae.node||_e.focusOffset!==ae.offset)){var xe=Oe.createRange();xe.setStart(fe.node,fe.offset),_e.removeAllRanges(),mt>hn?(_e.addRange(xe),_e.extend(ae.node,ae.offset)):(xe.setEnd(ae.node,ae.offset),_e.addRange(xe))}}}}for(Oe=[],_e=F;_e=_e.parentNode;)_e.nodeType===1&&Oe.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Oe.length;F++){var Te=Oe[F];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}pf=!!ig,og=ig=null}finally{rn=x,Q.p=m,V.T=u}}r.current=o,ys=2}}function Ow(){if(ys===2){ys=0;var r=pi,o=vl,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=V.T,V.T=null;var m=Q.p;Q.p=2;var x=rn;rn|=4;try{ow(r,o.alternate,o)}finally{rn=x,Q.p=m,V.T=u}}ys=3}}function Aw(){if(ys===4||ys===3){ys=0,Yt();var r=pi,o=vl,u=wl,m=yw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ys=5:(ys=0,vl=pi=null,Dw(r,r.pendingLanes));var x=r.pendingLanes;if(x===0&&(mi=null),Kt(u),o=o.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot($e,o,void 0,(o.current.flags&128)===128)}catch(Z){}if(m!==null){o=V.T,x=Q.p,Q.p=2,V.T=null;try{for(var v=r.onRecoverableError,O=0;O<m.length;O++){var F=m[O];v(F.value,{componentStack:F.stack})}}finally{V.T=o,Q.p=x}}(wl&3)!==0&&nf(),ta(r),x=r.pendingLanes,(u&4194090)!==0&&(x&42)!==0?r===Wp?Qc++:(Qc=0,Wp=r):Qc=0,Zc(0)}}function Dw(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Ac(o)))}function nf(r){return kw(),Ow(),Aw(),Rw()}function Rw(){if(ys!==5)return!1;var r=pi,o=Ip;Ip=0;var u=Kt(wl),m=V.T,x=Q.p;try{Q.p=32>u?32:u,V.T=null,u=qp,qp=null;var v=pi,O=wl;if(ys=0,vl=pi=null,wl=0,(rn&6)!==0)throw Error(s(331));var F=rn;if(rn|=4,gw(v.current),hw(v,v.current,O,u),rn=F,Zc(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot($e,v)}catch(Z){}return!0}finally{Q.p=x,V.T=m,Dw(r,o)}}function Mw(r,o,u){o=hr(u,o),o=Sp(r.stateNode,o,2),r=ai(r,o,2),r!==null&&(ot(r,2),ta(r))}function gn(r,o,u){if(r.tag===3)Mw(r,r,u);else for(;o!==null;){if(o.tag===3){Mw(o,r,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(mi===null||!mi.has(m))){r=hr(u,r),u=Uv(2),m=ai(o,u,2),m!==null&&(Fv(u,m,o,r),ot(m,2),ta(m));break}}o=o.return}}function Kp(r,o,u){var m=r.pingCache;if(m===null){m=r.pingCache=new jk;var x=new Set;m.set(o,x)}else x=m.get(o),x===void 0&&(x=new Set,m.set(o,x));x.has(u)||(Bp=!0,x.add(u),r=Ck.bind(null,r,o,u),o.then(r,r))}function Ck(r,o,u){var m=r.pingCache;m!==null&&m.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,bn===r&&(Gt&u)===u&&(Un===4||Un===3&&(Gt&62914560)===Gt&&300>Nt()-Vp?(rn&2)===0&&_l(r,0):$p|=u,bl===Gt&&(bl=0)),ta(r)}function Pw(r,o){o===0&&(o=pt()),r=rl(r,o),r!==null&&(ot(r,o),ta(r))}function kk(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),Pw(r,u)}function Ok(r,o){var u=0;switch(r.tag){case 13:var m=r.stateNode,x=r.memoizedState;x!==null&&(u=x.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(s(314))}m!==null&&m.delete(o),Pw(r,u)}function Ak(r,o){return st(r,o)}var sf=null,Sl=null,Qp=!1,rf=!1,Zp=!1,mo=0;function ta(r){r!==Sl&&r.next===null&&(Sl===null?sf=Sl=r:Sl=Sl.next=r),rf=!0,Qp||(Qp=!0,Rk())}function Zc(r,o){if(!Zp&&rf){Zp=!0;do for(var u=!1,m=sf;m!==null;){if(r!==0){var x=m.pendingLanes;if(x===0)var v=0;else{var O=m.suspendedLanes,F=m.pingedLanes;v=(1<<31-vt(42|r)+1)-1,v&=x&~(O&~F),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,Fw(m,v))}else v=Gt,v=Dt(m,m===bn?v:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(v&3)===0||Ee(m,v)||(u=!0,Fw(m,v));m=m.next}while(u);Zp=!1}}function Dk(){Lw()}function Lw(){rf=Qp=!1;var r=0;mo!==0&&($k()&&(r=mo),mo=0);for(var o=Nt(),u=null,m=sf;m!==null;){var x=m.next,v=zw(m,o);v===0?(m.next=null,u===null?sf=x:u.next=x,x===null&&(Sl=u)):(u=m,(r!==0||(v&3)!==0)&&(rf=!0)),m=x}Zc(r)}function zw(r,o){for(var u=r.suspendedLanes,m=r.pingedLanes,x=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var O=31-vt(v),F=1<<O,Z=x[O];Z===-1?((F&u)===0||(F&m)!==0)&&(x[O]=He(F,o)):Z<=o&&(r.expiredLanes|=F),v&=~F}if(o=bn,u=Gt,u=Dt(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,u===0||r===o&&(an===2||an===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&Pe(m),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Ee(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(m!==null&&Pe(m),Kt(u)){case 2:case 8:u=G;break;case 32:u=de;break;case 268435456:u=Se;break;default:u=de}return m=Uw.bind(null,r),u=st(u,m),r.callbackPriority=o,r.callbackNode=u,o}return m!==null&&m!==null&&Pe(m),r.callbackPriority=2,r.callbackNode=null,2}function Uw(r,o){if(ys!==0&&ys!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(nf()&&r.callbackNode!==u)return null;var m=Gt;return m=Dt(r,r===bn?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(vw(r,m,o),zw(r,Nt()),r.callbackNode!=null&&r.callbackNode===u?Uw.bind(null,r):null)}function Fw(r,o){if(nf())return null;vw(r,o,!0)}function Rk(){Vk(function(){(rn&6)!==0?st(jt,Dk):Lw()})}function Jp(){return mo===0&&(mo=Le()),mo}function Bw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Xo(""+r)}function $w(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function Mk(r,o,u,m,x){if(o==="submit"&&u&&u.stateNode===x){var v=Bw((x[De]||null).action),O=m.submitter;O&&(o=(o=O[De]||null)?Bw(o.formAction):O.getAttribute("formAction"),o!==null&&(v=o,O=null));var F=new Qo("action","action",null,m,x);r.push({event:F,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(mo!==0){var Z=O?$w(x,O):new FormData(x);bp(u,{pending:!0,data:Z,method:x.method,action:v},null,Z)}}else typeof v=="function"&&(F.preventDefault(),Z=O?$w(x,O):new FormData(x),bp(u,{pending:!0,data:Z,method:x.method,action:v},v,Z))},currentTarget:x}]})}}for(var eg=0;eg<Um.length;eg++){var tg=Um[eg],Pk=tg.toLowerCase(),Lk=tg[0].toUpperCase()+tg.slice(1);Dr(Pk,"on"+Lk)}Dr(vb,"onAnimationEnd"),Dr(wb,"onAnimationIteration"),Dr(_b,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(JC,"onTransitionRun"),Dr(ek,"onTransitionStart"),Dr(tk,"onTransitionCancel"),Dr(jb,"onTransitionEnd"),Mn("onMouseEnter",["mouseout","mouseover"]),Mn("onMouseLeave",["mouseout","mouseover"]),Mn("onPointerEnter",["pointerout","pointerover"]),Mn("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jc));function Hw(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var m=r[u],x=m.event;m=m.listeners;e:{var v=void 0;if(o)for(var O=m.length-1;0<=O;O--){var F=m[O],Z=F.instance,be=F.currentTarget;if(F=F.listener,Z!==v&&x.isPropagationStopped())break e;v=F,x.currentTarget=be;try{v(x)}catch(Ne){qd(Ne)}x.currentTarget=null,v=Z}else for(O=0;O<m.length;O++){if(F=m[O],Z=F.instance,be=F.currentTarget,F=F.listener,Z!==v&&x.isPropagationStopped())break e;v=F,x.currentTarget=be;try{v(x)}catch(Ne){qd(Ne)}x.currentTarget=null,v=Z}}}}function It(r,o){var u=o[Je];u===void 0&&(u=o[Je]=new Set);var m=r+"__bubble";u.has(m)||(Vw(o,r,2,!1),u.add(m))}function ng(r,o,u){var m=0;o&&(m|=4),Vw(u,r,m,o)}var af="_reactListening"+Math.random().toString(36).slice(2);function sg(r){if(!r[af]){r[af]=!0,kt.forEach(function(u){u!=="selectionchange"&&(zk.has(u)||ng(u,!1,r),ng(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[af]||(o[af]=!0,ng("selectionchange",!1,o))}}function Vw(r,o,u,m){switch(h_(o)){case 2:var x=uO;break;case 8:x=dO;break;default:x=xg}u=x.bind(null,o,u,r),x=void 0,!Go||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),m?x!==void 0?r.addEventListener(o,u,{capture:!0,passive:x}):r.addEventListener(o,u,!0):x!==void 0?r.addEventListener(o,u,{passive:x}):r.addEventListener(o,u,!1)}function rg(r,o,u,m,x){var v=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var F=m.stateNode.containerInfo;if(F===x)break;if(O===4)for(O=m.return;O!==null;){var Z=O.tag;if((Z===3||Z===4)&&O.stateNode.containerInfo===x)return;O=O.return}for(;F!==null;){if(O=Rt(F),O===null)return;if(Z=O.tag,Z===5||Z===6||Z===26||Z===27){m=v=O;continue e}F=F.parentNode}}m=m.return}wc(function(){var be=v,Ne=Xi(u),Oe=[];e:{var we=Sb.get(r);if(we!==void 0){var _e=Qo,wt=r;switch(r){case"keypress":if(Ja(u)===0)break e;case"keydown":case"keyup":_e=Kr;break;case"focusin":wt="focus",_e=dt;break;case"focusout":wt="blur",_e=dt;break;case"beforeblur":case"afterblur":_e=dt;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=ue;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=ve;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=vd;break;case vb:case wb:case _b:_e=Ke;break;case jb:_e=LC;break;case"scroll":case"scrollend":_e=Ln;break;case"wheel":_e=UC;break;case"copy":case"cut":case"paste":_e=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Zo;break;case"toggle":case"beforetoggle":_e=BC}var mt=(o&4)!==0,hn=!mt&&(r==="scroll"||r==="scrollend"),fe=mt?we!==null?we+"Capture":null:we;mt=[];for(var ae=be,xe;ae!==null;){var Te=ae;if(xe=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||xe===null||fe===null||(Te=Za(ae,fe),Te!=null&&mt.push(eu(ae,Te,xe))),hn)break;ae=ae.return}0<mt.length&&(we=new _e(we,wt,null,u,Ne),Oe.push({event:we,listeners:mt}))}}if((o&7)===0){e:{if(we=r==="mouseover"||r==="pointerover",_e=r==="mouseout"||r==="pointerout",we&&u!==bc&&(wt=u.relatedTarget||u.fromElement)&&(Rt(wt)||wt[Ie]))break e;if((_e||we)&&(we=Ne.window===Ne?Ne:(we=Ne.ownerDocument)?we.defaultView||we.parentWindow:window,_e?(wt=u.relatedTarget||u.toElement,_e=be,wt=wt?Rt(wt):null,wt!==null&&(hn=i(wt),mt=wt.tag,wt!==hn||mt!==5&&mt!==27&&mt!==6)&&(wt=null)):(_e=null,wt=be),_e!==wt)){if(mt=ue,Te="onMouseLeave",fe="onMouseEnter",ae="mouse",(r==="pointerout"||r==="pointerover")&&(mt=Zo,Te="onPointerLeave",fe="onPointerEnter",ae="pointer"),hn=_e==null?we:Rn(_e),xe=wt==null?we:Rn(wt),we=new mt(Te,ae+"leave",_e,u,Ne),we.target=hn,we.relatedTarget=xe,Te=null,Rt(Ne)===be&&(mt=new mt(fe,ae+"enter",wt,u,Ne),mt.target=xe,mt.relatedTarget=hn,Te=mt),hn=Te,_e&&wt)t:{for(mt=_e,fe=wt,ae=0,xe=mt;xe;xe=Nl(xe))ae++;for(xe=0,Te=fe;Te;Te=Nl(Te))xe++;for(;0<ae-xe;)mt=Nl(mt),ae--;for(;0<xe-ae;)fe=Nl(fe),xe--;for(;ae--;){if(mt===fe||fe!==null&&mt===fe.alternate)break t;mt=Nl(mt),fe=Nl(fe)}mt=null}else mt=null;_e!==null&&Iw(Oe,we,_e,mt,!1),wt!==null&&hn!==null&&Iw(Oe,hn,wt,mt,!0)}}e:{if(we=be?Rn(be):window,_e=we.nodeName&&we.nodeName.toLowerCase(),_e==="select"||_e==="input"&&we.type==="file")var et=cb;else if(ob(we))if(ub)et=KC;else{et=XC;var $t=YC}else _e=we.nodeName,!_e||_e.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?be&&Yi(be.elementType)&&(et=cb):et=GC;if(et&&(et=et(r,be))){lb(Oe,et,u,Ne);break e}$t&&$t(r,we,be),r==="focusout"&&be&&we.type==="number"&&be.memoizedProps.value!=null&&gc(we,"number",we.value)}switch($t=be?Rn(be):window,r){case"focusin":(ob($t)||$t.contentEditable==="true")&&(tl=$t,Pm=be,Ec=null);break;case"focusout":Ec=Pm=tl=null;break;case"mousedown":Lm=!0;break;case"contextmenu":case"mouseup":case"dragend":Lm=!1,yb(Oe,u,Ne);break;case"selectionchange":if(ZC)break;case"keydown":case"keyup":yb(Oe,u,Ne)}var ut;if(Am)e:{switch(r){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else el?ab(r,u)&&(xt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(xt="onCompositionStart");xt&&(nb&&u.locale!=="ko"&&(el||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&el&&(ut=Qi()):(Ys=Ne,Ls="value"in Ys?Ys.value:Ys.textContent,el=!0)),$t=of(be,xt),0<$t.length&&(xt=new ht(xt,r,null,u,Ne),Oe.push({event:xt,listeners:$t}),ut?xt.data=ut:(ut=ib(u),ut!==null&&(xt.data=ut)))),(ut=HC?VC(r,u):IC(r,u))&&(xt=of(be,"onBeforeInput"),0<xt.length&&($t=new ht("onBeforeInput","beforeinput",null,u,Ne),Oe.push({event:$t,listeners:xt}),$t.data=ut)),Mk(Oe,r,be,u,Ne)}Hw(Oe,o)})}function eu(r,o,u){return{instance:r,listener:o,currentTarget:u}}function of(r,o){for(var u=o+"Capture",m=[];r!==null;){var x=r,v=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||v===null||(x=Za(r,u),x!=null&&m.unshift(eu(r,x,v)),x=Za(r,o),x!=null&&m.push(eu(r,x,v))),r.tag===3)return m;r=r.return}return[]}function Nl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Iw(r,o,u,m,x){for(var v=o._reactName,O=[];u!==null&&u!==m;){var F=u,Z=F.alternate,be=F.stateNode;if(F=F.tag,Z!==null&&Z===m)break;F!==5&&F!==26&&F!==27||be===null||(Z=be,x?(be=Za(u,v),be!=null&&O.unshift(eu(u,be,Z))):x||(be=Za(u,v),be!=null&&O.push(eu(u,be,Z)))),u=u.return}O.length!==0&&r.push({event:o,listeners:O})}var Uk=/\r\n?/g,Fk=/\u0000|\uFFFD/g;function qw(r){return(typeof r=="string"?r:""+r).replace(Uk,`
`).replace(Fk,"")}function Ww(r,o){return o=qw(o),qw(r)===o}function lf(){}function fn(r,o,u,m,x,v){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Ka(r,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Ka(r,""+m);break;case"className":dr(r,"class",m);break;case"tabIndex":dr(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":dr(r,u,m);break;case"style":yc(r,m,v);break;case"data":if(o!=="object"){dr(r,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=Xo(""+m),r.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(o!=="input"&&fn(r,o,"name",x.name,x,null),fn(r,o,"formEncType",x.formEncType,x,null),fn(r,o,"formMethod",x.formMethod,x,null),fn(r,o,"formTarget",x.formTarget,x,null)):(fn(r,o,"encType",x.encType,x,null),fn(r,o,"method",x.method,x,null),fn(r,o,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=Xo(""+m),r.setAttribute(u,m);break;case"onClick":m!=null&&(r.onclick=lf);break;case"onScroll":m!=null&&It("scroll",r);break;case"onScrollEnd":m!=null&&It("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(u=m.__html,u!=null){if(x.children!=null)throw Error(s(60));r.innerHTML=u}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}u=Xo(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""+m):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":m===!0?r.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,m):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(u,m):r.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(u):r.setAttribute(u,m);break;case"popover":It("beforetoggle",r),It("toggle",r),_s(r,"popover",m);break;case"xlinkActuate":zt(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":zt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":zt(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":zt(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":zt(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":zt(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":zt(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":zt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":zt(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":_s(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Yo.get(u)||u,_s(r,u,m))}}function ag(r,o,u,m,x,v){switch(u){case"style":yc(r,m,v);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(u=m.__html,u!=null){if(x.children!=null)throw Error(s(60));r.innerHTML=u}}break;case"children":typeof m=="string"?Ka(r,m):(typeof m=="number"||typeof m=="bigint")&&Ka(r,""+m);break;case"onScroll":m!=null&&It("scroll",r);break;case"onScrollEnd":m!=null&&It("scrollend",r);break;case"onClick":m!=null&&(r.onclick=lf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qt.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(x=u.endsWith("Capture"),o=u.slice(2,x?u.length-7:void 0),v=r[De]||null,v=v!=null?v[u]:null,typeof v=="function"&&r.removeEventListener(o,v,x),typeof m=="function")){typeof v!="function"&&v!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,m,x);break e}u in r?r[u]=m:m===!0?r.setAttribute(u,""):_s(r,u,m)}}}function bs(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",r),It("load",r);var m=!1,x=!1,v;for(v in u)if(u.hasOwnProperty(v)){var O=u[v];if(O!=null)switch(v){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:fn(r,o,v,O,u,null)}}x&&fn(r,o,"srcSet",u.srcSet,u,null),m&&fn(r,o,"src",u.src,u,null);return;case"input":It("invalid",r);var F=v=O=x=null,Z=null,be=null;for(m in u)if(u.hasOwnProperty(m)){var Ne=u[m];if(Ne!=null)switch(m){case"name":x=Ne;break;case"type":O=Ne;break;case"checked":Z=Ne;break;case"defaultChecked":be=Ne;break;case"value":v=Ne;break;case"defaultValue":F=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(s(137,o));break;default:fn(r,o,m,Ne,u,null)}}gd(r,v,F,Z,be,O,x,!1),Ii(r);return;case"select":It("invalid",r),m=O=v=null;for(x in u)if(u.hasOwnProperty(x)&&(F=u[x],F!=null))switch(x){case"value":v=F;break;case"defaultValue":O=F;break;case"multiple":m=F;default:fn(r,o,x,F,u,null)}o=v,u=O,r.multiple=!!m,o!=null?va(r,!!m,o,!1):u!=null&&va(r,!!m,u,!0);return;case"textarea":It("invalid",r),v=x=m=null;for(O in u)if(u.hasOwnProperty(O)&&(F=u[O],F!=null))switch(O){case"value":m=F;break;case"defaultValue":x=F;break;case"children":v=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(91));break;default:fn(r,o,O,F,u,null)}xc(r,m,x,v),Ii(r);return;case"option":for(Z in u)if(u.hasOwnProperty(Z)&&(m=u[Z],m!=null))switch(Z){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:fn(r,o,Z,m,u,null)}return;case"dialog":It("beforetoggle",r),It("toggle",r),It("cancel",r),It("close",r);break;case"iframe":case"object":It("load",r);break;case"video":case"audio":for(m=0;m<Jc.length;m++)It(Jc[m],r);break;case"image":It("error",r),It("load",r);break;case"details":It("toggle",r);break;case"embed":case"source":case"link":It("error",r),It("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(be in u)if(u.hasOwnProperty(be)&&(m=u[be],m!=null))switch(be){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:fn(r,o,be,m,u,null)}return;default:if(Yi(o)){for(Ne in u)u.hasOwnProperty(Ne)&&(m=u[Ne],m!==void 0&&ag(r,o,Ne,m,u,void 0));return}}for(F in u)u.hasOwnProperty(F)&&(m=u[F],m!=null&&fn(r,o,F,m,u,null))}function Bk(r,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,v=null,O=null,F=null,Z=null,be=null,Ne=null;for(_e in u){var Oe=u[_e];if(u.hasOwnProperty(_e)&&Oe!=null)switch(_e){case"checked":break;case"value":break;case"defaultValue":Z=Oe;default:m.hasOwnProperty(_e)||fn(r,o,_e,null,m,Oe)}}for(var we in m){var _e=m[we];if(Oe=u[we],m.hasOwnProperty(we)&&(_e!=null||Oe!=null))switch(we){case"type":v=_e;break;case"name":x=_e;break;case"checked":be=_e;break;case"defaultChecked":Ne=_e;break;case"value":O=_e;break;case"defaultValue":F=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(s(137,o));break;default:_e!==Oe&&fn(r,o,we,_e,m,Oe)}}pc(r,O,F,Z,be,Ne,v,x);return;case"select":_e=O=F=we=null;for(v in u)if(Z=u[v],u.hasOwnProperty(v)&&Z!=null)switch(v){case"value":break;case"multiple":_e=Z;default:m.hasOwnProperty(v)||fn(r,o,v,null,m,Z)}for(x in m)if(v=m[x],Z=u[x],m.hasOwnProperty(x)&&(v!=null||Z!=null))switch(x){case"value":we=v;break;case"defaultValue":F=v;break;case"multiple":O=v;default:v!==Z&&fn(r,o,x,v,m,Z)}o=F,u=O,m=_e,we!=null?va(r,!!u,we,!1):!!m!=!!u&&(o!=null?va(r,!!u,o,!0):va(r,!!u,u?[]:"",!1));return;case"textarea":_e=we=null;for(F in u)if(x=u[F],u.hasOwnProperty(F)&&x!=null&&!m.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:fn(r,o,F,null,m,x)}for(O in m)if(x=m[O],v=u[O],m.hasOwnProperty(O)&&(x!=null||v!=null))switch(O){case"value":we=x;break;case"defaultValue":_e=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:x!==v&&fn(r,o,O,x,m,v)}Wi(r,we,_e);return;case"option":for(var wt in u)if(we=u[wt],u.hasOwnProperty(wt)&&we!=null&&!m.hasOwnProperty(wt))switch(wt){case"selected":r.selected=!1;break;default:fn(r,o,wt,null,m,we)}for(Z in m)if(we=m[Z],_e=u[Z],m.hasOwnProperty(Z)&&we!==_e&&(we!=null||_e!=null))switch(Z){case"selected":r.selected=we&&typeof we!="function"&&typeof we!="symbol";break;default:fn(r,o,Z,we,m,_e)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in u)we=u[mt],u.hasOwnProperty(mt)&&we!=null&&!m.hasOwnProperty(mt)&&fn(r,o,mt,null,m,we);for(be in m)if(we=m[be],_e=u[be],m.hasOwnProperty(be)&&we!==_e&&(we!=null||_e!=null))switch(be){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(s(137,o));break;default:fn(r,o,be,we,m,_e)}return;default:if(Yi(o)){for(var hn in u)we=u[hn],u.hasOwnProperty(hn)&&we!==void 0&&!m.hasOwnProperty(hn)&&ag(r,o,hn,void 0,m,we);for(Ne in m)we=m[Ne],_e=u[Ne],!m.hasOwnProperty(Ne)||we===_e||we===void 0&&_e===void 0||ag(r,o,Ne,we,m,_e);return}}for(var fe in u)we=u[fe],u.hasOwnProperty(fe)&&we!=null&&!m.hasOwnProperty(fe)&&fn(r,o,fe,null,m,we);for(Oe in m)we=m[Oe],_e=u[Oe],!m.hasOwnProperty(Oe)||we===_e||we==null&&_e==null||fn(r,o,Oe,we,m,_e)}var ig=null,og=null;function cf(r){return r.nodeType===9?r:r.ownerDocument}function Yw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xw(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function lg(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var cg=null;function $k(){var r=window.event;return r&&r.type==="popstate"?r===cg?!1:(cg=r,!0):(cg=null,!1)}var Gw=typeof setTimeout=="function"?setTimeout:void 0,Hk=typeof clearTimeout=="function"?clearTimeout:void 0,Kw=typeof Promise=="function"?Promise:void 0,Vk=typeof queueMicrotask=="function"?queueMicrotask:typeof Kw!="undefined"?function(r){return Kw.resolve(null).then(r).catch(Ik)}:Gw;function Ik(r){setTimeout(function(){throw r})}function xi(r){return r==="head"}function Qw(r,o){var u=o,m=0,x=0;do{var v=u.nextSibling;if(r.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<m&&8>m){u=m;var O=r.ownerDocument;if(u&1&&tu(O.documentElement),u&2&&tu(O.body),u&4)for(u=O.head,tu(u),O=u.firstChild;O;){var F=O.nextSibling,Z=O.nodeName;O[lt]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&O.rel.toLowerCase()==="stylesheet"||u.removeChild(O),O=F}}if(x===0){r.removeChild(v),cu(o);return}x--}else u==="$"||u==="$?"||u==="$!"?x++:m=u.charCodeAt(0)-48;else m=0;u=v}while(u);cu(o)}function ug(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":ug(u),St(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function qk(r,o,u,m){for(;r.nodeType===1;){var x=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[lt])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==x.rel||r.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||r.getAttribute("title")!==(x.title==null?null:x.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(x.src==null?null:x.src)||r.getAttribute("type")!==(x.type==null?null:x.type)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var v=x.name==null?null:""+x.name;if(x.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Mr(r.nextSibling),r===null)break}return null}function Wk(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Mr(r.nextSibling),r===null))return null;return r}function dg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Yk(r,o){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function Mr(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var fg=null;function Zw(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}function Jw(r,o,u){switch(o=cf(u),r){case"html":if(r=o.documentElement,!r)throw Error(s(452));return r;case"head":if(r=o.head,!r)throw Error(s(453));return r;case"body":if(r=o.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function tu(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);St(r)}var br=new Map,e_=new Set;function uf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Pa=Q.d;Q.d={f:Xk,r:Gk,D:Kk,C:Qk,L:Zk,m:Jk,X:tO,S:eO,M:nO};function Xk(){var r=Pa.f(),o=ef();return r||o}function Gk(r){var o=pn(r);o!==null&&o.tag===5&&o.type==="form"?vv(o):Pa.r(r)}var El=typeof document=="undefined"?null:document;function t_(r,o,u){var m=El;if(m&&typeof o=="string"&&o){var x=Ms(o);x='link[rel="'+r+'"][href="'+x+'"]',typeof u=="string"&&(x+='[crossorigin="'+u+'"]'),e_.has(x)||(e_.add(x),r={rel:r,crossOrigin:u,href:o},m.querySelector(x)===null&&(o=m.createElement("link"),bs(o,"link",r),ct(o),m.head.appendChild(o)))}}function Kk(r){Pa.D(r),t_("dns-prefetch",r,null)}function Qk(r,o){Pa.C(r,o),t_("preconnect",r,o)}function Zk(r,o,u){Pa.L(r,o,u);var m=El;if(m&&r&&o){var x='link[rel="preload"][as="'+Ms(o)+'"]';o==="image"&&u&&u.imageSrcSet?(x+='[imagesrcset="'+Ms(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(x+='[imagesizes="'+Ms(u.imageSizes)+'"]')):x+='[href="'+Ms(r)+'"]';var v=x;switch(o){case"style":v=Tl(r);break;case"script":v=Cl(r)}br.has(v)||(r=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),br.set(v,r),m.querySelector(x)!==null||o==="style"&&m.querySelector(nu(v))||o==="script"&&m.querySelector(su(v))||(o=m.createElement("link"),bs(o,"link",r),ct(o),m.head.appendChild(o)))}}function Jk(r,o){Pa.m(r,o);var u=El;if(u&&r){var m=o&&typeof o.as=="string"?o.as:"script",x='link[rel="modulepreload"][as="'+Ms(m)+'"][href="'+Ms(r)+'"]',v=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Cl(r)}if(!br.has(v)&&(r=p({rel:"modulepreload",href:r},o),br.set(v,r),u.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(su(v)))return}m=u.createElement("link"),bs(m,"link",r),ct(m),u.head.appendChild(m)}}}function eO(r,o,u){Pa.S(r,o,u);var m=El;if(m&&r){var x=cn(m).hoistableStyles,v=Tl(r);o=o||"default";var O=x.get(v);if(!O){var F={loading:0,preload:null};if(O=m.querySelector(nu(v)))F.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},u),(u=br.get(v))&&hg(r,u);var Z=O=m.createElement("link");ct(Z),bs(Z,"link",r),Z._p=new Promise(function(be,Ne){Z.onload=be,Z.onerror=Ne}),Z.addEventListener("load",function(){F.loading|=1}),Z.addEventListener("error",function(){F.loading|=2}),F.loading|=4,df(O,o,m)}O={type:"stylesheet",instance:O,count:1,state:F},x.set(v,O)}}}function tO(r,o){Pa.X(r,o);var u=El;if(u&&r){var m=cn(u).hoistableScripts,x=Cl(r),v=m.get(x);v||(v=u.querySelector(su(x)),v||(r=p({src:r,async:!0},o),(o=br.get(x))&&mg(r,o),v=u.createElement("script"),ct(v),bs(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},m.set(x,v))}}function nO(r,o){Pa.M(r,o);var u=El;if(u&&r){var m=cn(u).hoistableScripts,x=Cl(r),v=m.get(x);v||(v=u.querySelector(su(x)),v||(r=p({src:r,async:!0,type:"module"},o),(o=br.get(x))&&mg(r,o),v=u.createElement("script"),ct(v),bs(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},m.set(x,v))}}function n_(r,o,u,m){var x=(x=he.current)?uf(x):null;if(!x)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Tl(u.href),u=cn(x).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Tl(u.href);var v=cn(x).hoistableStyles,O=v.get(r);if(O||(x=x.ownerDocument||x,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,O),(v=x.querySelector(nu(r)))&&!v._p&&(O.instance=v,O.state.loading=5),br.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},br.set(r,u),v||sO(x,r,u,O.state))),o&&m===null)throw Error(s(528,""));return O}if(o&&m!==null)throw Error(s(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Cl(u),u=cn(x).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Tl(r){return'href="'+Ms(r)+'"'}function nu(r){return'link[rel="stylesheet"]['+r+"]"}function s_(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function sO(r,o,u,m){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=r.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),bs(o,"link",u),ct(o),r.head.appendChild(o))}function Cl(r){return'[src="'+Ms(r)+'"]'}function su(r){return"script[async]"+r}function r_(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=r.querySelector('style[data-href~="'+Ms(u.href)+'"]');if(m)return o.instance=m,ct(m),m;var x=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),ct(m),bs(m,"style",x),df(m,u.precedence,r),o.instance=m;case"stylesheet":x=Tl(u.href);var v=r.querySelector(nu(x));if(v)return o.state.loading|=4,o.instance=v,ct(v),v;m=s_(u),(x=br.get(x))&&hg(m,x),v=(r.ownerDocument||r).createElement("link"),ct(v);var O=v;return O._p=new Promise(function(F,Z){O.onload=F,O.onerror=Z}),bs(v,"link",m),o.state.loading|=4,df(v,u.precedence,r),o.instance=v;case"script":return v=Cl(u.src),(x=r.querySelector(su(v)))?(o.instance=x,ct(x),x):(m=u,(x=br.get(v))&&(m=p({},u),mg(m,x)),r=r.ownerDocument||r,x=r.createElement("script"),ct(x),bs(x,"link",m),r.head.appendChild(x),o.instance=x);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,df(m,u.precedence,r));return o.instance}function df(r,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,v=x,O=0;O<m.length;O++){var F=m[O];if(F.dataset.precedence===o)v=F;else if(v!==x)break}v?v.parentNode.insertBefore(r,v.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function hg(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function mg(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var ff=null;function a_(r,o,u){if(ff===null){var m=new Map,x=ff=new Map;x.set(u,m)}else x=ff,m=x.get(u),m||(m=new Map,x.set(u,m));if(m.has(r))return m;for(m.set(r,null),u=u.getElementsByTagName(r),x=0;x<u.length;x++){var v=u[x];if(!(v[lt]||v[je]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var O=v.getAttribute(o)||"";O=r+O;var F=m.get(O);F?F.push(v):m.set(O,[v])}}return m}function i_(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function rO(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function o_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ru=null;function aO(){}function iO(r,o,u){if(ru===null)throw Error(s(475));var m=ru;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var x=Tl(u.href),v=r.querySelector(nu(x));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(m.count++,m=hf.bind(m),r.then(m,m)),o.state.loading|=4,o.instance=v,ct(v);return}v=r.ownerDocument||r,u=s_(u),(x=br.get(x))&&hg(u,x),v=v.createElement("link"),ct(v);var O=v;O._p=new Promise(function(F,Z){O.onload=F,O.onerror=Z}),bs(v,"link",u),o.instance=v}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(m.count++,o=hf.bind(m),r.addEventListener("load",o),r.addEventListener("error",o))}}function oO(){if(ru===null)throw Error(s(475));var r=ru;return r.stylesheets&&r.count===0&&pg(r,r.stylesheets),0<r.count?function(o){var u=setTimeout(function(){if(r.stylesheets&&pg(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u)}}:null}function hf(){if(this.count--,this.count===0){if(this.stylesheets)pg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var mf=null;function pg(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,mf=new Map,o.forEach(lO,r),mf=null,hf.call(r))}function lO(r,o){if(!(o.state.loading&4)){var u=mf.get(r);if(u)var m=u.get(null);else{u=new Map,mf.set(r,u);for(var x=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<x.length;v++){var O=x[v];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),m=O)}m&&u.set(null,m)}x=o.instance,O=x.getAttribute("data-precedence"),v=u.get(O)||m,v===m&&u.set(null,x),u.set(O,x),this.count++,m=hf.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),v?v.parentNode.insertBefore(x,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(x,r.firstChild)),o.state.loading|=4}}var au={$$typeof:A,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function cO(r,o,u,m,x,v,O,F){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=At(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=At(0),this.hiddenUpdates=At(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=v,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function l_(r,o,u,m,x,v,O,F,Z,be,Ne,Oe){return r=new cO(r,o,u,O,F,Z,be,Oe),o=1,v===!0&&(o|=24),v=Gs(3,null,null,o),r.current=v,v.stateNode=r,o=Km(),o.refCount++,r.pooledCache=o,o.refCount++,v.memoizedState={element:m,isDehydrated:u,cache:o},ep(v),r}function c_(r){return r?(r=al,r):al}function u_(r,o,u,m,x,v){x=c_(x),m.context===null?m.context=x:m.pendingContext=x,m=ri(o),m.payload={element:u},v=v===void 0?null:v,v!==null&&(m.callback=v),u=ai(r,m,o),u!==null&&(er(u,r,o),Pc(u,r,o))}function d_(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function gg(r,o){d_(r,o),(r=r.alternate)&&d_(r,o)}function f_(r){if(r.tag===13){var o=rl(r,67108864);o!==null&&er(o,r,67108864),gg(r,67108864)}}var pf=!0;function uO(r,o,u,m){var x=V.T;V.T=null;var v=Q.p;try{Q.p=2,xg(r,o,u,m)}finally{Q.p=v,V.T=x}}function dO(r,o,u,m){var x=V.T;V.T=null;var v=Q.p;try{Q.p=8,xg(r,o,u,m)}finally{Q.p=v,V.T=x}}function xg(r,o,u,m){if(pf){var x=yg(m);if(x===null)rg(r,o,m,gf,u),m_(r,m);else if(hO(x,r,o,u,m))m.stopPropagation();else if(m_(r,m),o&4&&-1<fO.indexOf(r)){for(;x!==null;){var v=pn(x);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var O=Bn(v.pendingLanes);if(O!==0){var F=v;for(F.pendingLanes|=2,F.entangledLanes|=2;O;){var Z=1<<31-vt(O);F.entanglements[1]|=Z,O&=~Z}ta(v),(rn&6)===0&&(Zd=Nt()+500,Zc(0))}}break;case 13:F=rl(v,2),F!==null&&er(F,v,2),ef(),gg(v,2)}if(v=yg(m),v===null&&rg(r,o,m,gf,u),v===x)break;x=v}x!==null&&m.stopPropagation()}else rg(r,o,m,null,u)}}function yg(r){return r=Xi(r),bg(r)}var gf=null;function bg(r){if(gf=null,r=Rt(r),r!==null){var o=i(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=c(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return gf=r,null}function h_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(it()){case jt:return 2;case G:return 8;case de:case q:return 32;case Se:return 268435456;default:return 32}default:return 32}}var vg=!1,yi=null,bi=null,vi=null,iu=new Map,ou=new Map,wi=[],fO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m_(r,o){switch(r){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":iu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ou.delete(o.pointerId)}}function lu(r,o,u,m,x,v){return r===null||r.nativeEvent!==v?(r={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:v,targetContainers:[x]},o!==null&&(o=pn(o),o!==null&&f_(o)),r):(r.eventSystemFlags|=m,o=r.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),r)}function hO(r,o,u,m,x){switch(o){case"focusin":return yi=lu(yi,r,o,u,m,x),!0;case"dragenter":return bi=lu(bi,r,o,u,m,x),!0;case"mouseover":return vi=lu(vi,r,o,u,m,x),!0;case"pointerover":var v=x.pointerId;return iu.set(v,lu(iu.get(v)||null,r,o,u,m,x)),!0;case"gotpointercapture":return v=x.pointerId,ou.set(v,lu(ou.get(v)||null,r,o,u,m,x)),!0}return!1}function p_(r){var o=Rt(r.target);if(o!==null){var u=i(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){r.blockedOn=o,ie(r.priority,function(){if(u.tag===13){var m=Js();m=Ht(m);var x=rl(u,m);x!==null&&er(x,u,m),gg(u,m)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function xf(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=yg(r.nativeEvent);if(u===null){u=r.nativeEvent;var m=new u.constructor(u.type,u);bc=m,u.target.dispatchEvent(m),bc=null}else return o=pn(u),o!==null&&f_(o),r.blockedOn=u,!1;o.shift()}return!0}function g_(r,o,u){xf(r)&&u.delete(o)}function mO(){vg=!1,yi!==null&&xf(yi)&&(yi=null),bi!==null&&xf(bi)&&(bi=null),vi!==null&&xf(vi)&&(vi=null),iu.forEach(g_),ou.forEach(g_)}function yf(r,o){r.blockedOn===o&&(r.blockedOn=null,vg||(vg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mO)))}var bf=null;function x_(r){bf!==r&&(bf=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){bf===r&&(bf=null);for(var o=0;o<r.length;o+=3){var u=r[o],m=r[o+1],x=r[o+2];if(typeof m!="function"){if(bg(m||u)===null)continue;break}var v=pn(u);v!==null&&(r.splice(o,3),o-=3,bp(v,{pending:!0,data:x,method:u.method,action:m},m,x))}}))}function cu(r){function o(Z){return yf(Z,r)}yi!==null&&yf(yi,r),bi!==null&&yf(bi,r),vi!==null&&yf(vi,r),iu.forEach(o),ou.forEach(o);for(var u=0;u<wi.length;u++){var m=wi[u];m.blockedOn===r&&(m.blockedOn=null)}for(;0<wi.length&&(u=wi[0],u.blockedOn===null);)p_(u),u.blockedOn===null&&wi.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var x=u[m],v=u[m+1],O=x[De]||null;if(typeof v=="function")O||x_(u);else if(O){var F=null;if(v&&v.hasAttribute("formAction")){if(x=v,O=v[De]||null)F=O.formAction;else if(bg(x)!==null)continue}else F=O.action;typeof F=="function"?u[m+1]=F:(u.splice(m,3),m-=3),x_(u)}}}function wg(r){this._internalRoot=r}vf.prototype.render=wg.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(s(409));var u=o.current,m=Js();u_(u,m,r,o,null,null)},vf.prototype.unmount=wg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;u_(r.current,2,null,r,null,null),ef(),o[Ie]=null}};function vf(r){this._internalRoot=r}vf.prototype.unstable_scheduleHydration=function(r){if(r){var o=J();r={blockedOn:null,target:r,priority:o};for(var u=0;u<wi.length&&o!==0&&o<wi[u].priority;u++);wi.splice(u,0,r),u===0&&p_(r)}};var y_=t.version;if(y_!=="19.1.1")throw Error(s(527,y_,"19.1.1"));Q.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=f(o),r=r!==null?h(r):null,r=r===null?null:r.stateNode,r};var pO={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wf.isDisabled&&wf.supportsFiber)try{$e=wf.inject(pO),Xe=wf}catch(r){}}return du.createRoot=function(r,o){if(!a(r))throw Error(s(299));var u=!1,m="",x=Mv,v=Pv,O=Lv,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(F=o.unstable_transitionCallbacks)),o=l_(r,1,!1,null,null,u,m,x,v,O,F,null),r[Ie]=o.current,sg(r),new wg(o)},du.hydrateRoot=function(r,o,u){if(!a(r))throw Error(s(299));var m=!1,x="",v=Mv,O=Pv,F=Lv,Z=null,be=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(F=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(Z=u.unstable_transitionCallbacks),u.formState!==void 0&&(be=u.formState)),o=l_(r,1,!0,o,u!=null?u:null,m,x,v,O,F,Z,be),o.context=c_(null),u=o.current,m=Js(),m=Ht(m),x=ri(m),x.callback=null,ai(u,x,m),u=m,o.current.lanes=u,ot(o,u),ta(o),r[Ie]=o.current,sg(r),new vf(o)},du.version="19.1.1",du}var A_;function OO(){if(A_)return Tg.exports;A_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Tg.exports=kO(),Tg.exports}var AO=OO();const DO=Ex(AO);var RO=Object.defineProperty,MO=(e,t,n)=>t in e?RO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,go=(e,t,n)=>MO(e,typeof t!="symbol"?t+"":t,n),PO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ol={},fu={},Pr={},D_;function qS(){if(D_)return Pr;D_=1;var e=Pr&&Pr.__assign||function(){return e=Object.assign||function(a){for(var i,c=1,d=arguments.length;c<d;c++){i=arguments[c];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(a[f]=i[f])}return a},e.apply(this,arguments)},t=Pr&&Pr.__awaiter||function(a,i,c,d){function f(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function g(_){try{y(d.next(_))}catch(w){p(w)}}function b(_){try{y(d.throw(_))}catch(w){p(w)}}function y(_){_.done?h(_.value):f(_.value).then(g,b)}y((d=d.apply(a,i||[])).next())})},n=Pr&&Pr.__generator||function(a,i){var c={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(_){return b([y,_])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(c=0)),c;)try{if(d=1,f&&(h=y[0]&2?f.return:y[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,y[1])).done)return h;switch(f=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return c.label++,{value:y[1],done:!1};case 5:c.label++,f=y[1],y=[0];continue;case 7:y=c.ops.pop(),c.trys.pop();continue;default:if(h=c.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){c=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){c.label=y[1];break}if(y[0]===6&&c.label<h[1]){c.label=h[1],h=y;break}if(h&&c.label<h[2]){c.label=h[2],c.ops.push(y);break}h[2]&&c.ops.pop(),c.trys.pop();continue}y=i.call(a,c)}catch(_){y=[6,_],f=0}finally{d=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.FrappeCall=void 0;var s=function(){function a(i,c,d,f,h){this.appURL=i,this.axios=c,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.get=function(i,c){return t(this,void 0,void 0,function(){var d;return n(this,function(f){return d=new URLSearchParams,c&&Object.entries(c).forEach(function(h){var p=h[0],g=h[1];if(g!=null){var b=typeof g=="object"?JSON.stringify(g):g;d.set(p,b)}}),[2,this.axios.get("/api/method/".concat(i),{params:d}).then(function(h){return h.data}).catch(function(h){var p,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(p=h.response.data.message)!==null&&p!==void 0?p:"There was an error.",exception:(g=h.response.data.exception)!==null&&g!==void 0?g:""})})]})})},a.prototype.post=function(i,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/method/".concat(i),e({},c)).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.put=function(i,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.put("/api/method/".concat(i),e({},c)).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.delete=function(i,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.delete("/api/method/".concat(i),{params:c}).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a}();return Pr.FrappeCall=s,Pr}var Lr={},R_;function WS(){if(R_)return Lr;R_=1;var e=Lr&&Lr.__assign||function(){return e=Object.assign||function(a){for(var i,c=1,d=arguments.length;c<d;c++){i=arguments[c];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(a[f]=i[f])}return a},e.apply(this,arguments)},t=Lr&&Lr.__awaiter||function(a,i,c,d){function f(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function g(_){try{y(d.next(_))}catch(w){p(w)}}function b(_){try{y(d.throw(_))}catch(w){p(w)}}function y(_){_.done?h(_.value):f(_.value).then(g,b)}y((d=d.apply(a,i||[])).next())})},n=Lr&&Lr.__generator||function(a,i){var c={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(_){return b([y,_])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(c=0)),c;)try{if(d=1,f&&(h=y[0]&2?f.return:y[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,y[1])).done)return h;switch(f=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return c.label++,{value:y[1],done:!1};case 5:c.label++,f=y[1],y=[0];continue;case 7:y=c.ops.pop(),c.trys.pop();continue;default:if(h=c.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){c=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){c.label=y[1];break}if(y[0]===6&&c.label<h[1]){c.label=h[1],h=y;break}if(h&&c.label<h[2]){c.label=h[2],c.ops.push(y);break}h[2]&&c.ops.pop(),c.trys.pop();continue}y=i.call(a,c)}catch(_){y=[6,_],f=0}finally{d=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.FrappeDB=void 0;var s=function(){function a(i,c,d,f,h){this.appURL=i,this.axios=c,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.getDoc=function(i,c){return c===void 0&&(c=""),t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.get("/api/resource/".concat(i,"/").concat(encodeURIComponent(c))).then(function(f){return f.data.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while fetching the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getDocList=function(i,c){var d;return t(this,void 0,void 0,function(){var f,h,p,g,b,y,_,w,N,S,D;return n(this,function(A){return f={},c&&(h=c.fields,p=c.filters,g=c.orFilters,b=c.orderBy,y=c.limit,_=c.limit_start,w=c.groupBy,N=c.asDict,S=N===void 0?!0:N,D=b?"".concat(String(b==null?void 0:b.field)," ").concat((d=b==null?void 0:b.order)!==null&&d!==void 0?d:"asc"):"",f={fields:h?JSON.stringify(h):void 0,filters:p?JSON.stringify(p):void 0,or_filters:g?JSON.stringify(g):void 0,order_by:D,group_by:w,limit:y,limit_start:_,as_dict:S}),[2,this.axios.get("/api/resource/".concat(i),{params:f}).then(function(C){return C.data.data}).catch(function(C){var k,T;throw e(e({},C.response.data),{httpStatus:C.response.status,httpStatusText:C.response.statusText,message:"There was an error while fetching the documents.",exception:(T=(k=C.response.data.exception)!==null&&k!==void 0?k:C.response.data.exc_type)!==null&&T!==void 0?T:""})})]})})},a.prototype.createDoc=function(i,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/resource/".concat(i),e({},c)).then(function(f){return f.data.data}).catch(function(f){var h,p,g;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error while creating the document.",exception:(g=(p=f.response.data.exception)!==null&&p!==void 0?p:f.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},a.prototype.updateDoc=function(i,c,d){return t(this,void 0,void 0,function(){return n(this,function(f){return[2,this.axios.put("/api/resource/".concat(i,"/").concat(c&&encodeURIComponent(c)),e({},d)).then(function(h){return h.data.data}).catch(function(h){var p,g,b;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(p=h.response.data.message)!==null&&p!==void 0?p:"There was an error while updating the document.",exception:(b=(g=h.response.data.exception)!==null&&g!==void 0?g:h.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.deleteDoc=function(i,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.delete("/api/resource/".concat(i,"/").concat(c&&encodeURIComponent(c))).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while deleting the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getCount=function(i,c,d,f){return d===void 0&&(d=!1),f===void 0&&(f=!1),t(this,void 0,void 0,function(){var h;return n(this,function(p){return h={doctype:i,filters:[]},d&&(h.cache=d),f&&(h.debug=f),c&&(h.filters=c?JSON.stringify(c):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:h}).then(function(g){return g.data.message}).catch(function(g){var b,y;throw e(e({},g.response.data),{httpStatus:g.response.status,httpStatusText:g.response.statusText,message:"There was an error while getting the count.",exception:(y=(b=g.response.data.exception)!==null&&b!==void 0?b:g.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},a.prototype.getLastDoc=function(i,c){return t(this,void 0,void 0,function(){var d,f;return n(this,function(h){switch(h.label){case 0:return d={orderBy:{field:"creation",order:"desc"}},c&&(d=e(e({},d),c)),[4,this.getDocList(i,e(e({},d),{limit:1,fields:["name"]}))];case 1:return f=h.sent(),f.length>0?[2,this.getDoc(i,f[0].name)]:[2,{}]}})})},a.prototype.renameDoc=function(i,c,d,f){return f===void 0&&(f=!1),t(this,void 0,void 0,function(){return n(this,function(h){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:i,old_name:c,new_name:d,merge:f}).then(function(p){return p.data}).catch(function(p){var g,b,y;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:(g=p.response.data.message)!==null&&g!==void 0?g:"There was an error while renaming the document.",exception:(y=(b=p.response.data.exception)!==null&&b!==void 0?b:p.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},a.prototype.getValue=function(i,c,d,f,h,p){return f===void 0&&(f=!0),h===void 0&&(h=!1),p===void 0&&(p=null),t(this,void 0,void 0,function(){var g;return n(this,function(b){return g={doctype:i,fieldname:"[]",filters:[],as_dict:f,debug:h,parent:null},c&&(g.fieldname=typeof c=="object"?JSON.stringify(c):c),d&&(g.filters=d?JSON.stringify(d):void 0),p&&(g.parent=p),[2,this.axios.get("/api/method/frappe.client.get_value",{params:g}).then(function(y){return y.data}).catch(function(y){var _,w;throw e(e({},y.response.data),{httpStatus:y.response.status,httpStatusText:y.response.statusText,message:"There was an error while getting the value.",exception:(w=(_=y.response.data.exception)!==null&&_!==void 0?_:y.response.data.exc_type)!==null&&w!==void 0?w:""})})]})})},a.prototype.setValue=function(i,c,d,f){return t(this,void 0,void 0,function(){return n(this,function(h){return d!==null&&typeof d=="object"&&!Array.isArray(d)&&(f=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:i,name:c,fieldname:d,value:f}).then(function(p){return p.data}).catch(function(p){var g,b;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while setting the value.",exception:(b=(g=p.response.data.exception)!==null&&g!==void 0?g:p.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.getSingleValue=function(i,c){return t(this,void 0,void 0,function(){var d;return n(this,function(f){return d={doctype:i,field:c},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:d}).then(function(h){return h.data}).catch(function(h){var p,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(g=(p=h.response.data.exception)!==null&&p!==void 0?p:h.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},a.prototype.submit=function(i){return t(this,void 0,void 0,function(){return n(this,function(c){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:i}).then(function(d){return d.data.message}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:"There was an error while submitting the document.",exception:(h=(f=d.response.data.exception)!==null&&f!==void 0?f:d.response.data.exc_type)!==null&&h!==void 0?h:""})})]})})},a.prototype.cancel=function(i,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:i,name:c}).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while cancelling the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a}();return Lr.FrappeDB=s,Lr}var zr={},La={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var Ag,M_;function LO(){if(M_)return Ag;M_=1;function e(E,M){return function(){return E.apply(M,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:n}=Object,s=(E=>M=>{const $=t.call(M);return E[$]||(E[$]=$.slice(8,-1).toLowerCase())})(Object.create(null)),a=E=>(E=E.toLowerCase(),M=>s(M)===E),i=E=>M=>typeof M===E,{isArray:c}=Array,d=i("undefined");function f(E){return E!==null&&!d(E)&&E.constructor!==null&&!d(E.constructor)&&b(E.constructor.isBuffer)&&E.constructor.isBuffer(E)}const h=a("ArrayBuffer");function p(E){let M;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?M=ArrayBuffer.isView(E):M=E&&E.buffer&&h(E.buffer),M}const g=i("string"),b=i("function"),y=i("number"),_=E=>E!==null&&typeof E=="object",w=E=>E===!0||E===!1,N=E=>{if(s(E)!=="object")return!1;const M=n(E);return(M===null||M===Object.prototype||Object.getPrototypeOf(M)===null)&&!(Symbol.toStringTag in E)&&!(Symbol.iterator in E)},S=a("Date"),D=a("File"),A=a("Blob"),C=a("FileList"),k=E=>_(E)&&b(E.pipe),T=E=>{let M;return E&&(typeof FormData=="function"&&E instanceof FormData||b(E.append)&&((M=s(E))==="formdata"||M==="object"&&b(E.toString)&&E.toString()==="[object FormData]"))},R=a("URLSearchParams"),[P,U,X,H]=["ReadableStream","Request","Response","Headers"].map(a),K=E=>E.trim?E.trim():E.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Y(E,M,{allOwnKeys:$=!1}={}){if(E===null||typeof E>"u")return;let I,ue;if(typeof E!="object"&&(E=[E]),c(E))for(I=0,ue=E.length;I<ue;I++)M.call(null,E[I],I,E);else{const me=$?Object.getOwnPropertyNames(E):Object.keys(E),ve=me.length;let Fe;for(I=0;I<ve;I++)Fe=me[I],M.call(null,E[Fe],Fe,E)}}function te(E,M){M=M.toLowerCase();const $=Object.keys(E);let I=$.length,ue;for(;I-- >0;)if(ue=$[I],M===ue.toLowerCase())return ue;return null}const W=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:PO,V=E=>!d(E)&&E!==W;function Q(){const{caseless:E}=V(this)&&this||{},M={},$=(I,ue)=>{const me=E&&te(M,ue)||ue;N(M[me])&&N(I)?M[me]=Q(M[me],I):N(I)?M[me]=Q({},I):c(I)?M[me]=I.slice():M[me]=I};for(let I=0,ue=arguments.length;I<ue;I++)arguments[I]&&Y(arguments[I],$);return M}const ee=(E,M,$,{allOwnKeys:I}={})=>(Y(M,(ue,me)=>{$&&b(ue)?E[me]=e(ue,$):E[me]=ue},{allOwnKeys:I}),E),ce=E=>(E.charCodeAt(0)===65279&&(E=E.slice(1)),E),L=(E,M,$,I)=>{E.prototype=Object.create(M.prototype,I),E.prototype.constructor=E,Object.defineProperty(E,"super",{value:M.prototype}),$&&Object.assign(E.prototype,$)},le=(E,M,$,I)=>{let ue,me,ve;const Fe={};if(M=M||{},E==null)return M;do{for(ue=Object.getOwnPropertyNames(E),me=ue.length;me-- >0;)ve=ue[me],(!I||I(ve,E,M))&&!Fe[ve]&&(M[ve]=E[ve],Fe[ve]=!0);E=$!==!1&&n(E)}while(E&&(!$||$(E,M))&&E!==Object.prototype);return M},re=(E,M,$)=>{E=String(E),($===void 0||$>E.length)&&($=E.length),$-=M.length;const I=E.indexOf(M,$);return I!==-1&&I===$},B=E=>{if(!E)return null;if(c(E))return E;let M=E.length;if(!y(M))return null;const $=new Array(M);for(;M-- >0;)$[M]=E[M];return $},ne=(E=>M=>E&&M instanceof E)(typeof Uint8Array<"u"&&n(Uint8Array)),ye=(E,M)=>{const $=(E&&E[Symbol.iterator]).call(E);let I;for(;(I=$.next())&&!I.done;){const ue=I.value;M.call(E,ue[0],ue[1])}},he=(E,M)=>{let $;const I=[];for(;($=E.exec(M))!==null;)I.push($);return I},Ce=a("HTMLFormElement"),ke=E=>E.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(M,$,I){return $.toUpperCase()+I}),We=(({hasOwnProperty:E})=>(M,$)=>E.call(M,$))(Object.prototype),Ue=a("RegExp"),qe=(E,M)=>{const $=Object.getOwnPropertyDescriptors(E),I={};Y($,(ue,me)=>{let ve;(ve=M(ue,me,E))!==!1&&(I[me]=ve||ue)}),Object.defineProperties(E,I)},Ze=E=>{qe(E,(M,$)=>{if(b(E)&&["arguments","caller","callee"].indexOf($)!==-1)return!1;const I=E[$];if(b(I)){if(M.enumerable=!1,"writable"in M){M.writable=!1;return}M.set||(M.set=()=>{throw Error("Can not rewrite read-only method '"+$+"'")})}})},st=(E,M)=>{const $={},I=ue=>{ue.forEach(me=>{$[me]=!0})};return c(E)?I(E):I(String(E).split(M)),$},Pe=()=>{},Tt=(E,M)=>E!=null&&Number.isFinite(E=+E)?E:M;function Yt(E){return!!(E&&b(E.append)&&E[Symbol.toStringTag]==="FormData"&&E[Symbol.iterator])}const Nt=E=>{const M=new Array(10),$=(I,ue)=>{if(_(I)){if(M.indexOf(I)>=0)return;if(!("toJSON"in I)){M[ue]=I;const me=c(I)?[]:{};return Y(I,(ve,Fe)=>{const dt=$(ve,ue+1);!d(dt)&&(me[Fe]=dt)}),M[ue]=void 0,me}}return I};return $(E,0)},it=a("AsyncFunction"),jt=E=>E&&(_(E)||b(E))&&b(E.then)&&b(E.catch),G=((E,M)=>E?setImmediate:M?(($,I)=>(W.addEventListener("message",({source:ue,data:me})=>{ue===W&&me===$&&I.length&&I.shift()()},!1),ue=>{I.push(ue),W.postMessage($,"*")}))(`axios@${Math.random()}`,[]):$=>setTimeout($))(typeof setImmediate=="function",b(W.postMessage)),de=typeof queueMicrotask<"u"?queueMicrotask.bind(W):typeof process<"u"&&process.nextTick||G;var q={isArray:c,isArrayBuffer:h,isBuffer:f,isFormData:T,isArrayBufferView:p,isString:g,isNumber:y,isBoolean:w,isObject:_,isPlainObject:N,isReadableStream:P,isRequest:U,isResponse:X,isHeaders:H,isUndefined:d,isDate:S,isFile:D,isBlob:A,isRegExp:Ue,isFunction:b,isStream:k,isURLSearchParams:R,isTypedArray:ne,isFileList:C,forEach:Y,merge:Q,extend:ee,trim:K,stripBOM:ce,inherits:L,toFlatObject:le,kindOf:s,kindOfTest:a,endsWith:re,toArray:B,forEachEntry:ye,matchAll:he,isHTMLForm:Ce,hasOwnProperty:We,hasOwnProp:We,reduceDescriptors:qe,freezeMethods:Ze,toObjectSet:st,toCamelCase:ke,noop:Pe,toFiniteNumber:Tt,findKey:te,global:W,isContextDefined:V,isSpecCompliantForm:Yt,toJSONObject:Nt,isAsyncFn:it,isThenable:jt,setImmediate:G,asap:de};function Se(E,M,$,I,ue){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=E,this.name="AxiosError",M&&(this.code=M),$&&(this.config=$),I&&(this.request=I),ue&&(this.response=ue,this.status=ue.status?ue.status:null)}q.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const Me=Se.prototype,Re={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(E=>{Re[E]={value:E}}),Object.defineProperties(Se,Re),Object.defineProperty(Me,"isAxiosError",{value:!0}),Se.from=(E,M,$,I,ue,me)=>{const ve=Object.create(Me);return q.toFlatObject(E,ve,function(Fe){return Fe!==Error.prototype},Fe=>Fe!=="isAxiosError"),Se.call(ve,E.message,M,$,I,ue),ve.cause=E,ve.name=E.name,me&&Object.assign(ve,me),ve};var $e=null;function Xe(E){return q.isPlainObject(E)||q.isArray(E)}function Qe(E){return q.endsWith(E,"[]")?E.slice(0,-2):E}function vt(E,M,$){return E?E.concat(M).map(function(I,ue){return I=Qe(I),!$&&ue?"["+I+"]":I}).join($?".":""):M}function wn(E){return q.isArray(E)&&!E.some(Xe)}const Jt=q.toFlatObject(q,{},null,function(E){return/^is[A-Z]/.test(E)});function sn(E,M,$){if(!q.isObject(E))throw new TypeError("target must be an object");M=M||new FormData,$=q.toFlatObject($,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Ot,ht){return!q.isUndefined(ht[Ot])});const I=$.metaTokens,ue=$.visitor||Be,me=$.dots,ve=$.indexes,Fe=($.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(M);if(!q.isFunction(ue))throw new TypeError("visitor must be a function");function dt(Ot){if(Ot===null)return"";if(q.isDate(Ot))return Ot.toISOString();if(!Fe&&q.isBlob(Ot))throw new Se("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(Ot)||q.isTypedArray(Ot)?Fe&&typeof Blob=="function"?new Blob([Ot]):Buffer.from(Ot):Ot}function Be(Ot,ht,at){let us=Ot;if(Ot&&!at&&typeof Ot=="object"){if(q.endsWith(ht,"{}"))ht=I?ht:ht.slice(0,-2),Ot=JSON.stringify(Ot);else if(q.isArray(Ot)&&wn(Ot)||(q.isFileList(Ot)||q.endsWith(ht,"[]"))&&(us=q.toArray(Ot)))return ht=Qe(ht),us.forEach(function(Wn,Cn){!(q.isUndefined(Wn)||Wn===null)&&M.append(ve===!0?vt([ht],Cn,me):ve===null?ht:ht+"[]",dt(Wn))}),!1}return Xe(Ot)?!0:(M.append(vt(at,ht,me),dt(Ot)),!1)}const Ke=[],gt=Object.assign(Jt,{defaultVisitor:Be,convertValue:dt,isVisitable:Xe});function un(Ot,ht){if(!q.isUndefined(Ot)){if(Ke.indexOf(Ot)!==-1)throw Error("Circular reference detected in "+ht.join("."));Ke.push(Ot),q.forEach(Ot,function(at,us){(!(q.isUndefined(at)||at===null)&&ue.call(M,at,q.isString(us)?us.trim():us,ht,gt))===!0&&un(at,ht?ht.concat(us):[us])}),Ke.pop()}}if(!q.isObject(E))throw new TypeError("data must be an object");return un(E),M}function xn(E){const M={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(E).replace(/[!'()~]|%20|%00/g,function($){return M[$]})}function Fn(E,M){this._pairs=[],E&&sn(E,this,M)}const Bn=Fn.prototype;Bn.append=function(E,M){this._pairs.push([E,M])},Bn.toString=function(E){const M=E?function($){return E.call(this,$,xn)}:xn;return this._pairs.map(function($){return M($[0])+"="+M($[1])},"").join("&")};function Dt(E){return encodeURIComponent(E).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ee(E,M,$){if(!M)return E;const I=$&&$.encode||Dt;q.isFunction($)&&($={serialize:$});const ue=$&&$.serialize;let me;if(ue?me=ue(M,$):me=q.isURLSearchParams(M)?M.toString():new Fn(M,$).toString(I),me){const ve=E.indexOf("#");ve!==-1&&(E=E.slice(0,ve)),E+=(E.indexOf("?")===-1?"?":"&")+me}return E}class He{constructor(){this.handlers=[]}use(M,$,I){return this.handlers.push({fulfilled:M,rejected:$,synchronous:I?I.synchronous:!1,runWhen:I?I.runWhen:null}),this.handlers.length-1}eject(M){this.handlers[M]&&(this.handlers[M]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(M){q.forEach(this.handlers,function($){$!==null&&M($)})}}var Le=He,pt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},At=typeof URLSearchParams<"u"?URLSearchParams:Fn,ot=typeof FormData<"u"?FormData:null,Ct=typeof Blob<"u"?Blob:null,Ge={isBrowser:!0,classes:{URLSearchParams:At,FormData:ot,Blob:Ct},protocols:["http","https","file","blob","url","data"]};const bt=typeof window<"u"&&typeof document<"u",Ht=typeof navigator=="object"&&navigator||void 0,Kt=bt&&(!Ht||["ReactNative","NativeScript","NS"].indexOf(Ht.product)<0),J=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ie=bt&&window.location.href||"http://localhost";var pe=Object.freeze({__proto__:null,hasBrowserEnv:bt,hasStandardBrowserWebWorkerEnv:J,hasStandardBrowserEnv:Kt,navigator:Ht,origin:ie}),je=z(z({},pe),Ge);function De(E,M){return sn(E,new je.classes.URLSearchParams,Object.assign({visitor:function($,I,ue,me){return je.isNode&&q.isBuffer($)?(this.append(I,$.toString("base64")),!1):me.defaultVisitor.apply(this,arguments)}},M))}function Ie(E){return q.matchAll(/\w+|\[(\w*)]/g,E).map(M=>M[0]==="[]"?"":M[1]||M[0])}function Je(E){const M={},$=Object.keys(E);let I;const ue=$.length;let me;for(I=0;I<ue;I++)me=$[I],M[me]=E[me];return M}function rt(E){function M($,I,ue,me){let ve=$[me++];if(ve==="__proto__")return!0;const Fe=Number.isFinite(+ve),dt=me>=$.length;return ve=!ve&&q.isArray(ue)?ue.length:ve,dt?(q.hasOwnProp(ue,ve)?ue[ve]=[ue[ve],I]:ue[ve]=I,!Fe):((!ue[ve]||!q.isObject(ue[ve]))&&(ue[ve]=[]),M($,I,ue[ve],me)&&q.isArray(ue[ve])&&(ue[ve]=Je(ue[ve])),!Fe)}if(q.isFormData(E)&&q.isFunction(E.entries)){const $={};return q.forEachEntry(E,(I,ue)=>{M(Ie(I),ue,$,0)}),$}return null}function ft(E,M,$){if(q.isString(E))try{return(M||JSON.parse)(E),q.trim(E)}catch(I){if(I.name!=="SyntaxError")throw I}return($||JSON.stringify)(E)}const Pt={transitional:pt,adapter:["xhr","http","fetch"],transformRequest:[function(E,M){const $=M.getContentType()||"",I=$.indexOf("application/json")>-1,ue=q.isObject(E);if(ue&&q.isHTMLForm(E)&&(E=new FormData(E)),q.isFormData(E))return I?JSON.stringify(rt(E)):E;if(q.isArrayBuffer(E)||q.isBuffer(E)||q.isStream(E)||q.isFile(E)||q.isBlob(E)||q.isReadableStream(E))return E;if(q.isArrayBufferView(E))return E.buffer;if(q.isURLSearchParams(E))return M.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),E.toString();let me;if(ue){if($.indexOf("application/x-www-form-urlencoded")>-1)return De(E,this.formSerializer).toString();if((me=q.isFileList(E))||$.indexOf("multipart/form-data")>-1){const ve=this.env&&this.env.FormData;return sn(me?{"files[]":E}:E,ve&&new ve,this.formSerializer)}}return ue||I?(M.setContentType("application/json",!1),ft(E)):E}],transformResponse:[function(E){const M=this.transitional||Pt.transitional,$=M&&M.forcedJSONParsing,I=this.responseType==="json";if(q.isResponse(E)||q.isReadableStream(E))return E;if(E&&q.isString(E)&&($&&!this.responseType||I)){const ue=!(M&&M.silentJSONParsing)&&I;try{return JSON.parse(E)}catch(me){if(ue)throw me.name==="SyntaxError"?Se.from(me,Se.ERR_BAD_RESPONSE,this,null,this.response):me}}return E}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:je.classes.FormData,Blob:je.classes.Blob},validateStatus:function(E){return E>=200&&E<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],E=>{Pt.headers[E]={}});var lt=Pt;const St=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Rt=E=>{const M={};let $,I,ue;return E&&E.split(`
`).forEach(function(me){ue=me.indexOf(":"),$=me.substring(0,ue).trim().toLowerCase(),I=me.substring(ue+1).trim(),!(!$||M[$]&&St[$])&&($==="set-cookie"?M[$]?M[$].push(I):M[$]=[I]:M[$]=M[$]?M[$]+", "+I:I)}),M};const pn=Symbol("internals");function Rn(E){return E&&String(E).trim().toLowerCase()}function cn(E){return E===!1||E==null?E:q.isArray(E)?E.map(cn):String(E)}function ct(E){const M=Object.create(null),$=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let I;for(;I=$.exec(E);)M[I[1]]=I[2];return M}const kt=E=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(E.trim());function Qt(E,M,$,I,ue){if(q.isFunction(I))return I.call(this,M,$);if(ue&&(M=$),!!q.isString(M)){if(q.isString(I))return M.indexOf(I)!==-1;if(q.isRegExp(I))return I.test(M)}}function Nn(E){return E.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(M,$,I)=>$.toUpperCase()+I)}function Mn(E,M){const $=q.toCamelCase(" "+M);["get","set","has"].forEach(I=>{Object.defineProperty(E,I+$,{value:function(ue,me,ve){return this[I].call(this,M,ue,me,ve)},configurable:!0})})}class Jn{constructor(M){M&&this.set(M)}set(M,$,I){const ue=this;function me(Fe,dt,Be){const Ke=Rn(dt);if(!Ke)throw new Error("header name must be a non-empty string");const gt=q.findKey(ue,Ke);(!gt||ue[gt]===void 0||Be===!0||Be===void 0&&ue[gt]!==!1)&&(ue[gt||dt]=cn(Fe))}const ve=(Fe,dt)=>q.forEach(Fe,(Be,Ke)=>me(Be,Ke,dt));if(q.isPlainObject(M)||M instanceof this.constructor)ve(M,$);else if(q.isString(M)&&(M=M.trim())&&!kt(M))ve(Rt(M),$);else if(q.isHeaders(M))for(const[Fe,dt]of M.entries())me(dt,Fe,I);else M!=null&&me($,M,I);return this}get(M,$){if(M=Rn(M),M){const I=q.findKey(this,M);if(I){const ue=this[I];if(!$)return ue;if($===!0)return ct(ue);if(q.isFunction($))return $.call(this,ue,I);if(q.isRegExp($))return $.exec(ue);throw new TypeError("parser must be boolean|regexp|function")}}}has(M,$){if(M=Rn(M),M){const I=q.findKey(this,M);return!!(I&&this[I]!==void 0&&(!$||Qt(this,this[I],I,$)))}return!1}delete(M,$){const I=this;let ue=!1;function me(ve){if(ve=Rn(ve),ve){const Fe=q.findKey(I,ve);Fe&&(!$||Qt(I,I[Fe],Fe,$))&&(delete I[Fe],ue=!0)}}return q.isArray(M)?M.forEach(me):me(M),ue}clear(M){const $=Object.keys(this);let I=$.length,ue=!1;for(;I--;){const me=$[I];(!M||Qt(this,this[me],me,M,!0))&&(delete this[me],ue=!0)}return ue}normalize(M){const $=this,I={};return q.forEach(this,(ue,me)=>{const ve=q.findKey(I,me);if(ve){$[ve]=cn(ue),delete $[me];return}const Fe=M?Nn(me):String(me).trim();Fe!==me&&delete $[me],$[Fe]=cn(ue),I[Fe]=!0}),this}concat(...M){return this.constructor.concat(this,...M)}toJSON(M){const $=Object.create(null);return q.forEach(this,(I,ue)=>{I!=null&&I!==!1&&($[ue]=M&&q.isArray(I)?I.join(", "):I)}),$}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([M,$])=>M+": "+$).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(M){return M instanceof this?M:new this(M)}static concat(M,...$){const I=new this(M);return $.forEach(ue=>I.set(ue)),I}static accessor(M){const $=(this[pn]=this[pn]={accessors:{}}).accessors,I=this.prototype;function ue(me){const ve=Rn(me);$[ve]||(Mn(I,me),$[ve]=!0)}return q.isArray(M)?M.forEach(ue):ue(M),this}}Jn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),q.reduceDescriptors(Jn.prototype,({value:E},M)=>{let $=M[0].toUpperCase()+M.slice(1);return{get:()=>E,set(I){this[$]=I}}}),q.freezeMethods(Jn);var cs=Jn;function cr(E,M){const $=this||lt,I=M||$,ue=cs.from(I.headers);let me=I.data;return q.forEach(E,function(ve){me=ve.call($,me,ue.normalize(),M?M.status:void 0)}),ue.normalize(),me}function ur(E){return!!(E&&E.__CANCEL__)}function _s(E,M,$){Se.call(this,E!=null?E:"canceled",Se.ERR_CANCELED,M,$),this.name="CanceledError"}q.inherits(_s,Se,{__CANCEL__:!0});function dr(E,M,$){const I=$.config.validateStatus;!$.status||!I||I($.status)?E($):M(new Se("Request failed with status code "+$.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor($.status/100)-4],$.config,$.request,$))}function zt(E){const M=/^([-+\w]{1,25})(:?\/\/|:)/.exec(E);return M&&M[1]||""}function Pn(E,M){E=E||10;const $=new Array(E),I=new Array(E);let ue=0,me=0,ve;return M=M!==void 0?M:1e3,function(Fe){const dt=Date.now(),Be=I[me];ve||(ve=dt),$[ue]=Fe,I[ue]=dt;let Ke=me,gt=0;for(;Ke!==ue;)gt+=$[Ke++],Ke=Ke%E;if(ue=(ue+1)%E,ue===me&&(me=(me+1)%E),dt-ve<M)return;const un=Be&&dt-Be;return un?Math.round(gt*1e3/un):void 0}}function ba(E,M){let $=0,I=1e3/M,ue,me;const ve=(Fe,dt=Date.now())=>{$=dt,ue=null,me&&(clearTimeout(me),me=null),E.apply(null,Fe)};return[(...Fe)=>{const dt=Date.now(),Be=dt-$;Be>=I?ve(Fe,dt):(ue=Fe,me||(me=setTimeout(()=>{me=null,ve(ue)},I-Be)))},()=>ue&&ve(ue)]}const gs=(E,M,$=3)=>{let I=0;const ue=Pn(50,250);return ba(me=>{const ve=me.loaded,Fe=me.lengthComputable?me.total:void 0,dt=ve-I,Be=ue(dt),Ke=ve<=Fe;I=ve;const gt={loaded:ve,total:Fe,progress:Fe?ve/Fe:void 0,bytes:dt,rate:Be||void 0,estimated:Be&&Fe&&Ke?(Fe-ve)/Be:void 0,event:me,lengthComputable:Fe!=null,[M?"download":"upload"]:!0};E(gt)},$)},yn=(E,M)=>{const $=E!=null;return[I=>M[0]({lengthComputable:$,total:E,loaded:I}),M[1]]},Or=E=>(...M)=>q.asap(()=>E(...M));var qo=je.hasStandardBrowserEnv?((E,M)=>$=>($=new URL($,je.origin),E.protocol===$.protocol&&E.host===$.host&&(M||E.port===$.port)))(new URL(je.origin),je.navigator&&/(msie|trident)/i.test(je.navigator.userAgent)):()=>!0,Wo=je.hasStandardBrowserEnv?{write(E,M,$,I,ue,me){const ve=[E+"="+encodeURIComponent(M)];q.isNumber($)&&ve.push("expires="+new Date($).toGMTString()),q.isString(I)&&ve.push("path="+I),q.isString(ue)&&ve.push("domain="+ue),me===!0&&ve.push("secure"),document.cookie=ve.join("; ")},read(E){const M=document.cookie.match(new RegExp("(^|;\\s*)("+E+")=([^;]*)"));return M?decodeURIComponent(M[3]):null},remove(E){this.write(E,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Rs(E){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(E)}function md(E,M){return M?E.replace(/\/?\/$/,"")+"/"+M.replace(/^\/+/,""):E}function pd(E,M,$){let I=!Rs(M);return E&&I||$==!1?md(E,M):M}const Ii=E=>E instanceof cs?z({},E):E;function Gr(E,M){M=M||{};const $={};function I(Be,Ke,gt,un){return q.isPlainObject(Be)&&q.isPlainObject(Ke)?q.merge.call({caseless:un},Be,Ke):q.isPlainObject(Ke)?q.merge({},Ke):q.isArray(Ke)?Ke.slice():Ke}function ue(Be,Ke,gt,un){if(q.isUndefined(Ke)){if(!q.isUndefined(Be))return I(void 0,Be,gt,un)}else return I(Be,Ke,gt,un)}function me(Be,Ke){if(!q.isUndefined(Ke))return I(void 0,Ke)}function ve(Be,Ke){if(q.isUndefined(Ke)){if(!q.isUndefined(Be))return I(void 0,Be)}else return I(void 0,Ke)}function Fe(Be,Ke,gt){if(gt in M)return I(Be,Ke);if(gt in E)return I(void 0,Be)}const dt={url:me,method:me,data:me,baseURL:ve,transformRequest:ve,transformResponse:ve,paramsSerializer:ve,timeout:ve,timeoutMessage:ve,withCredentials:ve,withXSRFToken:ve,adapter:ve,responseType:ve,xsrfCookieName:ve,xsrfHeaderName:ve,onUploadProgress:ve,onDownloadProgress:ve,decompress:ve,maxContentLength:ve,maxBodyLength:ve,beforeRedirect:ve,transport:ve,httpAgent:ve,httpsAgent:ve,cancelToken:ve,socketPath:ve,responseEncoding:ve,validateStatus:Fe,headers:(Be,Ke,gt)=>ue(Ii(Be),Ii(Ke),gt,!0)};return q.forEach(Object.keys(Object.assign({},E,M)),function(Be){const Ke=dt[Be]||ue,gt=Ke(E[Be],M[Be],Be);q.isUndefined(gt)&&Ke!==Fe||($[Be]=gt)}),$}var qi=E=>{const M=Gr({},E);let{data:$,withXSRFToken:I,xsrfHeaderName:ue,xsrfCookieName:me,headers:ve,auth:Fe}=M;M.headers=ve=cs.from(ve),M.url=Ee(pd(M.baseURL,M.url),E.params,E.paramsSerializer),Fe&&ve.set("Authorization","Basic "+btoa((Fe.username||"")+":"+(Fe.password?unescape(encodeURIComponent(Fe.password)):"")));let dt;if(q.isFormData($)){if(je.hasStandardBrowserEnv||je.hasStandardBrowserWebWorkerEnv)ve.setContentType(void 0);else if((dt=ve.getContentType())!==!1){const[Be,...Ke]=dt?dt.split(";").map(gt=>gt.trim()).filter(Boolean):[];ve.setContentType([Be||"multipart/form-data",...Ke].join("; "))}}if(je.hasStandardBrowserEnv&&(I&&q.isFunction(I)&&(I=I(M)),I||I!==!1&&qo(M.url))){const Be=ue&&me&&Wo.read(me);Be&&ve.set(ue,Be)}return M},km=typeof XMLHttpRequest<"u"&&function(E){return new Promise(function(M,$){const I=qi(E);let ue=I.data;const me=cs.from(I.headers).normalize();let{responseType:ve,onUploadProgress:Fe,onDownloadProgress:dt}=I,Be,Ke,gt,un,Ot;function ht(){un&&un(),Ot&&Ot(),I.cancelToken&&I.cancelToken.unsubscribe(Be),I.signal&&I.signal.removeEventListener("abort",Be)}let at=new XMLHttpRequest;at.open(I.method.toUpperCase(),I.url,!0),at.timeout=I.timeout;function us(){if(!at)return;const Cn=cs.from("getAllResponseHeaders"in at&&at.getAllResponseHeaders()),fr={data:!ve||ve==="text"||ve==="json"?at.responseText:at.response,status:at.status,statusText:at.statusText,headers:Cn,config:E,request:at};dr(function(Zi){M(Zi),ht()},function(Zi){$(Zi),ht()},fr),at=null}"onloadend"in at?at.onloadend=us:at.onreadystatechange=function(){!at||at.readyState!==4||at.status===0&&!(at.responseURL&&at.responseURL.indexOf("file:")===0)||setTimeout(us)},at.onabort=function(){at&&($(new Se("Request aborted",Se.ECONNABORTED,E,at)),at=null)},at.onerror=function(){$(new Se("Network Error",Se.ERR_NETWORK,E,at)),at=null},at.ontimeout=function(){let Cn=I.timeout?"timeout of "+I.timeout+"ms exceeded":"timeout exceeded";const fr=I.transitional||pt;I.timeoutErrorMessage&&(Cn=I.timeoutErrorMessage),$(new Se(Cn,fr.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,E,at)),at=null},ue===void 0&&me.setContentType(null),"setRequestHeader"in at&&q.forEach(me.toJSON(),function(Cn,fr){at.setRequestHeader(fr,Cn)}),q.isUndefined(I.withCredentials)||(at.withCredentials=!!I.withCredentials),ve&&ve!=="json"&&(at.responseType=I.responseType),dt&&([gt,Ot]=gs(dt,!0),at.addEventListener("progress",gt)),Fe&&at.upload&&([Ke,un]=gs(Fe),at.upload.addEventListener("progress",Ke),at.upload.addEventListener("loadend",un)),(I.cancelToken||I.signal)&&(Be=Cn=>{at&&($(!Cn||Cn.type?new _s(null,E,at):Cn),at.abort(),at=null)},I.cancelToken&&I.cancelToken.subscribe(Be),I.signal&&(I.signal.aborted?Be():I.signal.addEventListener("abort",Be)));const Wn=zt(I.url);if(Wn&&je.protocols.indexOf(Wn)===-1){$(new Se("Unsupported protocol "+Wn+":",Se.ERR_BAD_REQUEST,E));return}at.send(ue||null)})},Ms=(E,M)=>{const{length:$}=E=E?E.filter(Boolean):[];if(M||$){let I=new AbortController,ue;const me=function(Be){if(!ue){ue=!0,Fe();const Ke=Be instanceof Error?Be:this.reason;I.abort(Ke instanceof Se?Ke:new _s(Ke instanceof Error?Ke.message:Ke))}};let ve=M&&setTimeout(()=>{ve=null,me(new Se(`timeout ${M} of ms exceeded`,Se.ETIMEDOUT))},M);const Fe=()=>{E&&(ve&&clearTimeout(ve),ve=null,E.forEach(Be=>{Be.unsubscribe?Be.unsubscribe(me):Be.removeEventListener("abort",me)}),E=null)};E.forEach(Be=>Be.addEventListener("abort",me));const{signal:dt}=I;return dt.unsubscribe=()=>q.asap(Fe),dt}};const pc=function*(E,M){let $=E.byteLength;if($<M){yield E;return}let I=0,ue;for(;I<$;)ue=I+M,yield E.slice(I,ue),I=ue},gd=function(E,M){return jg(this,null,function*(){try{for(var $=w_(gc(E)),I,ue,me;I=!(ue=yield new po($.next())).done;I=!1){const ve=ue.value;yield*Sg(pc(ve,M))}}catch(ue){me=[ue]}finally{try{I&&(ue=$.return)&&(yield new po(ue.call($)))}finally{if(me)throw me[0]}}})},gc=function(E){return jg(this,null,function*(){if(E[Symbol.asyncIterator]){yield*Sg(E);return}const M=E.getReader();try{for(;;){const{done:$,value:I}=yield new po(M.read());if($)break;yield I}}finally{yield new po(M.cancel())}})},va=(E,M,$,I)=>{const ue=gd(E,M);let me=0,ve,Fe=Be=>{ve||(ve=!0,I&&I(Be))};return new ReadableStream({pull(Be){return ge(this,null,function*(){try{const{done:Ke,value:gt}=yield ue.next();if(Ke){Fe(),Be.close();return}let un=gt.byteLength;if($){let Ot=me+=un;$(Ot)}Be.enqueue(new Uint8Array(gt))}catch(Ke){throw Fe(Ke),Ke}})},cancel(Be){return Fe(Be),ue.return()}},{highWaterMark:2})},Wi=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",xc=Wi&&typeof ReadableStream=="function",Ka=Wi&&(typeof TextEncoder=="function"?(E=>M=>E.encode(M))(new TextEncoder):E=>ge(null,null,function*(){return new Uint8Array(yield new Response(E).arrayBuffer())})),xd=(E,...M)=>{try{return!!E(...M)}catch($){return!1}},yd=xc&&xd(()=>{let E=!1;const M=new Request(je.origin,{body:new ReadableStream,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!M}),yc=64*1024,Yi=xc&&xd(()=>q.isReadableStream(new Response("").body)),Yo={stream:Yi&&(E=>E.body)};Wi&&(E=>{["text","arrayBuffer","blob","formData","stream"].forEach(M=>{!Yo[M]&&(Yo[M]=q.isFunction(E[M])?$=>$[M]():($,I)=>{throw new Se(`Response type '${M}' is not supported`,Se.ERR_NOT_SUPPORT,I)})})})(new Response);const Om=E=>ge(null,null,function*(){if(E==null)return 0;if(q.isBlob(E))return E.size;if(q.isSpecCompliantForm(E))return(yield new Request(je.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(q.isArrayBufferView(E)||q.isArrayBuffer(E))return E.byteLength;if(q.isURLSearchParams(E)&&(E=E+""),q.isString(E))return(yield Ka(E)).byteLength}),Xo=(E,M)=>ge(null,null,function*(){const $=q.toFiniteNumber(E.getContentLength());return $!=null?$:Om(M)});var bc=Wi&&(E=>ge(null,null,function*(){let{url:M,method:$,data:I,signal:ue,cancelToken:me,timeout:ve,onDownloadProgress:Fe,onUploadProgress:dt,responseType:Be,headers:Ke,withCredentials:gt="same-origin",fetchOptions:un}=qi(E);Be=Be?(Be+"").toLowerCase():"text";let Ot=Ms([ue,me&&me.toAbortSignal()],ve),ht;const at=Ot&&Ot.unsubscribe&&(()=>{Ot.unsubscribe()});let us;try{if(dt&&yd&&$!=="get"&&$!=="head"&&(us=yield Xo(Ke,I))!==0){let Kr=new Request(M,{method:"POST",body:I,duplex:"half"}),ti;if(q.isFormData(I)&&(ti=Kr.headers.get("content-type"))&&Ke.setContentType(ti),Kr.body){const[Zo,Jo]=yn(us,gs(Or(dt)));I=va(Kr.body,yc,Zo,Jo)}}q.isString(gt)||(gt=gt?"include":"omit");const Wn="credentials"in Request.prototype;ht=new Request(M,oe(z({},un),{signal:Ot,method:$.toUpperCase(),headers:Ke.normalize().toJSON(),body:I,duplex:"half",credentials:Wn?gt:void 0}));let Cn=yield fetch(ht);const fr=Yi&&(Be==="stream"||Be==="response");if(Yi&&(Fe||fr&&at)){const Kr={};["status","statusText","headers"].forEach(vd=>{Kr[vd]=Cn[vd]});const ti=q.toFiniteNumber(Cn.headers.get("content-length")),[Zo,Jo]=Fe&&yn(ti,gs(Or(Fe),!0))||[];Cn=new Response(va(Cn.body,yc,Zo,()=>{Jo&&Jo(),at&&at()}),Kr)}Be=Be||"text";let Zi=yield Yo[q.findKey(Yo,Be)||"text"](Cn,E);return!fr&&at&&at(),yield new Promise((Kr,ti)=>{dr(Kr,ti,{data:Zi,headers:cs.from(Cn.headers),status:Cn.status,statusText:Cn.statusText,config:E,request:ht})})}catch(Wn){throw at&&at(),Wn&&Wn.name==="TypeError"&&/fetch/i.test(Wn.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,E,ht),{cause:Wn.cause||Wn}):Se.from(Wn,Wn&&Wn.code,E,ht)}}));const Xi={http:$e,xhr:km,fetch:bc};q.forEach(Xi,(E,M)=>{if(E){try{Object.defineProperty(E,"name",{value:M})}catch($){}Object.defineProperty(E,"adapterName",{value:M})}});const wa=E=>`- ${E}`,Qa=E=>q.isFunction(E)||E===null||E===!1;var vc={getAdapter:E=>{E=q.isArray(E)?E:[E];const{length:M}=E;let $,I;const ue={};for(let me=0;me<M;me++){$=E[me];let ve;if(I=$,!Qa($)&&(I=Xi[(ve=String($)).toLowerCase()],I===void 0))throw new Se(`Unknown adapter '${ve}'`);if(I)break;ue[ve||"#"+me]=I}if(!I){const me=Object.entries(ue).map(([Fe,dt])=>`adapter ${Fe} `+(dt===!1?"is not supported by the environment":"is not available in the build"));let ve=M?me.length>1?`since :
`+me.map(wa).join(`
`):" "+wa(me[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+ve,"ERR_NOT_SUPPORT")}return I},adapters:Xi};function Gi(E){if(E.cancelToken&&E.cancelToken.throwIfRequested(),E.signal&&E.signal.aborted)throw new _s(null,E)}function wc(E){return Gi(E),E.headers=cs.from(E.headers),E.data=cr.call(E,E.transformRequest),["post","put","patch"].indexOf(E.method)!==-1&&E.headers.setContentType("application/x-www-form-urlencoded",!1),vc.getAdapter(E.adapter||lt.adapter)(E).then(function(M){return Gi(E),M.data=cr.call(E,E.transformResponse,M),M.headers=cs.from(M.headers),M},function(M){return ur(M)||(Gi(E),M&&M.response&&(M.response.data=cr.call(E,E.transformResponse,M.response),M.response.headers=cs.from(M.response.headers))),Promise.reject(M)})}const Za="1.8.2",Ps={};["object","boolean","number","function","string","symbol"].forEach((E,M)=>{Ps[E]=function($){return typeof $===E||"a"+(M<1?"n ":" ")+E}});const Go={};Ps.transitional=function(E,M,$){function I(ue,me){return"[Axios v"+Za+"] Transitional option '"+ue+"'"+me+($?". "+$:"")}return(ue,me,ve)=>{if(E===!1)throw new Se(I(me," has been removed"+(M?" in "+M:"")),Se.ERR_DEPRECATED);return M&&!Go[me]&&(Go[me]=!0,console.warn(I(me," has been deprecated since v"+M+" and will be removed in the near future"))),E?E(ue,me,ve):!0}},Ps.spelling=function(E){return(M,$)=>(console.warn(`${$} is likely a misspelling of ${E}`),!0)};function Ki(E,M,$){if(typeof E!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const I=Object.keys(E);let ue=I.length;for(;ue-- >0;){const me=I[ue],ve=M[me];if(ve){const Fe=E[me],dt=Fe===void 0||ve(Fe,me,E);if(dt!==!0)throw new Se("option "+me+" must be "+dt,Se.ERR_BAD_OPTION_VALUE);continue}if($!==!0)throw new Se("Unknown option "+me,Se.ERR_BAD_OPTION)}}var Ys={assertOptions:Ki,validators:Ps};const Ls=Ys.validators;class _a{constructor(M){this.defaults=M,this.interceptors={request:new Le,response:new Le}}request(M,$){return ge(this,null,function*(){try{return yield this._request(M,$)}catch(I){if(I instanceof Error){let ue={};Error.captureStackTrace?Error.captureStackTrace(ue):ue=new Error;const me=ue.stack?ue.stack.replace(/^.+\n/,""):"";try{I.stack?me&&!String(I.stack).endsWith(me.replace(/^.+\n.+\n/,""))&&(I.stack+=`
`+me):I.stack=me}catch(ve){}}throw I}})}_request(M,$){typeof M=="string"?($=$||{},$.url=M):$=M||{},$=Gr(this.defaults,$);const{transitional:I,paramsSerializer:ue,headers:me}=$;I!==void 0&&Ys.assertOptions(I,{silentJSONParsing:Ls.transitional(Ls.boolean),forcedJSONParsing:Ls.transitional(Ls.boolean),clarifyTimeoutError:Ls.transitional(Ls.boolean)},!1),ue!=null&&(q.isFunction(ue)?$.paramsSerializer={serialize:ue}:Ys.assertOptions(ue,{encode:Ls.function,serialize:Ls.function},!0)),$.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?$.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:$.allowAbsoluteUrls=!0),Ys.assertOptions($,{baseUrl:Ls.spelling("baseURL"),withXsrfToken:Ls.spelling("withXSRFToken")},!0),$.method=($.method||this.defaults.method||"get").toLowerCase();let ve=me&&q.merge(me.common,me[$.method]);me&&q.forEach(["delete","get","head","post","put","patch","common"],ht=>{delete me[ht]}),$.headers=cs.concat(ve,me);const Fe=[];let dt=!0;this.interceptors.request.forEach(function(ht){typeof ht.runWhen=="function"&&ht.runWhen($)===!1||(dt=dt&&ht.synchronous,Fe.unshift(ht.fulfilled,ht.rejected))});const Be=[];this.interceptors.response.forEach(function(ht){Be.push(ht.fulfilled,ht.rejected)});let Ke,gt=0,un;if(!dt){const ht=[wc.bind(this),void 0];for(ht.unshift.apply(ht,Fe),ht.push.apply(ht,Be),un=ht.length,Ke=Promise.resolve($);gt<un;)Ke=Ke.then(ht[gt++],ht[gt++]);return Ke}un=Fe.length;let Ot=$;for(gt=0;gt<un;){const ht=Fe[gt++],at=Fe[gt++];try{Ot=ht(Ot)}catch(us){at.call(this,us);break}}try{Ke=wc.call(this,Ot)}catch(ht){return Promise.reject(ht)}for(gt=0,un=Be.length;gt<un;)Ke=Ke.then(Be[gt++],Be[gt++]);return Ke}getUri(M){M=Gr(this.defaults,M);const $=pd(M.baseURL,M.url,M.allowAbsoluteUrls);return Ee($,M.params,M.paramsSerializer)}}q.forEach(["delete","get","head","options"],function(E){_a.prototype[E]=function(M,$){return this.request(Gr($||{},{method:E,url:M,data:($||{}).data}))}}),q.forEach(["post","put","patch"],function(E){function M($){return function(I,ue,me){return this.request(Gr(me||{},{method:E,headers:$?{"Content-Type":"multipart/form-data"}:{},url:I,data:ue}))}}_a.prototype[E]=M(),_a.prototype[E+"Form"]=M(!0)});var Qi=_a;class Ja{constructor(M){if(typeof M!="function")throw new TypeError("executor must be a function.");let $;this.promise=new Promise(function(ue){$=ue});const I=this;this.promise.then(ue=>{if(!I._listeners)return;let me=I._listeners.length;for(;me-- >0;)I._listeners[me](ue);I._listeners=null}),this.promise.then=ue=>{let me;const ve=new Promise(Fe=>{I.subscribe(Fe),me=Fe}).then(ue);return ve.cancel=function(){I.unsubscribe(me)},ve},M(function(ue,me,ve){I.reason||(I.reason=new _s(ue,me,ve),$(I.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(M){if(this.reason){M(this.reason);return}this._listeners?this._listeners.push(M):this._listeners=[M]}unsubscribe(M){if(!this._listeners)return;const $=this._listeners.indexOf(M);$!==-1&&this._listeners.splice($,1)}toAbortSignal(){const M=new AbortController,$=I=>{M.abort(I)};return this.subscribe($),M.signal.unsubscribe=()=>this.unsubscribe($),M.signal}static source(){let M;return{token:new Ja(function($){M=$}),cancel:M}}}var Ko=Ja;function bd(E){return function(M){return E.apply(null,M)}}function js(E){return q.isObject(E)&&E.isAxiosError===!0}const Ar={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ar).forEach(([E,M])=>{Ar[M]=E});var Qo=Ar;function ei(E){const M=new Qi(E),$=e(Qi.prototype.request,M);return q.extend($,Qi.prototype,M,{allOwnKeys:!0}),q.extend($,M,null,{allOwnKeys:!0}),$.create=function(I){return ei(Gr(E,I))},$}const Ln=ei(lt);return Ln.Axios=Qi,Ln.CanceledError=_s,Ln.CancelToken=Ko,Ln.isCancel=ur,Ln.VERSION=Za,Ln.toFormData=sn,Ln.AxiosError=Se,Ln.Cancel=Ln.CanceledError,Ln.all=function(E){return Promise.all(E)},Ln.spread=bd,Ln.isAxiosError=js,Ln.mergeConfig=Gr,Ln.AxiosHeaders=cs,Ln.formToJSON=E=>rt(q.isHTMLForm(E)?new FormData(E):E),Ln.getAdapter=vc.getAdapter,Ln.HttpStatusCode=Qo,Ln.default=Ln,Ag=Ln,Ag}var P_;function YS(){if(P_)return La;P_=1;var e=La&&La.__assign||function(){return e=Object.assign||function(a){for(var i,c=1,d=arguments.length;c<d;c++){i=arguments[c];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(a[f]=i[f])}return a},e.apply(this,arguments)};Object.defineProperty(La,"__esModule",{value:!0}),La.getRequestHeaders=La.getAxiosClient=void 0;var t=LO();function n(a,i,c,d,f){var h=t.default.create({baseURL:a,headers:s(i,d,c,a,f),withCredentials:!0});return h.interceptors.request.use(function(p){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(p.headers["X-Frappe-CSRF-Token"]=window.csrf_token),i&&d&&c&&(p.headers.Authorization="".concat(d," ").concat(c())),p}),h}La.getAxiosClient=n;function s(a,i,c,d,f){a===void 0&&(a=!1);var h={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return a&&i&&c&&(h.Authorization="".concat(i," ").concat(c())),typeof window<"u"&&typeof document<"u"&&(window.location&&(d&&d!==window.location.origin||(h["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(h["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},h),f!=null?f:{})}return La.getRequestHeaders=s,La}var L_;function XS(){if(L_)return zr;L_=1;var e=zr&&zr.__assign||function(){return e=Object.assign||function(i){for(var c,d=1,f=arguments.length;d<f;d++){c=arguments[d];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(i[h]=c[h])}return i},e.apply(this,arguments)},t=zr&&zr.__awaiter||function(i,c,d,f){function h(p){return p instanceof d?p:new d(function(g){g(p)})}return new(d||(d=Promise))(function(p,g){function b(w){try{_(f.next(w))}catch(N){g(N)}}function y(w){try{_(f.throw(w))}catch(N){g(N)}}function _(w){w.done?p(w.value):h(w.value).then(b,y)}_((f=f.apply(i,c||[])).next())})},n=zr&&zr.__generator||function(i,c){var d={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},f,h,p,g;return g={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function b(_){return function(w){return y([_,w])}}function y(_){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,_[0]&&(d=0)),d;)try{if(f=1,h&&(p=_[0]&2?h.return:_[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,_[1])).done)return p;switch(h=0,p&&(_=[_[0]&2,p.value]),_[0]){case 0:case 1:p=_;break;case 4:return d.label++,{value:_[1],done:!1};case 5:d.label++,h=_[1],_=[0];continue;case 7:_=d.ops.pop(),d.trys.pop();continue;default:if(p=d.trys,!(p=p.length>0&&p[p.length-1])&&(_[0]===6||_[0]===2)){d=0;continue}if(_[0]===3&&(!p||_[1]>p[0]&&_[1]<p[3])){d.label=_[1];break}if(_[0]===6&&d.label<p[1]){d.label=p[1],p=_;break}if(p&&d.label<p[2]){d.label=p[2],d.ops.push(_);break}p[2]&&d.ops.pop(),d.trys.pop();continue}_=c.call(i,d)}catch(w){_=[6,w],h=0}finally{f=p=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}};Object.defineProperty(zr,"__esModule",{value:!0}),zr.FrappeFileUpload=void 0;var s=YS(),a=function(){function i(c,d,f,h,p,g){this.appURL=c,this.axios=d,this.useToken=f!=null?f:!1,this.token=h,this.tokenType=p,this.customHeaders=g}return i.prototype.uploadFile=function(c,d,f,h){return h===void 0&&(h="upload_file"),t(this,void 0,void 0,function(){var p,g,b,y,_,w,N,S;return n(this,function(D){return p=new FormData,c&&p.append("file",c,c.name),g=d.isPrivate,b=d.folder,y=d.file_url,_=d.doctype,w=d.docname,N=d.fieldname,S=d.otherData,g&&p.append("is_private","1"),b&&p.append("folder",b),y&&p.append("file_url",y),_&&w&&(p.append("doctype",_),p.append("docname",w),N&&p.append("fieldname",N)),S&&Object.keys(S).forEach(function(A){var C=S[A];p.append(A,C)}),[2,this.axios.post("/api/method/".concat(h),p,{onUploadProgress:function(A){f&&f(A.loaded,A.total,A)},headers:e(e({},(0,s.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(A){var C,k;throw e(e({},A.response.data),{httpStatus:A.response.status,httpStatusText:A.response.statusText,message:(C=A.response.data.message)!==null&&C!==void 0?C:"There was an error while uploading the file.",exception:(k=A.response.data.exception)!==null&&k!==void 0?k:""})})]})})},i}();return zr.FrappeFileUpload=a,zr}var z_;function zO(){if(z_)return fu;z_=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.FrappeApp=void 0;var e=GS(),t=qS(),n=WS(),s=XS(),a=YS(),i=function(){function c(d,f,h,p){var g,b;this.url=d,this.name=h!=null?h:"FrappeApp",this.useToken=(g=f==null?void 0:f.useToken)!==null&&g!==void 0?g:!1,this.token=f==null?void 0:f.token,this.tokenType=(b=f==null?void 0:f.type)!==null&&b!==void 0?b:"Bearer",this.customHeaders=p,this.axios=(0,a.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return c.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},c.prototype.db=function(){return new n.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},c.prototype.file=function(){return new s.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},c.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},c}();return fu.FrappeApp=i,fu}var Ur={},U_;function UO(){if(U_)return Ur;U_=1;var e=Ur&&Ur.__assign||function(){return e=Object.assign||function(a){for(var i,c=1,d=arguments.length;c<d;c++){i=arguments[c];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(a[f]=i[f])}return a},e.apply(this,arguments)},t=Ur&&Ur.__awaiter||function(a,i,c,d){function f(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function g(_){try{y(d.next(_))}catch(w){p(w)}}function b(_){try{y(d.throw(_))}catch(w){p(w)}}function y(_){_.done?h(_.value):f(_.value).then(g,b)}y((d=d.apply(a,i||[])).next())})},n=Ur&&Ur.__generator||function(a,i){var c={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(_){return b([y,_])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(c=0)),c;)try{if(d=1,f&&(h=y[0]&2?f.return:y[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,y[1])).done)return h;switch(f=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return c.label++,{value:y[1],done:!1};case 5:c.label++,f=y[1],y=[0];continue;case 7:y=c.ops.pop(),c.trys.pop();continue;default:if(h=c.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){c=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){c.label=y[1];break}if(y[0]===6&&c.label<h[1]){c.label=h[1],h=y;break}if(h&&c.label<h[2]){c.label=h[2],c.ops.push(y);break}h[2]&&c.ops.pop(),c.trys.pop();continue}y=i.call(a,c)}catch(_){y=[6,_],f=0}finally{d=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.FrappeAuth=void 0;var s=function(){function a(i,c,d,f,h){this.appURL=i,this.axios=c,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.loginWithUsernamePassword=function(i){return t(this,void 0,void 0,function(){return n(this,function(c){return[2,this.axios.post("/api/method/login",{usr:i.username,pwd:i.password,otp:i.otp,tmp_id:i.tmp_id,device:i.device}).then(function(d){return d.data}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(f=d.response.data.message)!==null&&f!==void 0?f:"There was an error while logging in",exception:(h=d.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return n(this,function(i){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(c){return c.data.message}).catch(function(c){var d;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:"There was an error while fetching the logged in user",exception:(d=c.response.data.exception)!==null&&d!==void 0?d:""})})]})})},a.prototype.logout=function(){return t(this,void 0,void 0,function(){return n(this,function(i){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(c){var d,f;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:(d=c.response.data.message)!==null&&d!==void 0?d:"There was an error while logging out",exception:(f=c.response.data.exception)!==null&&f!==void 0?f:""})})]})})},a.prototype.forgetPassword=function(i){return t(this,void 0,void 0,function(){return n(this,function(c){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:i}).then(function(){}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(f=d.response.data.message)!==null&&f!==void 0?f:"There was an error sending password reset email.",exception:(h=d.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a}();return Ur.FrappeAuth=s,Ur}var F_;function GS(){return F_||(F_=1,function(e){var t=Ol&&Ol.__createBinding||(Object.create?function(s,a,i,c){c===void 0&&(c=i);var d=Object.getOwnPropertyDescriptor(a,i);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(s,c,d)}:function(s,a,i,c){c===void 0&&(c=i),s[c]=a[i]}),n=Ol&&Ol.__exportStar||function(s,a){for(var i in s)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,s,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(zO(),e),n(UO(),e),n(WS(),e),n(XS(),e),n(qS(),e)}(Ol)),Ol}var FO=GS(),B_={exports:{}},Dg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function BO(){if($_)return Dg;$_=1;var e=se;function t(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,i=e.useLayoutEffect,c=e.useDebugValue;function d(g,b){var y=b(),_=s({inst:{value:y,getSnapshot:b}}),w=_[0].inst,N=_[1];return i(function(){w.value=y,w.getSnapshot=b,f(w)&&N({inst:w})},[g,y,b]),a(function(){return f(w)&&N({inst:w}),g(function(){f(w)&&N({inst:w})})},[g]),c(y),y}function f(g){var b=g.getSnapshot;g=g.value;try{var y=b();return!n(g,y)}catch(_){return!0}}function h(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Dg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Dg}var H_;function $O(){return H_||(H_=1,B_.exports=BO()),B_.exports}var HO=$O();const KS=0,QS=1,ZS=2,V_=3;var I_=Object.prototype.hasOwnProperty;function C0(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&C0(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(I_.call(e,n)&&++s&&!I_.call(t,n)||!(n in t)||!C0(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const Ia=new WeakMap,Ci=()=>{},Ts=Ci(),Ch=Object,Zt=e=>e===Ts,Br=e=>typeof e=="function",Wa=(e,t)=>z(z({},e),t),JS=e=>Br(e.then),Rg={},jf={},Cx="undefined",Ju=typeof window!=Cx,k0=typeof document!=Cx,VO=Ju&&"Deno"in window,IO=()=>Ju&&typeof window.requestAnimationFrame!=Cx,eN=(e,t)=>{const n=Ia.get(e);return[()=>!Zt(t)&&e.get(t)||Rg,s=>{if(!Zt(t)){const a=e.get(t);t in jf||(jf[t]=a),n[5](t,Wa(a,s),a||Rg)}},n[6],()=>!Zt(t)&&t in jf?jf[t]:!Zt(t)&&e.get(t)||Rg]};let O0=!0;const qO=()=>O0,[A0,D0]=Ju&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ci,Ci],WO=()=>{const e=k0&&document.visibilityState;return Zt(e)||e!=="hidden"},YO=e=>(k0&&document.addEventListener("visibilitychange",e),A0("focus",e),()=>{k0&&document.removeEventListener("visibilitychange",e),D0("focus",e)}),XO=e=>{const t=()=>{O0=!0,e()},n=()=>{O0=!1};return A0("online",t),A0("offline",n),()=>{D0("online",t),D0("offline",n)}},GO={isOnline:qO,isVisible:WO},KO={initFocus:YO,initReconnect:XO},q_=!se.useId,Hu=!Ju||VO,QO=e=>IO()?window.requestAnimationFrame(e):setTimeout(e,1),ch=Hu?j.useEffect:j.useLayoutEffect,Mg=typeof navigator<"u"&&navigator.connection,W_=!Hu&&Mg&&(["slow-2g","2g"].includes(Mg.effectiveType)||Mg.saveData),Sf=new WeakMap,Pg=(e,t)=>Ch.prototype.toString.call(e)===`[object ${t}]`;let ZO=0;const R0=e=>{const t=typeof e,n=Pg(e,"Date"),s=Pg(e,"RegExp"),a=Pg(e,"Object");let i,c;if(Ch(e)===e&&!n&&!s){if(i=Sf.get(e),i)return i;if(i=++ZO+"~",Sf.set(e,i),Array.isArray(e)){for(i="@",c=0;c<e.length;c++)i+=R0(e[c])+",";Sf.set(e,i)}if(a){i="#";const d=Ch.keys(e).sort();for(;!Zt(c=d.pop());)Zt(e[c])||(i+=c+":"+R0(e[c])+",");Sf.set(e,i)}}else i=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return i},kx=e=>{if(Br(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?R0(e):"",[e,t]};let JO=0;const M0=()=>++JO;function tN(...e){return ge(this,null,function*(){const[t,n,s,a]=e,i=Wa({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let c=i.populateCache;const d=i.rollbackOnError;let f=i.optimisticData;const h=b=>typeof d=="function"?d(b):d!==!1,p=i.throwOnError;if(Br(n)){const b=n,y=[],_=t.keys();for(const w of _)!/^\$(inf|sub)\$/.test(w)&&b(t.get(w)._k)&&y.push(w);return Promise.all(y.map(g))}return g(n);function g(b){return ge(this,null,function*(){const[y]=kx(b);if(!y)return;const[_,w]=eN(t,y),[N,S,D,A]=Ia.get(t),C=()=>{const Y=N[y];return(Br(i.revalidate)?i.revalidate(_().data,b):i.revalidate!==!1)&&(delete D[y],delete A[y],Y&&Y[0])?Y[0](ZS).then(()=>_().data):_().data};if(e.length<3)return C();let k=s,T;const R=M0();S[y]=[R,0];const P=!Zt(f),U=_(),X=U.data,H=U._c,K=Zt(H)?X:H;if(P&&(f=Br(f)?f(K,X):f,w({data:f,_c:K})),Br(k))try{k=k(K)}catch(Y){T=Y}if(k&&JS(k))if(k=yield k.catch(Y=>{T=Y}),R!==S[y][0]){if(T)throw T;return k}else T&&P&&h(T)&&(c=!0,w({data:K,_c:Ts}));if(c&&!T)if(Br(c)){const Y=c(k,K);w({data:Y,error:Ts,_c:Ts})}else w({data:k,error:Ts,_c:Ts});if(S[y][1]=M0(),Promise.resolve(C()).then(()=>{w({_c:Ts})}),T){if(p)throw T;return}return k})}})}const Y_=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},nN=(e,t)=>{if(!Ia.has(e)){const n=Wa(KO,t),s=Object.create(null),a=tN.bind(Ts,e);let i=Ci;const c=Object.create(null),d=(p,g)=>{const b=c[p]||[];return c[p]=b,b.push(g),()=>b.splice(b.indexOf(g),1)},f=(p,g,b)=>{e.set(p,g);const y=c[p];if(y)for(const _ of y)_(g,b)},h=()=>{if(!Ia.has(e)&&(Ia.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,f,d]),!Hu)){const p=n.initFocus(setTimeout.bind(Ts,Y_.bind(Ts,s,KS))),g=n.initReconnect(setTimeout.bind(Ts,Y_.bind(Ts,s,QS)));i=()=>{p&&p(),g&&g(),Ia.delete(e)}}};return h(),[e,a,h,i]}return[e,Ia.get(e)[4]]},eA=(e,t,n,s,a)=>{const i=n.errorRetryCount,c=a.retryCount,d=~~((Math.random()+.5)*(1<<(c<8?c:8)))*n.errorRetryInterval;!Zt(i)&&c>i||setTimeout(s,d,a)},tA=C0,[Ox,nA]=nN(new Map),sN=Wa({onLoadingSlow:Ci,onSuccess:Ci,onError:Ci,onErrorRetry:eA,onDiscarded:Ci,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:W_?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:W_?5e3:3e3,compare:tA,isPaused:()=>!1,cache:Ox,mutate:nA,fallback:{}},GO),rN=(e,t)=>{const n=Wa(e,t);if(t){const{use:s,fallback:a}=e,{use:i,fallback:c}=t;s&&i&&(n.use=s.concat(i)),a&&c&&(n.fallback=Wa(a,c))}return n},P0=j.createContext({}),sA=e=>{const{value:t}=e,n=j.useContext(P0),s=Br(t),a=j.useMemo(()=>s?t(n):t,[s,n,t]),i=j.useMemo(()=>s?a:rN(n,a),[s,n,a]),c=a&&a.provider,d=j.useRef(Ts);c&&!d.current&&(d.current=nN(c(i.cache||Ox),a));const f=d.current;return f&&(i.cache=f[0],i.mutate=f[1]),ch(()=>{if(f)return f[2]&&f[2](),f[3]},[]),j.createElement(P0.Provider,Wa(e,{value:i}))},rA="$inf$",aN=Ju&&window.__SWR_DEVTOOLS_USE__,aA=aN?window.__SWR_DEVTOOLS_USE__:[],iA=()=>{aN&&(window.__SWR_DEVTOOLS_REACT__=se)},oA=e=>Br(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],lA=()=>Wa(sN,j.useContext(P0)),cA=e=>(t,n,s)=>e(t,n&&((...a)=>{const[i]=kx(t),[,,,c]=Ia.get(Ox);if(i.startsWith(rA))return n(...a);const d=c[i];return Zt(d)?n(...a):(delete c[i],d)}),s),uA=aA.concat(cA),dA=e=>function(...t){const n=lA(),[s,a,i]=oA(t),c=rN(n,i);let d=e;const{use:f}=c,h=(f||[]).concat(uA);for(let p=h.length;p--;)d=h[p](d);return d(s,a||c.fetcher||null,c)},fA=(e,t,n)=>{const s=t[e]||(t[e]=[]);return s.push(n),()=>{const a=s.indexOf(n);a>=0&&(s[a]=s[s.length-1],s.pop())}};iA();const Lg=se.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),zg={dedupe:!0},hA=(e,t,n)=>{const{cache:s,compare:a,suspense:i,fallbackData:c,revalidateOnMount:d,revalidateIfStale:f,refreshInterval:h,refreshWhenHidden:p,refreshWhenOffline:g,keepPreviousData:b}=n,[y,_,w,N]=Ia.get(s),[S,D]=kx(e),A=j.useRef(!1),C=j.useRef(!1),k=j.useRef(S),T=j.useRef(t),R=j.useRef(n),P=()=>R.current,U=()=>P().isVisible()&&P().isOnline(),[X,H,K,Y]=eN(s,S),te=j.useRef({}).current,W=Zt(c)?Zt(n.fallback)?Ts:n.fallback[S]:c,V=(Ze,st)=>{for(const Pe in te){const Tt=Pe;if(Tt==="data"){if(!a(Ze[Tt],st[Tt])&&(!Zt(Ze[Tt])||!a(ye,st[Tt])))return!1}else if(st[Tt]!==Ze[Tt])return!1}return!0},Q=j.useMemo(()=>{const Ze=!S||!t?!1:Zt(d)?P().isPaused()||i?!1:f!==!1:d,st=jt=>{const G=Wa(jt);return delete G._k,Ze?z({isValidating:!0,isLoading:!0},G):G},Pe=X(),Tt=Y(),Yt=st(Pe),Nt=Pe===Tt?Yt:st(Tt);let it=Yt;return[()=>{const jt=st(X());return V(jt,it)?(it.data=jt.data,it.isLoading=jt.isLoading,it.isValidating=jt.isValidating,it.error=jt.error,it):(it=jt,jt)},()=>Nt]},[s,S]),ee=HO.useSyncExternalStore(j.useCallback(Ze=>K(S,(st,Pe)=>{V(Pe,st)||Ze()}),[s,S]),Q[0],Q[1]),ce=!A.current,L=y[S]&&y[S].length>0,le=ee.data,re=Zt(le)?W&&JS(W)?Lg(W):W:le,B=ee.error,ne=j.useRef(re),ye=b?Zt(le)?Zt(ne.current)?re:ne.current:le:re,he=L&&!Zt(B)?!1:ce&&!Zt(d)?d:P().isPaused()?!1:i?Zt(re)?!1:f:Zt(re)||f,Ce=!!(S&&t&&ce&&he),ke=Zt(ee.isValidating)?Ce:ee.isValidating,We=Zt(ee.isLoading)?Ce:ee.isLoading,Ue=j.useCallback(Ze=>ge(null,null,function*(){const st=T.current;if(!S||!st||C.current||P().isPaused())return!1;let Pe,Tt,Yt=!0;const Nt=Ze||{},it=!w[S]||!Nt.dedupe,jt=()=>q_?!C.current&&S===k.current&&A.current:S===k.current,G={isValidating:!1,isLoading:!1},de=()=>{H(G)},q=()=>{const Me=w[S];Me&&Me[1]===Tt&&delete w[S]},Se={isValidating:!0};Zt(X().data)&&(Se.isLoading=!0);try{if(it&&(H(Se),n.loadingTimeout&&Zt(X().data)&&setTimeout(()=>{Yt&&jt()&&P().onLoadingSlow(S,n)},n.loadingTimeout),w[S]=[st(D),M0()]),[Pe,Tt]=w[S],Pe=yield Pe,it&&setTimeout(q,n.dedupingInterval),!w[S]||w[S][1]!==Tt)return it&&jt()&&P().onDiscarded(S),!1;G.error=Ts;const Me=_[S];if(!Zt(Me)&&(Tt<=Me[0]||Tt<=Me[1]||Me[1]===0))return de(),it&&jt()&&P().onDiscarded(S),!1;const Re=X().data;G.data=a(Re,Pe)?Re:Pe,it&&jt()&&P().onSuccess(Pe,S,n)}catch(Me){q();const Re=P(),{shouldRetryOnError:$e}=Re;Re.isPaused()||(G.error=Me,it&&jt()&&(Re.onError(Me,S,Re),($e===!0||Br($e)&&$e(Me))&&(!P().revalidateOnFocus||!P().revalidateOnReconnect||U())&&Re.onErrorRetry(Me,S,Re,Xe=>{const Qe=y[S];Qe&&Qe[0]&&Qe[0](V_,Xe)},{retryCount:(Nt.retryCount||0)+1,dedupe:!0})))}return Yt=!1,de(),!0}),[S,s]),qe=j.useCallback((...Ze)=>tN(s,k.current,...Ze),[]);if(ch(()=>{T.current=t,R.current=n,Zt(le)||(ne.current=le)}),ch(()=>{if(!S)return;const Ze=Ue.bind(Ts,zg);let st=0;P().revalidateOnFocus&&(st=Date.now()+P().focusThrottleInterval);const Pe=fA(S,y,(Tt,Yt={})=>{if(Tt==KS){const Nt=Date.now();P().revalidateOnFocus&&Nt>st&&U()&&(st=Nt+P().focusThrottleInterval,Ze())}else if(Tt==QS)P().revalidateOnReconnect&&U()&&Ze();else{if(Tt==ZS)return Ue();if(Tt==V_)return Ue(Yt)}});return C.current=!1,k.current=S,A.current=!0,H({_k:D}),he&&(Zt(re)||Hu?Ze():QO(Ze)),()=>{C.current=!0,Pe()}},[S]),ch(()=>{let Ze;function st(){const Tt=Br(h)?h(X().data):h;Tt&&Ze!==-1&&(Ze=setTimeout(Pe,Tt))}function Pe(){!X().error&&(p||P().isVisible())&&(g||P().isOnline())?Ue(zg).then(st):st()}return st(),()=>{Ze&&(clearTimeout(Ze),Ze=-1)}},[h,p,g,S]),j.useDebugValue(ye),i&&Zt(re)&&S){if(!q_&&Hu)throw new Error("Fallback data is required when using Suspense in SSR.");T.current=t,R.current=n,C.current=!1;const Ze=N[S];if(!Zt(Ze)){const st=qe(Ze);Lg(st)}if(Zt(B)){const st=Ue(zg);Zt(ye)||(st.status="fulfilled",st.value=!0),Lg(st)}else throw B}return{mutate:qe,get data(){return te.data=!0,ye},get error(){return te.error=!0,B},get isValidating(){return te.isValidating=!0,ke},get isLoading(){return te.isLoading=!0,We}}},mA=Ch.defineProperty(sA,"defaultValue",{value:sN}),sm=dA(hA);Promise.resolve();const ha=Object.create(null);ha.open="0";ha.close="1";ha.ping="2";ha.pong="3";ha.message="4";ha.upgrade="5";ha.noop="6";const uh=Object.create(null);Object.keys(ha).forEach(e=>{uh[ha[e]]=e});const L0={type:"error",data:"parser error"},iN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",oN=typeof ArrayBuffer=="function",lN=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ax=({type:e,data:t},n,s)=>iN&&t instanceof Blob?n?s(t):X_(t,s):oN&&(t instanceof ArrayBuffer||lN(t))?n?s(t):X_(new Blob([t]),s):s(ha[e]+(t||"")),X_=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function G_(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Ug;function pA(e,t){if(iN&&e.data instanceof Blob)return e.data.arrayBuffer().then(G_).then(t);if(oN&&(e.data instanceof ArrayBuffer||lN(e.data)))return t(G_(e.data));Ax(e,!1,n=>{Ug||(Ug=new TextEncoder),t(Ug.encode(n))})}const K_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ku=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<K_.length;e++)ku[K_.charCodeAt(e)]=e;const gA=e=>{let t=e.length*.75,n=e.length,s,a=0,i,c,d,f;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),p=new Uint8Array(h);for(s=0;s<n;s+=4)i=ku[e.charCodeAt(s)],c=ku[e.charCodeAt(s+1)],d=ku[e.charCodeAt(s+2)],f=ku[e.charCodeAt(s+3)],p[a++]=i<<2|c>>4,p[a++]=(c&15)<<4|d>>2,p[a++]=(d&3)<<6|f&63;return h},xA=typeof ArrayBuffer=="function",Dx=(e,t)=>{if(typeof e!="string")return{type:"message",data:cN(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:yA(e.substring(1),t)}:uh[n]?e.length>1?{type:uh[n],data:e.substring(1)}:{type:uh[n]}:L0},yA=(e,t)=>{if(xA){const n=gA(e);return cN(n,t)}else return{base64:!0,data:e}},cN=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},uN="",bA=(e,t)=>{const n=e.length,s=new Array(n);let a=0;e.forEach((i,c)=>{Ax(i,!1,d=>{s[c]=d,++a===n&&t(s.join(uN))})})},vA=(e,t)=>{const n=e.split(uN),s=[];for(let a=0;a<n.length;a++){const i=Dx(n[a],t);if(s.push(i),i.type==="error")break}return s};function wA(){return new TransformStream({transform(e,t){pA(e,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,s)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let Fg;function Nf(e){return e.reduce((t,n)=>t+n.length,0)}function Ef(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let a=0;a<t;a++)n[a]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function _A(e,t){Fg||(Fg=new TextDecoder);const n=[];let s=0,a=-1,i=!1;return new TransformStream({transform(c,d){for(n.push(c);;){if(s===0){if(Nf(n)<1)break;const f=Ef(n,1);i=(f[0]&128)===128,a=f[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(Nf(n)<2)break;const f=Ef(n,2);a=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),s=3}else if(s===2){if(Nf(n)<8)break;const f=Ef(n,8),h=new DataView(f.buffer,f.byteOffset,f.length),p=h.getUint32(0);if(p>Math.pow(2,21)-1){d.enqueue(L0);break}a=p*Math.pow(2,32)+h.getUint32(4),s=3}else{if(Nf(n)<a)break;const f=Ef(n,a);d.enqueue(Dx(i?f:Fg.decode(f),t)),s=0}if(a===0||a>e){d.enqueue(L0);break}}}})}const dN=4;function Qn(e){if(e)return jA(e)}function jA(e){for(var t in Qn.prototype)e[t]=Qn.prototype[t];return e}Qn.prototype.on=Qn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Qn.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Qn.prototype.off=Qn.prototype.removeListener=Qn.prototype.removeAllListeners=Qn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===t||s.fn===t){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Qn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,t)}return this};Qn.prototype.emitReserved=Qn.prototype.emit;Qn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Qn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const jr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function fN(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const SA=jr.setTimeout,NA=jr.clearTimeout;function rm(e,t){t.useNativeTimers?(e.setTimeoutFn=SA.bind(jr),e.clearTimeoutFn=NA.bind(jr)):(e.setTimeoutFn=jr.setTimeout.bind(jr),e.clearTimeoutFn=jr.clearTimeout.bind(jr))}const EA=1.33;function TA(e){return typeof e=="string"?CA(e):Math.ceil((e.byteLength||e.size)*EA)}function CA(e){let t=0,n=0;for(let s=0,a=e.length;s<a;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function kA(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function OA(e){let t={},n=e.split("&");for(let s=0,a=n.length;s<a;s++){let i=n[s].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class AA extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class Rx extends Qn{constructor(t){super(),this.writable=!1,rm(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,s){return super.emitReserved("error",new AA(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Dx(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=kA(t);return n.length?"?"+n:""}}const hN="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),z0=64,DA={};let Q_=0,Tf=0,Z_;function J_(e){let t="";do t=hN[e%z0]+t,e=Math.floor(e/z0);while(e>0);return t}function mN(){const e=J_(+new Date);return e!==Z_?(Q_=0,Z_=e):e+"."+J_(Q_++)}for(;Tf<z0;Tf++)DA[hN[Tf]]=Tf;let pN=!1;try{pN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const RA=pN;function gN(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||RA))return new XMLHttpRequest}catch(n){}if(!t)try{return new jr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(n){}}function MA(){}const PA=function(){return new gN({xdomain:!1}).responseType!=null}();class LA extends Rx{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}const n=t&&t.forceBase64;this.supportsBinary=PA&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};vA(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,bA(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=mN()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Il(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}let Il=class dh extends Qn{constructor(t,n){super(),rm(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=fN(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const s=this.xhr=new gN(n);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this.opts.extraHeaders[a])}}catch(a){}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{s.setRequestHeader("Accept","*/*")}catch(a){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this.opts.cookieJar)===null||a===void 0||a.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(a){this.setTimeoutFn(()=>{this.onError(a)},0);return}typeof document<"u"&&(this.index=dh.requestsCount++,dh.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=MA,t)try{this.xhr.abort()}catch(n){}typeof document<"u"&&delete dh.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Il.requestsCount=0;Il.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ej);else if(typeof addEventListener=="function"){const e="onpagehide"in jr?"pagehide":"unload";addEventListener(e,ej,!1)}}function ej(){for(let e in Il.requests)Il.requests.hasOwnProperty(e)&&Il.requests[e].abort()}const Mx=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Cf=jr.WebSocket||jr.MozWebSocket,tj=!0,zA="arraybuffer",nj=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class UA extends Rx{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=nj?{}:fN(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=tj&&!nj?n?new Cf(t,n):new Cf(t):new Cf(t,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;Ax(s,this.supportsBinary,i=>{try{tj&&this.ws.send(i)}catch(c){}a&&Mx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=mN()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Cf}}class FA extends Rx{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=_A(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),a=wA();a.readable.pipeTo(t.writable),this.writer=a.writable.getWriter();const i=()=>{s.read().then(({done:d,value:f})=>{d||(this.onPacket(f),i())}).catch(d=>{})};i();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this.writer.write(c).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;this.writer.write(s).then(()=>{a&&Mx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const BA={websocket:UA,webtransport:FA,polling:LA},$A=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,HA=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function U0(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let a=$A.exec(e||""),i={},c=14;for(;c--;)i[HA[c]]=a[c]||"";return n!=-1&&s!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=VA(i,i.path),i.queryKey=IA(i,i.query),i}function VA(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function IA(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,i){a&&(n[a]=i)}),n}let xN=class Fl extends Qn{constructor(t,n={}){super(),this.binaryType=zA,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=U0(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=U0(n.host).host),rm(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=OA(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=dN,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new BA[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Fl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(n){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),s=!1;Fl.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!s)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Fl.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=n.name,this.emitReserved("upgradeError",b)}}))};function i(){s||(s=!0,p(),n.close(),n=null)}const c=g=>{const b=new Error("probe error: "+g);b.transport=n.name,i(),this.emitReserved("upgradeError",b)};function d(){c("transport closed")}function f(){c("socket closed")}function h(g){n&&g.name!==n.name&&i()}const p=()=>{n.removeListener("open",a),n.removeListener("error",c),n.removeListener("close",d),this.off("close",f),this.off("upgrading",h)};n.once("open",a),n.once("error",c),n.once("close",d),this.once("close",f),this.once("upgrading",h),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Fl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(t+=TA(s)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const i={type:t,data:n,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){Fl.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const a=t.length;for(;s<a;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}};xN.protocol=dN;function qA(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=U0(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const a=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+t,s.href=s.protocol+"://"+a+(n&&n.port===s.port?"":":"+s.port),s}const WA=typeof ArrayBuffer=="function",YA=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,yN=Object.prototype.toString,XA=typeof Blob=="function"||typeof Blob<"u"&&yN.call(Blob)==="[object BlobConstructor]",GA=typeof File=="function"||typeof File<"u"&&yN.call(File)==="[object FileConstructor]";function Px(e){return WA&&(e instanceof ArrayBuffer||YA(e))||XA&&e instanceof Blob||GA&&e instanceof File}function fh(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(fh(e[n]))return!0;return!1}if(Px(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return fh(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&fh(e[n]))return!0;return!1}function KA(e){const t=[],n=e.data,s=e;return s.data=F0(n,t),s.attachments=t.length,{packet:s,buffers:t}}function F0(e,t){if(!e)return e;if(Px(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=F0(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=F0(e[s],t));return n}return e}function QA(e,t){return e.data=B0(e.data,t),delete e.attachments,e}function B0(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=B0(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=B0(e[n],t));return e}const ZA=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],JA=5;var Xt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Xt||(Xt={}));class eD{constructor(t){this.replacer=t}encode(t){return(t.type===Xt.EVENT||t.type===Xt.ACK)&&fh(t)?this.encodeAsBinary({type:t.type===Xt.EVENT?Xt.BINARY_EVENT:Xt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Xt.BINARY_EVENT||t.type===Xt.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=KA(t),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}function sj(e){return Object.prototype.toString.call(e)==="[object Object]"}class Lx extends Qn{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===Xt.BINARY_EVENT;s||n.type===Xt.BINARY_ACK?(n.type=s?Xt.EVENT:Xt.ACK,this.reconstructor=new tD(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Px(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(Xt[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Xt.BINARY_EVENT||s.type===Xt.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const c=t.substring(i,n);if(c!=Number(c)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(c)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(i,n)}else s.nsp="/";const a=t.charAt(n+1);if(a!==""&&Number(a)==a){const i=n+1;for(;++n;){const c=t.charAt(n);if(c==null||Number(c)!=c){--n;break}if(n===t.length)break}s.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(Lx.isPayloadValid(s.type,i))s.data=i;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(n){return!1}}static isPayloadValid(t,n){switch(t){case Xt.CONNECT:return sj(n);case Xt.DISCONNECT:return n===void 0;case Xt.CONNECT_ERROR:return typeof n=="string"||sj(n);case Xt.EVENT:case Xt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&ZA.indexOf(n[0])===-1);case Xt.ACK:case Xt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class tD{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=QA(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const nD=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Lx,Encoder:eD,get PacketType(){return Xt},protocol:JA},Symbol.toStringTag,{value:"Module"}));function Fr(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const sD=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class bN extends Qn{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Fr(t,"open",this.onopen.bind(this)),Fr(t,"packet",this.onpacket.bind(this)),Fr(t,"error",this.onerror.bind(this)),Fr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(sD.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:Xt.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const i=this.ids++,c=n.pop();this._registerAckCallback(i,c),s.id=i}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},a);this.acks[t]=(...c)=>{this.io.clearTimeoutFn(i),n.apply(this,[null,...c])}}emitWithAck(t,...n){const s=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((a,i)=>{n.push((c,d)=>s?c?i(c):a(d):a(c)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...i)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...i)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Xt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Xt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Xt.EVENT:case Xt.BINARY_EVENT:this.onevent(t);break;case Xt.ACK:case Xt.BINARY_ACK:this.onack(t);break;case Xt.DISCONNECT:this.ondisconnect();break;case Xt.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:Xt.ACK,id:t,data:a}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Xt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function nc(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}nc.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};nc.prototype.reset=function(){this.attempts=0};nc.prototype.setMin=function(e){this.ms=e};nc.prototype.setMax=function(e){this.max=e};nc.prototype.setJitter=function(e){this.jitter=e};class $0 extends Qn{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,rm(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new nc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const a=n.parser||nD;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new xN(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=Fr(n,"open",function(){s.onopen(),t&&t()}),i=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),t?t(d):this.maybeReconnectOnOpen()},c=Fr(n,"error",i);if(this._timeout!==!1){const d=this._timeout,f=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),n.close()},d);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(a),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Fr(t,"ping",this.onping.bind(this)),Fr(t,"data",this.ondata.bind(this)),Fr(t,"error",this.onerror.bind(this)),Fr(t,"close",this.onclose.bind(this)),Fr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Mx(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new bN(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const hu={};function hh(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=qA(e,t.path||"/socket.io"),s=n.source,a=n.id,i=n.path,c=hu[a]&&i in hu[a].nsps,d=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let f;return d?f=new $0(s,t):(hu[a]||(hu[a]=new $0(s,t)),f=hu[a]),n.query&&!t.query&&(t.query=n.queryKey),f.socket(n.path,t)}Object.assign(hh,{Manager:$0,Socket:bN,io:hh,connect:hh});class rD{constructor(t,n,s,a){go(this,"socket_port"),go(this,"host"),go(this,"port"),go(this,"protocol"),go(this,"url"),go(this,"site_name"),go(this,"socket");var i,c,d,f;if(this.socket_port=s!=null?s:"9000",this.host=(i=window.location)==null?void 0:i.hostname,this.port=(c=window.location)!=null&&c.port?`:${this.socket_port}`:"",this.protocol=((d=window.location)==null?void 0:d.protocol)==="https:"?"https":"http",t){let h=new URL(t);h.port="",s?(h.port=s,this.url=h.toString()):this.url=h.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;n&&(this.url=`${this.url}${n}`),this.site_name=n,this.socket=hh(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:a&&a.useToken===!0?{Authorization:`${a.type} ${(f=a.token)==null?void 0:f.call(a)}`}:{}})}}const Ga=j.createContext(null),aD=({url:e="",tokenParams:t,socketPort:n,swrConfig:s,siteName:a,enableSocket:i=!0,children:c,customHeaders:d})=>{const f=j.useMemo(()=>{const h=new FO.FrappeApp(e,t,void 0,d);return{url:e,tokenParams:t,app:h,auth:h.auth(),db:h.db(),call:h.call(),file:h.file(),socket:i?new rD(e,a,n,t).socket:void 0,enableSocket:i,socketPort:n}},[e,t,n,i,d]);return l.jsx(Ga.Provider,{value:f,children:l.jsx(mA,{value:s,children:c})})},lr=e=>{const{url:t,auth:n,tokenParams:s}=j.useContext(Ga),[a,i]=j.useState(),c=j.useCallback(()=>{const _=document.cookie.split(";").find(w=>w.trim().startsWith("user_id="));if(_){const w=_.split("=")[1];i(w&&w!=="Guest"?w:null)}else i(null)},[]);j.useEffect(()=>{s&&s.useToken?i(null):c()},[]);const{data:d,error:f,isLoading:h,isValidating:p,mutate:g}=sm(()=>s&&s.useToken||a?`${t}/api/method/frappe.auth.get_logged_user`:null,()=>n.getLoggedInUser(),z({onError:()=>{i(null)},shouldRetryOnError:!1,revalidateOnFocus:!1},e)),b=j.useCallback(_=>ge(null,null,function*(){return n.loginWithUsernamePassword(_).then(w=>(c(),w))}),[]),y=j.useCallback(()=>ge(null,null,function*(){return n.logout().then(()=>g(null)).then(()=>i(null))}),[]);return{isLoading:a===void 0||h,currentUser:d,isValidating:p,error:f,login:b,logout:y,updateCurrentUser:g,getUserCookie:c}},vN=(e,t,n)=>{let s=`${t}/api/resource/`;return n?s+=`${e}/${n}`:s+=`${e}`,s},Sn=(e,t,n,s)=>{const{url:a,db:i}=j.useContext(Ga);return sm(n===void 0?vN(e,a,t):n,()=>i.getDoc(e,t),s)},iD=e=>{var a;var t,n;let s="";if(e!=null&&e.fields&&(s+="fields="+JSON.stringify(e==null?void 0:e.fields)+"&"),e!=null&&e.filters&&(s+="filters="+JSON.stringify(e==null?void 0:e.filters)+"&"),e!=null&&e.orFilters&&(s+="or_filters="+JSON.stringify(e==null?void 0:e.orFilters)+"&"),e!=null&&e.limit_start&&(s+="limit_start="+JSON.stringify(e==null?void 0:e.limit_start)+"&"),e!=null&&e.limit&&(s+="limit="+JSON.stringify(e==null?void 0:e.limit)+"&"),e!=null&&e.groupBy&&(s+="group_by="+String(e.groupBy)+"&"),e!=null&&e.orderBy){const i=`${String((t=e.orderBy)==null?void 0:t.field)} ${(a=(n=e.orderBy)==null?void 0:n.order)!=null?a:"asc"}`;s+="order_by="+i+"&"}return e!=null&&e.asDict&&(s+="as_dict="+e.asDict),s},Mt=(e,t,n,s)=>{const{url:a,db:i}=j.useContext(Ga);return sm(n===void 0?`${vN(e,a)}?${iD(t)}`:n,()=>i.getDocList(e,t),s)},Bi=()=>{const{db:e}=j.useContext(Ga),[t,n]=j.useState(!1),[s,a]=j.useState(null),[i,c]=j.useState(!1),d=j.useCallback(()=>{n(!1),a(null),c(!1)},[]);return{createDoc:j.useCallback((f,h)=>ge(null,null,function*(){return a(null),c(!1),n(!0),e.createDoc(f,h).then(p=>(n(!1),c(!0),p)).catch(p=>{throw n(!1),c(!1),a(p),p})}),[]),loading:t,error:s,isCompleted:i,reset:d}},qs=()=>{const{db:e}=j.useContext(Ga),[t,n]=j.useState(!1),[s,a]=j.useState(null),[i,c]=j.useState(!1),d=j.useCallback(()=>{n(!1),a(null),c(!1)},[]);return{updateDoc:j.useCallback((f,h,p)=>ge(null,null,function*(){return a(null),c(!1),n(!0),e.updateDoc(f,h,p).then(g=>(n(!1),c(!0),g)).catch(g=>{throw n(!1),c(!1),a(g),g})}),[]),loading:t,error:s,reset:d,isCompleted:i}},am=()=>{const{db:e}=j.useContext(Ga),[t,n]=j.useState(!1),[s,a]=j.useState(null),[i,c]=j.useState(!1),d=j.useCallback(()=>{n(!1),a(null),c(!1)},[]);return{deleteDoc:j.useCallback((f,h)=>ge(null,null,function*(){return a(null),c(!1),n(!0),e.deleteDoc(f,h).then(p=>(n(!1),c(!0),p)).catch(p=>{throw n(!1),c(!1),a(p),p})}),[]),loading:t,error:s,reset:d,isCompleted:i}};function oD(e){const t=[];for(let n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}const lD=(e,t,n,s,a="GET")=>{const{call:i}=j.useContext(Ga),c=oD(t!=null?t:{}),d=`${e}?${c}`;return z({},sm(n===void 0?d:n,a==="GET"?()=>i.get(e,t):()=>i.post(e,t),s))},ms=e=>{const{call:t}=j.useContext(Ga),[n,s]=j.useState(null),[a,i]=j.useState(!1),[c,d]=j.useState(null),[f,h]=j.useState(!1),p=j.useCallback(()=>{s(null),i(!1),d(null),h(!1)},[]);return{call:j.useCallback(g=>ge(null,null,function*(){return d(null),h(!1),i(!0),s(null),t.post(e,g).then(b=>(s(b),i(!1),h(!0),b)).catch(b=>{throw i(!1),h(!1),d(b),b})}),[]),result:n,loading:a,error:c,reset:p,isCompleted:f}};var cD=(e,t,n,s,a,i,c,d)=>{let f=document.documentElement,h=["light","dark"];function p(y){(Array.isArray(e)?e:[e]).forEach(_=>{let w=_==="class",N=w&&i?a.map(S=>i[S]||S):a;w?(f.classList.remove(...N),f.classList.add(i&&i[y]?i[y]:y)):f.setAttribute(_,y)}),g(y)}function g(y){d&&h.includes(y)&&(f.style.colorScheme=y)}function b(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)p(s);else try{let y=localStorage.getItem(t)||n,_=c&&y==="system"?b():y;p(_)}catch(y){}},rj=["light","dark"],wN="(prefers-color-scheme: dark)",uD=typeof window=="undefined",zx=j.createContext(void 0),dD={setTheme:e=>{},themes:[]},fD=()=>{var e;return(e=j.useContext(zx))!=null?e:dD},hD=e=>j.useContext(zx)?j.createElement(j.Fragment,null,e.children):j.createElement(pD,z({},e)),mD=["light","dark"],pD=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:s=!0,storageKey:a="theme",themes:i=mD,defaultTheme:c=n?"system":"light",attribute:d="data-theme",value:f,children:h,nonce:p,scriptProps:g})=>{let[b,y]=j.useState(()=>xD(a,c)),[_,w]=j.useState(()=>b==="system"?Bg():b),N=f?Object.values(f):i,S=j.useCallback(k=>{let T=k;if(!T)return;k==="system"&&n&&(T=Bg());let R=f?f[T]:T,P=t?yD(p):null,U=document.documentElement,X=H=>{H==="class"?(U.classList.remove(...N),R&&U.classList.add(R)):H.startsWith("data-")&&(R?U.setAttribute(H,R):U.removeAttribute(H))};if(Array.isArray(d)?d.forEach(X):X(d),s){let H=rj.includes(c)?c:null,K=rj.includes(T)?T:H;U.style.colorScheme=K}P==null||P()},[p]),D=j.useCallback(k=>{let T=typeof k=="function"?k(b):k;y(T);try{localStorage.setItem(a,T)}catch(R){}},[b]),A=j.useCallback(k=>{let T=Bg(k);w(T),b==="system"&&n&&!e&&S("system")},[b,e]);j.useEffect(()=>{let k=window.matchMedia(wN);return k.addListener(A),A(k),()=>k.removeListener(A)},[A]),j.useEffect(()=>{let k=T=>{T.key===a&&(T.newValue?y(T.newValue):D(c))};return window.addEventListener("storage",k),()=>window.removeEventListener("storage",k)},[D]),j.useEffect(()=>{S(e!=null?e:b)},[e,b]);let C=j.useMemo(()=>({theme:b,setTheme:D,forcedTheme:e,resolvedTheme:b==="system"?_:b,themes:n?[...i,"system"]:i,systemTheme:n?_:void 0}),[b,D,e,_,n,i]);return j.createElement(zx.Provider,{value:C},j.createElement(gD,{forcedTheme:e,storageKey:a,attribute:d,enableSystem:n,enableColorScheme:s,defaultTheme:c,value:f,themes:i,nonce:p,scriptProps:g}),h)},gD=j.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:c,themes:d,nonce:f,scriptProps:h})=>{let p=JSON.stringify([n,t,i,e,d,c,s,a]).slice(1,-1);return j.createElement("script",oe(z({},h),{suppressHydrationWarning:!0,nonce:typeof window=="undefined"?f:"",dangerouslySetInnerHTML:{__html:`(${cD.toString()})(${p})`}}))}),xD=(e,t)=>{if(uD)return;let n;try{n=localStorage.getItem(e)||void 0}catch(s){}return n||t},yD=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Bg=e=>(e||(e=window.matchMedia(wN)),e.matches?"dark":"light");/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _N=e=>{throw TypeError(e)},bD=(e,t,n)=>t.has(e)||_N("Cannot "+n),$g=(e,t,n)=>(bD(e,t,"read from private field"),n?n.call(e):t.get(e)),vD=(e,t,n)=>t.has(e)?_N("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),aj="popstate";function wD(e={}){function t(s,a){let{pathname:i,search:c,hash:d}=s.location;return Vu("",{pathname:i,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Pi(a)}return jD(t,n,null,e)}function qt(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function Zn(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function _D(){return Math.random().toString(36).substring(2,10)}function ij(e,t){return{usr:e.state,key:e.key,idx:t}}function Vu(e,t,n=null,s){return oe(z({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$i(t):t),{state:n,key:t&&t.key||s||_D()})}function Pi({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function $i(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function jD(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:i=!1}=s,c=a.history,d="POP",f=null,h=p();h==null&&(h=0,c.replaceState(oe(z({},c.state),{idx:h}),""));function p(){return(c.state||{idx:null}).idx}function g(){d="POP";let N=p(),S=N==null?null:N-h;h=N,f&&f({action:d,location:w.location,delta:S})}function b(N,S){d="PUSH";let D=Vu(w.location,N,S);h=p()+1;let A=ij(D,h),C=w.createHref(D);try{c.pushState(A,"",C)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(C)}i&&f&&f({action:d,location:w.location,delta:1})}function y(N,S){d="REPLACE";let D=Vu(w.location,N,S);h=p();let A=ij(D,h),C=w.createHref(D);c.replaceState(A,"",C),i&&f&&f({action:d,location:w.location,delta:0})}function _(N){return jN(N)}let w={get action(){return d},get location(){return e(a,c)},listen(N){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(aj,g),f=N,()=>{a.removeEventListener(aj,g),f=null}},createHref(N){return t(a,N)},createURL:_,encodeLocation(N){let S=_(N);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:b,replace:y,go(N){return c.go(N)}};return w}function jN(e,t=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qt(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Pi(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var Ou,oj=class{constructor(e){if(vD(this,Ou,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if($g(this,Ou).has(e))return $g(this,Ou).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){$g(this,Ou).set(e,t)}};Ou=new WeakMap;var SD=new Set(["lazy","caseSensitive","path","id","index","children"]);function ND(e){return SD.has(e)}var ED=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function TD(e){return ED.has(e)}function CD(e){return e.index===!0}function Iu(e,t,n=[],s={},a=!1){return e.map((i,c)=>{let d=[...n,String(c)],f=typeof i.id=="string"?i.id:d.join("-");if(qt(i.index!==!0||!i.children,"Cannot specify children on an index route"),qt(a||!s[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),CD(i)){let h=oe(z(z({},i),t(i)),{id:f});return s[f]=h,h}else{let h=oe(z(z({},i),t(i)),{id:f,children:void 0});return s[f]=h,i.children&&(h.children=Iu(i.children,t,d,s,a)),h}})}function Ti(e,t,n="/"){return mh(e,t,n,!1)}function mh(e,t,n,s){let a=typeof t=="string"?$i(t):t,i=Er(a.pathname||"/",n);if(i==null)return null;let c=SN(e);OD(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let h=$D(i);d=FD(c[f],h,s)}return d}function kD(e,t){let{route:n,pathname:s,params:a}=e;return{id:n.id,pathname:s,params:a,data:t[n.id],handle:n.handle}}function SN(e,t=[],n=[],s=""){let a=(i,c,d)=>{let f={relativePath:d===void 0?i.path||"":d,caseSensitive:i.caseSensitive===!0,childrenIndex:c,route:i};f.relativePath.startsWith("/")&&(qt(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let h=da([s,f.relativePath]),p=n.concat(f);i.children&&i.children.length>0&&(qt(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),SN(i.children,t,p,h)),!(i.path==null&&!i.index)&&t.push({path:h,score:zD(h,i.index),routesMeta:p})};return e.forEach((i,c)=>{var d;if(i.path===""||!((d=i.path)!=null&&d.includes("?")))a(i,c);else for(let f of NN(i.path))a(i,c,f)}),t}function NN(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let c=NN(s.join("/")),d=[];return d.push(...c.map(f=>f===""?i:[i,f].join("/"))),a&&d.push(...c),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function OD(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:UD(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var AD=/^:[\w-]+$/,DD=3,RD=2,MD=1,PD=10,LD=-2,lj=e=>e==="*";function zD(e,t){let n=e.split("/"),s=n.length;return n.some(lj)&&(s+=LD),t&&(s+=RD),n.filter(a=>!lj(a)).reduce((a,i)=>a+(AD.test(i)?DD:i===""?MD:PD),s)}function UD(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function FD(e,t,n=!1){let{routesMeta:s}=e,a={},i="/",c=[];for(let d=0;d<s.length;++d){let f=s[d],h=d===s.length-1,p=i==="/"?t:t.slice(i.length)||"/",g=kh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),b=f.route;if(!g&&h&&n&&!s[s.length-1].route.index&&(g=kh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:da([i,g.pathname]),pathnameBase:qD(da([i,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(i=da([i,g.pathnameBase]))}return c}function kh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=BD(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],c=i.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((h,{paramName:p,isOptional:g},b)=>{if(p==="*"){let _=d[b]||"";c=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const y=d[b];return g&&!y?h[p]=void 0:h[p]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:c,pattern:e}}function BD(e,t=!1,n=!0){Zn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function $D(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Er(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function HD({basename:e,pathname:t}){return t==="/"?e:da([e,t])}function VD(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?$i(e):e;return{pathname:n?n.startsWith("/")?n:ID(n,t):t,search:WD(s),hash:YD(a)}}function ID(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Hg(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ux(e){let t=EN(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Fx(e,t,n,s=!1){let a;typeof e=="string"?a=$i(e):(a=z({},e),qt(!a.pathname||!a.pathname.includes("?"),Hg("?","pathname","search",a)),qt(!a.pathname||!a.pathname.includes("#"),Hg("#","pathname","hash",a)),qt(!a.search||!a.search.includes("#"),Hg("#","search","hash",a)));let i=e===""||a.pathname==="",c=i?"/":a.pathname,d;if(c==null)d=n;else{let g=t.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),g-=1;a.pathname=b.join("/")}d=g>=0?t[g]:"/"}let f=VD(a,d),h=c&&c!=="/"&&c.endsWith("/"),p=(i||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var da=e=>e.join("/").replace(/\/\/+/g,"/"),qD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),WD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,YD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Oh=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function qu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var TN=["POST","PUT","PATCH","DELETE"],XD=new Set(TN),GD=["GET",...TN],KD=new Set(GD),QD=new Set([301,302,303,307,308]),ZD=new Set([307,308]),Vg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},JD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},eR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bx=e=>eR.test(e),tR=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),CN="remix-router-transitions",kN=Symbol("ResetLoaderData");function nR(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,n=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined";qt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=e.hydrationRouteProperties||[],a=e.mapRouteProperties||tR,i={},c=Iu(e.routes,a,void 0,i),d,f=e.basename||"/",h=e.dataStrategy||oR,p=z({unstable_middleware:!1},e.future),g=null,b=new Set,y=null,_=null,w=null,N=e.hydrationData!=null,S=Ti(c,e.history.location,f),D=!1,A=null,C;if(S==null&&!e.patchRoutesOnNavigation){let J=wr(404,{pathname:e.history.location.pathname}),{matches:ie,route:pe}=vj(c);C=!0,S=ie,A={[pe.id]:J}}else if(S&&!e.hydrationData&&Ge(S,c,e.history.location.pathname).active&&(S=null),S)if(S.some(J=>J.route.lazy))C=!1;else if(!S.some(J=>J.route.loader))C=!0;else{let J=e.hydrationData?e.hydrationData.loaderData:null,ie=e.hydrationData?e.hydrationData.errors:null;if(ie){let pe=S.findIndex(je=>ie[je.route.id]!==void 0);C=S.slice(0,pe+1).every(je=>!V0(je.route,J,ie))}else C=S.every(pe=>!V0(pe.route,J,ie))}else{C=!1,S=[];let J=Ge(null,c,e.history.location.pathname);J.active&&J.matches&&(D=!0,S=J.matches)}let k,T={historyAction:e.history.action,location:e.history.location,matches:S,initialized:C,navigation:Vg,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||A,fetchers:new Map,blockers:new Map},R="POP",P=!1,U,X=!1,H=new Map,K=null,Y=!1,te=!1,W=new Set,V=new Map,Q=0,ee=-1,ce=new Map,L=new Set,le=new Map,re=new Map,B=new Set,ne=new Map,ye,he=null;function Ce(){if(g=e.history.listen(({action:J,location:ie,delta:pe})=>{if(ye){ye(),ye=void 0;return}Zn(ne.size===0||pe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let je=He({currentLocation:T.location,nextLocation:ie,historyAction:J});if(je&&pe!=null){let De=new Promise(Ie=>{ye=Ie});e.history.go(pe*-1),Ee(je,{state:"blocked",location:ie,proceed(){Ee(je,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),De.then(()=>e.history.go(pe))},reset(){let Ie=new Map(T.blockers);Ie.set(je,mu),Ue({blockers:Ie})}});return}return Pe(J,ie)}),n){yR(t,H);let J=()=>bR(t,H);t.addEventListener("pagehide",J),K=()=>t.removeEventListener("pagehide",J)}return T.initialized||Pe("POP",T.location,{initialHydration:!0}),k}function ke(){g&&g(),K&&K(),b.clear(),U&&U.abort(),T.fetchers.forEach((J,ie)=>vt(ie)),T.blockers.forEach((J,ie)=>Dt(ie))}function We(J){return b.add(J),()=>b.delete(J)}function Ue(J,ie={}){J.matches&&(J.matches=J.matches.map(De=>{let Ie=i[De.route.id],Je=De.route;return Je.element!==Ie.element||Je.errorElement!==Ie.errorElement||Je.hydrateFallbackElement!==Ie.hydrateFallbackElement?oe(z({},De),{route:Ie}):De})),T=z(z({},T),J);let pe=[],je=[];T.fetchers.forEach((De,Ie)=>{De.state==="idle"&&(B.has(Ie)?pe.push(Ie):je.push(Ie))}),B.forEach(De=>{!T.fetchers.has(De)&&!V.has(De)&&pe.push(De)}),[...b].forEach(De=>De(T,{deletedFetchers:pe,viewTransitionOpts:ie.viewTransitionOpts,flushSync:ie.flushSync===!0})),pe.forEach(De=>vt(De)),je.forEach(De=>T.fetchers.delete(De))}function qe(J,ie,{flushSync:pe}={}){var lt,St;let je=T.actionData!=null&&T.navigation.formMethod!=null&&Vs(T.navigation.formMethod)&&T.navigation.state==="loading"&&((lt=J.state)==null?void 0:lt._isRedirect)!==!0,De;ie.actionData?Object.keys(ie.actionData).length>0?De=ie.actionData:De=null:je?De=T.actionData:De=null;let Ie=ie.loaderData?yj(T.loaderData,ie.loaderData,ie.matches||[],ie.errors):T.loaderData,Je=T.blockers;Je.size>0&&(Je=new Map(Je),Je.forEach((Rt,pn)=>Je.set(pn,mu)));let rt=Y?!1:Ct(J,ie.matches||T.matches),ft=P===!0||T.navigation.formMethod!=null&&Vs(T.navigation.formMethod)&&((St=J.state)==null?void 0:St._isRedirect)!==!0;d&&(c=d,d=void 0),Y||R==="POP"||(R==="PUSH"?e.history.push(J,J.state):R==="REPLACE"&&e.history.replace(J,J.state));let Pt;if(R==="POP"){let Rt=H.get(T.location.pathname);Rt&&Rt.has(J.pathname)?Pt={currentLocation:T.location,nextLocation:J}:H.has(J.pathname)&&(Pt={currentLocation:J,nextLocation:T.location})}else if(X){let Rt=H.get(T.location.pathname);Rt?Rt.add(J.pathname):(Rt=new Set([J.pathname]),H.set(T.location.pathname,Rt)),Pt={currentLocation:T.location,nextLocation:J}}Ue(oe(z({},ie),{actionData:De,loaderData:Ie,historyAction:R,location:J,initialized:!0,navigation:Vg,revalidation:"idle",restoreScrollPosition:rt,preventScrollReset:ft,blockers:Je}),{viewTransitionOpts:Pt,flushSync:pe===!0}),R="POP",P=!1,X=!1,Y=!1,te=!1,he==null||he.resolve(),he=null}function Ze(J,ie){return ge(this,null,function*(){if(typeof J=="number"){e.history.go(J);return}let pe=H0(T.location,T.matches,f,J,ie==null?void 0:ie.fromRouteId,ie==null?void 0:ie.relative),{path:je,submission:De,error:Ie}=cj(!1,pe,ie),Je=T.location,rt=Vu(T.location,je,ie&&ie.state);rt=z(z({},rt),e.history.encodeLocation(rt));let ft=ie&&ie.replace!=null?ie.replace:void 0,Pt="PUSH";ft===!0?Pt="REPLACE":ft===!1||De!=null&&Vs(De.formMethod)&&De.formAction===T.location.pathname+T.location.search&&(Pt="REPLACE");let lt=ie&&"preventScrollReset"in ie?ie.preventScrollReset===!0:void 0,St=(ie&&ie.flushSync)===!0,Rt=He({currentLocation:Je,nextLocation:rt,historyAction:Pt});if(Rt){Ee(Rt,{state:"blocked",location:rt,proceed(){Ee(Rt,{state:"proceeding",proceed:void 0,reset:void 0,location:rt}),Ze(J,ie)},reset(){let pn=new Map(T.blockers);pn.set(Rt,mu),Ue({blockers:pn})}});return}yield Pe(Pt,rt,{submission:De,pendingError:Ie,preventScrollReset:lt,replace:ie&&ie.replace,enableViewTransition:ie&&ie.viewTransition,flushSync:St})})}function st(){he||(he=vR()),Re(),Ue({revalidation:"loading"});let J=he.promise;return T.navigation.state==="submitting"?J:T.navigation.state==="idle"?(Pe(T.historyAction,T.location,{startUninterruptedRevalidation:!0}),J):(Pe(R||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:X===!0}),J)}function Pe(J,ie,pe){return ge(this,null,function*(){U&&U.abort(),U=null,R=J,Y=(pe&&pe.startUninterruptedRevalidation)===!0,ot(T.location,T.matches),P=(pe&&pe.preventScrollReset)===!0,X=(pe&&pe.enableViewTransition)===!0;let je=d||c,De=pe&&pe.overrideNavigation,Ie=pe!=null&&pe.initialHydration&&T.matches&&T.matches.length>0&&!D?T.matches:Ti(je,ie,f),Je=(pe&&pe.flushSync)===!0;if(Ie&&T.initialized&&!te&&hR(T.location,ie)&&!(pe&&pe.submission&&Vs(pe.submission.formMethod))){qe(ie,{matches:Ie},{flushSync:Je});return}let rt=Ge(Ie,je,ie.pathname);if(rt.active&&rt.matches&&(Ie=rt.matches),!Ie){let{error:cn,notFoundMatches:ct,route:kt}=Le(ie.pathname);qe(ie,{matches:ct,loaderData:{},errors:{[kt.id]:cn}},{flushSync:Je});return}U=new AbortController;let ft=Bl(e.history,ie,U.signal,pe&&pe.submission),Pt=new oj(e.unstable_getContext?yield e.unstable_getContext():void 0),lt;if(pe&&pe.pendingError)lt=[jo(Ie).route.id,{type:"error",error:pe.pendingError}];else if(pe&&pe.submission&&Vs(pe.submission.formMethod)){let cn=yield Tt(ft,ie,pe.submission,Ie,Pt,rt.active,pe&&pe.initialHydration===!0,{replace:pe.replace,flushSync:Je});if(cn.shortCircuited)return;if(cn.pendingActionResult){let[ct,kt]=cn.pendingActionResult;if(tr(kt)&&qu(kt.error)&&kt.error.status===404){U=null,qe(ie,{matches:cn.matches,loaderData:{},errors:{[ct]:kt.error}});return}}Ie=cn.matches||Ie,lt=cn.pendingActionResult,De=Ig(ie,pe.submission),Je=!1,rt.active=!1,ft=Bl(e.history,ft.url,ft.signal)}let{shortCircuited:St,matches:Rt,loaderData:pn,errors:Rn}=yield Yt(ft,ie,Ie,Pt,rt.active,De,pe&&pe.submission,pe&&pe.fetcherSubmission,pe&&pe.replace,pe&&pe.initialHydration===!0,Je,lt);St||(U=null,qe(ie,oe(z({matches:Rt||Ie},bj(lt)),{loaderData:pn,errors:Rn})))})}function Tt(ft,Pt,lt,St,Rt,pn,Rn){return ge(this,arguments,function*(J,ie,pe,je,De,Ie,Je,rt={}){Re();let cn=gR(ie,pe);if(Ue({navigation:cn},{flushSync:rt.flushSync===!0}),Ie){let Qt=yield bt(je,ie.pathname,J.signal);if(Qt.type==="aborted")return{shortCircuited:!0};if(Qt.type==="error"){let Nn=jo(Qt.partialMatches).route.id;return{matches:Qt.partialMatches,pendingActionResult:[Nn,{type:"error",error:Qt.error}]}}else if(Qt.matches)je=Qt.matches;else{let{notFoundMatches:Nn,error:Mn,route:Jn}=Le(ie.pathname);return{matches:Nn,pendingActionResult:[Jn.id,{type:"error",error:Mn}]}}}let ct,kt=ph(je,ie);if(!kt.route.action&&!kt.route.lazy)ct={type:"error",error:wr(405,{method:J.method,pathname:ie.pathname,routeId:kt.route.id})};else{let Qt=ql(a,i,J,je,kt,Je?[]:s,De),Nn=yield Se(J,Qt,De,null);if(ct=Nn[kt.route.id],!ct){for(let Mn of je)if(Nn[Mn.route.id]){ct=Nn[Mn.route.id];break}}if(J.signal.aborted)return{shortCircuited:!0}}if(Co(ct)){let Qt;return rt&&rt.replace!=null?Qt=rt.replace:Qt=pj(ct.response.headers.get("Location"),new URL(J.url),f)===T.location.pathname+T.location.search,yield q(J,ct,!0,{submission:pe,replace:Qt}),{shortCircuited:!0}}if(tr(ct)){let Qt=jo(je,kt.route.id);return(rt&&rt.replace)!==!0&&(R="PUSH"),{matches:je,pendingActionResult:[Qt.route.id,ct,kt.route.id]}}return{matches:je,pendingActionResult:[kt.route.id,ct]}})}function Yt(J,ie,pe,je,De,Ie,Je,rt,ft,Pt,lt,St){return ge(this,null,function*(){let Rt=Ie||Ig(ie,Je),pn=Je||rt||_j(Rt),Rn=!Y&&!Pt;if(De){if(Rn){let Pn=Nt(St);Ue(z({navigation:Rt},Pn!==void 0?{actionData:Pn}:{}),{flushSync:lt})}let zt=yield bt(pe,ie.pathname,J.signal);if(zt.type==="aborted")return{shortCircuited:!0};if(zt.type==="error"){let Pn=jo(zt.partialMatches).route.id;return{matches:zt.partialMatches,loaderData:{},errors:{[Pn]:zt.error}}}else if(zt.matches)pe=zt.matches;else{let{error:Pn,notFoundMatches:ba,route:gs}=Le(ie.pathname);return{matches:ba,loaderData:{},errors:{[gs.id]:Pn}}}}let cn=d||c,{dsMatches:ct,revalidatingFetchers:kt}=uj(J,je,a,i,e.history,T,pe,pn,ie,Pt?[]:s,Pt===!0,te,W,B,le,L,cn,f,e.patchRoutesOnNavigation!=null,St);if(ee=++Q,!e.dataStrategy&&!ct.some(zt=>zt.shouldLoad)&&kt.length===0){let zt=xn();return qe(ie,z(z({matches:pe,loaderData:{},errors:St&&tr(St[1])?{[St[0]]:St[1].error}:null},bj(St)),zt?{fetchers:new Map(T.fetchers)}:{}),{flushSync:lt}),{shortCircuited:!0}}if(Rn){let zt={};if(!De){zt.navigation=Rt;let Pn=Nt(St);Pn!==void 0&&(zt.actionData=Pn)}kt.length>0&&(zt.fetchers=it(kt)),Ue(zt,{flushSync:lt})}kt.forEach(zt=>{Jt(zt.key),zt.controller&&V.set(zt.key,zt.controller)});let Qt=()=>kt.forEach(zt=>Jt(zt.key));U&&U.signal.addEventListener("abort",Qt);let{loaderResults:Nn,fetcherResults:Mn}=yield Me(ct,kt,J,je);if(J.signal.aborted)return{shortCircuited:!0};U&&U.signal.removeEventListener("abort",Qt),kt.forEach(zt=>V.delete(zt.key));let Jn=kf(Nn);if(Jn)return yield q(J,Jn.result,!0,{replace:ft}),{shortCircuited:!0};if(Jn=kf(Mn),Jn)return L.add(Jn.key),yield q(J,Jn.result,!0,{replace:ft}),{shortCircuited:!0};let{loaderData:cs,errors:cr}=xj(T,pe,Nn,St,kt,Mn);Pt&&T.errors&&(cr=z(z({},T.errors),cr));let ur=xn(),_s=Fn(ee),dr=ur||_s||kt.length>0;return z({matches:pe,loaderData:cs,errors:cr},dr?{fetchers:new Map(T.fetchers)}:{})})}function Nt(J){if(J&&!tr(J[1]))return{[J[0]]:J[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function it(J){return J.forEach(ie=>{let pe=T.fetchers.get(ie.key),je=pu(void 0,pe?pe.data:void 0);T.fetchers.set(ie.key,je)}),new Map(T.fetchers)}function jt(J,ie,pe,je){return ge(this,null,function*(){Jt(J);let De=(je&&je.flushSync)===!0,Ie=d||c,Je=H0(T.location,T.matches,f,pe,ie,je==null?void 0:je.relative),rt=Ti(Ie,Je,f),ft=Ge(rt,Ie,Je);if(ft.active&&ft.matches&&(rt=ft.matches),!rt){Xe(J,ie,wr(404,{pathname:Je}),{flushSync:De});return}let{path:Pt,submission:lt,error:St}=cj(!0,Je,je);if(St){Xe(J,ie,St,{flushSync:De});return}let Rt=new oj(e.unstable_getContext?yield e.unstable_getContext():void 0),pn=(je&&je.preventScrollReset)===!0;if(lt&&Vs(lt.formMethod)){yield G(J,ie,Pt,rt,Rt,ft.active,De,pn,lt);return}le.set(J,{routeId:ie,path:Pt}),yield de(J,ie,Pt,rt,Rt,ft.active,De,pn,lt)})}function G(J,ie,pe,je,De,Ie,Je,rt,ft){return ge(this,null,function*(){Re(),le.delete(J);let Pt=T.fetchers.get(J);$e(J,xR(ft,Pt),{flushSync:Je});let lt=new AbortController,St=Bl(e.history,pe,lt.signal,ft);if(Ie){let yn=yield bt(je,new URL(St.url).pathname,St.signal,J);if(yn.type==="aborted")return;if(yn.type==="error"){Xe(J,ie,yn.error,{flushSync:Je});return}else if(yn.matches)je=yn.matches;else{Xe(J,ie,wr(404,{pathname:pe}),{flushSync:Je});return}}let Rt=ph(je,pe);if(!Rt.route.action&&!Rt.route.lazy){let yn=wr(405,{method:ft.formMethod,pathname:pe,routeId:ie});Xe(J,ie,yn,{flushSync:Je});return}V.set(J,lt);let pn=Q,Rn=ql(a,i,St,je,Rt,s,De),ct=(yield Se(St,Rn,De,J))[Rt.route.id];if(St.signal.aborted){V.get(J)===lt&&V.delete(J);return}if(B.has(J)){if(Co(ct)||tr(ct)){$e(J,Si(void 0));return}}else{if(Co(ct))if(V.delete(J),ee>pn){$e(J,Si(void 0));return}else return L.add(J),$e(J,pu(ft)),q(St,ct,!1,{fetcherSubmission:ft,preventScrollReset:rt});if(tr(ct)){Xe(J,ie,ct.error);return}}let kt=T.navigation.location||T.location,Qt=Bl(e.history,kt,lt.signal),Nn=d||c,Mn=T.navigation.state!=="idle"?Ti(Nn,T.navigation.location,f):T.matches;qt(Mn,"Didn't find any matches after fetcher action");let Jn=++Q;ce.set(J,Jn);let cs=pu(ft,ct.data);T.fetchers.set(J,cs);let{dsMatches:cr,revalidatingFetchers:ur}=uj(Qt,De,a,i,e.history,T,Mn,ft,kt,s,!1,te,W,B,le,L,Nn,f,e.patchRoutesOnNavigation!=null,[Rt.route.id,ct]);ur.filter(yn=>yn.key!==J).forEach(yn=>{let Or=yn.key,qo=T.fetchers.get(Or),Wo=pu(void 0,qo?qo.data:void 0);T.fetchers.set(Or,Wo),Jt(Or),yn.controller&&V.set(Or,yn.controller)}),Ue({fetchers:new Map(T.fetchers)});let _s=()=>ur.forEach(yn=>Jt(yn.key));lt.signal.addEventListener("abort",_s);let{loaderResults:dr,fetcherResults:zt}=yield Me(cr,ur,Qt,De);if(lt.signal.aborted)return;if(lt.signal.removeEventListener("abort",_s),ce.delete(J),V.delete(J),ur.forEach(yn=>V.delete(yn.key)),T.fetchers.has(J)){let yn=Si(ct.data);T.fetchers.set(J,yn)}let Pn=kf(dr);if(Pn)return q(Qt,Pn.result,!1,{preventScrollReset:rt});if(Pn=kf(zt),Pn)return L.add(Pn.key),q(Qt,Pn.result,!1,{preventScrollReset:rt});let{loaderData:ba,errors:gs}=xj(T,Mn,dr,void 0,ur,zt);Fn(Jn),T.navigation.state==="loading"&&Jn>ee?(qt(R,"Expected pending action"),U&&U.abort(),qe(T.navigation.location,{matches:Mn,loaderData:ba,errors:gs,fetchers:new Map(T.fetchers)})):(Ue({errors:gs,loaderData:yj(T.loaderData,ba,Mn,gs),fetchers:new Map(T.fetchers)}),te=!1)})}function de(J,ie,pe,je,De,Ie,Je,rt,ft){return ge(this,null,function*(){let Pt=T.fetchers.get(J);$e(J,pu(ft,Pt?Pt.data:void 0),{flushSync:Je});let lt=new AbortController,St=Bl(e.history,pe,lt.signal);if(Ie){let kt=yield bt(je,new URL(St.url).pathname,St.signal,J);if(kt.type==="aborted")return;if(kt.type==="error"){Xe(J,ie,kt.error,{flushSync:Je});return}else if(kt.matches)je=kt.matches;else{Xe(J,ie,wr(404,{pathname:pe}),{flushSync:Je});return}}let Rt=ph(je,pe);V.set(J,lt);let pn=Q,Rn=ql(a,i,St,je,Rt,s,De),ct=(yield Se(St,Rn,De,J))[Rt.route.id];if(V.get(J)===lt&&V.delete(J),!St.signal.aborted){if(B.has(J)){$e(J,Si(void 0));return}if(Co(ct))if(ee>pn){$e(J,Si(void 0));return}else{L.add(J),yield q(St,ct,!1,{preventScrollReset:rt});return}if(tr(ct)){Xe(J,ie,ct.error);return}$e(J,Si(ct.data))}})}function q(rt,ft,Pt){return ge(this,arguments,function*(J,ie,pe,{submission:je,fetcherSubmission:De,preventScrollReset:Ie,replace:Je}={}){ie.response.headers.has("X-Remix-Revalidate")&&(te=!0);let lt=ie.response.headers.get("Location");qt(lt,"Expected a Location header on the redirect Response"),lt=pj(lt,new URL(J.url),f);let St=Vu(T.location,lt,{_isRedirect:!0});if(n){let kt=!1;if(ie.response.headers.has("X-Remix-Reload-Document"))kt=!0;else if(Bx(lt)){const Qt=jN(lt,!0);kt=Qt.origin!==t.location.origin||Er(Qt.pathname,f)==null}if(kt){Je?t.location.replace(lt):t.location.assign(lt);return}}U=null;let Rt=Je===!0||ie.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:pn,formAction:Rn,formEncType:cn}=T.navigation;!je&&!De&&pn&&Rn&&cn&&(je=_j(T.navigation));let ct=je||De;if(ZD.has(ie.response.status)&&ct&&Vs(ct.formMethod))yield Pe(Rt,St,{submission:oe(z({},ct),{formAction:lt}),preventScrollReset:Ie||P,enableViewTransition:pe?X:void 0});else{let kt=Ig(St,je);yield Pe(Rt,St,{overrideNavigation:kt,fetcherSubmission:De,preventScrollReset:Ie||P,enableViewTransition:pe?X:void 0})}})}function Se(J,ie,pe,je){return ge(this,null,function*(){let De,Ie={};try{De=yield lR(h,J,ie,je,pe,!1)}catch(Je){return ie.filter(rt=>rt.shouldLoad).forEach(rt=>{Ie[rt.route.id]={type:"error",error:Je}}),Ie}if(J.signal.aborted)return Ie;for(let[Je,rt]of Object.entries(De))if(mR(rt)){let ft=rt.result;Ie[Je]={type:"redirect",response:dR(ft,J,Je,ie,f)}}else Ie[Je]=yield uR(rt);return Ie})}function Me(J,ie,pe,je){return ge(this,null,function*(){let De=Se(pe,J,je,null),Ie=Promise.all(ie.map(ft=>ge(null,null,function*(){if(ft.matches&&ft.match&&ft.request&&ft.controller){let lt=(yield Se(ft.request,ft.matches,je,ft.key))[ft.match.route.id];return{[ft.key]:lt}}else return Promise.resolve({[ft.key]:{type:"error",error:wr(404,{pathname:ft.path})}})}))),Je=yield De,rt=(yield Ie).reduce((ft,Pt)=>Object.assign(ft,Pt),{});return{loaderResults:Je,fetcherResults:rt}})}function Re(){te=!0,le.forEach((J,ie)=>{V.has(ie)&&W.add(ie),Jt(ie)})}function $e(J,ie,pe={}){T.fetchers.set(J,ie),Ue({fetchers:new Map(T.fetchers)},{flushSync:(pe&&pe.flushSync)===!0})}function Xe(J,ie,pe,je={}){let De=jo(T.matches,ie);vt(J),Ue({errors:{[De.route.id]:pe},fetchers:new Map(T.fetchers)},{flushSync:(je&&je.flushSync)===!0})}function Qe(J){return re.set(J,(re.get(J)||0)+1),B.has(J)&&B.delete(J),T.fetchers.get(J)||JD}function vt(J){let ie=T.fetchers.get(J);V.has(J)&&!(ie&&ie.state==="loading"&&ce.has(J))&&Jt(J),le.delete(J),ce.delete(J),L.delete(J),B.delete(J),W.delete(J),T.fetchers.delete(J)}function wn(J){let ie=(re.get(J)||0)-1;ie<=0?(re.delete(J),B.add(J)):re.set(J,ie),Ue({fetchers:new Map(T.fetchers)})}function Jt(J){let ie=V.get(J);ie&&(ie.abort(),V.delete(J))}function sn(J){for(let ie of J){let pe=Qe(ie),je=Si(pe.data);T.fetchers.set(ie,je)}}function xn(){let J=[],ie=!1;for(let pe of L){let je=T.fetchers.get(pe);qt(je,`Expected fetcher: ${pe}`),je.state==="loading"&&(L.delete(pe),J.push(pe),ie=!0)}return sn(J),ie}function Fn(J){let ie=[];for(let[pe,je]of ce)if(je<J){let De=T.fetchers.get(pe);qt(De,`Expected fetcher: ${pe}`),De.state==="loading"&&(Jt(pe),ce.delete(pe),ie.push(pe))}return sn(ie),ie.length>0}function Bn(J,ie){let pe=T.blockers.get(J)||mu;return ne.get(J)!==ie&&ne.set(J,ie),pe}function Dt(J){T.blockers.delete(J),ne.delete(J)}function Ee(J,ie){let pe=T.blockers.get(J)||mu;qt(pe.state==="unblocked"&&ie.state==="blocked"||pe.state==="blocked"&&ie.state==="blocked"||pe.state==="blocked"&&ie.state==="proceeding"||pe.state==="blocked"&&ie.state==="unblocked"||pe.state==="proceeding"&&ie.state==="unblocked",`Invalid blocker state transition: ${pe.state} -> ${ie.state}`);let je=new Map(T.blockers);je.set(J,ie),Ue({blockers:je})}function He({currentLocation:J,nextLocation:ie,historyAction:pe}){if(ne.size===0)return;ne.size>1&&Zn(!1,"A router only supports one blocker at a time");let je=Array.from(ne.entries()),[De,Ie]=je[je.length-1],Je=T.blockers.get(De);if(!(Je&&Je.state==="proceeding")&&Ie({currentLocation:J,nextLocation:ie,historyAction:pe}))return De}function Le(J){let ie=wr(404,{pathname:J}),pe=d||c,{matches:je,route:De}=vj(pe);return{notFoundMatches:je,route:De,error:ie}}function pt(J,ie,pe){if(y=J,w=ie,_=pe||null,!N&&T.navigation===Vg){N=!0;let je=Ct(T.location,T.matches);je!=null&&Ue({restoreScrollPosition:je})}return()=>{y=null,w=null,_=null}}function At(J,ie){return _&&_(J,ie.map(je=>kD(je,T.loaderData)))||J.key}function ot(J,ie){if(y&&w){let pe=At(J,ie);y[pe]=w()}}function Ct(J,ie){if(y){let pe=At(J,ie),je=y[pe];if(typeof je=="number")return je}return null}function Ge(J,ie,pe){if(e.patchRoutesOnNavigation)if(J){if(Object.keys(J[0].params).length>0)return{active:!0,matches:mh(ie,pe,f,!0)}}else return{active:!0,matches:mh(ie,pe,f,!0)||[]};return{active:!1,matches:null}}function bt(J,ie,pe,je){return ge(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:J};let De=J;for(;;){let Ie=d==null,Je=d||c,rt=i;try{yield e.patchRoutesOnNavigation({signal:pe,path:ie,matches:De,fetcherKey:je,patch:(lt,St)=>{pe.aborted||dj(lt,St,Je,rt,a,!1)}})}catch(lt){return{type:"error",error:lt,partialMatches:De}}finally{Ie&&!pe.aborted&&(c=[...c])}if(pe.aborted)return{type:"aborted"};let ft=Ti(Je,ie,f);if(ft)return{type:"success",matches:ft};let Pt=mh(Je,ie,f,!0);if(!Pt||De.length===Pt.length&&De.every((lt,St)=>lt.route.id===Pt[St].route.id))return{type:"success",matches:null};De=Pt}})}function Ht(J){i={},d=Iu(J,a,void 0,i)}function Kt(J,ie,pe=!1){let je=d==null;dj(J,ie,d||c,i,a,pe),je&&(c=[...c],Ue({}))}return k={get basename(){return f},get future(){return p},get state(){return T},get routes(){return c},get window(){return t},initialize:Ce,subscribe:We,enableScrollRestoration:pt,navigate:Ze,fetch:jt,revalidate:st,createHref:J=>e.history.createHref(J),encodeLocation:J=>e.history.encodeLocation(J),getFetcher:Qe,deleteFetcher:wn,dispose:ke,getBlocker:Bn,deleteBlocker:Dt,patchRoutes:Kt,_internalFetchControllers:V,_internalSetRoutes:Ht,_internalSetStateDoNotUseOrYouWillBreakYourApp(J){Ue(J)}},k}function sR(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function H0(e,t,n,s,a,i){let c,d;if(a){c=[];for(let h of t)if(c.push(h),h.route.id===a){d=h;break}}else c=t,d=t[t.length-1];let f=Fx(s||".",Ux(c),Er(e.pathname,n)||e.pathname,i==="path");if(s==null&&(f.search=e.search,f.hash=e.hash),(s==null||s===""||s===".")&&d){let h=$x(f.search);if(d.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&h){let p=new URLSearchParams(f.search),g=p.getAll("index");p.delete("index"),g.filter(y=>y).forEach(y=>p.append("index",y));let b=p.toString();f.search=b?`?${b}`:""}}return n!=="/"&&(f.pathname=HD({basename:n,pathname:f.pathname})),Pi(f)}function cj(e,t,n){if(!n||!sR(n))return{path:t};if(n.formMethod&&!pR(n.formMethod))return{path:t,error:wr(405,{method:n.formMethod})};let s=()=>({path:t,error:wr(400,{type:"invalid-body"})}),i=(n.formMethod||"get").toUpperCase(),c=PN(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Vs(i))return s();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((b,[y,_])=>`${b}${y}=${_}
`,""):String(n.body);return{path:t,submission:{formMethod:i,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!Vs(i))return s();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:i,formAction:c,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch(g){return s()}}}qt(typeof FormData=="function","FormData is not available in this environment");let d,f;if(n.formData)d=q0(n.formData),f=n.formData;else if(n.body instanceof FormData)d=q0(n.body),f=n.body;else if(n.body instanceof URLSearchParams)d=n.body,f=gj(d);else if(n.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(n.body),f=gj(d)}catch(g){return s()}let h={formMethod:i,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Vs(h.formMethod))return{path:t,submission:h};let p=$i(t);return e&&p.search&&$x(p.search)&&d.append("index",""),p.search=`?${d}`,{path:Pi(p),submission:h}}function uj(e,t,n,s,a,i,c,d,f,h,p,g,b,y,_,w,N,S,D,A){var Y;let C=A?tr(A[1])?A[1].error:A[1].data:void 0,k=a.createURL(i.location),T=a.createURL(f),R;if(p&&i.errors){let te=Object.keys(i.errors)[0];R=c.findIndex(W=>W.route.id===te)}else if(A&&tr(A[1])){let te=A[0];R=c.findIndex(W=>W.route.id===te)-1}let P=A?A[1].statusCode:void 0,U=P&&P>=400,X=oe(z({currentUrl:k,currentParams:((Y=i.matches[0])==null?void 0:Y.params)||{},nextUrl:T,nextParams:c[0].params},d),{actionResult:C,actionStatus:P}),H=c.map((te,W)=>{let{route:V}=te,Q=null;if(R!=null&&W>R?Q=!1:V.lazy?Q=!0:V.loader==null?Q=!1:p?Q=V0(V,i.loaderData,i.errors):rR(i.loaderData,i.matches[W],te)&&(Q=!0),Q!==null)return I0(n,s,e,te,h,t,Q);let ee=U?!1:g||k.pathname+k.search===T.pathname+T.search||k.search!==T.search||aR(i.matches[W],te),ce=oe(z({},X),{defaultShouldRevalidate:ee}),L=Ah(te,ce);return I0(n,s,e,te,h,t,L,ce)}),K=[];return _.forEach((te,W)=>{if(p||!c.some(B=>B.route.id===te.routeId)||y.has(W))return;let V=i.fetchers.get(W),Q=V&&V.state!=="idle"&&V.data===void 0,ee=Ti(N,te.path,S);if(!ee){if(D&&Q)return;K.push({key:W,routeId:te.routeId,path:te.path,matches:null,match:null,request:null,controller:null});return}if(w.has(W))return;let ce=ph(ee,te.path),L=new AbortController,le=Bl(a,te.path,L.signal),re=null;if(b.has(W))b.delete(W),re=ql(n,s,le,ee,ce,h,t);else if(Q)g&&(re=ql(n,s,le,ee,ce,h,t));else{let B=oe(z({},X),{defaultShouldRevalidate:U?!1:g});Ah(ce,B)&&(re=ql(n,s,le,ee,ce,h,t,B))}re&&K.push({key:W,routeId:te.routeId,path:te.path,matches:re,match:ce,request:le,controller:L})}),{dsMatches:H,revalidatingFetchers:K}}function V0(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let s=t!=null&&e.id in t,a=n!=null&&n[e.id]!==void 0;return!s&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!a}function rR(e,t,n){let s=!t||n.route.id!==t.route.id,a=!e.hasOwnProperty(n.route.id);return s||a}function aR(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Ah(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function dj(e,t,n,s,a,i){let c;if(e){let h=s[e];qt(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),c=h.children}else c=n;let d=[],f=[];if(t.forEach(h=>{let p=c.find(g=>ON(h,g));p?f.push({existingRoute:p,newRoute:h}):d.push(h)}),d.length>0){let h=Iu(d,a,[e||"_","patch",String((c==null?void 0:c.length)||"0")],s);c.push(...h)}if(i&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:p,newRoute:g}=f[h],b=p,[y]=Iu([g],a,[],{},!0);Object.assign(b,{element:y.element?y.element:b.element,errorElement:y.errorElement?y.errorElement:b.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:b.hydrateFallbackElement})}}function ON(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,s)=>{var a;return(a=t.children)==null?void 0:a.some(i=>ON(n,i))}):!1}var fj=new WeakMap,AN=({key:e,route:t,manifest:n,mapRouteProperties:s})=>{let a=n[t.id];if(qt(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let i=a.lazy[e];if(!i)return;let c=fj.get(a);c||(c={},fj.set(a,c));let d=c[e];if(d)return d;let f=ge(null,null,function*(){let h=ND(e),g=a[e]!==void 0&&e!=="hasErrorBoundary";if(h)Zn(!h,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),c[e]=Promise.resolve();else if(g)Zn(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let b=yield i();b!=null&&(Object.assign(a,{[e]:b}),Object.assign(a,s(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(b=>b===void 0)&&(a.lazy=void 0))});return c[e]=f,f},hj=new WeakMap;function iR(e,t,n,s,a){let i=n[e.id];if(qt(i,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let p=hj.get(i);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let g=ge(null,null,function*(){qt(typeof e.lazy=="function","No lazy route function found");let b=yield e.lazy(),y={};for(let _ in b){let w=b[_];if(w===void 0)continue;let N=TD(_),D=i[_]!==void 0&&_!=="hasErrorBoundary";N?Zn(!N,"Route property "+_+" is not a supported property to be returned from a lazy route function. This property will be ignored."):D?Zn(!D,`Route "${i.id}" has a static property "${_}" defined but its lazy function is also returning a value for this property. The lazy route property "${_}" will be ignored.`):y[_]=w}Object.assign(i,y),Object.assign(i,oe(z({},s(i)),{lazy:void 0}))});return hj.set(i,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let c=Object.keys(e.lazy),d=[],f;for(let p of c){if(a&&a.includes(p))continue;let g=AN({key:p,route:e,manifest:n,mapRouteProperties:s});g&&(d.push(g),p===t&&(f=g))}let h=d.length>0?Promise.all(d).then(()=>{}):void 0;return h==null||h.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}function mj(e){return ge(this,null,function*(){let t=e.matches.filter(a=>a.shouldLoad),n={};return(yield Promise.all(t.map(a=>a.resolve()))).forEach((a,i)=>{n[t[i].route.id]=a}),n})}function oR(e){return ge(this,null,function*(){return e.matches.some(t=>t.route.unstable_middleware)?DN(e,!1,()=>mj(e),(t,n)=>({[n]:{type:"error",result:t}})):mj(e)})}function DN(e,t,n,s){return ge(this,null,function*(){let{matches:a,request:i,params:c,context:d}=e,f={handlerResult:void 0};try{let h=a.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(b=>[g.route.id,b]):[]),p=yield RN({request:i,params:c,context:d},h,t,f,n);return t?p:f.handlerResult}catch(h){if(!f.middlewareError)throw h;let p=yield s(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,p):p}})}function RN(e,t,n,s,a,i=0){return ge(this,null,function*(){let{request:c}=e;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let d=t[i];if(!d)return s.handlerResult=yield a(),s.handlerResult;let[f,h]=d,p=!1,g,b=()=>ge(null,null,function*(){if(p)throw new Error("You may only call `next()` once per middleware");p=!0,yield RN(e,t,n,s,a,i+1)});try{let y=yield h({request:e.request,params:e.params,context:e.context},b);return p?y===void 0?g:y:b()}catch(y){throw s.middlewareError?s.middlewareError.error!==y&&(s.middlewareError={routeId:f,error:y}):s.middlewareError={routeId:f,error:y},y}})}function MN(e,t,n,s,a){let i=AN({key:"unstable_middleware",route:s.route,manifest:t,mapRouteProperties:e}),c=iR(s.route,Vs(n.method)?"action":"loader",t,e,a);return{middleware:i,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function I0(e,t,n,s,a,i,c,d=null){let f=!1,h=MN(e,t,n,s,a);return oe(z({},s),{_lazyPromises:h,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(p){return f=!0,d?typeof p=="boolean"?Ah(s,oe(z({},d),{defaultShouldRevalidate:p})):Ah(s,d):c},resolve(p){return f||c||p&&!Vs(n.method)&&(s.route.lazy||s.route.loader)?cR({request:n,match:s,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:p,scopedContext:i}):Promise.resolve({type:"data",result:void 0})}})}function ql(e,t,n,s,a,i,c,d=null){return s.map(f=>f.route.id!==a.route.id?oe(z({},f),{shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:MN(e,t,n,f,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}):I0(e,t,n,f,i,c,!0,d))}function lR(e,t,n,s,a,i){return ge(this,null,function*(){n.some(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})&&(yield Promise.all(n.map(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})));let c={request:t,params:n[0].params,context:a,matches:n},d=h=>{let p=c;return DN(p,!1,()=>h(oe(z({},p),{fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(g,b)=>({[b]:{type:"error",result:g}}))},f=yield e(oe(z({},c),{fetcherKey:s,unstable_runClientMiddleware:d}));try{yield Promise.all(n.flatMap(h=>{var p,g;return[(p=h._lazyPromises)==null?void 0:p.handler,(g=h._lazyPromises)==null?void 0:g.route]}))}catch(h){}return f})}function cR(c){return ge(this,arguments,function*({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:a,scopedContext:i}){let d,f,h=Vs(e.method),p=h?"action":"loader",g=b=>{let y,_=new Promise((S,D)=>y=D);f=()=>y(),e.signal.addEventListener("abort",f);let w=S=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${t.route.id}]`)):b({request:e,params:t.params,context:i},...S!==void 0?[S]:[]),N=ge(null,null,function*(){try{return{type:"data",result:yield a?a(D=>w(D)):w()}}catch(S){return{type:"error",result:S}}});return Promise.race([N,_])};try{let b=h?t.route.action:t.route.loader;if(n||s)if(b){let y,[_]=yield Promise.all([g(b).catch(w=>{y=w}),n,s]);if(y!==void 0)throw y;d=_}else{yield n;let y=h?t.route.action:t.route.loader;if(y)[d]=yield Promise.all([g(y),s]);else if(p==="action"){let _=new URL(e.url),w=_.pathname+_.search;throw wr(405,{method:e.method,pathname:w,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(b)d=yield g(b);else{let y=new URL(e.url),_=y.pathname+y.search;throw wr(404,{pathname:_})}}catch(b){return{type:"error",result:b}}finally{f&&e.signal.removeEventListener("abort",f)}return d})}function uR(e){return ge(this,null,function*(){var s,a,i,c,d,f;let{result:t,type:n}=e;if(LN(t)){let h;try{let p=t.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?t.body==null?h=null:h=yield t.json():h=yield t.text()}catch(p){return{type:"error",error:p}}return n==="error"?{type:"error",error:new Oh(t.status,t.statusText,h),statusCode:t.status,headers:t.headers}:{type:"data",data:h,statusCode:t.status,headers:t.headers}}return n==="error"?wj(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Oh(((i=t.init)==null?void 0:i.status)||500,void 0,t.data),statusCode:qu(t)?t.status:void 0,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:qu(t)?t.status:void 0}:wj(t)?{type:"data",data:t.data,statusCode:(d=t.init)==null?void 0:d.status,headers:(f=t.init)!=null&&f.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}})}function dR(e,t,n,s,a){let i=e.headers.get("Location");if(qt(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!Bx(i)){let c=s.slice(0,s.findIndex(d=>d.route.id===n)+1);i=H0(new URL(t.url),c,a,i),e.headers.set("Location",i)}return e}function pj(e,t,n){if(Bx(e)){let s=e,a=s.startsWith("//")?new URL(t.protocol+s):new URL(s),i=Er(a.pathname,n)!=null;if(a.origin===t.origin&&i)return a.pathname+a.search+a.hash}return e}function Bl(e,t,n,s){let a=e.createURL(PN(t)).toString(),i={signal:n};if(s&&Vs(s.formMethod)){let{formMethod:c,formEncType:d}=s;i.method=c.toUpperCase(),d==="application/json"?(i.headers=new Headers({"Content-Type":d}),i.body=JSON.stringify(s.json)):d==="text/plain"?i.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?i.body=q0(s.formData):i.body=s.formData}return new Request(a,i)}function q0(e){let t=new URLSearchParams;for(let[n,s]of e.entries())t.append(n,typeof s=="string"?s:s.name);return t}function gj(e){let t=new FormData;for(let[n,s]of e.entries())t.append(n,s);return t}function fR(e,t,n,s=!1,a=!1){let i={},c=null,d,f=!1,h={},p=n&&tr(n[1])?n[1].error:void 0;return e.forEach(g=>{if(!(g.route.id in t))return;let b=g.route.id,y=t[b];if(qt(!Co(y),"Cannot handle redirect results in processLoaderData"),tr(y)){let _=y.error;if(p!==void 0&&(_=p,p=void 0),c=c||{},a)c[b]=_;else{let w=jo(e,b);c[w.route.id]==null&&(c[w.route.id]=_)}s||(i[b]=kN),f||(f=!0,d=qu(y.error)?y.error.status:500),y.headers&&(h[b]=y.headers)}else i[b]=y.data,y.statusCode&&y.statusCode!==200&&!f&&(d=y.statusCode),y.headers&&(h[b]=y.headers)}),p!==void 0&&n&&(c={[n[0]]:p},n[2]&&(i[n[2]]=void 0)),{loaderData:i,errors:c,statusCode:d||200,loaderHeaders:h}}function xj(e,t,n,s,a,i){let{loaderData:c,errors:d}=fR(t,n,s);return a.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:p,controller:g}=f,b=i[h];if(qt(b,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(tr(b)){let y=jo(e.matches,p==null?void 0:p.route.id);d&&d[y.route.id]||(d=oe(z({},d),{[y.route.id]:b.error})),e.fetchers.delete(h)}else if(Co(b))qt(!1,"Unhandled fetcher revalidation redirect");else{let y=Si(b.data);e.fetchers.set(h,y)}}),{loaderData:c,errors:d}}function yj(e,t,n,s){let a=Object.entries(t).filter(([,i])=>i!==kN).reduce((i,[c,d])=>(i[c]=d,i),{});for(let i of n){let c=i.route.id;if(!t.hasOwnProperty(c)&&e.hasOwnProperty(c)&&i.route.loader&&(a[c]=e[c]),s&&s.hasOwnProperty(c))break}return a}function bj(e){return e?tr(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function jo(e,t){return(t?e.slice(0,e.findIndex(s=>s.route.id===t)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function vj(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function wr(e,{pathname:t,routeId:n,method:s,type:a,message:i}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(c="Bad Request",s&&t&&n?d=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):e===403?(c="Forbidden",d=`Route "${n}" does not match URL "${t}"`):e===404?(c="Not Found",d=`No route matches URL "${t}"`):e===405&&(c="Method Not Allowed",s&&t&&n?d=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new Oh(e||500,c,new Error(d),!0)}function kf(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[s,a]=t[n];if(Co(a))return{key:s,result:a}}}function PN(e){let t=typeof e=="string"?$i(e):e;return Pi(oe(z({},t),{hash:""}))}function hR(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function mR(e){return LN(e.result)&&QD.has(e.result.status)}function tr(e){return e.type==="error"}function Co(e){return(e&&e.type)==="redirect"}function wj(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function LN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function pR(e){return KD.has(e.toUpperCase())}function Vs(e){return XD.has(e.toUpperCase())}function $x(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function ph(e,t){let n=typeof t=="string"?$i(t).search:t.search;if(e[e.length-1].route.index&&$x(n||""))return e[e.length-1];let s=EN(e);return s[s.length-1]}function _j(e){let{formMethod:t,formAction:n,formEncType:s,text:a,formData:i,json:c}=e;if(!(!t||!n||!s)){if(a!=null)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:t,formAction:n,formEncType:s,formData:i,json:void 0,text:void 0};if(c!==void 0)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:c,text:void 0}}}function Ig(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function gR(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function pu(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function xR(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Si(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function yR(e,t){try{let n=e.sessionStorage.getItem(CN);if(n){let s=JSON.parse(n);for(let[a,i]of Object.entries(s||{}))i&&Array.isArray(i)&&t.set(a,new Set(i||[]))}}catch(n){}}function bR(e,t){if(t.size>0){let n={};for(let[s,a]of t)n[s]=[...a];try{e.sessionStorage.setItem(CN,JSON.stringify(n))}catch(s){Zn(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function vR(){let e,t,n=new Promise((s,a)=>{e=i=>ge(null,null,function*(){s(i);try{yield n}catch(c){}}),t=i=>ge(null,null,function*(){a(i);try{yield n}catch(c){}})});return{promise:n,resolve:e,reject:t}}var Vo=j.createContext(null);Vo.displayName="DataRouter";var ed=j.createContext(null);ed.displayName="DataRouterState";j.createContext(!1);var Hx=j.createContext({isTransitioning:!1});Hx.displayName="ViewTransition";var zN=j.createContext(new Map);zN.displayName="Fetchers";var wR=j.createContext(null);wR.displayName="Await";var ga=j.createContext(null);ga.displayName="Navigation";var im=j.createContext(null);im.displayName="Location";var xa=j.createContext({outlet:null,matches:[],isDataRoute:!1});xa.displayName="Route";var Vx=j.createContext(null);Vx.displayName="RouteError";function _R(e,{relative:t}={}){qt(td(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(ga),{hash:a,pathname:i,search:c}=nd(e,{relative:t}),d=i;return n!=="/"&&(d=i==="/"?n:da([n,i])),s.createHref({pathname:d,search:c,hash:a})}function td(){return j.useContext(im)!=null}function Hi(){return qt(td(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(im).location}var UN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FN(e){j.useContext(ga).static||j.useLayoutEffect(e)}function jR(){let{isDataRoute:e}=j.useContext(xa);return e?UR():SR()}function SR(){qt(td(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(Vo),{basename:t,navigator:n}=j.useContext(ga),{matches:s}=j.useContext(xa),{pathname:a}=Hi(),i=JSON.stringify(Ux(s)),c=j.useRef(!1);return FN(()=>{c.current=!0}),j.useCallback((f,h={})=>{if(Zn(c.current,UN),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=Fx(f,JSON.parse(i),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:da([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,i,a,e])}var NR=j.createContext(null);function ER(e){let t=j.useContext(xa).outlet;return t&&j.createElement(NR.Provider,{value:e},t)}function nd(e,{relative:t}={}){let{matches:n}=j.useContext(xa),{pathname:s}=Hi(),a=JSON.stringify(Ux(n));return j.useMemo(()=>Fx(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function TR(e,t,n,s){qt(td(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=j.useContext(ga),{matches:i}=j.useContext(xa),c=i[i.length-1],d=c?c.params:{},f=c?c.pathname:"/",h=c?c.pathnameBase:"/",p=c&&c.route;{let S=p&&p.path||"";BN(f,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=Hi(),b;b=g;let y=b.pathname||"/",_=y;if(h!=="/"){let S=h.replace(/^\//,"").split("/");_="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=Ti(e,{pathname:_});return Zn(p||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Zn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),DR(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},d,S.params),pathname:da([h,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:da([h,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,s)}function CR(){let e=zR(),t=qu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:i},"ErrorBoundary")," or"," ",j.createElement("code",{style:i},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:a},n):null,c)}var kR=j.createElement(CR,null),OR=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?j.createElement(xa.Provider,{value:this.props.routeContext},j.createElement(Vx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AR({routeContext:e,match:t,children:n}){let s=j.useContext(Vo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(xa.Provider,{value:e},n)}function DR(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=n==null?void 0:n.errors;if(i!=null){let f=a.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);qt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,d=-1;if(n)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:p,errors:g}=n,b=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,h,p)=>{let g,b=!1,y=null,_=null;n&&(g=i&&h.route.id?i[h.route.id]:void 0,y=h.route.errorElement||kR,c&&(d<0&&p===0?(BN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,_=null):d===p&&(b=!0,_=h.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,p+1)),N=()=>{let S;return g?S=y:b?S=_:h.route.Component?S=j.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=f,j.createElement(AR,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?j.createElement(OR,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:N(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):N()},null)}function Ix(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RR(e){let t=j.useContext(Vo);return qt(t,Ix(e)),t}function MR(e){let t=j.useContext(ed);return qt(t,Ix(e)),t}function PR(e){let t=j.useContext(xa);return qt(t,Ix(e)),t}function qx(e){let t=PR(e),n=t.matches[t.matches.length-1];return qt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function LR(){return qx("useRouteId")}function zR(){var s;let e=j.useContext(Vx),t=MR("useRouteError"),n=qx("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function UR(){let{router:e}=RR("useNavigate"),t=qx("useNavigate"),n=j.useRef(!1);return FN(()=>{n.current=!0}),j.useCallback((c,...d)=>ge(null,[c,...d],function*(a,i={}){Zn(n.current,UN),n.current&&(typeof a=="number"?e.navigate(a):yield e.navigate(a,z({fromRouteId:t},i)))}),[e,t])}var jj={};function BN(e,t,n){!t&&!jj[e]&&(jj[e]=!0,Zn(!1,n))}var Sj={};function Nj(e,t){!e&&!Sj[t]&&(Sj[t]=!0,console.warn(t))}function FR(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Zn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:j.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Zn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:j.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Zn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:j.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var BR=["HydrateFallback","hydrateFallbackElement"],$R=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function HR({router:e,flushSync:t}){let[n,s]=j.useState(e.state),[a,i]=j.useState(),[c,d]=j.useState({isTransitioning:!1}),[f,h]=j.useState(),[p,g]=j.useState(),[b,y]=j.useState(),_=j.useRef(new Map),w=j.useCallback((A,{deletedFetchers:C,flushSync:k,viewTransitionOpts:T})=>{A.fetchers.forEach((P,U)=>{P.data!==void 0&&_.current.set(U,P.data)}),C.forEach(P=>_.current.delete(P)),Nj(k===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let R=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Nj(T==null||R,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!T||!R){t&&k?t(()=>s(A)):j.startTransition(()=>s(A));return}if(t&&k){t(()=>{p&&(f&&f.resolve(),p.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:T.currentLocation,nextLocation:T.nextLocation})});let P=e.window.document.startViewTransition(()=>{t(()=>s(A))});P.finished.finally(()=>{t(()=>{h(void 0),g(void 0),i(void 0),d({isTransitioning:!1})})}),t(()=>g(P));return}p?(f&&f.resolve(),p.skipTransition(),y({state:A,currentLocation:T.currentLocation,nextLocation:T.nextLocation})):(i(A),d({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}))},[e.window,t,p,f]);j.useLayoutEffect(()=>e.subscribe(w),[e,w]),j.useEffect(()=>{c.isTransitioning&&!c.flushSync&&h(new $R)},[c]),j.useEffect(()=>{if(f&&a&&e.window){let A=a,C=f.promise,k=e.window.document.startViewTransition(()=>ge(null,null,function*(){j.startTransition(()=>s(A)),yield C}));k.finished.finally(()=>{h(void 0),g(void 0),i(void 0),d({isTransitioning:!1})}),g(k)}},[a,f,e.window]),j.useEffect(()=>{f&&a&&n.location.key===a.location.key&&f.resolve()},[f,p,n.location,a]),j.useEffect(()=>{!c.isTransitioning&&b&&(i(b.state),d({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),y(void 0))},[c.isTransitioning,b]);let N=j.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:A=>e.navigate(A),push:(A,C,k)=>e.navigate(A,{state:C,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(A,C,k)=>e.navigate(A,{replace:!0,state:C,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[e]),S=e.basename||"/",D=j.useMemo(()=>({router:e,navigator:N,static:!1,basename:S}),[e,N,S]);return j.createElement(j.Fragment,null,j.createElement(Vo.Provider,{value:D},j.createElement(ed.Provider,{value:n},j.createElement(zN.Provider,{value:_.current},j.createElement(Hx.Provider,{value:c},j.createElement(WR,{basename:S,location:n.location,navigationType:n.historyAction,navigator:N},j.createElement(VR,{routes:e.routes,future:e.future,state:n})))))),null)}var VR=j.memo(IR);function IR({routes:e,future:t,state:n}){return TR(e,void 0,n,t)}function qR(e){return ER(e.context)}function WR({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:i=!1}){qt(!td(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:c,navigator:a,static:i,future:{}}),[c,a,i]);typeof n=="string"&&(n=$i(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:b="default"}=n,y=j.useMemo(()=>{let _=Er(f,c);return _==null?null:{location:{pathname:_,search:h,hash:p,state:g,key:b},navigationType:s}},[c,f,h,p,g,b,s]);return Zn(y!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:j.createElement(ga.Provider,{value:d},j.createElement(im.Provider,{children:t,value:y}))}var gh="get",xh="application/x-www-form-urlencoded";function om(e){return e!=null&&typeof e.tagName=="string"}function YR(e){return om(e)&&e.tagName.toLowerCase()==="button"}function XR(e){return om(e)&&e.tagName.toLowerCase()==="form"}function GR(e){return om(e)&&e.tagName.toLowerCase()==="input"}function KR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function QR(e,t){return e.button===0&&(!t||t==="_self")&&!KR(e)}var Of=null;function ZR(){if(Of===null)try{new FormData(document.createElement("form"),0),Of=!1}catch(e){Of=!0}return Of}var JR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qg(e){return e!=null&&!JR.has(e)?(Zn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xh}"`),null):e}function eM(e,t){let n,s,a,i,c;if(XR(e)){let d=e.getAttribute("action");s=d?Er(d,t):null,n=e.getAttribute("method")||gh,a=qg(e.getAttribute("enctype"))||xh,i=new FormData(e)}else if(YR(e)||GR(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(s=f?Er(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||gh,a=qg(e.getAttribute("formenctype"))||qg(d.getAttribute("enctype"))||xh,i=new FormData(d,e),!ZR()){let{name:h,type:p,value:g}=e;if(p==="image"){let b=h?`${h}.`:"";i.append(`${b}x`,"0"),i.append(`${b}y`,"0")}else h&&i.append(h,g)}}else{if(om(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gh,s=null,a=xh,c=e}return i&&a==="text/plain"&&(c=i,i=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:i,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wx(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function tM(e,t,n){let s=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Er(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}function nM(e,t){return ge(this,null,function*(){if(e.id in t)return t[e.id];try{let n=yield import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function sM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function rM(e,t,n){return ge(this,null,function*(){let s=yield Promise.all(e.map(a=>ge(null,null,function*(){let i=t.routes[a.route.id];if(i){let c=yield nM(i,n);return c.links?c.links():[]}return[]})));return lM(s.flat(1).filter(sM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?oe(z({},a),{rel:"prefetch",as:"style"}):oe(z({},a),{rel:"prefetch"})))})}function Ej(e,t,n,s,a,i){let c=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return i==="assets"?t.filter((f,h)=>c(f,h)||d(f,h)):i==="data"?t.filter((f,h)=>{var g;let p=s.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function aM(e,t,{includeHydrateFallback:n}={}){return iM(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function iM(e){return[...new Set(e)]}function oM(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function lM(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let i=JSON.stringify(oM(a));return n.has(i)||(n.add(i),s.push({key:i,link:a})),s},[])}function $N(){let e=j.useContext(Vo);return Wx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function cM(){let e=j.useContext(ed);return Wx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Yx=j.createContext(void 0);Yx.displayName="FrameworkContext";function HN(){let e=j.useContext(Yx);return Wx(e,"You must render this element inside a <HydratedRouter> element"),e}function uM(e,t){let n=j.useContext(Yx),[s,a]=j.useState(!1),[i,c]=j.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,b=j.useRef(null);j.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let w=S=>{S.forEach(D=>{c(D.isIntersecting)})},N=new IntersectionObserver(w,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[e]),j.useEffect(()=>{if(s){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[s]);let y=()=>{a(!0)},_=()=>{a(!1),c(!1)};return n?e!=="intent"?[i,b,{}]:[i,b,{onFocus:gu(d,y),onBlur:gu(f,_),onMouseEnter:gu(h,y),onMouseLeave:gu(p,_),onTouchStart:gu(g,y)}]:[!1,b,{}]}function gu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function dM(n){var s=n,{page:e}=s,t=Ae(s,["page"]);let{router:a}=$N(),i=j.useMemo(()=>Ti(a.routes,e,a.basename),[a.routes,e,a.basename]);return i?j.createElement(hM,z({page:e,matches:i},t)):null}function fM(e){let{manifest:t,routeModules:n}=HN(),[s,a]=j.useState([]);return j.useEffect(()=>{let i=!1;return rM(e,t,n).then(c=>{i||a(c)}),()=>{i=!0}},[e,t,n]),s}function hM(s){var a=s,{page:e,matches:t}=a,n=Ae(a,["page","matches"]);let i=Hi(),{manifest:c,routeModules:d}=HN(),{basename:f}=$N(),{loaderData:h,matches:p}=cM(),g=j.useMemo(()=>Ej(e,t,p,c,i,"data"),[e,t,p,c,i]),b=j.useMemo(()=>Ej(e,t,p,c,i,"assets"),[e,t,p,c,i]),y=j.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let N=new Set,S=!1;if(t.forEach(A=>{var k;let C=c.routes[A.route.id];!C||!C.hasLoader||(!g.some(T=>T.route.id===A.route.id)&&A.route.id in h&&((k=d[A.route.id])!=null&&k.shouldRevalidate)||C.hasClientLoader?S=!0:N.add(A.route.id))}),N.size===0)return[];let D=tM(e,f,"data");return S&&N.size>0&&D.searchParams.set("_routes",t.filter(A=>N.has(A.route.id)).map(A=>A.route.id).join(",")),[D.pathname+D.search]},[f,h,i,c,g,t,e,d]),_=j.useMemo(()=>aM(b,c),[b,c]),w=fM(b);return j.createElement(j.Fragment,null,y.map(N=>j.createElement("link",z({key:N,rel:"prefetch",as:"fetch",href:N},n))),_.map(N=>j.createElement("link",z({key:N,rel:"modulepreload",href:N},n))),w.map(({key:N,link:S})=>j.createElement("link",z({key:N},S))))}function mM(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var VN=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{VN&&(window.__reactRouterVersion="7.7.1")}catch(e){}function pM(e,t){return nR({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:wD({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||gM(),routes:e,mapRouteProperties:FR,hydrationRouteProperties:BR,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function gM(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=oe(z({},e),{errors:xM(e.errors)})),e}function xM(e){if(!e)return null;let t=Object.entries(e),n={};for(let[s,a]of t)if(a&&a.__type==="RouteErrorResponse")n[s]=new Oh(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let c=new i(a.message);c.stack="",n[s]=c}catch(c){}}if(n[s]==null){let i=new Error(a.message);i.stack="",n[s]=i}}else n[s]=a;return n}var IN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qN=j.forwardRef(function(_,y){var w=_,{onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:i,replace:c,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g}=w,b=Ae(w,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:N}=j.useContext(ga),S=typeof h=="string"&&IN.test(h),D,A=!1;if(typeof h=="string"&&S&&(D=h,VN))try{let H=new URL(window.location.href),K=h.startsWith("//")?new URL(H.protocol+h):new URL(h),Y=Er(K.pathname,N);K.origin===H.origin&&Y!=null?h=Y+K.search+K.hash:A=!0}catch(H){Zn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=_R(h,{relative:a}),[k,T,R]=uM(s,b),P=vM(h,{replace:c,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g});function U(H){t&&t(H),H.defaultPrevented||P(H)}let X=j.createElement("a",oe(z(z({},b),R),{href:D||C,onClick:A||i?t:U,ref:mM(y,T),target:f,"data-discover":!S&&n==="render"?"true":void 0}));return k&&!S?j.createElement(j.Fragment,null,X,j.createElement(dM,{page:C})):X});qN.displayName="Link";var WN=j.forwardRef(function(g,p){var b=g,{"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:i,to:c,viewTransition:d,children:f}=b,h=Ae(b,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let y=nd(c,{relative:h.relative}),_=Hi(),w=j.useContext(ed),{navigator:N,basename:S}=j.useContext(ga),D=w!=null&&NM(y)&&d===!0,A=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,C=_.pathname,k=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(C=C.toLowerCase(),k=k?k.toLowerCase():null,A=A.toLowerCase()),k&&S&&(k=Er(k,S)||k);const T=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let R=C===A||!a&&C.startsWith(A)&&C.charAt(T)==="/",P=k!=null&&(k===A||!a&&k.startsWith(A)&&k.charAt(A.length)==="/"),U={isActive:R,isPending:P,isTransitioning:D},X=R?t:void 0,H;typeof s=="function"?H=s(U):H=[s,R?"active":null,P?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let K=typeof i=="function"?i(U):i;return j.createElement(qN,oe(z({},h),{"aria-current":X,className:H,ref:p,style:K,to:c,viewTransition:d}),typeof f=="function"?f(U):f)});WN.displayName="NavLink";var yM=j.forwardRef((_,y)=>{var w=_,{discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:i,method:c=gh,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g}=w,b=Ae(w,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let N=jM(),S=SM(d,{relative:h}),D=c.toLowerCase()==="get"?"get":"post",A=typeof d=="string"&&IN.test(d),C=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let T=k.nativeEvent.submitter,R=(T==null?void 0:T.getAttribute("formmethod"))||c;N(T||k.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:a,state:i,relative:h,preventScrollReset:p,viewTransition:g})};return j.createElement("form",oe(z({ref:y,method:D,action:S,onSubmit:s?f:C},b),{"data-discover":!A&&e==="render"?"true":void 0}))});yM.displayName="Form";function bM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YN(e){let t=j.useContext(Vo);return qt(t,bM(e)),t}function vM(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:c}={}){let d=jR(),f=Hi(),h=nd(e,{relative:i});return j.useCallback(p=>{if(QR(p,t)){p.preventDefault();let g=n!==void 0?n:Pi(f)===Pi(h);d(e,{replace:g,state:s,preventScrollReset:a,relative:i,viewTransition:c})}},[f,d,h,n,s,t,e,a,i,c])}var wM=0,_M=()=>`__${String(++wM)}__`;function jM(){let{router:e}=YN("useSubmit"),{basename:t}=j.useContext(ga),n=LR();return j.useCallback((i,...c)=>ge(null,[i,...c],function*(s,a={}){let{action:d,method:f,encType:h,formData:p,body:g}=eM(s,t);if(a.navigate===!1){let b=a.fetcherKey||_M();yield e.fetch(b,n,a.action||d,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||f,formEncType:a.encType||h,flushSync:a.flushSync})}else yield e.navigate(a.action||d,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||f,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,t,n])}function SM(e,{relative:t}={}){let{basename:n}=j.useContext(ga),s=j.useContext(xa);qt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i=z({},nd(e||".",{relative:t})),c=Hi();if(e==null){i.search=c.search;let d=new URLSearchParams(i.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();i.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:da([n,i.pathname])),Pi(i)}function NM(e,{relative:t}={}){let n=j.useContext(Hx);qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=YN("useViewTransitionState"),a=nd(e,{relative:t});if(!n.isTransitioning)return!1;let i=Er(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Er(n.nextLocation.pathname,s)||n.nextLocation.pathname;return kh(a.pathname,c)!=null||kh(a.pathname,i)!=null}var lm=IS();const XN=Ex(lm);function EM(e){return j.createElement(HR,z({flushSync:lm.flushSync},e))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),Tj=e=>{const t=CM(e);return t.charAt(0).toUpperCase()+t.slice(1)},GN=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),kM=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=j.forwardRef((h,f)=>{var p=h,{color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:c}=p,d=Ae(p,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return j.createElement("svg",z(z(oe(z({ref:f},OM),{width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:GN("lucide",a)}),!i&&!kM(d)&&{"aria-hidden":"true"}),d),[...c.map(([g,b])=>j.createElement(g,b)),...Array.isArray(i)?i:[i]])});/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=(e,t)=>{const n=j.forwardRef((c,i)=>{var d=c,{className:s}=d,a=Ae(d,["className"]);return j.createElement(AM,z({ref:i,iconNode:t,className:GN(`lucide-${TM(Tj(e))}`,`lucide-${e}`,s)},a))});return n.displayName=Tj(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],RM=yt("activity",DM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],PM=yt("archive",MM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Xx=yt("arrow-left",LM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],UM=yt("bell",zM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Vr=yt("calendar",FM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],$M=yt("chart-column",BM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],VM=yt("check",HM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],KN=yt("chevron-down",IM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],WM=yt("chevron-right",qM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],XM=yt("chevrons-up-down",YM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Zl=yt("circle-alert",GM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],QM=yt("circle-check-big",KM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Gx=yt("circle-check",ZM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sc=yt("clock",JM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],tP=yt("crown",eP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Kx=yt("dollar-sign",nP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Cj=yt("download",sP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],aP=yt("ellipsis-vertical",rP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],oP=yt("external-link",iP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cP=yt("eye",lP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Vl=yt("file-text",uP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Af=yt("file",dP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],hP=yt("folder-open",fP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Qx=yt("funnel",mP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],gP=yt("grid-3x3",pP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],yP=yt("image",xP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],vP=yt("layout-dashboard",bP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Df=yt("link",wP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],jP=yt("list",_P);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],W0=yt("loader-circle",SP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],EP=yt("log-out",NP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],CP=yt("menu",TP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],OP=yt("pause",kP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],DP=yt("pen",AP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],MP=yt("piggy-bank",RP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],LP=yt("play",PP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Mo=yt("plus",zP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],QN=yt("refresh-cw",UP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cm=yt("search",FP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ZN=yt("settings",BP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],HP=yt("square-check-big",$P);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Wl=yt("square-pen",VP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],qP=yt("square",IP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Zx=yt("target",WP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Po=yt("trash-2",YP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],um=yt("triangle-alert",XP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],KP=yt("upload",GP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Dh=yt("user",QP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yh=yt("users",ZP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],e3=yt("x",JP),t3=[{name:"Dashboard",href:"/",icon:vP},{name:"Projects",href:"/projects",icon:hP},{name:"Tasks",href:"/tasks",icon:HP},{name:"Time Tracking",href:"/time-tracking",icon:sc},{name:"Cost Analysis",href:"/cost-analysis",icon:Kx},{name:"Reports",href:"/reports",icon:$M},{name:"Calendar",href:"/calendar",icon:Vr},{name:"Team",href:"/team",icon:yh},{name:"Documents",href:"/documents",icon:Vl},{name:"Settings",href:"/settings",icon:ZN}],kj=()=>{const e=Hi();return l.jsxs("div",{className:"flex flex-col w-64 bg-white shadow-lg border-r border-gray-200",children:[l.jsx("div",{className:"flex items-center justify-center h-16 px-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",children:l.jsx("img",{src:"https://ctuav.vn/wp-content/uploads/2024/08/Logo-moi-ctuav.png",alt:"CT UAV Logo",className:"w-8 h-8 object-contain"})}),l.jsx("span",{className:"text-xl font-bold text-gray-800",children:"CT UAV"})]})}),l.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:t3.map(t=>{const n=e.pathname===t.href;return l.jsxs(WN,{to:t.href,className:`
                group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200
                ${n?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-md":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}
              `,children:[l.jsx(t.icon,{className:`
                  mr-3 h-5 w-5 transition-colors duration-200
                  ${n?"text-white":"text-gray-500 group-hover:text-gray-700"}
                `}),t.name]},t.name)})}),l.jsx("div",{className:"p-4 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white font-medium text-sm",children:"U"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Admin"}),l.jsx("p",{className:"text-xs text-gray-500 truncate",children:"admin@ctgroupvietnam.com"})]})]})})]})};function ir(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Oj(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Lo(...e){return t=>{let n=!1;const s=e.map(a=>{const i=Oj(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():Oj(e[a],null)}}}}function Dn(...e){return j.useCallback(Lo(...e),e)}function Jx(e,t){const n=j.createContext(t),s=i=>{const h=i,{children:c}=h,d=Ae(h,["children"]),f=j.useMemo(()=>d,Object.values(d));return l.jsx(n.Provider,{value:f,children:c})};s.displayName=e+"Provider";function a(i){const c=j.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function sd(e,t=[]){let n=[];function s(i,c){const d=j.createContext(c),f=n.length;n=[...n,c];const h=g=>{var D;const S=g,{scope:b,children:y}=S,_=Ae(S,["scope","children"]),w=((D=b==null?void 0:b[e])==null?void 0:D[f])||d,N=j.useMemo(()=>_,Object.values(_));return l.jsx(w.Provider,{value:N,children:y})};h.displayName=i+"Provider";function p(g,b){var w;const y=((w=b==null?void 0:b[e])==null?void 0:w[f])||d,_=j.useContext(y);if(_)return _;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[h,p]}const a=()=>{const i=n.map(c=>j.createContext(c));return function(d){const f=(d==null?void 0:d[e])||i;return j.useMemo(()=>({[`__scope${e}`]:oe(z({},d),{[e]:f})}),[d,f])}};return a.scopeName=e,[s,n3(a,...t)]}function n3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const c=s.reduce((d,{useScope:f,scopeName:h})=>{const g=f(i)[`__scope${h}`];return z(z({},d),g)},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function rc(e){const t=r3(e),n=j.forwardRef((s,a)=>{const h=s,{children:i}=h,c=Ae(h,["children"]),d=j.Children.toArray(i),f=d.find(i3);if(f){const p=f.props.children,g=d.map(b=>b===f?j.Children.count(p)>1?j.Children.only(null):j.isValidElement(p)?p.props.children:null:b);return l.jsx(t,oe(z({},c),{ref:a,children:j.isValidElement(p)?j.cloneElement(p,void 0,g):null}))}return l.jsx(t,oe(z({},c),{ref:a,children:i}))});return n.displayName=`${e}.Slot`,n}var s3=rc("Slot");function r3(e){const t=j.forwardRef((n,s)=>{const c=n,{children:a}=c,i=Ae(c,["children"]);if(j.isValidElement(a)){const d=l3(a),f=o3(i,a.props);return a.type!==j.Fragment&&(f.ref=s?Lo(s,d):d),j.cloneElement(a,f)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var a3=Symbol("radix.slottable");function i3(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===a3}function o3(e,t){const n=z({},t);for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...d)=>{const f=i(...d);return a(...d),f}:a&&(n[s]=a):s==="style"?n[s]=z(z({},a),i):s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return z(z({},e),n)}function l3(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var c3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wt=c3.reduce((e,t)=>{const n=rc(`Primitive.${t}`),s=j.forwardRef((a,i)=>{const h=a,{asChild:c}=h,d=Ae(h,["asChild"]),f=c?n:t;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(f,oe(z({},d),{ref:i}))});return s.displayName=`Primitive.${t}`,oe(z({},e),{[t]:s})},{});function ey(e,t){e&&lm.flushSync(()=>e.dispatchEvent(t))}function ma(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function ty(e,t=globalThis==null?void 0:globalThis.document){const n=ma(e);j.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var u3="DismissableLayer",Y0="dismissableLayer.update",d3="dismissableLayer.pointerDownOutside",f3="dismissableLayer.focusOutside",Aj,JN=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ny=j.forwardRef((e,t)=>{var P;const R=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:c,onDismiss:d}=R,f=Ae(R,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),h=j.useContext(JN),[p,g]=j.useState(null),b=(P=p==null?void 0:p.ownerDocument)!=null?P:globalThis==null?void 0:globalThis.document,[,y]=j.useState({}),_=Dn(t,U=>g(U)),w=Array.from(h.layers),[N]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),S=w.indexOf(N),D=p?w.indexOf(p):-1,A=h.layersWithOutsidePointerEventsDisabled.size>0,C=D>=S,k=p3(U=>{const X=U.target,H=[...h.branches].some(K=>K.contains(X));!C||H||(a==null||a(U),c==null||c(U),U.defaultPrevented||d==null||d())},b),T=g3(U=>{const X=U.target;[...h.branches].some(K=>K.contains(X))||(i==null||i(U),c==null||c(U),U.defaultPrevented||d==null||d())},b);return ty(U=>{D===h.layers.size-1&&(s==null||s(U),!U.defaultPrevented&&d&&(U.preventDefault(),d()))},b),j.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Aj=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),Dj(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Aj)}},[p,b,n,h]),j.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),Dj())},[p,h]),j.useEffect(()=>{const U=()=>y({});return document.addEventListener(Y0,U),()=>document.removeEventListener(Y0,U)},[]),l.jsx(Wt.div,oe(z({},f),{ref:_,style:z({pointerEvents:A?C?"auto":"none":void 0},e.style),onFocusCapture:ir(e.onFocusCapture,T.onFocusCapture),onBlurCapture:ir(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:ir(e.onPointerDownCapture,k.onPointerDownCapture)}))});ny.displayName=u3;var h3="DismissableLayerBranch",m3=j.forwardRef((e,t)=>{const n=j.useContext(JN),s=j.useRef(null),a=Dn(t,s);return j.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(Wt.div,oe(z({},e),{ref:a}))});m3.displayName=h3;function p3(e,t=globalThis==null?void 0:globalThis.document){const n=ma(e),s=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=d=>{if(d.target&&!s.current){let f=function(){e2(d3,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function g3(e,t=globalThis==null?void 0:globalThis.document){const n=ma(e),s=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!s.current&&e2(f3,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Dj(){const e=new CustomEvent(Y0);document.dispatchEvent(e)}function e2(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?ey(a,i):a.dispatchEvent(i)}var Wg=0;function t2(){j.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:Rj()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:Rj()),Wg++,()=>{Wg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Wg--}},[])}function Rj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Yg="focusScope.autoFocusOnMount",Xg="focusScope.autoFocusOnUnmount",Mj={bubbles:!1,cancelable:!0},x3="FocusScope",rd=j.forwardRef((e,t)=>{const w=e,{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i}=w,c=Ae(w,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[d,f]=j.useState(null),h=ma(a),p=ma(i),g=j.useRef(null),b=Dn(t,N=>f(N)),y=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(s){let N=function(C){if(y.paused||!d)return;const k=C.target;d.contains(k)?g.current=k:Ni(g.current,{select:!0})},S=function(C){if(y.paused||!d)return;const k=C.relatedTarget;k!==null&&(d.contains(k)||Ni(g.current,{select:!0}))},D=function(C){if(document.activeElement===document.body)for(const T of C)T.removedNodes.length>0&&Ni(d)};document.addEventListener("focusin",N),document.addEventListener("focusout",S);const A=new MutationObserver(D);return d&&A.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",S),A.disconnect()}}},[s,d,y.paused]),j.useEffect(()=>{if(d){Lj.add(y);const N=document.activeElement;if(!d.contains(N)){const D=new CustomEvent(Yg,Mj);d.addEventListener(Yg,h),d.dispatchEvent(D),D.defaultPrevented||(y3(j3(n2(d)),{select:!0}),document.activeElement===N&&Ni(d))}return()=>{d.removeEventListener(Yg,h),setTimeout(()=>{const D=new CustomEvent(Xg,Mj);d.addEventListener(Xg,p),d.dispatchEvent(D),D.defaultPrevented||Ni(N!=null?N:document.body,{select:!0}),d.removeEventListener(Xg,p),Lj.remove(y)},0)}}},[d,h,p,y]);const _=j.useCallback(N=>{if(!n&&!s||y.paused)return;const S=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,D=document.activeElement;if(S&&D){const A=N.currentTarget,[C,k]=b3(A);C&&k?!N.shiftKey&&D===k?(N.preventDefault(),n&&Ni(C,{select:!0})):N.shiftKey&&D===C&&(N.preventDefault(),n&&Ni(k,{select:!0})):D===A&&N.preventDefault()}},[n,s,y.paused]);return l.jsx(Wt.div,oe(z({tabIndex:-1},c),{ref:b,onKeyDown:_}))});rd.displayName=x3;function y3(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Ni(s,{select:t}),document.activeElement!==n)return}function b3(e){const t=n2(e),n=Pj(t,e),s=Pj(t.reverse(),e);return[n,s]}function n2(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Pj(e,t){for(const n of e)if(!v3(n,{upTo:t}))return n}function v3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function w3(e){return e instanceof HTMLInputElement&&"select"in e}function Ni(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&w3(e)&&t&&e.select()}}var Lj=_3();function _3(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=zj(e,t),e.unshift(t)},remove(t){var n;e=zj(e,t),(n=e[0])==null||n.resume()}}}function zj(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function j3(e){return e.filter(t=>t.tagName!=="A")}var Tr=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},S3=VS[" useId ".trim().toString()]||(()=>{}),N3=0;function ks(e){const[t,n]=j.useState(S3());return Tr(()=>{n(s=>s!=null?s:String(N3++))},[e]),e||(t?`radix-${t}`:"")}const E3=["top","right","bottom","left"],Li=Math.min,sr=Math.max,Rh=Math.round,Rf=Math.floor,fa=e=>({x:e,y:e}),T3={left:"right",right:"left",bottom:"top",top:"bottom"},C3={start:"end",end:"start"};function X0(e,t,n){return sr(e,Li(t,n))}function Ya(e,t){return typeof e=="function"?e(t):e}function Xa(e){return e.split("-")[0]}function ac(e){return e.split("-")[1]}function sy(e){return e==="x"?"y":"x"}function ry(e){return e==="y"?"height":"width"}const k3=new Set(["top","bottom"]);function la(e){return k3.has(Xa(e))?"y":"x"}function ay(e){return sy(la(e))}function O3(e,t,n){n===void 0&&(n=!1);const s=ac(e),a=ay(e),i=ry(a);let c=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(c=Mh(c)),[c,Mh(c)]}function A3(e){const t=Mh(e);return[G0(e),t,G0(t)]}function G0(e){return e.replace(/start|end/g,t=>C3[t])}const Uj=["left","right"],Fj=["right","left"],D3=["top","bottom"],R3=["bottom","top"];function M3(e,t,n){switch(e){case"top":case"bottom":return n?t?Fj:Uj:t?Uj:Fj;case"left":case"right":return t?D3:R3;default:return[]}}function P3(e,t,n,s){const a=ac(e);let i=M3(Xa(e),n==="start",s);return a&&(i=i.map(c=>c+"-"+a),t&&(i=i.concat(i.map(G0)))),i}function Mh(e){return e.replace(/left|right|bottom|top/g,t=>T3[t])}function L3(e){return z({top:0,right:0,bottom:0,left:0},e)}function s2(e){return typeof e!="number"?L3(e):{top:e,right:e,bottom:e,left:e}}function Ph(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function Bj(e,t,n){let{reference:s,floating:a}=e;const i=la(t),c=ay(t),d=ry(c),f=Xa(t),h=i==="y",p=s.x+s.width/2-a.width/2,g=s.y+s.height/2-a.height/2,b=s[d]/2-a[d]/2;let y;switch(f){case"top":y={x:p,y:s.y-a.height};break;case"bottom":y={x:p,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:g};break;case"left":y={x:s.x-a.width,y:g};break;default:y={x:s.x,y:s.y}}switch(ac(t)){case"start":y[c]-=b*(n&&h?-1:1);break;case"end":y[c]+=b*(n&&h?-1:1);break}return y}const z3=(e,t,n)=>ge(null,null,function*(){const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:c}=n,d=i.filter(Boolean),f=yield c.isRTL==null?void 0:c.isRTL(t);let h=yield c.getElementRects({reference:e,floating:t,strategy:a}),{x:p,y:g}=Bj(h,s,f),b=s,y={},_=0;for(let w=0;w<d.length;w++){const{name:N,fn:S}=d[w],{x:D,y:A,data:C,reset:k}=yield S({x:p,y:g,initialPlacement:s,placement:b,strategy:a,middlewareData:y,rects:h,platform:c,elements:{reference:e,floating:t}});p=D!=null?D:p,g=A!=null?A:g,y=oe(z({},y),{[N]:z(z({},y[N]),C)}),k&&_<=50&&(_++,typeof k=="object"&&(k.placement&&(b=k.placement),k.rects&&(h=k.rects===!0?yield c.getElementRects({reference:e,floating:t,strategy:a}):k.rects),{x:p,y:g}=Bj(h,b,f)),w=-1)}return{x:p,y:g,placement:b,strategy:a,middlewareData:y}});function Wu(e,t){return ge(this,null,function*(){var n;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:c,elements:d,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:b=!1,padding:y=0}=Ya(t,e),_=s2(y),N=d[b?g==="floating"?"reference":"floating":g],S=Ph(yield i.getClippingRect({element:(n=yield i.isElement==null?void 0:i.isElement(N))==null||n?N:N.contextElement||(yield i.getDocumentElement==null?void 0:i.getDocumentElement(d.floating)),boundary:h,rootBoundary:p,strategy:f})),D=g==="floating"?{x:s,y:a,width:c.floating.width,height:c.floating.height}:c.reference,A=yield i.getOffsetParent==null?void 0:i.getOffsetParent(d.floating),C=(yield i.isElement==null?void 0:i.isElement(A))?(yield i.getScale==null?void 0:i.getScale(A))||{x:1,y:1}:{x:1,y:1},k=Ph(i.convertOffsetParentRelativeRectToViewportRelativeRect?yield i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:D,offsetParent:A,strategy:f}):D);return{top:(S.top-k.top+_.top)/C.y,bottom:(k.bottom-S.bottom+_.bottom)/C.y,left:(S.left-k.left+_.left)/C.x,right:(k.right-S.right+_.right)/C.x}})}const U3=e=>({name:"arrow",options:e,fn(n){return ge(this,null,function*(){const{x:s,y:a,placement:i,rects:c,platform:d,elements:f,middlewareData:h}=n,{element:p,padding:g=0}=Ya(e,n)||{};if(p==null)return{};const b=s2(g),y={x:s,y:a},_=ay(i),w=ry(_),N=yield d.getDimensions(p),S=_==="y",D=S?"top":"left",A=S?"bottom":"right",C=S?"clientHeight":"clientWidth",k=c.reference[w]+c.reference[_]-y[_]-c.floating[w],T=y[_]-c.reference[_],R=yield d.getOffsetParent==null?void 0:d.getOffsetParent(p);let P=R?R[C]:0;(!P||!(yield d.isElement==null?void 0:d.isElement(R)))&&(P=f.floating[C]||c.floating[w]);const U=k/2-T/2,X=P/2-N[w]/2-1,H=Li(b[D],X),K=Li(b[A],X),Y=H,te=P-N[w]-K,W=P/2-N[w]/2+U,V=X0(Y,W,te),Q=!h.arrow&&ac(i)!=null&&W!==V&&c.reference[w]/2-(W<Y?H:K)-N[w]/2<0,ee=Q?W<Y?W-Y:W-te:0;return{[_]:y[_]+ee,data:z({[_]:V,centerOffset:W-V-ee},Q&&{alignmentOffset:ee}),reset:Q}})}}),F3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(n){return ge(this,null,function*(){var s,a;const{placement:i,middlewareData:c,rects:d,initialPlacement:f,platform:h,elements:p}=n,W=Ya(e,n),{mainAxis:g=!0,crossAxis:b=!0,fallbackPlacements:y,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:N=!0}=W,S=Ae(W,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((s=c.arrow)!=null&&s.alignmentOffset)return{};const D=Xa(i),A=la(f),C=Xa(f)===f,k=yield h.isRTL==null?void 0:h.isRTL(p.floating),T=y||(C||!N?[Mh(f)]:A3(f)),R=w!=="none";!y&&R&&T.push(...P3(f,N,w,k));const P=[f,...T],U=yield Wu(n,S),X=[];let H=((a=c.flip)==null?void 0:a.overflows)||[];if(g&&X.push(U[D]),b){const V=O3(i,d,k);X.push(U[V[0]],U[V[1]])}if(H=[...H,{placement:i,overflows:X}],!X.every(V=>V<=0)){var K,Y;const V=(((K=c.flip)==null?void 0:K.index)||0)+1,Q=P[V];if(Q&&(!(b==="alignment"?A!==la(Q):!1)||H.every(L=>la(L.placement)===A?L.overflows[0]>0:!0)))return{data:{index:V,overflows:H},reset:{placement:Q}};let ee=(Y=H.filter(ce=>ce.overflows[0]<=0).sort((ce,L)=>ce.overflows[1]-L.overflows[1])[0])==null?void 0:Y.placement;if(!ee)switch(_){case"bestFit":{var te;const ce=(te=H.filter(L=>{if(R){const le=la(L.placement);return le===A||le==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(le=>le>0).reduce((le,re)=>le+re,0)]).sort((L,le)=>L[1]-le[1])[0])==null?void 0:te[0];ce&&(ee=ce);break}case"initialPlacement":ee=f;break}if(i!==ee)return{reset:{placement:ee}}}return{}})}}};function $j(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Hj(e){return E3.some(t=>e[t]>=0)}const B3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(n){return ge(this,null,function*(){const{rects:s}=n,c=Ya(e,n),{strategy:a="referenceHidden"}=c,i=Ae(c,["strategy"]);switch(a){case"referenceHidden":{const d=yield Wu(n,oe(z({},i),{elementContext:"reference"})),f=$j(d,s.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:Hj(f)}}}case"escaped":{const d=yield Wu(n,oe(z({},i),{altBoundary:!0})),f=$j(d,s.floating);return{data:{escapedOffsets:f,escaped:Hj(f)}}}default:return{}}})}}},r2=new Set(["left","top"]);function $3(e,t){return ge(this,null,function*(){const{placement:n,platform:s,elements:a}=e,i=yield s.isRTL==null?void 0:s.isRTL(a.floating),c=Xa(n),d=ac(n),f=la(n)==="y",h=r2.has(c)?-1:1,p=i&&f?-1:1,g=Ya(t,e);let{mainAxis:b,crossAxis:y,alignmentAxis:_}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof _=="number"&&(y=d==="end"?_*-1:_),f?{x:y*p,y:b*h}:{x:b*h,y:y*p}})}const H3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(n){return ge(this,null,function*(){var s,a;const{x:i,y:c,placement:d,middlewareData:f}=n,h=yield $3(n,e);return d===((s=f.offset)==null?void 0:s.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:i+h.x,y:c+h.y,data:oe(z({},h),{placement:d})}})}}},V3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(n){return ge(this,null,function*(){const{x:s,y:a,placement:i}=n,S=Ya(e,n),{mainAxis:c=!0,crossAxis:d=!1,limiter:f={fn:D=>{let{x:A,y:C}=D;return{x:A,y:C}}}}=S,h=Ae(S,["mainAxis","crossAxis","limiter"]),p={x:s,y:a},g=yield Wu(n,h),b=la(Xa(i)),y=sy(b);let _=p[y],w=p[b];if(c){const D=y==="y"?"top":"left",A=y==="y"?"bottom":"right",C=_+g[D],k=_-g[A];_=X0(C,_,k)}if(d){const D=b==="y"?"top":"left",A=b==="y"?"bottom":"right",C=w+g[D],k=w-g[A];w=X0(C,w,k)}const N=f.fn(oe(z({},n),{[y]:_,[b]:w}));return oe(z({},N),{data:{x:N.x-s,y:N.y-a,enabled:{[y]:c,[b]:d}}})})}}},I3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:i,middlewareData:c}=t,{offset:d=0,mainAxis:f=!0,crossAxis:h=!0}=Ya(e,t),p={x:n,y:s},g=la(a),b=sy(g);let y=p[b],_=p[g];const w=Ya(d,t),N=typeof w=="number"?{mainAxis:w,crossAxis:0}:z({mainAxis:0,crossAxis:0},w);if(f){const A=b==="y"?"height":"width",C=i.reference[b]-i.floating[A]+N.mainAxis,k=i.reference[b]+i.reference[A]-N.mainAxis;y<C?y=C:y>k&&(y=k)}if(h){var S,D;const A=b==="y"?"width":"height",C=r2.has(Xa(a)),k=i.reference[g]-i.floating[A]+(C&&((S=c.offset)==null?void 0:S[g])||0)+(C?0:N.crossAxis),T=i.reference[g]+i.reference[A]+(C?0:((D=c.offset)==null?void 0:D[g])||0)-(C?N.crossAxis:0);_<k?_=k:_>T&&(_=T)}return{[b]:y,[g]:_}}}},q3=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(n){return ge(this,null,function*(){var s,a;const{placement:i,rects:c,platform:d,elements:f}=n,H=Ya(e,n),{apply:h=()=>{}}=H,p=Ae(H,["apply"]),g=yield Wu(n,p),b=Xa(i),y=ac(i),_=la(i)==="y",{width:w,height:N}=c.floating;let S,D;b==="top"||b==="bottom"?(S=b,D=y===((yield d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(D=b,S=y==="end"?"top":"bottom");const A=N-g.top-g.bottom,C=w-g.left-g.right,k=Li(N-g[S],A),T=Li(w-g[D],C),R=!n.middlewareData.shift;let P=k,U=T;if((s=n.middlewareData.shift)!=null&&s.enabled.x&&(U=C),(a=n.middlewareData.shift)!=null&&a.enabled.y&&(P=A),R&&!y){const K=sr(g.left,0),Y=sr(g.right,0),te=sr(g.top,0),W=sr(g.bottom,0);_?U=w-2*(K!==0||Y!==0?K+Y:sr(g.left,g.right)):P=N-2*(te!==0||W!==0?te+W:sr(g.top,g.bottom))}yield h(oe(z({},n),{availableWidth:U,availableHeight:P}));const X=yield d.getDimensions(f.floating);return w!==X.width||N!==X.height?{reset:{rects:!0}}:{}})}}};function dm(){return typeof window!="undefined"}function ic(e){return a2(e)?(e.nodeName||"").toLowerCase():"#document"}function or(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ya(e){var t;return(t=(a2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function a2(e){return dm()?e instanceof Node||e instanceof or(e).Node:!1}function Ir(e){return dm()?e instanceof Element||e instanceof or(e).Element:!1}function pa(e){return dm()?e instanceof HTMLElement||e instanceof or(e).HTMLElement:!1}function Vj(e){return!dm()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof or(e).ShadowRoot}const W3=new Set(["inline","contents"]);function ad(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=qr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!W3.has(a)}const Y3=new Set(["table","td","th"]);function X3(e){return Y3.has(ic(e))}const G3=[":popover-open",":modal"];function fm(e){return G3.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const K3=["transform","translate","scale","rotate","perspective"],Q3=["transform","translate","scale","rotate","perspective","filter"],Z3=["paint","layout","strict","content"];function iy(e){const t=oy(),n=Ir(e)?qr(e):e;return K3.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Q3.some(s=>(n.willChange||"").includes(s))||Z3.some(s=>(n.contain||"").includes(s))}function J3(e){let t=zi(e);for(;pa(t)&&!Jl(t);){if(iy(t))return t;if(fm(t))return null;t=zi(t)}return null}function oy(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const e4=new Set(["html","body","#document"]);function Jl(e){return e4.has(ic(e))}function qr(e){return or(e).getComputedStyle(e)}function hm(e){return Ir(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zi(e){if(ic(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Vj(e)&&e.host||ya(e);return Vj(t)?t.host:t}function i2(e){const t=zi(e);return Jl(t)?e.ownerDocument?e.ownerDocument.body:e.body:pa(t)&&ad(t)?t:i2(t)}function Yu(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=i2(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),c=or(a);if(i){const d=K0(c);return t.concat(c,c.visualViewport||[],ad(a)?a:[],d&&n?Yu(d):[])}return t.concat(a,Yu(a,[],n))}function K0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function o2(e){const t=qr(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=pa(e),i=a?e.offsetWidth:n,c=a?e.offsetHeight:s,d=Rh(n)!==i||Rh(s)!==c;return d&&(n=i,s=c),{width:n,height:s,$:d}}function ly(e){return Ir(e)?e:e.contextElement}function Yl(e){const t=ly(e);if(!pa(t))return fa(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:i}=o2(t);let c=(i?Rh(n.width):n.width)/s,d=(i?Rh(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const t4=fa(0);function l2(e){const t=or(e);return!oy()||!t.visualViewport?t4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function n4(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==or(e)?!1:t}function zo(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=ly(e);let c=fa(1);t&&(s?Ir(s)&&(c=Yl(s)):c=Yl(e));const d=n4(i,n,s)?l2(i):fa(0);let f=(a.left+d.x)/c.x,h=(a.top+d.y)/c.y,p=a.width/c.x,g=a.height/c.y;if(i){const b=or(i),y=s&&Ir(s)?or(s):s;let _=b,w=K0(_);for(;w&&s&&y!==_;){const N=Yl(w),S=w.getBoundingClientRect(),D=qr(w),A=S.left+(w.clientLeft+parseFloat(D.paddingLeft))*N.x,C=S.top+(w.clientTop+parseFloat(D.paddingTop))*N.y;f*=N.x,h*=N.y,p*=N.x,g*=N.y,f+=A,h+=C,_=or(w),w=K0(_)}}return Ph({width:p,height:g,x:f,y:h})}function cy(e,t){const n=hm(e).scrollLeft;return t?t.left+n:zo(ya(e)).left+n}function c2(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:cy(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function s4(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const i=a==="fixed",c=ya(s),d=t?fm(t.floating):!1;if(s===c||d&&i)return n;let f={scrollLeft:0,scrollTop:0},h=fa(1);const p=fa(0),g=pa(s);if((g||!g&&!i)&&((ic(s)!=="body"||ad(c))&&(f=hm(s)),pa(s))){const y=zo(s);h=Yl(s),p.x=y.x+s.clientLeft,p.y=y.y+s.clientTop}const b=c&&!g&&!i?c2(c,f,!0):fa(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+p.x+b.x,y:n.y*h.y-f.scrollTop*h.y+p.y+b.y}}function r4(e){return Array.from(e.getClientRects())}function a4(e){const t=ya(e),n=hm(e),s=e.ownerDocument.body,a=sr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=sr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let c=-n.scrollLeft+cy(e);const d=-n.scrollTop;return qr(s).direction==="rtl"&&(c+=sr(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:c,y:d}}function i4(e,t){const n=or(e),s=ya(e),a=n.visualViewport;let i=s.clientWidth,c=s.clientHeight,d=0,f=0;if(a){i=a.width,c=a.height;const h=oy();(!h||h&&t==="fixed")&&(d=a.offsetLeft,f=a.offsetTop)}return{width:i,height:c,x:d,y:f}}const o4=new Set(["absolute","fixed"]);function l4(e,t){const n=zo(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,i=pa(e)?Yl(e):fa(1),c=e.clientWidth*i.x,d=e.clientHeight*i.y,f=a*i.x,h=s*i.y;return{width:c,height:d,x:f,y:h}}function Ij(e,t,n){let s;if(t==="viewport")s=i4(e,n);else if(t==="document")s=a4(ya(e));else if(Ir(t))s=l4(t,n);else{const a=l2(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Ph(s)}function u2(e,t){const n=zi(e);return n===t||!Ir(n)||Jl(n)?!1:qr(n).position==="fixed"||u2(n,t)}function c4(e,t){const n=t.get(e);if(n)return n;let s=Yu(e,[],!1).filter(d=>Ir(d)&&ic(d)!=="body"),a=null;const i=qr(e).position==="fixed";let c=i?zi(e):e;for(;Ir(c)&&!Jl(c);){const d=qr(c),f=iy(c);!f&&d.position==="fixed"&&(a=null),(i?!f&&!a:!f&&d.position==="static"&&!!a&&o4.has(a.position)||ad(c)&&!f&&u2(e,c))?s=s.filter(p=>p!==c):a=d,c=zi(c)}return t.set(e,s),s}function u4(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const c=[...n==="clippingAncestors"?fm(t)?[]:c4(t,this._c):[].concat(n),s],d=c[0],f=c.reduce((h,p)=>{const g=Ij(t,p,a);return h.top=sr(g.top,h.top),h.right=Li(g.right,h.right),h.bottom=Li(g.bottom,h.bottom),h.left=sr(g.left,h.left),h},Ij(t,d,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function d4(e){const{width:t,height:n}=o2(e);return{width:t,height:n}}function f4(e,t,n){const s=pa(t),a=ya(t),i=n==="fixed",c=zo(e,!0,i,t);let d={scrollLeft:0,scrollTop:0};const f=fa(0);function h(){f.x=cy(a)}if(s||!s&&!i)if((ic(t)!=="body"||ad(a))&&(d=hm(t)),s){const y=zo(t,!0,i,t);f.x=y.x+t.clientLeft,f.y=y.y+t.clientTop}else a&&h();i&&!s&&a&&h();const p=a&&!s&&!i?c2(a,d):fa(0),g=c.left+d.scrollLeft-f.x-p.x,b=c.top+d.scrollTop-f.y-p.y;return{x:g,y:b,width:c.width,height:c.height}}function Gg(e){return qr(e).position==="static"}function qj(e,t){if(!pa(e)||qr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ya(e)===n&&(n=n.ownerDocument.body),n}function d2(e,t){const n=or(e);if(fm(e))return n;if(!pa(e)){let a=zi(e);for(;a&&!Jl(a);){if(Ir(a)&&!Gg(a))return a;a=zi(a)}return n}let s=qj(e,t);for(;s&&X3(s)&&Gg(s);)s=qj(s,t);return s&&Jl(s)&&Gg(s)&&!iy(s)?n:s||J3(e)||n}const h4=function(e){return ge(this,null,function*(){const t=this.getOffsetParent||d2,n=this.getDimensions,s=yield n(e.floating);return{reference:f4(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}})};function m4(e){return qr(e).direction==="rtl"}const p4={convertOffsetParentRelativeRectToViewportRelativeRect:s4,getDocumentElement:ya,getClippingRect:u4,getOffsetParent:d2,getElementRects:h4,getClientRects:r4,getDimensions:d4,getScale:Yl,isElement:Ir,isRTL:m4};function f2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function g4(e,t){let n=null,s;const a=ya(e);function i(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),i();const h=e.getBoundingClientRect(),{left:p,top:g,width:b,height:y}=h;if(d||t(),!b||!y)return;const _=Rf(g),w=Rf(a.clientWidth-(p+b)),N=Rf(a.clientHeight-(g+y)),S=Rf(p),A={rootMargin:-_+"px "+-w+"px "+-N+"px "+-S+"px",threshold:sr(0,Li(1,f))||1};let C=!0;function k(T){const R=T[0].intersectionRatio;if(R!==f){if(!C)return c();R?c(!1,R):s=setTimeout(()=>{c(!1,1e-7)},1e3)}R===1&&!f2(h,e.getBoundingClientRect())&&c(),C=!1}try{n=new IntersectionObserver(k,oe(z({},A),{root:a.ownerDocument}))}catch(T){n=new IntersectionObserver(k,A)}n.observe(e)}return c(!0),i}function x4(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,h=ly(e),p=a||i?[...h?Yu(h):[],...Yu(t)]:[];p.forEach(S=>{a&&S.addEventListener("scroll",n,{passive:!0}),i&&S.addEventListener("resize",n)});const g=h&&d?g4(h,n):null;let b=-1,y=null;c&&(y=new ResizeObserver(S=>{let[D]=S;D&&D.target===h&&y&&(y.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var A;(A=y)==null||A.observe(t)})),n()}),h&&!f&&y.observe(h),y.observe(t));let _,w=f?zo(e):null;f&&N();function N(){const S=zo(e);w&&!f2(w,S)&&n(),w=S,_=requestAnimationFrame(N)}return n(),()=>{var S;p.forEach(D=>{a&&D.removeEventListener("scroll",n),i&&D.removeEventListener("resize",n)}),g==null||g(),(S=y)==null||S.disconnect(),y=null,f&&cancelAnimationFrame(_)}}const y4=H3,b4=V3,v4=F3,w4=q3,_4=B3,Wj=U3,j4=I3,S4=(e,t,n)=>{const s=new Map,a=z({platform:p4},n),i=oe(z({},a.platform),{_c:s});return z3(e,t,oe(z({},a),{platform:i}))};var N4=typeof document!="undefined",E4=function(){},bh=N4?j.useLayoutEffect:E4;function Lh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Lh(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Lh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function h2(e){return typeof window=="undefined"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Yj(e,t){const n=h2(e);return Math.round(t*n)/n}function Kg(e){const t=j.useRef(e);return bh(()=>{t.current=e}),t}function T4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:c}={},transform:d=!0,whileElementsMounted:f,open:h}=e,[p,g]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,y]=j.useState(s);Lh(b,s)||y(s);const[_,w]=j.useState(null),[N,S]=j.useState(null),D=j.useCallback(ee=>{ee!==T.current&&(T.current=ee,w(ee))},[]),A=j.useCallback(ee=>{ee!==R.current&&(R.current=ee,S(ee))},[]),C=i||_,k=c||N,T=j.useRef(null),R=j.useRef(null),P=j.useRef(p),U=f!=null,X=Kg(f),H=Kg(a),K=Kg(h),Y=j.useCallback(()=>{if(!T.current||!R.current)return;const ee={placement:t,strategy:n,middleware:b};H.current&&(ee.platform=H.current),S4(T.current,R.current,ee).then(ce=>{const L=oe(z({},ce),{isPositioned:K.current!==!1});te.current&&!Lh(P.current,L)&&(P.current=L,lm.flushSync(()=>{g(L)}))})},[b,t,n,H,K]);bh(()=>{h===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,g(ee=>oe(z({},ee),{isPositioned:!1})))},[h]);const te=j.useRef(!1);bh(()=>(te.current=!0,()=>{te.current=!1}),[]),bh(()=>{if(C&&(T.current=C),k&&(R.current=k),C&&k){if(X.current)return X.current(C,k,Y);Y()}},[C,k,Y,X,U]);const W=j.useMemo(()=>({reference:T,floating:R,setReference:D,setFloating:A}),[D,A]),V=j.useMemo(()=>({reference:C,floating:k}),[C,k]),Q=j.useMemo(()=>{const ee={position:n,left:0,top:0};if(!V.floating)return ee;const ce=Yj(V.floating,p.x),L=Yj(V.floating,p.y);return d?z(oe(z({},ee),{transform:"translate("+ce+"px, "+L+"px)"}),h2(V.floating)>=1.5&&{willChange:"transform"}):{position:n,left:ce,top:L}},[n,d,V.floating,p.x,p.y]);return j.useMemo(()=>oe(z({},p),{update:Y,refs:W,elements:V,floatingStyles:Q}),[p,Y,W,V,Q])}const C4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?Wj({element:s.current,padding:a}).fn(n):{}:s?Wj({element:s,padding:a}).fn(n):{}}}},k4=(e,t)=>oe(z({},y4(e)),{options:[e,t]}),O4=(e,t)=>oe(z({},b4(e)),{options:[e,t]}),A4=(e,t)=>oe(z({},j4(e)),{options:[e,t]}),D4=(e,t)=>oe(z({},v4(e)),{options:[e,t]}),R4=(e,t)=>oe(z({},w4(e)),{options:[e,t]}),M4=(e,t)=>oe(z({},_4(e)),{options:[e,t]}),P4=(e,t)=>oe(z({},C4(e)),{options:[e,t]});var L4="Arrow",m2=j.forwardRef((e,t)=>{const c=e,{children:n,width:s=10,height:a=5}=c,i=Ae(c,["children","width","height"]);return l.jsx(Wt.svg,oe(z({},i),{ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})}))});m2.displayName=L4;var z4=m2;function U4(e){const[t,n]=j.useState(void 0);return Tr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let c,d;if("borderBoxSize"in i){const f=i.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,d=h.blockSize}else c=e.offsetWidth,d=e.offsetHeight;n({width:c,height:d})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var uy="Popper",[p2,g2]=sd(uy),[F4,x2]=p2(uy),y2=e=>{const{__scopePopper:t,children:n}=e,[s,a]=j.useState(null);return l.jsx(F4,{scope:t,anchor:s,onAnchorChange:a,children:n})};y2.displayName=uy;var b2="PopperAnchor",v2=j.forwardRef((e,t)=>{const h=e,{__scopePopper:n,virtualRef:s}=h,a=Ae(h,["__scopePopper","virtualRef"]),i=x2(b2,n),c=j.useRef(null),d=Dn(t,c),f=j.useRef(null);return j.useEffect(()=>{const p=f.current;f.current=(s==null?void 0:s.current)||c.current,p!==f.current&&i.onAnchorChange(f.current)}),s?null:l.jsx(Wt.div,oe(z({},a),{ref:d}))});v2.displayName=b2;var dy="PopperContent",[B4,$4]=p2(dy),w2=j.forwardRef((e,t)=>{var ke,We,Ue,qe,Ze,st,Pe,Tt;const Ce=e,{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:y="optimized",onPlaced:_}=Ce,w=Ae(Ce,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),N=x2(dy,n),[S,D]=j.useState(null),A=Dn(t,Yt=>D(Yt)),[C,k]=j.useState(null),T=U4(C),R=(ke=T==null?void 0:T.width)!=null?ke:0,P=(We=T==null?void 0:T.height)!=null?We:0,U=s+(i!=="center"?"-"+i:""),X=typeof p=="number"?p:z({top:0,right:0,bottom:0,left:0},p),H=Array.isArray(h)?h:[h],K=H.length>0,Y={padding:X,boundary:H.filter(V4),altBoundary:K},{refs:te,floatingStyles:W,placement:V,isPositioned:Q,middlewareData:ee}=T4({strategy:"fixed",placement:U,whileElementsMounted:(...Yt)=>x4(...Yt,{animationFrame:y==="always"}),elements:{reference:N.anchor},middleware:[k4({mainAxis:a+P,alignmentAxis:c}),f&&O4(z({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?A4():void 0},Y)),f&&D4(z({},Y)),R4(oe(z({},Y),{apply:({elements:Yt,rects:Nt,availableWidth:it,availableHeight:jt})=>{const{width:G,height:de}=Nt.reference,q=Yt.floating.style;q.setProperty("--radix-popper-available-width",`${it}px`),q.setProperty("--radix-popper-available-height",`${jt}px`),q.setProperty("--radix-popper-anchor-width",`${G}px`),q.setProperty("--radix-popper-anchor-height",`${de}px`)}})),C&&P4({element:C,padding:d}),I4({arrowWidth:R,arrowHeight:P}),b&&M4(z({strategy:"referenceHidden"},Y))]}),[ce,L]=S2(V),le=ma(_);Tr(()=>{Q&&(le==null||le())},[Q,le]);const re=(Ue=ee.arrow)==null?void 0:Ue.x,B=(qe=ee.arrow)==null?void 0:qe.y,ne=((Ze=ee.arrow)==null?void 0:Ze.centerOffset)!==0,[ye,he]=j.useState();return Tr(()=>{S&&he(window.getComputedStyle(S).zIndex)},[S]),l.jsx("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:z(oe(z({},W),{transform:Q?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(st=ee.transformOrigin)==null?void 0:st.x,(Pe=ee.transformOrigin)==null?void 0:Pe.y].join(" ")}),((Tt=ee.hide)==null?void 0:Tt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:l.jsx(B4,{scope:n,placedSide:ce,onArrowChange:k,arrowX:re,arrowY:B,shouldHideArrow:ne,children:l.jsx(Wt.div,oe(z({"data-side":ce,"data-align":L},w),{ref:A,style:oe(z({},w.style),{animation:Q?void 0:"none"})}))})})});w2.displayName=dy;var _2="PopperArrow",H4={top:"bottom",right:"left",bottom:"top",left:"right"},j2=j.forwardRef(function(t,n){const d=t,{__scopePopper:s}=d,a=Ae(d,["__scopePopper"]),i=$4(_2,s),c=H4[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(z4,oe(z({},a),{ref:n,style:oe(z({},a.style),{display:"block"})}))})});j2.displayName=_2;function V4(e){return e!==null}var I4=e=>({name:"transformOrigin",options:e,fn(t){var N,S,D,A,C;const{placement:n,rects:s,middlewareData:a}=t,c=((N=a.arrow)==null?void 0:N.centerOffset)!==0,d=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[h,p]=S2(n),g={start:"0%",center:"50%",end:"100%"}[p],b=((D=(S=a.arrow)==null?void 0:S.x)!=null?D:0)+d/2,y=((C=(A=a.arrow)==null?void 0:A.y)!=null?C:0)+f/2;let _="",w="";return h==="bottom"?(_=c?g:`${b}px`,w=`${-f}px`):h==="top"?(_=c?g:`${b}px`,w=`${s.floating.height+f}px`):h==="right"?(_=`${-f}px`,w=c?g:`${y}px`):h==="left"&&(_=`${s.floating.width+f}px`,w=c?g:`${y}px`),{data:{x:_,y:w}}}});function S2(e){const[t,n="center"]=e.split("-");return[t,n]}var q4=y2,N2=v2,W4=w2,Y4=j2,X4="Portal",id=j.forwardRef((e,t)=>{var f;const d=e,{container:n}=d,s=Ae(d,["container"]),[a,i]=j.useState(!1);Tr(()=>i(!0),[]);const c=n||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return c?XN.createPortal(l.jsx(Wt.div,oe(z({},s),{ref:t})),c):null});id.displayName=X4;function G4(e,t){return j.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var oc=e=>{const{present:t,children:n}=e,s=K4(t),a=typeof n=="function"?n({present:s.isPresent}):j.Children.only(n),i=Dn(s.ref,Q4(a));return typeof n=="function"||s.isPresent?j.cloneElement(a,{ref:i}):null};oc.displayName="Presence";function K4(e){const[t,n]=j.useState(),s=j.useRef(null),a=j.useRef(e),i=j.useRef("none"),c=e?"mounted":"unmounted",[d,f]=G4(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const h=Mf(s.current);i.current=d==="mounted"?h:"none"},[d]),Tr(()=>{const h=s.current,p=a.current;if(p!==e){const b=i.current,y=Mf(h);e?f("MOUNT"):y==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&b!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Tr(()=>{var h;if(t){let p;const g=(h=t.ownerDocument.defaultView)!=null?h:window,b=_=>{const N=Mf(s.current).includes(CSS.escape(_.animationName));if(_.target===t&&N&&(f("ANIMATION_END"),!a.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},y=_=>{_.target===t&&(i.current=Mf(s.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:j.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function Mf(e){return(e==null?void 0:e.animationName)||"none"}function Q4(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Z4=VS[" useInsertionEffect ".trim().toString()]||Tr;function mm({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,i,c]=J4({defaultProp:t,onChange:n}),d=e!==void 0,f=d?e:a;{const p=j.useRef(e!==void 0);j.useEffect(()=>{const g=p.current;g!==d&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,s])}const h=j.useCallback(p=>{var g;if(d){const b=e5(p)?p(e):p;b!==e&&((g=c.current)==null||g.call(c,b))}else i(p)},[d,e,i,c]);return[f,h]}function J4({defaultProp:e,onChange:t}){const[n,s]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return Z4(()=>{i.current=t},[t]),j.useEffect(()=>{var c;a.current!==n&&((c=i.current)==null||c.call(i,n),a.current=n)},[n,a]),[n,s,i]}function e5(e){return typeof e=="function"}var t5=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Al=new WeakMap,Pf=new WeakMap,Lf={},Qg=0,E2=function(e){return e&&(e.host||E2(e.parentNode))},n5=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=E2(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},s5=function(e,t,n,s){var a=n5(t,Array.isArray(e)?e:[e]);Lf[n]||(Lf[n]=new WeakMap);var i=Lf[n],c=[],d=new Set,f=new Set(a),h=function(g){!g||d.has(g)||(d.add(g),h(g.parentNode))};a.forEach(h);var p=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(b){if(d.has(b))p(b);else try{var y=b.getAttribute(s),_=y!==null&&y!=="false",w=(Al.get(b)||0)+1,N=(i.get(b)||0)+1;Al.set(b,w),i.set(b,N),c.push(b),w===1&&_&&Pf.set(b,!0),N===1&&b.setAttribute(n,"true"),_||b.setAttribute(s,"true")}catch(S){console.error("aria-hidden: cannot operate on ",b,S)}})};return p(t),d.clear(),Qg++,function(){c.forEach(function(g){var b=Al.get(g)-1,y=i.get(g)-1;Al.set(g,b),i.set(g,y),b||(Pf.has(g)||g.removeAttribute(s),Pf.delete(g)),y||g.removeAttribute(n)}),Qg--,Qg||(Al=new WeakMap,Al=new WeakMap,Pf=new WeakMap,Lf={})}},pm=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=t5(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),s5(s,a,n,"aria-hidden")):function(){return null}},oa=function(){return oa=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},oa.apply(this,arguments)};function T2(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function r5(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var vh="right-scroll-bar-position",wh="width-before-scroll-bar",a5="with-scroll-bars-hidden",i5="--removed-body-scroll-bar-size";function Zg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function o5(e,t){var n=j.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var l5=typeof window!="undefined"?j.useLayoutEffect:j.useEffect,Xj=new WeakMap;function c5(e,t){var n=o5(null,function(s){return e.forEach(function(a){return Zg(a,s)})});return l5(function(){var s=Xj.get(n);if(s){var a=new Set(s),i=new Set(e),c=n.current;a.forEach(function(d){i.has(d)||Zg(d,null)}),i.forEach(function(d){a.has(d)||Zg(d,c)})}Xj.set(n,e)},[e]),n}function u5(e){return e}function d5(e,t){t===void 0&&(t=u5);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var c=t(i,s);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(i){for(s=!0;n.length;){var c=n;n=[],c.forEach(i)}n={push:function(d){return i(d)},filter:function(){return n}}},assignMedium:function(i){s=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(i),c=n}var f=function(){var p=c;c=[],p.forEach(i)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(p){c.push(p),h()},filter:function(p){return c=c.filter(p),n}}}};return a}function f5(e){e===void 0&&(e={});var t=d5(null);return t.options=oa({async:!0,ssr:!1},e),t}var C2=function(e){var t=e.sideCar,n=T2(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return j.createElement(s,oa({},n))};C2.isSideCarExport=!0;function h5(e,t){return e.useMedium(t),C2}var k2=f5(),Jg=function(){},gm=j.forwardRef(function(e,t){var n=j.useRef(null),s=j.useState({onScrollCapture:Jg,onWheelCapture:Jg,onTouchMoveCapture:Jg}),a=s[0],i=s[1],c=e.forwardProps,d=e.children,f=e.className,h=e.removeScrollBar,p=e.enabled,g=e.shards,b=e.sideCar,y=e.noRelative,_=e.noIsolation,w=e.inert,N=e.allowPinchZoom,S=e.as,D=S===void 0?"div":S,A=e.gapMode,C=T2(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=b,T=c5([n,t]),R=oa(oa({},C),a);return j.createElement(j.Fragment,null,p&&j.createElement(k,{sideCar:k2,removeScrollBar:h,shards:g,noRelative:y,noIsolation:_,inert:w,setCallbacks:i,allowPinchZoom:!!N,lockRef:n,gapMode:A}),c?j.cloneElement(j.Children.only(d),oa(oa({},R),{ref:T})):j.createElement(D,oa({},R,{className:f,ref:T}),d))});gm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gm.classNames={fullWidth:wh,zeroRight:vh};var m5=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function p5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=m5();return t&&e.setAttribute("nonce",t),e}function g5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function x5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var y5=function(){var e=0,t=null;return{add:function(n){e==0&&(t=p5())&&(g5(t,n),x5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},b5=function(){var e=y5();return function(t,n){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},O2=function(){var e=b5(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},v5={left:0,top:0,right:0,gap:0},e0=function(e){return parseInt(e||"",10)||0},w5=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[e0(n),e0(s),e0(a)]},_5=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return v5;var t=w5(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},j5=O2(),Xl="data-scroll-locked",S5=function(e,t,n,s){var a=e.left,i=e.top,c=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(a5,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(Xl,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vh,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(wh,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(vh," .").concat(vh,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(wh," .").concat(wh,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Xl,`] {
    `).concat(i5,": ").concat(d,`px;
  }
`)},Gj=function(){var e=parseInt(document.body.getAttribute(Xl)||"0",10);return isFinite(e)?e:0},N5=function(){j.useEffect(function(){return document.body.setAttribute(Xl,(Gj()+1).toString()),function(){var e=Gj()-1;e<=0?document.body.removeAttribute(Xl):document.body.setAttribute(Xl,e.toString())}},[])},E5=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;N5();var i=j.useMemo(function(){return _5(a)},[a]);return j.createElement(j5,{styles:S5(i,!t,a,n?"":"!important")})},Q0=!1;if(typeof window!="undefined")try{var zf=Object.defineProperty({},"passive",{get:function(){return Q0=!0,!0}});window.addEventListener("test",zf,zf),window.removeEventListener("test",zf,zf)}catch(e){Q0=!1}var Dl=Q0?{passive:!1}:!1,T5=function(e){return e.tagName==="TEXTAREA"},A2=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!T5(e)&&n[t]==="visible")},C5=function(e){return A2(e,"overflowY")},k5=function(e){return A2(e,"overflowX")},Kj=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot!="undefined"&&s instanceof ShadowRoot&&(s=s.host);var a=D2(e,s);if(a){var i=R2(e,s),c=i[1],d=i[2];if(c>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},O5=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},A5=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},D2=function(e,t){return e==="v"?C5(t):k5(t)},R2=function(e,t){return e==="v"?O5(t):A5(t)},D5=function(e,t){return e==="h"&&t==="rtl"?-1:1},R5=function(e,t,n,s,a){var i=D5(e,window.getComputedStyle(t).direction),c=i*s,d=n.target,f=t.contains(d),h=!1,p=c>0,g=0,b=0;do{if(!d)break;var y=R2(e,d),_=y[0],w=y[1],N=y[2],S=w-N-i*_;(_||S)&&D2(e,d)&&(g+=S,b+=_);var D=d.parentNode;d=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(p&&Math.abs(g)<1||!p&&Math.abs(b)<1)&&(h=!0),h},Uf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Qj=function(e){return[e.deltaX,e.deltaY]},Zj=function(e){return e&&"current"in e?e.current:e},M5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},P5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},L5=0,Rl=[];function z5(e){var t=j.useRef([]),n=j.useRef([0,0]),s=j.useRef(),a=j.useState(L5++)[0],i=j.useState(O2)[0],c=j.useRef(e);j.useEffect(function(){c.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var w=r5([e.lockRef.current],(e.shards||[]).map(Zj),!0).filter(Boolean);return w.forEach(function(N){return N.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),w.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var d=j.useCallback(function(w,N){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!c.current.allowPinchZoom;var S=Uf(w),D=n.current,A="deltaX"in w?w.deltaX:D[0]-S[0],C="deltaY"in w?w.deltaY:D[1]-S[1],k,T=w.target,R=Math.abs(A)>Math.abs(C)?"h":"v";if("touches"in w&&R==="h"&&T.type==="range")return!1;var P=Kj(R,T);if(!P)return!0;if(P?k=R:(k=R==="v"?"h":"v",P=Kj(R,T)),!P)return!1;if(!s.current&&"changedTouches"in w&&(A||C)&&(s.current=k),!k)return!0;var U=s.current||k;return R5(U,N,w,U==="h"?A:C)},[]),f=j.useCallback(function(w){var N=w;if(!(!Rl.length||Rl[Rl.length-1]!==i)){var S="deltaY"in N?Qj(N):Uf(N),D=t.current.filter(function(k){return k.name===N.type&&(k.target===N.target||N.target===k.shadowParent)&&M5(k.delta,S)})[0];if(D&&D.should){N.cancelable&&N.preventDefault();return}if(!D){var A=(c.current.shards||[]).map(Zj).filter(Boolean).filter(function(k){return k.contains(N.target)}),C=A.length>0?d(N,A[0]):!c.current.noIsolation;C&&N.cancelable&&N.preventDefault()}}},[]),h=j.useCallback(function(w,N,S,D){var A={name:w,delta:N,target:S,should:D,shadowParent:U5(S)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(C){return C!==A})},1)},[]),p=j.useCallback(function(w){n.current=Uf(w),s.current=void 0},[]),g=j.useCallback(function(w){h(w.type,Qj(w),w.target,d(w,e.lockRef.current))},[]),b=j.useCallback(function(w){h(w.type,Uf(w),w.target,d(w,e.lockRef.current))},[]);j.useEffect(function(){return Rl.push(i),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",f,Dl),document.addEventListener("touchmove",f,Dl),document.addEventListener("touchstart",p,Dl),function(){Rl=Rl.filter(function(w){return w!==i}),document.removeEventListener("wheel",f,Dl),document.removeEventListener("touchmove",f,Dl),document.removeEventListener("touchstart",p,Dl)}},[]);var y=e.removeScrollBar,_=e.inert;return j.createElement(j.Fragment,null,_?j.createElement(i,{styles:P5(a)}):null,y?j.createElement(E5,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function U5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const F5=h5(k2,z5);var od=j.forwardRef(function(e,t){return j.createElement(gm,oa({},e,{ref:t,sideCar:F5}))});od.classNames=gm.classNames;var xm="Popover",[M2,j7]=sd(xm,[g2]),ld=g2(),[B5,Vi]=M2(xm),P2=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:c=!1}=e,d=ld(t),f=j.useRef(null),[h,p]=j.useState(!1),[g,b]=mm({prop:s,defaultProp:a!=null?a:!1,onChange:i,caller:xm});return l.jsx(q4,oe(z({},d),{children:l.jsx(B5,{scope:t,contentId:ks(),triggerRef:f,open:g,onOpenChange:b,onOpenToggle:j.useCallback(()=>b(y=>!y),[b]),hasCustomAnchor:h,onCustomAnchorAdd:j.useCallback(()=>p(!0),[]),onCustomAnchorRemove:j.useCallback(()=>p(!1),[]),modal:c,children:n})}))};P2.displayName=xm;var L2="PopoverAnchor",$5=j.forwardRef((e,t)=>{const f=e,{__scopePopover:n}=f,s=Ae(f,["__scopePopover"]),a=Vi(L2,n),i=ld(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=a;return j.useEffect(()=>(c(),()=>d()),[c,d]),l.jsx(N2,oe(z(z({},i),s),{ref:t}))});$5.displayName=L2;var z2="PopoverTrigger",U2=j.forwardRef((e,t)=>{const f=e,{__scopePopover:n}=f,s=Ae(f,["__scopePopover"]),a=Vi(z2,n),i=ld(n),c=Dn(t,a.triggerRef),d=l.jsx(Wt.button,oe(z({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":V2(a.open)},s),{ref:c,onClick:ir(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?d:l.jsx(N2,oe(z({asChild:!0},i),{children:d}))});U2.displayName=z2;var fy="PopoverPortal",[H5,V5]=M2(fy,{forceMount:void 0}),F2=e=>{const{__scopePopover:t,forceMount:n,children:s,container:a}=e,i=Vi(fy,t);return l.jsx(H5,{scope:t,forceMount:n,children:l.jsx(oc,{present:n||i.open,children:l.jsx(id,{asChild:!0,container:a,children:s})})})};F2.displayName=fy;var ec="PopoverContent",B2=j.forwardRef((e,t)=>{const n=V5(ec,e.__scopePopover),c=e,{forceMount:s=n.forceMount}=c,a=Ae(c,["forceMount"]),i=Vi(ec,e.__scopePopover);return l.jsx(oc,{present:s||i.open,children:i.modal?l.jsx(q5,oe(z({},a),{ref:t})):l.jsx(W5,oe(z({},a),{ref:t}))})});B2.displayName=ec;var I5=rc("PopoverContent.RemoveScroll"),q5=j.forwardRef((e,t)=>{const n=Vi(ec,e.__scopePopover),s=j.useRef(null),a=Dn(t,s),i=j.useRef(!1);return j.useEffect(()=>{const c=s.current;if(c)return pm(c)},[]),l.jsx(od,{as:I5,allowPinchZoom:!0,children:l.jsx($2,oe(z({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ir(e.onCloseAutoFocus,c=>{var d;c.preventDefault(),i.current||(d=n.triggerRef.current)==null||d.focus()}),onPointerDownOutside:ir(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,h=d.button===2||f;i.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:ir(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})}))})}),W5=j.forwardRef((e,t)=>{const n=Vi(ec,e.__scopePopover),s=j.useRef(!1),a=j.useRef(!1);return l.jsx($2,oe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,i),i.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),$2=j.forwardRef((e,t)=>{const _=e,{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p}=_,g=Ae(_,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),b=Vi(ec,n),y=ld(n);return t2(),l.jsx(rd,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:l.jsx(ny,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:p,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>b.onOpenChange(!1),children:l.jsx(W4,oe(z(z({"data-state":V2(b.open),role:"dialog",id:b.contentId},y),g),{ref:t,style:oe(z({},g.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),H2="PopoverClose",Y5=j.forwardRef((e,t)=>{const i=e,{__scopePopover:n}=i,s=Ae(i,["__scopePopover"]),a=Vi(H2,n);return l.jsx(Wt.button,oe(z({type:"button"},s),{ref:t,onClick:ir(e.onClick,()=>a.onOpenChange(!1))}))});Y5.displayName=H2;var X5="PopoverArrow",G5=j.forwardRef((e,t)=>{const i=e,{__scopePopover:n}=i,s=Ae(i,["__scopePopover"]),a=ld(n);return l.jsx(Y4,oe(z(z({},a),s),{ref:t}))});G5.displayName=X5;function V2(e){return e?"open":"closed"}var K5=P2,Q5=U2,Z5=F2,J5=B2;function I2(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=I2(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function q2(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=I2(e))&&(s&&(s+=" "),s+=t);return s}const hy="-",eL=e=>{const t=nL(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:c=>{const d=c.split(hy);return d[0]===""&&d.length!==1&&d.shift(),W2(d,t)||tL(c)},getConflictingClassGroupIds:(c,d)=>{const f=n[c]||[];return d&&s[c]?[...f,...s[c]]:f}}},W2=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?W2(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(hy);return(c=t.validators.find(({validator:d})=>d(i)))==null?void 0:c.classGroupId},Jj=/^\[(.+)\]$/,tL=e=>{if(Jj.test(e)){const t=Jj.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},nL=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const a in n)Z0(n[a],s,a,t);return s},Z0=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:e1(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(sL(a)){Z0(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,c])=>{Z0(c,e1(t,i),n,s)})})},e1=(e,t)=>{let n=e;return t.split(hy).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},sL=e=>e.isThemeGetter,rL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(i,c)=>{n.set(i,c),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let c=n.get(i);if(c!==void 0)return c;if((c=s.get(i))!==void 0)return a(i,c),c},set(i,c){n.has(i)?n.set(i,c):a(i,c)}}},J0="!",ex=":",aL=ex.length,iL=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=a=>{const i=[];let c=0,d=0,f=0,h;for(let _=0;_<a.length;_++){let w=a[_];if(c===0&&d===0){if(w===ex){i.push(a.slice(f,_)),f=_+aL;continue}if(w==="/"){h=_;continue}}w==="["?c++:w==="]"?c--:w==="("?d++:w===")"&&d--}const p=i.length===0?a:a.substring(f),g=oL(p),b=g!==p,y=h&&h>f?h-f:void 0;return{modifiers:i,hasImportantModifier:b,baseClassName:g,maybePostfixModifierPosition:y}};if(t){const a=t+ex,i=s;s=c=>c.startsWith(a)?i(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const a=s;s=i=>n({className:i,parseClassName:a})}return s},oL=e=>e.endsWith(J0)?e.substring(0,e.length-1):e.startsWith(J0)?e.substring(1):e,lL=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let i=[];return s.forEach(c=>{c[0]==="["||t[c]?(a.push(...i.sort(),c),i=[]):i.push(c)}),a.push(...i.sort()),a}},cL=e=>z({cache:rL(e.cacheSize),parseClassName:iL(e),sortModifiers:lL(e)},eL(e)),uL=/\s+/,dL=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:i}=t,c=[],d=e.trim().split(uL);let f="";for(let h=d.length-1;h>=0;h-=1){const p=d[h],{isExternal:g,modifiers:b,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:w}=n(p);if(g){f=p+(f.length>0?" "+f:f);continue}let N=!!w,S=s(N?_.substring(0,w):_);if(!S){if(!N){f=p+(f.length>0?" "+f:f);continue}if(S=s(_),!S){f=p+(f.length>0?" "+f:f);continue}N=!1}const D=i(b).join(":"),A=y?D+J0:D,C=A+S;if(c.includes(C))continue;c.push(C);const k=a(S,N);for(let T=0;T<k.length;++T){const R=k[T];c.push(A+R)}f=p+(f.length>0?" "+f:f)}return f};function fL(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Y2(t))&&(s&&(s+=" "),s+=n);return s}const Y2=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=Y2(e[s]))&&(n&&(n+=" "),n+=t);return n};function hL(e,...t){let n,s,a,i=c;function c(f){const h=t.reduce((p,g)=>g(p),e());return n=cL(h),s=n.cache.get,a=n.cache.set,i=d,d(f)}function d(f){const h=s(f);if(h)return h;const p=dL(f,n);return a(f,p),p}return function(){return i(fL.apply(null,arguments))}}const ns=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},X2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,G2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,mL=/^\d+\/\d+$/,pL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,yL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ml=e=>mL.test(e),Bt=e=>!!e&&!Number.isNaN(Number(e)),ji=e=>!!e&&Number.isInteger(Number(e)),t0=e=>e.endsWith("%")&&Bt(e.slice(0,-1)),za=e=>pL.test(e),vL=()=>!0,wL=e=>gL.test(e)&&!xL.test(e),K2=()=>!1,_L=e=>yL.test(e),jL=e=>bL.test(e),SL=e=>!tt(e)&&!nt(e),NL=e=>lc(e,J2,K2),tt=e=>X2.test(e),xo=e=>lc(e,eE,wL),n0=e=>lc(e,OL,Bt),t1=e=>lc(e,Q2,K2),EL=e=>lc(e,Z2,jL),Ff=e=>lc(e,tE,_L),nt=e=>G2.test(e),xu=e=>cc(e,eE),TL=e=>cc(e,AL),n1=e=>cc(e,Q2),CL=e=>cc(e,J2),kL=e=>cc(e,Z2),Bf=e=>cc(e,tE,!0),lc=(e,t,n)=>{const s=X2.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},cc=(e,t,n=!1)=>{const s=G2.exec(e);return s?s[1]?t(s[1]):n:!1},Q2=e=>e==="position"||e==="percentage",Z2=e=>e==="image"||e==="url",J2=e=>e==="length"||e==="size"||e==="bg-size",eE=e=>e==="length",OL=e=>e==="number",AL=e=>e==="family-name",tE=e=>e==="shadow",DL=()=>{const e=ns("color"),t=ns("font"),n=ns("text"),s=ns("font-weight"),a=ns("tracking"),i=ns("leading"),c=ns("breakpoint"),d=ns("container"),f=ns("spacing"),h=ns("radius"),p=ns("shadow"),g=ns("inset-shadow"),b=ns("text-shadow"),y=ns("drop-shadow"),_=ns("blur"),w=ns("perspective"),N=ns("aspect"),S=ns("ease"),D=ns("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...C(),nt,tt],T=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],P=()=>[nt,tt,f],U=()=>[Ml,"full","auto",...P()],X=()=>[ji,"none","subgrid",nt,tt],H=()=>["auto",{span:["full",ji,nt,tt]},ji,nt,tt],K=()=>[ji,"auto",nt,tt],Y=()=>["auto","min","max","fr",nt,tt],te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...P()],Q=()=>[Ml,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],ee=()=>[e,nt,tt],ce=()=>[...C(),n1,t1,{position:[nt,tt]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],le=()=>["auto","cover","contain",CL,NL,{size:[nt,tt]}],re=()=>[t0,xu,xo],B=()=>["","none","full",h,nt,tt],ne=()=>["",Bt,xu,xo],ye=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ce=()=>[Bt,t0,n1,t1],ke=()=>["","none",_,nt,tt],We=()=>["none",Bt,nt,tt],Ue=()=>["none",Bt,nt,tt],qe=()=>[Bt,nt,tt],Ze=()=>[Ml,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[za],breakpoint:[za],color:[vL],container:[za],"drop-shadow":[za],ease:["in","out","in-out"],font:[SL],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[za],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[za],shadow:[za],spacing:["px",Bt],text:[za],"text-shadow":[za],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ml,tt,nt,N]}],container:["container"],columns:[{columns:[Bt,tt,nt,d]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[ji,"auto",nt,tt]}],basis:[{basis:[Ml,"full","auto",d,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Bt,Ml,"auto","initial","none",tt]}],grow:[{grow:["",Bt,nt,tt]}],shrink:[{shrink:["",Bt,nt,tt]}],order:[{order:[ji,"first","last","none",nt,tt]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Y()}],"auto-rows":[{"auto-rows":Y()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...te(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...te()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":te()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[d,"screen",...Q()]}],"min-w":[{"min-w":[d,"screen","none",...Q()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",n,xu,xo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,nt,n0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",t0,tt]}],"font-family":[{font:[TL,tt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,nt,tt]}],"line-clamp":[{"line-clamp":[Bt,"none",nt,n0]}],leading:[{leading:[i,...P()]}],"list-image":[{"list-image":["none",nt,tt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",nt,tt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ee()}],"text-color":[{text:ee()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:[Bt,"from-font","auto",nt,xo]}],"text-decoration-color":[{decoration:ee()}],"underline-offset":[{"underline-offset":[Bt,"auto",nt,tt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nt,tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nt,tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ce()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:le()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ji,nt,tt],radial:["",nt,tt],conic:[ji,nt,tt]},kL,EL]}],"bg-color":[{bg:ee()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:ee()}],"gradient-via":[{via:ee()}],"gradient-to":[{to:ee()}],rounded:[{rounded:B()}],"rounded-s":[{"rounded-s":B()}],"rounded-e":[{"rounded-e":B()}],"rounded-t":[{"rounded-t":B()}],"rounded-r":[{"rounded-r":B()}],"rounded-b":[{"rounded-b":B()}],"rounded-l":[{"rounded-l":B()}],"rounded-ss":[{"rounded-ss":B()}],"rounded-se":[{"rounded-se":B()}],"rounded-ee":[{"rounded-ee":B()}],"rounded-es":[{"rounded-es":B()}],"rounded-tl":[{"rounded-tl":B()}],"rounded-tr":[{"rounded-tr":B()}],"rounded-br":[{"rounded-br":B()}],"rounded-bl":[{"rounded-bl":B()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ye(),"hidden","none"]}],"divide-style":[{divide:[...ye(),"hidden","none"]}],"border-color":[{border:ee()}],"border-color-x":[{"border-x":ee()}],"border-color-y":[{"border-y":ee()}],"border-color-s":[{"border-s":ee()}],"border-color-e":[{"border-e":ee()}],"border-color-t":[{"border-t":ee()}],"border-color-r":[{"border-r":ee()}],"border-color-b":[{"border-b":ee()}],"border-color-l":[{"border-l":ee()}],"divide-color":[{divide:ee()}],"outline-style":[{outline:[...ye(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Bt,nt,tt]}],"outline-w":[{outline:["",Bt,xu,xo]}],"outline-color":[{outline:ee()}],shadow:[{shadow:["","none",p,Bf,Ff]}],"shadow-color":[{shadow:ee()}],"inset-shadow":[{"inset-shadow":["none",g,Bf,Ff]}],"inset-shadow-color":[{"inset-shadow":ee()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ee()}],"ring-offset-w":[{"ring-offset":[Bt,xo]}],"ring-offset-color":[{"ring-offset":ee()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":ee()}],"text-shadow":[{"text-shadow":["none",b,Bf,Ff]}],"text-shadow-color":[{"text-shadow":ee()}],opacity:[{opacity:[Bt,nt,tt]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Bt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ce()}],"mask-image-linear-from-color":[{"mask-linear-from":ee()}],"mask-image-linear-to-color":[{"mask-linear-to":ee()}],"mask-image-t-from-pos":[{"mask-t-from":Ce()}],"mask-image-t-to-pos":[{"mask-t-to":Ce()}],"mask-image-t-from-color":[{"mask-t-from":ee()}],"mask-image-t-to-color":[{"mask-t-to":ee()}],"mask-image-r-from-pos":[{"mask-r-from":Ce()}],"mask-image-r-to-pos":[{"mask-r-to":Ce()}],"mask-image-r-from-color":[{"mask-r-from":ee()}],"mask-image-r-to-color":[{"mask-r-to":ee()}],"mask-image-b-from-pos":[{"mask-b-from":Ce()}],"mask-image-b-to-pos":[{"mask-b-to":Ce()}],"mask-image-b-from-color":[{"mask-b-from":ee()}],"mask-image-b-to-color":[{"mask-b-to":ee()}],"mask-image-l-from-pos":[{"mask-l-from":Ce()}],"mask-image-l-to-pos":[{"mask-l-to":Ce()}],"mask-image-l-from-color":[{"mask-l-from":ee()}],"mask-image-l-to-color":[{"mask-l-to":ee()}],"mask-image-x-from-pos":[{"mask-x-from":Ce()}],"mask-image-x-to-pos":[{"mask-x-to":Ce()}],"mask-image-x-from-color":[{"mask-x-from":ee()}],"mask-image-x-to-color":[{"mask-x-to":ee()}],"mask-image-y-from-pos":[{"mask-y-from":Ce()}],"mask-image-y-to-pos":[{"mask-y-to":Ce()}],"mask-image-y-from-color":[{"mask-y-from":ee()}],"mask-image-y-to-color":[{"mask-y-to":ee()}],"mask-image-radial":[{"mask-radial":[nt,tt]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ce()}],"mask-image-radial-from-color":[{"mask-radial-from":ee()}],"mask-image-radial-to-color":[{"mask-radial-to":ee()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Bt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ce()}],"mask-image-conic-from-color":[{"mask-conic-from":ee()}],"mask-image-conic-to-color":[{"mask-conic-to":ee()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ce()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:le()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",nt,tt]}],filter:[{filter:["","none",nt,tt]}],blur:[{blur:ke()}],brightness:[{brightness:[Bt,nt,tt]}],contrast:[{contrast:[Bt,nt,tt]}],"drop-shadow":[{"drop-shadow":["","none",y,Bf,Ff]}],"drop-shadow-color":[{"drop-shadow":ee()}],grayscale:[{grayscale:["",Bt,nt,tt]}],"hue-rotate":[{"hue-rotate":[Bt,nt,tt]}],invert:[{invert:["",Bt,nt,tt]}],saturate:[{saturate:[Bt,nt,tt]}],sepia:[{sepia:["",Bt,nt,tt]}],"backdrop-filter":[{"backdrop-filter":["","none",nt,tt]}],"backdrop-blur":[{"backdrop-blur":ke()}],"backdrop-brightness":[{"backdrop-brightness":[Bt,nt,tt]}],"backdrop-contrast":[{"backdrop-contrast":[Bt,nt,tt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Bt,nt,tt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Bt,nt,tt]}],"backdrop-invert":[{"backdrop-invert":["",Bt,nt,tt]}],"backdrop-opacity":[{"backdrop-opacity":[Bt,nt,tt]}],"backdrop-saturate":[{"backdrop-saturate":[Bt,nt,tt]}],"backdrop-sepia":[{"backdrop-sepia":["",Bt,nt,tt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",nt,tt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Bt,"initial",nt,tt]}],ease:[{ease:["linear","initial",S,nt,tt]}],delay:[{delay:[Bt,nt,tt]}],animate:[{animate:["none",D,nt,tt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,nt,tt]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:We()}],"rotate-x":[{"rotate-x":We()}],"rotate-y":[{"rotate-y":We()}],"rotate-z":[{"rotate-z":We()}],scale:[{scale:Ue()}],"scale-x":[{"scale-x":Ue()}],"scale-y":[{"scale-y":Ue()}],"scale-z":[{"scale-z":Ue()}],"scale-3d":["scale-3d"],skew:[{skew:qe()}],"skew-x":[{"skew-x":qe()}],"skew-y":[{"skew-y":qe()}],transform:[{transform:[nt,tt,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ze()}],"translate-x":[{"translate-x":Ze()}],"translate-y":[{"translate-y":Ze()}],"translate-z":[{"translate-z":Ze()}],"translate-none":["translate-none"],accent:[{accent:ee()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ee()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nt,tt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nt,tt]}],fill:[{fill:["none",...ee()]}],"stroke-w":[{stroke:[Bt,xu,xo,n0]}],stroke:[{stroke:["none",...ee()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},RL=hL(DL);function Tn(...e){return RL(q2(e))}function my(t){var e=Ae(t,[]);return l.jsx(K5,z({"data-slot":"popover"},e))}function py(t){var e=Ae(t,[]);return l.jsx(Q5,z({"data-slot":"popover-trigger"},e))}function gy(a){var i=a,{className:e,align:t="center",sideOffset:n=4}=i,s=Ae(i,["className","align","sideOffset"]);return l.jsx(Z5,{children:l.jsx(J5,z({"data-slot":"popover-content",align:t,sideOffset:n,className:Tn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e)},s))})}const $u=class $u{static useUsers(){const{data:t,isLoading:n,error:s}=Mt("User",{fields:$u.USER_FIELDS,filters:[["enabled","=",1],["user_type","=","System User"]],limit:0});return{data:t||[],isLoading:n,error:s}}static useCurrentUser(){const{currentUser:t,isLoading:n}=lr();return{currentUser:t,isLoading:n}}static useCurrentUserProfile(){const{currentUser:t}=lr(),{data:n,isLoading:s,error:a}=Sn("User",t||void 0,{fields:$u.USER_FIELDS});return{currentUserProfile:n,isLoading:s,error:a}}};Et($u,"USER_FIELDS",["name","email","full_name","first_name","last_name","user_image","enabled","user_type","role_profile_name"]);let zh=$u;const ML=zh.useCurrentUser,PL=zh.useCurrentUserProfile,LL=()=>ge(null,null,function*(){try{const e=yield fetch("/api/method/frappe.auth.get_logged_user",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""}});if(e.status===401||e.status===403)return{isValid:!1};if(e.ok){const t=yield e.json();if(t&&!t.exc)return{isValid:!0}}return{isValid:!1}}catch(e){return console.error("Token validation error:",e),{isValid:!1}}}),nE=()=>{try{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(t=>{const n=t.indexOf("="),s=n>-1?t.substr(0,n).trim():t.trim();document.cookie=`${s}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=${window.location.hostname}`,document.cookie=`${s}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}),console.warn("Session expired. Redirecting to login...");const e="/login";window.location.href=e}catch(e){console.error("Error handling token expiry:",e),window.location.href="/login"}},zL=()=>"/login",tx=()=>window.location.pathname.includes("/login")||window.location.pathname.includes("/signin");function UL(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const FL=e=>{switch(e){case"success":return HL;case"info":return IL;case"warning":return VL;case"error":return qL;default:return null}},BL=Array(12).fill(0),$L=({visible:e,className:t})=>se.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},se.createElement("div",{className:"sonner-spinner"},BL.map((n,s)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),HL=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),VL=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),IL=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qL=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),WL=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),YL=()=>{const[e,t]=se.useState(document.hidden);return se.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let nx=1;class XL{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const f=t,{message:s}=f,a=Ae(f,["message"]),i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:nx++,c=this.toasts.find(h=>h.id===i),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),c?this.toasts=this.toasts.map(h=>h.id===i?(this.publish(oe(z(z({},h),t),{id:i,title:s})),oe(z(z({},h),t),{id:i,dismissible:d,title:s})):h):this.addToast(oe(z({title:s},a),{dismissible:d,id:i})),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create(oe(z({},n),{message:t})),this.error=(t,n)=>this.create(oe(z({},n),{message:t,type:"error"})),this.success=(t,n)=>this.create(oe(z({},n),{type:"success",message:t})),this.info=(t,n)=>this.create(oe(z({},n),{type:"info",message:t})),this.warning=(t,n)=>this.create(oe(z({},n),{type:"warning",message:t})),this.loading=(t,n)=>this.create(oe(z({},n),{type:"loading",message:t})),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create(oe(z({},n),{promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0})));const a=Promise.resolve(t instanceof Function?t():t);let i=s!==void 0,c;const d=a.then(h=>ge(this,null,function*(){if(c=["resolve",h],se.isValidElement(h))i=!1,this.create({id:s,type:"default",message:h});else if(KL(h)&&!h.ok){i=!1;const g=typeof n.error=="function"?yield n.error(`HTTP error! status: ${h.status}`):n.error,b=typeof n.description=="function"?yield n.description(`HTTP error! status: ${h.status}`):n.description,_=typeof g=="object"&&!se.isValidElement(g)?g:{message:g};this.create(z({id:s,type:"error",description:b},_))}else if(h instanceof Error){i=!1;const g=typeof n.error=="function"?yield n.error(h):n.error,b=typeof n.description=="function"?yield n.description(h):n.description,_=typeof g=="object"&&!se.isValidElement(g)?g:{message:g};this.create(z({id:s,type:"error",description:b},_))}else if(n.success!==void 0){i=!1;const g=typeof n.success=="function"?yield n.success(h):n.success,b=typeof n.description=="function"?yield n.description(h):n.description,_=typeof g=="object"&&!se.isValidElement(g)?g:{message:g};this.create(z({id:s,type:"success",description:b},_))}})).catch(h=>ge(this,null,function*(){if(c=["reject",h],n.error!==void 0){i=!1;const p=typeof n.error=="function"?yield n.error(h):n.error,g=typeof n.description=="function"?yield n.description(h):n.description,y=typeof p=="object"&&!se.isValidElement(p)?p:{message:p};this.create(z({id:s,type:"error",description:g},y))}})).finally(()=>{i&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((h,p)=>d.then(()=>c[0]==="reject"?p(c[1]):h(c[1])).catch(p));return typeof s!="string"&&typeof s!="number"?{unwrap:f}:Object.assign(s,{unwrap:f})},this.custom=(t,n)=>{const s=(n==null?void 0:n.id)||nx++;return this.create(z({jsx:t(s),id:s},n)),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Hs=new XL,GL=(e,t)=>{const n=(t==null?void 0:t.id)||nx++;return Hs.addToast(oe(z({title:e},t),{id:n})),n},KL=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",QL=GL,ZL=()=>Hs.toasts,JL=()=>Hs.getActiveToasts(),_r=Object.assign(QL,{success:Hs.success,info:Hs.info,warning:Hs.warning,error:Hs.error,custom:Hs.custom,message:Hs.message,promise:Hs.promise,dismiss:Hs.dismiss,loading:Hs.loading},{getHistory:ZL,getToasts:JL});UL("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function $f(e){return e.label!==void 0}const e6=3,t6="24px",n6="16px",s1=4e3,s6=356,r6=14,a6=45,i6=200;function na(...e){return e.filter(Boolean).join(" ")}function o6(e){const[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const l6=e=>{var t,n,s,a,i,c,d,f,h;const{invert:p,toast:g,unstyled:b,interacting:y,setHeights:_,visibleToasts:w,heights:N,index:S,toasts:D,expanded:A,removeToast:C,defaultRichColors:k,closeButton:T,style:R,cancelButtonStyle:P,actionButtonStyle:U,className:X="",descriptionClassName:H="",duration:K,position:Y,gap:te,expandByDefault:W,classNames:V,icons:Q,closeButtonAriaLabel:ee="Close toast"}=e,[ce,L]=se.useState(null),[le,re]=se.useState(null),[B,ne]=se.useState(!1),[ye,he]=se.useState(!1),[Ce,ke]=se.useState(!1),[We,Ue]=se.useState(!1),[qe,Ze]=se.useState(!1),[st,Pe]=se.useState(0),[Tt,Yt]=se.useState(0),Nt=se.useRef(g.duration||K||s1),it=se.useRef(null),jt=se.useRef(null),G=S===0,de=S+1<=w,q=g.type,Se=g.dismissible!==!1,Me=g.className||"",Re=g.descriptionClassName||"",$e=se.useMemo(()=>N.findIndex(Ge=>Ge.toastId===g.id)||0,[N,g.id]),Xe=se.useMemo(()=>{var Ge;return(Ge=g.closeButton)!=null?Ge:T},[g.closeButton,T]),Qe=se.useMemo(()=>g.duration||K||s1,[g.duration,K]),vt=se.useRef(0),wn=se.useRef(0),Jt=se.useRef(0),sn=se.useRef(null),[xn,Fn]=Y.split("-"),Bn=se.useMemo(()=>N.reduce((Ge,bt,Ht)=>Ht>=$e?Ge:Ge+bt.height,0),[N,$e]),Dt=YL(),Ee=g.invert||p,He=q==="loading";wn.current=se.useMemo(()=>$e*te+Bn,[$e,Bn]),se.useEffect(()=>{Nt.current=Qe},[Qe]),se.useEffect(()=>{ne(!0)},[]),se.useEffect(()=>{const Ge=jt.current;if(Ge){const bt=Ge.getBoundingClientRect().height;return Yt(bt),_(Ht=>[{toastId:g.id,height:bt,position:g.position},...Ht]),()=>_(Ht=>Ht.filter(Kt=>Kt.toastId!==g.id))}},[_,g.id]),se.useLayoutEffect(()=>{if(!B)return;const Ge=jt.current,bt=Ge.style.height;Ge.style.height="auto";const Ht=Ge.getBoundingClientRect().height;Ge.style.height=bt,Yt(Ht),_(Kt=>Kt.find(ie=>ie.toastId===g.id)?Kt.map(ie=>ie.toastId===g.id?oe(z({},ie),{height:Ht}):ie):[{toastId:g.id,height:Ht,position:g.position},...Kt])},[B,g.title,g.description,_,g.id,g.jsx,g.action,g.cancel]);const Le=se.useCallback(()=>{he(!0),Pe(wn.current),_(Ge=>Ge.filter(bt=>bt.toastId!==g.id)),setTimeout(()=>{C(g)},i6)},[g,C,_,wn]);se.useEffect(()=>{if(g.promise&&q==="loading"||g.duration===1/0||g.type==="loading")return;let Ge;return A||y||Dt?(()=>{if(Jt.current<vt.current){const Kt=new Date().getTime()-vt.current;Nt.current=Nt.current-Kt}Jt.current=new Date().getTime()})():(()=>{Nt.current!==1/0&&(vt.current=new Date().getTime(),Ge=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Le()},Nt.current))})(),()=>clearTimeout(Ge)},[A,y,g,q,Dt,Le]),se.useEffect(()=>{g.delete&&(Le(),g.onDismiss==null||g.onDismiss.call(g,g))},[Le,g.delete]);function pt(){var Ge;if(Q!=null&&Q.loading){var bt;return se.createElement("div",{className:na(V==null?void 0:V.loader,g==null||(bt=g.classNames)==null?void 0:bt.loader,"sonner-loader"),"data-visible":q==="loading"},Q.loading)}return se.createElement($L,{className:na(V==null?void 0:V.loader,g==null||(Ge=g.classNames)==null?void 0:Ge.loader),visible:q==="loading"})}const At=g.icon||(Q==null?void 0:Q[q])||FL(q);var ot,Ct;return se.createElement("li",{tabIndex:0,ref:jt,className:na(X,Me,V==null?void 0:V.toast,g==null||(t=g.classNames)==null?void 0:t.toast,V==null?void 0:V.default,V==null?void 0:V[q],g==null||(n=g.classNames)==null?void 0:n[q]),"data-sonner-toast":"","data-rich-colors":(ot=g.richColors)!=null?ot:k,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":B,"data-promise":!!g.promise,"data-swiped":qe,"data-removed":ye,"data-visible":de,"data-y-position":xn,"data-x-position":Fn,"data-index":S,"data-front":G,"data-swiping":Ce,"data-dismissible":Se,"data-type":q,"data-invert":Ee,"data-swipe-out":We,"data-swipe-direction":le,"data-expanded":!!(A||W&&B),"data-testid":g.testId,style:z(z({"--index":S,"--toasts-before":S,"--z-index":D.length-S,"--offset":`${ye?st:wn.current}px`,"--initial-height":W?"auto":`${Tt}px`},R),g.style),onDragEnd:()=>{ke(!1),L(null),sn.current=null},onPointerDown:Ge=>{Ge.button!==2&&(He||!Se||(it.current=new Date,Pe(wn.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(ke(!0),sn.current={x:Ge.clientX,y:Ge.clientY})))},onPointerUp:()=>{var Ge,bt,Ht;if(We||!Se)return;sn.current=null;const Kt=Number(((Ge=jt.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),J=Number(((bt=jt.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ie=new Date().getTime()-((Ht=it.current)==null?void 0:Ht.getTime()),pe=ce==="x"?Kt:J,je=Math.abs(pe)/ie;if(Math.abs(pe)>=a6||je>.11){Pe(wn.current),g.onDismiss==null||g.onDismiss.call(g,g),re(ce==="x"?Kt>0?"right":"left":J>0?"down":"up"),Le(),Ue(!0);return}else{var De,Ie;(De=jt.current)==null||De.style.setProperty("--swipe-amount-x","0px"),(Ie=jt.current)==null||Ie.style.setProperty("--swipe-amount-y","0px")}Ze(!1),ke(!1),L(null)},onPointerMove:Ge=>{var bt,Ht,Kt;if(!sn.current||!Se||((bt=window.getSelection())==null?void 0:bt.toString().length)>0)return;const ie=Ge.clientY-sn.current.y,pe=Ge.clientX-sn.current.x;var je;const De=(je=e.swipeDirections)!=null?je:o6(Y);!ce&&(Math.abs(pe)>1||Math.abs(ie)>1)&&L(Math.abs(pe)>Math.abs(ie)?"x":"y");let Ie={x:0,y:0};const Je=rt=>1/(1.5+Math.abs(rt)/20);if(ce==="y"){if(De.includes("top")||De.includes("bottom"))if(De.includes("top")&&ie<0||De.includes("bottom")&&ie>0)Ie.y=ie;else{const rt=ie*Je(ie);Ie.y=Math.abs(rt)<Math.abs(ie)?rt:ie}}else if(ce==="x"&&(De.includes("left")||De.includes("right")))if(De.includes("left")&&pe<0||De.includes("right")&&pe>0)Ie.x=pe;else{const rt=pe*Je(pe);Ie.x=Math.abs(rt)<Math.abs(pe)?rt:pe}(Math.abs(Ie.x)>0||Math.abs(Ie.y)>0)&&Ze(!0),(Ht=jt.current)==null||Ht.style.setProperty("--swipe-amount-x",`${Ie.x}px`),(Kt=jt.current)==null||Kt.style.setProperty("--swipe-amount-y",`${Ie.y}px`)}},Xe&&!g.jsx&&q!=="loading"?se.createElement("button",{"aria-label":ee,"data-disabled":He,"data-close-button":!0,onClick:He||!Se?()=>{}:()=>{Le(),g.onDismiss==null||g.onDismiss.call(g,g)},className:na(V==null?void 0:V.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(Ct=Q==null?void 0:Q.close)!=null?Ct:WL):null,(q||g.icon||g.promise)&&g.icon!==null&&((Q==null?void 0:Q[q])!==null||g.icon)?se.createElement("div",{"data-icon":"",className:na(V==null?void 0:V.icon,g==null||(a=g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||pt():null,g.type!=="loading"?At:null):null,se.createElement("div",{"data-content":"",className:na(V==null?void 0:V.content,g==null||(i=g.classNames)==null?void 0:i.content)},se.createElement("div",{"data-title":"",className:na(V==null?void 0:V.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?se.createElement("div",{"data-description":"",className:na(H,Re,V==null?void 0:V.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),se.isValidElement(g.cancel)?g.cancel:g.cancel&&$f(g.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||P,onClick:Ge=>{$f(g.cancel)&&Se&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ge),Le())},className:na(V==null?void 0:V.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,se.isValidElement(g.action)?g.action:g.action&&$f(g.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||U,onClick:Ge=>{$f(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ge),!Ge.defaultPrevented&&Le())},className:na(V==null?void 0:V.actionButton,g==null||(h=g.classNames)==null?void 0:h.actionButton)},g.action.label):null)};function r1(){if(typeof window=="undefined"||typeof document=="undefined")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function c6(e,t){const n={};return[e,t].forEach((s,a)=>{const i=a===1,c=i?"--mobile-offset":"--offset",d=i?n6:t6;function f(h){["top","right","bottom","left"].forEach(p=>{n[`${c}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?f(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?n[`${c}-${h}`]=d:n[`${c}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):f(d)}),n}const u6=se.forwardRef(function(t,n){const{id:s,invert:a,position:i="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:f,className:h,offset:p,mobileOffset:g,theme:b="light",richColors:y,duration:_,style:w,visibleToasts:N=e6,toastOptions:S,dir:D=r1(),gap:A=r6,icons:C,containerAriaLabel:k="Notifications"}=t,[T,R]=se.useState([]),P=se.useMemo(()=>s?T.filter(B=>B.toasterId===s):T.filter(B=>!B.toasterId),[T,s]),U=se.useMemo(()=>Array.from(new Set([i].concat(P.filter(B=>B.position).map(B=>B.position)))),[P,i]),[X,H]=se.useState([]),[K,Y]=se.useState(!1),[te,W]=se.useState(!1),[V,Q]=se.useState(b!=="system"?b:typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=se.useRef(null),ce=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=se.useRef(null),le=se.useRef(!1),re=se.useCallback(B=>{R(ne=>{var ye;return(ye=ne.find(he=>he.id===B.id))!=null&&ye.delete||Hs.dismiss(B.id),ne.filter(({id:he})=>he!==B.id)})},[]);return se.useEffect(()=>Hs.subscribe(B=>{if(B.dismiss){requestAnimationFrame(()=>{R(ne=>ne.map(ye=>ye.id===B.id?oe(z({},ye),{delete:!0}):ye))});return}setTimeout(()=>{XN.flushSync(()=>{R(ne=>{const ye=ne.findIndex(he=>he.id===B.id);return ye!==-1?[...ne.slice(0,ye),z(z({},ne[ye]),B),...ne.slice(ye+1)]:[B,...ne]})})})}),[T]),se.useEffect(()=>{if(b!=="system"){Q(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window=="undefined")return;const B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:ne})=>{Q(ne?"dark":"light")})}catch(ne){B.addListener(({matches:ye})=>{try{Q(ye?"dark":"light")}catch(he){console.error(he)}})}},[b]),se.useEffect(()=>{T.length<=1&&Y(!1)},[T]),se.useEffect(()=>{const B=ne=>{var ye;if(c.every(ke=>ne[ke]||ne.code===ke)){var Ce;Y(!0),(Ce=ee.current)==null||Ce.focus()}ne.code==="Escape"&&(document.activeElement===ee.current||(ye=ee.current)!=null&&ye.contains(document.activeElement))&&Y(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[c]),se.useEffect(()=>{if(ee.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,le.current=!1)}},[ee.current]),se.createElement("section",{ref:n,"aria-label":`${k} ${ce}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((B,ne)=>{var ye;const[he,Ce]=B.split("-");return P.length?se.createElement("ol",{key:B,dir:D==="auto"?r1():D,tabIndex:-1,ref:ee,className:h,"data-sonner-toaster":!0,"data-sonner-theme":V,"data-y-position":he,"data-x-position":Ce,style:z(z({"--front-toast-height":`${((ye=X[0])==null?void 0:ye.height)||0}px`,"--width":`${s6}px`,"--gap":`${A}px`},w),c6(p,g)),onBlur:ke=>{le.current&&!ke.currentTarget.contains(ke.relatedTarget)&&(le.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:ke=>{ke.target instanceof HTMLElement&&ke.target.dataset.dismissible==="false"||le.current||(le.current=!0,L.current=ke.relatedTarget)},onMouseEnter:()=>Y(!0),onMouseMove:()=>Y(!0),onMouseLeave:()=>{te||Y(!1)},onDragEnd:()=>Y(!1),onPointerDown:ke=>{ke.target instanceof HTMLElement&&ke.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},P.filter(ke=>!ke.position&&ne===0||ke.position===B).map((ke,We)=>{var Ue,qe;return se.createElement(l6,{key:ke.id,icons:C,index:We,toast:ke,defaultRichColors:y,duration:(Ue=S==null?void 0:S.duration)!=null?Ue:_,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:a,visibleToasts:N,closeButton:(qe=S==null?void 0:S.closeButton)!=null?qe:f,interacting:te,position:B,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:re,toasts:P.filter(Ze=>Ze.position==ke.position),heights:X.filter(Ze=>Ze.position==ke.position),setHeights:H,expandByDefault:d,gap:A,expanded:K,swipeDirections:t.swipeDirections})})):null}))}),Hf={duration:4e3};class sx{static success(t,n){const s=`success-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),_r.success(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Hf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static error(t,n){const s=`error-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),_r.error(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Hf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static info(t,n){const s=`info-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),_r.info(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Hf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static warning(t,n){const s=`warning-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),_r.warning(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Hf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static dismissAll(){_r.dismiss(),this.activeToasts.clear()}static clearCache(){this.activeToasts.clear()}}Et(sx,"activeToasts",new Set),Et(sx,"DUPLICATE_TIMEOUT",1e3);const mn=sx,d6=({onMenuClick:e})=>{const{currentUser:t,isLoading:n}=ML(),{currentUserProfile:s}=PL(),{logout:a}=lr(),i=()=>ge(null,null,function*(){try{mn.success("Logging out...",{description:"You will be redirected to the login page.",duration:2e3}),yield a(),setTimeout(()=>{nE()},1e3)}catch(p){console.error("Logout failed:",p),mn.error("Logout failed",{description:"Please try again or contact support."}),setTimeout(()=>{window.location.href=zL()},2e3)}}),c=()=>s?s.full_name||s.first_name||s.email||"User":!t||typeof t=="string"?t||"Guest":t.full_name||t.first_name||t.email||"User",d=()=>t?c().split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2):"G",f=()=>s!=null&&s.user_image?s.user_image:null,h=()=>s?s.email:t&&typeof t!="string"?t.email:t||"No email";return l.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 lg:hidden",children:l.jsx(CP,{className:"h-5 w-5 text-gray-600"})}),l.jsxs("div",{className:"relative hidden md:block",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(cm,{className:"h-4 w-4 text-gray-400"})}),l.jsx("input",{type:"text",className:"block w-80 pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects, tasks, or team members..."})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[l.jsx(UM,{className:"h-5 w-5 text-gray-600"}),l.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),l.jsx("div",{className:"relative",children:l.jsxs(my,{children:[l.jsx(py,{asChild:!0,children:l.jsxs("button",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f()?l.jsx("img",{src:f(),alt:"User avatar",className:"w-8 h-8 rounded-full object-cover"}):l.jsx("span",{className:"text-xs font-medium text-white",children:d()})}),l.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:n?"Loading...":c()}),l.jsx(KN,{className:"h-4 w-4 text-gray-500"})]})}),l.jsxs(gy,{className:"w-64 p-0",align:"end",children:[l.jsx("div",{className:"p-4 border-b border-gray-100",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f()?l.jsx("img",{src:f(),alt:"User avatar",className:"w-10 h-10 rounded-full object-cover"}):l.jsx("span",{className:"text-sm font-medium text-white",children:d()})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:c()}),l.jsx("p",{className:"text-sm text-gray-500",children:h()})]})]})}),l.jsxs("div",{className:"p-2",children:[l.jsxs("button",{className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[l.jsx(ZN,{className:"h-4 w-4 text-gray-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),l.jsxs("button",{onClick:i,className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-red-50 transition-colors duration-200 text-red-600",children:[l.jsx(EP,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"Sign out"})]})]})]})]})})]})]})})},sE=t=>{var e=Ae(t,[]);const{theme:n="system"}=fD();return l.jsx(u6,z({theme:n,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"}},e))},f6=()=>{const[e,t]=j.useState(!1);return l.jsxs("div",{className:"flex h-screen bg-gray-50",children:[l.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:l.jsx(kj,{})}),e&&l.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>t(!1)}),l.jsx("div",{className:"relative flex flex-col w-64 h-full bg-white shadow-xl",children:l.jsx(kj,{})})]}),l.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[l.jsx(d6,{onMenuClick:()=>t(!e)}),l.jsx("main",{className:"flex-1 overflow-y-auto",children:l.jsx("div",{className:"py-6",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx(qR,{})})})})]}),l.jsx(sE,{position:"top-right",richColors:!0,expand:!0,closeButton:!0,toastOptions:{duration:4e3}})]})},h6=(e={})=>{const{checkIntervalMinutes:t=5,showNotifications:n=!0,enabled:s=!0,onTokenExpired:a}=e,{currentUser:i,isLoading:c}=lr(),d=j.useRef(null),f=j.useRef(!1),h=j.useCallback(()=>{d.current&&(clearInterval(d.current),d.current=null)},[]),p=j.useCallback(()=>{h(),n&&mn.error("Session Expired",{description:"Your session has expired. Please log in again.",duration:3e3}),a==null||a(),setTimeout(()=>{nE()},1e3)},[h,a,n]),g=j.useCallback(()=>ge(null,null,function*(){try{return(yield LL()).isValid?(f.current=!1,!0):(console.warn("Authentication check failed - token invalid"),p(),!1)}catch(w){return console.error("Error checking authentication:",w),!0}}),[p]),b=j.useCallback(()=>{if(!s||c||!i||tx())return;h(),g();const w=t*60*1e3;d.current=setInterval(g,w)},[s,c,i,t,g,h]);j.useEffect(()=>(i&&!c?b():h(),h),[i,c,b,h]),j.useEffect(()=>h,[h]);const y=j.useCallback(()=>g(),[g]),_=j.useCallback(()=>{p()},[p]);return{checkAuth:y,forceLogout:_,isWatching:!!d.current,currentUser:i,isLoading:c}},m6=({children:e,checkInterval:t=5,showNotifications:n=!0})=>{const{isWatching:s,currentUser:a,isLoading:i}=h6({checkIntervalMinutes:t,showNotifications:n,enabled:!tx(),onTokenExpired:()=>{console.log("Token expired callback triggered")}});return j.useEffect(()=>{},[s,a,i,t]),tx()?l.jsx(l.Fragment,{children:e}):i?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.jsx(l.Fragment,{children:e})};function p6(){return l.jsx(aD,{siteName:"frontend",socketPort:"9000",children:l.jsxs(hD,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:[l.jsx(m6,{checkInterval:5,showNotifications:!0,children:l.jsx(f6,{})}),l.jsx(sE,{})]})})}const g6=()=>{const[e,t]=j.useState("all"),[n,s]=j.useState("all"),[a,i]=j.useState([]),[c,d]=j.useState(!1),{data:f,isLoading:h}=Mt("Project",{fields:["name","project_name","status","department","team","estimated_costing","expected_end_date","percent_complete"]}),{data:p,isLoading:g}=Mt("project_phase",{fields:["name"],limit:0});j.useEffect(()=>{ge(null,null,function*(){if(!p||p.length===0){i([]);return}d(!0);try{const R=p.map(X=>ge(null,null,function*(){try{const H=yield fetch(`/api/resource/project_phase/${X.name}`,{method:"GET",headers:{Accept:"application/json"}});if(!H.ok)return console.warn(`❌ Failed to fetch phase ${X.name}:`,H.status),null;const K=yield H.json();return K.data||K}catch(H){return console.error(`💥 Error fetching phase ${X.name}:`,H),null}})),U=(yield Promise.all(R)).filter(X=>X!==null);i(U)}catch(R){console.error("💥 Error in fetchPhasesWithTasks:",R)}finally{d(!1)}})},[p]);const{data:b,isLoading:y}=Mt("Task",{fields:["name","subject","status","exp_end_date","exp_start_date","project","progress","priority","is_group"],limit:0}),{data:_,isLoading:w}=Mt("Timesheet",{fields:["name","total_hours"],limit:0}),N=(f||[]).map(T=>{var R;return oe(z({},T),{project_type:T.project_type||"",customer:T.customer||"",company:T.company||"",department:T.department||"",team:T.team||"",expected_start_date:T.expected_start_date||"",expected_end_date:T.expected_end_date||"",actual_start_date:T.actual_start_date||"",actual_end_date:T.actual_end_date||null,percent_complete:T.percent_complete||0,priority:T.priority||"Medium",estimated_costing:T.estimated_costing||0,total_billable_amount:T.total_billable_amount||0,total_billed_amount:T.total_billed_amount||0,gross_margin:T.gross_margin||0,estimated_hours:T.estimated_hours||0,total_hours:T.total_hours||0,is_active:(R=T.is_active)!=null?R:!0})}),S=j.useMemo(()=>!a||a.length===0?[]:a.map(T=>{const R=T.tasks||[];return oe(z({},T),{phase_name:T.subject||T.name||"",status:T.status||"Open",expected_start_date:T.start_date||"",expected_end_date:T.end_date||"",actual_start_date:T.start_date||"",actual_end_date:null,progress:T.progress||0,description:T.details||"",tasks:R})}),[a]),D=(b||[]).map(T=>oe(z({},T),{project:T.project||"",priority:T.priority||"Medium",type:T.type||"",expected_time:T.expected_time||0,actual_time:T.actual_time||0,start_date:T.exp_start_date||"",end_date:T.exp_end_date||"",progress:T.progress||0,assigned_to:T.assigned_to||null,is_group:T.is_group||!1,parent_task_name:T.parent_task_name||null})),A=(_||[]).map(T=>({name:T.name,employee:T.employee||"",project:"",task:"",start_date:T.start_date||"",end_date:T.end_date||"",total_hours:T.total_hours||0,billable:!0,billing_hours:0,billing_rate:0,billing_amount:0})),C=h||g||c||y||w,k=j.useMemo(()=>{let T=N;n!=="all"&&n!==""&&(T=T.filter(X=>X.team===n)),e!=="all"&&e!==""&&(T=T.filter(X=>X.project_name===e));const R=T.map(X=>X.project_name),P=T.map(X=>X.name),U=S.filter(X=>P.includes(X.project));return{filteredProjects:T,filteredPhases:U,filteredTasks:D.filter(X=>{const H=X.project||"";return P.includes(H)}),filteredTimesheets:A.filter(X=>X.project?R.includes(X.project):!0)}},[N,S,D,A,e,n]);return{allProjects:N,allPhases:S,filteredData:k,selectedProject:e,selectedTeam:n,setSelectedProject:t,setSelectedTeam:s,isLoading:C}},To=class To{static useUserProjects(){const{currentUser:t}=lr(),{data:n,isLoading:s,error:a,mutate:i}=Mt("Project",{fields:To.PROJECT_FIELDS,filters:t?[["owner","=",t]]:[],orderBy:{field:"modified",order:"desc"}},void 0,{revalidateOnFocus:!0,revalidateOnReconnect:!0}),{data:c,isLoading:d,error:f,mutate:h}=Mt("Project",{fields:To.PROJECT_FIELDS,limit:0,orderBy:{field:"modified",order:"desc"}},void 0,{revalidateOnFocus:!0,revalidateOnReconnect:!0}),p=se.useMemo(()=>{if(!t)return[];const b=_=>{const w=new Map;return _.forEach(N=>{var D;const S=N.name;if(!w.has(S)){const A={name:N.name,owner:N.owner,creation:N.creation,modified:N.modified,project_name:N.project_name,project_type:N.project_type,status:N.status,customer:N.customer,expected_start_date:N.expected_start_date,expected_end_date:N.expected_end_date,percent_complete:N.percent_complete,priority:N.priority,department:N.department,team:N.team||null,estimated_costing:N.estimated_costing,total_billable_amount:N.total_billable_amount,company:N.company,users:[]};w.set(S,A)}if(N.user){const A=w.get(S);((D=A.users)==null?void 0:D.some(k=>k.user===N.user))||(A.users=A.users||[],A.users.push({user:N.user,email:N.email,full_name:N.full_name,project_status:N.project_status}))}}),Array.from(w.values()).sort((N,S)=>{const D=new Date(N.modified||N.creation||0);return new Date(S.modified||S.creation||0).getTime()-D.getTime()})};let y=[];if(n&&n.length>0&&(y=y.concat(n)),c&&c.length>0){const _=c.filter(w=>w.owner===t||w.user&&w.user===t);y=y.concat(_)}return b(y)},[n,c,t]),g=se.useCallback(()=>ge(null,null,function*(){console.log("Mutating ownedProjects and allProjects...");try{yield Promise.all([i(),h()]),console.log("Data refreshed successfully")}catch(b){console.error("Error refreshing data:",b)}}),[i,h]);return{data:p,isLoading:s||d,error:a&&f?a||f:null,mutate:g}}static useProject(t){const{data:n,isLoading:s,error:a,mutate:i}=Sn("Project",t||"",t?"Project":void 0);return{data:n,isLoading:s,error:a,mutate:i}}static useProjectOwner(t){const{data:n,isLoading:s,error:a}=Sn("User",t||"",t?void 0:null);return{data:n,isLoading:s,error:a}}static useCreateProject(){const{createDoc:t,loading:n,error:s}=Bi();return{createProject:i=>ge(null,null,function*(){return yield t("Project",oe(z({},i),{expected_start_date:i.expected_start_date||void 0,expected_end_date:i.expected_end_date||void 0}))}),isLoading:n,error:s}}static useUpdateProject(){const{updateDoc:t,loading:n,error:s}=qs();return{updateProject:(i,c)=>ge(null,null,function*(){return yield t("Project",i,oe(z({},c),{expected_start_date:c.expected_start_date||void 0,expected_end_date:c.expected_end_date||void 0}))}),isLoading:n,error:s}}static useDeleteProject(){const{call:t,loading:n,error:s}=ms("frappe.client.delete");return{deleteProject:i=>ge(null,null,function*(){return yield t({doctype:"Project",name:i})}),isLoading:n,error:s}}static useProjectMembers(){const{call:t}=ms("frappe.client.insert"),{call:n}=ms("frappe.client.save"),{call:s}=ms("frappe.client.delete");return{addMember:d=>ge(null,null,function*(){return yield t({doc:oe(z({doctype:"Project User"},d),{welcome_email_sent:1})})}),updateMember:(d,f)=>ge(null,null,function*(){return yield n({doc:z({doctype:"Project User",name:d},f)})}),removeMember:d=>ge(null,null,function*(){return yield s({doctype:"Project User",name:d})})}}static useProjectOwnerManagement(){const{call:t}=ms("frappe.client.save"),{call:n}=ms("frappe.client.set_value");return{transferOwner:(i,c)=>ge(null,null,function*(){try{return yield t({doc:{doctype:"Project",name:i,owner:c}}),{success:!0,method:"save"}}catch(d){try{return yield n({doctype:"Project",name:i,fieldname:"owner",value:c}),{success:!0,method:"set_value"}}catch(f){throw new Error("Owner field is protected by ERPNext")}}}),transferOwnerWithAPI:(i,c)=>ge(null,null,function*(){try{const d=yield fetch("/api/method/my_app.api.project_transfer.transfer_project_owner",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({project_name:i,new_owner:c})}),f=yield d.json();return d.ok&&f.message?{success:!0,data:f.message}:{success:!1,error:f.message||"Transfer failed"}}catch(d){return{success:!1,error:d instanceof Error?d.message:"Unknown error"}}})}}static useProjectUsers(t){const{data:n,isLoading:s,error:a,mutate:i}=Sn("Project",t,{fields:["name","users"]});return{data:(n==null?void 0:n.users)||[],isLoading:s,error:a,mutate:i}}static useProjectUsersAlt(t){const{data:n,isLoading:s,error:a,mutate:i}=Mt("Project User",{fields:["name","user","email","full_name","image"],filters:[["parent","=",t]],limit:0});return{data:n||[],isLoading:s,error:a,mutate:i}}};Et(To,"PROJECT_FIELDS",["name","owner","creation","modified","project_name","project_type","status","customer","department","team","expected_start_date","expected_end_date","percent_complete","priority","estimated_costing","total_billable_amount","company","users.user","users.email","users.full_name","users.project_status"]),Et(To,"DETAILED_PROJECT_FIELDS",[...To.PROJECT_FIELDS,"creation","modified","modified_by","description","notes","expected_start_date","actual_start_date","actual_end_date","total_costing_amount","total_purchase_cost","total_sales_amount","total_billed_amount","users"]);let Xu=To;const x6=Xu.useUserProjects,y6=Xu.useCreateProject,b6=Xu.useUpdateProject;class Ha{static useDocTypeOptions(t,n={}){const{fields:s=["name"],filters:a=[],limit:i=100}=n,{data:c,isLoading:d,error:f}=Mt(t,{fields:s,filters:a,limit:i});return{data:c||[],isLoading:d,error:f}}static useCustomers(){return Ha.useDocTypeOptions("Customer",{fields:["name","customer_name","customer_type"],filters:[["disabled","=",0]]})}static useCompanies(){return Ha.useDocTypeOptions("Company",{fields:["name","company_name","abbr"],filters:[["is_group","=",0]]})}static useProjectTypes(){return Ha.useDocTypeOptions("Project Type",{fields:["name","description"]})}static useDepartments(){return Ha.useDocTypeOptions("Department",{fields:["name","department_name","parent_department"],filters:[["disabled","=",0]]})}static useCostCenters(){return Ha.useDocTypeOptions("Cost Center",{fields:["name","cost_center_name","parent_cost_center"],filters:[["disabled","=",0],["is_group","=",0]]})}static useProjectTemplates(){return Ha.useDocTypeOptions("Project Template",{fields:["name","project_template_name"]})}static useTeams(){return Ha.useDocTypeOptions("Team",{fields:["name","team","department"]})}}const rE=Ha.useTeams;class v6{static useCreatePhaseTask(){const{createDoc:t,loading:n}=Bi(),{call:s}=ms("frappe.client.insert"),{call:a}=ms("frappe.client.save"),{data:i}=Sn("User","",{shouldFetch:!0});return{createTaskWithPhase:d=>ge(null,null,function*(){try{const f=yield t("Task",{subject:d.subject,description:d.description,priority:d.priority,status:d.status,type:d.type,expected_time:d.expected_time,task_weight:d.task_weight,exp_start_date:d.exp_start_date||null,exp_end_date:d.exp_end_date||null,project:d.project});let h=null;if(d.assign_to&&f)try{h=yield s({doc:{doctype:"ToDo",allocated_to:d.assign_to,assigned_by:(i==null?void 0:i.name)||"",description:`Task: ${d.subject}`,reference_type:"Task",reference_name:f.name,status:"Open",priority:d.priority,date:new Date().toISOString().split("T")[0]}})}catch(p){console.error("Error creating ToDo:",p)}if(d.phaseId&&f){const p={parent:d.phaseId,parenttype:"project_phase",parentfield:"tasks",task:f.name,task_name:f.subject,status:f.status,start_date:f.exp_start_date,end_date:f.exp_end_date,description:f.description},g=yield s({doc:z({doctype:"Project Phase Task"},p)});console.log("Project Phase Task created successfully:",g);try{console.log("Saving parent phase document to commit child table changes...");const b=yield a({doc:{doctype:"project_phase",name:d.phaseId}});console.log("Parent phase saved successfully:",b)}catch(b){console.warn("Failed to save parent phase, but child was created:",b)}return{success:!0,task:f,phaseTask:g,todo:h,message:"Task created and linked to phase successfully"}}return{success:!0,task:f,todo:h,message:"Task created successfully"}}catch(f){throw console.error("Error in createTaskWithPhase:",f),f}}),isLoading:n}}static useLinkTaskToPhase(){const{call:t}=ms("frappe.client.insert");return{linkTaskToPhase:(s,a,i)=>ge(null,null,function*(){try{const c={parent:a,parenttype:"Project Phase",parentfield:"tasks",task:s,task_name:(i==null?void 0:i.task_name)||s,status:(i==null?void 0:i.status)||"Open",start_date:i==null?void 0:i.start_date,end_date:i==null?void 0:i.end_date,description:i==null?void 0:i.description};return{success:!0,phaseTask:yield t({doc:z({doctype:"Project Phase Task"},c)}),message:"Task linked to phase successfully"}}catch(c){return console.error("Error linking task to phase:",c),{success:!1,error:c instanceof Error?c.message:"Unknown error",message:"Failed to link task to phase"}}})}}}const w6=v6.useCreatePhaseTask;class aE{static useUpdateTask(){const{updateDoc:t,loading:n,error:s}=qs();return{updateTask:(i,c)=>ge(null,null,function*(){const p=c,{assign_to:d}=p,f=Ae(p,["assign_to"]),h=yield t("Task",i,oe(z({},f),{exp_start_date:f.exp_start_date||void 0,exp_end_date:f.exp_end_date||void 0}));return f.progress!==void 0&&(console.log(`Task ${i} progress updated, signaling phase progress update...`),localStorage.setItem("task_progress_updated",i),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:i}))),h}),isLoading:n,error:s}}static useTaskAssignment(){const{createDoc:t}=Bi(),{deleteDoc:n}=am(),{data:s}=Sn("User","",{shouldFetch:!0});return{assignTask:(c,d,f,h="Medium")=>ge(null,null,function*(){return yield t("ToDo",{allocated_to:f,assigned_by:(s==null?void 0:s.name)||"",description:`Task: ${d}`,reference_type:"Task",reference_name:c,status:"Open",priority:h,date:new Date().toISOString().split("T")[0]})}),unassignTask:c=>ge(null,null,function*(){return yield n("ToDo",c)})}}}const iE=aE.useUpdateTask,oE=aE.useTaskAssignment;class lE{static useUpdatePhase(){const{updateDoc:t,loading:n,error:s}=qs();return{updatePhase:(i,c)=>ge(null,null,function*(){return t("project_phase",i,c)}),isLoading:n,error:s}}static usePhaseAssignment(){const{createDoc:t}=Bi(),{deleteDoc:n}=am(),{data:s}=Sn("User","",{shouldFetch:!0});return{assignPhase:(c,d)=>ge(null,null,function*(){return t("ToDo",{allocated_to:d,assigned_by:(s==null?void 0:s.name)||"",reference_type:"project_phase",reference_name:c,description:`Assigned to phase: ${c}`,status:"Open"})}),unassignPhase:c=>ge(null,null,function*(){return n("ToDo",c)})}}}const _6=lE.useUpdatePhase,cE=lE.usePhaseAssignment;class j6{static useUpdateSubTask(){const{updateDoc:t,loading:n,error:s}=qs();return{updateSubTask:(i,c)=>ge(null,null,function*(){return yield t("SubTask",i,c)}),isLoading:n,error:s}}static useSubTaskAssignment(){const{createDoc:t}=Bi(),{deleteDoc:n}=am(),{data:s}=Sn("User","",{shouldFetch:!0});return{assignSubTask:(c,d)=>ge(null,null,function*(){return yield t("ToDo",{allocated_to:d,assigned_by:(s==null?void 0:s.name)||"",reference_type:"SubTask",reference_name:c,description:`Assignment for SubTask: ${c}`,status:"Open"})}),unassignSubTask:c=>ge(null,null,function*(){return yield n("ToDo",c)})}}}const{useUpdateSubTask:uE,useSubTaskAssignment:xy}=j6,uc=e=>{const{data:t,isLoading:n,error:s}=Sn("Project",e,{fields:["name","users"]}),{data:a,isLoading:i}=Sn("Project",(t==null?void 0:t.name)||"",t!=null&&t.name?"Project":void 0);return{data:(a==null?void 0:a.users)||(t==null?void 0:t.users)||[],isLoading:n||i,error:s}};class S6{static useTaskProgressCalculation(){const{updateDoc:t}=qs();return{calculateAndUpdateTaskProgress:s=>ge(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name","status"],filters:[["task","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(yield a.json()).message||[];if(!c||c.length===0)return null;let d=0;c.forEach(h=>{switch(h.status){case"Open":d+=1;break;case"Working":d+=50;break;case"Completed":d+=100;break;default:d+=0}});const f=Math.round(d/c.length);return yield t("Task",s,{progress:f}),console.log(`Task ${s} progress updated to ${f}%, signaling phase progress update...`),localStorage.setItem("task_progress_updated",s),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:s})),console.log(`Task ${s} progress updated to ${f}%`),f}catch(a){return console.error("Error calculating task progress:",a),null}})}}static useTaskStatusProgressUpdate(){const{updateDoc:t}=qs();return{updateTaskProgressByStatus:(s,a,i)=>ge(null,null,function*(){try{let c=i||0;switch(a){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("Task",s,{status:a,progress:c}),console.log(`Task ${s} status/progress updated, signaling phase progress update...`),localStorage.setItem("task_progress_updated",s),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:s})),c}catch(c){return console.error("Error updating task progress by status:",c),null}})}}static useManualProgressUpdate(){const{updateDoc:t}=qs();return{updateTaskProgress:(s,a)=>ge(null,null,function*(){try{let i="";return a===0||a===1?i="Open":a>1&&a<=90?i="Working":a>90&&a<100?i="Pending Review":a===100&&(i="Completed"),yield t("Task",s,{progress:a,status:i}),console.log(`Task ${s} manual progress updated to ${a}%, signaling phase progress update...`),localStorage.setItem("task_progress_updated",s),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:s})),{progress:a,status:i}}catch(i){return console.error("Error updating manual task progress:",i),null}})}}}const{useTaskProgressCalculation:cd,useTaskStatusProgressUpdate:dE,useManualProgressUpdate:fE}=S6;class hE{static usePhaseProgressCalculation(){const{updateDoc:t}=qs();return{calculateAndUpdatePhaseProgress:s=>ge(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",name:s})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(yield a.json()).message;if(!c||!c.tasks||c.tasks.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no tasks)`),0;const d=c.tasks.map(y=>y.task);console.log(`Phase ${s} has ${d.length} tasks:`,d);const f=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["name","in",d]]})});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const p=(yield f.json()).message||[];if(p.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no valid tasks)`),0;let g=0;p.forEach(y=>{const _=y.progress||0;console.log(`Task ${y.name}: ${_}%`),g+=_});const b=Math.round(g/p.length);return console.log(`Calculated phase progress: ${b}% (from ${p.length} tasks)`),yield t("project_phase",s,{progress:b}),console.log(`Phase ${s} progress updated to ${b}% (based on ${p.length} tasks)`),b}catch(a){return console.error("Error calculating phase progress:",a),null}})}}static usePhaseStatusProgressUpdate(){const{updateDoc:t}=qs();return{updatePhaseProgressByStatus:(s,a,i)=>ge(null,null,function*(){try{let c=i||0;switch(a){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("project_phase",s,{status:a,progress:c}),c}catch(c){return console.error("Error updating phase progress by status:",c),null}})}}static useManualPhaseProgressUpdate(){const{updateDoc:t}=qs();return{updatePhaseProgress:(s,a)=>ge(null,null,function*(){try{let i="";return a===0||a===1?i="Open":a>1&&a<=90?i="Working":a>90&&a<100?i="Pending Review":a===100&&(i="Completed"),yield t("project_phase",s,{progress:a,status:i}),{progress:a,status:i}}catch(i){return console.error("Error updating manual phase progress:",i),null}})}}}const{usePhaseProgressCalculation:mE}=hE,N6=e=>ge(null,null,function*(){const{calculateAndUpdatePhaseProgress:t}=hE.usePhaseProgressCalculation();return yield t(e)});class yy{static useProjectProgressFromPhases(){const{updateDoc:t}=qs();return{calculateAndUpdateProjectProgressFromPhases:s=>ge(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(yield a.json()).message||[];if(!c||c.length===0){const{calculateAndUpdateProjectProgressFromTasks:h}=yy.useProjectProgressFromTasks();return yield h(s)}let d=0;c.forEach(h=>{d+=h.progress||0});const f=Math.round(d/c.length);return yield t("Project",s,{percent_complete:f}),f}catch(a){return console.error("Error calculating project progress from phases:",a),null}})}}static useProjectProgressFromTasks(){const{updateDoc:t}=qs();return{calculateAndUpdateProjectProgressFromTasks:s=>ge(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(yield a.json()).message||[];if(!c||c.length===0)return yield t("Project",s,{percent_complete:0}),0;let d=0;c.forEach(h=>{d+=h.progress||0});const f=Math.round(d/c.length);return yield t("Project",s,{percent_complete:f}),f}catch(a){return console.error("Error calculating project progress from tasks:",a),null}})}}static useProjectProgressCalculation(){const{updateDoc:t}=qs();return{calculateAndUpdateProjectProgress:s=>ge(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(yield a.json()).message||[];console.log("Found phases:",c.length);const d=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const h=(yield d.json()).message||[];if(console.log("Found tasks:",h.length),c&&c.length>0){const p=[];for(const w of c)try{const N=yield fetch(`/api/resource/project_phase/${w.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(N.ok){const S=yield N.json();S.data.tasks&&S.data.tasks.length>0&&S.data.tasks.forEach(D=>{D.task&&p.push(D.task)})}}catch(N){console.warn("Error fetching phase document:",w.name,N)}console.log("Tasks in phases:",p);const g=h.filter(w=>!p.includes(w.name));console.log("Standalone tasks:",g.length);let b=0,y=0;c.forEach(w=>{const N=w.progress||0;console.log(`Phase ${w.name}: ${N}%`),b+=N,y+=1}),g.forEach(w=>{const N=w.progress||0;console.log(`Standalone Task ${w.name}: ${N}%`),b+=N,y+=1}),console.log(`Total components: ${y}, Total progress: ${b}`);const _=y>0?Math.round(b/y):0;return console.log(`Calculated average progress: ${_}%`),yield t("Project",s,{percent_complete:_}),{progress:_,source:"mixed",count:y,phases:c.length,standaloneTasks:g.length}}else if(h&&h.length>0){console.log("No phases found, calculating from all tasks");let p=0;h.forEach(b=>{p+=b.progress||0});const g=Math.round(p/h.length);return console.log(`Task-based progress: ${g}%`),yield t("Project",s,{percent_complete:g}),{progress:g,source:"tasks",count:h.length}}else return console.log("No phases or tasks found"),yield t("Project",s,{percent_complete:0}),{progress:0,source:"none",count:0}}catch(a){return console.error("Error calculating project progress:",a),null}})}}static useProjectStatusProgressUpdate(){const{updateDoc:t}=qs();return{updateProjectProgressByStatus:(s,a,i)=>ge(null,null,function*(){try{let c=i||0;switch(a){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("Project",s,{status:a,percent_complete:c}),c}catch(c){return console.error("Error updating project progress by status:",c),null}})}}}const{useProjectProgressCalculation:E6}=yy;class T6{static useProjectCascadeDelete(){const{call:t}=ms("frappe.client.delete"),{call:n}=ms("frappe.client.get_list");return{deleteProjectCascade:a=>ge(null,null,function*(){try{console.log(`Starting cascade delete for project: ${a}`);try{const y=yield n({doctype:"Project",fields:["name"],filters:[["name","=",a]],limit_page_length:1});if(!(y!=null&&y.message)||y.message.length===0)throw new Error(`Project ${a} not found`)}catch(y){throw console.error("Project validation failed:",y),new Error(`Project validation failed: ${y instanceof Error?y.message:"Unknown validation error"}`)}let i=0,c=0,d=0;console.log("Step 1: Fetching all tasks...");let f=[];try{const y=yield n({doctype:"Task",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3});f=(y==null?void 0:y.message)||[],console.log(`Found ${f.length} tasks to delete`)}catch(y){console.error("Error fetching tasks:",y),console.log("Continuing with deletion despite task fetch error...")}if(f.length>0){console.log(`Step 2: Processing ${f.length} tasks for subtask deletion...`);for(const y of f){console.log(`Step 2: Deleting subtasks for task ${y.name}...`);try{const _=yield n({doctype:"SubTask",fields:["name"],filters:[["task","=",y.name]],limit_page_length:1e3}),w=(_==null?void 0:_.message)||[];console.log(`Found ${w.length} subtasks for task ${y.name}`);for(const N of w)try{console.log(`Deleting subtask: ${N.name}`),yield t({doctype:"SubTask",name:N.name}),i++,console.log(`Successfully deleted subtask: ${N.name}`),yield new Promise(S=>setTimeout(S,100))}catch(S){console.error(`Error deleting subtask ${N.name}:`,S)}}catch(_){console.error(`Error fetching subtasks for task ${y.name}:`,_)}}yield new Promise(y=>setTimeout(y,500))}if(f.length>0){console.log(`Step 3: Deleting ${f.length} tasks...`);for(const y of f)try{console.log(`Deleting task: ${y.name}`),yield t({doctype:"Task",name:y.name}),c++,console.log(`Successfully deleted task: ${y.name}`),yield new Promise(_=>setTimeout(_,100))}catch(_){console.error(`Error deleting task ${y.name}:`,_)}yield new Promise(y=>setTimeout(y,500))}console.log("Step 4: Deleting all phases...");let h=[];try{const y=yield n({doctype:"project_phase",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3});h=(y==null?void 0:y.message)||[],console.log(`Found ${h.length} phases to delete`)}catch(y){console.error("Error fetching phases:",y),console.log("Continuing with deletion despite phase fetch error...")}for(const y of h)try{console.log(`Deleting phase: ${y.name}`),yield t({doctype:"project_phase",name:y.name}),d++,console.log(`Successfully deleted phase: ${y.name}`),yield new Promise(_=>setTimeout(_,100))}catch(_){console.error(`Error deleting phase ${y.name}:`,_)}h.length>0&&(yield new Promise(y=>setTimeout(y,500))),console.log("Step 5: Deleting ToDo assignments...");try{const y=yield n({doctype:"ToDo",fields:["name"],filters:[["reference_type","in",["Project","Task","SubTask"]],["reference_name","like",`%${a}%`]],limit_page_length:1e3}),_=(y==null?void 0:y.message)||[];console.log(`Found ${_.length} ToDo assignments to delete`);for(const w of _)try{yield t({doctype:"ToDo",name:w.name})}catch(N){console.error(`Error deleting ToDo ${w.name}:`,N)}}catch(y){console.error("Error fetching/deleting ToDo assignments:",y)}console.log("Step 6: Deleting project users...");try{const y=yield n({doctype:"Project User",fields:["name"],filters:[["parent","=",a]],limit_page_length:1e3}),_=(y==null?void 0:y.message)||[];console.log(`Found ${_.length} project users to delete`);for(const w of _)try{yield t({doctype:"Project User",name:w.name})}catch(N){console.error(`Error deleting Project User ${w.name}:`,N)}}catch(y){console.error("Error fetching/deleting project users:",y)}console.log("Step 6.5: Performing comprehensive dependency cleanup...");const p=[{doctype:"Task",filter:[["project","=",a]]},{doctype:"SubTask",filter:[["project","=",a]]},{doctype:"project_phase",filter:[["project","=",a]]},{doctype:"Project User",filter:[["parent","=",a]]},{doctype:"ToDo",filter:[["reference_type","=","Project"],["reference_name","=",a]]},{doctype:"ToDo",filter:[["reference_type","=","Task"],["reference_name","like",`%${a}%`]]},{doctype:"Communication",filter:[["reference_doctype","=","Project"],["reference_name","=",a]]},{doctype:"File",filter:[["attached_to_doctype","=","Project"],["attached_to_name","=",a]]},{doctype:"Comment",filter:[["reference_doctype","=","Project"],["reference_name","=",a]]}];for(const y of p)try{console.log(`Checking for remaining ${y.doctype} dependencies...`);const _=yield n({doctype:y.doctype,fields:["name"],filters:y.filter,limit_page_length:1e3}),w=(_==null?void 0:_.message)||[];if(w.length>0){console.log(`Found ${w.length} remaining ${y.doctype} items, deleting them...`);for(const N of w)try{yield t({doctype:y.doctype,name:N.name}),console.log(`Deleted remaining ${y.doctype}: ${N.name}`),yield new Promise(S=>setTimeout(S,100))}catch(S){console.error(`Error deleting remaining ${y.doctype} ${N.name}:`,S)}}else console.log(`No remaining ${y.doctype} dependencies found.`)}catch(_){console.error(`Error checking ${y.doctype} dependencies:`,_)}yield new Promise(y=>setTimeout(y,1e3)),console.log("Step 7: Deleting the project..."),yield new Promise(y=>setTimeout(y,1e3));let g=0;const b=3;for(;g<b;)try{g++,console.log(`Attempting to delete project ${a} (attempt ${g}/${b})`),yield t({doctype:"Project",name:a}),console.log(`Verifying project ${a} deletion...`);try{const y=yield n({doctype:"Project",fields:["name"],filters:[["name","=",a]],limit_page_length:1});if(y!=null&&y.message&&y.message.length>0)throw new Error("Project still exists after deletion attempt");console.log(`Successfully verified project ${a} deletion`)}catch(y){if(y.message==="Project still exists after deletion attempt")throw y;console.log(`Project ${a} not found during verification - deletion successful`)}console.log(`Successfully deleted project: ${a}`);break}catch(y){if(console.error(`Error deleting project ${a} (attempt ${g}):`,y),g<b){console.log(`Waiting before retry attempt ${g+1}...`),yield new Promise(_=>setTimeout(_,2e3)),console.log("Attempting to clean up remaining dependencies...");try{const _=yield n({doctype:"Project User",fields:["name"],filters:[["parent","=",a]],limit_page_length:1e3}),w=(_==null?void 0:_.message)||[];if(w.length>0){console.log(`Found ${w.length} remaining project users, deleting them...`);for(const N of w)try{yield t({doctype:"Project User",name:N.name}),console.log(`Deleted remaining project user: ${N.name}`)}catch(S){console.error(`Error deleting remaining project user ${N.name}:`,S)}}}catch(_){console.error("Error during dependency cleanup:",_)}try{const _=yield n({doctype:"ToDo",fields:["name"],filters:[["reference_type","=","Project"],["reference_name","=",a]],limit_page_length:1e3}),w=(_==null?void 0:_.message)||[];if(w.length>0){console.log(`Found ${w.length} remaining todos, deleting them...`);for(const N of w)try{yield t({doctype:"ToDo",name:N.name}),console.log(`Deleted remaining todo: ${N.name}`)}catch(S){console.error(`Error deleting remaining todo ${N.name}:`,S)}}}catch(_){console.error("Error during todo cleanup:",_)}}else{let _="Unknown project deletion error";if(y&&typeof y=="object")if(console.error("Full project deletion error object:",JSON.stringify(y,null,2)),y.message)_=y.message;else if(y.exc)_=y.exc;else if(y._server_messages)try{const w=JSON.parse(y._server_messages);Array.isArray(w)&&w.length>0&&(_=JSON.parse(w[0]).message||_)}catch(w){console.error("Error parsing server messages:",w)}else _=JSON.stringify(y);else typeof y=="string"&&(_=y);throw new Error(`Failed to delete project ${a} after ${b} attempts: ${_}`)}}return console.log(`Successfully completed cascade delete for project: ${a}`),{success:!0,deletedItems:{subtasks:i,tasks:c,phases:d,project:1}}}catch(i){console.error("Error in cascade delete:",i);let c="Unknown error";throw i instanceof Error?c=i.message:typeof i=="string"?c=i:i&&typeof i=="object"&&(c=i.message||i.error||i.exc||JSON.stringify(i)),new Error(`Failed to delete project and related items: ${c}`)}})}}}const{useProjectCascadeDelete:C6}=T6;class by{static useUserTodos(){const{data:t}=Sn("User","",{shouldFetch:!0}),{data:n,isLoading:s,error:a,mutate:i}=Mt("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",(t==null?void 0:t.name)||""],["reference_type","=","Task"]],orderBy:{field:"creation",order:"desc"},limit:0},t!=null&&t.name?"user-todos":null);return{todos:n||[],isLoading:s,error:a,mutate:i,currentUser:t}}static useUserTodosEnriched(){const{data:t}=Sn("User","",{shouldFetch:!0}),{data:n,isLoading:s,error:a,mutate:i}=lD("todo.api.get_user_todos_with_task_info",{user:(t==null?void 0:t.name)||""},t!=null&&t.name?"user-todos-enriched":null,{revalidateOnFocus:!1,revalidateOnReconnect:!1});return{todos:(n==null?void 0:n.message)||[],isLoading:s,error:a,mutate:i,currentUser:t}}static useUserTodosWithTaskData(){const{todos:t,isLoading:n,error:s,mutate:a,currentUser:i}=by.useUserTodos();return{todos:t.map(d=>(d.reference_type==="Task"&&d.reference_name,d)),isLoading:n,error:s,mutate:a,currentUser:i}}static useAllTodos(){const{data:t,isLoading:n,error:s}=Mt("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by"],filters:[["reference_type","in",["Task","SubTask"]]],limit:0});return{todos:t||[],isLoading:n,error:s}}}const k6=by.useAllTodos;class O6{static useUserAssignedTasks(){const{currentUser:t}=lr(),{data:n,isLoading:s,error:a,mutate:i}=Mt("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",t||""]],orderBy:{field:"creation",order:"desc"},limit:0},t?"user-assigned-todos":null),d=(n||[]).filter(te=>te.reference_type==="Task").map(te=>te.reference_name).filter(Boolean),h=(n||[]).filter(te=>te.reference_type==="SubTask").map(te=>te.reference_name).filter(Boolean),{data:p,isLoading:g,error:b,mutate:y}=Mt("Task",{fields:["name","subject","project","status","priority","type","expected_time","actual_time","exp_start_date","exp_end_date","progress","is_group","parent_task","description","company","department"],filters:d.length>0?[["name","in",d]]:[["name","=","nonexistent"]],limit:0},d.length>0?"user-assigned-tasks":null),{data:_,isLoading:w,error:N,mutate:S}=Mt("SubTask",{fields:["name","subject","task","status","start_date","end_date","description","assigned_to"],filters:h.length>0?[["name","in",h]]:[["name","=","nonexistent"]],limit:0},h.length>0?"user-assigned-subtasks":null),D=[...new Set((_||[]).map(te=>te.task).filter(Boolean))],{data:A}=Mt("Task",{fields:["name","subject","project"],filters:D.length>0?[["name","in",D]]:[["name","=","nonexistent"]],limit:0},D.length>0?"parent-tasks-for-subtasks":null),C=[...new Set([...(p||[]).map(te=>te.project).filter(Boolean),...(A||[]).map(te=>te.project).filter(Boolean)])],{data:k}=Mt("Project",{fields:["name","project_name"],filters:C.length>0?[["name","in",C]]:[["name","=","nonexistent"]],limit:0},C.length>0?"projects-for-assigned-tasks":null),T=(k||[]).reduce((te,W)=>(te[W.name]=W.project_name||W.name,te),{}),R=(A||[]).reduce((te,W)=>(te[W.name]=W,te),{}),P=(n||[]).reduce((te,W)=>(W.reference_name&&(te[W.reference_name]=W),te),{}),U=(p||[]).map(te=>oe(z({},te),{project_name:te.project?T[te.project]:void 0,assignedTodo:P[te.name]})),X=(_||[]).map(te=>{const W=te.task?R[te.task]:void 0;return oe(z({},te),{task_subject:W==null?void 0:W.subject,project_name:W!=null&&W.project?T[W.project]:void 0,assignedTodo:P[te.name]})});return{tasks:U,subTasks:X,todos:n||[],isLoading:s||g||w,error:a||b||N,mutate:()=>{i(),y(),S()},currentUser:t}}}const A6=O6.useUserAssignedTasks;class pE{static useAllTeamTasks(){const{data:t,isLoading:n,error:s}=Mt("Task",{fields:["name","subject","description","status","priority","exp_start_date","exp_end_date","project","type","progress","completed_by"],limit:0}),{data:a,isLoading:i,error:c}=Mt("SubTask",{fields:["name","subject","description","status","start_date","end_date","assigned_to","task"],limit:0});return{allTasks:t||[],allSubTasks:a||[],isLoading:n||i,error:s||c}}static getAllTaskOfTeam(){const t=lr().currentUser,{data:n}=Mt("Team",{filters:[["teamlead","=",t||""]]}),s=(n==null?void 0:n.map(U=>U.name))||[],{data:a}=Mt("Project",{fields:["name","team"],filters:[["team","in",s]],limit:0}),i=(a==null?void 0:a.map(U=>U.name))||[],{data:c,isLoading:d,error:f}=Mt("Task",{fields:["name","status","exp_end_date","project"],limit:0}),h=(c||[]).filter(U=>i.includes(U.project||"")),{data:p,isLoading:g,error:b}=Mt("SubTask",{fields:["name","status","task"],limit:0}),y=h.map(U=>U.name),_=(p||[]).filter(U=>y.includes(U.task||"")),w=U=>(U||"").toLowerCase()==="completed",N=U=>(U||"").toLowerCase()==="working",S=U=>(U||"").toLowerCase()==="cancelled",D=U=>(U||"").toLowerCase()==="overdue",A=new Date;A.setHours(0,0,0,0);const C=U=>{if(D(U.status))return!0;if(!w(U.status)&&!S(U.status)&&U.exp_end_date){const X=new Date(U.exp_end_date);return X.setHours(0,0,0,0),X<A}return!1},k=h.length+_.length,T=h.filter(U=>N(U.status)).length+_.filter(U=>N(U.status)).length,R=h.filter(U=>w(U.status)).length+_.filter(U=>w(U.status)).length,P=h.filter(U=>C(U)).length;return{total:k,working:T,completed:R,overdue:P,isLoading:d||g,error:f||b}}}const D6=pE.useAllTeamTasks,R6=pE.getAllTaskOfTeam,M6=()=>{const{currentUser:e}=lr(),{data:t,isLoading:n,error:s}=Mt("User",{fields:["name","full_name","user_image","first_name","last_name","email"],filters:[["enabled","=",1],["user_type","=","System User"]],limit:20});return{simpleTeamData:j.useMemo(()=>t?t.map(i=>({id:i.name,name:i.full_name||i.first_name||i.name||"Unknown User",role:i.name===e?"Leader":"Member",avatar:i.user_image||`https://placehold.co/40x40/e2e8f0/475569?text=${(i.first_name||i.full_name||"U").charAt(0).toUpperCase()}`})):[],[t,e]),users:t,isLoading:n,error:s}},P6=({projects:e,selectedProject:t,selectedTeam:n,onProjectChange:s,onTeamChange:a})=>{var w,N;const[i,c]=j.useState({selectedTeam:n,selectedProject:t}),[d,f]=j.useState(!1),{data:h}=rE(),p=(S,D)=>{c(A=>oe(z({},A),{[S]:D})),S==="selectedTeam"?a(D):S==="selectedProject"&&s(D)},g=se.useMemo(()=>{const S=[{value:"all",label:"Tất cả team"},...(h==null?void 0:h.map(D=>({value:D.name,label:D.team_name||D.name})))||[]];return[S[0],...S.slice(1).sort((D,A)=>D.label.localeCompare(A.label))]},[h]),b=e.filter(S=>!(i.selectedTeam!=="all"&&i.selectedTeam!==""&&S.team!==i.selectedTeam)),y=()=>{c({selectedTeam:"all",selectedProject:"all"}),a("all"),s("all")},_=i.selectedTeam!=="all"||i.selectedProject!=="all";return se.useEffect(()=>{c(S=>oe(z({},S),{selectedTeam:n,selectedProject:t}))},[n,t]),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>f(!d),className:`inline-flex items-center px-4 py-2 border rounded-lg text-sm font-medium bg-white hover:bg-gray-50 transition-colors ${_?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700"}`,children:[l.jsx(Qx,{className:"mr-2 h-4 w-4"}),"Bộ lọc",_&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[i.selectedTeam!=="all"?1:0,i.selectedProject!=="all"?1:0].reduce((S,D)=>S+D,0)})]}),d&&l.jsx("div",{className:"absolute top-full right-0 mt-2 w-96 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Bộ lọc dự án"}),_&&l.jsx("button",{onClick:y,className:"text-sm text-blue-600 hover:text-blue-800",children:"Xóa tất cả"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team"}),l.jsx("select",{value:i.selectedTeam,onChange:S=>p("selectedTeam",S.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!h||h.length===0,children:g.map(S=>l.jsx("option",{value:S.value,children:S.label},S.value))}),(!h||h.length===0)&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Không có team nào"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dự án"}),l.jsxs("select",{value:i.selectedProject,onChange:S=>p("selectedProject",S.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"all",children:"Tất cả dự án"}),b.map(S=>l.jsx("option",{value:S.project_name,children:S.project_name},S.name))]})]})]}),_&&l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx("span",{children:"Đang áp dụng:"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.selectedTeam!=="all"&&l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Team: ",(w=g.find(S=>S.value===i.selectedTeam))==null?void 0:w.label,l.jsx("button",{onClick:()=>p("selectedTeam","all"),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]}),i.selectedProject!=="all"&&l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Dự án: ",(N=b.find(S=>S.project_name===i.selectedProject))==null?void 0:N.project_name,l.jsx("button",{onClick:()=>p("selectedProject","all"),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]})]})]})})]})}),d&&l.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>f(!1)})]})},L6=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),z6=({projects:e,tasks:t,selectedProject:n})=>{const s=n&&n!=="all",a=s?"Task":"Dự án";let i,c,d;if(s){i=t.filter(g=>g.status==="Open"||g.status==="Working"||g.status!=="Completed"&&g.status!=="Cancelled").length,c=t.filter(g=>g.status==="Completed").length;const p=new Date;d=t.filter(g=>g.exp_end_date?new Date(g.exp_end_date)<p&&g.status!=="Completed":!1).length,t.reduce((g,b)=>g+(b.expected_time||0),0)}else{i=e.filter(g=>g.status==="Đang thực hiện"||g.status!=="Hoàn thành"&&g.status!=="Hủy"&&g.percent_complete<100).length,c=e.filter(g=>g.status==="Hoàn thành"||g.percent_complete===100).length;const p=new Date;d=e.filter(g=>new Date(g.expected_end_date)<p&&g.status!=="Hoàn thành"&&g.percent_complete<100).length}const f=e.reduce((p,g)=>p+(g.estimated_costing||0),0),h=[{title:`${a} đang hoạt động`,value:i,icon:RM,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-blue-500 to-blue-600",cardBg:"bg-white",shadow:"shadow-lg shadow-blue-500/20",change:"+55%",changeText:"than last week",changeColor:"text-green-500"},{title:`${a} hoàn thành`,value:c,icon:QM,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-green-500 to-green-600",cardBg:"bg-white",shadow:"shadow-lg shadow-green-500/20",change:"+3%",changeText:"than last month",changeColor:"text-green-500"},{title:`${a} quá hạn`,value:d,icon:sc,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-pink-500 to-pink-600",cardBg:"bg-white",shadow:"shadow-lg shadow-pink-500/20",change:"+1%",changeText:"than yesterday",changeColor:"text-green-500"},{title:"Chi phí Dự án",value:L6(f),icon:MP,iconColor:"text-white",iconBg:"bg-gradient-to-br from-yellow-200 to-yellow-600",cardBg:"bg-white",shadow:"shadow-lg shadow-yellow-500/20",change:"+91",changeText:"Just updated",changeColor:"text-gray-500"}];return l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:h.map((p,g)=>{const b=p.icon;return l.jsx("div",{className:`${p.cardBg} ${p.shadow} rounded-xl p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:`${p.iconBg} ${p.iconColor} p-3 rounded-2xl shadow-lg`,children:l.jsx(b,{className:"h-6 w-6"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:p.title}),l.jsx("p",{className:`${p.title.includes("Chi phí")?"text-2xl":"text-3xl"} font-bold text-gray-900`,children:p.value})]})]})},g)})})},gE=({title:e,children:t,className:n=""})=>l.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 mb-6 ${n}`,children:[e&&l.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-4",children:e}),t]}),U6=({projects:e,tasks:t,selectedProject:n})=>{const s=n&&n!=="all",a=se.useMemo(()=>{const p=new Date;return p.setHours(0,0,0,0),e.map((b,y)=>({id:`milestone-${y}`,name:b.project_name,project:b.project_name,endDate:new Date(b.expected_end_date),priority:b.priority,status:b.percent_complete===100?"completed":b.percent_complete>0?"in progress":"upcoming",progress:b.percent_complete})).filter(b=>{const y=new Date(b.endDate);y.setHours(0,0,0,0);const _=Math.ceil((y.getTime()-p.getTime())/(1e3*60*60*24));return b.status!=="completed"&&_>=0&&_<=15}).sort((b,y)=>{const _=new Date;_.setHours(0,0,0,0);const w=new Date(b.endDate);w.setHours(0,0,0,0);const N=new Date(y.endDate);N.setHours(0,0,0,0);const S=Math.abs(w.getTime()-_.getTime()),D=Math.abs(N.getTime()-_.getTime()),A=S-D;if(A!==0)return A;const C={"Khẩn cấp":0,Cao:1,"Trung bình":2,Thấp:3,Urgent:0,High:1,Medium:2,Low:3};return(C[b.priority]||3)-(C[y.priority]||3)})},[e]),i=se.useMemo(()=>{if(!s)return[];const p=new Date;return p.setHours(0,0,0,0),t.filter(g=>{if(!g.exp_end_date||g.status==="Completed")return!1;const b=new Date(g.exp_end_date);b.setHours(0,0,0,0);const y=Math.ceil((b.getTime()-p.getTime())/(1e3*60*60*24));return y>=0&&y<=2}).sort((g,b)=>{const y=new Date;y.setHours(0,0,0,0);const _=new Date(g.exp_end_date);_.setHours(0,0,0,0);const w=new Date(b.exp_end_date);w.setHours(0,0,0,0);const N=Math.abs(_.getTime()-y.getTime()),S=Math.abs(w.getTime()-y.getTime()),D=N-S;if(D!==0)return D;const A={Urgent:0,High:1,Medium:2,Low:3};return(A[g.priority]||3)-(A[b.priority]||3)})},[t,s]),c=p=>{switch(p){case"completed":return"bg-green-500";case"in progress":return"bg-blue-500";case"upcoming":return"bg-gray-300";default:return"bg-gray-300"}},d=p=>{switch(p){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},f=p=>p.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),h=p=>{const g=new Date;g.setHours(0,0,0,0);const b=new Date(p);b.setHours(0,0,0,0);const y=Math.ceil((b.getTime()-g.getTime())/(1e3*60*60*24));return y<0?{text:`Quá hạn ${Math.abs(y)} ngày`,color:"text-red-600",urgent:!0}:y===0?{text:"Hôm nay",color:"text-red-600",urgent:!0}:y<=3?{text:`${y} ngày nữa`,color:"text-red-600",urgent:!0}:y<=7?{text:`${y} ngày nữa`,color:"text-orange-600",urgent:!0}:y<=14?{text:`${y} ngày nữa`,color:"text-yellow-600",urgent:!1}:{text:`${y} ngày nữa`,color:"text-gray-600",urgent:!1}};return l.jsx("div",{className:"grid grid-cols-1 gap-8",children:l.jsx(gE,{title:s?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})," ","gần ",l.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn "})," (<2 ngày)"]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Dự án"})," ","sắp ",l.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn"})," (<15 ngày)"]}),children:l.jsx("div",{className:`space-y-6 ${s?i.length>=3?"h-80 overflow-y-auto":"overflow-visible":a.length>=3?"h-80 overflow-y-auto":"overflow-visible"}`,children:s?l.jsxs(l.Fragment,{children:[i.map((p,g)=>{const b=h(new Date(p.exp_end_date));return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:p.subject}),l.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(p.priority)}`,children:p.priority})]}),l.jsx("div",{className:"mt-1",children:l.jsx("span",{className:`text-xs font-medium ${b.color}`,children:b.text})})]})}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(Vr,{className:"h-4 w-4 mr-1"}),f(new Date(p.exp_end_date))]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Progress"}),l.jsxs("span",{className:"font-medium",children:[p.progress||0,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full ${p.status==="Completed"?"bg-green-500":p.status==="Working"?"bg-blue-500":"bg-gray-300"}`,style:{width:`${p.progress||0}%`}})})]})]},`task-${g}`)}),i.length===0&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Vr,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),l.jsx("p",{children:"Không có task nào sắp đến hạn"})]})]}):l.jsxs(l.Fragment,{children:[a.map(p=>{const g=h(p.endDate);return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:p.name}),l.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(p.priority)}`,children:p.priority})]}),l.jsx("div",{className:"mt-1",children:l.jsx("span",{className:`text-xs font-medium ${g.color}`,children:g.text})})]})}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(Vr,{className:"h-4 w-4 mr-1"}),f(p.endDate)]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Progress"}),l.jsxs("span",{className:"font-medium",children:[p.progress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full ${c(p.status)}`,style:{width:`${p.progress}%`}})})]})]},p.id)}),a.length===0&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Vr,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),l.jsx("p",{children:"Không có dự án nào sắp đến hạn"})]})]})})})})},F6=({projects:e,tasks:t,selectedProject:n})=>{const[s,a]=j.useState(null),[i,c]=j.useState(!0),d=_=>{a(w=>w===_?null:_)},f=n&&n!=="all",p=(()=>{if(f){const _={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Open",height:30},working:{projects:[],color:"#f59e0b",lightColor:"#fbbf24",darkColor:"#d97706",label:"Working",height:25},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Completed",height:20},overdue:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Overdue",height:40},cancelled:{projects:[],color:"#6b7280",lightColor:"#9ca3af",darkColor:"#4b5563",label:"Cancelled",height:35}};return t.forEach(w=>{const N=new Date;w.exp_end_date&&new Date(w.exp_end_date)<N&&w.status!=="Completed"&&w.status!=="Cancelled"?_.overdue.projects.push(w):w.status==="Completed"?_.completed.projects.push(w):w.status==="Working"?_.working.projects.push(w):w.status==="Cancelled"?_.cancelled.projects.push(w):_.open.projects.push(w)}),_}else{const _={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Đang mở",height:30},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Hoàn thành",height:20},cancelled:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Đã hủy",height:40}};return e.forEach(w=>{w.status==="Completed"||w.status==="Hoàn thành"?_.completed.projects.push(w):w.status==="Cancelled"||w.status==="Canceled"||w.status==="Hủy"?_.cancelled.projects.push(w):_.open.projects.push(w)}),_}})(),g=f?t.length:e.length,b=_=>{const w={Urgent:4,High:3,Medium:2,Low:1};return _.sort((N,S)=>{const D=w[N.priority]||0;return(w[S.priority]||0)-D})};Object.values(p).forEach(_=>{_.projects=b(_.projects)});const y=()=>{const[_,w]=se.useState({visible:!1,x:0,y:0,categoryKey:""}),N=360,S=N/2,D=N/2,A=170;let C=0;const k=Object.entries(p).filter(([,U])=>U.projects.length>0),T=(U,X)=>{const H=X.clientX,K=X.clientY;w({visible:!0,x:H+15,y:K-10,categoryKey:U})},R=(U,X)=>{if(_.visible&&_.categoryKey===U){const H=X.clientX,K=X.clientY;w(Y=>oe(z({},Y),{x:H+15,y:K-10}))}},P=()=>{w({visible:!1,x:0,y:0,categoryKey:""})};return l.jsxs("div",{className:"relative flex flex-col items-center",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-6 text-center max-w-xs",children:f?"Biểu đồ phân bố Tasks theo trạng thái":"Biểu đồ phân bố dự án theo trạng thái"}),l.jsx("div",{className:"relative",style:{width:N,height:N},children:l.jsxs("svg",{width:N,height:N,className:"absolute top-0 left-0",children:[l.jsx("defs",{children:l.jsx("filter",{id:"dropshadow2d",x:"-20%",y:"-20%",width:"140%",height:"140%",children:l.jsx("feDropShadow",{dx:"2",dy:"4",stdDeviation:"4",floodOpacity:"0.2"})})}),(C=0,k.map(([U,X])=>{const H=X.projects.length/g*100,K=C,Y=C+H/100*360;C=Y;const te=K*Math.PI/180,W=Y*Math.PI/180,V=(K+Y)/2*Math.PI/180,Q=S+A*Math.cos(te),ee=D+A*Math.sin(te),ce=S+A*Math.cos(W),L=D+A*Math.sin(W),le=Y-K>180?1:0,re=k.length===1;let B;re?B=`M ${S} ${D+A} A ${A} ${A} 0 1 1 ${S} ${D-A} A ${A} ${A} 0 1 1 ${S} ${D+A} Z`:B=[`M ${S} ${D}`,`L ${Q} ${ee}`,`A ${A} ${A} 0 ${le} 1 ${ce} ${L}`,"Z"].join(" ");const ne=A*.7,ye=re?S:S+ne*Math.cos(V),he=re?D:D+ne*Math.sin(V);return l.jsxs("g",{children:[l.jsx("path",{d:B,fill:X.color,stroke:"white",strokeWidth:"2",filter:"url(#dropshadow2d)",className:"hover:opacity-80 transition-opacity cursor-pointer",onMouseEnter:Ce=>T(U,Ce),onMouseMove:Ce=>R(U,Ce),onMouseLeave:P}),H>5&&l.jsxs("text",{x:ye,y:he,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs font-bold fill-white pointer-events-none",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:[Math.round(H),"%"]})]},`segment-${U}`)}))]})}),_.visible&&_.categoryKey&&p[_.categoryKey]&&l.jsxs("div",{className:"fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-xs pointer-events-none",style:{left:_.x,top:_.y,transform:"translate(-50%, -100%)"},children:[l.jsxs("div",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[l.jsx("div",{className:"w-3 h-3 rounded mr-2",style:{backgroundColor:p[_.categoryKey].color}}),p[_.categoryKey].label," (",p[_.categoryKey].projects.length,")"]}),l.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:p[_.categoryKey].projects.map((U,X)=>l.jsxs("div",{className:"text-xs border-b border-gray-100 pb-1 last:border-b-0",children:[l.jsx("div",{className:"font-medium text-gray-700",children:f?U.subject:U.project_name}),l.jsxs("div",{className:"text-gray-500 flex justify-between",children:[l.jsx("span",{children:f?`${U.progress||0}% hoàn thành`:`${U.percent_complete}% hoàn thành`}),l.jsxs("span",{className:"font-medium",children:["Priority: ",U.priority]})]})]},X))})]})]})};return l.jsx(gE,{title:l.jsx("div",{className:"flex items-center justify-between w-full cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded-md transition-colors",onClick:()=>c(!i),children:l.jsx("div",{className:"flex items-center",children:l.jsx("span",{children:f?l.jsxs(l.Fragment,{children:["Tổng quan ",l.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})]}):l.jsxs(l.Fragment,{children:["Tổng quan ",l.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"dự án"})]})})})}),children:i&&l.jsx("div",{children:g===0?l.jsx("div",{className:"flex flex-col items-center justify-center py-16",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-8xl text-gray-300 mb-6",children:"📊"}),l.jsx("p",{className:"text-xl font-medium text-gray-600 mb-3",children:f?"Không có task nào":"Không có dự án nào"}),l.jsx("p",{className:"text-base text-gray-500 max-w-md",children:f?"Không có task nào đang thực hiện trong dự án này":"Không có dự án nào đang thực hiện"})]})}):l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(y,{})}),l.jsx("div",{className:"space-y-4",children:Object.entries(p).map(([_,w])=>w.projects.length>0&&l.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[l.jsxs("button",{onClick:()=>d(_),className:"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between border-l-4",style:{borderLeftColor:w.color},children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:w.color}}),l.jsxs("h4",{className:"font-semibold text-gray-800",children:[w.label," (",w.projects.length,")"]})]}),l.jsx("div",{className:"flex items-center",children:l.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${s===_?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),l.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${s===_?"max-h-96":"max-h-0"}`,children:l.jsx("div",{className:"p-4 space-y-2 max-h-80 overflow-y-auto",children:w.projects.map(N=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:[l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:f?N.subject:N.project_name}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ml-2 flex-shrink-0 ${N.priority==="Urgent"?"bg-red-100 text-red-800":N.priority==="High"?"bg-orange-100 text-orange-800":N.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:N.priority})]})}),l.jsx("div",{className:"flex flex-col items-end ml-3",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(f?N.progress||0:N.percent_complete||0,100)}%`,backgroundColor:(()=>{const S=f?N.progress||0:N.percent_complete||0;return S>=100?"#22c55e":S>=70?"#3b82f6":S>=30?"#f59e0b":"#ef4444"})()}})}),l.jsxs("span",{className:"text-xs font-semibold text-gray-600 min-w-[35px] text-right",children:[f?N.progress||0:N.percent_complete||0,"%"]})]})})]},N.name))})})]},_))})]})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ud(e){return e+.5|0}const ki=(e,t,n)=>Math.max(Math.min(e,n),t);function Au(e){return ki(ud(e*2.55),0,255)}function Di(e){return ki(ud(e*255),0,255)}function Va(e){return ki(ud(e/2.55)/100,0,1)}function a1(e){return ki(ud(e*100),0,100)}const vr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},rx=[..."0123456789ABCDEF"],B6=e=>rx[e&15],$6=e=>rx[(e&240)>>4]+rx[e&15],Vf=e=>(e&240)>>4===(e&15),H6=e=>Vf(e.r)&&Vf(e.g)&&Vf(e.b)&&Vf(e.a);function V6(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&vr[e[1]]*17,g:255&vr[e[2]]*17,b:255&vr[e[3]]*17,a:t===5?vr[e[4]]*17:255}:(t===7||t===9)&&(n={r:vr[e[1]]<<4|vr[e[2]],g:vr[e[3]]<<4|vr[e[4]],b:vr[e[5]]<<4|vr[e[6]],a:t===9?vr[e[7]]<<4|vr[e[8]]:255})),n}const I6=(e,t)=>e<255?t(e):"";function q6(e){var t=H6(e)?B6:$6;return e?"#"+t(e.r)+t(e.g)+t(e.b)+I6(e.a,t):void 0}const W6=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function xE(e,t,n){const s=t*Math.min(n,1-n),a=(i,c=(i+e/30)%12)=>n-s*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function Y6(e,t,n){const s=(a,i=(a+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function X6(e,t,n){const s=xE(e,1,.5);let a;for(t+n>1&&(a=1/(t+n),t*=a,n*=a),a=0;a<3;a++)s[a]*=1-t-n,s[a]+=t;return s}function G6(e,t,n,s,a){return e===a?(t-n)/s+(t<n?6:0):t===a?(n-e)/s+2:(e-t)/s+4}function vy(e){const n=e.r/255,s=e.g/255,a=e.b/255,i=Math.max(n,s,a),c=Math.min(n,s,a),d=(i+c)/2;let f,h,p;return i!==c&&(p=i-c,h=d>.5?p/(2-i-c):p/(i+c),f=G6(n,s,a,p,i),f=f*60+.5),[f|0,h||0,d]}function wy(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(Di)}function _y(e,t,n){return wy(xE,e,t,n)}function K6(e,t,n){return wy(X6,e,t,n)}function Q6(e,t,n){return wy(Y6,e,t,n)}function yE(e){return(e%360+360)%360}function Z6(e){const t=W6.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?Au(+t[5]):Di(+t[5]));const a=yE(+t[2]),i=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?s=K6(a,i,c):t[1]==="hsv"?s=Q6(a,i,c):s=_y(a,i,c),{r:s[0],g:s[1],b:s[2],a:n}}function J6(e,t){var n=vy(e);n[0]=yE(n[0]+t),n=_y(n),e.r=n[0],e.g=n[1],e.b=n[2]}function ez(e){if(!e)return;const t=vy(e),n=t[0],s=a1(t[1]),a=a1(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${a}%, ${Va(e.a)})`:`hsl(${n}, ${s}%, ${a}%)`}const i1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},o1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function tz(){const e={},t=Object.keys(o1),n=Object.keys(i1);let s,a,i,c,d;for(s=0;s<t.length;s++){for(c=d=t[s],a=0;a<n.length;a++)i=n[a],d=d.replace(i,i1[i]);i=parseInt(o1[c],16),e[d]=[i>>16&255,i>>8&255,i&255]}return e}let If;function nz(e){If||(If=tz(),If.transparent=[0,0,0,0]);const t=If[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const sz=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rz(e){const t=sz.exec(e);let n=255,s,a,i;if(t){if(t[7]!==s){const c=+t[7];n=t[8]?Au(c):ki(c*255,0,255)}return s=+t[1],a=+t[3],i=+t[5],s=255&(t[2]?Au(s):ki(s,0,255)),a=255&(t[4]?Au(a):ki(a,0,255)),i=255&(t[6]?Au(i):ki(i,0,255)),{r:s,g:a,b:i,a:n}}}function az(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Va(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const s0=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Pl=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function iz(e,t,n){const s=Pl(Va(e.r)),a=Pl(Va(e.g)),i=Pl(Va(e.b));return{r:Di(s0(s+n*(Pl(Va(t.r))-s))),g:Di(s0(a+n*(Pl(Va(t.g))-a))),b:Di(s0(i+n*(Pl(Va(t.b))-i))),a:e.a+n*(t.a-e.a)}}function qf(e,t,n){if(e){let s=vy(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=_y(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function bE(e,t){return e&&Object.assign(t||{},e)}function l1(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Di(e[3]))):(t=bE(e,{r:0,g:0,b:0,a:1}),t.a=Di(t.a)),t}function oz(e){return e.charAt(0)==="r"?rz(e):Z6(e)}class Gu{constructor(t){if(t instanceof Gu)return t;const n=typeof t;let s;n==="object"?s=l1(t):n==="string"&&(s=V6(t)||nz(t)||oz(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=bE(this._rgb);return t&&(t.a=Va(t.a)),t}set rgb(t){this._rgb=l1(t)}rgbString(){return this._valid?az(this._rgb):void 0}hexString(){return this._valid?q6(this._rgb):void 0}hslString(){return this._valid?ez(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,a=t.rgb;let i;const c=n===i?.5:n,d=2*c-1,f=s.a-a.a,h=((d*f===-1?d:(d+f)/(1+d*f))+1)/2;i=1-h,s.r=255&h*s.r+i*a.r+.5,s.g=255&h*s.g+i*a.g+.5,s.b=255&h*s.b+i*a.b+.5,s.a=c*s.a+(1-c)*a.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=iz(this._rgb,t._rgb,n)),this}clone(){return new Gu(this.rgb)}alpha(t){return this._rgb.a=Di(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=ud(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return qf(this._rgb,2,t),this}darken(t){return qf(this._rgb,2,-t),this}saturate(t){return qf(this._rgb,1,t),this}desaturate(t){return qf(this._rgb,1,-t),this}rotate(t){return J6(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ua(){}const lz=(()=>{let e=0;return()=>e++})();function An(e){return e==null}function ps(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function tn(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Cr(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function sa(e,t){return Cr(e)?e:t}function ln(e,t){return typeof e=="undefined"?t:e}const cz=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function _n(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function on(e,t,n,s){let a,i,c;if(ps(e))for(i=e.length,a=0;a<i;a++)t.call(n,e[a],a);else if(tn(e))for(c=Object.keys(e),i=c.length,a=0;a<i;a++)t.call(n,e[c[a]],c[a])}function Uh(e,t){let n,s,a,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(a=e[n],i=t[n],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function Fh(e){if(ps(e))return e.map(Fh);if(tn(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let a=0;for(;a<s;++a)t[n[a]]=Fh(e[n[a]]);return t}return e}function vE(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function uz(e,t,n,s){if(!vE(e))return;const a=t[e],i=n[e];tn(a)&&tn(i)?Ku(a,i,s):t[e]=Fh(i)}function Ku(e,t,n){const s=ps(t)?t:[t],a=s.length;if(!tn(e))return e;n=n||{};const i=n.merger||uz;let c;for(let d=0;d<a;++d){if(c=s[d],!tn(c))continue;const f=Object.keys(c);for(let h=0,p=f.length;h<p;++h)i(f[h],e,c,n)}return e}function Pu(e,t){return Ku(e,t,{merger:dz})}function dz(e,t,n){if(!vE(e))return;const s=t[e],a=n[e];tn(s)&&tn(a)?Pu(s,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Fh(a))}const c1={"":e=>e,x:e=>e.x,y:e=>e.y};function fz(e){const t=e.split("."),n=[];let s="";for(const a of t)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function hz(e){const t=fz(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function Bh(e,t){return(c1[t]||(c1[t]=hz(t)))(e)}function jy(e){return e.charAt(0).toUpperCase()+e.slice(1)}const $h=e=>typeof e!="undefined",Ui=e=>typeof e=="function",u1=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function mz(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const jn=Math.PI,Ds=2*jn,Hh=Number.POSITIVE_INFINITY,pz=jn/180,vs=jn/2,yo=jn/4,d1=jn*2/3,wE=Math.log10,Vh=Math.sign;function _h(e,t,n){return Math.abs(e-t)<n}function f1(e){const t=Math.round(e);e=_h(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(wE(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function gz(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((a,i)=>a-i).pop(),t}function xz(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Ih(e){return!xz(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function yz(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function bz(e,t,n){let s,a,i;for(s=0,a=e.length;s<a;s++)i=e[s][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function ko(e){return e*(jn/180)}function vz(e){return e*(180/jn)}function h1(e){if(!Cr(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function _E(e,t){const n=t.x-e.x,s=t.y-e.y,a=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*jn&&(i+=Ds),{angle:i,distance:a}}function wz(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ia(e){return(e%Ds+Ds)%Ds}function jE(e,t,n,s){const a=ia(e),i=ia(t),c=ia(n),d=ia(i-a),f=ia(c-a),h=ia(a-i),p=ia(a-c);return a===i||a===c||s&&i===c||d>f&&h<p}function Ws(e,t,n){return Math.max(t,Math.min(n,e))}function _z(e){return Ws(e,-32768,32767)}function Oo(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function Sy(e,t,n){n=n||(c=>e[c]<t);let s=e.length-1,a=0,i;for(;s-a>1;)i=a+s>>1,n(i)?a=i:s=i;return{lo:a,hi:s}}const ax=(e,t,n,s)=>Sy(e,n,s?a=>{const i=e[a][t];return i<n||i===n&&e[a+1][t]===n}:a=>e[a][t]<n),jz=(e,t,n)=>Sy(e,n,s=>e[s][t]>=n);function Sz(e,t,n){let s=0,a=e.length;for(;s<a&&e[s]<t;)s++;for(;a>s&&e[a-1]>n;)a--;return s>0||a<e.length?e.slice(s,a):e}const SE=["push","pop","shift","splice","unshift"];function Nz(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),SE.forEach(n=>{const s="_onData"+jy(n),a=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const c=a.apply(this,i);return e._chartjs.listeners.forEach(d=>{typeof d[s]=="function"&&d[s](...i)}),c}})})}function m1(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,a=s.indexOf(t);a!==-1&&s.splice(a,1),!(s.length>0)&&(SE.forEach(i=>{delete e[i]}),delete e._chartjs)}function Ez(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const NE=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function EE(e,t){let n=[],s=!1;return function(...a){n=a,s||(s=!0,NE.call(window,()=>{s=!1,e.apply(t,n)}))}}function Tz(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const Ny=e=>e==="start"?"left":e==="end"?"right":"center",Es=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,Cz=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t,Wf=e=>e===0||e===1,p1=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ds/n)),g1=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ds/n)+1,Lu={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*vs)+1,easeOutSine:e=>Math.sin(e*vs),easeInOutSine:e=>-.5*(Math.cos(jn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Wf(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Wf(e)?e:p1(e,.075,.3),easeOutElastic:e=>Wf(e)?e:g1(e,.075,.3),easeInOutElastic(e){return Wf(e)?e:e<.5?.5*p1(e*2,.1125,.45):.5+.5*g1(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Lu.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Lu.easeInBounce(e*2)*.5:Lu.easeOutBounce(e*2-1)*.5+.5};function TE(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function x1(e){return TE(e)?e:new Gu(e)}function r0(e){return TE(e)?e:new Gu(e).saturate(.5).darken(.1).hexString()}const kz=["x","y","borderWidth","radius","tension"],Oz=["color","borderColor","backgroundColor"];function Az(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Oz},numbers:{type:"number",properties:kz}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Dz(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const y1=new Map;function Rz(e,t){t=t||{};const n=e+JSON.stringify(t);let s=y1.get(n);return s||(s=new Intl.NumberFormat(e,t),y1.set(n,s)),s}function CE(e,t,n){return Rz(t,n).format(e)}const Mz={values(e){return ps(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let a,i=e;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(a="scientific"),i=Pz(e,n)}const c=wE(Math.abs(i)),d=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:a,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(f,this.options.ticks.format),CE(e,s,f)}};function Pz(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var kE={formatters:Mz};function Lz(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:kE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Uo=Object.create(null),ix=Object.create(null);function zu(e,t){if(!t)return e;const n=t.split(".");for(let s=0,a=n.length;s<a;++s){const i=n[s];e=e[i]||(e[i]=Object.create(null))}return e}function a0(e,t,n){return typeof t=="string"?Ku(zu(e,t),n):Ku(zu(e,""),t)}class zz{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>r0(a.backgroundColor),this.hoverBorderColor=(s,a)=>r0(a.borderColor),this.hoverColor=(s,a)=>r0(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return a0(this,t,n)}get(t){return zu(this,t)}describe(t,n){return a0(ix,t,n)}override(t,n){return a0(Uo,t,n)}route(t,n,s,a){const i=zu(this,t),c=zu(this,s),d="_"+n;Object.defineProperties(i,{[d]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[d],h=c[a];return tn(f)?Object.assign({},h,f):ln(f,h)},set(f){this[d]=f}}})}apply(t){t.forEach(n=>n(this))}}var In=new zz({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Az,Dz,Lz]);function Uz(e){return!e||An(e.size)||An(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function b1(e,t,n,s,a){let i=t[a];return i||(i=t[a]=e.measureText(a).width,n.push(a)),i>s&&(s=i),s}function bo(e,t,n){const s=e.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((t-a)*s)/s+a}function v1(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function w1(e,t,n,s){OE(e,t,n,s,null)}function OE(e,t,n,s,a){let i,c,d,f,h,p,g,b;const y=t.pointStyle,_=t.rotation,w=t.radius;let N=(_||0)*pz;if(y&&typeof y=="object"&&(i=y.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(N),e.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),e.restore();return}if(!(isNaN(w)||w<=0)){switch(e.beginPath(),y){default:a?e.ellipse(n,s,a/2,w,0,0,Ds):e.arc(n,s,w,0,Ds),e.closePath();break;case"triangle":p=a?a/2:w,e.moveTo(n+Math.sin(N)*p,s-Math.cos(N)*w),N+=d1,e.lineTo(n+Math.sin(N)*p,s-Math.cos(N)*w),N+=d1,e.lineTo(n+Math.sin(N)*p,s-Math.cos(N)*w),e.closePath();break;case"rectRounded":h=w*.516,f=w-h,c=Math.cos(N+yo)*f,g=Math.cos(N+yo)*(a?a/2-h:f),d=Math.sin(N+yo)*f,b=Math.sin(N+yo)*(a?a/2-h:f),e.arc(n-g,s-d,h,N-jn,N-vs),e.arc(n+b,s-c,h,N-vs,N),e.arc(n+g,s+d,h,N,N+vs),e.arc(n-b,s+c,h,N+vs,N+jn),e.closePath();break;case"rect":if(!_){f=Math.SQRT1_2*w,p=a?a/2:f,e.rect(n-p,s-f,2*p,2*f);break}N+=yo;case"rectRot":g=Math.cos(N)*(a?a/2:w),c=Math.cos(N)*w,d=Math.sin(N)*w,b=Math.sin(N)*(a?a/2:w),e.moveTo(n-g,s-d),e.lineTo(n+b,s-c),e.lineTo(n+g,s+d),e.lineTo(n-b,s+c),e.closePath();break;case"crossRot":N+=yo;case"cross":g=Math.cos(N)*(a?a/2:w),c=Math.cos(N)*w,d=Math.sin(N)*w,b=Math.sin(N)*(a?a/2:w),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+b,s-c),e.lineTo(n-b,s+c);break;case"star":g=Math.cos(N)*(a?a/2:w),c=Math.cos(N)*w,d=Math.sin(N)*w,b=Math.sin(N)*(a?a/2:w),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+b,s-c),e.lineTo(n-b,s+c),N+=yo,g=Math.cos(N)*(a?a/2:w),c=Math.cos(N)*w,d=Math.sin(N)*w,b=Math.sin(N)*(a?a/2:w),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+b,s-c),e.lineTo(n-b,s+c);break;case"line":c=a?a/2:Math.cos(N)*w,d=Math.sin(N)*w,e.moveTo(n-c,s-d),e.lineTo(n+c,s+d);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(N)*(a?a/2:w),s+Math.sin(N)*w);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function AE(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Ey(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ty(e){e.restore()}function Fz(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),An(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Bz(e,t,n,s,a){if(a.strikethrough||a.underline){const i=e.measureText(s),c=t-i.actualBoundingBoxLeft,d=t+i.actualBoundingBoxRight,f=n-i.actualBoundingBoxAscent,h=n+i.actualBoundingBoxDescent,p=a.strikethrough?(f+h)/2:h;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(c,p),e.lineTo(d,p),e.stroke()}}function $z(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Qu(e,t,n,s,a,i={}){const c=ps(t)?t:[t],d=i.strokeWidth>0&&i.strokeColor!=="";let f,h;for(e.save(),e.font=a.string,Fz(e,i),f=0;f<c.length;++f)h=c[f],i.backdrop&&$z(e,i.backdrop),d&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),An(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(h,n,s,i.maxWidth)),e.fillText(h,n,s,i.maxWidth),Bz(e,n,s,h,i),s+=Number(a.lineHeight);e.restore()}function qh(e,t){const{x:n,y:s,w:a,h:i,radius:c}=t;e.arc(n+c.topLeft,s+c.topLeft,c.topLeft,1.5*jn,jn,!0),e.lineTo(n,s+i-c.bottomLeft),e.arc(n+c.bottomLeft,s+i-c.bottomLeft,c.bottomLeft,jn,vs,!0),e.lineTo(n+a-c.bottomRight,s+i),e.arc(n+a-c.bottomRight,s+i-c.bottomRight,c.bottomRight,vs,0,!0),e.lineTo(n+a,s+c.topRight),e.arc(n+a-c.topRight,s+c.topRight,c.topRight,0,-vs,!0),e.lineTo(n+c.topLeft,s)}const Hz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Vz=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Iz(e,t){const n=(""+e).match(Hz);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const qz=e=>+e||0;function Cy(e,t){const n={},s=tn(t),a=s?Object.keys(t):t,i=tn(e)?s?c=>ln(e[c],e[t[c]]):c=>e[c]:()=>e;for(const c of a)n[c]=qz(i(c));return n}function DE(e){return Cy(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Gl(e){return Cy(e,["topLeft","topRight","bottomLeft","bottomRight"])}function kr(e){const t=DE(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Cs(e,t){e=e||{},t=t||In.font;let n=ln(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=ln(e.style,t.style);s&&!(""+s).match(Vz)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:ln(e.family,t.family),lineHeight:Iz(ln(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:ln(e.weight,t.weight),string:""};return a.string=Uz(a),a}function Yf(e,t,n,s){let a,i,c;for(a=0,i=e.length;a<i;++a)if(c=e[a],c!==void 0&&c!==void 0)return c}function Wz(e,t,n){const{min:s,max:a}=e,i=cz(t,(a-s)/2),c=(d,f)=>n&&d===0?0:d+f;return{min:c(s,-Math.abs(i)),max:c(a,i)}}function dc(e,t){return Object.assign(Object.create(e),t)}function ky(e,t=[""],n,s,a=()=>e[0]){const i=n||e;typeof s=="undefined"&&(s=LE("_fallback",e));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:s,_getTarget:a,override:d=>ky([d,...e],t,i,s)};return new Proxy(c,{deleteProperty(d,f){return delete d[f],delete d._keys,delete e[0][f],!0},get(d,f){return ME(d,f,()=>eU(f,t,e,d))},getOwnPropertyDescriptor(d,f){return Reflect.getOwnPropertyDescriptor(d._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(d,f){return j1(d).includes(f)},ownKeys(d){return j1(d)},set(d,f,h){const p=d._storage||(d._storage=a());return d[f]=p[f]=h,delete d._keys,!0}})}function tc(e,t,n,s){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:RE(e,s),setContext:i=>tc(e,i,n,s),override:i=>tc(e.override(i),t,n,s)};return new Proxy(a,{deleteProperty(i,c){return delete i[c],delete e[c],!0},get(i,c,d){return ME(i,c,()=>Xz(i,c,d))},getOwnPropertyDescriptor(i,c){return i._descriptors.allKeys?Reflect.has(e,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,c)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,c){return Reflect.has(e,c)},ownKeys(){return Reflect.ownKeys(e)},set(i,c,d){return e[c]=d,delete i[c],!0}})}function RE(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:n,indexable:s,isScriptable:Ui(n)?n:()=>n,isIndexable:Ui(s)?s:()=>s}}const Yz=(e,t)=>e?e+jy(t):t,Oy=(e,t)=>tn(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function ME(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function Xz(e,t,n){const{_proxy:s,_context:a,_subProxy:i,_descriptors:c}=e;let d=s[t];return Ui(d)&&c.isScriptable(t)&&(d=Gz(t,d,e,n)),ps(d)&&d.length&&(d=Kz(t,d,e,c.isIndexable)),Oy(t,d)&&(d=tc(d,a,i&&i[t],c)),d}function Gz(e,t,n,s){const{_proxy:a,_context:i,_subProxy:c,_stack:d}=n;if(d.has(e))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+e);d.add(e);let f=t(i,c||s);return d.delete(e),Oy(e,f)&&(f=Ay(a._scopes,a,e,f)),f}function Kz(e,t,n,s){const{_proxy:a,_context:i,_subProxy:c,_descriptors:d}=n;if(typeof i.index!="undefined"&&s(e))return t[i.index%t.length];if(tn(t[0])){const f=t,h=a._scopes.filter(p=>p!==f);t=[];for(const p of f){const g=Ay(h,a,e,p);t.push(tc(g,i,c&&c[e],d))}}return t}function PE(e,t,n){return Ui(e)?e(t,n):e}const Qz=(e,t)=>e===!0?t:typeof e=="string"?Bh(t,e):void 0;function Zz(e,t,n,s,a){for(const i of t){const c=Qz(n,i);if(c){e.add(c);const d=PE(c._fallback,n,a);if(typeof d!="undefined"&&d!==n&&d!==s)return d}else if(c===!1&&typeof s!="undefined"&&n!==s)return null}return!1}function Ay(e,t,n,s){const a=t._rootScopes,i=PE(t._fallback,n,s),c=[...e,...a],d=new Set;d.add(s);let f=_1(d,c,n,i||n,s);return f===null||typeof i!="undefined"&&i!==n&&(f=_1(d,c,i,f,s),f===null)?!1:ky(Array.from(d),[""],a,i,()=>Jz(t,n,s))}function _1(e,t,n,s,a){for(;n;)n=Zz(e,t,n,s,a);return n}function Jz(e,t,n){const s=e._getTarget();t in s||(s[t]={});const a=s[t];return ps(a)&&tn(n)?n:a||{}}function eU(e,t,n,s){let a;for(const i of t)if(a=LE(Yz(i,e),n),typeof a!="undefined")return Oy(e,a)?Ay(n,s,e,a):a}function LE(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s!="undefined")return s}}function j1(e){let t=e._keys;return t||(t=e._keys=tU(e._scopes)),t}function tU(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(a=>!a.startsWith("_")))t.add(s);return Array.from(t)}function Dy(){return typeof window!="undefined"&&typeof document!="undefined"}function Ry(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Wh(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const ym=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function nU(e,t){return ym(e).getPropertyValue(t)}const sU=["top","right","bottom","left"];function Do(e,t,n){const s={};n=n?"-"+n:"";for(let a=0;a<4;a++){const i=sU[a];s[i]=parseFloat(e[t+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const rU=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function aU(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:a,offsetY:i}=s;let c=!1,d,f;if(rU(a,i,e.target))d=a,f=i;else{const h=t.getBoundingClientRect();d=s.clientX-h.left,f=s.clientY-h.top,c=!0}return{x:d,y:f,box:c}}function _o(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,a=ym(n),i=a.boxSizing==="border-box",c=Do(a,"padding"),d=Do(a,"border","width"),{x:f,y:h,box:p}=aU(e,n),g=c.left+(p&&d.left),b=c.top+(p&&d.top);let{width:y,height:_}=t;return i&&(y-=c.width+d.width,_-=c.height+d.height),{x:Math.round((f-g)/y*n.width/s),y:Math.round((h-b)/_*n.height/s)}}function iU(e,t,n){let s,a;if(t===void 0||n===void 0){const i=e&&Ry(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const c=i.getBoundingClientRect(),d=ym(i),f=Do(d,"border","width"),h=Do(d,"padding");t=c.width-h.width-f.width,n=c.height-h.height-f.height,s=Wh(d.maxWidth,i,"clientWidth"),a=Wh(d.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:s||Hh,maxHeight:a||Hh}}const Xf=e=>Math.round(e*10)/10;function oU(e,t,n,s){const a=ym(e),i=Do(a,"margin"),c=Wh(a.maxWidth,e,"clientWidth")||Hh,d=Wh(a.maxHeight,e,"clientHeight")||Hh,f=iU(e,t,n);let{width:h,height:p}=f;if(a.boxSizing==="content-box"){const b=Do(a,"border","width"),y=Do(a,"padding");h-=y.width+b.width,p-=y.height+b.height}return h=Math.max(0,h-i.width),p=Math.max(0,s?h/s:p-i.height),h=Xf(Math.min(h,c,f.maxWidth)),p=Xf(Math.min(p,d,f.maxHeight)),h&&!p&&(p=Xf(h/2)),(t!==void 0||n!==void 0)&&s&&f.height&&p>f.height&&(p=f.height,h=Xf(Math.floor(p*s))),{width:h,height:p}}function S1(e,t,n){const s=t||1,a=Math.floor(e.height*s),i=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const c=e.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${e.height}px`,c.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||c.height!==a||c.width!==i?(e.currentDevicePixelRatio=s,c.height=a,c.width=i,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const lU=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Dy()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function N1(e,t){const n=nU(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const cU=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},uU=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Kl(e,t,n){return e?cU(t,n):uU()}function zE(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function UE(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Gf(e,t,n){return e.options.clip?e[n]:t[n]}function dU(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:Gf(n,t,"left"),right:Gf(n,t,"right"),top:Gf(s,t,"top"),bottom:Gf(s,t,"bottom")}:t}function fU(e,t){const n=t._clip;if(n.disabled)return!1;const s=dU(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class hU{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,a){const i=n.listeners[a],c=n.duration;i.forEach(d=>d({chart:t,initial:n.initial,numSteps:c,currentStep:Math.min(s-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=NE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const i=s.items;let c=i.length-1,d=!1,f;for(;c>=0;--c)f=i[c],f._active?(f._total>s.duration&&(s.duration=f._total),f.tick(t),d=!0):(i[c]=i[i.length-1],i.pop());d&&(a.draw(),this._notify(a,s,t,"progress")),i.length||(s.running=!1,this._notify(a,s,t,"complete"),s.initial=!1),n+=i.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ba=new hU;const E1="transparent",mU={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=x1(e||E1),a=s.valid&&x1(t||E1);return a&&a.valid?a.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class pU{constructor(t,n,s,a){const i=n[s];a=Yf([t.to,a,i,t.from]);const c=Yf([t.from,i,a]);this._active=!0,this._fn=t.fn||mU[t.type||typeof c],this._easing=Lu[t.easing]||Lu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const a=this._target[this._prop],i=s-this._start,c=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=Yf([t.to,n,a,t.from]),this._from=Yf([t.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,a=this._prop,i=this._from,c=this._loop,d=this._to;let f;if(this._active=i!==d&&(c||n<s),!this._active){this._target[a]=d,this._notify(!0);return}if(n<0){this._target[a]=i;return}f=n/s%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(i,d,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][n]()}}class FE{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!tn(t))return;const n=Object.keys(In.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const i=t[a];if(!tn(i))return;const c={};for(const d of n)c[d]=i[d];(ps(i.properties)&&i.properties||[a]).forEach(d=>{(d===a||!s.has(d))&&s.set(d,c)})})}_animateOptions(t,n){const s=n.options,a=xU(t,s);if(!a)return[];const i=this._createAnimations(a,s);return s.$shared&&gU(t.options.$animations,s).then(()=>{t.options=s},()=>{}),i}_createAnimations(t,n){const s=this._properties,a=[],i=t.$animations||(t.$animations={}),c=Object.keys(n),d=Date.now();let f;for(f=c.length-1;f>=0;--f){const h=c[f];if(h.charAt(0)==="$")continue;if(h==="options"){a.push(...this._animateOptions(t,n));continue}const p=n[h];let g=i[h];const b=s.get(h);if(g)if(b&&g.active()){g.update(b,p,d);continue}else g.cancel();if(!b||!b.duration){t[h]=p;continue}i[h]=g=new pU(b,t,h,p),a.push(g)}return a}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return Ba.add(this._chart,s),!0}}function gU(e,t){const n=[],s=Object.keys(t);for(let a=0;a<s.length;a++){const i=e[s[a]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function xU(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function T1(e,t){const n=e&&e.options||{},s=n.reverse,a=n.min===void 0?t:0,i=n.max===void 0?t:0;return{start:s?i:a,end:s?a:i}}function yU(e,t,n){if(n===!1)return!1;const s=T1(e,n),a=T1(t,n);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function bU(e){let t,n,s,a;return tn(e)?(t=e.top,n=e.right,s=e.bottom,a=e.left):t=n=s=a=e,{top:t,right:n,bottom:s,left:a,disabled:e===!1}}function BE(e,t){const n=[],s=e._getSortedDatasetMetas(t);let a,i;for(a=0,i=s.length;a<i;++a)n.push(s[a].index);return n}function C1(e,t,n,s={}){const a=e.keys,i=s.mode==="single";let c,d,f,h;if(t===null)return;let p=!1;for(c=0,d=a.length;c<d;++c){if(f=+a[c],f===n){if(p=!0,s.all)continue;break}h=e.values[f],Cr(h)&&(i||t===0||Vh(t)===Vh(h))&&(t+=h)}return!p&&!s.all?0:t}function vU(e,t){const{iScale:n,vScale:s}=t,a=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",c=Object.keys(e),d=new Array(c.length);let f,h,p;for(f=0,h=c.length;f<h;++f)p=c[f],d[f]={[a]:p,[i]:e[p]};return d}function i0(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function wU(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function _U(e){const{min:t,max:n,minDefined:s,maxDefined:a}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function jU(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function k1(e,t,n,s){for(const a of t.getMatchingVisibleMetas(s).reverse()){const i=e[a.index];if(n&&i>0||!n&&i<0)return a.index}return null}function O1(e,t){const{chart:n,_cachedMeta:s}=e,a=n._stacks||(n._stacks={}),{iScale:i,vScale:c,index:d}=s,f=i.axis,h=c.axis,p=wU(i,c,s),g=t.length;let b;for(let y=0;y<g;++y){const _=t[y],{[f]:w,[h]:N}=_,S=_._stacks||(_._stacks={});b=S[h]=jU(a,p,w),b[d]=N,b._top=k1(b,c,!0,s.type),b._bottom=k1(b,c,!1,s.type);const D=b._visualValues||(b._visualValues={});D[d]=N}}function o0(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function SU(e,t){return dc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function NU(e,t,n){return dc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function yu(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const a of t){const i=a._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const l0=e=>e==="reset"||e==="none",A1=(e,t)=>t?e:Object.assign({},e),EU=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:BE(n,!0),values:null};class jh{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=i0(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&yu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),a=(g,b,y,_)=>g==="x"?b:g==="r"?_:y,i=n.xAxisID=ln(s.xAxisID,o0(t,"x")),c=n.yAxisID=ln(s.yAxisID,o0(t,"y")),d=n.rAxisID=ln(s.rAxisID,o0(t,"r")),f=n.indexAxis,h=n.iAxisID=a(f,i,c,d),p=n.vAxisID=a(f,c,i,d);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&m1(this._data,this),t._stacked&&yu(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(tn(n)){const a=this._cachedMeta;this._data=vU(n,a)}else if(s!==n){if(s){m1(s,this);const a=this._cachedMeta;yu(a),a._parsed=[]}n&&Object.isExtensible(n)&&Nz(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const i=n._stacked;n._stacked=i0(n.vScale,n),n.stack!==s.stack&&(a=!0,yu(n),n.stack=s.stack),this._resyncElements(t),(a||i!==n._stacked)&&(O1(this,n._parsed),n._stacked=i0(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:a}=this,{iScale:i,_stacked:c}=s,d=i.axis;let f=t===0&&n===a.length?!0:s._sorted,h=t>0&&s._parsed[t-1],p,g,b;if(this._parsing===!1)s._parsed=a,s._sorted=!0,b=a;else{ps(a[t])?b=this.parseArrayData(s,a,t,n):tn(a[t])?b=this.parseObjectData(s,a,t,n):b=this.parsePrimitiveData(s,a,t,n);const y=()=>g[d]===null||h&&g[d]<h[d];for(p=0;p<n;++p)s._parsed[p+t]=g=b[p],f&&(y()&&(f=!1),h=g);s._sorted=f}c&&O1(this,b)}parsePrimitiveData(t,n,s,a){const{iScale:i,vScale:c}=t,d=i.axis,f=c.axis,h=i.getLabels(),p=i===c,g=new Array(a);let b,y,_;for(b=0,y=a;b<y;++b)_=b+s,g[b]={[d]:p||i.parse(h[_],_),[f]:c.parse(n[_],_)};return g}parseArrayData(t,n,s,a){const{xScale:i,yScale:c}=t,d=new Array(a);let f,h,p,g;for(f=0,h=a;f<h;++f)p=f+s,g=n[p],d[f]={x:i.parse(g[0],p),y:c.parse(g[1],p)};return d}parseObjectData(t,n,s,a){const{xScale:i,yScale:c}=t,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,h=new Array(a);let p,g,b,y;for(p=0,g=a;p<g;++p)b=p+s,y=n[b],h[p]={x:i.parse(Bh(y,d),b),y:c.parse(Bh(y,f),b)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const a=this.chart,i=this._cachedMeta,c=n[t.axis],d={keys:BE(a,!0),values:n._stacks[t.axis]._visualValues};return C1(d,c,i.index,{mode:s})}updateRangeFromParsed(t,n,s,a){const i=s[n.axis];let c=i===null?NaN:i;const d=a&&s._stacks[n.axis];a&&d&&(a.values=d,c=C1(a,i,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,n){const s=this._cachedMeta,a=s._parsed,i=s._sorted&&t===s.iScale,c=a.length,d=this._getOtherScale(t),f=EU(n,s,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=_U(d);let b,y;function _(){y=a[b];const w=y[d.axis];return!Cr(y[t.axis])||p>w||g<w}for(b=0;b<c&&!(!_()&&(this.updateRangeFromParsed(h,t,y,f),i));++b);if(i){for(b=c-1;b>=0;--b)if(!_()){this.updateRangeFromParsed(h,t,y,f);break}}return h}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let a,i,c;for(a=0,i=n.length;a<i;++a)c=n[a][t.axis],Cr(c)&&s.push(c);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,a=n.vScale,i=this.getParsed(t);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=bU(ln(this.options.clip,yU(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,a=s.data||[],i=n.chartArea,c=[],d=this._drawStart||0,f=this._drawCount||a.length-d,h=this.options.drawActiveElementsOnTop;let p;for(s.dataset&&s.dataset.draw(t,i,d,f),p=d;p<d+f;++p){const g=a[p];g.hidden||(g.active&&h?c.push(g):g.draw(t,i))}for(p=0;p<c.length;++p)c[p].draw(t,i)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const a=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];i=c.$context||(c.$context=NU(this.getContext(),t,c)),i.parsed=this.getParsed(t),i.raw=a.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=SU(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const a=n==="active",i=this._cachedDataOpts,c=t+"-"+n,d=i[c],f=this.enableOptionSharing&&$h(s);if(d)return A1(d,f);const h=this.chart.config,p=h.datasetElementScopeKeys(this._type,t),g=a?[`${t}Hover`,"hover",t,""]:[t,""],b=h.getOptionScopes(this.getDataset(),p),y=Object.keys(In.elements[t]),_=()=>this.getContext(s,a,n),w=h.resolveNamedOptions(b,y,_,g);return w.$shared&&(w.$shared=f,i[c]=Object.freeze(A1(w,f))),w}_resolveAnimations(t,n,s){const a=this.chart,i=this._cachedDataOpts,c=`animation-${n}`,d=i[c];if(d)return d;let f;if(a.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,n),b=p.getOptionScopes(this.getDataset(),g);f=p.createResolver(b,this.getContext(t,s,n))}const h=new FE(a,f&&f.animations);return f&&f._cacheable&&(i[c]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||l0(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),a=this._sharedOptions,i=this.getSharedOptions(s),c=this.includeOptions(n,i)||i!==a;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:c}}updateElement(t,n,s,a){l0(a)?Object.assign(t,s):this._resolveAnimations(n,a).update(t,s)}updateSharedOptions(t,n,s){t&&!l0(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,a){t.active=a;const i=this.getStyle(n,a);this._resolveAnimations(n,s,a).update(t,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[d,f,h]of this._syncList)this[d](f,h);this._syncList=[];const a=s.length,i=n.length,c=Math.min(i,a);c&&this.parse(0,c),i>a?this._insertElements(a,i-a,t):i<a&&this._removeElements(i,a-i)}_insertElements(t,n,s=!0){const a=this._cachedMeta,i=a.data,c=t+n;let d;const f=h=>{for(h.length+=n,d=h.length-1;d>=c;d--)h[d]=h[d-n]};for(f(i),d=t;d<c;++d)i[d]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(t,n),s&&this.updateElements(i,t,n,"reset")}updateElements(t,n,s,a){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(t,n);s._stacked&&yu(s,a)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,a]=t;this[n](s,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Et(jh,"defaults",{}),Et(jh,"datasetElementType",null),Et(jh,"dataElementType",null);function vo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class My{constructor(t){Et(this,"options");this.options=t||{}}static override(t){Object.assign(My.prototype,t)}init(){}formats(){return vo()}parse(){return vo()}format(){return vo()}add(){return vo()}diff(){return vo()}startOf(){return vo()}endOf(){return vo()}}var TU={_date:My};function CU(e,t,n,s){const{controller:a,data:i,_sorted:c}=e,d=a._cachedMeta.iScale,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(d&&t===d.axis&&t!=="r"&&c&&i.length){const h=d._reversePixels?jz:ax;if(s){if(a._sharedOptions){const p=i[0],g=typeof p.getRange=="function"&&p.getRange(t);if(g){const b=h(i,t,n-g),y=h(i,t,n+g);return{lo:b.lo,hi:y.hi}}}}else{const p=h(i,t,n);if(f){const{vScale:g}=a._cachedMeta,{_parsed:b}=e,y=b.slice(0,p.lo+1).reverse().findIndex(w=>!An(w[g.axis]));p.lo-=Math.max(0,y);const _=b.slice(p.hi).findIndex(w=>!An(w[g.axis]));p.hi+=Math.max(0,_)}return p}}return{lo:0,hi:i.length-1}}function bm(e,t,n,s,a){const i=e.getSortedVisibleDatasetMetas(),c=n[t];for(let d=0,f=i.length;d<f;++d){const{index:h,data:p}=i[d],{lo:g,hi:b}=CU(i[d],t,c,a);for(let y=g;y<=b;++y){const _=p[y];_.skip||s(_,h,y)}}}function kU(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,a){const i=t?Math.abs(s.x-a.x):0,c=n?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(c,2))}}function c0(e,t,n,s,a){const i=[];return!a&&!e.isPointInArea(t)||bm(e,n,t,function(d,f,h){!a&&!AE(d,e.chartArea,0)||d.inRange(t.x,t.y,s)&&i.push({element:d,datasetIndex:f,index:h})},!0),i}function OU(e,t,n,s){let a=[];function i(c,d,f){const{startAngle:h,endAngle:p}=c.getProps(["startAngle","endAngle"],s),{angle:g}=_E(c,{x:t.x,y:t.y});jE(g,h,p)&&a.push({element:c,datasetIndex:d,index:f})}return bm(e,n,t,i),a}function AU(e,t,n,s,a,i){let c=[];const d=kU(n);let f=Number.POSITIVE_INFINITY;function h(p,g,b){const y=p.inRange(t.x,t.y,a);if(s&&!y)return;const _=p.getCenterPoint(a);if(!(!!i||e.isPointInArea(_))&&!y)return;const N=d(t,_);N<f?(c=[{element:p,datasetIndex:g,index:b}],f=N):N===f&&c.push({element:p,datasetIndex:g,index:b})}return bm(e,n,t,h),c}function u0(e,t,n,s,a,i){return!i&&!e.isPointInArea(t)?[]:n==="r"&&!s?OU(e,t,n,a):AU(e,t,n,s,a,i)}function D1(e,t,n,s,a){const i=[],c=n==="x"?"inXRange":"inYRange";let d=!1;return bm(e,n,t,(f,h,p)=>{f[c]&&f[c](t[n],a)&&(i.push({element:f,datasetIndex:h,index:p}),d=d||f.inRange(t.x,t.y,a))}),s&&!d?[]:i}var DU={modes:{index(e,t,n,s){const a=_o(t,e),i=n.axis||"x",c=n.includeInvisible||!1,d=n.intersect?c0(e,a,i,s,c):u0(e,a,i,!1,s,c),f=[];return d.length?(e.getSortedVisibleDatasetMetas().forEach(h=>{const p=d[0].index,g=h.data[p];g&&!g.skip&&f.push({element:g,datasetIndex:h.index,index:p})}),f):[]},dataset(e,t,n,s){const a=_o(t,e),i=n.axis||"xy",c=n.includeInvisible||!1;let d=n.intersect?c0(e,a,i,s,c):u0(e,a,i,!1,s,c);if(d.length>0){const f=d[0].datasetIndex,h=e.getDatasetMeta(f).data;d=[];for(let p=0;p<h.length;++p)d.push({element:h[p],datasetIndex:f,index:p})}return d},point(e,t,n,s){const a=_o(t,e),i=n.axis||"xy",c=n.includeInvisible||!1;return c0(e,a,i,s,c)},nearest(e,t,n,s){const a=_o(t,e),i=n.axis||"xy",c=n.includeInvisible||!1;return u0(e,a,i,n.intersect,s,c)},x(e,t,n,s){const a=_o(t,e);return D1(e,a,"x",n.intersect,s)},y(e,t,n,s){const a=_o(t,e);return D1(e,a,"y",n.intersect,s)}}};const $E=["left","top","right","bottom"];function bu(e,t){return e.filter(n=>n.pos===t)}function R1(e,t){return e.filter(n=>$E.indexOf(n.pos)===-1&&n.box.axis===t)}function vu(e,t){return e.sort((n,s)=>{const a=t?s:n,i=t?n:s;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function RU(e){const t=[];let n,s,a,i,c,d;for(n=0,s=(e||[]).length;n<s;++n)a=e[n],{position:i,options:{stack:c,stackWeight:d=1}}=a,t.push({index:n,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&i+c,stackWeight:d});return t}function MU(e){const t={};for(const n of e){const{stack:s,pos:a,stackWeight:i}=n;if(!s||!$E.includes(a))continue;const c=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=i}return t}function PU(e,t){const n=MU(e),{vBoxMaxWidth:s,hBoxMaxHeight:a}=t;let i,c,d;for(i=0,c=e.length;i<c;++i){d=e[i];const{fullSize:f}=d.box,h=n[d.stack],p=h&&d.stackWeight/h.weight;d.horizontal?(d.width=p?p*s:f&&t.availableWidth,d.height=a):(d.width=s,d.height=p?p*a:f&&t.availableHeight)}return n}function LU(e){const t=RU(e),n=vu(t.filter(h=>h.box.fullSize),!0),s=vu(bu(t,"left"),!0),a=vu(bu(t,"right")),i=vu(bu(t,"top"),!0),c=vu(bu(t,"bottom")),d=R1(t,"x"),f=R1(t,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:a.concat(f).concat(c).concat(d),chartArea:bu(t,"chartArea"),vertical:s.concat(a).concat(f),horizontal:i.concat(c).concat(d)}}function M1(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function HE(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function zU(e,t,n,s){const{pos:a,box:i}=n,c=e.maxPadding;if(!tn(a)){n.size&&(e[a]-=n.size);const g=s[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?i.height:i.width),n.size=g.size/g.count,e[a]+=n.size}i.getPadding&&HE(c,i.getPadding());const d=Math.max(0,t.outerWidth-M1(c,e,"left","right")),f=Math.max(0,t.outerHeight-M1(c,e,"top","bottom")),h=d!==e.w,p=f!==e.h;return e.w=d,e.h=f,n.horizontal?{same:h,other:p}:{same:p,other:h}}function UU(e){const t=e.maxPadding;function n(s){const a=Math.max(t[s]-e[s],0);return e[s]+=a,a}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function FU(e,t){const n=t.maxPadding;function s(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{i[c]=Math.max(t[c],n[c])}),i}return s(e?["left","right"]:["top","bottom"])}function Du(e,t,n,s){const a=[];let i,c,d,f,h,p;for(i=0,c=e.length,h=0;i<c;++i){d=e[i],f=d.box,f.update(d.width||t.w,d.height||t.h,FU(d.horizontal,t));const{same:g,other:b}=zU(t,n,d,s);h|=g&&a.length,p=p||b,f.fullSize||a.push(d)}return h&&Du(a,t,n,s)||p}function Kf(e,t,n,s,a){e.top=n,e.left=t,e.right=t+s,e.bottom=n+a,e.width=s,e.height=a}function P1(e,t,n,s){const a=n.padding;let{x:i,y:c}=t;for(const d of e){const f=d.box,h=s[d.stack]||{placed:0,weight:1},p=d.stackWeight/h.weight||1;if(d.horizontal){const g=t.w*p,b=h.size||f.height;$h(h.start)&&(c=h.start),f.fullSize?Kf(f,a.left,c,n.outerWidth-a.right-a.left,b):Kf(f,t.left+h.placed,c,g,b),h.start=c,h.placed+=g,c=f.bottom}else{const g=t.h*p,b=h.size||f.width;$h(h.start)&&(i=h.start),f.fullSize?Kf(f,i,a.top,b,n.outerHeight-a.bottom-a.top):Kf(f,i,t.top+h.placed,b,g),h.start=i,h.placed+=g,i=f.right}}t.x=i,t.y=c}var Nr={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const a=kr(e.options.layout.padding),i=Math.max(t-a.width,0),c=Math.max(n-a.height,0),d=LU(e.boxes),f=d.vertical,h=d.horizontal;on(e.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const p=f.reduce((w,N)=>N.box.options&&N.box.options.display===!1?w:w+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:i,availableHeight:c,vBoxMaxWidth:i/2/p,hBoxMaxHeight:c/2}),b=Object.assign({},a);HE(b,kr(s));const y=Object.assign({maxPadding:b,w:i,h:c,x:a.left,y:a.top},a),_=PU(f.concat(h),g);Du(d.fullSize,y,g,_),Du(f,y,g,_),Du(h,y,g,_)&&Du(f,y,g,_),UU(y),P1(d.leftAndTop,y,g,_),y.x+=y.w,y.y+=y.h,P1(d.rightAndBottom,y,g,_),e.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},on(d.chartArea,w=>{const N=w.box;Object.assign(N,e.chartArea),N.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class VE{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,a){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,a?Math.floor(n/a):s)}}isAttached(t){return!0}updateConfig(t){}}class BU extends VE{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Sh="$chartjs",$U={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},L1=e=>e===null||e==="";function HU(e,t){const n=e.style,s=e.getAttribute("height"),a=e.getAttribute("width");if(e[Sh]={initial:{height:s,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",L1(a)){const i=N1(e,"width");i!==void 0&&(e.width=i)}if(L1(s))if(e.style.height==="")e.height=e.width/(t||2);else{const i=N1(e,"height");i!==void 0&&(e.height=i)}return e}const IE=lU?{passive:!0}:!1;function VU(e,t,n){e&&e.addEventListener(t,n,IE)}function IU(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,IE)}function qU(e,t){const n=$U[e.type]||e.type,{x:s,y:a}=_o(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:a!==void 0?a:null}}function Yh(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function WU(e,t,n){const s=e.canvas,a=new MutationObserver(i=>{let c=!1;for(const d of i)c=c||Yh(d.addedNodes,s),c=c&&!Yh(d.removedNodes,s);c&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function YU(e,t,n){const s=e.canvas,a=new MutationObserver(i=>{let c=!1;for(const d of i)c=c||Yh(d.removedNodes,s),c=c&&!Yh(d.addedNodes,s);c&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const Zu=new Map;let z1=0;function qE(){const e=window.devicePixelRatio;e!==z1&&(z1=e,Zu.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function XU(e,t){Zu.size||window.addEventListener("resize",qE),Zu.set(e,t)}function GU(e){Zu.delete(e),Zu.size||window.removeEventListener("resize",qE)}function KU(e,t,n){const s=e.canvas,a=s&&Ry(s);if(!a)return;const i=EE((d,f)=>{const h=a.clientWidth;n(d,f),h<a.clientWidth&&n()},window),c=new ResizeObserver(d=>{const f=d[0],h=f.contentRect.width,p=f.contentRect.height;h===0&&p===0||i(h,p)});return c.observe(a),XU(e,i),c}function d0(e,t,n){n&&n.disconnect(),t==="resize"&&GU(e)}function QU(e,t,n){const s=e.canvas,a=EE(i=>{e.ctx!==null&&n(qU(i,e))},e);return VU(s,t,a),a}class ZU extends VE{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(HU(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[Sh])return!1;const s=n[Sh].initial;["height","width"].forEach(i=>{const c=s[i];An(c)?n.removeAttribute(i):n.setAttribute(i,c)});const a=s.style||{};return Object.keys(a).forEach(i=>{n.style[i]=a[i]}),n.width=n.width,delete n[Sh],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const a=t.$proxies||(t.$proxies={}),c={attach:WU,detach:YU,resize:KU}[n]||QU;a[n]=c(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),a=s[n];if(!a)return;({attach:d0,detach:d0,resize:d0}[n]||IU)(t,n,a),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,a){return oU(t,n,s,a)}isAttached(t){const n=t&&Ry(t);return!!(n&&n.isConnected)}}function JU(e){return!Dy()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?BU:ZU}var lh;let Io=(lh=class{constructor(){Et(this,"x");Et(this,"y");Et(this,"active",!1);Et(this,"options");Et(this,"$animations")}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return Ih(this.x)&&Ih(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const a={};return t.forEach(i=>{a[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),a}},Et(lh,"defaults",{}),Et(lh,"defaultRoutes"),lh);function eF(e,t){const n=e.options.ticks,s=tF(e),a=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?sF(t):[],c=i.length,d=i[0],f=i[c-1],h=[];if(c>a)return rF(t,h,i,c/a),h;const p=nF(i,t,a);if(c>0){let g,b;const y=c>1?Math.round((f-d)/(c-1)):null;for(Qf(t,h,p,An(y)?0:d-y,d),g=0,b=c-1;g<b;g++)Qf(t,h,p,i[g],i[g+1]);return Qf(t,h,p,f,An(y)?t.length:f+y),h}return Qf(t,h,p),h}function tF(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),a=e._maxLength/n;return Math.floor(Math.min(s,a))}function nF(e,t,n){const s=aF(e),a=t.length/n;if(!s)return Math.max(a,1);const i=gz(s);for(let c=0,d=i.length-1;c<d;c++){const f=i[c];if(f>a)return f}return Math.max(a,1)}function sF(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function rF(e,t,n,s){let a=0,i=n[0],c;for(s=Math.ceil(s),c=0;c<e.length;c++)c===i&&(t.push(e[c]),a++,i=n[a*s])}function Qf(e,t,n,s,a){const i=ln(s,0),c=Math.min(ln(a,e.length),e.length);let d=0,f,h,p;for(n=Math.ceil(n),a&&(f=a-s,n=f/Math.floor(f/n)),p=i;p<0;)d++,p=Math.round(i+d*n);for(h=Math.max(i,0);h<c;h++)h===p&&(t.push(e[h]),d++,p=Math.round(i+d*n))}function aF(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const iF=e=>e==="left"?"right":e==="right"?"left":e,U1=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,F1=(e,t)=>Math.min(t||e,e);function B1(e,t){const n=[],s=e.length/t,a=e.length;let i=0;for(;i<a;i+=s)n.push(e[Math.floor(i)]);return n}function oF(e,t,n){const s=e.ticks.length,a=Math.min(t,s-1),i=e._startPixel,c=e._endPixel,d=1e-6;let f=e.getPixelForTick(a),h;if(!(n&&(s===1?h=Math.max(f-i,c-f):t===0?h=(e.getPixelForTick(1)-f)/2:h=(f-e.getPixelForTick(a-1))/2,f+=a<t?h:-h,f<i-d||f>c+d)))return f}function lF(e,t){on(e,n=>{const s=n.gc,a=s.length/2;let i;if(a>t){for(i=0;i<a;++i)delete n.data[s[i]];s.splice(0,a)}})}function wu(e){return e.drawTicks?e.tickLength:0}function $1(e,t){if(!e.display)return 0;const n=Cs(e.font,t),s=kr(e.padding);return(ps(e.text)?e.text.length:1)*n.lineHeight+s.height}function cF(e,t){return dc(e,{scale:t,type:"scale"})}function uF(e,t,n){return dc(e,{tick:n,index:t,type:"tick"})}function dF(e,t,n){let s=Ny(e);return(n&&t!=="right"||!n&&t==="right")&&(s=iF(s)),s}function fF(e,t,n,s){const{top:a,left:i,bottom:c,right:d,chart:f}=e,{chartArea:h,scales:p}=f;let g=0,b,y,_;const w=c-a,N=d-i;if(e.isHorizontal()){if(y=Es(s,i,d),tn(n)){const S=Object.keys(n)[0],D=n[S];_=p[S].getPixelForValue(D)+w-t}else n==="center"?_=(h.bottom+h.top)/2+w-t:_=U1(e,n,t);b=d-i}else{if(tn(n)){const S=Object.keys(n)[0],D=n[S];y=p[S].getPixelForValue(D)-N+t}else n==="center"?y=(h.left+h.right)/2-N+t:y=U1(e,n,t);_=Es(s,c,a),g=n==="left"?-vs:vs}return{titleX:y,titleY:_,maxWidth:b,rotation:g}}class fc extends Io{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:a}=this;return t=sa(t,Number.POSITIVE_INFINITY),n=sa(n,Number.NEGATIVE_INFINITY),s=sa(s,Number.POSITIVE_INFINITY),a=sa(a,Number.NEGATIVE_INFINITY),{min:sa(t,s),max:sa(n,a),minDefined:Cr(t),maxDefined:Cr(n)}}getMinMax(t){let{min:n,max:s,minDefined:a,maxDefined:i}=this.getUserBounds(),c;if(a&&i)return{min:n,max:s};const d=this.getMatchingVisibleMetas();for(let f=0,h=d.length;f<h;++f)c=d[f].controller.getMinMax(this,t),a||(n=Math.min(n,c.min)),i||(s=Math.max(s,c.max));return n=i&&n>s?s:n,s=a&&n>s?n:s,{min:sa(n,sa(s,n)),max:sa(s,sa(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){_n(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:a,grace:i,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Wz(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=d<this.ticks.length;this._convertTicksToLabels(f?B1(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=eF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){_n(this.options.afterUpdate,[this])}beforeSetDimensions(){_n(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){_n(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),_n(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){_n(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,a,i;for(s=0,a=t.length;s<a;s++)i=t[s],i.label=_n(n.callback,[i.value,s,t],this)}afterTickToLabelConversion(){_n(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){_n(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=F1(this.ticks.length,t.ticks.maxTicksLimit),a=n.minRotation||0,i=n.maxRotation;let c=a,d,f,h;if(!this._isVisible()||!n.display||a>=i||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const p=this._getLabelSizes(),g=p.widest.width,b=p.highest.height,y=Ws(this.chart.width-g,0,this.maxWidth);d=t.offset?this.maxWidth/s:y/(s-1),g+6>d&&(d=y/(s-(t.offset?.5:1)),f=this.maxHeight-wu(t.grid)-n.padding-$1(t.title,this.chart.options.font),h=Math.sqrt(g*g+b*b),c=vz(Math.min(Math.asin(Ws((p.highest.height+6)/d,-1,1)),Math.asin(Ws(f/h,-1,1))-Math.asin(Ws(b/h,-1,1)))),c=Math.max(a,Math.min(i,c))),this.labelRotation=c}afterCalculateLabelRotation(){_n(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){_n(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:a,grid:i}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const f=$1(a,n.options.font);if(d?(t.width=this.maxWidth,t.height=wu(i)+f):(t.height=this.maxHeight,t.width=wu(i)+f),s.display&&this.ticks.length){const{first:h,last:p,widest:g,highest:b}=this._getLabelSizes(),y=s.padding*2,_=ko(this.labelRotation),w=Math.cos(_),N=Math.sin(_);if(d){const S=s.mirror?0:N*g.width+w*b.height;t.height=Math.min(this.maxHeight,t.height+S+y)}else{const S=s.mirror?0:w*g.width+N*b.height;t.width=Math.min(this.maxWidth,t.width+S+y)}this._calculatePadding(h,p,N,w)}}this._handleMargins(),d?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,a){const{ticks:{align:i,padding:c},position:d}=this.options,f=this.labelRotation!==0,h=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,y=0;f?h?(b=a*t.width,y=s*n.height):(b=s*t.height,y=a*n.width):i==="start"?y=n.width:i==="end"?b=t.width:i!=="inner"&&(b=t.width/2,y=n.width/2),this.paddingLeft=Math.max((b-p+c)*this.width/(this.width-p),0),this.paddingRight=Math.max((y-g+c)*this.width/(this.width-g),0)}else{let p=n.height/2,g=t.height/2;i==="start"?(p=0,g=t.height):i==="end"&&(p=n.height,g=0),this.paddingTop=p+c,this.paddingBottom=g+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){_n(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)An(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=B1(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:a,_longestTextCache:i}=this,c=[],d=[],f=Math.floor(n/F1(n,s));let h=0,p=0,g,b,y,_,w,N,S,D,A,C,k;for(g=0;g<n;g+=f){if(_=t[g].label,w=this._resolveTickFontOptions(g),a.font=N=w.string,S=i[N]=i[N]||{data:{},gc:[]},D=w.lineHeight,A=C=0,!An(_)&&!ps(_))A=b1(a,S.data,S.gc,A,_),C=D;else if(ps(_))for(b=0,y=_.length;b<y;++b)k=_[b],!An(k)&&!ps(k)&&(A=b1(a,S.data,S.gc,A,k),C+=D);c.push(A),d.push(C),h=Math.max(A,h),p=Math.max(C,p)}lF(i,n);const T=c.indexOf(h),R=d.indexOf(p),P=U=>({width:c[U]||0,height:d[U]||0});return{first:P(0),last:P(n-1),widest:P(T),highest:P(R),widths:c,heights:d}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return _z(this._alignToPixels?bo(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=uF(this.getContext(),t,s))}return this.$context||(this.$context=cF(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=ko(this.labelRotation),s=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),i=this._getLabelSizes(),c=t.autoSkipPadding||0,d=i?i.widest.width+c:0,f=i?i.highest.height+c:0;return this.isHorizontal()?f*s>d*a?d/s:f/a:f*a<d*s?f/s:d/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,a=this.options,{grid:i,position:c,border:d}=a,f=i.offset,h=this.isHorizontal(),g=this.ticks.length+(f?1:0),b=wu(i),y=[],_=d.setContext(this.getContext()),w=_.display?_.width:0,N=w/2,S=function(V){return bo(s,V,w)};let D,A,C,k,T,R,P,U,X,H,K,Y;if(c==="top")D=S(this.bottom),R=this.bottom-b,U=D-N,H=S(t.top)+N,Y=t.bottom;else if(c==="bottom")D=S(this.top),H=t.top,Y=S(t.bottom)-N,R=D+N,U=this.top+b;else if(c==="left")D=S(this.right),T=this.right-b,P=D-N,X=S(t.left)+N,K=t.right;else if(c==="right")D=S(this.left),X=t.left,K=S(t.right)-N,T=D+N,P=this.left+b;else if(n==="x"){if(c==="center")D=S((t.top+t.bottom)/2+.5);else if(tn(c)){const V=Object.keys(c)[0],Q=c[V];D=S(this.chart.scales[V].getPixelForValue(Q))}H=t.top,Y=t.bottom,R=D+N,U=R+b}else if(n==="y"){if(c==="center")D=S((t.left+t.right)/2);else if(tn(c)){const V=Object.keys(c)[0],Q=c[V];D=S(this.chart.scales[V].getPixelForValue(Q))}T=D-N,P=T-b,X=t.left,K=t.right}const te=ln(a.ticks.maxTicksLimit,g),W=Math.max(1,Math.ceil(g/te));for(A=0;A<g;A+=W){const V=this.getContext(A),Q=i.setContext(V),ee=d.setContext(V),ce=Q.lineWidth,L=Q.color,le=ee.dash||[],re=ee.dashOffset,B=Q.tickWidth,ne=Q.tickColor,ye=Q.tickBorderDash||[],he=Q.tickBorderDashOffset;C=oF(this,A,f),C!==void 0&&(k=bo(s,C,ce),h?T=P=X=K=k:R=U=H=Y=k,y.push({tx1:T,ty1:R,tx2:P,ty2:U,x1:X,y1:H,x2:K,y2:Y,width:ce,color:L,borderDash:le,borderDashOffset:re,tickWidth:B,tickColor:ne,tickBorderDash:ye,tickBorderDashOffset:he}))}return this._ticksLength=g,this._borderValue=D,y}_computeLabelItems(t){const n=this.axis,s=this.options,{position:a,ticks:i}=s,c=this.isHorizontal(),d=this.ticks,{align:f,crossAlign:h,padding:p,mirror:g}=i,b=wu(s.grid),y=b+p,_=g?-p:y,w=-ko(this.labelRotation),N=[];let S,D,A,C,k,T,R,P,U,X,H,K,Y="middle";if(a==="top")T=this.bottom-_,R=this._getXAxisLabelAlignment();else if(a==="bottom")T=this.top+_,R=this._getXAxisLabelAlignment();else if(a==="left"){const W=this._getYAxisLabelAlignment(b);R=W.textAlign,k=W.x}else if(a==="right"){const W=this._getYAxisLabelAlignment(b);R=W.textAlign,k=W.x}else if(n==="x"){if(a==="center")T=(t.top+t.bottom)/2+y;else if(tn(a)){const W=Object.keys(a)[0],V=a[W];T=this.chart.scales[W].getPixelForValue(V)+y}R=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")k=(t.left+t.right)/2-y;else if(tn(a)){const W=Object.keys(a)[0],V=a[W];k=this.chart.scales[W].getPixelForValue(V)}R=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(f==="start"?Y="top":f==="end"&&(Y="bottom"));const te=this._getLabelSizes();for(S=0,D=d.length;S<D;++S){A=d[S],C=A.label;const W=i.setContext(this.getContext(S));P=this.getPixelForTick(S)+i.labelOffset,U=this._resolveTickFontOptions(S),X=U.lineHeight,H=ps(C)?C.length:1;const V=H/2,Q=W.color,ee=W.textStrokeColor,ce=W.textStrokeWidth;let L=R;c?(k=P,R==="inner"&&(S===D-1?L=this.options.reverse?"left":"right":S===0?L=this.options.reverse?"right":"left":L="center"),a==="top"?h==="near"||w!==0?K=-H*X+X/2:h==="center"?K=-te.highest.height/2-V*X+X:K=-te.highest.height+X/2:h==="near"||w!==0?K=X/2:h==="center"?K=te.highest.height/2-V*X:K=te.highest.height-H*X,g&&(K*=-1),w!==0&&!W.showLabelBackdrop&&(k+=X/2*Math.sin(w))):(T=P,K=(1-H)*X/2);let le;if(W.showLabelBackdrop){const re=kr(W.backdropPadding),B=te.heights[S],ne=te.widths[S];let ye=K-re.top,he=0-re.left;switch(Y){case"middle":ye-=B/2;break;case"bottom":ye-=B;break}switch(R){case"center":he-=ne/2;break;case"right":he-=ne;break;case"inner":S===D-1?he-=ne:S>0&&(he-=ne/2);break}le={left:he,top:ye,width:ne+re.width,height:B+re.height,color:W.backdropColor}}N.push({label:C,font:U,textOffset:K,options:{rotation:w,color:Q,strokeColor:ee,strokeWidth:ce,textAlign:L,textBaseline:Y,translation:[k,T],backdrop:le}})}return N}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-ko(this.labelRotation))return t==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:a,padding:i}}=this.options,c=this._getLabelSizes(),d=t+i,f=c.widest.width;let h,p;return n==="left"?a?(p=this.right+i,s==="near"?h="left":s==="center"?(h="center",p+=f/2):(h="right",p+=f)):(p=this.right-d,s==="near"?h="right":s==="center"?(h="center",p-=f/2):(h="left",p=this.left)):n==="right"?a?(p=this.left+i,s==="near"?h="right":s==="center"?(h="center",p-=f/2):(h="left",p-=f)):(p=this.left+d,s==="near"?h="left":s==="center"?(h="center",p+=f/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:a,width:i,height:c}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,a,i,c),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(i=>i.value===t);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,c;const d=(f,h,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(f.x,f.y),s.lineTo(h.x,h.y),s.stroke(),s.restore())};if(n.display)for(i=0,c=a.length;i<c;++i){const f=a[i];n.drawOnChartArea&&d({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&d({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:a}}=this,i=s.setContext(this.getContext()),c=s.display?i.width:0;if(!c)return;const d=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let h,p,g,b;this.isHorizontal()?(h=bo(t,this.left,c)-c/2,p=bo(t,this.right,d)+d/2,g=b=f):(g=bo(t,this.top,c)-c/2,b=bo(t,this.bottom,d)+d/2,h=p=f),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(h,g),n.lineTo(p,b),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&Ey(s,a);const i=this.getLabelItems(t);for(const c of i){const d=c.options,f=c.font,h=c.label,p=c.textOffset;Qu(s,h,0,p,f,d)}a&&Ty(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:a}}=this;if(!s.display)return;const i=Cs(s.font),c=kr(s.padding),d=s.align;let f=i.lineHeight/2;n==="bottom"||n==="center"||tn(n)?(f+=c.bottom,ps(s.text)&&(f+=i.lineHeight*(s.text.length-1))):f+=c.top;const{titleX:h,titleY:p,maxWidth:g,rotation:b}=fF(this,f,n,d);Qu(t,s.text,0,0,i,{color:s.color,maxWidth:g,rotation:b,textAlign:dF(d,n,a),textBaseline:"middle",translation:[h,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=ln(t.grid&&t.grid.z,-1),a=ln(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==fc.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let i,c;for(i=0,c=n.length;i<c;++i){const d=n[i];d[s]===this.id&&(!t||d.type===t)&&a.push(d)}return a}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Cs(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Zf{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;pF(n)&&(s=this.register(n));const a=this.items,i=t.id,c=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in a||(a[i]=t,hF(t,c,s),this.override&&In.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,a=this.scope;s in n&&delete n[s],a&&s in In[a]&&(delete In[a][s],this.override&&delete Uo[s])}}function hF(e,t,n){const s=Ku(Object.create(null),[n?In.get(n):{},In.get(t),e.defaults]);In.set(t,s),e.defaultRoutes&&mF(t,e.defaultRoutes),e.descriptors&&In.describe(t,e.descriptors)}function mF(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),a=s.pop(),i=[e].concat(s).join("."),c=t[n].split("."),d=c.pop(),f=c.join(".");In.route(i,a,f,d)})}function pF(e){return"id"in e&&"defaults"in e}class gF{constructor(){this.controllers=new Zf(jh,"datasets",!0),this.elements=new Zf(Io,"elements"),this.plugins=new Zf(Object,"plugins"),this.scales=new Zf(fc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(a=>{const i=s||this._getRegistryForType(a);s||i.isForType(a)||i===this.plugins&&a.id?this._exec(t,i,a):on(a,c=>{const d=s||this._getRegistryForType(c);this._exec(t,d,c)})})}_exec(t,n,s){const a=jy(t);_n(s["before"+a],[],s),n[t](s),_n(s["after"+a],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const a=n.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return a}}var aa=new gF;class xF{constructor(){this._init=[]}notify(t,n,s,a){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=a?this._descriptors(t).filter(a):this._descriptors(t),c=this._notify(i,t,n,s);return n==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,n,s,a){a=a||{};for(const i of t){const c=i.plugin,d=c[s],f=[n,a,i.options];if(_n(d,f,c)===!1&&a.cancelable)return!1}return!0}invalidate(){An(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,a=ln(s.options&&s.options.plugins,{}),i=yF(s);return a===!1&&!n?[]:vF(t,i,a,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,a=(i,c)=>i.filter(d=>!c.some(f=>d.plugin.id===f.plugin.id));this._notify(a(n,s),t,"stop"),this._notify(a(s,n),t,"start")}}function yF(e){const t={},n=[],s=Object.keys(aa.plugins.items);for(let i=0;i<s.length;i++)n.push(aa.getPlugin(s[i]));const a=e.plugins||[];for(let i=0;i<a.length;i++){const c=a[i];n.indexOf(c)===-1&&(n.push(c),t[c.id]=!0)}return{plugins:n,localIds:t}}function bF(e,t){return!t&&e===!1?null:e===!0?{}:e}function vF(e,{plugins:t,localIds:n},s,a){const i=[],c=e.getContext();for(const d of t){const f=d.id,h=bF(s[f],a);h!==null&&i.push({plugin:d,options:wF(e.config,{plugin:d,local:n[f]},h,c)})}return i}function wF(e,{plugin:t,local:n},s,a){const i=e.pluginScopeKeys(t),c=e.getOptionScopes(s,i);return n&&t.defaults&&c.push(t.defaults),e.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ox(e,t){const n=In.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function _F(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function jF(e,t){return e===t?"_index_":"_value_"}function H1(e){if(e==="x"||e==="y"||e==="r")return e}function SF(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function lx(e,...t){if(H1(e))return e;for(const n of t){const s=n.axis||SF(n.position)||e.length>1&&H1(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function V1(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function NF(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return V1(e,"x",n[0])||V1(e,"y",n[0])}return{}}function EF(e,t){const n=Uo[e.type]||{scales:{}},s=t.scales||{},a=ox(e.type,t),i=Object.create(null);return Object.keys(s).forEach(c=>{const d=s[c];if(!tn(d))return console.error(`Invalid scale configuration for scale: ${c}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=lx(c,d,NF(c,e),In.scales[d.type]),h=jF(f,a),p=n.scales||{};i[c]=Pu(Object.create(null),[{axis:f},d,p[f],p[h]])}),e.data.datasets.forEach(c=>{const d=c.type||e.type,f=c.indexAxis||ox(d,t),p=(Uo[d]||{}).scales||{};Object.keys(p).forEach(g=>{const b=_F(g,f),y=c[b+"AxisID"]||b;i[y]=i[y]||Object.create(null),Pu(i[y],[{axis:b},s[y],p[g]])})}),Object.keys(i).forEach(c=>{const d=i[c];Pu(d,[In.scales[d.type],In.scale])}),i}function WE(e){const t=e.options||(e.options={});t.plugins=ln(t.plugins,{}),t.scales=EF(e,t)}function YE(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function TF(e){return e=e||{},e.data=YE(e.data),WE(e),e}const I1=new Map,XE=new Set;function Jf(e,t){let n=I1.get(e);return n||(n=t(),I1.set(e,n),XE.add(n)),n}const _u=(e,t,n)=>{const s=Bh(t,n);s!==void 0&&e.add(s)};class CF{constructor(t){this._config=TF(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=YE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),WE(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Jf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Jf(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Jf(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return Jf(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let a=s.get(t);return(!a||n)&&(a=new Map,s.set(t,a)),a}getOptionScopes(t,n,s){const{options:a,type:i}=this,c=this._cachedScopes(t,s),d=c.get(n);if(d)return d;const f=new Set;n.forEach(p=>{t&&(f.add(t),p.forEach(g=>_u(f,t,g))),p.forEach(g=>_u(f,a,g)),p.forEach(g=>_u(f,Uo[i]||{},g)),p.forEach(g=>_u(f,In,g)),p.forEach(g=>_u(f,ix,g))});const h=Array.from(f);return h.length===0&&h.push(Object.create(null)),XE.has(n)&&c.set(n,h),h}chartOptionScopes(){const{options:t,type:n}=this;return[t,Uo[n]||{},In.datasets[n]||{},{type:n},In,ix]}resolveNamedOptions(t,n,s,a=[""]){const i={$shared:!0},{resolver:c,subPrefixes:d}=q1(this._resolverCache,t,a);let f=c;if(OF(c,n)){i.$shared=!1,s=Ui(s)?s():s;const h=this.createResolver(t,s,d);f=tc(c,s,h)}for(const h of n)i[h]=f[h];return i}createResolver(t,n,s=[""],a){const{resolver:i}=q1(this._resolverCache,t,s);return tn(n)?tc(i,n,void 0,a):i}}function q1(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const a=n.join();let i=s.get(a);return i||(i={resolver:ky(t,n),subPrefixes:n.filter(d=>!d.toLowerCase().includes("hover"))},s.set(a,i)),i}const kF=e=>tn(e)&&Object.getOwnPropertyNames(e).some(t=>Ui(e[t]));function OF(e,t){const{isScriptable:n,isIndexable:s}=RE(e);for(const a of t){const i=n(a),c=s(a),d=(c||i)&&e[a];if(i&&(Ui(d)||kF(d))||c&&ps(d))return!0}return!1}var AF="4.5.0";const DF=["top","bottom","left","right","chartArea"];function W1(e,t){return e==="top"||e==="bottom"||DF.indexOf(e)===-1&&t==="x"}function Y1(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function X1(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),_n(n&&n.onComplete,[e],t)}function RF(e){const t=e.chart,n=t.options.animation;_n(n&&n.onProgress,[e],t)}function GE(e){return Dy()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Nh={},G1=e=>{const t=GE(e);return Object.values(Nh).filter(n=>n.canvas===t).pop()};function MF(e,t,n){const s=Object.keys(e);for(const a of s){const i=+a;if(i>=t){const c=e[a];delete e[a],(n>0||i>t)&&(e[i+n]=c)}}}function PF(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}class Ei{static register(...t){aa.add(...t),K1()}static unregister(...t){aa.remove(...t),K1()}constructor(t,n){const s=this.config=new CF(n),a=GE(t),i=G1(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const c=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||JU(a)),this.platform.updateConfig(s);const d=this.platform.acquireContext(a,c.aspectRatio),f=d&&d.canvas,h=f&&f.height,p=f&&f.width;if(this.id=lz(),this.ctx=d,this.canvas=f,this.width=p,this.height=h,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new xF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Tz(g=>this.update(g),c.resizeDelay||0),this._dataChanges=[],Nh[this.id]=this,!d||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Ba.listen(this,"complete",X1),Ba.listen(this,"progress",RF),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:a,_aspectRatio:i}=this;return An(t)?n&&i?i:a?s/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return aa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():S1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return v1(this.canvas,this.ctx),this}stop(){return Ba.stop(this),this}resize(t,n){Ba.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,a=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,t,n,i),d=s.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,S1(this,d,!0)&&(this.notifyPlugins("resize",{size:c}),_n(s.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};on(n,(s,a)=>{s.id=a})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,a=Object.keys(s).reduce((c,d)=>(c[d]=!1,c),{});let i=[];n&&(i=i.concat(Object.keys(n).map(c=>{const d=n[c],f=lx(c,d),h=f==="r",p=f==="x";return{options:d,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),on(i,c=>{const d=c.options,f=d.id,h=lx(f,d),p=ln(d.type,c.dtype);(d.position===void 0||W1(d.position,h)!==W1(c.dposition))&&(d.position=c.dposition),a[f]=!0;let g=null;if(f in s&&s[f].type===p)g=s[f];else{const b=aa.getScale(p);g=new b({id:f,type:p,ctx:this.ctx,chart:this}),s[g.id]=g}g.init(d,t)}),on(a,(c,d)=>{c||delete s[d]}),on(s,c=>{Nr.configure(this,c,c.options),Nr.addBox(this,c)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((a,i)=>a.index-i.index),s>n){for(let a=n;a<s;++a)this._destroyDatasetMeta(a);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(Y1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,a)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=n.length;s<a;s++){const i=n[s];let c=this.getDatasetMeta(s);const d=i.type||this.config.type;if(c.type&&c.type!==d&&(this._destroyDatasetMeta(s),c=this.getDatasetMeta(s)),c.type=d,c.indexAxis=i.indexAxis||ox(d,this.options),c.order=i.order||0,c.index=s,c.label=""+i.label,c.visible=this.isDatasetVisible(s),c.controller)c.controller.updateIndex(s),c.controller.linkScales();else{const f=aa.getController(d),{datasetElementType:h,dataElementType:p}=In.datasets[d];Object.assign(f,{dataElementType:aa.getElement(p),datasetElementType:h&&aa.getElement(h)}),c.controller=new f(this,s),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){on(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let h=0,p=this.data.datasets.length;h<p;h++){const{controller:g}=this.getDatasetMeta(h),b=!a&&i.indexOf(g)===-1;g.buildOrUpdateElements(b),c=Math.max(+g.getMaxOverflow(),c)}c=this._minPadding=s.layout.autoPadding?c:0,this._updateLayout(c),a||on(i,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Y1("z","_idx"));const{_active:d,_lastEvent:f}=this;f?this._eventHandler(f,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){on(this.scales,t=>{Nr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!u1(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:i}of n){const c=s==="_removeElements"?-i:i;MF(t,a,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(t.filter(c=>c[0]===i).map((c,d)=>d+","+c.splice(1).join(","))),a=s(0);for(let i=1;i<n;i++)if(!u1(a,s(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Nr.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],on(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Ui(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),a={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ba.has(this)?this.attached&&!Ba.running(this)&&Ba.start(this):(this.draw(),X1({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let a,i;for(a=0,i=n.length;a<i;++a){const c=n[a];(!t||c.visible)&&s.push(c)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},a=fU(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&Ey(n,a),t.controller.draw(),a&&Ty(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return AE(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,a){const i=DU.modes[n];return typeof i=="function"?i(this,t,s,a):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let a=s.filter(i=>i&&i._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=dc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const a=s?"show":"hide",i=this.getDatasetMeta(t),c=i.controller._resolveAnimations(void 0,a);$h(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),c.update(i,{visible:s}),this.update(d=>d.datasetIndex===t?a:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ba.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),v1(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Nh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(i,c)=>{n.addEventListener(this,i,c),t[i]=c},a=(i,c,d)=>{i.offsetX=c,i.offsetY=d,this._eventHandler(i)};on(this.options.events,i=>s(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(f,h)=>{n.addEventListener(this,f,h),t[f]=h},a=(f,h)=>{t[f]&&(n.removeEventListener(this,f,h),delete t[f])},i=(f,h)=>{this.canvas&&this.resize(f,h)};let c;const d=()=>{a("attach",d),this.attached=!0,this.resize(),s("resize",i),s("detach",c)};c=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),s("attach",d)},n.isAttached(this.canvas)?d():c()}unbindEvents(){on(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},on(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const a=s?"set":"remove";let i,c,d,f;for(n==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),d=0,f=t.length;d<f;++d){c=t[d];const h=c&&this.getDatasetMeta(c.datasetIndex).controller;h&&h[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:i,index:c})=>{const d=this.getDatasetMeta(i);if(!d)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:d.data[c],index:c}});!Uh(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const a=this.options.hover,i=(f,h)=>f.filter(p=>!h.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),c=i(n,t),d=s?t:i(t,n);c.length&&this.updateHoverStyle(c,a.mode,!1),d.length&&a.mode&&this.updateHoverStyle(d,a.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},a=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const i=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(i||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:a=[],options:i}=this,c=n,d=this._getActiveElements(t,a,s,c),f=mz(t),h=PF(t,this._lastEvent,s,f);s&&(this._lastEvent=null,_n(i.onHover,[t,d,this],this),f&&_n(i.onClick,[t,d,this],this));const p=!Uh(d,a);return(p||n)&&(this._active=d,this._updateHoverStyles(d,a,n)),this._lastEvent=h,p}_getActiveElements(t,n,s,a){if(t.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,a)}}Et(Ei,"defaults",In),Et(Ei,"instances",Nh),Et(Ei,"overrides",Uo),Et(Ei,"registry",aa),Et(Ei,"version",AF),Et(Ei,"getChart",G1);function K1(){return on(Ei.instances,e=>e._plugins.invalidate())}function LF(e,t,n){const{startAngle:s,x:a,y:i,outerRadius:c,innerRadius:d,options:f}=t,{borderWidth:h,borderJoinStyle:p}=f,g=Math.min(h/c,ia(s-n));if(e.beginPath(),e.arc(a,i,c-h/2,s+g/2,n-g/2),d>0){const b=Math.min(h/d,ia(s-n));e.arc(a,i,d+h/2,n-b/2,s+b/2,!0)}else{const b=Math.min(h/2,c*ia(s-n));if(p==="round")e.arc(a,i,b,n-jn/2,s+jn/2,!0);else if(p==="bevel"){const y=2*b*b,_=-y*Math.cos(n+jn/2)+a,w=-y*Math.sin(n+jn/2)+i,N=y*Math.cos(s+jn/2)+a,S=y*Math.sin(s+jn/2)+i;e.lineTo(_,w),e.lineTo(N,S)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function zF(e,t,n){const{startAngle:s,pixelMargin:a,x:i,y:c,outerRadius:d,innerRadius:f}=t;let h=a/d;e.beginPath(),e.arc(i,c,d,s-h,n+h),f>a?(h=a/f,e.arc(i,c,f,n+h,s-h,!0)):e.arc(i,c,a,n+vs,s-vs),e.closePath(),e.clip()}function UF(e){return Cy(e,["outerStart","outerEnd","innerStart","innerEnd"])}function FF(e,t,n,s){const a=UF(e.options.borderRadius),i=(n-t)/2,c=Math.min(i,s*t/2),d=f=>{const h=(n-Math.min(i,f))*s/2;return Ws(f,0,Math.min(i,h))};return{outerStart:d(a.outerStart),outerEnd:d(a.outerEnd),innerStart:Ws(a.innerStart,0,c),innerEnd:Ws(a.innerEnd,0,c)}}function Ll(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function Xh(e,t,n,s,a,i){const{x:c,y:d,startAngle:f,pixelMargin:h,innerRadius:p}=t,g=Math.max(t.outerRadius+s+n-h,0),b=p>0?p+s+n+h:0;let y=0;const _=a-f;if(s){const W=p>0?p-s:0,V=g>0?g-s:0,Q=(W+V)/2,ee=Q!==0?_*Q/(Q+s):_;y=(_-ee)/2}const w=Math.max(.001,_*g-n/jn)/g,N=(_-w)/2,S=f+N+y,D=a-N-y,{outerStart:A,outerEnd:C,innerStart:k,innerEnd:T}=FF(t,b,g,D-S),R=g-A,P=g-C,U=S+A/R,X=D-C/P,H=b+k,K=b+T,Y=S+k/H,te=D-T/K;if(e.beginPath(),i){const W=(U+X)/2;if(e.arc(c,d,g,U,W),e.arc(c,d,g,W,X),C>0){const ce=Ll(P,X,c,d);e.arc(ce.x,ce.y,C,X,D+vs)}const V=Ll(K,D,c,d);if(e.lineTo(V.x,V.y),T>0){const ce=Ll(K,te,c,d);e.arc(ce.x,ce.y,T,D+vs,te+Math.PI)}const Q=(D-T/b+(S+k/b))/2;if(e.arc(c,d,b,D-T/b,Q,!0),e.arc(c,d,b,Q,S+k/b,!0),k>0){const ce=Ll(H,Y,c,d);e.arc(ce.x,ce.y,k,Y+Math.PI,S-vs)}const ee=Ll(R,S,c,d);if(e.lineTo(ee.x,ee.y),A>0){const ce=Ll(R,U,c,d);e.arc(ce.x,ce.y,A,S-vs,U)}}else{e.moveTo(c,d);const W=Math.cos(U)*g+c,V=Math.sin(U)*g+d;e.lineTo(W,V);const Q=Math.cos(X)*g+c,ee=Math.sin(X)*g+d;e.lineTo(Q,ee)}e.closePath()}function BF(e,t,n,s,a){const{fullCircles:i,startAngle:c,circumference:d}=t;let f=t.endAngle;if(i){Xh(e,t,n,s,f,a);for(let h=0;h<i;++h)e.fill();isNaN(d)||(f=c+(d%Ds||Ds))}return Xh(e,t,n,s,f,a),e.fill(),f}function $F(e,t,n,s,a){const{fullCircles:i,startAngle:c,circumference:d,options:f}=t,{borderWidth:h,borderJoinStyle:p,borderDash:g,borderDashOffset:b,borderRadius:y}=f,_=f.borderAlign==="inner";if(!h)return;e.setLineDash(g||[]),e.lineDashOffset=b,_?(e.lineWidth=h*2,e.lineJoin=p||"round"):(e.lineWidth=h,e.lineJoin=p||"bevel");let w=t.endAngle;if(i){Xh(e,t,n,s,w,a);for(let N=0;N<i;++N)e.stroke();isNaN(d)||(w=c+(d%Ds||Ds))}_&&zF(e,t,w),f.selfJoin&&w-c>=jn&&y===0&&p!=="miter"&&LF(e,t,w),i||(Xh(e,t,n,s,w,a),e.stroke())}class Ru extends Io{constructor(n){super();Et(this,"circumference");Et(this,"endAngle");Et(this,"fullCircles");Et(this,"innerRadius");Et(this,"outerRadius");Et(this,"pixelMargin");Et(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,a){const i=this.getProps(["x","y"],a),{angle:c,distance:d}=_E(i,{x:n,y:s}),{startAngle:f,endAngle:h,innerRadius:p,outerRadius:g,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),y=(this.options.spacing+this.options.borderWidth)/2,_=ln(b,h-f),w=jE(c,f,h)&&f!==h,N=_>=Ds||w,S=Oo(d,p+y,g+y);return N&&S}getCenterPoint(n){const{x:s,y:a,startAngle:i,endAngle:c,innerRadius:d,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:h,spacing:p}=this.options,g=(i+c)/2,b=(d+f+p+h)/2;return{x:s+Math.cos(g)*b,y:a+Math.sin(g)*b}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:a}=this,i=(s.offset||0)/4,c=(s.spacing||0)/2,d=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=a>Ds?Math.floor(a/Ds):0,a===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const f=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(f)*i,Math.sin(f)*i);const h=1-Math.sin(Math.min(jn,a||0)),p=i*h;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,BF(n,this,p,c,d),$F(n,this,p,c,d),n.restore()}}Et(Ru,"id","arc"),Et(Ru,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Et(Ru,"defaultRoutes",{backgroundColor:"backgroundColor"}),Et(Ru,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function KE(e,t){const{x:n,y:s,base:a,width:i,height:c}=e.getProps(["x","y","base","width","height"],t);let d,f,h,p,g;return e.horizontal?(g=c/2,d=Math.min(n,a),f=Math.max(n,a),h=s-g,p=s+g):(g=i/2,d=n-g,f=n+g,h=Math.min(s,a),p=Math.max(s,a)),{left:d,top:h,right:f,bottom:p}}function Oi(e,t,n,s){return e?0:Ws(t,n,s)}function HF(e,t,n){const s=e.options.borderWidth,a=e.borderSkipped,i=DE(s);return{t:Oi(a.top,i.top,0,n),r:Oi(a.right,i.right,0,t),b:Oi(a.bottom,i.bottom,0,n),l:Oi(a.left,i.left,0,t)}}function VF(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,i=Gl(a),c=Math.min(t,n),d=e.borderSkipped,f=s||tn(a);return{topLeft:Oi(!f||d.top||d.left,i.topLeft,0,c),topRight:Oi(!f||d.top||d.right,i.topRight,0,c),bottomLeft:Oi(!f||d.bottom||d.left,i.bottomLeft,0,c),bottomRight:Oi(!f||d.bottom||d.right,i.bottomRight,0,c)}}function IF(e){const t=KE(e),n=t.right-t.left,s=t.bottom-t.top,a=HF(e,n/2,s/2),i=VF(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:i},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function f0(e,t,n,s){const a=t===null,i=n===null,d=e&&!(a&&i)&&KE(e,s);return d&&(a||Oo(t,d.left,d.right))&&(i||Oo(n,d.top,d.bottom))}function qF(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function WF(e,t){e.rect(t.x,t.y,t.w,t.h)}function h0(e,t,n={}){const s=e.x!==n.x?-t:0,a=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-s,c=(e.y+e.h!==n.y+n.h?t:0)-a;return{x:e.x+s,y:e.y+a,w:e.w+i,h:e.h+c,radius:e.radius}}class Eh extends Io{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:a}}=this,{inner:i,outer:c}=IF(this),d=qF(c.radius)?qh:WF;t.save(),(c.w!==i.w||c.h!==i.h)&&(t.beginPath(),d(t,h0(c,n,i)),t.clip(),d(t,h0(i,-n,c)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),d(t,h0(i,n)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,n,s){return f0(this,t,n,s)}inXRange(t,n){return f0(this,t,null,n)}inYRange(t,n){return f0(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(n+a)/2:n,y:i?s:(s+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Et(Eh,"id","bar"),Et(Eh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Et(Eh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Q1=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},YF=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Z1 extends Io{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=_n(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,a)=>t.sort(s,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,a=Cs(s.font),i=a.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:f}=Q1(s,i);let h,p;n.font=a.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(c,i,d,f)+10):(p=this.maxHeight,h=this._fitCols(c,a,d,f)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,a){const{ctx:i,maxWidth:c,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],h=this.lineWidths=[0],p=a+d;let g=t;i.textAlign="left",i.textBaseline="middle";let b=-1,y=-p;return this.legendItems.forEach((_,w)=>{const N=s+n/2+i.measureText(_.text).width;(w===0||h[h.length-1]+N+2*d>c)&&(g+=p,h[h.length-(w>0?0:1)]=0,y+=p,b++),f[w]={left:0,top:y,row:b,width:N,height:a},h[h.length-1]+=N+d}),g}_fitCols(t,n,s,a){const{ctx:i,maxHeight:c,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],h=this.columnSizes=[],p=c-t;let g=d,b=0,y=0,_=0,w=0;return this.legendItems.forEach((N,S)=>{const{itemWidth:D,itemHeight:A}=XF(s,n,i,N,a);S>0&&y+A+2*d>p&&(g+=b+d,h.push({width:b,height:y}),_+=b+d,w++,b=y=0),f[S]={left:_,top:y,col:w,width:D,height:A},b=Math.max(b,D),y+=A+d}),g+=b,h.push({width:b,height:y}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:a},rtl:i}}=this,c=Kl(i,this.left,this.width);if(this.isHorizontal()){let d=0,f=Es(s,this.left+a,this.right-this.lineWidths[d]);for(const h of n)d!==h.row&&(d=h.row,f=Es(s,this.left+a,this.right-this.lineWidths[d])),h.top+=this.top+t+a,h.left=c.leftForLtr(c.x(f),h.width),f+=h.width+a}else{let d=0,f=Es(s,this.top+t+a,this.bottom-this.columnSizes[d].height);for(const h of n)h.col!==d&&(d=h.col,f=Es(s,this.top+t+a,this.bottom-this.columnSizes[d].height)),h.top=f,h.left+=this.left+a,h.left=c.leftForLtr(c.x(h.left),h.width),f+=h.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ey(t,this),this._draw(),Ty(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:a}=this,{align:i,labels:c}=t,d=In.color,f=Kl(t.rtl,this.left,this.width),h=Cs(c.font),{padding:p}=c,g=h.size,b=g/2;let y;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=h.string;const{boxWidth:_,boxHeight:w,itemHeight:N}=Q1(c,g),S=function(T,R,P){if(isNaN(_)||_<=0||isNaN(w)||w<0)return;a.save();const U=ln(P.lineWidth,1);if(a.fillStyle=ln(P.fillStyle,d),a.lineCap=ln(P.lineCap,"butt"),a.lineDashOffset=ln(P.lineDashOffset,0),a.lineJoin=ln(P.lineJoin,"miter"),a.lineWidth=U,a.strokeStyle=ln(P.strokeStyle,d),a.setLineDash(ln(P.lineDash,[])),c.usePointStyle){const X={radius:w*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:U},H=f.xPlus(T,_/2),K=R+b;OE(a,X,H,K,c.pointStyleWidth&&_)}else{const X=R+Math.max((g-w)/2,0),H=f.leftForLtr(T,_),K=Gl(P.borderRadius);a.beginPath(),Object.values(K).some(Y=>Y!==0)?qh(a,{x:H,y:X,w:_,h:w,radius:K}):a.rect(H,X,_,w),a.fill(),U!==0&&a.stroke()}a.restore()},D=function(T,R,P){Qu(a,P.text,T,R+N/2,h,{strikethrough:P.hidden,textAlign:f.textAlign(P.textAlign)})},A=this.isHorizontal(),C=this._computeTitleHeight();A?y={x:Es(i,this.left+p,this.right-s[0]),y:this.top+p+C,line:0}:y={x:this.left+p,y:Es(i,this.top+C+p,this.bottom-n[0].height),line:0},zE(this.ctx,t.textDirection);const k=N+p;this.legendItems.forEach((T,R)=>{a.strokeStyle=T.fontColor,a.fillStyle=T.fontColor;const P=a.measureText(T.text).width,U=f.textAlign(T.textAlign||(T.textAlign=c.textAlign)),X=_+b+P;let H=y.x,K=y.y;f.setWidth(this.width),A?R>0&&H+X+p>this.right&&(K=y.y+=k,y.line++,H=y.x=Es(i,this.left+p,this.right-s[y.line])):R>0&&K+k>this.bottom&&(H=y.x=H+n[y.line].width+p,y.line++,K=y.y=Es(i,this.top+C+p,this.bottom-n[y.line].height));const Y=f.x(H);if(S(Y,K,T),H=Cz(U,H+_+b,A?H+X:this.right,t.rtl),D(f.x(H),K,T),A)y.x+=X+p;else if(typeof T.text!="string"){const te=h.lineHeight;y.y+=QE(T,te)+p}else y.y+=k}),UE(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=Cs(n.font),a=kr(n.padding);if(!n.display)return;const i=Kl(t.rtl,this.left,this.width),c=this.ctx,d=n.position,f=s.size/2,h=a.top+f;let p,g=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+h,g=Es(t.align,g,this.right-b);else{const _=this.columnSizes.reduce((w,N)=>Math.max(w,N.height),0);p=h+Es(t.align,this.top,this.bottom-_-t.labels.padding-this._computeTitleHeight())}const y=Es(d,g,g+b);c.textAlign=i.textAlign(Ny(d)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=s.string,Qu(c,n.text,y,p,s)}_computeTitleHeight(){const t=this.options.title,n=Cs(t.font),s=kr(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,a,i;if(Oo(t,this.left,this.right)&&Oo(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(a=i[s],Oo(t,a.left,a.left+a.width)&&Oo(n,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!QF(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,i=YF(a,s);a&&!i&&_n(n.onLeave,[t,a,this],this),this._hoveredItem=s,s&&!i&&_n(n.onHover,[t,s,this],this)}else s&&_n(n.onClick,[t,s,this],this)}}function XF(e,t,n,s,a){const i=GF(s,e,t,n),c=KF(a,s,t.lineHeight);return{itemWidth:i,itemHeight:c}}function GF(e,t,n,s){let a=e.text;return a&&typeof a!="string"&&(a=a.reduce((i,c)=>i.length>c.length?i:c)),t+n.size/2+s.measureText(a).width}function KF(e,t,n){let s=e;return typeof t.text!="string"&&(s=QE(t,n)),s}function QE(e,t){const n=e.text?e.text.length:0;return t*n}function QF(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var ZF={id:"legend",_element:Z1,start(e,t,n){const s=e.legend=new Z1({ctx:e.ctx,options:n,chart:e});Nr.configure(e,s,n),Nr.addBox(e,s)},stop(e){Nr.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;Nr.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,a=n.chart;a.isDatasetVisible(s)?(a.hide(s),t.hidden=!0):(a.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:a,color:i,useBorderRadius:c,borderRadius:d}}=e.legend.options;return e._getSortedDatasetMetas().map(f=>{const h=f.controller.getStyle(n?0:void 0),p=kr(h.borderWidth);return{text:t[f.index].label,fillStyle:h.backgroundColor,fontColor:i,hidden:!f.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:h.borderColor,pointStyle:s||h.pointStyle,rotation:h.rotation,textAlign:a||h.textAlign,borderRadius:c&&(d||h.borderRadius),datasetIndex:f.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};let ZE=class extends Io{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const a=ps(s.text)?s.text.length:1;this._padding=kr(s.padding);const i=a*Cs(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:a,right:i,options:c}=this,d=c.align;let f=0,h,p,g;return this.isHorizontal()?(p=Es(d,s,i),g=n+t,h=i-s):(c.position==="left"?(p=s+t,g=Es(d,a,n),f=jn*-.5):(p=i-t,g=Es(d,n,a),f=jn*.5),h=a-n),{titleX:p,titleY:g,maxWidth:h,rotation:f}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=Cs(n.font),i=s.lineHeight/2+this._padding.top,{titleX:c,titleY:d,maxWidth:f,rotation:h}=this._drawArgs(i);Qu(t,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:h,textAlign:Ny(n.align),textBaseline:"middle",translation:[c,d]})}};function JF(e,t){const n=new ZE({ctx:e.ctx,options:t,chart:e});Nr.configure(e,n,t),Nr.addBox(e,n),e.titleBlock=n}var eB={id:"title",_element:ZE,start(e,t,n){JF(e,n)},stop(e){const t=e.titleBlock;Nr.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;Nr.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Mu={average(e){if(!e.length)return!1;let t,n,s=new Set,a=0,i=0;for(t=0,n=e.length;t<n;++t){const d=e[t].element;if(d&&d.hasValue()){const f=d.tooltipPosition();s.add(f.x),a+=f.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((d,f)=>d+f)/s.size,y:a/i}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,a=Number.POSITIVE_INFINITY,i,c,d;for(i=0,c=e.length;i<c;++i){const f=e[i].element;if(f&&f.hasValue()){const h=f.getCenterPoint(),p=wz(t,h);p<a&&(a=p,d=f)}}if(d){const f=d.tooltipPosition();n=f.x,s=f.y}return{x:n,y:s}}};function ra(e,t){return t&&(ps(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function $a(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function tB(e,t){const{element:n,datasetIndex:s,index:a}=t,i=e.getDatasetMeta(s).controller,{label:c,value:d}=i.getLabelAndValue(a);return{chart:e,label:c,parsed:i.getParsed(a),raw:e.data.datasets[s].data[a],formattedValue:d,dataset:i.getDataset(),dataIndex:a,datasetIndex:s,element:n}}function J1(e,t){const n=e.chart.ctx,{body:s,footer:a,title:i}=e,{boxWidth:c,boxHeight:d}=t,f=Cs(t.bodyFont),h=Cs(t.titleFont),p=Cs(t.footerFont),g=i.length,b=a.length,y=s.length,_=kr(t.padding);let w=_.height,N=0,S=s.reduce((C,k)=>C+k.before.length+k.lines.length+k.after.length,0);if(S+=e.beforeBody.length+e.afterBody.length,g&&(w+=g*h.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),S){const C=t.displayColors?Math.max(d,f.lineHeight):f.lineHeight;w+=y*C+(S-y)*f.lineHeight+(S-1)*t.bodySpacing}b&&(w+=t.footerMarginTop+b*p.lineHeight+(b-1)*t.footerSpacing);let D=0;const A=function(C){N=Math.max(N,n.measureText(C).width+D)};return n.save(),n.font=h.string,on(e.title,A),n.font=f.string,on(e.beforeBody.concat(e.afterBody),A),D=t.displayColors?c+2+t.boxPadding:0,on(s,C=>{on(C.before,A),on(C.lines,A),on(C.after,A)}),D=0,n.font=p.string,on(e.footer,A),n.restore(),N+=_.width,{width:N,height:w}}function nB(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function sB(e,t,n,s){const{x:a,width:i}=s,c=n.caretSize+n.caretPadding;if(e==="left"&&a+i+c>t.width||e==="right"&&a-i-c<0)return!0}function rB(e,t,n,s){const{x:a,width:i}=n,{width:c,chartArea:{left:d,right:f}}=e;let h="center";return s==="center"?h=a<=(d+f)/2?"left":"right":a<=i/2?h="left":a>=c-i/2&&(h="right"),sB(h,e,t,n)&&(h="center"),h}function eS(e,t,n){const s=n.yAlign||t.yAlign||nB(e,n);return{xAlign:n.xAlign||t.xAlign||rB(e,t,n,s),yAlign:s}}function aB(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function iB(e,t,n){let{y:s,height:a}=e;return t==="top"?s+=n:t==="bottom"?s-=a+n:s-=a/2,s}function tS(e,t,n,s){const{caretSize:a,caretPadding:i,cornerRadius:c}=e,{xAlign:d,yAlign:f}=n,h=a+i,{topLeft:p,topRight:g,bottomLeft:b,bottomRight:y}=Gl(c);let _=aB(t,d);const w=iB(t,f,h);return f==="center"?d==="left"?_+=h:d==="right"&&(_-=h):d==="left"?_-=Math.max(p,b)+a:d==="right"&&(_+=Math.max(g,y)+a),{x:Ws(_,0,s.width-t.width),y:Ws(w,0,s.height-t.height)}}function eh(e,t,n){const s=kr(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function nS(e){return ra([],$a(e))}function oB(e,t,n){return dc(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function sS(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const JE={beforeTitle:Ua,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:Ua,beforeBody:Ua,beforeLabel:Ua,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return An(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ua,afterBody:Ua,beforeFooter:Ua,footer:Ua,afterFooter:Ua};function Bs(e,t,n,s){const a=e[t].call(n,s);return typeof a=="undefined"?JE[t].call(n,s):a}class cx extends Io{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&n.options.animation&&s.animations,i=new FE(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=oB(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,a=Bs(s,"beforeTitle",this,t),i=Bs(s,"title",this,t),c=Bs(s,"afterTitle",this,t);let d=[];return d=ra(d,$a(a)),d=ra(d,$a(i)),d=ra(d,$a(c)),d}getBeforeBody(t,n){return nS(Bs(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,a=[];return on(t,i=>{const c={before:[],lines:[],after:[]},d=sS(s,i);ra(c.before,$a(Bs(d,"beforeLabel",this,i))),ra(c.lines,Bs(d,"label",this,i)),ra(c.after,$a(Bs(d,"afterLabel",this,i))),a.push(c)}),a}getAfterBody(t,n){return nS(Bs(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,a=Bs(s,"beforeFooter",this,t),i=Bs(s,"footer",this,t),c=Bs(s,"afterFooter",this,t);let d=[];return d=ra(d,$a(a)),d=ra(d,$a(i)),d=ra(d,$a(c)),d}_createItems(t){const n=this._active,s=this.chart.data,a=[],i=[],c=[];let d=[],f,h;for(f=0,h=n.length;f<h;++f)d.push(tB(this.chart,n[f]));return t.filter&&(d=d.filter((p,g,b)=>t.filter(p,g,b,s))),t.itemSort&&(d=d.sort((p,g)=>t.itemSort(p,g,s))),on(d,p=>{const g=sS(t.callbacks,p);a.push(Bs(g,"labelColor",this,p)),i.push(Bs(g,"labelPointStyle",this,p)),c.push(Bs(g,"labelTextColor",this,p))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=c,this.dataPoints=d,d}update(t,n){const s=this.options.setContext(this.getContext()),a=this._active;let i,c=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const d=Mu[s.position].call(this,a,this._eventPosition);c=this._createItems(s),this.title=this.getTitle(c,s),this.beforeBody=this.getBeforeBody(c,s),this.body=this.getBody(c,s),this.afterBody=this.getAfterBody(c,s),this.footer=this.getFooter(c,s);const f=this._size=J1(this,s),h=Object.assign({},d,f),p=eS(this.chart,s,h),g=tS(s,h,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,i={opacity:1,x:g.x,y:g.y,width:f.width,height:f.height,caretX:d.x,caretY:d.y}}this._tooltipItems=c,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,a){const i=this.getCaretPosition(t,s,a);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(t,n,s){const{xAlign:a,yAlign:i}=this,{caretSize:c,cornerRadius:d}=s,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:g}=Gl(d),{x:b,y}=t,{width:_,height:w}=n;let N,S,D,A,C,k;return i==="center"?(C=y+w/2,a==="left"?(N=b,S=N-c,A=C+c,k=C-c):(N=b+_,S=N+c,A=C-c,k=C+c),D=N):(a==="left"?S=b+Math.max(f,p)+c:a==="right"?S=b+_-Math.max(h,g)-c:S=this.caretX,i==="top"?(A=y,C=A-c,N=S-c,D=S+c):(A=y+w,C=A+c,N=S+c,D=S-c),k=A),{x1:N,x2:S,x3:D,y1:A,y2:C,y3:k}}drawTitle(t,n,s){const a=this.title,i=a.length;let c,d,f;if(i){const h=Kl(s.rtl,this.x,this.width);for(t.x=eh(this,s.titleAlign,s),n.textAlign=h.textAlign(s.titleAlign),n.textBaseline="middle",c=Cs(s.titleFont),d=s.titleSpacing,n.fillStyle=s.titleColor,n.font=c.string,f=0;f<i;++f)n.fillText(a[f],h.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+d,f+1===i&&(t.y+=s.titleMarginBottom-d)}}_drawColorBox(t,n,s,a,i){const c=this.labelColors[s],d=this.labelPointStyles[s],{boxHeight:f,boxWidth:h}=i,p=Cs(i.bodyFont),g=eh(this,"left",i),b=a.x(g),y=f<p.lineHeight?(p.lineHeight-f)/2:0,_=n.y+y;if(i.usePointStyle){const w={radius:Math.min(h,f)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},N=a.leftForLtr(b,h)+h/2,S=_+f/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,w1(t,w,N,S),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,w1(t,w,N,S)}else{t.lineWidth=tn(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const w=a.leftForLtr(b,h),N=a.leftForLtr(a.xPlus(b,1),h-2),S=Gl(c.borderRadius);Object.values(S).some(D=>D!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,qh(t,{x:w,y:_,w:h,h:f,radius:S}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),qh(t,{x:N,y:_+1,w:h-2,h:f-2,radius:S}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(w,_,h,f),t.strokeRect(w,_,h,f),t.fillStyle=c.backgroundColor,t.fillRect(N,_+1,h-2,f-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:a}=this,{bodySpacing:i,bodyAlign:c,displayColors:d,boxHeight:f,boxWidth:h,boxPadding:p}=s,g=Cs(s.bodyFont);let b=g.lineHeight,y=0;const _=Kl(s.rtl,this.x,this.width),w=function(P){n.fillText(P,_.x(t.x+y),t.y+b/2),t.y+=b+i},N=_.textAlign(c);let S,D,A,C,k,T,R;for(n.textAlign=c,n.textBaseline="middle",n.font=g.string,t.x=eh(this,N,s),n.fillStyle=s.bodyColor,on(this.beforeBody,w),y=d&&N!=="right"?c==="center"?h/2+p:h+2+p:0,C=0,T=a.length;C<T;++C){for(S=a[C],D=this.labelTextColors[C],n.fillStyle=D,on(S.before,w),A=S.lines,d&&A.length&&(this._drawColorBox(n,t,C,_,s),b=Math.max(g.lineHeight,f)),k=0,R=A.length;k<R;++k)w(A[k]),b=g.lineHeight;on(S.after,w)}y=0,b=g.lineHeight,on(this.afterBody,w),t.y-=i}drawFooter(t,n,s){const a=this.footer,i=a.length;let c,d;if(i){const f=Kl(s.rtl,this.x,this.width);for(t.x=eh(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=f.textAlign(s.footerAlign),n.textBaseline="middle",c=Cs(s.footerFont),n.fillStyle=s.footerColor,n.font=c.string,d=0;d<i;++d)n.fillText(a[d],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+s.footerSpacing}}drawBackground(t,n,s,a){const{xAlign:i,yAlign:c}=this,{x:d,y:f}=t,{width:h,height:p}=s,{topLeft:g,topRight:b,bottomLeft:y,bottomRight:_}=Gl(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(d+g,f),c==="top"&&this.drawCaret(t,n,s,a),n.lineTo(d+h-b,f),n.quadraticCurveTo(d+h,f,d+h,f+b),c==="center"&&i==="right"&&this.drawCaret(t,n,s,a),n.lineTo(d+h,f+p-_),n.quadraticCurveTo(d+h,f+p,d+h-_,f+p),c==="bottom"&&this.drawCaret(t,n,s,a),n.lineTo(d+y,f+p),n.quadraticCurveTo(d,f+p,d,f+p-y),c==="center"&&i==="left"&&this.drawCaret(t,n,s,a),n.lineTo(d,f+g),n.quadraticCurveTo(d,f,d+g,f),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,a=s&&s.x,i=s&&s.y;if(a||i){const c=Mu[t.position].call(this,this._active,this._eventPosition);if(!c)return;const d=this._size=J1(this,t),f=Object.assign({},c,this._size),h=eS(n,t,f),p=tS(t,f,h,n);(a._to!==p.x||i._to!==p.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=d.width,this.height=d.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const c=kr(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(t.save(),t.globalAlpha=s,this.drawBackground(i,t,a,n),zE(t,n.textDirection),i.y+=c.top,this.drawTitle(i,t,n),this.drawBody(i,t,n),this.drawFooter(i,t,n),UE(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,a=t.map(({datasetIndex:d,index:f})=>{const h=this.chart.getDatasetMeta(d);if(!h)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:h.data[f],index:f}}),i=!Uh(s,a),c=this._positionChanged(a,n);(i||c)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],c=this._getActiveElements(t,i,n,s),d=this._positionChanged(c,t),f=n||!Uh(c,i)||d;return f&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),f}_getActiveElements(t,n,s,a){const i=this.options;if(t.type==="mouseout")return[];if(!a)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,i.mode,i,s);return i.reverse&&c.reverse(),c}_positionChanged(t,n){const{caretX:s,caretY:a,options:i}=this,c=Mu[i.position].call(this,t,n);return c!==!1&&(s!==c.x||a!==c.y)}}Et(cx,"positioners",Mu);var lB={id:"tooltip",_element:cx,positioners:Mu,afterInit(e,t,n){n&&(e.tooltip=new cx({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",oe(z({},n),{cancelable:!0}))===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:JE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const cB=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function uB(e,t,n,s){const a=e.indexOf(t);if(a===-1)return cB(e,t,n,s);const i=e.lastIndexOf(t);return a!==i?n:a}const dB=(e,t)=>e===null?null:Ws(Math.round(e),0,t);function rS(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class ux extends fc{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:a,label:i}of n)s[a]===i&&s.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(An(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:uB(s,t,ln(n,t),this._addedLabels),dB(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,a=[];let i=this.getLabels();i=t===0&&n===i.length-1?i:i.slice(t,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let c=t;c<=n;c++)a.push({value:c});return a}getLabelForValue(t){return rS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Et(ux,"id","category"),Et(ux,"defaults",{ticks:{callback:rS}});function fB(e,t){const n=[],{bounds:a,step:i,min:c,max:d,precision:f,count:h,maxTicks:p,maxDigits:g,includeBounds:b}=e,y=i||1,_=p-1,{min:w,max:N}=t,S=!An(c),D=!An(d),A=!An(h),C=(N-w)/(g+1);let k=f1((N-w)/_/y)*y,T,R,P,U;if(k<1e-14&&!S&&!D)return[{value:w},{value:N}];U=Math.ceil(N/k)-Math.floor(w/k),U>_&&(k=f1(U*k/_/y)*y),An(f)||(T=Math.pow(10,f),k=Math.ceil(k*T)/T),a==="ticks"?(R=Math.floor(w/k)*k,P=Math.ceil(N/k)*k):(R=w,P=N),S&&D&&i&&yz((d-c)/i,k/1e3)?(U=Math.round(Math.min((d-c)/k,p)),k=(d-c)/U,R=c,P=d):A?(R=S?c:R,P=D?d:P,U=h-1,k=(P-R)/U):(U=(P-R)/k,_h(U,Math.round(U),k/1e3)?U=Math.round(U):U=Math.ceil(U));const X=Math.max(h1(k),h1(R));T=Math.pow(10,An(f)?X:f),R=Math.round(R*T)/T,P=Math.round(P*T)/T;let H=0;for(S&&(b&&R!==c?(n.push({value:c}),R<c&&H++,_h(Math.round((R+H*k)*T)/T,c,aS(c,C,e))&&H++):R<c&&H++);H<U;++H){const K=Math.round((R+H*k)*T)/T;if(D&&K>d)break;n.push({value:K})}return D&&b&&P!==d?n.length&&_h(n[n.length-1].value,d,aS(d,C,e))?n[n.length-1].value=d:n.push({value:d}):(!D||P===d)&&n.push({value:P}),n}function aS(e,t,{horizontal:n,minRotation:s}){const a=ko(s),i=(n?Math.sin(a):Math.cos(a))||.001,c=.75*t*(""+e).length;return Math.min(t/i,c)}class hB extends fc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return An(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:a,max:i}=this;const c=f=>a=n?a:f,d=f=>i=s?i:f;if(t){const f=Vh(a),h=Vh(i);f<0&&h<0?d(0):f>0&&h>0&&c(0)}if(a===i){let f=i===0?1:Math.abs(i*.05);d(i+f),t||c(a-f)}this.min=a,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,c=fB(a,i);return t.bounds==="ticks"&&bz(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const a=(s-n)/Math.max(t.length-1,1)/2;n-=a,s+=a}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return CE(t,this.chart.options.locale,this.options.ticks.format)}}class dx extends hB{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Cr(t)?t:0,this.max=Cr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=ko(this.options.ticks.minRotation),a=(t?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Et(dx,"id","linear"),Et(dx,"defaults",{ticks:{callback:kE.formatters.numeric}});const vm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Is=Object.keys(vm);function iS(e,t){return e-t}function oS(e,t){if(An(t))return null;const n=e._adapter,{parser:s,round:a,isoWeekday:i}=e._parseOpts;let c=t;return typeof s=="function"&&(c=s(c)),Cr(c)||(c=typeof s=="string"?n.parse(c,s):n.parse(c)),c===null?null:(a&&(c=a==="week"&&(Ih(i)||i===!0)?n.startOf(c,"isoWeek",i):n.startOf(c,a)),+c)}function lS(e,t,n,s){const a=Is.length;for(let i=Is.indexOf(e);i<a-1;++i){const c=vm[Is[i]],d=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-t)/(d*c.size))<=s)return Is[i]}return Is[a-1]}function mB(e,t,n,s,a){for(let i=Is.length-1;i>=Is.indexOf(n);i--){const c=Is[i];if(vm[c].common&&e._adapter.diff(a,s,c)>=t-1)return c}return Is[n?Is.indexOf(n):0]}function pB(e){for(let t=Is.indexOf(e)+1,n=Is.length;t<n;++t)if(vm[Is[t]].common)return Is[t]}function cS(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:a}=Sy(n,t),i=n[s]>=t?n[s]:n[a];e[i]=!0}}function gB(e,t,n,s){const a=e._adapter,i=+a.startOf(t[0].value,s),c=t[t.length-1].value;let d,f;for(d=i;d<=c;d=+a.add(d,1,s))f=n[d],f>=0&&(t[f].major=!0);return t}function uS(e,t,n){const s=[],a={},i=t.length;let c,d;for(c=0;c<i;++c)d=t[c],a[d]=c,s.push({value:d,major:!1});return i===0||!n?s:gB(e,s,a,n)}class Gh extends fc{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),a=this._adapter=new TU._date(t.adapters.date);a.init(n),Pu(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:oS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:a,max:i,minDefined:c,maxDefined:d}=this.getUserBounds();function f(h){!c&&!isNaN(h.min)&&(a=Math.min(a,h.min)),!d&&!isNaN(h.max)&&(i=Math.max(i,h.max))}(!c||!d)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=Cr(a)&&!isNaN(a)?a:+n.startOf(Date.now(),s),i=Cr(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,c=this.max,d=Sz(a,i,c);return this._unit=n.unit||(s.autoSkip?lS(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):mB(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:pB(this._unit),this.initOffsets(a),t.reverse&&d.reverse(),uS(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,a,i;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?n=1-a:n=(this.getDecimalForValue(t[1])-a)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?s=i:s=(i-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;n=Ws(n,0,c),s=Ws(s,0,c),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,a=this.options,i=a.time,c=i.unit||lS(i.minUnit,n,s,this._getLabelCapacity(n)),d=ln(a.ticks.stepSize,1),f=c==="week"?i.isoWeekday:!1,h=Ih(f)||f===!0,p={};let g=n,b,y;if(h&&(g=+t.startOf(g,"isoWeek",f)),g=+t.startOf(g,h?"day":c),t.diff(s,n,c)>1e5*d)throw new Error(n+" and "+s+" are too far apart with stepSize of "+d+" "+c);const _=a.ticks.source==="data"&&this.getDataTimestamps();for(b=g,y=0;b<s;b=+t.add(b,d,c),y++)cS(p,b,_);return(b===s||a.bounds==="ticks"||y===1)&&cS(p,b,_),Object.keys(p).sort(iS).map(w=>+w)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const a=this.options.time.displayFormats,i=this._unit,c=n||a[i];return this._adapter.format(t,c)}_tickFormatFunction(t,n,s,a){const i=this.options,c=i.ticks.callback;if(c)return _n(c,[t,n,s],this);const d=i.time.displayFormats,f=this._unit,h=this._majorUnit,p=f&&d[f],g=h&&d[h],b=s[n],y=h&&g&&b&&b.major;return this._adapter.format(t,a||(y?g:p))}generateTickLabels(t){let n,s,a;for(n=0,s=t.length;n<s;++n)a=t[n],a.label=this._tickFormatFunction(a.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,a=ko(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(a),c=Math.sin(a),d=this._resolveTickFontOptions(0).size;return{w:s*i+d*c,h:s*c+d*i}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,a=s[n.unit]||s.millisecond,i=this._tickFormatFunction(t,0,uS(this,[t],this._majorUnit),a),c=this._getLabelSize(i),d=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return d>0?d:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,s=a.length;n<s;++n)t=t.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const a=this.getLabels();for(n=0,s=a.length;n<s;++n)t.push(oS(this,a[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Ez(t.sort(iS))}}Et(Gh,"id","time"),Et(Gh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function th(e,t,n){let s=0,a=e.length-1,i,c,d,f;n?(t>=e[s].pos&&t<=e[a].pos&&({lo:s,hi:a}=ax(e,"pos",t)),{pos:i,time:d}=e[s],{pos:c,time:f}=e[a]):(t>=e[s].time&&t<=e[a].time&&({lo:s,hi:a}=ax(e,"time",t)),{time:i,pos:d}=e[s],{time:c,pos:f}=e[a]);const h=c-i;return h?d+(f-d)*(t-i)/h:d}class dS extends Gh{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=th(n,this.min),this._tableRange=th(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,a=[],i=[];let c,d,f,h,p;for(c=0,d=t.length;c<d;++c)h=t[c],h>=n&&h<=s&&a.push(h);if(a.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(c=0,d=a.length;c<d;++c)p=a[c+1],f=a[c-1],h=a[c],Math.round((p+f)/2)!==h&&i.push({time:h,pos:c/(d-1)});return i}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((a,i)=>a-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(th(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return th(this._table,s*this._tableRange+this._minPos,!0)}}Et(dS,"id","timeseries"),Et(dS,"defaults",Gh.defaults);Ei.register(ux,dx,Eh,Ru,eB,lB,ZF);const xB=({className:e=""})=>l.jsx("div",{className:`inline-block animate-spin rounded-full border-4 border-gray-200 border-t-blue-600 h-6 w-6 ${e}`}),yB=()=>{const{allProjects:e,filteredData:t,selectedProject:n,selectedTeam:s,setSelectedProject:a,setSelectedTeam:i,isLoading:c}=g6();return c?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx(xB,{className:"h-12 w-12 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Đang tải dữ liệu..."})]})}):l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-800 text-center flex-1",children:"Bảng điều khiển quản lý dự án"}),l.jsx(P6,{projects:e,selectedProject:n,selectedTeam:s,onProjectChange:a,onTeamChange:i})]}),l.jsx(z6,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),l.jsx(F6,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),l.jsx(U6,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n})]})})},So=e=>e==null?"N/A":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(e);var dd=e=>e.type==="checkbox",Ao=e=>e instanceof Date,As=e=>e==null;const eT=e=>typeof e=="object";var qn=e=>!As(e)&&!Array.isArray(e)&&eT(e)&&!Ao(e),tT=e=>qn(e)&&e.target?dd(e.target)?e.target.checked:e.target.value:e,bB=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,nT=(e,t)=>e.has(bB(t)),vB=e=>{const t=e.constructor&&e.constructor.prototype;return qn(t)&&t.hasOwnProperty("isPrototypeOf")},Py=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function ss(e){let t;const n=Array.isArray(e),s=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Py&&(e instanceof Blob||s))&&(n||qn(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!vB(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=ss(e[a]));else return e;return t}var wm=e=>/^\w*$/.test(e),Vn=e=>e===void 0,Ly=e=>Array.isArray(e)?e.filter(Boolean):[],zy=e=>Ly(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ye=(e,t,n)=>{if(!t||!qn(e))return n;const s=(wm(t)?[t]:zy(t)).reduce((a,i)=>As(a)?a:a[i],e);return Vn(s)||s===e?Vn(e[t])?n:e[t]:s},nr=e=>typeof e=="boolean",vn=(e,t,n)=>{let s=-1;const a=wm(t)?[t]:zy(t),i=a.length,c=i-1;for(;++s<i;){const d=a[s];let f=n;if(s!==c){const h=e[d];f=qn(h)||Array.isArray(h)?h:isNaN(+a[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=f,e=e[d]}};const Kh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$r={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},sT=se.createContext(null);sT.displayName="HookFormContext";const Uy=()=>se.useContext(sT);var rT=(e,t,n,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const c=i;return t._proxyFormState[c]!==$r.all&&(t._proxyFormState[c]=!s||$r.all),n&&(n[c]=!0),e[c]}});return a};const Fy=typeof window!="undefined"?se.useLayoutEffect:se.useEffect;function wB(e){const t=Uy(),{control:n=t.control,disabled:s,name:a,exact:i}=e||{},[c,d]=se.useState(n._formState),f=se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Fy(()=>n._subscribe({name:a,formState:f.current,exact:i,callback:h=>{!s&&d(z(z({},n._formState),h))}}),[a,s,i]),se.useEffect(()=>{f.current.isValid&&n._setValid(!0)},[n]),se.useMemo(()=>rT(c,n,f.current,!1),[c,n])}var ca=e=>typeof e=="string",aT=(e,t,n,s,a)=>ca(e)?(s&&t.watch.add(e),Ye(n,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),Ye(n,i))):(s&&(t.watchAll=!0),n),fx=e=>As(e)||!eT(e);function qa(e,t,n=new WeakSet){if(fx(e)||fx(t))return e===t;if(Ao(e)&&Ao(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of s){const c=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const d=t[i];if(Ao(c)&&Ao(d)||qn(c)&&qn(d)||Array.isArray(c)&&Array.isArray(d)?!qa(c,d,n):c!==d)return!1}}return!0}function _B(e){const t=Uy(),{control:n=t.control,name:s,defaultValue:a,disabled:i,exact:c,compute:d}=e||{},f=se.useRef(a),h=se.useRef(d),p=se.useRef(void 0);h.current=d;const g=se.useMemo(()=>n._getWatch(s,f.current),[n,s]),[b,y]=se.useState(h.current?h.current(g):g);return Fy(()=>n._subscribe({name:s,formState:{values:!0},exact:c,callback:_=>{if(!i){const w=aT(s,n._names,_.values||n._formValues,!1,f.current);if(h.current){const N=h.current(w);qa(N,p.current)||(y(N),p.current=N)}else y(w)}}}),[n,i,s,c]),se.useEffect(()=>n._removeUnmounted()),b}function jB(e){const t=Uy(),{name:n,disabled:s,control:a=t.control,shouldUnregister:i,defaultValue:c}=e,d=nT(a._names.array,n),f=se.useMemo(()=>Ye(a._formValues,n,Ye(a._defaultValues,n,c)),[a,n,c]),h=_B({control:a,name:n,defaultValue:f,exact:!0}),p=wB({control:a,name:n,exact:!0}),g=se.useRef(e),b=se.useRef(a.register(n,z(oe(z({},e.rules),{value:h}),nr(e.disabled)?{disabled:e.disabled}:{})));g.current=e;const y=se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ye(p.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ye(p.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ye(p.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ye(p.validatingFields,n)},error:{enumerable:!0,get:()=>Ye(p.errors,n)}}),[p,n]),_=se.useCallback(D=>b.current.onChange({target:{value:tT(D),name:n},type:Kh.CHANGE}),[n]),w=se.useCallback(()=>b.current.onBlur({target:{value:Ye(a._formValues,n),name:n},type:Kh.BLUR}),[n,a._formValues]),N=se.useCallback(D=>{const A=Ye(a._fields,n);A&&D&&(A._f.ref={focus:()=>D.focus&&D.focus(),select:()=>D.select&&D.select(),setCustomValidity:C=>D.setCustomValidity(C),reportValidity:()=>D.reportValidity()})},[a._fields,n]),S=se.useMemo(()=>oe(z({name:n,value:h},nr(s)||p.disabled?{disabled:p.disabled||s}:{}),{onChange:_,onBlur:w,ref:N}),[n,s,p.disabled,_,w,N,h]);return se.useEffect(()=>{const D=a._options.shouldUnregister||i;a.register(n,z(z({},g.current.rules),nr(g.current.disabled)?{disabled:g.current.disabled}:{}));const A=(C,k)=>{const T=Ye(a._fields,C);T&&T._f&&(T._f.mount=k)};if(A(n,!0),D){const C=ss(Ye(a._options.defaultValues,n));vn(a._defaultValues,n,C),Vn(Ye(a._formValues,n))&&vn(a._formValues,n,C)}return!d&&a.register(n),()=>{(d?D&&!a._state.action:D)?a.unregister(n):A(n,!1)}},[n,a,d,i]),se.useEffect(()=>{a._setDisabledField({disabled:s,name:n})},[s,n,a]),se.useMemo(()=>({field:S,formState:p,fieldState:y}),[S,p,y])}const rr=e=>e.render(jB(e));var SB=(e,t,n,s,a)=>t?oe(z({},n[e]),{types:oe(z({},n[e]&&n[e].types?n[e].types:{}),{[s]:a||!0})}):{},Uu=e=>Array.isArray(e)?e:[e],fS=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},$s=e=>qn(e)&&!Object.keys(e).length,By=e=>e.type==="file",Hr=e=>typeof e=="function",Qh=e=>{if(!Py)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},iT=e=>e.type==="select-multiple",$y=e=>e.type==="radio",NB=e=>$y(e)||dd(e),m0=e=>Qh(e)&&e.isConnected;function EB(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=Vn(e)?s++:e[t[s++]];return e}function TB(e){for(const t in e)if(e.hasOwnProperty(t)&&!Vn(e[t]))return!1;return!0}function Gn(e,t){const n=Array.isArray(t)?t:wm(t)?[t]:zy(t),s=n.length===1?e:EB(e,n),a=n.length-1,i=n[a];return s&&delete s[i],a!==0&&(qn(s)&&$s(s)||Array.isArray(s)&&TB(s))&&Gn(e,n.slice(0,-1)),e}var oT=e=>{for(const t in e)if(Hr(e[t]))return!0;return!1};function Zh(e,t={}){const n=Array.isArray(e);if(qn(e)||n)for(const s in e)Array.isArray(e[s])||qn(e[s])&&!oT(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Zh(e[s],t[s])):As(e[s])||(t[s]=!0);return t}function lT(e,t,n){const s=Array.isArray(e);if(qn(e)||s)for(const a in e)Array.isArray(e[a])||qn(e[a])&&!oT(e[a])?Vn(t)||fx(n[a])?n[a]=Array.isArray(e[a])?Zh(e[a],[]):z({},Zh(e[a])):lT(e[a],As(t)?{}:t[a],n[a]):n[a]=!qa(e[a],t[a]);return n}var ju=(e,t)=>lT(e,t,Zh(t));const hS={value:!1,isValid:!1},mS={value:!0,isValid:!0};var cT=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Vn(e[0].attributes.value)?Vn(e[0].value)||e[0].value===""?mS:{value:e[0].value,isValid:!0}:mS:hS}return hS},uT=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>Vn(e)?e:t?e===""?NaN:e&&+e:n&&ca(e)?new Date(e):s?s(e):e;const pS={isValid:!1,value:null};var dT=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,pS):pS;function gS(e){const t=e.ref;return By(t)?t.files:$y(t)?dT(e.refs).value:iT(t)?[...t.selectedOptions].map(({value:n})=>n):dd(t)?cT(e.refs).value:uT(Vn(t.value)?e.ref.value:t.value,e)}var CB=(e,t,n,s)=>{const a={};for(const i of e){const c=Ye(t,i);c&&vn(a,i,c._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:s}},Jh=e=>e instanceof RegExp,Su=e=>Vn(e)?e:Jh(e)?e.source:qn(e)?Jh(e.value)?e.value.source:e.value:e,xS=e=>({isOnSubmit:!e||e===$r.onSubmit,isOnBlur:e===$r.onBlur,isOnChange:e===$r.onChange,isOnAll:e===$r.all,isOnTouch:e===$r.onTouched});const yS="AsyncFunction";var kB=e=>!!e&&!!e.validate&&!!(Hr(e.validate)&&e.validate.constructor.name===yS||qn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===yS)),OB=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),bS=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Fu=(e,t,n,s)=>{for(const i of n||Object.keys(e)){const c=Ye(e,i);if(c){const a=c,{_f:d}=a,f=Ae(a,["_f"]);if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],i)&&!s)return!0;if(d.ref&&t(d.ref,d.name)&&!s)return!0;if(Fu(f,t))break}else if(qn(f)&&Fu(f,t))break}}};function vS(e,t,n){const s=Ye(e,n);if(s||wm(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const i=a.join("."),c=Ye(t,i),d=Ye(e,i);if(c&&!Array.isArray(c)&&n!==i)return{name:n};if(d&&d.type)return{name:i,error:d};if(d&&d.root&&d.root.type)return{name:`${i}.root`,error:d.root};a.pop()}return{name:n}}var AB=(e,t,n,s)=>{n(e);const c=e,{name:a}=c,i=Ae(c,["name"]);return $s(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(d=>t[d]===(!s||$r.all))},DB=(e,t,n)=>!e||!t||e===t||Uu(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),RB=(e,t,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?s.isOnBlur:a.isOnBlur)?!e:(n?s.isOnChange:a.isOnChange)?e:!0,MB=(e,t)=>!Ly(Ye(e,t)).length&&Gn(e,t),PB=(e,t,n)=>{const s=Uu(Ye(e,n));return vn(s,"root",t[n]),vn(e,n,s),e},Th=e=>ca(e);function wS(e,t,n="validate"){if(Th(e)||Array.isArray(e)&&e.every(Th)||nr(e)&&!e)return{type:n,message:Th(e)?e:"",ref:t}}var zl=e=>qn(e)&&!Jh(e)?e:{value:e,message:""},_S=(e,t,n,s,a,i)=>ge(null,null,function*(){const{ref:c,refs:d,required:f,maxLength:h,minLength:p,min:g,max:b,pattern:y,validate:_,name:w,valueAsNumber:N,mount:S}=e._f,D=Ye(n,w);if(!S||t.has(w))return{};const A=d?d[0]:c,C=K=>{a&&A.reportValidity&&(A.setCustomValidity(nr(K)?"":K||""),A.reportValidity())},k={},T=$y(c),R=dd(c),P=T||R,U=(N||By(c))&&Vn(c.value)&&Vn(D)||Qh(c)&&c.value===""||D===""||Array.isArray(D)&&!D.length,X=SB.bind(null,w,s,k),H=(K,Y,te,W=Fa.maxLength,V=Fa.minLength)=>{const Q=K?Y:te;k[w]=z({type:K?W:V,message:Q,ref:c},X(K?W:V,Q))};if(i?!Array.isArray(D)||!D.length:f&&(!P&&(U||As(D))||nr(D)&&!D||R&&!cT(d).isValid||T&&!dT(d).isValid)){const{value:K,message:Y}=Th(f)?{value:!!f,message:f}:zl(f);if(K&&(k[w]=z({type:Fa.required,message:Y,ref:A},X(Fa.required,Y)),!s))return C(Y),k}if(!U&&(!As(g)||!As(b))){let K,Y;const te=zl(b),W=zl(g);if(!As(D)&&!isNaN(D)){const V=c.valueAsNumber||D&&+D;As(te.value)||(K=V>te.value),As(W.value)||(Y=V<W.value)}else{const V=c.valueAsDate||new Date(D),Q=L=>new Date(new Date().toDateString()+" "+L),ee=c.type=="time",ce=c.type=="week";ca(te.value)&&D&&(K=ee?Q(D)>Q(te.value):ce?D>te.value:V>new Date(te.value)),ca(W.value)&&D&&(Y=ee?Q(D)<Q(W.value):ce?D<W.value:V<new Date(W.value))}if((K||Y)&&(H(!!K,te.message,W.message,Fa.max,Fa.min),!s))return C(k[w].message),k}if((h||p)&&!U&&(ca(D)||i&&Array.isArray(D))){const K=zl(h),Y=zl(p),te=!As(K.value)&&D.length>+K.value,W=!As(Y.value)&&D.length<+Y.value;if((te||W)&&(H(te,K.message,Y.message),!s))return C(k[w].message),k}if(y&&!U&&ca(D)){const{value:K,message:Y}=zl(y);if(Jh(K)&&!D.match(K)&&(k[w]=z({type:Fa.pattern,message:Y,ref:c},X(Fa.pattern,Y)),!s))return C(Y),k}if(_){if(Hr(_)){const K=yield _(D,n),Y=wS(K,A);if(Y&&(k[w]=z(z({},Y),X(Fa.validate,Y.message)),!s))return C(Y.message),k}else if(qn(_)){let K={};for(const Y in _){if(!$s(K)&&!s)break;const te=wS(yield _[Y](D,n),A,Y);te&&(K=z(z({},te),X(Y,te.message)),C(te.message),s&&(k[w]=K))}if(!$s(K)&&(k[w]=z({ref:A},K),!s))return k}}return C(!0),k});const LB={mode:$r.onSubmit,reValidateMode:$r.onChange,shouldFocusError:!0};function zB(e={}){let t=z(z({},LB),e),n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Hr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=qn(t.defaultValues)||qn(t.values)?ss(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:ss(a),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g=z({},p);const b={array:fS(),state:fS()},y=t.criteriaMode===$r.all,_=G=>de=>{clearTimeout(h),h=setTimeout(G,de)},w=G=>ge(null,null,function*(){if(!t.disabled&&(p.isValid||g.isValid||G)){const de=t.resolver?$s((yield R()).errors):yield U(s,!0);de!==n.isValid&&b.state.next({isValid:de})}}),N=(G,de)=>{!t.disabled&&(p.isValidating||p.validatingFields||g.isValidating||g.validatingFields)&&((G||Array.from(d.mount)).forEach(q=>{q&&(de?vn(n.validatingFields,q,de):Gn(n.validatingFields,q))}),b.state.next({validatingFields:n.validatingFields,isValidating:!$s(n.validatingFields)}))},S=(G,de=[],q,Se,Me=!0,Re=!0)=>{if(Se&&q&&!t.disabled){if(c.action=!0,Re&&Array.isArray(Ye(s,G))){const $e=q(Ye(s,G),Se.argA,Se.argB);Me&&vn(s,G,$e)}if(Re&&Array.isArray(Ye(n.errors,G))){const $e=q(Ye(n.errors,G),Se.argA,Se.argB);Me&&vn(n.errors,G,$e),MB(n.errors,G)}if((p.touchedFields||g.touchedFields)&&Re&&Array.isArray(Ye(n.touchedFields,G))){const $e=q(Ye(n.touchedFields,G),Se.argA,Se.argB);Me&&vn(n.touchedFields,G,$e)}(p.dirtyFields||g.dirtyFields)&&(n.dirtyFields=ju(a,i)),b.state.next({name:G,isDirty:H(G,de),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else vn(i,G,de)},D=(G,de)=>{vn(n.errors,G,de),b.state.next({errors:n.errors})},A=G=>{n.errors=G,b.state.next({errors:n.errors,isValid:!1})},C=(G,de,q,Se)=>{const Me=Ye(s,G);if(Me){const Re=Ye(i,G,Vn(q)?Ye(a,G):q);Vn(Re)||Se&&Se.defaultChecked||de?vn(i,G,de?Re:gS(Me._f)):te(G,Re),c.mount&&w()}},k=(G,de,q,Se,Me)=>{let Re=!1,$e=!1;const Xe={name:G};if(!t.disabled){if(!q||Se){(p.isDirty||g.isDirty)&&($e=n.isDirty,n.isDirty=Xe.isDirty=H(),Re=$e!==Xe.isDirty);const Qe=qa(Ye(a,G),de);$e=!!Ye(n.dirtyFields,G),Qe?Gn(n.dirtyFields,G):vn(n.dirtyFields,G,!0),Xe.dirtyFields=n.dirtyFields,Re=Re||(p.dirtyFields||g.dirtyFields)&&$e!==!Qe}if(q){const Qe=Ye(n.touchedFields,G);Qe||(vn(n.touchedFields,G,q),Xe.touchedFields=n.touchedFields,Re=Re||(p.touchedFields||g.touchedFields)&&Qe!==q)}Re&&Me&&b.state.next(Xe)}return Re?Xe:{}},T=(G,de,q,Se)=>{const Me=Ye(n.errors,G),Re=(p.isValid||g.isValid)&&nr(de)&&n.isValid!==de;if(t.delayError&&q?(f=_(()=>D(G,q)),f(t.delayError)):(clearTimeout(h),f=null,q?vn(n.errors,G,q):Gn(n.errors,G)),(q?!qa(Me,q):Me)||!$s(Se)||Re){const $e=oe(z(z({},Se),Re&&nr(de)?{isValid:de}:{}),{errors:n.errors,name:G});n=z(z({},n),$e),b.state.next($e)}},R=G=>ge(null,null,function*(){N(G,!0);const de=yield t.resolver(i,t.context,CB(G||d.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return N(G),de}),P=G=>ge(null,null,function*(){const{errors:de}=yield R(G);if(G)for(const q of G){const Se=Ye(de,q);Se?vn(n.errors,q,Se):Gn(n.errors,q)}else n.errors=de;return de}),U=(Se,Me,...Re)=>ge(null,[Se,Me,...Re],function*(G,de,q={valid:!0}){for(const Xe in G){const Qe=G[Xe];if(Qe){const $e=Qe,{_f:vt}=$e,wn=Ae($e,["_f"]);if(vt){const Jt=d.array.has(vt.name),sn=Qe._f&&kB(Qe._f);sn&&p.validatingFields&&N([Xe],!0);const xn=yield _S(Qe,d.disabled,i,y,t.shouldUseNativeValidation&&!de,Jt);if(sn&&p.validatingFields&&N([Xe]),xn[vt.name]&&(q.valid=!1,de))break;!de&&(Ye(xn,vt.name)?Jt?PB(n.errors,xn,vt.name):vn(n.errors,vt.name,xn[vt.name]):Gn(n.errors,vt.name))}!$s(wn)&&(yield U(wn,de,q))}}return q.valid}),X=()=>{for(const G of d.unMount){const de=Ye(s,G);de&&(de._f.refs?de._f.refs.every(q=>!m0(q)):!m0(de._f.ref))&&Ce(G)}d.unMount=new Set},H=(G,de)=>!t.disabled&&(G&&de&&vn(i,G,de),!qa(L(),a)),K=(G,de,q)=>aT(G,d,z({},c.mount?i:Vn(de)?a:ca(G)?{[G]:de}:de),q,de),Y=G=>Ly(Ye(c.mount?i:a,G,t.shouldUnregister?Ye(a,G,[]):[])),te=(G,de,q={})=>{const Se=Ye(s,G);let Me=de;if(Se){const Re=Se._f;Re&&(!Re.disabled&&vn(i,G,uT(de,Re)),Me=Qh(Re.ref)&&As(de)?"":de,iT(Re.ref)?[...Re.ref.options].forEach($e=>$e.selected=Me.includes($e.value)):Re.refs?dd(Re.ref)?Re.refs.forEach($e=>{(!$e.defaultChecked||!$e.disabled)&&(Array.isArray(Me)?$e.checked=!!Me.find(Xe=>Xe===$e.value):$e.checked=Me===$e.value||!!Me)}):Re.refs.forEach($e=>$e.checked=$e.value===Me):By(Re.ref)?Re.ref.value="":(Re.ref.value=Me,Re.ref.type||b.state.next({name:G,values:ss(i)})))}(q.shouldDirty||q.shouldTouch)&&k(G,Me,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&ce(G)},W=(G,de,q)=>{for(const Se in de){if(!de.hasOwnProperty(Se))return;const Me=de[Se],Re=G+"."+Se,$e=Ye(s,Re);(d.array.has(G)||qn(Me)||$e&&!$e._f)&&!Ao(Me)?W(Re,Me,q):te(Re,Me,q)}},V=(G,de,q={})=>{const Se=Ye(s,G),Me=d.array.has(G),Re=ss(de);vn(i,G,Re),Me?(b.array.next({name:G,values:ss(i)}),(p.isDirty||p.dirtyFields||g.isDirty||g.dirtyFields)&&q.shouldDirty&&b.state.next({name:G,dirtyFields:ju(a,i),isDirty:H(G,Re)})):Se&&!Se._f&&!As(Re)?W(G,Re,q):te(G,Re,q),bS(G,d)&&b.state.next(oe(z({},n),{name:G})),b.state.next({name:c.mount?G:void 0,values:ss(i)})},Q=G=>ge(null,null,function*(){c.mount=!0;const de=G.target;let q=de.name,Se=!0;const Me=Ye(s,q),Re=Qe=>{Se=Number.isNaN(Qe)||Ao(Qe)&&isNaN(Qe.getTime())||qa(Qe,Ye(i,q,Qe))},$e=xS(t.mode),Xe=xS(t.reValidateMode);if(Me){let Qe,vt;const wn=de.type?gS(Me._f):tT(G),Jt=G.type===Kh.BLUR||G.type===Kh.FOCUS_OUT,sn=!OB(Me._f)&&!t.resolver&&!Ye(n.errors,q)&&!Me._f.deps||RB(Jt,Ye(n.touchedFields,q),n.isSubmitted,Xe,$e),xn=bS(q,d,Jt);vn(i,q,wn),Jt?(!de||!de.readOnly)&&(Me._f.onBlur&&Me._f.onBlur(G),f&&f(0)):Me._f.onChange&&Me._f.onChange(G);const Fn=k(q,wn,Jt),Bn=!$s(Fn)||xn;if(!Jt&&b.state.next({name:q,type:G.type,values:ss(i)}),sn)return(p.isValid||g.isValid)&&(t.mode==="onBlur"?Jt&&w():Jt||w()),Bn&&b.state.next(z({name:q},xn?{}:Fn));if(!Jt&&xn&&b.state.next(z({},n)),t.resolver){const{errors:Dt}=yield R([q]);if(Re(wn),Se){const Ee=vS(n.errors,s,q),He=vS(Dt,s,Ee.name||q);Qe=He.error,q=He.name,vt=$s(Dt)}}else N([q],!0),Qe=(yield _S(Me,d.disabled,i,y,t.shouldUseNativeValidation))[q],N([q]),Re(wn),Se&&(Qe?vt=!1:(p.isValid||g.isValid)&&(vt=yield U(s,!0)));Se&&(Me._f.deps&&ce(Me._f.deps),T(q,vt,Qe,Fn))}}),ee=(G,de)=>{if(Ye(n.errors,de)&&G.focus)return G.focus(),1},ce=(q,...Se)=>ge(null,[q,...Se],function*(G,de={}){let Me,Re;const $e=Uu(G);if(t.resolver){const Xe=yield P(Vn(G)?G:$e);Me=$s(Xe),Re=G?!$e.some(Qe=>Ye(Xe,Qe)):Me}else G?(Re=(yield Promise.all($e.map(Xe=>ge(null,null,function*(){const Qe=Ye(s,Xe);return yield U(Qe&&Qe._f?{[Xe]:Qe}:Qe)})))).every(Boolean),!(!Re&&!n.isValid)&&w()):Re=Me=yield U(s);return b.state.next(oe(z(z({},!ca(G)||(p.isValid||g.isValid)&&Me!==n.isValid?{}:{name:G}),t.resolver||!G?{isValid:Me}:{}),{errors:n.errors})),de.shouldFocus&&!Re&&Fu(s,ee,G?$e:d.mount),Re}),L=G=>{const de=z({},c.mount?i:a);return Vn(G)?de:ca(G)?Ye(de,G):G.map(q=>Ye(de,q))},le=(G,de)=>({invalid:!!Ye((de||n).errors,G),isDirty:!!Ye((de||n).dirtyFields,G),error:Ye((de||n).errors,G),isValidating:!!Ye(n.validatingFields,G),isTouched:!!Ye((de||n).touchedFields,G)}),re=G=>{G&&Uu(G).forEach(de=>Gn(n.errors,de)),b.state.next({errors:G?n.errors:{}})},B=(G,de,q)=>{const Se=(Ye(s,G,{_f:{}})._f||{}).ref,vt=Ye(n.errors,G)||{},{ref:Re,message:$e,type:Xe}=vt,Qe=Ae(vt,["ref","message","type"]);vn(n.errors,G,oe(z(z({},Qe),de),{ref:Se})),b.state.next({name:G,errors:n.errors,isValid:!1}),q&&q.shouldFocus&&Se&&Se.focus&&Se.focus()},ne=(G,de)=>Hr(G)?b.state.subscribe({next:q=>"values"in q&&G(K(void 0,de),q)}):K(G,de,!0),ye=G=>b.state.subscribe({next:de=>{DB(G.name,de.name,G.exact)&&AB(de,G.formState||p,Nt,G.reRenderRoot)&&G.callback(oe(z(z({values:z({},i)},n),de),{defaultValues:a}))}}).unsubscribe,he=G=>(c.mount=!0,g=z(z({},g),G.formState),ye(oe(z({},G),{formState:g}))),Ce=(G,de={})=>{for(const q of G?Uu(G):d.mount)d.mount.delete(q),d.array.delete(q),de.keepValue||(Gn(s,q),Gn(i,q)),!de.keepError&&Gn(n.errors,q),!de.keepDirty&&Gn(n.dirtyFields,q),!de.keepTouched&&Gn(n.touchedFields,q),!de.keepIsValidating&&Gn(n.validatingFields,q),!t.shouldUnregister&&!de.keepDefaultValue&&Gn(a,q);b.state.next({values:ss(i)}),b.state.next(z(z({},n),de.keepDirty?{isDirty:H()}:{})),!de.keepIsValid&&w()},ke=({disabled:G,name:de})=>{(nr(G)&&c.mount||G||d.disabled.has(de))&&(G?d.disabled.add(de):d.disabled.delete(de))},We=(G,de={})=>{let q=Ye(s,G);const Se=nr(de.disabled)||nr(t.disabled);return vn(s,G,oe(z({},q||{}),{_f:z(oe(z({},q&&q._f?q._f:{ref:{name:G}}),{name:G,mount:!0}),de)})),d.mount.add(G),q?ke({disabled:nr(de.disabled)?de.disabled:t.disabled,name:G}):C(G,!0,de.value),oe(z(z({},Se?{disabled:de.disabled||t.disabled}:{}),t.progressive?{required:!!de.required,min:Su(de.min),max:Su(de.max),minLength:Su(de.minLength),maxLength:Su(de.maxLength),pattern:Su(de.pattern)}:{}),{name:G,onChange:Q,onBlur:Q,ref:Me=>{if(Me){We(G,de),q=Ye(s,G);const Re=Vn(Me.value)&&Me.querySelectorAll&&Me.querySelectorAll("input,select,textarea")[0]||Me,$e=NB(Re),Xe=q._f.refs||[];if($e?Xe.find(Qe=>Qe===Re):Re===q._f.ref)return;vn(s,G,{_f:z(z({},q._f),$e?{refs:[...Xe.filter(m0),Re,...Array.isArray(Ye(a,G))?[{}]:[]],ref:{type:Re.type,name:G}}:{ref:Re})}),C(G,!1,void 0,Re)}else q=Ye(s,G,{}),q._f&&(q._f.mount=!1),(t.shouldUnregister||de.shouldUnregister)&&!(nT(d.array,G)&&c.action)&&d.unMount.add(G)}})},Ue=()=>t.shouldFocusError&&Fu(s,ee,d.mount),qe=G=>{nr(G)&&(b.state.next({disabled:G}),Fu(s,(de,q)=>{const Se=Ye(s,q);Se&&(de.disabled=Se._f.disabled||G,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(Me=>{Me.disabled=Se._f.disabled||G}))},0,!1))},Ze=(G,de)=>q=>ge(null,null,function*(){let Se;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let Me=ss(i);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:Re,values:$e}=yield R();n.errors=Re,Me=ss($e)}else yield U(s);if(d.disabled.size)for(const Re of d.disabled)Gn(Me,Re);if(Gn(n.errors,"root"),$s(n.errors)){b.state.next({errors:{}});try{yield G(Me,q)}catch(Re){Se=Re}}else de&&(yield de(z({},n.errors),q)),Ue(),setTimeout(Ue);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$s(n.errors)&&!Se,submitCount:n.submitCount+1,errors:n.errors}),Se)throw Se}),st=(G,de={})=>{Ye(s,G)&&(Vn(de.defaultValue)?V(G,ss(Ye(a,G))):(V(G,de.defaultValue),vn(a,G,ss(de.defaultValue))),de.keepTouched||Gn(n.touchedFields,G),de.keepDirty||(Gn(n.dirtyFields,G),n.isDirty=de.defaultValue?H(G,ss(Ye(a,G))):H()),de.keepError||(Gn(n.errors,G),p.isValid&&w()),b.state.next(z({},n)))},Pe=(G,de={})=>{const q=G?ss(G):a,Se=ss(q),Me=$s(G),Re=Me?a:Se;if(de.keepDefaultValues||(a=q),!de.keepValues){if(de.keepDirtyValues){const $e=new Set([...d.mount,...Object.keys(ju(a,i))]);for(const Xe of Array.from($e))Ye(n.dirtyFields,Xe)?vn(Re,Xe,Ye(i,Xe)):V(Xe,Ye(Re,Xe))}else{if(Py&&Vn(G))for(const $e of d.mount){const Xe=Ye(s,$e);if(Xe&&Xe._f){const Qe=Array.isArray(Xe._f.refs)?Xe._f.refs[0]:Xe._f.ref;if(Qh(Qe)){const vt=Qe.closest("form");if(vt){vt.reset();break}}}}if(de.keepFieldsRef)for(const $e of d.mount)V($e,Ye(Re,$e));else s={}}i=t.shouldUnregister?de.keepDefaultValues?ss(a):{}:ss(Re),b.array.next({values:z({},Re)}),b.state.next({values:z({},Re)})}d={mount:de.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!p.isValid||!!de.keepIsValid||!!de.keepDirtyValues,c.watch=!!t.shouldUnregister,b.state.next({submitCount:de.keepSubmitCount?n.submitCount:0,isDirty:Me?!1:de.keepDirty?n.isDirty:!!(de.keepDefaultValues&&!qa(G,a)),isSubmitted:de.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Me?{}:de.keepDirtyValues?de.keepDefaultValues&&i?ju(a,i):n.dirtyFields:de.keepDefaultValues&&G?ju(a,G):de.keepDirty?n.dirtyFields:{},touchedFields:de.keepTouched?n.touchedFields:{},errors:de.keepErrors?n.errors:{},isSubmitSuccessful:de.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Tt=(G,de)=>Pe(Hr(G)?G(i):G,de),Yt=(G,de={})=>{const q=Ye(s,G),Se=q&&q._f;if(Se){const Me=Se.refs?Se.refs[0]:Se.ref;Me.focus&&(Me.focus(),de.shouldSelect&&Hr(Me.select)&&Me.select())}},Nt=G=>{n=z(z({},n),G)},jt={control:{register:We,unregister:Ce,getFieldState:le,handleSubmit:Ze,setError:B,_subscribe:ye,_runSchema:R,_focusError:Ue,_getWatch:K,_getDirty:H,_setValid:w,_setFieldArray:S,_setDisabledField:ke,_setErrors:A,_getFieldArray:Y,_reset:Pe,_resetDefaultValues:()=>Hr(t.defaultValues)&&t.defaultValues().then(G=>{Tt(G,t.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:X,_disableForm:qe,_subjects:b,_proxyFormState:p,get _fields(){return s},get _formValues(){return i},get _state(){return c},set _state(G){c=G},get _defaultValues(){return a},get _names(){return d},set _names(G){d=G},get _formState(){return n},get _options(){return t},set _options(G){t=z(z({},t),G)}},subscribe:he,trigger:ce,register:We,handleSubmit:Ze,watch:ne,setValue:V,getValues:L,reset:Tt,resetField:st,clearErrors:re,unregister:Ce,setError:B,setFocus:Yt,getFieldState:le};return oe(z({},jt),{formControl:jt})}function Bu(e={}){const t=se.useRef(void 0),n=se.useRef(void 0),[s,a]=se.useState({isDirty:!1,isValidating:!1,isLoading:Hr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Hr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=oe(z({},e.formControl),{formState:s}),e.defaultValues&&!Hr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const c=zB(e),{formControl:d}=c,f=Ae(c,["formControl"]);t.current=oe(z({},f),{formState:s})}const i=t.current.control;return i._options=e,Fy(()=>{const d=i._subscribe({formState:i._proxyFormState,callback:()=>a(z({},i._formState)),reRenderRoot:!0});return a(f=>oe(z({},f),{isReady:!0})),i._formState.isReady=!0,d},[i]),se.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),se.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),se.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),se.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),se.useEffect(()=>{if(i._proxyFormState.isDirty){const d=i._getDirty();d!==s.isDirty&&i._subjects.state.next({isDirty:d})}},[i,s.isDirty]),se.useEffect(()=>{e.values&&!qa(e.values,n.current)?(i._reset(e.values,z({keepFieldsRef:!0},i._options.resetOptions)),n.current=e.values,a(d=>z({},d))):i._resetDefaultValues()},[i,e.values]),se.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next(z({},i._formState))),i._removeUnmounted()}),t.current.formState=rT(s,i),t.current}const UB=0,FB=1,BB=2;var jS=Object.prototype.hasOwnProperty;function hx(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&hx(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(jS.call(e,n)&&++s&&!jS.call(t,n)||!(n in t)||!hx(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const No=new WeakMap,Ai=()=>{},Sr=Ai(),mx=Object,ua=e=>e===Sr,Eo=e=>typeof e=="function",_m=(e,t)=>z(z({},e),t),$B=e=>Eo(e.then),p0={},nh={},fT="undefined",Hy=typeof window!=fT,px=typeof document!=fT,HB=Hy&&"Deno"in window,VB=(e,t)=>{const n=No.get(e);return[()=>!ua(t)&&e.get(t)||p0,s=>{if(!ua(t)){const a=e.get(t);t in nh||(nh[t]=a),n[5](t,_m(a,s),a||p0)}},n[6],()=>!ua(t)&&t in nh?nh[t]:!ua(t)&&e.get(t)||p0]};let gx=!0;const IB=()=>gx,[xx,yx]=Hy&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ai,Ai],qB=()=>{const e=px&&document.visibilityState;return ua(e)||e!=="hidden"},WB=e=>(px&&document.addEventListener("visibilitychange",e),xx("focus",e),()=>{px&&document.removeEventListener("visibilitychange",e),yx("focus",e)}),YB=e=>{const t=()=>{gx=!0,e()},n=()=>{gx=!1};return xx("online",t),xx("offline",n),()=>{yx("online",t),yx("offline",n)}},XB={isOnline:IB,isVisible:qB},GB={initFocus:WB,initReconnect:YB};se.useId;const hT=!Hy||HB,g0=typeof navigator!="undefined"&&navigator.connection,SS=!hT&&g0&&(["slow-2g","2g"].includes(g0.effectiveType)||g0.saveData),sh=new WeakMap,KB=e=>mx.prototype.toString.call(e),x0=(e,t)=>e===`[object ${t}]`;let QB=0;const bx=e=>{const t=typeof e,n=KB(e),s=x0(n,"Date"),a=x0(n,"RegExp"),i=x0(n,"Object");let c,d;if(mx(e)===e&&!s&&!a){if(c=sh.get(e),c)return c;if(c=++QB+"~",sh.set(e,c),Array.isArray(e)){for(c="@",d=0;d<e.length;d++)c+=bx(e[d])+",";sh.set(e,c)}if(i){c="#";const f=mx.keys(e).sort();for(;!ua(d=f.pop());)ua(e[d])||(c+=d+":"+bx(e[d])+",");sh.set(e,c)}}else c=s?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return c},ZB=e=>{if(Eo(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?bx(e):"",[e,t]};let JB=0;const NS=()=>++JB;function e8(...e){return ge(this,null,function*(){const[t,n,s,a]=e,i=_m({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let c=i.populateCache;const d=i.rollbackOnError;let f=i.optimisticData;const h=b=>typeof d=="function"?d(b):d!==!1,p=i.throwOnError;if(Eo(n)){const b=n,y=[],_=t.keys();for(const w of _)!/^\$(inf|sub)\$/.test(w)&&b(t.get(w)._k)&&y.push(w);return Promise.all(y.map(g))}return g(n);function g(b){return ge(this,null,function*(){const[y]=ZB(b);if(!y)return;const[_,w]=VB(t,y),[N,S,D,A]=No.get(t),C=()=>{const te=N[y];return(Eo(i.revalidate)?i.revalidate(_().data,b):i.revalidate!==!1)&&(delete D[y],delete A[y],te&&te[0])?te[0](BB).then(()=>_().data):_().data};if(e.length<3)return C();let k=s,T,R=!1;const P=NS();S[y]=[P,0];const U=!ua(f),X=_(),H=X.data,K=X._c,Y=ua(K)?H:K;if(U&&(f=Eo(f)?f(Y,H):f,w({data:f,_c:Y})),Eo(k))try{k=k(Y)}catch(te){T=te,R=!0}if(k&&$B(k))if(k=yield k.catch(te=>{T=te,R=!0}),P!==S[y][0]){if(R)throw T;return k}else R&&U&&h(T)&&(c=!0,w({data:Y,_c:Sr}));if(c&&!R)if(Eo(c)){const te=c(k,Y);w({data:te,error:Sr,_c:Sr})}else w({data:k,error:Sr,_c:Sr});if(S[y][1]=NS(),Promise.resolve(C()).then(()=>{w({_c:Sr})}),R){if(p)throw T;return}return k})}})}const ES=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},t8=(e,t)=>{if(!No.has(e)){const n=_m(GB,t),s=Object.create(null),a=e8.bind(Sr,e);let i=Ai;const c=Object.create(null),d=(p,g)=>{const b=c[p]||[];return c[p]=b,b.push(g),()=>b.splice(b.indexOf(g),1)},f=(p,g,b)=>{e.set(p,g);const y=c[p];if(y)for(const _ of y)_(g,b)},h=()=>{if(!No.has(e)&&(No.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,f,d]),!hT)){const p=n.initFocus(setTimeout.bind(Sr,ES.bind(Sr,s,UB))),g=n.initReconnect(setTimeout.bind(Sr,ES.bind(Sr,s,FB)));i=()=>{p&&p(),g&&g(),No.delete(e)}}};return h(),[e,a,h,i]}return[e,No.get(e)[4]]},n8=(e,t,n,s,a)=>{const i=n.errorRetryCount,c=a.retryCount,d=~~((Math.random()+.5)*(1<<(c<8?c:8)))*n.errorRetryInterval;!ua(i)&&c>i||setTimeout(s,d,a)},s8=hx,[r8,Ql]=t8(new Map);_m({onLoadingSlow:Ai,onSuccess:Ai,onError:Ai,onErrorRetry:n8,onDiscarded:Ai,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:SS?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:SS?5e3:3e3,compare:s8,isPaused:()=>!1,cache:r8,mutate:Ql,fallback:{}},XB);j.createContext({});const TS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,CS=q2,a8=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return CS(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,c=Object.keys(a).map(h=>{const p=n==null?void 0:n[h],g=i==null?void 0:i[h];if(p===null)return null;const b=TS(p)||TS(g);return a[h][b]}),d=n&&Object.entries(n).reduce((h,p)=>{let[g,b]=p;return b===void 0||(h[g]=b),h},{}),f=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((h,p)=>{let _=p,{class:g,className:b}=_,y=Ae(_,["class","className"]);return Object.entries(y).every(w=>{let[N,S]=w;return Array.isArray(S)?S.includes(z(z({},i),d)[N]):z(z({},i),d)[N]===S})?[...h,g,b]:h},[]);return CS(e,c,f,n==null?void 0:n.class,n==null?void 0:n.className)},i8=a8("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ve(i){var c=i,{className:e,variant:t,size:n,asChild:s=!1}=c,a=Ae(c,["className","variant","size","asChild"]);const d=s?s3:"button";return l.jsx(d,z({"data-slot":"button",className:Tn(i8({variant:t,size:n,className:e}))},a))}var kS=1,o8=.9,l8=.8,c8=.17,y0=.1,b0=.999,u8=.9999,d8=.99,f8=/[\\\/_+.#"@\[\(\{&]/,h8=/[\\\/_+.#"@\[\(\{&]/g,m8=/[\s-]/,mT=/[\s-]/g;function vx(e,t,n,s,a,i,c){if(i===t.length)return a===e.length?kS:d8;var d=`${a},${i}`;if(c[d]!==void 0)return c[d];for(var f=s.charAt(i),h=n.indexOf(f,a),p=0,g,b,y,_;h>=0;)g=vx(e,t,n,s,h+1,i+1,c),g>p&&(h===a?g*=kS:f8.test(e.charAt(h-1))?(g*=l8,y=e.slice(a,h-1).match(h8),y&&a>0&&(g*=Math.pow(b0,y.length))):m8.test(e.charAt(h-1))?(g*=o8,_=e.slice(a,h-1).match(mT),_&&a>0&&(g*=Math.pow(b0,_.length))):(g*=c8,a>0&&(g*=Math.pow(b0,h-a))),e.charAt(h)!==t.charAt(i)&&(g*=u8)),(g<y0&&n.charAt(h-1)===s.charAt(i+1)||s.charAt(i+1)===s.charAt(i)&&n.charAt(h-1)!==s.charAt(i))&&(b=vx(e,t,n,s,h+1,i+2,c),b*y0>g&&(g=b*y0)),g>p&&(p=g),h=n.indexOf(f,h+1);return c[d]=p,p}function OS(e){return e.toLowerCase().replace(mT," ")}function p8(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,vx(e,t,OS(e),OS(t),0,0,{})}function Ri(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}var g8="DismissableLayer",wx="dismissableLayer.update",x8="dismissableLayer.pointerDownOutside",y8="dismissableLayer.focusOutside",AS,pT=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gT=j.forwardRef((e,t)=>{var P;const R=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:c,onDismiss:d}=R,f=Ae(R,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),h=j.useContext(pT),[p,g]=j.useState(null),b=(P=p==null?void 0:p.ownerDocument)!=null?P:globalThis==null?void 0:globalThis.document,[,y]=j.useState({}),_=Dn(t,U=>g(U)),w=Array.from(h.layers),[N]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),S=w.indexOf(N),D=p?w.indexOf(p):-1,A=h.layersWithOutsidePointerEventsDisabled.size>0,C=D>=S,k=w8(U=>{const X=U.target,H=[...h.branches].some(K=>K.contains(X));!C||H||(a==null||a(U),c==null||c(U),U.defaultPrevented||d==null||d())},b),T=_8(U=>{const X=U.target;[...h.branches].some(K=>K.contains(X))||(i==null||i(U),c==null||c(U),U.defaultPrevented||d==null||d())},b);return ty(U=>{D===h.layers.size-1&&(s==null||s(U),!U.defaultPrevented&&d&&(U.preventDefault(),d()))},b),j.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(AS=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),DS(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=AS)}},[p,b,n,h]),j.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),DS())},[p,h]),j.useEffect(()=>{const U=()=>y({});return document.addEventListener(wx,U),()=>document.removeEventListener(wx,U)},[]),l.jsx(Wt.div,oe(z({},f),{ref:_,style:z({pointerEvents:A?C?"auto":"none":void 0},e.style),onFocusCapture:Ri(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Ri(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Ri(e.onPointerDownCapture,k.onPointerDownCapture)}))});gT.displayName=g8;var b8="DismissableLayerBranch",v8=j.forwardRef((e,t)=>{const n=j.useContext(pT),s=j.useRef(null),a=Dn(t,s);return j.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(Wt.div,oe(z({},e),{ref:a}))});v8.displayName=b8;function w8(e,t=globalThis==null?void 0:globalThis.document){const n=ma(e),s=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=d=>{if(d.target&&!s.current){let f=function(){xT(x8,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function _8(e,t=globalThis==null?void 0:globalThis.document){const n=ma(e),s=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!s.current&&xT(y8,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function DS(){const e=new CustomEvent(wx);document.dispatchEvent(e)}function xT(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?ey(a,i):a.dispatchEvent(i)}function j8(e,t){return j.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var jm=e=>{const{present:t,children:n}=e,s=S8(t),a=typeof n=="function"?n({present:s.isPresent}):j.Children.only(n),i=Dn(s.ref,N8(a));return typeof n=="function"||s.isPresent?j.cloneElement(a,{ref:i}):null};jm.displayName="Presence";function S8(e){const[t,n]=j.useState(),s=j.useRef(null),a=j.useRef(e),i=j.useRef("none"),c=e?"mounted":"unmounted",[d,f]=j8(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const h=rh(s.current);i.current=d==="mounted"?h:"none"},[d]),Tr(()=>{const h=s.current,p=a.current;if(p!==e){const b=i.current,y=rh(h);e?f("MOUNT"):y==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&b!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Tr(()=>{var h;if(t){let p;const g=(h=t.ownerDocument.defaultView)!=null?h:window,b=_=>{const N=rh(s.current).includes(_.animationName);if(_.target===t&&N&&(f("ANIMATION_END"),!a.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},y=_=>{_.target===t&&(i.current=rh(s.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:j.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function rh(e){return(e==null?void 0:e.animationName)||"none"}function N8(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var v0=0;function E8(){j.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:RS()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:RS()),v0++,()=>{v0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),v0--}},[])}function RS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Sm="Dialog",[yT,E7]=sd(Sm),[T8,Wr]=yT(Sm),bT=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:c=!0}=e,d=j.useRef(null),f=j.useRef(null),[h,p]=mm({prop:s,defaultProp:a!=null?a:!1,onChange:i,caller:Sm});return l.jsx(T8,{scope:t,triggerRef:d,contentRef:f,contentId:ks(),titleId:ks(),descriptionId:ks(),open:h,onOpenChange:p,onOpenToggle:j.useCallback(()=>p(g=>!g),[p]),modal:c,children:n})};bT.displayName=Sm;var vT="DialogTrigger",C8=j.forwardRef((e,t)=>{const c=e,{__scopeDialog:n}=c,s=Ae(c,["__scopeDialog"]),a=Wr(vT,n),i=Dn(t,a.triggerRef);return l.jsx(Wt.button,oe(z({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":qy(a.open)},s),{ref:i,onClick:Ri(e.onClick,a.onOpenToggle)}))});C8.displayName=vT;var Vy="DialogPortal",[k8,wT]=yT(Vy,{forceMount:void 0}),_T=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=Wr(Vy,t);return l.jsx(k8,{scope:t,forceMount:n,children:j.Children.map(s,c=>l.jsx(jm,{present:n||i.open,children:l.jsx(id,{asChild:!0,container:a,children:c})}))})};_T.displayName=Vy;var em="DialogOverlay",jT=j.forwardRef((e,t)=>{const n=wT(em,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=Ae(c,["forceMount"]),i=Wr(em,e.__scopeDialog);return i.modal?l.jsx(jm,{present:s||i.open,children:l.jsx(A8,oe(z({},a),{ref:t}))}):null});jT.displayName=em;var O8=rc("DialogOverlay.RemoveScroll"),A8=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=Ae(i,["__scopeDialog"]),a=Wr(em,n);return l.jsx(od,{as:O8,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(Wt.div,oe(z({"data-state":qy(a.open)},s),{ref:t,style:z({pointerEvents:"auto"},s.style)}))})}),Fo="DialogContent",ST=j.forwardRef((e,t)=>{const n=wT(Fo,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=Ae(c,["forceMount"]),i=Wr(Fo,e.__scopeDialog);return l.jsx(jm,{present:s||i.open,children:i.modal?l.jsx(D8,oe(z({},a),{ref:t})):l.jsx(R8,oe(z({},a),{ref:t}))})});ST.displayName=Fo;var D8=j.forwardRef((e,t)=>{const n=Wr(Fo,e.__scopeDialog),s=j.useRef(null),a=Dn(t,n.contentRef,s);return j.useEffect(()=>{const i=s.current;if(i)return pm(i)},[]),l.jsx(NT,oe(z({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ri(e.onCloseAutoFocus,i=>{var c;i.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ri(e.onPointerDownOutside,i=>{const c=i.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&i.preventDefault()}),onFocusOutside:Ri(e.onFocusOutside,i=>i.preventDefault())}))}),R8=j.forwardRef((e,t)=>{const n=Wr(Fo,e.__scopeDialog),s=j.useRef(!1),a=j.useRef(!1);return l.jsx(NT,oe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,i),i.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),NT=j.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i}=p,c=Ae(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Wr(Fo,n),f=j.useRef(null),h=Dn(t,f);return E8(),l.jsxs(l.Fragment,{children:[l.jsx(rd,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:l.jsx(gT,oe(z({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":qy(d.open)},c),{ref:h,onDismiss:()=>d.onOpenChange(!1)}))}),l.jsxs(l.Fragment,{children:[l.jsx(z8,{titleId:d.titleId}),l.jsx(F8,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Iy="DialogTitle",M8=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=Ae(i,["__scopeDialog"]),a=Wr(Iy,n);return l.jsx(Wt.h2,oe(z({id:a.titleId},s),{ref:t}))});M8.displayName=Iy;var ET="DialogDescription",P8=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=Ae(i,["__scopeDialog"]),a=Wr(ET,n);return l.jsx(Wt.p,oe(z({id:a.descriptionId},s),{ref:t}))});P8.displayName=ET;var TT="DialogClose",L8=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=Ae(i,["__scopeDialog"]),a=Wr(TT,n);return l.jsx(Wt.button,oe(z({type:"button"},s),{ref:t,onClick:Ri(e.onClick,()=>a.onOpenChange(!1))}))});L8.displayName=TT;function qy(e){return e?"open":"closed"}var CT="DialogTitleWarning",[T7,kT]=Jx(CT,{contentName:Fo,titleName:Iy,docsSlug:"dialog"}),z8=({titleId:e})=>{const t=kT(CT),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},U8="DialogDescriptionWarning",F8=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kT(U8).contentName}}.`;return j.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},B8=bT,$8=_T,H8=jT,V8=ST,Nu='[cmdk-group=""]',w0='[cmdk-group-items=""]',I8='[cmdk-group-heading=""]',OT='[cmdk-item=""]',MS=`${OT}:not([aria-disabled="true"])`,_x="cmdk-item-select",$l="data-value",q8=(e,t,n)=>p8(e,t,n),AT=j.createContext(void 0),fd=()=>j.useContext(AT),DT=j.createContext(void 0),Wy=()=>j.useContext(DT),RT=j.createContext(void 0),MT=j.forwardRef((e,t)=>{let n=Hl(()=>{var B,ne;return{search:"",value:(ne=(B=e.value)!=null?B:e.defaultValue)!=null?ne:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=Hl(()=>new Set),a=Hl(()=>new Map),i=Hl(()=>new Map),c=Hl(()=>new Set),d=PT(e),re=e,{label:f,children:h,value:p,onValueChange:g,filter:b,shouldFilter:y,loop:_,disablePointerSelection:w=!1,vimBindings:N=!0}=re,S=Ae(re,["label","children","value","onValueChange","filter","shouldFilter","loop","disablePointerSelection","vimBindings"]),D=ks(),A=ks(),C=ks(),k=j.useRef(null),T=n$();Bo(()=>{if(p!==void 0){let B=p.trim();n.current.value=B,R.emit()}},[p]),Bo(()=>{T(6,Y)},[]);let R=j.useMemo(()=>({subscribe:B=>(c.current.add(B),()=>c.current.delete(B)),snapshot:()=>n.current,setState:(B,ne,ye)=>{var he,Ce,ke,We;if(!Object.is(n.current[B],ne)){if(n.current[B]=ne,B==="search")K(),X(),T(1,H);else if(B==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Ue=document.getElementById(C);Ue?Ue.focus():(he=document.getElementById(D))==null||he.focus()}if(T(7,()=>{var Ue;n.current.selectedItemId=(Ue=te())==null?void 0:Ue.id,R.emit()}),ye||T(5,Y),((Ce=d.current)==null?void 0:Ce.value)!==void 0){let Ue=ne!=null?ne:"";(We=(ke=d.current).onValueChange)==null||We.call(ke,Ue);return}}R.emit()}},emit:()=>{c.current.forEach(B=>B())}}),[]),P=j.useMemo(()=>({value:(B,ne,ye)=>{var he;ne!==((he=i.current.get(B))==null?void 0:he.value)&&(i.current.set(B,{value:ne,keywords:ye}),n.current.filtered.items.set(B,U(ne,ye)),T(2,()=>{X(),R.emit()}))},item:(B,ne)=>(s.current.add(B),ne&&(a.current.has(ne)?a.current.get(ne).add(B):a.current.set(ne,new Set([B]))),T(3,()=>{K(),X(),n.current.value||H(),R.emit()}),()=>{i.current.delete(B),s.current.delete(B),n.current.filtered.items.delete(B);let ye=te();T(4,()=>{K(),(ye==null?void 0:ye.getAttribute("id"))===B&&H(),R.emit()})}),group:B=>(a.current.has(B)||a.current.set(B,new Set),()=>{i.current.delete(B),a.current.delete(B)}),filter:()=>d.current.shouldFilter,label:f||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:D,inputId:C,labelId:A,listInnerRef:k}),[]);function U(B,ne){var ye,he;let Ce=(he=(ye=d.current)==null?void 0:ye.filter)!=null?he:q8;return B?Ce(B,n.current.search,ne):0}function X(){if(!n.current.search||d.current.shouldFilter===!1)return;let B=n.current.filtered.items,ne=[];n.current.filtered.groups.forEach(he=>{let Ce=a.current.get(he),ke=0;Ce.forEach(We=>{let Ue=B.get(We);ke=Math.max(Ue,ke)}),ne.push([he,ke])});let ye=k.current;W().sort((he,Ce)=>{var ke,We;let Ue=he.getAttribute("id"),qe=Ce.getAttribute("id");return((ke=B.get(qe))!=null?ke:0)-((We=B.get(Ue))!=null?We:0)}).forEach(he=>{let Ce=he.closest(w0);Ce?Ce.appendChild(he.parentElement===Ce?he:he.closest(`${w0} > *`)):ye.appendChild(he.parentElement===ye?he:he.closest(`${w0} > *`))}),ne.sort((he,Ce)=>Ce[1]-he[1]).forEach(he=>{var Ce;let ke=(Ce=k.current)==null?void 0:Ce.querySelector(`${Nu}[${$l}="${encodeURIComponent(he[0])}"]`);ke==null||ke.parentElement.appendChild(ke)})}function H(){let B=W().find(ye=>ye.getAttribute("aria-disabled")!=="true"),ne=B==null?void 0:B.getAttribute($l);R.setState("value",ne||void 0)}function K(){var B,ne,ye,he;if(!n.current.search||d.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let Ce=0;for(let ke of s.current){let We=(ne=(B=i.current.get(ke))==null?void 0:B.value)!=null?ne:"",Ue=(he=(ye=i.current.get(ke))==null?void 0:ye.keywords)!=null?he:[],qe=U(We,Ue);n.current.filtered.items.set(ke,qe),qe>0&&Ce++}for(let[ke,We]of a.current)for(let Ue of We)if(n.current.filtered.items.get(Ue)>0){n.current.filtered.groups.add(ke);break}n.current.filtered.count=Ce}function Y(){var B,ne,ye;let he=te();he&&(((B=he.parentElement)==null?void 0:B.firstChild)===he&&((ye=(ne=he.closest(Nu))==null?void 0:ne.querySelector(I8))==null||ye.scrollIntoView({block:"nearest"})),he.scrollIntoView({block:"nearest"}))}function te(){var B;return(B=k.current)==null?void 0:B.querySelector(`${OT}[aria-selected="true"]`)}function W(){var B;return Array.from(((B=k.current)==null?void 0:B.querySelectorAll(MS))||[])}function V(B){let ne=W()[B];ne&&R.setState("value",ne.getAttribute($l))}function Q(B){var ne;let ye=te(),he=W(),Ce=he.findIndex(We=>We===ye),ke=he[Ce+B];(ne=d.current)!=null&&ne.loop&&(ke=Ce+B<0?he[he.length-1]:Ce+B===he.length?he[0]:he[Ce+B]),ke&&R.setState("value",ke.getAttribute($l))}function ee(B){let ne=te(),ye=ne==null?void 0:ne.closest(Nu),he;for(;ye&&!he;)ye=B>0?e$(ye,Nu):t$(ye,Nu),he=ye==null?void 0:ye.querySelector(MS);he?R.setState("value",he.getAttribute($l)):Q(B)}let ce=()=>V(W().length-1),L=B=>{B.preventDefault(),B.metaKey?ce():B.altKey?ee(1):Q(1)},le=B=>{B.preventDefault(),B.metaKey?V(0):B.altKey?ee(-1):Q(-1)};return j.createElement(Wt.div,oe(z({ref:t,tabIndex:-1},S),{"cmdk-root":"",onKeyDown:B=>{var ne;(ne=S.onKeyDown)==null||ne.call(S,B);let ye=B.nativeEvent.isComposing||B.keyCode===229;if(!(B.defaultPrevented||ye))switch(B.key){case"n":case"j":{N&&B.ctrlKey&&L(B);break}case"ArrowDown":{L(B);break}case"p":case"k":{N&&B.ctrlKey&&le(B);break}case"ArrowUp":{le(B);break}case"Home":{B.preventDefault(),V(0);break}case"End":{B.preventDefault(),ce();break}case"Enter":{B.preventDefault();let he=te();if(he){let Ce=new Event(_x);he.dispatchEvent(Ce)}}}}}),j.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:r$},f),Nm(e,B=>j.createElement(DT.Provider,{value:R},j.createElement(AT.Provider,{value:P},B))))}),W8=j.forwardRef((e,t)=>{var n,s;let a=ks(),i=j.useRef(null),c=j.useContext(RT),d=fd(),f=PT(e),h=(s=(n=f.current)==null?void 0:n.forceMount)!=null?s:c==null?void 0:c.forceMount;Bo(()=>{if(!h)return d.item(a,c==null?void 0:c.id)},[h]);let p=LT(a,i,[e.value,e.children,i],e.keywords),g=Wy(),b=Fi(R=>R.value&&R.value===p.current),y=Fi(R=>h||d.filter()===!1?!0:R.search?R.filtered.items.get(a)>0:!0);j.useEffect(()=>{let R=i.current;if(!(!R||e.disabled))return R.addEventListener(_x,_),()=>R.removeEventListener(_x,_)},[y,e.onSelect,e.disabled]);function _(){var R,P;w(),(P=(R=f.current).onSelect)==null||P.call(R,p.current)}function w(){g.setState("value",p.current,!0)}if(!y)return null;let T=e,{disabled:N,value:S,onSelect:D,forceMount:A,keywords:C}=T,k=Ae(T,["disabled","value","onSelect","forceMount","keywords"]);return j.createElement(Wt.div,oe(z({ref:Lo(i,t)},k),{id:a,"cmdk-item":"",role:"option","aria-disabled":!!N,"aria-selected":!!b,"data-disabled":!!N,"data-selected":!!b,onPointerMove:N||d.getDisablePointerSelection()?void 0:w,onClick:N?void 0:_}),e.children)}),Y8=j.forwardRef((e,t)=>{let y=e,{heading:n,children:s,forceMount:a}=y,i=Ae(y,["heading","children","forceMount"]),c=ks(),d=j.useRef(null),f=j.useRef(null),h=ks(),p=fd(),g=Fi(_=>a||p.filter()===!1?!0:_.search?_.filtered.groups.has(c):!0);Bo(()=>p.group(c),[]),LT(c,d,[e.value,e.heading,f]);let b=j.useMemo(()=>({id:c,forceMount:a}),[a]);return j.createElement(Wt.div,oe(z({ref:Lo(d,t)},i),{"cmdk-group":"",role:"presentation",hidden:g?void 0:!0}),n&&j.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),Nm(e,_=>j.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},j.createElement(RT.Provider,{value:b},_))))}),X8=j.forwardRef((e,t)=>{let c=e,{alwaysRender:n}=c,s=Ae(c,["alwaysRender"]),a=j.useRef(null),i=Fi(d=>!d.search);return!n&&!i?null:j.createElement(Wt.div,oe(z({ref:Lo(a,t)},s),{"cmdk-separator":"",role:"separator"}))}),G8=j.forwardRef((e,t)=>{let h=e,{onValueChange:n}=h,s=Ae(h,["onValueChange"]),a=e.value!=null,i=Wy(),c=Fi(p=>p.search),d=Fi(p=>p.selectedItemId),f=fd();return j.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),j.createElement(Wt.input,oe(z({ref:t},s),{"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":d,id:f.inputId,type:"text",value:a?e.value:c,onChange:p=>{a||i.setState("search",p.target.value),n==null||n(p.target.value)}}))}),K8=j.forwardRef((e,t)=>{let h=e,{children:n,label:s="Suggestions"}=h,a=Ae(h,["children","label"]),i=j.useRef(null),c=j.useRef(null),d=Fi(p=>p.selectedItemId),f=fd();return j.useEffect(()=>{if(c.current&&i.current){let p=c.current,g=i.current,b,y=new ResizeObserver(()=>{b=requestAnimationFrame(()=>{let _=p.offsetHeight;g.style.setProperty("--cmdk-list-height",_.toFixed(1)+"px")})});return y.observe(p),()=>{cancelAnimationFrame(b),y.unobserve(p)}}},[]),j.createElement(Wt.div,oe(z({ref:Lo(i,t)},a),{"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":s,id:f.listId}),Nm(e,p=>j.createElement("div",{ref:Lo(c,f.listInnerRef),"cmdk-list-sizer":""},p)))}),Q8=j.forwardRef((e,t)=>{let f=e,{open:n,onOpenChange:s,overlayClassName:a,contentClassName:i,container:c}=f,d=Ae(f,["open","onOpenChange","overlayClassName","contentClassName","container"]);return j.createElement(B8,{open:n,onOpenChange:s},j.createElement($8,{container:c},j.createElement(H8,{"cmdk-overlay":"",className:a}),j.createElement(V8,{"aria-label":e.label,"cmdk-dialog":"",className:i},j.createElement(MT,z({ref:t},d)))))}),Z8=j.forwardRef((e,t)=>Fi(n=>n.filtered.count===0)?j.createElement(Wt.div,oe(z({ref:t},e),{"cmdk-empty":"",role:"presentation"})):null),J8=j.forwardRef((e,t)=>{let c=e,{progress:n,children:s,label:a="Loading..."}=c,i=Ae(c,["progress","children","label"]);return j.createElement(Wt.div,oe(z({ref:t},i),{"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a}),Nm(e,d=>j.createElement("div",{"aria-hidden":!0},d)))}),hc=Object.assign(MT,{List:K8,Item:W8,Input:G8,Group:Y8,Separator:X8,Dialog:Q8,Empty:Z8,Loading:J8});function e$(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function t$(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function PT(e){let t=j.useRef(e);return Bo(()=>{t.current=e}),t}var Bo=typeof window=="undefined"?j.useEffect:j.useLayoutEffect;function Hl(e){let t=j.useRef();return t.current===void 0&&(t.current=e()),t}function Fi(e){let t=Wy(),n=()=>e(t.snapshot());return j.useSyncExternalStore(t.subscribe,n,n)}function LT(e,t,n,s=[]){let a=j.useRef(),i=fd();return Bo(()=>{var c;let d=(()=>{var h;for(let p of n){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(h=p.current.textContent)==null?void 0:h.trim():a.current}})(),f=s.map(h=>h.trim());i.value(e,d,f),(c=t.current)==null||c.setAttribute($l,d),a.current=d}),a}var n$=()=>{let[e,t]=j.useState(),n=Hl(()=>new Map);return Bo(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,a)=>{n.current.set(s,a),t({})}};function s$(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Nm({asChild:e,children:t},n){return e&&j.isValidElement(t)?j.cloneElement(s$(t),{ref:t.ref},n(t.props.children)):n(t)}var r$={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},Em="Dialog",[zT,C7]=sd(Em),[a$,Yr]=zT(Em),UT=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:c=!0}=e,d=j.useRef(null),f=j.useRef(null),[h,p]=mm({prop:s,defaultProp:a!=null?a:!1,onChange:i,caller:Em});return l.jsx(a$,{scope:t,triggerRef:d,contentRef:f,contentId:ks(),titleId:ks(),descriptionId:ks(),open:h,onOpenChange:p,onOpenToggle:j.useCallback(()=>p(g=>!g),[p]),modal:c,children:n})};UT.displayName=Em;var FT="DialogTrigger",BT=j.forwardRef((e,t)=>{const c=e,{__scopeDialog:n}=c,s=Ae(c,["__scopeDialog"]),a=Yr(FT,n),i=Dn(t,a.triggerRef);return l.jsx(Wt.button,oe(z({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Gy(a.open)},s),{ref:i,onClick:ir(e.onClick,a.onOpenToggle)}))});BT.displayName=FT;var Yy="DialogPortal",[i$,$T]=zT(Yy,{forceMount:void 0}),HT=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=Yr(Yy,t);return l.jsx(i$,{scope:t,forceMount:n,children:j.Children.map(s,c=>l.jsx(oc,{present:n||i.open,children:l.jsx(id,{asChild:!0,container:a,children:c})}))})};HT.displayName=Yy;var tm="DialogOverlay",VT=j.forwardRef((e,t)=>{const n=$T(tm,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=Ae(c,["forceMount"]),i=Yr(tm,e.__scopeDialog);return i.modal?l.jsx(oc,{present:s||i.open,children:l.jsx(l$,oe(z({},a),{ref:t}))}):null});VT.displayName=tm;var o$=rc("DialogOverlay.RemoveScroll"),l$=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=Ae(i,["__scopeDialog"]),a=Yr(tm,n);return l.jsx(od,{as:o$,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(Wt.div,oe(z({"data-state":Gy(a.open)},s),{ref:t,style:z({pointerEvents:"auto"},s.style)}))})}),$o="DialogContent",IT=j.forwardRef((e,t)=>{const n=$T($o,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=Ae(c,["forceMount"]),i=Yr($o,e.__scopeDialog);return l.jsx(oc,{present:s||i.open,children:i.modal?l.jsx(c$,oe(z({},a),{ref:t})):l.jsx(u$,oe(z({},a),{ref:t}))})});IT.displayName=$o;var c$=j.forwardRef((e,t)=>{const n=Yr($o,e.__scopeDialog),s=j.useRef(null),a=Dn(t,n.contentRef,s);return j.useEffect(()=>{const i=s.current;if(i)return pm(i)},[]),l.jsx(qT,oe(z({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ir(e.onCloseAutoFocus,i=>{var c;i.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:ir(e.onPointerDownOutside,i=>{const c=i.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&i.preventDefault()}),onFocusOutside:ir(e.onFocusOutside,i=>i.preventDefault())}))}),u$=j.forwardRef((e,t)=>{const n=Yr($o,e.__scopeDialog),s=j.useRef(!1),a=j.useRef(!1);return l.jsx(qT,oe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,i),i.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),qT=j.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i}=p,c=Ae(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Yr($o,n),f=j.useRef(null),h=Dn(t,f);return t2(),l.jsxs(l.Fragment,{children:[l.jsx(rd,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:l.jsx(ny,oe(z({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Gy(d.open)},c),{ref:h,onDismiss:()=>d.onOpenChange(!1)}))}),l.jsxs(l.Fragment,{children:[l.jsx(d$,{titleId:d.titleId}),l.jsx(h$,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Xy="DialogTitle",WT=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=Ae(i,["__scopeDialog"]),a=Yr(Xy,n);return l.jsx(Wt.h2,oe(z({id:a.titleId},s),{ref:t}))});WT.displayName=Xy;var YT="DialogDescription",XT=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=Ae(i,["__scopeDialog"]),a=Yr(YT,n);return l.jsx(Wt.p,oe(z({id:a.descriptionId},s),{ref:t}))});XT.displayName=YT;var GT="DialogClose",KT=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=Ae(i,["__scopeDialog"]),a=Yr(GT,n);return l.jsx(Wt.button,oe(z({type:"button"},s),{ref:t,onClick:ir(e.onClick,()=>a.onOpenChange(!1))}))});KT.displayName=GT;function Gy(e){return e?"open":"closed"}var QT="DialogTitleWarning",[k7,ZT]=Jx(QT,{contentName:$o,titleName:Xy,docsSlug:"dialog"}),d$=({titleId:e})=>{const t=ZT(QT),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},f$="DialogDescriptionWarning",h$=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ZT(f$).contentName}}.`;return j.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},m$=UT,p$=BT,g$=HT,x$=VT,y$=IT,b$=WT,v$=XT,JT=KT;function as(t){var e=Ae(t,[]);return l.jsx(m$,z({"data-slot":"dialog"},e))}function w$(t){var e=Ae(t,[]);return l.jsx(p$,z({"data-slot":"dialog-trigger"},e))}function _$(t){var e=Ae(t,[]);return l.jsx(g$,z({"data-slot":"dialog-portal"},e))}function j$(t){var e=Ae(t,[]);return l.jsx(JT,z({"data-slot":"dialog-close"},e))}function S$(n){var s=n,{className:e}=s,t=Ae(s,["className"]);return l.jsx(x$,z({"data-slot":"dialog-overlay",className:Tn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function is(a){var i=a,{className:e,children:t,showCloseButton:n=!0}=i,s=Ae(i,["className","children","showCloseButton"]);return l.jsxs(_$,{"data-slot":"dialog-portal",children:[l.jsx(S$,{}),l.jsxs(y$,oe(z({"data-slot":"dialog-content",className:Tn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e)},s),{children:[t,n&&l.jsxs(JT,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(e3,{}),l.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}function os(n){var s=n,{className:e}=s,t=Ae(s,["className"]);return l.jsx("div",z({"data-slot":"dialog-header",className:Tn("flex flex-col gap-2 text-center sm:text-left",e)},t))}function ws(n){var s=n,{className:e}=s,t=Ae(s,["className"]);return l.jsx("div",z({"data-slot":"dialog-footer",className:Tn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e)},t))}function ls(n){var s=n,{className:e}=s,t=Ae(s,["className"]);return l.jsx(b$,z({"data-slot":"dialog-title",className:Tn("text-lg leading-none font-semibold",e)},t))}function Ro(n){var s=n,{className:e}=s,t=Ae(s,["className"]);return l.jsx(v$,z({"data-slot":"dialog-description",className:Tn("text-muted-foreground text-sm",e)},t))}function N$(n){var s=n,{className:e}=s,t=Ae(s,["className"]);return l.jsx(hc,z({"data-slot":"command",className:Tn("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e)},t))}function E$(n){var s=n,{className:e}=s,t=Ae(s,["className"]);return l.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[l.jsx(cm,{className:"size-4 shrink-0 opacity-50"}),l.jsx(hc.Input,z({"data-slot":"command-input",className:Tn("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e)},t))]})}function T$(n){var s=n,{className:e}=s,t=Ae(s,["className"]);return l.jsx(hc.List,z({"data-slot":"command-list",className:Tn("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e)},t))}function _0(t){var e=Ae(t,[]);return l.jsx(hc.Empty,z({"data-slot":"command-empty",className:"py-6 text-center text-sm"},e))}function C$(n){var s=n,{className:e}=s,t=Ae(s,["className"]);return l.jsx(hc.Group,z({"data-slot":"command-group",className:Tn("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e)},t))}function k$(n){var s=n,{className:e}=s,t=Ae(s,["className"]);return l.jsx(hc.Item,z({"data-slot":"command-item",className:Tn("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e)},t))}function ar({doctype:e,value:t="",onChange:n,placeholder:s="Select option...",className:a="w-[200px]",fields:i=["name"],filters:c=[],displayField:d="name",valueField:f="name",disabled:h=!1,limit:p=20}){const[g,b]=j.useState(!1),[y,_]=j.useState(""),w=j.useMemo(()=>{let R={};if(c.length>0&&c.forEach(U=>{if(Array.isArray(U)&&U.length>=3){const[X,H,K]=U;H==="="&&(R[X]=K)}}),y.trim()&&(R[d]=["like",`%${y}%`]),Object.keys(R).length===0&&y.trim())return[[d,"like",`%${y}%`]];const P=[];return Object.entries(R).forEach(([U,X])=>{Array.isArray(X)?P.push([U,X[0],X[1]]):P.push([U,"=",X])}),P.length>0?P:void 0},[y,c,d]),{data:N,isLoading:S,error:D}=Mt(e,{fields:[...new Set([...i,d,f])],filters:w,limit:p,orderBy:{field:d,order:"asc"}}),A=j.useMemo(()=>!N||!Array.isArray(N)?[]:N.map(R=>({value:R[f],label:R[d]})),[N,d,f]),C=A.find(R=>R.value===t),k=R=>{n(R===t?"":R),b(!1)},T=R=>{_(R)};return l.jsxs(my,{open:g,onOpenChange:b,children:[l.jsx(py,{asChild:!0,children:l.jsxs(Ve,{variant:"outline",role:"combobox","aria-expanded":g,className:Tn("justify-between",a),disabled:h,children:[(C==null?void 0:C.label)||s,l.jsx(XM,{className:"opacity-50"})]})}),l.jsx(gy,{className:Tn("p-0",a),children:l.jsxs(N$,{shouldFilter:!1,children:[l.jsx(E$,{placeholder:`Search ${e.toLowerCase()}...`,className:"h-9",value:y,onValueChange:T}),l.jsxs(T$,{children:[S&&l.jsx(_0,{children:"Loading..."}),D&&l.jsx(_0,{children:"Error loading data."}),!S&&!D&&A.length===0&&l.jsxs(_0,{children:["No ",e.toLowerCase()," found."]}),!S&&!D&&A.length>0&&l.jsx(C$,{children:A.map(R=>l.jsxs(k$,{value:R.value,onSelect:k,children:[R.label,l.jsx(VM,{className:Tn("ml-auto",t===R.value?"opacity-100":"opacity-0")})]},R.value))})]})]})})]})}function Ut(s){var a=s,{className:e,type:t}=a,n=Ae(a,["className","type"]);return l.jsx("input",z({type:t,"data-slot":"input",className:Tn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e)},n))}var O$="Label",eC=j.forwardRef((e,t)=>l.jsx(Wt.label,oe(z({},e),{ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}})));eC.displayName=O$;var A$=eC;function ze(n){var s=n,{className:e}=s,t=Ae(s,["className"]);return l.jsx(A$,z({"data-slot":"label",className:Tn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e)},t))}function Mi(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}var D$="DismissableLayer",jx="dismissableLayer.update",R$="dismissableLayer.pointerDownOutside",M$="dismissableLayer.focusOutside",PS,tC=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nC=j.forwardRef((e,t)=>{var P;const R=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:c,onDismiss:d}=R,f=Ae(R,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),h=j.useContext(tC),[p,g]=j.useState(null),b=(P=p==null?void 0:p.ownerDocument)!=null?P:globalThis==null?void 0:globalThis.document,[,y]=j.useState({}),_=Dn(t,U=>g(U)),w=Array.from(h.layers),[N]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),S=w.indexOf(N),D=p?w.indexOf(p):-1,A=h.layersWithOutsidePointerEventsDisabled.size>0,C=D>=S,k=z$(U=>{const X=U.target,H=[...h.branches].some(K=>K.contains(X));!C||H||(a==null||a(U),c==null||c(U),U.defaultPrevented||d==null||d())},b),T=U$(U=>{const X=U.target;[...h.branches].some(K=>K.contains(X))||(i==null||i(U),c==null||c(U),U.defaultPrevented||d==null||d())},b);return ty(U=>{D===h.layers.size-1&&(s==null||s(U),!U.defaultPrevented&&d&&(U.preventDefault(),d()))},b),j.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(PS=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),LS(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=PS)}},[p,b,n,h]),j.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),LS())},[p,h]),j.useEffect(()=>{const U=()=>y({});return document.addEventListener(jx,U),()=>document.removeEventListener(jx,U)},[]),l.jsx(Wt.div,oe(z({},f),{ref:_,style:z({pointerEvents:A?C?"auto":"none":void 0},e.style),onFocusCapture:Mi(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Mi(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Mi(e.onPointerDownCapture,k.onPointerDownCapture)}))});nC.displayName=D$;var P$="DismissableLayerBranch",L$=j.forwardRef((e,t)=>{const n=j.useContext(tC),s=j.useRef(null),a=Dn(t,s);return j.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(Wt.div,oe(z({},e),{ref:a}))});L$.displayName=P$;function z$(e,t=globalThis==null?void 0:globalThis.document){const n=ma(e),s=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=d=>{if(d.target&&!s.current){let f=function(){sC(R$,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function U$(e,t=globalThis==null?void 0:globalThis.document){const n=ma(e),s=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!s.current&&sC(M$,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function LS(){const e=new CustomEvent(jx);document.dispatchEvent(e)}function sC(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?ey(a,i):a.dispatchEvent(i)}function F$(e,t){return j.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var Tm=e=>{const{present:t,children:n}=e,s=B$(t),a=typeof n=="function"?n({present:s.isPresent}):j.Children.only(n),i=Dn(s.ref,$$(a));return typeof n=="function"||s.isPresent?j.cloneElement(a,{ref:i}):null};Tm.displayName="Presence";function B$(e){const[t,n]=j.useState(),s=j.useRef(null),a=j.useRef(e),i=j.useRef("none"),c=e?"mounted":"unmounted",[d,f]=F$(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const h=ah(s.current);i.current=d==="mounted"?h:"none"},[d]),Tr(()=>{const h=s.current,p=a.current;if(p!==e){const b=i.current,y=ah(h);e?f("MOUNT"):y==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&b!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Tr(()=>{var h;if(t){let p;const g=(h=t.ownerDocument.defaultView)!=null?h:window,b=_=>{const N=ah(s.current).includes(_.animationName);if(_.target===t&&N&&(f("ANIMATION_END"),!a.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},y=_=>{_.target===t&&(i.current=ah(s.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:j.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function ah(e){return(e==null?void 0:e.animationName)||"none"}function $$(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var j0=0;function H$(){j.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:zS()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:zS()),j0++,()=>{j0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),j0--}},[])}function zS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Cm="Dialog",[rC,O7]=sd(Cm),[V$,Xr]=rC(Cm),aC=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:c=!0}=e,d=j.useRef(null),f=j.useRef(null),[h,p]=mm({prop:s,defaultProp:a!=null?a:!1,onChange:i,caller:Cm});return l.jsx(V$,{scope:t,triggerRef:d,contentRef:f,contentId:ks(),titleId:ks(),descriptionId:ks(),open:h,onOpenChange:p,onOpenToggle:j.useCallback(()=>p(g=>!g),[p]),modal:c,children:n})};aC.displayName=Cm;var iC="DialogTrigger",I$=j.forwardRef((e,t)=>{const c=e,{__scopeDialog:n}=c,s=Ae(c,["__scopeDialog"]),a=Xr(iC,n),i=Dn(t,a.triggerRef);return l.jsx(Wt.button,oe(z({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Zy(a.open)},s),{ref:i,onClick:Mi(e.onClick,a.onOpenToggle)}))});I$.displayName=iC;var Ky="DialogPortal",[q$,oC]=rC(Ky,{forceMount:void 0}),lC=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=Xr(Ky,t);return l.jsx(q$,{scope:t,forceMount:n,children:j.Children.map(s,c=>l.jsx(Tm,{present:n||i.open,children:l.jsx(id,{asChild:!0,container:a,children:c})}))})};lC.displayName=Ky;var nm="DialogOverlay",cC=j.forwardRef((e,t)=>{const n=oC(nm,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=Ae(c,["forceMount"]),i=Xr(nm,e.__scopeDialog);return i.modal?l.jsx(Tm,{present:s||i.open,children:l.jsx(Y$,oe(z({},a),{ref:t}))}):null});cC.displayName=nm;var W$=rc("DialogOverlay.RemoveScroll"),Y$=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=Ae(i,["__scopeDialog"]),a=Xr(nm,n);return l.jsx(od,{as:W$,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(Wt.div,oe(z({"data-state":Zy(a.open)},s),{ref:t,style:z({pointerEvents:"auto"},s.style)}))})}),Ho="DialogContent",uC=j.forwardRef((e,t)=>{const n=oC(Ho,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=Ae(c,["forceMount"]),i=Xr(Ho,e.__scopeDialog);return l.jsx(Tm,{present:s||i.open,children:i.modal?l.jsx(X$,oe(z({},a),{ref:t})):l.jsx(G$,oe(z({},a),{ref:t}))})});uC.displayName=Ho;var X$=j.forwardRef((e,t)=>{const n=Xr(Ho,e.__scopeDialog),s=j.useRef(null),a=Dn(t,n.contentRef,s);return j.useEffect(()=>{const i=s.current;if(i)return pm(i)},[]),l.jsx(dC,oe(z({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Mi(e.onCloseAutoFocus,i=>{var c;i.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Mi(e.onPointerDownOutside,i=>{const c=i.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&i.preventDefault()}),onFocusOutside:Mi(e.onFocusOutside,i=>i.preventDefault())}))}),G$=j.forwardRef((e,t)=>{const n=Xr(Ho,e.__scopeDialog),s=j.useRef(!1),a=j.useRef(!1);return l.jsx(dC,oe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,i),i.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),dC=j.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i}=p,c=Ae(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Xr(Ho,n),f=j.useRef(null),h=Dn(t,f);return H$(),l.jsxs(l.Fragment,{children:[l.jsx(rd,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:l.jsx(nC,oe(z({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Zy(d.open)},c),{ref:h,onDismiss:()=>d.onOpenChange(!1)}))}),l.jsxs(l.Fragment,{children:[l.jsx(Q$,{titleId:d.titleId}),l.jsx(J$,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Qy="DialogTitle",fC=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=Ae(i,["__scopeDialog"]),a=Xr(Qy,n);return l.jsx(Wt.h2,oe(z({id:a.titleId},s),{ref:t}))});fC.displayName=Qy;var hC="DialogDescription",mC=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=Ae(i,["__scopeDialog"]),a=Xr(hC,n);return l.jsx(Wt.p,oe(z({id:a.descriptionId},s),{ref:t}))});mC.displayName=hC;var pC="DialogClose",K$=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=Ae(i,["__scopeDialog"]),a=Xr(pC,n);return l.jsx(Wt.button,oe(z({type:"button"},s),{ref:t,onClick:Mi(e.onClick,()=>a.onOpenChange(!1))}))});K$.displayName=pC;function Zy(e){return e?"open":"closed"}var gC="DialogTitleWarning",[A7,xC]=Jx(gC,{contentName:Ho,titleName:Qy,docsSlug:"dialog"}),Q$=({titleId:e})=>{const t=xC(gC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Z$="DialogDescriptionWarning",J$=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xC(Z$).contentName}}.`;return j.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},eH=aC,tH=lC,nH=cC,sH=uC,rH=fC,aH=mC;function iH(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const yC=se.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),hd=()=>{const e=se.useContext(yC);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};iH(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function oH(){const e=navigator.userAgent;return typeof window!="undefined"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function lH(){return Jy(/^Mac/)}function cH(){return Jy(/^iPhone/)}function US(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function uH(){return Jy(/^iPad/)||lH()&&navigator.maxTouchPoints>1}function bC(){return cH()||uH()}function Jy(e){return typeof window!="undefined"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const dH=24,fH=typeof window!="undefined"?j.useLayoutEffect:j.useEffect;function FS(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const S0=typeof document!="undefined"&&window.visualViewport;function BS(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function vC(e){for(BS(e)&&(e=e.parentElement);e&&!BS(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const hH=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ih=0,N0;function mH(e={}){let{isDisabled:t}=e;fH(()=>{if(!t)return ih++,ih===1&&bC()&&(N0=pH()),()=>{ih--,ih===0&&(N0==null||N0())}},[t])}function pH(){let e,t=0,n=g=>{e=vC(g.target),!(e===document.documentElement&&e===document.body)&&(t=g.changedTouches[0].pageY)},s=g=>{if(!e||e===document.documentElement||e===document.body){g.preventDefault();return}let b=g.changedTouches[0].pageY,y=e.scrollTop,_=e.scrollHeight-e.clientHeight;_!==0&&((y<=0&&b>t||y>=_&&b<t)&&g.preventDefault(),t=b)},a=g=>{let b=g.target;Sx(b)&&b!==document.activeElement&&(g.preventDefault(),b.style.transform="translateY(-2000px)",b.focus(),requestAnimationFrame(()=>{b.style.transform=""}))},i=g=>{let b=g.target;Sx(b)&&(b.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{b.style.transform="",S0&&(S0.height<window.innerHeight?requestAnimationFrame(()=>{$S(b)}):S0.addEventListener("resize",()=>$S(b),{once:!0}))}))},c=()=>{window.scrollTo(0,0)},d=window.pageXOffset,f=window.pageYOffset,h=FS(gH(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let p=FS(Eu(document,"touchstart",n,{passive:!1,capture:!0}),Eu(document,"touchmove",s,{passive:!1,capture:!0}),Eu(document,"touchend",a,{passive:!1,capture:!0}),Eu(document,"focus",i,!0),Eu(window,"scroll",c));return()=>{h(),p(),window.scrollTo(d,f)}}function gH(e,t,n){let s=e.style[t];return e.style[t]=n,()=>{e.style[t]=s}}function Eu(e,t,n,s){return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}function $S(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=vC(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let s=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom;const c=n.getBoundingClientRect().bottom+dH;i>c&&(n.scrollTop+=a-s)}e=n.parentElement}}function Sx(e){return e instanceof HTMLInputElement&&!hH.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function xH(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function yH(...e){return t=>e.forEach(n=>xH(n,t))}function wC(...e){return j.useCallback(yH(...e),e)}const _C=new WeakMap;function rs(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([a,i])=>{if(a.startsWith("--")){e.style.setProperty(a,i);return}s[a]=e.style[a],e.style[a]=i}),!n&&_C.set(e,s)}function bH(e,t){if(!e||!(e instanceof HTMLElement))return;let n=_C.get(e);n&&(e.style[t]=n[t])}const Kn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function oh(e,t){if(!e)return null;const n=window.getComputedStyle(e),s=n.transform||n.webkitTransform||n.mozTransform;let a=s.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[Kn(t)?13:12]):(a=s.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[Kn(t)?5:4]):null)}function vH(e){return 8*(Math.log(e+1)-2)}function E0(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function wH(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const On={DURATION:.5,EASE:[.32,.72,0,1]},jC=.4,_H=.25,jH=100,SC=8,wo=16,Nx=26,T0="vaul-dragging";function NC(e){const t=se.useRef(e);return se.useEffect(()=>{t.current=e}),se.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function SH({defaultProp:e,onChange:t}){const n=se.useState(e),[s]=n,a=se.useRef(s),i=NC(t);return se.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),n}function EC({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,a]=SH({defaultProp:t,onChange:n}),i=e!==void 0,c=i?e:s,d=NC(n),f=se.useCallback(h=>{if(i){const g=typeof h=="function"?h(e):h;g!==e&&d(g)}else a(h)},[i,e,a,d]);return[c,f]}function NH({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:s,overlayRef:a,fadeFromIndex:i,onSnapPointChange:c,direction:d="bottom",container:f,snapToSequentialPoint:h}){const[p,g]=EC({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[b,y]=se.useState(typeof window!="undefined"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);se.useEffect(()=>{function R(){y({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);const _=se.useMemo(()=>p===(n==null?void 0:n[n.length-1])||null,[n,p]),w=se.useMemo(()=>{var R;return(R=n==null?void 0:n.findIndex(P=>P===p))!=null?R:null},[n,p]),N=n&&n.length>0&&(i||i===0)&&!Number.isNaN(i)&&n[i]===p||!n,S=se.useMemo(()=>{const R=f?{width:f.getBoundingClientRect().width,height:f.getBoundingClientRect().height}:typeof window!="undefined"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var P;return(P=n==null?void 0:n.map(U=>{const X=typeof U=="string";let H=0;if(X&&(H=parseInt(U,10)),Kn(d)){const Y=X?H:b?U*R.height:0;return b?d==="bottom"?R.height-Y:-R.height+Y:Y}const K=X?H:b?U*R.width:0;return b?d==="right"?R.width-K:-R.width+K:K}))!=null?P:[]},[n,b,f]),D=se.useMemo(()=>w!==null?S==null?void 0:S[w]:null,[S,w]),A=se.useCallback(R=>{var P;const U=(P=S==null?void 0:S.findIndex(X=>X===R))!=null?P:null;c(U),rs(s.current,{transition:`transform ${On.DURATION}s cubic-bezier(${On.EASE.join(",")})`,transform:Kn(d)?`translate3d(0, ${R}px, 0)`:`translate3d(${R}px, 0, 0)`}),S&&U!==S.length-1&&i!==void 0&&U!==i&&U<i?rs(a.current,{transition:`opacity ${On.DURATION}s cubic-bezier(${On.EASE.join(",")})`,opacity:"0"}):rs(a.current,{transition:`opacity ${On.DURATION}s cubic-bezier(${On.EASE.join(",")})`,opacity:"1"}),g(n==null?void 0:n[Math.max(U,0)])},[s.current,n,S,i,a,g]);se.useEffect(()=>{if(p||e){var R;const P=(R=n==null?void 0:n.findIndex(U=>U===e||U===p))!=null?R:-1;S&&P!==-1&&typeof S[P]=="number"&&A(S[P])}},[p,e,n,S,A]);function C({draggedDistance:R,closeDrawer:P,velocity:U,dismissible:X}){if(i===void 0)return;const H=d==="bottom"||d==="right"?(D!=null?D:0)-R:(D!=null?D:0)+R,K=w===i-1,Y=w===0,te=R>0;if(K&&rs(a.current,{transition:`opacity ${On.DURATION}s cubic-bezier(${On.EASE.join(",")})`}),!h&&U>2&&!te){X?P():A(S[0]);return}if(!h&&U>2&&te&&S&&n){A(S[n.length-1]);return}const W=S==null?void 0:S.reduce((Q,ee)=>typeof Q!="number"||typeof ee!="number"?Q:Math.abs(ee-H)<Math.abs(Q-H)?ee:Q),V=Kn(d)?window.innerHeight:window.innerWidth;if(U>jC&&Math.abs(R)<V*.4){const Q=te?1:-1;if(Q>0&&_&&n){A(S[n.length-1]);return}if(Y&&Q<0&&X&&P(),w===null)return;A(S[w+Q]);return}A(W)}function k({draggedDistance:R}){if(D===null)return;const P=d==="bottom"||d==="right"?D-R:D+R;(d==="bottom"||d==="right")&&P<S[S.length-1]||(d==="top"||d==="left")&&P>S[S.length-1]||rs(s.current,{transform:Kn(d)?`translate3d(0, ${P}px, 0)`:`translate3d(${P}px, 0, 0)`})}function T(R,P){if(!n||typeof w!="number"||!S||i===void 0)return null;const U=w===i-1;if(w>=i&&P)return 0;if(U&&!P)return 1;if(!N&&!U)return null;const H=U?w+1:w-1,K=U?S[H]-S[H-1]:S[H+1]-S[H],Y=R/Math.abs(K);return U?1-Y:Y}return{isLastSnapPoint:_,activeSnapPoint:p,shouldFade:N,getPercentageDragged:T,setActiveSnapPoint:g,activeSnapPointIndex:w,onRelease:C,onDrag:k,snapPointsOffset:S}}const EH=()=>()=>{};function TH(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:a}=hd(),i=se.useRef(null),c=j.useMemo(()=>document.body.style.backgroundColor,[]);function d(){return(window.innerWidth-Nx)/window.innerWidth}se.useEffect(()=>{if(t&&n){i.current&&clearTimeout(i.current);const f=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!f)return;wH(s&&!a?E0(document.body,{background:"black"}):EH,E0(f,{transformOrigin:Kn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${On.DURATION}s`,transitionTimingFunction:`cubic-bezier(${On.EASE.join(",")})`}));const h=E0(f,z({borderRadius:`${SC}px`,overflow:"hidden"},Kn(e)?{transform:`scale(${d()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${d()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}));return()=>{h(),i.current=window.setTimeout(()=>{c?document.body.style.background=c:document.body.style.removeProperty("background")},On.DURATION*1e3)}}},[t,n,c])}let Tu=null;function CH({isOpen:e,modal:t,nested:n,hasBeenOpened:s,preventScrollRestoration:a,noBodyStyles:i}){const[c,d]=se.useState(()=>typeof window!="undefined"?window.location.href:""),f=se.useRef(0),h=se.useCallback(()=>{if(US()&&Tu===null&&e&&!i){Tu={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:g,innerHeight:b}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-f.current}px`,left:`${-g}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const y=b-window.innerHeight;y&&f.current>=b&&(document.body.style.top=`${-(f.current+y)}px`)}),300)}},[e]),p=se.useCallback(()=>{if(US()&&Tu!==null&&!i){const g=-parseInt(document.body.style.top,10),b=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Tu),window.requestAnimationFrame(()=>{if(a&&c!==window.location.href){d(window.location.href);return}window.scrollTo(b,g)}),Tu=null}},[c]);return se.useEffect(()=>{function g(){f.current=window.scrollY}return g(),window.addEventListener("scroll",g),()=>{window.removeEventListener("scroll",g)}},[]),se.useEffect(()=>{if(t)return()=>{typeof document=="undefined"||document.querySelector("[data-vaul-drawer]")||p()}},[t,p]),se.useEffect(()=>{n||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&h(),t||window.setTimeout(()=>{p()},500)):p())},[e,s,c,t,n,h,p]),{restorePositionSetting:p}}function kH({open:e,onOpenChange:t,children:n,onDrag:s,onRelease:a,snapPoints:i,shouldScaleBackground:c=!1,setBackgroundColorOnScale:d=!0,closeThreshold:f=_H,scrollLockTimeout:h=jH,dismissible:p=!0,handleOnly:g=!1,fadeFromIndex:b=i&&i.length-1,activeSnapPoint:y,setActiveSnapPoint:_,fixed:w,modal:N=!0,onClose:S,nested:D,noBodyStyles:A=!1,direction:C="bottom",defaultOpen:k=!1,disablePreventScroll:T=!0,snapToSequentialPoint:R=!1,preventScrollRestoration:P=!1,repositionInputs:U=!0,onAnimationEnd:X,container:H,autoFocus:K=!1}){var Y,te;const[W=!1,V]=EC({defaultProp:k,prop:e,onChange:Le=>{t==null||t(Le),!Le&&!D&&Xe(),setTimeout(()=>{X==null||X(Le)},On.DURATION*1e3),Le&&!N&&typeof window!="undefined"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Le||(document.body.style.pointerEvents="auto")}}),[Q,ee]=se.useState(!1),[ce,L]=se.useState(!1),[le,re]=se.useState(!1),B=se.useRef(null),ne=se.useRef(null),ye=se.useRef(null),he=se.useRef(null),Ce=se.useRef(null),ke=se.useRef(!1),We=se.useRef(null),Ue=se.useRef(0),qe=se.useRef(!1),Ze=se.useRef(!k),st=se.useRef(0),Pe=se.useRef(null),Tt=se.useRef(((Y=Pe.current)==null?void 0:Y.getBoundingClientRect().height)||0),Yt=se.useRef(((te=Pe.current)==null?void 0:te.getBoundingClientRect().width)||0),Nt=se.useRef(0),it=se.useCallback(Le=>{i&&Le===Se.length-1&&(ne.current=new Date)},[]),{activeSnapPoint:jt,activeSnapPointIndex:G,setActiveSnapPoint:de,onRelease:q,snapPointsOffset:Se,onDrag:Me,shouldFade:Re,getPercentageDragged:$e}=NH({snapPoints:i,activeSnapPointProp:y,setActiveSnapPointProp:_,drawerRef:Pe,fadeFromIndex:b,overlayRef:B,onSnapPointChange:it,direction:C,container:H,snapToSequentialPoint:R});mH({isDisabled:!W||ce||!N||le||!Q||!U||!T});const{restorePositionSetting:Xe}=CH({isOpen:W,modal:N,nested:D!=null?D:!1,hasBeenOpened:Q,preventScrollRestoration:P,noBodyStyles:A});function Qe(){return(window.innerWidth-Nx)/window.innerWidth}function vt(Le){var pt,At;!p&&!i||Pe.current&&!Pe.current.contains(Le.target)||(Tt.current=((pt=Pe.current)==null?void 0:pt.getBoundingClientRect().height)||0,Yt.current=((At=Pe.current)==null?void 0:At.getBoundingClientRect().width)||0,L(!0),ye.current=new Date,bC()&&window.addEventListener("touchend",()=>ke.current=!1,{once:!0}),Le.target.setPointerCapture(Le.pointerId),Ue.current=Kn(C)?Le.pageY:Le.pageX)}function wn(Le,pt){var At;let ot=Le;const Ct=(At=window.getSelection())==null?void 0:At.toString(),Ge=Pe.current?oh(Pe.current,C):null,bt=new Date;if(ot.tagName==="SELECT"||ot.hasAttribute("data-vaul-no-drag")||ot.closest("[data-vaul-no-drag]"))return!1;if(C==="right"||C==="left")return!0;if(ne.current&&bt.getTime()-ne.current.getTime()<500)return!1;if(Ge!==null&&(C==="bottom"?Ge>0:Ge<0))return!0;if(Ct&&Ct.length>0)return!1;if(Ce.current&&bt.getTime()-Ce.current.getTime()<h&&Ge===0||pt)return Ce.current=bt,!1;for(;ot;){if(ot.scrollHeight>ot.clientHeight){if(ot.scrollTop!==0)return Ce.current=new Date,!1;if(ot.getAttribute("role")==="dialog")return!0}ot=ot.parentNode}return!0}function Jt(Le){if(Pe.current&&ce){const pt=C==="bottom"||C==="right"?1:-1,At=(Ue.current-(Kn(C)?Le.pageY:Le.pageX))*pt,ot=At>0,Ct=i&&!p&&!ot;if(Ct&&G===0)return;const Ge=Math.abs(At),bt=document.querySelector("[data-vaul-drawer-wrapper]"),Ht=C==="bottom"||C==="top"?Tt.current:Yt.current;let Kt=Ge/Ht;const J=$e(Ge,ot);if(J!==null&&(Kt=J),Ct&&Kt>=1||!ke.current&&!wn(Le.target,ot))return;if(Pe.current.classList.add(T0),ke.current=!0,rs(Pe.current,{transition:"none"}),rs(B.current,{transition:"none"}),i&&Me({draggedDistance:At}),ot&&!i){const pe=vH(At),je=Math.min(pe*-1,0)*pt;rs(Pe.current,{transform:Kn(C)?`translate3d(0, ${je}px, 0)`:`translate3d(${je}px, 0, 0)`});return}const ie=1-Kt;if((Re||b&&G===b-1)&&(s==null||s(Le,Kt),rs(B.current,{opacity:`${ie}`,transition:"none"},!0)),bt&&B.current&&c){const pe=Math.min(Qe()+Kt*(1-Qe()),1),je=8-Kt*8,De=Math.max(0,14-Kt*14);rs(bt,{borderRadius:`${je}px`,transform:Kn(C)?`scale(${pe}) translate3d(0, ${De}px, 0)`:`scale(${pe}) translate3d(${De}px, 0, 0)`,transition:"none"},!0)}if(!i){const pe=Ge*pt;rs(Pe.current,{transform:Kn(C)?`translate3d(0, ${pe}px, 0)`:`translate3d(${pe}px, 0, 0)`})}}}se.useEffect(()=>{window.requestAnimationFrame(()=>{Ze.current=!0})},[]),se.useEffect(()=>{var Le;function pt(){if(!Pe.current||!U)return;const At=document.activeElement;if(Sx(At)||qe.current){var ot;const Ct=((ot=window.visualViewport)==null?void 0:ot.height)||0,Ge=window.innerHeight;let bt=Ge-Ct;const Ht=Pe.current.getBoundingClientRect().height||0,Kt=Ht>Ge*.8;Nt.current||(Nt.current=Ht);const J=Pe.current.getBoundingClientRect().top;if(Math.abs(st.current-bt)>60&&(qe.current=!qe.current),i&&i.length>0&&Se&&G){const ie=Se[G]||0;bt+=ie}if(st.current=bt,Ht>Ct||qe.current){const ie=Pe.current.getBoundingClientRect().height;let pe=ie;ie>Ct&&(pe=Ct-(Kt?J:Nx)),w?Pe.current.style.height=`${ie-Math.max(bt,0)}px`:Pe.current.style.height=`${Math.max(pe,Ct-J)}px`}else oH()||(Pe.current.style.height=`${Nt.current}px`);i&&i.length>0&&!qe.current?Pe.current.style.bottom="0px":Pe.current.style.bottom=`${Math.max(bt,0)}px`}}return(Le=window.visualViewport)==null||Le.addEventListener("resize",pt),()=>{var At;return(At=window.visualViewport)==null?void 0:At.removeEventListener("resize",pt)}},[G,i,Se]);function sn(Le){Fn(),S==null||S(),Le||V(!1),setTimeout(()=>{i&&de(i[0])},On.DURATION*1e3)}function xn(){if(!Pe.current)return;const Le=document.querySelector("[data-vaul-drawer-wrapper]"),pt=oh(Pe.current,C);rs(Pe.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${On.DURATION}s cubic-bezier(${On.EASE.join(",")})`}),rs(B.current,{transition:`opacity ${On.DURATION}s cubic-bezier(${On.EASE.join(",")})`,opacity:"1"}),c&&pt&&pt>0&&W&&rs(Le,oe(z({borderRadius:`${SC}px`,overflow:"hidden"},Kn(C)?{transform:`scale(${Qe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Qe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"}),{transitionProperty:"transform, border-radius",transitionDuration:`${On.DURATION}s`,transitionTimingFunction:`cubic-bezier(${On.EASE.join(",")})`}),!0)}function Fn(){!ce||!Pe.current||(Pe.current.classList.remove(T0),ke.current=!1,L(!1),he.current=new Date)}function Bn(Le){if(!ce||!Pe.current)return;Pe.current.classList.remove(T0),ke.current=!1,L(!1),he.current=new Date;const pt=oh(Pe.current,C);if(!Le||!wn(Le.target,!1)||!pt||Number.isNaN(pt)||ye.current===null)return;const At=he.current.getTime()-ye.current.getTime(),ot=Ue.current-(Kn(C)?Le.pageY:Le.pageX),Ct=Math.abs(ot)/At;if(Ct>.05&&(re(!0),setTimeout(()=>{re(!1)},200)),i){q({draggedDistance:ot*(C==="bottom"||C==="right"?1:-1),closeDrawer:sn,velocity:Ct,dismissible:p}),a==null||a(Le,!0);return}if(C==="bottom"||C==="right"?ot>0:ot<0){xn(),a==null||a(Le,!0);return}if(Ct>jC){sn(),a==null||a(Le,!1);return}var Ge;const bt=Math.min((Ge=Pe.current.getBoundingClientRect().height)!=null?Ge:0,window.innerHeight);var Ht;const Kt=Math.min((Ht=Pe.current.getBoundingClientRect().width)!=null?Ht:0,window.innerWidth),J=C==="left"||C==="right";if(Math.abs(pt)>=(J?Kt:bt)*f){sn(),a==null||a(Le,!1);return}a==null||a(Le,!0),xn()}se.useEffect(()=>(W&&(rs(document.documentElement,{scrollBehavior:"auto"}),ne.current=new Date),()=>{bH(document.documentElement,"scrollBehavior")}),[W]);function Dt(Le){const pt=Le?(window.innerWidth-wo)/window.innerWidth:1,At=Le?-wo:0;We.current&&window.clearTimeout(We.current),rs(Pe.current,{transition:`transform ${On.DURATION}s cubic-bezier(${On.EASE.join(",")})`,transform:Kn(C)?`scale(${pt}) translate3d(0, ${At}px, 0)`:`scale(${pt}) translate3d(${At}px, 0, 0)`}),!Le&&Pe.current&&(We.current=setTimeout(()=>{const ot=oh(Pe.current,C);rs(Pe.current,{transition:"none",transform:Kn(C)?`translate3d(0, ${ot}px, 0)`:`translate3d(${ot}px, 0, 0)`})},500))}function Ee(Le,pt){if(pt<0)return;const At=(window.innerWidth-wo)/window.innerWidth,ot=At+pt*(1-At),Ct=-wo+pt*wo;rs(Pe.current,{transform:Kn(C)?`scale(${ot}) translate3d(0, ${Ct}px, 0)`:`scale(${ot}) translate3d(${Ct}px, 0, 0)`,transition:"none"})}function He(Le,pt){const At=Kn(C)?window.innerHeight:window.innerWidth,ot=pt?(At-wo)/At:1,Ct=pt?-wo:0;pt&&rs(Pe.current,{transition:`transform ${On.DURATION}s cubic-bezier(${On.EASE.join(",")})`,transform:Kn(C)?`scale(${ot}) translate3d(0, ${Ct}px, 0)`:`scale(${ot}) translate3d(${Ct}px, 0, 0)`})}return se.useEffect(()=>{N||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[N]),se.createElement(eH,{defaultOpen:k,onOpenChange:Le=>{!p&&!Le||(Le?ee(!0):sn(!0),V(Le))},open:W},se.createElement(yC.Provider,{value:{activeSnapPoint:jt,snapPoints:i,setActiveSnapPoint:de,drawerRef:Pe,overlayRef:B,onOpenChange:t,onPress:vt,onRelease:Bn,onDrag:Jt,dismissible:p,shouldAnimate:Ze,handleOnly:g,isOpen:W,isDragging:ce,shouldFade:Re,closeDrawer:sn,onNestedDrag:Ee,onNestedOpenChange:Dt,onNestedRelease:He,keyboardIsOpen:qe,modal:N,snapPointsOffset:Se,activeSnapPointIndex:G,direction:C,shouldScaleBackground:c,setBackgroundColorOnScale:d,noBodyStyles:A,container:H,autoFocus:K}},n))}const TC=se.forwardRef(function(n,t){var e=Ae(n,[]);const{overlayRef:s,snapPoints:a,onRelease:i,shouldFade:c,isOpen:d,modal:f,shouldAnimate:h}=hd(),p=wC(t,s),g=a&&a.length>0;if(!f)return null;const b=se.useCallback(y=>i(y),[i]);return se.createElement(nH,z({onMouseUp:b,ref:p,"data-vaul-overlay":"","data-vaul-snap-points":d&&g?"true":"false","data-vaul-snap-points-overlay":d&&c?"true":"false","data-vaul-animate":h!=null&&h.current?"true":"false"},e))});TC.displayName="Drawer.Overlay";const CC=se.forwardRef(function(i,a){var c=i,{onPointerDownOutside:e,style:t,onOpenAutoFocus:n}=c,s=Ae(c,["onPointerDownOutside","style","onOpenAutoFocus"]);const{drawerRef:d,onPress:f,onRelease:h,onDrag:p,keyboardIsOpen:g,snapPointsOffset:b,activeSnapPointIndex:y,modal:_,isOpen:w,direction:N,snapPoints:S,container:D,handleOnly:A,shouldAnimate:C,autoFocus:k}=hd(),[T,R]=se.useState(!1),P=wC(a,d),U=se.useRef(null),X=se.useRef(null),H=se.useRef(!1),K=S&&S.length>0;TH();const Y=(W,V,Q=0)=>{if(H.current)return!0;const ee=Math.abs(W.y),ce=Math.abs(W.x),L=ce>ee,le=["bottom","right"].includes(V)?1:-1;if(V==="left"||V==="right"){if(!(W.x*le<0)&&ce>=0&&ce<=Q)return L}else if(!(W.y*le<0)&&ee>=0&&ee<=Q)return!L;return H.current=!0,!0};se.useEffect(()=>{K&&window.requestAnimationFrame(()=>{R(!0)})},[]);function te(W){U.current=null,H.current=!1,h(W)}return se.createElement(sH,oe(z({"data-vaul-drawer-direction":N,"data-vaul-drawer":"","data-vaul-delayed-snap-points":T?"true":"false","data-vaul-snap-points":w&&K?"true":"false","data-vaul-custom-container":D?"true":"false","data-vaul-animate":C!=null&&C.current?"true":"false"},s),{ref:P,style:b&&b.length>0?z({"--snap-point-height":`${b[y!=null?y:0]}px`},t):t,onPointerDown:W=>{A||(s.onPointerDown==null||s.onPointerDown.call(s,W),U.current={x:W.pageX,y:W.pageY},f(W))},onOpenAutoFocus:W=>{n==null||n(W),k||W.preventDefault()},onPointerDownOutside:W=>{if(e==null||e(W),!_||W.defaultPrevented){W.preventDefault();return}g.current&&(g.current=!1)},onFocusOutside:W=>{if(!_){W.preventDefault();return}},onPointerMove:W=>{if(X.current=W,A||(s.onPointerMove==null||s.onPointerMove.call(s,W),!U.current))return;const V=W.pageY-U.current.y,Q=W.pageX-U.current.x,ee=W.pointerType==="touch"?10:2;Y({x:Q,y:V},N,ee)?p(W):(Math.abs(Q)>ee||Math.abs(V)>ee)&&(U.current=null)},onPointerUp:W=>{s.onPointerUp==null||s.onPointerUp.call(s,W),U.current=null,H.current=!1,h(W)},onPointerOut:W=>{s.onPointerOut==null||s.onPointerOut.call(s,W),te(X.current)},onContextMenu:W=>{s.onContextMenu==null||s.onContextMenu.call(s,W),X.current&&te(X.current)}}))});CC.displayName="Drawer.Content";const OH=250,AH=120,DH=se.forwardRef(function(a,s){var i=a,{preventCycle:e=!1,children:t}=i,n=Ae(i,["preventCycle","children"]);const{closeDrawer:c,isDragging:d,snapPoints:f,activeSnapPoint:h,setActiveSnapPoint:p,dismissible:g,handleOnly:b,isOpen:y,onPress:_,onDrag:w}=hd(),N=se.useRef(null),S=se.useRef(!1);function D(){if(S.current){k();return}window.setTimeout(()=>{A()},AH)}function A(){if(d||e||S.current){k();return}if(k(),!f||f.length===0){g||c();return}if(h===f[f.length-1]&&g){c();return}const R=f.findIndex(U=>U===h);if(R===-1)return;const P=f[R+1];p(P)}function C(){N.current=window.setTimeout(()=>{S.current=!0},OH)}function k(){N.current&&window.clearTimeout(N.current),S.current=!1}return se.createElement("div",z({onClick:D,onPointerCancel:k,onPointerDown:T=>{b&&_(T),C()},onPointerMove:T=>{b&&w(T)},ref:s,"data-vaul-drawer-visible":y?"true":"false","data-vaul-handle":"","aria-hidden":"true"},n),se.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});DH.displayName="Drawer.Handle";function RH(e){const t=hd(),a=e,{container:n=t.container}=a,s=Ae(a,["container"]);return se.createElement(tH,z({container:n},s))}const mc={Root:kH,Content:CC,Overlay:TC,Portal:RH,Title:rH,Description:aH};function MH(t){var e=Ae(t,[]);return l.jsx(mc.Root,z({"data-slot":"drawer"},e))}function PH(t){var e=Ae(t,[]);return l.jsx(mc.Portal,z({"data-slot":"drawer-portal"},e))}function LH(n){var s=n,{className:e}=s,t=Ae(s,["className"]);return l.jsx(mc.Overlay,z({"data-slot":"drawer-overlay",className:Tn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function zH(s){var a=s,{className:e,children:t}=a,n=Ae(a,["className","children"]);return l.jsxs(PH,{"data-slot":"drawer-portal",children:[l.jsx(LH,{}),l.jsxs(mc.Content,oe(z({"data-slot":"drawer-content",className:Tn("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-2/3 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e)},n),{children:[l.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]}))]})}function UH(n){var s=n,{className:e}=s,t=Ae(s,["className"]);return l.jsx("div",z({"data-slot":"drawer-header",className:Tn("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",e)},t))}function FH(n){var s=n,{className:e}=s,t=Ae(s,["className"]);return l.jsx("div",z({"data-slot":"drawer-footer",className:Tn("mt-auto flex flex-col gap-2 p-4",e)},t))}function BH(n){var s=n,{className:e}=s,t=Ae(s,["className"]);return l.jsx(mc.Title,z({"data-slot":"drawer-title",className:Tn("text-foreground font-semibold",e)},t))}function $H(n){var s=n,{className:e}=s,t=Ae(s,["className"]);return l.jsx(mc.Description,z({"data-slot":"drawer-description",className:Tn("text-muted-foreground text-sm",e)},t))}const HH=({isOpen:e,onClose:t,projectName:n,onSuccess:s})=>{const[a,i]=j.useState({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),{createDoc:c,loading:d,error:f}=Bi(),{assignPhase:h}=cE(),{data:p,isLoading:g}=uc(n),b=(w,N)=>{i(S=>oe(z({},S),{[w]:N}))},y=w=>ge(null,null,function*(){if(w.preventDefault(),!!a.subject.trim())try{const N=a,{assign_to:S}=N,D=Ae(N,["assign_to"]),A=yield c("project_phase",{project:n,subject:D.subject,start_date:D.start_date||null,end_date:D.end_date||null,priority:D.priority,details:D.details||null,costing:D.costing||0,status:"Open",progress:0});S&&A&&(yield h(A.name,S)),i({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),s&&s(),t()}catch(S){console.error("Failed to create project phase:",S)}}),_=()=>{i({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),t()};return l.jsx(as,{open:e,onOpenChange:_,children:l.jsxs(is,{className:"sm:max-w-[500px]",children:[l.jsxs(os,{children:[l.jsx(ls,{children:"Create New Project Phase"}),l.jsxs(Ro,{children:['Add a new phase to organize tasks and milestones for "',n,'".']})]}),l.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"subject",children:"Phase Name *"}),l.jsx(Ut,{id:"subject",value:a.subject,onChange:w=>b("subject",w.target.value),placeholder:"e.g., Planning, Development, Testing",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"priority",children:"Priority"}),l.jsxs("select",{id:"priority",value:a.priority,onChange:w=>b("priority",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"Low",children:"Low"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"High",children:"High"}),l.jsx("option",{value:"Critical",children:"Critical"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"start_date",children:"Start Date"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ut,{id:"start_date",type:"date",value:a.start_date,onChange:w=>b("start_date",w.target.value)}),l.jsx(Vr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"end_date",children:"End Date"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ut,{id:"end_date",type:"date",value:a.end_date,onChange:w=>b("end_date",w.target.value),min:a.start_date||void 0}),l.jsx(Vr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"costing",children:"Estimated Cost"}),l.jsx(Ut,{id:"costing",type:"number",value:a.costing,onChange:w=>b("costing",parseFloat(w.target.value)||0),placeholder:"0",min:"0",step:"0.01"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"assign_to",children:"Assign To"}),l.jsxs("select",{id:"assign_to",value:a.assign_to,onChange:w=>b("assign_to",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:g,children:[l.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(w=>l.jsx("option",{value:w.user||w.name,children:w.user||w.name},w.name))]}),g&&l.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"details",children:"Description"}),l.jsx("textarea",{id:"details",value:a.details,onChange:w=>b("details",w.target.value),placeholder:"Phase description, objectives, and key deliverables...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]}),f&&l.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:l.jsx("p",{className:"text-sm text-red-600",children:f.message||"Failed to create project phase. Please try again."})}),l.jsxs(ws,{children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:_,disabled:d,children:"Cancel"}),l.jsxs(Ve,{type:"submit",disabled:d||!a.subject.trim(),className:"flex items-center gap-2",children:[d&&l.jsx(W0,{className:"h-4 w-4 animate-spin"}),"Create Phase"]})]})]})]})})},VH=({isOpen:e,onClose:t,projectName:n,onSuccess:s})=>{const[a,i]=j.useState({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),{createDoc:c,loading:d,error:f}=Bi(),h=g=>ge(null,null,function*(){if(g.preventDefault(),!!a.subject.trim())try{yield c("Task",{subject:a.subject,description:a.description,priority:a.priority,exp_start_date:a.exp_start_date||null,exp_end_date:a.exp_end_date||null,status:a.status,project:n,is_template:0,progress:0}),i({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),s==null||s(),t()}catch(b){console.error("Error creating standalone task:",b)}}),p=(g,b)=>{i(y=>oe(z({},y),{[g]:b}))};return l.jsx(as,{open:e,onOpenChange:t,children:l.jsxs(is,{className:"sm:max-w-[500px]",children:[l.jsx(os,{children:l.jsx(ls,{className:"flex items-center justify-between",children:"Create Standalone Task"})}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"subject",children:"Task Subject *"}),l.jsx(Ut,{id:"subject",value:a.subject,onChange:g=>p("subject",g.target.value),placeholder:"Enter task subject",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"description",children:"Description"}),l.jsx("textarea",{id:"description",value:a.description,onChange:g=>p("description",g.target.value),placeholder:"Enter task description (optional)",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"priority",children:"Priority"}),l.jsxs("select",{id:"priority",value:a.priority,onChange:g=>p("priority",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[l.jsx("option",{value:"Low",children:"Low"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"High",children:"High"}),l.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"status",children:"Status"}),l.jsxs("select",{id:"status",value:a.status,onChange:g=>p("status",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[l.jsx("option",{value:"Open",children:"Open"}),l.jsx("option",{value:"Working",children:"Working"}),l.jsx("option",{value:"Pending Review",children:"Pending Review"}),l.jsx("option",{value:"Overdue",children:"Overdue"}),l.jsx("option",{value:"Template",children:"Template"}),l.jsx("option",{value:"Completed",children:"Completed"}),l.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"exp_start_date",children:"Expected Start Date"}),l.jsx(Ut,{id:"exp_start_date",type:"date",value:a.exp_start_date,onChange:g=>p("exp_start_date",g.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"exp_end_date",children:"Expected End Date"}),l.jsx(Ut,{id:"exp_end_date",type:"date",value:a.exp_end_date,onChange:g=>p("exp_end_date",g.target.value)})]})]}),f&&l.jsxs("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",children:["Error creating task: ",f.message]}),l.jsxs(ws,{children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:t,disabled:d,children:"Cancel"}),l.jsx(Ve,{type:"submit",disabled:d||!a.subject.trim(),children:d?"Creating...":"Create Task"})]})]})]})})},IH=(e,t)=>{const n=s=>ge(null,null,function*(){try{console.log(`Task ${s} changed, updating affected phase progress...`);const a=yield fetch(`/api/resource/Task/${s}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(a.ok&&(yield a.json()).data.project===e){console.log(`Task ${s} belongs to current project ${e}, finding affected phases...`);const d=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name"],filters:[["project","=",e]]})});if(d.ok){const h=(yield d.json()).message||[];for(const p of h)try{const g=yield fetch(`/api/resource/project_phase/${p.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(g.ok){const y=(yield g.json()).data;y.tasks&&y.tasks.some(_=>_.task===s)&&(console.log(`Updating progress for phase ${p.name} containing task ${s}`),yield N6(p.name),t&&t())}}catch(g){console.error(`Error updating progress for phase ${p.name}:`,g)}}}}catch(a){console.error("Error in triggerPhaseProgressUpdate:",a)}});return j.useEffect(()=>{const s=a=>{if(a.key==="task_progress_updated"&&a.newValue){const i=a.newValue;console.log(`Received task progress update signal for: ${i}`),n(i),localStorage.removeItem("task_progress_updated")}};return window.addEventListener("storage",s),()=>{window.removeEventListener("storage",s)}},[e,t]),{triggerPhaseProgressUpdate:n}},qH=({projectName:e,onViewPhaseDetails:t,onViewTaskDetails:n,onViewSubTaskDetails:s})=>{const[a,i]=j.useState(new Set),[c,d]=j.useState(new Set),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[b,y]=j.useState([]),[_,w]=j.useState({visible:!1,text:"",x:0,y:0}),{data:N,isLoading:S,mutate:D}=Mt("project_phase",{fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e]],orderBy:{field:"start_date",order:"asc"},limit:0});IH(e,()=>{console.log("Phase progress updated, refreshing UI..."),D()}),j.useEffect(()=>{N&&N.length>0?ge(null,null,function*(){const B=[];for(const ne of N)try{const ye=yield fetch(`/api/resource/project_phase/${ne.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(ye.ok){const he=yield ye.json();B.push(he.data)}else console.warn("Failed to fetch phase:",ne.name),B.push(ne)}catch(ye){console.error("Error fetching phase:",ne.name,ye),B.push(ne)}y(B)}):y([])},[N==null?void 0:N.length,N==null?void 0:N.map(re=>re.name).join(",")]);const{data:A,isLoading:C,mutate:k}=Mt("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",e]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),T=(A==null?void 0:A.map(re=>re.name))||[],{data:R,isLoading:P,mutate:U}=Mt("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:T.length>0?[["task","in",T]]:[["task","=","dummy-non-existent-task"]],orderBy:{field:"start_date",order:"asc"},limit:0}),X=re=>{const B=new Set(a);B.has(re)?B.delete(re):B.add(re),i(B)},H=re=>{const B=new Set(c);B.has(re)?B.delete(re):B.add(re),d(B)};j.useEffect(()=>{const re=()=>{document.hidden||(console.log("Tab became visible, refreshing all data (phases, tasks, subtasks)..."),D(),k(),U())};return document.addEventListener("visibilitychange",re),()=>{document.removeEventListener("visibilitychange",re)}},[D,k,U]);const K=re=>null,Y=re=>{switch(re){case"Completed":return"bg-green-100 text-green-800";case"Working":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},te=re=>{switch(re){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},W=(re,B)=>{if(re.length>30){const ne=B.currentTarget.getBoundingClientRect(),ye=document.querySelector(".bg-white.border.border-gray-200.rounded-lg"),he=ye==null?void 0:ye.getBoundingClientRect();w({visible:!0,text:re,x:he?he.left+24:50,y:ne.top-8})}},V=()=>{w({visible:!1,text:"",x:0,y:0})},Q=(re,B,ne,ye=!1,he=!1,Ce)=>{let ke="0.75rem";ne==="phase-task"||ne==="task"&&B===1?ke="2rem":ne==="subtask"&&(ke="3.5rem");const We=ne==="phase"||ne==="task"&&ye||ne==="phase-task"&&ye,Ue=re.subject||re.name,qe=re.status||"Open",Ze=re.progress||0,st=it=>{it.preventDefault(),it.stopPropagation(),Ce&&Ce()},Pe=it=>{it.preventDefault(),it.stopPropagation(),ne==="phase"&&t?t(re):(ne==="task"||ne==="phase-task")&&n?n(re):ne==="subtask"&&s&&s(re)},Tt=it=>{it.preventDefault(),it.stopPropagation(),ye&&Ce&&Ce()};let Yt="hover:bg-gray-50",Nt="";return ne==="phase"||ne==="task"?(Yt="bg-white hover:bg-gray-50",Nt=""):ne==="phase-task"?(Yt="bg-green-50/20 hover:bg-green-50",Nt="border-l-2 border-l-green-200"):ne==="subtask"&&(Yt="bg-yellow-50/20 hover:bg-yellow-50",Nt="border-l-2 border-l-yellow-200"),l.jsx("div",{className:`${Yt} ${Nt} transition-colors`,children:l.jsxs("div",{className:"grid grid-cols-12 gap-4 py-3 px-6 border-b border-gray-100 items-center cursor-pointer",onClick:Tt,onDoubleClick:Pe,children:[l.jsxs("div",{className:"col-span-5 flex items-center",style:{paddingLeft:ke},children:[We&&l.jsx("button",{className:"mr-2 p-1 hover:bg-gray-100 rounded transition-colors flex-shrink-0",onClick:st,type:"button","aria-label":he?"Collapse":"Expand",children:he?l.jsx(KN,{className:"h-4 w-4 text-gray-600"}):l.jsx(WM,{className:"h-4 w-4 text-gray-600"})}),!We&&l.jsx("div",{className:"mr-2 p-1 flex-shrink-0 w-6 h-6"}),K(),l.jsxs("div",{className:"ml-1 flex-1 min-w-0",children:[l.jsx("div",{className:`font-medium truncate ${ne==="phase"?"text-blue-900 text-lg":ne==="task"?"text-orange-900":ne==="phase-task"?"text-green-900":"text-gray-700"}`,onMouseEnter:it=>W(Ue,it),onMouseLeave:V,title:Ue.length>30?Ue:void 0,children:Ue}),re.description&&ne==="subtask"&&l.jsx("p",{className:"text-sm text-gray-500 mt-1 truncate",onMouseEnter:it=>W(re.description,it),onMouseLeave:V,title:re.description.length>50?re.description:void 0,children:re.description}),re.details&&ne==="phase"&&l.jsx("p",{className:"text-sm text-gray-600 mt-1 truncate",onMouseEnter:it=>W(re.details,it),onMouseLeave:V,title:re.details.length>50?re.details:void 0,children:re.details})]})]}),l.jsx("div",{className:"col-span-2 text-center",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Y(qe)}`,children:qe})}),l.jsx("div",{className:"col-span-2 text-center",children:re.priority&&l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${te(re.priority)}`,children:re.priority})}),l.jsxs("div",{className:"col-span-3 flex items-center justify-start space-x-2",children:[ne!=="subtask"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`${ne==="phase"?"w-20":"w-16"} bg-gray-200 rounded-full h-2`,children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Ze}%`}})}),l.jsxs("span",{className:"text-sm text-gray-600 w-12 text-left flex-shrink-0",children:[Ze,"%"]})]}),l.jsxs("div",{className:"ml-auto",children:[ne==="phase"&&t&&l.jsx(Ve,{variant:"outline",size:"sm",onClick:it=>{it.preventDefault(),it.stopPropagation(),t(re)},className:"h-7 px-2 text-xs",children:"View Details"}),(ne==="task"||ne==="phase-task")&&n&&l.jsx(Ve,{variant:"outline",size:"sm",onClick:it=>{it.preventDefault(),it.stopPropagation(),n(re)},className:"h-7 px-2 text-xs",children:"View Details"}),ne==="subtask"&&s&&l.jsx(Ve,{variant:"outline",size:"sm",onClick:it=>{it.preventDefault(),it.stopPropagation(),s(re)},className:"h-7 px-2 text-xs",children:"View Details"})]})]})]})},`${ne}-${re.name}`)};if(S||C||P)return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),l.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),l.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"})]});const ee=b.length>0?b:N||[],ce=A||[],L=R||[],le=re=>L.filter(B=>B.task===re);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Tasks & Phases"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Ve,{size:"sm",variant:"outline",className:"flex items-center gap-2",onClick:()=>g(!0),children:[l.jsx(Mo,{className:"h-4 w-4"}),"Add Task"]}),l.jsxs(Ve,{size:"sm",className:"flex items-center gap-2",onClick:()=>h(!0),children:[l.jsx(Mo,{className:"h-4 w-4"}),"Add Phase"]})]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[l.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 grid grid-cols-12 gap-4 text-sm font-medium text-gray-700",children:[l.jsx("div",{className:"col-span-5",children:"Task / Phase"}),l.jsx("div",{className:"col-span-2 text-center",children:"Status"}),l.jsx("div",{className:"col-span-2 text-center",children:"Priority"}),l.jsx("div",{className:"col-span-3 text-left",children:"Progress"})]}),l.jsxs("div",{className:"divide-y divide-gray-100",children:[ee.map(re=>{const B=a.has(re.name),ne=re.tasks||[];return l.jsxs("div",{children:[Q(re,0,"phase",ne.length>0,B,()=>{X(re.name)}),B&&ne.map((ye,he)=>{const Ce=ce.find(qe=>qe.name===ye.task),ke=le(ye.task),We=ke.length>0,Ue=c.has(ye.task);if(!Ce){const qe={name:ye.task,subject:ye.task,status:"Open"};return l.jsxs("div",{children:[Q(qe,1,"phase-task",We,Ue,We?()=>{H(ye.task)}:void 0),Ue&&We&&ke.map((Ze,st)=>l.jsx("div",{children:Q(Ze,2,"subtask",!1,!1)},`subtask-${st}`))]},`phase-task-${he}`)}return l.jsxs("div",{children:[Q(Ce,1,"phase-task",We,Ue,We?()=>{H(Ce.name)}:void 0),Ue&&We&&ke.map((qe,Ze)=>l.jsx("div",{children:Q(qe,2,"subtask",!1,!1)},`subtask-${Ze}`))]},`phase-task-${he}`)})]},re.name)}),ee.length>0&&ce.filter(re=>!ee.some(ne=>{var ye;return(ye=ne.tasks)==null?void 0:ye.some(he=>he.task===re.name)})).length>0&&l.jsx("div",{className:"bg-gray-100 px-6 py-2 border-b border-gray-200",children:l.jsxs("div",{className:"text-sm font-medium text-gray-600 flex items-center",children:[l.jsx("span",{className:"mr-2",children:"📝"}),"Standalone Tasks"]})}),ce.filter(re=>!ee.some(ne=>{var ye;return(ye=ne.tasks)==null?void 0:ye.some(he=>he.task===re.name)})).map(re=>{const B=c.has(re.name),ne=le(re.name),ye=ne.length>0;return l.jsxs("div",{children:[Q(re,1,"task",ye,B,ye?()=>{H(re.name)}:void 0),B&&ye&&ne.map((he,Ce)=>l.jsx("div",{children:Q(he,2,"subtask",!1,!1)},`standalone-subtask-${Ce}`))]},re.name)})]})]}),ee.length===0&&ce.length===0&&l.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📋"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No phases or tasks yet"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Start organizing your project by creating phases and tasks."}),l.jsxs("div",{className:"flex gap-3 justify-center",children:[l.jsx(Ve,{onClick:()=>h(!0),children:"Create First Phase"}),l.jsx(Ve,{variant:"outline",onClick:()=>g(!0),children:"Create Task"})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:ee.length}),l.jsx("div",{className:"text-sm text-blue-600",children:"Total Phases"})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:ce.length}),l.jsx("div",{className:"text-sm text-green-600",children:"Total Tasks"})]}),l.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:L.length}),l.jsx("div",{className:"text-sm text-purple-600",children:"Total Subtasks"})]})]}),l.jsx(HH,{isOpen:f,onClose:()=>h(!1),projectName:e,onSuccess:()=>{D()}}),l.jsx(VH,{isOpen:p,onClose:()=>g(!1),projectName:e,onSuccess:()=>{k()}}),_.visible&&l.jsxs("div",{className:"fixed z-50 bg-gray-900 text-white text-sm px-4 py-2 rounded-lg shadow-xl pointer-events-none border border-gray-700",style:{left:_.x,top:_.y,transform:"translateY(-100%)",maxWidth:"400px",minWidth:"200px",wordWrap:"break-word"},children:[l.jsx("div",{className:"font-medium leading-relaxed",children:_.text}),l.jsx("div",{className:"absolute top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900",style:{left:"20px"}})]})]})},WH=({isOpen:e,onClose:t,projectName:n,phaseId:s,onSuccess:a})=>{const[i,c]=j.useState({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),[d,f]=j.useState({}),[h,p]=j.useState(!1),{createTaskWithPhase:g,isLoading:b}=w6(),{data:y,isLoading:_}=uc(n),{data:w}=Sn("Project",n),N=(C,k)=>{c(T=>oe(z({},T),{[C]:k})),d[C]&&f(T=>oe(z({},T),{[C]:""}))},S=()=>{const C={};return i.subject.trim()||(C.subject="Task subject is required"),f(C),Object.keys(C).length===0},D=C=>ge(null,null,function*(){if(C.preventDefault(),!h&&S()){if(i.exp_start_date&&i.exp_end_date){const k=new Date(i.exp_start_date);if(new Date(i.exp_end_date)<k){mn.error("End date cannot be earlier than start date");return}}if(i.exp_end_date&&(w!=null&&w.expected_end_date)){const k=new Date(i.exp_end_date),T=new Date(w.expected_end_date);if(k>T){mn.error(`Task end date cannot be after project end date (${w.expected_end_date})`);return}}p(!0);try{const k=oe(z({},i),{project:n,expected_time:Number(i.expected_time),task_weight:Number(i.task_weight),exp_start_date:i.exp_start_date||void 0,exp_end_date:i.exp_end_date||void 0,phaseId:s,assign_to:i.assign_to||void 0});console.log("Creating task with data:",k),console.log("Date fields:",{exp_start_date:i.exp_start_date,exp_end_date:i.exp_end_date});const T=yield g(k);console.log("Task with phase created:",T);let R=`Task "${i.subject}" has been created successfully.`;T.todo&&i.assign_to&&(console.log("Task assigned and ToDo created for:",i.assign_to),R+=` Task has been assigned to ${i.assign_to}.`),mn.success("Task created successfully",{description:R}),c({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),f({}),a&&a(),t()}catch(k){console.error("Error creating task:",k);let T="Failed to create task. Please try again.";k!=null&&k.message&&(k.message.includes("Expected End Date cannot be after Project")?T="Task end date cannot be after the project end date. Please choose an earlier date.":k.message.includes("InvalidDates")?T="Invalid date configuration. Please check your task dates.":T=k.message),k!=null&&k.exception&&typeof k.exception=="string"&&k.exception.includes("Expected End Date cannot be after Project")&&(T="Task end date cannot be after the project end date. Please choose an earlier date."),mn.error("Failed to create task",{description:T}),f({submit:T})}finally{p(!1)}}}),A=()=>{c({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),f({}),t()};return l.jsx(as,{open:e,onOpenChange:A,children:l.jsxs(is,{className:"sm:max-w-[600px]",children:[l.jsxs(os,{children:[l.jsxs(ls,{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:"📝"}),"Create New Task"]}),l.jsxs(Ro,{children:["Create a new task for project: ",l.jsx("strong",{children:n}),s&&l.jsxs(l.Fragment,{children:[l.jsx("br",{}),l.jsx("span",{className:"text-blue-600",children:"🔗 This task will be linked to the current phase"})]}),l.jsx("br",{}),l.jsx("span",{className:"text-gray-600",children:"💡 Assigning to a user will automatically create a ToDo item for them"})]})]}),l.jsxs("form",{onSubmit:D,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(ze,{htmlFor:"subject",children:"Task Subject *"}),l.jsx(Ut,{id:"subject",value:i.subject,onChange:C=>N("subject",C.target.value),placeholder:"Enter task subject...",className:d.subject?"border-red-500":""}),d.subject&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(ze,{htmlFor:"description",children:"Description"}),l.jsx("textarea",{id:"description",value:i.description,onChange:C=>N("description",C.target.value),placeholder:"Enter task description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(ze,{htmlFor:"priority",children:"Priority"}),l.jsxs("select",{id:"priority",value:i.priority,onChange:C=>N("priority",C.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[l.jsx("option",{value:"Low",children:"Low"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"High",children:"High"}),l.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(ze,{htmlFor:"status",children:"Status"}),l.jsxs("select",{id:"status",value:i.status,onChange:C=>N("status",C.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[l.jsx("option",{value:"Open",children:"Open"}),l.jsx("option",{value:"Working",children:"Working"}),l.jsx("option",{value:"Overdue",children:"Overdue"}),l.jsx("option",{value:"Pending Review",children:"Pending Review"}),l.jsx("option",{value:"Completed",children:"Completed"}),l.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(ze,{htmlFor:"assign_to",children:"Assign To"}),l.jsxs("select",{id:"assign_to",value:i.assign_to,onChange:C=>N("assign_to",C.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",disabled:_,children:[l.jsx("option",{value:"",children:"Select user to assign (Optional)"}),y==null?void 0:y.map(C=>l.jsxs("option",{value:C.user||C.name,children:[C.full_name||C.name,C.email&&` (${C.email})`]},C.user||C.name))]}),_&&l.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!_&&y&&y.length>10&&l.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(ze,{htmlFor:"expected_time",children:"Expected Time (hours)"}),l.jsx(Ut,{id:"expected_time",type:"number",min:"0",step:"0.5",value:i.expected_time,onChange:C=>N("expected_time",Number(C.target.value)),placeholder:"0"})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(ze,{htmlFor:"task_weight",children:"Task Weight"}),l.jsx(Ut,{id:"task_weight",type:"number",min:"1",value:i.task_weight,onChange:C=>N("task_weight",Number(C.target.value)),placeholder:"1"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"exp_start_date",children:"Expected Start Date"}),l.jsx(Ut,{id:"exp_start_date",type:"date",value:i.exp_start_date,onChange:C=>N("exp_start_date",C.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"exp_end_date",children:"Expected End Date"}),l.jsx(Ut,{id:"exp_end_date",type:"date",value:i.exp_end_date,onChange:C=>N("exp_end_date",C.target.value),max:(w==null?void 0:w.expected_end_date)||void 0}),(w==null?void 0:w.expected_end_date)&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",w.expected_end_date]})]})]})]}),d.submit&&l.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),l.jsxs(ws,{children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:A,children:"Cancel"}),l.jsx(Ve,{type:"submit",disabled:b||h,children:b||h?"Creating...":"Create Task"})]})]})]})})},YH=({phase:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var R;const{updatePhase:i,isLoading:c,error:d}=_6(),{assignPhase:f,unassignPhase:h}=cE(),{currentUser:p}=lr(),{data:g,isLoading:b}=uc(t),{data:y}=Sn("Project",t||"",t?"Project":void 0),_=(y==null?void 0:y.users)||[],{data:w}=Mt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","project_phase"],["reference_name","=",(e==null?void 0:e.name)||""]]}),N=()=>{if(p==="Administrator"||(y==null?void 0:y.owner)===p)return!0;const P=_.find(U=>U.user===p);return(P==null?void 0:P.project_status)==="Project Manager (Owner Substitute)"},[S,D]=j.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,details:"",costing:0,assign_to:""}),A=((R=w==null?void 0:w[0])==null?void 0:R.allocated_to)||"";j.useEffect(()=>{e&&D({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:A})},[e,A]);const C=(P,U)=>{D(X=>oe(z({},X),{[P]:U}))},k=P=>ge(null,null,function*(){if(P.preventDefault(),!!e){if(S.status==="Completed"&&!N()){mn.error("Permission denied",{description:"You don't have permission to mark this phase as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}try{const U=S,{assign_to:X}=U,H=Ae(U,["assign_to"]);yield i(e.name,H);const K=A,Y=X;if(K&&K!==Y){const te=w==null?void 0:w.find(W=>W.allocated_to===K);te&&(yield h(te.name))}Y&&Y!==K&&(yield f(e.name,Y)),mn.success("Phase updated successfully",{description:`Phase "${S.subject}" has been updated.`}),a&&a(),s()}catch(X){console.error("Error updating phase:",X),mn.error("Failed to update phase",{description:X instanceof Error?X.message:"An unexpected error occurred."})}}}),T=()=>{e&&D({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:A}),s()};return l.jsx(as,{open:n,onOpenChange:s,children:l.jsxs(is,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsx(os,{children:l.jsx(ls,{children:"Edit Phase"})}),l.jsxs("form",{onSubmit:k,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"subject",children:"Subject *"}),l.jsx(Ut,{id:"subject",value:S.subject,onChange:P=>C("subject",P.target.value),required:!0,placeholder:"Enter phase subject"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"status",children:"Status"}),l.jsxs("select",{id:"status",value:S.status,onChange:P=>C("status",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"Open",children:"Open"}),l.jsx("option",{value:"Working",children:"Working"}),l.jsx("option",{value:"Pending Review",children:"Pending Review"}),N()&&l.jsx("option",{value:"Completed",children:"Completed"}),l.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),!N()&&l.jsx("span",{className:"text-xs text-amber-600",children:"You don't have permission to mark Completed"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"priority",children:"Priority"}),l.jsxs("select",{id:"priority",value:S.priority,onChange:P=>C("priority",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"Low",children:"Low"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"High",children:"High"}),l.jsx("option",{value:"Critical",children:"Critical"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"start_date",children:"Start Date"}),l.jsx(Ut,{id:"start_date",type:"date",value:S.start_date,onChange:P=>C("start_date",P.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"end_date",children:"End Date"}),l.jsx(Ut,{id:"end_date",type:"date",value:S.end_date,onChange:P=>C("end_date",P.target.value)})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"progress",children:"Progress (%)"}),l.jsx(Ut,{id:"progress",type:"number",min:"0",max:"100",value:S.progress,onChange:P=>C("progress",parseInt(P.target.value)||0),placeholder:"0"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"costing",children:"Costing"}),l.jsx(Ut,{id:"costing",type:"number",min:"0",step:"0.01",value:S.costing,onChange:P=>C("costing",parseFloat(P.target.value)||0),placeholder:"0.00"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"details",children:"Details"}),l.jsx("textarea",{id:"details",value:S.details,onChange:P=>C("details",P.target.value),placeholder:"Enter phase details",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"assign_to",children:"Assign To"}),l.jsxs("select",{id:"assign_to",value:S.assign_to,onChange:P=>C("assign_to",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,children:[l.jsx("option",{value:"",children:"Select user..."}),g==null?void 0:g.map(P=>l.jsx("option",{value:P.user||P.name,children:P.user||P.name},P.name))]}),b&&l.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&l.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update phase"]})}),l.jsxs(ws,{className:"flex gap-2",children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:T,children:"Cancel"}),l.jsx(Ve,{type:"submit",disabled:c,children:c?"Updating...":"Update Phase"})]})]})]})})},XH=({phase:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:i,error:c}=ms("frappe.client.delete"),d=()=>ge(null,null,function*(){if(e)try{yield a({doctype:"project_phase",name:e.name}),s&&s(),n()}catch(h){console.error("Error deleting phase:",h)}}),f=()=>{n()};return l.jsx(as,{open:t,onOpenChange:n,children:l.jsxs(is,{className:"sm:max-w-[400px]",children:[l.jsx(os,{children:l.jsxs(ls,{className:"flex items-center gap-2 text-red-600",children:[l.jsx(um,{className:"h-5 w-5"}),"Delete Phase"]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this phase? This action cannot be undone."}),e&&l.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[l.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]})]}),l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[l.jsxs("div",{className:"text-sm text-red-800",children:[l.jsx("strong",{children:"Warning:"})," Deleting this phase will also remove:"]}),l.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[l.jsx("li",{children:"All tasks associated with this phase"}),l.jsx("li",{children:"All phase progress data"}),l.jsx("li",{children:"Phase timeline and milestones"}),l.jsx("li",{children:"Related documents and attachments"})]})]}),c&&l.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete phase"]})})]}),l.jsxs(ws,{className:"flex gap-2",children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:f,children:"Cancel"}),l.jsx(Ve,{type:"button",variant:"destructive",onClick:d,disabled:i,children:i?"Deleting...":"Delete Phase"})]})]})})};function eb({doctype:e,docname:t,title:n="File Attachments",allowUpload:s=!0,allowDelete:a=!0,className:i=""}){const[c,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(null),[b,y]=j.useState(!1),[_,w]=j.useState(""),[N,S]=j.useState(""),[D,A]=j.useState(!1),C=j.useRef(null),{currentUser:k}=lr(),{data:T,mutate:R,isLoading:P}=Mt("File",{fields:["name","file_name","file_url","file_size","is_private","attached_to_doctype","attached_to_name","creation","owner","modified"],filters:[["attached_to_doctype","=",e],["attached_to_name","=",t]],orderBy:{field:"creation",order:"desc"},limit:0}),{call:U}=ms("frappe.client.delete"),X=L=>{var re;if(ee(L))return l.jsx(Df,{className:"h-6 w-6 text-blue-500"});switch((re=L.file_name.split(".").pop())==null?void 0:re.toLowerCase()){case"pdf":return l.jsx(Vl,{className:"h-6 w-6 text-red-500"});case"doc":case"docx":return l.jsx(Vl,{className:"h-6 w-6 text-blue-500"});case"xls":case"xlsx":return l.jsx(Vl,{className:"h-6 w-6 text-green-500"});case"ppt":case"pptx":return l.jsx(Vl,{className:"h-6 w-6 text-orange-500"});case"jpg":case"jpeg":case"png":case"gif":case"webp":return l.jsx(yP,{className:"h-6 w-6 text-purple-500"});case"zip":case"rar":case"7z":return l.jsx(PM,{className:"h-6 w-6 text-gray-500"});default:return l.jsx(Af,{className:"h-6 w-6 text-gray-500"})}},H=L=>{if(L===0)return"0 Bytes";const le=1024,re=["Bytes","KB","MB","GB"],B=Math.floor(Math.log(L)/Math.log(le));return parseFloat((L/Math.pow(le,B)).toFixed(2))+" "+re[B]},K=L=>ge(null,null,function*(){var ye;if(!L||L.length===0)return;const le=25*1024*1024,re=Array.from(L).filter(he=>he.size>le);if(re.length>0){const he=re.map(Ce=>Ce.name).join(", ");setTimeout(()=>{_r.error(`File(s) too large: ${he}. Maximum size is 25MB per file.`)},100);return}d(!0);let B=0,ne=0;try{for(let he=0;he<L.length;he++){const Ce=L[he],ke=new FormData;ke.append("file",Ce),ke.append("doctype",e),ke.append("docname",t),ke.append("is_private","0");try{const We=yield fetch("/api/method/upload_file",{method:"POST",body:ke,credentials:"include"});if(!We.ok){const qe=yield We.text();throw qe.includes("too large")||qe.includes("size")||We.status===413?new Error(`File "${Ce.name}" is too large. Maximum size is 25MB.`):new Error(`Upload failed for "${Ce.name}": ${We.statusText}`)}let Ue;try{Ue=yield We.json()}catch(qe){console.log("Response is not JSON, assuming success")}if((ye=Ue==null?void 0:Ue.message)!=null&&ye.error)throw new Error(`Upload failed for "${Ce.name}": ${Ue.message.error}`);B++}catch(We){console.error(`Error uploading file ${Ce.name}:`,We);const Ue=We instanceof Error?We.message:String(We);(Ue.includes("too large")||Ue.includes("25MB"))&&Ce.size>le&&setTimeout(()=>{_r.error(Ue)},100),ne++}}setTimeout(()=>ge(null,null,function*(){yield R()}),500)}catch(he){}finally{d(!1)}}),Y=L=>ge(null,null,function*(){if(confirm(`Are you sure you want to delete "${L.file_name}"?`))try{yield U({doctype:"File",name:L.name}),yield R()}catch(le){console.error("Error deleting file:",le),_r.error("Failed to delete file")}}),te=()=>ge(null,null,function*(){if(!_.trim()){_r.error("Please enter a URL");return}try{new URL(_)}catch(L){_r.error("Please enter a valid URL");return}A(!0);try{if(!(yield fetch("/api/method/frappe.client.insert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doc:{doctype:"File",file_name:N.trim()||_,file_url:_,attached_to_doctype:e,attached_to_name:t,is_private:0}}),credentials:"include"})).ok)throw new Error("Failed to attach link");w(""),S(""),y(!1),yield R(),_r.success("Link attached successfully")}catch(L){console.error("Error attaching link:",L),_r.error("Failed to attach link")}finally{A(!1)}}),W=L=>ge(null,null,function*(){const le=L.target.files;le&&le.length>0&&(yield K(le)),L.target.value=""}),V=L=>{g(L),h(!0)},Q=L=>{var re;const le=(re=L.split(".").pop())==null?void 0:re.toLowerCase();return["jpg","jpeg","png","gif","webp","svg"].includes(le||"")},ee=L=>{const le=L.file_url.startsWith("http://")||L.file_url.startsWith("https://"),re=L.file_size===0,B=L.file_name.startsWith("http://")||L.file_name.startsWith("https://"),ne=!L.file_name.includes(".")||L.file_name.split(".").length<2;return le&&(re||B||ne)},ce=L=>a&&(L.owner===k||k==="Administrator");return l.jsxs("div",{className:`bg-white border border-gray-200 rounded-xl p-6 ${i}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[l.jsx(Af,{className:"h-5 w-5"}),n,T&&l.jsx("span",{className:"inline-flex px-2 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:T.length})]}),s&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Ve,{size:"sm",onClick:()=>{var L;return(L=C.current)==null?void 0:L.click()},disabled:c,className:"bg-blue-600 hover:bg-blue-700",children:[l.jsx(KP,{className:"h-4 w-4 mr-1"}),c?"Uploading...":"Upload Files"]}),l.jsxs(Ve,{size:"sm",variant:"outline",onClick:()=>y(!0),disabled:c||D,className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:[l.jsx(Df,{className:"h-4 w-4 mr-1"}),"Attach Link"]}),l.jsx("input",{ref:C,type:"file",multiple:!0,accept:"*/*",onChange:W,className:"hidden",style:{display:"none"}})]})]}),P&&l.jsxs("div",{className:"flex items-center justify-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading attachments..."})]}),!P&&l.jsx(l.Fragment,{children:T&&T.length>0?l.jsx("div",{className:"space-y-3",children:T.map(L=>l.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[l.jsx("div",{className:"flex-shrink-0",children:X(L)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:L.file_name}),l.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[l.jsx("p",{className:"text-xs text-gray-500",children:H(L.file_size)}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded by ",L.owner]}),l.jsx("p",{className:"text-xs text-gray-500",children:new Date(L.creation).toLocaleDateString()}),L.is_private===1&&l.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded",children:"Private"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[Q(L.file_name)&&!ee(L)&&l.jsxs(Ve,{size:"sm",variant:"outline",onClick:()=>V(L),className:"text-xs",children:[l.jsx(cP,{className:"h-3 w-3 mr-1"}),"Preview"]}),l.jsx(Ve,{size:"sm",variant:"outline",onClick:()=>window.open(L.file_url,"_blank"),className:"text-xs",children:ee(L)?l.jsxs(l.Fragment,{children:[l.jsx(oP,{className:"h-3 w-3 mr-1"}),"Open Link"]}):l.jsxs(l.Fragment,{children:[l.jsx(Cj,{className:"h-3 w-3 mr-1"}),"Download"]})}),ce(L)&&l.jsxs(Ve,{size:"sm",variant:"outline",onClick:()=>Y(L),className:"text-xs text-red-600 hover:text-red-700",children:[l.jsx(Po,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]},L.name))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Af,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No files attached"}),l.jsx("p",{className:"text-gray-500 text-sm mt-2",children:s?"Upload files to attach them to this project":"No files have been attached to this project"})]})}),l.jsx(as,{open:b,onOpenChange:y,children:l.jsxs(is,{className:"max-w-md",children:[l.jsx(os,{children:l.jsxs(ls,{className:"flex items-center gap-2",children:[l.jsx(Df,{className:"h-5 w-5"}),"Attach Link"]})}),l.jsxs("div",{className:"space-y-4 pt-4",children:[l.jsxs("div",{children:[l.jsx(ze,{htmlFor:"link-url",className:"text-sm font-medium",children:"URL *"}),l.jsx(Ut,{id:"link-url",type:"url",placeholder:"https://example.com",value:_,onChange:L=>w(L.target.value),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(ze,{htmlFor:"link-title",className:"text-sm font-medium",children:"Title (optional)"}),l.jsx(Ut,{id:"link-title",type:"text",placeholder:"Enter a descriptive title",value:N,onChange:L=>S(L.target.value),className:"mt-1"})]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx(Ve,{onClick:te,disabled:!_.trim()||D,className:"flex-1",children:D?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Attaching..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Df,{className:"h-4 w-4 mr-2"}),"Attach Link"]})}),l.jsx(Ve,{variant:"outline",onClick:()=>{y(!1),w(""),S("")},disabled:D,children:"Cancel"})]})]})]})}),f&&p&&l.jsx(as,{open:f,onOpenChange:h,children:l.jsxs(is,{className:"max-w-4xl max-h-[80vh] overflow-hidden",children:[l.jsx(os,{children:l.jsx(ls,{className:"flex items-center justify-between",children:l.jsx("span",{children:p.file_name})})}),l.jsx("div",{className:"flex items-center justify-center p-4",children:Q(p.file_name)?l.jsx("img",{src:p.file_url,alt:p.file_name,className:"max-w-full max-h-[60vh] object-contain"}):l.jsxs("div",{className:"text-center",children:[l.jsx(Af,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Preview not available for this file type"}),l.jsxs(Ve,{className:"mt-4",onClick:()=>window.open(p.file_url,"_blank"),children:[l.jsx(Cj,{className:"h-4 w-4 mr-2"}),"Download File"]})]})})]})})]})}const GH=({phase:e,projectName:t,onBack:n,onViewTaskDetails:s,onPhaseUpdated:a,onPhaseDeleted:i,onTaskCreated:c})=>{var ee;const[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,b]=j.useState(!1),[y,_]=j.useState(!1),[w,N]=j.useState(!1),{calculateAndUpdatePhaseProgress:S}=mE(),{data:D,mutate:A}=Sn("project_phase",e.name,"project_phase"),C=D||e,{data:k,isLoading:T,mutate:R}=Mt("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",t]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),P=se.useMemo(()=>{if(!k)return[];if(C.tasks&&C.tasks.length>0){const ce=C.tasks.map(L=>L.task);return k.filter(L=>ce.includes(L.name))}return[]},[k,C.tasks]),U=se.useMemo(()=>{if(!P||P.length===0)return 0;const ce=P.reduce((L,le)=>L+(le.progress||0),0);return Math.round(ce/P.length)},[P]);j.useEffect(()=>{P.length>0&&U!==(C.progress||0)&&X()},[U,P.length]);const X=()=>ge(null,null,function*(){_(!0);try{yield S(e.name),yield A(),a&&a()}catch(ce){console.error("Error recalculating phase progress:",ce)}finally{_(!1)}}),H=ce=>ce?new Date(ce).toLocaleDateString():"N/A",K=ce=>ce?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ce):"$0",Y=ce=>{switch(ce){case"Completed":return l.jsx(Gx,{className:"h-5 w-5 text-green-600"});case"Working":return l.jsx(sc,{className:"h-5 w-5 text-yellow-600"});case"Open":return l.jsx(Zl,{className:"h-5 w-5 text-blue-600"});default:return l.jsx(Zl,{className:"h-5 w-5 text-gray-400"})}},te=ce=>{switch(ce){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},W=ce=>{switch(ce){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},V=()=>ge(null,null,function*(){N(!0);try{yield A(),yield R(),a&&(yield a()),setTimeout(()=>ge(null,null,function*(){_(!0);try{yield S(C.name),setTimeout(()=>ge(null,null,function*(){yield A()}),500)}catch(ce){console.error("Error recalculating phase progress:",ce)}finally{_(!1)}}),500)}finally{N(!1)}}),Q=()=>{i&&i(),n()};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ve,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[l.jsx(Xx,{className:"h-4 w-4"}),"Back to Tasks"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Ve,{variant:"outline",size:"sm",onClick:()=>p(!0),disabled:w||y,className:"flex items-center gap-2",children:[l.jsx(Wl,{className:`h-4 w-4 ${w?"animate-pulse":""}`}),w?"Updating...":"Edit Phase"]}),l.jsxs(Ve,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[l.jsx(Po,{className:"h-4 w-4"}),"Delete Phase"]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500 flex items-center justify-center",children:l.jsx("span",{className:"text-xl",children:"📋"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:C.subject}),l.jsx("p",{className:"text-sm text-gray-600",children:"Phase Details"})]})]}),C.details&&l.jsx("p",{className:"text-gray-700 leading-relaxed",children:C.details})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${te(C.status||"Open")}`,children:[Y(C.status||"Open"),l.jsx("span",{className:"font-medium",children:C.status||"Open"})]}),C.priority&&l.jsx("div",{className:`px-3 py-1 rounded-full border ${W(C.priority)}`,children:l.jsx("span",{className:"text-sm font-medium",children:C.priority})})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phase Progress"}),P.length>0&&l.jsxs("span",{className:"text-xs text-gray-500",children:["(Auto-calculated from ",P.length," tasks)"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[U,"%"]}),l.jsx(Ve,{variant:"ghost",size:"sm",onClick:X,disabled:y,className:"h-8 w-8 p-0",title:"Recalculate progress from tasks",children:l.jsx(QN,{className:`h-4 w-4 ${y?"animate-spin":""}`})})]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${U}%`}})}),P.length>0&&l.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Task progress: ",P.map(ce=>`${ce.subject}: ${ce.progress||0}%`).join(", ")]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:l.jsx(Vr,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),l.jsx("p",{className:"text-lg font-bold text-gray-900",children:H(C.start_date)})]})]})}),l.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:l.jsx(Zx,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),l.jsx("p",{className:"text-lg font-bold text-gray-900",children:H(C.end_date)})]})]})}),l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:l.jsx(Kx,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Estimated Cost"}),l.jsx("p",{className:"text-lg font-bold text-gray-900",children:K(C.costing)})]})]})})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Phase Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Phase ID"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:C.name})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),l.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${te(C.status||"Open")}`,children:[Y(C.status||"Open"),l.jsx("span",{className:"font-medium",children:C.status||"Open"})]})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),l.jsx("div",{className:`px-3 py-1 rounded-full ${W(C.priority||"Medium")}`,children:l.jsx("span",{className:"font-medium",children:C.priority||"Medium"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Tasks Count"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:((ee=C.tasks)==null?void 0:ee.length)||0})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:C.start_date&&C.end_date?`${Math.ceil((new Date(C.end_date).getTime()-new Date(C.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[U,"%"]}),P.length>0&&l.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",P.length," tasks)"]})]})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Estimated Cost"}),l.jsx("span",{className:"text-xl font-bold text-green-600",children:K(e.costing)})]})]})]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Tasks in this Phase"})}),T?l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),l.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),l.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):l.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[l.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:l.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[l.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),l.jsx("div",{className:"col-span-4 text-sm font-medium text-gray-700",children:"Task"}),l.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Progress"}),l.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),l.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700 text-center",children:"Priority"}),l.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),l.jsxs("div",{className:"divide-y divide-gray-100",children:[P&&P.length>0?P.map((ce,L)=>l.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[l.jsx("div",{className:"col-span-1 flex items-center",children:l.jsx("span",{className:"text-sm text-gray-600",children:L+1})}),l.jsxs("div",{className:"col-span-4 flex items-center gap-3",children:[l.jsx("div",{className:"p-1 bg-orange-100 rounded",children:l.jsx("span",{className:"text-sm",children:"📝"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:ce.subject||ce.name}),l.jsx("div",{className:"text-sm text-gray-500",children:ce.name})]})]}),l.jsx("div",{className:"col-span-2 flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${ce.progress||0}%`}})}),l.jsxs("span",{className:"text-sm font-medium text-gray-700 min-w-[30px]",children:[ce.progress||0,"%"]})]})}),l.jsx("div",{className:"col-span-2 flex items-center justify-center",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${te(ce.status||"Open")}`,children:ce.status||"Open"})}),l.jsx("div",{className:"col-span-1 flex items-center justify-center",children:ce.priority&&l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${W(ce.priority)}`,children:ce.priority})}),l.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&l.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>s(ce),className:"h-7 px-2 text-xs",children:"View Details"})})]},ce.name)):l.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[l.jsx("div",{className:"text-4xl mb-2",children:"📝"}),l.jsx("div",{className:"text-lg font-medium mb-1",children:"No tasks yet"}),l.jsx("div",{className:"text-sm",children:'Click "Add Task" to create the first task for this phase'})]}),l.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:l.jsx("div",{className:"col-span-12 flex items-center justify-center",children:l.jsxs(Ve,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>f(!0),children:[l.jsx(Mo,{className:"h-4 w-4"}),"Add new task to this phase"]})})})]})]})]}),l.jsx(eb,{doctype:"project_phase",docname:e.name,title:"Phase Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),l.jsx(WH,{isOpen:d,onClose:()=>f(!1),projectName:t,phaseId:e.name,onSuccess:()=>ge(null,null,function*(){yield A(),c&&(yield c()),setTimeout(()=>ge(null,null,function*(){yield R(),setTimeout(()=>ge(null,null,function*(){yield X()}),500)}),500)})}),l.jsx(YH,{phase:e,projectName:t,isOpen:h,onClose:()=>p(!1),onSuccess:V}),l.jsx(XH,{phase:e,isOpen:g,onClose:()=>b(!1),onSuccess:Q})]})},KH=({isOpen:e,onClose:t,projectName:n,parentTask:s,onSuccess:a})=>{const[i,c]=j.useState({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),[d,f]=j.useState({}),{createDoc:h,loading:p}=Bi(),{assignSubTask:g}=xy(),{calculateAndUpdateTaskProgress:b}=cd(),{data:y,isLoading:_}=uc(n),w=(A,C)=>{c(k=>oe(z({},k),{[A]:C})),d[A]&&f(k=>oe(z({},k),{[A]:""}))},N=()=>{const A={};return i.subject.trim()||(A.subject="SubTask subject is required"),i.task.trim()||(A.task="Parent task is required"),f(A),Object.keys(A).length===0},S=A=>ge(null,null,function*(){if(A.preventDefault(),!!N())try{const C=i,{assign_to:k}=C,T=Ae(C,["assign_to"]),R=yield h("SubTask",oe(z({},T),{project:n}));if(k&&R&&(yield g(R.name,k)),s)try{yield b(s)}catch(P){console.error("Error updating task progress after subtask creation:",P)}c({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),f({}),a&&a(),t()}catch(k){console.error("Error creating subtask:",k),f({submit:"Failed to create subtask. Please try again."})}}),D=()=>{c({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),f({}),t()};return l.jsx(as,{open:e,onOpenChange:D,children:l.jsxs(is,{className:"sm:max-w-[600px]",children:[l.jsxs(os,{children:[l.jsxs(ls,{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:"📌"}),"Create New SubTask"]}),l.jsxs(Ro,{children:["Create a new subtask for project: ",l.jsx("strong",{children:n}),s&&l.jsxs("span",{className:"block mt-1",children:["Parent Task: ",l.jsx("strong",{children:s})]})]})]}),l.jsxs("form",{onSubmit:S,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(ze,{htmlFor:"subject",children:"SubTask Subject *"}),l.jsx(Ut,{id:"subject",value:i.subject,onChange:A=>w("subject",A.target.value),placeholder:"Enter subtask subject...",className:d.subject?"border-red-500":""}),d.subject&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(ze,{htmlFor:"task",children:"Parent Task *"}),l.jsx(Ut,{id:"task",value:i.task,onChange:A=>w("task",A.target.value),placeholder:"Enter parent task ID...",className:d.task?"border-red-500":""}),d.task&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.task}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the Task ID that this subtask belongs to"})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(ze,{htmlFor:"description",children:"Description"}),l.jsx("textarea",{id:"description",value:i.description,onChange:A=>w("description",A.target.value),placeholder:"Enter subtask description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"assign_to",children:"Assign To"}),l.jsxs("select",{id:"assign_to",value:i.assign_to,onChange:A=>w("assign_to",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:_,children:[l.jsx("option",{value:"",children:"Select user..."}),y==null?void 0:y.map(A=>l.jsx("option",{value:A.user||A.name,children:A.user||A.name},A.name))]}),_&&l.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(ze,{htmlFor:"priority",children:"Priority"}),l.jsxs("select",{id:"priority",value:i.priority,onChange:A=>w("priority",A.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[l.jsx("option",{value:"Low",children:"Low"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"High",children:"High"})]})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(ze,{htmlFor:"status",children:"Status"}),l.jsxs("select",{id:"status",value:i.status,onChange:A=>w("status",A.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[l.jsx("option",{value:"Open",children:"Open"}),l.jsx("option",{value:"Working",children:"Working"}),l.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]}),d.submit&&l.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),l.jsxs(ws,{children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:D,children:"Cancel"}),l.jsx(Ve,{type:"submit",disabled:p,children:p?"Creating...":"Create SubTask"})]})]})]})})},QH=({task:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{const{updateTask:i,isLoading:c,error:d}=iE(),{assignTask:f,unassignTask:h}=oE(),{updateTaskProgress:p}=fE(),{updateTaskProgressByStatus:g}=dE(),{currentUser:b}=lr(),{data:y,isLoading:_}=uc(t),{data:w}=Sn("Project",t),N=(w==null?void 0:w.users)||[],{data:S}=Mt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","Task"],["reference_name","=",(e==null?void 0:e.name)||""]]}),{data:D}=Mt("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.name)||""]],limit:1}),A=()=>{if(b==="Administrator"||(w==null?void 0:w.owner)===b)return!0;const H=N.find(K=>K.user===b);return(H==null?void 0:H.project_status)==="Project Manager (Owner Substitute)"},[C,k]=j.useState({subject:"",status:"Open",priority:"Medium",exp_start_date:"",exp_end_date:"",progress:0,description:"",assign_to:""}),[T,R]=j.useState(!1);j.useEffect(()=>{var H;if(e){const K=((H=S==null?void 0:S[0])==null?void 0:H.allocated_to)||"";k({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:K})}},[e,S]),j.useEffect(()=>{R(!!(D&&D.length>0))},[D]);const P=(H,K)=>{k(Y=>oe(z({},Y),{[H]:K}))},U=H=>ge(null,null,function*(){var K,Y,te;if(H.preventDefault(),!!e){if(C.status==="Completed"&&!A()){mn.error("Permission denied",{description:"You don't have permission to mark this task as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}if(C.exp_start_date&&C.exp_end_date){const W=new Date(C.exp_start_date);if(new Date(C.exp_end_date)<W){mn.error("End date cannot be earlier than start date");return}}if(C.exp_end_date&&(w!=null&&w.expected_end_date)){const W=new Date(C.exp_end_date),V=new Date(w.expected_end_date);if(W>V){mn.error(`Task end date cannot be after project end date (${w.expected_end_date})`);return}}try{const W=C.progress!==(e.progress||0),V=C.status!==e.status;T&&W?yield p(e.name,C.progress):V&&(C.status==="Completed"||C.status==="Cancelled")?yield g(e.name,C.status):yield i(e.name,C);const Q=((K=S==null?void 0:S[0])==null?void 0:K.allocated_to)||"",ee=C.assign_to;if(Q!==ee){if(Q&&(S!=null&&S[0]))try{yield h(S[0].name)}catch(ce){console.error("Error deleting old ToDo:",ce)}if(ee)try{yield f(e.name,C.subject,ee,C.priority)}catch(ce){console.error("Error creating new ToDo:",ce)}}mn.success("Task updated successfully",{description:`Task "${C.subject}" has been updated.`}),a&&a(),s()}catch(W){console.error("Error updating task:",W);let V="Failed to update task";(Y=W==null?void 0:W.message)!=null&&Y.includes("modified")?V="The task has been modified by someone else. Please close and reopen the task to get the latest version.":(te=W==null?void 0:W.message)!=null&&te.includes("permission")?V="You do not have permission to update this task.":W!=null&&W.message&&(V=W.message),mn.error("Failed to update task",{description:V})}}}),X=()=>{var H;if(e){const K=((H=S==null?void 0:S[0])==null?void 0:H.allocated_to)||"";k({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:K})}s()};return l.jsx(as,{open:n,onOpenChange:s,children:l.jsxs(is,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsx(os,{children:l.jsx(ls,{children:"Edit Task"})}),l.jsxs("form",{onSubmit:U,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"subject",children:"Subject *"}),l.jsx(Ut,{id:"subject",value:C.subject,onChange:H=>P("subject",H.target.value),required:!0,placeholder:"Enter task subject"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"status",children:"Status"}),l.jsxs("select",{id:"status",value:C.status,onChange:H=>P("status",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"Open",children:"Open"}),l.jsx("option",{value:"Working",children:"Working"}),l.jsx("option",{value:"Pending Review",children:"Pending Review"}),l.jsx("option",{value:"Overdue",children:"Overdue"}),l.jsx("option",{value:"Template",children:"Template"}),A()&&l.jsx("option",{value:"Completed",children:"Completed"}),l.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),!A()&&l.jsx("span",{className:"text-xs text-amber-600",children:"You don't have permission to mark Completed"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"priority",children:"Priority"}),l.jsxs("select",{id:"priority",value:C.priority,onChange:H=>P("priority",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"Low",children:"Low"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"High",children:"High"}),l.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"assign_to",children:"Assign To"}),l.jsxs("select",{id:"assign_to",value:C.assign_to,onChange:H=>P("assign_to",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:_,children:[l.jsx("option",{value:"",children:"Select user to assign (Optional)"}),y==null?void 0:y.map(H=>l.jsxs("option",{value:H.user||H.name,children:[H.full_name||H.name,H.email&&` (${H.email})`]},H.user||H.name))]}),_&&l.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!_&&y&&y.length>10&&l.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"}),S&&S.length>0&&l.jsx("p",{className:"text-sm text-blue-600",children:"💡 Changing assignment will update the ToDo automatically"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"exp_start_date",children:"Expected Start Date"}),l.jsx(Ut,{id:"exp_start_date",type:"date",value:C.exp_start_date,onChange:H=>P("exp_start_date",H.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"exp_end_date",children:"Expected End Date"}),l.jsx(Ut,{id:"exp_end_date",type:"date",value:C.exp_end_date,onChange:H=>P("exp_end_date",H.target.value),max:(w==null?void 0:w.expected_end_date)||void 0}),(w==null?void 0:w.expected_end_date)&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",w.expected_end_date]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"progress",children:"Progress (%)"}),l.jsx(Ut,{id:"progress",type:"number",min:"0",max:"100",value:C.progress,onChange:H=>P("progress",parseInt(H.target.value)||0),placeholder:"0",disabled:T}),T?l.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[l.jsx("strong",{children:"🔄 Smart Progress Mode:"}),l.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[l.jsx("li",{children:"Progress is automatically calculated from subtasks"}),l.jsx("li",{children:"Only assignee can manually override progress"}),l.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):l.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[l.jsx("strong",{children:"✏️ Manual Progress Mode:"}),l.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"description",children:"Description"}),l.jsx("textarea",{id:"description",value:C.description,onChange:H=>P("description",H.target.value),placeholder:"Enter task description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),d&&l.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update task"]})}),l.jsxs(ws,{className:"flex gap-2",children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:X,children:"Cancel"}),l.jsx(Ve,{type:"submit",disabled:c,children:c?"Updating...":"Update Task"})]})]})]})})},ZH=({task:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteDoc:a,loading:i,error:c}=am(),[d,f]=j.useState(!1),h=()=>ge(null,null,function*(){var g,b;if(e){f(!0);try{const y=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name"],filters:[["task","=",e.name]]})});if(y.ok){const w=(yield y.json()).message||[];if(w.length>0)for(const N of w)yield a("SubTask",N.name)}try{const _=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e.project]],orderBy:{field:"start_date",order:"asc"}})});if(_.ok){const N=(yield _.json()).message||[],S=[];for(const D of N)try{const A=yield fetch(`/api/resource/project_phase/${D.name}`,{headers:{Accept:"application/json"}});if(A.ok){const C=yield A.json(),k=((g=C.data)==null?void 0:g.tasks)||[],T=k.findIndex(R=>R.task===e.name);T>=0&&(console.log(`Found task ${e.name} in phase ${D.name}, will remove from child table...`),k.splice(T,1),S.push({name:D.name,data:oe(z({},C.data),{tasks:k})}))}else console.warn("Failed to fetch phase:",D.name)}catch(A){console.error("Error fetching phase:",D.name,A)}for(const D of S)try{(yield fetch(`/api/resource/project_phase/${D.name}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(D.data)})).ok?console.log(`Successfully removed task ${e.name} from phase ${D.name}`):console.warn(`Failed to update phase ${D.name} after removing task`)}catch(A){console.error(`Error updating phase ${D.name}:`,A)}}else console.warn("Failed to fetch phases list, proceeding with task deletion...")}catch(_){console.warn("Error checking phases for task references:",_)}yield a("Task",e.name),console.log(`Successfully deleted task ${e.name}`),s&&s(),n()}catch(y){console.error("Error deleting task:",y),(b=y==null?void 0:y.exception)!=null&&b.includes("LinkExistsError")?y.exception.includes("project_phase")||y.exception.includes("phase")?alert("Cannot delete task because it is still linked with project phases. The system tried to remove phase task links automatically but failed. Please contact administrator."):y.exception.includes("SubTask")?alert("Cannot delete task because it has linked subtasks. Please delete all subtasks first."):alert("Cannot delete task because it has linked dependencies. Please check related records."):alert("Error deleting task. Please try again.")}finally{f(!1)}}}),p=()=>{n()};return l.jsx(as,{open:t,onOpenChange:n,children:l.jsxs(is,{className:"sm:max-w-[400px]",children:[l.jsx(os,{children:l.jsxs(ls,{className:"flex items-center gap-2 text-red-600",children:[l.jsx(um,{className:"h-5 w-5"}),"Delete Task"]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this task? This action cannot be undone."}),e&&l.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[l.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),e.project&&l.jsxs("div",{className:"text-sm text-blue-600",children:["Project: ",e.project]})]}),l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[l.jsxs("div",{className:"text-sm text-red-800",children:[l.jsx("strong",{children:"⚠️ Warning:"})," Deleting this task will automatically:"]}),l.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Delete ALL subtasks first"})," (to resolve SubTask dependencies)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Remove task from ALL phase child tables"})," (for any phases this task is assigned to)"]}),l.jsx("li",{children:"Remove all task progress data"}),l.jsx("li",{children:"Delete task timeline and activities"}),l.jsx("li",{children:"Remove related comments and attachments"})]}),l.jsx("div",{className:"text-xs text-red-600 mt-2 font-medium",children:"💡 The system will automatically search and handle ALL dependencies to prevent LinkExistsError."})]}),c&&l.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete task"]})})]}),l.jsxs(ws,{className:"flex gap-2",children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:p,disabled:d,children:"Cancel"}),l.jsx(Ve,{type:"button",variant:"destructive",onClick:h,disabled:d||i,children:d?"Deleting Task & SubTasks...":i?"Deleting...":"Delete Task"})]})]})})},tb=()=>{const{calculateAndUpdatePhaseProgress:e}=mE(),{calculateAndUpdateProjectProgress:t}=E6();return{updatePhaseProgressForTask:(a,i)=>ge(null,null,function*(){try{const c=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","tasks"],filters:[["project","=",i]]})});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const f=(yield c.json()).message||[],h=[];for(const p of f)try{const g=yield fetch(`/api/resource/project_phase/${p.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(g.ok){const b=yield g.json();b.data.tasks&&b.data.tasks.some(y=>y.task===a)&&h.push(p)}}catch(g){console.warn("Error fetching phase document:",p.name,g)}console.log(`Found ${h.length} phases affected by task ${a}`);for(const p of h)console.log(`Updating progress for phase ${p.name} after task ${a} change`),yield e(p.name);return console.log(`Updating overall project progress for ${i} after task ${a} change`),yield t(i),console.log(`Updated progress for ${h.length} phases and project ${i} affected by task ${a}`),h}catch(c){return console.error("Error updating phase progress for task:",c),[]}}),updateProjectProgress:a=>ge(null,null,function*(){try{console.log(`Updating overall project progress for ${a}`);const i=yield t(a);return i&&console.log(`Project ${a} progress updated to ${i.progress}% from ${i.source} (${i.count} items)`),i}catch(i){return console.error("Error updating project progress:",i),null}})}},JH=({task:e,projectName:t,onBack:n,onViewSubTaskDetails:s,onTaskUpdated:a,onTaskDeleted:i})=>{const[c,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),{updatePhaseProgressForTask:b}=tb(),{calculateAndUpdateTaskProgress:y}=cd(),{data:_,isLoading:w,mutate:N}=Mt("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:[["task","=",e.name]],orderBy:{field:"start_date",order:"asc"},limit:0}),{data:S}=Mt("ToDo",{fields:["name","allocated_to","status"],filters:[["reference_type","=","Task"],["reference_name","=",e.name]],limit:1}),D=S&&S.length>0?S[0].allocated_to:null,{data:A}=Sn("User",D||void 0,{fields:["name","full_name","email","user_image"]}),C=H=>H?new Date(H).toLocaleDateString():"N/A",k=H=>{switch(H){case"Completed":return l.jsx(Gx,{className:"h-5 w-5 text-green-600"});case"Working":return l.jsx(sc,{className:"h-5 w-5 text-yellow-600"});case"Open":return l.jsx(Zl,{className:"h-5 w-5 text-blue-600"});default:return l.jsx(Zl,{className:"h-5 w-5 text-gray-400"})}},T=H=>{switch(H){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},R=H=>{switch(H){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},P=()=>{a&&a(),b(e.name,t).catch(console.error)},U=()=>{i&&i(),b(e.name,t).catch(console.error),n()},X=({subtask:H})=>{var te;const{data:K}=Mt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(H==null?void 0:H.name)||""]]}),Y=(te=K==null?void 0:K[0])==null?void 0:te.allocated_to;return l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{children:Y})})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ve,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[l.jsx(Xx,{className:"h-4 w-4"}),"Back to Tasks"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Ve,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"flex items-center gap-2",children:[l.jsx(Wl,{className:"h-4 w-4"}),"Edit Task"]}),l.jsxs(Ve,{variant:"outline",size:"sm",onClick:()=>g(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[l.jsx(Po,{className:"h-4 w-4"}),"Delete Task"]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-orange-500 flex items-center justify-center",children:l.jsx("span",{className:"text-xl",children:"📝"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),l.jsx("p",{className:"text-sm text-gray-600",children:"Task Details"})]})]}),e.description&&l.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${T(e.status||"Open")}`,children:[k(e.status||"Open"),l.jsx("span",{className:"font-medium",children:e.status||"Open"})]}),e.priority&&l.jsx("div",{className:`px-3 py-1 rounded-full border ${R(e.priority)}`,children:l.jsx("span",{className:"text-sm font-medium",children:e.priority})})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Task Progress"}),l.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[e.progress||0,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${e.progress||0}%`}})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:l.jsx(Vr,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),l.jsx("p",{className:"text-lg font-bold text-gray-900",children:C(e.exp_start_date)})]})]})}),l.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:l.jsx(Zx,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),l.jsx("p",{className:"text-lg font-bold text-gray-900",children:C(e.exp_end_date)})]})]})}),l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:l.jsx(Dh,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Assigned To"}),S&&S.length>0?l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-bold text-gray-900",children:(A==null?void 0:A.full_name)||D}),(A==null?void 0:A.email)&&l.jsx("p",{className:"text-sm text-gray-600",children:A.email})]}):l.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Task Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Task ID"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),l.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${T(e.status||"Open")}`,children:[k(e.status||"Open"),l.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),l.jsx("div",{className:`px-3 py-1 rounded-full ${R(e.priority||"Medium")}`,children:l.jsx("span",{className:"font-medium",children:e.priority||"Medium"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Subtasks Count"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:(_==null?void 0:_.length)||0})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:e.exp_start_date&&e.exp_end_date?`${Math.ceil((new Date(e.exp_end_date).getTime()-new Date(e.exp_start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),l.jsxs("span",{className:"text-xl font-bold text-orange-600",children:[e.progress||0,"%"]})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Assigned To"}),S&&S.length>0?l.jsx("div",{children:l.jsx("p",{className:"text-lg font-bold text-gray-900",children:(A==null?void 0:A.full_name)||D})}):l.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"SubTasks"})}),w?l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),l.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),l.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):l.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[l.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:l.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[l.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),l.jsx("div",{className:"col-span-5 text-sm font-medium text-gray-700",children:"SubTask"}),l.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),l.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Assign To"}),l.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),l.jsxs("div",{className:"divide-y divide-gray-100",children:[_&&_.length>0?_.map((H,K)=>l.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[l.jsx("div",{className:"col-span-1 flex items-center",children:l.jsx("span",{className:"text-sm text-gray-600",children:K+1})}),l.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[l.jsx("div",{className:"p-1 bg-green-100 rounded",children:l.jsx("span",{className:"text-sm",children:"✅"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:H.subject||H.name}),l.jsx("div",{className:"text-sm text-gray-500",children:H.name})]})]}),l.jsx("div",{className:"col-span-2 flex items-center justify-center",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${T(H.status||"Open")}`,children:H.status||"Open"})}),l.jsx("div",{className:"col-span-2 flex items-center justify-center",children:l.jsx(X,{subtask:H})}),l.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&l.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>s(H),className:"h-7 px-2 text-xs",children:"View Details"})})]},H.name)):l.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[l.jsx("div",{className:"text-4xl mb-2",children:"✅"}),l.jsx("div",{className:"text-lg font-medium mb-1",children:"No subtasks yet"}),l.jsx("div",{className:"text-sm",children:'Click "Add SubTask" to create the first subtask for this task'})]}),l.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:l.jsx("div",{className:"col-span-12 flex items-center justify-center",children:l.jsxs(Ve,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>d(!0),children:[l.jsx(Mo,{className:"h-4 w-4"}),"Add new subtask to this task"]})})})]})]})]}),l.jsx(eb,{doctype:"Task",docname:e.name,title:"Task Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),l.jsx(KH,{isOpen:c,onClose:()=>d(!1),projectName:t,parentTask:e.name,onSuccess:()=>ge(null,null,function*(){N(),setTimeout(()=>ge(null,null,function*(){yield y(e.name),setTimeout(()=>ge(null,null,function*(){yield b(e.name,t)}),500)}),500)})}),l.jsx(QH,{task:e,projectName:t,isOpen:f,onClose:()=>h(!1),onSuccess:P}),l.jsx(ZH,{task:e,isOpen:p,onClose:()=>g(!1),onSuccess:U})]})},e7=({subtask:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var C;const{updateSubTask:i,isLoading:c,error:d}=uE(),{assignSubTask:f,unassignSubTask:h}=xy(),{calculateAndUpdateTaskProgress:p}=cd(),{data:g,isLoading:b}=uc(t),{data:y}=Mt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[_,w]=j.useState({subject:"",status:"Open",start_date:"",end_date:"",description:"",assign_to:""}),N=((C=y==null?void 0:y[0])==null?void 0:C.allocated_to)||"";j.useEffect(()=>{e&&w({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:N})},[e,N]);const S=(k,T)=>{w(R=>oe(z({},R),{[k]:T}))},D=k=>ge(null,null,function*(){if(k.preventDefault(),!!e)try{const T=_,{assign_to:R}=T,P=Ae(T,["assign_to"]);yield i(e.name,P);const U=N,X=R;if(U&&U!==X){const H=y==null?void 0:y.find(K=>K.allocated_to===U);H&&(yield h(H.name))}X&&X!==U&&(yield f(e.name,X)),e.task&&P.status!==e.status&&(yield p(e.task)),a&&a(),s()}catch(R){console.error("Error updating subtask:",R)}}),A=()=>{e&&w({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:N}),s()};return l.jsx(as,{open:n,onOpenChange:s,children:l.jsxs(is,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsx(os,{children:l.jsx(ls,{children:"Edit SubTask"})}),l.jsxs("form",{onSubmit:D,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"subject",children:"Subject *"}),l.jsx(Ut,{id:"subject",value:_.subject,onChange:k=>S("subject",k.target.value),required:!0,placeholder:"Enter subtask subject"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"status",children:"Status"}),l.jsxs("select",{id:"status",value:_.status,onChange:k=>S("status",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"Open",children:"Open"}),l.jsx("option",{value:"Working",children:"Working"}),l.jsx("option",{value:"Completed",children:"Completed"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"start_date",children:"Start Date"}),l.jsx(Ut,{id:"start_date",type:"date",value:_.start_date,onChange:k=>S("start_date",k.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"end_date",children:"End Date"}),l.jsx(Ut,{id:"end_date",type:"date",value:_.end_date,onChange:k=>S("end_date",k.target.value)})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"description",children:"Description"}),l.jsx("textarea",{id:"description",value:_.description,onChange:k=>S("description",k.target.value),placeholder:"Enter subtask description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"assign_to",children:"Assign To"}),l.jsxs("select",{id:"assign_to",value:_.assign_to,onChange:k=>S("assign_to",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,children:[l.jsx("option",{value:"",children:"Select user..."}),g==null?void 0:g.map(k=>l.jsx("option",{value:k.user||k.name,children:k.user||k.name},k.name))]}),b&&l.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&l.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update subtask"]})}),l.jsxs(ws,{className:"flex gap-2",children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:A,children:"Cancel"}),l.jsx(Ve,{type:"submit",disabled:c,children:c?"Updating...":"Update SubTask"})]})]})]})})},t7=({subtask:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:i,error:c}=ms("frappe.client.delete"),{calculateAndUpdateTaskProgress:d}=cd(),f=()=>ge(null,null,function*(){if(e)try{if(yield a({doctype:"SubTask",name:e.name}),e.task)try{yield d(e.task)}catch(p){console.error("Error updating task progress after subtask deletion:",p)}s&&s(),n()}catch(p){console.error("Error deleting subtask:",p)}}),h=()=>{n()};return l.jsx(as,{open:t,onOpenChange:n,children:l.jsxs(is,{className:"sm:max-w-[400px]",children:[l.jsx(os,{children:l.jsxs(ls,{className:"flex items-center gap-2 text-red-600",children:[l.jsx(um,{className:"h-5 w-5"}),"Delete SubTask"]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this subtask? This action cannot be undone."}),e&&l.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[l.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Task: ",e.task]})]}),l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[l.jsxs("div",{className:"text-sm text-red-800",children:[l.jsx("strong",{children:"Warning:"})," Deleting this subtask will also remove:"]}),l.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[l.jsx("li",{children:"All subtask progress data"}),l.jsx("li",{children:"Subtask timeline and activities"}),l.jsx("li",{children:"Related comments and attachments"}),l.jsx("li",{children:"Any associated time logs"})]})]}),c&&l.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete subtask"]})})]}),l.jsxs(ws,{className:"flex gap-2",children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:h,children:"Cancel"}),l.jsx(Ve,{type:"button",variant:"destructive",onClick:f,disabled:i,children:i?"Deleting...":"Delete SubTask"})]})]})})},n7=({subtask:e,projectName:t,onBack:n,onSubTaskUpdated:s,onSubTaskDeleted:a})=>{var A;const[i,c]=j.useState(!1),[d,f]=j.useState(!1),{calculateAndUpdateTaskProgress:h}=cd(),{updatePhaseProgressForTask:p}=tb(),{data:g}=Mt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),b=(A=g==null?void 0:g[0])==null?void 0:A.allocated_to,{data:y}=Sn("User",b||"",{shouldFetch:!!b}),_=C=>C?new Date(C).toLocaleDateString():"N/A",w=C=>{switch(C){case"Completed":return l.jsx(Gx,{className:"h-5 w-5 text-green-600"});case"Working":return l.jsx(sc,{className:"h-5 w-5 text-yellow-600"});case"Open":return l.jsx(Zl,{className:"h-5 w-5 text-blue-600"});default:return l.jsx(Zl,{className:"h-5 w-5 text-gray-400"})}},N=C=>{switch(C){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},S=()=>ge(null,null,function*(){if(e!=null&&e.task)try{yield h(e.task);try{console.log(`Updating phase progress for task ${e.task} in project ${t}`),yield p(e.task,t),console.log("Phase and project progress updated after subtask edit")}catch(C){console.error("Error updating phase progress after subtask edit:",C)}}catch(C){console.error("Error updating task progress after subtask edit:",C)}s&&s()}),D=()=>ge(null,null,function*(){if(e!=null&&e.task)try{yield h(e.task);try{console.log(`Updating phase progress for task ${e.task} in project ${t}`),yield p(e.task,t),console.log("Phase and project progress updated after subtask delete")}catch(C){console.error("Error updating phase progress after subtask delete:",C)}}catch(C){console.error("Error updating task progress after subtask delete:",C)}a&&a(),n()});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ve,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[l.jsx(Xx,{className:"h-4 w-4"}),"Back to Tasks"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Ve,{variant:"outline",size:"sm",onClick:()=>c(!0),className:"flex items-center gap-2",children:[l.jsx(Wl,{className:"h-4 w-4"}),"Edit SubTask"]}),l.jsxs(Ve,{variant:"outline",size:"sm",onClick:()=>f(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[l.jsx(Po,{className:"h-4 w-4"}),"Delete SubTask"]})]})]}),l.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500 flex items-center justify-center",children:l.jsx("span",{className:"text-xl",children:"✅"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),l.jsx("p",{className:"text-sm text-gray-600",children:"SubTask Details"})]})]}),e.description&&l.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${N(e.status||"Open")}`,children:[w(e.status||"Open"),l.jsx("span",{className:"font-medium",children:e.status||"Open"})]})})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:l.jsx(Vr,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),l.jsx("p",{className:"text-lg font-bold text-gray-900",children:_(e.start_date)})]})]})}),l.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:l.jsx(Zx,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),l.jsx("p",{className:"text-lg font-bold text-gray-900",children:_(e.end_date)})]})]})}),l.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:l.jsx(Vl,{className:"h-6 w-6 text-orange-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-orange-600 uppercase tracking-wide",children:"Parent Task"}),l.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.task||"N/A"})]})]})})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"SubTask Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"SubTask ID"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Parent Task"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:e.task||"N/A"})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),l.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${N(e.status||"Open")}`,children:[w(e.status||"Open"),l.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:_(e.start_date)})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"End Date"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:_(e.end_date)})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:e.start_date&&e.end_date?`${Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-gray-100",children:[l.jsxs("span",{className:"text-gray-600 font-medium flex items-center gap-2",children:[l.jsx(Dh,{className:"h-4 w-4"}),"Assigned To"]}),l.jsx("span",{className:"text-gray-900 font-semibold",children:b?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:(y==null?void 0:y.full_name)||b}),(y==null?void 0:y.user_image)&&l.jsx("img",{src:y.user_image,alt:y.full_name||b,className:"h-6 w-6 rounded-full"})]}):l.jsx("span",{className:"text-gray-400",children:"Not assigned"})})]})]})]})]}),e.description&&l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Description"}),l.jsx("div",{className:"prose max-w-none",children:l.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.description})})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Activity Timeline"}),l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("div",{className:"text-4xl mb-2",children:"📋"}),l.jsx("div",{className:"text-lg font-medium mb-1",children:"No activity yet"}),l.jsx("div",{className:"text-sm",children:"Activity and updates will appear here when available"})]})]}),l.jsx(eb,{doctype:"SubTask",docname:e.name,title:"SubTask Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),l.jsx(e7,{subtask:e,projectName:t,isOpen:i,onClose:()=>c(!1),onSuccess:S}),l.jsx(t7,{subtask:e,isOpen:d,onClose:()=>f(!1),onSuccess:D})]})},kC=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{updateProject:a,isLoading:i}=b6(),{currentUser:c}=lr(),{data:d}=Sn("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),f=(d==null?void 0:d.users)||(e==null?void 0:e.users)||[],h=()=>{if(c==="Administrator"||(e==null?void 0:e.owner)===c)return!0;const S=f.find(D=>D.user===c);return(S==null?void 0:S.project_status)==="Project Manager (Owner Substitute)"},{register:p,control:g,handleSubmit:b,reset:y,formState:{errors:_}}=Bu({defaultValues:{project_name:"",customer:"",project_type:"",status:"Open",priority:"Medium",department:"",company:"",cost_center:"",expected_start_date:"",expected_end_date:"",notes:""}});j.useEffect(()=>{e&&y({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""})},[e,y]);const w=S=>ge(null,null,function*(){if(e){if(S.status==="Completed"&&!h()){mn.error("Permission denied",{description:"You don't have permission to mark this project as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}try{yield a(e.name,S),mn.success("Project updated successfully"),s&&setTimeout(()=>{s()},100),n()}catch(D){let A="Edit project failed";if(D!=null&&D._server_messages)try{const C=JSON.parse(D._server_messages);Array.isArray(C)&&C.length>0&&(A=JSON.parse(C[0]).message||A)}catch(C){console.error("Parse error messages failed:",C)}else D!=null&&D.message&&(A=D.message);mn.error("Update project failed",{description:A}),console.error("Error updating project:",D)}}}),N=()=>{e&&y({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""}),n()};return l.jsx(as,{open:t,onOpenChange:n,children:l.jsxs(is,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsx(os,{children:l.jsx(ls,{children:"Edit Project"})}),l.jsxs("form",{onSubmit:b(w),className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"project_name",children:"Project Name *"}),l.jsx(Ut,oe(z({id:"project_name"},p("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),_.project_name&&l.jsx("span",{className:"text-red-500 text-sm",children:_.project_name.message})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(ze,{children:"Customer"}),l.jsx(rr,{name:"customer",control:g,render:({field:S})=>l.jsx(ar,{doctype:"Customer",value:S.value||"",onChange:S.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(ze,{children:"Project Type"}),l.jsx(rr,{name:"project_type",control:g,render:({field:S})=>l.jsx(ar,{doctype:"Project Type",value:S.value||"",onChange:S.onChange,placeholder:"Select type...",className:"w-full"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{children:"Status"}),l.jsxs("select",oe(z({},p("status")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[l.jsx("option",{value:"",children:"Select status..."}),l.jsx("option",{value:"Open",children:"Open"}),h()&&l.jsx("option",{value:"Completed",children:"Completed"}),l.jsx("option",{value:"Cancelled",children:"Cancelled"})]})),!h()&&l.jsx("span",{className:"text-xs text-amber-600",children:"You dont have permission to mark Completed"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{children:"Priority"}),l.jsxs("select",oe(z({},p("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[l.jsx("option",{value:"",children:"Select priority..."}),l.jsx("option",{value:"Low",children:"Low"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"High",children:"High"}),l.jsx("option",{value:"Urgent",children:"Urgent"})]}))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(ze,{children:"Department"}),l.jsx(rr,{name:"department",control:g,render:({field:S})=>l.jsx(ar,{doctype:"Department",value:S.value||"",onChange:S.onChange,placeholder:"Select department...",className:"w-full"})})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(ze,{children:"Company"}),l.jsx(rr,{name:"company",control:g,render:({field:S})=>l.jsx(ar,{doctype:"Company",value:S.value||"",onChange:S.onChange,placeholder:"Select company...",className:"w-full"})})]})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(ze,{children:"Cost Center"}),l.jsx(rr,{name:"cost_center",control:g,render:({field:S})=>l.jsx(ar,{doctype:"Cost Center",value:S.value||"",onChange:S.onChange,placeholder:"Select cost center...",className:"w-full"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"expected_start_date",children:"Expected Start Date"}),l.jsx(Ut,z({id:"expected_start_date",type:"date"},p("expected_start_date")))]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"expected_end_date",children:"Expected End Date"}),l.jsx(Ut,z({id:"expected_end_date",type:"date"},p("expected_end_date")))]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"notes",children:"Notes"}),l.jsx("textarea",oe(z({id:"notes"},p("notes")),{placeholder:"Enter project notes",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}))]}),l.jsxs(ws,{className:"flex gap-2",children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:N,children:"Cancel"}),l.jsx(Ve,{type:"submit",disabled:i,children:i?"Updating...":"Update Project"})]})]})]})})},OC=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteProjectCascade:a}=C6(),[i,c]=j.useState(!1),[d,f]=j.useState(null),[h,p]=j.useState(""),g=()=>ge(null,null,function*(){if(!e){console.error("No project selected for deletion"),mn.error("Delete project failed",{description:"No project selected"});return}if(i){console.log("Delete already in progress, ignoring duplicate request");return}c(!0),f(null),p("Starting deletion...");try{console.log(`Starting deletion for project: ${e.name}`),p("Deleting subtasks..."),yield new Promise(_=>setTimeout(_,300)),p("Deleting tasks..."),yield new Promise(_=>setTimeout(_,300)),p("Deleting project phases..."),yield new Promise(_=>setTimeout(_,300)),p("Cleaning up dependencies..."),yield new Promise(_=>setTimeout(_,300)),p("Deleting project...");const y=yield a(e.name);p("Deletion completed successfully!"),console.log("Cascade deletion result:",y),mn.success("Project deleted successfully",{description:`Project "${e.name}" and all related items have been deleted.`}),s&&s(),n()}catch(y){let _="Delete project failed",w=!1;if(y!=null&&y._server_messages)try{const N=JSON.parse(y._server_messages);Array.isArray(N)&&N.length>0&&(_=JSON.parse(N[0]).message||_)}catch(N){console.error("Parse error messages failed:",N)}else y!=null&&y.message&&(_=y.message,(_.includes("dependencies")||_.includes("linked")||_.includes("referenced")||_.includes("Unknown project deletion error"))&&(w=!0,_+=`

Tip: This error usually resolves on the second attempt. Please try again.`));console.error("Error deleting project:",y),mn.error("Delete project failed",{description:_,duration:w?8e3:5e3}),f(y instanceof Error?y:new Error(_)),p("")}finally{c(!1)}}),b=()=>{i||(f(null),p(""),n())};return l.jsx(as,{open:t,onOpenChange:n,children:l.jsxs(is,{className:"sm:max-w-[400px]",children:[l.jsx(os,{children:l.jsxs(ls,{className:"flex items-center gap-2 text-red-600",children:[l.jsx(um,{className:"h-5 w-5"}),"Delete Project"]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this project? This action cannot be undone."}),e&&l.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[l.jsx("div",{className:"font-medium text-gray-900",children:e.project_name}),l.jsx("div",{className:"text-sm text-gray-600",children:e.customer||"No customer"}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]})]}),l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[l.jsxs("div",{className:"text-sm text-red-800",children:[l.jsx("strong",{children:"Warning:"})," This will permanently delete in the following order:"]}),l.jsxs("ol",{className:"text-sm text-red-700 mt-1 ml-4 list-decimal",children:[l.jsx("li",{children:"All subtasks in all tasks"}),l.jsx("li",{children:"All tasks in the project"}),l.jsx("li",{children:"All project phases"}),l.jsx("li",{children:"All ToDo assignments"}),l.jsx("li",{children:"All project team members"}),l.jsx("li",{children:"The project itself"})]}),l.jsx("div",{className:"text-sm text-red-800 mt-2",children:l.jsx("strong",{children:"This action cannot be undone!"})})]}),i&&h&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(W0,{className:"h-4 w-4 animate-spin text-blue-600"}),l.jsxs("span",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Progress:"})," ",h]})]}),l.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Please wait while we delete all related items..."})]}),d&&l.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Error:"})," ",d.message||"Failed to delete project"]})})]}),l.jsxs(ws,{className:"flex gap-2",children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:b,disabled:i,children:i?"Deleting...":"Cancel"}),l.jsx(Ve,{type:"button",variant:"destructive",onClick:g,disabled:i,className:"min-w-[120px]",children:i?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(W0,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Project"})]})]})})};function AC({project:e,isOpen:t,onClose:n}){const[s,a]=j.useState("overview"),[i,c]=j.useState(null),[d,f]=j.useState(null),[h,p]=j.useState(null),[g,b]=j.useState(!1),[y,_]=j.useState(null),[w,N]=j.useState(!1),[S,D]=j.useState(!1),[A,C]=j.useState(!1),[k,T]=j.useState(!1),[R,P]=j.useState(!1),{updateProjectProgress:U}=tb(),{data:X,isLoading:H,mutate:K}=Sn("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),{data:Y,mutate:te}=Mt("project_phase",{fields:["name","progress"],filters:[["project","=",(e==null?void 0:e.name)||""]],orderBy:{field:"creation",order:"asc"},limit:0}),[W,V]=j.useState([]);j.useEffect(()=>{Y&&Y.length>0?ge(null,null,function*(){const He=[];for(const Le of Y)try{const pt=yield fetch(`/api/resource/project_phase/${Le.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(pt.ok){const At=yield pt.json();He.push(At.data)}else console.warn("Failed to fetch phase:",Le.name),He.push(Le)}catch(pt){console.error("Error fetching phase:",Le.name,pt),He.push(Le)}V(He)}):V([])},[Y==null?void 0:Y.length,Y==null?void 0:Y.map(Ee=>`${Ee.name}-${Ee.progress}`).join(",")]);const{data:Q,mutate:ee}=Mt("Task",{fields:["name","progress","subject"],filters:[["project","=",(e==null?void 0:e.name)||""]],orderBy:{field:"creation",order:"asc"},limit:0}),{call:ce}=ms("frappe.client.insert"),{call:L}=ms("frappe.client.save"),{call:le}=ms("frappe.client.delete"),{call:re}=ms("frappe.client.set_value"),{data:B,error:ne,isLoading:ye}=Sn("User",(e==null?void 0:e.owner)||"",e!=null&&e.owner?void 0:null),{data:he,mutate:Ce}=Sn("SubTask",(h==null?void 0:h.name)||"",h!=null&&h.name?void 0:null),{data:ke,mutate:We}=Sn("Task",(d==null?void 0:d.name)||"",d!=null&&d.name?void 0:null),{currentUser:Ue}=lr(),qe=(X==null?void 0:X.users)||(e==null?void 0:e.users)||[],Ze=H,st=j.useMemo(()=>{if(Q&&Q.length>0){const Ee=Q.filter(ot=>!W||W.length===0?!0:!W.some(Ge=>{var bt;return(bt=Ge.tasks)==null?void 0:bt.some(Ht=>Ht.task===ot.name)}));if(W&&W.length>0){const ot=[];W.forEach(Ct=>{Ct.tasks&&Ct.tasks.length>0&&Ct.tasks.forEach(Ge=>{Ge.task&&ot.push(Ge.task)})})}let He=0,Le=0;W&&W.length>0&&W.forEach(ot=>{const Ct=ot.progress||0;He+=Ct,Le+=1}),Ee.length>0&&Ee.forEach(ot=>{const Ct=ot.progress||0;He+=Ct,Le+=1});const pt=Le>0?Math.round(He/Le):0;let At=[];return W&&W.length>0&&W.forEach(ot=>{ot.tasks&&ot.tasks.length>0&&ot.tasks.forEach(Ct=>{Ct.task&&At.push(Ct.task)})}),{progress:pt,source:"mixed",count:Le,phases:W||[],phaseTasksCount:At.length,standaloneTasksCount:Ee.length,phaseTaskNames:At,standaloneTasks:Ee}}return{progress:(X==null?void 0:X.percent_complete)||(e==null?void 0:e.percent_complete)||0,source:"manual",count:0,phases:[],phaseTasksCount:0,standaloneTasksCount:0,phaseTaskNames:[],standaloneTasks:[]}},[W,Q,X==null?void 0:X.percent_complete,e==null?void 0:e.percent_complete,W==null?void 0:W.map(Ee=>Ee.progress).join(","),Q==null?void 0:Q.map(Ee=>Ee.progress).join(","),W==null?void 0:W.length,Q==null?void 0:Q.length]),Pe=()=>ge(null,null,function*(){if(e!=null&&e.name){P(!0);try{yield Promise.all([te(),ee(),K()]),yield new Promise(He=>setTimeout(He,500));const Ee=yield U(e.name);yield K()}catch(Ee){console.error("Error recalculating project progress:",Ee)}finally{P(!1)}}}),Tt=()=>ge(null,null,function*(){if(h!=null&&h.name)try{yield Ce()}catch(Ee){console.error("Error refreshing subtask data:",Ee)}}),Yt=()=>ge(null,null,function*(){if(d!=null&&d.name)try{yield We()}catch(Ee){console.error("Error refreshing task data:",Ee)}}),Nt=Ee=>ge(null,null,function*(){(d==null?void 0:d.name)===Ee&&(yield Yt())}),it=()=>ge(null,null,function*(){try{yield Promise.all([te(),ee(),K()])}catch(Ee){console.error("Error in force refresh:",Ee)}});j.useEffect(()=>{he&&(h==null?void 0:h.name)===he.name&&p(he)},[he,h==null?void 0:h.name]),j.useEffect(()=>{ke&&(d==null?void 0:d.name)===ke.name&&f(ke)},[ke,d==null?void 0:d.name]),j.useEffect(()=>{if(st.source!=="manual"&&(e!=null&&e.name)&&X){const Ee=(X==null?void 0:X.percent_complete)||(e==null?void 0:e.percent_complete)||0;Math.abs(st.progress-Ee)>1&&Pe()}},[st.progress,W==null?void 0:W.length,Q==null?void 0:Q.length,X==null?void 0:X.percent_complete]),j.useEffect(()=>{if(!(e!=null&&e.name))return;const Ee=setInterval(()=>{K(),te(),ee()},1e4);return()=>clearInterval(Ee)},[e==null?void 0:e.name,K,te,ee]);const jt=Bu(),G=Bu(),de=Bu(),[q,Se]=j.useState(!1),Me=Ee=>ge(null,null,function*(){if(e!=null&&e.name){Se(!0);try{if((qe||[]).find(pt=>pt.user===Ee.user)){alert("User is already a member of this project");return}yield ce({doc:{doctype:"Project User",parent:e.name,parenttype:"Project",parentfield:"users",user:Ee.user,view_attachments:1,hide_timesheets:0,project_status:"Open",welcome_email_sent:1}}),setTimeout(()=>K(),1e3),b(!1),jt.reset()}catch(He){console.error("Error adding member:",He);const Le=He instanceof Error?He.message:String(He);Le.includes("Email Account")||Le.includes("OutgoingEmailError")||Le.includes("email")?(alert("Member may have been added, but welcome email failed. Please check the project members list and refresh if needed."),setTimeout(()=>K(),1e3),b(!1),jt.reset()):alert("Failed to add member: "+Le)}finally{Se(!1)}}}),Re=Ee=>ge(null,null,function*(){if(!(!y||!(e!=null&&e.name))){Se(!0);try{const He=qe.find(Le=>Le.user===y.user);if(!(He!=null&&He.name)){alert("User record not found");return}yield L({doc:{doctype:"Project User",name:He.name,view_attachments:Ee.view_attachments?1:0,hide_timesheets:Ee.hide_timesheets?1:0,project_status:Ee.project_status||""}}),setTimeout(()=>K(),1e3),N(!1),_(null),G.reset()}catch(He){console.error("Error updating member:",He),alert("Failed to update member")}finally{Se(!1)}}}),$e=Ee=>ge(null,null,function*(){if(e!=null&&e.name&&confirm("Are you sure you want to remove this member from the project?"))try{const He=qe.find(Le=>Le.user===Ee);if(!(He!=null&&He.name)){alert("User record not found");return}yield le({doctype:"Project User",name:He.name}),setTimeout(()=>K(),1e3)}catch(He){console.error("Error removing member:",He),alert("Failed to remove member")}}),Xe=Ee=>{_(Ee),G.reset({user:Ee.user,view_attachments:!!Ee.view_attachments,hide_timesheets:!!Ee.hide_timesheets,project_status:Ee.project_status||""}),N(!0)},Qe=()=>(e==null?void 0:e.owner)===Ue||Ue==="Administrator",vt=Ee=>ge(null,null,function*(){if(e!=null&&e.name){Se(!0);try{yield K();const He=X||e;try{yield L({doc:{doctype:"Project",name:e.name,owner:Ee.owner,project_name:He==null?void 0:He.project_name,status:He==null?void 0:He.status,priority:He==null?void 0:He.priority,company:He==null?void 0:He.company,customer:He==null?void 0:He.customer,expected_start_date:He==null?void 0:He.expected_start_date,expected_end_date:He==null?void 0:He.expected_end_date,description:He==null?void 0:He.description,modified:new Date().toISOString(),modified_by:Ee.owner}})}catch(Le){console.log("Save method failed:",Le);try{yield re({doctype:"Project",name:e.name,fieldname:"owner",value:Ee.owner})}catch(pt){if(console.log("Set value failed, falling back to Project Manager approach:",pt),(qe||[]).find(Ct=>Ct.user===Ee.owner)){alert("Cannot change owner field (protected by ERPNext), but user is already a project member. Please edit their role manually.");return}yield ce({doc:{doctype:"Project User",parent:e.name,parenttype:"Project",parentfield:"users",user:Ee.owner,view_attachments:1,hide_timesheets:0,project_status:"Project Manager (Owner Substitute)",welcome_email_sent:1}}),alert('Owner field is protected by ERPNext. Added user as "Project Manager (Owner Substitute)" instead with full permissions.')}}setTimeout(()=>K(),1e3),D(!1),de.reset()}catch(He){console.error("Error changing owner:",He);const Le=He instanceof Error?He.message:String(He);Le.includes("Cannot edit standard fields")||Le.includes("protects this field")?alert(`Cannot change project owner: ERPNext protects the owner field from modification.

Alternative solutions:
1. Add the user as Project Manager in the team members
2. Contact system administrator to manually update via backend
3. Use project permissions to grant the user full access

Admin command (run in ERPNext console):
frappe.db.sql("UPDATE tabProject SET owner = '${Ee.owner}' WHERE name = '${e.name}'")`):alert("Failed to change owner: "+Le)}finally{Se(!1)}}}),wn=Ee=>{switch(Ee){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},Jt=Ee=>Ee?new Date(Ee).toLocaleDateString():"N/A",sn=()=>{C(!0)},xn=()=>{T(!0)},Fn=()=>{K(),Ql(Ee=>typeof Ee=="string"&&Ee.includes("Project"),void 0,{revalidate:!0})},Bn=()=>{n()};if(!e)return null;const Dt=X||e;return l.jsxs(MH,{open:t,onOpenChange:n,direction:"right",children:[l.jsx(zH,{children:l.jsxs("div",{className:"w-full h-full overflow-y-auto p-6",children:[l.jsxs(UH,{className:"px-0 pb-6",children:[l.jsxs(BH,{className:"flex gap-4 justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:l.jsx("span",{className:"text-2xl font-bold text-white",children:Dt.project_name.charAt(0).toUpperCase()})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:Dt.project_name}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`inline-flex px-4 py-2 text-sm font-semibold rounded-full ${wn(Dt.status)}`,children:Dt.status||"Open"}),Dt.project_type&&l.jsx("span",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full",children:Dt.project_type})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Ve,{variant:"outline",size:"sm",onClick:sn,className:"flex items-center gap-2",children:[l.jsx(Wl,{className:"h-4 w-4"}),"Edit"]}),l.jsxs(Ve,{variant:"outline",size:"sm",onClick:xn,className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[l.jsx(Po,{className:"h-4 w-4"}),"Delete"]}),l.jsx(Ve,{variant:"ghost",size:"sm",onClick:n,children:"X"})]})]}),l.jsx($H,{className:"text-lg text-gray-600 mt-4",children:"Project Details and Progress Overview"}),l.jsxs("div",{className:"flex border-b border-gray-200 mt-6",children:[l.jsx("button",{onClick:()=>a("overview"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overview"}),l.jsx("button",{onClick:()=>a("tasks"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="tasks"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Tasks & Phases"}),l.jsxs("button",{onClick:()=>a("team"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="team"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(yh,{className:"h-4 w-4"}),"Team (",((qe==null?void 0:qe.length)||0)+1,")"]}),i&&l.jsxs("button",{onClick:()=>a("phase-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="phase-details"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📋 ",i.subject,l.jsx("span",{onClick:Ee=>{Ee.stopPropagation(),c(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close phase details",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d&&l.jsxs("button",{onClick:()=>a("task-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="task-details"?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📝 ",d.subject||d.name,l.jsx("span",{onClick:Ee=>{Ee.stopPropagation(),f(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close task details",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),h&&l.jsxs("button",{onClick:()=>a("subtask-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="subtask-details"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📌 ",h.subject||h.name,l.jsx("span",{onClick:Ee=>{Ee.stopPropagation(),p(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close subtask details",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),l.jsxs("div",{className:"space-y-8",children:[s==="overview"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Project Progress"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-lg font-medium text-gray-700",children:"Overall Progress"}),st.source==="manual"&&l.jsx("span",{className:"text-xs text-gray-500",children:"(manual)"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[st.progress,"%"]}),l.jsx(Ve,{variant:"ghost",size:"sm",onClick:Pe,disabled:R,className:"h-8 w-8 p-0",title:"Recalculate progress",children:l.jsx(QN,{className:`h-4 w-4 ${R?"animate-spin":""}`})})]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${st.progress}%`}})}),st.source==="mixed"&&st.count>0&&l.jsxs("div",{className:"mt-3 text-xs text-gray-500 space-y-2",children:[st.phases&&st.phases.length>0&&l.jsxs("div",{children:[l.jsx("div",{className:"font-medium mb-1",children:"Phase Progress Breakdown:"}),l.jsx("div",{className:"grid grid-cols-2 gap-1",children:st.phases.map((Ee,He)=>l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:["Phase ",He+1,":"]}),l.jsxs("span",{children:[Ee.progress||0,"%"]})]},Ee.name))})]}),st.standaloneTasksCount>0&&l.jsxs("div",{className:"mt-2",children:[l.jsx("div",{className:"font-medium mb-1",children:"Standalone Tasks:"}),l.jsx("div",{className:"flex justify-between",children:l.jsxs("span",{children:[st.standaloneTasksCount," tasks not in any phase"]})})]})]}),st.source==="manual"&&l.jsx("div",{className:"mt-3 text-xs text-gray-500",children:"Progress set manually (no tasks found)"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:l.jsx(Dh,{className:"h-8 w-8 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Customer"}),l.jsx("p",{className:"text-xl font-bold text-gray-900",children:Dt.customer||"N/A"})]})]})}),l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:l.jsx(Kx,{className:"h-8 w-8 text-green-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Budget"}),l.jsx("p",{className:"text-xl font-bold text-gray-900",children:So(Dt.estimated_costing)})]})]})}),l.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:l.jsx(Vr,{className:"h-8 w-8 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"Deadline"}),l.jsx("p",{className:"text-xl font-bold text-gray-900",children:Jt(Dt.expected_end_date)})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Project Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:Jt(Dt.expected_start_date)})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:Dt.priority||"Medium"})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Department"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:Dt.department||"N/A"})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Company"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:Dt.company||"N/A"})]})]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Financial Metrics"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Total Cost"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:So(Dt.total_costing_amount)})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Total Sales"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:So(Dt.total_sales_amount)})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Billable Amount"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:So(Dt.total_billable_amount)})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Gross Margin"}),l.jsx("span",{className:"text-lg font-bold text-green-600",children:So(Dt.gross_margin)})]})]})]})]})]}),s==="team"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(tP,{className:"h-6 w-6 text-yellow-600"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Owner"})]}),Qe()&&l.jsxs(Ve,{variant:"outline",size:"sm",onClick:()=>{de.reset({owner:(e==null?void 0:e.owner)||""}),D(!0)},className:"flex items-center gap-2",children:[l.jsx(Wl,{className:"h-4 w-4"}),"Change Owner"]})]}),l.jsxs("div",{className:"flex items-center gap-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[l.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:l.jsx(Dh,{className:"h-6 w-6 text-yellow-600"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ye?"Loading...":B!=null&&B.full_name?B.full_name:Dt!=null&&Dt.owner?Dt.owner:"No Owner"}),l.jsx("p",{className:"text-sm text-gray-600",children:ye?"Loading email...":B!=null&&B.email?B.email:Dt!=null&&Dt.owner?Dt.owner:"No email"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded",children:"Project Owner"}),(B==null?void 0:B.designation)&&l.jsx("span",{className:"text-xs text-gray-500",children:B.designation}),ne&&l.jsx("span",{className:"text-xs text-red-500",children:"(Error loading user details)"})]})]})]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(yh,{className:"h-6 w-6 text-blue-600"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Team Members"}),l.jsxs("span",{className:"inline-flex px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:[(qe==null?void 0:qe.length)||0," members"]})]}),l.jsxs(Ve,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>b(!0),children:[l.jsx(Mo,{className:"h-4 w-4 mr-1"}),"Add Member"]})]}),Ze?l.jsxs("div",{className:"flex items-center justify-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading team members..."})]}):qe&&qe.length>0?l.jsx("div",{className:"grid gap-4",children:qe.map((Ee,He)=>l.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[l.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center overflow-hidden",children:Ee.image?l.jsx("img",{src:Ee.image,alt:Ee.full_name||Ee.user,className:"h-full w-full object-cover"}):l.jsx("span",{className:"text-sm font-semibold text-blue-600",children:(Ee.full_name||Ee.user||"U").charAt(0).toUpperCase()})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-semibold text-gray-900",children:Ee.full_name||Ee.user||"Unknown User"}),l.jsx("p",{className:"text-sm text-gray-600",children:Ee.email||Ee.user||"No email"}),Ee.project_status&&l.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Status: ",Ee.project_status]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:"Team Member"}),Ee.view_attachments&&l.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded",children:"Can View Files"}),l.jsxs(Ve,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>Xe(Ee),children:[l.jsx(Wl,{className:"h-3 w-3 mr-1"}),"Edit"]}),l.jsxs(Ve,{size:"sm",variant:"outline",className:"text-xs text-red-600 hover:text-red-700",onClick:()=>$e(Ee.user),children:[l.jsx(Po,{className:"h-3 w-3 mr-1"}),"Remove"]})]})]},Ee.user||He))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(yh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No team members added yet"}),l.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Add team members to collaborate on this project"}),l.jsxs(Ve,{className:"mt-4 bg-blue-600 hover:bg-blue-700",onClick:()=>b(!0),children:[l.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Add First Member"]})]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Statistics"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((qe==null?void 0:qe.length)||0)+1}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),l.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[l.jsx("p",{className:"text-2xl font-bold text-green-600",children:"1"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Project Owner"})]}),l.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[l.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(qe==null?void 0:qe.length)||0}),l.jsx("p",{className:"text-sm text-gray-600",children:"Team Members"})]}),l.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[l.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(e==null?void 0:e.percent_complete)||0,"%"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Progress"})]})]})]})]}),s==="tasks"&&l.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:l.jsx(qH,{projectName:e.name,onViewPhaseDetails:Ee=>{c(Ee),a("phase-details")},onViewTaskDetails:Ee=>{f(Ee),a("task-details")},onViewSubTaskDetails:Ee=>{p(Ee),a("subtask-details")}})}),s==="phase-details"&&i&&l.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:l.jsx(GH,{phase:i,projectName:e.name,onBack:()=>a("tasks"),onViewTaskDetails:Ee=>{f(Ee),a("task-details")},onPhaseUpdated:()=>ge(null,null,function*(){yield it(),setTimeout(()=>ge(null,null,function*(){yield Pe()}),1e3)}),onPhaseDeleted:()=>ge(null,null,function*(){yield it(),a("tasks"),c(null),setTimeout(()=>ge(null,null,function*(){yield Pe()}),1e3)}),onTaskCreated:()=>ge(null,null,function*(){yield it(),setTimeout(()=>ge(null,null,function*(){yield Pe()}),1e3)})})}),s==="task-details"&&d&&l.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:l.jsx(JH,{task:d,projectName:e.name,onBack:()=>a("tasks"),onViewSubTaskDetails:Ee=>{p(Ee),a("subtask-details")},onTaskUpdated:()=>ge(null,null,function*(){yield it(),yield Yt(),setTimeout(()=>ge(null,null,function*(){yield Pe()}),1e3)}),onTaskDeleted:()=>ge(null,null,function*(){yield it(),a("tasks"),f(null),setTimeout(()=>ge(null,null,function*(){yield Pe()}),1e3)})})}),s==="subtask-details"&&h&&l.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:l.jsx(n7,{subtask:h,projectName:e.name,onBack:()=>a("tasks"),onSubTaskUpdated:()=>ge(null,null,function*(){yield it(),yield Tt(),h!=null&&h.task&&(yield Nt(h.task)),setTimeout(()=>ge(null,null,function*(){yield Pe()}),1e3)}),onSubTaskDeleted:()=>ge(null,null,function*(){yield it(),a("tasks"),p(null),setTimeout(()=>ge(null,null,function*(){yield Pe()}),1e3)})})})]}),l.jsx(FH,{className:"px-0 mt-8 pt-6 border-t border-gray-200",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx(Ve,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",onClick:()=>a("tasks"),children:"View Tasks"}),l.jsx(Ve,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",children:"View Timeline"})]})})]})}),l.jsx(as,{open:g,onOpenChange:b,children:l.jsx(is,{className:"sm:max-w-md",children:l.jsxs("form",{onSubmit:jt.handleSubmit(Me),children:[l.jsxs(os,{children:[l.jsx(ls,{children:"Add Team Member"}),l.jsx(Ro,{children:"Add a new member to the project team."})]}),l.jsx("div",{className:"grid gap-4 py-4",children:l.jsxs("div",{className:"grid gap-2",children:[l.jsxs(ze,{children:["User ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(rr,{name:"user",control:jt.control,rules:{required:"Please select a user"},render:({field:Ee})=>l.jsx(ar,{doctype:"User",value:Ee.value||"",onChange:Ee.onChange,placeholder:"Select user...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email"],className:"w-full"})}),jt.formState.errors.user&&l.jsx("span",{className:"text-red-500 text-sm",children:jt.formState.errors.user.message})]})}),l.jsxs(ws,{children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:()=>{b(!1),jt.reset()},children:"Cancel"}),l.jsx(Ve,{type:"submit",disabled:q,className:"bg-blue-600 hover:bg-blue-700",children:q?"Adding...":"Add Member"})]})]})})}),l.jsx(as,{open:w,onOpenChange:N,children:l.jsx(is,{className:"sm:max-w-md",children:l.jsxs("form",{onSubmit:G.handleSubmit(Re),children:[l.jsxs(os,{children:[l.jsx(ls,{children:"Edit Team Member"}),l.jsxs(Ro,{children:["Update member settings for ",(y==null?void 0:y.full_name)||(y==null?void 0:y.user),"."]})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(ze,{children:"User"}),l.jsx(Ut,{value:(y==null?void 0:y.full_name)||(y==null?void 0:y.user)||"",disabled:!0,className:"bg-gray-100"})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(ze,{children:"Project Status"}),l.jsx(Ut,oe(z({},G.register("project_status")),{placeholder:"Enter project status for this member..."}))]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",oe(z({type:"checkbox",id:"edit_view_attachments"},G.register("view_attachments")),{className:"rounded border-gray-300"})),l.jsx(ze,{htmlFor:"edit_view_attachments",className:"text-sm",children:"Can view attachments"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",oe(z({type:"checkbox",id:"edit_hide_timesheets"},G.register("hide_timesheets")),{className:"rounded border-gray-300"})),l.jsx(ze,{htmlFor:"edit_hide_timesheets",className:"text-sm",children:"Hide timesheets from this user"})]})]}),l.jsxs(ws,{children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:()=>{N(!1),_(null),G.reset()},children:"Cancel"}),l.jsx(Ve,{type:"submit",disabled:q,className:"bg-blue-600 hover:bg-blue-700",children:q?"Updating...":"Update Member"})]})]})})}),l.jsx(as,{open:S,onOpenChange:D,children:l.jsx(is,{className:"sm:max-w-md",children:l.jsxs("form",{onSubmit:de.handleSubmit(vt),children:[l.jsxs(os,{children:[l.jsx(ls,{children:"Change Project Owner"}),l.jsx(Ro,{children:"Attempt to change the project owner. Note: ERPNext may protect this field, in which case we'll add the user as Project Manager instead."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsxs(ze,{children:["New Owner ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(rr,{name:"owner",control:de.control,rules:{required:"Please select a new owner"},render:({field:Ee})=>l.jsx(ar,{doctype:"User",value:Ee.value||"",onChange:Ee.onChange,placeholder:"Select new owner...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email"],className:"w-full"})}),de.formState.errors.owner&&l.jsx("span",{className:"text-red-500 text-sm",children:de.formState.errors.owner.message})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Note:"}),' This will attempt to change the actual project owner. If that fails (due to ERPNext protection), the user will be added as "Project Manager (Owner Substitute)" with full permissions.']})})]}),l.jsxs(ws,{children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:()=>{D(!1),de.reset()},children:"Cancel"}),l.jsx(Ve,{type:"submit",disabled:q,className:"bg-yellow-600 hover:bg-yellow-700",children:q?"Changing Owner...":"Change Owner"})]})]})})}),l.jsx(kC,{project:e,isOpen:A,onClose:()=>C(!1),onSuccess:Fn}),l.jsx(OC,{project:e,isOpen:k,onClose:()=>T(!1),onSuccess:Bn})]})}const DC=({project:e,onProjectUpdated:t,onProjectDeleted:n,onCloseDrawer:s})=>{const[a,i]=j.useState(!1),[c,d]=j.useState(!1),[f,h]=j.useState(!1),p=_=>{_&&_.stopPropagation(),i(!0),h(!1)},g=_=>{_&&_.stopPropagation(),d(!0),h(!1)},b=()=>{t&&t()},y=()=>{n&&n(),s&&s()};return l.jsxs(l.Fragment,{children:[l.jsxs(my,{open:f,onOpenChange:h,children:[l.jsx(py,{asChild:!0,children:l.jsx(Ve,{variant:"ghost",size:"sm",onClick:_=>{_.stopPropagation(),h(!f)},className:"h-8 w-8 p-0",children:l.jsx(aP,{className:"h-4 w-4"})})}),l.jsx(gy,{className:"w-48 p-2",align:"end",onClick:_=>_.stopPropagation(),children:l.jsxs("div",{className:"space-y-1",children:[l.jsxs(Ve,{variant:"ghost",size:"sm",onClick:_=>p(_),className:"w-full justify-start text-left",children:[l.jsx(DP,{className:"mr-2 h-4 w-4"}),"Edit Project"]}),l.jsxs(Ve,{variant:"ghost",size:"sm",onClick:_=>g(_),className:"w-full justify-start text-left text-red-600 hover:text-red-700 hover:bg-red-50",children:[l.jsx(Po,{className:"mr-2 h-4 w-4"}),"Delete Project"]})]})})]}),l.jsx(kC,{project:e,isOpen:a,onClose:()=>i(!1),onSuccess:b}),l.jsx(OC,{project:e,isOpen:c,onClose:()=>d(!1),onSuccess:y})]})},s7=({projects:e,onProjectsChange:t})=>{const[n,s]=j.useState(null),[a,i]=j.useState(!1),c=h=>{s(h),i(!0)},d=()=>{i(!1),s(null)},f=h=>{switch(h){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map(h=>l.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 hover:shadow-md transition-shadow duration-200 cursor-pointer",onClick:()=>c(h),children:[l.jsx("div",{className:"h-48 bg-gray-200 flex items-center justify-center",children:l.jsx("div",{className:"text-4xl font-bold text-gray-400",children:h.project_name.charAt(0).toUpperCase()})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate flex-1",children:h.project_name}),l.jsxs("div",{className:"flex items-center gap-2",onClick:p=>p.stopPropagation(),children:[l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(h.status)}`,children:h.status||"Open"}),l.jsx(DC,{project:h,onProjectUpdated:t,onProjectDeleted:t,onCloseDrawer:d})]})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:h.project_type||"N/A"}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),l.jsxs("span",{className:"text-sm text-gray-600",children:[h.percent_complete||0,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${h.percent_complete||0}%`}})})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[l.jsx("span",{children:h.customer||"N/A"}),l.jsx("span",{children:So(h.estimated_costing)})]})]})]},h.name))}),l.jsx(AC,{project:n,isOpen:a,onClose:d})]})},r7=({projects:e,onProjectsChange:t})=>{const[n,s]=j.useState(null),[a,i]=j.useState(!1),[c,d]=j.useState(null),f=w=>{s(w),i(!0)},h=()=>{i(!1),s(null)},p=()=>{n&&(d(n.name),setTimeout(()=>{d(null)},5e3)),console.log("handleProjectUpdated called, about to refresh data..."),i(!1),s(null),Ql(w=>typeof w=="string"&&w.includes("Project"),void 0,{revalidate:!0}),Ql("/api/resource/Project"),Ql("Project"),t?(console.log("Calling onProjectsChange to refresh data immediately"),t()):console.log("onProjectsChange is not available"),setTimeout(()=>{t&&(console.log("Calling onProjectsChange again as backup"),t())},100)},g=()=>{d(null),t&&t()},b=j.useMemo(()=>[...e].sort((w,N)=>{const S=new Date(w.modified||w.creation||0);return new Date(N.modified||N.creation||0).getTime()-S.getTime()}),[e]),y=w=>{switch(w){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},_=w=>w?new Date(w).toLocaleDateString():"N/A";return l.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[l.jsx("div",{className:"overflow-hidden",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deadline"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(w=>l.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer transition-colors ${c===w.name?"bg-green-50 border-l-4 border-green-400":""}`,onClick:()=>f(w),children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:l.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-bold text-gray-600",children:w.project_name.charAt(0).toUpperCase()})})}),l.jsxs("div",{className:"ml-4",style:{maxWidth:"300px"},children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 cursor-help",title:w.project_name,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:w.project_name}),l.jsx("div",{className:"text-sm text-gray-500",children:w.project_type||"N/A"})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${y(w.status)}`,children:w.status||"Open"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${w.percent_complete||0}%`}})}),l.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[w.percent_complete||0,"%"]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:So(w.estimated_costing)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_(w.expected_end_date)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",onClick:N=>N.stopPropagation(),children:l.jsx(DC,{project:w,onProjectUpdated:p,onProjectDeleted:g,onCloseDrawer:h})})]},w.name))})]})}),l.jsx(AC,{project:n,isOpen:a,onClose:h})]})},a7=({projects:e,onFilteredProjectsChange:t,viewMode:n,onViewModeChange:s})=>{var _;const[a,i]=se.useState({searchText:"",selectedTeam:"",selectedStatus:""}),[c,d]=se.useState(!1),{data:f=[]}=rE(),h=[{value:"",label:"All Status"},{value:"Open",label:"Open"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],p=se.useMemo(()=>{const w=[{value:"",label:"All Teams"},...f.map(N=>({value:N.name,label:N.team||N.name}))];return[w[0],...w.slice(1).sort((N,S)=>N.label.localeCompare(S.label))]},[f]);se.useEffect(()=>{let w=[...e];if(a.searchText.trim()){const N=a.searchText.toLowerCase();w=w.filter(S=>S.project_name.toLowerCase().includes(N)||S.name.toLowerCase().includes(N))}a.selectedTeam&&(w=w.filter(N=>(N.team||"")===a.selectedTeam)),a.selectedStatus&&(w=w.filter(N=>N.status===a.selectedStatus)),t(w)},[a.searchText,a.selectedTeam,a.selectedStatus,e]);const g=(w,N)=>{i(S=>oe(z({},S),{[w]:N}))},b=()=>{i({searchText:"",selectedTeam:"",selectedStatus:""})},y=a.searchText||a.selectedTeam||a.selectedStatus;return l.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[l.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(cm,{className:"h-4 w-4 text-gray-400"})}),l.jsx("input",{type:"text",value:a.searchText,onChange:w=>g("searchText",w.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects by name..."})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>d(!c),className:`inline-flex items-center px-3 py-2 border rounded-md text-sm font-medium bg-white hover:bg-gray-50 ${y?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700"}`,children:[l.jsx(Qx,{className:"mr-2 h-4 w-4"}),"Filter",y&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[a.selectedTeam,a.selectedStatus].filter(Boolean).length})]}),c&&l.jsx("div",{className:"absolute top-full left-0 mt-2 w-80 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Filters"}),y&&l.jsx("button",{onClick:b,className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team"}),l.jsx("select",{value:a.selectedTeam,onChange:w=>g("selectedTeam",w.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:f.length===0,children:p.map(w=>l.jsx("option",{value:w.value,children:w.label},w.value))}),f.length===0&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No teams available"}),f.length>0&&e.filter(w=>w.team).length===0&&l.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Projects haven't been assigned to teams yet"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),l.jsx("select",{value:a.selectedStatus,onChange:w=>g("selectedStatus",w.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:h.map(w=>l.jsx("option",{value:w.value,children:w.label},w.value))})]})]})})]}),l.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 border border-gray-200 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>s("grid"),className:`p-2 rounded-md transition-colors ${n==="grid"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"Grid view",children:l.jsx(gP,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>s("list"),className:`p-2 rounded-md transition-colors ${n==="list"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"List view",children:l.jsx(jP,{className:"h-4 w-4"})})]})]}),y&&l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx("span",{children:"Active filters:"}),l.jsxs("div",{className:"flex space-x-1",children:[a.selectedTeam&&l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Team: ",(_=p.find(w=>w.value===a.selectedTeam))==null?void 0:_.label,l.jsx("button",{onClick:()=>g("selectedTeam",""),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]}),a.selectedStatus&&l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Status: ",a.selectedStatus,l.jsx("button",{onClick:()=>g("selectedStatus",""),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]})]})]})]}),c&&l.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>d(!1)})]})},i7=({onProjectCreated:e})=>{const[t,n]=j.useState(!1),{createProject:s,isLoading:a}=y6(),{register:i,control:c,handleSubmit:d,reset:f,formState:{errors:h,isSubmitting:p}}=Bu({defaultValues:{status:"Open",priority:"Medium"}}),g=b=>ge(null,null,function*(){try{yield s(b),f(),n(!1),Ql(y=>typeof y=="string"&&y.includes("Project"),void 0,{revalidate:!0}),mn.success("Project created successfully"),e&&e()}catch(y){let _="Create project failed";if(y!=null&&y._server_messages)try{const w=JSON.parse(y._server_messages);Array.isArray(w)&&w.length>0&&(_=JSON.parse(w[0]).message||_)}catch(w){console.error("Parse error messages failed:",w)}else y!=null&&y.message&&(_=y.message);mn.error("Create project failed",{description:_}),console.error("Error creating project:",y)}});return l.jsxs(as,{open:t,onOpenChange:n,children:[l.jsx(w$,{asChild:!0,children:l.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[l.jsx(Mo,{className:"mr-2 h-4 w-4"}),"New Project"]})}),l.jsx(is,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:l.jsxs("form",{onSubmit:d(g),children:[l.jsxs(os,{children:[l.jsx(ls,{children:"Create New Project"}),l.jsx(Ro,{children:"Fill in the project details. Fields marked with * are required."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsxs(ze,{htmlFor:"project_name",children:["Project Name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(Ut,oe(z({id:"project_name"},i("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),h.project_name&&l.jsx("span",{className:"text-red-500 text-sm",children:h.project_name.message})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(ze,{children:"Customer"}),l.jsx(rr,{name:"customer",control:c,render:({field:b})=>l.jsx(ar,{doctype:"Customer",value:b.value||"",onChange:b.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(ze,{children:"Project Type"}),l.jsx(rr,{name:"project_type",control:c,render:({field:b})=>l.jsx(ar,{doctype:"Project Type",value:b.value||"",onChange:b.onChange,placeholder:"Select type...",className:"w-full"})})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsxs(ze,{children:["Status ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",oe(z({},i("status",{required:"Status is required"})),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[l.jsx("option",{value:"Open",children:"Open"}),l.jsx("option",{value:"Completed",children:"Completed"}),l.jsx("option",{value:"Cancelled",children:"Cancelled"})]}))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(ze,{children:"Priority"}),l.jsxs("select",oe(z({},i("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[l.jsx("option",{value:"",children:"Select priority..."}),l.jsx("option",{value:"Low",children:"Low"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"High",children:"High"}),l.jsx("option",{value:"Critical",children:"Critical"})]}))]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(ze,{children:"Department"}),l.jsx(rr,{name:"department",control:c,render:({field:b})=>l.jsx(ar,{doctype:"Department",value:b.value||"",onChange:b.onChange,placeholder:"Select department...",className:"w-full"})})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(ze,{children:"Company"}),l.jsx(rr,{name:"company",control:c,render:({field:b})=>l.jsx(ar,{doctype:"Company",value:b.value||"",onChange:b.onChange,placeholder:"Select company...",className:"w-full"})})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(ze,{children:"Cost Center"}),l.jsx(rr,{name:"cost_center",control:c,render:({field:b})=>l.jsx(ar,{doctype:"Cost Center",value:b.value||"",onChange:b.onChange,placeholder:"Select cost center...",displayField:"cost_center_name",valueField:"name",className:"w-full"})})]})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(ze,{children:"Project Template"}),l.jsx(rr,{name:"project_template",control:c,render:({field:b})=>l.jsx(ar,{doctype:"Project Template",value:b.value||"",onChange:b.onChange,placeholder:"Select project template...",className:"w-full"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(ze,{children:"Expected Start Date"}),l.jsx(Ut,z({type:"date"},i("expected_start_date")))]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(ze,{children:"Expected End Date"}),l.jsx(Ut,z({type:"date"},i("expected_end_date")))]})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(ze,{children:"Notes"}),l.jsx("textarea",oe(z({},i("notes")),{placeholder:"Enter project notes...",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}))]})]}),l.jsxs(ws,{children:[l.jsx(j$,{asChild:!0,children:l.jsx(Ve,{type:"button",variant:"outline",children:"Cancel"})}),l.jsx(Ve,{type:"submit",disabled:p||a,className:"bg-blue-600 hover:bg-blue-700",children:p||a?"Creating...":"Create Project"})]})]})})]})},o7=()=>{const[e,t]=se.useState("list"),[n,s]=se.useState([]),{data:a=[],isLoading:i,error:c,mutate:d}=x6();se.useEffect(()=>{s(a)},[a]);const f=()=>ge(null,null,function*(){d&&(yield d())}),h=se.useCallback(p=>{s(p)},[]);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Projects"}),l.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Showing ",n.length," of ",a.length," projects"]})]}),l.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:l.jsx(i7,{onProjectCreated:f})})]}),!i&&!c&&a.length>0&&l.jsx(a7,{projects:a,onFilteredProjectsChange:h,viewMode:e,onViewModeChange:t}),i?l.jsx("div",{className:"flex justify-center items-center p-8",children:l.jsx("div",{className:"text-gray-500",children:"Loading projects..."})}):c?l.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-red-50 rounded-lg border border-red-200",children:l.jsxs("div",{className:"text-red-700 text-center",children:[l.jsx("p",{className:"text-lg font-medium mb-2",children:"Error loading projects"}),l.jsx("p",{className:"text-sm mb-2",children:c.message}),c.message.includes("PermissionError")&&l.jsxs("div",{className:"text-sm text-red-600 bg-red-100 p-3 rounded mt-2",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Permission Issue:"})," You don't have access to view projects."]}),l.jsx("p",{children:"Please contact your system administrator to:"}),l.jsxs("ul",{className:"list-disc list-inside mt-1",children:[l.jsx("li",{children:'Grant you "Read" permission for Project doctype'}),l.jsx("li",{children:"Add you to projects as a team member"}),l.jsx("li",{children:"Make you the owner of projects"})]})]})]})}):a.length===0?l.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:l.jsxs("div",{className:"text-gray-500 text-center",children:[l.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects found"}),l.jsx("p",{className:"text-sm",children:"You are not currently participating in any projects."}),l.jsx("p",{className:"text-sm",children:"Create a new project or ask to be added to an existing one."})]})}):n.length===0?l.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:l.jsxs("div",{className:"text-gray-500 text-center",children:[l.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects match your filters"}),l.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria or clear the filters."})]})}):l.jsx(l.Fragment,{children:e==="grid"?l.jsx(s7,{projects:n,onProjectsChange:f}):l.jsx(r7,{projects:n,onProjectsChange:f})})]})},l7=({team:e})=>{var C,k;const{data:t,isLoading:n,error:s}=Sn("Team",e),a=t==null?void 0:t.team_member,{data:i,isLoading:c,error:d}=Mt("User",{fields:["name","full_name","user_image","first_name","last_name","email"],filters:[["enabled","=",1],["user_type","=","System User"]],limit:0}),{simpleTeamData:f,isLoading:h}=M6(),p=!s||!((C=s.message)!=null&&C.includes("PermissionError")),{allTasks:g,allSubTasks:b,isLoading:y,error:_}=D6(),{todos:w,isLoading:N,error:S}=k6(),D=j.useMemo(()=>{const T=[];return g.forEach(R=>{const P=w==null?void 0:w.find(U=>U.reference_type==="Task"&&U.reference_name===R.name);T.push({id:R.name,title:R.subject||"Untitled Task",description:R.description||"No description available",project:R.project||"Unknown Project",assignee:(P==null?void 0:P.allocated_to)||R.completed_by||R.owner||"Unknown",status:R.status||"Open",priority:R.priority||"Medium",dueDate:R.exp_end_date||new Date().toISOString().split("T")[0],labels:[R.type||"Task"],todoId:(P==null?void 0:P.name)||"",referenceName:R.name,referenceType:"Task",type:"Task",taskProgress:R.progress,expectedTime:R.expected_time,actualTime:0,startDate:R.exp_start_date,endDate:R.exp_end_date})}),b.forEach(R=>{const P=w==null?void 0:w.find(U=>U.reference_type==="SubTask"&&U.reference_name===R.name);T.push({id:R.name,title:R.subject||"Untitled SubTask",description:R.description||"No description available",project:"Unknown Project",assignee:(P==null?void 0:P.allocated_to)||R.assigned_to||R.owner||"Unknown",status:R.status||"Open",priority:"Medium",dueDate:R.end_date||new Date().toISOString().split("T")[0],labels:["SubTask"],todoId:(P==null?void 0:P.name)||"",referenceName:R.name,referenceType:"SubTask",type:"SubTask",parentTask:R.task,startDate:R.start_date,endDate:R.end_date})}),T.sort((R,P)=>new Date(P.dueDate).getTime()-new Date(R.dueDate).getTime())},[g,b,w]);return{teamMembersData:j.useMemo(()=>{var T;if(!a||(T=s==null?void 0:s.message)!=null&&T.includes("PermissionError")){if(f&&f.length>0)return f.map(R=>{const P=D.filter(U=>U.assignee===R.id);return{id:R.id,name:R.name,role:R.role,taskCount:P.length,avatar:R.avatar,tasks:P,user:i==null?void 0:i.find(U=>U.name===R.id)}});if(i&&i.length>0){const R=i[0],P=D.filter(U=>U.assignee===(R==null?void 0:R.name));return[{id:(R==null?void 0:R.name)||"unknown",name:(R==null?void 0:R.full_name)||(R==null?void 0:R.first_name)||"Current User",role:"Member",taskCount:P.length,avatar:(R==null?void 0:R.user_image)||`https://placehold.co/40x40/e2e8f0/475569?text=${((R==null?void 0:R.first_name)||"U").charAt(0).toUpperCase()}`,tasks:P,user:R}]}return[]}return i?a.map(R=>{const P=i.find(H=>H.name===R.user),U=D.filter(H=>H.assignee===R.user),X=(P==null?void 0:P.user_image)||`https://placehold.co/40x40/e2e8f0/475569?text=${((P==null?void 0:P.first_name)||(P==null?void 0:P.full_name)||"U").charAt(0).toUpperCase()}`;return{id:R.user||"",name:(P==null?void 0:P.full_name)||(P==null?void 0:P.first_name)||R.user||"Unknown User",role:R.role||"Member",taskCount:U.length,avatar:X,tasks:U,user:P}}):[]},[a,i,D,s,f]),allTransformedTasks:D,isLoading:n||c||y||h||N,error:s&&!((k=s.message)!=null&&k.includes("PermissionError"))?s:d||_||S,teamMembers:a,users:i,hasTeamMemberPermission:p}},c7=({task:e,isOpen:t,onClose:n,onSuccess:s,isLeader:a})=>{const i=(e==null?void 0:e.type)==="SubTask",{updateTask:c,isLoading:d,error:f}=iE(),{assignTask:h,unassignTask:p}=oE(),{updateTaskProgress:g}=fE(),{updateTaskProgressByStatus:b}=dE(),{updateSubTask:y,isLoading:_,error:w}=uE(),{assignSubTask:N,unassignSubTask:S}=xy(),D=d||_,A=f||w,{data:C}=Sn("Project",(e==null?void 0:e.project)||"",{enabled:!!(e!=null&&e.project)&&!i}),{data:k}=Mt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=",i?"SubTask":"Task"],["reference_name","=",(e==null?void 0:e.referenceName)||""]]}),{data:T}=Mt("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.referenceName)||""]],limit:1}),[R,P]=j.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,description:"",assign_to:""}),[U,X]=j.useState(!1);j.useEffect(()=>{var te;if(e){const W=((te=k==null?void 0:k[0])==null?void 0:te.allocated_to)||"";P({subject:e.title||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.startDate?e.startDate.split(" ")[0]:"",end_date:e.endDate?e.endDate.split(" ")[0]:"",progress:e.taskProgress||0,description:e.description||"",assign_to:W})}},[e,k]),j.useEffect(()=>{i||X(!!(T&&T.length>0))},[T,i]);const H=(te,W)=>{P(V=>oe(z({},V),{[te]:W}))},K=te=>ge(null,null,function*(){var W,Q,ee;if(te.preventDefault(),!!e){if(R.start_date&&R.end_date){const ce=new Date(R.start_date);if(new Date(R.end_date)<ce){mn.error("End date cannot be earlier than start date");return}}if(!i&&R.end_date&&(C!=null&&C.expected_end_date)){const ce=new Date(R.end_date),L=new Date(C.expected_end_date);if(ce>L){mn.error(`Task end date cannot be after project end date (${C.expected_end_date})`);return}}try{const ce=((W=k==null?void 0:k[0])==null?void 0:W.allocated_to)||"",L=R.assign_to;if(i){const V=R,{assign_to:le}=V,re=Ae(V,["assign_to"]),B={subject:re.subject,status:re.status,start_date:re.start_date,end_date:re.end_date,description:re.description};if(yield y(e.referenceName,B),ce&&ce!==L){const ne=k==null?void 0:k.find(ye=>ye.allocated_to===ce);ne&&(yield S(ne.name))}L&&L!==ce&&(yield N(e.referenceName,L)),B.status,e.status,mn.success("SubTask updated successfully",{description:`SubTask "${R.subject}" has been updated.`})}else{const le=R.progress!==(e.taskProgress||0),re=R.status!==e.status,B={subject:R.subject,status:R.status,priority:R.priority,exp_start_date:R.start_date,exp_end_date:R.end_date,progress:R.progress,description:R.description};if(U&&le?yield g(e.referenceName,R.progress):re&&(R.status==="Completed"||R.status==="Cancelled")?yield b(e.referenceName,R.status):yield c(e.referenceName,B),ce!==L){if(ce&&(k!=null&&k[0]))try{yield p(k[0].name)}catch(ne){console.error("Error deleting old ToDo:",ne)}if(L)try{yield h(e.referenceName,R.subject,L,R.priority)}catch(ne){console.error("Error creating new ToDo:",ne)}}mn.success("Task updated successfully",{description:`Task "${R.subject}" has been updated.`})}s&&s(),n()}catch(ce){console.error("Error updating task/subtask:",ce);let L=`Failed to update ${i?"subtask":"task"}`;(Q=ce==null?void 0:ce.message)!=null&&Q.includes("modified")?L=`The ${i?"subtask":"task"} has been modified by someone else. Please close and reopen to get the latest version.`:(ee=ce==null?void 0:ce.message)!=null&&ee.includes("permission")?L=`You do not have permission to update this ${i?"subtask":"task"}.`:ce!=null&&ce.message&&(L=ce.message),mn.error(`Failed to update ${i?"subtask":"task"}`,{description:L})}}}),Y=()=>{var te;if(e){const W=((te=k==null?void 0:k[0])==null?void 0:te.allocated_to)||"";P({subject:e.title||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.startDate?e.startDate.split(" ")[0]:"",end_date:e.endDate?e.endDate.split(" ")[0]:"",progress:e.taskProgress||0,description:e.description||"",assign_to:W})}n()};return e?l.jsx(as,{open:t,onOpenChange:n,children:l.jsxs(is,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsx(os,{children:l.jsxs(ls,{children:["Edit ",i?"SubTask":"Task"]})}),l.jsxs("form",{onSubmit:K,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"subject",children:"Subject *"}),l.jsx(Ut,{id:"subject",value:R.subject,onChange:te=>H("subject",te.target.value),required:!0,placeholder:`Enter ${i?"subtask":"task"} subject`})]}),l.jsxs("div",{className:`grid ${i?"grid-cols-1":"grid-cols-2"} gap-4`,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"status",children:"Status"}),l.jsxs("select",{id:"status",value:R.status,onChange:te=>H("status",te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"Open",children:"Open"}),l.jsx("option",{value:"Working",children:"Working"}),l.jsx("option",{value:"Pending Review",children:"Pending Review"}),!i&&l.jsx("option",{value:"Overdue",children:"Overdue"}),a&&l.jsx("option",{value:"Completed",children:"Completed"}),a&&l.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),!i&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"priority",children:"Priority"}),l.jsxs("select",{id:"priority",value:R.priority,onChange:te=>H("priority",te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"Low",children:"Low"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"High",children:"High"}),l.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"start_date",children:i?"Start Date":"Expected Start Date"}),l.jsx(Ut,{id:"start_date",type:"date",value:R.start_date,onChange:te=>H("start_date",te.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"end_date",children:i?"End Date":"Expected End Date"}),l.jsx(Ut,{id:"end_date",type:"date",value:R.end_date,onChange:te=>H("end_date",te.target.value),max:!i&&(C!=null&&C.expected_end_date)?C.expected_end_date:void 0}),!i&&(C==null?void 0:C.expected_end_date)&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",C.expected_end_date]})]})]}),!i&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"progress",children:"Progress (%)"}),l.jsx(Ut,{id:"progress",type:"number",min:"0",max:"100",value:R.progress,onChange:te=>H("progress",parseInt(te.target.value)||0),placeholder:"0",disabled:U}),U?l.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[l.jsx("strong",{children:"🔄 Smart Progress Mode:"}),l.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[l.jsx("li",{children:"Progress is automatically calculated from subtasks"}),l.jsx("li",{children:"Only assignee can manually override progress"}),l.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):l.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[l.jsx("strong",{children:"✏️ Manual Progress Mode:"}),l.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"description",children:"Description"}),l.jsx("textarea",{id:"description",value:R.description,onChange:te=>H("description",te.target.value),placeholder:`Enter ${i?"subtask":"task"} description`,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),l.jsx("div",{className:"bg-gray-50 p-3 rounded-md",children:l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx("strong",{children:"Project:"})," ",e.project]})}),A&&l.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Error:"})," ",A.message||`Failed to update ${i?"subtask":"task"}`]})}),l.jsxs(ws,{className:"flex gap-2",children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:Y,children:"Cancel"}),l.jsx(Ve,{type:"submit",disabled:D,children:D?"Updating...":`Update ${i?"SubTask":"Task"}`})]})]})]})}):null},u7=({role:e,currentView:t,setCurrentView:n})=>l.jsx("header",{className:"mb-8",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Trình Quản Lý Công Việc"}),l.jsxs("p",{className:"text-slate-500 mt-1",children:["Quản lý công việc và dự án một cách hiệu quả • Role: ",e||"Member"]})]}),e==="Leader"&&l.jsxs("div",{className:"inline-flex bg-slate-200 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>n("user"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="user"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"Giao diện User"}),l.jsx("button",{onClick:()=>n("leader"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="leader"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"Giao diện Leader"})]})]})}),RC=e=>{switch(e){case"Working":return"text-orange-800 bg-orange-100";case"Open":return"text-sky-800 bg-sky-100";case"Completed":return"text-emerald-800 bg-emerald-100";case"Cancelled":return"text-red-800 bg-red-100";default:return"text-slate-800 bg-slate-100"}},MC=e=>{switch(e){case"High":return"text-red-800 bg-red-100";case"Medium":return"text-amber-800 bg-amber-100";case"Low":return"text-green-800 bg-green-100";default:return"text-slate-800 bg-slate-100"}},Cu=({task:e,onClick:t,formatDate:n,barClass:s="bg-indigo-600",completed:a=!1})=>{var i,c;return l.jsxs("div",{className:`kanban-card bg-white p-4 rounded-lg shadow-sm border border-slate-200 cursor-pointer ${a?"opacity-70":""}`,onClick:t,children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsx("p",{className:`font-semibold text-slate-900 flex-1 ${a?"line-through":""}`,children:e.title}),l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ml-2 ${e.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:e.type})]}),l.jsx("p",{className:"text-xs text-slate-500 mb-3",children:e.project}),l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"text-xs text-slate-600",children:"Tiến độ"}),l.jsx("span",{className:"text-xs text-slate-600 font-medium",children:a?"100%":`${(i=e.taskProgress)!=null?i:0}%`})]}),l.jsx("div",{className:"bg-slate-200 rounded-full h-1.5",children:l.jsx("div",{className:`${a?"bg-emerald-500":s} h-1.5 rounded-full`,style:{width:a?"100%":`${(c=e.taskProgress)!=null?c:0}%`}})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:`priority-badge ${MC(e.priority)}`,children:e.priority}),l.jsx("span",{className:"text-xs text-slate-500",children:n(e.dueDate).formatted})]})]})},d7=["Open","Working","Overdue","Pending Review","Completed"],f7=["Low","Medium","High","Urgent"],h7=["Task","SubTask"],HS=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),m7=({isLoading:e,handleRefresh:t,activeTab:n,setActiveTab:s,transformedTasks:a,formatDate:i,handleTaskClick:c})=>{const[d,f]=j.useState(""),[h,p]=j.useState(""),[g,b]=j.useState(""),[y,_]=j.useState(""),[w,N]=j.useState(""),[S,D]=j.useState(!1),[A,C]=j.useState(""),[k,T]=j.useState(""),R=j.useMemo(()=>{const Y=new Set;return a.forEach(te=>te.project&&Y.add(te.project)),Array.from(Y).sort((te,W)=>te.localeCompare(W))},[a]),P=j.useMemo(()=>{const Y=HS(d.trim()),te=W=>{if(!W)return!0;const V=new Date(W);if(Number.isNaN(V.getTime()))return!0;if(A){const Q=new Date(A);if(V<new Date(Q.getFullYear(),Q.getMonth(),Q.getDate()))return!1}if(k){const Q=new Date(k),ee=new Date(Q.getFullYear(),Q.getMonth(),Q.getDate(),23,59,59,999);if(V>ee)return!1}return!0};return(a||[]).filter(W=>!(Y&&!HS(`${W.title||""} ${W.project||""} ${W.status||""} ${W.priority||""}`).includes(Y)||h&&W.status!==h||g&&W.priority!==g||y&&W.type!==y||w&&W.project!==w||S&&W.status!=="Overdue"&&!i(W.dueDate).isOverdue||!te(W.dueDate)))},[d,h,g,y,w,S,A,k,a,i]),U=()=>{f(""),p(""),b(""),_(""),N(""),D(!1),C(""),T("")},X=Y=>P.filter(te=>te.status===Y).length,[H,K]=j.useState(!1);return l.jsx("div",{className:"space-y-8",children:l.jsxs("section",{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Việc của tôi"}),l.jsxs("button",{onClick:t,disabled:e,className:"mt-4 sm:mt-0 flex items-center justify-center gap-2 bg-indigo-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-indigo-700 transition-all shadow-sm disabled:opacity-50",children:[e?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:l.jsx("path",{fill:"currentColor",d:"M12 20q-3.35 0-5.675-2.325T4 12t2.325-5.675T12 4q1.725 0 3.3.712T18 6.75V4h2v7h-7V9h4.2q-.8-1.4-2.187-2.2T12 6Q9.5 6 7.75 7.75T6 12t1.75 4.25T12 18q1.925 0 3.475-1.1T17.65 14h2.1q-.7 2.65-2.85 4.325T12 20"})}),e?"Đang tải...":"Làm mới"]})]}),l.jsx("div",{className:"mt-4 border-b border-slate-200",children:l.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[l.jsx("button",{onClick:()=>s("list"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${n==="list"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Danh sách"}),l.jsx("button",{onClick:()=>s("kanban"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${n==="kanban"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Bảng Kanban"}),l.jsx("button",{onClick:()=>s("calendar"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${n==="calendar"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Lịch"})]})}),l.jsxs("div",{className:"mt-4 bg-white border border-slate-200 p-4 rounded-xl shadow-sm",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[l.jsxs("div",{className:"relative w-full md:max-w-sm",children:[l.jsx("label",{className:"sr-only",children:"Tìm kiếm"}),l.jsx(cm,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),l.jsx("input",{value:d,onChange:Y=>f(Y.target.value),placeholder:"Tìm theo tên, dự án, trạng thái...",className:"w-full rounded-lg border border-slate-300 pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),l.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[l.jsxs("button",{onClick:()=>K(Y=>!Y),className:"px-3 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50 inline-flex items-center gap-2",children:[l.jsx(Qx,{className:"h-4 w-4"}),"Bộ lọc"]}),l.jsx("button",{onClick:U,className:"px-3 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50",children:"Xóa"})]})]}),H&&l.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-6 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Trạng thái"}),l.jsxs("select",{value:h,onChange:Y=>p(Y.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Tất cả"}),d7.map(Y=>l.jsx("option",{value:Y,children:Y},Y))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Ưu tiên"}),l.jsxs("select",{value:g,onChange:Y=>b(Y.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Tất cả"}),f7.map(Y=>l.jsx("option",{value:Y,children:Y},Y))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Loại"}),l.jsxs("select",{value:y,onChange:Y=>_(Y.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Tất cả"}),h7.map(Y=>l.jsx("option",{value:Y,children:Y},Y))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Dự án"}),l.jsxs("select",{value:w,onChange:Y=>N(Y.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Tất cả"}),R.map(Y=>l.jsx("option",{value:Y,children:Y},Y))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hạn từ"}),l.jsx("input",{type:"date",value:A,onChange:Y=>C(Y.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hạn đến"}),l.jsx("input",{type:"date",value:k,onChange:Y=>T(Y.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),n==="list"&&l.jsx("div",{className:"mt-6 bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100 rounded-t-lg",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tên công việc"}),l.jsx("th",{scope:"col",className:"px-6 py-3",children:"Loại"}),l.jsx("th",{scope:"col",className:"px-6 py-3",children:"Dự án"}),l.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tiến độ"}),l.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ngày hết hạn"}),l.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ưu tiên"}),l.jsx("th",{scope:"col",className:"px-6 py-3",children:"Trạng thái"})]})}),l.jsx("tbody",{children:P.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-slate-500",children:e?"Đang tải...":"Không có công việc nào"})}):P.map(Y=>l.jsxs("tr",{className:"bg-white border-b border-slate-200 hover:bg-slate-50 table-row transition-all cursor-pointer",onClick:()=>c(Y),children:[l.jsxs("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-900 whitespace-nowrap",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[Y.type==="SubTask"&&l.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414L2.586 7l3.707-3.707a1 1 0 011.414 0z",clipRule:"evenodd"})}),Y.title]}),Y.parentTask&&l.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["↳ Subtask của: ",Y.parentTask]})]}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Y.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:Y.type})}),l.jsx("td",{className:"px-6 py-4",children:Y.project}),l.jsx("td",{className:"px-6 py-4",children:Y.taskProgress!==void 0?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-2",children:l.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${Y.taskProgress}%`}})}),l.jsxs("span",{className:"text-xs text-slate-600 font-medium min-w-[3rem]",children:[Y.taskProgress,"%"]})]}):l.jsx("span",{className:"text-xs text-slate-400",children:"N/A"})}),l.jsx("td",{className:`px-6 py-4 ${i(Y.dueDate).isOverdue?"text-red-600 font-medium":""}`,children:i(Y.dueDate).display}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`priority-badge ${MC(Y.priority)}`,children:Y.priority})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`status-badge ${RC(Y.status)}`,children:Y.status})})]},Y.id))})]})})}),n==="kanban"&&l.jsx("div",{className:"mt-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[l.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-sky-500"}),"Cần làm (",X("Open"),")"]}),l.jsx("div",{className:"space-y-4",children:P.filter(Y=>Y.status==="Open").map(Y=>l.jsx(Cu,{task:Y,onClick:()=>c(Y),formatDate:i},Y.id))})]}),l.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Đang làm (",X("Working"),")"]}),l.jsx("div",{className:"space-y-4",children:P.filter(Y=>Y.status==="Working").map(Y=>l.jsx(Cu,{task:Y,onClick:()=>c(Y),formatDate:i,barClass:"bg-orange-500"},Y.id))})]}),l.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Trễ (",X("Overdue"),")"]}),l.jsx("div",{className:"space-y-4",children:P.filter(Y=>Y.status==="Overdue").map(Y=>l.jsx(Cu,{task:Y,onClick:()=>c(Y),formatDate:i,barClass:"bg-orange-500"},Y.id))})]}),l.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Review (",X("Pending Review"),")"]}),l.jsx("div",{className:"space-y-4",children:P.filter(Y=>Y.status==="Pending Review").map(Y=>l.jsx(Cu,{task:Y,onClick:()=>c(Y),formatDate:i,barClass:"bg-orange-500"},Y.id))})]}),l.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Hoàn thành (",X("Completed"),")"]}),l.jsx("div",{className:"space-y-4",children:P.filter(Y=>Y.status==="Completed").map(Y=>l.jsx(Cu,{task:Y,onClick:()=>c(Y),formatDate:i,completed:!0},Y.id))})]})]})}),n==="calendar"&&l.jsx("div",{className:"mt-6 bg-white p-8 rounded-xl shadow-sm border border-slate-200",children:l.jsx("div",{className:"text-center text-slate-500",children:l.jsx("p",{children:"Giao diện lịch sẽ được phát triển trong tương lai"})})})]})})},p7=({teamDataError:e,teamMembersData:t,selectedMember:n,setSelectedMember:s,formatDate:a,handleTaskClick:i})=>{var d;const c=R6();return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Dashboard Tổng Quan"}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[l.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Tổng công việc"}),l.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:c.total})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[l.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Đang thực hiện"}),l.jsx("p",{className:"text-3xl font-bold text-orange-500 mt-1",children:c.working})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[l.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Hoàn thành"}),l.jsx("p",{className:"text-3xl font-bold text-emerald-500 mt-1",children:c.completed})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[l.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Trễ hạn"}),l.jsx("p",{className:"text-3xl font-bold text-red-500 mt-1",children:c.overdue})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Quản lý Nhóm"}),((d=e==null?void 0:e.message)==null?void 0:d.includes("PermissionError"))&&l.jsx("div",{className:"mt-4 bg-amber-50 border border-amber-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Quyền truy cập hạn chế"}),l.jsx("div",{className:"mt-2 text-sm text-amber-700",children:l.jsx("p",{children:"Không thể truy cập đầy đủ dữ liệu team members. Hiển thị dữ liệu cơ bản từ danh sách users."})})]})]})}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[l.jsxs("div",{className:"lg:col-span-1 bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-4 px-2",children:["Thành viên nhóm (",t.length,")"]}),l.jsx("ul",{className:"space-y-2",children:t.map(f=>l.jsx("li",{onClick:()=>s(f.id),className:`member-item p-3 border rounded-lg hover:bg-slate-100 cursor-pointer transition-all ${n===f.id?"active":"border-transparent"}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{className:"h-10 w-10 rounded-full",src:f.avatar,alt:f.name}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-slate-900",children:f.name}),l.jsxs("p",{className:"text-sm text-slate-500",children:[f.taskCount," công việc"]})]})]})},f.id))})]}),l.jsx("div",{className:"lg:col-span-2 bg-white p-4 rounded-xl shadow-sm border border-slate-200 min-h-[300px]",children:n?(()=>{const f=t.find(h=>h.id===n);return f?l.jsxs("div",{children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-4",children:["Công việc của ",f.name]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2",children:"Tên công việc"}),l.jsx("th",{className:"px-4 py-2",children:"Loại"}),l.jsx("th",{className:"px-4 py-2",children:"Dự án"}),l.jsx("th",{className:"px-4 py-2",children:"Tiến độ"}),l.jsx("th",{className:"px-4 py-2",children:"Hạn chót"}),l.jsx("th",{className:"px-4 py-2",children:"Trạng thái"})]})}),l.jsx("tbody",{children:f.tasks.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"text-center py-4 text-slate-500",children:"Thành viên này chưa có công việc nào."})}):f.tasks.map(h=>l.jsxs("tr",{className:"border-b border-slate-200 cursor-pointer hover:bg-slate-50",onClick:()=>i(h),children:[l.jsxs("td",{className:"px-4 py-3 font-medium text-slate-900",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[h.type==="SubTask"&&l.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414L2.586 7l3.707-3.707a1 1 0 011.414 0z",clipRule:"evenodd"})}),h.title]}),h.parentTask&&l.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["↳ Subtask của: ",h.parentTask]})]}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${h.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:h.type})}),l.jsx("td",{className:"px-4 py-3",children:h.project}),l.jsx("td",{className:"px-4 py-3",children:h.taskProgress!==void 0?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-1.5 min-w-[60px]",children:l.jsx("div",{className:"bg-indigo-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${h.taskProgress}%`}})}),l.jsxs("span",{className:"text-xs text-slate-600 font-medium min-w-[2.5rem]",children:[h.taskProgress,"%"]})]}):l.jsx("span",{className:"text-xs text-slate-400",children:"N/A"})}),l.jsx("td",{className:"px-4 py-3",children:a(h.dueDate).display}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:`status-badge ${RC(h.status)}`,children:h.status})})]},h.id))})]})})]}):l.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:l.jsx("p",{children:"Không tìm thấy thành viên."})})})():l.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:l.jsx("p",{children:"Chọn một thành viên để xem công việc của họ."})})})]})]})]})},g7=({error:e})=>l.jsx(l.Fragment,{children:e&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:l.jsx("div",{className:"flex",children:l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading tasks"}),l.jsx("div",{className:"mt-2 text-sm text-red-700",children:l.jsx("p",{children:e.message||"Failed to load your tasks. Please try again."})})]})})})}),x7=()=>{const[e,t]=se.useState("user"),[n,s]=se.useState("list"),[a,i]=se.useState(null),[c,d]=se.useState(!1),[f,h]=se.useState(null),{tasks:p,subTasks:g,isLoading:b,error:y,mutate:_,currentUser:w}=A6(),{data:N}=Mt("Team",{filters:[["teamlead","=",w||""]]}),S=N&&N.length>0?"Leader":"Member";se.useEffect(()=>{S==="Leader"&&t("leader")},[S]);const D=se.useMemo(()=>{const X=[];return p.forEach(H=>{var K;X.push({id:H.name,title:H.subject||"Untitled Task",description:H.description||"No description available",project:H.project_name||H.project||"Unknown Project",assignee:w||"Unknown",status:H.status||"Open",priority:H.priority||"Medium",dueDate:H.exp_end_date||new Date().toISOString().split("T")[0],labels:[H.type||"Task"],todoId:((K=H.assignedTodo)==null?void 0:K.name)||"",referenceName:H.name,referenceType:"Task",type:"Task",taskProgress:H.progress,expectedTime:H.expected_time,actualTime:H.actual_time,startDate:H.exp_start_date,endDate:H.exp_end_date})}),g.forEach(H=>{var K;X.push({id:H.name,title:H.subject||"Untitled SubTask",description:H.description||"No description available",project:H.project_name||"Unknown Project",assignee:w||"Unknown",status:H.status||"Open",priority:"Medium",dueDate:H.end_date||new Date().toISOString().split("T")[0],labels:["SubTask"],todoId:((K=H.assignedTodo)==null?void 0:K.name)||"",referenceName:H.name,referenceType:"SubTask",type:"SubTask",parentTask:H.task_subject,startDate:H.start_date,endDate:H.end_date})}),X.sort((H,K)=>new Date(K.dueDate).getTime()-new Date(H.dueDate).getTime())},[p,g,w]),{teamMembersData:A,error:C}=l7({team:N&&N.length>0?N[0].name:""}),k=X=>{const H=new Date(X),Y=H<new Date,te=H.toLocaleDateString("vi-VN");return{formatted:te,isOverdue:Y,display:Y?`${te} (Trễ)`:te}},T=()=>{_()},R=X=>{h(X),d(!0)},P=()=>{d(!1),h(null)},U=()=>{_()};return l.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-slate-50 text-slate-800",children:[l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx(u7,{role:S,currentView:e,setCurrentView:t}),l.jsx(g7,{error:y}),l.jsxs("main",{children:[e==="user"&&l.jsx(m7,{isLoading:b,handleRefresh:T,activeTab:n,setActiveTab:s,transformedTasks:D,formatDate:k,handleTaskClick:R}),e==="leader"&&S==="Leader"&&l.jsx(p7,{teamDataError:C,teamMembersData:A,selectedMember:a,setSelectedMember:i,formatDate:k,handleTaskClick:R})]})]}),l.jsx(c7,{task:f,isOpen:c,onClose:P,onSuccess:U,isLeader:S==="Leader"})]})},y7=[{id:1,project:"E-commerce Platform",task:"Design user interface mockups",user:"Jane Smith",startTime:"09:00 AM",endTime:"11:30 AM",duration:"2h 30m",date:"2024-03-08"},{id:2,project:"Mobile App Redesign",task:"API documentation",user:"Mike Johnson",startTime:"02:00 PM",endTime:"04:15 PM",duration:"2h 15m",date:"2024-03-08"},{id:3,project:"Data Analytics Dashboard",task:"Testing setup",user:"Sarah Wilson",startTime:"10:30 AM",endTime:"12:00 PM",duration:"1h 30m",date:"2024-03-07"}],b7=()=>{const[e,t]=se.useState(!1),[n,s]=se.useState("00:00:00");return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"md:flex md:items-center md:justify-between",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Time Tracking"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track time spent on projects and tasks"})]})}),l.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-6",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900",children:n}),l.jsx("div",{className:"flex items-center justify-center space-x-4",children:e?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>t(!1),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-yellow-600 hover:bg-yellow-700",children:[l.jsx(OP,{className:"mr-2 h-5 w-5"}),"Pause"]}),l.jsxs("button",{onClick:()=>{t(!1),s("00:00:00")},className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-red-600 hover:bg-red-700",children:[l.jsx(qP,{className:"mr-2 h-5 w-5"}),"Stop"]})]}):l.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700",children:[l.jsx(LP,{className:"mr-2 h-5 w-5"}),"Start Timer"]})}),e&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project"}),l.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[l.jsx("option",{children:"E-commerce Platform"}),l.jsx("option",{children:"Mobile App Redesign"}),l.jsx("option",{children:"Data Analytics Dashboard"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Description"}),l.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"What are you working on?"})]})]})]})}),l.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Time Entries"})}),l.jsx("div",{className:"overflow-hidden",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Period"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y7.map(a=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.project}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.task}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.user}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[a.startTime," - ",a.endTime]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[l.jsx(sc,{className:"mr-1 h-3 w-3"}),a.duration]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.date})]},a.id))})]})})]})]})},Ul=({title:e,description:t})=>l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e}),l.jsx("p",{className:"text-lg text-gray-600 mb-8",children:t}),l.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-12",children:l.jsxs("div",{className:"text-gray-400 text-center",children:[l.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-4xl",children:"🚧"})}),l.jsx("p",{className:"text-lg",children:"This page is under construction"}),l.jsx("p",{className:"text-sm mt-2",children:"More features coming soon!"})]})})]})}),v7=pM([{path:"/",element:l.jsx(p6,{}),children:[{index:!0,element:l.jsx(yB,{})},{path:"projects",element:l.jsx(o7,{})},{path:"tasks",element:l.jsx(x7,{})},{path:"time-tracking",element:l.jsx(b7,{})},{path:"cost-analysis",element:l.jsx(Ul,{title:"Cost Analysis",description:"Track project costs and budget allocations"})},{path:"reports",element:l.jsx(Ul,{title:"Reports",description:"Generate detailed reports and analytics"})},{path:"calendar",element:l.jsx(Ul,{title:"Calendar",description:"Manage deadlines and project timelines"})},{path:"team",element:l.jsx(Ul,{title:"Team Management",description:"Manage team members and permissions"})},{path:"documents",element:l.jsx(Ul,{title:"Documents",description:"Store and organize project documents"})},{path:"settings",element:l.jsx(Ul,{title:"Settings",description:"Configure your workspace preferences"})}]}],{basename:"/todo"});DO.createRoot(document.getElementById("root")).render(l.jsx(se.StrictMode,{children:l.jsx(EM,{router:v7})}))});export default w7();
