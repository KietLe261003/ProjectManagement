var gO=Object.defineProperty,xO=Object.defineProperties;var yO=Object.getOwnPropertyDescriptors;var _f=Object.getOwnPropertySymbols;var y_=Object.prototype.hasOwnProperty,b_=Object.prototype.propertyIsEnumerable;var Cl=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),bO=e=>{throw TypeError(e)};var jg=(e,t,n)=>t in e?gO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z=(e,t)=>{for(var n in t||(t={}))y_.call(t,n)&&jg(e,n,t[n]);if(_f)for(var n of _f(t))b_.call(t,n)&&jg(e,n,t[n]);return e},oe=(e,t)=>xO(e,yO(t));var ke=(e,t)=>{var n={};for(var s in e)y_.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&_f)for(var s of _f(e))t.indexOf(s)<0&&b_.call(e,s)&&(n[s]=e[s]);return n};var vO=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var jt=(e,t,n)=>jg(e,typeof t!="symbol"?t+"":t,n);var ve=(e,t,n)=>new Promise((s,a)=>{var i=f=>{try{d(n.next(f))}catch(h){a(h)}},c=f=>{try{d(n.throw(f))}catch(h){a(h)}},d=f=>f.done?s(f.value):Promise.resolve(f.value).then(i,c);d((n=n.apply(e,t)).next())}),po=function(e,t){this[0]=e,this[1]=t},Sg=(e,t,n)=>{var s=(c,d,f,h)=>{try{var p=n[c](d),g=(d=p.value)instanceof po,b=p.done;Promise.resolve(g?d[0]:d).then(y=>g?s(c==="return"?c:"next",d[1]?{done:y.done,value:y.value}:y,f,h):f({value:y,done:b})).catch(y=>s("throw",y,f,h))}catch(y){h(y)}},a=c=>i[c]=d=>new Promise((f,h)=>s(c,d,f,h)),i={};return n=n.apply(e,t),i[Cl("asyncIterator")]=()=>i,a("next"),a("throw"),a("return"),i},Ng=e=>{var t=e[Cl("asyncIterator")],n=!1,s,a={};return t==null?(t=e[Cl("iterator")](),s=i=>a[i]=c=>t[i](c)):(t=t.call(e),s=i=>a[i]=c=>{if(n){if(n=!1,i==="throw")throw c;return c}return n=!0,{done:!1,value:new po(new Promise(d=>{var f=t[i](c);f instanceof Object||bO("Object expected"),d(f)}),1)}}),a[Cl("iterator")]=()=>a,s("next"),"throw"in t?s("throw"):a.throw=i=>{throw i},"return"in t&&s("return"),a},v_=(e,t,n)=>(t=e[Cl("asyncIterator")])?t.call(e):(e=e[Cl("iterator")](),t={},n=(s,a)=>(a=e[s])&&(t[s]=i=>new Promise((c,d,f)=>(i=a.call(e,i),f=i.done,Promise.resolve(i.value).then(h=>c({value:h,done:f}),d)))),n("next"),n("return"),t);var _7=vO(bt=>{function wO(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function Tx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Eg={exports:{}},lu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function _O(){if(w_)return lu;w_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,i){var c=null;if(i!==void 0&&(c=""+i),a.key!==void 0&&(c=""+a.key),"key"in a){i={};for(var d in a)d!=="key"&&(i[d]=a[d])}else i=a;return a=i.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:i}}return lu.Fragment=t,lu.jsx=n,lu.jsxs=n,lu}var __;function jO(){return __||(__=1,Eg.exports=_O()),Eg.exports}var l=jO(),Tg={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function SO(){if(j_)return Ot;j_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=g&&L[g]||L["@@iterator"],typeof L=="function"?L:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function N(L,le,re){this.props=L,this.context=le,this.refs=w,this.updater=re||y}N.prototype.isReactComponent={},N.prototype.setState=function(L,le){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,le,"setState")},N.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function S(){}S.prototype=N.prototype;function R(L,le,re){this.props=L,this.context=le,this.refs=w,this.updater=re||y}var D=R.prototype=new S;D.constructor=R,_(D,N.prototype),D.isPureReactComponent=!0;var T=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},C=Object.prototype.hasOwnProperty;function A(L,le,re,V,ne,xe){return re=xe.ref,{$$typeof:e,type:L,key:le,ref:re!==void 0?re:null,props:xe}}function P(L,le){return A(L.type,le,void 0,void 0,void 0,L.props)}function U(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function K(L){var le={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(re){return le[re]})}var $=/\/+/g;function G(L,le){return typeof L=="object"&&L!==null&&L.key!=null?K(""+L.key):le.toString(36)}function W(){}function ee(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(W,W):(L.status="pending",L.then(function(le){L.status==="pending"&&(L.status="fulfilled",L.value=le)},function(le){L.status==="pending"&&(L.status="rejected",L.reason=le)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Y(L,le,re,V,ne){var xe=typeof L;(xe==="undefined"||xe==="boolean")&&(L=null);var me=!1;if(L===null)me=!0;else switch(xe){case"bigint":case"string":case"number":me=!0;break;case"object":switch(L.$$typeof){case e:case t:me=!0;break;case p:return me=L._init,Y(me(L._payload),le,re,V,ne)}}if(me)return ne=ne(L),me=V===""?"."+G(L,0):V,T(ne)?(re="",me!=null&&(re=me.replace($,"$&/")+"/"),Y(ne,le,re,"",function(He){return He})):ne!=null&&(U(ne)&&(ne=P(ne,re+(ne.key==null||L&&L.key===ne.key?"":(""+ne.key).replace($,"$&/")+"/")+me)),le.push(ne)),1;me=0;var Te=V===""?".":V+":";if(T(L))for(var Oe=0;Oe<L.length;Oe++)V=L[Oe],xe=Te+G(V,Oe),me+=Y(V,le,re,xe,ne);else if(Oe=b(L),typeof Oe=="function")for(L=Oe.call(L),Oe=0;!(V=L.next()).done;)V=V.value,xe=Te+G(V,Oe++),me+=Y(V,le,re,xe,ne);else if(xe==="object"){if(typeof L.then=="function")return Y(ee(L),le,re,V,ne);throw le=String(L),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return me}function H(L,le,re){if(L==null)return L;var V=[],ne=0;return Y(L,V,"","",function(xe){return le.call(re,xe,ne++)}),V}function J(L){if(L._status===-1){var le=L._result;le=le(),le.then(function(re){(L._status===0||L._status===-1)&&(L._status=1,L._result=re)},function(re){(L._status===0||L._status===-1)&&(L._status=2,L._result=re)}),L._status===-1&&(L._status=0,L._result=le)}if(L._status===1)return L._result.default;throw L._result}var te=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function ce(){}return Ot.Children={map:H,forEach:function(L,le,re){H(L,function(){le.apply(this,arguments)},re)},count:function(L){var le=0;return H(L,function(){le++}),le},toArray:function(L){return H(L,function(le){return le})||[]},only:function(L){if(!U(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ot.Component=N,Ot.Fragment=n,Ot.Profiler=a,Ot.PureComponent=R,Ot.StrictMode=s,Ot.Suspense=f,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(L){return k.H.useMemoCache(L)}},Ot.cache=function(L){return function(){return L.apply(null,arguments)}},Ot.cloneElement=function(L,le,re){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var V=_({},L.props),ne=L.key,xe=void 0;if(le!=null)for(me in le.ref!==void 0&&(xe=void 0),le.key!==void 0&&(ne=""+le.key),le)!C.call(le,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&le.ref===void 0||(V[me]=le[me]);var me=arguments.length-2;if(me===1)V.children=re;else if(1<me){for(var Te=Array(me),Oe=0;Oe<me;Oe++)Te[Oe]=arguments[Oe+2];V.children=Te}return A(L.type,ne,void 0,void 0,xe,V)},Ot.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:i,_context:L},L},Ot.createElement=function(L,le,re){var V,ne={},xe=null;if(le!=null)for(V in le.key!==void 0&&(xe=""+le.key),le)C.call(le,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(ne[V]=le[V]);var me=arguments.length-2;if(me===1)ne.children=re;else if(1<me){for(var Te=Array(me),Oe=0;Oe<me;Oe++)Te[Oe]=arguments[Oe+2];ne.children=Te}if(L&&L.defaultProps)for(V in me=L.defaultProps,me)ne[V]===void 0&&(ne[V]=me[V]);return A(L,xe,void 0,void 0,null,ne)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(L){return{$$typeof:d,render:L}},Ot.isValidElement=U,Ot.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:J}},Ot.memo=function(L,le){return{$$typeof:h,type:L,compare:le===void 0?null:le}},Ot.startTransition=function(L){var le=k.T,re={};k.T=re;try{var V=L(),ne=k.S;ne!==null&&ne(re,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(ce,te)}catch(xe){te(xe)}finally{k.T=le}},Ot.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ot.use=function(L){return k.H.use(L)},Ot.useActionState=function(L,le,re){return k.H.useActionState(L,le,re)},Ot.useCallback=function(L,le){return k.H.useCallback(L,le)},Ot.useContext=function(L){return k.H.useContext(L)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(L,le){return k.H.useDeferredValue(L,le)},Ot.useEffect=function(L,le,re){var V=k.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(L,le)},Ot.useId=function(){return k.H.useId()},Ot.useImperativeHandle=function(L,le,re){return k.H.useImperativeHandle(L,le,re)},Ot.useInsertionEffect=function(L,le){return k.H.useInsertionEffect(L,le)},Ot.useLayoutEffect=function(L,le){return k.H.useLayoutEffect(L,le)},Ot.useMemo=function(L,le){return k.H.useMemo(L,le)},Ot.useOptimistic=function(L,le){return k.H.useOptimistic(L,le)},Ot.useReducer=function(L,le,re){return k.H.useReducer(L,le,re)},Ot.useRef=function(L){return k.H.useRef(L)},Ot.useState=function(L){return k.H.useState(L)},Ot.useSyncExternalStore=function(L,le,re){return k.H.useSyncExternalStore(L,le,re)},Ot.useTransition=function(){return k.H.useTransition()},Ot.version="19.1.1",Ot}var S_;function Cx(){return S_||(S_=1,Tg.exports=SO()),Tg.exports}var j=Cx();const se=Tx(j),HS=wO({__proto__:null,default:se},[j]);var Cg={exports:{}},cu={},kg={exports:{}},Og={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function NO(){return N_||(N_=1,function(e){function t(H,J){var te=H.length;H.push(J);e:for(;0<te;){var ce=te-1>>>1,L=H[ce];if(0<a(L,J))H[ce]=J,H[te]=L,te=ce;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var J=H[0],te=H.pop();if(te!==J){H[0]=te;e:for(var ce=0,L=H.length,le=L>>>1;ce<le;){var re=2*(ce+1)-1,V=H[re],ne=re+1,xe=H[ne];if(0>a(V,te))ne<L&&0>a(xe,V)?(H[ce]=xe,H[ne]=te,ce=ne):(H[ce]=V,H[re]=te,ce=re);else if(ne<L&&0>a(xe,te))H[ce]=xe,H[ne]=te,ce=ne;else break e}}return J}function a(H,J){var te=H.sortIndex-J.sortIndex;return te!==0?te:H.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],h=[],p=1,g=null,b=3,y=!1,_=!1,w=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate!="undefined"?setImmediate:null;function T(H){for(var J=n(h);J!==null;){if(J.callback===null)s(h);else if(J.startTime<=H)s(h),J.sortIndex=J.expirationTime,t(f,J);else break;J=n(h)}}function k(H){if(w=!1,T(H),!_)if(n(f)!==null)_=!0,C||(C=!0,G());else{var J=n(h);J!==null&&Y(k,J.startTime-H)}}var C=!1,A=-1,P=5,U=-1;function K(){return N?!0:!(e.unstable_now()-U<P)}function $(){if(N=!1,C){var H=e.unstable_now();U=H;var J=!0;try{e:{_=!1,w&&(w=!1,R(A),A=-1),y=!0;var te=b;try{t:{for(T(H),g=n(f);g!==null&&!(g.expirationTime>H&&K());){var ce=g.callback;if(typeof ce=="function"){g.callback=null,b=g.priorityLevel;var L=ce(g.expirationTime<=H);if(H=e.unstable_now(),typeof L=="function"){g.callback=L,T(H),J=!0;break t}g===n(f)&&s(f),T(H)}else s(f);g=n(f)}if(g!==null)J=!0;else{var le=n(h);le!==null&&Y(k,le.startTime-H),J=!1}}break e}finally{g=null,b=te,y=!1}J=void 0}}finally{J?G():C=!1}}}var G;if(typeof D=="function")G=function(){D($)};else if(typeof MessageChannel!="undefined"){var W=new MessageChannel,ee=W.port2;W.port1.onmessage=$,G=function(){ee.postMessage(null)}}else G=function(){S($,0)};function Y(H,J){A=S(function(){H(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(H){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var te=b;b=J;try{return H()}finally{b=te}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=b;b=H;try{return J()}finally{b=te}},e.unstable_scheduleCallback=function(H,J,te){var ce=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ce+te:ce):te=ce,H){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=te+L,H={id:p++,callback:J,priorityLevel:H,startTime:te,expirationTime:L,sortIndex:-1},te>ce?(H.sortIndex=te,t(h,H),n(f)===null&&H===n(h)&&(w?(R(A),A=-1):w=!0,Y(k,te-ce))):(H.sortIndex=L,t(f,H),_||y||(_=!0,C||(C=!0,G()))),H},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(H){var J=b;return function(){var te=b;b=J;try{return H.apply(this,arguments)}finally{b=te}}}}(Og)),Og}var E_;function EO(){return E_||(E_=1,kg.exports=NO()),kg.exports}var Dg={exports:{}},js={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function TO(){if(T_)return js;T_=1;var e=Cx();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return js.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,js.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return i(f,h,null,p)},js.flushSync=function(f){var h=c.T,p=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=h,s.p=p,s.d.f()}},js.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(f,h))},js.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},js.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?s.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:y}):p==="script"&&s.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},js.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);s.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(f)},js.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);s.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},js.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);s.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(f)},js.requestFormReset=function(f){s.d.r(f)},js.unstable_batchedUpdates=function(f,h){return f(h)},js.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},js.useFormStatus=function(){return c.H.useHostTransitionStatus()},js.version="19.1.1",js}var C_;function VS(){if(C_)return Dg.exports;C_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Dg.exports=TO(),Dg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function CO(){if(k_)return cu;k_=1;var e=EO(),t=Cx(),n=VS();function s(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function i(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function c(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function d(r){if(i(r)!==r)throw Error(s(188))}function f(r){var o=r.alternate;if(!o){if(o=i(r),o===null)throw Error(s(188));return o!==r?null:r}for(var u=r,m=o;;){var x=u.return;if(x===null)break;var v=x.alternate;if(v===null){if(m=x.return,m!==null){u=m;continue}break}if(x.child===v.child){for(v=x.child;v;){if(v===u)return d(x),r;if(v===m)return d(x),o;v=v.sibling}throw Error(s(188))}if(u.return!==m.return)u=x,m=v;else{for(var O=!1,F=x.child;F;){if(F===u){O=!0,u=x,m=v;break}if(F===m){O=!0,m=x,u=v;break}F=F.sibling}if(!O){for(F=v.child;F;){if(F===u){O=!0,u=v,m=x;break}if(F===m){O=!0,m=v,u=x;break}F=F.sibling}if(!O)throw Error(s(189))}}if(u.alternate!==m)throw Error(s(190))}if(u.tag!==3)throw Error(s(188));return u.stateNode.current===u?r:o}function h(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=h(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function G(r){return r===null||typeof r!="object"?null:(r=$&&r[$]||r["@@iterator"],typeof r=="function"?r:null)}var W=Symbol.for("react.client.reference");function ee(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===W?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case _:return"Fragment";case N:return"Profiler";case w:return"StrictMode";case k:return"Suspense";case C:return"SuspenseList";case U:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case y:return"Portal";case D:return(r.displayName||"Context")+".Provider";case R:return(r._context.displayName||"Context")+".Consumer";case T:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case A:return o=r.displayName||null,o!==null?o:ee(r.type)||"Memo";case P:o=r._payload,r=r._init;try{return ee(r(o))}catch(u){}}return null}var Y=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ce=[],L=-1;function le(r){return{current:r}}function re(r){0>L||(r.current=ce[L],ce[L]=null,L--)}function V(r,o){L++,ce[L]=r.current,r.current=o}var ne=le(null),xe=le(null),me=le(null),Te=le(null);function Oe(r,o){switch(V(me,o),V(xe,r),V(ne,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?Ww(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=Ww(o),r=Yw(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}re(ne),V(ne,r)}function He(){re(ne),re(xe),re(me)}function Pe(r){r.memoizedState!==null&&V(Te,r);var o=ne.current,u=Yw(o,r.type);o!==u&&(V(xe,r),V(ne,u))}function rt(r){xe.current===r&&(re(ne),re(xe)),Te.current===r&&(re(Te),su._currentValue=te)}var Ge=Object.prototype.hasOwnProperty,mt=e.unstable_scheduleCallback,ze=e.unstable_cancelCallback,St=e.unstable_shouldYield,at=e.unstable_requestPaint,Me=e.unstable_now,st=e.unstable_getCurrentPriorityLevel,ft=e.unstable_ImmediatePriority,X=e.unstable_UserBlockingPriority,fe=e.unstable_NormalPriority,q=e.unstable_LowPriority,Se=e.unstable_IdlePriority,Re=e.log,Ae=e.unstable_setDisableYieldValue,Be=null,qe=null;function et(r){if(typeof Re=="function"&&Ae(r),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Be,r)}catch(o){}}var wt=Math.clz32?Math.clz32:dn,Sn=Math.log,Jt=Math.LN2;function dn(r){return r>>>=0,r===0?32:31-(Sn(r)/Jt|0)|0}var vn=256,Xn=4194304;function Gn(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function cs(r,o,u){var m=r.pendingLanes;if(m===0)return 0;var x=0,v=r.suspendedLanes,O=r.pingedLanes;r=r.warmLanes;var F=m&134217727;return F!==0?(m=F&~v,m!==0?x=Gn(m):(O&=F,O!==0?x=Gn(O):u||(u=F&~r,u!==0&&(x=Gn(u))))):(F=m&~v,F!==0?x=Gn(F):O!==0?x=Gn(O):u||(u=m&~r,u!==0&&(x=Gn(u)))),x===0?0:o!==0&&o!==x&&(o&v)===0&&(v=x&-x,u=o&-o,v>=u||v===32&&(u&4194048)!==0)?o:x}function Kn(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function Cs(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ye(){var r=vn;return vn<<=1,(vn&4194048)===0&&(vn=256),r}function Rt(){var r=Xn;return Xn<<=1,(Xn&62914560)===0&&(Xn=4194304),r}function Ut(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function Nt(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Qt(r,o,u,m,x,v){var O=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var F=r.entanglements,Q=r.expirationTimes,ye=r.hiddenUpdates;for(u=O&~u;0<u;){var Ne=31-wt(u),Ce=1<<Ne;F[Ne]=0,Q[Ne]=-1;var we=ye[Ne];if(we!==null)for(ye[Ne]=null,Ne=0;Ne<we.length;Ne++){var _e=we[Ne];_e!==null&&(_e.lane&=-536870913)}u&=~Ce}m!==0&&Xe(r,m,0),v!==0&&x===0&&r.tag!==0&&(r.suspendedLanes|=v&~(O&~o))}function Xe(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var m=31-wt(o);r.entangledLanes|=o,r.entanglements[m]=r.entanglements[m]|1073741824|u&4194090}function _t(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var m=31-wt(u),x=1<<m;x&o|r[m]&o&&(r[m]|=o),u&=~x}}function Vt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Wt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Z(){var r=J.p;return r!==0?r:(r=window.event,r===void 0?32:f_(r.type))}function ie(r,o){var u=J.p;try{return J.p=r,o()}finally{J.p=u}}var pe=Math.random().toString(36).slice(2),je="__reactFiber$"+pe,De="__reactProps$"+pe,$e="__reactContainer$"+pe,Ke="__reactEvents$"+pe,tt="__reactListeners$"+pe,ut="__reactHandles$"+pe,kt="__reactResources$"+pe,it="__reactMarker$"+pe;function vt(r){delete r[je],delete r[De],delete r[Ke],delete r[tt],delete r[ut]}function Ct(r){var o=r[je];if(o)return o;for(var u=r.parentNode;u;){if(o=u[$e]||u[je]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=Qw(r);r!==null;){if(u=r[je])return u;r=Qw(r)}return o}r=u,u=r.parentNode}return null}function fn(r){if(r=r[je]||r[$e]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function On(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(s(33))}function rn(r){var o=r[kt];return o||(o=r[kt]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ot(r){r[it]=!0}var Et=new Set,Yt={};function wn(r,o){Dn(r,o),Dn(r+"Capture",o)}function Dn(r,o){for(Yt[r]=o,r=0;r<o.length;r++)Et.add(o[r])}var Qn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ss={},or={};function lr(r){return Ge.call(or,r)?!0:Ge.call(ss,r)?!1:Qn.test(r)?or[r]=!0:(ss[r]=!0,!1)}function vs(r,o,u){if(lr(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function cr(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function At(r,o,u,m){if(m===null)r.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+m)}}var An,ba;function us(r){if(An===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);An=o&&o[1]||"",ba=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+An+r+ba}var mn=!1;function Or(r,o){if(!r||mn)return"";mn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(_e){var we=_e}Reflect.construct(r,[],Ce)}else{try{Ce.call()}catch(_e){we=_e}r.call(Ce.prototype)}}else{try{throw Error()}catch(_e){we=_e}(Ce=r())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(_e){if(_e&&we&&typeof _e.stack=="string")return[_e.stack,we.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=m.DetermineComponentFrameRoot(),O=v[0],F=v[1];if(O&&F){var Q=O.split(`
`),ye=F.split(`
`);for(x=m=0;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;for(;x<ye.length&&!ye[x].includes("DetermineComponentFrameRoot");)x++;if(m===Q.length||x===ye.length)for(m=Q.length-1,x=ye.length-1;1<=m&&0<=x&&Q[m]!==ye[x];)x--;for(;1<=m&&0<=x;m--,x--)if(Q[m]!==ye[x]){if(m!==1||x!==1)do if(m--,x--,0>x||Q[m]!==ye[x]){var Ne=`
`+Q[m].replace(" at new "," at ");return r.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",r.displayName)),Ne}while(1<=m&&0<=x);break}}}finally{mn=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?us(u):""}function Io(r){switch(r.tag){case 26:case 27:case 5:return us(r.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 15:return Or(r.type,!1);case 11:return Or(r.type.render,!1);case 1:return Or(r.type,!0);case 31:return us("Activity");default:return""}}function qo(r){try{var o="";do o+=Io(r),r=r.return;while(r);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Rs(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function md(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function pd(r){var o=md(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),m=""+r[o];if(!r.hasOwnProperty(o)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,v=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return x.call(this)},set:function(O){m=""+O,v.call(this,O)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(O){m=""+O},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Ii(r){r._valueTracker||(r._valueTracker=pd(r))}function Gr(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return r&&(m=md(r)?r.checked?"true":"false":r.value),r=m,r!==u?(o.setValue(r),!0):!1}function qi(r){if(r=r||(typeof document!="undefined"?document:void 0),typeof r=="undefined")return null;try{return r.activeElement||r.body}catch(o){return r.body}}var Om=/[\n"\\]/g;function Ms(r){return r.replace(Om,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function hc(r,o,u,m,x,v,O,F){r.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.type=O:r.removeAttribute("type"),o!=null?O==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Rs(o)):r.value!==""+Rs(o)&&(r.value=""+Rs(o)):O!=="submit"&&O!=="reset"||r.removeAttribute("value"),o!=null?mc(r,O,Rs(o)):u!=null?mc(r,O,Rs(u)):m!=null&&r.removeAttribute("value"),x==null&&v!=null&&(r.defaultChecked=!!v),x!=null&&(r.checked=x&&typeof x!="function"&&typeof x!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?r.name=""+Rs(F):r.removeAttribute("name")}function gd(r,o,u,m,x,v,O,F){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),o!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;u=u!=null?""+Rs(u):"",o=o!=null?""+Rs(o):u,F||o===r.value||(r.value=o),r.defaultValue=o}m=m!=null?m:x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=F?r.checked:!!m,r.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(r.name=O)}function mc(r,o,u){o==="number"&&qi(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function va(r,o,u,m){if(r=r.options,o){o={};for(var x=0;x<u.length;x++)o["$"+u[x]]=!0;for(u=0;u<r.length;u++)x=o.hasOwnProperty("$"+r[u].value),r[u].selected!==x&&(r[u].selected=x),x&&m&&(r[u].defaultSelected=!0)}else{for(u=""+Rs(u),o=null,x=0;x<r.length;x++){if(r[x].value===u){r[x].selected=!0,m&&(r[x].defaultSelected=!0);return}o!==null||r[x].disabled||(o=r[x])}o!==null&&(o.selected=!0)}}function Wi(r,o,u){if(o!=null&&(o=""+Rs(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+Rs(u):""}function pc(r,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(s(92));if(Y(m)){if(1<m.length)throw Error(s(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=Rs(o),r.defaultValue=u,m=r.textContent,m===u&&m!==""&&m!==null&&(r.value=m)}function Ka(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var xd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yd(r,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":m?r.setProperty(o,u):typeof u!="number"||u===0||xd.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function gc(r,o,u){if(o!=null&&typeof o!="object")throw Error(s(62));if(r=r.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var x in o)m=o[x],o.hasOwnProperty(x)&&u[x]!==m&&yd(r,x,m)}else for(var v in o)o.hasOwnProperty(v)&&yd(r,v,o[v])}function Yi(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yo(r){return Dm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var xc=null;function Xi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var wa=null,Qa=null;function yc(r){var o=fn(r);if(o&&(r=o.stateNode)){var u=r[De]||null;e:switch(r=o.stateNode,o.type){case"input":if(hc(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ms(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==r&&m.form===r.form){var x=m[De]||null;if(!x)throw Error(s(90));hc(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===r.form&&Gr(m)}break e;case"textarea":Wi(r,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&va(r,!!u.multiple,o,!1)}}}var Gi=!1;function bc(r,o,u){if(Gi)return r(o,u);Gi=!0;try{var m=r(o);return m}finally{if(Gi=!1,(wa!==null||Qa!==null)&&(ef(),wa&&(o=wa,r=Qa,Qa=wa=null,yc(o),r)))for(o=0;o<r.length;o++)yc(r[o])}}function Za(r,o){var u=r.stateNode;if(u===null)return null;var m=u[De]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(s(231,o,typeof u));return u}var Ps=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Xo=!1;if(Ps)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch(r){Xo=!1}var Ys=null,Ls=null,_a=null;function Qi(){if(_a)return _a;var r,o=Ls,u=o.length,m,x="value"in Ys?Ys.value:Ys.textContent,v=x.length;for(r=0;r<u&&o[r]===x[r];r++);var O=u-r;for(m=1;m<=O&&o[u-m]===x[v-m];m++);return _a=x.slice(r,1<m?1-m:void 0)}function Ja(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Go(){return!0}function bd(){return!1}function ws(r){function o(u,m,x,v,O){this._reactName=u,this._targetInst=x,this.type=m,this.nativeEvent=v,this.target=O,this.currentTarget=null;for(var F in r)r.hasOwnProperty(F)&&(u=r[F],this[F]=u?u(v):v[F]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Go:bd,this.isPropagationStopped=bd,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Go)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Go)},persist:function(){},isPersistent:Go}),o}var Dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ko=ws(Dr),ei=p({},Dr,{view:0,detail:0}),Rn=ws(ei),E,M,B,I=p({},ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ur,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==B&&(B&&r.type==="mousemove"?(E=r.screenX-B.screenX,M=r.screenY-B.screenY):M=E=0,B=r),E)},movementY:function(r){return"movementY"in r?r.movementY:M}}),ue=ws(I),he=p({},I,{dataTransfer:0}),be=ws(he),Ue=p({},ei,{relatedTarget:0}),ct=ws(Ue),Fe=p({},Dr,{animationName:0,elapsedTime:0,pseudoElement:0}),We=ws(Fe),pt=p({},Dr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),an=ws(pt),Tt=p({},Dr,{data:0}),dt=ws(Tt),nt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=$n[r])?!!o[r]:!1}function ur(){return Nn}var Zi=p({},ei,{key:function(r){if(r.key){var o=nt[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Ja(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?rs[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ur,charCode:function(r){return r.type==="keypress"?Ja(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ja(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Kr=ws(Zi),ti=p({},I,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qo=ws(ti),Zo=p({},ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ur}),vd=ws(Zo),MC=p({},Dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),PC=ws(MC),LC=p({},I,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),zC=ws(LC),UC=p({},Dr,{newState:0,oldState:0}),FC=ws(UC),BC=[9,13,27,32],Am=Ps&&"CompositionEvent"in window,vc=null;Ps&&"documentMode"in document&&(vc=document.documentMode);var $C=Ps&&"TextEvent"in window&&!vc,tb=Ps&&(!Am||vc&&8<vc&&11>=vc),nb=" ",sb=!1;function rb(r,o){switch(r){case"keyup":return BC.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ab(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Jo=!1;function HC(r,o){switch(r){case"compositionend":return ab(o);case"keypress":return o.which!==32?null:(sb=!0,nb);case"textInput":return r=o.data,r===nb&&sb?null:r;default:return null}}function VC(r,o){if(Jo)return r==="compositionend"||!Am&&rb(r,o)?(r=Qi(),_a=Ls=Ys=null,Jo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return tb&&o.locale!=="ko"?null:o.data;default:return null}}var IC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ib(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!IC[r.type]:o==="textarea"}function ob(r,o,u,m){wa?Qa?Qa.push(m):Qa=[m]:wa=m,o=of(o,"onChange"),0<o.length&&(u=new Ko("onChange","change",null,u,m),r.push({event:u,listeners:o}))}var wc=null,_c=null;function qC(r){$w(r,0)}function wd(r){var o=On(r);if(Gr(o))return r}function lb(r,o){if(r==="change")return o}var cb=!1;if(Ps){var Rm;if(Ps){var Mm="oninput"in document;if(!Mm){var ub=document.createElement("div");ub.setAttribute("oninput","return;"),Mm=typeof ub.oninput=="function"}Rm=Mm}else Rm=!1;cb=Rm&&(!document.documentMode||9<document.documentMode)}function db(){wc&&(wc.detachEvent("onpropertychange",fb),_c=wc=null)}function fb(r){if(r.propertyName==="value"&&wd(_c)){var o=[];ob(o,_c,r,Xi(r)),bc(qC,o)}}function WC(r,o,u){r==="focusin"?(db(),wc=o,_c=u,wc.attachEvent("onpropertychange",fb)):r==="focusout"&&db()}function YC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return wd(_c)}function XC(r,o){if(r==="click")return wd(o)}function GC(r,o){if(r==="input"||r==="change")return wd(o)}function KC(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Xs=typeof Object.is=="function"?Object.is:KC;function jc(r,o){if(Xs(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var x=u[m];if(!Ge.call(o,x)||!Xs(r[x],o[x]))return!1}return!0}function hb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function mb(r,o){var u=hb(r);r=0;for(var m;u;){if(u.nodeType===3){if(m=r+u.textContent.length,r<=o&&m>=o)return{node:u,offset:o-r};r=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=hb(u)}}function pb(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?pb(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function gb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=qi(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch(m){u=!1}if(u)r=o.contentWindow;else break;o=qi(r.document)}return o}function Pm(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var QC=Ps&&"documentMode"in document&&11>=document.documentMode,el=null,Lm=null,Sc=null,zm=!1;function xb(r,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;zm||el==null||el!==qi(m)||(m=el,"selectionStart"in m&&Pm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Sc&&jc(Sc,m)||(Sc=m,m=of(Lm,"onSelect"),0<m.length&&(o=new Ko("onSelect","select",null,o,u),r.push({event:o,listeners:m}),o.target=el)))}function Ji(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var tl={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionrun:Ji("Transition","TransitionRun"),transitionstart:Ji("Transition","TransitionStart"),transitioncancel:Ji("Transition","TransitionCancel"),transitionend:Ji("Transition","TransitionEnd")},Um={},yb={};Ps&&(yb=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function eo(r){if(Um[r])return Um[r];if(!tl[r])return r;var o=tl[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in yb)return Um[r]=o[u];return r}var bb=eo("animationend"),vb=eo("animationiteration"),wb=eo("animationstart"),ZC=eo("transitionrun"),JC=eo("transitionstart"),ek=eo("transitioncancel"),_b=eo("transitionend"),jb=new Map,Fm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fm.push("scrollEnd");function Ar(r,o){jb.set(r,o),wn(o,[r])}var Sb=new WeakMap;function dr(r,o){if(typeof r=="object"&&r!==null){var u=Sb.get(r);return u!==void 0?u:(o={value:r,source:o,stack:qo(o)},Sb.set(r,o),o)}return{value:r,source:o,stack:qo(o)}}var fr=[],nl=0,Bm=0;function _d(){for(var r=nl,o=Bm=nl=0;o<r;){var u=fr[o];fr[o++]=null;var m=fr[o];fr[o++]=null;var x=fr[o];fr[o++]=null;var v=fr[o];if(fr[o++]=null,m!==null&&x!==null){var O=m.pending;O===null?x.next=x:(x.next=O.next,O.next=x),m.pending=x}v!==0&&Nb(u,x,v)}}function jd(r,o,u,m){fr[nl++]=r,fr[nl++]=o,fr[nl++]=u,fr[nl++]=m,Bm|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function $m(r,o,u,m){return jd(r,o,u,m),Sd(r)}function sl(r,o){return jd(r,null,null,o),Sd(r)}function Nb(r,o,u){r.lanes|=u;var m=r.alternate;m!==null&&(m.lanes|=u);for(var x=!1,v=r.return;v!==null;)v.childLanes|=u,m=v.alternate,m!==null&&(m.childLanes|=u),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(x=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,x&&o!==null&&(x=31-wt(u),r=v.hiddenUpdates,m=r[x],m===null?r[x]=[o]:m.push(o),o.lane=u|536870912),v):null}function Sd(r){if(50<Gc)throw Gc=0,Yp=null,Error(s(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var rl={};function tk(r,o,u,m){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gs(r,o,u,m){return new tk(r,o,u,m)}function Hm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ja(r,o){var u=r.alternate;return u===null?(u=Gs(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function Eb(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Nd(r,o,u,m,x,v){var O=0;if(m=r,typeof r=="function")Hm(r)&&(O=1);else if(typeof r=="string")O=sO(r,u,ne.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case U:return r=Gs(31,u,o,x),r.elementType=U,r.lanes=v,r;case _:return to(u.children,x,v,o);case w:O=8,x|=24;break;case N:return r=Gs(12,u,o,x|2),r.elementType=N,r.lanes=v,r;case k:return r=Gs(13,u,o,x),r.elementType=k,r.lanes=v,r;case C:return r=Gs(19,u,o,x),r.elementType=C,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case S:case D:O=10;break e;case R:O=9;break e;case T:O=11;break e;case A:O=14;break e;case P:O=16,m=null;break e}O=29,u=Error(s(130,r===null?"null":typeof r,"")),m=null}return o=Gs(O,u,o,x),o.elementType=r,o.type=m,o.lanes=v,o}function to(r,o,u,m){return r=Gs(7,r,m,o),r.lanes=u,r}function Vm(r,o,u){return r=Gs(6,r,null,o),r.lanes=u,r}function Im(r,o,u){return o=Gs(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var al=[],il=0,Ed=null,Td=0,hr=[],mr=0,no=null,Sa=1,Na="";function so(r,o){al[il++]=Td,al[il++]=Ed,Ed=r,Td=o}function Tb(r,o,u){hr[mr++]=Sa,hr[mr++]=Na,hr[mr++]=no,no=r;var m=Sa;r=Na;var x=32-wt(m)-1;m&=~(1<<x),u+=1;var v=32-wt(o)+x;if(30<v){var O=x-x%5;v=(m&(1<<O)-1).toString(32),m>>=O,x-=O,Sa=1<<32-wt(o)+x|u<<x|m,Na=v+r}else Sa=1<<v|u<<x|m,Na=r}function qm(r){r.return!==null&&(so(r,1),Tb(r,1,0))}function Wm(r){for(;r===Ed;)Ed=al[--il],al[il]=null,Td=al[--il],al[il]=null;for(;r===no;)no=hr[--mr],hr[mr]=null,Na=hr[--mr],hr[mr]=null,Sa=hr[--mr],hr[mr]=null}var ks=null,Mn=null,Zt=!1,ro=null,Qr=!1,Ym=Error(s(519));function ao(r){var o=Error(s(418,""));throw Tc(dr(o,r)),Ym}function Cb(r){var o=r.stateNode,u=r.type,m=r.memoizedProps;switch(o[je]=r,o[De]=m,u){case"dialog":Bt("cancel",o),Bt("close",o);break;case"iframe":case"object":case"embed":Bt("load",o);break;case"video":case"audio":for(u=0;u<Qc.length;u++)Bt(Qc[u],o);break;case"source":Bt("error",o);break;case"img":case"image":case"link":Bt("error",o),Bt("load",o);break;case"details":Bt("toggle",o);break;case"input":Bt("invalid",o),gd(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Ii(o);break;case"select":Bt("invalid",o);break;case"textarea":Bt("invalid",o),pc(o,m.value,m.defaultValue,m.children),Ii(o)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||qw(o.textContent,u)?(m.popover!=null&&(Bt("beforetoggle",o),Bt("toggle",o)),m.onScroll!=null&&Bt("scroll",o),m.onScrollEnd!=null&&Bt("scrollend",o),m.onClick!=null&&(o.onclick=lf),o=!0):o=!1,o||ao(r)}function kb(r){for(ks=r.return;ks;)switch(ks.tag){case 5:case 13:Qr=!1;return;case 27:case 3:Qr=!0;return;default:ks=ks.return}}function Nc(r){if(r!==ks)return!1;if(!Zt)return kb(r),Zt=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||cg(r.type,r.memoizedProps)),u=!u),u&&Mn&&ao(r),kb(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(o===0){Mn=Mr(r.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;r=r.nextSibling}Mn=null}}else o===27?(o=Mn,xi(r.type)?(r=hg,hg=null,Mn=r):Mn=o):Mn=ks?Mr(r.stateNode.nextSibling):null;return!0}function Ec(){Mn=ks=null,Zt=!1}function Ob(){var r=ro;return r!==null&&(Fs===null?Fs=r:Fs.push.apply(Fs,r),ro=null),r}function Tc(r){ro===null?ro=[r]:ro.push(r)}var Xm=le(null),io=null,Ea=null;function ni(r,o,u){V(Xm,o._currentValue),o._currentValue=u}function Ta(r){r._currentValue=Xm.current,re(Xm)}function Gm(r,o,u){for(;r!==null;){var m=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),r===u)break;r=r.return}}function Km(r,o,u,m){var x=r.child;for(x!==null&&(x.return=r);x!==null;){var v=x.dependencies;if(v!==null){var O=x.child;v=v.firstContext;e:for(;v!==null;){var F=v;v=x;for(var Q=0;Q<o.length;Q++)if(F.context===o[Q]){v.lanes|=u,F=v.alternate,F!==null&&(F.lanes|=u),Gm(v.return,u,r),m||(O=null);break e}v=F.next}}else if(x.tag===18){if(O=x.return,O===null)throw Error(s(341));O.lanes|=u,v=O.alternate,v!==null&&(v.lanes|=u),Gm(O,u,r),O=null}else O=x.child;if(O!==null)O.return=x;else for(O=x;O!==null;){if(O===r){O=null;break}if(x=O.sibling,x!==null){x.return=O.return,O=x;break}O=O.return}x=O}}function Cc(r,o,u,m){r=null;for(var x=o,v=!1;x!==null;){if(!v){if((x.flags&524288)!==0)v=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var O=x.alternate;if(O===null)throw Error(s(387));if(O=O.memoizedProps,O!==null){var F=x.type;Xs(x.pendingProps.value,O.value)||(r!==null?r.push(F):r=[F])}}else if(x===Te.current){if(O=x.alternate,O===null)throw Error(s(387));O.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(r!==null?r.push(su):r=[su])}x=x.return}r!==null&&Km(o,r,u,m),o.flags|=262144}function Cd(r){for(r=r.firstContext;r!==null;){if(!Xs(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function oo(r){io=r,Ea=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function _s(r){return Db(io,r)}function kd(r,o){return io===null&&oo(r),Db(r,o)}function Db(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Ea===null){if(r===null)throw Error(s(308));Ea=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Ea=Ea.next=o;return u}var nk=typeof AbortController!="undefined"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,m){r.push(m)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},sk=e.unstable_scheduleCallback,rk=e.unstable_NormalPriority,Zn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qm(){return{controller:new nk,data:new Map,refCount:0}}function kc(r){r.refCount--,r.refCount===0&&sk(rk,function(){r.controller.abort()})}var Oc=null,Zm=0,ol=0,ll=null;function ak(r,o){if(Oc===null){var u=Oc=[];Zm=0,ol=eg(),ll={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Zm++,o.then(Ab,Ab),o}function Ab(){if(--Zm===0&&Oc!==null){ll!==null&&(ll.status="fulfilled");var r=Oc;Oc=null,ol=0,ll=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function ik(r,o){var u=[],m={status:"pending",value:null,reason:null,then:function(x){u.push(x)}};return r.then(function(){m.status="fulfilled",m.value=o;for(var x=0;x<u.length;x++)(0,u[x])(o)},function(x){for(m.status="rejected",m.reason=x,x=0;x<u.length;x++)(0,u[x])(void 0)}),m}var Rb=H.S;H.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&ak(r,o),Rb!==null&&Rb(r,o)};var lo=le(null);function Jm(){var r=lo.current;return r!==null?r:pn.pooledCache}function Od(r,o){o===null?V(lo,lo.current):V(lo,o.pool)}function Mb(){var r=Jm();return r===null?null:{parent:Zn._currentValue,pool:r}}var Dc=Error(s(460)),Pb=Error(s(474)),Dd=Error(s(542)),ep={then:function(){}};function Lb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Ad(){}function zb(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(Ad,Ad),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Fb(r),r;default:if(typeof o.status=="string")o.then(Ad,Ad);else{if(r=pn,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=o,r.status="pending",r.then(function(m){if(o.status==="pending"){var x=o;x.status="fulfilled",x.value=m}},function(m){if(o.status==="pending"){var x=o;x.status="rejected",x.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Fb(r),r}throw Ac=o,Dc}}var Ac=null;function Ub(){if(Ac===null)throw Error(s(459));var r=Ac;return Ac=null,r}function Fb(r){if(r===Dc||r===Dd)throw Error(s(483))}var si=!1;function tp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function np(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ri(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ai(r,o,u){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(en&2)!==0){var x=m.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),m.pending=o,o=Sd(r),Nb(r,null,u),o}return jd(r,m,o,u),Sd(r)}function Rc(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=r.pendingLanes,u|=m,o.lanes=u,_t(r,u)}}function sp(r,o){var u=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var x=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?x=v=O:v=v.next=O,u=u.next}while(u!==null);v===null?x=v=o:v=v.next=o}else x=v=o;u={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:v,shared:m.shared,callbacks:m.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var rp=!1;function Mc(){if(rp){var r=ll;if(r!==null)throw r}}function Pc(r,o,u,m){rp=!1;var x=r.updateQueue;si=!1;var v=x.firstBaseUpdate,O=x.lastBaseUpdate,F=x.shared.pending;if(F!==null){x.shared.pending=null;var Q=F,ye=Q.next;Q.next=null,O===null?v=ye:O.next=ye,O=Q;var Ne=r.alternate;Ne!==null&&(Ne=Ne.updateQueue,F=Ne.lastBaseUpdate,F!==O&&(F===null?Ne.firstBaseUpdate=ye:F.next=ye,Ne.lastBaseUpdate=Q))}if(v!==null){var Ce=x.baseState;O=0,Ne=ye=Q=null,F=v;do{var we=F.lane&-536870913,_e=we!==F.lane;if(_e?(qt&we)===we:(m&we)===we){we!==0&&we===ol&&(rp=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var yt=r,ht=F;we=o;var cn=u;switch(ht.tag){case 1:if(yt=ht.payload,typeof yt=="function"){Ce=yt.call(cn,Ce,we);break e}Ce=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=ht.payload,we=typeof yt=="function"?yt.call(cn,Ce,we):yt,we==null)break e;Ce=p({},Ce,we);break e;case 2:si=!0}}we=F.callback,we!==null&&(r.flags|=64,_e&&(r.flags|=8192),_e=x.callbacks,_e===null?x.callbacks=[we]:_e.push(we))}else _e={lane:we,tag:F.tag,payload:F.payload,callback:F.callback,next:null},Ne===null?(ye=Ne=_e,Q=Ce):Ne=Ne.next=_e,O|=we;if(F=F.next,F===null){if(F=x.shared.pending,F===null)break;_e=F,F=_e.next,_e.next=null,x.lastBaseUpdate=_e,x.shared.pending=null}}while(!0);Ne===null&&(Q=Ce),x.baseState=Q,x.firstBaseUpdate=ye,x.lastBaseUpdate=Ne,v===null&&(x.shared.lanes=0),hi|=O,r.lanes=O,r.memoizedState=Ce}}function Bb(r,o){if(typeof r!="function")throw Error(s(191,r));r.call(o)}function $b(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)Bb(u[r],o)}var cl=le(null),Rd=le(0);function Hb(r,o){r=Ma,V(Rd,r),V(cl,o),Ma=r|o.baseLanes}function ap(){V(Rd,Ma),V(cl,cl.current)}function ip(){Ma=Rd.current,re(cl),re(Rd)}var ii=0,Mt=null,on=null,Hn=null,Md=!1,ul=!1,co=!1,Pd=0,Lc=0,dl=null,ok=0;function Ln(){throw Error(s(321))}function op(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!Xs(r[u],o[u]))return!1;return!0}function lp(r,o,u,m,x,v){return ii=v,Mt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,H.H=r===null||r.memoizedState===null?Nv:Ev,co=!1,v=u(m,x),co=!1,ul&&(v=Ib(o,u,m,x)),Vb(r),v}function Vb(r){H.H=$d;var o=on!==null&&on.next!==null;if(ii=0,Hn=on=Mt=null,Md=!1,Lc=0,dl=null,o)throw Error(s(300));r===null||as||(r=r.dependencies,r!==null&&Cd(r)&&(as=!0))}function Ib(r,o,u,m){Mt=r;var x=0;do{if(ul&&(dl=null),Lc=0,ul=!1,25<=x)throw Error(s(301));if(x+=1,Hn=on=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}H.H=mk,v=o(u,m)}while(ul);return v}function lk(){var r=H.H,o=r.useState()[0];return o=typeof o.then=="function"?zc(o):o,r=r.useState()[0],(on!==null?on.memoizedState:null)!==r&&(Mt.flags|=1024),o}function cp(){var r=Pd!==0;return Pd=0,r}function up(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function dp(r){if(Md){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Md=!1}ii=0,Hn=on=Mt=null,ul=!1,Lc=Pd=0,dl=null}function zs(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Mt.memoizedState=Hn=r:Hn=Hn.next=r,Hn}function Vn(){if(on===null){var r=Mt.alternate;r=r!==null?r.memoizedState:null}else r=on.next;var o=Hn===null?Mt.memoizedState:Hn.next;if(o!==null)Hn=o,on=r;else{if(r===null)throw Mt.alternate===null?Error(s(467)):Error(s(310));on=r,r={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},Hn===null?Mt.memoizedState=Hn=r:Hn=Hn.next=r}return Hn}function fp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zc(r){var o=Lc;return Lc+=1,dl===null&&(dl=[]),r=zb(dl,r,o),o=Mt,(Hn===null?o.memoizedState:Hn.next)===null&&(o=o.alternate,H.H=o===null||o.memoizedState===null?Nv:Ev),r}function Ld(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return zc(r);if(r.$$typeof===D)return _s(r)}throw Error(s(438,String(r)))}function hp(r){var o=null,u=Mt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=Mt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(x){return x.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=fp(),Mt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),m=0;m<r;m++)u[m]=K;return o.index++,u}function Ca(r,o){return typeof o=="function"?o(r):o}function zd(r){var o=Vn();return mp(o,on,r)}function mp(r,o,u){var m=r.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=u;var x=r.baseQueue,v=m.pending;if(v!==null){if(x!==null){var O=x.next;x.next=v.next,v.next=O}o.baseQueue=x=v,m.pending=null}if(v=r.baseState,x===null)r.memoizedState=v;else{o=x.next;var F=O=null,Q=null,ye=o,Ne=!1;do{var Ce=ye.lane&-536870913;if(Ce!==ye.lane?(qt&Ce)===Ce:(ii&Ce)===Ce){var we=ye.revertLane;if(we===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),Ce===ol&&(Ne=!0);else if((ii&we)===we){ye=ye.next,we===ol&&(Ne=!0);continue}else Ce={lane:0,revertLane:ye.revertLane,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},Q===null?(F=Q=Ce,O=v):Q=Q.next=Ce,Mt.lanes|=we,hi|=we;Ce=ye.action,co&&u(v,Ce),v=ye.hasEagerState?ye.eagerState:u(v,Ce)}else we={lane:Ce,revertLane:ye.revertLane,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},Q===null?(F=Q=we,O=v):Q=Q.next=we,Mt.lanes|=Ce,hi|=Ce;ye=ye.next}while(ye!==null&&ye!==o);if(Q===null?O=v:Q.next=F,!Xs(v,r.memoizedState)&&(as=!0,Ne&&(u=ll,u!==null)))throw u;r.memoizedState=v,r.baseState=O,r.baseQueue=Q,m.lastRenderedState=v}return x===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function pp(r){var o=Vn(),u=o.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=r;var m=u.dispatch,x=u.pending,v=o.memoizedState;if(x!==null){u.pending=null;var O=x=x.next;do v=r(v,O.action),O=O.next;while(O!==x);Xs(v,o.memoizedState)||(as=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,m]}function qb(r,o,u){var m=Mt,x=Vn(),v=Zt;if(v){if(u===void 0)throw Error(s(407));u=u()}else u=o();var O=!Xs((on||x).memoizedState,u);O&&(x.memoizedState=u,as=!0),x=x.queue;var F=Xb.bind(null,m,x,r);if(Uc(2048,8,F,[r]),x.getSnapshot!==o||O||Hn!==null&&Hn.memoizedState.tag&1){if(m.flags|=2048,fl(9,Ud(),Yb.bind(null,m,x,u,o),null),pn===null)throw Error(s(349));v||(ii&124)!==0||Wb(m,o,u)}return u}function Wb(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=Mt.updateQueue,o===null?(o=fp(),Mt.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function Yb(r,o,u,m){o.value=u,o.getSnapshot=m,Gb(o)&&Kb(r)}function Xb(r,o,u){return u(function(){Gb(o)&&Kb(r)})}function Gb(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!Xs(r,u)}catch(m){return!0}}function Kb(r){var o=sl(r,2);o!==null&&er(o,r,2)}function gp(r){var o=zs();if(typeof r=="function"){var u=r;if(r=u(),co){et(!0);try{u()}finally{et(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:r},o}function Qb(r,o,u,m){return r.baseState=u,mp(r,on,typeof m=="function"?m:Ca)}function ck(r,o,u,m,x){if(Bd(r))throw Error(s(485));if(r=o.action,r!==null){var v={payload:x,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){v.listeners.push(O)}};H.T!==null?u(!0):v.isTransition=!1,m(v),u=o.pending,u===null?(v.next=o.pending=v,Zb(o,v)):(v.next=u.next,o.pending=u.next=v)}}function Zb(r,o){var u=o.action,m=o.payload,x=r.state;if(o.isTransition){var v=H.T,O={};H.T=O;try{var F=u(x,m),Q=H.S;Q!==null&&Q(O,F),Jb(r,o,F)}catch(ye){xp(r,o,ye)}finally{H.T=v}}else try{v=u(x,m),Jb(r,o,v)}catch(ye){xp(r,o,ye)}}function Jb(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){ev(r,o,m)},function(m){return xp(r,o,m)}):ev(r,o,u)}function ev(r,o,u){o.status="fulfilled",o.value=u,tv(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,Zb(r,u)))}function xp(r,o,u){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,tv(o),o=o.next;while(o!==m)}r.action=null}function tv(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function nv(r,o){return o}function sv(r,o){if(Zt){var u=pn.formState;if(u!==null){e:{var m=Mt;if(Zt){if(Mn){t:{for(var x=Mn,v=Qr;x.nodeType!==8;){if(!v){x=null;break t}if(x=Mr(x.nextSibling),x===null){x=null;break t}}v=x.data,x=v==="F!"||v==="F"?x:null}if(x){Mn=Mr(x.nextSibling),m=x.data==="F!";break e}}ao(m)}m=!1}m&&(o=u[0])}}return u=zs(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nv,lastRenderedState:o},u.queue=m,u=_v.bind(null,Mt,m),m.dispatch=u,m=gp(!1),v=_p.bind(null,Mt,!1,m.queue),m=zs(),x={state:o,dispatch:null,action:r,pending:null},m.queue=x,u=ck.bind(null,Mt,x,v,u),x.dispatch=u,m.memoizedState=r,[o,u,!1]}function rv(r){var o=Vn();return av(o,on,r)}function av(r,o,u){if(o=mp(r,o,nv)[0],r=zd(Ca)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=zc(o)}catch(O){throw O===Dc?Dd:O}else m=o;o=Vn();var x=o.queue,v=x.dispatch;return u!==o.memoizedState&&(Mt.flags|=2048,fl(9,Ud(),uk.bind(null,x,u),null)),[m,v,r]}function uk(r,o){r.action=o}function iv(r){var o=Vn(),u=on;if(u!==null)return av(o,u,r);Vn(),o=o.memoizedState,u=Vn();var m=u.queue.dispatch;return u.memoizedState=r,[o,m,!1]}function fl(r,o,u,m){return r={tag:r,create:u,deps:m,inst:o,next:null},o=Mt.updateQueue,o===null&&(o=fp(),Mt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(m=u.next,u.next=r,r.next=m,o.lastEffect=r),r}function Ud(){return{destroy:void 0,resource:void 0}}function ov(){return Vn().memoizedState}function Fd(r,o,u,m){var x=zs();m=m===void 0?null:m,Mt.flags|=r,x.memoizedState=fl(1|o,Ud(),u,m)}function Uc(r,o,u,m){var x=Vn();m=m===void 0?null:m;var v=x.memoizedState.inst;on!==null&&m!==null&&op(m,on.memoizedState.deps)?x.memoizedState=fl(o,v,u,m):(Mt.flags|=r,x.memoizedState=fl(1|o,v,u,m))}function lv(r,o){Fd(8390656,8,r,o)}function cv(r,o){Uc(2048,8,r,o)}function uv(r,o){return Uc(4,2,r,o)}function dv(r,o){return Uc(4,4,r,o)}function fv(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function hv(r,o,u){u=u!=null?u.concat([r]):null,Uc(4,4,fv.bind(null,o,r),u)}function yp(){}function mv(r,o){var u=Vn();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&op(o,m[1])?m[0]:(u.memoizedState=[r,o],r)}function pv(r,o){var u=Vn();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&op(o,m[1]))return m[0];if(m=r(),co){et(!0);try{r()}finally{et(!1)}}return u.memoizedState=[m,o],m}function bp(r,o,u){return u===void 0||(ii&1073741824)!==0?r.memoizedState=o:(r.memoizedState=u,r=yw(),Mt.lanes|=r,hi|=r,u)}function gv(r,o,u,m){return Xs(u,o)?u:cl.current!==null?(r=bp(r,u,m),Xs(r,o)||(as=!0),r):(ii&42)===0?(as=!0,r.memoizedState=u):(r=yw(),Mt.lanes|=r,hi|=r,o)}function xv(r,o,u,m,x){var v=J.p;J.p=v!==0&&8>v?v:8;var O=H.T,F={};H.T=F,_p(r,!1,o,u);try{var Q=x(),ye=H.S;if(ye!==null&&ye(F,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var Ne=ik(Q,m);Fc(r,o,Ne,Js(r))}else Fc(r,o,m,Js(r))}catch(Ce){Fc(r,o,{then:function(){},status:"rejected",reason:Ce},Js())}finally{J.p=v,H.T=O}}function dk(){}function vp(r,o,u,m){if(r.tag!==5)throw Error(s(476));var x=yv(r).queue;xv(r,x,o,te,u===null?dk:function(){return bv(r),u(m)})}function yv(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:te},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function bv(r){var o=yv(r).next.queue;Fc(r,o,{},Js())}function wp(){return _s(su)}function vv(){return Vn().memoizedState}function wv(){return Vn().memoizedState}function fk(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=Js();r=ri(u);var m=ai(o,r,u);m!==null&&(er(m,o,u),Rc(m,o,u)),o={cache:Qm()},r.payload=o;return}o=o.return}}function hk(r,o,u){var m=Js();u={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Bd(r)?jv(o,u):(u=$m(r,o,u,m),u!==null&&(er(u,r,m),Sv(u,o,m)))}function _v(r,o,u){var m=Js();Fc(r,o,u,m)}function Fc(r,o,u,m){var x={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Bd(r))jv(o,x);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var O=o.lastRenderedState,F=v(O,u);if(x.hasEagerState=!0,x.eagerState=F,Xs(F,O))return jd(r,o,x,0),pn===null&&_d(),!1}catch(Q){}finally{}if(u=$m(r,o,x,m),u!==null)return er(u,r,m),Sv(u,o,m),!0}return!1}function _p(r,o,u,m){if(m={lane:2,revertLane:eg(),action:m,hasEagerState:!1,eagerState:null,next:null},Bd(r)){if(o)throw Error(s(479))}else o=$m(r,u,m,2),o!==null&&er(o,r,2)}function Bd(r){var o=r.alternate;return r===Mt||o!==null&&o===Mt}function jv(r,o){ul=Md=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function Sv(r,o,u){if((u&4194048)!==0){var m=o.lanes;m&=r.pendingLanes,u|=m,o.lanes=u,_t(r,u)}}var $d={readContext:_s,use:Ld,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useLayoutEffect:Ln,useInsertionEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useSyncExternalStore:Ln,useId:Ln,useHostTransitionStatus:Ln,useFormState:Ln,useActionState:Ln,useOptimistic:Ln,useMemoCache:Ln,useCacheRefresh:Ln},Nv={readContext:_s,use:Ld,useCallback:function(r,o){return zs().memoizedState=[r,o===void 0?null:o],r},useContext:_s,useEffect:lv,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,Fd(4194308,4,fv.bind(null,o,r),u)},useLayoutEffect:function(r,o){return Fd(4194308,4,r,o)},useInsertionEffect:function(r,o){Fd(4,2,r,o)},useMemo:function(r,o){var u=zs();o=o===void 0?null:o;var m=r();if(co){et(!0);try{r()}finally{et(!1)}}return u.memoizedState=[m,o],m},useReducer:function(r,o,u){var m=zs();if(u!==void 0){var x=u(o);if(co){et(!0);try{u(o)}finally{et(!1)}}}else x=o;return m.memoizedState=m.baseState=x,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:x},m.queue=r,r=r.dispatch=hk.bind(null,Mt,r),[m.memoizedState,r]},useRef:function(r){var o=zs();return r={current:r},o.memoizedState=r},useState:function(r){r=gp(r);var o=r.queue,u=_v.bind(null,Mt,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:yp,useDeferredValue:function(r,o){var u=zs();return bp(u,r,o)},useTransition:function(){var r=gp(!1);return r=xv.bind(null,Mt,r.queue,!0,!1),zs().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var m=Mt,x=zs();if(Zt){if(u===void 0)throw Error(s(407));u=u()}else{if(u=o(),pn===null)throw Error(s(349));(qt&124)!==0||Wb(m,o,u)}x.memoizedState=u;var v={value:u,getSnapshot:o};return x.queue=v,lv(Xb.bind(null,m,v,r),[r]),m.flags|=2048,fl(9,Ud(),Yb.bind(null,m,v,u,o),null),u},useId:function(){var r=zs(),o=pn.identifierPrefix;if(Zt){var u=Na,m=Sa;u=(m&~(1<<32-wt(m)-1)).toString(32)+u,o=""+o+"R"+u,u=Pd++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=ok++,o=""+o+"r"+u.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:wp,useFormState:sv,useActionState:sv,useOptimistic:function(r){var o=zs();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=_p.bind(null,Mt,!0,u),u.dispatch=o,[r,o]},useMemoCache:hp,useCacheRefresh:function(){return zs().memoizedState=fk.bind(null,Mt)}},Ev={readContext:_s,use:Ld,useCallback:mv,useContext:_s,useEffect:cv,useImperativeHandle:hv,useInsertionEffect:uv,useLayoutEffect:dv,useMemo:pv,useReducer:zd,useRef:ov,useState:function(){return zd(Ca)},useDebugValue:yp,useDeferredValue:function(r,o){var u=Vn();return gv(u,on.memoizedState,r,o)},useTransition:function(){var r=zd(Ca)[0],o=Vn().memoizedState;return[typeof r=="boolean"?r:zc(r),o]},useSyncExternalStore:qb,useId:vv,useHostTransitionStatus:wp,useFormState:rv,useActionState:rv,useOptimistic:function(r,o){var u=Vn();return Qb(u,on,r,o)},useMemoCache:hp,useCacheRefresh:wv},mk={readContext:_s,use:Ld,useCallback:mv,useContext:_s,useEffect:cv,useImperativeHandle:hv,useInsertionEffect:uv,useLayoutEffect:dv,useMemo:pv,useReducer:pp,useRef:ov,useState:function(){return pp(Ca)},useDebugValue:yp,useDeferredValue:function(r,o){var u=Vn();return on===null?bp(u,r,o):gv(u,on.memoizedState,r,o)},useTransition:function(){var r=pp(Ca)[0],o=Vn().memoizedState;return[typeof r=="boolean"?r:zc(r),o]},useSyncExternalStore:qb,useId:vv,useHostTransitionStatus:wp,useFormState:iv,useActionState:iv,useOptimistic:function(r,o){var u=Vn();return on!==null?Qb(u,on,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:hp,useCacheRefresh:wv},hl=null,Bc=0;function Hd(r){var o=Bc;return Bc+=1,hl===null&&(hl=[]),zb(hl,r,o)}function $c(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Vd(r,o){throw o.$$typeof===g?Error(s(525)):(r=Object.prototype.toString.call(o),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function Tv(r){var o=r._init;return o(r._payload)}function Cv(r){function o(de,ae){if(r){var ge=de.deletions;ge===null?(de.deletions=[ae],de.flags|=16):ge.push(ae)}}function u(de,ae){if(!r)return null;for(;ae!==null;)o(de,ae),ae=ae.sibling;return null}function m(de){for(var ae=new Map;de!==null;)de.key!==null?ae.set(de.key,de):ae.set(de.index,de),de=de.sibling;return ae}function x(de,ae){return de=ja(de,ae),de.index=0,de.sibling=null,de}function v(de,ae,ge){return de.index=ge,r?(ge=de.alternate,ge!==null?(ge=ge.index,ge<ae?(de.flags|=67108866,ae):ge):(de.flags|=67108866,ae)):(de.flags|=1048576,ae)}function O(de){return r&&de.alternate===null&&(de.flags|=67108866),de}function F(de,ae,ge,Ee){return ae===null||ae.tag!==6?(ae=Vm(ge,de.mode,Ee),ae.return=de,ae):(ae=x(ae,ge),ae.return=de,ae)}function Q(de,ae,ge,Ee){var Qe=ge.type;return Qe===_?Ne(de,ae,ge.props.children,Ee,ge.key):ae!==null&&(ae.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===P&&Tv(Qe)===ae.type)?(ae=x(ae,ge.props),$c(ae,ge),ae.return=de,ae):(ae=Nd(ge.type,ge.key,ge.props,null,de.mode,Ee),$c(ae,ge),ae.return=de,ae)}function ye(de,ae,ge,Ee){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ge.containerInfo||ae.stateNode.implementation!==ge.implementation?(ae=Im(ge,de.mode,Ee),ae.return=de,ae):(ae=x(ae,ge.children||[]),ae.return=de,ae)}function Ne(de,ae,ge,Ee,Qe){return ae===null||ae.tag!==7?(ae=to(ge,de.mode,Ee,Qe),ae.return=de,ae):(ae=x(ae,ge),ae.return=de,ae)}function Ce(de,ae,ge){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Vm(""+ae,de.mode,ge),ae.return=de,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return ge=Nd(ae.type,ae.key,ae.props,null,de.mode,ge),$c(ge,ae),ge.return=de,ge;case y:return ae=Im(ae,de.mode,ge),ae.return=de,ae;case P:var Ee=ae._init;return ae=Ee(ae._payload),Ce(de,ae,ge)}if(Y(ae)||G(ae))return ae=to(ae,de.mode,ge,null),ae.return=de,ae;if(typeof ae.then=="function")return Ce(de,Hd(ae),ge);if(ae.$$typeof===D)return Ce(de,kd(de,ae),ge);Vd(de,ae)}return null}function we(de,ae,ge,Ee){var Qe=ae!==null?ae.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return Qe!==null?null:F(de,ae,""+ge,Ee);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case b:return ge.key===Qe?Q(de,ae,ge,Ee):null;case y:return ge.key===Qe?ye(de,ae,ge,Ee):null;case P:return Qe=ge._init,ge=Qe(ge._payload),we(de,ae,ge,Ee)}if(Y(ge)||G(ge))return Qe!==null?null:Ne(de,ae,ge,Ee,null);if(typeof ge.then=="function")return we(de,ae,Hd(ge),Ee);if(ge.$$typeof===D)return we(de,ae,kd(de,ge),Ee);Vd(de,ge)}return null}function _e(de,ae,ge,Ee,Qe){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return de=de.get(ge)||null,F(ae,de,""+Ee,Qe);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case b:return de=de.get(Ee.key===null?ge:Ee.key)||null,Q(ae,de,Ee,Qe);case y:return de=de.get(Ee.key===null?ge:Ee.key)||null,ye(ae,de,Ee,Qe);case P:var Lt=Ee._init;return Ee=Lt(Ee._payload),_e(de,ae,ge,Ee,Qe)}if(Y(Ee)||G(Ee))return de=de.get(ge)||null,Ne(ae,de,Ee,Qe,null);if(typeof Ee.then=="function")return _e(de,ae,ge,Hd(Ee),Qe);if(Ee.$$typeof===D)return _e(de,ae,ge,kd(ae,Ee),Qe);Vd(ae,Ee)}return null}function yt(de,ae,ge,Ee){for(var Qe=null,Lt=null,lt=ae,gt=ae=0,os=null;lt!==null&&gt<ge.length;gt++){lt.index>gt?(os=lt,lt=null):os=lt.sibling;var Gt=we(de,lt,ge[gt],Ee);if(Gt===null){lt===null&&(lt=os);break}r&&lt&&Gt.alternate===null&&o(de,lt),ae=v(Gt,ae,gt),Lt===null?Qe=Gt:Lt.sibling=Gt,Lt=Gt,lt=os}if(gt===ge.length)return u(de,lt),Zt&&so(de,gt),Qe;if(lt===null){for(;gt<ge.length;gt++)lt=Ce(de,ge[gt],Ee),lt!==null&&(ae=v(lt,ae,gt),Lt===null?Qe=lt:Lt.sibling=lt,Lt=lt);return Zt&&so(de,gt),Qe}for(lt=m(lt);gt<ge.length;gt++)os=_e(lt,de,gt,ge[gt],Ee),os!==null&&(r&&os.alternate!==null&&lt.delete(os.key===null?gt:os.key),ae=v(os,ae,gt),Lt===null?Qe=os:Lt.sibling=os,Lt=os);return r&&lt.forEach(function(_i){return o(de,_i)}),Zt&&so(de,gt),Qe}function ht(de,ae,ge,Ee){if(ge==null)throw Error(s(151));for(var Qe=null,Lt=null,lt=ae,gt=ae=0,os=null,Gt=ge.next();lt!==null&&!Gt.done;gt++,Gt=ge.next()){lt.index>gt?(os=lt,lt=null):os=lt.sibling;var _i=we(de,lt,Gt.value,Ee);if(_i===null){lt===null&&(lt=os);break}r&&lt&&_i.alternate===null&&o(de,lt),ae=v(_i,ae,gt),Lt===null?Qe=_i:Lt.sibling=_i,Lt=_i,lt=os}if(Gt.done)return u(de,lt),Zt&&so(de,gt),Qe;if(lt===null){for(;!Gt.done;gt++,Gt=ge.next())Gt=Ce(de,Gt.value,Ee),Gt!==null&&(ae=v(Gt,ae,gt),Lt===null?Qe=Gt:Lt.sibling=Gt,Lt=Gt);return Zt&&so(de,gt),Qe}for(lt=m(lt);!Gt.done;gt++,Gt=ge.next())Gt=_e(lt,de,gt,Gt.value,Ee),Gt!==null&&(r&&Gt.alternate!==null&&lt.delete(Gt.key===null?gt:Gt.key),ae=v(Gt,ae,gt),Lt===null?Qe=Gt:Lt.sibling=Gt,Lt=Gt);return r&&lt.forEach(function(pO){return o(de,pO)}),Zt&&so(de,gt),Qe}function cn(de,ae,ge,Ee){if(typeof ge=="object"&&ge!==null&&ge.type===_&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case b:e:{for(var Qe=ge.key;ae!==null;){if(ae.key===Qe){if(Qe=ge.type,Qe===_){if(ae.tag===7){u(de,ae.sibling),Ee=x(ae,ge.props.children),Ee.return=de,de=Ee;break e}}else if(ae.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===P&&Tv(Qe)===ae.type){u(de,ae.sibling),Ee=x(ae,ge.props),$c(Ee,ge),Ee.return=de,de=Ee;break e}u(de,ae);break}else o(de,ae);ae=ae.sibling}ge.type===_?(Ee=to(ge.props.children,de.mode,Ee,ge.key),Ee.return=de,de=Ee):(Ee=Nd(ge.type,ge.key,ge.props,null,de.mode,Ee),$c(Ee,ge),Ee.return=de,de=Ee)}return O(de);case y:e:{for(Qe=ge.key;ae!==null;){if(ae.key===Qe)if(ae.tag===4&&ae.stateNode.containerInfo===ge.containerInfo&&ae.stateNode.implementation===ge.implementation){u(de,ae.sibling),Ee=x(ae,ge.children||[]),Ee.return=de,de=Ee;break e}else{u(de,ae);break}else o(de,ae);ae=ae.sibling}Ee=Im(ge,de.mode,Ee),Ee.return=de,de=Ee}return O(de);case P:return Qe=ge._init,ge=Qe(ge._payload),cn(de,ae,ge,Ee)}if(Y(ge))return yt(de,ae,ge,Ee);if(G(ge)){if(Qe=G(ge),typeof Qe!="function")throw Error(s(150));return ge=Qe.call(ge),ht(de,ae,ge,Ee)}if(typeof ge.then=="function")return cn(de,ae,Hd(ge),Ee);if(ge.$$typeof===D)return cn(de,ae,kd(de,ge),Ee);Vd(de,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint"?(ge=""+ge,ae!==null&&ae.tag===6?(u(de,ae.sibling),Ee=x(ae,ge),Ee.return=de,de=Ee):(u(de,ae),Ee=Vm(ge,de.mode,Ee),Ee.return=de,de=Ee),O(de)):u(de,ae)}return function(de,ae,ge,Ee){try{Bc=0;var Qe=cn(de,ae,ge,Ee);return hl=null,Qe}catch(lt){if(lt===Dc||lt===Dd)throw lt;var Lt=Gs(29,lt,null,de.mode);return Lt.lanes=Ee,Lt.return=de,Lt}finally{}}}var ml=Cv(!0),kv=Cv(!1),pr=le(null),Zr=null;function oi(r){var o=r.alternate;V(Jn,Jn.current&1),V(pr,r),Zr===null&&(o===null||cl.current!==null||o.memoizedState!==null)&&(Zr=r)}function Ov(r){if(r.tag===22){if(V(Jn,Jn.current),V(pr,r),Zr===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Zr=r)}}else li()}function li(){V(Jn,Jn.current),V(pr,pr.current)}function ka(r){re(pr),Zr===r&&(Zr=null),re(Jn)}var Jn=le(0);function Id(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||fg(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function jp(r,o,u,m){o=r.memoizedState,u=u(m,o),u=u==null?o:p({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Sp={enqueueSetState:function(r,o,u){r=r._reactInternals;var m=Js(),x=ri(m);x.payload=o,u!=null&&(x.callback=u),o=ai(r,x,m),o!==null&&(er(o,r,m),Rc(o,r,m))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var m=Js(),x=ri(m);x.tag=1,x.payload=o,u!=null&&(x.callback=u),o=ai(r,x,m),o!==null&&(er(o,r,m),Rc(o,r,m))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=Js(),m=ri(u);m.tag=2,o!=null&&(m.callback=o),o=ai(r,m,u),o!==null&&(er(o,r,u),Rc(o,r,u))}};function Dv(r,o,u,m,x,v,O){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,v,O):o.prototype&&o.prototype.isPureReactComponent?!jc(u,m)||!jc(x,v):!0}function Av(r,o,u,m){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==r&&Sp.enqueueReplaceState(o,o.state,null)}function uo(r,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(r=r.defaultProps){u===o&&(u=p({},u));for(var x in r)u[x]===void 0&&(u[x]=r[x])}return u}var qd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Rv(r){qd(r)}function Mv(r){console.error(r)}function Pv(r){qd(r)}function Wd(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function Lv(r,o,u){try{var m=r.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Np(r,o,u){return u=ri(u),u.tag=3,u.payload={element:null},u.callback=function(){Wd(r,o)},u}function zv(r){return r=ri(r),r.tag=3,r}function Uv(r,o,u,m){var x=u.type.getDerivedStateFromError;if(typeof x=="function"){var v=m.value;r.payload=function(){return x(v)},r.callback=function(){Lv(o,u,m)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(r.callback=function(){Lv(o,u,m),typeof x!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var F=m.stack;this.componentDidCatch(m.value,{componentStack:F!==null?F:""})})}function pk(r,o,u,m,x){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&Cc(o,u,x,!0),u=pr.current,u!==null){switch(u.tag){case 13:return Zr===null?Gp():u.alternate===null&&Pn===0&&(Pn=3),u.flags&=-257,u.flags|=65536,u.lanes=x,m===ep?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),Qp(r,m,x)),!1;case 22:return u.flags|=65536,m===ep?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),Qp(r,m,x)),!1}throw Error(s(435,u.tag))}return Qp(r,m,x),Gp(),!1}if(Zt)return o=pr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=x,m!==Ym&&(r=Error(s(422),{cause:m}),Tc(dr(r,u)))):(m!==Ym&&(o=Error(s(423),{cause:m}),Tc(dr(o,u))),r=r.current.alternate,r.flags|=65536,x&=-x,r.lanes|=x,m=dr(m,u),x=Np(r.stateNode,m,x),sp(r,x),Pn!==4&&(Pn=2)),!1;var v=Error(s(520),{cause:m});if(v=dr(v,u),Xc===null?Xc=[v]:Xc.push(v),Pn!==4&&(Pn=2),o===null)return!0;m=dr(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=x&-x,u.lanes|=r,r=Np(u.stateNode,m,r),sp(u,r),!1;case 1:if(o=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(mi===null||!mi.has(v))))return u.flags|=65536,x&=-x,u.lanes|=x,x=zv(x),Uv(x,r,u,m),sp(u,x),!1}u=u.return}while(u!==null);return!1}var Fv=Error(s(461)),as=!1;function ds(r,o,u,m){o.child=r===null?kv(o,null,u,m):ml(o,r.child,u,m)}function Bv(r,o,u,m,x){u=u.render;var v=o.ref;if("ref"in m){var O={};for(var F in m)F!=="ref"&&(O[F]=m[F])}else O=m;return oo(o),m=lp(r,o,u,O,v,x),F=cp(),r!==null&&!as?(up(r,o,x),Oa(r,o,x)):(Zt&&F&&qm(o),o.flags|=1,ds(r,o,m,x),o.child)}function $v(r,o,u,m,x){if(r===null){var v=u.type;return typeof v=="function"&&!Hm(v)&&v.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=v,Hv(r,o,v,m,x)):(r=Nd(u.type,null,m,o,o.mode,x),r.ref=o.ref,r.return=o,o.child=r)}if(v=r.child,!Rp(r,x)){var O=v.memoizedProps;if(u=u.compare,u=u!==null?u:jc,u(O,m)&&r.ref===o.ref)return Oa(r,o,x)}return o.flags|=1,r=ja(v,m),r.ref=o.ref,r.return=o,o.child=r}function Hv(r,o,u,m,x){if(r!==null){var v=r.memoizedProps;if(jc(v,m)&&r.ref===o.ref)if(as=!1,o.pendingProps=m=v,Rp(r,x))(r.flags&131072)!==0&&(as=!0);else return o.lanes=r.lanes,Oa(r,o,x)}return Ep(r,o,u,m,x)}function Vv(r,o,u){var m=o.pendingProps,x=m.children,v=r!==null?r.memoizedState:null;if(m.mode==="hidden"){if((o.flags&128)!==0){if(m=v!==null?v.baseLanes|u:u,r!==null){for(x=o.child=r.child,v=0;x!==null;)v=v|x.lanes|x.childLanes,x=x.sibling;o.childLanes=v&~m}else o.childLanes=0,o.child=null;return Iv(r,o,m,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Od(o,v!==null?v.cachePool:null),v!==null?Hb(o,v):ap(),Ov(o);else return o.lanes=o.childLanes=536870912,Iv(r,o,v!==null?v.baseLanes|u:u,u)}else v!==null?(Od(o,v.cachePool),Hb(o,v),li(),o.memoizedState=null):(r!==null&&Od(o,null),ap(),li());return ds(r,o,x,u),o.child}function Iv(r,o,u,m){var x=Jm();return x=x===null?null:{parent:Zn._currentValue,pool:x},o.memoizedState={baseLanes:u,cachePool:x},r!==null&&Od(o,null),ap(),Ov(o),r!==null&&Cc(r,o,m,!0),null}function Yd(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(s(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function Ep(r,o,u,m,x){return oo(o),u=lp(r,o,u,m,void 0,x),m=cp(),r!==null&&!as?(up(r,o,x),Oa(r,o,x)):(Zt&&m&&qm(o),o.flags|=1,ds(r,o,u,x),o.child)}function qv(r,o,u,m,x,v){return oo(o),o.updateQueue=null,u=Ib(o,m,u,x),Vb(r),m=cp(),r!==null&&!as?(up(r,o,v),Oa(r,o,v)):(Zt&&m&&qm(o),o.flags|=1,ds(r,o,u,v),o.child)}function Wv(r,o,u,m,x){if(oo(o),o.stateNode===null){var v=rl,O=u.contextType;typeof O=="object"&&O!==null&&(v=_s(O)),v=new u(m,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Sp,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=m,v.state=o.memoizedState,v.refs={},tp(o),O=u.contextType,v.context=typeof O=="object"&&O!==null?_s(O):rl,v.state=o.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(jp(o,u,O,m),v.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(O=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),O!==v.state&&Sp.enqueueReplaceState(v,v.state,null),Pc(o,m,v,x),Mc(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(r===null){v=o.stateNode;var F=o.memoizedProps,Q=uo(u,F);v.props=Q;var ye=v.context,Ne=u.contextType;O=rl,typeof Ne=="object"&&Ne!==null&&(O=_s(Ne));var Ce=u.getDerivedStateFromProps;Ne=typeof Ce=="function"||typeof v.getSnapshotBeforeUpdate=="function",F=o.pendingProps!==F,Ne||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(F||ye!==O)&&Av(o,v,m,O),si=!1;var we=o.memoizedState;v.state=we,Pc(o,m,v,x),Mc(),ye=o.memoizedState,F||we!==ye||si?(typeof Ce=="function"&&(jp(o,u,Ce,m),ye=o.memoizedState),(Q=si||Dv(o,u,Q,m,we,ye,O))?(Ne||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ye),v.props=m,v.state=ye,v.context=O,m=Q):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{v=o.stateNode,np(r,o),O=o.memoizedProps,Ne=uo(u,O),v.props=Ne,Ce=o.pendingProps,we=v.context,ye=u.contextType,Q=rl,typeof ye=="object"&&ye!==null&&(Q=_s(ye)),F=u.getDerivedStateFromProps,(ye=typeof F=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(O!==Ce||we!==Q)&&Av(o,v,m,Q),si=!1,we=o.memoizedState,v.state=we,Pc(o,m,v,x),Mc();var _e=o.memoizedState;O!==Ce||we!==_e||si||r!==null&&r.dependencies!==null&&Cd(r.dependencies)?(typeof F=="function"&&(jp(o,u,F,m),_e=o.memoizedState),(Ne=si||Dv(o,u,Ne,m,we,_e,Q)||r!==null&&r.dependencies!==null&&Cd(r.dependencies))?(ye||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(m,_e,Q),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(m,_e,Q)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||O===r.memoizedProps&&we===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&we===r.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=_e),v.props=m,v.state=_e,v.context=Q,m=Ne):(typeof v.componentDidUpdate!="function"||O===r.memoizedProps&&we===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&we===r.memoizedState||(o.flags|=1024),m=!1)}return v=m,Yd(r,o),m=(o.flags&128)!==0,v||m?(v=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,r!==null&&m?(o.child=ml(o,r.child,null,x),o.child=ml(o,null,u,x)):ds(r,o,u,x),o.memoizedState=v.state,r=o.child):r=Oa(r,o,x),r}function Yv(r,o,u,m){return Ec(),o.flags|=256,ds(r,o,u,m),o.child}var Tp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cp(r){return{baseLanes:r,cachePool:Mb()}}function kp(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=gr),r}function Xv(r,o,u){var m=o.pendingProps,x=!1,v=(o.flags&128)!==0,O;if((O=v)||(O=r!==null&&r.memoizedState===null?!1:(Jn.current&2)!==0),O&&(x=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,r===null){if(Zt){if(x?oi(o):li(),Zt){var F=Mn,Q;if(Q=F){e:{for(Q=F,F=Qr;Q.nodeType!==8;){if(!F){F=null;break e}if(Q=Mr(Q.nextSibling),Q===null){F=null;break e}}F=Q}F!==null?(o.memoizedState={dehydrated:F,treeContext:no!==null?{id:Sa,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},Q=Gs(18,null,null,0),Q.stateNode=F,Q.return=o,o.child=Q,ks=o,Mn=null,Q=!0):Q=!1}Q||ao(o)}if(F=o.memoizedState,F!==null&&(F=F.dehydrated,F!==null))return fg(F)?o.lanes=32:o.lanes=536870912,null;ka(o)}return F=m.children,m=m.fallback,x?(li(),x=o.mode,F=Xd({mode:"hidden",children:F},x),m=to(m,x,u,null),F.return=o,m.return=o,F.sibling=m,o.child=F,x=o.child,x.memoizedState=Cp(u),x.childLanes=kp(r,O,u),o.memoizedState=Tp,m):(oi(o),Op(o,F))}if(Q=r.memoizedState,Q!==null&&(F=Q.dehydrated,F!==null)){if(v)o.flags&256?(oi(o),o.flags&=-257,o=Dp(r,o,u)):o.memoizedState!==null?(li(),o.child=r.child,o.flags|=128,o=null):(li(),x=m.fallback,F=o.mode,m=Xd({mode:"visible",children:m.children},F),x=to(x,F,u,null),x.flags|=2,m.return=o,x.return=o,m.sibling=x,o.child=m,ml(o,r.child,null,u),m=o.child,m.memoizedState=Cp(u),m.childLanes=kp(r,O,u),o.memoizedState=Tp,o=x);else if(oi(o),fg(F)){if(O=F.nextSibling&&F.nextSibling.dataset,O)var ye=O.dgst;O=ye,m=Error(s(419)),m.stack="",m.digest=O,Tc({value:m,source:null,stack:null}),o=Dp(r,o,u)}else if(as||Cc(r,o,u,!1),O=(u&r.childLanes)!==0,as||O){if(O=pn,O!==null&&(m=u&-u,m=(m&42)!==0?1:Vt(m),m=(m&(O.suspendedLanes|u))!==0?0:m,m!==0&&m!==Q.retryLane))throw Q.retryLane=m,sl(r,m),er(O,r,m),Fv;F.data==="$?"||Gp(),o=Dp(r,o,u)}else F.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=Q.treeContext,Mn=Mr(F.nextSibling),ks=o,Zt=!0,ro=null,Qr=!1,r!==null&&(hr[mr++]=Sa,hr[mr++]=Na,hr[mr++]=no,Sa=r.id,Na=r.overflow,no=o),o=Op(o,m.children),o.flags|=4096);return o}return x?(li(),x=m.fallback,F=o.mode,Q=r.child,ye=Q.sibling,m=ja(Q,{mode:"hidden",children:m.children}),m.subtreeFlags=Q.subtreeFlags&65011712,ye!==null?x=ja(ye,x):(x=to(x,F,u,null),x.flags|=2),x.return=o,m.return=o,m.sibling=x,o.child=m,m=x,x=o.child,F=r.child.memoizedState,F===null?F=Cp(u):(Q=F.cachePool,Q!==null?(ye=Zn._currentValue,Q=Q.parent!==ye?{parent:ye,pool:ye}:Q):Q=Mb(),F={baseLanes:F.baseLanes|u,cachePool:Q}),x.memoizedState=F,x.childLanes=kp(r,O,u),o.memoizedState=Tp,m):(oi(o),u=r.child,r=u.sibling,u=ja(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,r!==null&&(O=o.deletions,O===null?(o.deletions=[r],o.flags|=16):O.push(r)),o.child=u,o.memoizedState=null,u)}function Op(r,o){return o=Xd({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Xd(r,o){return r=Gs(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Dp(r,o,u){return ml(o,r.child,null,u),r=Op(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Gv(r,o,u){r.lanes|=o;var m=r.alternate;m!==null&&(m.lanes|=o),Gm(r.return,o,u)}function Ap(r,o,u,m,x){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:x}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=m,v.tail=u,v.tailMode=x)}function Kv(r,o,u){var m=o.pendingProps,x=m.revealOrder,v=m.tail;if(ds(r,o,m.children,u),m=Jn.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Gv(r,u,o);else if(r.tag===19)Gv(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}switch(V(Jn,m),x){case"forwards":for(u=o.child,x=null;u!==null;)r=u.alternate,r!==null&&Id(r)===null&&(x=u),u=u.sibling;u=x,u===null?(x=o.child,o.child=null):(x=u.sibling,u.sibling=null),Ap(o,!1,x,u,v);break;case"backwards":for(u=null,x=o.child,o.child=null;x!==null;){if(r=x.alternate,r!==null&&Id(r)===null){o.child=x;break}r=x.sibling,x.sibling=u,u=x,x=r}Ap(o,!0,u,null,v);break;case"together":Ap(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Oa(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),hi|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(Cc(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(s(153));if(o.child!==null){for(r=o.child,u=ja(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=ja(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function Rp(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Cd(r)))}function gk(r,o,u){switch(o.tag){case 3:Oe(o,o.stateNode.containerInfo),ni(o,Zn,r.memoizedState.cache),Ec();break;case 27:case 5:Pe(o);break;case 4:Oe(o,o.stateNode.containerInfo);break;case 10:ni(o,o.type,o.memoizedProps.value);break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(oi(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Xv(r,o,u):(oi(o),r=Oa(r,o,u),r!==null?r.sibling:null);oi(o);break;case 19:var x=(r.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(Cc(r,o,u,!1),m=(u&o.childLanes)!==0),x){if(m)return Kv(r,o,u);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),V(Jn,Jn.current),m)break;return null;case 22:case 23:return o.lanes=0,Vv(r,o,u);case 24:ni(o,Zn,r.memoizedState.cache)}return Oa(r,o,u)}function Qv(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)as=!0;else{if(!Rp(r,u)&&(o.flags&128)===0)return as=!1,gk(r,o,u);as=(r.flags&131072)!==0}else as=!1,Zt&&(o.flags&1048576)!==0&&Tb(o,Td,o.index);switch(o.lanes=0,o.tag){case 16:e:{r=o.pendingProps;var m=o.elementType,x=m._init;if(m=x(m._payload),o.type=m,typeof m=="function")Hm(m)?(r=uo(m,r),o.tag=1,o=Wv(null,o,m,r,u)):(o.tag=0,o=Ep(null,o,m,r,u));else{if(m!=null){if(x=m.$$typeof,x===T){o.tag=11,o=Bv(null,o,m,r,u);break e}else if(x===A){o.tag=14,o=$v(null,o,m,r,u);break e}}throw o=ee(m)||m,Error(s(306,o,""))}}return o;case 0:return Ep(r,o,o.type,o.pendingProps,u);case 1:return m=o.type,x=uo(m,o.pendingProps),Wv(r,o,m,x,u);case 3:e:{if(Oe(o,o.stateNode.containerInfo),r===null)throw Error(s(387));m=o.pendingProps;var v=o.memoizedState;x=v.element,np(r,o),Pc(o,m,null,u);var O=o.memoizedState;if(m=O.cache,ni(o,Zn,m),m!==v.cache&&Km(o,[Zn],u,!0),Mc(),m=O.element,v.isDehydrated)if(v={element:m,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=Yv(r,o,m,u);break e}else if(m!==x){x=dr(Error(s(424)),o),Tc(x),o=Yv(r,o,m,u);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Mn=Mr(r.firstChild),ks=o,Zt=!0,ro=null,Qr=!0,u=kv(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ec(),m===x){o=Oa(r,o,u);break e}ds(r,o,m,u)}o=o.child}return o;case 26:return Yd(r,o),r===null?(u=t_(o.type,null,o.pendingProps,null))?o.memoizedState=u:Zt||(u=o.type,r=o.pendingProps,m=cf(me.current).createElement(u),m[je]=o,m[De]=r,hs(m,u,r),ot(m),o.stateNode=m):o.memoizedState=t_(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Pe(o),r===null&&Zt&&(m=o.stateNode=Zw(o.type,o.pendingProps,me.current),ks=o,Qr=!0,x=Mn,xi(o.type)?(hg=x,Mn=Mr(m.firstChild)):Mn=x),ds(r,o,o.pendingProps.children,u),Yd(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&Zt&&((x=m=Mn)&&(m=Ik(m,o.type,o.pendingProps,Qr),m!==null?(o.stateNode=m,ks=o,Mn=Mr(m.firstChild),Qr=!1,x=!0):x=!1),x||ao(o)),Pe(o),x=o.type,v=o.pendingProps,O=r!==null?r.memoizedProps:null,m=v.children,cg(x,v)?m=null:O!==null&&cg(x,O)&&(o.flags|=32),o.memoizedState!==null&&(x=lp(r,o,lk,null,null,u),su._currentValue=x),Yd(r,o),ds(r,o,m,u),o.child;case 6:return r===null&&Zt&&((r=u=Mn)&&(u=qk(u,o.pendingProps,Qr),u!==null?(o.stateNode=u,ks=o,Mn=null,r=!0):r=!1),r||ao(o)),null;case 13:return Xv(r,o,u);case 4:return Oe(o,o.stateNode.containerInfo),m=o.pendingProps,r===null?o.child=ml(o,null,m,u):ds(r,o,m,u),o.child;case 11:return Bv(r,o,o.type,o.pendingProps,u);case 7:return ds(r,o,o.pendingProps,u),o.child;case 8:return ds(r,o,o.pendingProps.children,u),o.child;case 12:return ds(r,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,ni(o,o.type,m.value),ds(r,o,m.children,u),o.child;case 9:return x=o.type._context,m=o.pendingProps.children,oo(o),x=_s(x),m=m(x),o.flags|=1,ds(r,o,m,u),o.child;case 14:return $v(r,o,o.type,o.pendingProps,u);case 15:return Hv(r,o,o.type,o.pendingProps,u);case 19:return Kv(r,o,u);case 31:return m=o.pendingProps,u=o.mode,m={mode:m.mode,children:m.children},r===null?(u=Xd(m,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=ja(r.child,m),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return Vv(r,o,u);case 24:return oo(o),m=_s(Zn),r===null?(x=Jm(),x===null&&(x=pn,v=Qm(),x.pooledCache=v,v.refCount++,v!==null&&(x.pooledCacheLanes|=u),x=v),o.memoizedState={parent:m,cache:x},tp(o),ni(o,Zn,x)):((r.lanes&u)!==0&&(np(r,o),Pc(o,null,null,u),Mc()),x=r.memoizedState,v=o.memoizedState,x.parent!==m?(x={parent:m,cache:m},o.memoizedState=x,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=x),ni(o,Zn,m)):(m=v.cache,ni(o,Zn,m),m!==x.cache&&Km(o,[Zn],u,!0))),ds(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function Da(r){r.flags|=4}function Zv(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!i_(o)){if(o=pr.current,o!==null&&((qt&4194048)===qt?Zr!==null:(qt&62914560)!==qt&&(qt&536870912)===0||o!==Zr))throw Ac=ep,Pb;r.flags|=8192}}function Gd(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Rt():536870912,r.lanes|=o,yl|=o)}function Hc(r,o){if(!Zt)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function En(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,m=0;if(o)for(var x=r.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=m,r.childLanes=u,o}function xk(r,o,u){var m=o.pendingProps;switch(Wm(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(o),null;case 1:return En(o),null;case 3:return u=o.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Ta(Zn),He(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Nc(o)?Da(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ob())),En(o),null;case 26:return u=o.memoizedState,r===null?(Da(o),u!==null?(En(o),Zv(o,u)):(En(o),o.flags&=-16777217)):u?u!==r.memoizedState?(Da(o),En(o),Zv(o,u)):(En(o),o.flags&=-16777217):(r.memoizedProps!==m&&Da(o),En(o),o.flags&=-16777217),null;case 27:rt(o),u=me.current;var x=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==m&&Da(o);else{if(!m){if(o.stateNode===null)throw Error(s(166));return En(o),null}r=ne.current,Nc(o)?Cb(o):(r=Zw(x,m,u),o.stateNode=r,Da(o))}return En(o),null;case 5:if(rt(o),u=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==m&&Da(o);else{if(!m){if(o.stateNode===null)throw Error(s(166));return En(o),null}if(r=ne.current,Nc(o))Cb(o);else{switch(x=cf(me.current),r){case 1:r=x.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=x.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=x.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=x.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof m.is=="string"?x.createElement("select",{is:m.is}):x.createElement("select"),m.multiple?r.multiple=!0:m.size&&(r.size=m.size);break;default:r=typeof m.is=="string"?x.createElement(u,{is:m.is}):x.createElement(u)}}r[je]=o,r[De]=m;e:for(x=o.child;x!==null;){if(x.tag===5||x.tag===6)r.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===o)break e;for(;x.sibling===null;){if(x.return===null||x.return===o)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}o.stateNode=r;e:switch(hs(r,u,m),u){case"button":case"input":case"select":case"textarea":r=!!m.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Da(o)}}return En(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==m&&Da(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(s(166));if(r=me.current,Nc(o)){if(r=o.stateNode,u=o.memoizedProps,m=null,x=ks,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}r[je]=o,r=!!(r.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||qw(r.nodeValue,u)),r||ao(o)}else r=cf(r).createTextNode(m),r[je]=o,o.stateNode=r}return En(o),null;case 13:if(m=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(x=Nc(o),m!==null&&m.dehydrated!==null){if(r===null){if(!x)throw Error(s(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[je]=o}else Ec(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;En(o),x=!1}else x=Ob(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=x),x=!0;if(!x)return o.flags&256?(ka(o),o):(ka(o),null)}if(ka(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=m!==null,r=r!==null&&r.memoizedState!==null,u){m=o.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool);var v=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(v=m.memoizedState.cachePool.pool),v!==x&&(m.flags|=2048)}return u!==r&&u&&(o.child.flags|=8192),Gd(o,o.updateQueue),En(o),null;case 4:return He(),r===null&&rg(o.stateNode.containerInfo),En(o),null;case 10:return Ta(o.type),En(o),null;case 19:if(re(Jn),x=o.memoizedState,x===null)return En(o),null;if(m=(o.flags&128)!==0,v=x.rendering,v===null)if(m)Hc(x,!1);else{if(Pn!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(v=Id(r),v!==null){for(o.flags|=128,Hc(x,!1),r=v.updateQueue,o.updateQueue=r,Gd(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)Eb(u,r),u=u.sibling;return V(Jn,Jn.current&1|2),o.child}r=r.sibling}x.tail!==null&&Me()>Zd&&(o.flags|=128,m=!0,Hc(x,!1),o.lanes=4194304)}else{if(!m)if(r=Id(v),r!==null){if(o.flags|=128,m=!0,r=r.updateQueue,o.updateQueue=r,Gd(o,r),Hc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!v.alternate&&!Zt)return En(o),null}else 2*Me()-x.renderingStartTime>Zd&&u!==536870912&&(o.flags|=128,m=!0,Hc(x,!1),o.lanes=4194304);x.isBackwards?(v.sibling=o.child,o.child=v):(r=x.last,r!==null?r.sibling=v:o.child=v,x.last=v)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=Me(),o.sibling=null,r=Jn.current,V(Jn,m?r&1|2:r&1),o):(En(o),null);case 22:case 23:return ka(o),ip(),m=o.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(En(o),o.subtreeFlags&6&&(o.flags|=8192)):En(o),u=o.updateQueue,u!==null&&Gd(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),r!==null&&re(lo),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ta(Zn),En(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function yk(r,o){switch(Wm(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Ta(Zn),He(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return rt(o),null;case 13:if(ka(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Ec()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return re(Jn),null;case 4:return He(),null;case 10:return Ta(o.type),null;case 22:case 23:return ka(o),ip(),r!==null&&re(lo),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Ta(Zn),null;case 25:return null;default:return null}}function Jv(r,o){switch(Wm(o),o.tag){case 3:Ta(Zn),He();break;case 26:case 27:case 5:rt(o);break;case 4:He();break;case 13:ka(o);break;case 19:re(Jn);break;case 10:Ta(o.type);break;case 22:case 23:ka(o),ip(),r!==null&&re(lo);break;case 24:Ta(Zn)}}function Vc(r,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var x=m.next;u=x;do{if((u.tag&r)===r){m=void 0;var v=u.create,O=u.inst;m=v(),O.destroy=m}u=u.next}while(u!==x)}}catch(F){hn(o,o.return,F)}}function ci(r,o,u){try{var m=o.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var v=x.next;m=v;do{if((m.tag&r)===r){var O=m.inst,F=O.destroy;if(F!==void 0){O.destroy=void 0,x=o;var Q=u,ye=F;try{ye()}catch(Ne){hn(x,Q,Ne)}}}m=m.next}while(m!==v)}}catch(Ne){hn(o,o.return,Ne)}}function ew(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{$b(o,u)}catch(m){hn(r,r.return,m)}}}function tw(r,o,u){u.props=uo(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(m){hn(r,o,m)}}function Ic(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof u=="function"?r.refCleanup=u(m):u.current=m}}catch(x){hn(r,o,x)}}function Jr(r,o){var u=r.ref,m=r.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(x){hn(r,o,x)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(x){hn(r,o,x)}else u.current=null}function nw(r){var o=r.type,u=r.memoizedProps,m=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(x){hn(r,r.return,x)}}function Mp(r,o,u){try{var m=r.stateNode;Fk(m,r.type,u,o),m[De]=o}catch(x){hn(r,r.return,x)}}function sw(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&xi(r.type)||r.tag===4}function Pp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||sw(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&xi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Lp(r,o,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=lf));else if(m!==4&&(m===27&&xi(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(Lp(r,o,u),r=r.sibling;r!==null;)Lp(r,o,u),r=r.sibling}function Kd(r,o,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(m!==4&&(m===27&&xi(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(Kd(r,o,u),r=r.sibling;r!==null;)Kd(r,o,u),r=r.sibling}function rw(r){var o=r.stateNode,u=r.memoizedProps;try{for(var m=r.type,x=o.attributes;x.length;)o.removeAttributeNode(x[0]);hs(o,m,u),o[je]=r,o[De]=u}catch(v){hn(r,r.return,v)}}var Aa=!1,zn=!1,zp=!1,aw=typeof WeakSet=="function"?WeakSet:Set,is=null;function bk(r,o){if(r=r.containerInfo,og=pf,r=gb(r),Pm(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var x=m.anchorOffset,v=m.focusNode;m=m.focusOffset;try{u.nodeType,v.nodeType}catch(ht){u=null;break e}var O=0,F=-1,Q=-1,ye=0,Ne=0,Ce=r,we=null;t:for(;;){for(var _e;Ce!==u||x!==0&&Ce.nodeType!==3||(F=O+x),Ce!==v||m!==0&&Ce.nodeType!==3||(Q=O+m),Ce.nodeType===3&&(O+=Ce.nodeValue.length),(_e=Ce.firstChild)!==null;)we=Ce,Ce=_e;for(;;){if(Ce===r)break t;if(we===u&&++ye===x&&(F=O),we===v&&++Ne===m&&(Q=O),(_e=Ce.nextSibling)!==null)break;Ce=we,we=Ce.parentNode}Ce=_e}u=F===-1||Q===-1?null:{start:F,end:Q}}else u=null}u=u||{start:0,end:0}}else u=null;for(lg={focusedElem:r,selectionRange:u},pf=!1,is=o;is!==null;)if(o=is,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,is=r;else for(;is!==null;){switch(o=is,v=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,u=o,x=v.memoizedProps,v=v.memoizedState,m=u.stateNode;try{var yt=uo(u.type,x,u.elementType===u.type);r=m.getSnapshotBeforeUpdate(yt,v),m.__reactInternalSnapshotBeforeUpdate=r}catch(ht){hn(u,u.return,ht)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)dg(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":dg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=o.sibling,r!==null){r.return=o.return,is=r;break}is=o.return}}function iw(r,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:ui(r,u),m&4&&Vc(5,u);break;case 1:if(ui(r,u),m&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(O){hn(u,u.return,O)}else{var x=uo(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(x,o,r.__reactInternalSnapshotBeforeUpdate)}catch(O){hn(u,u.return,O)}}m&64&&ew(u),m&512&&Ic(u,u.return);break;case 3:if(ui(r,u),m&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{$b(r,o)}catch(O){hn(u,u.return,O)}}break;case 27:o===null&&m&4&&rw(u);case 26:case 5:ui(r,u),o===null&&m&4&&nw(u),m&512&&Ic(u,u.return);break;case 12:ui(r,u);break;case 13:ui(r,u),m&4&&cw(r,u),m&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=Ck.bind(null,u),Wk(r,u))));break;case 22:if(m=u.memoizedState!==null||Aa,!m){o=o!==null&&o.memoizedState!==null||zn,x=Aa;var v=zn;Aa=m,(zn=o)&&!v?di(r,u,(u.subtreeFlags&8772)!==0):ui(r,u),Aa=x,zn=v}break;case 30:break;default:ui(r,u)}}function ow(r){var o=r.alternate;o!==null&&(r.alternate=null,ow(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&vt(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var _n=null,Us=!1;function Ra(r,o,u){for(u=u.child;u!==null;)lw(r,o,u),u=u.sibling}function lw(r,o,u){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Be,u)}catch(v){}switch(u.tag){case 26:zn||Jr(u,o),Ra(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:zn||Jr(u,o);var m=_n,x=Us;xi(u.type)&&(_n=u.stateNode,Us=!1),Ra(r,o,u),Jc(u.stateNode),_n=m,Us=x;break;case 5:zn||Jr(u,o);case 6:if(m=_n,x=Us,_n=null,Ra(r,o,u),_n=m,Us=x,_n!==null)if(Us)try{(_n.nodeType===9?_n.body:_n.nodeName==="HTML"?_n.ownerDocument.body:_n).removeChild(u.stateNode)}catch(v){hn(u,o,v)}else try{_n.removeChild(u.stateNode)}catch(v){hn(u,o,v)}break;case 18:_n!==null&&(Us?(r=_n,Kw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),ou(r)):Kw(_n,u.stateNode));break;case 4:m=_n,x=Us,_n=u.stateNode.containerInfo,Us=!0,Ra(r,o,u),_n=m,Us=x;break;case 0:case 11:case 14:case 15:zn||ci(2,u,o),zn||ci(4,u,o),Ra(r,o,u);break;case 1:zn||(Jr(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&tw(u,o,m)),Ra(r,o,u);break;case 21:Ra(r,o,u);break;case 22:zn=(m=zn)||u.memoizedState!==null,Ra(r,o,u),zn=m;break;default:Ra(r,o,u)}}function cw(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ou(r)}catch(u){hn(o,o.return,u)}}function vk(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new aw),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new aw),o;default:throw Error(s(435,r.tag))}}function Up(r,o){var u=vk(r);o.forEach(function(m){var x=kk.bind(null,r,m);u.has(m)||(u.add(m),m.then(x,x))})}function Ks(r,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var x=u[m],v=r,O=o,F=O;e:for(;F!==null;){switch(F.tag){case 27:if(xi(F.type)){_n=F.stateNode,Us=!1;break e}break;case 5:_n=F.stateNode,Us=!1;break e;case 3:case 4:_n=F.stateNode.containerInfo,Us=!0;break e}F=F.return}if(_n===null)throw Error(s(160));lw(v,O,x),_n=null,Us=!1,v=x.alternate,v!==null&&(v.return=null),x.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)uw(o,r),o=o.sibling}var Rr=null;function uw(r,o){var u=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ks(o,r),Qs(r),m&4&&(ci(3,r,r.return),Vc(3,r),ci(5,r,r.return));break;case 1:Ks(o,r),Qs(r),m&512&&(zn||u===null||Jr(u,u.return)),m&64&&Aa&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var x=Rr;if(Ks(o,r),Qs(r),m&512&&(zn||u===null||Jr(u,u.return)),m&4){var v=u!==null?u.memoizedState:null;if(m=r.memoizedState,u===null)if(m===null)if(r.stateNode===null){e:{m=r.type,u=r.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":v=x.getElementsByTagName("title")[0],(!v||v[it]||v[je]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=x.createElement(m),x.head.insertBefore(v,x.querySelector("head > title"))),hs(v,m,u),v[je]=r,ot(v),m=v;break e;case"link":var O=r_("link","href",x).get(m+(u.href||""));if(O){for(var F=0;F<O.length;F++)if(v=O[F],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(F,1);break t}}v=x.createElement(m),hs(v,m,u),x.head.appendChild(v);break;case"meta":if(O=r_("meta","content",x).get(m+(u.content||""))){for(F=0;F<O.length;F++)if(v=O[F],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(F,1);break t}}v=x.createElement(m),hs(v,m,u),x.head.appendChild(v);break;default:throw Error(s(468,m))}v[je]=r,ot(v),m=v}r.stateNode=m}else a_(x,r.type,r.stateNode);else r.stateNode=s_(x,m,r.memoizedProps);else v!==m?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,m===null?a_(x,r.type,r.stateNode):s_(x,m,r.memoizedProps)):m===null&&r.stateNode!==null&&Mp(r,r.memoizedProps,u.memoizedProps)}break;case 27:Ks(o,r),Qs(r),m&512&&(zn||u===null||Jr(u,u.return)),u!==null&&m&4&&Mp(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Ks(o,r),Qs(r),m&512&&(zn||u===null||Jr(u,u.return)),r.flags&32){x=r.stateNode;try{Ka(x,"")}catch(_e){hn(r,r.return,_e)}}m&4&&r.stateNode!=null&&(x=r.memoizedProps,Mp(r,x,u!==null?u.memoizedProps:x)),m&1024&&(zp=!0);break;case 6:if(Ks(o,r),Qs(r),m&4){if(r.stateNode===null)throw Error(s(162));m=r.memoizedProps,u=r.stateNode;try{u.nodeValue=m}catch(_e){hn(r,r.return,_e)}}break;case 3:if(ff=null,x=Rr,Rr=uf(o.containerInfo),Ks(o,r),Rr=x,Qs(r),m&4&&u!==null&&u.memoizedState.isDehydrated)try{ou(o.containerInfo)}catch(_e){hn(r,r.return,_e)}zp&&(zp=!1,dw(r));break;case 4:m=Rr,Rr=uf(r.stateNode.containerInfo),Ks(o,r),Qs(r),Rr=m;break;case 12:Ks(o,r),Qs(r);break;case 13:Ks(o,r),Qs(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Ip=Me()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Up(r,m)));break;case 22:x=r.memoizedState!==null;var Q=u!==null&&u.memoizedState!==null,ye=Aa,Ne=zn;if(Aa=ye||x,zn=Ne||Q,Ks(o,r),zn=Ne,Aa=ye,Qs(r),m&8192)e:for(o=r.stateNode,o._visibility=x?o._visibility&-2:o._visibility|1,x&&(u===null||Q||Aa||zn||fo(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){Q=u=o;try{if(v=Q.stateNode,x)O=v.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{F=Q.stateNode;var Ce=Q.memoizedProps.style,we=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;F.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(_e){hn(Q,Q.return,_e)}}}else if(o.tag===6){if(u===null){Q=o;try{Q.stateNode.nodeValue=x?"":Q.memoizedProps}catch(_e){hn(Q,Q.return,_e)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=r.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Up(r,u))));break;case 19:Ks(o,r),Qs(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Up(r,m)));break;case 30:break;case 21:break;default:Ks(o,r),Qs(r)}}function Qs(r){var o=r.flags;if(o&2){try{for(var u,m=r.return;m!==null;){if(sw(m)){u=m;break}m=m.return}if(u==null)throw Error(s(160));switch(u.tag){case 27:var x=u.stateNode,v=Pp(r);Kd(r,v,x);break;case 5:var O=u.stateNode;u.flags&32&&(Ka(O,""),u.flags&=-33);var F=Pp(r);Kd(r,F,O);break;case 3:case 4:var Q=u.stateNode.containerInfo,ye=Pp(r);Lp(r,ye,Q);break;default:throw Error(s(161))}}catch(Ne){hn(r,r.return,Ne)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function dw(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;dw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function ui(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)iw(r,o.alternate,o),o=o.sibling}function fo(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:ci(4,o,o.return),fo(o);break;case 1:Jr(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&tw(o,o.return,u),fo(o);break;case 27:Jc(o.stateNode);case 26:case 5:Jr(o,o.return),fo(o);break;case 22:o.memoizedState===null&&fo(o);break;case 30:fo(o);break;default:fo(o)}r=r.sibling}}function di(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,x=r,v=o,O=v.flags;switch(v.tag){case 0:case 11:case 15:di(x,v,u),Vc(4,v);break;case 1:if(di(x,v,u),m=v,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ye){hn(m,m.return,ye)}if(m=v,x=m.updateQueue,x!==null){var F=m.stateNode;try{var Q=x.shared.hiddenCallbacks;if(Q!==null)for(x.shared.hiddenCallbacks=null,x=0;x<Q.length;x++)Bb(Q[x],F)}catch(ye){hn(m,m.return,ye)}}u&&O&64&&ew(v),Ic(v,v.return);break;case 27:rw(v);case 26:case 5:di(x,v,u),u&&m===null&&O&4&&nw(v),Ic(v,v.return);break;case 12:di(x,v,u);break;case 13:di(x,v,u),u&&O&4&&cw(x,v);break;case 22:v.memoizedState===null&&di(x,v,u),Ic(v,v.return);break;case 30:break;default:di(x,v,u)}o=o.sibling}}function Fp(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&kc(u))}function Bp(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&kc(r))}function ea(r,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)fw(r,o,u,m),o=o.sibling}function fw(r,o,u,m){var x=o.flags;switch(o.tag){case 0:case 11:case 15:ea(r,o,u,m),x&2048&&Vc(9,o);break;case 1:ea(r,o,u,m);break;case 3:ea(r,o,u,m),x&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&kc(r)));break;case 12:if(x&2048){ea(r,o,u,m),r=o.stateNode;try{var v=o.memoizedProps,O=v.id,F=v.onPostCommit;typeof F=="function"&&F(O,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Q){hn(o,o.return,Q)}}else ea(r,o,u,m);break;case 13:ea(r,o,u,m);break;case 23:break;case 22:v=o.stateNode,O=o.alternate,o.memoizedState!==null?v._visibility&2?ea(r,o,u,m):qc(r,o):v._visibility&2?ea(r,o,u,m):(v._visibility|=2,pl(r,o,u,m,(o.subtreeFlags&10256)!==0)),x&2048&&Fp(O,o);break;case 24:ea(r,o,u,m),x&2048&&Bp(o.alternate,o);break;default:ea(r,o,u,m)}}function pl(r,o,u,m,x){for(x=x&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=r,O=o,F=u,Q=m,ye=O.flags;switch(O.tag){case 0:case 11:case 15:pl(v,O,F,Q,x),Vc(8,O);break;case 23:break;case 22:var Ne=O.stateNode;O.memoizedState!==null?Ne._visibility&2?pl(v,O,F,Q,x):qc(v,O):(Ne._visibility|=2,pl(v,O,F,Q,x)),x&&ye&2048&&Fp(O.alternate,O);break;case 24:pl(v,O,F,Q,x),x&&ye&2048&&Bp(O.alternate,O);break;default:pl(v,O,F,Q,x)}o=o.sibling}}function qc(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,m=o,x=m.flags;switch(m.tag){case 22:qc(u,m),x&2048&&Fp(m.alternate,m);break;case 24:qc(u,m),x&2048&&Bp(m.alternate,m);break;default:qc(u,m)}o=o.sibling}}var Wc=8192;function gl(r){if(r.subtreeFlags&Wc)for(r=r.child;r!==null;)hw(r),r=r.sibling}function hw(r){switch(r.tag){case 26:gl(r),r.flags&Wc&&r.memoizedState!==null&&aO(Rr,r.memoizedState,r.memoizedProps);break;case 5:gl(r);break;case 3:case 4:var o=Rr;Rr=uf(r.stateNode.containerInfo),gl(r),Rr=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=Wc,Wc=16777216,gl(r),Wc=o):gl(r));break;default:gl(r)}}function mw(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Yc(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];is=m,gw(m,r)}mw(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)pw(r),r=r.sibling}function pw(r){switch(r.tag){case 0:case 11:case 15:Yc(r),r.flags&2048&&ci(9,r,r.return);break;case 3:Yc(r);break;case 12:Yc(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,Qd(r)):Yc(r);break;default:Yc(r)}}function Qd(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];is=m,gw(m,r)}mw(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:ci(8,o,o.return),Qd(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Qd(o));break;default:Qd(o)}r=r.sibling}}function gw(r,o){for(;is!==null;){var u=is;switch(u.tag){case 0:case 11:case 15:ci(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:kc(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,is=m;else e:for(u=r;is!==null;){m=is;var x=m.sibling,v=m.return;if(ow(m),m===u){is=null;break e}if(x!==null){x.return=v,is=x;break e}is=v}}}var wk={getCacheForType:function(r){var o=_s(Zn),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u}},_k=typeof WeakMap=="function"?WeakMap:Map,en=0,pn=null,Ft=null,qt=0,tn=0,Zs=null,fi=!1,xl=!1,$p=!1,Ma=0,Pn=0,hi=0,ho=0,Hp=0,gr=0,yl=0,Xc=null,Fs=null,Vp=!1,Ip=0,Zd=1/0,Jd=null,mi=null,fs=0,pi=null,bl=null,vl=0,qp=0,Wp=null,xw=null,Gc=0,Yp=null;function Js(){if((en&2)!==0&&qt!==0)return qt&-qt;if(H.T!==null){var r=ol;return r!==0?r:eg()}return Z()}function yw(){gr===0&&(gr=(qt&536870912)===0||Zt?Ye():536870912);var r=pr.current;return r!==null&&(r.flags|=32),gr}function er(r,o,u){(r===pn&&(tn===2||tn===9)||r.cancelPendingCommit!==null)&&(wl(r,0),gi(r,qt,gr,!1)),Nt(r,u),((en&2)===0||r!==pn)&&(r===pn&&((en&2)===0&&(ho|=u),Pn===4&&gi(r,qt,gr,!1)),ta(r))}function bw(r,o,u){if((en&6)!==0)throw Error(s(327));var m=!u&&(o&124)===0&&(o&r.expiredLanes)===0||Kn(r,o),x=m?Nk(r,o):Kp(r,o,!0),v=m;do{if(x===0){xl&&!m&&gi(r,o,0,!1);break}else{if(u=r.current.alternate,v&&!jk(u)){x=Kp(r,o,!1),v=!1;continue}if(x===2){if(v=o,r.errorRecoveryDisabledLanes&v)var O=0;else O=r.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var F=r;x=Xc;var Q=F.current.memoizedState.isDehydrated;if(Q&&(wl(F,O).flags|=256),O=Kp(F,O,!1),O!==2){if($p&&!Q){F.errorRecoveryDisabledLanes|=v,ho|=v,x=4;break e}v=Fs,Fs=x,v!==null&&(Fs===null?Fs=v:Fs.push.apply(Fs,v))}x=O}if(v=!1,x!==2)continue}}if(x===1){wl(r,0),gi(r,o,0,!0);break}e:{switch(m=r,v=x,v){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:gi(m,o,gr,!fi);break e;case 2:Fs=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(x=Ip+300-Me(),10<x)){if(gi(m,o,gr,!fi),cs(m,0,!0)!==0)break e;m.timeoutHandle=Xw(vw.bind(null,m,u,Fs,Jd,Vp,o,gr,ho,yl,fi,v,2,-0,0),x);break e}vw(m,u,Fs,Jd,Vp,o,gr,ho,yl,fi,v,0,-0,0)}}break}while(!0);ta(r)}function vw(r,o,u,m,x,v,O,F,Q,ye,Ne,Ce,we,_e){if(r.timeoutHandle=-1,Ce=o.subtreeFlags,(Ce&8192||(Ce&16785408)===16785408)&&(nu={stylesheets:null,count:0,unsuspend:rO},hw(o),Ce=iO(),Ce!==null)){r.cancelPendingCommit=Ce(Tw.bind(null,r,o,v,u,m,x,O,F,Q,Ne,1,we,_e)),gi(r,v,O,!ye);return}Tw(r,o,v,u,m,x,O,F,Q)}function jk(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var x=u[m],v=x.getSnapshot;x=x.value;try{if(!Xs(v(),x))return!1}catch(O){return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function gi(r,o,u,m){o&=~Hp,o&=~ho,r.suspendedLanes|=o,r.pingedLanes&=~o,m&&(r.warmLanes|=o),m=r.expirationTimes;for(var x=o;0<x;){var v=31-wt(x),O=1<<v;m[v]=-1,x&=~O}u!==0&&Xe(r,u,o)}function ef(){return(en&6)===0?(Kc(0),!1):!0}function Xp(){if(Ft!==null){if(tn===0)var r=Ft.return;else r=Ft,Ea=io=null,dp(r),hl=null,Bc=0,r=Ft;for(;r!==null;)Jv(r.alternate,r),r=r.return;Ft=null}}function wl(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,$k(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Xp(),pn=r,Ft=u=ja(r.current,null),qt=o,tn=0,Zs=null,fi=!1,xl=Kn(r,o),$p=!1,yl=gr=Hp=ho=hi=Pn=0,Fs=Xc=null,Vp=!1,(o&8)!==0&&(o|=o&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=o;0<m;){var x=31-wt(m),v=1<<x;o|=r[x],m&=~v}return Ma=o,_d(),u}function ww(r,o){Mt=null,H.H=$d,o===Dc||o===Dd?(o=Ub(),tn=3):o===Pb?(o=Ub(),tn=4):tn=o===Fv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Zs=o,Ft===null&&(Pn=1,Wd(r,dr(o,r.current)))}function _w(){var r=H.H;return H.H=$d,r===null?$d:r}function jw(){var r=H.A;return H.A=wk,r}function Gp(){Pn=4,fi||(qt&4194048)!==qt&&pr.current!==null||(xl=!0),(hi&134217727)===0&&(ho&134217727)===0||pn===null||gi(pn,qt,gr,!1)}function Kp(r,o,u){var m=en;en|=2;var x=_w(),v=jw();(pn!==r||qt!==o)&&(Jd=null,wl(r,o)),o=!1;var O=Pn;e:do try{if(tn!==0&&Ft!==null){var F=Ft,Q=Zs;switch(tn){case 8:Xp(),O=6;break e;case 3:case 2:case 9:case 6:pr.current===null&&(o=!0);var ye=tn;if(tn=0,Zs=null,_l(r,F,Q,ye),u&&xl){O=0;break e}break;default:ye=tn,tn=0,Zs=null,_l(r,F,Q,ye)}}Sk(),O=Pn;break}catch(Ne){ww(r,Ne)}while(!0);return o&&r.shellSuspendCounter++,Ea=io=null,en=m,H.H=x,H.A=v,Ft===null&&(pn=null,qt=0,_d()),O}function Sk(){for(;Ft!==null;)Sw(Ft)}function Nk(r,o){var u=en;en|=2;var m=_w(),x=jw();pn!==r||qt!==o?(Jd=null,Zd=Me()+500,wl(r,o)):xl=Kn(r,o);e:do try{if(tn!==0&&Ft!==null){o=Ft;var v=Zs;t:switch(tn){case 1:tn=0,Zs=null,_l(r,o,v,1);break;case 2:case 9:if(Lb(v)){tn=0,Zs=null,Nw(o);break}o=function(){tn!==2&&tn!==9||pn!==r||(tn=7),ta(r)},v.then(o,o);break e;case 3:tn=7;break e;case 4:tn=5;break e;case 7:Lb(v)?(tn=0,Zs=null,Nw(o)):(tn=0,Zs=null,_l(r,o,v,7));break;case 5:var O=null;switch(Ft.tag){case 26:O=Ft.memoizedState;case 5:case 27:var F=Ft;if(!O||i_(O)){tn=0,Zs=null;var Q=F.sibling;if(Q!==null)Ft=Q;else{var ye=F.return;ye!==null?(Ft=ye,tf(ye)):Ft=null}break t}}tn=0,Zs=null,_l(r,o,v,5);break;case 6:tn=0,Zs=null,_l(r,o,v,6);break;case 8:Xp(),Pn=6;break e;default:throw Error(s(462))}}Ek();break}catch(Ne){ww(r,Ne)}while(!0);return Ea=io=null,H.H=m,H.A=x,en=u,Ft!==null?0:(pn=null,qt=0,_d(),Pn)}function Ek(){for(;Ft!==null&&!St();)Sw(Ft)}function Sw(r){var o=Qv(r.alternate,r,Ma);r.memoizedProps=r.pendingProps,o===null?tf(r):Ft=o}function Nw(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=qv(u,o,o.pendingProps,o.type,void 0,qt);break;case 11:o=qv(u,o,o.pendingProps,o.type.render,o.ref,qt);break;case 5:dp(o);default:Jv(u,o),o=Ft=Eb(o,Ma),o=Qv(u,o,Ma)}r.memoizedProps=r.pendingProps,o===null?tf(r):Ft=o}function _l(r,o,u,m){Ea=io=null,dp(o),hl=null,Bc=0;var x=o.return;try{if(pk(r,x,o,u,qt)){Pn=1,Wd(r,dr(u,r.current)),Ft=null;return}}catch(v){if(x!==null)throw Ft=x,v;Pn=1,Wd(r,dr(u,r.current)),Ft=null;return}o.flags&32768?(Zt||m===1?r=!0:xl||(qt&536870912)!==0?r=!1:(fi=r=!0,(m===2||m===9||m===3||m===6)&&(m=pr.current,m!==null&&m.tag===13&&(m.flags|=16384))),Ew(o,r)):tf(o)}function tf(r){var o=r;do{if((o.flags&32768)!==0){Ew(o,fi);return}r=o.return;var u=xk(o.alternate,o,Ma);if(u!==null){Ft=u;return}if(o=o.sibling,o!==null){Ft=o;return}Ft=o=r}while(o!==null);Pn===0&&(Pn=5)}function Ew(r,o){do{var u=yk(r.alternate,r);if(u!==null){u.flags&=32767,Ft=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){Ft=r;return}Ft=r=u}while(r!==null);Pn=6,Ft=null}function Tw(r,o,u,m,x,v,O,F,Q){r.cancelPendingCommit=null;do nf();while(fs!==0);if((en&6)!==0)throw Error(s(327));if(o!==null){if(o===r.current)throw Error(s(177));if(v=o.lanes|o.childLanes,v|=Bm,Qt(r,u,v,O,F,Q),r===pn&&(Ft=pn=null,qt=0),bl=o,pi=r,vl=u,qp=v,Wp=x,xw=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Ok(fe,function(){return Aw(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=H.T,H.T=null,x=J.p,J.p=2,O=en,en|=4;try{bk(r,o,u)}finally{en=O,J.p=x,H.T=m}}fs=1,Cw(),kw(),Ow()}}function Cw(){if(fs===1){fs=0;var r=pi,o=bl,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=H.T,H.T=null;var m=J.p;J.p=2;var x=en;en|=4;try{uw(o,r);var v=lg,O=gb(r.containerInfo),F=v.focusedElem,Q=v.selectionRange;if(O!==F&&F&&F.ownerDocument&&pb(F.ownerDocument.documentElement,F)){if(Q!==null&&Pm(F)){var ye=Q.start,Ne=Q.end;if(Ne===void 0&&(Ne=ye),"selectionStart"in F)F.selectionStart=ye,F.selectionEnd=Math.min(Ne,F.value.length);else{var Ce=F.ownerDocument||document,we=Ce&&Ce.defaultView||window;if(we.getSelection){var _e=we.getSelection(),yt=F.textContent.length,ht=Math.min(Q.start,yt),cn=Q.end===void 0?ht:Math.min(Q.end,yt);!_e.extend&&ht>cn&&(O=cn,cn=ht,ht=O);var de=mb(F,ht),ae=mb(F,cn);if(de&&ae&&(_e.rangeCount!==1||_e.anchorNode!==de.node||_e.anchorOffset!==de.offset||_e.focusNode!==ae.node||_e.focusOffset!==ae.offset)){var ge=Ce.createRange();ge.setStart(de.node,de.offset),_e.removeAllRanges(),ht>cn?(_e.addRange(ge),_e.extend(ae.node,ae.offset)):(ge.setEnd(ae.node,ae.offset),_e.addRange(ge))}}}}for(Ce=[],_e=F;_e=_e.parentNode;)_e.nodeType===1&&Ce.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Ce.length;F++){var Ee=Ce[F];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}pf=!!og,lg=og=null}finally{en=x,J.p=m,H.T=u}}r.current=o,fs=2}}function kw(){if(fs===2){fs=0;var r=pi,o=bl,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=H.T,H.T=null;var m=J.p;J.p=2;var x=en;en|=4;try{iw(r,o.alternate,o)}finally{en=x,J.p=m,H.T=u}}fs=3}}function Ow(){if(fs===4||fs===3){fs=0,at();var r=pi,o=bl,u=vl,m=xw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?fs=5:(fs=0,bl=pi=null,Dw(r,r.pendingLanes));var x=r.pendingLanes;if(x===0&&(mi=null),Wt(u),o=o.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Be,o,void 0,(o.current.flags&128)===128)}catch(Q){}if(m!==null){o=H.T,x=J.p,J.p=2,H.T=null;try{for(var v=r.onRecoverableError,O=0;O<m.length;O++){var F=m[O];v(F.value,{componentStack:F.stack})}}finally{H.T=o,J.p=x}}(vl&3)!==0&&nf(),ta(r),x=r.pendingLanes,(u&4194090)!==0&&(x&42)!==0?r===Yp?Gc++:(Gc=0,Yp=r):Gc=0,Kc(0)}}function Dw(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,kc(o)))}function nf(r){return Cw(),kw(),Ow(),Aw()}function Aw(){if(fs!==5)return!1;var r=pi,o=qp;qp=0;var u=Wt(vl),m=H.T,x=J.p;try{J.p=32>u?32:u,H.T=null,u=Wp,Wp=null;var v=pi,O=vl;if(fs=0,bl=pi=null,vl=0,(en&6)!==0)throw Error(s(331));var F=en;if(en|=4,pw(v.current),fw(v,v.current,O,u),en=F,Kc(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Be,v)}catch(Q){}return!0}finally{J.p=x,H.T=m,Dw(r,o)}}function Rw(r,o,u){o=dr(u,o),o=Np(r.stateNode,o,2),r=ai(r,o,2),r!==null&&(Nt(r,2),ta(r))}function hn(r,o,u){if(r.tag===3)Rw(r,r,u);else for(;o!==null;){if(o.tag===3){Rw(o,r,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(mi===null||!mi.has(m))){r=dr(u,r),u=zv(2),m=ai(o,u,2),m!==null&&(Uv(u,m,o,r),Nt(m,2),ta(m));break}}o=o.return}}function Qp(r,o,u){var m=r.pingCache;if(m===null){m=r.pingCache=new _k;var x=new Set;m.set(o,x)}else x=m.get(o),x===void 0&&(x=new Set,m.set(o,x));x.has(u)||($p=!0,x.add(u),r=Tk.bind(null,r,o,u),o.then(r,r))}function Tk(r,o,u){var m=r.pingCache;m!==null&&m.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,pn===r&&(qt&u)===u&&(Pn===4||Pn===3&&(qt&62914560)===qt&&300>Me()-Ip?(en&2)===0&&wl(r,0):Hp|=u,yl===qt&&(yl=0)),ta(r)}function Mw(r,o){o===0&&(o=Rt()),r=sl(r,o),r!==null&&(Nt(r,o),ta(r))}function Ck(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),Mw(r,u)}function kk(r,o){var u=0;switch(r.tag){case 13:var m=r.stateNode,x=r.memoizedState;x!==null&&(u=x.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(s(314))}m!==null&&m.delete(o),Mw(r,u)}function Ok(r,o){return mt(r,o)}var sf=null,jl=null,Zp=!1,rf=!1,Jp=!1,mo=0;function ta(r){r!==jl&&r.next===null&&(jl===null?sf=jl=r:jl=jl.next=r),rf=!0,Zp||(Zp=!0,Ak())}function Kc(r,o){if(!Jp&&rf){Jp=!0;do for(var u=!1,m=sf;m!==null;){if(r!==0){var x=m.pendingLanes;if(x===0)var v=0;else{var O=m.suspendedLanes,F=m.pingedLanes;v=(1<<31-wt(42|r)+1)-1,v&=x&~(O&~F),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,Uw(m,v))}else v=qt,v=cs(m,m===pn?v:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(v&3)===0||Kn(m,v)||(u=!0,Uw(m,v));m=m.next}while(u);Jp=!1}}function Dk(){Pw()}function Pw(){rf=Zp=!1;var r=0;mo!==0&&(Bk()&&(r=mo),mo=0);for(var o=Me(),u=null,m=sf;m!==null;){var x=m.next,v=Lw(m,o);v===0?(m.next=null,u===null?sf=x:u.next=x,x===null&&(jl=u)):(u=m,(r!==0||(v&3)!==0)&&(rf=!0)),m=x}Kc(r)}function Lw(r,o){for(var u=r.suspendedLanes,m=r.pingedLanes,x=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var O=31-wt(v),F=1<<O,Q=x[O];Q===-1?((F&u)===0||(F&m)!==0)&&(x[O]=Cs(F,o)):Q<=o&&(r.expiredLanes|=F),v&=~F}if(o=pn,u=qt,u=cs(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,u===0||r===o&&(tn===2||tn===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&ze(m),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Kn(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(m!==null&&ze(m),Wt(u)){case 2:case 8:u=X;break;case 32:u=fe;break;case 268435456:u=Se;break;default:u=fe}return m=zw.bind(null,r),u=mt(u,m),r.callbackPriority=o,r.callbackNode=u,o}return m!==null&&m!==null&&ze(m),r.callbackPriority=2,r.callbackNode=null,2}function zw(r,o){if(fs!==0&&fs!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(nf()&&r.callbackNode!==u)return null;var m=qt;return m=cs(r,r===pn?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(bw(r,m,o),Lw(r,Me()),r.callbackNode!=null&&r.callbackNode===u?zw.bind(null,r):null)}function Uw(r,o){if(nf())return null;bw(r,o,!0)}function Ak(){Hk(function(){(en&6)!==0?mt(ft,Dk):Pw()})}function eg(){return mo===0&&(mo=Ye()),mo}function Fw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Yo(""+r)}function Bw(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function Rk(r,o,u,m,x){if(o==="submit"&&u&&u.stateNode===x){var v=Fw((x[De]||null).action),O=m.submitter;O&&(o=(o=O[De]||null)?Fw(o.formAction):O.getAttribute("formAction"),o!==null&&(v=o,O=null));var F=new Ko("action","action",null,m,x);r.push({event:F,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(mo!==0){var Q=O?Bw(x,O):new FormData(x);vp(u,{pending:!0,data:Q,method:x.method,action:v},null,Q)}}else typeof v=="function"&&(F.preventDefault(),Q=O?Bw(x,O):new FormData(x),vp(u,{pending:!0,data:Q,method:x.method,action:v},v,Q))},currentTarget:x}]})}}for(var tg=0;tg<Fm.length;tg++){var ng=Fm[tg],Mk=ng.toLowerCase(),Pk=ng[0].toUpperCase()+ng.slice(1);Ar(Mk,"on"+Pk)}Ar(bb,"onAnimationEnd"),Ar(vb,"onAnimationIteration"),Ar(wb,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(ZC,"onTransitionRun"),Ar(JC,"onTransitionStart"),Ar(ek,"onTransitionCancel"),Ar(_b,"onTransitionEnd"),Dn("onMouseEnter",["mouseout","mouseover"]),Dn("onMouseLeave",["mouseout","mouseover"]),Dn("onPointerEnter",["pointerout","pointerover"]),Dn("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qc));function $w(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var m=r[u],x=m.event;m=m.listeners;e:{var v=void 0;if(o)for(var O=m.length-1;0<=O;O--){var F=m[O],Q=F.instance,ye=F.currentTarget;if(F=F.listener,Q!==v&&x.isPropagationStopped())break e;v=F,x.currentTarget=ye;try{v(x)}catch(Ne){qd(Ne)}x.currentTarget=null,v=Q}else for(O=0;O<m.length;O++){if(F=m[O],Q=F.instance,ye=F.currentTarget,F=F.listener,Q!==v&&x.isPropagationStopped())break e;v=F,x.currentTarget=ye;try{v(x)}catch(Ne){qd(Ne)}x.currentTarget=null,v=Q}}}}function Bt(r,o){var u=o[Ke];u===void 0&&(u=o[Ke]=new Set);var m=r+"__bubble";u.has(m)||(Hw(o,r,2,!1),u.add(m))}function sg(r,o,u){var m=0;o&&(m|=4),Hw(u,r,m,o)}var af="_reactListening"+Math.random().toString(36).slice(2);function rg(r){if(!r[af]){r[af]=!0,Et.forEach(function(u){u!=="selectionchange"&&(Lk.has(u)||sg(u,!1,r),sg(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[af]||(o[af]=!0,sg("selectionchange",!1,o))}}function Hw(r,o,u,m){switch(f_(o)){case 2:var x=cO;break;case 8:x=uO;break;default:x=yg}u=x.bind(null,o,u,r),x=void 0,!Xo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),m?x!==void 0?r.addEventListener(o,u,{capture:!0,passive:x}):r.addEventListener(o,u,!0):x!==void 0?r.addEventListener(o,u,{passive:x}):r.addEventListener(o,u,!1)}function ag(r,o,u,m,x){var v=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var F=m.stateNode.containerInfo;if(F===x)break;if(O===4)for(O=m.return;O!==null;){var Q=O.tag;if((Q===3||Q===4)&&O.stateNode.containerInfo===x)return;O=O.return}for(;F!==null;){if(O=Ct(F),O===null)return;if(Q=O.tag,Q===5||Q===6||Q===26||Q===27){m=v=O;continue e}F=F.parentNode}}m=m.return}bc(function(){var ye=v,Ne=Xi(u),Ce=[];e:{var we=jb.get(r);if(we!==void 0){var _e=Ko,yt=r;switch(r){case"keypress":if(Ja(u)===0)break e;case"keydown":case"keyup":_e=Kr;break;case"focusin":yt="focus",_e=ct;break;case"focusout":yt="blur",_e=ct;break;case"beforeblur":case"afterblur":_e=ct;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=ue;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=be;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=vd;break;case bb:case vb:case wb:_e=We;break;case _b:_e=PC;break;case"scroll":case"scrollend":_e=Rn;break;case"wheel":_e=zC;break;case"copy":case"cut":case"paste":_e=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Qo;break;case"toggle":case"beforetoggle":_e=FC}var ht=(o&4)!==0,cn=!ht&&(r==="scroll"||r==="scrollend"),de=ht?we!==null?we+"Capture":null:we;ht=[];for(var ae=ye,ge;ae!==null;){var Ee=ae;if(ge=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||ge===null||de===null||(Ee=Za(ae,de),Ee!=null&&ht.push(Zc(ae,Ee,ge))),cn)break;ae=ae.return}0<ht.length&&(we=new _e(we,yt,null,u,Ne),Ce.push({event:we,listeners:ht}))}}if((o&7)===0){e:{if(we=r==="mouseover"||r==="pointerover",_e=r==="mouseout"||r==="pointerout",we&&u!==xc&&(yt=u.relatedTarget||u.fromElement)&&(Ct(yt)||yt[$e]))break e;if((_e||we)&&(we=Ne.window===Ne?Ne:(we=Ne.ownerDocument)?we.defaultView||we.parentWindow:window,_e?(yt=u.relatedTarget||u.toElement,_e=ye,yt=yt?Ct(yt):null,yt!==null&&(cn=i(yt),ht=yt.tag,yt!==cn||ht!==5&&ht!==27&&ht!==6)&&(yt=null)):(_e=null,yt=ye),_e!==yt)){if(ht=ue,Ee="onMouseLeave",de="onMouseEnter",ae="mouse",(r==="pointerout"||r==="pointerover")&&(ht=Qo,Ee="onPointerLeave",de="onPointerEnter",ae="pointer"),cn=_e==null?we:On(_e),ge=yt==null?we:On(yt),we=new ht(Ee,ae+"leave",_e,u,Ne),we.target=cn,we.relatedTarget=ge,Ee=null,Ct(Ne)===ye&&(ht=new ht(de,ae+"enter",yt,u,Ne),ht.target=ge,ht.relatedTarget=cn,Ee=ht),cn=Ee,_e&&yt)t:{for(ht=_e,de=yt,ae=0,ge=ht;ge;ge=Sl(ge))ae++;for(ge=0,Ee=de;Ee;Ee=Sl(Ee))ge++;for(;0<ae-ge;)ht=Sl(ht),ae--;for(;0<ge-ae;)de=Sl(de),ge--;for(;ae--;){if(ht===de||de!==null&&ht===de.alternate)break t;ht=Sl(ht),de=Sl(de)}ht=null}else ht=null;_e!==null&&Vw(Ce,we,_e,ht,!1),yt!==null&&cn!==null&&Vw(Ce,cn,yt,ht,!0)}}e:{if(we=ye?On(ye):window,_e=we.nodeName&&we.nodeName.toLowerCase(),_e==="select"||_e==="input"&&we.type==="file")var Qe=lb;else if(ib(we))if(cb)Qe=GC;else{Qe=YC;var Lt=WC}else _e=we.nodeName,!_e||_e.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?ye&&Yi(ye.elementType)&&(Qe=lb):Qe=XC;if(Qe&&(Qe=Qe(r,ye))){ob(Ce,Qe,u,Ne);break e}Lt&&Lt(r,we,ye),r==="focusout"&&ye&&we.type==="number"&&ye.memoizedProps.value!=null&&mc(we,"number",we.value)}switch(Lt=ye?On(ye):window,r){case"focusin":(ib(Lt)||Lt.contentEditable==="true")&&(el=Lt,Lm=ye,Sc=null);break;case"focusout":Sc=Lm=el=null;break;case"mousedown":zm=!0;break;case"contextmenu":case"mouseup":case"dragend":zm=!1,xb(Ce,u,Ne);break;case"selectionchange":if(QC)break;case"keydown":case"keyup":xb(Ce,u,Ne)}var lt;if(Am)e:{switch(r){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Jo?rb(r,u)&&(gt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(gt="onCompositionStart");gt&&(tb&&u.locale!=="ko"&&(Jo||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Jo&&(lt=Qi()):(Ys=Ne,Ls="value"in Ys?Ys.value:Ys.textContent,Jo=!0)),Lt=of(ye,gt),0<Lt.length&&(gt=new dt(gt,r,null,u,Ne),Ce.push({event:gt,listeners:Lt}),lt?gt.data=lt:(lt=ab(u),lt!==null&&(gt.data=lt)))),(lt=$C?HC(r,u):VC(r,u))&&(gt=of(ye,"onBeforeInput"),0<gt.length&&(Lt=new dt("onBeforeInput","beforeinput",null,u,Ne),Ce.push({event:Lt,listeners:gt}),Lt.data=lt)),Rk(Ce,r,ye,u,Ne)}$w(Ce,o)})}function Zc(r,o,u){return{instance:r,listener:o,currentTarget:u}}function of(r,o){for(var u=o+"Capture",m=[];r!==null;){var x=r,v=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||v===null||(x=Za(r,u),x!=null&&m.unshift(Zc(r,x,v)),x=Za(r,o),x!=null&&m.push(Zc(r,x,v))),r.tag===3)return m;r=r.return}return[]}function Sl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Vw(r,o,u,m,x){for(var v=o._reactName,O=[];u!==null&&u!==m;){var F=u,Q=F.alternate,ye=F.stateNode;if(F=F.tag,Q!==null&&Q===m)break;F!==5&&F!==26&&F!==27||ye===null||(Q=ye,x?(ye=Za(u,v),ye!=null&&O.unshift(Zc(u,ye,Q))):x||(ye=Za(u,v),ye!=null&&O.push(Zc(u,ye,Q)))),u=u.return}O.length!==0&&r.push({event:o,listeners:O})}var zk=/\r\n?/g,Uk=/\u0000|\uFFFD/g;function Iw(r){return(typeof r=="string"?r:""+r).replace(zk,`
`).replace(Uk,"")}function qw(r,o){return o=Iw(o),Iw(r)===o}function lf(){}function ln(r,o,u,m,x,v){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Ka(r,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Ka(r,""+m);break;case"className":cr(r,"class",m);break;case"tabIndex":cr(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":cr(r,u,m);break;case"style":gc(r,m,v);break;case"data":if(o!=="object"){cr(r,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=Yo(""+m),r.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(o!=="input"&&ln(r,o,"name",x.name,x,null),ln(r,o,"formEncType",x.formEncType,x,null),ln(r,o,"formMethod",x.formMethod,x,null),ln(r,o,"formTarget",x.formTarget,x,null)):(ln(r,o,"encType",x.encType,x,null),ln(r,o,"method",x.method,x,null),ln(r,o,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=Yo(""+m),r.setAttribute(u,m);break;case"onClick":m!=null&&(r.onclick=lf);break;case"onScroll":m!=null&&Bt("scroll",r);break;case"onScrollEnd":m!=null&&Bt("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(u=m.__html,u!=null){if(x.children!=null)throw Error(s(60));r.innerHTML=u}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}u=Yo(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""+m):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":m===!0?r.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,m):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(u,m):r.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(u):r.setAttribute(u,m);break;case"popover":Bt("beforetoggle",r),Bt("toggle",r),vs(r,"popover",m);break;case"xlinkActuate":At(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":At(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":At(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":At(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":At(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":At(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":At(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":At(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":At(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":vs(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Wo.get(u)||u,vs(r,u,m))}}function ig(r,o,u,m,x,v){switch(u){case"style":gc(r,m,v);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(u=m.__html,u!=null){if(x.children!=null)throw Error(s(60));r.innerHTML=u}}break;case"children":typeof m=="string"?Ka(r,m):(typeof m=="number"||typeof m=="bigint")&&Ka(r,""+m);break;case"onScroll":m!=null&&Bt("scroll",r);break;case"onScrollEnd":m!=null&&Bt("scrollend",r);break;case"onClick":m!=null&&(r.onclick=lf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yt.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(x=u.endsWith("Capture"),o=u.slice(2,x?u.length-7:void 0),v=r[De]||null,v=v!=null?v[u]:null,typeof v=="function"&&r.removeEventListener(o,v,x),typeof m=="function")){typeof v!="function"&&v!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,m,x);break e}u in r?r[u]=m:m===!0?r.setAttribute(u,""):vs(r,u,m)}}}function hs(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",r),Bt("load",r);var m=!1,x=!1,v;for(v in u)if(u.hasOwnProperty(v)){var O=u[v];if(O!=null)switch(v){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:ln(r,o,v,O,u,null)}}x&&ln(r,o,"srcSet",u.srcSet,u,null),m&&ln(r,o,"src",u.src,u,null);return;case"input":Bt("invalid",r);var F=v=O=x=null,Q=null,ye=null;for(m in u)if(u.hasOwnProperty(m)){var Ne=u[m];if(Ne!=null)switch(m){case"name":x=Ne;break;case"type":O=Ne;break;case"checked":Q=Ne;break;case"defaultChecked":ye=Ne;break;case"value":v=Ne;break;case"defaultValue":F=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(s(137,o));break;default:ln(r,o,m,Ne,u,null)}}gd(r,v,F,Q,ye,O,x,!1),Ii(r);return;case"select":Bt("invalid",r),m=O=v=null;for(x in u)if(u.hasOwnProperty(x)&&(F=u[x],F!=null))switch(x){case"value":v=F;break;case"defaultValue":O=F;break;case"multiple":m=F;default:ln(r,o,x,F,u,null)}o=v,u=O,r.multiple=!!m,o!=null?va(r,!!m,o,!1):u!=null&&va(r,!!m,u,!0);return;case"textarea":Bt("invalid",r),v=x=m=null;for(O in u)if(u.hasOwnProperty(O)&&(F=u[O],F!=null))switch(O){case"value":m=F;break;case"defaultValue":x=F;break;case"children":v=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(91));break;default:ln(r,o,O,F,u,null)}pc(r,m,x,v),Ii(r);return;case"option":for(Q in u)if(u.hasOwnProperty(Q)&&(m=u[Q],m!=null))switch(Q){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ln(r,o,Q,m,u,null)}return;case"dialog":Bt("beforetoggle",r),Bt("toggle",r),Bt("cancel",r),Bt("close",r);break;case"iframe":case"object":Bt("load",r);break;case"video":case"audio":for(m=0;m<Qc.length;m++)Bt(Qc[m],r);break;case"image":Bt("error",r),Bt("load",r);break;case"details":Bt("toggle",r);break;case"embed":case"source":case"link":Bt("error",r),Bt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ye in u)if(u.hasOwnProperty(ye)&&(m=u[ye],m!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:ln(r,o,ye,m,u,null)}return;default:if(Yi(o)){for(Ne in u)u.hasOwnProperty(Ne)&&(m=u[Ne],m!==void 0&&ig(r,o,Ne,m,u,void 0));return}}for(F in u)u.hasOwnProperty(F)&&(m=u[F],m!=null&&ln(r,o,F,m,u,null))}function Fk(r,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,v=null,O=null,F=null,Q=null,ye=null,Ne=null;for(_e in u){var Ce=u[_e];if(u.hasOwnProperty(_e)&&Ce!=null)switch(_e){case"checked":break;case"value":break;case"defaultValue":Q=Ce;default:m.hasOwnProperty(_e)||ln(r,o,_e,null,m,Ce)}}for(var we in m){var _e=m[we];if(Ce=u[we],m.hasOwnProperty(we)&&(_e!=null||Ce!=null))switch(we){case"type":v=_e;break;case"name":x=_e;break;case"checked":ye=_e;break;case"defaultChecked":Ne=_e;break;case"value":O=_e;break;case"defaultValue":F=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(s(137,o));break;default:_e!==Ce&&ln(r,o,we,_e,m,Ce)}}hc(r,O,F,Q,ye,Ne,v,x);return;case"select":_e=O=F=we=null;for(v in u)if(Q=u[v],u.hasOwnProperty(v)&&Q!=null)switch(v){case"value":break;case"multiple":_e=Q;default:m.hasOwnProperty(v)||ln(r,o,v,null,m,Q)}for(x in m)if(v=m[x],Q=u[x],m.hasOwnProperty(x)&&(v!=null||Q!=null))switch(x){case"value":we=v;break;case"defaultValue":F=v;break;case"multiple":O=v;default:v!==Q&&ln(r,o,x,v,m,Q)}o=F,u=O,m=_e,we!=null?va(r,!!u,we,!1):!!m!=!!u&&(o!=null?va(r,!!u,o,!0):va(r,!!u,u?[]:"",!1));return;case"textarea":_e=we=null;for(F in u)if(x=u[F],u.hasOwnProperty(F)&&x!=null&&!m.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:ln(r,o,F,null,m,x)}for(O in m)if(x=m[O],v=u[O],m.hasOwnProperty(O)&&(x!=null||v!=null))switch(O){case"value":we=x;break;case"defaultValue":_e=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:x!==v&&ln(r,o,O,x,m,v)}Wi(r,we,_e);return;case"option":for(var yt in u)if(we=u[yt],u.hasOwnProperty(yt)&&we!=null&&!m.hasOwnProperty(yt))switch(yt){case"selected":r.selected=!1;break;default:ln(r,o,yt,null,m,we)}for(Q in m)if(we=m[Q],_e=u[Q],m.hasOwnProperty(Q)&&we!==_e&&(we!=null||_e!=null))switch(Q){case"selected":r.selected=we&&typeof we!="function"&&typeof we!="symbol";break;default:ln(r,o,Q,we,m,_e)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in u)we=u[ht],u.hasOwnProperty(ht)&&we!=null&&!m.hasOwnProperty(ht)&&ln(r,o,ht,null,m,we);for(ye in m)if(we=m[ye],_e=u[ye],m.hasOwnProperty(ye)&&we!==_e&&(we!=null||_e!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(s(137,o));break;default:ln(r,o,ye,we,m,_e)}return;default:if(Yi(o)){for(var cn in u)we=u[cn],u.hasOwnProperty(cn)&&we!==void 0&&!m.hasOwnProperty(cn)&&ig(r,o,cn,void 0,m,we);for(Ne in m)we=m[Ne],_e=u[Ne],!m.hasOwnProperty(Ne)||we===_e||we===void 0&&_e===void 0||ig(r,o,Ne,we,m,_e);return}}for(var de in u)we=u[de],u.hasOwnProperty(de)&&we!=null&&!m.hasOwnProperty(de)&&ln(r,o,de,null,m,we);for(Ce in m)we=m[Ce],_e=u[Ce],!m.hasOwnProperty(Ce)||we===_e||we==null&&_e==null||ln(r,o,Ce,we,m,_e)}var og=null,lg=null;function cf(r){return r.nodeType===9?r:r.ownerDocument}function Ww(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yw(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function cg(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ug=null;function Bk(){var r=window.event;return r&&r.type==="popstate"?r===ug?!1:(ug=r,!0):(ug=null,!1)}var Xw=typeof setTimeout=="function"?setTimeout:void 0,$k=typeof clearTimeout=="function"?clearTimeout:void 0,Gw=typeof Promise=="function"?Promise:void 0,Hk=typeof queueMicrotask=="function"?queueMicrotask:typeof Gw!="undefined"?function(r){return Gw.resolve(null).then(r).catch(Vk)}:Xw;function Vk(r){setTimeout(function(){throw r})}function xi(r){return r==="head"}function Kw(r,o){var u=o,m=0,x=0;do{var v=u.nextSibling;if(r.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<m&&8>m){u=m;var O=r.ownerDocument;if(u&1&&Jc(O.documentElement),u&2&&Jc(O.body),u&4)for(u=O.head,Jc(u),O=u.firstChild;O;){var F=O.nextSibling,Q=O.nodeName;O[it]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&O.rel.toLowerCase()==="stylesheet"||u.removeChild(O),O=F}}if(x===0){r.removeChild(v),ou(o);return}x--}else u==="$"||u==="$?"||u==="$!"?x++:m=u.charCodeAt(0)-48;else m=0;u=v}while(u);ou(o)}function dg(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":dg(u),vt(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function Ik(r,o,u,m){for(;r.nodeType===1;){var x=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[it])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==x.rel||r.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||r.getAttribute("title")!==(x.title==null?null:x.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(x.src==null?null:x.src)||r.getAttribute("type")!==(x.type==null?null:x.type)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var v=x.name==null?null:""+x.name;if(x.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Mr(r.nextSibling),r===null)break}return null}function qk(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Mr(r.nextSibling),r===null))return null;return r}function fg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Wk(r,o){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function Mr(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var hg=null;function Qw(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}function Zw(r,o,u){switch(o=cf(u),r){case"html":if(r=o.documentElement,!r)throw Error(s(452));return r;case"head":if(r=o.head,!r)throw Error(s(453));return r;case"body":if(r=o.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Jc(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);vt(r)}var xr=new Map,Jw=new Set;function uf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Pa=J.d;J.d={f:Yk,r:Xk,D:Gk,C:Kk,L:Qk,m:Zk,X:eO,S:Jk,M:tO};function Yk(){var r=Pa.f(),o=ef();return r||o}function Xk(r){var o=fn(r);o!==null&&o.tag===5&&o.type==="form"?bv(o):Pa.r(r)}var Nl=typeof document=="undefined"?null:document;function e_(r,o,u){var m=Nl;if(m&&typeof o=="string"&&o){var x=Ms(o);x='link[rel="'+r+'"][href="'+x+'"]',typeof u=="string"&&(x+='[crossorigin="'+u+'"]'),Jw.has(x)||(Jw.add(x),r={rel:r,crossOrigin:u,href:o},m.querySelector(x)===null&&(o=m.createElement("link"),hs(o,"link",r),ot(o),m.head.appendChild(o)))}}function Gk(r){Pa.D(r),e_("dns-prefetch",r,null)}function Kk(r,o){Pa.C(r,o),e_("preconnect",r,o)}function Qk(r,o,u){Pa.L(r,o,u);var m=Nl;if(m&&r&&o){var x='link[rel="preload"][as="'+Ms(o)+'"]';o==="image"&&u&&u.imageSrcSet?(x+='[imagesrcset="'+Ms(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(x+='[imagesizes="'+Ms(u.imageSizes)+'"]')):x+='[href="'+Ms(r)+'"]';var v=x;switch(o){case"style":v=El(r);break;case"script":v=Tl(r)}xr.has(v)||(r=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),xr.set(v,r),m.querySelector(x)!==null||o==="style"&&m.querySelector(eu(v))||o==="script"&&m.querySelector(tu(v))||(o=m.createElement("link"),hs(o,"link",r),ot(o),m.head.appendChild(o)))}}function Zk(r,o){Pa.m(r,o);var u=Nl;if(u&&r){var m=o&&typeof o.as=="string"?o.as:"script",x='link[rel="modulepreload"][as="'+Ms(m)+'"][href="'+Ms(r)+'"]',v=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Tl(r)}if(!xr.has(v)&&(r=p({rel:"modulepreload",href:r},o),xr.set(v,r),u.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(tu(v)))return}m=u.createElement("link"),hs(m,"link",r),ot(m),u.head.appendChild(m)}}}function Jk(r,o,u){Pa.S(r,o,u);var m=Nl;if(m&&r){var x=rn(m).hoistableStyles,v=El(r);o=o||"default";var O=x.get(v);if(!O){var F={loading:0,preload:null};if(O=m.querySelector(eu(v)))F.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},u),(u=xr.get(v))&&mg(r,u);var Q=O=m.createElement("link");ot(Q),hs(Q,"link",r),Q._p=new Promise(function(ye,Ne){Q.onload=ye,Q.onerror=Ne}),Q.addEventListener("load",function(){F.loading|=1}),Q.addEventListener("error",function(){F.loading|=2}),F.loading|=4,df(O,o,m)}O={type:"stylesheet",instance:O,count:1,state:F},x.set(v,O)}}}function eO(r,o){Pa.X(r,o);var u=Nl;if(u&&r){var m=rn(u).hoistableScripts,x=Tl(r),v=m.get(x);v||(v=u.querySelector(tu(x)),v||(r=p({src:r,async:!0},o),(o=xr.get(x))&&pg(r,o),v=u.createElement("script"),ot(v),hs(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},m.set(x,v))}}function tO(r,o){Pa.M(r,o);var u=Nl;if(u&&r){var m=rn(u).hoistableScripts,x=Tl(r),v=m.get(x);v||(v=u.querySelector(tu(x)),v||(r=p({src:r,async:!0,type:"module"},o),(o=xr.get(x))&&pg(r,o),v=u.createElement("script"),ot(v),hs(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},m.set(x,v))}}function t_(r,o,u,m){var x=(x=me.current)?uf(x):null;if(!x)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=El(u.href),u=rn(x).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=El(u.href);var v=rn(x).hoistableStyles,O=v.get(r);if(O||(x=x.ownerDocument||x,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,O),(v=x.querySelector(eu(r)))&&!v._p&&(O.instance=v,O.state.loading=5),xr.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},xr.set(r,u),v||nO(x,r,u,O.state))),o&&m===null)throw Error(s(528,""));return O}if(o&&m!==null)throw Error(s(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Tl(u),u=rn(x).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function El(r){return'href="'+Ms(r)+'"'}function eu(r){return'link[rel="stylesheet"]['+r+"]"}function n_(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function nO(r,o,u,m){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=r.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),hs(o,"link",u),ot(o),r.head.appendChild(o))}function Tl(r){return'[src="'+Ms(r)+'"]'}function tu(r){return"script[async]"+r}function s_(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=r.querySelector('style[data-href~="'+Ms(u.href)+'"]');if(m)return o.instance=m,ot(m),m;var x=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),ot(m),hs(m,"style",x),df(m,u.precedence,r),o.instance=m;case"stylesheet":x=El(u.href);var v=r.querySelector(eu(x));if(v)return o.state.loading|=4,o.instance=v,ot(v),v;m=n_(u),(x=xr.get(x))&&mg(m,x),v=(r.ownerDocument||r).createElement("link"),ot(v);var O=v;return O._p=new Promise(function(F,Q){O.onload=F,O.onerror=Q}),hs(v,"link",m),o.state.loading|=4,df(v,u.precedence,r),o.instance=v;case"script":return v=Tl(u.src),(x=r.querySelector(tu(v)))?(o.instance=x,ot(x),x):(m=u,(x=xr.get(v))&&(m=p({},u),pg(m,x)),r=r.ownerDocument||r,x=r.createElement("script"),ot(x),hs(x,"link",m),r.head.appendChild(x),o.instance=x);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,df(m,u.precedence,r));return o.instance}function df(r,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,v=x,O=0;O<m.length;O++){var F=m[O];if(F.dataset.precedence===o)v=F;else if(v!==x)break}v?v.parentNode.insertBefore(r,v.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function mg(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function pg(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var ff=null;function r_(r,o,u){if(ff===null){var m=new Map,x=ff=new Map;x.set(u,m)}else x=ff,m=x.get(u),m||(m=new Map,x.set(u,m));if(m.has(r))return m;for(m.set(r,null),u=u.getElementsByTagName(r),x=0;x<u.length;x++){var v=u[x];if(!(v[it]||v[je]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var O=v.getAttribute(o)||"";O=r+O;var F=m.get(O);F?F.push(v):m.set(O,[v])}}return m}function a_(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function sO(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function i_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var nu=null;function rO(){}function aO(r,o,u){if(nu===null)throw Error(s(475));var m=nu;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var x=El(u.href),v=r.querySelector(eu(x));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(m.count++,m=hf.bind(m),r.then(m,m)),o.state.loading|=4,o.instance=v,ot(v);return}v=r.ownerDocument||r,u=n_(u),(x=xr.get(x))&&mg(u,x),v=v.createElement("link"),ot(v);var O=v;O._p=new Promise(function(F,Q){O.onload=F,O.onerror=Q}),hs(v,"link",u),o.instance=v}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(m.count++,o=hf.bind(m),r.addEventListener("load",o),r.addEventListener("error",o))}}function iO(){if(nu===null)throw Error(s(475));var r=nu;return r.stylesheets&&r.count===0&&gg(r,r.stylesheets),0<r.count?function(o){var u=setTimeout(function(){if(r.stylesheets&&gg(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u)}}:null}function hf(){if(this.count--,this.count===0){if(this.stylesheets)gg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var mf=null;function gg(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,mf=new Map,o.forEach(oO,r),mf=null,hf.call(r))}function oO(r,o){if(!(o.state.loading&4)){var u=mf.get(r);if(u)var m=u.get(null);else{u=new Map,mf.set(r,u);for(var x=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<x.length;v++){var O=x[v];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),m=O)}m&&u.set(null,m)}x=o.instance,O=x.getAttribute("data-precedence"),v=u.get(O)||m,v===m&&u.set(null,x),u.set(O,x),this.count++,m=hf.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),v?v.parentNode.insertBefore(x,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(x,r.firstChild)),o.state.loading|=4}}var su={$$typeof:D,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function lO(r,o,u,m,x,v,O,F){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.hiddenUpdates=Ut(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=v,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function o_(r,o,u,m,x,v,O,F,Q,ye,Ne,Ce){return r=new lO(r,o,u,O,F,Q,ye,Ce),o=1,v===!0&&(o|=24),v=Gs(3,null,null,o),r.current=v,v.stateNode=r,o=Qm(),o.refCount++,r.pooledCache=o,o.refCount++,v.memoizedState={element:m,isDehydrated:u,cache:o},tp(v),r}function l_(r){return r?(r=rl,r):rl}function c_(r,o,u,m,x,v){x=l_(x),m.context===null?m.context=x:m.pendingContext=x,m=ri(o),m.payload={element:u},v=v===void 0?null:v,v!==null&&(m.callback=v),u=ai(r,m,o),u!==null&&(er(u,r,o),Rc(u,r,o))}function u_(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function xg(r,o){u_(r,o),(r=r.alternate)&&u_(r,o)}function d_(r){if(r.tag===13){var o=sl(r,67108864);o!==null&&er(o,r,67108864),xg(r,67108864)}}var pf=!0;function cO(r,o,u,m){var x=H.T;H.T=null;var v=J.p;try{J.p=2,yg(r,o,u,m)}finally{J.p=v,H.T=x}}function uO(r,o,u,m){var x=H.T;H.T=null;var v=J.p;try{J.p=8,yg(r,o,u,m)}finally{J.p=v,H.T=x}}function yg(r,o,u,m){if(pf){var x=bg(m);if(x===null)ag(r,o,m,gf,u),h_(r,m);else if(fO(x,r,o,u,m))m.stopPropagation();else if(h_(r,m),o&4&&-1<dO.indexOf(r)){for(;x!==null;){var v=fn(x);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var O=Gn(v.pendingLanes);if(O!==0){var F=v;for(F.pendingLanes|=2,F.entangledLanes|=2;O;){var Q=1<<31-wt(O);F.entanglements[1]|=Q,O&=~Q}ta(v),(en&6)===0&&(Zd=Me()+500,Kc(0))}}break;case 13:F=sl(v,2),F!==null&&er(F,v,2),ef(),xg(v,2)}if(v=bg(m),v===null&&ag(r,o,m,gf,u),v===x)break;x=v}x!==null&&m.stopPropagation()}else ag(r,o,m,null,u)}}function bg(r){return r=Xi(r),vg(r)}var gf=null;function vg(r){if(gf=null,r=Ct(r),r!==null){var o=i(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=c(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return gf=r,null}function f_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(st()){case ft:return 2;case X:return 8;case fe:case q:return 32;case Se:return 268435456;default:return 32}default:return 32}}var wg=!1,yi=null,bi=null,vi=null,ru=new Map,au=new Map,wi=[],dO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(r,o){switch(r){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":ru.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(o.pointerId)}}function iu(r,o,u,m,x,v){return r===null||r.nativeEvent!==v?(r={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:v,targetContainers:[x]},o!==null&&(o=fn(o),o!==null&&d_(o)),r):(r.eventSystemFlags|=m,o=r.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),r)}function fO(r,o,u,m,x){switch(o){case"focusin":return yi=iu(yi,r,o,u,m,x),!0;case"dragenter":return bi=iu(bi,r,o,u,m,x),!0;case"mouseover":return vi=iu(vi,r,o,u,m,x),!0;case"pointerover":var v=x.pointerId;return ru.set(v,iu(ru.get(v)||null,r,o,u,m,x)),!0;case"gotpointercapture":return v=x.pointerId,au.set(v,iu(au.get(v)||null,r,o,u,m,x)),!0}return!1}function m_(r){var o=Ct(r.target);if(o!==null){var u=i(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){r.blockedOn=o,ie(r.priority,function(){if(u.tag===13){var m=Js();m=Vt(m);var x=sl(u,m);x!==null&&er(x,u,m),xg(u,m)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function xf(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=bg(r.nativeEvent);if(u===null){u=r.nativeEvent;var m=new u.constructor(u.type,u);xc=m,u.target.dispatchEvent(m),xc=null}else return o=fn(u),o!==null&&d_(o),r.blockedOn=u,!1;o.shift()}return!0}function p_(r,o,u){xf(r)&&u.delete(o)}function hO(){wg=!1,yi!==null&&xf(yi)&&(yi=null),bi!==null&&xf(bi)&&(bi=null),vi!==null&&xf(vi)&&(vi=null),ru.forEach(p_),au.forEach(p_)}function yf(r,o){r.blockedOn===o&&(r.blockedOn=null,wg||(wg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hO)))}var bf=null;function g_(r){bf!==r&&(bf=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){bf===r&&(bf=null);for(var o=0;o<r.length;o+=3){var u=r[o],m=r[o+1],x=r[o+2];if(typeof m!="function"){if(vg(m||u)===null)continue;break}var v=fn(u);v!==null&&(r.splice(o,3),o-=3,vp(v,{pending:!0,data:x,method:u.method,action:m},m,x))}}))}function ou(r){function o(Q){return yf(Q,r)}yi!==null&&yf(yi,r),bi!==null&&yf(bi,r),vi!==null&&yf(vi,r),ru.forEach(o),au.forEach(o);for(var u=0;u<wi.length;u++){var m=wi[u];m.blockedOn===r&&(m.blockedOn=null)}for(;0<wi.length&&(u=wi[0],u.blockedOn===null);)m_(u),u.blockedOn===null&&wi.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var x=u[m],v=u[m+1],O=x[De]||null;if(typeof v=="function")O||g_(u);else if(O){var F=null;if(v&&v.hasAttribute("formAction")){if(x=v,O=v[De]||null)F=O.formAction;else if(vg(x)!==null)continue}else F=O.action;typeof F=="function"?u[m+1]=F:(u.splice(m,3),m-=3),g_(u)}}}function _g(r){this._internalRoot=r}vf.prototype.render=_g.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(s(409));var u=o.current,m=Js();c_(u,m,r,o,null,null)},vf.prototype.unmount=_g.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;c_(r.current,2,null,r,null,null),ef(),o[$e]=null}};function vf(r){this._internalRoot=r}vf.prototype.unstable_scheduleHydration=function(r){if(r){var o=Z();r={blockedOn:null,target:r,priority:o};for(var u=0;u<wi.length&&o!==0&&o<wi[u].priority;u++);wi.splice(u,0,r),u===0&&m_(r)}};var x_=t.version;if(x_!=="19.1.1")throw Error(s(527,x_,"19.1.1"));J.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=f(o),r=r!==null?h(r):null,r=r===null?null:r.stateNode,r};var mO={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wf.isDisabled&&wf.supportsFiber)try{Be=wf.inject(mO),qe=wf}catch(r){}}return cu.createRoot=function(r,o){if(!a(r))throw Error(s(299));var u=!1,m="",x=Rv,v=Mv,O=Pv,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(F=o.unstable_transitionCallbacks)),o=o_(r,1,!1,null,null,u,m,x,v,O,F,null),r[$e]=o.current,rg(r),new _g(o)},cu.hydrateRoot=function(r,o,u){if(!a(r))throw Error(s(299));var m=!1,x="",v=Rv,O=Mv,F=Pv,Q=null,ye=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(F=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(Q=u.unstable_transitionCallbacks),u.formState!==void 0&&(ye=u.formState)),o=o_(r,1,!0,o,u!=null?u:null,m,x,v,O,F,Q,ye),o.context=l_(null),u=o.current,m=Js(),m=Vt(m),x=ri(m),x.callback=null,ai(u,x,m),u=m,o.current.lanes=u,Nt(o,u),ta(o),r[$e]=o.current,rg(r),new vf(o)},cu.version="19.1.1",cu}var O_;function kO(){if(O_)return Cg.exports;O_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Cg.exports=CO(),Cg.exports}var OO=kO();const DO=Tx(OO);var AO=Object.defineProperty,RO=(e,t,n)=>t in e?AO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,go=(e,t,n)=>RO(e,typeof t!="symbol"?t+"":t,n),MO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kl={},uu={},Pr={},D_;function IS(){if(D_)return Pr;D_=1;var e=Pr&&Pr.__assign||function(){return e=Object.assign||function(a){for(var i,c=1,d=arguments.length;c<d;c++){i=arguments[c];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(a[f]=i[f])}return a},e.apply(this,arguments)},t=Pr&&Pr.__awaiter||function(a,i,c,d){function f(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function g(_){try{y(d.next(_))}catch(w){p(w)}}function b(_){try{y(d.throw(_))}catch(w){p(w)}}function y(_){_.done?h(_.value):f(_.value).then(g,b)}y((d=d.apply(a,i||[])).next())})},n=Pr&&Pr.__generator||function(a,i){var c={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(_){return b([y,_])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(c=0)),c;)try{if(d=1,f&&(h=y[0]&2?f.return:y[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,y[1])).done)return h;switch(f=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return c.label++,{value:y[1],done:!1};case 5:c.label++,f=y[1],y=[0];continue;case 7:y=c.ops.pop(),c.trys.pop();continue;default:if(h=c.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){c=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){c.label=y[1];break}if(y[0]===6&&c.label<h[1]){c.label=h[1],h=y;break}if(h&&c.label<h[2]){c.label=h[2],c.ops.push(y);break}h[2]&&c.ops.pop(),c.trys.pop();continue}y=i.call(a,c)}catch(_){y=[6,_],f=0}finally{d=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.FrappeCall=void 0;var s=function(){function a(i,c,d,f,h){this.appURL=i,this.axios=c,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.get=function(i,c){return t(this,void 0,void 0,function(){var d;return n(this,function(f){return d=new URLSearchParams,c&&Object.entries(c).forEach(function(h){var p=h[0],g=h[1];if(g!=null){var b=typeof g=="object"?JSON.stringify(g):g;d.set(p,b)}}),[2,this.axios.get("/api/method/".concat(i),{params:d}).then(function(h){return h.data}).catch(function(h){var p,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(p=h.response.data.message)!==null&&p!==void 0?p:"There was an error.",exception:(g=h.response.data.exception)!==null&&g!==void 0?g:""})})]})})},a.prototype.post=function(i,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/method/".concat(i),e({},c)).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.put=function(i,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.put("/api/method/".concat(i),e({},c)).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.delete=function(i,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.delete("/api/method/".concat(i),{params:c}).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a}();return Pr.FrappeCall=s,Pr}var Lr={},A_;function qS(){if(A_)return Lr;A_=1;var e=Lr&&Lr.__assign||function(){return e=Object.assign||function(a){for(var i,c=1,d=arguments.length;c<d;c++){i=arguments[c];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(a[f]=i[f])}return a},e.apply(this,arguments)},t=Lr&&Lr.__awaiter||function(a,i,c,d){function f(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function g(_){try{y(d.next(_))}catch(w){p(w)}}function b(_){try{y(d.throw(_))}catch(w){p(w)}}function y(_){_.done?h(_.value):f(_.value).then(g,b)}y((d=d.apply(a,i||[])).next())})},n=Lr&&Lr.__generator||function(a,i){var c={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(_){return b([y,_])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(c=0)),c;)try{if(d=1,f&&(h=y[0]&2?f.return:y[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,y[1])).done)return h;switch(f=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return c.label++,{value:y[1],done:!1};case 5:c.label++,f=y[1],y=[0];continue;case 7:y=c.ops.pop(),c.trys.pop();continue;default:if(h=c.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){c=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){c.label=y[1];break}if(y[0]===6&&c.label<h[1]){c.label=h[1],h=y;break}if(h&&c.label<h[2]){c.label=h[2],c.ops.push(y);break}h[2]&&c.ops.pop(),c.trys.pop();continue}y=i.call(a,c)}catch(_){y=[6,_],f=0}finally{d=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.FrappeDB=void 0;var s=function(){function a(i,c,d,f,h){this.appURL=i,this.axios=c,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.getDoc=function(i,c){return c===void 0&&(c=""),t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.get("/api/resource/".concat(i,"/").concat(encodeURIComponent(c))).then(function(f){return f.data.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while fetching the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getDocList=function(i,c){var d;return t(this,void 0,void 0,function(){var f,h,p,g,b,y,_,w,N,S,R;return n(this,function(D){return f={},c&&(h=c.fields,p=c.filters,g=c.orFilters,b=c.orderBy,y=c.limit,_=c.limit_start,w=c.groupBy,N=c.asDict,S=N===void 0?!0:N,R=b?"".concat(String(b==null?void 0:b.field)," ").concat((d=b==null?void 0:b.order)!==null&&d!==void 0?d:"asc"):"",f={fields:h?JSON.stringify(h):void 0,filters:p?JSON.stringify(p):void 0,or_filters:g?JSON.stringify(g):void 0,order_by:R,group_by:w,limit:y,limit_start:_,as_dict:S}),[2,this.axios.get("/api/resource/".concat(i),{params:f}).then(function(T){return T.data.data}).catch(function(T){var k,C;throw e(e({},T.response.data),{httpStatus:T.response.status,httpStatusText:T.response.statusText,message:"There was an error while fetching the documents.",exception:(C=(k=T.response.data.exception)!==null&&k!==void 0?k:T.response.data.exc_type)!==null&&C!==void 0?C:""})})]})})},a.prototype.createDoc=function(i,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/resource/".concat(i),e({},c)).then(function(f){return f.data.data}).catch(function(f){var h,p,g;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error while creating the document.",exception:(g=(p=f.response.data.exception)!==null&&p!==void 0?p:f.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},a.prototype.updateDoc=function(i,c,d){return t(this,void 0,void 0,function(){return n(this,function(f){return[2,this.axios.put("/api/resource/".concat(i,"/").concat(c&&encodeURIComponent(c)),e({},d)).then(function(h){return h.data.data}).catch(function(h){var p,g,b;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(p=h.response.data.message)!==null&&p!==void 0?p:"There was an error while updating the document.",exception:(b=(g=h.response.data.exception)!==null&&g!==void 0?g:h.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.deleteDoc=function(i,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.delete("/api/resource/".concat(i,"/").concat(c&&encodeURIComponent(c))).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while deleting the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getCount=function(i,c,d,f){return d===void 0&&(d=!1),f===void 0&&(f=!1),t(this,void 0,void 0,function(){var h;return n(this,function(p){return h={doctype:i,filters:[]},d&&(h.cache=d),f&&(h.debug=f),c&&(h.filters=c?JSON.stringify(c):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:h}).then(function(g){return g.data.message}).catch(function(g){var b,y;throw e(e({},g.response.data),{httpStatus:g.response.status,httpStatusText:g.response.statusText,message:"There was an error while getting the count.",exception:(y=(b=g.response.data.exception)!==null&&b!==void 0?b:g.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},a.prototype.getLastDoc=function(i,c){return t(this,void 0,void 0,function(){var d,f;return n(this,function(h){switch(h.label){case 0:return d={orderBy:{field:"creation",order:"desc"}},c&&(d=e(e({},d),c)),[4,this.getDocList(i,e(e({},d),{limit:1,fields:["name"]}))];case 1:return f=h.sent(),f.length>0?[2,this.getDoc(i,f[0].name)]:[2,{}]}})})},a.prototype.renameDoc=function(i,c,d,f){return f===void 0&&(f=!1),t(this,void 0,void 0,function(){return n(this,function(h){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:i,old_name:c,new_name:d,merge:f}).then(function(p){return p.data}).catch(function(p){var g,b,y;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:(g=p.response.data.message)!==null&&g!==void 0?g:"There was an error while renaming the document.",exception:(y=(b=p.response.data.exception)!==null&&b!==void 0?b:p.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},a.prototype.getValue=function(i,c,d,f,h,p){return f===void 0&&(f=!0),h===void 0&&(h=!1),p===void 0&&(p=null),t(this,void 0,void 0,function(){var g;return n(this,function(b){return g={doctype:i,fieldname:"[]",filters:[],as_dict:f,debug:h,parent:null},c&&(g.fieldname=typeof c=="object"?JSON.stringify(c):c),d&&(g.filters=d?JSON.stringify(d):void 0),p&&(g.parent=p),[2,this.axios.get("/api/method/frappe.client.get_value",{params:g}).then(function(y){return y.data}).catch(function(y){var _,w;throw e(e({},y.response.data),{httpStatus:y.response.status,httpStatusText:y.response.statusText,message:"There was an error while getting the value.",exception:(w=(_=y.response.data.exception)!==null&&_!==void 0?_:y.response.data.exc_type)!==null&&w!==void 0?w:""})})]})})},a.prototype.setValue=function(i,c,d,f){return t(this,void 0,void 0,function(){return n(this,function(h){return d!==null&&typeof d=="object"&&!Array.isArray(d)&&(f=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:i,name:c,fieldname:d,value:f}).then(function(p){return p.data}).catch(function(p){var g,b;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while setting the value.",exception:(b=(g=p.response.data.exception)!==null&&g!==void 0?g:p.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.getSingleValue=function(i,c){return t(this,void 0,void 0,function(){var d;return n(this,function(f){return d={doctype:i,field:c},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:d}).then(function(h){return h.data}).catch(function(h){var p,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(g=(p=h.response.data.exception)!==null&&p!==void 0?p:h.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},a.prototype.submit=function(i){return t(this,void 0,void 0,function(){return n(this,function(c){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:i}).then(function(d){return d.data.message}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:"There was an error while submitting the document.",exception:(h=(f=d.response.data.exception)!==null&&f!==void 0?f:d.response.data.exc_type)!==null&&h!==void 0?h:""})})]})})},a.prototype.cancel=function(i,c){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:i,name:c}).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while cancelling the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a}();return Lr.FrappeDB=s,Lr}var zr={},La={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var Ag,R_;function PO(){if(R_)return Ag;R_=1;function e(E,M){return function(){return E.apply(M,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:n}=Object,s=(E=>M=>{const B=t.call(M);return E[B]||(E[B]=B.slice(8,-1).toLowerCase())})(Object.create(null)),a=E=>(E=E.toLowerCase(),M=>s(M)===E),i=E=>M=>typeof M===E,{isArray:c}=Array,d=i("undefined");function f(E){return E!==null&&!d(E)&&E.constructor!==null&&!d(E.constructor)&&b(E.constructor.isBuffer)&&E.constructor.isBuffer(E)}const h=a("ArrayBuffer");function p(E){let M;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?M=ArrayBuffer.isView(E):M=E&&E.buffer&&h(E.buffer),M}const g=i("string"),b=i("function"),y=i("number"),_=E=>E!==null&&typeof E=="object",w=E=>E===!0||E===!1,N=E=>{if(s(E)!=="object")return!1;const M=n(E);return(M===null||M===Object.prototype||Object.getPrototypeOf(M)===null)&&!(Symbol.toStringTag in E)&&!(Symbol.iterator in E)},S=a("Date"),R=a("File"),D=a("Blob"),T=a("FileList"),k=E=>_(E)&&b(E.pipe),C=E=>{let M;return E&&(typeof FormData=="function"&&E instanceof FormData||b(E.append)&&((M=s(E))==="formdata"||M==="object"&&b(E.toString)&&E.toString()==="[object FormData]"))},A=a("URLSearchParams"),[P,U,K,$]=["ReadableStream","Request","Response","Headers"].map(a),G=E=>E.trim?E.trim():E.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function W(E,M,{allOwnKeys:B=!1}={}){if(E===null||typeof E>"u")return;let I,ue;if(typeof E!="object"&&(E=[E]),c(E))for(I=0,ue=E.length;I<ue;I++)M.call(null,E[I],I,E);else{const he=B?Object.getOwnPropertyNames(E):Object.keys(E),be=he.length;let Ue;for(I=0;I<be;I++)Ue=he[I],M.call(null,E[Ue],Ue,E)}}function ee(E,M){M=M.toLowerCase();const B=Object.keys(E);let I=B.length,ue;for(;I-- >0;)if(ue=B[I],M===ue.toLowerCase())return ue;return null}const Y=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:MO,H=E=>!d(E)&&E!==Y;function J(){const{caseless:E}=H(this)&&this||{},M={},B=(I,ue)=>{const he=E&&ee(M,ue)||ue;N(M[he])&&N(I)?M[he]=J(M[he],I):N(I)?M[he]=J({},I):c(I)?M[he]=I.slice():M[he]=I};for(let I=0,ue=arguments.length;I<ue;I++)arguments[I]&&W(arguments[I],B);return M}const te=(E,M,B,{allOwnKeys:I}={})=>(W(M,(ue,he)=>{B&&b(ue)?E[he]=e(ue,B):E[he]=ue},{allOwnKeys:I}),E),ce=E=>(E.charCodeAt(0)===65279&&(E=E.slice(1)),E),L=(E,M,B,I)=>{E.prototype=Object.create(M.prototype,I),E.prototype.constructor=E,Object.defineProperty(E,"super",{value:M.prototype}),B&&Object.assign(E.prototype,B)},le=(E,M,B,I)=>{let ue,he,be;const Ue={};if(M=M||{},E==null)return M;do{for(ue=Object.getOwnPropertyNames(E),he=ue.length;he-- >0;)be=ue[he],(!I||I(be,E,M))&&!Ue[be]&&(M[be]=E[be],Ue[be]=!0);E=B!==!1&&n(E)}while(E&&(!B||B(E,M))&&E!==Object.prototype);return M},re=(E,M,B)=>{E=String(E),(B===void 0||B>E.length)&&(B=E.length),B-=M.length;const I=E.indexOf(M,B);return I!==-1&&I===B},V=E=>{if(!E)return null;if(c(E))return E;let M=E.length;if(!y(M))return null;const B=new Array(M);for(;M-- >0;)B[M]=E[M];return B},ne=(E=>M=>E&&M instanceof E)(typeof Uint8Array<"u"&&n(Uint8Array)),xe=(E,M)=>{const B=(E&&E[Symbol.iterator]).call(E);let I;for(;(I=B.next())&&!I.done;){const ue=I.value;M.call(E,ue[0],ue[1])}},me=(E,M)=>{let B;const I=[];for(;(B=E.exec(M))!==null;)I.push(B);return I},Te=a("HTMLFormElement"),Oe=E=>E.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(M,B,I){return B.toUpperCase()+I}),He=(({hasOwnProperty:E})=>(M,B)=>E.call(M,B))(Object.prototype),Pe=a("RegExp"),rt=(E,M)=>{const B=Object.getOwnPropertyDescriptors(E),I={};W(B,(ue,he)=>{let be;(be=M(ue,he,E))!==!1&&(I[he]=be||ue)}),Object.defineProperties(E,I)},Ge=E=>{rt(E,(M,B)=>{if(b(E)&&["arguments","caller","callee"].indexOf(B)!==-1)return!1;const I=E[B];if(b(I)){if(M.enumerable=!1,"writable"in M){M.writable=!1;return}M.set||(M.set=()=>{throw Error("Can not rewrite read-only method '"+B+"'")})}})},mt=(E,M)=>{const B={},I=ue=>{ue.forEach(he=>{B[he]=!0})};return c(E)?I(E):I(String(E).split(M)),B},ze=()=>{},St=(E,M)=>E!=null&&Number.isFinite(E=+E)?E:M;function at(E){return!!(E&&b(E.append)&&E[Symbol.toStringTag]==="FormData"&&E[Symbol.iterator])}const Me=E=>{const M=new Array(10),B=(I,ue)=>{if(_(I)){if(M.indexOf(I)>=0)return;if(!("toJSON"in I)){M[ue]=I;const he=c(I)?[]:{};return W(I,(be,Ue)=>{const ct=B(be,ue+1);!d(ct)&&(he[Ue]=ct)}),M[ue]=void 0,he}}return I};return B(E,0)},st=a("AsyncFunction"),ft=E=>E&&(_(E)||b(E))&&b(E.then)&&b(E.catch),X=((E,M)=>E?setImmediate:M?((B,I)=>(Y.addEventListener("message",({source:ue,data:he})=>{ue===Y&&he===B&&I.length&&I.shift()()},!1),ue=>{I.push(ue),Y.postMessage(B,"*")}))(`axios@${Math.random()}`,[]):B=>setTimeout(B))(typeof setImmediate=="function",b(Y.postMessage)),fe=typeof queueMicrotask<"u"?queueMicrotask.bind(Y):typeof process<"u"&&process.nextTick||X;var q={isArray:c,isArrayBuffer:h,isBuffer:f,isFormData:C,isArrayBufferView:p,isString:g,isNumber:y,isBoolean:w,isObject:_,isPlainObject:N,isReadableStream:P,isRequest:U,isResponse:K,isHeaders:$,isUndefined:d,isDate:S,isFile:R,isBlob:D,isRegExp:Pe,isFunction:b,isStream:k,isURLSearchParams:A,isTypedArray:ne,isFileList:T,forEach:W,merge:J,extend:te,trim:G,stripBOM:ce,inherits:L,toFlatObject:le,kindOf:s,kindOfTest:a,endsWith:re,toArray:V,forEachEntry:xe,matchAll:me,isHTMLForm:Te,hasOwnProperty:He,hasOwnProp:He,reduceDescriptors:rt,freezeMethods:Ge,toObjectSet:mt,toCamelCase:Oe,noop:ze,toFiniteNumber:St,findKey:ee,global:Y,isContextDefined:H,isSpecCompliantForm:at,toJSONObject:Me,isAsyncFn:st,isThenable:ft,setImmediate:X,asap:fe};function Se(E,M,B,I,ue){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=E,this.name="AxiosError",M&&(this.code=M),B&&(this.config=B),I&&(this.request=I),ue&&(this.response=ue,this.status=ue.status?ue.status:null)}q.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const Re=Se.prototype,Ae={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(E=>{Ae[E]={value:E}}),Object.defineProperties(Se,Ae),Object.defineProperty(Re,"isAxiosError",{value:!0}),Se.from=(E,M,B,I,ue,he)=>{const be=Object.create(Re);return q.toFlatObject(E,be,function(Ue){return Ue!==Error.prototype},Ue=>Ue!=="isAxiosError"),Se.call(be,E.message,M,B,I,ue),be.cause=E,be.name=E.name,he&&Object.assign(be,he),be};var Be=null;function qe(E){return q.isPlainObject(E)||q.isArray(E)}function et(E){return q.endsWith(E,"[]")?E.slice(0,-2):E}function wt(E,M,B){return E?E.concat(M).map(function(I,ue){return I=et(I),!B&&ue?"["+I+"]":I}).join(B?".":""):M}function Sn(E){return q.isArray(E)&&!E.some(qe)}const Jt=q.toFlatObject(q,{},null,function(E){return/^is[A-Z]/.test(E)});function dn(E,M,B){if(!q.isObject(E))throw new TypeError("target must be an object");M=M||new FormData,B=q.toFlatObject(B,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Tt,dt){return!q.isUndefined(dt[Tt])});const I=B.metaTokens,ue=B.visitor||Fe,he=B.dots,be=B.indexes,Ue=(B.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(M);if(!q.isFunction(ue))throw new TypeError("visitor must be a function");function ct(Tt){if(Tt===null)return"";if(q.isDate(Tt))return Tt.toISOString();if(!Ue&&q.isBlob(Tt))throw new Se("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(Tt)||q.isTypedArray(Tt)?Ue&&typeof Blob=="function"?new Blob([Tt]):Buffer.from(Tt):Tt}function Fe(Tt,dt,nt){let rs=Tt;if(Tt&&!nt&&typeof Tt=="object"){if(q.endsWith(dt,"{}"))dt=I?dt:dt.slice(0,-2),Tt=JSON.stringify(Tt);else if(q.isArray(Tt)&&Sn(Tt)||(q.isFileList(Tt)||q.endsWith(dt,"[]"))&&(rs=q.toArray(Tt)))return dt=et(dt),rs.forEach(function($n,Nn){!(q.isUndefined($n)||$n===null)&&M.append(be===!0?wt([dt],Nn,he):be===null?dt:dt+"[]",ct($n))}),!1}return qe(Tt)?!0:(M.append(wt(nt,dt,he),ct(Tt)),!1)}const We=[],pt=Object.assign(Jt,{defaultVisitor:Fe,convertValue:ct,isVisitable:qe});function an(Tt,dt){if(!q.isUndefined(Tt)){if(We.indexOf(Tt)!==-1)throw Error("Circular reference detected in "+dt.join("."));We.push(Tt),q.forEach(Tt,function(nt,rs){(!(q.isUndefined(nt)||nt===null)&&ue.call(M,nt,q.isString(rs)?rs.trim():rs,dt,pt))===!0&&an(nt,dt?dt.concat(rs):[rs])}),We.pop()}}if(!q.isObject(E))throw new TypeError("data must be an object");return an(E),M}function vn(E){const M={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(E).replace(/[!'()~]|%20|%00/g,function(B){return M[B]})}function Xn(E,M){this._pairs=[],E&&dn(E,this,M)}const Gn=Xn.prototype;Gn.append=function(E,M){this._pairs.push([E,M])},Gn.toString=function(E){const M=E?function(B){return E.call(this,B,vn)}:vn;return this._pairs.map(function(B){return M(B[0])+"="+M(B[1])},"").join("&")};function cs(E){return encodeURIComponent(E).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Kn(E,M,B){if(!M)return E;const I=B&&B.encode||cs;q.isFunction(B)&&(B={serialize:B});const ue=B&&B.serialize;let he;if(ue?he=ue(M,B):he=q.isURLSearchParams(M)?M.toString():new Xn(M,B).toString(I),he){const be=E.indexOf("#");be!==-1&&(E=E.slice(0,be)),E+=(E.indexOf("?")===-1?"?":"&")+he}return E}class Cs{constructor(){this.handlers=[]}use(M,B,I){return this.handlers.push({fulfilled:M,rejected:B,synchronous:I?I.synchronous:!1,runWhen:I?I.runWhen:null}),this.handlers.length-1}eject(M){this.handlers[M]&&(this.handlers[M]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(M){q.forEach(this.handlers,function(B){B!==null&&M(B)})}}var Ye=Cs,Rt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ut=typeof URLSearchParams<"u"?URLSearchParams:Xn,Nt=typeof FormData<"u"?FormData:null,Qt=typeof Blob<"u"?Blob:null,Xe={isBrowser:!0,classes:{URLSearchParams:Ut,FormData:Nt,Blob:Qt},protocols:["http","https","file","blob","url","data"]};const _t=typeof window<"u"&&typeof document<"u",Vt=typeof navigator=="object"&&navigator||void 0,Wt=_t&&(!Vt||["ReactNative","NativeScript","NS"].indexOf(Vt.product)<0),Z=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ie=_t&&window.location.href||"http://localhost";var pe=Object.freeze({__proto__:null,hasBrowserEnv:_t,hasStandardBrowserWebWorkerEnv:Z,hasStandardBrowserEnv:Wt,navigator:Vt,origin:ie}),je=z(z({},pe),Xe);function De(E,M){return dn(E,new je.classes.URLSearchParams,Object.assign({visitor:function(B,I,ue,he){return je.isNode&&q.isBuffer(B)?(this.append(I,B.toString("base64")),!1):he.defaultVisitor.apply(this,arguments)}},M))}function $e(E){return q.matchAll(/\w+|\[(\w*)]/g,E).map(M=>M[0]==="[]"?"":M[1]||M[0])}function Ke(E){const M={},B=Object.keys(E);let I;const ue=B.length;let he;for(I=0;I<ue;I++)he=B[I],M[he]=E[he];return M}function tt(E){function M(B,I,ue,he){let be=B[he++];if(be==="__proto__")return!0;const Ue=Number.isFinite(+be),ct=he>=B.length;return be=!be&&q.isArray(ue)?ue.length:be,ct?(q.hasOwnProp(ue,be)?ue[be]=[ue[be],I]:ue[be]=I,!Ue):((!ue[be]||!q.isObject(ue[be]))&&(ue[be]=[]),M(B,I,ue[be],he)&&q.isArray(ue[be])&&(ue[be]=Ke(ue[be])),!Ue)}if(q.isFormData(E)&&q.isFunction(E.entries)){const B={};return q.forEachEntry(E,(I,ue)=>{M($e(I),ue,B,0)}),B}return null}function ut(E,M,B){if(q.isString(E))try{return(M||JSON.parse)(E),q.trim(E)}catch(I){if(I.name!=="SyntaxError")throw I}return(B||JSON.stringify)(E)}const kt={transitional:Rt,adapter:["xhr","http","fetch"],transformRequest:[function(E,M){const B=M.getContentType()||"",I=B.indexOf("application/json")>-1,ue=q.isObject(E);if(ue&&q.isHTMLForm(E)&&(E=new FormData(E)),q.isFormData(E))return I?JSON.stringify(tt(E)):E;if(q.isArrayBuffer(E)||q.isBuffer(E)||q.isStream(E)||q.isFile(E)||q.isBlob(E)||q.isReadableStream(E))return E;if(q.isArrayBufferView(E))return E.buffer;if(q.isURLSearchParams(E))return M.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),E.toString();let he;if(ue){if(B.indexOf("application/x-www-form-urlencoded")>-1)return De(E,this.formSerializer).toString();if((he=q.isFileList(E))||B.indexOf("multipart/form-data")>-1){const be=this.env&&this.env.FormData;return dn(he?{"files[]":E}:E,be&&new be,this.formSerializer)}}return ue||I?(M.setContentType("application/json",!1),ut(E)):E}],transformResponse:[function(E){const M=this.transitional||kt.transitional,B=M&&M.forcedJSONParsing,I=this.responseType==="json";if(q.isResponse(E)||q.isReadableStream(E))return E;if(E&&q.isString(E)&&(B&&!this.responseType||I)){const ue=!(M&&M.silentJSONParsing)&&I;try{return JSON.parse(E)}catch(he){if(ue)throw he.name==="SyntaxError"?Se.from(he,Se.ERR_BAD_RESPONSE,this,null,this.response):he}}return E}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:je.classes.FormData,Blob:je.classes.Blob},validateStatus:function(E){return E>=200&&E<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],E=>{kt.headers[E]={}});var it=kt;const vt=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Ct=E=>{const M={};let B,I,ue;return E&&E.split(`
`).forEach(function(he){ue=he.indexOf(":"),B=he.substring(0,ue).trim().toLowerCase(),I=he.substring(ue+1).trim(),!(!B||M[B]&&vt[B])&&(B==="set-cookie"?M[B]?M[B].push(I):M[B]=[I]:M[B]=M[B]?M[B]+", "+I:I)}),M};const fn=Symbol("internals");function On(E){return E&&String(E).trim().toLowerCase()}function rn(E){return E===!1||E==null?E:q.isArray(E)?E.map(rn):String(E)}function ot(E){const M=Object.create(null),B=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let I;for(;I=B.exec(E);)M[I[1]]=I[2];return M}const Et=E=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(E.trim());function Yt(E,M,B,I,ue){if(q.isFunction(I))return I.call(this,M,B);if(ue&&(M=B),!!q.isString(M)){if(q.isString(I))return M.indexOf(I)!==-1;if(q.isRegExp(I))return I.test(M)}}function wn(E){return E.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(M,B,I)=>B.toUpperCase()+I)}function Dn(E,M){const B=q.toCamelCase(" "+M);["get","set","has"].forEach(I=>{Object.defineProperty(E,I+B,{value:function(ue,he,be){return this[I].call(this,M,ue,he,be)},configurable:!0})})}class Qn{constructor(M){M&&this.set(M)}set(M,B,I){const ue=this;function he(Ue,ct,Fe){const We=On(ct);if(!We)throw new Error("header name must be a non-empty string");const pt=q.findKey(ue,We);(!pt||ue[pt]===void 0||Fe===!0||Fe===void 0&&ue[pt]!==!1)&&(ue[pt||ct]=rn(Ue))}const be=(Ue,ct)=>q.forEach(Ue,(Fe,We)=>he(Fe,We,ct));if(q.isPlainObject(M)||M instanceof this.constructor)be(M,B);else if(q.isString(M)&&(M=M.trim())&&!Et(M))be(Ct(M),B);else if(q.isHeaders(M))for(const[Ue,ct]of M.entries())he(ct,Ue,I);else M!=null&&he(B,M,I);return this}get(M,B){if(M=On(M),M){const I=q.findKey(this,M);if(I){const ue=this[I];if(!B)return ue;if(B===!0)return ot(ue);if(q.isFunction(B))return B.call(this,ue,I);if(q.isRegExp(B))return B.exec(ue);throw new TypeError("parser must be boolean|regexp|function")}}}has(M,B){if(M=On(M),M){const I=q.findKey(this,M);return!!(I&&this[I]!==void 0&&(!B||Yt(this,this[I],I,B)))}return!1}delete(M,B){const I=this;let ue=!1;function he(be){if(be=On(be),be){const Ue=q.findKey(I,be);Ue&&(!B||Yt(I,I[Ue],Ue,B))&&(delete I[Ue],ue=!0)}}return q.isArray(M)?M.forEach(he):he(M),ue}clear(M){const B=Object.keys(this);let I=B.length,ue=!1;for(;I--;){const he=B[I];(!M||Yt(this,this[he],he,M,!0))&&(delete this[he],ue=!0)}return ue}normalize(M){const B=this,I={};return q.forEach(this,(ue,he)=>{const be=q.findKey(I,he);if(be){B[be]=rn(ue),delete B[he];return}const Ue=M?wn(he):String(he).trim();Ue!==he&&delete B[he],B[Ue]=rn(ue),I[Ue]=!0}),this}concat(...M){return this.constructor.concat(this,...M)}toJSON(M){const B=Object.create(null);return q.forEach(this,(I,ue)=>{I!=null&&I!==!1&&(B[ue]=M&&q.isArray(I)?I.join(", "):I)}),B}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([M,B])=>M+": "+B).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(M){return M instanceof this?M:new this(M)}static concat(M,...B){const I=new this(M);return B.forEach(ue=>I.set(ue)),I}static accessor(M){const B=(this[fn]=this[fn]={accessors:{}}).accessors,I=this.prototype;function ue(he){const be=On(he);B[be]||(Dn(I,he),B[be]=!0)}return q.isArray(M)?M.forEach(ue):ue(M),this}}Qn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),q.reduceDescriptors(Qn.prototype,({value:E},M)=>{let B=M[0].toUpperCase()+M.slice(1);return{get:()=>E,set(I){this[B]=I}}}),q.freezeMethods(Qn);var ss=Qn;function or(E,M){const B=this||it,I=M||B,ue=ss.from(I.headers);let he=I.data;return q.forEach(E,function(be){he=be.call(B,he,ue.normalize(),M?M.status:void 0)}),ue.normalize(),he}function lr(E){return!!(E&&E.__CANCEL__)}function vs(E,M,B){Se.call(this,E!=null?E:"canceled",Se.ERR_CANCELED,M,B),this.name="CanceledError"}q.inherits(vs,Se,{__CANCEL__:!0});function cr(E,M,B){const I=B.config.validateStatus;!B.status||!I||I(B.status)?E(B):M(new Se("Request failed with status code "+B.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(B.status/100)-4],B.config,B.request,B))}function At(E){const M=/^([-+\w]{1,25})(:?\/\/|:)/.exec(E);return M&&M[1]||""}function An(E,M){E=E||10;const B=new Array(E),I=new Array(E);let ue=0,he=0,be;return M=M!==void 0?M:1e3,function(Ue){const ct=Date.now(),Fe=I[he];be||(be=ct),B[ue]=Ue,I[ue]=ct;let We=he,pt=0;for(;We!==ue;)pt+=B[We++],We=We%E;if(ue=(ue+1)%E,ue===he&&(he=(he+1)%E),ct-be<M)return;const an=Fe&&ct-Fe;return an?Math.round(pt*1e3/an):void 0}}function ba(E,M){let B=0,I=1e3/M,ue,he;const be=(Ue,ct=Date.now())=>{B=ct,ue=null,he&&(clearTimeout(he),he=null),E.apply(null,Ue)};return[(...Ue)=>{const ct=Date.now(),Fe=ct-B;Fe>=I?be(Ue,ct):(ue=Ue,he||(he=setTimeout(()=>{he=null,be(ue)},I-Fe)))},()=>ue&&be(ue)]}const us=(E,M,B=3)=>{let I=0;const ue=An(50,250);return ba(he=>{const be=he.loaded,Ue=he.lengthComputable?he.total:void 0,ct=be-I,Fe=ue(ct),We=be<=Ue;I=be;const pt={loaded:be,total:Ue,progress:Ue?be/Ue:void 0,bytes:ct,rate:Fe||void 0,estimated:Fe&&Ue&&We?(Ue-be)/Fe:void 0,event:he,lengthComputable:Ue!=null,[M?"download":"upload"]:!0};E(pt)},B)},mn=(E,M)=>{const B=E!=null;return[I=>M[0]({lengthComputable:B,total:E,loaded:I}),M[1]]},Or=E=>(...M)=>q.asap(()=>E(...M));var Io=je.hasStandardBrowserEnv?((E,M)=>B=>(B=new URL(B,je.origin),E.protocol===B.protocol&&E.host===B.host&&(M||E.port===B.port)))(new URL(je.origin),je.navigator&&/(msie|trident)/i.test(je.navigator.userAgent)):()=>!0,qo=je.hasStandardBrowserEnv?{write(E,M,B,I,ue,he){const be=[E+"="+encodeURIComponent(M)];q.isNumber(B)&&be.push("expires="+new Date(B).toGMTString()),q.isString(I)&&be.push("path="+I),q.isString(ue)&&be.push("domain="+ue),he===!0&&be.push("secure"),document.cookie=be.join("; ")},read(E){const M=document.cookie.match(new RegExp("(^|;\\s*)("+E+")=([^;]*)"));return M?decodeURIComponent(M[3]):null},remove(E){this.write(E,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Rs(E){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(E)}function md(E,M){return M?E.replace(/\/?\/$/,"")+"/"+M.replace(/^\/+/,""):E}function pd(E,M,B){let I=!Rs(M);return E&&I||B==!1?md(E,M):M}const Ii=E=>E instanceof ss?z({},E):E;function Gr(E,M){M=M||{};const B={};function I(Fe,We,pt,an){return q.isPlainObject(Fe)&&q.isPlainObject(We)?q.merge.call({caseless:an},Fe,We):q.isPlainObject(We)?q.merge({},We):q.isArray(We)?We.slice():We}function ue(Fe,We,pt,an){if(q.isUndefined(We)){if(!q.isUndefined(Fe))return I(void 0,Fe,pt,an)}else return I(Fe,We,pt,an)}function he(Fe,We){if(!q.isUndefined(We))return I(void 0,We)}function be(Fe,We){if(q.isUndefined(We)){if(!q.isUndefined(Fe))return I(void 0,Fe)}else return I(void 0,We)}function Ue(Fe,We,pt){if(pt in M)return I(Fe,We);if(pt in E)return I(void 0,Fe)}const ct={url:he,method:he,data:he,baseURL:be,transformRequest:be,transformResponse:be,paramsSerializer:be,timeout:be,timeoutMessage:be,withCredentials:be,withXSRFToken:be,adapter:be,responseType:be,xsrfCookieName:be,xsrfHeaderName:be,onUploadProgress:be,onDownloadProgress:be,decompress:be,maxContentLength:be,maxBodyLength:be,beforeRedirect:be,transport:be,httpAgent:be,httpsAgent:be,cancelToken:be,socketPath:be,responseEncoding:be,validateStatus:Ue,headers:(Fe,We,pt)=>ue(Ii(Fe),Ii(We),pt,!0)};return q.forEach(Object.keys(Object.assign({},E,M)),function(Fe){const We=ct[Fe]||ue,pt=We(E[Fe],M[Fe],Fe);q.isUndefined(pt)&&We!==Ue||(B[Fe]=pt)}),B}var qi=E=>{const M=Gr({},E);let{data:B,withXSRFToken:I,xsrfHeaderName:ue,xsrfCookieName:he,headers:be,auth:Ue}=M;M.headers=be=ss.from(be),M.url=Kn(pd(M.baseURL,M.url),E.params,E.paramsSerializer),Ue&&be.set("Authorization","Basic "+btoa((Ue.username||"")+":"+(Ue.password?unescape(encodeURIComponent(Ue.password)):"")));let ct;if(q.isFormData(B)){if(je.hasStandardBrowserEnv||je.hasStandardBrowserWebWorkerEnv)be.setContentType(void 0);else if((ct=be.getContentType())!==!1){const[Fe,...We]=ct?ct.split(";").map(pt=>pt.trim()).filter(Boolean):[];be.setContentType([Fe||"multipart/form-data",...We].join("; "))}}if(je.hasStandardBrowserEnv&&(I&&q.isFunction(I)&&(I=I(M)),I||I!==!1&&Io(M.url))){const Fe=ue&&he&&qo.read(he);Fe&&be.set(ue,Fe)}return M},Om=typeof XMLHttpRequest<"u"&&function(E){return new Promise(function(M,B){const I=qi(E);let ue=I.data;const he=ss.from(I.headers).normalize();let{responseType:be,onUploadProgress:Ue,onDownloadProgress:ct}=I,Fe,We,pt,an,Tt;function dt(){an&&an(),Tt&&Tt(),I.cancelToken&&I.cancelToken.unsubscribe(Fe),I.signal&&I.signal.removeEventListener("abort",Fe)}let nt=new XMLHttpRequest;nt.open(I.method.toUpperCase(),I.url,!0),nt.timeout=I.timeout;function rs(){if(!nt)return;const Nn=ss.from("getAllResponseHeaders"in nt&&nt.getAllResponseHeaders()),ur={data:!be||be==="text"||be==="json"?nt.responseText:nt.response,status:nt.status,statusText:nt.statusText,headers:Nn,config:E,request:nt};cr(function(Zi){M(Zi),dt()},function(Zi){B(Zi),dt()},ur),nt=null}"onloadend"in nt?nt.onloadend=rs:nt.onreadystatechange=function(){!nt||nt.readyState!==4||nt.status===0&&!(nt.responseURL&&nt.responseURL.indexOf("file:")===0)||setTimeout(rs)},nt.onabort=function(){nt&&(B(new Se("Request aborted",Se.ECONNABORTED,E,nt)),nt=null)},nt.onerror=function(){B(new Se("Network Error",Se.ERR_NETWORK,E,nt)),nt=null},nt.ontimeout=function(){let Nn=I.timeout?"timeout of "+I.timeout+"ms exceeded":"timeout exceeded";const ur=I.transitional||Rt;I.timeoutErrorMessage&&(Nn=I.timeoutErrorMessage),B(new Se(Nn,ur.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,E,nt)),nt=null},ue===void 0&&he.setContentType(null),"setRequestHeader"in nt&&q.forEach(he.toJSON(),function(Nn,ur){nt.setRequestHeader(ur,Nn)}),q.isUndefined(I.withCredentials)||(nt.withCredentials=!!I.withCredentials),be&&be!=="json"&&(nt.responseType=I.responseType),ct&&([pt,Tt]=us(ct,!0),nt.addEventListener("progress",pt)),Ue&&nt.upload&&([We,an]=us(Ue),nt.upload.addEventListener("progress",We),nt.upload.addEventListener("loadend",an)),(I.cancelToken||I.signal)&&(Fe=Nn=>{nt&&(B(!Nn||Nn.type?new vs(null,E,nt):Nn),nt.abort(),nt=null)},I.cancelToken&&I.cancelToken.subscribe(Fe),I.signal&&(I.signal.aborted?Fe():I.signal.addEventListener("abort",Fe)));const $n=At(I.url);if($n&&je.protocols.indexOf($n)===-1){B(new Se("Unsupported protocol "+$n+":",Se.ERR_BAD_REQUEST,E));return}nt.send(ue||null)})},Ms=(E,M)=>{const{length:B}=E=E?E.filter(Boolean):[];if(M||B){let I=new AbortController,ue;const he=function(Fe){if(!ue){ue=!0,Ue();const We=Fe instanceof Error?Fe:this.reason;I.abort(We instanceof Se?We:new vs(We instanceof Error?We.message:We))}};let be=M&&setTimeout(()=>{be=null,he(new Se(`timeout ${M} of ms exceeded`,Se.ETIMEDOUT))},M);const Ue=()=>{E&&(be&&clearTimeout(be),be=null,E.forEach(Fe=>{Fe.unsubscribe?Fe.unsubscribe(he):Fe.removeEventListener("abort",he)}),E=null)};E.forEach(Fe=>Fe.addEventListener("abort",he));const{signal:ct}=I;return ct.unsubscribe=()=>q.asap(Ue),ct}};const hc=function*(E,M){let B=E.byteLength;if(B<M){yield E;return}let I=0,ue;for(;I<B;)ue=I+M,yield E.slice(I,ue),I=ue},gd=function(E,M){return Sg(this,null,function*(){try{for(var B=v_(mc(E)),I,ue,he;I=!(ue=yield new po(B.next())).done;I=!1){const be=ue.value;yield*Ng(hc(be,M))}}catch(ue){he=[ue]}finally{try{I&&(ue=B.return)&&(yield new po(ue.call(B)))}finally{if(he)throw he[0]}}})},mc=function(E){return Sg(this,null,function*(){if(E[Symbol.asyncIterator]){yield*Ng(E);return}const M=E.getReader();try{for(;;){const{done:B,value:I}=yield new po(M.read());if(B)break;yield I}}finally{yield new po(M.cancel())}})},va=(E,M,B,I)=>{const ue=gd(E,M);let he=0,be,Ue=Fe=>{be||(be=!0,I&&I(Fe))};return new ReadableStream({pull(Fe){return ve(this,null,function*(){try{const{done:We,value:pt}=yield ue.next();if(We){Ue(),Fe.close();return}let an=pt.byteLength;if(B){let Tt=he+=an;B(Tt)}Fe.enqueue(new Uint8Array(pt))}catch(We){throw Ue(We),We}})},cancel(Fe){return Ue(Fe),ue.return()}},{highWaterMark:2})},Wi=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",pc=Wi&&typeof ReadableStream=="function",Ka=Wi&&(typeof TextEncoder=="function"?(E=>M=>E.encode(M))(new TextEncoder):E=>ve(null,null,function*(){return new Uint8Array(yield new Response(E).arrayBuffer())})),xd=(E,...M)=>{try{return!!E(...M)}catch(B){return!1}},yd=pc&&xd(()=>{let E=!1;const M=new Request(je.origin,{body:new ReadableStream,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!M}),gc=64*1024,Yi=pc&&xd(()=>q.isReadableStream(new Response("").body)),Wo={stream:Yi&&(E=>E.body)};Wi&&(E=>{["text","arrayBuffer","blob","formData","stream"].forEach(M=>{!Wo[M]&&(Wo[M]=q.isFunction(E[M])?B=>B[M]():(B,I)=>{throw new Se(`Response type '${M}' is not supported`,Se.ERR_NOT_SUPPORT,I)})})})(new Response);const Dm=E=>ve(null,null,function*(){if(E==null)return 0;if(q.isBlob(E))return E.size;if(q.isSpecCompliantForm(E))return(yield new Request(je.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(q.isArrayBufferView(E)||q.isArrayBuffer(E))return E.byteLength;if(q.isURLSearchParams(E)&&(E=E+""),q.isString(E))return(yield Ka(E)).byteLength}),Yo=(E,M)=>ve(null,null,function*(){const B=q.toFiniteNumber(E.getContentLength());return B!=null?B:Dm(M)});var xc=Wi&&(E=>ve(null,null,function*(){let{url:M,method:B,data:I,signal:ue,cancelToken:he,timeout:be,onDownloadProgress:Ue,onUploadProgress:ct,responseType:Fe,headers:We,withCredentials:pt="same-origin",fetchOptions:an}=qi(E);Fe=Fe?(Fe+"").toLowerCase():"text";let Tt=Ms([ue,he&&he.toAbortSignal()],be),dt;const nt=Tt&&Tt.unsubscribe&&(()=>{Tt.unsubscribe()});let rs;try{if(ct&&yd&&B!=="get"&&B!=="head"&&(rs=yield Yo(We,I))!==0){let Kr=new Request(M,{method:"POST",body:I,duplex:"half"}),ti;if(q.isFormData(I)&&(ti=Kr.headers.get("content-type"))&&We.setContentType(ti),Kr.body){const[Qo,Zo]=mn(rs,us(Or(ct)));I=va(Kr.body,gc,Qo,Zo)}}q.isString(pt)||(pt=pt?"include":"omit");const $n="credentials"in Request.prototype;dt=new Request(M,oe(z({},an),{signal:Tt,method:B.toUpperCase(),headers:We.normalize().toJSON(),body:I,duplex:"half",credentials:$n?pt:void 0}));let Nn=yield fetch(dt);const ur=Yi&&(Fe==="stream"||Fe==="response");if(Yi&&(Ue||ur&&nt)){const Kr={};["status","statusText","headers"].forEach(vd=>{Kr[vd]=Nn[vd]});const ti=q.toFiniteNumber(Nn.headers.get("content-length")),[Qo,Zo]=Ue&&mn(ti,us(Or(Ue),!0))||[];Nn=new Response(va(Nn.body,gc,Qo,()=>{Zo&&Zo(),nt&&nt()}),Kr)}Fe=Fe||"text";let Zi=yield Wo[q.findKey(Wo,Fe)||"text"](Nn,E);return!ur&&nt&&nt(),yield new Promise((Kr,ti)=>{cr(Kr,ti,{data:Zi,headers:ss.from(Nn.headers),status:Nn.status,statusText:Nn.statusText,config:E,request:dt})})}catch($n){throw nt&&nt(),$n&&$n.name==="TypeError"&&/fetch/i.test($n.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,E,dt),{cause:$n.cause||$n}):Se.from($n,$n&&$n.code,E,dt)}}));const Xi={http:Be,xhr:Om,fetch:xc};q.forEach(Xi,(E,M)=>{if(E){try{Object.defineProperty(E,"name",{value:M})}catch(B){}Object.defineProperty(E,"adapterName",{value:M})}});const wa=E=>`- ${E}`,Qa=E=>q.isFunction(E)||E===null||E===!1;var yc={getAdapter:E=>{E=q.isArray(E)?E:[E];const{length:M}=E;let B,I;const ue={};for(let he=0;he<M;he++){B=E[he];let be;if(I=B,!Qa(B)&&(I=Xi[(be=String(B)).toLowerCase()],I===void 0))throw new Se(`Unknown adapter '${be}'`);if(I)break;ue[be||"#"+he]=I}if(!I){const he=Object.entries(ue).map(([Ue,ct])=>`adapter ${Ue} `+(ct===!1?"is not supported by the environment":"is not available in the build"));let be=M?he.length>1?`since :
`+he.map(wa).join(`
`):" "+wa(he[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+be,"ERR_NOT_SUPPORT")}return I},adapters:Xi};function Gi(E){if(E.cancelToken&&E.cancelToken.throwIfRequested(),E.signal&&E.signal.aborted)throw new vs(null,E)}function bc(E){return Gi(E),E.headers=ss.from(E.headers),E.data=or.call(E,E.transformRequest),["post","put","patch"].indexOf(E.method)!==-1&&E.headers.setContentType("application/x-www-form-urlencoded",!1),yc.getAdapter(E.adapter||it.adapter)(E).then(function(M){return Gi(E),M.data=or.call(E,E.transformResponse,M),M.headers=ss.from(M.headers),M},function(M){return lr(M)||(Gi(E),M&&M.response&&(M.response.data=or.call(E,E.transformResponse,M.response),M.response.headers=ss.from(M.response.headers))),Promise.reject(M)})}const Za="1.8.2",Ps={};["object","boolean","number","function","string","symbol"].forEach((E,M)=>{Ps[E]=function(B){return typeof B===E||"a"+(M<1?"n ":" ")+E}});const Xo={};Ps.transitional=function(E,M,B){function I(ue,he){return"[Axios v"+Za+"] Transitional option '"+ue+"'"+he+(B?". "+B:"")}return(ue,he,be)=>{if(E===!1)throw new Se(I(he," has been removed"+(M?" in "+M:"")),Se.ERR_DEPRECATED);return M&&!Xo[he]&&(Xo[he]=!0,console.warn(I(he," has been deprecated since v"+M+" and will be removed in the near future"))),E?E(ue,he,be):!0}},Ps.spelling=function(E){return(M,B)=>(console.warn(`${B} is likely a misspelling of ${E}`),!0)};function Ki(E,M,B){if(typeof E!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const I=Object.keys(E);let ue=I.length;for(;ue-- >0;){const he=I[ue],be=M[he];if(be){const Ue=E[he],ct=Ue===void 0||be(Ue,he,E);if(ct!==!0)throw new Se("option "+he+" must be "+ct,Se.ERR_BAD_OPTION_VALUE);continue}if(B!==!0)throw new Se("Unknown option "+he,Se.ERR_BAD_OPTION)}}var Ys={assertOptions:Ki,validators:Ps};const Ls=Ys.validators;class _a{constructor(M){this.defaults=M,this.interceptors={request:new Ye,response:new Ye}}request(M,B){return ve(this,null,function*(){try{return yield this._request(M,B)}catch(I){if(I instanceof Error){let ue={};Error.captureStackTrace?Error.captureStackTrace(ue):ue=new Error;const he=ue.stack?ue.stack.replace(/^.+\n/,""):"";try{I.stack?he&&!String(I.stack).endsWith(he.replace(/^.+\n.+\n/,""))&&(I.stack+=`
`+he):I.stack=he}catch(be){}}throw I}})}_request(M,B){typeof M=="string"?(B=B||{},B.url=M):B=M||{},B=Gr(this.defaults,B);const{transitional:I,paramsSerializer:ue,headers:he}=B;I!==void 0&&Ys.assertOptions(I,{silentJSONParsing:Ls.transitional(Ls.boolean),forcedJSONParsing:Ls.transitional(Ls.boolean),clarifyTimeoutError:Ls.transitional(Ls.boolean)},!1),ue!=null&&(q.isFunction(ue)?B.paramsSerializer={serialize:ue}:Ys.assertOptions(ue,{encode:Ls.function,serialize:Ls.function},!0)),B.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?B.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:B.allowAbsoluteUrls=!0),Ys.assertOptions(B,{baseUrl:Ls.spelling("baseURL"),withXsrfToken:Ls.spelling("withXSRFToken")},!0),B.method=(B.method||this.defaults.method||"get").toLowerCase();let be=he&&q.merge(he.common,he[B.method]);he&&q.forEach(["delete","get","head","post","put","patch","common"],dt=>{delete he[dt]}),B.headers=ss.concat(be,he);const Ue=[];let ct=!0;this.interceptors.request.forEach(function(dt){typeof dt.runWhen=="function"&&dt.runWhen(B)===!1||(ct=ct&&dt.synchronous,Ue.unshift(dt.fulfilled,dt.rejected))});const Fe=[];this.interceptors.response.forEach(function(dt){Fe.push(dt.fulfilled,dt.rejected)});let We,pt=0,an;if(!ct){const dt=[bc.bind(this),void 0];for(dt.unshift.apply(dt,Ue),dt.push.apply(dt,Fe),an=dt.length,We=Promise.resolve(B);pt<an;)We=We.then(dt[pt++],dt[pt++]);return We}an=Ue.length;let Tt=B;for(pt=0;pt<an;){const dt=Ue[pt++],nt=Ue[pt++];try{Tt=dt(Tt)}catch(rs){nt.call(this,rs);break}}try{We=bc.call(this,Tt)}catch(dt){return Promise.reject(dt)}for(pt=0,an=Fe.length;pt<an;)We=We.then(Fe[pt++],Fe[pt++]);return We}getUri(M){M=Gr(this.defaults,M);const B=pd(M.baseURL,M.url,M.allowAbsoluteUrls);return Kn(B,M.params,M.paramsSerializer)}}q.forEach(["delete","get","head","options"],function(E){_a.prototype[E]=function(M,B){return this.request(Gr(B||{},{method:E,url:M,data:(B||{}).data}))}}),q.forEach(["post","put","patch"],function(E){function M(B){return function(I,ue,he){return this.request(Gr(he||{},{method:E,headers:B?{"Content-Type":"multipart/form-data"}:{},url:I,data:ue}))}}_a.prototype[E]=M(),_a.prototype[E+"Form"]=M(!0)});var Qi=_a;class Ja{constructor(M){if(typeof M!="function")throw new TypeError("executor must be a function.");let B;this.promise=new Promise(function(ue){B=ue});const I=this;this.promise.then(ue=>{if(!I._listeners)return;let he=I._listeners.length;for(;he-- >0;)I._listeners[he](ue);I._listeners=null}),this.promise.then=ue=>{let he;const be=new Promise(Ue=>{I.subscribe(Ue),he=Ue}).then(ue);return be.cancel=function(){I.unsubscribe(he)},be},M(function(ue,he,be){I.reason||(I.reason=new vs(ue,he,be),B(I.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(M){if(this.reason){M(this.reason);return}this._listeners?this._listeners.push(M):this._listeners=[M]}unsubscribe(M){if(!this._listeners)return;const B=this._listeners.indexOf(M);B!==-1&&this._listeners.splice(B,1)}toAbortSignal(){const M=new AbortController,B=I=>{M.abort(I)};return this.subscribe(B),M.signal.unsubscribe=()=>this.unsubscribe(B),M.signal}static source(){let M;return{token:new Ja(function(B){M=B}),cancel:M}}}var Go=Ja;function bd(E){return function(M){return E.apply(null,M)}}function ws(E){return q.isObject(E)&&E.isAxiosError===!0}const Dr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dr).forEach(([E,M])=>{Dr[M]=E});var Ko=Dr;function ei(E){const M=new Qi(E),B=e(Qi.prototype.request,M);return q.extend(B,Qi.prototype,M,{allOwnKeys:!0}),q.extend(B,M,null,{allOwnKeys:!0}),B.create=function(I){return ei(Gr(E,I))},B}const Rn=ei(it);return Rn.Axios=Qi,Rn.CanceledError=vs,Rn.CancelToken=Go,Rn.isCancel=lr,Rn.VERSION=Za,Rn.toFormData=dn,Rn.AxiosError=Se,Rn.Cancel=Rn.CanceledError,Rn.all=function(E){return Promise.all(E)},Rn.spread=bd,Rn.isAxiosError=ws,Rn.mergeConfig=Gr,Rn.AxiosHeaders=ss,Rn.formToJSON=E=>tt(q.isHTMLForm(E)?new FormData(E):E),Rn.getAdapter=yc.getAdapter,Rn.HttpStatusCode=Ko,Rn.default=Rn,Ag=Rn,Ag}var M_;function WS(){if(M_)return La;M_=1;var e=La&&La.__assign||function(){return e=Object.assign||function(a){for(var i,c=1,d=arguments.length;c<d;c++){i=arguments[c];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(a[f]=i[f])}return a},e.apply(this,arguments)};Object.defineProperty(La,"__esModule",{value:!0}),La.getRequestHeaders=La.getAxiosClient=void 0;var t=PO();function n(a,i,c,d,f){var h=t.default.create({baseURL:a,headers:s(i,d,c,a,f),withCredentials:!0});return h.interceptors.request.use(function(p){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(p.headers["X-Frappe-CSRF-Token"]=window.csrf_token),i&&d&&c&&(p.headers.Authorization="".concat(d," ").concat(c())),p}),h}La.getAxiosClient=n;function s(a,i,c,d,f){a===void 0&&(a=!1);var h={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return a&&i&&c&&(h.Authorization="".concat(i," ").concat(c())),typeof window<"u"&&typeof document<"u"&&(window.location&&(d&&d!==window.location.origin||(h["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(h["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},h),f!=null?f:{})}return La.getRequestHeaders=s,La}var P_;function YS(){if(P_)return zr;P_=1;var e=zr&&zr.__assign||function(){return e=Object.assign||function(i){for(var c,d=1,f=arguments.length;d<f;d++){c=arguments[d];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(i[h]=c[h])}return i},e.apply(this,arguments)},t=zr&&zr.__awaiter||function(i,c,d,f){function h(p){return p instanceof d?p:new d(function(g){g(p)})}return new(d||(d=Promise))(function(p,g){function b(w){try{_(f.next(w))}catch(N){g(N)}}function y(w){try{_(f.throw(w))}catch(N){g(N)}}function _(w){w.done?p(w.value):h(w.value).then(b,y)}_((f=f.apply(i,c||[])).next())})},n=zr&&zr.__generator||function(i,c){var d={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},f,h,p,g;return g={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function b(_){return function(w){return y([_,w])}}function y(_){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,_[0]&&(d=0)),d;)try{if(f=1,h&&(p=_[0]&2?h.return:_[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,_[1])).done)return p;switch(h=0,p&&(_=[_[0]&2,p.value]),_[0]){case 0:case 1:p=_;break;case 4:return d.label++,{value:_[1],done:!1};case 5:d.label++,h=_[1],_=[0];continue;case 7:_=d.ops.pop(),d.trys.pop();continue;default:if(p=d.trys,!(p=p.length>0&&p[p.length-1])&&(_[0]===6||_[0]===2)){d=0;continue}if(_[0]===3&&(!p||_[1]>p[0]&&_[1]<p[3])){d.label=_[1];break}if(_[0]===6&&d.label<p[1]){d.label=p[1],p=_;break}if(p&&d.label<p[2]){d.label=p[2],d.ops.push(_);break}p[2]&&d.ops.pop(),d.trys.pop();continue}_=c.call(i,d)}catch(w){_=[6,w],h=0}finally{f=p=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}};Object.defineProperty(zr,"__esModule",{value:!0}),zr.FrappeFileUpload=void 0;var s=WS(),a=function(){function i(c,d,f,h,p,g){this.appURL=c,this.axios=d,this.useToken=f!=null?f:!1,this.token=h,this.tokenType=p,this.customHeaders=g}return i.prototype.uploadFile=function(c,d,f,h){return h===void 0&&(h="upload_file"),t(this,void 0,void 0,function(){var p,g,b,y,_,w,N,S;return n(this,function(R){return p=new FormData,c&&p.append("file",c,c.name),g=d.isPrivate,b=d.folder,y=d.file_url,_=d.doctype,w=d.docname,N=d.fieldname,S=d.otherData,g&&p.append("is_private","1"),b&&p.append("folder",b),y&&p.append("file_url",y),_&&w&&(p.append("doctype",_),p.append("docname",w),N&&p.append("fieldname",N)),S&&Object.keys(S).forEach(function(D){var T=S[D];p.append(D,T)}),[2,this.axios.post("/api/method/".concat(h),p,{onUploadProgress:function(D){f&&f(D.loaded,D.total,D)},headers:e(e({},(0,s.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(D){var T,k;throw e(e({},D.response.data),{httpStatus:D.response.status,httpStatusText:D.response.statusText,message:(T=D.response.data.message)!==null&&T!==void 0?T:"There was an error while uploading the file.",exception:(k=D.response.data.exception)!==null&&k!==void 0?k:""})})]})})},i}();return zr.FrappeFileUpload=a,zr}var L_;function LO(){if(L_)return uu;L_=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.FrappeApp=void 0;var e=XS(),t=IS(),n=qS(),s=YS(),a=WS(),i=function(){function c(d,f,h,p){var g,b;this.url=d,this.name=h!=null?h:"FrappeApp",this.useToken=(g=f==null?void 0:f.useToken)!==null&&g!==void 0?g:!1,this.token=f==null?void 0:f.token,this.tokenType=(b=f==null?void 0:f.type)!==null&&b!==void 0?b:"Bearer",this.customHeaders=p,this.axios=(0,a.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return c.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},c.prototype.db=function(){return new n.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},c.prototype.file=function(){return new s.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},c.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},c}();return uu.FrappeApp=i,uu}var Ur={},z_;function zO(){if(z_)return Ur;z_=1;var e=Ur&&Ur.__assign||function(){return e=Object.assign||function(a){for(var i,c=1,d=arguments.length;c<d;c++){i=arguments[c];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(a[f]=i[f])}return a},e.apply(this,arguments)},t=Ur&&Ur.__awaiter||function(a,i,c,d){function f(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function g(_){try{y(d.next(_))}catch(w){p(w)}}function b(_){try{y(d.throw(_))}catch(w){p(w)}}function y(_){_.done?h(_.value):f(_.value).then(g,b)}y((d=d.apply(a,i||[])).next())})},n=Ur&&Ur.__generator||function(a,i){var c={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(_){return b([y,_])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(c=0)),c;)try{if(d=1,f&&(h=y[0]&2?f.return:y[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,y[1])).done)return h;switch(f=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return c.label++,{value:y[1],done:!1};case 5:c.label++,f=y[1],y=[0];continue;case 7:y=c.ops.pop(),c.trys.pop();continue;default:if(h=c.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){c=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){c.label=y[1];break}if(y[0]===6&&c.label<h[1]){c.label=h[1],h=y;break}if(h&&c.label<h[2]){c.label=h[2],c.ops.push(y);break}h[2]&&c.ops.pop(),c.trys.pop();continue}y=i.call(a,c)}catch(_){y=[6,_],f=0}finally{d=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.FrappeAuth=void 0;var s=function(){function a(i,c,d,f,h){this.appURL=i,this.axios=c,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.loginWithUsernamePassword=function(i){return t(this,void 0,void 0,function(){return n(this,function(c){return[2,this.axios.post("/api/method/login",{usr:i.username,pwd:i.password,otp:i.otp,tmp_id:i.tmp_id,device:i.device}).then(function(d){return d.data}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(f=d.response.data.message)!==null&&f!==void 0?f:"There was an error while logging in",exception:(h=d.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return n(this,function(i){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(c){return c.data.message}).catch(function(c){var d;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:"There was an error while fetching the logged in user",exception:(d=c.response.data.exception)!==null&&d!==void 0?d:""})})]})})},a.prototype.logout=function(){return t(this,void 0,void 0,function(){return n(this,function(i){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(c){var d,f;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:(d=c.response.data.message)!==null&&d!==void 0?d:"There was an error while logging out",exception:(f=c.response.data.exception)!==null&&f!==void 0?f:""})})]})})},a.prototype.forgetPassword=function(i){return t(this,void 0,void 0,function(){return n(this,function(c){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:i}).then(function(){}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(f=d.response.data.message)!==null&&f!==void 0?f:"There was an error sending password reset email.",exception:(h=d.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a}();return Ur.FrappeAuth=s,Ur}var U_;function XS(){return U_||(U_=1,function(e){var t=kl&&kl.__createBinding||(Object.create?function(s,a,i,c){c===void 0&&(c=i);var d=Object.getOwnPropertyDescriptor(a,i);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(s,c,d)}:function(s,a,i,c){c===void 0&&(c=i),s[c]=a[i]}),n=kl&&kl.__exportStar||function(s,a){for(var i in s)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,s,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(LO(),e),n(zO(),e),n(qS(),e),n(YS(),e),n(IS(),e)}(kl)),kl}var UO=XS(),F_={exports:{}},Rg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function FO(){if(B_)return Rg;B_=1;var e=se;function t(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,i=e.useLayoutEffect,c=e.useDebugValue;function d(g,b){var y=b(),_=s({inst:{value:y,getSnapshot:b}}),w=_[0].inst,N=_[1];return i(function(){w.value=y,w.getSnapshot=b,f(w)&&N({inst:w})},[g,y,b]),a(function(){return f(w)&&N({inst:w}),g(function(){f(w)&&N({inst:w})})},[g]),c(y),y}function f(g){var b=g.getSnapshot;g=g.value;try{var y=b();return!n(g,y)}catch(_){return!0}}function h(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Rg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Rg}var $_;function BO(){return $_||($_=1,F_.exports=FO()),F_.exports}var $O=BO();const GS=0,KS=1,QS=2,H_=3;var V_=Object.prototype.hasOwnProperty;function k0(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&k0(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(V_.call(e,n)&&++s&&!V_.call(t,n)||!(n in t)||!k0(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const Ia=new WeakMap,Ci=()=>{},Ns=Ci(),Ch=Object,Xt=e=>e===Ns,Br=e=>typeof e=="function",Wa=(e,t)=>z(z({},e),t),ZS=e=>Br(e.then),Mg={},jf={},kx="undefined",Zu=typeof window!=kx,O0=typeof document!=kx,HO=Zu&&"Deno"in window,VO=()=>Zu&&typeof window.requestAnimationFrame!=kx,JS=(e,t)=>{const n=Ia.get(e);return[()=>!Xt(t)&&e.get(t)||Mg,s=>{if(!Xt(t)){const a=e.get(t);t in jf||(jf[t]=a),n[5](t,Wa(a,s),a||Mg)}},n[6],()=>!Xt(t)&&t in jf?jf[t]:!Xt(t)&&e.get(t)||Mg]};let D0=!0;const IO=()=>D0,[A0,R0]=Zu&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ci,Ci],qO=()=>{const e=O0&&document.visibilityState;return Xt(e)||e!=="hidden"},WO=e=>(O0&&document.addEventListener("visibilitychange",e),A0("focus",e),()=>{O0&&document.removeEventListener("visibilitychange",e),R0("focus",e)}),YO=e=>{const t=()=>{D0=!0,e()},n=()=>{D0=!1};return A0("online",t),A0("offline",n),()=>{R0("online",t),R0("offline",n)}},XO={isOnline:IO,isVisible:qO},GO={initFocus:WO,initReconnect:YO},I_=!se.useId,Fu=!Zu||HO,KO=e=>VO()?window.requestAnimationFrame(e):setTimeout(e,1),ch=Fu?j.useEffect:j.useLayoutEffect,Pg=typeof navigator<"u"&&navigator.connection,q_=!Fu&&Pg&&(["slow-2g","2g"].includes(Pg.effectiveType)||Pg.saveData),Sf=new WeakMap,Lg=(e,t)=>Ch.prototype.toString.call(e)===`[object ${t}]`;let QO=0;const M0=e=>{const t=typeof e,n=Lg(e,"Date"),s=Lg(e,"RegExp"),a=Lg(e,"Object");let i,c;if(Ch(e)===e&&!n&&!s){if(i=Sf.get(e),i)return i;if(i=++QO+"~",Sf.set(e,i),Array.isArray(e)){for(i="@",c=0;c<e.length;c++)i+=M0(e[c])+",";Sf.set(e,i)}if(a){i="#";const d=Ch.keys(e).sort();for(;!Xt(c=d.pop());)Xt(e[c])||(i+=c+":"+M0(e[c])+",");Sf.set(e,i)}}else i=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return i},Ox=e=>{if(Br(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?M0(e):"",[e,t]};let ZO=0;const P0=()=>++ZO;function eN(...e){return ve(this,null,function*(){const[t,n,s,a]=e,i=Wa({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let c=i.populateCache;const d=i.rollbackOnError;let f=i.optimisticData;const h=b=>typeof d=="function"?d(b):d!==!1,p=i.throwOnError;if(Br(n)){const b=n,y=[],_=t.keys();for(const w of _)!/^\$(inf|sub)\$/.test(w)&&b(t.get(w)._k)&&y.push(w);return Promise.all(y.map(g))}return g(n);function g(b){return ve(this,null,function*(){const[y]=Ox(b);if(!y)return;const[_,w]=JS(t,y),[N,S,R,D]=Ia.get(t),T=()=>{const W=N[y];return(Br(i.revalidate)?i.revalidate(_().data,b):i.revalidate!==!1)&&(delete R[y],delete D[y],W&&W[0])?W[0](QS).then(()=>_().data):_().data};if(e.length<3)return T();let k=s,C;const A=P0();S[y]=[A,0];const P=!Xt(f),U=_(),K=U.data,$=U._c,G=Xt($)?K:$;if(P&&(f=Br(f)?f(G,K):f,w({data:f,_c:G})),Br(k))try{k=k(G)}catch(W){C=W}if(k&&ZS(k))if(k=yield k.catch(W=>{C=W}),A!==S[y][0]){if(C)throw C;return k}else C&&P&&h(C)&&(c=!0,w({data:G,_c:Ns}));if(c&&!C)if(Br(c)){const W=c(k,G);w({data:W,error:Ns,_c:Ns})}else w({data:k,error:Ns,_c:Ns});if(S[y][1]=P0(),Promise.resolve(T()).then(()=>{w({_c:Ns})}),C){if(p)throw C;return}return k})}})}const W_=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},tN=(e,t)=>{if(!Ia.has(e)){const n=Wa(GO,t),s=Object.create(null),a=eN.bind(Ns,e);let i=Ci;const c=Object.create(null),d=(p,g)=>{const b=c[p]||[];return c[p]=b,b.push(g),()=>b.splice(b.indexOf(g),1)},f=(p,g,b)=>{e.set(p,g);const y=c[p];if(y)for(const _ of y)_(g,b)},h=()=>{if(!Ia.has(e)&&(Ia.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,f,d]),!Fu)){const p=n.initFocus(setTimeout.bind(Ns,W_.bind(Ns,s,GS))),g=n.initReconnect(setTimeout.bind(Ns,W_.bind(Ns,s,KS)));i=()=>{p&&p(),g&&g(),Ia.delete(e)}}};return h(),[e,a,h,i]}return[e,Ia.get(e)[4]]},JO=(e,t,n,s,a)=>{const i=n.errorRetryCount,c=a.retryCount,d=~~((Math.random()+.5)*(1<<(c<8?c:8)))*n.errorRetryInterval;!Xt(i)&&c>i||setTimeout(s,d,a)},eD=k0,[Dx,tD]=tN(new Map),nN=Wa({onLoadingSlow:Ci,onSuccess:Ci,onError:Ci,onErrorRetry:JO,onDiscarded:Ci,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:q_?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:q_?5e3:3e3,compare:eD,isPaused:()=>!1,cache:Dx,mutate:tD,fallback:{}},XO),sN=(e,t)=>{const n=Wa(e,t);if(t){const{use:s,fallback:a}=e,{use:i,fallback:c}=t;s&&i&&(n.use=s.concat(i)),a&&c&&(n.fallback=Wa(a,c))}return n},L0=j.createContext({}),nD=e=>{const{value:t}=e,n=j.useContext(L0),s=Br(t),a=j.useMemo(()=>s?t(n):t,[s,n,t]),i=j.useMemo(()=>s?a:sN(n,a),[s,n,a]),c=a&&a.provider,d=j.useRef(Ns);c&&!d.current&&(d.current=tN(c(i.cache||Dx),a));const f=d.current;return f&&(i.cache=f[0],i.mutate=f[1]),ch(()=>{if(f)return f[2]&&f[2](),f[3]},[]),j.createElement(L0.Provider,Wa(e,{value:i}))},sD="$inf$",rN=Zu&&window.__SWR_DEVTOOLS_USE__,rD=rN?window.__SWR_DEVTOOLS_USE__:[],aD=()=>{rN&&(window.__SWR_DEVTOOLS_REACT__=se)},iD=e=>Br(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],oD=()=>Wa(nN,j.useContext(L0)),lD=e=>(t,n,s)=>e(t,n&&((...a)=>{const[i]=Ox(t),[,,,c]=Ia.get(Dx);if(i.startsWith(sD))return n(...a);const d=c[i];return Xt(d)?n(...a):(delete c[i],d)}),s),cD=rD.concat(lD),uD=e=>function(...t){const n=oD(),[s,a,i]=iD(t),c=sN(n,i);let d=e;const{use:f}=c,h=(f||[]).concat(cD);for(let p=h.length;p--;)d=h[p](d);return d(s,a||c.fetcher||null,c)},dD=(e,t,n)=>{const s=t[e]||(t[e]=[]);return s.push(n),()=>{const a=s.indexOf(n);a>=0&&(s[a]=s[s.length-1],s.pop())}};aD();const zg=se.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),Ug={dedupe:!0},fD=(e,t,n)=>{const{cache:s,compare:a,suspense:i,fallbackData:c,revalidateOnMount:d,revalidateIfStale:f,refreshInterval:h,refreshWhenHidden:p,refreshWhenOffline:g,keepPreviousData:b}=n,[y,_,w,N]=Ia.get(s),[S,R]=Ox(e),D=j.useRef(!1),T=j.useRef(!1),k=j.useRef(S),C=j.useRef(t),A=j.useRef(n),P=()=>A.current,U=()=>P().isVisible()&&P().isOnline(),[K,$,G,W]=JS(s,S),ee=j.useRef({}).current,Y=Xt(c)?Xt(n.fallback)?Ns:n.fallback[S]:c,H=(Ge,mt)=>{for(const ze in ee){const St=ze;if(St==="data"){if(!a(Ge[St],mt[St])&&(!Xt(Ge[St])||!a(xe,mt[St])))return!1}else if(mt[St]!==Ge[St])return!1}return!0},J=j.useMemo(()=>{const Ge=!S||!t?!1:Xt(d)?P().isPaused()||i?!1:f!==!1:d,mt=ft=>{const X=Wa(ft);return delete X._k,Ge?z({isValidating:!0,isLoading:!0},X):X},ze=K(),St=W(),at=mt(ze),Me=ze===St?at:mt(St);let st=at;return[()=>{const ft=mt(K());return H(ft,st)?(st.data=ft.data,st.isLoading=ft.isLoading,st.isValidating=ft.isValidating,st.error=ft.error,st):(st=ft,ft)},()=>Me]},[s,S]),te=$O.useSyncExternalStore(j.useCallback(Ge=>G(S,(mt,ze)=>{H(ze,mt)||Ge()}),[s,S]),J[0],J[1]),ce=!D.current,L=y[S]&&y[S].length>0,le=te.data,re=Xt(le)?Y&&ZS(Y)?zg(Y):Y:le,V=te.error,ne=j.useRef(re),xe=b?Xt(le)?Xt(ne.current)?re:ne.current:le:re,me=L&&!Xt(V)?!1:ce&&!Xt(d)?d:P().isPaused()?!1:i?Xt(re)?!1:f:Xt(re)||f,Te=!!(S&&t&&ce&&me),Oe=Xt(te.isValidating)?Te:te.isValidating,He=Xt(te.isLoading)?Te:te.isLoading,Pe=j.useCallback(Ge=>ve(null,null,function*(){const mt=C.current;if(!S||!mt||T.current||P().isPaused())return!1;let ze,St,at=!0;const Me=Ge||{},st=!w[S]||!Me.dedupe,ft=()=>I_?!T.current&&S===k.current&&D.current:S===k.current,X={isValidating:!1,isLoading:!1},fe=()=>{$(X)},q=()=>{const Re=w[S];Re&&Re[1]===St&&delete w[S]},Se={isValidating:!0};Xt(K().data)&&(Se.isLoading=!0);try{if(st&&($(Se),n.loadingTimeout&&Xt(K().data)&&setTimeout(()=>{at&&ft()&&P().onLoadingSlow(S,n)},n.loadingTimeout),w[S]=[mt(R),P0()]),[ze,St]=w[S],ze=yield ze,st&&setTimeout(q,n.dedupingInterval),!w[S]||w[S][1]!==St)return st&&ft()&&P().onDiscarded(S),!1;X.error=Ns;const Re=_[S];if(!Xt(Re)&&(St<=Re[0]||St<=Re[1]||Re[1]===0))return fe(),st&&ft()&&P().onDiscarded(S),!1;const Ae=K().data;X.data=a(Ae,ze)?Ae:ze,st&&ft()&&P().onSuccess(ze,S,n)}catch(Re){q();const Ae=P(),{shouldRetryOnError:Be}=Ae;Ae.isPaused()||(X.error=Re,st&&ft()&&(Ae.onError(Re,S,Ae),(Be===!0||Br(Be)&&Be(Re))&&(!P().revalidateOnFocus||!P().revalidateOnReconnect||U())&&Ae.onErrorRetry(Re,S,Ae,qe=>{const et=y[S];et&&et[0]&&et[0](H_,qe)},{retryCount:(Me.retryCount||0)+1,dedupe:!0})))}return at=!1,fe(),!0}),[S,s]),rt=j.useCallback((...Ge)=>eN(s,k.current,...Ge),[]);if(ch(()=>{C.current=t,A.current=n,Xt(le)||(ne.current=le)}),ch(()=>{if(!S)return;const Ge=Pe.bind(Ns,Ug);let mt=0;P().revalidateOnFocus&&(mt=Date.now()+P().focusThrottleInterval);const ze=dD(S,y,(St,at={})=>{if(St==GS){const Me=Date.now();P().revalidateOnFocus&&Me>mt&&U()&&(mt=Me+P().focusThrottleInterval,Ge())}else if(St==KS)P().revalidateOnReconnect&&U()&&Ge();else{if(St==QS)return Pe();if(St==H_)return Pe(at)}});return T.current=!1,k.current=S,D.current=!0,$({_k:R}),me&&(Xt(re)||Fu?Ge():KO(Ge)),()=>{T.current=!0,ze()}},[S]),ch(()=>{let Ge;function mt(){const St=Br(h)?h(K().data):h;St&&Ge!==-1&&(Ge=setTimeout(ze,St))}function ze(){!K().error&&(p||P().isVisible())&&(g||P().isOnline())?Pe(Ug).then(mt):mt()}return mt(),()=>{Ge&&(clearTimeout(Ge),Ge=-1)}},[h,p,g,S]),j.useDebugValue(xe),i&&Xt(re)&&S){if(!I_&&Fu)throw new Error("Fallback data is required when using Suspense in SSR.");C.current=t,A.current=n,T.current=!1;const Ge=N[S];if(!Xt(Ge)){const mt=rt(Ge);zg(mt)}if(Xt(V)){const mt=Pe(Ug);Xt(xe)||(mt.status="fulfilled",mt.value=!0),zg(mt)}else throw V}return{mutate:rt,get data(){return ee.data=!0,xe},get error(){return ee.error=!0,V},get isValidating(){return ee.isValidating=!0,Oe},get isLoading(){return ee.isLoading=!0,He}}},hD=Ch.defineProperty(nD,"defaultValue",{value:nN}),sm=uD(fD);Promise.resolve();const ha=Object.create(null);ha.open="0";ha.close="1";ha.ping="2";ha.pong="3";ha.message="4";ha.upgrade="5";ha.noop="6";const uh=Object.create(null);Object.keys(ha).forEach(e=>{uh[ha[e]]=e});const z0={type:"error",data:"parser error"},aN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",iN=typeof ArrayBuffer=="function",oN=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ax=({type:e,data:t},n,s)=>aN&&t instanceof Blob?n?s(t):Y_(t,s):iN&&(t instanceof ArrayBuffer||oN(t))?n?s(t):Y_(new Blob([t]),s):s(ha[e]+(t||"")),Y_=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function X_(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Fg;function mD(e,t){if(aN&&e.data instanceof Blob)return e.data.arrayBuffer().then(X_).then(t);if(iN&&(e.data instanceof ArrayBuffer||oN(e.data)))return t(X_(e.data));Ax(e,!1,n=>{Fg||(Fg=new TextEncoder),t(Fg.encode(n))})}const G_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<G_.length;e++)Tu[G_.charCodeAt(e)]=e;const pD=e=>{let t=e.length*.75,n=e.length,s,a=0,i,c,d,f;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),p=new Uint8Array(h);for(s=0;s<n;s+=4)i=Tu[e.charCodeAt(s)],c=Tu[e.charCodeAt(s+1)],d=Tu[e.charCodeAt(s+2)],f=Tu[e.charCodeAt(s+3)],p[a++]=i<<2|c>>4,p[a++]=(c&15)<<4|d>>2,p[a++]=(d&3)<<6|f&63;return h},gD=typeof ArrayBuffer=="function",Rx=(e,t)=>{if(typeof e!="string")return{type:"message",data:lN(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:xD(e.substring(1),t)}:uh[n]?e.length>1?{type:uh[n],data:e.substring(1)}:{type:uh[n]}:z0},xD=(e,t)=>{if(gD){const n=pD(e);return lN(n,t)}else return{base64:!0,data:e}},lN=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},cN="",yD=(e,t)=>{const n=e.length,s=new Array(n);let a=0;e.forEach((i,c)=>{Ax(i,!1,d=>{s[c]=d,++a===n&&t(s.join(cN))})})},bD=(e,t)=>{const n=e.split(cN),s=[];for(let a=0;a<n.length;a++){const i=Rx(n[a],t);if(s.push(i),i.type==="error")break}return s};function vD(){return new TransformStream({transform(e,t){mD(e,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,s)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let Bg;function Nf(e){return e.reduce((t,n)=>t+n.length,0)}function Ef(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let a=0;a<t;a++)n[a]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function wD(e,t){Bg||(Bg=new TextDecoder);const n=[];let s=0,a=-1,i=!1;return new TransformStream({transform(c,d){for(n.push(c);;){if(s===0){if(Nf(n)<1)break;const f=Ef(n,1);i=(f[0]&128)===128,a=f[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(Nf(n)<2)break;const f=Ef(n,2);a=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),s=3}else if(s===2){if(Nf(n)<8)break;const f=Ef(n,8),h=new DataView(f.buffer,f.byteOffset,f.length),p=h.getUint32(0);if(p>Math.pow(2,21)-1){d.enqueue(z0);break}a=p*Math.pow(2,32)+h.getUint32(4),s=3}else{if(Nf(n)<a)break;const f=Ef(n,a);d.enqueue(Rx(i?f:Bg.decode(f),t)),s=0}if(a===0||a>e){d.enqueue(z0);break}}}})}const uN=4;function Wn(e){if(e)return _D(e)}function _D(e){for(var t in Wn.prototype)e[t]=Wn.prototype[t];return e}Wn.prototype.on=Wn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Wn.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Wn.prototype.off=Wn.prototype.removeListener=Wn.prototype.removeAllListeners=Wn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===t||s.fn===t){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Wn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,t)}return this};Wn.prototype.emitReserved=Wn.prototype.emit;Wn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Wn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const wr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function dN(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const jD=wr.setTimeout,SD=wr.clearTimeout;function rm(e,t){t.useNativeTimers?(e.setTimeoutFn=jD.bind(wr),e.clearTimeoutFn=SD.bind(wr)):(e.setTimeoutFn=wr.setTimeout.bind(wr),e.clearTimeoutFn=wr.clearTimeout.bind(wr))}const ND=1.33;function ED(e){return typeof e=="string"?TD(e):Math.ceil((e.byteLength||e.size)*ND)}function TD(e){let t=0,n=0;for(let s=0,a=e.length;s<a;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function CD(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function kD(e){let t={},n=e.split("&");for(let s=0,a=n.length;s<a;s++){let i=n[s].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class OD extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class Mx extends Wn{constructor(t){super(),this.writable=!1,rm(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,s){return super.emitReserved("error",new OD(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Rx(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=CD(t);return n.length?"?"+n:""}}const fN="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),U0=64,DD={};let K_=0,Tf=0,Q_;function Z_(e){let t="";do t=fN[e%U0]+t,e=Math.floor(e/U0);while(e>0);return t}function hN(){const e=Z_(+new Date);return e!==Q_?(K_=0,Q_=e):e+"."+Z_(K_++)}for(;Tf<U0;Tf++)DD[fN[Tf]]=Tf;let mN=!1;try{mN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const AD=mN;function pN(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||AD))return new XMLHttpRequest}catch(n){}if(!t)try{return new wr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(n){}}function RD(){}const MD=function(){return new pN({xdomain:!1}).responseType!=null}();class PD extends Mx{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}const n=t&&t.forceBase64;this.supportsBinary=MD&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};bD(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,yD(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=hN()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Vl(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}let Vl=class dh extends Wn{constructor(t,n){super(),rm(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=dN(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const s=this.xhr=new pN(n);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this.opts.extraHeaders[a])}}catch(a){}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{s.setRequestHeader("Accept","*/*")}catch(a){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this.opts.cookieJar)===null||a===void 0||a.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(a){this.setTimeoutFn(()=>{this.onError(a)},0);return}typeof document<"u"&&(this.index=dh.requestsCount++,dh.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=RD,t)try{this.xhr.abort()}catch(n){}typeof document<"u"&&delete dh.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Vl.requestsCount=0;Vl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",J_);else if(typeof addEventListener=="function"){const e="onpagehide"in wr?"pagehide":"unload";addEventListener(e,J_,!1)}}function J_(){for(let e in Vl.requests)Vl.requests.hasOwnProperty(e)&&Vl.requests[e].abort()}const Px=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Cf=wr.WebSocket||wr.MozWebSocket,ej=!0,LD="arraybuffer",tj=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class zD extends Mx{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=tj?{}:dN(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=ej&&!tj?n?new Cf(t,n):new Cf(t):new Cf(t,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;Ax(s,this.supportsBinary,i=>{try{ej&&this.ws.send(i)}catch(c){}a&&Px(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=hN()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Cf}}class UD extends Mx{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=wD(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),a=vD();a.readable.pipeTo(t.writable),this.writer=a.writable.getWriter();const i=()=>{s.read().then(({done:d,value:f})=>{d||(this.onPacket(f),i())}).catch(d=>{})};i();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this.writer.write(c).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;this.writer.write(s).then(()=>{a&&Px(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const FD={websocket:zD,webtransport:UD,polling:PD},BD=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,$D=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function F0(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let a=BD.exec(e||""),i={},c=14;for(;c--;)i[$D[c]]=a[c]||"";return n!=-1&&s!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=HD(i,i.path),i.queryKey=VD(i,i.query),i}function HD(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function VD(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,i){a&&(n[a]=i)}),n}let gN=class Ul extends Wn{constructor(t,n={}){super(),this.binaryType=LD,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=F0(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=F0(n.host).host),rm(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=kD(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=uN,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new FD[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Ul.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(n){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),s=!1;Ul.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!s)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ul.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=n.name,this.emitReserved("upgradeError",b)}}))};function i(){s||(s=!0,p(),n.close(),n=null)}const c=g=>{const b=new Error("probe error: "+g);b.transport=n.name,i(),this.emitReserved("upgradeError",b)};function d(){c("transport closed")}function f(){c("socket closed")}function h(g){n&&g.name!==n.name&&i()}const p=()=>{n.removeListener("open",a),n.removeListener("error",c),n.removeListener("close",d),this.off("close",f),this.off("upgrading",h)};n.once("open",a),n.once("error",c),n.once("close",d),this.once("close",f),this.once("upgrading",h),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Ul.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(t+=ED(s)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const i={type:t,data:n,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){Ul.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const a=t.length;for(;s<a;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}};gN.protocol=uN;function ID(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=F0(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const a=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+t,s.href=s.protocol+"://"+a+(n&&n.port===s.port?"":":"+s.port),s}const qD=typeof ArrayBuffer=="function",WD=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,xN=Object.prototype.toString,YD=typeof Blob=="function"||typeof Blob<"u"&&xN.call(Blob)==="[object BlobConstructor]",XD=typeof File=="function"||typeof File<"u"&&xN.call(File)==="[object FileConstructor]";function Lx(e){return qD&&(e instanceof ArrayBuffer||WD(e))||YD&&e instanceof Blob||XD&&e instanceof File}function fh(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(fh(e[n]))return!0;return!1}if(Lx(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return fh(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&fh(e[n]))return!0;return!1}function GD(e){const t=[],n=e.data,s=e;return s.data=B0(n,t),s.attachments=t.length,{packet:s,buffers:t}}function B0(e,t){if(!e)return e;if(Lx(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=B0(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=B0(e[s],t));return n}return e}function KD(e,t){return e.data=$0(e.data,t),delete e.attachments,e}function $0(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=$0(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=$0(e[n],t));return e}const QD=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ZD=5;var It;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(It||(It={}));class JD{constructor(t){this.replacer=t}encode(t){return(t.type===It.EVENT||t.type===It.ACK)&&fh(t)?this.encodeAsBinary({type:t.type===It.EVENT?It.BINARY_EVENT:It.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===It.BINARY_EVENT||t.type===It.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=GD(t),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}function nj(e){return Object.prototype.toString.call(e)==="[object Object]"}class zx extends Wn{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===It.BINARY_EVENT;s||n.type===It.BINARY_ACK?(n.type=s?It.EVENT:It.ACK,this.reconstructor=new eA(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Lx(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(It[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===It.BINARY_EVENT||s.type===It.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const c=t.substring(i,n);if(c!=Number(c)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(c)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(i,n)}else s.nsp="/";const a=t.charAt(n+1);if(a!==""&&Number(a)==a){const i=n+1;for(;++n;){const c=t.charAt(n);if(c==null||Number(c)!=c){--n;break}if(n===t.length)break}s.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(zx.isPayloadValid(s.type,i))s.data=i;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(n){return!1}}static isPayloadValid(t,n){switch(t){case It.CONNECT:return nj(n);case It.DISCONNECT:return n===void 0;case It.CONNECT_ERROR:return typeof n=="string"||nj(n);case It.EVENT:case It.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&QD.indexOf(n[0])===-1);case It.ACK:case It.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class eA{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=KD(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const tA=Object.freeze(Object.defineProperty({__proto__:null,Decoder:zx,Encoder:JD,get PacketType(){return It},protocol:ZD},Symbol.toStringTag,{value:"Module"}));function Fr(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const nA=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class yN extends Wn{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Fr(t,"open",this.onopen.bind(this)),Fr(t,"packet",this.onpacket.bind(this)),Fr(t,"error",this.onerror.bind(this)),Fr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(nA.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:It.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const i=this.ids++,c=n.pop();this._registerAckCallback(i,c),s.id=i}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},a);this.acks[t]=(...c)=>{this.io.clearTimeoutFn(i),n.apply(this,[null,...c])}}emitWithAck(t,...n){const s=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((a,i)=>{n.push((c,d)=>s?c?i(c):a(d):a(c)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...i)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...i)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:It.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case It.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case It.EVENT:case It.BINARY_EVENT:this.onevent(t);break;case It.ACK:case It.BINARY_ACK:this.onack(t);break;case It.DISCONNECT:this.ondisconnect();break;case It.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:It.ACK,id:t,data:a}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:It.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function ec(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ec.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};ec.prototype.reset=function(){this.attempts=0};ec.prototype.setMin=function(e){this.ms=e};ec.prototype.setMax=function(e){this.max=e};ec.prototype.setJitter=function(e){this.jitter=e};class H0 extends Wn{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,rm(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new ec({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const a=n.parser||tA;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new gN(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=Fr(n,"open",function(){s.onopen(),t&&t()}),i=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),t?t(d):this.maybeReconnectOnOpen()},c=Fr(n,"error",i);if(this._timeout!==!1){const d=this._timeout,f=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),n.close()},d);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(a),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Fr(t,"ping",this.onping.bind(this)),Fr(t,"data",this.ondata.bind(this)),Fr(t,"error",this.onerror.bind(this)),Fr(t,"close",this.onclose.bind(this)),Fr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Px(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new yN(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const du={};function hh(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=ID(e,t.path||"/socket.io"),s=n.source,a=n.id,i=n.path,c=du[a]&&i in du[a].nsps,d=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let f;return d?f=new H0(s,t):(du[a]||(du[a]=new H0(s,t)),f=du[a]),n.query&&!t.query&&(t.query=n.queryKey),f.socket(n.path,t)}Object.assign(hh,{Manager:H0,Socket:yN,io:hh,connect:hh});class sA{constructor(t,n,s,a){go(this,"socket_port"),go(this,"host"),go(this,"port"),go(this,"protocol"),go(this,"url"),go(this,"site_name"),go(this,"socket");var i,c,d,f;if(this.socket_port=s!=null?s:"9000",this.host=(i=window.location)==null?void 0:i.hostname,this.port=(c=window.location)!=null&&c.port?`:${this.socket_port}`:"",this.protocol=((d=window.location)==null?void 0:d.protocol)==="https:"?"https":"http",t){let h=new URL(t);h.port="",s?(h.port=s,this.url=h.toString()):this.url=h.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;n&&(this.url=`${this.url}${n}`),this.site_name=n,this.socket=hh(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:a&&a.useToken===!0?{Authorization:`${a.type} ${(f=a.token)==null?void 0:f.call(a)}`}:{}})}}const Ga=j.createContext(null),rA=({url:e="",tokenParams:t,socketPort:n,swrConfig:s,siteName:a,enableSocket:i=!0,children:c,customHeaders:d})=>{const f=j.useMemo(()=>{const h=new UO.FrappeApp(e,t,void 0,d);return{url:e,tokenParams:t,app:h,auth:h.auth(),db:h.db(),call:h.call(),file:h.file(),socket:i?new sA(e,a,n,t).socket:void 0,enableSocket:i,socketPort:n}},[e,t,n,i,d]);return l.jsx(Ga.Provider,{value:f,children:l.jsx(hD,{value:s,children:c})})},ir=e=>{const{url:t,auth:n,tokenParams:s}=j.useContext(Ga),[a,i]=j.useState(),c=j.useCallback(()=>{const _=document.cookie.split(";").find(w=>w.trim().startsWith("user_id="));if(_){const w=_.split("=")[1];i(w&&w!=="Guest"?w:null)}else i(null)},[]);j.useEffect(()=>{s&&s.useToken?i(null):c()},[]);const{data:d,error:f,isLoading:h,isValidating:p,mutate:g}=sm(()=>s&&s.useToken||a?`${t}/api/method/frappe.auth.get_logged_user`:null,()=>n.getLoggedInUser(),z({onError:()=>{i(null)},shouldRetryOnError:!1,revalidateOnFocus:!1},e)),b=j.useCallback(_=>ve(null,null,function*(){return n.loginWithUsernamePassword(_).then(w=>(c(),w))}),[]),y=j.useCallback(()=>ve(null,null,function*(){return n.logout().then(()=>g(null)).then(()=>i(null))}),[]);return{isLoading:a===void 0||h,currentUser:d,isValidating:p,error:f,login:b,logout:y,updateCurrentUser:g,getUserCookie:c}},bN=(e,t,n)=>{let s=`${t}/api/resource/`;return n?s+=`${e}/${n}`:s+=`${e}`,s},bn=(e,t,n,s)=>{const{url:a,db:i}=j.useContext(Ga);return sm(n===void 0?bN(e,a,t):n,()=>i.getDoc(e,t),s)},aA=e=>{var a;var t,n;let s="";if(e!=null&&e.fields&&(s+="fields="+JSON.stringify(e==null?void 0:e.fields)+"&"),e!=null&&e.filters&&(s+="filters="+JSON.stringify(e==null?void 0:e.filters)+"&"),e!=null&&e.orFilters&&(s+="or_filters="+JSON.stringify(e==null?void 0:e.orFilters)+"&"),e!=null&&e.limit_start&&(s+="limit_start="+JSON.stringify(e==null?void 0:e.limit_start)+"&"),e!=null&&e.limit&&(s+="limit="+JSON.stringify(e==null?void 0:e.limit)+"&"),e!=null&&e.groupBy&&(s+="group_by="+String(e.groupBy)+"&"),e!=null&&e.orderBy){const i=`${String((t=e.orderBy)==null?void 0:t.field)} ${(a=(n=e.orderBy)==null?void 0:n.order)!=null?a:"asc"}`;s+="order_by="+i+"&"}return e!=null&&e.asDict&&(s+="as_dict="+e.asDict),s},Dt=(e,t,n,s)=>{const{url:a,db:i}=j.useContext(Ga);return sm(n===void 0?`${bN(e,a)}?${aA(t)}`:n,()=>i.getDocList(e,t),s)},Bi=()=>{const{db:e}=j.useContext(Ga),[t,n]=j.useState(!1),[s,a]=j.useState(null),[i,c]=j.useState(!1),d=j.useCallback(()=>{n(!1),a(null),c(!1)},[]);return{createDoc:j.useCallback((f,h)=>ve(null,null,function*(){return a(null),c(!1),n(!0),e.createDoc(f,h).then(p=>(n(!1),c(!0),p)).catch(p=>{throw n(!1),c(!1),a(p),p})}),[]),loading:t,error:s,isCompleted:i,reset:d}},qs=()=>{const{db:e}=j.useContext(Ga),[t,n]=j.useState(!1),[s,a]=j.useState(null),[i,c]=j.useState(!1),d=j.useCallback(()=>{n(!1),a(null),c(!1)},[]);return{updateDoc:j.useCallback((f,h,p)=>ve(null,null,function*(){return a(null),c(!1),n(!0),e.updateDoc(f,h,p).then(g=>(n(!1),c(!0),g)).catch(g=>{throw n(!1),c(!1),a(g),g})}),[]),loading:t,error:s,reset:d,isCompleted:i}},am=()=>{const{db:e}=j.useContext(Ga),[t,n]=j.useState(!1),[s,a]=j.useState(null),[i,c]=j.useState(!1),d=j.useCallback(()=>{n(!1),a(null),c(!1)},[]);return{deleteDoc:j.useCallback((f,h)=>ve(null,null,function*(){return a(null),c(!1),n(!0),e.deleteDoc(f,h).then(p=>(n(!1),c(!0),p)).catch(p=>{throw n(!1),c(!1),a(p),p})}),[]),loading:t,error:s,reset:d,isCompleted:i}};function iA(e){const t=[];for(let n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}const oA=(e,t,n,s,a="GET")=>{const{call:i}=j.useContext(Ga),c=iA(t!=null?t:{}),d=`${e}?${c}`;return z({},sm(n===void 0?d:n,a==="GET"?()=>i.get(e,t):()=>i.post(e,t),s))},ms=e=>{const{call:t}=j.useContext(Ga),[n,s]=j.useState(null),[a,i]=j.useState(!1),[c,d]=j.useState(null),[f,h]=j.useState(!1),p=j.useCallback(()=>{s(null),i(!1),d(null),h(!1)},[]);return{call:j.useCallback(g=>ve(null,null,function*(){return d(null),h(!1),i(!0),s(null),t.post(e,g).then(b=>(s(b),i(!1),h(!0),b)).catch(b=>{throw i(!1),h(!1),d(b),b})}),[]),result:n,loading:a,error:c,reset:p,isCompleted:f}};var lA=(e,t,n,s,a,i,c,d)=>{let f=document.documentElement,h=["light","dark"];function p(y){(Array.isArray(e)?e:[e]).forEach(_=>{let w=_==="class",N=w&&i?a.map(S=>i[S]||S):a;w?(f.classList.remove(...N),f.classList.add(i&&i[y]?i[y]:y)):f.setAttribute(_,y)}),g(y)}function g(y){d&&h.includes(y)&&(f.style.colorScheme=y)}function b(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)p(s);else try{let y=localStorage.getItem(t)||n,_=c&&y==="system"?b():y;p(_)}catch(y){}},sj=["light","dark"],vN="(prefers-color-scheme: dark)",cA=typeof window=="undefined",Ux=j.createContext(void 0),uA={setTheme:e=>{},themes:[]},dA=()=>{var e;return(e=j.useContext(Ux))!=null?e:uA},fA=e=>j.useContext(Ux)?j.createElement(j.Fragment,null,e.children):j.createElement(mA,z({},e)),hA=["light","dark"],mA=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:s=!0,storageKey:a="theme",themes:i=hA,defaultTheme:c=n?"system":"light",attribute:d="data-theme",value:f,children:h,nonce:p,scriptProps:g})=>{let[b,y]=j.useState(()=>gA(a,c)),[_,w]=j.useState(()=>b==="system"?$g():b),N=f?Object.values(f):i,S=j.useCallback(k=>{let C=k;if(!C)return;k==="system"&&n&&(C=$g());let A=f?f[C]:C,P=t?xA(p):null,U=document.documentElement,K=$=>{$==="class"?(U.classList.remove(...N),A&&U.classList.add(A)):$.startsWith("data-")&&(A?U.setAttribute($,A):U.removeAttribute($))};if(Array.isArray(d)?d.forEach(K):K(d),s){let $=sj.includes(c)?c:null,G=sj.includes(C)?C:$;U.style.colorScheme=G}P==null||P()},[p]),R=j.useCallback(k=>{let C=typeof k=="function"?k(b):k;y(C);try{localStorage.setItem(a,C)}catch(A){}},[b]),D=j.useCallback(k=>{let C=$g(k);w(C),b==="system"&&n&&!e&&S("system")},[b,e]);j.useEffect(()=>{let k=window.matchMedia(vN);return k.addListener(D),D(k),()=>k.removeListener(D)},[D]),j.useEffect(()=>{let k=C=>{C.key===a&&(C.newValue?y(C.newValue):R(c))};return window.addEventListener("storage",k),()=>window.removeEventListener("storage",k)},[R]),j.useEffect(()=>{S(e!=null?e:b)},[e,b]);let T=j.useMemo(()=>({theme:b,setTheme:R,forcedTheme:e,resolvedTheme:b==="system"?_:b,themes:n?[...i,"system"]:i,systemTheme:n?_:void 0}),[b,R,e,_,n,i]);return j.createElement(Ux.Provider,{value:T},j.createElement(pA,{forcedTheme:e,storageKey:a,attribute:d,enableSystem:n,enableColorScheme:s,defaultTheme:c,value:f,themes:i,nonce:p,scriptProps:g}),h)},pA=j.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:c,themes:d,nonce:f,scriptProps:h})=>{let p=JSON.stringify([n,t,i,e,d,c,s,a]).slice(1,-1);return j.createElement("script",oe(z({},h),{suppressHydrationWarning:!0,nonce:typeof window=="undefined"?f:"",dangerouslySetInnerHTML:{__html:`(${lA.toString()})(${p})`}}))}),gA=(e,t)=>{if(cA)return;let n;try{n=localStorage.getItem(e)||void 0}catch(s){}return n||t},xA=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},$g=e=>(e||(e=window.matchMedia(vN)),e.matches?"dark":"light");/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wN=e=>{throw TypeError(e)},yA=(e,t,n)=>t.has(e)||wN("Cannot "+n),Hg=(e,t,n)=>(yA(e,t,"read from private field"),n?n.call(e):t.get(e)),bA=(e,t,n)=>t.has(e)?wN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),rj="popstate";function vA(e={}){function t(s,a){let{pathname:i,search:c,hash:d}=s.location;return Bu("",{pathname:i,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Pi(a)}return _A(t,n,null,e)}function $t(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function Yn(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function wA(){return Math.random().toString(36).substring(2,10)}function aj(e,t){return{usr:e.state,key:e.key,idx:t}}function Bu(e,t,n=null,s){return oe(z({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$i(t):t),{state:n,key:t&&t.key||s||wA()})}function Pi({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function $i(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function _A(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:i=!1}=s,c=a.history,d="POP",f=null,h=p();h==null&&(h=0,c.replaceState(oe(z({},c.state),{idx:h}),""));function p(){return(c.state||{idx:null}).idx}function g(){d="POP";let N=p(),S=N==null?null:N-h;h=N,f&&f({action:d,location:w.location,delta:S})}function b(N,S){d="PUSH";let R=Bu(w.location,N,S);h=p()+1;let D=aj(R,h),T=w.createHref(R);try{c.pushState(D,"",T)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(T)}i&&f&&f({action:d,location:w.location,delta:1})}function y(N,S){d="REPLACE";let R=Bu(w.location,N,S);h=p();let D=aj(R,h),T=w.createHref(R);c.replaceState(D,"",T),i&&f&&f({action:d,location:w.location,delta:0})}function _(N){return _N(N)}let w={get action(){return d},get location(){return e(a,c)},listen(N){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(rj,g),f=N,()=>{a.removeEventListener(rj,g),f=null}},createHref(N){return t(a,N)},createURL:_,encodeLocation(N){let S=_(N);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:b,replace:y,go(N){return c.go(N)}};return w}function _N(e,t=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$t(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Pi(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var Cu,ij=class{constructor(e){if(bA(this,Cu,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(Hg(this,Cu).has(e))return Hg(this,Cu).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Hg(this,Cu).set(e,t)}};Cu=new WeakMap;var jA=new Set(["lazy","caseSensitive","path","id","index","children"]);function SA(e){return jA.has(e)}var NA=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function EA(e){return NA.has(e)}function TA(e){return e.index===!0}function $u(e,t,n=[],s={},a=!1){return e.map((i,c)=>{let d=[...n,String(c)],f=typeof i.id=="string"?i.id:d.join("-");if($t(i.index!==!0||!i.children,"Cannot specify children on an index route"),$t(a||!s[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),TA(i)){let h=oe(z(z({},i),t(i)),{id:f});return s[f]=h,h}else{let h=oe(z(z({},i),t(i)),{id:f,children:void 0});return s[f]=h,i.children&&(h.children=$u(i.children,t,d,s,a)),h}})}function Ti(e,t,n="/"){return mh(e,t,n,!1)}function mh(e,t,n,s){let a=typeof t=="string"?$i(t):t,i=Er(a.pathname||"/",n);if(i==null)return null;let c=jN(e);kA(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let h=BA(i);d=UA(c[f],h,s)}return d}function CA(e,t){let{route:n,pathname:s,params:a}=e;return{id:n.id,pathname:s,params:a,data:t[n.id],handle:n.handle}}function jN(e,t=[],n=[],s=""){let a=(i,c,d)=>{let f={relativePath:d===void 0?i.path||"":d,caseSensitive:i.caseSensitive===!0,childrenIndex:c,route:i};f.relativePath.startsWith("/")&&($t(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let h=da([s,f.relativePath]),p=n.concat(f);i.children&&i.children.length>0&&($t(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),jN(i.children,t,p,h)),!(i.path==null&&!i.index)&&t.push({path:h,score:LA(h,i.index),routesMeta:p})};return e.forEach((i,c)=>{var d;if(i.path===""||!((d=i.path)!=null&&d.includes("?")))a(i,c);else for(let f of SN(i.path))a(i,c,f)}),t}function SN(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let c=SN(s.join("/")),d=[];return d.push(...c.map(f=>f===""?i:[i,f].join("/"))),a&&d.push(...c),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function kA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:zA(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var OA=/^:[\w-]+$/,DA=3,AA=2,RA=1,MA=10,PA=-2,oj=e=>e==="*";function LA(e,t){let n=e.split("/"),s=n.length;return n.some(oj)&&(s+=PA),t&&(s+=AA),n.filter(a=>!oj(a)).reduce((a,i)=>a+(OA.test(i)?DA:i===""?RA:MA),s)}function zA(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function UA(e,t,n=!1){let{routesMeta:s}=e,a={},i="/",c=[];for(let d=0;d<s.length;++d){let f=s[d],h=d===s.length-1,p=i==="/"?t:t.slice(i.length)||"/",g=kh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),b=f.route;if(!g&&h&&n&&!s[s.length-1].route.index&&(g=kh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:da([i,g.pathname]),pathnameBase:IA(da([i,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(i=da([i,g.pathnameBase]))}return c}function kh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=FA(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],c=i.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((h,{paramName:p,isOptional:g},b)=>{if(p==="*"){let _=d[b]||"";c=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const y=d[b];return g&&!y?h[p]=void 0:h[p]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:c,pattern:e}}function FA(e,t=!1,n=!0){Yn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function BA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Er(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function $A({basename:e,pathname:t}){return t==="/"?e:da([e,t])}function HA(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?$i(e):e;return{pathname:n?n.startsWith("/")?n:VA(n,t):t,search:qA(s),hash:WA(a)}}function VA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Vg(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Fx(e){let t=NN(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Bx(e,t,n,s=!1){let a;typeof e=="string"?a=$i(e):(a=z({},e),$t(!a.pathname||!a.pathname.includes("?"),Vg("?","pathname","search",a)),$t(!a.pathname||!a.pathname.includes("#"),Vg("#","pathname","hash",a)),$t(!a.search||!a.search.includes("#"),Vg("#","search","hash",a)));let i=e===""||a.pathname==="",c=i?"/":a.pathname,d;if(c==null)d=n;else{let g=t.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),g-=1;a.pathname=b.join("/")}d=g>=0?t[g]:"/"}let f=HA(a,d),h=c&&c!=="/"&&c.endsWith("/"),p=(i||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var da=e=>e.join("/").replace(/\/\/+/g,"/"),IA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,WA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Oh=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Hu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var EN=["POST","PUT","PATCH","DELETE"],YA=new Set(EN),XA=["GET",...EN],GA=new Set(XA),KA=new Set([301,302,303,307,308]),QA=new Set([307,308]),Ig={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ZA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},JA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$x=e=>JA.test(e),eR=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),TN="remix-router-transitions",CN=Symbol("ResetLoaderData");function tR(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,n=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined";$t(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=e.hydrationRouteProperties||[],a=e.mapRouteProperties||eR,i={},c=$u(e.routes,a,void 0,i),d,f=e.basename||"/",h=e.dataStrategy||iR,p=z({unstable_middleware:!1},e.future),g=null,b=new Set,y=null,_=null,w=null,N=e.hydrationData!=null,S=Ti(c,e.history.location,f),R=!1,D=null,T;if(S==null&&!e.patchRoutesOnNavigation){let Z=br(404,{pathname:e.history.location.pathname}),{matches:ie,route:pe}=bj(c);T=!0,S=ie,D={[pe.id]:Z}}else if(S&&!e.hydrationData&&Xe(S,c,e.history.location.pathname).active&&(S=null),S)if(S.some(Z=>Z.route.lazy))T=!1;else if(!S.some(Z=>Z.route.loader))T=!0;else{let Z=e.hydrationData?e.hydrationData.loaderData:null,ie=e.hydrationData?e.hydrationData.errors:null;if(ie){let pe=S.findIndex(je=>ie[je.route.id]!==void 0);T=S.slice(0,pe+1).every(je=>!I0(je.route,Z,ie))}else T=S.every(pe=>!I0(pe.route,Z,ie))}else{T=!1,S=[];let Z=Xe(null,c,e.history.location.pathname);Z.active&&Z.matches&&(R=!0,S=Z.matches)}let k,C={historyAction:e.history.action,location:e.history.location,matches:S,initialized:T,navigation:Ig,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||D,fetchers:new Map,blockers:new Map},A="POP",P=!1,U,K=!1,$=new Map,G=null,W=!1,ee=!1,Y=new Set,H=new Map,J=0,te=-1,ce=new Map,L=new Set,le=new Map,re=new Map,V=new Set,ne=new Map,xe,me=null;function Te(){if(g=e.history.listen(({action:Z,location:ie,delta:pe})=>{if(xe){xe(),xe=void 0;return}Yn(ne.size===0||pe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let je=Cs({currentLocation:C.location,nextLocation:ie,historyAction:Z});if(je&&pe!=null){let De=new Promise($e=>{xe=$e});e.history.go(pe*-1),Kn(je,{state:"blocked",location:ie,proceed(){Kn(je,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),De.then(()=>e.history.go(pe))},reset(){let $e=new Map(C.blockers);$e.set(je,fu),Pe({blockers:$e})}});return}return ze(Z,ie)}),n){xR(t,$);let Z=()=>yR(t,$);t.addEventListener("pagehide",Z),G=()=>t.removeEventListener("pagehide",Z)}return C.initialized||ze("POP",C.location,{initialHydration:!0}),k}function Oe(){g&&g(),G&&G(),b.clear(),U&&U.abort(),C.fetchers.forEach((Z,ie)=>wt(ie)),C.blockers.forEach((Z,ie)=>cs(ie))}function He(Z){return b.add(Z),()=>b.delete(Z)}function Pe(Z,ie={}){Z.matches&&(Z.matches=Z.matches.map(De=>{let $e=i[De.route.id],Ke=De.route;return Ke.element!==$e.element||Ke.errorElement!==$e.errorElement||Ke.hydrateFallbackElement!==$e.hydrateFallbackElement?oe(z({},De),{route:$e}):De})),C=z(z({},C),Z);let pe=[],je=[];C.fetchers.forEach((De,$e)=>{De.state==="idle"&&(V.has($e)?pe.push($e):je.push($e))}),V.forEach(De=>{!C.fetchers.has(De)&&!H.has(De)&&pe.push(De)}),[...b].forEach(De=>De(C,{deletedFetchers:pe,viewTransitionOpts:ie.viewTransitionOpts,flushSync:ie.flushSync===!0})),pe.forEach(De=>wt(De)),je.forEach(De=>C.fetchers.delete(De))}function rt(Z,ie,{flushSync:pe}={}){var it,vt;let je=C.actionData!=null&&C.navigation.formMethod!=null&&Vs(C.navigation.formMethod)&&C.navigation.state==="loading"&&((it=Z.state)==null?void 0:it._isRedirect)!==!0,De;ie.actionData?Object.keys(ie.actionData).length>0?De=ie.actionData:De=null:je?De=C.actionData:De=null;let $e=ie.loaderData?xj(C.loaderData,ie.loaderData,ie.matches||[],ie.errors):C.loaderData,Ke=C.blockers;Ke.size>0&&(Ke=new Map(Ke),Ke.forEach((Ct,fn)=>Ke.set(fn,fu)));let tt=W?!1:Qt(Z,ie.matches||C.matches),ut=P===!0||C.navigation.formMethod!=null&&Vs(C.navigation.formMethod)&&((vt=Z.state)==null?void 0:vt._isRedirect)!==!0;d&&(c=d,d=void 0),W||A==="POP"||(A==="PUSH"?e.history.push(Z,Z.state):A==="REPLACE"&&e.history.replace(Z,Z.state));let kt;if(A==="POP"){let Ct=$.get(C.location.pathname);Ct&&Ct.has(Z.pathname)?kt={currentLocation:C.location,nextLocation:Z}:$.has(Z.pathname)&&(kt={currentLocation:Z,nextLocation:C.location})}else if(K){let Ct=$.get(C.location.pathname);Ct?Ct.add(Z.pathname):(Ct=new Set([Z.pathname]),$.set(C.location.pathname,Ct)),kt={currentLocation:C.location,nextLocation:Z}}Pe(oe(z({},ie),{actionData:De,loaderData:$e,historyAction:A,location:Z,initialized:!0,navigation:Ig,revalidation:"idle",restoreScrollPosition:tt,preventScrollReset:ut,blockers:Ke}),{viewTransitionOpts:kt,flushSync:pe===!0}),A="POP",P=!1,K=!1,W=!1,ee=!1,me==null||me.resolve(),me=null}function Ge(Z,ie){return ve(this,null,function*(){if(typeof Z=="number"){e.history.go(Z);return}let pe=V0(C.location,C.matches,f,Z,ie==null?void 0:ie.fromRouteId,ie==null?void 0:ie.relative),{path:je,submission:De,error:$e}=lj(!1,pe,ie),Ke=C.location,tt=Bu(C.location,je,ie&&ie.state);tt=z(z({},tt),e.history.encodeLocation(tt));let ut=ie&&ie.replace!=null?ie.replace:void 0,kt="PUSH";ut===!0?kt="REPLACE":ut===!1||De!=null&&Vs(De.formMethod)&&De.formAction===C.location.pathname+C.location.search&&(kt="REPLACE");let it=ie&&"preventScrollReset"in ie?ie.preventScrollReset===!0:void 0,vt=(ie&&ie.flushSync)===!0,Ct=Cs({currentLocation:Ke,nextLocation:tt,historyAction:kt});if(Ct){Kn(Ct,{state:"blocked",location:tt,proceed(){Kn(Ct,{state:"proceeding",proceed:void 0,reset:void 0,location:tt}),Ge(Z,ie)},reset(){let fn=new Map(C.blockers);fn.set(Ct,fu),Pe({blockers:fn})}});return}yield ze(kt,tt,{submission:De,pendingError:$e,preventScrollReset:it,replace:ie&&ie.replace,enableViewTransition:ie&&ie.viewTransition,flushSync:vt})})}function mt(){me||(me=bR()),Ae(),Pe({revalidation:"loading"});let Z=me.promise;return C.navigation.state==="submitting"?Z:C.navigation.state==="idle"?(ze(C.historyAction,C.location,{startUninterruptedRevalidation:!0}),Z):(ze(A||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:K===!0}),Z)}function ze(Z,ie,pe){return ve(this,null,function*(){U&&U.abort(),U=null,A=Z,W=(pe&&pe.startUninterruptedRevalidation)===!0,Nt(C.location,C.matches),P=(pe&&pe.preventScrollReset)===!0,K=(pe&&pe.enableViewTransition)===!0;let je=d||c,De=pe&&pe.overrideNavigation,$e=pe!=null&&pe.initialHydration&&C.matches&&C.matches.length>0&&!R?C.matches:Ti(je,ie,f),Ke=(pe&&pe.flushSync)===!0;if($e&&C.initialized&&!ee&&fR(C.location,ie)&&!(pe&&pe.submission&&Vs(pe.submission.formMethod))){rt(ie,{matches:$e},{flushSync:Ke});return}let tt=Xe($e,je,ie.pathname);if(tt.active&&tt.matches&&($e=tt.matches),!$e){let{error:rn,notFoundMatches:ot,route:Et}=Ye(ie.pathname);rt(ie,{matches:ot,loaderData:{},errors:{[Et.id]:rn}},{flushSync:Ke});return}U=new AbortController;let ut=Fl(e.history,ie,U.signal,pe&&pe.submission),kt=new ij(e.unstable_getContext?yield e.unstable_getContext():void 0),it;if(pe&&pe.pendingError)it=[jo($e).route.id,{type:"error",error:pe.pendingError}];else if(pe&&pe.submission&&Vs(pe.submission.formMethod)){let rn=yield St(ut,ie,pe.submission,$e,kt,tt.active,pe&&pe.initialHydration===!0,{replace:pe.replace,flushSync:Ke});if(rn.shortCircuited)return;if(rn.pendingActionResult){let[ot,Et]=rn.pendingActionResult;if(tr(Et)&&Hu(Et.error)&&Et.error.status===404){U=null,rt(ie,{matches:rn.matches,loaderData:{},errors:{[ot]:Et.error}});return}}$e=rn.matches||$e,it=rn.pendingActionResult,De=qg(ie,pe.submission),Ke=!1,tt.active=!1,ut=Fl(e.history,ut.url,ut.signal)}let{shortCircuited:vt,matches:Ct,loaderData:fn,errors:On}=yield at(ut,ie,$e,kt,tt.active,De,pe&&pe.submission,pe&&pe.fetcherSubmission,pe&&pe.replace,pe&&pe.initialHydration===!0,Ke,it);vt||(U=null,rt(ie,oe(z({matches:Ct||$e},yj(it)),{loaderData:fn,errors:On})))})}function St(ut,kt,it,vt,Ct,fn,On){return ve(this,arguments,function*(Z,ie,pe,je,De,$e,Ke,tt={}){Ae();let rn=pR(ie,pe);if(Pe({navigation:rn},{flushSync:tt.flushSync===!0}),$e){let Yt=yield _t(je,ie.pathname,Z.signal);if(Yt.type==="aborted")return{shortCircuited:!0};if(Yt.type==="error"){let wn=jo(Yt.partialMatches).route.id;return{matches:Yt.partialMatches,pendingActionResult:[wn,{type:"error",error:Yt.error}]}}else if(Yt.matches)je=Yt.matches;else{let{notFoundMatches:wn,error:Dn,route:Qn}=Ye(ie.pathname);return{matches:wn,pendingActionResult:[Qn.id,{type:"error",error:Dn}]}}}let ot,Et=ph(je,ie);if(!Et.route.action&&!Et.route.lazy)ot={type:"error",error:br(405,{method:Z.method,pathname:ie.pathname,routeId:Et.route.id})};else{let Yt=Il(a,i,Z,je,Et,Ke?[]:s,De),wn=yield Se(Z,Yt,De,null);if(ot=wn[Et.route.id],!ot){for(let Dn of je)if(wn[Dn.route.id]){ot=wn[Dn.route.id];break}}if(Z.signal.aborted)return{shortCircuited:!0}}if(Co(ot)){let Yt;return tt&&tt.replace!=null?Yt=tt.replace:Yt=mj(ot.response.headers.get("Location"),new URL(Z.url),f)===C.location.pathname+C.location.search,yield q(Z,ot,!0,{submission:pe,replace:Yt}),{shortCircuited:!0}}if(tr(ot)){let Yt=jo(je,Et.route.id);return(tt&&tt.replace)!==!0&&(A="PUSH"),{matches:je,pendingActionResult:[Yt.route.id,ot,Et.route.id]}}return{matches:je,pendingActionResult:[Et.route.id,ot]}})}function at(Z,ie,pe,je,De,$e,Ke,tt,ut,kt,it,vt){return ve(this,null,function*(){let Ct=$e||qg(ie,Ke),fn=Ke||tt||wj(Ct),On=!W&&!kt;if(De){if(On){let An=Me(vt);Pe(z({navigation:Ct},An!==void 0?{actionData:An}:{}),{flushSync:it})}let At=yield _t(pe,ie.pathname,Z.signal);if(At.type==="aborted")return{shortCircuited:!0};if(At.type==="error"){let An=jo(At.partialMatches).route.id;return{matches:At.partialMatches,loaderData:{},errors:{[An]:At.error}}}else if(At.matches)pe=At.matches;else{let{error:An,notFoundMatches:ba,route:us}=Ye(ie.pathname);return{matches:ba,loaderData:{},errors:{[us.id]:An}}}}let rn=d||c,{dsMatches:ot,revalidatingFetchers:Et}=cj(Z,je,a,i,e.history,C,pe,fn,ie,kt?[]:s,kt===!0,ee,Y,V,le,L,rn,f,e.patchRoutesOnNavigation!=null,vt);if(te=++J,!e.dataStrategy&&!ot.some(At=>At.shouldLoad)&&Et.length===0){let At=vn();return rt(ie,z(z({matches:pe,loaderData:{},errors:vt&&tr(vt[1])?{[vt[0]]:vt[1].error}:null},yj(vt)),At?{fetchers:new Map(C.fetchers)}:{}),{flushSync:it}),{shortCircuited:!0}}if(On){let At={};if(!De){At.navigation=Ct;let An=Me(vt);An!==void 0&&(At.actionData=An)}Et.length>0&&(At.fetchers=st(Et)),Pe(At,{flushSync:it})}Et.forEach(At=>{Jt(At.key),At.controller&&H.set(At.key,At.controller)});let Yt=()=>Et.forEach(At=>Jt(At.key));U&&U.signal.addEventListener("abort",Yt);let{loaderResults:wn,fetcherResults:Dn}=yield Re(ot,Et,Z,je);if(Z.signal.aborted)return{shortCircuited:!0};U&&U.signal.removeEventListener("abort",Yt),Et.forEach(At=>H.delete(At.key));let Qn=kf(wn);if(Qn)return yield q(Z,Qn.result,!0,{replace:ut}),{shortCircuited:!0};if(Qn=kf(Dn),Qn)return L.add(Qn.key),yield q(Z,Qn.result,!0,{replace:ut}),{shortCircuited:!0};let{loaderData:ss,errors:or}=gj(C,pe,wn,vt,Et,Dn);kt&&C.errors&&(or=z(z({},C.errors),or));let lr=vn(),vs=Xn(te),cr=lr||vs||Et.length>0;return z({matches:pe,loaderData:ss,errors:or},cr?{fetchers:new Map(C.fetchers)}:{})})}function Me(Z){if(Z&&!tr(Z[1]))return{[Z[0]]:Z[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function st(Z){return Z.forEach(ie=>{let pe=C.fetchers.get(ie.key),je=hu(void 0,pe?pe.data:void 0);C.fetchers.set(ie.key,je)}),new Map(C.fetchers)}function ft(Z,ie,pe,je){return ve(this,null,function*(){Jt(Z);let De=(je&&je.flushSync)===!0,$e=d||c,Ke=V0(C.location,C.matches,f,pe,ie,je==null?void 0:je.relative),tt=Ti($e,Ke,f),ut=Xe(tt,$e,Ke);if(ut.active&&ut.matches&&(tt=ut.matches),!tt){qe(Z,ie,br(404,{pathname:Ke}),{flushSync:De});return}let{path:kt,submission:it,error:vt}=lj(!0,Ke,je);if(vt){qe(Z,ie,vt,{flushSync:De});return}let Ct=new ij(e.unstable_getContext?yield e.unstable_getContext():void 0),fn=(je&&je.preventScrollReset)===!0;if(it&&Vs(it.formMethod)){yield X(Z,ie,kt,tt,Ct,ut.active,De,fn,it);return}le.set(Z,{routeId:ie,path:kt}),yield fe(Z,ie,kt,tt,Ct,ut.active,De,fn,it)})}function X(Z,ie,pe,je,De,$e,Ke,tt,ut){return ve(this,null,function*(){Ae(),le.delete(Z);let kt=C.fetchers.get(Z);Be(Z,gR(ut,kt),{flushSync:Ke});let it=new AbortController,vt=Fl(e.history,pe,it.signal,ut);if($e){let mn=yield _t(je,new URL(vt.url).pathname,vt.signal,Z);if(mn.type==="aborted")return;if(mn.type==="error"){qe(Z,ie,mn.error,{flushSync:Ke});return}else if(mn.matches)je=mn.matches;else{qe(Z,ie,br(404,{pathname:pe}),{flushSync:Ke});return}}let Ct=ph(je,pe);if(!Ct.route.action&&!Ct.route.lazy){let mn=br(405,{method:ut.formMethod,pathname:pe,routeId:ie});qe(Z,ie,mn,{flushSync:Ke});return}H.set(Z,it);let fn=J,On=Il(a,i,vt,je,Ct,s,De),ot=(yield Se(vt,On,De,Z))[Ct.route.id];if(vt.signal.aborted){H.get(Z)===it&&H.delete(Z);return}if(V.has(Z)){if(Co(ot)||tr(ot)){Be(Z,Si(void 0));return}}else{if(Co(ot))if(H.delete(Z),te>fn){Be(Z,Si(void 0));return}else return L.add(Z),Be(Z,hu(ut)),q(vt,ot,!1,{fetcherSubmission:ut,preventScrollReset:tt});if(tr(ot)){qe(Z,ie,ot.error);return}}let Et=C.navigation.location||C.location,Yt=Fl(e.history,Et,it.signal),wn=d||c,Dn=C.navigation.state!=="idle"?Ti(wn,C.navigation.location,f):C.matches;$t(Dn,"Didn't find any matches after fetcher action");let Qn=++J;ce.set(Z,Qn);let ss=hu(ut,ot.data);C.fetchers.set(Z,ss);let{dsMatches:or,revalidatingFetchers:lr}=cj(Yt,De,a,i,e.history,C,Dn,ut,Et,s,!1,ee,Y,V,le,L,wn,f,e.patchRoutesOnNavigation!=null,[Ct.route.id,ot]);lr.filter(mn=>mn.key!==Z).forEach(mn=>{let Or=mn.key,Io=C.fetchers.get(Or),qo=hu(void 0,Io?Io.data:void 0);C.fetchers.set(Or,qo),Jt(Or),mn.controller&&H.set(Or,mn.controller)}),Pe({fetchers:new Map(C.fetchers)});let vs=()=>lr.forEach(mn=>Jt(mn.key));it.signal.addEventListener("abort",vs);let{loaderResults:cr,fetcherResults:At}=yield Re(or,lr,Yt,De);if(it.signal.aborted)return;if(it.signal.removeEventListener("abort",vs),ce.delete(Z),H.delete(Z),lr.forEach(mn=>H.delete(mn.key)),C.fetchers.has(Z)){let mn=Si(ot.data);C.fetchers.set(Z,mn)}let An=kf(cr);if(An)return q(Yt,An.result,!1,{preventScrollReset:tt});if(An=kf(At),An)return L.add(An.key),q(Yt,An.result,!1,{preventScrollReset:tt});let{loaderData:ba,errors:us}=gj(C,Dn,cr,void 0,lr,At);Xn(Qn),C.navigation.state==="loading"&&Qn>te?($t(A,"Expected pending action"),U&&U.abort(),rt(C.navigation.location,{matches:Dn,loaderData:ba,errors:us,fetchers:new Map(C.fetchers)})):(Pe({errors:us,loaderData:xj(C.loaderData,ba,Dn,us),fetchers:new Map(C.fetchers)}),ee=!1)})}function fe(Z,ie,pe,je,De,$e,Ke,tt,ut){return ve(this,null,function*(){let kt=C.fetchers.get(Z);Be(Z,hu(ut,kt?kt.data:void 0),{flushSync:Ke});let it=new AbortController,vt=Fl(e.history,pe,it.signal);if($e){let Et=yield _t(je,new URL(vt.url).pathname,vt.signal,Z);if(Et.type==="aborted")return;if(Et.type==="error"){qe(Z,ie,Et.error,{flushSync:Ke});return}else if(Et.matches)je=Et.matches;else{qe(Z,ie,br(404,{pathname:pe}),{flushSync:Ke});return}}let Ct=ph(je,pe);H.set(Z,it);let fn=J,On=Il(a,i,vt,je,Ct,s,De),ot=(yield Se(vt,On,De,Z))[Ct.route.id];if(H.get(Z)===it&&H.delete(Z),!vt.signal.aborted){if(V.has(Z)){Be(Z,Si(void 0));return}if(Co(ot))if(te>fn){Be(Z,Si(void 0));return}else{L.add(Z),yield q(vt,ot,!1,{preventScrollReset:tt});return}if(tr(ot)){qe(Z,ie,ot.error);return}Be(Z,Si(ot.data))}})}function q(tt,ut,kt){return ve(this,arguments,function*(Z,ie,pe,{submission:je,fetcherSubmission:De,preventScrollReset:$e,replace:Ke}={}){ie.response.headers.has("X-Remix-Revalidate")&&(ee=!0);let it=ie.response.headers.get("Location");$t(it,"Expected a Location header on the redirect Response"),it=mj(it,new URL(Z.url),f);let vt=Bu(C.location,it,{_isRedirect:!0});if(n){let Et=!1;if(ie.response.headers.has("X-Remix-Reload-Document"))Et=!0;else if($x(it)){const Yt=_N(it,!0);Et=Yt.origin!==t.location.origin||Er(Yt.pathname,f)==null}if(Et){Ke?t.location.replace(it):t.location.assign(it);return}}U=null;let Ct=Ke===!0||ie.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:fn,formAction:On,formEncType:rn}=C.navigation;!je&&!De&&fn&&On&&rn&&(je=wj(C.navigation));let ot=je||De;if(QA.has(ie.response.status)&&ot&&Vs(ot.formMethod))yield ze(Ct,vt,{submission:oe(z({},ot),{formAction:it}),preventScrollReset:$e||P,enableViewTransition:pe?K:void 0});else{let Et=qg(vt,je);yield ze(Ct,vt,{overrideNavigation:Et,fetcherSubmission:De,preventScrollReset:$e||P,enableViewTransition:pe?K:void 0})}})}function Se(Z,ie,pe,je){return ve(this,null,function*(){let De,$e={};try{De=yield oR(h,Z,ie,je,pe,!1)}catch(Ke){return ie.filter(tt=>tt.shouldLoad).forEach(tt=>{$e[tt.route.id]={type:"error",error:Ke}}),$e}if(Z.signal.aborted)return $e;for(let[Ke,tt]of Object.entries(De))if(hR(tt)){let ut=tt.result;$e[Ke]={type:"redirect",response:uR(ut,Z,Ke,ie,f)}}else $e[Ke]=yield cR(tt);return $e})}function Re(Z,ie,pe,je){return ve(this,null,function*(){let De=Se(pe,Z,je,null),$e=Promise.all(ie.map(ut=>ve(null,null,function*(){if(ut.matches&&ut.match&&ut.request&&ut.controller){let it=(yield Se(ut.request,ut.matches,je,ut.key))[ut.match.route.id];return{[ut.key]:it}}else return Promise.resolve({[ut.key]:{type:"error",error:br(404,{pathname:ut.path})}})}))),Ke=yield De,tt=(yield $e).reduce((ut,kt)=>Object.assign(ut,kt),{});return{loaderResults:Ke,fetcherResults:tt}})}function Ae(){ee=!0,le.forEach((Z,ie)=>{H.has(ie)&&Y.add(ie),Jt(ie)})}function Be(Z,ie,pe={}){C.fetchers.set(Z,ie),Pe({fetchers:new Map(C.fetchers)},{flushSync:(pe&&pe.flushSync)===!0})}function qe(Z,ie,pe,je={}){let De=jo(C.matches,ie);wt(Z),Pe({errors:{[De.route.id]:pe},fetchers:new Map(C.fetchers)},{flushSync:(je&&je.flushSync)===!0})}function et(Z){return re.set(Z,(re.get(Z)||0)+1),V.has(Z)&&V.delete(Z),C.fetchers.get(Z)||ZA}function wt(Z){let ie=C.fetchers.get(Z);H.has(Z)&&!(ie&&ie.state==="loading"&&ce.has(Z))&&Jt(Z),le.delete(Z),ce.delete(Z),L.delete(Z),V.delete(Z),Y.delete(Z),C.fetchers.delete(Z)}function Sn(Z){let ie=(re.get(Z)||0)-1;ie<=0?(re.delete(Z),V.add(Z)):re.set(Z,ie),Pe({fetchers:new Map(C.fetchers)})}function Jt(Z){let ie=H.get(Z);ie&&(ie.abort(),H.delete(Z))}function dn(Z){for(let ie of Z){let pe=et(ie),je=Si(pe.data);C.fetchers.set(ie,je)}}function vn(){let Z=[],ie=!1;for(let pe of L){let je=C.fetchers.get(pe);$t(je,`Expected fetcher: ${pe}`),je.state==="loading"&&(L.delete(pe),Z.push(pe),ie=!0)}return dn(Z),ie}function Xn(Z){let ie=[];for(let[pe,je]of ce)if(je<Z){let De=C.fetchers.get(pe);$t(De,`Expected fetcher: ${pe}`),De.state==="loading"&&(Jt(pe),ce.delete(pe),ie.push(pe))}return dn(ie),ie.length>0}function Gn(Z,ie){let pe=C.blockers.get(Z)||fu;return ne.get(Z)!==ie&&ne.set(Z,ie),pe}function cs(Z){C.blockers.delete(Z),ne.delete(Z)}function Kn(Z,ie){let pe=C.blockers.get(Z)||fu;$t(pe.state==="unblocked"&&ie.state==="blocked"||pe.state==="blocked"&&ie.state==="blocked"||pe.state==="blocked"&&ie.state==="proceeding"||pe.state==="blocked"&&ie.state==="unblocked"||pe.state==="proceeding"&&ie.state==="unblocked",`Invalid blocker state transition: ${pe.state} -> ${ie.state}`);let je=new Map(C.blockers);je.set(Z,ie),Pe({blockers:je})}function Cs({currentLocation:Z,nextLocation:ie,historyAction:pe}){if(ne.size===0)return;ne.size>1&&Yn(!1,"A router only supports one blocker at a time");let je=Array.from(ne.entries()),[De,$e]=je[je.length-1],Ke=C.blockers.get(De);if(!(Ke&&Ke.state==="proceeding")&&$e({currentLocation:Z,nextLocation:ie,historyAction:pe}))return De}function Ye(Z){let ie=br(404,{pathname:Z}),pe=d||c,{matches:je,route:De}=bj(pe);return{notFoundMatches:je,route:De,error:ie}}function Rt(Z,ie,pe){if(y=Z,w=ie,_=pe||null,!N&&C.navigation===Ig){N=!0;let je=Qt(C.location,C.matches);je!=null&&Pe({restoreScrollPosition:je})}return()=>{y=null,w=null,_=null}}function Ut(Z,ie){return _&&_(Z,ie.map(je=>CA(je,C.loaderData)))||Z.key}function Nt(Z,ie){if(y&&w){let pe=Ut(Z,ie);y[pe]=w()}}function Qt(Z,ie){if(y){let pe=Ut(Z,ie),je=y[pe];if(typeof je=="number")return je}return null}function Xe(Z,ie,pe){if(e.patchRoutesOnNavigation)if(Z){if(Object.keys(Z[0].params).length>0)return{active:!0,matches:mh(ie,pe,f,!0)}}else return{active:!0,matches:mh(ie,pe,f,!0)||[]};return{active:!1,matches:null}}function _t(Z,ie,pe,je){return ve(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:Z};let De=Z;for(;;){let $e=d==null,Ke=d||c,tt=i;try{yield e.patchRoutesOnNavigation({signal:pe,path:ie,matches:De,fetcherKey:je,patch:(it,vt)=>{pe.aborted||uj(it,vt,Ke,tt,a,!1)}})}catch(it){return{type:"error",error:it,partialMatches:De}}finally{$e&&!pe.aborted&&(c=[...c])}if(pe.aborted)return{type:"aborted"};let ut=Ti(Ke,ie,f);if(ut)return{type:"success",matches:ut};let kt=mh(Ke,ie,f,!0);if(!kt||De.length===kt.length&&De.every((it,vt)=>it.route.id===kt[vt].route.id))return{type:"success",matches:null};De=kt}})}function Vt(Z){i={},d=$u(Z,a,void 0,i)}function Wt(Z,ie,pe=!1){let je=d==null;uj(Z,ie,d||c,i,a,pe),je&&(c=[...c],Pe({}))}return k={get basename(){return f},get future(){return p},get state(){return C},get routes(){return c},get window(){return t},initialize:Te,subscribe:He,enableScrollRestoration:Rt,navigate:Ge,fetch:ft,revalidate:mt,createHref:Z=>e.history.createHref(Z),encodeLocation:Z=>e.history.encodeLocation(Z),getFetcher:et,deleteFetcher:Sn,dispose:Oe,getBlocker:Gn,deleteBlocker:cs,patchRoutes:Wt,_internalFetchControllers:H,_internalSetRoutes:Vt,_internalSetStateDoNotUseOrYouWillBreakYourApp(Z){Pe(Z)}},k}function nR(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function V0(e,t,n,s,a,i){let c,d;if(a){c=[];for(let h of t)if(c.push(h),h.route.id===a){d=h;break}}else c=t,d=t[t.length-1];let f=Bx(s||".",Fx(c),Er(e.pathname,n)||e.pathname,i==="path");if(s==null&&(f.search=e.search,f.hash=e.hash),(s==null||s===""||s===".")&&d){let h=Hx(f.search);if(d.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&h){let p=new URLSearchParams(f.search),g=p.getAll("index");p.delete("index"),g.filter(y=>y).forEach(y=>p.append("index",y));let b=p.toString();f.search=b?`?${b}`:""}}return n!=="/"&&(f.pathname=$A({basename:n,pathname:f.pathname})),Pi(f)}function lj(e,t,n){if(!n||!nR(n))return{path:t};if(n.formMethod&&!mR(n.formMethod))return{path:t,error:br(405,{method:n.formMethod})};let s=()=>({path:t,error:br(400,{type:"invalid-body"})}),i=(n.formMethod||"get").toUpperCase(),c=MN(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Vs(i))return s();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((b,[y,_])=>`${b}${y}=${_}
`,""):String(n.body);return{path:t,submission:{formMethod:i,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!Vs(i))return s();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:i,formAction:c,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch(g){return s()}}}$t(typeof FormData=="function","FormData is not available in this environment");let d,f;if(n.formData)d=W0(n.formData),f=n.formData;else if(n.body instanceof FormData)d=W0(n.body),f=n.body;else if(n.body instanceof URLSearchParams)d=n.body,f=pj(d);else if(n.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(n.body),f=pj(d)}catch(g){return s()}let h={formMethod:i,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Vs(h.formMethod))return{path:t,submission:h};let p=$i(t);return e&&p.search&&Hx(p.search)&&d.append("index",""),p.search=`?${d}`,{path:Pi(p),submission:h}}function cj(e,t,n,s,a,i,c,d,f,h,p,g,b,y,_,w,N,S,R,D){var W;let T=D?tr(D[1])?D[1].error:D[1].data:void 0,k=a.createURL(i.location),C=a.createURL(f),A;if(p&&i.errors){let ee=Object.keys(i.errors)[0];A=c.findIndex(Y=>Y.route.id===ee)}else if(D&&tr(D[1])){let ee=D[0];A=c.findIndex(Y=>Y.route.id===ee)-1}let P=D?D[1].statusCode:void 0,U=P&&P>=400,K=oe(z({currentUrl:k,currentParams:((W=i.matches[0])==null?void 0:W.params)||{},nextUrl:C,nextParams:c[0].params},d),{actionResult:T,actionStatus:P}),$=c.map((ee,Y)=>{let{route:H}=ee,J=null;if(A!=null&&Y>A?J=!1:H.lazy?J=!0:H.loader==null?J=!1:p?J=I0(H,i.loaderData,i.errors):sR(i.loaderData,i.matches[Y],ee)&&(J=!0),J!==null)return q0(n,s,e,ee,h,t,J);let te=U?!1:g||k.pathname+k.search===C.pathname+C.search||k.search!==C.search||rR(i.matches[Y],ee),ce=oe(z({},K),{defaultShouldRevalidate:te}),L=Dh(ee,ce);return q0(n,s,e,ee,h,t,L,ce)}),G=[];return _.forEach((ee,Y)=>{if(p||!c.some(V=>V.route.id===ee.routeId)||y.has(Y))return;let H=i.fetchers.get(Y),J=H&&H.state!=="idle"&&H.data===void 0,te=Ti(N,ee.path,S);if(!te){if(R&&J)return;G.push({key:Y,routeId:ee.routeId,path:ee.path,matches:null,match:null,request:null,controller:null});return}if(w.has(Y))return;let ce=ph(te,ee.path),L=new AbortController,le=Fl(a,ee.path,L.signal),re=null;if(b.has(Y))b.delete(Y),re=Il(n,s,le,te,ce,h,t);else if(J)g&&(re=Il(n,s,le,te,ce,h,t));else{let V=oe(z({},K),{defaultShouldRevalidate:U?!1:g});Dh(ce,V)&&(re=Il(n,s,le,te,ce,h,t,V))}re&&G.push({key:Y,routeId:ee.routeId,path:ee.path,matches:re,match:ce,request:le,controller:L})}),{dsMatches:$,revalidatingFetchers:G}}function I0(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let s=t!=null&&e.id in t,a=n!=null&&n[e.id]!==void 0;return!s&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!a}function sR(e,t,n){let s=!t||n.route.id!==t.route.id,a=!e.hasOwnProperty(n.route.id);return s||a}function rR(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Dh(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function uj(e,t,n,s,a,i){let c;if(e){let h=s[e];$t(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),c=h.children}else c=n;let d=[],f=[];if(t.forEach(h=>{let p=c.find(g=>kN(h,g));p?f.push({existingRoute:p,newRoute:h}):d.push(h)}),d.length>0){let h=$u(d,a,[e||"_","patch",String((c==null?void 0:c.length)||"0")],s);c.push(...h)}if(i&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:p,newRoute:g}=f[h],b=p,[y]=$u([g],a,[],{},!0);Object.assign(b,{element:y.element?y.element:b.element,errorElement:y.errorElement?y.errorElement:b.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:b.hydrateFallbackElement})}}function kN(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,s)=>{var a;return(a=t.children)==null?void 0:a.some(i=>kN(n,i))}):!1}var dj=new WeakMap,ON=({key:e,route:t,manifest:n,mapRouteProperties:s})=>{let a=n[t.id];if($t(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let i=a.lazy[e];if(!i)return;let c=dj.get(a);c||(c={},dj.set(a,c));let d=c[e];if(d)return d;let f=ve(null,null,function*(){let h=SA(e),g=a[e]!==void 0&&e!=="hasErrorBoundary";if(h)Yn(!h,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),c[e]=Promise.resolve();else if(g)Yn(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let b=yield i();b!=null&&(Object.assign(a,{[e]:b}),Object.assign(a,s(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(b=>b===void 0)&&(a.lazy=void 0))});return c[e]=f,f},fj=new WeakMap;function aR(e,t,n,s,a){let i=n[e.id];if($t(i,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let p=fj.get(i);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let g=ve(null,null,function*(){$t(typeof e.lazy=="function","No lazy route function found");let b=yield e.lazy(),y={};for(let _ in b){let w=b[_];if(w===void 0)continue;let N=EA(_),R=i[_]!==void 0&&_!=="hasErrorBoundary";N?Yn(!N,"Route property "+_+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?Yn(!R,`Route "${i.id}" has a static property "${_}" defined but its lazy function is also returning a value for this property. The lazy route property "${_}" will be ignored.`):y[_]=w}Object.assign(i,y),Object.assign(i,oe(z({},s(i)),{lazy:void 0}))});return fj.set(i,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let c=Object.keys(e.lazy),d=[],f;for(let p of c){if(a&&a.includes(p))continue;let g=ON({key:p,route:e,manifest:n,mapRouteProperties:s});g&&(d.push(g),p===t&&(f=g))}let h=d.length>0?Promise.all(d).then(()=>{}):void 0;return h==null||h.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}function hj(e){return ve(this,null,function*(){let t=e.matches.filter(a=>a.shouldLoad),n={};return(yield Promise.all(t.map(a=>a.resolve()))).forEach((a,i)=>{n[t[i].route.id]=a}),n})}function iR(e){return ve(this,null,function*(){return e.matches.some(t=>t.route.unstable_middleware)?DN(e,!1,()=>hj(e),(t,n)=>({[n]:{type:"error",result:t}})):hj(e)})}function DN(e,t,n,s){return ve(this,null,function*(){let{matches:a,request:i,params:c,context:d}=e,f={handlerResult:void 0};try{let h=a.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(b=>[g.route.id,b]):[]),p=yield AN({request:i,params:c,context:d},h,t,f,n);return t?p:f.handlerResult}catch(h){if(!f.middlewareError)throw h;let p=yield s(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,p):p}})}function AN(e,t,n,s,a,i=0){return ve(this,null,function*(){let{request:c}=e;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let d=t[i];if(!d)return s.handlerResult=yield a(),s.handlerResult;let[f,h]=d,p=!1,g,b=()=>ve(null,null,function*(){if(p)throw new Error("You may only call `next()` once per middleware");p=!0,yield AN(e,t,n,s,a,i+1)});try{let y=yield h({request:e.request,params:e.params,context:e.context},b);return p?y===void 0?g:y:b()}catch(y){throw s.middlewareError?s.middlewareError.error!==y&&(s.middlewareError={routeId:f,error:y}):s.middlewareError={routeId:f,error:y},y}})}function RN(e,t,n,s,a){let i=ON({key:"unstable_middleware",route:s.route,manifest:t,mapRouteProperties:e}),c=aR(s.route,Vs(n.method)?"action":"loader",t,e,a);return{middleware:i,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function q0(e,t,n,s,a,i,c,d=null){let f=!1,h=RN(e,t,n,s,a);return oe(z({},s),{_lazyPromises:h,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(p){return f=!0,d?typeof p=="boolean"?Dh(s,oe(z({},d),{defaultShouldRevalidate:p})):Dh(s,d):c},resolve(p){return f||c||p&&!Vs(n.method)&&(s.route.lazy||s.route.loader)?lR({request:n,match:s,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:p,scopedContext:i}):Promise.resolve({type:"data",result:void 0})}})}function Il(e,t,n,s,a,i,c,d=null){return s.map(f=>f.route.id!==a.route.id?oe(z({},f),{shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:RN(e,t,n,f,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}):q0(e,t,n,f,i,c,!0,d))}function oR(e,t,n,s,a,i){return ve(this,null,function*(){n.some(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})&&(yield Promise.all(n.map(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})));let c={request:t,params:n[0].params,context:a,matches:n},d=h=>{let p=c;return DN(p,!1,()=>h(oe(z({},p),{fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(g,b)=>({[b]:{type:"error",result:g}}))},f=yield e(oe(z({},c),{fetcherKey:s,unstable_runClientMiddleware:d}));try{yield Promise.all(n.flatMap(h=>{var p,g;return[(p=h._lazyPromises)==null?void 0:p.handler,(g=h._lazyPromises)==null?void 0:g.route]}))}catch(h){}return f})}function lR(c){return ve(this,arguments,function*({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:a,scopedContext:i}){let d,f,h=Vs(e.method),p=h?"action":"loader",g=b=>{let y,_=new Promise((S,R)=>y=R);f=()=>y(),e.signal.addEventListener("abort",f);let w=S=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${t.route.id}]`)):b({request:e,params:t.params,context:i},...S!==void 0?[S]:[]),N=ve(null,null,function*(){try{return{type:"data",result:yield a?a(R=>w(R)):w()}}catch(S){return{type:"error",result:S}}});return Promise.race([N,_])};try{let b=h?t.route.action:t.route.loader;if(n||s)if(b){let y,[_]=yield Promise.all([g(b).catch(w=>{y=w}),n,s]);if(y!==void 0)throw y;d=_}else{yield n;let y=h?t.route.action:t.route.loader;if(y)[d]=yield Promise.all([g(y),s]);else if(p==="action"){let _=new URL(e.url),w=_.pathname+_.search;throw br(405,{method:e.method,pathname:w,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(b)d=yield g(b);else{let y=new URL(e.url),_=y.pathname+y.search;throw br(404,{pathname:_})}}catch(b){return{type:"error",result:b}}finally{f&&e.signal.removeEventListener("abort",f)}return d})}function cR(e){return ve(this,null,function*(){var s,a,i,c,d,f;let{result:t,type:n}=e;if(PN(t)){let h;try{let p=t.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?t.body==null?h=null:h=yield t.json():h=yield t.text()}catch(p){return{type:"error",error:p}}return n==="error"?{type:"error",error:new Oh(t.status,t.statusText,h),statusCode:t.status,headers:t.headers}:{type:"data",data:h,statusCode:t.status,headers:t.headers}}return n==="error"?vj(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Oh(((i=t.init)==null?void 0:i.status)||500,void 0,t.data),statusCode:Hu(t)?t.status:void 0,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Hu(t)?t.status:void 0}:vj(t)?{type:"data",data:t.data,statusCode:(d=t.init)==null?void 0:d.status,headers:(f=t.init)!=null&&f.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}})}function uR(e,t,n,s,a){let i=e.headers.get("Location");if($t(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!$x(i)){let c=s.slice(0,s.findIndex(d=>d.route.id===n)+1);i=V0(new URL(t.url),c,a,i),e.headers.set("Location",i)}return e}function mj(e,t,n){if($x(e)){let s=e,a=s.startsWith("//")?new URL(t.protocol+s):new URL(s),i=Er(a.pathname,n)!=null;if(a.origin===t.origin&&i)return a.pathname+a.search+a.hash}return e}function Fl(e,t,n,s){let a=e.createURL(MN(t)).toString(),i={signal:n};if(s&&Vs(s.formMethod)){let{formMethod:c,formEncType:d}=s;i.method=c.toUpperCase(),d==="application/json"?(i.headers=new Headers({"Content-Type":d}),i.body=JSON.stringify(s.json)):d==="text/plain"?i.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?i.body=W0(s.formData):i.body=s.formData}return new Request(a,i)}function W0(e){let t=new URLSearchParams;for(let[n,s]of e.entries())t.append(n,typeof s=="string"?s:s.name);return t}function pj(e){let t=new FormData;for(let[n,s]of e.entries())t.append(n,s);return t}function dR(e,t,n,s=!1,a=!1){let i={},c=null,d,f=!1,h={},p=n&&tr(n[1])?n[1].error:void 0;return e.forEach(g=>{if(!(g.route.id in t))return;let b=g.route.id,y=t[b];if($t(!Co(y),"Cannot handle redirect results in processLoaderData"),tr(y)){let _=y.error;if(p!==void 0&&(_=p,p=void 0),c=c||{},a)c[b]=_;else{let w=jo(e,b);c[w.route.id]==null&&(c[w.route.id]=_)}s||(i[b]=CN),f||(f=!0,d=Hu(y.error)?y.error.status:500),y.headers&&(h[b]=y.headers)}else i[b]=y.data,y.statusCode&&y.statusCode!==200&&!f&&(d=y.statusCode),y.headers&&(h[b]=y.headers)}),p!==void 0&&n&&(c={[n[0]]:p},n[2]&&(i[n[2]]=void 0)),{loaderData:i,errors:c,statusCode:d||200,loaderHeaders:h}}function gj(e,t,n,s,a,i){let{loaderData:c,errors:d}=dR(t,n,s);return a.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:p,controller:g}=f,b=i[h];if($t(b,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(tr(b)){let y=jo(e.matches,p==null?void 0:p.route.id);d&&d[y.route.id]||(d=oe(z({},d),{[y.route.id]:b.error})),e.fetchers.delete(h)}else if(Co(b))$t(!1,"Unhandled fetcher revalidation redirect");else{let y=Si(b.data);e.fetchers.set(h,y)}}),{loaderData:c,errors:d}}function xj(e,t,n,s){let a=Object.entries(t).filter(([,i])=>i!==CN).reduce((i,[c,d])=>(i[c]=d,i),{});for(let i of n){let c=i.route.id;if(!t.hasOwnProperty(c)&&e.hasOwnProperty(c)&&i.route.loader&&(a[c]=e[c]),s&&s.hasOwnProperty(c))break}return a}function yj(e){return e?tr(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function jo(e,t){return(t?e.slice(0,e.findIndex(s=>s.route.id===t)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function bj(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function br(e,{pathname:t,routeId:n,method:s,type:a,message:i}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(c="Bad Request",s&&t&&n?d=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):e===403?(c="Forbidden",d=`Route "${n}" does not match URL "${t}"`):e===404?(c="Not Found",d=`No route matches URL "${t}"`):e===405&&(c="Method Not Allowed",s&&t&&n?d=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new Oh(e||500,c,new Error(d),!0)}function kf(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[s,a]=t[n];if(Co(a))return{key:s,result:a}}}function MN(e){let t=typeof e=="string"?$i(e):e;return Pi(oe(z({},t),{hash:""}))}function fR(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function hR(e){return PN(e.result)&&KA.has(e.result.status)}function tr(e){return e.type==="error"}function Co(e){return(e&&e.type)==="redirect"}function vj(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function PN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function mR(e){return GA.has(e.toUpperCase())}function Vs(e){return YA.has(e.toUpperCase())}function Hx(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function ph(e,t){let n=typeof t=="string"?$i(t).search:t.search;if(e[e.length-1].route.index&&Hx(n||""))return e[e.length-1];let s=NN(e);return s[s.length-1]}function wj(e){let{formMethod:t,formAction:n,formEncType:s,text:a,formData:i,json:c}=e;if(!(!t||!n||!s)){if(a!=null)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:t,formAction:n,formEncType:s,formData:i,json:void 0,text:void 0};if(c!==void 0)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:c,text:void 0}}}function qg(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function pR(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function hu(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function gR(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Si(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function xR(e,t){try{let n=e.sessionStorage.getItem(TN);if(n){let s=JSON.parse(n);for(let[a,i]of Object.entries(s||{}))i&&Array.isArray(i)&&t.set(a,new Set(i||[]))}}catch(n){}}function yR(e,t){if(t.size>0){let n={};for(let[s,a]of t)n[s]=[...a];try{e.sessionStorage.setItem(TN,JSON.stringify(n))}catch(s){Yn(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function bR(){let e,t,n=new Promise((s,a)=>{e=i=>ve(null,null,function*(){s(i);try{yield n}catch(c){}}),t=i=>ve(null,null,function*(){a(i);try{yield n}catch(c){}})});return{promise:n,resolve:e,reject:t}}var Ho=j.createContext(null);Ho.displayName="DataRouter";var Ju=j.createContext(null);Ju.displayName="DataRouterState";j.createContext(!1);var Vx=j.createContext({isTransitioning:!1});Vx.displayName="ViewTransition";var LN=j.createContext(new Map);LN.displayName="Fetchers";var vR=j.createContext(null);vR.displayName="Await";var ga=j.createContext(null);ga.displayName="Navigation";var im=j.createContext(null);im.displayName="Location";var xa=j.createContext({outlet:null,matches:[],isDataRoute:!1});xa.displayName="Route";var Ix=j.createContext(null);Ix.displayName="RouteError";function wR(e,{relative:t}={}){$t(ed(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(ga),{hash:a,pathname:i,search:c}=td(e,{relative:t}),d=i;return n!=="/"&&(d=i==="/"?n:da([n,i])),s.createHref({pathname:d,search:c,hash:a})}function ed(){return j.useContext(im)!=null}function Hi(){return $t(ed(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(im).location}var zN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function UN(e){j.useContext(ga).static||j.useLayoutEffect(e)}function _R(){let{isDataRoute:e}=j.useContext(xa);return e?zR():jR()}function jR(){$t(ed(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(Ho),{basename:t,navigator:n}=j.useContext(ga),{matches:s}=j.useContext(xa),{pathname:a}=Hi(),i=JSON.stringify(Fx(s)),c=j.useRef(!1);return UN(()=>{c.current=!0}),j.useCallback((f,h={})=>{if(Yn(c.current,zN),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=Bx(f,JSON.parse(i),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:da([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,i,a,e])}var SR=j.createContext(null);function NR(e){let t=j.useContext(xa).outlet;return t&&j.createElement(SR.Provider,{value:e},t)}function td(e,{relative:t}={}){let{matches:n}=j.useContext(xa),{pathname:s}=Hi(),a=JSON.stringify(Fx(n));return j.useMemo(()=>Bx(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function ER(e,t,n,s){$t(ed(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=j.useContext(ga),{matches:i}=j.useContext(xa),c=i[i.length-1],d=c?c.params:{},f=c?c.pathname:"/",h=c?c.pathnameBase:"/",p=c&&c.route;{let S=p&&p.path||"";FN(f,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=Hi(),b;b=g;let y=b.pathname||"/",_=y;if(h!=="/"){let S=h.replace(/^\//,"").split("/");_="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=Ti(e,{pathname:_});return Yn(p||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Yn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),DR(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},d,S.params),pathname:da([h,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:da([h,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,s)}function TR(){let e=LR(),t=Hu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:i},"ErrorBoundary")," or"," ",j.createElement("code",{style:i},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:a},n):null,c)}var CR=j.createElement(TR,null),kR=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?j.createElement(xa.Provider,{value:this.props.routeContext},j.createElement(Ix.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OR({routeContext:e,match:t,children:n}){let s=j.useContext(Ho);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(xa.Provider,{value:e},n)}function DR(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=n==null?void 0:n.errors;if(i!=null){let f=a.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);$t(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,d=-1;if(n)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:p,errors:g}=n,b=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,h,p)=>{let g,b=!1,y=null,_=null;n&&(g=i&&h.route.id?i[h.route.id]:void 0,y=h.route.errorElement||CR,c&&(d<0&&p===0?(FN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,_=null):d===p&&(b=!0,_=h.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,p+1)),N=()=>{let S;return g?S=y:b?S=_:h.route.Component?S=j.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=f,j.createElement(OR,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?j.createElement(kR,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:N(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):N()},null)}function qx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AR(e){let t=j.useContext(Ho);return $t(t,qx(e)),t}function RR(e){let t=j.useContext(Ju);return $t(t,qx(e)),t}function MR(e){let t=j.useContext(xa);return $t(t,qx(e)),t}function Wx(e){let t=MR(e),n=t.matches[t.matches.length-1];return $t(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function PR(){return Wx("useRouteId")}function LR(){var s;let e=j.useContext(Ix),t=RR("useRouteError"),n=Wx("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function zR(){let{router:e}=AR("useNavigate"),t=Wx("useNavigate"),n=j.useRef(!1);return UN(()=>{n.current=!0}),j.useCallback((c,...d)=>ve(null,[c,...d],function*(a,i={}){Yn(n.current,zN),n.current&&(typeof a=="number"?e.navigate(a):yield e.navigate(a,z({fromRouteId:t},i)))}),[e,t])}var _j={};function FN(e,t,n){!t&&!_j[e]&&(_j[e]=!0,Yn(!1,n))}var jj={};function Sj(e,t){!e&&!jj[t]&&(jj[t]=!0,console.warn(t))}function UR(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Yn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:j.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Yn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:j.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Yn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:j.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var FR=["HydrateFallback","hydrateFallbackElement"],BR=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function $R({router:e,flushSync:t}){let[n,s]=j.useState(e.state),[a,i]=j.useState(),[c,d]=j.useState({isTransitioning:!1}),[f,h]=j.useState(),[p,g]=j.useState(),[b,y]=j.useState(),_=j.useRef(new Map),w=j.useCallback((D,{deletedFetchers:T,flushSync:k,viewTransitionOpts:C})=>{D.fetchers.forEach((P,U)=>{P.data!==void 0&&_.current.set(U,P.data)}),T.forEach(P=>_.current.delete(P)),Sj(k===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let A=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Sj(C==null||A,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!C||!A){t&&k?t(()=>s(D)):j.startTransition(()=>s(D));return}if(t&&k){t(()=>{p&&(f&&f.resolve(),p.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:C.currentLocation,nextLocation:C.nextLocation})});let P=e.window.document.startViewTransition(()=>{t(()=>s(D))});P.finished.finally(()=>{t(()=>{h(void 0),g(void 0),i(void 0),d({isTransitioning:!1})})}),t(()=>g(P));return}p?(f&&f.resolve(),p.skipTransition(),y({state:D,currentLocation:C.currentLocation,nextLocation:C.nextLocation})):(i(D),d({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}))},[e.window,t,p,f]);j.useLayoutEffect(()=>e.subscribe(w),[e,w]),j.useEffect(()=>{c.isTransitioning&&!c.flushSync&&h(new BR)},[c]),j.useEffect(()=>{if(f&&a&&e.window){let D=a,T=f.promise,k=e.window.document.startViewTransition(()=>ve(null,null,function*(){j.startTransition(()=>s(D)),yield T}));k.finished.finally(()=>{h(void 0),g(void 0),i(void 0),d({isTransitioning:!1})}),g(k)}},[a,f,e.window]),j.useEffect(()=>{f&&a&&n.location.key===a.location.key&&f.resolve()},[f,p,n.location,a]),j.useEffect(()=>{!c.isTransitioning&&b&&(i(b.state),d({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),y(void 0))},[c.isTransitioning,b]);let N=j.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:D=>e.navigate(D),push:(D,T,k)=>e.navigate(D,{state:T,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(D,T,k)=>e.navigate(D,{replace:!0,state:T,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[e]),S=e.basename||"/",R=j.useMemo(()=>({router:e,navigator:N,static:!1,basename:S}),[e,N,S]);return j.createElement(j.Fragment,null,j.createElement(Ho.Provider,{value:R},j.createElement(Ju.Provider,{value:n},j.createElement(LN.Provider,{value:_.current},j.createElement(Vx.Provider,{value:c},j.createElement(qR,{basename:S,location:n.location,navigationType:n.historyAction,navigator:N},j.createElement(HR,{routes:e.routes,future:e.future,state:n})))))),null)}var HR=j.memo(VR);function VR({routes:e,future:t,state:n}){return ER(e,void 0,n,t)}function IR(e){return NR(e.context)}function qR({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:i=!1}){$t(!ed(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:c,navigator:a,static:i,future:{}}),[c,a,i]);typeof n=="string"&&(n=$i(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:b="default"}=n,y=j.useMemo(()=>{let _=Er(f,c);return _==null?null:{location:{pathname:_,search:h,hash:p,state:g,key:b},navigationType:s}},[c,f,h,p,g,b,s]);return Yn(y!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:j.createElement(ga.Provider,{value:d},j.createElement(im.Provider,{children:t,value:y}))}var gh="get",xh="application/x-www-form-urlencoded";function om(e){return e!=null&&typeof e.tagName=="string"}function WR(e){return om(e)&&e.tagName.toLowerCase()==="button"}function YR(e){return om(e)&&e.tagName.toLowerCase()==="form"}function XR(e){return om(e)&&e.tagName.toLowerCase()==="input"}function GR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KR(e,t){return e.button===0&&(!t||t==="_self")&&!GR(e)}var Of=null;function QR(){if(Of===null)try{new FormData(document.createElement("form"),0),Of=!1}catch(e){Of=!0}return Of}var ZR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wg(e){return e!=null&&!ZR.has(e)?(Yn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xh}"`),null):e}function JR(e,t){let n,s,a,i,c;if(YR(e)){let d=e.getAttribute("action");s=d?Er(d,t):null,n=e.getAttribute("method")||gh,a=Wg(e.getAttribute("enctype"))||xh,i=new FormData(e)}else if(WR(e)||XR(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(s=f?Er(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||gh,a=Wg(e.getAttribute("formenctype"))||Wg(d.getAttribute("enctype"))||xh,i=new FormData(d,e),!QR()){let{name:h,type:p,value:g}=e;if(p==="image"){let b=h?`${h}.`:"";i.append(`${b}x`,"0"),i.append(`${b}y`,"0")}else h&&i.append(h,g)}}else{if(om(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gh,s=null,a=xh,c=e}return i&&a==="text/plain"&&(c=i,i=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:i,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yx(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function eM(e,t,n){let s=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Er(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}function tM(e,t){return ve(this,null,function*(){if(e.id in t)return t[e.id];try{let n=yield import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function nM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function sM(e,t,n){return ve(this,null,function*(){let s=yield Promise.all(e.map(a=>ve(null,null,function*(){let i=t.routes[a.route.id];if(i){let c=yield tM(i,n);return c.links?c.links():[]}return[]})));return oM(s.flat(1).filter(nM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?oe(z({},a),{rel:"prefetch",as:"style"}):oe(z({},a),{rel:"prefetch"})))})}function Nj(e,t,n,s,a,i){let c=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return i==="assets"?t.filter((f,h)=>c(f,h)||d(f,h)):i==="data"?t.filter((f,h)=>{var g;let p=s.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function rM(e,t,{includeHydrateFallback:n}={}){return aM(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function aM(e){return[...new Set(e)]}function iM(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function oM(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let i=JSON.stringify(iM(a));return n.has(i)||(n.add(i),s.push({key:i,link:a})),s},[])}function BN(){let e=j.useContext(Ho);return Yx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function lM(){let e=j.useContext(Ju);return Yx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Xx=j.createContext(void 0);Xx.displayName="FrameworkContext";function $N(){let e=j.useContext(Xx);return Yx(e,"You must render this element inside a <HydratedRouter> element"),e}function cM(e,t){let n=j.useContext(Xx),[s,a]=j.useState(!1),[i,c]=j.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,b=j.useRef(null);j.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let w=S=>{S.forEach(R=>{c(R.isIntersecting)})},N=new IntersectionObserver(w,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[e]),j.useEffect(()=>{if(s){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[s]);let y=()=>{a(!0)},_=()=>{a(!1),c(!1)};return n?e!=="intent"?[i,b,{}]:[i,b,{onFocus:mu(d,y),onBlur:mu(f,_),onMouseEnter:mu(h,y),onMouseLeave:mu(p,_),onTouchStart:mu(g,y)}]:[!1,b,{}]}function mu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function uM(n){var s=n,{page:e}=s,t=ke(s,["page"]);let{router:a}=BN(),i=j.useMemo(()=>Ti(a.routes,e,a.basename),[a.routes,e,a.basename]);return i?j.createElement(fM,z({page:e,matches:i},t)):null}function dM(e){let{manifest:t,routeModules:n}=$N(),[s,a]=j.useState([]);return j.useEffect(()=>{let i=!1;return sM(e,t,n).then(c=>{i||a(c)}),()=>{i=!0}},[e,t,n]),s}function fM(s){var a=s,{page:e,matches:t}=a,n=ke(a,["page","matches"]);let i=Hi(),{manifest:c,routeModules:d}=$N(),{basename:f}=BN(),{loaderData:h,matches:p}=lM(),g=j.useMemo(()=>Nj(e,t,p,c,i,"data"),[e,t,p,c,i]),b=j.useMemo(()=>Nj(e,t,p,c,i,"assets"),[e,t,p,c,i]),y=j.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let N=new Set,S=!1;if(t.forEach(D=>{var k;let T=c.routes[D.route.id];!T||!T.hasLoader||(!g.some(C=>C.route.id===D.route.id)&&D.route.id in h&&((k=d[D.route.id])!=null&&k.shouldRevalidate)||T.hasClientLoader?S=!0:N.add(D.route.id))}),N.size===0)return[];let R=eM(e,f,"data");return S&&N.size>0&&R.searchParams.set("_routes",t.filter(D=>N.has(D.route.id)).map(D=>D.route.id).join(",")),[R.pathname+R.search]},[f,h,i,c,g,t,e,d]),_=j.useMemo(()=>rM(b,c),[b,c]),w=dM(b);return j.createElement(j.Fragment,null,y.map(N=>j.createElement("link",z({key:N,rel:"prefetch",as:"fetch",href:N},n))),_.map(N=>j.createElement("link",z({key:N,rel:"modulepreload",href:N},n))),w.map(({key:N,link:S})=>j.createElement("link",z({key:N},S))))}function hM(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var HN=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{HN&&(window.__reactRouterVersion="7.7.1")}catch(e){}function mM(e,t){return tR({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:vA({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||pM(),routes:e,mapRouteProperties:UR,hydrationRouteProperties:FR,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function pM(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=oe(z({},e),{errors:gM(e.errors)})),e}function gM(e){if(!e)return null;let t=Object.entries(e),n={};for(let[s,a]of t)if(a&&a.__type==="RouteErrorResponse")n[s]=new Oh(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let c=new i(a.message);c.stack="",n[s]=c}catch(c){}}if(n[s]==null){let i=new Error(a.message);i.stack="",n[s]=i}}else n[s]=a;return n}var VN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IN=j.forwardRef(function(_,y){var w=_,{onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:i,replace:c,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g}=w,b=ke(w,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:N}=j.useContext(ga),S=typeof h=="string"&&VN.test(h),R,D=!1;if(typeof h=="string"&&S&&(R=h,HN))try{let $=new URL(window.location.href),G=h.startsWith("//")?new URL($.protocol+h):new URL(h),W=Er(G.pathname,N);G.origin===$.origin&&W!=null?h=W+G.search+G.hash:D=!0}catch($){Yn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=wR(h,{relative:a}),[k,C,A]=cM(s,b),P=bM(h,{replace:c,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g});function U($){t&&t($),$.defaultPrevented||P($)}let K=j.createElement("a",oe(z(z({},b),A),{href:R||T,onClick:D||i?t:U,ref:hM(y,C),target:f,"data-discover":!S&&n==="render"?"true":void 0}));return k&&!S?j.createElement(j.Fragment,null,K,j.createElement(uM,{page:T})):K});IN.displayName="Link";var qN=j.forwardRef(function(g,p){var b=g,{"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:i,to:c,viewTransition:d,children:f}=b,h=ke(b,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let y=td(c,{relative:h.relative}),_=Hi(),w=j.useContext(Ju),{navigator:N,basename:S}=j.useContext(ga),R=w!=null&&SM(y)&&d===!0,D=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,T=_.pathname,k=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(T=T.toLowerCase(),k=k?k.toLowerCase():null,D=D.toLowerCase()),k&&S&&(k=Er(k,S)||k);const C=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let A=T===D||!a&&T.startsWith(D)&&T.charAt(C)==="/",P=k!=null&&(k===D||!a&&k.startsWith(D)&&k.charAt(D.length)==="/"),U={isActive:A,isPending:P,isTransitioning:R},K=A?t:void 0,$;typeof s=="function"?$=s(U):$=[s,A?"active":null,P?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let G=typeof i=="function"?i(U):i;return j.createElement(IN,oe(z({},h),{"aria-current":K,className:$,ref:p,style:G,to:c,viewTransition:d}),typeof f=="function"?f(U):f)});qN.displayName="NavLink";var xM=j.forwardRef((_,y)=>{var w=_,{discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:i,method:c=gh,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g}=w,b=ke(w,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let N=_M(),S=jM(d,{relative:h}),R=c.toLowerCase()==="get"?"get":"post",D=typeof d=="string"&&VN.test(d),T=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let C=k.nativeEvent.submitter,A=(C==null?void 0:C.getAttribute("formmethod"))||c;N(C||k.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:a,state:i,relative:h,preventScrollReset:p,viewTransition:g})};return j.createElement("form",oe(z({ref:y,method:R,action:S,onSubmit:s?f:T},b),{"data-discover":!D&&e==="render"?"true":void 0}))});xM.displayName="Form";function yM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WN(e){let t=j.useContext(Ho);return $t(t,yM(e)),t}function bM(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:c}={}){let d=_R(),f=Hi(),h=td(e,{relative:i});return j.useCallback(p=>{if(KR(p,t)){p.preventDefault();let g=n!==void 0?n:Pi(f)===Pi(h);d(e,{replace:g,state:s,preventScrollReset:a,relative:i,viewTransition:c})}},[f,d,h,n,s,t,e,a,i,c])}var vM=0,wM=()=>`__${String(++vM)}__`;function _M(){let{router:e}=WN("useSubmit"),{basename:t}=j.useContext(ga),n=PR();return j.useCallback((i,...c)=>ve(null,[i,...c],function*(s,a={}){let{action:d,method:f,encType:h,formData:p,body:g}=JR(s,t);if(a.navigate===!1){let b=a.fetcherKey||wM();yield e.fetch(b,n,a.action||d,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||f,formEncType:a.encType||h,flushSync:a.flushSync})}else yield e.navigate(a.action||d,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||f,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,t,n])}function jM(e,{relative:t}={}){let{basename:n}=j.useContext(ga),s=j.useContext(xa);$t(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i=z({},td(e||".",{relative:t})),c=Hi();if(e==null){i.search=c.search;let d=new URLSearchParams(i.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();i.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:da([n,i.pathname])),Pi(i)}function SM(e,{relative:t}={}){let n=j.useContext(Vx);$t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=WN("useViewTransitionState"),a=td(e,{relative:t});if(!n.isTransitioning)return!1;let i=Er(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Er(n.nextLocation.pathname,s)||n.nextLocation.pathname;return kh(a.pathname,c)!=null||kh(a.pathname,i)!=null}var lm=VS();const YN=Tx(lm);function NM(e){return j.createElement($R,z({flushSync:lm.flushSync},e))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),Ej=e=>{const t=TM(e);return t.charAt(0).toUpperCase()+t.slice(1)},XN=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),CM=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=j.forwardRef((h,f)=>{var p=h,{color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:c}=p,d=ke(p,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return j.createElement("svg",z(z(oe(z({ref:f},kM),{width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:XN("lucide",a)}),!i&&!CM(d)&&{"aria-hidden":"true"}),d),[...c.map(([g,b])=>j.createElement(g,b)),...Array.isArray(i)?i:[i]])});/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=(e,t)=>{const n=j.forwardRef((c,i)=>{var d=c,{className:s}=d,a=ke(d,["className"]);return j.createElement(OM,z({ref:i,iconNode:t,className:XN(`lucide-${EM(Ej(e))}`,`lucide-${e}`,s)},a))});return n.displayName=Ej(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],AM=xt("activity",DM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],MM=xt("archive",RM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Gx=xt("arrow-left",PM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],zM=xt("bell",LM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Vr=xt("calendar",UM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],BM=xt("chart-column",FM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],HM=xt("check",$M);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],GN=xt("chevron-down",VM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qM=xt("chevron-right",IM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],YM=xt("chevrons-up-down",WM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Kl=xt("circle-alert",XM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],KM=xt("circle-check-big",GM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Kx=xt("circle-check",QM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tc=xt("clock",ZM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],eP=xt("crown",JM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Qx=xt("dollar-sign",tP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Tj=xt("download",nP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],rP=xt("ellipsis-vertical",sP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],iP=xt("external-link",aP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lP=xt("eye",oP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Hl=xt("file-text",cP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Df=xt("file",uP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],fP=xt("folder-open",dP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Zx=xt("funnel",hP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],pP=xt("grid-3x3",mP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],xP=xt("image",gP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],bP=xt("layout-dashboard",yP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Af=xt("link",vP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],_P=xt("list",wP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Y0=xt("loader-circle",jP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],NP=xt("log-out",SP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],TP=xt("menu",EP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],kP=xt("pause",CP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],DP=xt("pen",OP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],RP=xt("piggy-bank",AP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],PP=xt("play",MP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ro=xt("plus",LP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],UP=xt("refresh-cw",zP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cm=xt("search",FP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],KN=xt("settings",BP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],HP=xt("square-check-big",$P);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Vu=xt("square-pen",VP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],qP=xt("square",IP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Jx=xt("target",WP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Mo=xt("trash-2",YP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],um=xt("triangle-alert",XP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],KP=xt("upload",GP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ah=xt("user",QP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yh=xt("users",ZP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],e3=xt("x",JP),t3=[{name:"Dashboard",href:"/",icon:bP},{name:"Projects",href:"/projects",icon:fP},{name:"Tasks",href:"/tasks",icon:HP},{name:"Time Tracking",href:"/time-tracking",icon:tc},{name:"Cost Analysis",href:"/cost-analysis",icon:Qx},{name:"Reports",href:"/reports",icon:BM},{name:"Calendar",href:"/calendar",icon:Vr},{name:"Team",href:"/team",icon:yh},{name:"Documents",href:"/documents",icon:Hl},{name:"Settings",href:"/settings",icon:KN}],Cj=()=>{const e=Hi();return l.jsxs("div",{className:"flex flex-col w-64 bg-white shadow-lg border-r border-gray-200",children:[l.jsx("div",{className:"flex items-center justify-center h-16 px-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",children:l.jsx("img",{src:"https://ctuav.vn/wp-content/uploads/2024/08/Logo-moi-ctuav.png",alt:"CT UAV Logo",className:"w-8 h-8 object-contain"})}),l.jsx("span",{className:"text-xl font-bold text-gray-800",children:"CT UAV"})]})}),l.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:t3.map(t=>{const n=e.pathname===t.href;return l.jsxs(qN,{to:t.href,className:`
                group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200
                ${n?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-md":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}
              `,children:[l.jsx(t.icon,{className:`
                  mr-3 h-5 w-5 transition-colors duration-200
                  ${n?"text-white":"text-gray-500 group-hover:text-gray-700"}
                `}),t.name]},t.name)})}),l.jsx("div",{className:"p-4 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white font-medium text-sm",children:"U"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Admin"}),l.jsx("p",{className:"text-xs text-gray-500 truncate",children:"admin@ctgroupvietnam.com"})]})]})})]})};function rr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function kj(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Po(...e){return t=>{let n=!1;const s=e.map(a=>{const i=kj(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():kj(e[a],null)}}}}function kn(...e){return j.useCallback(Po(...e),e)}function ey(e,t){const n=j.createContext(t),s=i=>{const h=i,{children:c}=h,d=ke(h,["children"]),f=j.useMemo(()=>d,Object.values(d));return l.jsx(n.Provider,{value:f,children:c})};s.displayName=e+"Provider";function a(i){const c=j.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function nd(e,t=[]){let n=[];function s(i,c){const d=j.createContext(c),f=n.length;n=[...n,c];const h=g=>{var R;const S=g,{scope:b,children:y}=S,_=ke(S,["scope","children"]),w=((R=b==null?void 0:b[e])==null?void 0:R[f])||d,N=j.useMemo(()=>_,Object.values(_));return l.jsx(w.Provider,{value:N,children:y})};h.displayName=i+"Provider";function p(g,b){var w;const y=((w=b==null?void 0:b[e])==null?void 0:w[f])||d,_=j.useContext(y);if(_)return _;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[h,p]}const a=()=>{const i=n.map(c=>j.createContext(c));return function(d){const f=(d==null?void 0:d[e])||i;return j.useMemo(()=>({[`__scope${e}`]:oe(z({},d),{[e]:f})}),[d,f])}};return a.scopeName=e,[s,n3(a,...t)]}function n3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const c=s.reduce((d,{useScope:f,scopeName:h})=>{const g=f(i)[`__scope${h}`];return z(z({},d),g)},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function nc(e){const t=r3(e),n=j.forwardRef((s,a)=>{const h=s,{children:i}=h,c=ke(h,["children"]),d=j.Children.toArray(i),f=d.find(i3);if(f){const p=f.props.children,g=d.map(b=>b===f?j.Children.count(p)>1?j.Children.only(null):j.isValidElement(p)?p.props.children:null:b);return l.jsx(t,oe(z({},c),{ref:a,children:j.isValidElement(p)?j.cloneElement(p,void 0,g):null}))}return l.jsx(t,oe(z({},c),{ref:a,children:i}))});return n.displayName=`${e}.Slot`,n}var s3=nc("Slot");function r3(e){const t=j.forwardRef((n,s)=>{const c=n,{children:a}=c,i=ke(c,["children"]);if(j.isValidElement(a)){const d=l3(a),f=o3(i,a.props);return a.type!==j.Fragment&&(f.ref=s?Po(s,d):d),j.cloneElement(a,f)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var a3=Symbol("radix.slottable");function i3(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===a3}function o3(e,t){const n=z({},t);for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...d)=>{const f=i(...d);return a(...d),f}:a&&(n[s]=a):s==="style"?n[s]=z(z({},a),i):s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return z(z({},e),n)}function l3(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var c3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ht=c3.reduce((e,t)=>{const n=nc(`Primitive.${t}`),s=j.forwardRef((a,i)=>{const h=a,{asChild:c}=h,d=ke(h,["asChild"]),f=c?n:t;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(f,oe(z({},d),{ref:i}))});return s.displayName=`Primitive.${t}`,oe(z({},e),{[t]:s})},{});function ty(e,t){e&&lm.flushSync(()=>e.dispatchEvent(t))}function ma(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function ny(e,t=globalThis==null?void 0:globalThis.document){const n=ma(e);j.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var u3="DismissableLayer",X0="dismissableLayer.update",d3="dismissableLayer.pointerDownOutside",f3="dismissableLayer.focusOutside",Oj,QN=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sy=j.forwardRef((e,t)=>{var P;const A=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:c,onDismiss:d}=A,f=ke(A,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),h=j.useContext(QN),[p,g]=j.useState(null),b=(P=p==null?void 0:p.ownerDocument)!=null?P:globalThis==null?void 0:globalThis.document,[,y]=j.useState({}),_=kn(t,U=>g(U)),w=Array.from(h.layers),[N]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),S=w.indexOf(N),R=p?w.indexOf(p):-1,D=h.layersWithOutsidePointerEventsDisabled.size>0,T=R>=S,k=p3(U=>{const K=U.target,$=[...h.branches].some(G=>G.contains(K));!T||$||(a==null||a(U),c==null||c(U),U.defaultPrevented||d==null||d())},b),C=g3(U=>{const K=U.target;[...h.branches].some(G=>G.contains(K))||(i==null||i(U),c==null||c(U),U.defaultPrevented||d==null||d())},b);return ny(U=>{R===h.layers.size-1&&(s==null||s(U),!U.defaultPrevented&&d&&(U.preventDefault(),d()))},b),j.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Oj=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),Dj(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Oj)}},[p,b,n,h]),j.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),Dj())},[p,h]),j.useEffect(()=>{const U=()=>y({});return document.addEventListener(X0,U),()=>document.removeEventListener(X0,U)},[]),l.jsx(Ht.div,oe(z({},f),{ref:_,style:z({pointerEvents:D?T?"auto":"none":void 0},e.style),onFocusCapture:rr(e.onFocusCapture,C.onFocusCapture),onBlurCapture:rr(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:rr(e.onPointerDownCapture,k.onPointerDownCapture)}))});sy.displayName=u3;var h3="DismissableLayerBranch",m3=j.forwardRef((e,t)=>{const n=j.useContext(QN),s=j.useRef(null),a=kn(t,s);return j.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(Ht.div,oe(z({},e),{ref:a}))});m3.displayName=h3;function p3(e,t=globalThis==null?void 0:globalThis.document){const n=ma(e),s=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=d=>{if(d.target&&!s.current){let f=function(){ZN(d3,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function g3(e,t=globalThis==null?void 0:globalThis.document){const n=ma(e),s=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!s.current&&ZN(f3,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Dj(){const e=new CustomEvent(X0);document.dispatchEvent(e)}function ZN(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?ty(a,i):a.dispatchEvent(i)}var Yg=0;function JN(){j.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:Aj()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:Aj()),Yg++,()=>{Yg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Yg--}},[])}function Aj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Xg="focusScope.autoFocusOnMount",Gg="focusScope.autoFocusOnUnmount",Rj={bubbles:!1,cancelable:!0},x3="FocusScope",sd=j.forwardRef((e,t)=>{const w=e,{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i}=w,c=ke(w,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[d,f]=j.useState(null),h=ma(a),p=ma(i),g=j.useRef(null),b=kn(t,N=>f(N)),y=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(s){let N=function(T){if(y.paused||!d)return;const k=T.target;d.contains(k)?g.current=k:Ni(g.current,{select:!0})},S=function(T){if(y.paused||!d)return;const k=T.relatedTarget;k!==null&&(d.contains(k)||Ni(g.current,{select:!0}))},R=function(T){if(document.activeElement===document.body)for(const C of T)C.removedNodes.length>0&&Ni(d)};document.addEventListener("focusin",N),document.addEventListener("focusout",S);const D=new MutationObserver(R);return d&&D.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",S),D.disconnect()}}},[s,d,y.paused]),j.useEffect(()=>{if(d){Pj.add(y);const N=document.activeElement;if(!d.contains(N)){const R=new CustomEvent(Xg,Rj);d.addEventListener(Xg,h),d.dispatchEvent(R),R.defaultPrevented||(y3(j3(e2(d)),{select:!0}),document.activeElement===N&&Ni(d))}return()=>{d.removeEventListener(Xg,h),setTimeout(()=>{const R=new CustomEvent(Gg,Rj);d.addEventListener(Gg,p),d.dispatchEvent(R),R.defaultPrevented||Ni(N!=null?N:document.body,{select:!0}),d.removeEventListener(Gg,p),Pj.remove(y)},0)}}},[d,h,p,y]);const _=j.useCallback(N=>{if(!n&&!s||y.paused)return;const S=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,R=document.activeElement;if(S&&R){const D=N.currentTarget,[T,k]=b3(D);T&&k?!N.shiftKey&&R===k?(N.preventDefault(),n&&Ni(T,{select:!0})):N.shiftKey&&R===T&&(N.preventDefault(),n&&Ni(k,{select:!0})):R===D&&N.preventDefault()}},[n,s,y.paused]);return l.jsx(Ht.div,oe(z({tabIndex:-1},c),{ref:b,onKeyDown:_}))});sd.displayName=x3;function y3(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Ni(s,{select:t}),document.activeElement!==n)return}function b3(e){const t=e2(e),n=Mj(t,e),s=Mj(t.reverse(),e);return[n,s]}function e2(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Mj(e,t){for(const n of e)if(!v3(n,{upTo:t}))return n}function v3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function w3(e){return e instanceof HTMLInputElement&&"select"in e}function Ni(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&w3(e)&&t&&e.select()}}var Pj=_3();function _3(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Lj(e,t),e.unshift(t)},remove(t){var n;e=Lj(e,t),(n=e[0])==null||n.resume()}}}function Lj(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function j3(e){return e.filter(t=>t.tagName!=="A")}var Tr=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},S3=HS[" useId ".trim().toString()]||(()=>{}),N3=0;function Ts(e){const[t,n]=j.useState(S3());return Tr(()=>{n(s=>s!=null?s:String(N3++))},[e]),e||(t?`radix-${t}`:"")}const E3=["top","right","bottom","left"],Li=Math.min,sr=Math.max,Rh=Math.round,Rf=Math.floor,fa=e=>({x:e,y:e}),T3={left:"right",right:"left",bottom:"top",top:"bottom"},C3={start:"end",end:"start"};function G0(e,t,n){return sr(e,Li(t,n))}function Ya(e,t){return typeof e=="function"?e(t):e}function Xa(e){return e.split("-")[0]}function sc(e){return e.split("-")[1]}function ry(e){return e==="x"?"y":"x"}function ay(e){return e==="y"?"height":"width"}const k3=new Set(["top","bottom"]);function la(e){return k3.has(Xa(e))?"y":"x"}function iy(e){return ry(la(e))}function O3(e,t,n){n===void 0&&(n=!1);const s=sc(e),a=iy(e),i=ay(a);let c=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(c=Mh(c)),[c,Mh(c)]}function D3(e){const t=Mh(e);return[K0(e),t,K0(t)]}function K0(e){return e.replace(/start|end/g,t=>C3[t])}const zj=["left","right"],Uj=["right","left"],A3=["top","bottom"],R3=["bottom","top"];function M3(e,t,n){switch(e){case"top":case"bottom":return n?t?Uj:zj:t?zj:Uj;case"left":case"right":return t?A3:R3;default:return[]}}function P3(e,t,n,s){const a=sc(e);let i=M3(Xa(e),n==="start",s);return a&&(i=i.map(c=>c+"-"+a),t&&(i=i.concat(i.map(K0)))),i}function Mh(e){return e.replace(/left|right|bottom|top/g,t=>T3[t])}function L3(e){return z({top:0,right:0,bottom:0,left:0},e)}function t2(e){return typeof e!="number"?L3(e):{top:e,right:e,bottom:e,left:e}}function Ph(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function Fj(e,t,n){let{reference:s,floating:a}=e;const i=la(t),c=iy(t),d=ay(c),f=Xa(t),h=i==="y",p=s.x+s.width/2-a.width/2,g=s.y+s.height/2-a.height/2,b=s[d]/2-a[d]/2;let y;switch(f){case"top":y={x:p,y:s.y-a.height};break;case"bottom":y={x:p,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:g};break;case"left":y={x:s.x-a.width,y:g};break;default:y={x:s.x,y:s.y}}switch(sc(t)){case"start":y[c]-=b*(n&&h?-1:1);break;case"end":y[c]+=b*(n&&h?-1:1);break}return y}const z3=(e,t,n)=>ve(null,null,function*(){const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:c}=n,d=i.filter(Boolean),f=yield c.isRTL==null?void 0:c.isRTL(t);let h=yield c.getElementRects({reference:e,floating:t,strategy:a}),{x:p,y:g}=Fj(h,s,f),b=s,y={},_=0;for(let w=0;w<d.length;w++){const{name:N,fn:S}=d[w],{x:R,y:D,data:T,reset:k}=yield S({x:p,y:g,initialPlacement:s,placement:b,strategy:a,middlewareData:y,rects:h,platform:c,elements:{reference:e,floating:t}});p=R!=null?R:p,g=D!=null?D:g,y=oe(z({},y),{[N]:z(z({},y[N]),T)}),k&&_<=50&&(_++,typeof k=="object"&&(k.placement&&(b=k.placement),k.rects&&(h=k.rects===!0?yield c.getElementRects({reference:e,floating:t,strategy:a}):k.rects),{x:p,y:g}=Fj(h,b,f)),w=-1)}return{x:p,y:g,placement:b,strategy:a,middlewareData:y}});function Iu(e,t){return ve(this,null,function*(){var n;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:c,elements:d,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:b=!1,padding:y=0}=Ya(t,e),_=t2(y),N=d[b?g==="floating"?"reference":"floating":g],S=Ph(yield i.getClippingRect({element:(n=yield i.isElement==null?void 0:i.isElement(N))==null||n?N:N.contextElement||(yield i.getDocumentElement==null?void 0:i.getDocumentElement(d.floating)),boundary:h,rootBoundary:p,strategy:f})),R=g==="floating"?{x:s,y:a,width:c.floating.width,height:c.floating.height}:c.reference,D=yield i.getOffsetParent==null?void 0:i.getOffsetParent(d.floating),T=(yield i.isElement==null?void 0:i.isElement(D))?(yield i.getScale==null?void 0:i.getScale(D))||{x:1,y:1}:{x:1,y:1},k=Ph(i.convertOffsetParentRelativeRectToViewportRelativeRect?yield i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:R,offsetParent:D,strategy:f}):R);return{top:(S.top-k.top+_.top)/T.y,bottom:(k.bottom-S.bottom+_.bottom)/T.y,left:(S.left-k.left+_.left)/T.x,right:(k.right-S.right+_.right)/T.x}})}const U3=e=>({name:"arrow",options:e,fn(n){return ve(this,null,function*(){const{x:s,y:a,placement:i,rects:c,platform:d,elements:f,middlewareData:h}=n,{element:p,padding:g=0}=Ya(e,n)||{};if(p==null)return{};const b=t2(g),y={x:s,y:a},_=iy(i),w=ay(_),N=yield d.getDimensions(p),S=_==="y",R=S?"top":"left",D=S?"bottom":"right",T=S?"clientHeight":"clientWidth",k=c.reference[w]+c.reference[_]-y[_]-c.floating[w],C=y[_]-c.reference[_],A=yield d.getOffsetParent==null?void 0:d.getOffsetParent(p);let P=A?A[T]:0;(!P||!(yield d.isElement==null?void 0:d.isElement(A)))&&(P=f.floating[T]||c.floating[w]);const U=k/2-C/2,K=P/2-N[w]/2-1,$=Li(b[R],K),G=Li(b[D],K),W=$,ee=P-N[w]-G,Y=P/2-N[w]/2+U,H=G0(W,Y,ee),J=!h.arrow&&sc(i)!=null&&Y!==H&&c.reference[w]/2-(Y<W?$:G)-N[w]/2<0,te=J?Y<W?Y-W:Y-ee:0;return{[_]:y[_]+te,data:z({[_]:H,centerOffset:Y-H-te},J&&{alignmentOffset:te}),reset:J}})}}),F3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(n){return ve(this,null,function*(){var s,a;const{placement:i,middlewareData:c,rects:d,initialPlacement:f,platform:h,elements:p}=n,Y=Ya(e,n),{mainAxis:g=!0,crossAxis:b=!0,fallbackPlacements:y,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:N=!0}=Y,S=ke(Y,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((s=c.arrow)!=null&&s.alignmentOffset)return{};const R=Xa(i),D=la(f),T=Xa(f)===f,k=yield h.isRTL==null?void 0:h.isRTL(p.floating),C=y||(T||!N?[Mh(f)]:D3(f)),A=w!=="none";!y&&A&&C.push(...P3(f,N,w,k));const P=[f,...C],U=yield Iu(n,S),K=[];let $=((a=c.flip)==null?void 0:a.overflows)||[];if(g&&K.push(U[R]),b){const H=O3(i,d,k);K.push(U[H[0]],U[H[1]])}if($=[...$,{placement:i,overflows:K}],!K.every(H=>H<=0)){var G,W;const H=(((G=c.flip)==null?void 0:G.index)||0)+1,J=P[H];if(J&&(!(b==="alignment"?D!==la(J):!1)||$.every(L=>la(L.placement)===D?L.overflows[0]>0:!0)))return{data:{index:H,overflows:$},reset:{placement:J}};let te=(W=$.filter(ce=>ce.overflows[0]<=0).sort((ce,L)=>ce.overflows[1]-L.overflows[1])[0])==null?void 0:W.placement;if(!te)switch(_){case"bestFit":{var ee;const ce=(ee=$.filter(L=>{if(A){const le=la(L.placement);return le===D||le==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(le=>le>0).reduce((le,re)=>le+re,0)]).sort((L,le)=>L[1]-le[1])[0])==null?void 0:ee[0];ce&&(te=ce);break}case"initialPlacement":te=f;break}if(i!==te)return{reset:{placement:te}}}return{}})}}};function Bj(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function $j(e){return E3.some(t=>e[t]>=0)}const B3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(n){return ve(this,null,function*(){const{rects:s}=n,c=Ya(e,n),{strategy:a="referenceHidden"}=c,i=ke(c,["strategy"]);switch(a){case"referenceHidden":{const d=yield Iu(n,oe(z({},i),{elementContext:"reference"})),f=Bj(d,s.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:$j(f)}}}case"escaped":{const d=yield Iu(n,oe(z({},i),{altBoundary:!0})),f=Bj(d,s.floating);return{data:{escapedOffsets:f,escaped:$j(f)}}}default:return{}}})}}},n2=new Set(["left","top"]);function $3(e,t){return ve(this,null,function*(){const{placement:n,platform:s,elements:a}=e,i=yield s.isRTL==null?void 0:s.isRTL(a.floating),c=Xa(n),d=sc(n),f=la(n)==="y",h=n2.has(c)?-1:1,p=i&&f?-1:1,g=Ya(t,e);let{mainAxis:b,crossAxis:y,alignmentAxis:_}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof _=="number"&&(y=d==="end"?_*-1:_),f?{x:y*p,y:b*h}:{x:b*h,y:y*p}})}const H3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(n){return ve(this,null,function*(){var s,a;const{x:i,y:c,placement:d,middlewareData:f}=n,h=yield $3(n,e);return d===((s=f.offset)==null?void 0:s.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:i+h.x,y:c+h.y,data:oe(z({},h),{placement:d})}})}}},V3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(n){return ve(this,null,function*(){const{x:s,y:a,placement:i}=n,S=Ya(e,n),{mainAxis:c=!0,crossAxis:d=!1,limiter:f={fn:R=>{let{x:D,y:T}=R;return{x:D,y:T}}}}=S,h=ke(S,["mainAxis","crossAxis","limiter"]),p={x:s,y:a},g=yield Iu(n,h),b=la(Xa(i)),y=ry(b);let _=p[y],w=p[b];if(c){const R=y==="y"?"top":"left",D=y==="y"?"bottom":"right",T=_+g[R],k=_-g[D];_=G0(T,_,k)}if(d){const R=b==="y"?"top":"left",D=b==="y"?"bottom":"right",T=w+g[R],k=w-g[D];w=G0(T,w,k)}const N=f.fn(oe(z({},n),{[y]:_,[b]:w}));return oe(z({},N),{data:{x:N.x-s,y:N.y-a,enabled:{[y]:c,[b]:d}}})})}}},I3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:i,middlewareData:c}=t,{offset:d=0,mainAxis:f=!0,crossAxis:h=!0}=Ya(e,t),p={x:n,y:s},g=la(a),b=ry(g);let y=p[b],_=p[g];const w=Ya(d,t),N=typeof w=="number"?{mainAxis:w,crossAxis:0}:z({mainAxis:0,crossAxis:0},w);if(f){const D=b==="y"?"height":"width",T=i.reference[b]-i.floating[D]+N.mainAxis,k=i.reference[b]+i.reference[D]-N.mainAxis;y<T?y=T:y>k&&(y=k)}if(h){var S,R;const D=b==="y"?"width":"height",T=n2.has(Xa(a)),k=i.reference[g]-i.floating[D]+(T&&((S=c.offset)==null?void 0:S[g])||0)+(T?0:N.crossAxis),C=i.reference[g]+i.reference[D]+(T?0:((R=c.offset)==null?void 0:R[g])||0)-(T?N.crossAxis:0);_<k?_=k:_>C&&(_=C)}return{[b]:y,[g]:_}}}},q3=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(n){return ve(this,null,function*(){var s,a;const{placement:i,rects:c,platform:d,elements:f}=n,$=Ya(e,n),{apply:h=()=>{}}=$,p=ke($,["apply"]),g=yield Iu(n,p),b=Xa(i),y=sc(i),_=la(i)==="y",{width:w,height:N}=c.floating;let S,R;b==="top"||b==="bottom"?(S=b,R=y===((yield d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(R=b,S=y==="end"?"top":"bottom");const D=N-g.top-g.bottom,T=w-g.left-g.right,k=Li(N-g[S],D),C=Li(w-g[R],T),A=!n.middlewareData.shift;let P=k,U=C;if((s=n.middlewareData.shift)!=null&&s.enabled.x&&(U=T),(a=n.middlewareData.shift)!=null&&a.enabled.y&&(P=D),A&&!y){const G=sr(g.left,0),W=sr(g.right,0),ee=sr(g.top,0),Y=sr(g.bottom,0);_?U=w-2*(G!==0||W!==0?G+W:sr(g.left,g.right)):P=N-2*(ee!==0||Y!==0?ee+Y:sr(g.top,g.bottom))}yield h(oe(z({},n),{availableWidth:U,availableHeight:P}));const K=yield d.getDimensions(f.floating);return w!==K.width||N!==K.height?{reset:{rects:!0}}:{}})}}};function dm(){return typeof window!="undefined"}function rc(e){return s2(e)?(e.nodeName||"").toLowerCase():"#document"}function ar(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ya(e){var t;return(t=(s2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function s2(e){return dm()?e instanceof Node||e instanceof ar(e).Node:!1}function Ir(e){return dm()?e instanceof Element||e instanceof ar(e).Element:!1}function pa(e){return dm()?e instanceof HTMLElement||e instanceof ar(e).HTMLElement:!1}function Hj(e){return!dm()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof ar(e).ShadowRoot}const W3=new Set(["inline","contents"]);function rd(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=qr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!W3.has(a)}const Y3=new Set(["table","td","th"]);function X3(e){return Y3.has(rc(e))}const G3=[":popover-open",":modal"];function fm(e){return G3.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const K3=["transform","translate","scale","rotate","perspective"],Q3=["transform","translate","scale","rotate","perspective","filter"],Z3=["paint","layout","strict","content"];function oy(e){const t=ly(),n=Ir(e)?qr(e):e;return K3.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Q3.some(s=>(n.willChange||"").includes(s))||Z3.some(s=>(n.contain||"").includes(s))}function J3(e){let t=zi(e);for(;pa(t)&&!Ql(t);){if(oy(t))return t;if(fm(t))return null;t=zi(t)}return null}function ly(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const e4=new Set(["html","body","#document"]);function Ql(e){return e4.has(rc(e))}function qr(e){return ar(e).getComputedStyle(e)}function hm(e){return Ir(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zi(e){if(rc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Hj(e)&&e.host||ya(e);return Hj(t)?t.host:t}function r2(e){const t=zi(e);return Ql(t)?e.ownerDocument?e.ownerDocument.body:e.body:pa(t)&&rd(t)?t:r2(t)}function qu(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=r2(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),c=ar(a);if(i){const d=Q0(c);return t.concat(c,c.visualViewport||[],rd(a)?a:[],d&&n?qu(d):[])}return t.concat(a,qu(a,[],n))}function Q0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function a2(e){const t=qr(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=pa(e),i=a?e.offsetWidth:n,c=a?e.offsetHeight:s,d=Rh(n)!==i||Rh(s)!==c;return d&&(n=i,s=c),{width:n,height:s,$:d}}function cy(e){return Ir(e)?e:e.contextElement}function ql(e){const t=cy(e);if(!pa(t))return fa(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:i}=a2(t);let c=(i?Rh(n.width):n.width)/s,d=(i?Rh(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const t4=fa(0);function i2(e){const t=ar(e);return!ly()||!t.visualViewport?t4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function n4(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ar(e)?!1:t}function Lo(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=cy(e);let c=fa(1);t&&(s?Ir(s)&&(c=ql(s)):c=ql(e));const d=n4(i,n,s)?i2(i):fa(0);let f=(a.left+d.x)/c.x,h=(a.top+d.y)/c.y,p=a.width/c.x,g=a.height/c.y;if(i){const b=ar(i),y=s&&Ir(s)?ar(s):s;let _=b,w=Q0(_);for(;w&&s&&y!==_;){const N=ql(w),S=w.getBoundingClientRect(),R=qr(w),D=S.left+(w.clientLeft+parseFloat(R.paddingLeft))*N.x,T=S.top+(w.clientTop+parseFloat(R.paddingTop))*N.y;f*=N.x,h*=N.y,p*=N.x,g*=N.y,f+=D,h+=T,_=ar(w),w=Q0(_)}}return Ph({width:p,height:g,x:f,y:h})}function uy(e,t){const n=hm(e).scrollLeft;return t?t.left+n:Lo(ya(e)).left+n}function o2(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:uy(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function s4(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const i=a==="fixed",c=ya(s),d=t?fm(t.floating):!1;if(s===c||d&&i)return n;let f={scrollLeft:0,scrollTop:0},h=fa(1);const p=fa(0),g=pa(s);if((g||!g&&!i)&&((rc(s)!=="body"||rd(c))&&(f=hm(s)),pa(s))){const y=Lo(s);h=ql(s),p.x=y.x+s.clientLeft,p.y=y.y+s.clientTop}const b=c&&!g&&!i?o2(c,f,!0):fa(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+p.x+b.x,y:n.y*h.y-f.scrollTop*h.y+p.y+b.y}}function r4(e){return Array.from(e.getClientRects())}function a4(e){const t=ya(e),n=hm(e),s=e.ownerDocument.body,a=sr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=sr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let c=-n.scrollLeft+uy(e);const d=-n.scrollTop;return qr(s).direction==="rtl"&&(c+=sr(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:c,y:d}}function i4(e,t){const n=ar(e),s=ya(e),a=n.visualViewport;let i=s.clientWidth,c=s.clientHeight,d=0,f=0;if(a){i=a.width,c=a.height;const h=ly();(!h||h&&t==="fixed")&&(d=a.offsetLeft,f=a.offsetTop)}return{width:i,height:c,x:d,y:f}}const o4=new Set(["absolute","fixed"]);function l4(e,t){const n=Lo(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,i=pa(e)?ql(e):fa(1),c=e.clientWidth*i.x,d=e.clientHeight*i.y,f=a*i.x,h=s*i.y;return{width:c,height:d,x:f,y:h}}function Vj(e,t,n){let s;if(t==="viewport")s=i4(e,n);else if(t==="document")s=a4(ya(e));else if(Ir(t))s=l4(t,n);else{const a=i2(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Ph(s)}function l2(e,t){const n=zi(e);return n===t||!Ir(n)||Ql(n)?!1:qr(n).position==="fixed"||l2(n,t)}function c4(e,t){const n=t.get(e);if(n)return n;let s=qu(e,[],!1).filter(d=>Ir(d)&&rc(d)!=="body"),a=null;const i=qr(e).position==="fixed";let c=i?zi(e):e;for(;Ir(c)&&!Ql(c);){const d=qr(c),f=oy(c);!f&&d.position==="fixed"&&(a=null),(i?!f&&!a:!f&&d.position==="static"&&!!a&&o4.has(a.position)||rd(c)&&!f&&l2(e,c))?s=s.filter(p=>p!==c):a=d,c=zi(c)}return t.set(e,s),s}function u4(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const c=[...n==="clippingAncestors"?fm(t)?[]:c4(t,this._c):[].concat(n),s],d=c[0],f=c.reduce((h,p)=>{const g=Vj(t,p,a);return h.top=sr(g.top,h.top),h.right=Li(g.right,h.right),h.bottom=Li(g.bottom,h.bottom),h.left=sr(g.left,h.left),h},Vj(t,d,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function d4(e){const{width:t,height:n}=a2(e);return{width:t,height:n}}function f4(e,t,n){const s=pa(t),a=ya(t),i=n==="fixed",c=Lo(e,!0,i,t);let d={scrollLeft:0,scrollTop:0};const f=fa(0);function h(){f.x=uy(a)}if(s||!s&&!i)if((rc(t)!=="body"||rd(a))&&(d=hm(t)),s){const y=Lo(t,!0,i,t);f.x=y.x+t.clientLeft,f.y=y.y+t.clientTop}else a&&h();i&&!s&&a&&h();const p=a&&!s&&!i?o2(a,d):fa(0),g=c.left+d.scrollLeft-f.x-p.x,b=c.top+d.scrollTop-f.y-p.y;return{x:g,y:b,width:c.width,height:c.height}}function Kg(e){return qr(e).position==="static"}function Ij(e,t){if(!pa(e)||qr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ya(e)===n&&(n=n.ownerDocument.body),n}function c2(e,t){const n=ar(e);if(fm(e))return n;if(!pa(e)){let a=zi(e);for(;a&&!Ql(a);){if(Ir(a)&&!Kg(a))return a;a=zi(a)}return n}let s=Ij(e,t);for(;s&&X3(s)&&Kg(s);)s=Ij(s,t);return s&&Ql(s)&&Kg(s)&&!oy(s)?n:s||J3(e)||n}const h4=function(e){return ve(this,null,function*(){const t=this.getOffsetParent||c2,n=this.getDimensions,s=yield n(e.floating);return{reference:f4(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}})};function m4(e){return qr(e).direction==="rtl"}const p4={convertOffsetParentRelativeRectToViewportRelativeRect:s4,getDocumentElement:ya,getClippingRect:u4,getOffsetParent:c2,getElementRects:h4,getClientRects:r4,getDimensions:d4,getScale:ql,isElement:Ir,isRTL:m4};function u2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function g4(e,t){let n=null,s;const a=ya(e);function i(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),i();const h=e.getBoundingClientRect(),{left:p,top:g,width:b,height:y}=h;if(d||t(),!b||!y)return;const _=Rf(g),w=Rf(a.clientWidth-(p+b)),N=Rf(a.clientHeight-(g+y)),S=Rf(p),D={rootMargin:-_+"px "+-w+"px "+-N+"px "+-S+"px",threshold:sr(0,Li(1,f))||1};let T=!0;function k(C){const A=C[0].intersectionRatio;if(A!==f){if(!T)return c();A?c(!1,A):s=setTimeout(()=>{c(!1,1e-7)},1e3)}A===1&&!u2(h,e.getBoundingClientRect())&&c(),T=!1}try{n=new IntersectionObserver(k,oe(z({},D),{root:a.ownerDocument}))}catch(C){n=new IntersectionObserver(k,D)}n.observe(e)}return c(!0),i}function x4(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,h=cy(e),p=a||i?[...h?qu(h):[],...qu(t)]:[];p.forEach(S=>{a&&S.addEventListener("scroll",n,{passive:!0}),i&&S.addEventListener("resize",n)});const g=h&&d?g4(h,n):null;let b=-1,y=null;c&&(y=new ResizeObserver(S=>{let[R]=S;R&&R.target===h&&y&&(y.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var D;(D=y)==null||D.observe(t)})),n()}),h&&!f&&y.observe(h),y.observe(t));let _,w=f?Lo(e):null;f&&N();function N(){const S=Lo(e);w&&!u2(w,S)&&n(),w=S,_=requestAnimationFrame(N)}return n(),()=>{var S;p.forEach(R=>{a&&R.removeEventListener("scroll",n),i&&R.removeEventListener("resize",n)}),g==null||g(),(S=y)==null||S.disconnect(),y=null,f&&cancelAnimationFrame(_)}}const y4=H3,b4=V3,v4=F3,w4=q3,_4=B3,qj=U3,j4=I3,S4=(e,t,n)=>{const s=new Map,a=z({platform:p4},n),i=oe(z({},a.platform),{_c:s});return z3(e,t,oe(z({},a),{platform:i}))};var N4=typeof document!="undefined",E4=function(){},bh=N4?j.useLayoutEffect:E4;function Lh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Lh(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Lh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function d2(e){return typeof window=="undefined"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Wj(e,t){const n=d2(e);return Math.round(t*n)/n}function Qg(e){const t=j.useRef(e);return bh(()=>{t.current=e}),t}function T4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:c}={},transform:d=!0,whileElementsMounted:f,open:h}=e,[p,g]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,y]=j.useState(s);Lh(b,s)||y(s);const[_,w]=j.useState(null),[N,S]=j.useState(null),R=j.useCallback(te=>{te!==C.current&&(C.current=te,w(te))},[]),D=j.useCallback(te=>{te!==A.current&&(A.current=te,S(te))},[]),T=i||_,k=c||N,C=j.useRef(null),A=j.useRef(null),P=j.useRef(p),U=f!=null,K=Qg(f),$=Qg(a),G=Qg(h),W=j.useCallback(()=>{if(!C.current||!A.current)return;const te={placement:t,strategy:n,middleware:b};$.current&&(te.platform=$.current),S4(C.current,A.current,te).then(ce=>{const L=oe(z({},ce),{isPositioned:G.current!==!1});ee.current&&!Lh(P.current,L)&&(P.current=L,lm.flushSync(()=>{g(L)}))})},[b,t,n,$,G]);bh(()=>{h===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,g(te=>oe(z({},te),{isPositioned:!1})))},[h]);const ee=j.useRef(!1);bh(()=>(ee.current=!0,()=>{ee.current=!1}),[]),bh(()=>{if(T&&(C.current=T),k&&(A.current=k),T&&k){if(K.current)return K.current(T,k,W);W()}},[T,k,W,K,U]);const Y=j.useMemo(()=>({reference:C,floating:A,setReference:R,setFloating:D}),[R,D]),H=j.useMemo(()=>({reference:T,floating:k}),[T,k]),J=j.useMemo(()=>{const te={position:n,left:0,top:0};if(!H.floating)return te;const ce=Wj(H.floating,p.x),L=Wj(H.floating,p.y);return d?z(oe(z({},te),{transform:"translate("+ce+"px, "+L+"px)"}),d2(H.floating)>=1.5&&{willChange:"transform"}):{position:n,left:ce,top:L}},[n,d,H.floating,p.x,p.y]);return j.useMemo(()=>oe(z({},p),{update:W,refs:Y,elements:H,floatingStyles:J}),[p,W,Y,H,J])}const C4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?qj({element:s.current,padding:a}).fn(n):{}:s?qj({element:s,padding:a}).fn(n):{}}}},k4=(e,t)=>oe(z({},y4(e)),{options:[e,t]}),O4=(e,t)=>oe(z({},b4(e)),{options:[e,t]}),D4=(e,t)=>oe(z({},j4(e)),{options:[e,t]}),A4=(e,t)=>oe(z({},v4(e)),{options:[e,t]}),R4=(e,t)=>oe(z({},w4(e)),{options:[e,t]}),M4=(e,t)=>oe(z({},_4(e)),{options:[e,t]}),P4=(e,t)=>oe(z({},C4(e)),{options:[e,t]});var L4="Arrow",f2=j.forwardRef((e,t)=>{const c=e,{children:n,width:s=10,height:a=5}=c,i=ke(c,["children","width","height"]);return l.jsx(Ht.svg,oe(z({},i),{ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})}))});f2.displayName=L4;var z4=f2;function U4(e){const[t,n]=j.useState(void 0);return Tr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let c,d;if("borderBoxSize"in i){const f=i.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,d=h.blockSize}else c=e.offsetWidth,d=e.offsetHeight;n({width:c,height:d})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var dy="Popper",[h2,m2]=nd(dy),[F4,p2]=h2(dy),g2=e=>{const{__scopePopper:t,children:n}=e,[s,a]=j.useState(null);return l.jsx(F4,{scope:t,anchor:s,onAnchorChange:a,children:n})};g2.displayName=dy;var x2="PopperAnchor",y2=j.forwardRef((e,t)=>{const h=e,{__scopePopper:n,virtualRef:s}=h,a=ke(h,["__scopePopper","virtualRef"]),i=p2(x2,n),c=j.useRef(null),d=kn(t,c),f=j.useRef(null);return j.useEffect(()=>{const p=f.current;f.current=(s==null?void 0:s.current)||c.current,p!==f.current&&i.onAnchorChange(f.current)}),s?null:l.jsx(Ht.div,oe(z({},a),{ref:d}))});y2.displayName=x2;var fy="PopperContent",[B4,$4]=h2(fy),b2=j.forwardRef((e,t)=>{var Oe,He,Pe,rt,Ge,mt,ze,St;const Te=e,{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:y="optimized",onPlaced:_}=Te,w=ke(Te,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),N=p2(fy,n),[S,R]=j.useState(null),D=kn(t,at=>R(at)),[T,k]=j.useState(null),C=U4(T),A=(Oe=C==null?void 0:C.width)!=null?Oe:0,P=(He=C==null?void 0:C.height)!=null?He:0,U=s+(i!=="center"?"-"+i:""),K=typeof p=="number"?p:z({top:0,right:0,bottom:0,left:0},p),$=Array.isArray(h)?h:[h],G=$.length>0,W={padding:K,boundary:$.filter(V4),altBoundary:G},{refs:ee,floatingStyles:Y,placement:H,isPositioned:J,middlewareData:te}=T4({strategy:"fixed",placement:U,whileElementsMounted:(...at)=>x4(...at,{animationFrame:y==="always"}),elements:{reference:N.anchor},middleware:[k4({mainAxis:a+P,alignmentAxis:c}),f&&O4(z({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?D4():void 0},W)),f&&A4(z({},W)),R4(oe(z({},W),{apply:({elements:at,rects:Me,availableWidth:st,availableHeight:ft})=>{const{width:X,height:fe}=Me.reference,q=at.floating.style;q.setProperty("--radix-popper-available-width",`${st}px`),q.setProperty("--radix-popper-available-height",`${ft}px`),q.setProperty("--radix-popper-anchor-width",`${X}px`),q.setProperty("--radix-popper-anchor-height",`${fe}px`)}})),T&&P4({element:T,padding:d}),I4({arrowWidth:A,arrowHeight:P}),b&&M4(z({strategy:"referenceHidden"},W))]}),[ce,L]=_2(H),le=ma(_);Tr(()=>{J&&(le==null||le())},[J,le]);const re=(Pe=te.arrow)==null?void 0:Pe.x,V=(rt=te.arrow)==null?void 0:rt.y,ne=((Ge=te.arrow)==null?void 0:Ge.centerOffset)!==0,[xe,me]=j.useState();return Tr(()=>{S&&me(window.getComputedStyle(S).zIndex)},[S]),l.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:z(oe(z({},Y),{transform:J?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(mt=te.transformOrigin)==null?void 0:mt.x,(ze=te.transformOrigin)==null?void 0:ze.y].join(" ")}),((St=te.hide)==null?void 0:St.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:l.jsx(B4,{scope:n,placedSide:ce,onArrowChange:k,arrowX:re,arrowY:V,shouldHideArrow:ne,children:l.jsx(Ht.div,oe(z({"data-side":ce,"data-align":L},w),{ref:D,style:oe(z({},w.style),{animation:J?void 0:"none"})}))})})});b2.displayName=fy;var v2="PopperArrow",H4={top:"bottom",right:"left",bottom:"top",left:"right"},w2=j.forwardRef(function(t,n){const d=t,{__scopePopper:s}=d,a=ke(d,["__scopePopper"]),i=$4(v2,s),c=H4[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(z4,oe(z({},a),{ref:n,style:oe(z({},a.style),{display:"block"})}))})});w2.displayName=v2;function V4(e){return e!==null}var I4=e=>({name:"transformOrigin",options:e,fn(t){var N,S,R,D,T;const{placement:n,rects:s,middlewareData:a}=t,c=((N=a.arrow)==null?void 0:N.centerOffset)!==0,d=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[h,p]=_2(n),g={start:"0%",center:"50%",end:"100%"}[p],b=((R=(S=a.arrow)==null?void 0:S.x)!=null?R:0)+d/2,y=((T=(D=a.arrow)==null?void 0:D.y)!=null?T:0)+f/2;let _="",w="";return h==="bottom"?(_=c?g:`${b}px`,w=`${-f}px`):h==="top"?(_=c?g:`${b}px`,w=`${s.floating.height+f}px`):h==="right"?(_=`${-f}px`,w=c?g:`${y}px`):h==="left"&&(_=`${s.floating.width+f}px`,w=c?g:`${y}px`),{data:{x:_,y:w}}}});function _2(e){const[t,n="center"]=e.split("-");return[t,n]}var q4=g2,j2=y2,W4=b2,Y4=w2,X4="Portal",ad=j.forwardRef((e,t)=>{var f;const d=e,{container:n}=d,s=ke(d,["container"]),[a,i]=j.useState(!1);Tr(()=>i(!0),[]);const c=n||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return c?YN.createPortal(l.jsx(Ht.div,oe(z({},s),{ref:t})),c):null});ad.displayName=X4;function G4(e,t){return j.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var ac=e=>{const{present:t,children:n}=e,s=K4(t),a=typeof n=="function"?n({present:s.isPresent}):j.Children.only(n),i=kn(s.ref,Q4(a));return typeof n=="function"||s.isPresent?j.cloneElement(a,{ref:i}):null};ac.displayName="Presence";function K4(e){const[t,n]=j.useState(),s=j.useRef(null),a=j.useRef(e),i=j.useRef("none"),c=e?"mounted":"unmounted",[d,f]=G4(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const h=Mf(s.current);i.current=d==="mounted"?h:"none"},[d]),Tr(()=>{const h=s.current,p=a.current;if(p!==e){const b=i.current,y=Mf(h);e?f("MOUNT"):y==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&b!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Tr(()=>{var h;if(t){let p;const g=(h=t.ownerDocument.defaultView)!=null?h:window,b=_=>{const N=Mf(s.current).includes(CSS.escape(_.animationName));if(_.target===t&&N&&(f("ANIMATION_END"),!a.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},y=_=>{_.target===t&&(i.current=Mf(s.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:j.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function Mf(e){return(e==null?void 0:e.animationName)||"none"}function Q4(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Z4=HS[" useInsertionEffect ".trim().toString()]||Tr;function mm({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,i,c]=J4({defaultProp:t,onChange:n}),d=e!==void 0,f=d?e:a;{const p=j.useRef(e!==void 0);j.useEffect(()=>{const g=p.current;g!==d&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,s])}const h=j.useCallback(p=>{var g;if(d){const b=e5(p)?p(e):p;b!==e&&((g=c.current)==null||g.call(c,b))}else i(p)},[d,e,i,c]);return[f,h]}function J4({defaultProp:e,onChange:t}){const[n,s]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return Z4(()=>{i.current=t},[t]),j.useEffect(()=>{var c;a.current!==n&&((c=i.current)==null||c.call(i,n),a.current=n)},[n,a]),[n,s,i]}function e5(e){return typeof e=="function"}var t5=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ol=new WeakMap,Pf=new WeakMap,Lf={},Zg=0,S2=function(e){return e&&(e.host||S2(e.parentNode))},n5=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=S2(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},s5=function(e,t,n,s){var a=n5(t,Array.isArray(e)?e:[e]);Lf[n]||(Lf[n]=new WeakMap);var i=Lf[n],c=[],d=new Set,f=new Set(a),h=function(g){!g||d.has(g)||(d.add(g),h(g.parentNode))};a.forEach(h);var p=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(b){if(d.has(b))p(b);else try{var y=b.getAttribute(s),_=y!==null&&y!=="false",w=(Ol.get(b)||0)+1,N=(i.get(b)||0)+1;Ol.set(b,w),i.set(b,N),c.push(b),w===1&&_&&Pf.set(b,!0),N===1&&b.setAttribute(n,"true"),_||b.setAttribute(s,"true")}catch(S){console.error("aria-hidden: cannot operate on ",b,S)}})};return p(t),d.clear(),Zg++,function(){c.forEach(function(g){var b=Ol.get(g)-1,y=i.get(g)-1;Ol.set(g,b),i.set(g,y),b||(Pf.has(g)||g.removeAttribute(s),Pf.delete(g)),y||g.removeAttribute(n)}),Zg--,Zg||(Ol=new WeakMap,Ol=new WeakMap,Pf=new WeakMap,Lf={})}},pm=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=t5(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),s5(s,a,n,"aria-hidden")):function(){return null}},oa=function(){return oa=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},oa.apply(this,arguments)};function N2(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function r5(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var vh="right-scroll-bar-position",wh="width-before-scroll-bar",a5="with-scroll-bars-hidden",i5="--removed-body-scroll-bar-size";function Jg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function o5(e,t){var n=j.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var l5=typeof window!="undefined"?j.useLayoutEffect:j.useEffect,Yj=new WeakMap;function c5(e,t){var n=o5(null,function(s){return e.forEach(function(a){return Jg(a,s)})});return l5(function(){var s=Yj.get(n);if(s){var a=new Set(s),i=new Set(e),c=n.current;a.forEach(function(d){i.has(d)||Jg(d,null)}),i.forEach(function(d){a.has(d)||Jg(d,c)})}Yj.set(n,e)},[e]),n}function u5(e){return e}function d5(e,t){t===void 0&&(t=u5);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var c=t(i,s);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(i){for(s=!0;n.length;){var c=n;n=[],c.forEach(i)}n={push:function(d){return i(d)},filter:function(){return n}}},assignMedium:function(i){s=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(i),c=n}var f=function(){var p=c;c=[],p.forEach(i)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(p){c.push(p),h()},filter:function(p){return c=c.filter(p),n}}}};return a}function f5(e){e===void 0&&(e={});var t=d5(null);return t.options=oa({async:!0,ssr:!1},e),t}var E2=function(e){var t=e.sideCar,n=N2(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return j.createElement(s,oa({},n))};E2.isSideCarExport=!0;function h5(e,t){return e.useMedium(t),E2}var T2=f5(),e0=function(){},gm=j.forwardRef(function(e,t){var n=j.useRef(null),s=j.useState({onScrollCapture:e0,onWheelCapture:e0,onTouchMoveCapture:e0}),a=s[0],i=s[1],c=e.forwardProps,d=e.children,f=e.className,h=e.removeScrollBar,p=e.enabled,g=e.shards,b=e.sideCar,y=e.noRelative,_=e.noIsolation,w=e.inert,N=e.allowPinchZoom,S=e.as,R=S===void 0?"div":S,D=e.gapMode,T=N2(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=b,C=c5([n,t]),A=oa(oa({},T),a);return j.createElement(j.Fragment,null,p&&j.createElement(k,{sideCar:T2,removeScrollBar:h,shards:g,noRelative:y,noIsolation:_,inert:w,setCallbacks:i,allowPinchZoom:!!N,lockRef:n,gapMode:D}),c?j.cloneElement(j.Children.only(d),oa(oa({},A),{ref:C})):j.createElement(R,oa({},A,{className:f,ref:C}),d))});gm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gm.classNames={fullWidth:wh,zeroRight:vh};var m5=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function p5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=m5();return t&&e.setAttribute("nonce",t),e}function g5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function x5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var y5=function(){var e=0,t=null;return{add:function(n){e==0&&(t=p5())&&(g5(t,n),x5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},b5=function(){var e=y5();return function(t,n){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},C2=function(){var e=b5(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},v5={left:0,top:0,right:0,gap:0},t0=function(e){return parseInt(e||"",10)||0},w5=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[t0(n),t0(s),t0(a)]},_5=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return v5;var t=w5(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},j5=C2(),Wl="data-scroll-locked",S5=function(e,t,n,s){var a=e.left,i=e.top,c=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(a5,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(Wl,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vh,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(wh,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(vh," .").concat(vh,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(wh," .").concat(wh,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Wl,`] {
    `).concat(i5,": ").concat(d,`px;
  }
`)},Xj=function(){var e=parseInt(document.body.getAttribute(Wl)||"0",10);return isFinite(e)?e:0},N5=function(){j.useEffect(function(){return document.body.setAttribute(Wl,(Xj()+1).toString()),function(){var e=Xj()-1;e<=0?document.body.removeAttribute(Wl):document.body.setAttribute(Wl,e.toString())}},[])},E5=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;N5();var i=j.useMemo(function(){return _5(a)},[a]);return j.createElement(j5,{styles:S5(i,!t,a,n?"":"!important")})},Z0=!1;if(typeof window!="undefined")try{var zf=Object.defineProperty({},"passive",{get:function(){return Z0=!0,!0}});window.addEventListener("test",zf,zf),window.removeEventListener("test",zf,zf)}catch(e){Z0=!1}var Dl=Z0?{passive:!1}:!1,T5=function(e){return e.tagName==="TEXTAREA"},k2=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!T5(e)&&n[t]==="visible")},C5=function(e){return k2(e,"overflowY")},k5=function(e){return k2(e,"overflowX")},Gj=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot!="undefined"&&s instanceof ShadowRoot&&(s=s.host);var a=O2(e,s);if(a){var i=D2(e,s),c=i[1],d=i[2];if(c>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},O5=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},D5=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},O2=function(e,t){return e==="v"?C5(t):k5(t)},D2=function(e,t){return e==="v"?O5(t):D5(t)},A5=function(e,t){return e==="h"&&t==="rtl"?-1:1},R5=function(e,t,n,s,a){var i=A5(e,window.getComputedStyle(t).direction),c=i*s,d=n.target,f=t.contains(d),h=!1,p=c>0,g=0,b=0;do{if(!d)break;var y=D2(e,d),_=y[0],w=y[1],N=y[2],S=w-N-i*_;(_||S)&&O2(e,d)&&(g+=S,b+=_);var R=d.parentNode;d=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(p&&Math.abs(g)<1||!p&&Math.abs(b)<1)&&(h=!0),h},Uf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Kj=function(e){return[e.deltaX,e.deltaY]},Qj=function(e){return e&&"current"in e?e.current:e},M5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},P5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},L5=0,Al=[];function z5(e){var t=j.useRef([]),n=j.useRef([0,0]),s=j.useRef(),a=j.useState(L5++)[0],i=j.useState(C2)[0],c=j.useRef(e);j.useEffect(function(){c.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var w=r5([e.lockRef.current],(e.shards||[]).map(Qj),!0).filter(Boolean);return w.forEach(function(N){return N.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),w.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var d=j.useCallback(function(w,N){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!c.current.allowPinchZoom;var S=Uf(w),R=n.current,D="deltaX"in w?w.deltaX:R[0]-S[0],T="deltaY"in w?w.deltaY:R[1]-S[1],k,C=w.target,A=Math.abs(D)>Math.abs(T)?"h":"v";if("touches"in w&&A==="h"&&C.type==="range")return!1;var P=Gj(A,C);if(!P)return!0;if(P?k=A:(k=A==="v"?"h":"v",P=Gj(A,C)),!P)return!1;if(!s.current&&"changedTouches"in w&&(D||T)&&(s.current=k),!k)return!0;var U=s.current||k;return R5(U,N,w,U==="h"?D:T)},[]),f=j.useCallback(function(w){var N=w;if(!(!Al.length||Al[Al.length-1]!==i)){var S="deltaY"in N?Kj(N):Uf(N),R=t.current.filter(function(k){return k.name===N.type&&(k.target===N.target||N.target===k.shadowParent)&&M5(k.delta,S)})[0];if(R&&R.should){N.cancelable&&N.preventDefault();return}if(!R){var D=(c.current.shards||[]).map(Qj).filter(Boolean).filter(function(k){return k.contains(N.target)}),T=D.length>0?d(N,D[0]):!c.current.noIsolation;T&&N.cancelable&&N.preventDefault()}}},[]),h=j.useCallback(function(w,N,S,R){var D={name:w,delta:N,target:S,should:R,shadowParent:U5(S)};t.current.push(D),setTimeout(function(){t.current=t.current.filter(function(T){return T!==D})},1)},[]),p=j.useCallback(function(w){n.current=Uf(w),s.current=void 0},[]),g=j.useCallback(function(w){h(w.type,Kj(w),w.target,d(w,e.lockRef.current))},[]),b=j.useCallback(function(w){h(w.type,Uf(w),w.target,d(w,e.lockRef.current))},[]);j.useEffect(function(){return Al.push(i),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",f,Dl),document.addEventListener("touchmove",f,Dl),document.addEventListener("touchstart",p,Dl),function(){Al=Al.filter(function(w){return w!==i}),document.removeEventListener("wheel",f,Dl),document.removeEventListener("touchmove",f,Dl),document.removeEventListener("touchstart",p,Dl)}},[]);var y=e.removeScrollBar,_=e.inert;return j.createElement(j.Fragment,null,_?j.createElement(i,{styles:P5(a)}):null,y?j.createElement(E5,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function U5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const F5=h5(T2,z5);var id=j.forwardRef(function(e,t){return j.createElement(gm,oa({},e,{ref:t,sideCar:F5}))});id.classNames=gm.classNames;var xm="Popover",[A2,S7]=nd(xm,[m2]),od=m2(),[B5,Vi]=A2(xm),R2=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:c=!1}=e,d=od(t),f=j.useRef(null),[h,p]=j.useState(!1),[g,b]=mm({prop:s,defaultProp:a!=null?a:!1,onChange:i,caller:xm});return l.jsx(q4,oe(z({},d),{children:l.jsx(B5,{scope:t,contentId:Ts(),triggerRef:f,open:g,onOpenChange:b,onOpenToggle:j.useCallback(()=>b(y=>!y),[b]),hasCustomAnchor:h,onCustomAnchorAdd:j.useCallback(()=>p(!0),[]),onCustomAnchorRemove:j.useCallback(()=>p(!1),[]),modal:c,children:n})}))};R2.displayName=xm;var M2="PopoverAnchor",$5=j.forwardRef((e,t)=>{const f=e,{__scopePopover:n}=f,s=ke(f,["__scopePopover"]),a=Vi(M2,n),i=od(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=a;return j.useEffect(()=>(c(),()=>d()),[c,d]),l.jsx(j2,oe(z(z({},i),s),{ref:t}))});$5.displayName=M2;var P2="PopoverTrigger",L2=j.forwardRef((e,t)=>{const f=e,{__scopePopover:n}=f,s=ke(f,["__scopePopover"]),a=Vi(P2,n),i=od(n),c=kn(t,a.triggerRef),d=l.jsx(Ht.button,oe(z({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":$2(a.open)},s),{ref:c,onClick:rr(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?d:l.jsx(j2,oe(z({asChild:!0},i),{children:d}))});L2.displayName=P2;var hy="PopoverPortal",[H5,V5]=A2(hy,{forceMount:void 0}),z2=e=>{const{__scopePopover:t,forceMount:n,children:s,container:a}=e,i=Vi(hy,t);return l.jsx(H5,{scope:t,forceMount:n,children:l.jsx(ac,{present:n||i.open,children:l.jsx(ad,{asChild:!0,container:a,children:s})})})};z2.displayName=hy;var Zl="PopoverContent",U2=j.forwardRef((e,t)=>{const n=V5(Zl,e.__scopePopover),c=e,{forceMount:s=n.forceMount}=c,a=ke(c,["forceMount"]),i=Vi(Zl,e.__scopePopover);return l.jsx(ac,{present:s||i.open,children:i.modal?l.jsx(q5,oe(z({},a),{ref:t})):l.jsx(W5,oe(z({},a),{ref:t}))})});U2.displayName=Zl;var I5=nc("PopoverContent.RemoveScroll"),q5=j.forwardRef((e,t)=>{const n=Vi(Zl,e.__scopePopover),s=j.useRef(null),a=kn(t,s),i=j.useRef(!1);return j.useEffect(()=>{const c=s.current;if(c)return pm(c)},[]),l.jsx(id,{as:I5,allowPinchZoom:!0,children:l.jsx(F2,oe(z({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rr(e.onCloseAutoFocus,c=>{var d;c.preventDefault(),i.current||(d=n.triggerRef.current)==null||d.focus()}),onPointerDownOutside:rr(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,h=d.button===2||f;i.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:rr(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})}))})}),W5=j.forwardRef((e,t)=>{const n=Vi(Zl,e.__scopePopover),s=j.useRef(!1),a=j.useRef(!1);return l.jsx(F2,oe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,i),i.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),F2=j.forwardRef((e,t)=>{const _=e,{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p}=_,g=ke(_,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),b=Vi(Zl,n),y=od(n);return JN(),l.jsx(sd,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:l.jsx(sy,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:p,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>b.onOpenChange(!1),children:l.jsx(W4,oe(z(z({"data-state":$2(b.open),role:"dialog",id:b.contentId},y),g),{ref:t,style:oe(z({},g.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),B2="PopoverClose",Y5=j.forwardRef((e,t)=>{const i=e,{__scopePopover:n}=i,s=ke(i,["__scopePopover"]),a=Vi(B2,n);return l.jsx(Ht.button,oe(z({type:"button"},s),{ref:t,onClick:rr(e.onClick,()=>a.onOpenChange(!1))}))});Y5.displayName=B2;var X5="PopoverArrow",G5=j.forwardRef((e,t)=>{const i=e,{__scopePopover:n}=i,s=ke(i,["__scopePopover"]),a=od(n);return l.jsx(Y4,oe(z(z({},a),s),{ref:t}))});G5.displayName=X5;function $2(e){return e?"open":"closed"}var K5=R2,Q5=L2,Z5=z2,J5=U2;function H2(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=H2(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function V2(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=H2(e))&&(s&&(s+=" "),s+=t);return s}const my="-",eL=e=>{const t=nL(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:c=>{const d=c.split(my);return d[0]===""&&d.length!==1&&d.shift(),I2(d,t)||tL(c)},getConflictingClassGroupIds:(c,d)=>{const f=n[c]||[];return d&&s[c]?[...f,...s[c]]:f}}},I2=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?I2(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(my);return(c=t.validators.find(({validator:d})=>d(i)))==null?void 0:c.classGroupId},Zj=/^\[(.+)\]$/,tL=e=>{if(Zj.test(e)){const t=Zj.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},nL=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const a in n)J0(n[a],s,a,t);return s},J0=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:Jj(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(sL(a)){J0(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,c])=>{J0(c,Jj(t,i),n,s)})})},Jj=(e,t)=>{let n=e;return t.split(my).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},sL=e=>e.isThemeGetter,rL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(i,c)=>{n.set(i,c),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let c=n.get(i);if(c!==void 0)return c;if((c=s.get(i))!==void 0)return a(i,c),c},set(i,c){n.has(i)?n.set(i,c):a(i,c)}}},ex="!",tx=":",aL=tx.length,iL=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=a=>{const i=[];let c=0,d=0,f=0,h;for(let _=0;_<a.length;_++){let w=a[_];if(c===0&&d===0){if(w===tx){i.push(a.slice(f,_)),f=_+aL;continue}if(w==="/"){h=_;continue}}w==="["?c++:w==="]"?c--:w==="("?d++:w===")"&&d--}const p=i.length===0?a:a.substring(f),g=oL(p),b=g!==p,y=h&&h>f?h-f:void 0;return{modifiers:i,hasImportantModifier:b,baseClassName:g,maybePostfixModifierPosition:y}};if(t){const a=t+tx,i=s;s=c=>c.startsWith(a)?i(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const a=s;s=i=>n({className:i,parseClassName:a})}return s},oL=e=>e.endsWith(ex)?e.substring(0,e.length-1):e.startsWith(ex)?e.substring(1):e,lL=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let i=[];return s.forEach(c=>{c[0]==="["||t[c]?(a.push(...i.sort(),c),i=[]):i.push(c)}),a.push(...i.sort()),a}},cL=e=>z({cache:rL(e.cacheSize),parseClassName:iL(e),sortModifiers:lL(e)},eL(e)),uL=/\s+/,dL=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:i}=t,c=[],d=e.trim().split(uL);let f="";for(let h=d.length-1;h>=0;h-=1){const p=d[h],{isExternal:g,modifiers:b,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:w}=n(p);if(g){f=p+(f.length>0?" "+f:f);continue}let N=!!w,S=s(N?_.substring(0,w):_);if(!S){if(!N){f=p+(f.length>0?" "+f:f);continue}if(S=s(_),!S){f=p+(f.length>0?" "+f:f);continue}N=!1}const R=i(b).join(":"),D=y?R+ex:R,T=D+S;if(c.includes(T))continue;c.push(T);const k=a(S,N);for(let C=0;C<k.length;++C){const A=k[C];c.push(D+A)}f=p+(f.length>0?" "+f:f)}return f};function fL(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=q2(t))&&(s&&(s+=" "),s+=n);return s}const q2=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=q2(e[s]))&&(n&&(n+=" "),n+=t);return n};function hL(e,...t){let n,s,a,i=c;function c(f){const h=t.reduce((p,g)=>g(p),e());return n=cL(h),s=n.cache.get,a=n.cache.set,i=d,d(f)}function d(f){const h=s(f);if(h)return h;const p=dL(f,n);return a(f,p),p}return function(){return i(fL.apply(null,arguments))}}const es=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},W2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Y2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,mL=/^\d+\/\d+$/,pL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,yL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rl=e=>mL.test(e),Pt=e=>!!e&&!Number.isNaN(Number(e)),ji=e=>!!e&&Number.isInteger(Number(e)),n0=e=>e.endsWith("%")&&Pt(e.slice(0,-1)),za=e=>pL.test(e),vL=()=>!0,wL=e=>gL.test(e)&&!xL.test(e),X2=()=>!1,_L=e=>yL.test(e),jL=e=>bL.test(e),SL=e=>!Ze(e)&&!Je(e),NL=e=>ic(e,Q2,X2),Ze=e=>W2.test(e),xo=e=>ic(e,Z2,wL),s0=e=>ic(e,OL,Pt),e1=e=>ic(e,G2,X2),EL=e=>ic(e,K2,jL),Ff=e=>ic(e,J2,_L),Je=e=>Y2.test(e),pu=e=>oc(e,Z2),TL=e=>oc(e,DL),t1=e=>oc(e,G2),CL=e=>oc(e,Q2),kL=e=>oc(e,K2),Bf=e=>oc(e,J2,!0),ic=(e,t,n)=>{const s=W2.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},oc=(e,t,n=!1)=>{const s=Y2.exec(e);return s?s[1]?t(s[1]):n:!1},G2=e=>e==="position"||e==="percentage",K2=e=>e==="image"||e==="url",Q2=e=>e==="length"||e==="size"||e==="bg-size",Z2=e=>e==="length",OL=e=>e==="number",DL=e=>e==="family-name",J2=e=>e==="shadow",AL=()=>{const e=es("color"),t=es("font"),n=es("text"),s=es("font-weight"),a=es("tracking"),i=es("leading"),c=es("breakpoint"),d=es("container"),f=es("spacing"),h=es("radius"),p=es("shadow"),g=es("inset-shadow"),b=es("text-shadow"),y=es("drop-shadow"),_=es("blur"),w=es("perspective"),N=es("aspect"),S=es("ease"),R=es("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...T(),Je,Ze],C=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],P=()=>[Je,Ze,f],U=()=>[Rl,"full","auto",...P()],K=()=>[ji,"none","subgrid",Je,Ze],$=()=>["auto",{span:["full",ji,Je,Ze]},ji,Je,Ze],G=()=>[ji,"auto",Je,Ze],W=()=>["auto","min","max","fr",Je,Ze],ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...P()],J=()=>[Rl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],te=()=>[e,Je,Ze],ce=()=>[...T(),t1,e1,{position:[Je,Ze]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],le=()=>["auto","cover","contain",CL,NL,{size:[Je,Ze]}],re=()=>[n0,pu,xo],V=()=>["","none","full",h,Je,Ze],ne=()=>["",Pt,pu,xo],xe=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Te=()=>[Pt,n0,t1,e1],Oe=()=>["","none",_,Je,Ze],He=()=>["none",Pt,Je,Ze],Pe=()=>["none",Pt,Je,Ze],rt=()=>[Pt,Je,Ze],Ge=()=>[Rl,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[za],breakpoint:[za],color:[vL],container:[za],"drop-shadow":[za],ease:["in","out","in-out"],font:[SL],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[za],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[za],shadow:[za],spacing:["px",Pt],text:[za],"text-shadow":[za],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Rl,Ze,Je,N]}],container:["container"],columns:[{columns:[Pt,Ze,Je,d]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[ji,"auto",Je,Ze]}],basis:[{basis:[Rl,"full","auto",d,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pt,Rl,"auto","initial","none",Ze]}],grow:[{grow:["",Pt,Je,Ze]}],shrink:[{shrink:["",Pt,Je,Ze]}],order:[{order:[ji,"first","last","none",Je,Ze]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...ee(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...ee()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":ee()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[d,"screen",...J()]}],"min-w":[{"min-w":[d,"screen","none",...J()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",n,pu,xo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Je,s0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",n0,Ze]}],"font-family":[{font:[TL,Ze,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Je,Ze]}],"line-clamp":[{"line-clamp":[Pt,"none",Je,s0]}],leading:[{leading:[i,...P()]}],"list-image":[{"list-image":["none",Je,Ze]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Je,Ze]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:te()}],"text-color":[{text:te()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pt,"from-font","auto",Je,xo]}],"text-decoration-color":[{decoration:te()}],"underline-offset":[{"underline-offset":[Pt,"auto",Je,Ze]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je,Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je,Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ce()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:le()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ji,Je,Ze],radial:["",Je,Ze],conic:[ji,Je,Ze]},kL,EL]}],"bg-color":[{bg:te()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:te()}],"gradient-via":[{via:te()}],"gradient-to":[{to:te()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:te()}],"border-color-x":[{"border-x":te()}],"border-color-y":[{"border-y":te()}],"border-color-s":[{"border-s":te()}],"border-color-e":[{"border-e":te()}],"border-color-t":[{"border-t":te()}],"border-color-r":[{"border-r":te()}],"border-color-b":[{"border-b":te()}],"border-color-l":[{"border-l":te()}],"divide-color":[{divide:te()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pt,Je,Ze]}],"outline-w":[{outline:["",Pt,pu,xo]}],"outline-color":[{outline:te()}],shadow:[{shadow:["","none",p,Bf,Ff]}],"shadow-color":[{shadow:te()}],"inset-shadow":[{"inset-shadow":["none",g,Bf,Ff]}],"inset-shadow-color":[{"inset-shadow":te()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:te()}],"ring-offset-w":[{"ring-offset":[Pt,xo]}],"ring-offset-color":[{"ring-offset":te()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":te()}],"text-shadow":[{"text-shadow":["none",b,Bf,Ff]}],"text-shadow-color":[{"text-shadow":te()}],opacity:[{opacity:[Pt,Je,Ze]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Te()}],"mask-image-linear-to-pos":[{"mask-linear-to":Te()}],"mask-image-linear-from-color":[{"mask-linear-from":te()}],"mask-image-linear-to-color":[{"mask-linear-to":te()}],"mask-image-t-from-pos":[{"mask-t-from":Te()}],"mask-image-t-to-pos":[{"mask-t-to":Te()}],"mask-image-t-from-color":[{"mask-t-from":te()}],"mask-image-t-to-color":[{"mask-t-to":te()}],"mask-image-r-from-pos":[{"mask-r-from":Te()}],"mask-image-r-to-pos":[{"mask-r-to":Te()}],"mask-image-r-from-color":[{"mask-r-from":te()}],"mask-image-r-to-color":[{"mask-r-to":te()}],"mask-image-b-from-pos":[{"mask-b-from":Te()}],"mask-image-b-to-pos":[{"mask-b-to":Te()}],"mask-image-b-from-color":[{"mask-b-from":te()}],"mask-image-b-to-color":[{"mask-b-to":te()}],"mask-image-l-from-pos":[{"mask-l-from":Te()}],"mask-image-l-to-pos":[{"mask-l-to":Te()}],"mask-image-l-from-color":[{"mask-l-from":te()}],"mask-image-l-to-color":[{"mask-l-to":te()}],"mask-image-x-from-pos":[{"mask-x-from":Te()}],"mask-image-x-to-pos":[{"mask-x-to":Te()}],"mask-image-x-from-color":[{"mask-x-from":te()}],"mask-image-x-to-color":[{"mask-x-to":te()}],"mask-image-y-from-pos":[{"mask-y-from":Te()}],"mask-image-y-to-pos":[{"mask-y-to":Te()}],"mask-image-y-from-color":[{"mask-y-from":te()}],"mask-image-y-to-color":[{"mask-y-to":te()}],"mask-image-radial":[{"mask-radial":[Je,Ze]}],"mask-image-radial-from-pos":[{"mask-radial-from":Te()}],"mask-image-radial-to-pos":[{"mask-radial-to":Te()}],"mask-image-radial-from-color":[{"mask-radial-from":te()}],"mask-image-radial-to-color":[{"mask-radial-to":te()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[Pt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Te()}],"mask-image-conic-to-pos":[{"mask-conic-to":Te()}],"mask-image-conic-from-color":[{"mask-conic-from":te()}],"mask-image-conic-to-color":[{"mask-conic-to":te()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ce()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:le()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Je,Ze]}],filter:[{filter:["","none",Je,Ze]}],blur:[{blur:Oe()}],brightness:[{brightness:[Pt,Je,Ze]}],contrast:[{contrast:[Pt,Je,Ze]}],"drop-shadow":[{"drop-shadow":["","none",y,Bf,Ff]}],"drop-shadow-color":[{"drop-shadow":te()}],grayscale:[{grayscale:["",Pt,Je,Ze]}],"hue-rotate":[{"hue-rotate":[Pt,Je,Ze]}],invert:[{invert:["",Pt,Je,Ze]}],saturate:[{saturate:[Pt,Je,Ze]}],sepia:[{sepia:["",Pt,Je,Ze]}],"backdrop-filter":[{"backdrop-filter":["","none",Je,Ze]}],"backdrop-blur":[{"backdrop-blur":Oe()}],"backdrop-brightness":[{"backdrop-brightness":[Pt,Je,Ze]}],"backdrop-contrast":[{"backdrop-contrast":[Pt,Je,Ze]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pt,Je,Ze]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pt,Je,Ze]}],"backdrop-invert":[{"backdrop-invert":["",Pt,Je,Ze]}],"backdrop-opacity":[{"backdrop-opacity":[Pt,Je,Ze]}],"backdrop-saturate":[{"backdrop-saturate":[Pt,Je,Ze]}],"backdrop-sepia":[{"backdrop-sepia":["",Pt,Je,Ze]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Je,Ze]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pt,"initial",Je,Ze]}],ease:[{ease:["linear","initial",S,Je,Ze]}],delay:[{delay:[Pt,Je,Ze]}],animate:[{animate:["none",R,Je,Ze]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Je,Ze]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:He()}],"rotate-x":[{"rotate-x":He()}],"rotate-y":[{"rotate-y":He()}],"rotate-z":[{"rotate-z":He()}],scale:[{scale:Pe()}],"scale-x":[{"scale-x":Pe()}],"scale-y":[{"scale-y":Pe()}],"scale-z":[{"scale-z":Pe()}],"scale-3d":["scale-3d"],skew:[{skew:rt()}],"skew-x":[{"skew-x":rt()}],"skew-y":[{"skew-y":rt()}],transform:[{transform:[Je,Ze,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ge()}],"translate-x":[{"translate-x":Ge()}],"translate-y":[{"translate-y":Ge()}],"translate-z":[{"translate-z":Ge()}],"translate-none":["translate-none"],accent:[{accent:te()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:te()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je,Ze]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je,Ze]}],fill:[{fill:["none",...te()]}],"stroke-w":[{stroke:[Pt,pu,xo,s0]}],stroke:[{stroke:["none",...te()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},RL=hL(AL);function jn(...e){return RL(V2(e))}function py(t){var e=ke(t,[]);return l.jsx(K5,z({"data-slot":"popover"},e))}function gy(t){var e=ke(t,[]);return l.jsx(Q5,z({"data-slot":"popover-trigger"},e))}function xy(a){var i=a,{className:e,align:t="center",sideOffset:n=4}=i,s=ke(i,["className","align","sideOffset"]);return l.jsx(Z5,{children:l.jsx(J5,z({"data-slot":"popover-content",align:t,sideOffset:n,className:jn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-[10000] w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e)},s))})}const Uu=class Uu{static useUsers(){const{data:t,isLoading:n,error:s}=Dt("User",{fields:Uu.USER_FIELDS,filters:[["enabled","=",1],["user_type","=","System User"]],limit:0});return{data:t||[],isLoading:n,error:s}}static useCurrentUser(){const{currentUser:t,isLoading:n}=ir();return{currentUser:t,isLoading:n}}static useCurrentUserProfile(){const{currentUser:t}=ir(),{data:n,isLoading:s,error:a}=bn("User",t||void 0,{fields:Uu.USER_FIELDS});return{currentUserProfile:n,isLoading:s,error:a}}};jt(Uu,"USER_FIELDS",["name","email","full_name","first_name","last_name","user_image","enabled","user_type","role_profile_name"]);let zh=Uu;const ML=zh.useCurrentUser,PL=zh.useCurrentUserProfile,LL=()=>ve(null,null,function*(){try{const e=yield fetch("/api/method/frappe.auth.get_logged_user",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""}});if(e.status===401||e.status===403)return{isValid:!1};if(e.ok){const t=yield e.json();if(t&&!t.exc)return{isValid:!0}}return{isValid:!1}}catch(e){return console.error("Token validation error:",e),{isValid:!1}}}),eE=()=>{try{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(t=>{const n=t.indexOf("="),s=n>-1?t.substr(0,n).trim():t.trim();document.cookie=`${s}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=${window.location.hostname}`,document.cookie=`${s}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}),console.warn("Session expired. Redirecting to login...");const e="/login";window.location.href=e}catch(e){console.error("Error handling token expiry:",e),window.location.href="/login"}},zL=()=>"/login",nx=()=>window.location.pathname.includes("/login")||window.location.pathname.includes("/signin");function UL(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const FL=e=>{switch(e){case"success":return HL;case"info":return IL;case"warning":return VL;case"error":return qL;default:return null}},BL=Array(12).fill(0),$L=({visible:e,className:t})=>se.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},se.createElement("div",{className:"sonner-spinner"},BL.map((n,s)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),HL=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),VL=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),IL=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qL=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),WL=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),YL=()=>{const[e,t]=se.useState(document.hidden);return se.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let sx=1;class XL{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const f=t,{message:s}=f,a=ke(f,["message"]),i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:sx++,c=this.toasts.find(h=>h.id===i),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),c?this.toasts=this.toasts.map(h=>h.id===i?(this.publish(oe(z(z({},h),t),{id:i,title:s})),oe(z(z({},h),t),{id:i,dismissible:d,title:s})):h):this.addToast(oe(z({title:s},a),{dismissible:d,id:i})),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create(oe(z({},n),{message:t})),this.error=(t,n)=>this.create(oe(z({},n),{message:t,type:"error"})),this.success=(t,n)=>this.create(oe(z({},n),{type:"success",message:t})),this.info=(t,n)=>this.create(oe(z({},n),{type:"info",message:t})),this.warning=(t,n)=>this.create(oe(z({},n),{type:"warning",message:t})),this.loading=(t,n)=>this.create(oe(z({},n),{type:"loading",message:t})),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create(oe(z({},n),{promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0})));const a=Promise.resolve(t instanceof Function?t():t);let i=s!==void 0,c;const d=a.then(h=>ve(this,null,function*(){if(c=["resolve",h],se.isValidElement(h))i=!1,this.create({id:s,type:"default",message:h});else if(KL(h)&&!h.ok){i=!1;const g=typeof n.error=="function"?yield n.error(`HTTP error! status: ${h.status}`):n.error,b=typeof n.description=="function"?yield n.description(`HTTP error! status: ${h.status}`):n.description,_=typeof g=="object"&&!se.isValidElement(g)?g:{message:g};this.create(z({id:s,type:"error",description:b},_))}else if(h instanceof Error){i=!1;const g=typeof n.error=="function"?yield n.error(h):n.error,b=typeof n.description=="function"?yield n.description(h):n.description,_=typeof g=="object"&&!se.isValidElement(g)?g:{message:g};this.create(z({id:s,type:"error",description:b},_))}else if(n.success!==void 0){i=!1;const g=typeof n.success=="function"?yield n.success(h):n.success,b=typeof n.description=="function"?yield n.description(h):n.description,_=typeof g=="object"&&!se.isValidElement(g)?g:{message:g};this.create(z({id:s,type:"success",description:b},_))}})).catch(h=>ve(this,null,function*(){if(c=["reject",h],n.error!==void 0){i=!1;const p=typeof n.error=="function"?yield n.error(h):n.error,g=typeof n.description=="function"?yield n.description(h):n.description,y=typeof p=="object"&&!se.isValidElement(p)?p:{message:p};this.create(z({id:s,type:"error",description:g},y))}})).finally(()=>{i&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((h,p)=>d.then(()=>c[0]==="reject"?p(c[1]):h(c[1])).catch(p));return typeof s!="string"&&typeof s!="number"?{unwrap:f}:Object.assign(s,{unwrap:f})},this.custom=(t,n)=>{const s=(n==null?void 0:n.id)||sx++;return this.create(z({jsx:t(s),id:s},n)),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Hs=new XL,GL=(e,t)=>{const n=(t==null?void 0:t.id)||sx++;return Hs.addToast(oe(z({title:e},t),{id:n})),n},KL=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",QL=GL,ZL=()=>Hs.toasts,JL=()=>Hs.getActiveToasts(),vr=Object.assign(QL,{success:Hs.success,info:Hs.info,warning:Hs.warning,error:Hs.error,custom:Hs.custom,message:Hs.message,promise:Hs.promise,dismiss:Hs.dismiss,loading:Hs.loading},{getHistory:ZL,getToasts:JL});UL("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function $f(e){return e.label!==void 0}const e6=3,t6="24px",n6="16px",n1=4e3,s6=356,r6=14,a6=45,i6=200;function na(...e){return e.filter(Boolean).join(" ")}function o6(e){const[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const l6=e=>{var t,n,s,a,i,c,d,f,h;const{invert:p,toast:g,unstyled:b,interacting:y,setHeights:_,visibleToasts:w,heights:N,index:S,toasts:R,expanded:D,removeToast:T,defaultRichColors:k,closeButton:C,style:A,cancelButtonStyle:P,actionButtonStyle:U,className:K="",descriptionClassName:$="",duration:G,position:W,gap:ee,expandByDefault:Y,classNames:H,icons:J,closeButtonAriaLabel:te="Close toast"}=e,[ce,L]=se.useState(null),[le,re]=se.useState(null),[V,ne]=se.useState(!1),[xe,me]=se.useState(!1),[Te,Oe]=se.useState(!1),[He,Pe]=se.useState(!1),[rt,Ge]=se.useState(!1),[mt,ze]=se.useState(0),[St,at]=se.useState(0),Me=se.useRef(g.duration||G||n1),st=se.useRef(null),ft=se.useRef(null),X=S===0,fe=S+1<=w,q=g.type,Se=g.dismissible!==!1,Re=g.className||"",Ae=g.descriptionClassName||"",Be=se.useMemo(()=>N.findIndex(Xe=>Xe.toastId===g.id)||0,[N,g.id]),qe=se.useMemo(()=>{var Xe;return(Xe=g.closeButton)!=null?Xe:C},[g.closeButton,C]),et=se.useMemo(()=>g.duration||G||n1,[g.duration,G]),wt=se.useRef(0),Sn=se.useRef(0),Jt=se.useRef(0),dn=se.useRef(null),[vn,Xn]=W.split("-"),Gn=se.useMemo(()=>N.reduce((Xe,_t,Vt)=>Vt>=Be?Xe:Xe+_t.height,0),[N,Be]),cs=YL(),Kn=g.invert||p,Cs=q==="loading";Sn.current=se.useMemo(()=>Be*ee+Gn,[Be,Gn]),se.useEffect(()=>{Me.current=et},[et]),se.useEffect(()=>{ne(!0)},[]),se.useEffect(()=>{const Xe=ft.current;if(Xe){const _t=Xe.getBoundingClientRect().height;return at(_t),_(Vt=>[{toastId:g.id,height:_t,position:g.position},...Vt]),()=>_(Vt=>Vt.filter(Wt=>Wt.toastId!==g.id))}},[_,g.id]),se.useLayoutEffect(()=>{if(!V)return;const Xe=ft.current,_t=Xe.style.height;Xe.style.height="auto";const Vt=Xe.getBoundingClientRect().height;Xe.style.height=_t,at(Vt),_(Wt=>Wt.find(ie=>ie.toastId===g.id)?Wt.map(ie=>ie.toastId===g.id?oe(z({},ie),{height:Vt}):ie):[{toastId:g.id,height:Vt,position:g.position},...Wt])},[V,g.title,g.description,_,g.id,g.jsx,g.action,g.cancel]);const Ye=se.useCallback(()=>{me(!0),ze(Sn.current),_(Xe=>Xe.filter(_t=>_t.toastId!==g.id)),setTimeout(()=>{T(g)},i6)},[g,T,_,Sn]);se.useEffect(()=>{if(g.promise&&q==="loading"||g.duration===1/0||g.type==="loading")return;let Xe;return D||y||cs?(()=>{if(Jt.current<wt.current){const Wt=new Date().getTime()-wt.current;Me.current=Me.current-Wt}Jt.current=new Date().getTime()})():(()=>{Me.current!==1/0&&(wt.current=new Date().getTime(),Xe=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Ye()},Me.current))})(),()=>clearTimeout(Xe)},[D,y,g,q,cs,Ye]),se.useEffect(()=>{g.delete&&(Ye(),g.onDismiss==null||g.onDismiss.call(g,g))},[Ye,g.delete]);function Rt(){var Xe;if(J!=null&&J.loading){var _t;return se.createElement("div",{className:na(H==null?void 0:H.loader,g==null||(_t=g.classNames)==null?void 0:_t.loader,"sonner-loader"),"data-visible":q==="loading"},J.loading)}return se.createElement($L,{className:na(H==null?void 0:H.loader,g==null||(Xe=g.classNames)==null?void 0:Xe.loader),visible:q==="loading"})}const Ut=g.icon||(J==null?void 0:J[q])||FL(q);var Nt,Qt;return se.createElement("li",{tabIndex:0,ref:ft,className:na(K,Re,H==null?void 0:H.toast,g==null||(t=g.classNames)==null?void 0:t.toast,H==null?void 0:H.default,H==null?void 0:H[q],g==null||(n=g.classNames)==null?void 0:n[q]),"data-sonner-toast":"","data-rich-colors":(Nt=g.richColors)!=null?Nt:k,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":V,"data-promise":!!g.promise,"data-swiped":rt,"data-removed":xe,"data-visible":fe,"data-y-position":vn,"data-x-position":Xn,"data-index":S,"data-front":X,"data-swiping":Te,"data-dismissible":Se,"data-type":q,"data-invert":Kn,"data-swipe-out":He,"data-swipe-direction":le,"data-expanded":!!(D||Y&&V),"data-testid":g.testId,style:z(z({"--index":S,"--toasts-before":S,"--z-index":R.length-S,"--offset":`${xe?mt:Sn.current}px`,"--initial-height":Y?"auto":`${St}px`},A),g.style),onDragEnd:()=>{Oe(!1),L(null),dn.current=null},onPointerDown:Xe=>{Xe.button!==2&&(Cs||!Se||(st.current=new Date,ze(Sn.current),Xe.target.setPointerCapture(Xe.pointerId),Xe.target.tagName!=="BUTTON"&&(Oe(!0),dn.current={x:Xe.clientX,y:Xe.clientY})))},onPointerUp:()=>{var Xe,_t,Vt;if(He||!Se)return;dn.current=null;const Wt=Number(((Xe=ft.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Z=Number(((_t=ft.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ie=new Date().getTime()-((Vt=st.current)==null?void 0:Vt.getTime()),pe=ce==="x"?Wt:Z,je=Math.abs(pe)/ie;if(Math.abs(pe)>=a6||je>.11){ze(Sn.current),g.onDismiss==null||g.onDismiss.call(g,g),re(ce==="x"?Wt>0?"right":"left":Z>0?"down":"up"),Ye(),Pe(!0);return}else{var De,$e;(De=ft.current)==null||De.style.setProperty("--swipe-amount-x","0px"),($e=ft.current)==null||$e.style.setProperty("--swipe-amount-y","0px")}Ge(!1),Oe(!1),L(null)},onPointerMove:Xe=>{var _t,Vt,Wt;if(!dn.current||!Se||((_t=window.getSelection())==null?void 0:_t.toString().length)>0)return;const ie=Xe.clientY-dn.current.y,pe=Xe.clientX-dn.current.x;var je;const De=(je=e.swipeDirections)!=null?je:o6(W);!ce&&(Math.abs(pe)>1||Math.abs(ie)>1)&&L(Math.abs(pe)>Math.abs(ie)?"x":"y");let $e={x:0,y:0};const Ke=tt=>1/(1.5+Math.abs(tt)/20);if(ce==="y"){if(De.includes("top")||De.includes("bottom"))if(De.includes("top")&&ie<0||De.includes("bottom")&&ie>0)$e.y=ie;else{const tt=ie*Ke(ie);$e.y=Math.abs(tt)<Math.abs(ie)?tt:ie}}else if(ce==="x"&&(De.includes("left")||De.includes("right")))if(De.includes("left")&&pe<0||De.includes("right")&&pe>0)$e.x=pe;else{const tt=pe*Ke(pe);$e.x=Math.abs(tt)<Math.abs(pe)?tt:pe}(Math.abs($e.x)>0||Math.abs($e.y)>0)&&Ge(!0),(Vt=ft.current)==null||Vt.style.setProperty("--swipe-amount-x",`${$e.x}px`),(Wt=ft.current)==null||Wt.style.setProperty("--swipe-amount-y",`${$e.y}px`)}},qe&&!g.jsx&&q!=="loading"?se.createElement("button",{"aria-label":te,"data-disabled":Cs,"data-close-button":!0,onClick:Cs||!Se?()=>{}:()=>{Ye(),g.onDismiss==null||g.onDismiss.call(g,g)},className:na(H==null?void 0:H.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(Qt=J==null?void 0:J.close)!=null?Qt:WL):null,(q||g.icon||g.promise)&&g.icon!==null&&((J==null?void 0:J[q])!==null||g.icon)?se.createElement("div",{"data-icon":"",className:na(H==null?void 0:H.icon,g==null||(a=g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Rt():null,g.type!=="loading"?Ut:null):null,se.createElement("div",{"data-content":"",className:na(H==null?void 0:H.content,g==null||(i=g.classNames)==null?void 0:i.content)},se.createElement("div",{"data-title":"",className:na(H==null?void 0:H.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?se.createElement("div",{"data-description":"",className:na($,Ae,H==null?void 0:H.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),se.isValidElement(g.cancel)?g.cancel:g.cancel&&$f(g.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||P,onClick:Xe=>{$f(g.cancel)&&Se&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Xe),Ye())},className:na(H==null?void 0:H.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,se.isValidElement(g.action)?g.action:g.action&&$f(g.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||U,onClick:Xe=>{$f(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Xe),!Xe.defaultPrevented&&Ye())},className:na(H==null?void 0:H.actionButton,g==null||(h=g.classNames)==null?void 0:h.actionButton)},g.action.label):null)};function s1(){if(typeof window=="undefined"||typeof document=="undefined")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function c6(e,t){const n={};return[e,t].forEach((s,a)=>{const i=a===1,c=i?"--mobile-offset":"--offset",d=i?n6:t6;function f(h){["top","right","bottom","left"].forEach(p=>{n[`${c}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?f(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?n[`${c}-${h}`]=d:n[`${c}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):f(d)}),n}const u6=se.forwardRef(function(t,n){const{id:s,invert:a,position:i="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:f,className:h,offset:p,mobileOffset:g,theme:b="light",richColors:y,duration:_,style:w,visibleToasts:N=e6,toastOptions:S,dir:R=s1(),gap:D=r6,icons:T,containerAriaLabel:k="Notifications"}=t,[C,A]=se.useState([]),P=se.useMemo(()=>s?C.filter(V=>V.toasterId===s):C.filter(V=>!V.toasterId),[C,s]),U=se.useMemo(()=>Array.from(new Set([i].concat(P.filter(V=>V.position).map(V=>V.position)))),[P,i]),[K,$]=se.useState([]),[G,W]=se.useState(!1),[ee,Y]=se.useState(!1),[H,J]=se.useState(b!=="system"?b:typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=se.useRef(null),ce=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=se.useRef(null),le=se.useRef(!1),re=se.useCallback(V=>{A(ne=>{var xe;return(xe=ne.find(me=>me.id===V.id))!=null&&xe.delete||Hs.dismiss(V.id),ne.filter(({id:me})=>me!==V.id)})},[]);return se.useEffect(()=>Hs.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{A(ne=>ne.map(xe=>xe.id===V.id?oe(z({},xe),{delete:!0}):xe))});return}setTimeout(()=>{YN.flushSync(()=>{A(ne=>{const xe=ne.findIndex(me=>me.id===V.id);return xe!==-1?[...ne.slice(0,xe),z(z({},ne[xe]),V),...ne.slice(xe+1)]:[V,...ne]})})})}),[C]),se.useEffect(()=>{if(b!=="system"){J(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window=="undefined")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:ne})=>{J(ne?"dark":"light")})}catch(ne){V.addListener(({matches:xe})=>{try{J(xe?"dark":"light")}catch(me){console.error(me)}})}},[b]),se.useEffect(()=>{C.length<=1&&W(!1)},[C]),se.useEffect(()=>{const V=ne=>{var xe;if(c.every(Oe=>ne[Oe]||ne.code===Oe)){var Te;W(!0),(Te=te.current)==null||Te.focus()}ne.code==="Escape"&&(document.activeElement===te.current||(xe=te.current)!=null&&xe.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[c]),se.useEffect(()=>{if(te.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,le.current=!1)}},[te.current]),se.createElement("section",{ref:n,"aria-label":`${k} ${ce}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((V,ne)=>{var xe;const[me,Te]=V.split("-");return P.length?se.createElement("ol",{key:V,dir:R==="auto"?s1():R,tabIndex:-1,ref:te,className:h,"data-sonner-toaster":!0,"data-sonner-theme":H,"data-y-position":me,"data-x-position":Te,style:z(z({"--front-toast-height":`${((xe=K[0])==null?void 0:xe.height)||0}px`,"--width":`${s6}px`,"--gap":`${D}px`},w),c6(p,g)),onBlur:Oe=>{le.current&&!Oe.currentTarget.contains(Oe.relatedTarget)&&(le.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:Oe=>{Oe.target instanceof HTMLElement&&Oe.target.dataset.dismissible==="false"||le.current||(le.current=!0,L.current=Oe.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{ee||W(!1)},onDragEnd:()=>W(!1),onPointerDown:Oe=>{Oe.target instanceof HTMLElement&&Oe.target.dataset.dismissible==="false"||Y(!0)},onPointerUp:()=>Y(!1)},P.filter(Oe=>!Oe.position&&ne===0||Oe.position===V).map((Oe,He)=>{var Pe,rt;return se.createElement(l6,{key:Oe.id,icons:T,index:He,toast:Oe,defaultRichColors:y,duration:(Pe=S==null?void 0:S.duration)!=null?Pe:_,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:a,visibleToasts:N,closeButton:(rt=S==null?void 0:S.closeButton)!=null?rt:f,interacting:ee,position:V,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:re,toasts:P.filter(Ge=>Ge.position==Oe.position),heights:K.filter(Ge=>Ge.position==Oe.position),setHeights:$,expandByDefault:d,gap:D,expanded:G,swipeDirections:t.swipeDirections})})):null}))}),Hf={duration:4e3};class rx{static success(t,n){const s=`success-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),vr.success(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Hf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static error(t,n){const s=`error-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),vr.error(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Hf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static info(t,n){const s=`info-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),vr.info(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Hf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static warning(t,n){const s=`warning-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),vr.warning(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Hf.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static dismissAll(){vr.dismiss(),this.activeToasts.clear()}static clearCache(){this.activeToasts.clear()}}jt(rx,"activeToasts",new Set),jt(rx,"DUPLICATE_TIMEOUT",1e3);const un=rx,d6=({onMenuClick:e})=>{const{currentUser:t,isLoading:n}=ML(),{currentUserProfile:s}=PL(),{logout:a}=ir(),i=()=>ve(null,null,function*(){try{un.success("Logging out...",{description:"You will be redirected to the login page.",duration:2e3}),yield a(),setTimeout(()=>{eE()},1e3)}catch(p){console.error("Logout failed:",p),un.error("Logout failed",{description:"Please try again or contact support."}),setTimeout(()=>{window.location.href=zL()},2e3)}}),c=()=>s?s.full_name||s.first_name||s.email||"User":!t||typeof t=="string"?t||"Guest":t.full_name||t.first_name||t.email||"User",d=()=>t?c().split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2):"G",f=()=>s!=null&&s.user_image?s.user_image:null,h=()=>s?s.email:t&&typeof t!="string"?t.email:t||"No email";return l.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 lg:hidden",children:l.jsx(TP,{className:"h-5 w-5 text-gray-600"})}),l.jsxs("div",{className:"relative hidden md:block",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(cm,{className:"h-4 w-4 text-gray-400"})}),l.jsx("input",{type:"text",className:"block w-80 pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects, tasks, or team members..."})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[l.jsx(zM,{className:"h-5 w-5 text-gray-600"}),l.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),l.jsx("div",{className:"relative",children:l.jsxs(py,{children:[l.jsx(gy,{asChild:!0,children:l.jsxs("button",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f()?l.jsx("img",{src:f(),alt:"User avatar",className:"w-8 h-8 rounded-full object-cover"}):l.jsx("span",{className:"text-xs font-medium text-white",children:d()})}),l.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:n?"Loading...":c()}),l.jsx(GN,{className:"h-4 w-4 text-gray-500"})]})}),l.jsxs(xy,{className:"w-64 p-0",align:"end",children:[l.jsx("div",{className:"p-4 border-b border-gray-100",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f()?l.jsx("img",{src:f(),alt:"User avatar",className:"w-10 h-10 rounded-full object-cover"}):l.jsx("span",{className:"text-sm font-medium text-white",children:d()})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:c()}),l.jsx("p",{className:"text-sm text-gray-500",children:h()})]})]})}),l.jsxs("div",{className:"p-2",children:[l.jsxs("button",{className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[l.jsx(KN,{className:"h-4 w-4 text-gray-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),l.jsxs("button",{onClick:i,className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-red-50 transition-colors duration-200 text-red-600",children:[l.jsx(NP,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"Sign out"})]})]})]})]})})]})]})})},tE=t=>{var e=ke(t,[]);const{theme:n="system"}=dA();return l.jsx(u6,z({theme:n,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"}},e))},f6=()=>{const[e,t]=j.useState(!1);return l.jsxs("div",{className:"flex h-screen bg-gray-50",children:[l.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:l.jsx(Cj,{})}),e&&l.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>t(!1)}),l.jsx("div",{className:"relative flex flex-col w-64 h-full bg-white shadow-xl",children:l.jsx(Cj,{})})]}),l.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[l.jsx(d6,{onMenuClick:()=>t(!e)}),l.jsx("main",{className:"flex-1 overflow-y-auto",children:l.jsx("div",{className:"py-6",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx(IR,{})})})})]}),l.jsx(tE,{position:"top-right",richColors:!0,expand:!0,closeButton:!0,toastOptions:{duration:4e3}})]})},h6=(e={})=>{const{checkIntervalMinutes:t=5,showNotifications:n=!0,enabled:s=!0,onTokenExpired:a}=e,{currentUser:i,isLoading:c}=ir(),d=j.useRef(null),f=j.useRef(!1),h=j.useCallback(()=>{d.current&&(clearInterval(d.current),d.current=null)},[]),p=j.useCallback(()=>{h(),n&&un.error("Session Expired",{description:"Your session has expired. Please log in again.",duration:3e3}),a==null||a(),setTimeout(()=>{eE()},1e3)},[h,a,n]),g=j.useCallback(()=>ve(null,null,function*(){try{return(yield LL()).isValid?(f.current=!1,!0):(console.warn("Authentication check failed - token invalid"),p(),!1)}catch(w){return console.error("Error checking authentication:",w),!0}}),[p]),b=j.useCallback(()=>{if(!s||c||!i||nx())return;h(),g();const w=t*60*1e3;d.current=setInterval(g,w)},[s,c,i,t,g,h]);j.useEffect(()=>(i&&!c?b():h(),h),[i,c,b,h]),j.useEffect(()=>h,[h]);const y=j.useCallback(()=>g(),[g]),_=j.useCallback(()=>{p()},[p]);return{checkAuth:y,forceLogout:_,isWatching:!!d.current,currentUser:i,isLoading:c}},m6=({children:e,checkInterval:t=5,showNotifications:n=!0})=>{const{isWatching:s,currentUser:a,isLoading:i}=h6({checkIntervalMinutes:t,showNotifications:n,enabled:!nx(),onTokenExpired:()=>{console.log("Token expired callback triggered")}});return j.useEffect(()=>{},[s,a,i,t]),nx()?l.jsx(l.Fragment,{children:e}):i?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.jsx(l.Fragment,{children:e})};function p6(){return l.jsx(rA,{siteName:"frontend",socketPort:"9000",children:l.jsxs(fA,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:[l.jsx(m6,{checkInterval:5,showNotifications:!0,children:l.jsx(f6,{})}),l.jsx(tE,{})]})})}const g6=()=>{const[e,t]=j.useState("all"),[n,s]=j.useState("all"),[a,i]=j.useState([]),[c,d]=j.useState(!1),{data:f,isLoading:h}=Dt("Project",{fields:["name","project_name","status","department","team","estimated_costing","expected_end_date","percent_complete"]}),{data:p,isLoading:g}=Dt("project_phase",{fields:["name"],limit:0});j.useEffect(()=>{ve(null,null,function*(){if(!p||p.length===0){i([]);return}d(!0);try{const A=p.map(K=>ve(null,null,function*(){try{const $=yield fetch(`/api/resource/project_phase/${K.name}`,{method:"GET",headers:{Accept:"application/json"}});if(!$.ok)return console.warn(` Failed to fetch phase ${K.name}:`,$.status),null;const G=yield $.json();return G.data||G}catch($){return console.error(` Error fetching phase ${K.name}:`,$),null}})),U=(yield Promise.all(A)).filter(K=>K!==null);i(U)}catch(A){console.error(" Error in fetchPhasesWithTasks:",A)}finally{d(!1)}})},[p]);const{data:b,isLoading:y}=Dt("Task",{fields:["name","subject","status","exp_end_date","exp_start_date","project","progress","priority","is_group"],limit:0}),{data:_,isLoading:w}=Dt("Timesheet",{fields:["name","total_hours"],limit:0}),N=(f||[]).map(C=>{var A;return oe(z({},C),{project_type:C.project_type||"",customer:C.customer||"",company:C.company||"",department:C.department||"",team:C.team||"",expected_start_date:C.expected_start_date||"",expected_end_date:C.expected_end_date||"",actual_start_date:C.actual_start_date||"",actual_end_date:C.actual_end_date||null,percent_complete:C.percent_complete||0,priority:C.priority||"Medium",estimated_costing:C.estimated_costing||0,total_billable_amount:C.total_billable_amount||0,total_billed_amount:C.total_billed_amount||0,gross_margin:C.gross_margin||0,estimated_hours:C.estimated_hours||0,total_hours:C.total_hours||0,is_active:(A=C.is_active)!=null?A:!0})}),S=j.useMemo(()=>!a||a.length===0?[]:a.map(C=>{const A=C.tasks||[];return oe(z({},C),{phase_name:C.subject||C.name||"",status:C.status||"Open",expected_start_date:C.start_date||"",expected_end_date:C.end_date||"",actual_start_date:C.start_date||"",actual_end_date:null,progress:C.progress||0,description:C.details||"",tasks:A})}),[a]),R=(b||[]).map(C=>oe(z({},C),{project:C.project||"",priority:C.priority||"Medium",type:C.type||"",expected_time:C.expected_time||0,actual_time:C.actual_time||0,start_date:C.exp_start_date||"",end_date:C.exp_end_date||"",progress:C.progress||0,assigned_to:C.assigned_to||null,is_group:C.is_group||!1,parent_task_name:C.parent_task_name||null})),D=(_||[]).map(C=>({name:C.name,employee:C.employee||"",project:"",task:"",start_date:C.start_date||"",end_date:C.end_date||"",total_hours:C.total_hours||0,billable:!0,billing_hours:0,billing_rate:0,billing_amount:0})),T=h||g||c||y||w,k=j.useMemo(()=>{let C=N;n!=="all"&&n!==""&&(C=C.filter(K=>K.team===n)),e!=="all"&&e!==""&&(C=C.filter(K=>K.project_name===e));const A=C.map(K=>K.project_name),P=C.map(K=>K.name),U=S.filter(K=>P.includes(K.project));return{filteredProjects:C,filteredPhases:U,filteredTasks:R.filter(K=>{const $=K.project||"";return P.includes($)}),filteredTimesheets:D.filter(K=>K.project?A.includes(K.project):!0)}},[N,S,R,D,e,n]);return{allProjects:N,allPhases:S,filteredData:k,selectedProject:e,selectedTeam:n,setSelectedProject:t,setSelectedTeam:s,isLoading:T}},To=class To{static useUserProjects(){const{currentUser:t}=ir(),{data:n,isLoading:s,error:a,mutate:i}=Dt("Project",{fields:To.PROJECT_FIELDS,filters:t?[["owner","=",t]]:[],orderBy:{field:"modified",order:"desc"}},void 0,{revalidateOnFocus:!0,revalidateOnReconnect:!0}),{data:c,isLoading:d,error:f,mutate:h}=Dt("Project",{fields:To.PROJECT_FIELDS,limit:0,orderBy:{field:"modified",order:"desc"}},void 0,{revalidateOnFocus:!0,revalidateOnReconnect:!0}),p=se.useMemo(()=>{if(!t)return[];const b=_=>{const w=new Map;return _.forEach(N=>{var R;const S=N.name;if(!w.has(S)){const D={name:N.name,owner:N.owner,creation:N.creation,modified:N.modified,project_name:N.project_name,project_type:N.project_type,status:N.status,customer:N.customer,expected_start_date:N.expected_start_date,expected_end_date:N.expected_end_date,percent_complete:N.percent_complete,priority:N.priority,department:N.department,team:N.team||null,estimated_costing:N.estimated_costing,total_billable_amount:N.total_billable_amount,company:N.company,users:[]};w.set(S,D)}if(N.user){const D=w.get(S);((R=D.users)==null?void 0:R.some(k=>k.user===N.user))||(D.users=D.users||[],D.users.push({user:N.user,email:N.email,full_name:N.full_name,project_status:N.project_status}))}}),Array.from(w.values()).sort((N,S)=>{const R=new Date(N.modified||N.creation||0);return new Date(S.modified||S.creation||0).getTime()-R.getTime()})};let y=[];if(n&&n.length>0&&(y=y.concat(n)),c&&c.length>0){const _=c.filter(w=>w.owner===t||w.user&&w.user===t);y=y.concat(_)}return b(y)},[n,c,t]),g=se.useCallback(()=>ve(null,null,function*(){console.log("Mutating ownedProjects and allProjects...");try{yield Promise.all([i(),h()]),console.log("Data refreshed successfully")}catch(b){console.error("Error refreshing data:",b)}}),[i,h]);return{data:p,isLoading:s||d,error:a&&f?a||f:null,mutate:g}}static useProject(t){const{data:n,isLoading:s,error:a,mutate:i}=bn("Project",t||"",t?"Project":void 0);return{data:n,isLoading:s,error:a,mutate:i}}static useProjectOwner(t){const{data:n,isLoading:s,error:a}=bn("User",t||"",t?void 0:null);return{data:n,isLoading:s,error:a}}static useCreateProject(){const{createDoc:t,loading:n,error:s}=Bi();return{createProject:i=>ve(null,null,function*(){return yield t("Project",oe(z({},i),{expected_start_date:i.expected_start_date||void 0,expected_end_date:i.expected_end_date||void 0}))}),isLoading:n,error:s}}static useUpdateProject(){const{updateDoc:t,loading:n,error:s}=qs();return{updateProject:(i,c)=>ve(null,null,function*(){return yield t("Project",i,oe(z({},c),{expected_start_date:c.expected_start_date||void 0,expected_end_date:c.expected_end_date||void 0}))}),isLoading:n,error:s}}static useDeleteProject(){const{call:t,loading:n,error:s}=ms("frappe.client.delete");return{deleteProject:i=>ve(null,null,function*(){return yield t({doctype:"Project",name:i})}),isLoading:n,error:s}}static useProjectMembers(){const{call:t}=ms("frappe.client.insert"),{call:n}=ms("frappe.client.save"),{call:s}=ms("frappe.client.delete");return{addMember:d=>ve(null,null,function*(){return yield t({doc:oe(z({doctype:"Project User"},d),{welcome_email_sent:1})})}),updateMember:(d,f)=>ve(null,null,function*(){return yield n({doc:z({doctype:"Project User",name:d},f)})}),removeMember:d=>ve(null,null,function*(){return yield s({doctype:"Project User",name:d})})}}static useProjectOwnerManagement(){const{call:t}=ms("frappe.client.save"),{call:n}=ms("frappe.client.set_value");return{transferOwner:(i,c)=>ve(null,null,function*(){try{return yield t({doc:{doctype:"Project",name:i,owner:c}}),{success:!0,method:"save"}}catch(d){try{return yield n({doctype:"Project",name:i,fieldname:"owner",value:c}),{success:!0,method:"set_value"}}catch(f){throw new Error("Owner field is protected by ERPNext")}}}),transferOwnerWithAPI:(i,c)=>ve(null,null,function*(){try{const d=yield fetch("/api/method/my_app.api.project_transfer.transfer_project_owner",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({project_name:i,new_owner:c})}),f=yield d.json();return d.ok&&f.message?{success:!0,data:f.message}:{success:!1,error:f.message||"Transfer failed"}}catch(d){return{success:!1,error:d instanceof Error?d.message:"Unknown error"}}})}}static useProjectUsers(t){const{data:n,isLoading:s,error:a,mutate:i}=bn("Project",t,{fields:["name","users"]});return{data:(n==null?void 0:n.users)||[],isLoading:s,error:a,mutate:i}}static useProjectUsersAlt(t){const{data:n,isLoading:s,error:a,mutate:i}=Dt("Project User",{fields:["name","user","email","full_name","image"],filters:[["parent","=",t]],limit:0});return{data:n||[],isLoading:s,error:a,mutate:i}}};jt(To,"PROJECT_FIELDS",["name","owner","creation","modified","project_name","project_type","status","customer","department","team","expected_start_date","expected_end_date","percent_complete","priority","estimated_costing","total_billable_amount","company","users.user","users.email","users.full_name","users.project_status"]),jt(To,"DETAILED_PROJECT_FIELDS",[...To.PROJECT_FIELDS,"creation","modified","modified_by","description","notes","expected_start_date","actual_start_date","actual_end_date","total_costing_amount","total_purchase_cost","total_sales_amount","total_billed_amount","users"]);let Wu=To;const x6=Wu.useUserProjects,y6=Wu.useCreateProject,b6=Wu.useUpdateProject;class Ha{static useDocTypeOptions(t,n={}){const{fields:s=["name"],filters:a=[],limit:i=100}=n,{data:c,isLoading:d,error:f}=Dt(t,{fields:s,filters:a,limit:i});return{data:c||[],isLoading:d,error:f}}static useCustomers(){return Ha.useDocTypeOptions("Customer",{fields:["name","customer_name","customer_type"],filters:[["disabled","=",0]]})}static useCompanies(){return Ha.useDocTypeOptions("Company",{fields:["name","company_name","abbr"],filters:[["is_group","=",0]]})}static useProjectTypes(){return Ha.useDocTypeOptions("Project Type",{fields:["name","description"]})}static useDepartments(){return Ha.useDocTypeOptions("Department",{fields:["name","department_name","parent_department"],filters:[["disabled","=",0]]})}static useCostCenters(){return Ha.useDocTypeOptions("Cost Center",{fields:["name","cost_center_name","parent_cost_center"],filters:[["disabled","=",0],["is_group","=",0]]})}static useProjectTemplates(){return Ha.useDocTypeOptions("Project Template",{fields:["name","project_template_name"]})}static useTeams(){return Ha.useDocTypeOptions("Team",{fields:["name","team","department"]})}}const nE=Ha.useTeams;class v6{static useCreatePhaseTask(){const{createDoc:t,loading:n}=Bi(),{call:s}=ms("frappe.client.insert"),{call:a}=ms("frappe.client.save"),{data:i}=bn("User","",{shouldFetch:!0});return{createTaskWithPhase:d=>ve(null,null,function*(){try{const f=yield t("Task",{subject:d.subject,description:d.description,priority:d.priority,status:d.status,type:d.type,expected_time:d.expected_time,task_weight:d.task_weight,exp_start_date:d.exp_start_date||null,exp_end_date:d.exp_end_date||null,project:d.project});let h=null;if(d.assign_to&&f)try{h=yield s({doc:{doctype:"ToDo",allocated_to:d.assign_to,assigned_by:(i==null?void 0:i.name)||"",description:`Task: ${d.subject}`,reference_type:"Task",reference_name:f.name,status:"Open",priority:d.priority,date:new Date().toISOString().split("T")[0]}})}catch(p){console.error("Error creating ToDo:",p)}if(d.phaseId&&f){const p={parent:d.phaseId,parenttype:"project_phase",parentfield:"tasks",task:f.name,task_name:f.subject,status:f.status,start_date:f.exp_start_date,end_date:f.exp_end_date,description:f.description},g=yield s({doc:z({doctype:"Project Phase Task"},p)});console.log("Project Phase Task created successfully:",g);try{console.log("Saving parent phase document to commit child table changes...");const b=yield a({doc:{doctype:"project_phase",name:d.phaseId}});console.log("Parent phase saved successfully:",b)}catch(b){console.warn("Failed to save parent phase, but child was created:",b)}return{success:!0,task:f,phaseTask:g,todo:h,message:"Task created and linked to phase successfully"}}return{success:!0,task:f,todo:h,message:"Task created successfully"}}catch(f){throw console.error("Error in createTaskWithPhase:",f),f}}),isLoading:n}}static useLinkTaskToPhase(){const{call:t}=ms("frappe.client.insert");return{linkTaskToPhase:(s,a,i)=>ve(null,null,function*(){try{const c={parent:a,parenttype:"Project Phase",parentfield:"tasks",task:s,task_name:(i==null?void 0:i.task_name)||s,status:(i==null?void 0:i.status)||"Open",start_date:i==null?void 0:i.start_date,end_date:i==null?void 0:i.end_date,description:i==null?void 0:i.description};return{success:!0,phaseTask:yield t({doc:z({doctype:"Project Phase Task"},c)}),message:"Task linked to phase successfully"}}catch(c){return console.error("Error linking task to phase:",c),{success:!1,error:c instanceof Error?c.message:"Unknown error",message:"Failed to link task to phase"}}})}}}const w6=v6.useCreatePhaseTask;class sE{static useUpdateTask(){const{updateDoc:t,loading:n,error:s}=qs();return{updateTask:(i,c)=>ve(null,null,function*(){const p=c,{assign_to:d}=p,f=ke(p,["assign_to"]),h=yield t("Task",i,oe(z({},f),{exp_start_date:f.exp_start_date||void 0,exp_end_date:f.exp_end_date||void 0}));return f.progress!==void 0&&(console.log(`Task ${i} progress updated, signaling phase progress update...`),localStorage.setItem("task_progress_updated",i),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:i}))),h}),isLoading:n,error:s}}static useTaskAssignment(){const{createDoc:t}=Bi(),{deleteDoc:n}=am(),{data:s}=bn("User","",{shouldFetch:!0});return{assignTask:(c,d,f,h="Medium")=>ve(null,null,function*(){return yield t("ToDo",{allocated_to:f,assigned_by:(s==null?void 0:s.name)||"",description:`Task: ${d}`,reference_type:"Task",reference_name:c,status:"Open",priority:h,date:new Date().toISOString().split("T")[0]})}),unassignTask:c=>ve(null,null,function*(){return yield n("ToDo",c)})}}}const rE=sE.useUpdateTask,aE=sE.useTaskAssignment;class iE{static useUpdatePhase(){const{updateDoc:t,loading:n,error:s}=qs();return{updatePhase:(i,c)=>ve(null,null,function*(){return t("project_phase",i,c)}),isLoading:n,error:s}}static usePhaseAssignment(){const{createDoc:t}=Bi(),{deleteDoc:n}=am(),{data:s}=bn("User","",{shouldFetch:!0});return{assignPhase:(c,d)=>ve(null,null,function*(){return t("ToDo",{allocated_to:d,assigned_by:(s==null?void 0:s.name)||"",reference_type:"project_phase",reference_name:c,description:`Assigned to phase: ${c}`,status:"Open"})}),unassignPhase:c=>ve(null,null,function*(){return n("ToDo",c)})}}}const _6=iE.useUpdatePhase,oE=iE.usePhaseAssignment;class j6{static useUpdateSubTask(){const{updateDoc:t,loading:n,error:s}=qs();return{updateSubTask:(i,c)=>ve(null,null,function*(){return yield t("SubTask",i,c)}),isLoading:n,error:s}}static useSubTaskAssignment(){const{createDoc:t}=Bi(),{deleteDoc:n}=am(),{data:s}=bn("User","",{shouldFetch:!0});return{assignSubTask:(c,d)=>ve(null,null,function*(){return yield t("ToDo",{allocated_to:d,assigned_by:(s==null?void 0:s.name)||"",reference_type:"SubTask",reference_name:c,description:`Assignment for SubTask: ${c}`,status:"Open"})}),unassignSubTask:c=>ve(null,null,function*(){return yield n("ToDo",c)})}}}const{useUpdateSubTask:lE,useSubTaskAssignment:yy}=j6,lc=e=>{const{data:t,isLoading:n,error:s}=bn("Project",e,{fields:["name","users"]}),{data:a,isLoading:i}=bn("Project",(t==null?void 0:t.name)||"",t!=null&&t.name?"Project":void 0);return{data:(a==null?void 0:a.users)||(t==null?void 0:t.users)||[],isLoading:n||i,error:s}};class S6{static useTaskProgressCalculation(){const{updateDoc:t}=qs();return{calculateAndUpdateTaskProgress:s=>ve(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name","status"],filters:[["task","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(yield a.json()).message||[];if(!c||c.length===0)return null;let d=0;c.forEach(h=>{switch(h.status){case"Open":d+=1;break;case"Working":d+=50;break;case"Completed":d+=100;break;default:d+=0}});const f=Math.round(d/c.length);return yield t("Task",s,{progress:f}),console.log(`Task ${s} progress updated to ${f}%, signaling phase progress update...`),localStorage.setItem("task_progress_updated",s),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:s})),console.log(`Task ${s} progress updated to ${f}%`),f}catch(a){return console.error("Error calculating task progress:",a),null}})}}static useTaskStatusProgressUpdate(){const{updateDoc:t}=qs();return{updateTaskProgressByStatus:(s,a,i)=>ve(null,null,function*(){try{let c=i||0;switch(a){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("Task",s,{status:a,progress:c}),console.log(`Task ${s} status/progress updated, signaling phase progress update...`),localStorage.setItem("task_progress_updated",s),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:s})),c}catch(c){return console.error("Error updating task progress by status:",c),null}})}}static useManualProgressUpdate(){const{updateDoc:t}=qs();return{updateTaskProgress:(s,a)=>ve(null,null,function*(){try{let i="";return a===0||a===1?i="Open":a>1&&a<=90?i="Working":a>90&&a<100?i="Pending Review":a===100&&(i="Completed"),yield t("Task",s,{progress:a,status:i}),console.log(`Task ${s} manual progress updated to ${a}%, signaling phase progress update...`),localStorage.setItem("task_progress_updated",s),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:s})),{progress:a,status:i}}catch(i){return console.error("Error updating manual task progress:",i),null}})}}}const{useTaskProgressCalculation:ld,useTaskStatusProgressUpdate:cE,useManualProgressUpdate:uE}=S6;class dE{static usePhaseProgressCalculation(){const{updateDoc:t}=qs();return{calculateAndUpdatePhaseProgress:s=>ve(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",name:s})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(yield a.json()).message;if(!c||!c.tasks||c.tasks.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no tasks)`),0;const d=c.tasks.map(y=>y.task);console.log(`Phase ${s} has ${d.length} tasks:`,d);const f=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["name","in",d]]})});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const p=(yield f.json()).message||[];if(p.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no valid tasks)`),0;let g=0;p.forEach(y=>{const _=y.progress||0;console.log(`Task ${y.name}: ${_}%`),g+=_});const b=Math.round(g/p.length);return console.log(`Calculated phase progress: ${b}% (from ${p.length} tasks)`),yield t("project_phase",s,{progress:b}),console.log(`Phase ${s} progress updated to ${b}% (based on ${p.length} tasks)`),b}catch(a){return console.error("Error calculating phase progress:",a),null}})}}static usePhaseStatusProgressUpdate(){const{updateDoc:t}=qs();return{updatePhaseProgressByStatus:(s,a,i)=>ve(null,null,function*(){try{let c=i||0;switch(a){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("project_phase",s,{status:a,progress:c}),c}catch(c){return console.error("Error updating phase progress by status:",c),null}})}}static useManualPhaseProgressUpdate(){const{updateDoc:t}=qs();return{updatePhaseProgress:(s,a)=>ve(null,null,function*(){try{let i="";return a===0||a===1?i="Open":a>1&&a<=90?i="Working":a>90&&a<100?i="Pending Review":a===100&&(i="Completed"),yield t("project_phase",s,{progress:a,status:i}),{progress:a,status:i}}catch(i){return console.error("Error updating manual phase progress:",i),null}})}}}const{usePhaseProgressCalculation:fE}=dE,N6=e=>ve(null,null,function*(){const{calculateAndUpdatePhaseProgress:t}=dE.usePhaseProgressCalculation();return yield t(e)});class by{static useProjectProgressFromPhases(){const{updateDoc:t}=qs();return{calculateAndUpdateProjectProgressFromPhases:s=>ve(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(yield a.json()).message||[];if(!c||c.length===0){const{calculateAndUpdateProjectProgressFromTasks:h}=by.useProjectProgressFromTasks();return yield h(s)}let d=0;c.forEach(h=>{d+=h.progress||0});const f=Math.round(d/c.length);return yield t("Project",s,{percent_complete:f}),f}catch(a){return console.error("Error calculating project progress from phases:",a),null}})}}static useProjectProgressFromTasks(){const{updateDoc:t}=qs();return{calculateAndUpdateProjectProgressFromTasks:s=>ve(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(yield a.json()).message||[];if(!c||c.length===0)return yield t("Project",s,{percent_complete:0}),0;let d=0;c.forEach(h=>{d+=h.progress||0});const f=Math.round(d/c.length);return yield t("Project",s,{percent_complete:f}),f}catch(a){return console.error("Error calculating project progress from tasks:",a),null}})}}static useProjectProgressCalculation(){const{updateDoc:t}=qs();return{calculateAndUpdateProjectProgress:s=>ve(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(yield a.json()).message||[];console.log("Found phases:",c.length);const d=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const h=(yield d.json()).message||[];if(console.log("Found tasks:",h.length),c&&c.length>0){const p=[];for(const w of c)try{const N=yield fetch(`/api/resource/project_phase/${w.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(N.ok){const S=yield N.json();S.data.tasks&&S.data.tasks.length>0&&S.data.tasks.forEach(R=>{R.task&&p.push(R.task)})}}catch(N){console.warn("Error fetching phase document:",w.name,N)}console.log("Tasks in phases:",p);const g=h.filter(w=>!p.includes(w.name));console.log("Standalone tasks:",g.length);let b=0,y=0;c.forEach(w=>{const N=w.progress||0;console.log(`Phase ${w.name}: ${N}%`),b+=N,y+=1}),g.forEach(w=>{const N=w.progress||0;console.log(`Standalone Task ${w.name}: ${N}%`),b+=N,y+=1}),console.log(`Total components: ${y}, Total progress: ${b}`);const _=y>0?Math.round(b/y):0;return console.log(`Calculated average progress: ${_}%`),yield t("Project",s,{percent_complete:_}),{progress:_,source:"mixed",count:y,phases:c.length,standaloneTasks:g.length}}else if(h&&h.length>0){console.log("No phases found, calculating from all tasks");let p=0;h.forEach(b=>{p+=b.progress||0});const g=Math.round(p/h.length);return console.log(`Task-based progress: ${g}%`),yield t("Project",s,{percent_complete:g}),{progress:g,source:"tasks",count:h.length}}else return console.log("No phases or tasks found"),yield t("Project",s,{percent_complete:0}),{progress:0,source:"none",count:0}}catch(a){return console.error("Error calculating project progress:",a),null}})}}static useProjectStatusProgressUpdate(){const{updateDoc:t}=qs();return{updateProjectProgressByStatus:(s,a,i)=>ve(null,null,function*(){try{let c=i||0;switch(a){case"Completed":c=100;break;case"Cancelled":case"Rejected":c=0;break;default:break}return yield t("Project",s,{status:a,percent_complete:c}),c}catch(c){return console.error("Error updating project progress by status:",c),null}})}}}const{useProjectProgressCalculation:E6}=by;class T6{static useProjectCascadeDelete(){const{call:t}=ms("frappe.client.delete"),{call:n}=ms("frappe.client.get_list");return{deleteProjectCascade:a=>ve(null,null,function*(){try{console.log(`Starting cascade delete for project: ${a}`);try{const y=yield n({doctype:"Project",fields:["name"],filters:[["name","=",a]],limit_page_length:1});if(!(y!=null&&y.message)||y.message.length===0)throw new Error(`Project ${a} not found`)}catch(y){throw console.error("Project validation failed:",y),new Error(`Project validation failed: ${y instanceof Error?y.message:"Unknown validation error"}`)}let i=0,c=0,d=0;console.log("Step 1: Fetching all tasks...");let f=[];try{const y=yield n({doctype:"Task",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3});f=(y==null?void 0:y.message)||[],console.log(`Found ${f.length} tasks to delete`)}catch(y){console.error("Error fetching tasks:",y),console.log("Continuing with deletion despite task fetch error...")}if(f.length>0){console.log(`Step 2: Processing ${f.length} tasks for subtask deletion...`);for(const y of f){console.log(`Step 2: Deleting subtasks for task ${y.name}...`);try{const _=yield n({doctype:"SubTask",fields:["name"],filters:[["task","=",y.name]],limit_page_length:1e3}),w=(_==null?void 0:_.message)||[];console.log(`Found ${w.length} subtasks for task ${y.name}`);for(const N of w)try{console.log(`Deleting subtask: ${N.name}`),yield t({doctype:"SubTask",name:N.name}),i++,console.log(`Successfully deleted subtask: ${N.name}`),yield new Promise(S=>setTimeout(S,100))}catch(S){console.error(`Error deleting subtask ${N.name}:`,S)}}catch(_){console.error(`Error fetching subtasks for task ${y.name}:`,_)}}yield new Promise(y=>setTimeout(y,500))}if(f.length>0){console.log(`Step 3: Deleting ${f.length} tasks...`);for(const y of f)try{console.log(`Deleting task: ${y.name}`),yield t({doctype:"Task",name:y.name}),c++,console.log(`Successfully deleted task: ${y.name}`),yield new Promise(_=>setTimeout(_,100))}catch(_){console.error(`Error deleting task ${y.name}:`,_)}yield new Promise(y=>setTimeout(y,500))}console.log("Step 4: Deleting all phases...");let h=[];try{const y=yield n({doctype:"project_phase",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3});h=(y==null?void 0:y.message)||[],console.log(`Found ${h.length} phases to delete`)}catch(y){console.error("Error fetching phases:",y),console.log("Continuing with deletion despite phase fetch error...")}for(const y of h)try{console.log(`Deleting phase: ${y.name}`),yield t({doctype:"project_phase",name:y.name}),d++,console.log(`Successfully deleted phase: ${y.name}`),yield new Promise(_=>setTimeout(_,100))}catch(_){console.error(`Error deleting phase ${y.name}:`,_)}h.length>0&&(yield new Promise(y=>setTimeout(y,500))),console.log("Step 5: Deleting ToDo assignments...");try{const y=yield n({doctype:"ToDo",fields:["name"],filters:[["reference_type","in",["Project","Task","SubTask"]],["reference_name","like",`%${a}%`]],limit_page_length:1e3}),_=(y==null?void 0:y.message)||[];console.log(`Found ${_.length} ToDo assignments to delete`);for(const w of _)try{yield t({doctype:"ToDo",name:w.name})}catch(N){console.error(`Error deleting ToDo ${w.name}:`,N)}}catch(y){console.error("Error fetching/deleting ToDo assignments:",y)}console.log("Step 6: Deleting project users...");try{const y=yield n({doctype:"Project User",fields:["name"],filters:[["parent","=",a]],limit_page_length:1e3}),_=(y==null?void 0:y.message)||[];console.log(`Found ${_.length} project users to delete`);for(const w of _)try{yield t({doctype:"Project User",name:w.name})}catch(N){console.error(`Error deleting Project User ${w.name}:`,N)}}catch(y){console.error("Error fetching/deleting project users:",y)}console.log("Step 6.5: Performing comprehensive dependency cleanup...");const p=[{doctype:"Task",filter:[["project","=",a]]},{doctype:"SubTask",filter:[["project","=",a]]},{doctype:"project_phase",filter:[["project","=",a]]},{doctype:"Project User",filter:[["parent","=",a]]},{doctype:"ToDo",filter:[["reference_type","=","Project"],["reference_name","=",a]]},{doctype:"ToDo",filter:[["reference_type","=","Task"],["reference_name","like",`%${a}%`]]},{doctype:"Communication",filter:[["reference_doctype","=","Project"],["reference_name","=",a]]},{doctype:"File",filter:[["attached_to_doctype","=","Project"],["attached_to_name","=",a]]},{doctype:"Comment",filter:[["reference_doctype","=","Project"],["reference_name","=",a]]}];for(const y of p)try{console.log(`Checking for remaining ${y.doctype} dependencies...`);const _=yield n({doctype:y.doctype,fields:["name"],filters:y.filter,limit_page_length:1e3}),w=(_==null?void 0:_.message)||[];if(w.length>0){console.log(`Found ${w.length} remaining ${y.doctype} items, deleting them...`);for(const N of w)try{yield t({doctype:y.doctype,name:N.name}),console.log(`Deleted remaining ${y.doctype}: ${N.name}`),yield new Promise(S=>setTimeout(S,100))}catch(S){console.error(`Error deleting remaining ${y.doctype} ${N.name}:`,S)}}else console.log(`No remaining ${y.doctype} dependencies found.`)}catch(_){console.error(`Error checking ${y.doctype} dependencies:`,_)}yield new Promise(y=>setTimeout(y,1e3)),console.log("Step 7: Deleting the project..."),yield new Promise(y=>setTimeout(y,1e3));let g=0;const b=3;for(;g<b;)try{g++,console.log(`Attempting to delete project ${a} (attempt ${g}/${b})`),yield t({doctype:"Project",name:a}),console.log(`Verifying project ${a} deletion...`);try{const y=yield n({doctype:"Project",fields:["name"],filters:[["name","=",a]],limit_page_length:1});if(y!=null&&y.message&&y.message.length>0)throw new Error("Project still exists after deletion attempt");console.log(`Successfully verified project ${a} deletion`)}catch(y){if(y.message==="Project still exists after deletion attempt")throw y;console.log(`Project ${a} not found during verification - deletion successful`)}console.log(`Successfully deleted project: ${a}`);break}catch(y){if(console.error(`Error deleting project ${a} (attempt ${g}):`,y),g<b){console.log(`Waiting before retry attempt ${g+1}...`),yield new Promise(_=>setTimeout(_,2e3)),console.log("Attempting to clean up remaining dependencies...");try{const _=yield n({doctype:"Project User",fields:["name"],filters:[["parent","=",a]],limit_page_length:1e3}),w=(_==null?void 0:_.message)||[];if(w.length>0){console.log(`Found ${w.length} remaining project users, deleting them...`);for(const N of w)try{yield t({doctype:"Project User",name:N.name}),console.log(`Deleted remaining project user: ${N.name}`)}catch(S){console.error(`Error deleting remaining project user ${N.name}:`,S)}}}catch(_){console.error("Error during dependency cleanup:",_)}try{const _=yield n({doctype:"ToDo",fields:["name"],filters:[["reference_type","=","Project"],["reference_name","=",a]],limit_page_length:1e3}),w=(_==null?void 0:_.message)||[];if(w.length>0){console.log(`Found ${w.length} remaining todos, deleting them...`);for(const N of w)try{yield t({doctype:"ToDo",name:N.name}),console.log(`Deleted remaining todo: ${N.name}`)}catch(S){console.error(`Error deleting remaining todo ${N.name}:`,S)}}}catch(_){console.error("Error during todo cleanup:",_)}}else{let _="Unknown project deletion error";if(y&&typeof y=="object")if(console.error("Full project deletion error object:",JSON.stringify(y,null,2)),y.message)_=y.message;else if(y.exc)_=y.exc;else if(y._server_messages)try{const w=JSON.parse(y._server_messages);Array.isArray(w)&&w.length>0&&(_=JSON.parse(w[0]).message||_)}catch(w){console.error("Error parsing server messages:",w)}else _=JSON.stringify(y);else typeof y=="string"&&(_=y);throw new Error(`Failed to delete project ${a} after ${b} attempts: ${_}`)}}return console.log(`Successfully completed cascade delete for project: ${a}`),{success:!0,deletedItems:{subtasks:i,tasks:c,phases:d,project:1}}}catch(i){console.error("Error in cascade delete:",i);let c="Unknown error";throw i instanceof Error?c=i.message:typeof i=="string"?c=i:i&&typeof i=="object"&&(c=i.message||i.error||i.exc||JSON.stringify(i)),new Error(`Failed to delete project and related items: ${c}`)}})}}}const{useProjectCascadeDelete:C6}=T6;class vy{static useUserTodos(){const{data:t}=bn("User","",{shouldFetch:!0}),{data:n,isLoading:s,error:a,mutate:i}=Dt("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",(t==null?void 0:t.name)||""],["reference_type","=","Task"]],orderBy:{field:"creation",order:"desc"},limit:0},t!=null&&t.name?"user-todos":null);return{todos:n||[],isLoading:s,error:a,mutate:i,currentUser:t}}static useUserTodosEnriched(){const{data:t}=bn("User","",{shouldFetch:!0}),{data:n,isLoading:s,error:a,mutate:i}=oA("todo.api.get_user_todos_with_task_info",{user:(t==null?void 0:t.name)||""},t!=null&&t.name?"user-todos-enriched":null,{revalidateOnFocus:!1,revalidateOnReconnect:!1});return{todos:(n==null?void 0:n.message)||[],isLoading:s,error:a,mutate:i,currentUser:t}}static useUserTodosWithTaskData(){const{todos:t,isLoading:n,error:s,mutate:a,currentUser:i}=vy.useUserTodos();return{todos:t.map(d=>(d.reference_type==="Task"&&d.reference_name,d)),isLoading:n,error:s,mutate:a,currentUser:i}}static useAllTodos(){const{data:t,isLoading:n,error:s}=Dt("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by"],filters:[["reference_type","in",["Task","SubTask"]]],limit:0});return{todos:t||[],isLoading:n,error:s}}}const k6=vy.useAllTodos;class O6{static useUserAssignedTasks(){const{currentUser:t}=ir(),{data:n,isLoading:s,error:a,mutate:i}=Dt("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",t||""]],orderBy:{field:"creation",order:"desc"},limit:0},t?"user-assigned-todos":null),d=(n||[]).filter(ee=>ee.reference_type==="Task").map(ee=>ee.reference_name).filter(Boolean),h=(n||[]).filter(ee=>ee.reference_type==="SubTask").map(ee=>ee.reference_name).filter(Boolean),{data:p,isLoading:g,error:b,mutate:y}=Dt("Task",{fields:["name","subject","project","status","priority","type","expected_time","actual_time","exp_start_date","exp_end_date","progress","is_group","parent_task","description","company","department"],filters:d.length>0?[["name","in",d]]:[["name","=","nonexistent"]],limit:0},d.length>0?"user-assigned-tasks":null),{data:_,isLoading:w,error:N,mutate:S}=Dt("SubTask",{fields:["name","subject","task","status","start_date","end_date","description","assigned_to"],filters:h.length>0?[["name","in",h]]:[["name","=","nonexistent"]],limit:0},h.length>0?"user-assigned-subtasks":null),R=[...new Set((_||[]).map(ee=>ee.task).filter(Boolean))],{data:D}=Dt("Task",{fields:["name","subject","project"],filters:R.length>0?[["name","in",R]]:[["name","=","nonexistent"]],limit:0},R.length>0?"parent-tasks-for-subtasks":null),T=[...new Set([...(p||[]).map(ee=>ee.project).filter(Boolean),...(D||[]).map(ee=>ee.project).filter(Boolean)])],{data:k}=Dt("Project",{fields:["name","project_name"],filters:T.length>0?[["name","in",T]]:[["name","=","nonexistent"]],limit:0},T.length>0?"projects-for-assigned-tasks":null),C=(k||[]).reduce((ee,Y)=>(ee[Y.name]=Y.project_name||Y.name,ee),{}),A=(D||[]).reduce((ee,Y)=>(ee[Y.name]=Y,ee),{}),P=(n||[]).reduce((ee,Y)=>(Y.reference_name&&(ee[Y.reference_name]=Y),ee),{}),U=(p||[]).map(ee=>oe(z({},ee),{project_name:ee.project?C[ee.project]:void 0,assignedTodo:P[ee.name]})),K=(_||[]).map(ee=>{const Y=ee.task?A[ee.task]:void 0;return oe(z({},ee),{task_subject:Y==null?void 0:Y.subject,project_name:Y!=null&&Y.project?C[Y.project]:void 0,assignedTodo:P[ee.name]})});return{tasks:U,subTasks:K,todos:n||[],isLoading:s||g||w,error:a||b||N,mutate:()=>{i(),y(),S()},currentUser:t}}}const D6=O6.useUserAssignedTasks;class hE{static useAllTeamTasks(){const{data:t,isLoading:n,error:s}=Dt("Task",{fields:["name","subject","description","status","priority","exp_start_date","exp_end_date","project","type","progress","completed_by"],limit:0}),{data:a,isLoading:i,error:c}=Dt("SubTask",{fields:["name","subject","description","status","start_date","end_date","assigned_to","task"],limit:0});return{allTasks:t||[],allSubTasks:a||[],isLoading:n||i,error:s||c}}static getAllTaskOfTeam(){const t=ir().currentUser,{data:n}=Dt("Team",{filters:[["teamlead","=",t||""]]}),s=(n==null?void 0:n.map(U=>U.name))||[],{data:a}=Dt("Project",{fields:["name","team"],filters:[["team","in",s]],limit:0}),i=(a==null?void 0:a.map(U=>U.name))||[],{data:c,isLoading:d,error:f}=Dt("Task",{fields:["name","status","exp_end_date","project"],limit:0}),h=(c||[]).filter(U=>i.includes(U.project||"")),{data:p,isLoading:g,error:b}=Dt("SubTask",{fields:["name","status","task"],limit:0}),y=h.map(U=>U.name),_=(p||[]).filter(U=>y.includes(U.task||"")),w=U=>(U||"").toLowerCase()==="completed",N=U=>(U||"").toLowerCase()==="working",S=U=>(U||"").toLowerCase()==="cancelled",R=U=>(U||"").toLowerCase()==="overdue",D=new Date;D.setHours(0,0,0,0);const T=U=>{if(R(U.status))return!0;if(!w(U.status)&&!S(U.status)&&U.exp_end_date){const K=new Date(U.exp_end_date);return K.setHours(0,0,0,0),K<D}return!1},k=h.length+_.length,C=h.filter(U=>N(U.status)).length+_.filter(U=>N(U.status)).length,A=h.filter(U=>w(U.status)).length+_.filter(U=>w(U.status)).length,P=h.filter(U=>T(U)).length;return{total:k,working:C,completed:A,overdue:P,isLoading:d||g,error:f||b}}}const A6=hE.useAllTeamTasks,R6=hE.getAllTaskOfTeam,M6=()=>{const{currentUser:e}=ir(),{data:t,isLoading:n,error:s}=Dt("User",{fields:["name","full_name","user_image","first_name","last_name","email"],filters:[["enabled","=",1],["user_type","=","System User"]],limit:20});return{simpleTeamData:j.useMemo(()=>t?t.map(i=>({id:i.name,name:i.full_name||i.first_name||i.name||"Unknown User",role:i.name===e?"Leader":"Member",avatar:i.user_image||`https://placehold.co/40x40/e2e8f0/475569?text=${(i.first_name||i.full_name||"U").charAt(0).toUpperCase()}`})):[],[t,e]),users:t,isLoading:n,error:s}},P6=({projects:e,selectedProject:t,selectedTeam:n,onProjectChange:s,onTeamChange:a})=>{var w,N;const[i,c]=j.useState({selectedTeam:n,selectedProject:t}),[d,f]=j.useState(!1),{data:h}=nE(),p=(S,R)=>{c(D=>oe(z({},D),{[S]:R})),S==="selectedTeam"?a(R):S==="selectedProject"&&s(R)},g=se.useMemo(()=>{const S=[{value:"all",label:"Tt c team"},...(h==null?void 0:h.map(R=>({value:R.name,label:R.team_name||R.name})))||[]];return[S[0],...S.slice(1).sort((R,D)=>R.label.localeCompare(D.label))]},[h]),b=e.filter(S=>!(i.selectedTeam!=="all"&&i.selectedTeam!==""&&S.team!==i.selectedTeam)),y=()=>{c({selectedTeam:"all",selectedProject:"all"}),a("all"),s("all")},_=i.selectedTeam!=="all"||i.selectedProject!=="all";return se.useEffect(()=>{c(S=>oe(z({},S),{selectedTeam:n,selectedProject:t}))},[n,t]),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>f(!d),className:`inline-flex items-center px-4 py-2 border rounded-lg text-sm font-medium bg-white hover:bg-gray-50 transition-colors ${_?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700"}`,children:[l.jsx(Zx,{className:"mr-2 h-4 w-4"}),"B lc",_&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[i.selectedTeam!=="all"?1:0,i.selectedProject!=="all"?1:0].reduce((S,R)=>S+R,0)})]}),d&&l.jsx("div",{className:"absolute top-full right-0 mt-2 w-96 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"B lc d n"}),_&&l.jsx("button",{onClick:y,className:"text-sm text-blue-600 hover:text-blue-800",children:"Xa tt c"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team"}),l.jsx("select",{value:i.selectedTeam,onChange:S=>p("selectedTeam",S.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!h||h.length===0,children:g.map(S=>l.jsx("option",{value:S.value,children:S.label},S.value))}),(!h||h.length===0)&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Khng c team no"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"D n"}),l.jsxs("select",{value:i.selectedProject,onChange:S=>p("selectedProject",S.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"all",children:"Tt c d n"}),b.map(S=>l.jsx("option",{value:S.project_name,children:S.project_name},S.name))]})]})]}),_&&l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx("span",{children:"ang p dng:"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.selectedTeam!=="all"&&l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Team: ",(w=g.find(S=>S.value===i.selectedTeam))==null?void 0:w.label,l.jsx("button",{onClick:()=>p("selectedTeam","all"),className:"ml-1 text-blue-600 hover:text-blue-800",children:""})]}),i.selectedProject!=="all"&&l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["D n: ",(N=b.find(S=>S.project_name===i.selectedProject))==null?void 0:N.project_name,l.jsx("button",{onClick:()=>p("selectedProject","all"),className:"ml-1 text-green-600 hover:text-green-800",children:""})]})]})]})})]})}),d&&l.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>f(!1)})]})},L6=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),z6=({projects:e,tasks:t,selectedProject:n})=>{const s=n&&n!=="all",a=s?"Task":"D n";let i,c,d;if(s){i=t.filter(g=>g.status==="Open"||g.status==="Working"||g.status!=="Completed"&&g.status!=="Cancelled").length,c=t.filter(g=>g.status==="Completed").length;const p=new Date;d=t.filter(g=>g.exp_end_date?new Date(g.exp_end_date)<p&&g.status!=="Completed":!1).length,t.reduce((g,b)=>g+(b.expected_time||0),0)}else{i=e.filter(g=>g.status==="ang thc hin"||g.status!=="Hon thnh"&&g.status!=="Hy"&&g.percent_complete<100).length,c=e.filter(g=>g.status==="Hon thnh"||g.percent_complete===100).length;const p=new Date;d=e.filter(g=>new Date(g.expected_end_date)<p&&g.status!=="Hon thnh"&&g.percent_complete<100).length}const f=e.reduce((p,g)=>p+(g.estimated_costing||0),0),h=[{title:`${a} ang hot ng`,value:i,icon:AM,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-blue-500 to-blue-600",cardBg:"bg-white",shadow:"shadow-lg shadow-blue-500/20",change:"+55%",changeText:"than last week",changeColor:"text-green-500"},{title:`${a} hon thnh`,value:c,icon:KM,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-green-500 to-green-600",cardBg:"bg-white",shadow:"shadow-lg shadow-green-500/20",change:"+3%",changeText:"than last month",changeColor:"text-green-500"},{title:`${a} qu hn`,value:d,icon:tc,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-pink-500 to-pink-600",cardBg:"bg-white",shadow:"shadow-lg shadow-pink-500/20",change:"+1%",changeText:"than yesterday",changeColor:"text-green-500"},{title:"Chi ph D n",value:L6(f),icon:RP,iconColor:"text-white",iconBg:"bg-gradient-to-br from-yellow-200 to-yellow-600",cardBg:"bg-white",shadow:"shadow-lg shadow-yellow-500/20",change:"+91",changeText:"Just updated",changeColor:"text-gray-500"}];return l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:h.map((p,g)=>{const b=p.icon;return l.jsx("div",{className:`${p.cardBg} ${p.shadow} rounded-xl p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:`${p.iconBg} ${p.iconColor} p-3 rounded-2xl shadow-lg`,children:l.jsx(b,{className:"h-6 w-6"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:p.title}),l.jsx("p",{className:`${p.title.includes("Chi ph")?"text-2xl":"text-3xl"} font-bold text-gray-900`,children:p.value})]})]})},g)})})},mE=({title:e,children:t,className:n=""})=>l.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 mb-6 ${n}`,children:[e&&l.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-4",children:e}),t]}),U6=({projects:e,tasks:t,selectedProject:n})=>{const s=n&&n!=="all",a=se.useMemo(()=>{const p=new Date;return p.setHours(0,0,0,0),e.map((b,y)=>({id:`milestone-${y}`,name:b.project_name,project:b.project_name,endDate:new Date(b.expected_end_date),priority:b.priority,status:b.percent_complete===100?"completed":b.percent_complete>0?"in progress":"upcoming",progress:b.percent_complete})).filter(b=>{const y=new Date(b.endDate);y.setHours(0,0,0,0);const _=Math.ceil((y.getTime()-p.getTime())/(1e3*60*60*24));return b.status!=="completed"&&_>=0&&_<=15}).sort((b,y)=>{const _=new Date;_.setHours(0,0,0,0);const w=new Date(b.endDate);w.setHours(0,0,0,0);const N=new Date(y.endDate);N.setHours(0,0,0,0);const S=Math.abs(w.getTime()-_.getTime()),R=Math.abs(N.getTime()-_.getTime()),D=S-R;if(D!==0)return D;const T={"Khn cp":0,Cao:1,"Trung bnh":2,Thp:3,Urgent:0,High:1,Medium:2,Low:3};return(T[b.priority]||3)-(T[y.priority]||3)})},[e]),i=se.useMemo(()=>{if(!s)return[];const p=new Date;return p.setHours(0,0,0,0),t.filter(g=>{if(!g.exp_end_date||g.status==="Completed")return!1;const b=new Date(g.exp_end_date);b.setHours(0,0,0,0);const y=Math.ceil((b.getTime()-p.getTime())/(1e3*60*60*24));return y>=0&&y<=2}).sort((g,b)=>{const y=new Date;y.setHours(0,0,0,0);const _=new Date(g.exp_end_date);_.setHours(0,0,0,0);const w=new Date(b.exp_end_date);w.setHours(0,0,0,0);const N=Math.abs(_.getTime()-y.getTime()),S=Math.abs(w.getTime()-y.getTime()),R=N-S;if(R!==0)return R;const D={Urgent:0,High:1,Medium:2,Low:3};return(D[g.priority]||3)-(D[b.priority]||3)})},[t,s]),c=p=>{switch(p){case"completed":return"bg-green-500";case"in progress":return"bg-blue-500";case"upcoming":return"bg-gray-300";default:return"bg-gray-300"}},d=p=>{switch(p){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},f=p=>p.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),h=p=>{const g=new Date;g.setHours(0,0,0,0);const b=new Date(p);b.setHours(0,0,0,0);const y=Math.ceil((b.getTime()-g.getTime())/(1e3*60*60*24));return y<0?{text:`Qu hn ${Math.abs(y)} ngy`,color:"text-red-600",urgent:!0}:y===0?{text:"Hm nay",color:"text-red-600",urgent:!0}:y<=3?{text:`${y} ngy na`,color:"text-red-600",urgent:!0}:y<=7?{text:`${y} ngy na`,color:"text-orange-600",urgent:!0}:y<=14?{text:`${y} ngy na`,color:"text-yellow-600",urgent:!1}:{text:`${y} ngy na`,color:"text-gray-600",urgent:!1}};return l.jsx("div",{className:"grid grid-cols-1 gap-8",children:l.jsx(mE,{title:s?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})," ","gn ",l.jsx("span",{className:"text-red-600 font-semibold",children:"n hn "})," (<2 ngy)"]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"D n"})," ","sp ",l.jsx("span",{className:"text-red-600 font-semibold",children:"n hn"})," (<15 ngy)"]}),children:l.jsx("div",{className:`space-y-6 ${s?i.length>=3?"h-80 overflow-y-auto":"overflow-visible":a.length>=3?"h-80 overflow-y-auto":"overflow-visible"}`,children:s?l.jsxs(l.Fragment,{children:[i.map((p,g)=>{const b=h(new Date(p.exp_end_date));return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:p.subject}),l.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(p.priority)}`,children:p.priority})]}),l.jsx("div",{className:"mt-1",children:l.jsx("span",{className:`text-xs font-medium ${b.color}`,children:b.text})})]})}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(Vr,{className:"h-4 w-4 mr-1"}),f(new Date(p.exp_end_date))]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Progress"}),l.jsxs("span",{className:"font-medium",children:[p.progress||0,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full ${p.status==="Completed"?"bg-green-500":p.status==="Working"?"bg-blue-500":"bg-gray-300"}`,style:{width:`${p.progress||0}%`}})})]})]},`task-${g}`)}),i.length===0&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Vr,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),l.jsx("p",{children:"Khng c task no sp n hn"})]})]}):l.jsxs(l.Fragment,{children:[a.map(p=>{const g=h(p.endDate);return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:p.name}),l.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(p.priority)}`,children:p.priority})]}),l.jsx("div",{className:"mt-1",children:l.jsx("span",{className:`text-xs font-medium ${g.color}`,children:g.text})})]})}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(Vr,{className:"h-4 w-4 mr-1"}),f(p.endDate)]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Progress"}),l.jsxs("span",{className:"font-medium",children:[p.progress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full ${c(p.status)}`,style:{width:`${p.progress}%`}})})]})]},p.id)}),a.length===0&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Vr,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),l.jsx("p",{children:"Khng c d n no sp n hn"})]})]})})})})},F6=({projects:e,tasks:t,selectedProject:n})=>{const[s,a]=j.useState(null),[i,c]=j.useState(!0),d=_=>{a(w=>w===_?null:_)},f=n&&n!=="all",p=(()=>{if(f){const _={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Open",height:30},working:{projects:[],color:"#f59e0b",lightColor:"#fbbf24",darkColor:"#d97706",label:"Working",height:25},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Completed",height:20},overdue:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Overdue",height:40},cancelled:{projects:[],color:"#6b7280",lightColor:"#9ca3af",darkColor:"#4b5563",label:"Cancelled",height:35}};return t.forEach(w=>{const N=new Date;w.exp_end_date&&new Date(w.exp_end_date)<N&&w.status!=="Completed"&&w.status!=="Cancelled"?_.overdue.projects.push(w):w.status==="Completed"?_.completed.projects.push(w):w.status==="Working"?_.working.projects.push(w):w.status==="Cancelled"?_.cancelled.projects.push(w):_.open.projects.push(w)}),_}else{const _={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"ang m",height:30},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Hon thnh",height:20},cancelled:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:" hy",height:40}};return e.forEach(w=>{w.status==="Completed"||w.status==="Hon thnh"?_.completed.projects.push(w):w.status==="Cancelled"||w.status==="Canceled"||w.status==="Hy"?_.cancelled.projects.push(w):_.open.projects.push(w)}),_}})(),g=f?t.length:e.length,b=_=>{const w={Urgent:4,High:3,Medium:2,Low:1};return _.sort((N,S)=>{const R=w[N.priority]||0;return(w[S.priority]||0)-R})};Object.values(p).forEach(_=>{_.projects=b(_.projects)});const y=()=>{const[_,w]=se.useState({visible:!1,x:0,y:0,categoryKey:""}),N=360,S=N/2,R=N/2,D=170;let T=0;const k=Object.entries(p).filter(([,U])=>U.projects.length>0),C=(U,K)=>{const $=K.clientX,G=K.clientY;w({visible:!0,x:$+15,y:G-10,categoryKey:U})},A=(U,K)=>{if(_.visible&&_.categoryKey===U){const $=K.clientX,G=K.clientY;w(W=>oe(z({},W),{x:$+15,y:G-10}))}},P=()=>{w({visible:!1,x:0,y:0,categoryKey:""})};return l.jsxs("div",{className:"relative flex flex-col items-center",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-6 text-center max-w-xs",children:f?"Biu  phn b Tasks theo trng thi":"Biu  phn b d n theo trng thi"}),l.jsx("div",{className:"relative",style:{width:N,height:N},children:l.jsxs("svg",{width:N,height:N,className:"absolute top-0 left-0",children:[l.jsx("defs",{children:l.jsx("filter",{id:"dropshadow2d",x:"-20%",y:"-20%",width:"140%",height:"140%",children:l.jsx("feDropShadow",{dx:"2",dy:"4",stdDeviation:"4",floodOpacity:"0.2"})})}),(T=0,k.map(([U,K])=>{const $=K.projects.length/g*100,G=T,W=T+$/100*360;T=W;const ee=G*Math.PI/180,Y=W*Math.PI/180,H=(G+W)/2*Math.PI/180,J=S+D*Math.cos(ee),te=R+D*Math.sin(ee),ce=S+D*Math.cos(Y),L=R+D*Math.sin(Y),le=W-G>180?1:0,re=k.length===1;let V;re?V=`M ${S} ${R+D} A ${D} ${D} 0 1 1 ${S} ${R-D} A ${D} ${D} 0 1 1 ${S} ${R+D} Z`:V=[`M ${S} ${R}`,`L ${J} ${te}`,`A ${D} ${D} 0 ${le} 1 ${ce} ${L}`,"Z"].join(" ");const ne=D*.7,xe=re?S:S+ne*Math.cos(H),me=re?R:R+ne*Math.sin(H);return l.jsxs("g",{children:[l.jsx("path",{d:V,fill:K.color,stroke:"white",strokeWidth:"2",filter:"url(#dropshadow2d)",className:"hover:opacity-80 transition-opacity cursor-pointer",onMouseEnter:Te=>C(U,Te),onMouseMove:Te=>A(U,Te),onMouseLeave:P}),$>5&&l.jsxs("text",{x:xe,y:me,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs font-bold fill-white pointer-events-none",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:[Math.round($),"%"]})]},`segment-${U}`)}))]})}),_.visible&&_.categoryKey&&p[_.categoryKey]&&l.jsxs("div",{className:"fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-xs pointer-events-none",style:{left:_.x,top:_.y,transform:"translate(-50%, -100%)"},children:[l.jsxs("div",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[l.jsx("div",{className:"w-3 h-3 rounded mr-2",style:{backgroundColor:p[_.categoryKey].color}}),p[_.categoryKey].label," (",p[_.categoryKey].projects.length,")"]}),l.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:p[_.categoryKey].projects.map((U,K)=>l.jsxs("div",{className:"text-xs border-b border-gray-100 pb-1 last:border-b-0",children:[l.jsx("div",{className:"font-medium text-gray-700",children:f?U.subject:U.project_name}),l.jsxs("div",{className:"text-gray-500 flex justify-between",children:[l.jsx("span",{children:f?`${U.progress||0}% hon thnh`:`${U.percent_complete}% hon thnh`}),l.jsxs("span",{className:"font-medium",children:["Priority: ",U.priority]})]})]},K))})]})]})};return l.jsx(mE,{title:l.jsx("div",{className:"flex items-center justify-between w-full cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded-md transition-colors",onClick:()=>c(!i),children:l.jsx("div",{className:"flex items-center",children:l.jsx("span",{children:f?l.jsxs(l.Fragment,{children:["Tng quan ",l.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})]}):l.jsxs(l.Fragment,{children:["Tng quan ",l.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"d n"})]})})})}),children:i&&l.jsx("div",{children:g===0?l.jsx("div",{className:"flex flex-col items-center justify-center py-16",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-8xl text-gray-300 mb-6",children:""}),l.jsx("p",{className:"text-xl font-medium text-gray-600 mb-3",children:f?"Khng c task no":"Khng c d n no"}),l.jsx("p",{className:"text-base text-gray-500 max-w-md",children:f?"Khng c task no ang thc hin trong d n ny":"Khng c d n no ang thc hin"})]})}):l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(y,{})}),l.jsx("div",{className:"space-y-4",children:Object.entries(p).map(([_,w])=>w.projects.length>0&&l.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[l.jsxs("button",{onClick:()=>d(_),className:"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between border-l-4",style:{borderLeftColor:w.color},children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:w.color}}),l.jsxs("h4",{className:"font-semibold text-gray-800",children:[w.label," (",w.projects.length,")"]})]}),l.jsx("div",{className:"flex items-center",children:l.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${s===_?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),l.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${s===_?"max-h-96":"max-h-0"}`,children:l.jsx("div",{className:"p-4 space-y-2 max-h-80 overflow-y-auto",children:w.projects.map(N=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:[l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:f?N.subject:N.project_name}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ml-2 flex-shrink-0 ${N.priority==="Urgent"?"bg-red-100 text-red-800":N.priority==="High"?"bg-orange-100 text-orange-800":N.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:N.priority})]})}),l.jsx("div",{className:"flex flex-col items-end ml-3",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(f?N.progress||0:N.percent_complete||0,100)}%`,backgroundColor:(()=>{const S=f?N.progress||0:N.percent_complete||0;return S>=100?"#22c55e":S>=70?"#3b82f6":S>=30?"#f59e0b":"#ef4444"})()}})}),l.jsxs("span",{className:"text-xs font-semibold text-gray-600 min-w-[35px] text-right",children:[f?N.progress||0:N.percent_complete||0,"%"]})]})})]},N.name))})})]},_))})]})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function cd(e){return e+.5|0}const ki=(e,t,n)=>Math.max(Math.min(e,n),t);function ku(e){return ki(cd(e*2.55),0,255)}function Ai(e){return ki(cd(e*255),0,255)}function Va(e){return ki(cd(e/2.55)/100,0,1)}function r1(e){return ki(cd(e*100),0,100)}const yr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ax=[..."0123456789ABCDEF"],B6=e=>ax[e&15],$6=e=>ax[(e&240)>>4]+ax[e&15],Vf=e=>(e&240)>>4===(e&15),H6=e=>Vf(e.r)&&Vf(e.g)&&Vf(e.b)&&Vf(e.a);function V6(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&yr[e[1]]*17,g:255&yr[e[2]]*17,b:255&yr[e[3]]*17,a:t===5?yr[e[4]]*17:255}:(t===7||t===9)&&(n={r:yr[e[1]]<<4|yr[e[2]],g:yr[e[3]]<<4|yr[e[4]],b:yr[e[5]]<<4|yr[e[6]],a:t===9?yr[e[7]]<<4|yr[e[8]]:255})),n}const I6=(e,t)=>e<255?t(e):"";function q6(e){var t=H6(e)?B6:$6;return e?"#"+t(e.r)+t(e.g)+t(e.b)+I6(e.a,t):void 0}const W6=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function pE(e,t,n){const s=t*Math.min(n,1-n),a=(i,c=(i+e/30)%12)=>n-s*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function Y6(e,t,n){const s=(a,i=(a+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function X6(e,t,n){const s=pE(e,1,.5);let a;for(t+n>1&&(a=1/(t+n),t*=a,n*=a),a=0;a<3;a++)s[a]*=1-t-n,s[a]+=t;return s}function G6(e,t,n,s,a){return e===a?(t-n)/s+(t<n?6:0):t===a?(n-e)/s+2:(e-t)/s+4}function wy(e){const n=e.r/255,s=e.g/255,a=e.b/255,i=Math.max(n,s,a),c=Math.min(n,s,a),d=(i+c)/2;let f,h,p;return i!==c&&(p=i-c,h=d>.5?p/(2-i-c):p/(i+c),f=G6(n,s,a,p,i),f=f*60+.5),[f|0,h||0,d]}function _y(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(Ai)}function jy(e,t,n){return _y(pE,e,t,n)}function K6(e,t,n){return _y(X6,e,t,n)}function Q6(e,t,n){return _y(Y6,e,t,n)}function gE(e){return(e%360+360)%360}function Z6(e){const t=W6.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?ku(+t[5]):Ai(+t[5]));const a=gE(+t[2]),i=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?s=K6(a,i,c):t[1]==="hsv"?s=Q6(a,i,c):s=jy(a,i,c),{r:s[0],g:s[1],b:s[2],a:n}}function J6(e,t){var n=wy(e);n[0]=gE(n[0]+t),n=jy(n),e.r=n[0],e.g=n[1],e.b=n[2]}function ez(e){if(!e)return;const t=wy(e),n=t[0],s=r1(t[1]),a=r1(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${a}%, ${Va(e.a)})`:`hsl(${n}, ${s}%, ${a}%)`}const a1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},i1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function tz(){const e={},t=Object.keys(i1),n=Object.keys(a1);let s,a,i,c,d;for(s=0;s<t.length;s++){for(c=d=t[s],a=0;a<n.length;a++)i=n[a],d=d.replace(i,a1[i]);i=parseInt(i1[c],16),e[d]=[i>>16&255,i>>8&255,i&255]}return e}let If;function nz(e){If||(If=tz(),If.transparent=[0,0,0,0]);const t=If[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const sz=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rz(e){const t=sz.exec(e);let n=255,s,a,i;if(t){if(t[7]!==s){const c=+t[7];n=t[8]?ku(c):ki(c*255,0,255)}return s=+t[1],a=+t[3],i=+t[5],s=255&(t[2]?ku(s):ki(s,0,255)),a=255&(t[4]?ku(a):ki(a,0,255)),i=255&(t[6]?ku(i):ki(i,0,255)),{r:s,g:a,b:i,a:n}}}function az(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Va(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const r0=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Ml=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function iz(e,t,n){const s=Ml(Va(e.r)),a=Ml(Va(e.g)),i=Ml(Va(e.b));return{r:Ai(r0(s+n*(Ml(Va(t.r))-s))),g:Ai(r0(a+n*(Ml(Va(t.g))-a))),b:Ai(r0(i+n*(Ml(Va(t.b))-i))),a:e.a+n*(t.a-e.a)}}function qf(e,t,n){if(e){let s=wy(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=jy(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function xE(e,t){return e&&Object.assign(t||{},e)}function o1(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ai(e[3]))):(t=xE(e,{r:0,g:0,b:0,a:1}),t.a=Ai(t.a)),t}function oz(e){return e.charAt(0)==="r"?rz(e):Z6(e)}class Yu{constructor(t){if(t instanceof Yu)return t;const n=typeof t;let s;n==="object"?s=o1(t):n==="string"&&(s=V6(t)||nz(t)||oz(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=xE(this._rgb);return t&&(t.a=Va(t.a)),t}set rgb(t){this._rgb=o1(t)}rgbString(){return this._valid?az(this._rgb):void 0}hexString(){return this._valid?q6(this._rgb):void 0}hslString(){return this._valid?ez(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,a=t.rgb;let i;const c=n===i?.5:n,d=2*c-1,f=s.a-a.a,h=((d*f===-1?d:(d+f)/(1+d*f))+1)/2;i=1-h,s.r=255&h*s.r+i*a.r+.5,s.g=255&h*s.g+i*a.g+.5,s.b=255&h*s.b+i*a.b+.5,s.a=c*s.a+(1-c)*a.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=iz(this._rgb,t._rgb,n)),this}clone(){return new Yu(this.rgb)}alpha(t){return this._rgb.a=Ai(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=cd(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return qf(this._rgb,2,t),this}darken(t){return qf(this._rgb,2,-t),this}saturate(t){return qf(this._rgb,1,t),this}desaturate(t){return qf(this._rgb,1,-t),this}rotate(t){return J6(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ua(){}const lz=(()=>{let e=0;return()=>e++})();function Cn(e){return e==null}function ls(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Kt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Cr(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function sa(e,t){return Cr(e)?e:t}function sn(e,t){return typeof e=="undefined"?t:e}const cz=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function xn(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function nn(e,t,n,s){let a,i,c;if(ls(e))for(i=e.length,a=0;a<i;a++)t.call(n,e[a],a);else if(Kt(e))for(c=Object.keys(e),i=c.length,a=0;a<i;a++)t.call(n,e[c[a]],c[a])}function Uh(e,t){let n,s,a,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(a=e[n],i=t[n],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function Fh(e){if(ls(e))return e.map(Fh);if(Kt(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let a=0;for(;a<s;++a)t[n[a]]=Fh(e[n[a]]);return t}return e}function yE(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function uz(e,t,n,s){if(!yE(e))return;const a=t[e],i=n[e];Kt(a)&&Kt(i)?Xu(a,i,s):t[e]=Fh(i)}function Xu(e,t,n){const s=ls(t)?t:[t],a=s.length;if(!Kt(e))return e;n=n||{};const i=n.merger||uz;let c;for(let d=0;d<a;++d){if(c=s[d],!Kt(c))continue;const f=Object.keys(c);for(let h=0,p=f.length;h<p;++h)i(f[h],e,c,n)}return e}function Ru(e,t){return Xu(e,t,{merger:dz})}function dz(e,t,n){if(!yE(e))return;const s=t[e],a=n[e];Kt(s)&&Kt(a)?Ru(s,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Fh(a))}const l1={"":e=>e,x:e=>e.x,y:e=>e.y};function fz(e){const t=e.split("."),n=[];let s="";for(const a of t)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function hz(e){const t=fz(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function Bh(e,t){return(l1[t]||(l1[t]=hz(t)))(e)}function Sy(e){return e.charAt(0).toUpperCase()+e.slice(1)}const $h=e=>typeof e!="undefined",Ui=e=>typeof e=="function",c1=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function mz(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const yn=Math.PI,Ds=2*yn,Hh=Number.POSITIVE_INFINITY,pz=yn/180,ps=yn/2,yo=yn/4,u1=yn*2/3,bE=Math.log10,Vh=Math.sign;function _h(e,t,n){return Math.abs(e-t)<n}function d1(e){const t=Math.round(e);e=_h(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(bE(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function gz(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((a,i)=>a-i).pop(),t}function xz(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Ih(e){return!xz(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function yz(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function bz(e,t,n){let s,a,i;for(s=0,a=e.length;s<a;s++)i=e[s][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function ko(e){return e*(yn/180)}function vz(e){return e*(180/yn)}function f1(e){if(!Cr(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function vE(e,t){const n=t.x-e.x,s=t.y-e.y,a=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*yn&&(i+=Ds),{angle:i,distance:a}}function wz(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ia(e){return(e%Ds+Ds)%Ds}function wE(e,t,n,s){const a=ia(e),i=ia(t),c=ia(n),d=ia(i-a),f=ia(c-a),h=ia(a-i),p=ia(a-c);return a===i||a===c||s&&i===c||d>f&&h<p}function Ws(e,t,n){return Math.max(t,Math.min(n,e))}function _z(e){return Ws(e,-32768,32767)}function Oo(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function Ny(e,t,n){n=n||(c=>e[c]<t);let s=e.length-1,a=0,i;for(;s-a>1;)i=a+s>>1,n(i)?a=i:s=i;return{lo:a,hi:s}}const ix=(e,t,n,s)=>Ny(e,n,s?a=>{const i=e[a][t];return i<n||i===n&&e[a+1][t]===n}:a=>e[a][t]<n),jz=(e,t,n)=>Ny(e,n,s=>e[s][t]>=n);function Sz(e,t,n){let s=0,a=e.length;for(;s<a&&e[s]<t;)s++;for(;a>s&&e[a-1]>n;)a--;return s>0||a<e.length?e.slice(s,a):e}const _E=["push","pop","shift","splice","unshift"];function Nz(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),_E.forEach(n=>{const s="_onData"+Sy(n),a=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const c=a.apply(this,i);return e._chartjs.listeners.forEach(d=>{typeof d[s]=="function"&&d[s](...i)}),c}})})}function h1(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,a=s.indexOf(t);a!==-1&&s.splice(a,1),!(s.length>0)&&(_E.forEach(i=>{delete e[i]}),delete e._chartjs)}function Ez(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const jE=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function SE(e,t){let n=[],s=!1;return function(...a){n=a,s||(s=!0,jE.call(window,()=>{s=!1,e.apply(t,n)}))}}function Tz(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const Ey=e=>e==="start"?"left":e==="end"?"right":"center",Ss=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,Cz=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t,Wf=e=>e===0||e===1,m1=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ds/n)),p1=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ds/n)+1,Mu={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*ps)+1,easeOutSine:e=>Math.sin(e*ps),easeInOutSine:e=>-.5*(Math.cos(yn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Wf(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Wf(e)?e:m1(e,.075,.3),easeOutElastic:e=>Wf(e)?e:p1(e,.075,.3),easeInOutElastic(e){return Wf(e)?e:e<.5?.5*m1(e*2,.1125,.45):.5+.5*p1(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Mu.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Mu.easeInBounce(e*2)*.5:Mu.easeOutBounce(e*2-1)*.5+.5};function NE(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function g1(e){return NE(e)?e:new Yu(e)}function a0(e){return NE(e)?e:new Yu(e).saturate(.5).darken(.1).hexString()}const kz=["x","y","borderWidth","radius","tension"],Oz=["color","borderColor","backgroundColor"];function Dz(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Oz},numbers:{type:"number",properties:kz}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Az(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const x1=new Map;function Rz(e,t){t=t||{};const n=e+JSON.stringify(t);let s=x1.get(n);return s||(s=new Intl.NumberFormat(e,t),x1.set(n,s)),s}function EE(e,t,n){return Rz(t,n).format(e)}const Mz={values(e){return ls(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let a,i=e;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(a="scientific"),i=Pz(e,n)}const c=bE(Math.abs(i)),d=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:a,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(f,this.options.ticks.format),EE(e,s,f)}};function Pz(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var TE={formatters:Mz};function Lz(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:TE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const zo=Object.create(null),ox=Object.create(null);function Pu(e,t){if(!t)return e;const n=t.split(".");for(let s=0,a=n.length;s<a;++s){const i=n[s];e=e[i]||(e[i]=Object.create(null))}return e}function i0(e,t,n){return typeof t=="string"?Xu(Pu(e,t),n):Xu(Pu(e,""),t)}class zz{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>a0(a.backgroundColor),this.hoverBorderColor=(s,a)=>a0(a.borderColor),this.hoverColor=(s,a)=>a0(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return i0(this,t,n)}get(t){return Pu(this,t)}describe(t,n){return i0(ox,t,n)}override(t,n){return i0(zo,t,n)}route(t,n,s,a){const i=Pu(this,t),c=Pu(this,s),d="_"+n;Object.defineProperties(i,{[d]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[d],h=c[a];return Kt(f)?Object.assign({},h,f):sn(f,h)},set(f){this[d]=f}}})}apply(t){t.forEach(n=>n(this))}}var Fn=new zz({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Dz,Az,Lz]);function Uz(e){return!e||Cn(e.size)||Cn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function y1(e,t,n,s,a){let i=t[a];return i||(i=t[a]=e.measureText(a).width,n.push(a)),i>s&&(s=i),s}function bo(e,t,n){const s=e.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((t-a)*s)/s+a}function b1(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function v1(e,t,n,s){CE(e,t,n,s,null)}function CE(e,t,n,s,a){let i,c,d,f,h,p,g,b;const y=t.pointStyle,_=t.rotation,w=t.radius;let N=(_||0)*pz;if(y&&typeof y=="object"&&(i=y.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(N),e.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),e.restore();return}if(!(isNaN(w)||w<=0)){switch(e.beginPath(),y){default:a?e.ellipse(n,s,a/2,w,0,0,Ds):e.arc(n,s,w,0,Ds),e.closePath();break;case"triangle":p=a?a/2:w,e.moveTo(n+Math.sin(N)*p,s-Math.cos(N)*w),N+=u1,e.lineTo(n+Math.sin(N)*p,s-Math.cos(N)*w),N+=u1,e.lineTo(n+Math.sin(N)*p,s-Math.cos(N)*w),e.closePath();break;case"rectRounded":h=w*.516,f=w-h,c=Math.cos(N+yo)*f,g=Math.cos(N+yo)*(a?a/2-h:f),d=Math.sin(N+yo)*f,b=Math.sin(N+yo)*(a?a/2-h:f),e.arc(n-g,s-d,h,N-yn,N-ps),e.arc(n+b,s-c,h,N-ps,N),e.arc(n+g,s+d,h,N,N+ps),e.arc(n-b,s+c,h,N+ps,N+yn),e.closePath();break;case"rect":if(!_){f=Math.SQRT1_2*w,p=a?a/2:f,e.rect(n-p,s-f,2*p,2*f);break}N+=yo;case"rectRot":g=Math.cos(N)*(a?a/2:w),c=Math.cos(N)*w,d=Math.sin(N)*w,b=Math.sin(N)*(a?a/2:w),e.moveTo(n-g,s-d),e.lineTo(n+b,s-c),e.lineTo(n+g,s+d),e.lineTo(n-b,s+c),e.closePath();break;case"crossRot":N+=yo;case"cross":g=Math.cos(N)*(a?a/2:w),c=Math.cos(N)*w,d=Math.sin(N)*w,b=Math.sin(N)*(a?a/2:w),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+b,s-c),e.lineTo(n-b,s+c);break;case"star":g=Math.cos(N)*(a?a/2:w),c=Math.cos(N)*w,d=Math.sin(N)*w,b=Math.sin(N)*(a?a/2:w),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+b,s-c),e.lineTo(n-b,s+c),N+=yo,g=Math.cos(N)*(a?a/2:w),c=Math.cos(N)*w,d=Math.sin(N)*w,b=Math.sin(N)*(a?a/2:w),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+b,s-c),e.lineTo(n-b,s+c);break;case"line":c=a?a/2:Math.cos(N)*w,d=Math.sin(N)*w,e.moveTo(n-c,s-d),e.lineTo(n+c,s+d);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(N)*(a?a/2:w),s+Math.sin(N)*w);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function kE(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Ty(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Cy(e){e.restore()}function Fz(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Cn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Bz(e,t,n,s,a){if(a.strikethrough||a.underline){const i=e.measureText(s),c=t-i.actualBoundingBoxLeft,d=t+i.actualBoundingBoxRight,f=n-i.actualBoundingBoxAscent,h=n+i.actualBoundingBoxDescent,p=a.strikethrough?(f+h)/2:h;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(c,p),e.lineTo(d,p),e.stroke()}}function $z(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Gu(e,t,n,s,a,i={}){const c=ls(t)?t:[t],d=i.strokeWidth>0&&i.strokeColor!=="";let f,h;for(e.save(),e.font=a.string,Fz(e,i),f=0;f<c.length;++f)h=c[f],i.backdrop&&$z(e,i.backdrop),d&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),Cn(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(h,n,s,i.maxWidth)),e.fillText(h,n,s,i.maxWidth),Bz(e,n,s,h,i),s+=Number(a.lineHeight);e.restore()}function qh(e,t){const{x:n,y:s,w:a,h:i,radius:c}=t;e.arc(n+c.topLeft,s+c.topLeft,c.topLeft,1.5*yn,yn,!0),e.lineTo(n,s+i-c.bottomLeft),e.arc(n+c.bottomLeft,s+i-c.bottomLeft,c.bottomLeft,yn,ps,!0),e.lineTo(n+a-c.bottomRight,s+i),e.arc(n+a-c.bottomRight,s+i-c.bottomRight,c.bottomRight,ps,0,!0),e.lineTo(n+a,s+c.topRight),e.arc(n+a-c.topRight,s+c.topRight,c.topRight,0,-ps,!0),e.lineTo(n+c.topLeft,s)}const Hz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Vz=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Iz(e,t){const n=(""+e).match(Hz);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const qz=e=>+e||0;function ky(e,t){const n={},s=Kt(t),a=s?Object.keys(t):t,i=Kt(e)?s?c=>sn(e[c],e[t[c]]):c=>e[c]:()=>e;for(const c of a)n[c]=qz(i(c));return n}function OE(e){return ky(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Yl(e){return ky(e,["topLeft","topRight","bottomLeft","bottomRight"])}function kr(e){const t=OE(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Es(e,t){e=e||{},t=t||Fn.font;let n=sn(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=sn(e.style,t.style);s&&!(""+s).match(Vz)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:sn(e.family,t.family),lineHeight:Iz(sn(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:sn(e.weight,t.weight),string:""};return a.string=Uz(a),a}function Yf(e,t,n,s){let a,i,c;for(a=0,i=e.length;a<i;++a)if(c=e[a],c!==void 0&&c!==void 0)return c}function Wz(e,t,n){const{min:s,max:a}=e,i=cz(t,(a-s)/2),c=(d,f)=>n&&d===0?0:d+f;return{min:c(s,-Math.abs(i)),max:c(a,i)}}function cc(e,t){return Object.assign(Object.create(e),t)}function Oy(e,t=[""],n,s,a=()=>e[0]){const i=n||e;typeof s=="undefined"&&(s=ME("_fallback",e));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:s,_getTarget:a,override:d=>Oy([d,...e],t,i,s)};return new Proxy(c,{deleteProperty(d,f){return delete d[f],delete d._keys,delete e[0][f],!0},get(d,f){return AE(d,f,()=>eU(f,t,e,d))},getOwnPropertyDescriptor(d,f){return Reflect.getOwnPropertyDescriptor(d._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(d,f){return _1(d).includes(f)},ownKeys(d){return _1(d)},set(d,f,h){const p=d._storage||(d._storage=a());return d[f]=p[f]=h,delete d._keys,!0}})}function Jl(e,t,n,s){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:DE(e,s),setContext:i=>Jl(e,i,n,s),override:i=>Jl(e.override(i),t,n,s)};return new Proxy(a,{deleteProperty(i,c){return delete i[c],delete e[c],!0},get(i,c,d){return AE(i,c,()=>Xz(i,c,d))},getOwnPropertyDescriptor(i,c){return i._descriptors.allKeys?Reflect.has(e,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,c)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,c){return Reflect.has(e,c)},ownKeys(){return Reflect.ownKeys(e)},set(i,c,d){return e[c]=d,delete i[c],!0}})}function DE(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:n,indexable:s,isScriptable:Ui(n)?n:()=>n,isIndexable:Ui(s)?s:()=>s}}const Yz=(e,t)=>e?e+Sy(t):t,Dy=(e,t)=>Kt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function AE(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function Xz(e,t,n){const{_proxy:s,_context:a,_subProxy:i,_descriptors:c}=e;let d=s[t];return Ui(d)&&c.isScriptable(t)&&(d=Gz(t,d,e,n)),ls(d)&&d.length&&(d=Kz(t,d,e,c.isIndexable)),Dy(t,d)&&(d=Jl(d,a,i&&i[t],c)),d}function Gz(e,t,n,s){const{_proxy:a,_context:i,_subProxy:c,_stack:d}=n;if(d.has(e))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+e);d.add(e);let f=t(i,c||s);return d.delete(e),Dy(e,f)&&(f=Ay(a._scopes,a,e,f)),f}function Kz(e,t,n,s){const{_proxy:a,_context:i,_subProxy:c,_descriptors:d}=n;if(typeof i.index!="undefined"&&s(e))return t[i.index%t.length];if(Kt(t[0])){const f=t,h=a._scopes.filter(p=>p!==f);t=[];for(const p of f){const g=Ay(h,a,e,p);t.push(Jl(g,i,c&&c[e],d))}}return t}function RE(e,t,n){return Ui(e)?e(t,n):e}const Qz=(e,t)=>e===!0?t:typeof e=="string"?Bh(t,e):void 0;function Zz(e,t,n,s,a){for(const i of t){const c=Qz(n,i);if(c){e.add(c);const d=RE(c._fallback,n,a);if(typeof d!="undefined"&&d!==n&&d!==s)return d}else if(c===!1&&typeof s!="undefined"&&n!==s)return null}return!1}function Ay(e,t,n,s){const a=t._rootScopes,i=RE(t._fallback,n,s),c=[...e,...a],d=new Set;d.add(s);let f=w1(d,c,n,i||n,s);return f===null||typeof i!="undefined"&&i!==n&&(f=w1(d,c,i,f,s),f===null)?!1:Oy(Array.from(d),[""],a,i,()=>Jz(t,n,s))}function w1(e,t,n,s,a){for(;n;)n=Zz(e,t,n,s,a);return n}function Jz(e,t,n){const s=e._getTarget();t in s||(s[t]={});const a=s[t];return ls(a)&&Kt(n)?n:a||{}}function eU(e,t,n,s){let a;for(const i of t)if(a=ME(Yz(i,e),n),typeof a!="undefined")return Dy(e,a)?Ay(n,s,e,a):a}function ME(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s!="undefined")return s}}function _1(e){let t=e._keys;return t||(t=e._keys=tU(e._scopes)),t}function tU(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(a=>!a.startsWith("_")))t.add(s);return Array.from(t)}function Ry(){return typeof window!="undefined"&&typeof document!="undefined"}function My(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Wh(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const ym=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function nU(e,t){return ym(e).getPropertyValue(t)}const sU=["top","right","bottom","left"];function Ao(e,t,n){const s={};n=n?"-"+n:"";for(let a=0;a<4;a++){const i=sU[a];s[i]=parseFloat(e[t+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const rU=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function aU(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:a,offsetY:i}=s;let c=!1,d,f;if(rU(a,i,e.target))d=a,f=i;else{const h=t.getBoundingClientRect();d=s.clientX-h.left,f=s.clientY-h.top,c=!0}return{x:d,y:f,box:c}}function _o(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,a=ym(n),i=a.boxSizing==="border-box",c=Ao(a,"padding"),d=Ao(a,"border","width"),{x:f,y:h,box:p}=aU(e,n),g=c.left+(p&&d.left),b=c.top+(p&&d.top);let{width:y,height:_}=t;return i&&(y-=c.width+d.width,_-=c.height+d.height),{x:Math.round((f-g)/y*n.width/s),y:Math.round((h-b)/_*n.height/s)}}function iU(e,t,n){let s,a;if(t===void 0||n===void 0){const i=e&&My(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const c=i.getBoundingClientRect(),d=ym(i),f=Ao(d,"border","width"),h=Ao(d,"padding");t=c.width-h.width-f.width,n=c.height-h.height-f.height,s=Wh(d.maxWidth,i,"clientWidth"),a=Wh(d.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:s||Hh,maxHeight:a||Hh}}const Xf=e=>Math.round(e*10)/10;function oU(e,t,n,s){const a=ym(e),i=Ao(a,"margin"),c=Wh(a.maxWidth,e,"clientWidth")||Hh,d=Wh(a.maxHeight,e,"clientHeight")||Hh,f=iU(e,t,n);let{width:h,height:p}=f;if(a.boxSizing==="content-box"){const b=Ao(a,"border","width"),y=Ao(a,"padding");h-=y.width+b.width,p-=y.height+b.height}return h=Math.max(0,h-i.width),p=Math.max(0,s?h/s:p-i.height),h=Xf(Math.min(h,c,f.maxWidth)),p=Xf(Math.min(p,d,f.maxHeight)),h&&!p&&(p=Xf(h/2)),(t!==void 0||n!==void 0)&&s&&f.height&&p>f.height&&(p=f.height,h=Xf(Math.floor(p*s))),{width:h,height:p}}function j1(e,t,n){const s=t||1,a=Math.floor(e.height*s),i=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const c=e.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${e.height}px`,c.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||c.height!==a||c.width!==i?(e.currentDevicePixelRatio=s,c.height=a,c.width=i,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const lU=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Ry()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function S1(e,t){const n=nU(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const cU=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},uU=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Xl(e,t,n){return e?cU(t,n):uU()}function PE(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function LE(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Gf(e,t,n){return e.options.clip?e[n]:t[n]}function dU(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:Gf(n,t,"left"),right:Gf(n,t,"right"),top:Gf(s,t,"top"),bottom:Gf(s,t,"bottom")}:t}function fU(e,t){const n=t._clip;if(n.disabled)return!1;const s=dU(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class hU{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,a){const i=n.listeners[a],c=n.duration;i.forEach(d=>d({chart:t,initial:n.initial,numSteps:c,currentStep:Math.min(s-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=jE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const i=s.items;let c=i.length-1,d=!1,f;for(;c>=0;--c)f=i[c],f._active?(f._total>s.duration&&(s.duration=f._total),f.tick(t),d=!0):(i[c]=i[i.length-1],i.pop());d&&(a.draw(),this._notify(a,s,t,"progress")),i.length||(s.running=!1,this._notify(a,s,t,"complete"),s.initial=!1),n+=i.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ba=new hU;const N1="transparent",mU={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=g1(e||N1),a=s.valid&&g1(t||N1);return a&&a.valid?a.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class pU{constructor(t,n,s,a){const i=n[s];a=Yf([t.to,a,i,t.from]);const c=Yf([t.from,i,a]);this._active=!0,this._fn=t.fn||mU[t.type||typeof c],this._easing=Mu[t.easing]||Mu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const a=this._target[this._prop],i=s-this._start,c=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=Yf([t.to,n,a,t.from]),this._from=Yf([t.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,a=this._prop,i=this._from,c=this._loop,d=this._to;let f;if(this._active=i!==d&&(c||n<s),!this._active){this._target[a]=d,this._notify(!0);return}if(n<0){this._target[a]=i;return}f=n/s%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(i,d,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][n]()}}class zE{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Kt(t))return;const n=Object.keys(Fn.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const i=t[a];if(!Kt(i))return;const c={};for(const d of n)c[d]=i[d];(ls(i.properties)&&i.properties||[a]).forEach(d=>{(d===a||!s.has(d))&&s.set(d,c)})})}_animateOptions(t,n){const s=n.options,a=xU(t,s);if(!a)return[];const i=this._createAnimations(a,s);return s.$shared&&gU(t.options.$animations,s).then(()=>{t.options=s},()=>{}),i}_createAnimations(t,n){const s=this._properties,a=[],i=t.$animations||(t.$animations={}),c=Object.keys(n),d=Date.now();let f;for(f=c.length-1;f>=0;--f){const h=c[f];if(h.charAt(0)==="$")continue;if(h==="options"){a.push(...this._animateOptions(t,n));continue}const p=n[h];let g=i[h];const b=s.get(h);if(g)if(b&&g.active()){g.update(b,p,d);continue}else g.cancel();if(!b||!b.duration){t[h]=p;continue}i[h]=g=new pU(b,t,h,p),a.push(g)}return a}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return Ba.add(this._chart,s),!0}}function gU(e,t){const n=[],s=Object.keys(t);for(let a=0;a<s.length;a++){const i=e[s[a]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function xU(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function E1(e,t){const n=e&&e.options||{},s=n.reverse,a=n.min===void 0?t:0,i=n.max===void 0?t:0;return{start:s?i:a,end:s?a:i}}function yU(e,t,n){if(n===!1)return!1;const s=E1(e,n),a=E1(t,n);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function bU(e){let t,n,s,a;return Kt(e)?(t=e.top,n=e.right,s=e.bottom,a=e.left):t=n=s=a=e,{top:t,right:n,bottom:s,left:a,disabled:e===!1}}function UE(e,t){const n=[],s=e._getSortedDatasetMetas(t);let a,i;for(a=0,i=s.length;a<i;++a)n.push(s[a].index);return n}function T1(e,t,n,s={}){const a=e.keys,i=s.mode==="single";let c,d,f,h;if(t===null)return;let p=!1;for(c=0,d=a.length;c<d;++c){if(f=+a[c],f===n){if(p=!0,s.all)continue;break}h=e.values[f],Cr(h)&&(i||t===0||Vh(t)===Vh(h))&&(t+=h)}return!p&&!s.all?0:t}function vU(e,t){const{iScale:n,vScale:s}=t,a=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",c=Object.keys(e),d=new Array(c.length);let f,h,p;for(f=0,h=c.length;f<h;++f)p=c[f],d[f]={[a]:p,[i]:e[p]};return d}function o0(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function wU(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function _U(e){const{min:t,max:n,minDefined:s,maxDefined:a}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function jU(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function C1(e,t,n,s){for(const a of t.getMatchingVisibleMetas(s).reverse()){const i=e[a.index];if(n&&i>0||!n&&i<0)return a.index}return null}function k1(e,t){const{chart:n,_cachedMeta:s}=e,a=n._stacks||(n._stacks={}),{iScale:i,vScale:c,index:d}=s,f=i.axis,h=c.axis,p=wU(i,c,s),g=t.length;let b;for(let y=0;y<g;++y){const _=t[y],{[f]:w,[h]:N}=_,S=_._stacks||(_._stacks={});b=S[h]=jU(a,p,w),b[d]=N,b._top=C1(b,c,!0,s.type),b._bottom=C1(b,c,!1,s.type);const R=b._visualValues||(b._visualValues={});R[d]=N}}function l0(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function SU(e,t){return cc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function NU(e,t,n){return cc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function gu(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const a of t){const i=a._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const c0=e=>e==="reset"||e==="none",O1=(e,t)=>t?e:Object.assign({},e),EU=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:UE(n,!0),values:null};class jh{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=o0(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&gu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),a=(g,b,y,_)=>g==="x"?b:g==="r"?_:y,i=n.xAxisID=sn(s.xAxisID,l0(t,"x")),c=n.yAxisID=sn(s.yAxisID,l0(t,"y")),d=n.rAxisID=sn(s.rAxisID,l0(t,"r")),f=n.indexAxis,h=n.iAxisID=a(f,i,c,d),p=n.vAxisID=a(f,c,i,d);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&h1(this._data,this),t._stacked&&gu(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(Kt(n)){const a=this._cachedMeta;this._data=vU(n,a)}else if(s!==n){if(s){h1(s,this);const a=this._cachedMeta;gu(a),a._parsed=[]}n&&Object.isExtensible(n)&&Nz(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const i=n._stacked;n._stacked=o0(n.vScale,n),n.stack!==s.stack&&(a=!0,gu(n),n.stack=s.stack),this._resyncElements(t),(a||i!==n._stacked)&&(k1(this,n._parsed),n._stacked=o0(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:a}=this,{iScale:i,_stacked:c}=s,d=i.axis;let f=t===0&&n===a.length?!0:s._sorted,h=t>0&&s._parsed[t-1],p,g,b;if(this._parsing===!1)s._parsed=a,s._sorted=!0,b=a;else{ls(a[t])?b=this.parseArrayData(s,a,t,n):Kt(a[t])?b=this.parseObjectData(s,a,t,n):b=this.parsePrimitiveData(s,a,t,n);const y=()=>g[d]===null||h&&g[d]<h[d];for(p=0;p<n;++p)s._parsed[p+t]=g=b[p],f&&(y()&&(f=!1),h=g);s._sorted=f}c&&k1(this,b)}parsePrimitiveData(t,n,s,a){const{iScale:i,vScale:c}=t,d=i.axis,f=c.axis,h=i.getLabels(),p=i===c,g=new Array(a);let b,y,_;for(b=0,y=a;b<y;++b)_=b+s,g[b]={[d]:p||i.parse(h[_],_),[f]:c.parse(n[_],_)};return g}parseArrayData(t,n,s,a){const{xScale:i,yScale:c}=t,d=new Array(a);let f,h,p,g;for(f=0,h=a;f<h;++f)p=f+s,g=n[p],d[f]={x:i.parse(g[0],p),y:c.parse(g[1],p)};return d}parseObjectData(t,n,s,a){const{xScale:i,yScale:c}=t,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,h=new Array(a);let p,g,b,y;for(p=0,g=a;p<g;++p)b=p+s,y=n[b],h[p]={x:i.parse(Bh(y,d),b),y:c.parse(Bh(y,f),b)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const a=this.chart,i=this._cachedMeta,c=n[t.axis],d={keys:UE(a,!0),values:n._stacks[t.axis]._visualValues};return T1(d,c,i.index,{mode:s})}updateRangeFromParsed(t,n,s,a){const i=s[n.axis];let c=i===null?NaN:i;const d=a&&s._stacks[n.axis];a&&d&&(a.values=d,c=T1(a,i,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,n){const s=this._cachedMeta,a=s._parsed,i=s._sorted&&t===s.iScale,c=a.length,d=this._getOtherScale(t),f=EU(n,s,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=_U(d);let b,y;function _(){y=a[b];const w=y[d.axis];return!Cr(y[t.axis])||p>w||g<w}for(b=0;b<c&&!(!_()&&(this.updateRangeFromParsed(h,t,y,f),i));++b);if(i){for(b=c-1;b>=0;--b)if(!_()){this.updateRangeFromParsed(h,t,y,f);break}}return h}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let a,i,c;for(a=0,i=n.length;a<i;++a)c=n[a][t.axis],Cr(c)&&s.push(c);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,a=n.vScale,i=this.getParsed(t);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=bU(sn(this.options.clip,yU(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,a=s.data||[],i=n.chartArea,c=[],d=this._drawStart||0,f=this._drawCount||a.length-d,h=this.options.drawActiveElementsOnTop;let p;for(s.dataset&&s.dataset.draw(t,i,d,f),p=d;p<d+f;++p){const g=a[p];g.hidden||(g.active&&h?c.push(g):g.draw(t,i))}for(p=0;p<c.length;++p)c[p].draw(t,i)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const a=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];i=c.$context||(c.$context=NU(this.getContext(),t,c)),i.parsed=this.getParsed(t),i.raw=a.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=SU(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const a=n==="active",i=this._cachedDataOpts,c=t+"-"+n,d=i[c],f=this.enableOptionSharing&&$h(s);if(d)return O1(d,f);const h=this.chart.config,p=h.datasetElementScopeKeys(this._type,t),g=a?[`${t}Hover`,"hover",t,""]:[t,""],b=h.getOptionScopes(this.getDataset(),p),y=Object.keys(Fn.elements[t]),_=()=>this.getContext(s,a,n),w=h.resolveNamedOptions(b,y,_,g);return w.$shared&&(w.$shared=f,i[c]=Object.freeze(O1(w,f))),w}_resolveAnimations(t,n,s){const a=this.chart,i=this._cachedDataOpts,c=`animation-${n}`,d=i[c];if(d)return d;let f;if(a.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,n),b=p.getOptionScopes(this.getDataset(),g);f=p.createResolver(b,this.getContext(t,s,n))}const h=new zE(a,f&&f.animations);return f&&f._cacheable&&(i[c]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||c0(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),a=this._sharedOptions,i=this.getSharedOptions(s),c=this.includeOptions(n,i)||i!==a;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:c}}updateElement(t,n,s,a){c0(a)?Object.assign(t,s):this._resolveAnimations(n,a).update(t,s)}updateSharedOptions(t,n,s){t&&!c0(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,a){t.active=a;const i=this.getStyle(n,a);this._resolveAnimations(n,s,a).update(t,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[d,f,h]of this._syncList)this[d](f,h);this._syncList=[];const a=s.length,i=n.length,c=Math.min(i,a);c&&this.parse(0,c),i>a?this._insertElements(a,i-a,t):i<a&&this._removeElements(i,a-i)}_insertElements(t,n,s=!0){const a=this._cachedMeta,i=a.data,c=t+n;let d;const f=h=>{for(h.length+=n,d=h.length-1;d>=c;d--)h[d]=h[d-n]};for(f(i),d=t;d<c;++d)i[d]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(t,n),s&&this.updateElements(i,t,n,"reset")}updateElements(t,n,s,a){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(t,n);s._stacked&&gu(s,a)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,a]=t;this[n](s,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}jt(jh,"defaults",{}),jt(jh,"datasetElementType",null),jt(jh,"dataElementType",null);function vo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Py{constructor(t){jt(this,"options");this.options=t||{}}static override(t){Object.assign(Py.prototype,t)}init(){}formats(){return vo()}parse(){return vo()}format(){return vo()}add(){return vo()}diff(){return vo()}startOf(){return vo()}endOf(){return vo()}}var TU={_date:Py};function CU(e,t,n,s){const{controller:a,data:i,_sorted:c}=e,d=a._cachedMeta.iScale,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(d&&t===d.axis&&t!=="r"&&c&&i.length){const h=d._reversePixels?jz:ix;if(s){if(a._sharedOptions){const p=i[0],g=typeof p.getRange=="function"&&p.getRange(t);if(g){const b=h(i,t,n-g),y=h(i,t,n+g);return{lo:b.lo,hi:y.hi}}}}else{const p=h(i,t,n);if(f){const{vScale:g}=a._cachedMeta,{_parsed:b}=e,y=b.slice(0,p.lo+1).reverse().findIndex(w=>!Cn(w[g.axis]));p.lo-=Math.max(0,y);const _=b.slice(p.hi).findIndex(w=>!Cn(w[g.axis]));p.hi+=Math.max(0,_)}return p}}return{lo:0,hi:i.length-1}}function bm(e,t,n,s,a){const i=e.getSortedVisibleDatasetMetas(),c=n[t];for(let d=0,f=i.length;d<f;++d){const{index:h,data:p}=i[d],{lo:g,hi:b}=CU(i[d],t,c,a);for(let y=g;y<=b;++y){const _=p[y];_.skip||s(_,h,y)}}}function kU(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,a){const i=t?Math.abs(s.x-a.x):0,c=n?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(c,2))}}function u0(e,t,n,s,a){const i=[];return!a&&!e.isPointInArea(t)||bm(e,n,t,function(d,f,h){!a&&!kE(d,e.chartArea,0)||d.inRange(t.x,t.y,s)&&i.push({element:d,datasetIndex:f,index:h})},!0),i}function OU(e,t,n,s){let a=[];function i(c,d,f){const{startAngle:h,endAngle:p}=c.getProps(["startAngle","endAngle"],s),{angle:g}=vE(c,{x:t.x,y:t.y});wE(g,h,p)&&a.push({element:c,datasetIndex:d,index:f})}return bm(e,n,t,i),a}function DU(e,t,n,s,a,i){let c=[];const d=kU(n);let f=Number.POSITIVE_INFINITY;function h(p,g,b){const y=p.inRange(t.x,t.y,a);if(s&&!y)return;const _=p.getCenterPoint(a);if(!(!!i||e.isPointInArea(_))&&!y)return;const N=d(t,_);N<f?(c=[{element:p,datasetIndex:g,index:b}],f=N):N===f&&c.push({element:p,datasetIndex:g,index:b})}return bm(e,n,t,h),c}function d0(e,t,n,s,a,i){return!i&&!e.isPointInArea(t)?[]:n==="r"&&!s?OU(e,t,n,a):DU(e,t,n,s,a,i)}function D1(e,t,n,s,a){const i=[],c=n==="x"?"inXRange":"inYRange";let d=!1;return bm(e,n,t,(f,h,p)=>{f[c]&&f[c](t[n],a)&&(i.push({element:f,datasetIndex:h,index:p}),d=d||f.inRange(t.x,t.y,a))}),s&&!d?[]:i}var AU={modes:{index(e,t,n,s){const a=_o(t,e),i=n.axis||"x",c=n.includeInvisible||!1,d=n.intersect?u0(e,a,i,s,c):d0(e,a,i,!1,s,c),f=[];return d.length?(e.getSortedVisibleDatasetMetas().forEach(h=>{const p=d[0].index,g=h.data[p];g&&!g.skip&&f.push({element:g,datasetIndex:h.index,index:p})}),f):[]},dataset(e,t,n,s){const a=_o(t,e),i=n.axis||"xy",c=n.includeInvisible||!1;let d=n.intersect?u0(e,a,i,s,c):d0(e,a,i,!1,s,c);if(d.length>0){const f=d[0].datasetIndex,h=e.getDatasetMeta(f).data;d=[];for(let p=0;p<h.length;++p)d.push({element:h[p],datasetIndex:f,index:p})}return d},point(e,t,n,s){const a=_o(t,e),i=n.axis||"xy",c=n.includeInvisible||!1;return u0(e,a,i,s,c)},nearest(e,t,n,s){const a=_o(t,e),i=n.axis||"xy",c=n.includeInvisible||!1;return d0(e,a,i,n.intersect,s,c)},x(e,t,n,s){const a=_o(t,e);return D1(e,a,"x",n.intersect,s)},y(e,t,n,s){const a=_o(t,e);return D1(e,a,"y",n.intersect,s)}}};const FE=["left","top","right","bottom"];function xu(e,t){return e.filter(n=>n.pos===t)}function A1(e,t){return e.filter(n=>FE.indexOf(n.pos)===-1&&n.box.axis===t)}function yu(e,t){return e.sort((n,s)=>{const a=t?s:n,i=t?n:s;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function RU(e){const t=[];let n,s,a,i,c,d;for(n=0,s=(e||[]).length;n<s;++n)a=e[n],{position:i,options:{stack:c,stackWeight:d=1}}=a,t.push({index:n,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&i+c,stackWeight:d});return t}function MU(e){const t={};for(const n of e){const{stack:s,pos:a,stackWeight:i}=n;if(!s||!FE.includes(a))continue;const c=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=i}return t}function PU(e,t){const n=MU(e),{vBoxMaxWidth:s,hBoxMaxHeight:a}=t;let i,c,d;for(i=0,c=e.length;i<c;++i){d=e[i];const{fullSize:f}=d.box,h=n[d.stack],p=h&&d.stackWeight/h.weight;d.horizontal?(d.width=p?p*s:f&&t.availableWidth,d.height=a):(d.width=s,d.height=p?p*a:f&&t.availableHeight)}return n}function LU(e){const t=RU(e),n=yu(t.filter(h=>h.box.fullSize),!0),s=yu(xu(t,"left"),!0),a=yu(xu(t,"right")),i=yu(xu(t,"top"),!0),c=yu(xu(t,"bottom")),d=A1(t,"x"),f=A1(t,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:a.concat(f).concat(c).concat(d),chartArea:xu(t,"chartArea"),vertical:s.concat(a).concat(f),horizontal:i.concat(c).concat(d)}}function R1(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function BE(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function zU(e,t,n,s){const{pos:a,box:i}=n,c=e.maxPadding;if(!Kt(a)){n.size&&(e[a]-=n.size);const g=s[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?i.height:i.width),n.size=g.size/g.count,e[a]+=n.size}i.getPadding&&BE(c,i.getPadding());const d=Math.max(0,t.outerWidth-R1(c,e,"left","right")),f=Math.max(0,t.outerHeight-R1(c,e,"top","bottom")),h=d!==e.w,p=f!==e.h;return e.w=d,e.h=f,n.horizontal?{same:h,other:p}:{same:p,other:h}}function UU(e){const t=e.maxPadding;function n(s){const a=Math.max(t[s]-e[s],0);return e[s]+=a,a}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function FU(e,t){const n=t.maxPadding;function s(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{i[c]=Math.max(t[c],n[c])}),i}return s(e?["left","right"]:["top","bottom"])}function Ou(e,t,n,s){const a=[];let i,c,d,f,h,p;for(i=0,c=e.length,h=0;i<c;++i){d=e[i],f=d.box,f.update(d.width||t.w,d.height||t.h,FU(d.horizontal,t));const{same:g,other:b}=zU(t,n,d,s);h|=g&&a.length,p=p||b,f.fullSize||a.push(d)}return h&&Ou(a,t,n,s)||p}function Kf(e,t,n,s,a){e.top=n,e.left=t,e.right=t+s,e.bottom=n+a,e.width=s,e.height=a}function M1(e,t,n,s){const a=n.padding;let{x:i,y:c}=t;for(const d of e){const f=d.box,h=s[d.stack]||{placed:0,weight:1},p=d.stackWeight/h.weight||1;if(d.horizontal){const g=t.w*p,b=h.size||f.height;$h(h.start)&&(c=h.start),f.fullSize?Kf(f,a.left,c,n.outerWidth-a.right-a.left,b):Kf(f,t.left+h.placed,c,g,b),h.start=c,h.placed+=g,c=f.bottom}else{const g=t.h*p,b=h.size||f.width;$h(h.start)&&(i=h.start),f.fullSize?Kf(f,i,a.top,b,n.outerHeight-a.bottom-a.top):Kf(f,i,t.top+h.placed,b,g),h.start=i,h.placed+=g,i=f.right}}t.x=i,t.y=c}var Nr={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const a=kr(e.options.layout.padding),i=Math.max(t-a.width,0),c=Math.max(n-a.height,0),d=LU(e.boxes),f=d.vertical,h=d.horizontal;nn(e.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const p=f.reduce((w,N)=>N.box.options&&N.box.options.display===!1?w:w+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:i,availableHeight:c,vBoxMaxWidth:i/2/p,hBoxMaxHeight:c/2}),b=Object.assign({},a);BE(b,kr(s));const y=Object.assign({maxPadding:b,w:i,h:c,x:a.left,y:a.top},a),_=PU(f.concat(h),g);Ou(d.fullSize,y,g,_),Ou(f,y,g,_),Ou(h,y,g,_)&&Ou(f,y,g,_),UU(y),M1(d.leftAndTop,y,g,_),y.x+=y.w,y.y+=y.h,M1(d.rightAndBottom,y,g,_),e.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},nn(d.chartArea,w=>{const N=w.box;Object.assign(N,e.chartArea),N.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class $E{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,a){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,a?Math.floor(n/a):s)}}isAttached(t){return!0}updateConfig(t){}}class BU extends $E{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Sh="$chartjs",$U={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},P1=e=>e===null||e==="";function HU(e,t){const n=e.style,s=e.getAttribute("height"),a=e.getAttribute("width");if(e[Sh]={initial:{height:s,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",P1(a)){const i=S1(e,"width");i!==void 0&&(e.width=i)}if(P1(s))if(e.style.height==="")e.height=e.width/(t||2);else{const i=S1(e,"height");i!==void 0&&(e.height=i)}return e}const HE=lU?{passive:!0}:!1;function VU(e,t,n){e&&e.addEventListener(t,n,HE)}function IU(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,HE)}function qU(e,t){const n=$U[e.type]||e.type,{x:s,y:a}=_o(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:a!==void 0?a:null}}function Yh(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function WU(e,t,n){const s=e.canvas,a=new MutationObserver(i=>{let c=!1;for(const d of i)c=c||Yh(d.addedNodes,s),c=c&&!Yh(d.removedNodes,s);c&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function YU(e,t,n){const s=e.canvas,a=new MutationObserver(i=>{let c=!1;for(const d of i)c=c||Yh(d.removedNodes,s),c=c&&!Yh(d.addedNodes,s);c&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const Ku=new Map;let L1=0;function VE(){const e=window.devicePixelRatio;e!==L1&&(L1=e,Ku.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function XU(e,t){Ku.size||window.addEventListener("resize",VE),Ku.set(e,t)}function GU(e){Ku.delete(e),Ku.size||window.removeEventListener("resize",VE)}function KU(e,t,n){const s=e.canvas,a=s&&My(s);if(!a)return;const i=SE((d,f)=>{const h=a.clientWidth;n(d,f),h<a.clientWidth&&n()},window),c=new ResizeObserver(d=>{const f=d[0],h=f.contentRect.width,p=f.contentRect.height;h===0&&p===0||i(h,p)});return c.observe(a),XU(e,i),c}function f0(e,t,n){n&&n.disconnect(),t==="resize"&&GU(e)}function QU(e,t,n){const s=e.canvas,a=SE(i=>{e.ctx!==null&&n(qU(i,e))},e);return VU(s,t,a),a}class ZU extends $E{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(HU(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[Sh])return!1;const s=n[Sh].initial;["height","width"].forEach(i=>{const c=s[i];Cn(c)?n.removeAttribute(i):n.setAttribute(i,c)});const a=s.style||{};return Object.keys(a).forEach(i=>{n.style[i]=a[i]}),n.width=n.width,delete n[Sh],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const a=t.$proxies||(t.$proxies={}),c={attach:WU,detach:YU,resize:KU}[n]||QU;a[n]=c(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),a=s[n];if(!a)return;({attach:f0,detach:f0,resize:f0}[n]||IU)(t,n,a),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,a){return oU(t,n,s,a)}isAttached(t){const n=t&&My(t);return!!(n&&n.isConnected)}}function JU(e){return!Ry()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?BU:ZU}var lh;let Vo=(lh=class{constructor(){jt(this,"x");jt(this,"y");jt(this,"active",!1);jt(this,"options");jt(this,"$animations")}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return Ih(this.x)&&Ih(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const a={};return t.forEach(i=>{a[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),a}},jt(lh,"defaults",{}),jt(lh,"defaultRoutes"),lh);function eF(e,t){const n=e.options.ticks,s=tF(e),a=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?sF(t):[],c=i.length,d=i[0],f=i[c-1],h=[];if(c>a)return rF(t,h,i,c/a),h;const p=nF(i,t,a);if(c>0){let g,b;const y=c>1?Math.round((f-d)/(c-1)):null;for(Qf(t,h,p,Cn(y)?0:d-y,d),g=0,b=c-1;g<b;g++)Qf(t,h,p,i[g],i[g+1]);return Qf(t,h,p,f,Cn(y)?t.length:f+y),h}return Qf(t,h,p),h}function tF(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),a=e._maxLength/n;return Math.floor(Math.min(s,a))}function nF(e,t,n){const s=aF(e),a=t.length/n;if(!s)return Math.max(a,1);const i=gz(s);for(let c=0,d=i.length-1;c<d;c++){const f=i[c];if(f>a)return f}return Math.max(a,1)}function sF(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function rF(e,t,n,s){let a=0,i=n[0],c;for(s=Math.ceil(s),c=0;c<e.length;c++)c===i&&(t.push(e[c]),a++,i=n[a*s])}function Qf(e,t,n,s,a){const i=sn(s,0),c=Math.min(sn(a,e.length),e.length);let d=0,f,h,p;for(n=Math.ceil(n),a&&(f=a-s,n=f/Math.floor(f/n)),p=i;p<0;)d++,p=Math.round(i+d*n);for(h=Math.max(i,0);h<c;h++)h===p&&(t.push(e[h]),d++,p=Math.round(i+d*n))}function aF(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const iF=e=>e==="left"?"right":e==="right"?"left":e,z1=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,U1=(e,t)=>Math.min(t||e,e);function F1(e,t){const n=[],s=e.length/t,a=e.length;let i=0;for(;i<a;i+=s)n.push(e[Math.floor(i)]);return n}function oF(e,t,n){const s=e.ticks.length,a=Math.min(t,s-1),i=e._startPixel,c=e._endPixel,d=1e-6;let f=e.getPixelForTick(a),h;if(!(n&&(s===1?h=Math.max(f-i,c-f):t===0?h=(e.getPixelForTick(1)-f)/2:h=(f-e.getPixelForTick(a-1))/2,f+=a<t?h:-h,f<i-d||f>c+d)))return f}function lF(e,t){nn(e,n=>{const s=n.gc,a=s.length/2;let i;if(a>t){for(i=0;i<a;++i)delete n.data[s[i]];s.splice(0,a)}})}function bu(e){return e.drawTicks?e.tickLength:0}function B1(e,t){if(!e.display)return 0;const n=Es(e.font,t),s=kr(e.padding);return(ls(e.text)?e.text.length:1)*n.lineHeight+s.height}function cF(e,t){return cc(e,{scale:t,type:"scale"})}function uF(e,t,n){return cc(e,{tick:n,index:t,type:"tick"})}function dF(e,t,n){let s=Ey(e);return(n&&t!=="right"||!n&&t==="right")&&(s=iF(s)),s}function fF(e,t,n,s){const{top:a,left:i,bottom:c,right:d,chart:f}=e,{chartArea:h,scales:p}=f;let g=0,b,y,_;const w=c-a,N=d-i;if(e.isHorizontal()){if(y=Ss(s,i,d),Kt(n)){const S=Object.keys(n)[0],R=n[S];_=p[S].getPixelForValue(R)+w-t}else n==="center"?_=(h.bottom+h.top)/2+w-t:_=z1(e,n,t);b=d-i}else{if(Kt(n)){const S=Object.keys(n)[0],R=n[S];y=p[S].getPixelForValue(R)-N+t}else n==="center"?y=(h.left+h.right)/2-N+t:y=z1(e,n,t);_=Ss(s,c,a),g=n==="left"?-ps:ps}return{titleX:y,titleY:_,maxWidth:b,rotation:g}}class uc extends Vo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:a}=this;return t=sa(t,Number.POSITIVE_INFINITY),n=sa(n,Number.NEGATIVE_INFINITY),s=sa(s,Number.POSITIVE_INFINITY),a=sa(a,Number.NEGATIVE_INFINITY),{min:sa(t,s),max:sa(n,a),minDefined:Cr(t),maxDefined:Cr(n)}}getMinMax(t){let{min:n,max:s,minDefined:a,maxDefined:i}=this.getUserBounds(),c;if(a&&i)return{min:n,max:s};const d=this.getMatchingVisibleMetas();for(let f=0,h=d.length;f<h;++f)c=d[f].controller.getMinMax(this,t),a||(n=Math.min(n,c.min)),i||(s=Math.max(s,c.max));return n=i&&n>s?s:n,s=a&&n>s?n:s,{min:sa(n,sa(s,n)),max:sa(s,sa(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xn(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:a,grace:i,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Wz(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=d<this.ticks.length;this._convertTicksToLabels(f?F1(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=eF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xn(this.options.afterUpdate,[this])}beforeSetDimensions(){xn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),xn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,a,i;for(s=0,a=t.length;s<a;s++)i=t[s],i.label=xn(n.callback,[i.value,s,t],this)}afterTickToLabelConversion(){xn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=U1(this.ticks.length,t.ticks.maxTicksLimit),a=n.minRotation||0,i=n.maxRotation;let c=a,d,f,h;if(!this._isVisible()||!n.display||a>=i||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const p=this._getLabelSizes(),g=p.widest.width,b=p.highest.height,y=Ws(this.chart.width-g,0,this.maxWidth);d=t.offset?this.maxWidth/s:y/(s-1),g+6>d&&(d=y/(s-(t.offset?.5:1)),f=this.maxHeight-bu(t.grid)-n.padding-B1(t.title,this.chart.options.font),h=Math.sqrt(g*g+b*b),c=vz(Math.min(Math.asin(Ws((p.highest.height+6)/d,-1,1)),Math.asin(Ws(f/h,-1,1))-Math.asin(Ws(b/h,-1,1)))),c=Math.max(a,Math.min(i,c))),this.labelRotation=c}afterCalculateLabelRotation(){xn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:a,grid:i}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const f=B1(a,n.options.font);if(d?(t.width=this.maxWidth,t.height=bu(i)+f):(t.height=this.maxHeight,t.width=bu(i)+f),s.display&&this.ticks.length){const{first:h,last:p,widest:g,highest:b}=this._getLabelSizes(),y=s.padding*2,_=ko(this.labelRotation),w=Math.cos(_),N=Math.sin(_);if(d){const S=s.mirror?0:N*g.width+w*b.height;t.height=Math.min(this.maxHeight,t.height+S+y)}else{const S=s.mirror?0:w*g.width+N*b.height;t.width=Math.min(this.maxWidth,t.width+S+y)}this._calculatePadding(h,p,N,w)}}this._handleMargins(),d?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,a){const{ticks:{align:i,padding:c},position:d}=this.options,f=this.labelRotation!==0,h=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,y=0;f?h?(b=a*t.width,y=s*n.height):(b=s*t.height,y=a*n.width):i==="start"?y=n.width:i==="end"?b=t.width:i!=="inner"&&(b=t.width/2,y=n.width/2),this.paddingLeft=Math.max((b-p+c)*this.width/(this.width-p),0),this.paddingRight=Math.max((y-g+c)*this.width/(this.width-g),0)}else{let p=n.height/2,g=t.height/2;i==="start"?(p=0,g=t.height):i==="end"&&(p=n.height,g=0),this.paddingTop=p+c,this.paddingBottom=g+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)Cn(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=F1(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:a,_longestTextCache:i}=this,c=[],d=[],f=Math.floor(n/U1(n,s));let h=0,p=0,g,b,y,_,w,N,S,R,D,T,k;for(g=0;g<n;g+=f){if(_=t[g].label,w=this._resolveTickFontOptions(g),a.font=N=w.string,S=i[N]=i[N]||{data:{},gc:[]},R=w.lineHeight,D=T=0,!Cn(_)&&!ls(_))D=y1(a,S.data,S.gc,D,_),T=R;else if(ls(_))for(b=0,y=_.length;b<y;++b)k=_[b],!Cn(k)&&!ls(k)&&(D=y1(a,S.data,S.gc,D,k),T+=R);c.push(D),d.push(T),h=Math.max(D,h),p=Math.max(T,p)}lF(i,n);const C=c.indexOf(h),A=d.indexOf(p),P=U=>({width:c[U]||0,height:d[U]||0});return{first:P(0),last:P(n-1),widest:P(C),highest:P(A),widths:c,heights:d}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return _z(this._alignToPixels?bo(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=uF(this.getContext(),t,s))}return this.$context||(this.$context=cF(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=ko(this.labelRotation),s=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),i=this._getLabelSizes(),c=t.autoSkipPadding||0,d=i?i.widest.width+c:0,f=i?i.highest.height+c:0;return this.isHorizontal()?f*s>d*a?d/s:f/a:f*a<d*s?f/s:d/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,a=this.options,{grid:i,position:c,border:d}=a,f=i.offset,h=this.isHorizontal(),g=this.ticks.length+(f?1:0),b=bu(i),y=[],_=d.setContext(this.getContext()),w=_.display?_.width:0,N=w/2,S=function(H){return bo(s,H,w)};let R,D,T,k,C,A,P,U,K,$,G,W;if(c==="top")R=S(this.bottom),A=this.bottom-b,U=R-N,$=S(t.top)+N,W=t.bottom;else if(c==="bottom")R=S(this.top),$=t.top,W=S(t.bottom)-N,A=R+N,U=this.top+b;else if(c==="left")R=S(this.right),C=this.right-b,P=R-N,K=S(t.left)+N,G=t.right;else if(c==="right")R=S(this.left),K=t.left,G=S(t.right)-N,C=R+N,P=this.left+b;else if(n==="x"){if(c==="center")R=S((t.top+t.bottom)/2+.5);else if(Kt(c)){const H=Object.keys(c)[0],J=c[H];R=S(this.chart.scales[H].getPixelForValue(J))}$=t.top,W=t.bottom,A=R+N,U=A+b}else if(n==="y"){if(c==="center")R=S((t.left+t.right)/2);else if(Kt(c)){const H=Object.keys(c)[0],J=c[H];R=S(this.chart.scales[H].getPixelForValue(J))}C=R-N,P=C-b,K=t.left,G=t.right}const ee=sn(a.ticks.maxTicksLimit,g),Y=Math.max(1,Math.ceil(g/ee));for(D=0;D<g;D+=Y){const H=this.getContext(D),J=i.setContext(H),te=d.setContext(H),ce=J.lineWidth,L=J.color,le=te.dash||[],re=te.dashOffset,V=J.tickWidth,ne=J.tickColor,xe=J.tickBorderDash||[],me=J.tickBorderDashOffset;T=oF(this,D,f),T!==void 0&&(k=bo(s,T,ce),h?C=P=K=G=k:A=U=$=W=k,y.push({tx1:C,ty1:A,tx2:P,ty2:U,x1:K,y1:$,x2:G,y2:W,width:ce,color:L,borderDash:le,borderDashOffset:re,tickWidth:V,tickColor:ne,tickBorderDash:xe,tickBorderDashOffset:me}))}return this._ticksLength=g,this._borderValue=R,y}_computeLabelItems(t){const n=this.axis,s=this.options,{position:a,ticks:i}=s,c=this.isHorizontal(),d=this.ticks,{align:f,crossAlign:h,padding:p,mirror:g}=i,b=bu(s.grid),y=b+p,_=g?-p:y,w=-ko(this.labelRotation),N=[];let S,R,D,T,k,C,A,P,U,K,$,G,W="middle";if(a==="top")C=this.bottom-_,A=this._getXAxisLabelAlignment();else if(a==="bottom")C=this.top+_,A=this._getXAxisLabelAlignment();else if(a==="left"){const Y=this._getYAxisLabelAlignment(b);A=Y.textAlign,k=Y.x}else if(a==="right"){const Y=this._getYAxisLabelAlignment(b);A=Y.textAlign,k=Y.x}else if(n==="x"){if(a==="center")C=(t.top+t.bottom)/2+y;else if(Kt(a)){const Y=Object.keys(a)[0],H=a[Y];C=this.chart.scales[Y].getPixelForValue(H)+y}A=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")k=(t.left+t.right)/2-y;else if(Kt(a)){const Y=Object.keys(a)[0],H=a[Y];k=this.chart.scales[Y].getPixelForValue(H)}A=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(f==="start"?W="top":f==="end"&&(W="bottom"));const ee=this._getLabelSizes();for(S=0,R=d.length;S<R;++S){D=d[S],T=D.label;const Y=i.setContext(this.getContext(S));P=this.getPixelForTick(S)+i.labelOffset,U=this._resolveTickFontOptions(S),K=U.lineHeight,$=ls(T)?T.length:1;const H=$/2,J=Y.color,te=Y.textStrokeColor,ce=Y.textStrokeWidth;let L=A;c?(k=P,A==="inner"&&(S===R-1?L=this.options.reverse?"left":"right":S===0?L=this.options.reverse?"right":"left":L="center"),a==="top"?h==="near"||w!==0?G=-$*K+K/2:h==="center"?G=-ee.highest.height/2-H*K+K:G=-ee.highest.height+K/2:h==="near"||w!==0?G=K/2:h==="center"?G=ee.highest.height/2-H*K:G=ee.highest.height-$*K,g&&(G*=-1),w!==0&&!Y.showLabelBackdrop&&(k+=K/2*Math.sin(w))):(C=P,G=(1-$)*K/2);let le;if(Y.showLabelBackdrop){const re=kr(Y.backdropPadding),V=ee.heights[S],ne=ee.widths[S];let xe=G-re.top,me=0-re.left;switch(W){case"middle":xe-=V/2;break;case"bottom":xe-=V;break}switch(A){case"center":me-=ne/2;break;case"right":me-=ne;break;case"inner":S===R-1?me-=ne:S>0&&(me-=ne/2);break}le={left:me,top:xe,width:ne+re.width,height:V+re.height,color:Y.backdropColor}}N.push({label:T,font:U,textOffset:G,options:{rotation:w,color:J,strokeColor:te,strokeWidth:ce,textAlign:L,textBaseline:W,translation:[k,C],backdrop:le}})}return N}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-ko(this.labelRotation))return t==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:a,padding:i}}=this.options,c=this._getLabelSizes(),d=t+i,f=c.widest.width;let h,p;return n==="left"?a?(p=this.right+i,s==="near"?h="left":s==="center"?(h="center",p+=f/2):(h="right",p+=f)):(p=this.right-d,s==="near"?h="right":s==="center"?(h="center",p-=f/2):(h="left",p=this.left)):n==="right"?a?(p=this.left+i,s==="near"?h="right":s==="center"?(h="center",p-=f/2):(h="left",p-=f)):(p=this.left+d,s==="near"?h="left":s==="center"?(h="center",p+=f/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:a,width:i,height:c}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,a,i,c),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(i=>i.value===t);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,c;const d=(f,h,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(f.x,f.y),s.lineTo(h.x,h.y),s.stroke(),s.restore())};if(n.display)for(i=0,c=a.length;i<c;++i){const f=a[i];n.drawOnChartArea&&d({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&d({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:a}}=this,i=s.setContext(this.getContext()),c=s.display?i.width:0;if(!c)return;const d=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let h,p,g,b;this.isHorizontal()?(h=bo(t,this.left,c)-c/2,p=bo(t,this.right,d)+d/2,g=b=f):(g=bo(t,this.top,c)-c/2,b=bo(t,this.bottom,d)+d/2,h=p=f),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(h,g),n.lineTo(p,b),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&Ty(s,a);const i=this.getLabelItems(t);for(const c of i){const d=c.options,f=c.font,h=c.label,p=c.textOffset;Gu(s,h,0,p,f,d)}a&&Cy(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:a}}=this;if(!s.display)return;const i=Es(s.font),c=kr(s.padding),d=s.align;let f=i.lineHeight/2;n==="bottom"||n==="center"||Kt(n)?(f+=c.bottom,ls(s.text)&&(f+=i.lineHeight*(s.text.length-1))):f+=c.top;const{titleX:h,titleY:p,maxWidth:g,rotation:b}=fF(this,f,n,d);Gu(t,s.text,0,0,i,{color:s.color,maxWidth:g,rotation:b,textAlign:dF(d,n,a),textBaseline:"middle",translation:[h,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=sn(t.grid&&t.grid.z,-1),a=sn(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==uc.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let i,c;for(i=0,c=n.length;i<c;++i){const d=n[i];d[s]===this.id&&(!t||d.type===t)&&a.push(d)}return a}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Es(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Zf{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;pF(n)&&(s=this.register(n));const a=this.items,i=t.id,c=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in a||(a[i]=t,hF(t,c,s),this.override&&Fn.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,a=this.scope;s in n&&delete n[s],a&&s in Fn[a]&&(delete Fn[a][s],this.override&&delete zo[s])}}function hF(e,t,n){const s=Xu(Object.create(null),[n?Fn.get(n):{},Fn.get(t),e.defaults]);Fn.set(t,s),e.defaultRoutes&&mF(t,e.defaultRoutes),e.descriptors&&Fn.describe(t,e.descriptors)}function mF(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),a=s.pop(),i=[e].concat(s).join("."),c=t[n].split("."),d=c.pop(),f=c.join(".");Fn.route(i,a,f,d)})}function pF(e){return"id"in e&&"defaults"in e}class gF{constructor(){this.controllers=new Zf(jh,"datasets",!0),this.elements=new Zf(Vo,"elements"),this.plugins=new Zf(Object,"plugins"),this.scales=new Zf(uc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(a=>{const i=s||this._getRegistryForType(a);s||i.isForType(a)||i===this.plugins&&a.id?this._exec(t,i,a):nn(a,c=>{const d=s||this._getRegistryForType(c);this._exec(t,d,c)})})}_exec(t,n,s){const a=Sy(t);xn(s["before"+a],[],s),n[t](s),xn(s["after"+a],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const a=n.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return a}}var aa=new gF;class xF{constructor(){this._init=[]}notify(t,n,s,a){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=a?this._descriptors(t).filter(a):this._descriptors(t),c=this._notify(i,t,n,s);return n==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,n,s,a){a=a||{};for(const i of t){const c=i.plugin,d=c[s],f=[n,a,i.options];if(xn(d,f,c)===!1&&a.cancelable)return!1}return!0}invalidate(){Cn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,a=sn(s.options&&s.options.plugins,{}),i=yF(s);return a===!1&&!n?[]:vF(t,i,a,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,a=(i,c)=>i.filter(d=>!c.some(f=>d.plugin.id===f.plugin.id));this._notify(a(n,s),t,"stop"),this._notify(a(s,n),t,"start")}}function yF(e){const t={},n=[],s=Object.keys(aa.plugins.items);for(let i=0;i<s.length;i++)n.push(aa.getPlugin(s[i]));const a=e.plugins||[];for(let i=0;i<a.length;i++){const c=a[i];n.indexOf(c)===-1&&(n.push(c),t[c.id]=!0)}return{plugins:n,localIds:t}}function bF(e,t){return!t&&e===!1?null:e===!0?{}:e}function vF(e,{plugins:t,localIds:n},s,a){const i=[],c=e.getContext();for(const d of t){const f=d.id,h=bF(s[f],a);h!==null&&i.push({plugin:d,options:wF(e.config,{plugin:d,local:n[f]},h,c)})}return i}function wF(e,{plugin:t,local:n},s,a){const i=e.pluginScopeKeys(t),c=e.getOptionScopes(s,i);return n&&t.defaults&&c.push(t.defaults),e.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function lx(e,t){const n=Fn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function _F(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function jF(e,t){return e===t?"_index_":"_value_"}function $1(e){if(e==="x"||e==="y"||e==="r")return e}function SF(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function cx(e,...t){if($1(e))return e;for(const n of t){const s=n.axis||SF(n.position)||e.length>1&&$1(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function H1(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function NF(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return H1(e,"x",n[0])||H1(e,"y",n[0])}return{}}function EF(e,t){const n=zo[e.type]||{scales:{}},s=t.scales||{},a=lx(e.type,t),i=Object.create(null);return Object.keys(s).forEach(c=>{const d=s[c];if(!Kt(d))return console.error(`Invalid scale configuration for scale: ${c}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=cx(c,d,NF(c,e),Fn.scales[d.type]),h=jF(f,a),p=n.scales||{};i[c]=Ru(Object.create(null),[{axis:f},d,p[f],p[h]])}),e.data.datasets.forEach(c=>{const d=c.type||e.type,f=c.indexAxis||lx(d,t),p=(zo[d]||{}).scales||{};Object.keys(p).forEach(g=>{const b=_F(g,f),y=c[b+"AxisID"]||b;i[y]=i[y]||Object.create(null),Ru(i[y],[{axis:b},s[y],p[g]])})}),Object.keys(i).forEach(c=>{const d=i[c];Ru(d,[Fn.scales[d.type],Fn.scale])}),i}function IE(e){const t=e.options||(e.options={});t.plugins=sn(t.plugins,{}),t.scales=EF(e,t)}function qE(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function TF(e){return e=e||{},e.data=qE(e.data),IE(e),e}const V1=new Map,WE=new Set;function Jf(e,t){let n=V1.get(e);return n||(n=t(),V1.set(e,n),WE.add(n)),n}const vu=(e,t,n)=>{const s=Bh(t,n);s!==void 0&&e.add(s)};class CF{constructor(t){this._config=TF(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=qE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),IE(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Jf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Jf(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Jf(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return Jf(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let a=s.get(t);return(!a||n)&&(a=new Map,s.set(t,a)),a}getOptionScopes(t,n,s){const{options:a,type:i}=this,c=this._cachedScopes(t,s),d=c.get(n);if(d)return d;const f=new Set;n.forEach(p=>{t&&(f.add(t),p.forEach(g=>vu(f,t,g))),p.forEach(g=>vu(f,a,g)),p.forEach(g=>vu(f,zo[i]||{},g)),p.forEach(g=>vu(f,Fn,g)),p.forEach(g=>vu(f,ox,g))});const h=Array.from(f);return h.length===0&&h.push(Object.create(null)),WE.has(n)&&c.set(n,h),h}chartOptionScopes(){const{options:t,type:n}=this;return[t,zo[n]||{},Fn.datasets[n]||{},{type:n},Fn,ox]}resolveNamedOptions(t,n,s,a=[""]){const i={$shared:!0},{resolver:c,subPrefixes:d}=I1(this._resolverCache,t,a);let f=c;if(OF(c,n)){i.$shared=!1,s=Ui(s)?s():s;const h=this.createResolver(t,s,d);f=Jl(c,s,h)}for(const h of n)i[h]=f[h];return i}createResolver(t,n,s=[""],a){const{resolver:i}=I1(this._resolverCache,t,s);return Kt(n)?Jl(i,n,void 0,a):i}}function I1(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const a=n.join();let i=s.get(a);return i||(i={resolver:Oy(t,n),subPrefixes:n.filter(d=>!d.toLowerCase().includes("hover"))},s.set(a,i)),i}const kF=e=>Kt(e)&&Object.getOwnPropertyNames(e).some(t=>Ui(e[t]));function OF(e,t){const{isScriptable:n,isIndexable:s}=DE(e);for(const a of t){const i=n(a),c=s(a),d=(c||i)&&e[a];if(i&&(Ui(d)||kF(d))||c&&ls(d))return!0}return!1}var DF="4.5.0";const AF=["top","bottom","left","right","chartArea"];function q1(e,t){return e==="top"||e==="bottom"||AF.indexOf(e)===-1&&t==="x"}function W1(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function Y1(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),xn(n&&n.onComplete,[e],t)}function RF(e){const t=e.chart,n=t.options.animation;xn(n&&n.onProgress,[e],t)}function YE(e){return Ry()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Nh={},X1=e=>{const t=YE(e);return Object.values(Nh).filter(n=>n.canvas===t).pop()};function MF(e,t,n){const s=Object.keys(e);for(const a of s){const i=+a;if(i>=t){const c=e[a];delete e[a],(n>0||i>t)&&(e[i+n]=c)}}}function PF(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}class Ei{static register(...t){aa.add(...t),G1()}static unregister(...t){aa.remove(...t),G1()}constructor(t,n){const s=this.config=new CF(n),a=YE(t),i=X1(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const c=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||JU(a)),this.platform.updateConfig(s);const d=this.platform.acquireContext(a,c.aspectRatio),f=d&&d.canvas,h=f&&f.height,p=f&&f.width;if(this.id=lz(),this.ctx=d,this.canvas=f,this.width=p,this.height=h,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new xF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Tz(g=>this.update(g),c.resizeDelay||0),this._dataChanges=[],Nh[this.id]=this,!d||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Ba.listen(this,"complete",Y1),Ba.listen(this,"progress",RF),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:a,_aspectRatio:i}=this;return Cn(t)?n&&i?i:a?s/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return aa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():j1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return b1(this.canvas,this.ctx),this}stop(){return Ba.stop(this),this}resize(t,n){Ba.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,a=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,t,n,i),d=s.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,j1(this,d,!0)&&(this.notifyPlugins("resize",{size:c}),xn(s.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};nn(n,(s,a)=>{s.id=a})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,a=Object.keys(s).reduce((c,d)=>(c[d]=!1,c),{});let i=[];n&&(i=i.concat(Object.keys(n).map(c=>{const d=n[c],f=cx(c,d),h=f==="r",p=f==="x";return{options:d,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),nn(i,c=>{const d=c.options,f=d.id,h=cx(f,d),p=sn(d.type,c.dtype);(d.position===void 0||q1(d.position,h)!==q1(c.dposition))&&(d.position=c.dposition),a[f]=!0;let g=null;if(f in s&&s[f].type===p)g=s[f];else{const b=aa.getScale(p);g=new b({id:f,type:p,ctx:this.ctx,chart:this}),s[g.id]=g}g.init(d,t)}),nn(a,(c,d)=>{c||delete s[d]}),nn(s,c=>{Nr.configure(this,c,c.options),Nr.addBox(this,c)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((a,i)=>a.index-i.index),s>n){for(let a=n;a<s;++a)this._destroyDatasetMeta(a);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(W1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,a)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=n.length;s<a;s++){const i=n[s];let c=this.getDatasetMeta(s);const d=i.type||this.config.type;if(c.type&&c.type!==d&&(this._destroyDatasetMeta(s),c=this.getDatasetMeta(s)),c.type=d,c.indexAxis=i.indexAxis||lx(d,this.options),c.order=i.order||0,c.index=s,c.label=""+i.label,c.visible=this.isDatasetVisible(s),c.controller)c.controller.updateIndex(s),c.controller.linkScales();else{const f=aa.getController(d),{datasetElementType:h,dataElementType:p}=Fn.datasets[d];Object.assign(f,{dataElementType:aa.getElement(p),datasetElementType:h&&aa.getElement(h)}),c.controller=new f(this,s),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){nn(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let h=0,p=this.data.datasets.length;h<p;h++){const{controller:g}=this.getDatasetMeta(h),b=!a&&i.indexOf(g)===-1;g.buildOrUpdateElements(b),c=Math.max(+g.getMaxOverflow(),c)}c=this._minPadding=s.layout.autoPadding?c:0,this._updateLayout(c),a||nn(i,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(W1("z","_idx"));const{_active:d,_lastEvent:f}=this;f?this._eventHandler(f,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){nn(this.scales,t=>{Nr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!c1(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:i}of n){const c=s==="_removeElements"?-i:i;MF(t,a,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(t.filter(c=>c[0]===i).map((c,d)=>d+","+c.splice(1).join(","))),a=s(0);for(let i=1;i<n;i++)if(!c1(a,s(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Nr.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],nn(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Ui(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),a={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ba.has(this)?this.attached&&!Ba.running(this)&&Ba.start(this):(this.draw(),Y1({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let a,i;for(a=0,i=n.length;a<i;++a){const c=n[a];(!t||c.visible)&&s.push(c)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},a=fU(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&Ty(n,a),t.controller.draw(),a&&Cy(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return kE(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,a){const i=AU.modes[n];return typeof i=="function"?i(this,t,s,a):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let a=s.filter(i=>i&&i._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=cc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const a=s?"show":"hide",i=this.getDatasetMeta(t),c=i.controller._resolveAnimations(void 0,a);$h(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),c.update(i,{visible:s}),this.update(d=>d.datasetIndex===t?a:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ba.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),b1(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Nh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(i,c)=>{n.addEventListener(this,i,c),t[i]=c},a=(i,c,d)=>{i.offsetX=c,i.offsetY=d,this._eventHandler(i)};nn(this.options.events,i=>s(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(f,h)=>{n.addEventListener(this,f,h),t[f]=h},a=(f,h)=>{t[f]&&(n.removeEventListener(this,f,h),delete t[f])},i=(f,h)=>{this.canvas&&this.resize(f,h)};let c;const d=()=>{a("attach",d),this.attached=!0,this.resize(),s("resize",i),s("detach",c)};c=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),s("attach",d)},n.isAttached(this.canvas)?d():c()}unbindEvents(){nn(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},nn(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const a=s?"set":"remove";let i,c,d,f;for(n==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),d=0,f=t.length;d<f;++d){c=t[d];const h=c&&this.getDatasetMeta(c.datasetIndex).controller;h&&h[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:i,index:c})=>{const d=this.getDatasetMeta(i);if(!d)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:d.data[c],index:c}});!Uh(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const a=this.options.hover,i=(f,h)=>f.filter(p=>!h.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),c=i(n,t),d=s?t:i(t,n);c.length&&this.updateHoverStyle(c,a.mode,!1),d.length&&a.mode&&this.updateHoverStyle(d,a.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},a=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const i=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(i||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:a=[],options:i}=this,c=n,d=this._getActiveElements(t,a,s,c),f=mz(t),h=PF(t,this._lastEvent,s,f);s&&(this._lastEvent=null,xn(i.onHover,[t,d,this],this),f&&xn(i.onClick,[t,d,this],this));const p=!Uh(d,a);return(p||n)&&(this._active=d,this._updateHoverStyles(d,a,n)),this._lastEvent=h,p}_getActiveElements(t,n,s,a){if(t.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,a)}}jt(Ei,"defaults",Fn),jt(Ei,"instances",Nh),jt(Ei,"overrides",zo),jt(Ei,"registry",aa),jt(Ei,"version",DF),jt(Ei,"getChart",X1);function G1(){return nn(Ei.instances,e=>e._plugins.invalidate())}function LF(e,t,n){const{startAngle:s,x:a,y:i,outerRadius:c,innerRadius:d,options:f}=t,{borderWidth:h,borderJoinStyle:p}=f,g=Math.min(h/c,ia(s-n));if(e.beginPath(),e.arc(a,i,c-h/2,s+g/2,n-g/2),d>0){const b=Math.min(h/d,ia(s-n));e.arc(a,i,d+h/2,n-b/2,s+b/2,!0)}else{const b=Math.min(h/2,c*ia(s-n));if(p==="round")e.arc(a,i,b,n-yn/2,s+yn/2,!0);else if(p==="bevel"){const y=2*b*b,_=-y*Math.cos(n+yn/2)+a,w=-y*Math.sin(n+yn/2)+i,N=y*Math.cos(s+yn/2)+a,S=y*Math.sin(s+yn/2)+i;e.lineTo(_,w),e.lineTo(N,S)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function zF(e,t,n){const{startAngle:s,pixelMargin:a,x:i,y:c,outerRadius:d,innerRadius:f}=t;let h=a/d;e.beginPath(),e.arc(i,c,d,s-h,n+h),f>a?(h=a/f,e.arc(i,c,f,n+h,s-h,!0)):e.arc(i,c,a,n+ps,s-ps),e.closePath(),e.clip()}function UF(e){return ky(e,["outerStart","outerEnd","innerStart","innerEnd"])}function FF(e,t,n,s){const a=UF(e.options.borderRadius),i=(n-t)/2,c=Math.min(i,s*t/2),d=f=>{const h=(n-Math.min(i,f))*s/2;return Ws(f,0,Math.min(i,h))};return{outerStart:d(a.outerStart),outerEnd:d(a.outerEnd),innerStart:Ws(a.innerStart,0,c),innerEnd:Ws(a.innerEnd,0,c)}}function Pl(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function Xh(e,t,n,s,a,i){const{x:c,y:d,startAngle:f,pixelMargin:h,innerRadius:p}=t,g=Math.max(t.outerRadius+s+n-h,0),b=p>0?p+s+n+h:0;let y=0;const _=a-f;if(s){const Y=p>0?p-s:0,H=g>0?g-s:0,J=(Y+H)/2,te=J!==0?_*J/(J+s):_;y=(_-te)/2}const w=Math.max(.001,_*g-n/yn)/g,N=(_-w)/2,S=f+N+y,R=a-N-y,{outerStart:D,outerEnd:T,innerStart:k,innerEnd:C}=FF(t,b,g,R-S),A=g-D,P=g-T,U=S+D/A,K=R-T/P,$=b+k,G=b+C,W=S+k/$,ee=R-C/G;if(e.beginPath(),i){const Y=(U+K)/2;if(e.arc(c,d,g,U,Y),e.arc(c,d,g,Y,K),T>0){const ce=Pl(P,K,c,d);e.arc(ce.x,ce.y,T,K,R+ps)}const H=Pl(G,R,c,d);if(e.lineTo(H.x,H.y),C>0){const ce=Pl(G,ee,c,d);e.arc(ce.x,ce.y,C,R+ps,ee+Math.PI)}const J=(R-C/b+(S+k/b))/2;if(e.arc(c,d,b,R-C/b,J,!0),e.arc(c,d,b,J,S+k/b,!0),k>0){const ce=Pl($,W,c,d);e.arc(ce.x,ce.y,k,W+Math.PI,S-ps)}const te=Pl(A,S,c,d);if(e.lineTo(te.x,te.y),D>0){const ce=Pl(A,U,c,d);e.arc(ce.x,ce.y,D,S-ps,U)}}else{e.moveTo(c,d);const Y=Math.cos(U)*g+c,H=Math.sin(U)*g+d;e.lineTo(Y,H);const J=Math.cos(K)*g+c,te=Math.sin(K)*g+d;e.lineTo(J,te)}e.closePath()}function BF(e,t,n,s,a){const{fullCircles:i,startAngle:c,circumference:d}=t;let f=t.endAngle;if(i){Xh(e,t,n,s,f,a);for(let h=0;h<i;++h)e.fill();isNaN(d)||(f=c+(d%Ds||Ds))}return Xh(e,t,n,s,f,a),e.fill(),f}function $F(e,t,n,s,a){const{fullCircles:i,startAngle:c,circumference:d,options:f}=t,{borderWidth:h,borderJoinStyle:p,borderDash:g,borderDashOffset:b,borderRadius:y}=f,_=f.borderAlign==="inner";if(!h)return;e.setLineDash(g||[]),e.lineDashOffset=b,_?(e.lineWidth=h*2,e.lineJoin=p||"round"):(e.lineWidth=h,e.lineJoin=p||"bevel");let w=t.endAngle;if(i){Xh(e,t,n,s,w,a);for(let N=0;N<i;++N)e.stroke();isNaN(d)||(w=c+(d%Ds||Ds))}_&&zF(e,t,w),f.selfJoin&&w-c>=yn&&y===0&&p!=="miter"&&LF(e,t,w),i||(Xh(e,t,n,s,w,a),e.stroke())}class Du extends Vo{constructor(n){super();jt(this,"circumference");jt(this,"endAngle");jt(this,"fullCircles");jt(this,"innerRadius");jt(this,"outerRadius");jt(this,"pixelMargin");jt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,a){const i=this.getProps(["x","y"],a),{angle:c,distance:d}=vE(i,{x:n,y:s}),{startAngle:f,endAngle:h,innerRadius:p,outerRadius:g,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),y=(this.options.spacing+this.options.borderWidth)/2,_=sn(b,h-f),w=wE(c,f,h)&&f!==h,N=_>=Ds||w,S=Oo(d,p+y,g+y);return N&&S}getCenterPoint(n){const{x:s,y:a,startAngle:i,endAngle:c,innerRadius:d,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:h,spacing:p}=this.options,g=(i+c)/2,b=(d+f+p+h)/2;return{x:s+Math.cos(g)*b,y:a+Math.sin(g)*b}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:a}=this,i=(s.offset||0)/4,c=(s.spacing||0)/2,d=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=a>Ds?Math.floor(a/Ds):0,a===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const f=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(f)*i,Math.sin(f)*i);const h=1-Math.sin(Math.min(yn,a||0)),p=i*h;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,BF(n,this,p,c,d),$F(n,this,p,c,d),n.restore()}}jt(Du,"id","arc"),jt(Du,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),jt(Du,"defaultRoutes",{backgroundColor:"backgroundColor"}),jt(Du,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function XE(e,t){const{x:n,y:s,base:a,width:i,height:c}=e.getProps(["x","y","base","width","height"],t);let d,f,h,p,g;return e.horizontal?(g=c/2,d=Math.min(n,a),f=Math.max(n,a),h=s-g,p=s+g):(g=i/2,d=n-g,f=n+g,h=Math.min(s,a),p=Math.max(s,a)),{left:d,top:h,right:f,bottom:p}}function Oi(e,t,n,s){return e?0:Ws(t,n,s)}function HF(e,t,n){const s=e.options.borderWidth,a=e.borderSkipped,i=OE(s);return{t:Oi(a.top,i.top,0,n),r:Oi(a.right,i.right,0,t),b:Oi(a.bottom,i.bottom,0,n),l:Oi(a.left,i.left,0,t)}}function VF(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,i=Yl(a),c=Math.min(t,n),d=e.borderSkipped,f=s||Kt(a);return{topLeft:Oi(!f||d.top||d.left,i.topLeft,0,c),topRight:Oi(!f||d.top||d.right,i.topRight,0,c),bottomLeft:Oi(!f||d.bottom||d.left,i.bottomLeft,0,c),bottomRight:Oi(!f||d.bottom||d.right,i.bottomRight,0,c)}}function IF(e){const t=XE(e),n=t.right-t.left,s=t.bottom-t.top,a=HF(e,n/2,s/2),i=VF(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:i},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function h0(e,t,n,s){const a=t===null,i=n===null,d=e&&!(a&&i)&&XE(e,s);return d&&(a||Oo(t,d.left,d.right))&&(i||Oo(n,d.top,d.bottom))}function qF(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function WF(e,t){e.rect(t.x,t.y,t.w,t.h)}function m0(e,t,n={}){const s=e.x!==n.x?-t:0,a=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-s,c=(e.y+e.h!==n.y+n.h?t:0)-a;return{x:e.x+s,y:e.y+a,w:e.w+i,h:e.h+c,radius:e.radius}}class Eh extends Vo{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:a}}=this,{inner:i,outer:c}=IF(this),d=qF(c.radius)?qh:WF;t.save(),(c.w!==i.w||c.h!==i.h)&&(t.beginPath(),d(t,m0(c,n,i)),t.clip(),d(t,m0(i,-n,c)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),d(t,m0(i,n)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,n,s){return h0(this,t,n,s)}inXRange(t,n){return h0(this,t,null,n)}inYRange(t,n){return h0(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(n+a)/2:n,y:i?s:(s+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}jt(Eh,"id","bar"),jt(Eh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),jt(Eh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const K1=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},YF=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Q1 extends Vo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=xn(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,a)=>t.sort(s,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,a=Es(s.font),i=a.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:f}=K1(s,i);let h,p;n.font=a.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(c,i,d,f)+10):(p=this.maxHeight,h=this._fitCols(c,a,d,f)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,a){const{ctx:i,maxWidth:c,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],h=this.lineWidths=[0],p=a+d;let g=t;i.textAlign="left",i.textBaseline="middle";let b=-1,y=-p;return this.legendItems.forEach((_,w)=>{const N=s+n/2+i.measureText(_.text).width;(w===0||h[h.length-1]+N+2*d>c)&&(g+=p,h[h.length-(w>0?0:1)]=0,y+=p,b++),f[w]={left:0,top:y,row:b,width:N,height:a},h[h.length-1]+=N+d}),g}_fitCols(t,n,s,a){const{ctx:i,maxHeight:c,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],h=this.columnSizes=[],p=c-t;let g=d,b=0,y=0,_=0,w=0;return this.legendItems.forEach((N,S)=>{const{itemWidth:R,itemHeight:D}=XF(s,n,i,N,a);S>0&&y+D+2*d>p&&(g+=b+d,h.push({width:b,height:y}),_+=b+d,w++,b=y=0),f[S]={left:_,top:y,col:w,width:R,height:D},b=Math.max(b,R),y+=D+d}),g+=b,h.push({width:b,height:y}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:a},rtl:i}}=this,c=Xl(i,this.left,this.width);if(this.isHorizontal()){let d=0,f=Ss(s,this.left+a,this.right-this.lineWidths[d]);for(const h of n)d!==h.row&&(d=h.row,f=Ss(s,this.left+a,this.right-this.lineWidths[d])),h.top+=this.top+t+a,h.left=c.leftForLtr(c.x(f),h.width),f+=h.width+a}else{let d=0,f=Ss(s,this.top+t+a,this.bottom-this.columnSizes[d].height);for(const h of n)h.col!==d&&(d=h.col,f=Ss(s,this.top+t+a,this.bottom-this.columnSizes[d].height)),h.top=f,h.left+=this.left+a,h.left=c.leftForLtr(c.x(h.left),h.width),f+=h.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ty(t,this),this._draw(),Cy(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:a}=this,{align:i,labels:c}=t,d=Fn.color,f=Xl(t.rtl,this.left,this.width),h=Es(c.font),{padding:p}=c,g=h.size,b=g/2;let y;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=h.string;const{boxWidth:_,boxHeight:w,itemHeight:N}=K1(c,g),S=function(C,A,P){if(isNaN(_)||_<=0||isNaN(w)||w<0)return;a.save();const U=sn(P.lineWidth,1);if(a.fillStyle=sn(P.fillStyle,d),a.lineCap=sn(P.lineCap,"butt"),a.lineDashOffset=sn(P.lineDashOffset,0),a.lineJoin=sn(P.lineJoin,"miter"),a.lineWidth=U,a.strokeStyle=sn(P.strokeStyle,d),a.setLineDash(sn(P.lineDash,[])),c.usePointStyle){const K={radius:w*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:U},$=f.xPlus(C,_/2),G=A+b;CE(a,K,$,G,c.pointStyleWidth&&_)}else{const K=A+Math.max((g-w)/2,0),$=f.leftForLtr(C,_),G=Yl(P.borderRadius);a.beginPath(),Object.values(G).some(W=>W!==0)?qh(a,{x:$,y:K,w:_,h:w,radius:G}):a.rect($,K,_,w),a.fill(),U!==0&&a.stroke()}a.restore()},R=function(C,A,P){Gu(a,P.text,C,A+N/2,h,{strikethrough:P.hidden,textAlign:f.textAlign(P.textAlign)})},D=this.isHorizontal(),T=this._computeTitleHeight();D?y={x:Ss(i,this.left+p,this.right-s[0]),y:this.top+p+T,line:0}:y={x:this.left+p,y:Ss(i,this.top+T+p,this.bottom-n[0].height),line:0},PE(this.ctx,t.textDirection);const k=N+p;this.legendItems.forEach((C,A)=>{a.strokeStyle=C.fontColor,a.fillStyle=C.fontColor;const P=a.measureText(C.text).width,U=f.textAlign(C.textAlign||(C.textAlign=c.textAlign)),K=_+b+P;let $=y.x,G=y.y;f.setWidth(this.width),D?A>0&&$+K+p>this.right&&(G=y.y+=k,y.line++,$=y.x=Ss(i,this.left+p,this.right-s[y.line])):A>0&&G+k>this.bottom&&($=y.x=$+n[y.line].width+p,y.line++,G=y.y=Ss(i,this.top+T+p,this.bottom-n[y.line].height));const W=f.x($);if(S(W,G,C),$=Cz(U,$+_+b,D?$+K:this.right,t.rtl),R(f.x($),G,C),D)y.x+=K+p;else if(typeof C.text!="string"){const ee=h.lineHeight;y.y+=GE(C,ee)+p}else y.y+=k}),LE(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=Es(n.font),a=kr(n.padding);if(!n.display)return;const i=Xl(t.rtl,this.left,this.width),c=this.ctx,d=n.position,f=s.size/2,h=a.top+f;let p,g=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+h,g=Ss(t.align,g,this.right-b);else{const _=this.columnSizes.reduce((w,N)=>Math.max(w,N.height),0);p=h+Ss(t.align,this.top,this.bottom-_-t.labels.padding-this._computeTitleHeight())}const y=Ss(d,g,g+b);c.textAlign=i.textAlign(Ey(d)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=s.string,Gu(c,n.text,y,p,s)}_computeTitleHeight(){const t=this.options.title,n=Es(t.font),s=kr(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,a,i;if(Oo(t,this.left,this.right)&&Oo(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(a=i[s],Oo(t,a.left,a.left+a.width)&&Oo(n,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!QF(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,i=YF(a,s);a&&!i&&xn(n.onLeave,[t,a,this],this),this._hoveredItem=s,s&&!i&&xn(n.onHover,[t,s,this],this)}else s&&xn(n.onClick,[t,s,this],this)}}function XF(e,t,n,s,a){const i=GF(s,e,t,n),c=KF(a,s,t.lineHeight);return{itemWidth:i,itemHeight:c}}function GF(e,t,n,s){let a=e.text;return a&&typeof a!="string"&&(a=a.reduce((i,c)=>i.length>c.length?i:c)),t+n.size/2+s.measureText(a).width}function KF(e,t,n){let s=e;return typeof t.text!="string"&&(s=GE(t,n)),s}function GE(e,t){const n=e.text?e.text.length:0;return t*n}function QF(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var ZF={id:"legend",_element:Q1,start(e,t,n){const s=e.legend=new Q1({ctx:e.ctx,options:n,chart:e});Nr.configure(e,s,n),Nr.addBox(e,s)},stop(e){Nr.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;Nr.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,a=n.chart;a.isDatasetVisible(s)?(a.hide(s),t.hidden=!0):(a.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:a,color:i,useBorderRadius:c,borderRadius:d}}=e.legend.options;return e._getSortedDatasetMetas().map(f=>{const h=f.controller.getStyle(n?0:void 0),p=kr(h.borderWidth);return{text:t[f.index].label,fillStyle:h.backgroundColor,fontColor:i,hidden:!f.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:h.borderColor,pointStyle:s||h.pointStyle,rotation:h.rotation,textAlign:a||h.textAlign,borderRadius:c&&(d||h.borderRadius),datasetIndex:f.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};let KE=class extends Vo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const a=ls(s.text)?s.text.length:1;this._padding=kr(s.padding);const i=a*Es(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:a,right:i,options:c}=this,d=c.align;let f=0,h,p,g;return this.isHorizontal()?(p=Ss(d,s,i),g=n+t,h=i-s):(c.position==="left"?(p=s+t,g=Ss(d,a,n),f=yn*-.5):(p=i-t,g=Ss(d,n,a),f=yn*.5),h=a-n),{titleX:p,titleY:g,maxWidth:h,rotation:f}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=Es(n.font),i=s.lineHeight/2+this._padding.top,{titleX:c,titleY:d,maxWidth:f,rotation:h}=this._drawArgs(i);Gu(t,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:h,textAlign:Ey(n.align),textBaseline:"middle",translation:[c,d]})}};function JF(e,t){const n=new KE({ctx:e.ctx,options:t,chart:e});Nr.configure(e,n,t),Nr.addBox(e,n),e.titleBlock=n}var eB={id:"title",_element:KE,start(e,t,n){JF(e,n)},stop(e){const t=e.titleBlock;Nr.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;Nr.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Au={average(e){if(!e.length)return!1;let t,n,s=new Set,a=0,i=0;for(t=0,n=e.length;t<n;++t){const d=e[t].element;if(d&&d.hasValue()){const f=d.tooltipPosition();s.add(f.x),a+=f.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((d,f)=>d+f)/s.size,y:a/i}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,a=Number.POSITIVE_INFINITY,i,c,d;for(i=0,c=e.length;i<c;++i){const f=e[i].element;if(f&&f.hasValue()){const h=f.getCenterPoint(),p=wz(t,h);p<a&&(a=p,d=f)}}if(d){const f=d.tooltipPosition();n=f.x,s=f.y}return{x:n,y:s}}};function ra(e,t){return t&&(ls(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function $a(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function tB(e,t){const{element:n,datasetIndex:s,index:a}=t,i=e.getDatasetMeta(s).controller,{label:c,value:d}=i.getLabelAndValue(a);return{chart:e,label:c,parsed:i.getParsed(a),raw:e.data.datasets[s].data[a],formattedValue:d,dataset:i.getDataset(),dataIndex:a,datasetIndex:s,element:n}}function Z1(e,t){const n=e.chart.ctx,{body:s,footer:a,title:i}=e,{boxWidth:c,boxHeight:d}=t,f=Es(t.bodyFont),h=Es(t.titleFont),p=Es(t.footerFont),g=i.length,b=a.length,y=s.length,_=kr(t.padding);let w=_.height,N=0,S=s.reduce((T,k)=>T+k.before.length+k.lines.length+k.after.length,0);if(S+=e.beforeBody.length+e.afterBody.length,g&&(w+=g*h.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),S){const T=t.displayColors?Math.max(d,f.lineHeight):f.lineHeight;w+=y*T+(S-y)*f.lineHeight+(S-1)*t.bodySpacing}b&&(w+=t.footerMarginTop+b*p.lineHeight+(b-1)*t.footerSpacing);let R=0;const D=function(T){N=Math.max(N,n.measureText(T).width+R)};return n.save(),n.font=h.string,nn(e.title,D),n.font=f.string,nn(e.beforeBody.concat(e.afterBody),D),R=t.displayColors?c+2+t.boxPadding:0,nn(s,T=>{nn(T.before,D),nn(T.lines,D),nn(T.after,D)}),R=0,n.font=p.string,nn(e.footer,D),n.restore(),N+=_.width,{width:N,height:w}}function nB(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function sB(e,t,n,s){const{x:a,width:i}=s,c=n.caretSize+n.caretPadding;if(e==="left"&&a+i+c>t.width||e==="right"&&a-i-c<0)return!0}function rB(e,t,n,s){const{x:a,width:i}=n,{width:c,chartArea:{left:d,right:f}}=e;let h="center";return s==="center"?h=a<=(d+f)/2?"left":"right":a<=i/2?h="left":a>=c-i/2&&(h="right"),sB(h,e,t,n)&&(h="center"),h}function J1(e,t,n){const s=n.yAlign||t.yAlign||nB(e,n);return{xAlign:n.xAlign||t.xAlign||rB(e,t,n,s),yAlign:s}}function aB(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function iB(e,t,n){let{y:s,height:a}=e;return t==="top"?s+=n:t==="bottom"?s-=a+n:s-=a/2,s}function eS(e,t,n,s){const{caretSize:a,caretPadding:i,cornerRadius:c}=e,{xAlign:d,yAlign:f}=n,h=a+i,{topLeft:p,topRight:g,bottomLeft:b,bottomRight:y}=Yl(c);let _=aB(t,d);const w=iB(t,f,h);return f==="center"?d==="left"?_+=h:d==="right"&&(_-=h):d==="left"?_-=Math.max(p,b)+a:d==="right"&&(_+=Math.max(g,y)+a),{x:Ws(_,0,s.width-t.width),y:Ws(w,0,s.height-t.height)}}function eh(e,t,n){const s=kr(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function tS(e){return ra([],$a(e))}function oB(e,t,n){return cc(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function nS(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const QE={beforeTitle:Ua,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:Ua,beforeBody:Ua,beforeLabel:Ua,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Cn(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ua,afterBody:Ua,beforeFooter:Ua,footer:Ua,afterFooter:Ua};function Bs(e,t,n,s){const a=e[t].call(n,s);return typeof a=="undefined"?QE[t].call(n,s):a}class ux extends Vo{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&n.options.animation&&s.animations,i=new zE(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=oB(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,a=Bs(s,"beforeTitle",this,t),i=Bs(s,"title",this,t),c=Bs(s,"afterTitle",this,t);let d=[];return d=ra(d,$a(a)),d=ra(d,$a(i)),d=ra(d,$a(c)),d}getBeforeBody(t,n){return tS(Bs(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,a=[];return nn(t,i=>{const c={before:[],lines:[],after:[]},d=nS(s,i);ra(c.before,$a(Bs(d,"beforeLabel",this,i))),ra(c.lines,Bs(d,"label",this,i)),ra(c.after,$a(Bs(d,"afterLabel",this,i))),a.push(c)}),a}getAfterBody(t,n){return tS(Bs(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,a=Bs(s,"beforeFooter",this,t),i=Bs(s,"footer",this,t),c=Bs(s,"afterFooter",this,t);let d=[];return d=ra(d,$a(a)),d=ra(d,$a(i)),d=ra(d,$a(c)),d}_createItems(t){const n=this._active,s=this.chart.data,a=[],i=[],c=[];let d=[],f,h;for(f=0,h=n.length;f<h;++f)d.push(tB(this.chart,n[f]));return t.filter&&(d=d.filter((p,g,b)=>t.filter(p,g,b,s))),t.itemSort&&(d=d.sort((p,g)=>t.itemSort(p,g,s))),nn(d,p=>{const g=nS(t.callbacks,p);a.push(Bs(g,"labelColor",this,p)),i.push(Bs(g,"labelPointStyle",this,p)),c.push(Bs(g,"labelTextColor",this,p))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=c,this.dataPoints=d,d}update(t,n){const s=this.options.setContext(this.getContext()),a=this._active;let i,c=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const d=Au[s.position].call(this,a,this._eventPosition);c=this._createItems(s),this.title=this.getTitle(c,s),this.beforeBody=this.getBeforeBody(c,s),this.body=this.getBody(c,s),this.afterBody=this.getAfterBody(c,s),this.footer=this.getFooter(c,s);const f=this._size=Z1(this,s),h=Object.assign({},d,f),p=J1(this.chart,s,h),g=eS(s,h,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,i={opacity:1,x:g.x,y:g.y,width:f.width,height:f.height,caretX:d.x,caretY:d.y}}this._tooltipItems=c,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,a){const i=this.getCaretPosition(t,s,a);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(t,n,s){const{xAlign:a,yAlign:i}=this,{caretSize:c,cornerRadius:d}=s,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:g}=Yl(d),{x:b,y}=t,{width:_,height:w}=n;let N,S,R,D,T,k;return i==="center"?(T=y+w/2,a==="left"?(N=b,S=N-c,D=T+c,k=T-c):(N=b+_,S=N+c,D=T-c,k=T+c),R=N):(a==="left"?S=b+Math.max(f,p)+c:a==="right"?S=b+_-Math.max(h,g)-c:S=this.caretX,i==="top"?(D=y,T=D-c,N=S-c,R=S+c):(D=y+w,T=D+c,N=S+c,R=S-c),k=D),{x1:N,x2:S,x3:R,y1:D,y2:T,y3:k}}drawTitle(t,n,s){const a=this.title,i=a.length;let c,d,f;if(i){const h=Xl(s.rtl,this.x,this.width);for(t.x=eh(this,s.titleAlign,s),n.textAlign=h.textAlign(s.titleAlign),n.textBaseline="middle",c=Es(s.titleFont),d=s.titleSpacing,n.fillStyle=s.titleColor,n.font=c.string,f=0;f<i;++f)n.fillText(a[f],h.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+d,f+1===i&&(t.y+=s.titleMarginBottom-d)}}_drawColorBox(t,n,s,a,i){const c=this.labelColors[s],d=this.labelPointStyles[s],{boxHeight:f,boxWidth:h}=i,p=Es(i.bodyFont),g=eh(this,"left",i),b=a.x(g),y=f<p.lineHeight?(p.lineHeight-f)/2:0,_=n.y+y;if(i.usePointStyle){const w={radius:Math.min(h,f)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},N=a.leftForLtr(b,h)+h/2,S=_+f/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,v1(t,w,N,S),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,v1(t,w,N,S)}else{t.lineWidth=Kt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const w=a.leftForLtr(b,h),N=a.leftForLtr(a.xPlus(b,1),h-2),S=Yl(c.borderRadius);Object.values(S).some(R=>R!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,qh(t,{x:w,y:_,w:h,h:f,radius:S}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),qh(t,{x:N,y:_+1,w:h-2,h:f-2,radius:S}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(w,_,h,f),t.strokeRect(w,_,h,f),t.fillStyle=c.backgroundColor,t.fillRect(N,_+1,h-2,f-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:a}=this,{bodySpacing:i,bodyAlign:c,displayColors:d,boxHeight:f,boxWidth:h,boxPadding:p}=s,g=Es(s.bodyFont);let b=g.lineHeight,y=0;const _=Xl(s.rtl,this.x,this.width),w=function(P){n.fillText(P,_.x(t.x+y),t.y+b/2),t.y+=b+i},N=_.textAlign(c);let S,R,D,T,k,C,A;for(n.textAlign=c,n.textBaseline="middle",n.font=g.string,t.x=eh(this,N,s),n.fillStyle=s.bodyColor,nn(this.beforeBody,w),y=d&&N!=="right"?c==="center"?h/2+p:h+2+p:0,T=0,C=a.length;T<C;++T){for(S=a[T],R=this.labelTextColors[T],n.fillStyle=R,nn(S.before,w),D=S.lines,d&&D.length&&(this._drawColorBox(n,t,T,_,s),b=Math.max(g.lineHeight,f)),k=0,A=D.length;k<A;++k)w(D[k]),b=g.lineHeight;nn(S.after,w)}y=0,b=g.lineHeight,nn(this.afterBody,w),t.y-=i}drawFooter(t,n,s){const a=this.footer,i=a.length;let c,d;if(i){const f=Xl(s.rtl,this.x,this.width);for(t.x=eh(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=f.textAlign(s.footerAlign),n.textBaseline="middle",c=Es(s.footerFont),n.fillStyle=s.footerColor,n.font=c.string,d=0;d<i;++d)n.fillText(a[d],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+s.footerSpacing}}drawBackground(t,n,s,a){const{xAlign:i,yAlign:c}=this,{x:d,y:f}=t,{width:h,height:p}=s,{topLeft:g,topRight:b,bottomLeft:y,bottomRight:_}=Yl(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(d+g,f),c==="top"&&this.drawCaret(t,n,s,a),n.lineTo(d+h-b,f),n.quadraticCurveTo(d+h,f,d+h,f+b),c==="center"&&i==="right"&&this.drawCaret(t,n,s,a),n.lineTo(d+h,f+p-_),n.quadraticCurveTo(d+h,f+p,d+h-_,f+p),c==="bottom"&&this.drawCaret(t,n,s,a),n.lineTo(d+y,f+p),n.quadraticCurveTo(d,f+p,d,f+p-y),c==="center"&&i==="left"&&this.drawCaret(t,n,s,a),n.lineTo(d,f+g),n.quadraticCurveTo(d,f,d+g,f),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,a=s&&s.x,i=s&&s.y;if(a||i){const c=Au[t.position].call(this,this._active,this._eventPosition);if(!c)return;const d=this._size=Z1(this,t),f=Object.assign({},c,this._size),h=J1(n,t,f),p=eS(t,f,h,n);(a._to!==p.x||i._to!==p.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=d.width,this.height=d.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const c=kr(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(t.save(),t.globalAlpha=s,this.drawBackground(i,t,a,n),PE(t,n.textDirection),i.y+=c.top,this.drawTitle(i,t,n),this.drawBody(i,t,n),this.drawFooter(i,t,n),LE(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,a=t.map(({datasetIndex:d,index:f})=>{const h=this.chart.getDatasetMeta(d);if(!h)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:h.data[f],index:f}}),i=!Uh(s,a),c=this._positionChanged(a,n);(i||c)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],c=this._getActiveElements(t,i,n,s),d=this._positionChanged(c,t),f=n||!Uh(c,i)||d;return f&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),f}_getActiveElements(t,n,s,a){const i=this.options;if(t.type==="mouseout")return[];if(!a)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,i.mode,i,s);return i.reverse&&c.reverse(),c}_positionChanged(t,n){const{caretX:s,caretY:a,options:i}=this,c=Au[i.position].call(this,t,n);return c!==!1&&(s!==c.x||a!==c.y)}}jt(ux,"positioners",Au);var lB={id:"tooltip",_element:ux,positioners:Au,afterInit(e,t,n){n&&(e.tooltip=new ux({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",oe(z({},n),{cancelable:!0}))===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:QE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const cB=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function uB(e,t,n,s){const a=e.indexOf(t);if(a===-1)return cB(e,t,n,s);const i=e.lastIndexOf(t);return a!==i?n:a}const dB=(e,t)=>e===null?null:Ws(Math.round(e),0,t);function sS(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class dx extends uc{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:a,label:i}of n)s[a]===i&&s.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Cn(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:uB(s,t,sn(n,t),this._addedLabels),dB(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,a=[];let i=this.getLabels();i=t===0&&n===i.length-1?i:i.slice(t,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let c=t;c<=n;c++)a.push({value:c});return a}getLabelForValue(t){return sS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}jt(dx,"id","category"),jt(dx,"defaults",{ticks:{callback:sS}});function fB(e,t){const n=[],{bounds:a,step:i,min:c,max:d,precision:f,count:h,maxTicks:p,maxDigits:g,includeBounds:b}=e,y=i||1,_=p-1,{min:w,max:N}=t,S=!Cn(c),R=!Cn(d),D=!Cn(h),T=(N-w)/(g+1);let k=d1((N-w)/_/y)*y,C,A,P,U;if(k<1e-14&&!S&&!R)return[{value:w},{value:N}];U=Math.ceil(N/k)-Math.floor(w/k),U>_&&(k=d1(U*k/_/y)*y),Cn(f)||(C=Math.pow(10,f),k=Math.ceil(k*C)/C),a==="ticks"?(A=Math.floor(w/k)*k,P=Math.ceil(N/k)*k):(A=w,P=N),S&&R&&i&&yz((d-c)/i,k/1e3)?(U=Math.round(Math.min((d-c)/k,p)),k=(d-c)/U,A=c,P=d):D?(A=S?c:A,P=R?d:P,U=h-1,k=(P-A)/U):(U=(P-A)/k,_h(U,Math.round(U),k/1e3)?U=Math.round(U):U=Math.ceil(U));const K=Math.max(f1(k),f1(A));C=Math.pow(10,Cn(f)?K:f),A=Math.round(A*C)/C,P=Math.round(P*C)/C;let $=0;for(S&&(b&&A!==c?(n.push({value:c}),A<c&&$++,_h(Math.round((A+$*k)*C)/C,c,rS(c,T,e))&&$++):A<c&&$++);$<U;++$){const G=Math.round((A+$*k)*C)/C;if(R&&G>d)break;n.push({value:G})}return R&&b&&P!==d?n.length&&_h(n[n.length-1].value,d,rS(d,T,e))?n[n.length-1].value=d:n.push({value:d}):(!R||P===d)&&n.push({value:P}),n}function rS(e,t,{horizontal:n,minRotation:s}){const a=ko(s),i=(n?Math.sin(a):Math.cos(a))||.001,c=.75*t*(""+e).length;return Math.min(t/i,c)}class hB extends uc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Cn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:a,max:i}=this;const c=f=>a=n?a:f,d=f=>i=s?i:f;if(t){const f=Vh(a),h=Vh(i);f<0&&h<0?d(0):f>0&&h>0&&c(0)}if(a===i){let f=i===0?1:Math.abs(i*.05);d(i+f),t||c(a-f)}this.min=a,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,c=fB(a,i);return t.bounds==="ticks"&&bz(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const a=(s-n)/Math.max(t.length-1,1)/2;n-=a,s+=a}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return EE(t,this.chart.options.locale,this.options.ticks.format)}}class fx extends hB{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Cr(t)?t:0,this.max=Cr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=ko(this.options.ticks.minRotation),a=(t?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}jt(fx,"id","linear"),jt(fx,"defaults",{ticks:{callback:TE.formatters.numeric}});const vm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Is=Object.keys(vm);function aS(e,t){return e-t}function iS(e,t){if(Cn(t))return null;const n=e._adapter,{parser:s,round:a,isoWeekday:i}=e._parseOpts;let c=t;return typeof s=="function"&&(c=s(c)),Cr(c)||(c=typeof s=="string"?n.parse(c,s):n.parse(c)),c===null?null:(a&&(c=a==="week"&&(Ih(i)||i===!0)?n.startOf(c,"isoWeek",i):n.startOf(c,a)),+c)}function oS(e,t,n,s){const a=Is.length;for(let i=Is.indexOf(e);i<a-1;++i){const c=vm[Is[i]],d=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-t)/(d*c.size))<=s)return Is[i]}return Is[a-1]}function mB(e,t,n,s,a){for(let i=Is.length-1;i>=Is.indexOf(n);i--){const c=Is[i];if(vm[c].common&&e._adapter.diff(a,s,c)>=t-1)return c}return Is[n?Is.indexOf(n):0]}function pB(e){for(let t=Is.indexOf(e)+1,n=Is.length;t<n;++t)if(vm[Is[t]].common)return Is[t]}function lS(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:a}=Ny(n,t),i=n[s]>=t?n[s]:n[a];e[i]=!0}}function gB(e,t,n,s){const a=e._adapter,i=+a.startOf(t[0].value,s),c=t[t.length-1].value;let d,f;for(d=i;d<=c;d=+a.add(d,1,s))f=n[d],f>=0&&(t[f].major=!0);return t}function cS(e,t,n){const s=[],a={},i=t.length;let c,d;for(c=0;c<i;++c)d=t[c],a[d]=c,s.push({value:d,major:!1});return i===0||!n?s:gB(e,s,a,n)}class Gh extends uc{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),a=this._adapter=new TU._date(t.adapters.date);a.init(n),Ru(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:iS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:a,max:i,minDefined:c,maxDefined:d}=this.getUserBounds();function f(h){!c&&!isNaN(h.min)&&(a=Math.min(a,h.min)),!d&&!isNaN(h.max)&&(i=Math.max(i,h.max))}(!c||!d)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=Cr(a)&&!isNaN(a)?a:+n.startOf(Date.now(),s),i=Cr(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,c=this.max,d=Sz(a,i,c);return this._unit=n.unit||(s.autoSkip?oS(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):mB(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:pB(this._unit),this.initOffsets(a),t.reverse&&d.reverse(),cS(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,a,i;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?n=1-a:n=(this.getDecimalForValue(t[1])-a)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?s=i:s=(i-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;n=Ws(n,0,c),s=Ws(s,0,c),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,a=this.options,i=a.time,c=i.unit||oS(i.minUnit,n,s,this._getLabelCapacity(n)),d=sn(a.ticks.stepSize,1),f=c==="week"?i.isoWeekday:!1,h=Ih(f)||f===!0,p={};let g=n,b,y;if(h&&(g=+t.startOf(g,"isoWeek",f)),g=+t.startOf(g,h?"day":c),t.diff(s,n,c)>1e5*d)throw new Error(n+" and "+s+" are too far apart with stepSize of "+d+" "+c);const _=a.ticks.source==="data"&&this.getDataTimestamps();for(b=g,y=0;b<s;b=+t.add(b,d,c),y++)lS(p,b,_);return(b===s||a.bounds==="ticks"||y===1)&&lS(p,b,_),Object.keys(p).sort(aS).map(w=>+w)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const a=this.options.time.displayFormats,i=this._unit,c=n||a[i];return this._adapter.format(t,c)}_tickFormatFunction(t,n,s,a){const i=this.options,c=i.ticks.callback;if(c)return xn(c,[t,n,s],this);const d=i.time.displayFormats,f=this._unit,h=this._majorUnit,p=f&&d[f],g=h&&d[h],b=s[n],y=h&&g&&b&&b.major;return this._adapter.format(t,a||(y?g:p))}generateTickLabels(t){let n,s,a;for(n=0,s=t.length;n<s;++n)a=t[n],a.label=this._tickFormatFunction(a.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,a=ko(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(a),c=Math.sin(a),d=this._resolveTickFontOptions(0).size;return{w:s*i+d*c,h:s*c+d*i}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,a=s[n.unit]||s.millisecond,i=this._tickFormatFunction(t,0,cS(this,[t],this._majorUnit),a),c=this._getLabelSize(i),d=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return d>0?d:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,s=a.length;n<s;++n)t=t.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const a=this.getLabels();for(n=0,s=a.length;n<s;++n)t.push(iS(this,a[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Ez(t.sort(aS))}}jt(Gh,"id","time"),jt(Gh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function th(e,t,n){let s=0,a=e.length-1,i,c,d,f;n?(t>=e[s].pos&&t<=e[a].pos&&({lo:s,hi:a}=ix(e,"pos",t)),{pos:i,time:d}=e[s],{pos:c,time:f}=e[a]):(t>=e[s].time&&t<=e[a].time&&({lo:s,hi:a}=ix(e,"time",t)),{time:i,pos:d}=e[s],{time:c,pos:f}=e[a]);const h=c-i;return h?d+(f-d)*(t-i)/h:d}class uS extends Gh{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=th(n,this.min),this._tableRange=th(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,a=[],i=[];let c,d,f,h,p;for(c=0,d=t.length;c<d;++c)h=t[c],h>=n&&h<=s&&a.push(h);if(a.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(c=0,d=a.length;c<d;++c)p=a[c+1],f=a[c-1],h=a[c],Math.round((p+f)/2)!==h&&i.push({time:h,pos:c/(d-1)});return i}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((a,i)=>a-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(th(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return th(this._table,s*this._tableRange+this._minPos,!0)}}jt(uS,"id","timeseries"),jt(uS,"defaults",Gh.defaults);Ei.register(dx,fx,Eh,Du,eB,lB,ZF);const xB=({className:e=""})=>l.jsx("div",{className:`inline-block animate-spin rounded-full border-4 border-gray-200 border-t-blue-600 h-6 w-6 ${e}`}),yB=()=>{const{allProjects:e,filteredData:t,selectedProject:n,selectedTeam:s,setSelectedProject:a,setSelectedTeam:i,isLoading:c}=g6();return c?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx(xB,{className:"h-12 w-12 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"ang ti d liu..."})]})}):l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-800 text-center flex-1",children:"Bng iu khin qun l d n"}),l.jsx(P6,{projects:e,selectedProject:n,selectedTeam:s,onProjectChange:a,onTeamChange:i})]}),l.jsx(z6,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),l.jsx(F6,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),l.jsx(U6,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n})]})})},So=e=>e==null?"N/A":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(e);var ud=e=>e.type==="checkbox",Do=e=>e instanceof Date,Os=e=>e==null;const ZE=e=>typeof e=="object";var Bn=e=>!Os(e)&&!Array.isArray(e)&&ZE(e)&&!Do(e),JE=e=>Bn(e)&&e.target?ud(e.target)?e.target.checked:e.target.value:e,bB=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,eT=(e,t)=>e.has(bB(t)),vB=e=>{const t=e.constructor&&e.constructor.prototype;return Bn(t)&&t.hasOwnProperty("isPrototypeOf")},Ly=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function ts(e){let t;const n=Array.isArray(e),s=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Ly&&(e instanceof Blob||s))&&(n||Bn(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!vB(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=ts(e[a]));else return e;return t}var wm=e=>/^\w*$/.test(e),Un=e=>e===void 0,zy=e=>Array.isArray(e)?e.filter(Boolean):[],Uy=e=>zy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ve=(e,t,n)=>{if(!t||!Bn(e))return n;const s=(wm(t)?[t]:Uy(t)).reduce((a,i)=>Os(a)?a:a[i],e);return Un(s)||s===e?Un(e[t])?n:e[t]:s},nr=e=>typeof e=="boolean",gn=(e,t,n)=>{let s=-1;const a=wm(t)?[t]:Uy(t),i=a.length,c=i-1;for(;++s<i;){const d=a[s];let f=n;if(s!==c){const h=e[d];f=Bn(h)||Array.isArray(h)?h:isNaN(+a[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=f,e=e[d]}};const Kh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$r={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tT=se.createContext(null);tT.displayName="HookFormContext";const Fy=()=>se.useContext(tT);var nT=(e,t,n,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const c=i;return t._proxyFormState[c]!==$r.all&&(t._proxyFormState[c]=!s||$r.all),n&&(n[c]=!0),e[c]}});return a};const By=typeof window!="undefined"?se.useLayoutEffect:se.useEffect;function wB(e){const t=Fy(),{control:n=t.control,disabled:s,name:a,exact:i}=e||{},[c,d]=se.useState(n._formState),f=se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return By(()=>n._subscribe({name:a,formState:f.current,exact:i,callback:h=>{!s&&d(z(z({},n._formState),h))}}),[a,s,i]),se.useEffect(()=>{f.current.isValid&&n._setValid(!0)},[n]),se.useMemo(()=>nT(c,n,f.current,!1),[c,n])}var ca=e=>typeof e=="string",sT=(e,t,n,s,a)=>ca(e)?(s&&t.watch.add(e),Ve(n,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),Ve(n,i))):(s&&(t.watchAll=!0),n),hx=e=>Os(e)||!ZE(e);function qa(e,t,n=new WeakSet){if(hx(e)||hx(t))return e===t;if(Do(e)&&Do(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of s){const c=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const d=t[i];if(Do(c)&&Do(d)||Bn(c)&&Bn(d)||Array.isArray(c)&&Array.isArray(d)?!qa(c,d,n):c!==d)return!1}}return!0}function _B(e){const t=Fy(),{control:n=t.control,name:s,defaultValue:a,disabled:i,exact:c,compute:d}=e||{},f=se.useRef(a),h=se.useRef(d),p=se.useRef(void 0);h.current=d;const g=se.useMemo(()=>n._getWatch(s,f.current),[n,s]),[b,y]=se.useState(h.current?h.current(g):g);return By(()=>n._subscribe({name:s,formState:{values:!0},exact:c,callback:_=>{if(!i){const w=sT(s,n._names,_.values||n._formValues,!1,f.current);if(h.current){const N=h.current(w);qa(N,p.current)||(y(N),p.current=N)}else y(w)}}}),[n,i,s,c]),se.useEffect(()=>n._removeUnmounted()),b}function jB(e){const t=Fy(),{name:n,disabled:s,control:a=t.control,shouldUnregister:i,defaultValue:c}=e,d=eT(a._names.array,n),f=se.useMemo(()=>Ve(a._formValues,n,Ve(a._defaultValues,n,c)),[a,n,c]),h=_B({control:a,name:n,defaultValue:f,exact:!0}),p=wB({control:a,name:n,exact:!0}),g=se.useRef(e),b=se.useRef(a.register(n,z(oe(z({},e.rules),{value:h}),nr(e.disabled)?{disabled:e.disabled}:{})));g.current=e;const y=se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ve(p.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ve(p.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ve(p.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ve(p.validatingFields,n)},error:{enumerable:!0,get:()=>Ve(p.errors,n)}}),[p,n]),_=se.useCallback(R=>b.current.onChange({target:{value:JE(R),name:n},type:Kh.CHANGE}),[n]),w=se.useCallback(()=>b.current.onBlur({target:{value:Ve(a._formValues,n),name:n},type:Kh.BLUR}),[n,a._formValues]),N=se.useCallback(R=>{const D=Ve(a._fields,n);D&&R&&(D._f.ref={focus:()=>R.focus&&R.focus(),select:()=>R.select&&R.select(),setCustomValidity:T=>R.setCustomValidity(T),reportValidity:()=>R.reportValidity()})},[a._fields,n]),S=se.useMemo(()=>oe(z({name:n,value:h},nr(s)||p.disabled?{disabled:p.disabled||s}:{}),{onChange:_,onBlur:w,ref:N}),[n,s,p.disabled,_,w,N,h]);return se.useEffect(()=>{const R=a._options.shouldUnregister||i;a.register(n,z(z({},g.current.rules),nr(g.current.disabled)?{disabled:g.current.disabled}:{}));const D=(T,k)=>{const C=Ve(a._fields,T);C&&C._f&&(C._f.mount=k)};if(D(n,!0),R){const T=ts(Ve(a._options.defaultValues,n));gn(a._defaultValues,n,T),Un(Ve(a._formValues,n))&&gn(a._formValues,n,T)}return!d&&a.register(n),()=>{(d?R&&!a._state.action:R)?a.unregister(n):D(n,!1)}},[n,a,d,i]),se.useEffect(()=>{a._setDisabledField({disabled:s,name:n})},[s,n,a]),se.useMemo(()=>({field:S,formState:p,fieldState:y}),[S,p,y])}const _r=e=>e.render(jB(e));var SB=(e,t,n,s,a)=>t?oe(z({},n[e]),{types:oe(z({},n[e]&&n[e].types?n[e].types:{}),{[s]:a||!0})}):{},Lu=e=>Array.isArray(e)?e:[e],dS=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},$s=e=>Bn(e)&&!Object.keys(e).length,$y=e=>e.type==="file",Hr=e=>typeof e=="function",Qh=e=>{if(!Ly)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},rT=e=>e.type==="select-multiple",Hy=e=>e.type==="radio",NB=e=>Hy(e)||ud(e),p0=e=>Qh(e)&&e.isConnected;function EB(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=Un(e)?s++:e[t[s++]];return e}function TB(e){for(const t in e)if(e.hasOwnProperty(t)&&!Un(e[t]))return!1;return!0}function In(e,t){const n=Array.isArray(t)?t:wm(t)?[t]:Uy(t),s=n.length===1?e:EB(e,n),a=n.length-1,i=n[a];return s&&delete s[i],a!==0&&(Bn(s)&&$s(s)||Array.isArray(s)&&TB(s))&&In(e,n.slice(0,-1)),e}var aT=e=>{for(const t in e)if(Hr(e[t]))return!0;return!1};function Zh(e,t={}){const n=Array.isArray(e);if(Bn(e)||n)for(const s in e)Array.isArray(e[s])||Bn(e[s])&&!aT(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Zh(e[s],t[s])):Os(e[s])||(t[s]=!0);return t}function iT(e,t,n){const s=Array.isArray(e);if(Bn(e)||s)for(const a in e)Array.isArray(e[a])||Bn(e[a])&&!aT(e[a])?Un(t)||hx(n[a])?n[a]=Array.isArray(e[a])?Zh(e[a],[]):z({},Zh(e[a])):iT(e[a],Os(t)?{}:t[a],n[a]):n[a]=!qa(e[a],t[a]);return n}var wu=(e,t)=>iT(e,t,Zh(t));const fS={value:!1,isValid:!1},hS={value:!0,isValid:!0};var oT=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Un(e[0].attributes.value)?Un(e[0].value)||e[0].value===""?hS:{value:e[0].value,isValid:!0}:hS:fS}return fS},lT=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>Un(e)?e:t?e===""?NaN:e&&+e:n&&ca(e)?new Date(e):s?s(e):e;const mS={isValid:!1,value:null};var cT=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,mS):mS;function pS(e){const t=e.ref;return $y(t)?t.files:Hy(t)?cT(e.refs).value:rT(t)?[...t.selectedOptions].map(({value:n})=>n):ud(t)?oT(e.refs).value:lT(Un(t.value)?e.ref.value:t.value,e)}var CB=(e,t,n,s)=>{const a={};for(const i of e){const c=Ve(t,i);c&&gn(a,i,c._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:s}},Jh=e=>e instanceof RegExp,_u=e=>Un(e)?e:Jh(e)?e.source:Bn(e)?Jh(e.value)?e.value.source:e.value:e,gS=e=>({isOnSubmit:!e||e===$r.onSubmit,isOnBlur:e===$r.onBlur,isOnChange:e===$r.onChange,isOnAll:e===$r.all,isOnTouch:e===$r.onTouched});const xS="AsyncFunction";var kB=e=>!!e&&!!e.validate&&!!(Hr(e.validate)&&e.validate.constructor.name===xS||Bn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===xS)),OB=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),yS=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const zu=(e,t,n,s)=>{for(const i of n||Object.keys(e)){const c=Ve(e,i);if(c){const a=c,{_f:d}=a,f=ke(a,["_f"]);if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],i)&&!s)return!0;if(d.ref&&t(d.ref,d.name)&&!s)return!0;if(zu(f,t))break}else if(Bn(f)&&zu(f,t))break}}};function bS(e,t,n){const s=Ve(e,n);if(s||wm(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const i=a.join("."),c=Ve(t,i),d=Ve(e,i);if(c&&!Array.isArray(c)&&n!==i)return{name:n};if(d&&d.type)return{name:i,error:d};if(d&&d.root&&d.root.type)return{name:`${i}.root`,error:d.root};a.pop()}return{name:n}}var DB=(e,t,n,s)=>{n(e);const c=e,{name:a}=c,i=ke(c,["name"]);return $s(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(d=>t[d]===(!s||$r.all))},AB=(e,t,n)=>!e||!t||e===t||Lu(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),RB=(e,t,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?s.isOnBlur:a.isOnBlur)?!e:(n?s.isOnChange:a.isOnChange)?e:!0,MB=(e,t)=>!zy(Ve(e,t)).length&&In(e,t),PB=(e,t,n)=>{const s=Lu(Ve(e,n));return gn(s,"root",t[n]),gn(e,n,s),e},Th=e=>ca(e);function vS(e,t,n="validate"){if(Th(e)||Array.isArray(e)&&e.every(Th)||nr(e)&&!e)return{type:n,message:Th(e)?e:"",ref:t}}var Ll=e=>Bn(e)&&!Jh(e)?e:{value:e,message:""},wS=(e,t,n,s,a,i)=>ve(null,null,function*(){const{ref:c,refs:d,required:f,maxLength:h,minLength:p,min:g,max:b,pattern:y,validate:_,name:w,valueAsNumber:N,mount:S}=e._f,R=Ve(n,w);if(!S||t.has(w))return{};const D=d?d[0]:c,T=G=>{a&&D.reportValidity&&(D.setCustomValidity(nr(G)?"":G||""),D.reportValidity())},k={},C=Hy(c),A=ud(c),P=C||A,U=(N||$y(c))&&Un(c.value)&&Un(R)||Qh(c)&&c.value===""||R===""||Array.isArray(R)&&!R.length,K=SB.bind(null,w,s,k),$=(G,W,ee,Y=Fa.maxLength,H=Fa.minLength)=>{const J=G?W:ee;k[w]=z({type:G?Y:H,message:J,ref:c},K(G?Y:H,J))};if(i?!Array.isArray(R)||!R.length:f&&(!P&&(U||Os(R))||nr(R)&&!R||A&&!oT(d).isValid||C&&!cT(d).isValid)){const{value:G,message:W}=Th(f)?{value:!!f,message:f}:Ll(f);if(G&&(k[w]=z({type:Fa.required,message:W,ref:D},K(Fa.required,W)),!s))return T(W),k}if(!U&&(!Os(g)||!Os(b))){let G,W;const ee=Ll(b),Y=Ll(g);if(!Os(R)&&!isNaN(R)){const H=c.valueAsNumber||R&&+R;Os(ee.value)||(G=H>ee.value),Os(Y.value)||(W=H<Y.value)}else{const H=c.valueAsDate||new Date(R),J=L=>new Date(new Date().toDateString()+" "+L),te=c.type=="time",ce=c.type=="week";ca(ee.value)&&R&&(G=te?J(R)>J(ee.value):ce?R>ee.value:H>new Date(ee.value)),ca(Y.value)&&R&&(W=te?J(R)<J(Y.value):ce?R<Y.value:H<new Date(Y.value))}if((G||W)&&($(!!G,ee.message,Y.message,Fa.max,Fa.min),!s))return T(k[w].message),k}if((h||p)&&!U&&(ca(R)||i&&Array.isArray(R))){const G=Ll(h),W=Ll(p),ee=!Os(G.value)&&R.length>+G.value,Y=!Os(W.value)&&R.length<+W.value;if((ee||Y)&&($(ee,G.message,W.message),!s))return T(k[w].message),k}if(y&&!U&&ca(R)){const{value:G,message:W}=Ll(y);if(Jh(G)&&!R.match(G)&&(k[w]=z({type:Fa.pattern,message:W,ref:c},K(Fa.pattern,W)),!s))return T(W),k}if(_){if(Hr(_)){const G=yield _(R,n),W=vS(G,D);if(W&&(k[w]=z(z({},W),K(Fa.validate,W.message)),!s))return T(W.message),k}else if(Bn(_)){let G={};for(const W in _){if(!$s(G)&&!s)break;const ee=vS(yield _[W](R,n),D,W);ee&&(G=z(z({},ee),K(W,ee.message)),T(ee.message),s&&(k[w]=G))}if(!$s(G)&&(k[w]=z({ref:D},G),!s))return k}}return T(!0),k});const LB={mode:$r.onSubmit,reValidateMode:$r.onChange,shouldFocusError:!0};function zB(e={}){let t=z(z({},LB),e),n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Hr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Bn(t.defaultValues)||Bn(t.values)?ts(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:ts(a),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g=z({},p);const b={array:dS(),state:dS()},y=t.criteriaMode===$r.all,_=X=>fe=>{clearTimeout(h),h=setTimeout(X,fe)},w=X=>ve(null,null,function*(){if(!t.disabled&&(p.isValid||g.isValid||X)){const fe=t.resolver?$s((yield A()).errors):yield U(s,!0);fe!==n.isValid&&b.state.next({isValid:fe})}}),N=(X,fe)=>{!t.disabled&&(p.isValidating||p.validatingFields||g.isValidating||g.validatingFields)&&((X||Array.from(d.mount)).forEach(q=>{q&&(fe?gn(n.validatingFields,q,fe):In(n.validatingFields,q))}),b.state.next({validatingFields:n.validatingFields,isValidating:!$s(n.validatingFields)}))},S=(X,fe=[],q,Se,Re=!0,Ae=!0)=>{if(Se&&q&&!t.disabled){if(c.action=!0,Ae&&Array.isArray(Ve(s,X))){const Be=q(Ve(s,X),Se.argA,Se.argB);Re&&gn(s,X,Be)}if(Ae&&Array.isArray(Ve(n.errors,X))){const Be=q(Ve(n.errors,X),Se.argA,Se.argB);Re&&gn(n.errors,X,Be),MB(n.errors,X)}if((p.touchedFields||g.touchedFields)&&Ae&&Array.isArray(Ve(n.touchedFields,X))){const Be=q(Ve(n.touchedFields,X),Se.argA,Se.argB);Re&&gn(n.touchedFields,X,Be)}(p.dirtyFields||g.dirtyFields)&&(n.dirtyFields=wu(a,i)),b.state.next({name:X,isDirty:$(X,fe),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else gn(i,X,fe)},R=(X,fe)=>{gn(n.errors,X,fe),b.state.next({errors:n.errors})},D=X=>{n.errors=X,b.state.next({errors:n.errors,isValid:!1})},T=(X,fe,q,Se)=>{const Re=Ve(s,X);if(Re){const Ae=Ve(i,X,Un(q)?Ve(a,X):q);Un(Ae)||Se&&Se.defaultChecked||fe?gn(i,X,fe?Ae:pS(Re._f)):ee(X,Ae),c.mount&&w()}},k=(X,fe,q,Se,Re)=>{let Ae=!1,Be=!1;const qe={name:X};if(!t.disabled){if(!q||Se){(p.isDirty||g.isDirty)&&(Be=n.isDirty,n.isDirty=qe.isDirty=$(),Ae=Be!==qe.isDirty);const et=qa(Ve(a,X),fe);Be=!!Ve(n.dirtyFields,X),et?In(n.dirtyFields,X):gn(n.dirtyFields,X,!0),qe.dirtyFields=n.dirtyFields,Ae=Ae||(p.dirtyFields||g.dirtyFields)&&Be!==!et}if(q){const et=Ve(n.touchedFields,X);et||(gn(n.touchedFields,X,q),qe.touchedFields=n.touchedFields,Ae=Ae||(p.touchedFields||g.touchedFields)&&et!==q)}Ae&&Re&&b.state.next(qe)}return Ae?qe:{}},C=(X,fe,q,Se)=>{const Re=Ve(n.errors,X),Ae=(p.isValid||g.isValid)&&nr(fe)&&n.isValid!==fe;if(t.delayError&&q?(f=_(()=>R(X,q)),f(t.delayError)):(clearTimeout(h),f=null,q?gn(n.errors,X,q):In(n.errors,X)),(q?!qa(Re,q):Re)||!$s(Se)||Ae){const Be=oe(z(z({},Se),Ae&&nr(fe)?{isValid:fe}:{}),{errors:n.errors,name:X});n=z(z({},n),Be),b.state.next(Be)}},A=X=>ve(null,null,function*(){N(X,!0);const fe=yield t.resolver(i,t.context,CB(X||d.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return N(X),fe}),P=X=>ve(null,null,function*(){const{errors:fe}=yield A(X);if(X)for(const q of X){const Se=Ve(fe,q);Se?gn(n.errors,q,Se):In(n.errors,q)}else n.errors=fe;return fe}),U=(Se,Re,...Ae)=>ve(null,[Se,Re,...Ae],function*(X,fe,q={valid:!0}){for(const qe in X){const et=X[qe];if(et){const Be=et,{_f:wt}=Be,Sn=ke(Be,["_f"]);if(wt){const Jt=d.array.has(wt.name),dn=et._f&&kB(et._f);dn&&p.validatingFields&&N([qe],!0);const vn=yield wS(et,d.disabled,i,y,t.shouldUseNativeValidation&&!fe,Jt);if(dn&&p.validatingFields&&N([qe]),vn[wt.name]&&(q.valid=!1,fe))break;!fe&&(Ve(vn,wt.name)?Jt?PB(n.errors,vn,wt.name):gn(n.errors,wt.name,vn[wt.name]):In(n.errors,wt.name))}!$s(Sn)&&(yield U(Sn,fe,q))}}return q.valid}),K=()=>{for(const X of d.unMount){const fe=Ve(s,X);fe&&(fe._f.refs?fe._f.refs.every(q=>!p0(q)):!p0(fe._f.ref))&&Te(X)}d.unMount=new Set},$=(X,fe)=>!t.disabled&&(X&&fe&&gn(i,X,fe),!qa(L(),a)),G=(X,fe,q)=>sT(X,d,z({},c.mount?i:Un(fe)?a:ca(X)?{[X]:fe}:fe),q,fe),W=X=>zy(Ve(c.mount?i:a,X,t.shouldUnregister?Ve(a,X,[]):[])),ee=(X,fe,q={})=>{const Se=Ve(s,X);let Re=fe;if(Se){const Ae=Se._f;Ae&&(!Ae.disabled&&gn(i,X,lT(fe,Ae)),Re=Qh(Ae.ref)&&Os(fe)?"":fe,rT(Ae.ref)?[...Ae.ref.options].forEach(Be=>Be.selected=Re.includes(Be.value)):Ae.refs?ud(Ae.ref)?Ae.refs.forEach(Be=>{(!Be.defaultChecked||!Be.disabled)&&(Array.isArray(Re)?Be.checked=!!Re.find(qe=>qe===Be.value):Be.checked=Re===Be.value||!!Re)}):Ae.refs.forEach(Be=>Be.checked=Be.value===Re):$y(Ae.ref)?Ae.ref.value="":(Ae.ref.value=Re,Ae.ref.type||b.state.next({name:X,values:ts(i)})))}(q.shouldDirty||q.shouldTouch)&&k(X,Re,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&ce(X)},Y=(X,fe,q)=>{for(const Se in fe){if(!fe.hasOwnProperty(Se))return;const Re=fe[Se],Ae=X+"."+Se,Be=Ve(s,Ae);(d.array.has(X)||Bn(Re)||Be&&!Be._f)&&!Do(Re)?Y(Ae,Re,q):ee(Ae,Re,q)}},H=(X,fe,q={})=>{const Se=Ve(s,X),Re=d.array.has(X),Ae=ts(fe);gn(i,X,Ae),Re?(b.array.next({name:X,values:ts(i)}),(p.isDirty||p.dirtyFields||g.isDirty||g.dirtyFields)&&q.shouldDirty&&b.state.next({name:X,dirtyFields:wu(a,i),isDirty:$(X,Ae)})):Se&&!Se._f&&!Os(Ae)?Y(X,Ae,q):ee(X,Ae,q),yS(X,d)&&b.state.next(oe(z({},n),{name:X})),b.state.next({name:c.mount?X:void 0,values:ts(i)})},J=X=>ve(null,null,function*(){c.mount=!0;const fe=X.target;let q=fe.name,Se=!0;const Re=Ve(s,q),Ae=et=>{Se=Number.isNaN(et)||Do(et)&&isNaN(et.getTime())||qa(et,Ve(i,q,et))},Be=gS(t.mode),qe=gS(t.reValidateMode);if(Re){let et,wt;const Sn=fe.type?pS(Re._f):JE(X),Jt=X.type===Kh.BLUR||X.type===Kh.FOCUS_OUT,dn=!OB(Re._f)&&!t.resolver&&!Ve(n.errors,q)&&!Re._f.deps||RB(Jt,Ve(n.touchedFields,q),n.isSubmitted,qe,Be),vn=yS(q,d,Jt);gn(i,q,Sn),Jt?(!fe||!fe.readOnly)&&(Re._f.onBlur&&Re._f.onBlur(X),f&&f(0)):Re._f.onChange&&Re._f.onChange(X);const Xn=k(q,Sn,Jt),Gn=!$s(Xn)||vn;if(!Jt&&b.state.next({name:q,type:X.type,values:ts(i)}),dn)return(p.isValid||g.isValid)&&(t.mode==="onBlur"?Jt&&w():Jt||w()),Gn&&b.state.next(z({name:q},vn?{}:Xn));if(!Jt&&vn&&b.state.next(z({},n)),t.resolver){const{errors:cs}=yield A([q]);if(Ae(Sn),Se){const Kn=bS(n.errors,s,q),Cs=bS(cs,s,Kn.name||q);et=Cs.error,q=Cs.name,wt=$s(cs)}}else N([q],!0),et=(yield wS(Re,d.disabled,i,y,t.shouldUseNativeValidation))[q],N([q]),Ae(Sn),Se&&(et?wt=!1:(p.isValid||g.isValid)&&(wt=yield U(s,!0)));Se&&(Re._f.deps&&ce(Re._f.deps),C(q,wt,et,Xn))}}),te=(X,fe)=>{if(Ve(n.errors,fe)&&X.focus)return X.focus(),1},ce=(q,...Se)=>ve(null,[q,...Se],function*(X,fe={}){let Re,Ae;const Be=Lu(X);if(t.resolver){const qe=yield P(Un(X)?X:Be);Re=$s(qe),Ae=X?!Be.some(et=>Ve(qe,et)):Re}else X?(Ae=(yield Promise.all(Be.map(qe=>ve(null,null,function*(){const et=Ve(s,qe);return yield U(et&&et._f?{[qe]:et}:et)})))).every(Boolean),!(!Ae&&!n.isValid)&&w()):Ae=Re=yield U(s);return b.state.next(oe(z(z({},!ca(X)||(p.isValid||g.isValid)&&Re!==n.isValid?{}:{name:X}),t.resolver||!X?{isValid:Re}:{}),{errors:n.errors})),fe.shouldFocus&&!Ae&&zu(s,te,X?Be:d.mount),Ae}),L=X=>{const fe=z({},c.mount?i:a);return Un(X)?fe:ca(X)?Ve(fe,X):X.map(q=>Ve(fe,q))},le=(X,fe)=>({invalid:!!Ve((fe||n).errors,X),isDirty:!!Ve((fe||n).dirtyFields,X),error:Ve((fe||n).errors,X),isValidating:!!Ve(n.validatingFields,X),isTouched:!!Ve((fe||n).touchedFields,X)}),re=X=>{X&&Lu(X).forEach(fe=>In(n.errors,fe)),b.state.next({errors:X?n.errors:{}})},V=(X,fe,q)=>{const Se=(Ve(s,X,{_f:{}})._f||{}).ref,wt=Ve(n.errors,X)||{},{ref:Ae,message:Be,type:qe}=wt,et=ke(wt,["ref","message","type"]);gn(n.errors,X,oe(z(z({},et),fe),{ref:Se})),b.state.next({name:X,errors:n.errors,isValid:!1}),q&&q.shouldFocus&&Se&&Se.focus&&Se.focus()},ne=(X,fe)=>Hr(X)?b.state.subscribe({next:q=>"values"in q&&X(G(void 0,fe),q)}):G(X,fe,!0),xe=X=>b.state.subscribe({next:fe=>{AB(X.name,fe.name,X.exact)&&DB(fe,X.formState||p,Me,X.reRenderRoot)&&X.callback(oe(z(z({values:z({},i)},n),fe),{defaultValues:a}))}}).unsubscribe,me=X=>(c.mount=!0,g=z(z({},g),X.formState),xe(oe(z({},X),{formState:g}))),Te=(X,fe={})=>{for(const q of X?Lu(X):d.mount)d.mount.delete(q),d.array.delete(q),fe.keepValue||(In(s,q),In(i,q)),!fe.keepError&&In(n.errors,q),!fe.keepDirty&&In(n.dirtyFields,q),!fe.keepTouched&&In(n.touchedFields,q),!fe.keepIsValidating&&In(n.validatingFields,q),!t.shouldUnregister&&!fe.keepDefaultValue&&In(a,q);b.state.next({values:ts(i)}),b.state.next(z(z({},n),fe.keepDirty?{isDirty:$()}:{})),!fe.keepIsValid&&w()},Oe=({disabled:X,name:fe})=>{(nr(X)&&c.mount||X||d.disabled.has(fe))&&(X?d.disabled.add(fe):d.disabled.delete(fe))},He=(X,fe={})=>{let q=Ve(s,X);const Se=nr(fe.disabled)||nr(t.disabled);return gn(s,X,oe(z({},q||{}),{_f:z(oe(z({},q&&q._f?q._f:{ref:{name:X}}),{name:X,mount:!0}),fe)})),d.mount.add(X),q?Oe({disabled:nr(fe.disabled)?fe.disabled:t.disabled,name:X}):T(X,!0,fe.value),oe(z(z({},Se?{disabled:fe.disabled||t.disabled}:{}),t.progressive?{required:!!fe.required,min:_u(fe.min),max:_u(fe.max),minLength:_u(fe.minLength),maxLength:_u(fe.maxLength),pattern:_u(fe.pattern)}:{}),{name:X,onChange:J,onBlur:J,ref:Re=>{if(Re){He(X,fe),q=Ve(s,X);const Ae=Un(Re.value)&&Re.querySelectorAll&&Re.querySelectorAll("input,select,textarea")[0]||Re,Be=NB(Ae),qe=q._f.refs||[];if(Be?qe.find(et=>et===Ae):Ae===q._f.ref)return;gn(s,X,{_f:z(z({},q._f),Be?{refs:[...qe.filter(p0),Ae,...Array.isArray(Ve(a,X))?[{}]:[]],ref:{type:Ae.type,name:X}}:{ref:Ae})}),T(X,!1,void 0,Ae)}else q=Ve(s,X,{}),q._f&&(q._f.mount=!1),(t.shouldUnregister||fe.shouldUnregister)&&!(eT(d.array,X)&&c.action)&&d.unMount.add(X)}})},Pe=()=>t.shouldFocusError&&zu(s,te,d.mount),rt=X=>{nr(X)&&(b.state.next({disabled:X}),zu(s,(fe,q)=>{const Se=Ve(s,q);Se&&(fe.disabled=Se._f.disabled||X,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(Re=>{Re.disabled=Se._f.disabled||X}))},0,!1))},Ge=(X,fe)=>q=>ve(null,null,function*(){let Se;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let Re=ts(i);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:Ae,values:Be}=yield A();n.errors=Ae,Re=ts(Be)}else yield U(s);if(d.disabled.size)for(const Ae of d.disabled)In(Re,Ae);if(In(n.errors,"root"),$s(n.errors)){b.state.next({errors:{}});try{yield X(Re,q)}catch(Ae){Se=Ae}}else fe&&(yield fe(z({},n.errors),q)),Pe(),setTimeout(Pe);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$s(n.errors)&&!Se,submitCount:n.submitCount+1,errors:n.errors}),Se)throw Se}),mt=(X,fe={})=>{Ve(s,X)&&(Un(fe.defaultValue)?H(X,ts(Ve(a,X))):(H(X,fe.defaultValue),gn(a,X,ts(fe.defaultValue))),fe.keepTouched||In(n.touchedFields,X),fe.keepDirty||(In(n.dirtyFields,X),n.isDirty=fe.defaultValue?$(X,ts(Ve(a,X))):$()),fe.keepError||(In(n.errors,X),p.isValid&&w()),b.state.next(z({},n)))},ze=(X,fe={})=>{const q=X?ts(X):a,Se=ts(q),Re=$s(X),Ae=Re?a:Se;if(fe.keepDefaultValues||(a=q),!fe.keepValues){if(fe.keepDirtyValues){const Be=new Set([...d.mount,...Object.keys(wu(a,i))]);for(const qe of Array.from(Be))Ve(n.dirtyFields,qe)?gn(Ae,qe,Ve(i,qe)):H(qe,Ve(Ae,qe))}else{if(Ly&&Un(X))for(const Be of d.mount){const qe=Ve(s,Be);if(qe&&qe._f){const et=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(Qh(et)){const wt=et.closest("form");if(wt){wt.reset();break}}}}if(fe.keepFieldsRef)for(const Be of d.mount)H(Be,Ve(Ae,Be));else s={}}i=t.shouldUnregister?fe.keepDefaultValues?ts(a):{}:ts(Ae),b.array.next({values:z({},Ae)}),b.state.next({values:z({},Ae)})}d={mount:fe.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!p.isValid||!!fe.keepIsValid||!!fe.keepDirtyValues,c.watch=!!t.shouldUnregister,b.state.next({submitCount:fe.keepSubmitCount?n.submitCount:0,isDirty:Re?!1:fe.keepDirty?n.isDirty:!!(fe.keepDefaultValues&&!qa(X,a)),isSubmitted:fe.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Re?{}:fe.keepDirtyValues?fe.keepDefaultValues&&i?wu(a,i):n.dirtyFields:fe.keepDefaultValues&&X?wu(a,X):fe.keepDirty?n.dirtyFields:{},touchedFields:fe.keepTouched?n.touchedFields:{},errors:fe.keepErrors?n.errors:{},isSubmitSuccessful:fe.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},St=(X,fe)=>ze(Hr(X)?X(i):X,fe),at=(X,fe={})=>{const q=Ve(s,X),Se=q&&q._f;if(Se){const Re=Se.refs?Se.refs[0]:Se.ref;Re.focus&&(Re.focus(),fe.shouldSelect&&Hr(Re.select)&&Re.select())}},Me=X=>{n=z(z({},n),X)},ft={control:{register:He,unregister:Te,getFieldState:le,handleSubmit:Ge,setError:V,_subscribe:xe,_runSchema:A,_focusError:Pe,_getWatch:G,_getDirty:$,_setValid:w,_setFieldArray:S,_setDisabledField:Oe,_setErrors:D,_getFieldArray:W,_reset:ze,_resetDefaultValues:()=>Hr(t.defaultValues)&&t.defaultValues().then(X=>{St(X,t.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:K,_disableForm:rt,_subjects:b,_proxyFormState:p,get _fields(){return s},get _formValues(){return i},get _state(){return c},set _state(X){c=X},get _defaultValues(){return a},get _names(){return d},set _names(X){d=X},get _formState(){return n},get _options(){return t},set _options(X){t=z(z({},t),X)}},subscribe:me,trigger:ce,register:He,handleSubmit:Ge,watch:ne,setValue:H,getValues:L,reset:St,resetField:mt,clearErrors:re,unregister:Te,setError:V,setFocus:at,getFieldState:le};return oe(z({},ft),{formControl:ft})}function Qu(e={}){const t=se.useRef(void 0),n=se.useRef(void 0),[s,a]=se.useState({isDirty:!1,isValidating:!1,isLoading:Hr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Hr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=oe(z({},e.formControl),{formState:s}),e.defaultValues&&!Hr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const c=zB(e),{formControl:d}=c,f=ke(c,["formControl"]);t.current=oe(z({},f),{formState:s})}const i=t.current.control;return i._options=e,By(()=>{const d=i._subscribe({formState:i._proxyFormState,callback:()=>a(z({},i._formState)),reRenderRoot:!0});return a(f=>oe(z({},f),{isReady:!0})),i._formState.isReady=!0,d},[i]),se.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),se.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),se.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),se.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),se.useEffect(()=>{if(i._proxyFormState.isDirty){const d=i._getDirty();d!==s.isDirty&&i._subjects.state.next({isDirty:d})}},[i,s.isDirty]),se.useEffect(()=>{e.values&&!qa(e.values,n.current)?(i._reset(e.values,z({keepFieldsRef:!0},i._options.resetOptions)),n.current=e.values,a(d=>z({},d))):i._resetDefaultValues()},[i,e.values]),se.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next(z({},i._formState))),i._removeUnmounted()}),t.current.formState=nT(s,i),t.current}const UB=0,FB=1,BB=2;var _S=Object.prototype.hasOwnProperty;function mx(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&mx(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(_S.call(e,n)&&++s&&!_S.call(t,n)||!(n in t)||!mx(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const No=new WeakMap,Di=()=>{},jr=Di(),px=Object,ua=e=>e===jr,Eo=e=>typeof e=="function",_m=(e,t)=>z(z({},e),t),$B=e=>Eo(e.then),g0={},nh={},uT="undefined",Vy=typeof window!=uT,gx=typeof document!=uT,HB=Vy&&"Deno"in window,VB=(e,t)=>{const n=No.get(e);return[()=>!ua(t)&&e.get(t)||g0,s=>{if(!ua(t)){const a=e.get(t);t in nh||(nh[t]=a),n[5](t,_m(a,s),a||g0)}},n[6],()=>!ua(t)&&t in nh?nh[t]:!ua(t)&&e.get(t)||g0]};let xx=!0;const IB=()=>xx,[yx,bx]=Vy&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Di,Di],qB=()=>{const e=gx&&document.visibilityState;return ua(e)||e!=="hidden"},WB=e=>(gx&&document.addEventListener("visibilitychange",e),yx("focus",e),()=>{gx&&document.removeEventListener("visibilitychange",e),bx("focus",e)}),YB=e=>{const t=()=>{xx=!0,e()},n=()=>{xx=!1};return yx("online",t),yx("offline",n),()=>{bx("online",t),bx("offline",n)}},XB={isOnline:IB,isVisible:qB},GB={initFocus:WB,initReconnect:YB};se.useId;const dT=!Vy||HB,x0=typeof navigator!="undefined"&&navigator.connection,jS=!dT&&x0&&(["slow-2g","2g"].includes(x0.effectiveType)||x0.saveData),sh=new WeakMap,KB=e=>px.prototype.toString.call(e),y0=(e,t)=>e===`[object ${t}]`;let QB=0;const vx=e=>{const t=typeof e,n=KB(e),s=y0(n,"Date"),a=y0(n,"RegExp"),i=y0(n,"Object");let c,d;if(px(e)===e&&!s&&!a){if(c=sh.get(e),c)return c;if(c=++QB+"~",sh.set(e,c),Array.isArray(e)){for(c="@",d=0;d<e.length;d++)c+=vx(e[d])+",";sh.set(e,c)}if(i){c="#";const f=px.keys(e).sort();for(;!ua(d=f.pop());)ua(e[d])||(c+=d+":"+vx(e[d])+",");sh.set(e,c)}}else c=s?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return c},ZB=e=>{if(Eo(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?vx(e):"",[e,t]};let JB=0;const SS=()=>++JB;function e8(...e){return ve(this,null,function*(){const[t,n,s,a]=e,i=_m({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let c=i.populateCache;const d=i.rollbackOnError;let f=i.optimisticData;const h=b=>typeof d=="function"?d(b):d!==!1,p=i.throwOnError;if(Eo(n)){const b=n,y=[],_=t.keys();for(const w of _)!/^\$(inf|sub)\$/.test(w)&&b(t.get(w)._k)&&y.push(w);return Promise.all(y.map(g))}return g(n);function g(b){return ve(this,null,function*(){const[y]=ZB(b);if(!y)return;const[_,w]=VB(t,y),[N,S,R,D]=No.get(t),T=()=>{const ee=N[y];return(Eo(i.revalidate)?i.revalidate(_().data,b):i.revalidate!==!1)&&(delete R[y],delete D[y],ee&&ee[0])?ee[0](BB).then(()=>_().data):_().data};if(e.length<3)return T();let k=s,C,A=!1;const P=SS();S[y]=[P,0];const U=!ua(f),K=_(),$=K.data,G=K._c,W=ua(G)?$:G;if(U&&(f=Eo(f)?f(W,$):f,w({data:f,_c:W})),Eo(k))try{k=k(W)}catch(ee){C=ee,A=!0}if(k&&$B(k))if(k=yield k.catch(ee=>{C=ee,A=!0}),P!==S[y][0]){if(A)throw C;return k}else A&&U&&h(C)&&(c=!0,w({data:W,_c:jr}));if(c&&!A)if(Eo(c)){const ee=c(k,W);w({data:ee,error:jr,_c:jr})}else w({data:k,error:jr,_c:jr});if(S[y][1]=SS(),Promise.resolve(T()).then(()=>{w({_c:jr})}),A){if(p)throw C;return}return k})}})}const NS=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},t8=(e,t)=>{if(!No.has(e)){const n=_m(GB,t),s=Object.create(null),a=e8.bind(jr,e);let i=Di;const c=Object.create(null),d=(p,g)=>{const b=c[p]||[];return c[p]=b,b.push(g),()=>b.splice(b.indexOf(g),1)},f=(p,g,b)=>{e.set(p,g);const y=c[p];if(y)for(const _ of y)_(g,b)},h=()=>{if(!No.has(e)&&(No.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,f,d]),!dT)){const p=n.initFocus(setTimeout.bind(jr,NS.bind(jr,s,UB))),g=n.initReconnect(setTimeout.bind(jr,NS.bind(jr,s,FB)));i=()=>{p&&p(),g&&g(),No.delete(e)}}};return h(),[e,a,h,i]}return[e,No.get(e)[4]]},n8=(e,t,n,s,a)=>{const i=n.errorRetryCount,c=a.retryCount,d=~~((Math.random()+.5)*(1<<(c<8?c:8)))*n.errorRetryInterval;!ua(i)&&c>i||setTimeout(s,d,a)},s8=mx,[r8,Gl]=t8(new Map);_m({onLoadingSlow:Di,onSuccess:Di,onError:Di,onErrorRetry:n8,onDiscarded:Di,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:jS?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:jS?5e3:3e3,compare:s8,isPaused:()=>!1,cache:r8,mutate:Gl,fallback:{}},XB);j.createContext({});const ES=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,TS=V2,a8=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return TS(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,c=Object.keys(a).map(h=>{const p=n==null?void 0:n[h],g=i==null?void 0:i[h];if(p===null)return null;const b=ES(p)||ES(g);return a[h][b]}),d=n&&Object.entries(n).reduce((h,p)=>{let[g,b]=p;return b===void 0||(h[g]=b),h},{}),f=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((h,p)=>{let _=p,{class:g,className:b}=_,y=ke(_,["class","className"]);return Object.entries(y).every(w=>{let[N,S]=w;return Array.isArray(S)?S.includes(z(z({},i),d)[N]):z(z({},i),d)[N]===S})?[...h,g,b]:h},[]);return TS(e,c,f,n==null?void 0:n.class,n==null?void 0:n.className)},i8=a8("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ie(i){var c=i,{className:e,variant:t,size:n,asChild:s=!1}=c,a=ke(c,["className","variant","size","asChild"]);const d=s?s3:"button";return l.jsx(d,z({"data-slot":"button",className:jn(i8({variant:t,size:n,className:e}))},a))}function Ri(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}var o8="DismissableLayer",wx="dismissableLayer.update",l8="dismissableLayer.pointerDownOutside",c8="dismissableLayer.focusOutside",CS,fT=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hT=j.forwardRef((e,t)=>{var P;const A=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:c,onDismiss:d}=A,f=ke(A,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),h=j.useContext(fT),[p,g]=j.useState(null),b=(P=p==null?void 0:p.ownerDocument)!=null?P:globalThis==null?void 0:globalThis.document,[,y]=j.useState({}),_=kn(t,U=>g(U)),w=Array.from(h.layers),[N]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),S=w.indexOf(N),R=p?w.indexOf(p):-1,D=h.layersWithOutsidePointerEventsDisabled.size>0,T=R>=S,k=f8(U=>{const K=U.target,$=[...h.branches].some(G=>G.contains(K));!T||$||(a==null||a(U),c==null||c(U),U.defaultPrevented||d==null||d())},b),C=h8(U=>{const K=U.target;[...h.branches].some(G=>G.contains(K))||(i==null||i(U),c==null||c(U),U.defaultPrevented||d==null||d())},b);return ny(U=>{R===h.layers.size-1&&(s==null||s(U),!U.defaultPrevented&&d&&(U.preventDefault(),d()))},b),j.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(CS=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),kS(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=CS)}},[p,b,n,h]),j.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),kS())},[p,h]),j.useEffect(()=>{const U=()=>y({});return document.addEventListener(wx,U),()=>document.removeEventListener(wx,U)},[]),l.jsx(Ht.div,oe(z({},f),{ref:_,style:z({pointerEvents:D?T?"auto":"none":void 0},e.style),onFocusCapture:Ri(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Ri(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Ri(e.onPointerDownCapture,k.onPointerDownCapture)}))});hT.displayName=o8;var u8="DismissableLayerBranch",d8=j.forwardRef((e,t)=>{const n=j.useContext(fT),s=j.useRef(null),a=kn(t,s);return j.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(Ht.div,oe(z({},e),{ref:a}))});d8.displayName=u8;function f8(e,t=globalThis==null?void 0:globalThis.document){const n=ma(e),s=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=d=>{if(d.target&&!s.current){let f=function(){mT(l8,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function h8(e,t=globalThis==null?void 0:globalThis.document){const n=ma(e),s=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!s.current&&mT(c8,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function kS(){const e=new CustomEvent(wx);document.dispatchEvent(e)}function mT(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?ty(a,i):a.dispatchEvent(i)}function m8(e,t){return j.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var jm=e=>{const{present:t,children:n}=e,s=p8(t),a=typeof n=="function"?n({present:s.isPresent}):j.Children.only(n),i=kn(s.ref,g8(a));return typeof n=="function"||s.isPresent?j.cloneElement(a,{ref:i}):null};jm.displayName="Presence";function p8(e){const[t,n]=j.useState(),s=j.useRef(null),a=j.useRef(e),i=j.useRef("none"),c=e?"mounted":"unmounted",[d,f]=m8(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const h=rh(s.current);i.current=d==="mounted"?h:"none"},[d]),Tr(()=>{const h=s.current,p=a.current;if(p!==e){const b=i.current,y=rh(h);e?f("MOUNT"):y==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&b!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Tr(()=>{var h;if(t){let p;const g=(h=t.ownerDocument.defaultView)!=null?h:window,b=_=>{const N=rh(s.current).includes(_.animationName);if(_.target===t&&N&&(f("ANIMATION_END"),!a.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},y=_=>{_.target===t&&(i.current=rh(s.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:j.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function rh(e){return(e==null?void 0:e.animationName)||"none"}function g8(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var b0=0;function x8(){j.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:OS()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:OS()),b0++,()=>{b0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),b0--}},[])}function OS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Sm="Dialog",[pT,T7]=nd(Sm),[y8,Wr]=pT(Sm),gT=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:c=!0}=e,d=j.useRef(null),f=j.useRef(null),[h,p]=mm({prop:s,defaultProp:a!=null?a:!1,onChange:i,caller:Sm});return l.jsx(y8,{scope:t,triggerRef:d,contentRef:f,contentId:Ts(),titleId:Ts(),descriptionId:Ts(),open:h,onOpenChange:p,onOpenToggle:j.useCallback(()=>p(g=>!g),[p]),modal:c,children:n})};gT.displayName=Sm;var xT="DialogTrigger",b8=j.forwardRef((e,t)=>{const c=e,{__scopeDialog:n}=c,s=ke(c,["__scopeDialog"]),a=Wr(xT,n),i=kn(t,a.triggerRef);return l.jsx(Ht.button,oe(z({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Wy(a.open)},s),{ref:i,onClick:Ri(e.onClick,a.onOpenToggle)}))});b8.displayName=xT;var Iy="DialogPortal",[v8,yT]=pT(Iy,{forceMount:void 0}),bT=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=Wr(Iy,t);return l.jsx(v8,{scope:t,forceMount:n,children:j.Children.map(s,c=>l.jsx(jm,{present:n||i.open,children:l.jsx(ad,{asChild:!0,container:a,children:c})}))})};bT.displayName=Iy;var em="DialogOverlay",vT=j.forwardRef((e,t)=>{const n=yT(em,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=ke(c,["forceMount"]),i=Wr(em,e.__scopeDialog);return i.modal?l.jsx(jm,{present:s||i.open,children:l.jsx(_8,oe(z({},a),{ref:t}))}):null});vT.displayName=em;var w8=nc("DialogOverlay.RemoveScroll"),_8=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=Wr(em,n);return l.jsx(id,{as:w8,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(Ht.div,oe(z({"data-state":Wy(a.open)},s),{ref:t,style:z({pointerEvents:"auto"},s.style)}))})}),Uo="DialogContent",wT=j.forwardRef((e,t)=>{const n=yT(Uo,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=ke(c,["forceMount"]),i=Wr(Uo,e.__scopeDialog);return l.jsx(jm,{present:s||i.open,children:i.modal?l.jsx(j8,oe(z({},a),{ref:t})):l.jsx(S8,oe(z({},a),{ref:t}))})});wT.displayName=Uo;var j8=j.forwardRef((e,t)=>{const n=Wr(Uo,e.__scopeDialog),s=j.useRef(null),a=kn(t,n.contentRef,s);return j.useEffect(()=>{const i=s.current;if(i)return pm(i)},[]),l.jsx(_T,oe(z({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ri(e.onCloseAutoFocus,i=>{var c;i.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ri(e.onPointerDownOutside,i=>{const c=i.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&i.preventDefault()}),onFocusOutside:Ri(e.onFocusOutside,i=>i.preventDefault())}))}),S8=j.forwardRef((e,t)=>{const n=Wr(Uo,e.__scopeDialog),s=j.useRef(!1),a=j.useRef(!1);return l.jsx(_T,oe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,i),i.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),_T=j.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i}=p,c=ke(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Wr(Uo,n),f=j.useRef(null),h=kn(t,f);return x8(),l.jsxs(l.Fragment,{children:[l.jsx(sd,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:l.jsx(hT,oe(z({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Wy(d.open)},c),{ref:h,onDismiss:()=>d.onOpenChange(!1)}))}),l.jsxs(l.Fragment,{children:[l.jsx(E8,{titleId:d.titleId}),l.jsx(C8,{contentRef:f,descriptionId:d.descriptionId})]})]})}),qy="DialogTitle",jT=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=Wr(qy,n);return l.jsx(Ht.h2,oe(z({id:a.titleId},s),{ref:t}))});jT.displayName=qy;var ST="DialogDescription",NT=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=Wr(ST,n);return l.jsx(Ht.p,oe(z({id:a.descriptionId},s),{ref:t}))});NT.displayName=ST;var ET="DialogClose",N8=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=Wr(ET,n);return l.jsx(Ht.button,oe(z({type:"button"},s),{ref:t,onClick:Ri(e.onClick,()=>a.onOpenChange(!1))}))});N8.displayName=ET;function Wy(e){return e?"open":"closed"}var TT="DialogTitleWarning",[C7,CT]=ey(TT,{contentName:Uo,titleName:qy,docsSlug:"dialog"}),E8=({titleId:e})=>{const t=CT(TT),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},T8="DialogDescriptionWarning",C8=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${CT(T8).contentName}}.`;return j.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},k8=gT,O8=bT,D8=vT,A8=wT,R8=jT,M8=NT;function P8(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const kT=se.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),dd=()=>{const e=se.useContext(kT);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};P8(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function L8(){const e=navigator.userAgent;return typeof window!="undefined"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function z8(){return Yy(/^Mac/)}function U8(){return Yy(/^iPhone/)}function DS(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function F8(){return Yy(/^iPad/)||z8()&&navigator.maxTouchPoints>1}function OT(){return U8()||F8()}function Yy(e){return typeof window!="undefined"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const B8=24,$8=typeof window!="undefined"?j.useLayoutEffect:j.useEffect;function AS(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const v0=typeof document!="undefined"&&window.visualViewport;function RS(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function DT(e){for(RS(e)&&(e=e.parentElement);e&&!RS(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const H8=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ah=0,w0;function V8(e={}){let{isDisabled:t}=e;$8(()=>{if(!t)return ah++,ah===1&&OT()&&(w0=I8()),()=>{ah--,ah===0&&(w0==null||w0())}},[t])}function I8(){let e,t=0,n=g=>{e=DT(g.target),!(e===document.documentElement&&e===document.body)&&(t=g.changedTouches[0].pageY)},s=g=>{if(!e||e===document.documentElement||e===document.body){g.preventDefault();return}let b=g.changedTouches[0].pageY,y=e.scrollTop,_=e.scrollHeight-e.clientHeight;_!==0&&((y<=0&&b>t||y>=_&&b<t)&&g.preventDefault(),t=b)},a=g=>{let b=g.target;_x(b)&&b!==document.activeElement&&(g.preventDefault(),b.style.transform="translateY(-2000px)",b.focus(),requestAnimationFrame(()=>{b.style.transform=""}))},i=g=>{let b=g.target;_x(b)&&(b.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{b.style.transform="",v0&&(v0.height<window.innerHeight?requestAnimationFrame(()=>{MS(b)}):v0.addEventListener("resize",()=>MS(b),{once:!0}))}))},c=()=>{window.scrollTo(0,0)},d=window.pageXOffset,f=window.pageYOffset,h=AS(q8(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let p=AS(ju(document,"touchstart",n,{passive:!1,capture:!0}),ju(document,"touchmove",s,{passive:!1,capture:!0}),ju(document,"touchend",a,{passive:!1,capture:!0}),ju(document,"focus",i,!0),ju(window,"scroll",c));return()=>{h(),p(),window.scrollTo(d,f)}}function q8(e,t,n){let s=e.style[t];return e.style[t]=n,()=>{e.style[t]=s}}function ju(e,t,n,s){return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}function MS(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=DT(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let s=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom;const c=n.getBoundingClientRect().bottom+B8;i>c&&(n.scrollTop+=a-s)}e=n.parentElement}}function _x(e){return e instanceof HTMLInputElement&&!H8.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function W8(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Y8(...e){return t=>e.forEach(n=>W8(n,t))}function AT(...e){return j.useCallback(Y8(...e),e)}const RT=new WeakMap;function ns(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([a,i])=>{if(a.startsWith("--")){e.style.setProperty(a,i);return}s[a]=e.style[a],e.style[a]=i}),!n&&RT.set(e,s)}function X8(e,t){if(!e||!(e instanceof HTMLElement))return;let n=RT.get(e);n&&(e.style[t]=n[t])}const qn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function ih(e,t){if(!e)return null;const n=window.getComputedStyle(e),s=n.transform||n.webkitTransform||n.mozTransform;let a=s.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[qn(t)?13:12]):(a=s.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[qn(t)?5:4]):null)}function G8(e){return 8*(Math.log(e+1)-2)}function _0(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function K8(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Tn={DURATION:.5,EASE:[.32,.72,0,1]},MT=.4,Q8=.25,Z8=100,PT=8,wo=16,jx=26,j0="vaul-dragging";function LT(e){const t=se.useRef(e);return se.useEffect(()=>{t.current=e}),se.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function J8({defaultProp:e,onChange:t}){const n=se.useState(e),[s]=n,a=se.useRef(s),i=LT(t);return se.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),n}function zT({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,a]=J8({defaultProp:t,onChange:n}),i=e!==void 0,c=i?e:s,d=LT(n),f=se.useCallback(h=>{if(i){const g=typeof h=="function"?h(e):h;g!==e&&d(g)}else a(h)},[i,e,a,d]);return[c,f]}function e$({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:s,overlayRef:a,fadeFromIndex:i,onSnapPointChange:c,direction:d="bottom",container:f,snapToSequentialPoint:h}){const[p,g]=zT({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[b,y]=se.useState(typeof window!="undefined"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);se.useEffect(()=>{function A(){y({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const _=se.useMemo(()=>p===(n==null?void 0:n[n.length-1])||null,[n,p]),w=se.useMemo(()=>{var A;return(A=n==null?void 0:n.findIndex(P=>P===p))!=null?A:null},[n,p]),N=n&&n.length>0&&(i||i===0)&&!Number.isNaN(i)&&n[i]===p||!n,S=se.useMemo(()=>{const A=f?{width:f.getBoundingClientRect().width,height:f.getBoundingClientRect().height}:typeof window!="undefined"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var P;return(P=n==null?void 0:n.map(U=>{const K=typeof U=="string";let $=0;if(K&&($=parseInt(U,10)),qn(d)){const W=K?$:b?U*A.height:0;return b?d==="bottom"?A.height-W:-A.height+W:W}const G=K?$:b?U*A.width:0;return b?d==="right"?A.width-G:-A.width+G:G}))!=null?P:[]},[n,b,f]),R=se.useMemo(()=>w!==null?S==null?void 0:S[w]:null,[S,w]),D=se.useCallback(A=>{var P;const U=(P=S==null?void 0:S.findIndex(K=>K===A))!=null?P:null;c(U),ns(s.current,{transition:`transform ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,transform:qn(d)?`translate3d(0, ${A}px, 0)`:`translate3d(${A}px, 0, 0)`}),S&&U!==S.length-1&&i!==void 0&&U!==i&&U<i?ns(a.current,{transition:`opacity ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,opacity:"0"}):ns(a.current,{transition:`opacity ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,opacity:"1"}),g(n==null?void 0:n[Math.max(U,0)])},[s.current,n,S,i,a,g]);se.useEffect(()=>{if(p||e){var A;const P=(A=n==null?void 0:n.findIndex(U=>U===e||U===p))!=null?A:-1;S&&P!==-1&&typeof S[P]=="number"&&D(S[P])}},[p,e,n,S,D]);function T({draggedDistance:A,closeDrawer:P,velocity:U,dismissible:K}){if(i===void 0)return;const $=d==="bottom"||d==="right"?(R!=null?R:0)-A:(R!=null?R:0)+A,G=w===i-1,W=w===0,ee=A>0;if(G&&ns(a.current,{transition:`opacity ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`}),!h&&U>2&&!ee){K?P():D(S[0]);return}if(!h&&U>2&&ee&&S&&n){D(S[n.length-1]);return}const Y=S==null?void 0:S.reduce((J,te)=>typeof J!="number"||typeof te!="number"?J:Math.abs(te-$)<Math.abs(J-$)?te:J),H=qn(d)?window.innerHeight:window.innerWidth;if(U>MT&&Math.abs(A)<H*.4){const J=ee?1:-1;if(J>0&&_&&n){D(S[n.length-1]);return}if(W&&J<0&&K&&P(),w===null)return;D(S[w+J]);return}D(Y)}function k({draggedDistance:A}){if(R===null)return;const P=d==="bottom"||d==="right"?R-A:R+A;(d==="bottom"||d==="right")&&P<S[S.length-1]||(d==="top"||d==="left")&&P>S[S.length-1]||ns(s.current,{transform:qn(d)?`translate3d(0, ${P}px, 0)`:`translate3d(${P}px, 0, 0)`})}function C(A,P){if(!n||typeof w!="number"||!S||i===void 0)return null;const U=w===i-1;if(w>=i&&P)return 0;if(U&&!P)return 1;if(!N&&!U)return null;const $=U?w+1:w-1,G=U?S[$]-S[$-1]:S[$+1]-S[$],W=A/Math.abs(G);return U?1-W:W}return{isLastSnapPoint:_,activeSnapPoint:p,shouldFade:N,getPercentageDragged:C,setActiveSnapPoint:g,activeSnapPointIndex:w,onRelease:T,onDrag:k,snapPointsOffset:S}}const t$=()=>()=>{};function n$(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:a}=dd(),i=se.useRef(null),c=j.useMemo(()=>document.body.style.backgroundColor,[]);function d(){return(window.innerWidth-jx)/window.innerWidth}se.useEffect(()=>{if(t&&n){i.current&&clearTimeout(i.current);const f=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!f)return;K8(s&&!a?_0(document.body,{background:"black"}):t$,_0(f,{transformOrigin:qn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Tn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Tn.EASE.join(",")})`}));const h=_0(f,z({borderRadius:`${PT}px`,overflow:"hidden"},qn(e)?{transform:`scale(${d()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${d()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}));return()=>{h(),i.current=window.setTimeout(()=>{c?document.body.style.background=c:document.body.style.removeProperty("background")},Tn.DURATION*1e3)}}},[t,n,c])}let Su=null;function s$({isOpen:e,modal:t,nested:n,hasBeenOpened:s,preventScrollRestoration:a,noBodyStyles:i}){const[c,d]=se.useState(()=>typeof window!="undefined"?window.location.href:""),f=se.useRef(0),h=se.useCallback(()=>{if(DS()&&Su===null&&e&&!i){Su={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:g,innerHeight:b}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-f.current}px`,left:`${-g}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const y=b-window.innerHeight;y&&f.current>=b&&(document.body.style.top=`${-(f.current+y)}px`)}),300)}},[e]),p=se.useCallback(()=>{if(DS()&&Su!==null&&!i){const g=-parseInt(document.body.style.top,10),b=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Su),window.requestAnimationFrame(()=>{if(a&&c!==window.location.href){d(window.location.href);return}window.scrollTo(b,g)}),Su=null}},[c]);return se.useEffect(()=>{function g(){f.current=window.scrollY}return g(),window.addEventListener("scroll",g),()=>{window.removeEventListener("scroll",g)}},[]),se.useEffect(()=>{if(t)return()=>{typeof document=="undefined"||document.querySelector("[data-vaul-drawer]")||p()}},[t,p]),se.useEffect(()=>{n||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&h(),t||window.setTimeout(()=>{p()},500)):p())},[e,s,c,t,n,h,p]),{restorePositionSetting:p}}function r$({open:e,onOpenChange:t,children:n,onDrag:s,onRelease:a,snapPoints:i,shouldScaleBackground:c=!1,setBackgroundColorOnScale:d=!0,closeThreshold:f=Q8,scrollLockTimeout:h=Z8,dismissible:p=!0,handleOnly:g=!1,fadeFromIndex:b=i&&i.length-1,activeSnapPoint:y,setActiveSnapPoint:_,fixed:w,modal:N=!0,onClose:S,nested:R,noBodyStyles:D=!1,direction:T="bottom",defaultOpen:k=!1,disablePreventScroll:C=!0,snapToSequentialPoint:A=!1,preventScrollRestoration:P=!1,repositionInputs:U=!0,onAnimationEnd:K,container:$,autoFocus:G=!1}){var W,ee;const[Y=!1,H]=zT({defaultProp:k,prop:e,onChange:Ye=>{t==null||t(Ye),!Ye&&!R&&qe(),setTimeout(()=>{K==null||K(Ye)},Tn.DURATION*1e3),Ye&&!N&&typeof window!="undefined"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Ye||(document.body.style.pointerEvents="auto")}}),[J,te]=se.useState(!1),[ce,L]=se.useState(!1),[le,re]=se.useState(!1),V=se.useRef(null),ne=se.useRef(null),xe=se.useRef(null),me=se.useRef(null),Te=se.useRef(null),Oe=se.useRef(!1),He=se.useRef(null),Pe=se.useRef(0),rt=se.useRef(!1),Ge=se.useRef(!k),mt=se.useRef(0),ze=se.useRef(null),St=se.useRef(((W=ze.current)==null?void 0:W.getBoundingClientRect().height)||0),at=se.useRef(((ee=ze.current)==null?void 0:ee.getBoundingClientRect().width)||0),Me=se.useRef(0),st=se.useCallback(Ye=>{i&&Ye===Se.length-1&&(ne.current=new Date)},[]),{activeSnapPoint:ft,activeSnapPointIndex:X,setActiveSnapPoint:fe,onRelease:q,snapPointsOffset:Se,onDrag:Re,shouldFade:Ae,getPercentageDragged:Be}=e$({snapPoints:i,activeSnapPointProp:y,setActiveSnapPointProp:_,drawerRef:ze,fadeFromIndex:b,overlayRef:V,onSnapPointChange:st,direction:T,container:$,snapToSequentialPoint:A});V8({isDisabled:!Y||ce||!N||le||!J||!U||!C});const{restorePositionSetting:qe}=s$({isOpen:Y,modal:N,nested:R!=null?R:!1,hasBeenOpened:J,preventScrollRestoration:P,noBodyStyles:D});function et(){return(window.innerWidth-jx)/window.innerWidth}function wt(Ye){var Rt,Ut;!p&&!i||ze.current&&!ze.current.contains(Ye.target)||(St.current=((Rt=ze.current)==null?void 0:Rt.getBoundingClientRect().height)||0,at.current=((Ut=ze.current)==null?void 0:Ut.getBoundingClientRect().width)||0,L(!0),xe.current=new Date,OT()&&window.addEventListener("touchend",()=>Oe.current=!1,{once:!0}),Ye.target.setPointerCapture(Ye.pointerId),Pe.current=qn(T)?Ye.pageY:Ye.pageX)}function Sn(Ye,Rt){var Ut;let Nt=Ye;const Qt=(Ut=window.getSelection())==null?void 0:Ut.toString(),Xe=ze.current?ih(ze.current,T):null,_t=new Date;if(Nt.tagName==="SELECT"||Nt.hasAttribute("data-vaul-no-drag")||Nt.closest("[data-vaul-no-drag]"))return!1;if(T==="right"||T==="left")return!0;if(ne.current&&_t.getTime()-ne.current.getTime()<500)return!1;if(Xe!==null&&(T==="bottom"?Xe>0:Xe<0))return!0;if(Qt&&Qt.length>0)return!1;if(Te.current&&_t.getTime()-Te.current.getTime()<h&&Xe===0||Rt)return Te.current=_t,!1;for(;Nt;){if(Nt.scrollHeight>Nt.clientHeight){if(Nt.scrollTop!==0)return Te.current=new Date,!1;if(Nt.getAttribute("role")==="dialog")return!0}Nt=Nt.parentNode}return!0}function Jt(Ye){if(ze.current&&ce){const Rt=T==="bottom"||T==="right"?1:-1,Ut=(Pe.current-(qn(T)?Ye.pageY:Ye.pageX))*Rt,Nt=Ut>0,Qt=i&&!p&&!Nt;if(Qt&&X===0)return;const Xe=Math.abs(Ut),_t=document.querySelector("[data-vaul-drawer-wrapper]"),Vt=T==="bottom"||T==="top"?St.current:at.current;let Wt=Xe/Vt;const Z=Be(Xe,Nt);if(Z!==null&&(Wt=Z),Qt&&Wt>=1||!Oe.current&&!Sn(Ye.target,Nt))return;if(ze.current.classList.add(j0),Oe.current=!0,ns(ze.current,{transition:"none"}),ns(V.current,{transition:"none"}),i&&Re({draggedDistance:Ut}),Nt&&!i){const pe=G8(Ut),je=Math.min(pe*-1,0)*Rt;ns(ze.current,{transform:qn(T)?`translate3d(0, ${je}px, 0)`:`translate3d(${je}px, 0, 0)`});return}const ie=1-Wt;if((Ae||b&&X===b-1)&&(s==null||s(Ye,Wt),ns(V.current,{opacity:`${ie}`,transition:"none"},!0)),_t&&V.current&&c){const pe=Math.min(et()+Wt*(1-et()),1),je=8-Wt*8,De=Math.max(0,14-Wt*14);ns(_t,{borderRadius:`${je}px`,transform:qn(T)?`scale(${pe}) translate3d(0, ${De}px, 0)`:`scale(${pe}) translate3d(${De}px, 0, 0)`,transition:"none"},!0)}if(!i){const pe=Xe*Rt;ns(ze.current,{transform:qn(T)?`translate3d(0, ${pe}px, 0)`:`translate3d(${pe}px, 0, 0)`})}}}se.useEffect(()=>{window.requestAnimationFrame(()=>{Ge.current=!0})},[]),se.useEffect(()=>{var Ye;function Rt(){if(!ze.current||!U)return;const Ut=document.activeElement;if(_x(Ut)||rt.current){var Nt;const Qt=((Nt=window.visualViewport)==null?void 0:Nt.height)||0,Xe=window.innerHeight;let _t=Xe-Qt;const Vt=ze.current.getBoundingClientRect().height||0,Wt=Vt>Xe*.8;Me.current||(Me.current=Vt);const Z=ze.current.getBoundingClientRect().top;if(Math.abs(mt.current-_t)>60&&(rt.current=!rt.current),i&&i.length>0&&Se&&X){const ie=Se[X]||0;_t+=ie}if(mt.current=_t,Vt>Qt||rt.current){const ie=ze.current.getBoundingClientRect().height;let pe=ie;ie>Qt&&(pe=Qt-(Wt?Z:jx)),w?ze.current.style.height=`${ie-Math.max(_t,0)}px`:ze.current.style.height=`${Math.max(pe,Qt-Z)}px`}else L8()||(ze.current.style.height=`${Me.current}px`);i&&i.length>0&&!rt.current?ze.current.style.bottom="0px":ze.current.style.bottom=`${Math.max(_t,0)}px`}}return(Ye=window.visualViewport)==null||Ye.addEventListener("resize",Rt),()=>{var Ut;return(Ut=window.visualViewport)==null?void 0:Ut.removeEventListener("resize",Rt)}},[X,i,Se]);function dn(Ye){Xn(),S==null||S(),Ye||H(!1),setTimeout(()=>{i&&fe(i[0])},Tn.DURATION*1e3)}function vn(){if(!ze.current)return;const Ye=document.querySelector("[data-vaul-drawer-wrapper]"),Rt=ih(ze.current,T);ns(ze.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`}),ns(V.current,{transition:`opacity ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,opacity:"1"}),c&&Rt&&Rt>0&&Y&&ns(Ye,oe(z({borderRadius:`${PT}px`,overflow:"hidden"},qn(T)?{transform:`scale(${et()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${et()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"}),{transitionProperty:"transform, border-radius",transitionDuration:`${Tn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Tn.EASE.join(",")})`}),!0)}function Xn(){!ce||!ze.current||(ze.current.classList.remove(j0),Oe.current=!1,L(!1),me.current=new Date)}function Gn(Ye){if(!ce||!ze.current)return;ze.current.classList.remove(j0),Oe.current=!1,L(!1),me.current=new Date;const Rt=ih(ze.current,T);if(!Ye||!Sn(Ye.target,!1)||!Rt||Number.isNaN(Rt)||xe.current===null)return;const Ut=me.current.getTime()-xe.current.getTime(),Nt=Pe.current-(qn(T)?Ye.pageY:Ye.pageX),Qt=Math.abs(Nt)/Ut;if(Qt>.05&&(re(!0),setTimeout(()=>{re(!1)},200)),i){q({draggedDistance:Nt*(T==="bottom"||T==="right"?1:-1),closeDrawer:dn,velocity:Qt,dismissible:p}),a==null||a(Ye,!0);return}if(T==="bottom"||T==="right"?Nt>0:Nt<0){vn(),a==null||a(Ye,!0);return}if(Qt>MT){dn(),a==null||a(Ye,!1);return}var Xe;const _t=Math.min((Xe=ze.current.getBoundingClientRect().height)!=null?Xe:0,window.innerHeight);var Vt;const Wt=Math.min((Vt=ze.current.getBoundingClientRect().width)!=null?Vt:0,window.innerWidth),Z=T==="left"||T==="right";if(Math.abs(Rt)>=(Z?Wt:_t)*f){dn(),a==null||a(Ye,!1);return}a==null||a(Ye,!0),vn()}se.useEffect(()=>(Y&&(ns(document.documentElement,{scrollBehavior:"auto"}),ne.current=new Date),()=>{X8(document.documentElement,"scrollBehavior")}),[Y]);function cs(Ye){const Rt=Ye?(window.innerWidth-wo)/window.innerWidth:1,Ut=Ye?-wo:0;He.current&&window.clearTimeout(He.current),ns(ze.current,{transition:`transform ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,transform:qn(T)?`scale(${Rt}) translate3d(0, ${Ut}px, 0)`:`scale(${Rt}) translate3d(${Ut}px, 0, 0)`}),!Ye&&ze.current&&(He.current=setTimeout(()=>{const Nt=ih(ze.current,T);ns(ze.current,{transition:"none",transform:qn(T)?`translate3d(0, ${Nt}px, 0)`:`translate3d(${Nt}px, 0, 0)`})},500))}function Kn(Ye,Rt){if(Rt<0)return;const Ut=(window.innerWidth-wo)/window.innerWidth,Nt=Ut+Rt*(1-Ut),Qt=-wo+Rt*wo;ns(ze.current,{transform:qn(T)?`scale(${Nt}) translate3d(0, ${Qt}px, 0)`:`scale(${Nt}) translate3d(${Qt}px, 0, 0)`,transition:"none"})}function Cs(Ye,Rt){const Ut=qn(T)?window.innerHeight:window.innerWidth,Nt=Rt?(Ut-wo)/Ut:1,Qt=Rt?-wo:0;Rt&&ns(ze.current,{transition:`transform ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,transform:qn(T)?`scale(${Nt}) translate3d(0, ${Qt}px, 0)`:`scale(${Nt}) translate3d(${Qt}px, 0, 0)`})}return se.useEffect(()=>{N||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[N]),se.createElement(k8,{defaultOpen:k,onOpenChange:Ye=>{!p&&!Ye||(Ye?te(!0):dn(!0),H(Ye))},open:Y},se.createElement(kT.Provider,{value:{activeSnapPoint:ft,snapPoints:i,setActiveSnapPoint:fe,drawerRef:ze,overlayRef:V,onOpenChange:t,onPress:wt,onRelease:Gn,onDrag:Jt,dismissible:p,shouldAnimate:Ge,handleOnly:g,isOpen:Y,isDragging:ce,shouldFade:Ae,closeDrawer:dn,onNestedDrag:Kn,onNestedOpenChange:cs,onNestedRelease:Cs,keyboardIsOpen:rt,modal:N,snapPointsOffset:Se,activeSnapPointIndex:X,direction:T,shouldScaleBackground:c,setBackgroundColorOnScale:d,noBodyStyles:D,container:$,autoFocus:G}},n))}const UT=se.forwardRef(function(n,t){var e=ke(n,[]);const{overlayRef:s,snapPoints:a,onRelease:i,shouldFade:c,isOpen:d,modal:f,shouldAnimate:h}=dd(),p=AT(t,s),g=a&&a.length>0;if(!f)return null;const b=se.useCallback(y=>i(y),[i]);return se.createElement(D8,z({onMouseUp:b,ref:p,"data-vaul-overlay":"","data-vaul-snap-points":d&&g?"true":"false","data-vaul-snap-points-overlay":d&&c?"true":"false","data-vaul-animate":h!=null&&h.current?"true":"false"},e))});UT.displayName="Drawer.Overlay";const FT=se.forwardRef(function(i,a){var c=i,{onPointerDownOutside:e,style:t,onOpenAutoFocus:n}=c,s=ke(c,["onPointerDownOutside","style","onOpenAutoFocus"]);const{drawerRef:d,onPress:f,onRelease:h,onDrag:p,keyboardIsOpen:g,snapPointsOffset:b,activeSnapPointIndex:y,modal:_,isOpen:w,direction:N,snapPoints:S,container:R,handleOnly:D,shouldAnimate:T,autoFocus:k}=dd(),[C,A]=se.useState(!1),P=AT(a,d),U=se.useRef(null),K=se.useRef(null),$=se.useRef(!1),G=S&&S.length>0;n$();const W=(Y,H,J=0)=>{if($.current)return!0;const te=Math.abs(Y.y),ce=Math.abs(Y.x),L=ce>te,le=["bottom","right"].includes(H)?1:-1;if(H==="left"||H==="right"){if(!(Y.x*le<0)&&ce>=0&&ce<=J)return L}else if(!(Y.y*le<0)&&te>=0&&te<=J)return!L;return $.current=!0,!0};se.useEffect(()=>{G&&window.requestAnimationFrame(()=>{A(!0)})},[]);function ee(Y){U.current=null,$.current=!1,h(Y)}return se.createElement(A8,oe(z({"data-vaul-drawer-direction":N,"data-vaul-drawer":"","data-vaul-delayed-snap-points":C?"true":"false","data-vaul-snap-points":w&&G?"true":"false","data-vaul-custom-container":R?"true":"false","data-vaul-animate":T!=null&&T.current?"true":"false"},s),{ref:P,style:b&&b.length>0?z({"--snap-point-height":`${b[y!=null?y:0]}px`},t):t,onPointerDown:Y=>{D||(s.onPointerDown==null||s.onPointerDown.call(s,Y),U.current={x:Y.pageX,y:Y.pageY},f(Y))},onOpenAutoFocus:Y=>{n==null||n(Y),k||Y.preventDefault()},onPointerDownOutside:Y=>{if(e==null||e(Y),!_||Y.defaultPrevented){Y.preventDefault();return}g.current&&(g.current=!1)},onFocusOutside:Y=>{if(!_){Y.preventDefault();return}},onPointerMove:Y=>{if(K.current=Y,D||(s.onPointerMove==null||s.onPointerMove.call(s,Y),!U.current))return;const H=Y.pageY-U.current.y,J=Y.pageX-U.current.x,te=Y.pointerType==="touch"?10:2;W({x:J,y:H},N,te)?p(Y):(Math.abs(J)>te||Math.abs(H)>te)&&(U.current=null)},onPointerUp:Y=>{s.onPointerUp==null||s.onPointerUp.call(s,Y),U.current=null,$.current=!1,h(Y)},onPointerOut:Y=>{s.onPointerOut==null||s.onPointerOut.call(s,Y),ee(K.current)},onContextMenu:Y=>{s.onContextMenu==null||s.onContextMenu.call(s,Y),K.current&&ee(K.current)}}))});FT.displayName="Drawer.Content";const a$=250,i$=120,o$=se.forwardRef(function(a,s){var i=a,{preventCycle:e=!1,children:t}=i,n=ke(i,["preventCycle","children"]);const{closeDrawer:c,isDragging:d,snapPoints:f,activeSnapPoint:h,setActiveSnapPoint:p,dismissible:g,handleOnly:b,isOpen:y,onPress:_,onDrag:w}=dd(),N=se.useRef(null),S=se.useRef(!1);function R(){if(S.current){k();return}window.setTimeout(()=>{D()},i$)}function D(){if(d||e||S.current){k();return}if(k(),!f||f.length===0){g||c();return}if(h===f[f.length-1]&&g){c();return}const A=f.findIndex(U=>U===h);if(A===-1)return;const P=f[A+1];p(P)}function T(){N.current=window.setTimeout(()=>{S.current=!0},a$)}function k(){N.current&&window.clearTimeout(N.current),S.current=!1}return se.createElement("div",z({onClick:R,onPointerCancel:k,onPointerDown:C=>{b&&_(C),T()},onPointerMove:C=>{b&&w(C)},ref:s,"data-vaul-drawer-visible":y?"true":"false","data-vaul-handle":"","aria-hidden":"true"},n),se.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});o$.displayName="Drawer.Handle";function l$(e){const t=dd(),a=e,{container:n=t.container}=a,s=ke(a,["container"]);return se.createElement(O8,z({container:n},s))}const dc={Root:r$,Content:FT,Overlay:UT,Portal:l$,Title:R8,Description:M8};function c$(t){var e=ke(t,[]);return l.jsx(dc.Root,z({"data-slot":"drawer"},e))}function u$(t){var e=ke(t,[]);return l.jsx(dc.Portal,z({"data-slot":"drawer-portal"},e))}function d$(n){var s=n,{className:e}=s,t=ke(s,["className"]);return l.jsx(dc.Overlay,z({"data-slot":"drawer-overlay",className:jn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function f$(s){var a=s,{className:e,children:t}=a,n=ke(a,["className","children"]);return l.jsxs(u$,{"data-slot":"drawer-portal",children:[l.jsx(d$,{}),l.jsxs(dc.Content,oe(z({"data-slot":"drawer-content",className:jn("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-2/3 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e)},n),{children:[l.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]}))]})}function h$(n){var s=n,{className:e}=s,t=ke(s,["className"]);return l.jsx("div",z({"data-slot":"drawer-header",className:jn("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",e)},t))}function m$(n){var s=n,{className:e}=s,t=ke(s,["className"]);return l.jsx("div",z({"data-slot":"drawer-footer",className:jn("mt-auto flex flex-col gap-2 p-4",e)},t))}function p$(n){var s=n,{className:e}=s,t=ke(s,["className"]);return l.jsx(dc.Title,z({"data-slot":"drawer-title",className:jn("text-foreground font-semibold",e)},t))}function g$(n){var s=n,{className:e}=s,t=ke(s,["className"]);return l.jsx(dc.Description,z({"data-slot":"drawer-description",className:jn("text-muted-foreground text-sm",e)},t))}var Nm="Dialog",[BT,k7]=nd(Nm),[x$,Yr]=BT(Nm),$T=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:c=!0}=e,d=j.useRef(null),f=j.useRef(null),[h,p]=mm({prop:s,defaultProp:a!=null?a:!1,onChange:i,caller:Nm});return l.jsx(x$,{scope:t,triggerRef:d,contentRef:f,contentId:Ts(),titleId:Ts(),descriptionId:Ts(),open:h,onOpenChange:p,onOpenToggle:j.useCallback(()=>p(g=>!g),[p]),modal:c,children:n})};$T.displayName=Nm;var HT="DialogTrigger",VT=j.forwardRef((e,t)=>{const c=e,{__scopeDialog:n}=c,s=ke(c,["__scopeDialog"]),a=Yr(HT,n),i=kn(t,a.triggerRef);return l.jsx(Ht.button,oe(z({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Ky(a.open)},s),{ref:i,onClick:rr(e.onClick,a.onOpenToggle)}))});VT.displayName=HT;var Xy="DialogPortal",[y$,IT]=BT(Xy,{forceMount:void 0}),qT=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=Yr(Xy,t);return l.jsx(y$,{scope:t,forceMount:n,children:j.Children.map(s,c=>l.jsx(ac,{present:n||i.open,children:l.jsx(ad,{asChild:!0,container:a,children:c})}))})};qT.displayName=Xy;var tm="DialogOverlay",WT=j.forwardRef((e,t)=>{const n=IT(tm,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=ke(c,["forceMount"]),i=Yr(tm,e.__scopeDialog);return i.modal?l.jsx(ac,{present:s||i.open,children:l.jsx(v$,oe(z({},a),{ref:t}))}):null});WT.displayName=tm;var b$=nc("DialogOverlay.RemoveScroll"),v$=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=Yr(tm,n);return l.jsx(id,{as:b$,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(Ht.div,oe(z({"data-state":Ky(a.open)},s),{ref:t,style:z({pointerEvents:"auto"},s.style)}))})}),Fo="DialogContent",YT=j.forwardRef((e,t)=>{const n=IT(Fo,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=ke(c,["forceMount"]),i=Yr(Fo,e.__scopeDialog);return l.jsx(ac,{present:s||i.open,children:i.modal?l.jsx(w$,oe(z({},a),{ref:t})):l.jsx(_$,oe(z({},a),{ref:t}))})});YT.displayName=Fo;var w$=j.forwardRef((e,t)=>{const n=Yr(Fo,e.__scopeDialog),s=j.useRef(null),a=kn(t,n.contentRef,s);return j.useEffect(()=>{const i=s.current;if(i)return pm(i)},[]),l.jsx(XT,oe(z({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rr(e.onCloseAutoFocus,i=>{var c;i.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:rr(e.onPointerDownOutside,i=>{const c=i.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&i.preventDefault()}),onFocusOutside:rr(e.onFocusOutside,i=>i.preventDefault())}))}),_$=j.forwardRef((e,t)=>{const n=Yr(Fo,e.__scopeDialog),s=j.useRef(!1),a=j.useRef(!1);return l.jsx(XT,oe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,i),i.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),XT=j.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i}=p,c=ke(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Yr(Fo,n),f=j.useRef(null),h=kn(t,f);return JN(),l.jsxs(l.Fragment,{children:[l.jsx(sd,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:l.jsx(sy,oe(z({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Ky(d.open)},c),{ref:h,onDismiss:()=>d.onOpenChange(!1)}))}),l.jsxs(l.Fragment,{children:[l.jsx(j$,{titleId:d.titleId}),l.jsx(N$,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Gy="DialogTitle",GT=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=Yr(Gy,n);return l.jsx(Ht.h2,oe(z({id:a.titleId},s),{ref:t}))});GT.displayName=Gy;var KT="DialogDescription",QT=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=Yr(KT,n);return l.jsx(Ht.p,oe(z({id:a.descriptionId},s),{ref:t}))});QT.displayName=KT;var ZT="DialogClose",JT=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=Yr(ZT,n);return l.jsx(Ht.button,oe(z({type:"button"},s),{ref:t,onClick:rr(e.onClick,()=>a.onOpenChange(!1))}))});JT.displayName=ZT;function Ky(e){return e?"open":"closed"}var eC="DialogTitleWarning",[O7,tC]=ey(eC,{contentName:Fo,titleName:Gy,docsSlug:"dialog"}),j$=({titleId:e})=>{const t=tC(eC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},S$="DialogDescriptionWarning",N$=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tC(S$).contentName}}.`;return j.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},E$=$T,T$=VT,C$=qT,k$=WT,O$=YT,D$=GT,A$=QT,nC=JT;function gs(t){var e=ke(t,[]);return l.jsx(E$,z({"data-slot":"dialog"},e))}function R$(t){var e=ke(t,[]);return l.jsx(T$,z({"data-slot":"dialog-trigger"},e))}function M$(t){var e=ke(t,[]);return l.jsx(C$,z({"data-slot":"dialog-portal"},e))}function P$(t){var e=ke(t,[]);return l.jsx(nC,z({"data-slot":"dialog-close"},e))}function L$(n){var s=n,{className:e}=s,t=ke(s,["className"]);return l.jsx(k$,z({"data-slot":"dialog-overlay",className:jn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",e)},t))}function xs(a){var i=a,{className:e,children:t,showCloseButton:n=!0}=i,s=ke(i,["className","children","showCloseButton"]);return l.jsxs(M$,{"data-slot":"dialog-portal",children:[l.jsx(L$,{}),l.jsxs(O$,oe(z({"data-slot":"dialog-content",className:jn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e)},s),{children:[t,n&&l.jsxs(nC,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(e3,{}),l.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}function ys(n){var s=n,{className:e}=s,t=ke(s,["className"]);return l.jsx("div",z({"data-slot":"dialog-header",className:jn("flex flex-col gap-2 text-center sm:text-left",e)},t))}function As(n){var s=n,{className:e}=s,t=ke(s,["className"]);return l.jsx("div",z({"data-slot":"dialog-footer",className:jn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e)},t))}function bs(n){var s=n,{className:e}=s,t=ke(s,["className"]);return l.jsx(D$,z({"data-slot":"dialog-title",className:jn("text-lg leading-none font-semibold",e)},t))}function fd(n){var s=n,{className:e}=s,t=ke(s,["className"]);return l.jsx(A$,z({"data-slot":"dialog-description",className:jn("text-muted-foreground text-sm",e)},t))}function zt(s){var a=s,{className:e,type:t}=a,n=ke(a,["className","type"]);return l.jsx("input",z({type:t,"data-slot":"input",className:jn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e)},n))}var z$="Label",sC=j.forwardRef((e,t)=>l.jsx(Ht.label,oe(z({},e),{ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}})));sC.displayName=z$;var U$=sC;function Le(n){var s=n,{className:e}=s,t=ke(s,["className"]);return l.jsx(U$,z({"data-slot":"label",className:jn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e)},t))}function Em({doctype:e,docname:t,title:n="File Attachments",allowUpload:s=!0,allowDelete:a=!0,className:i=""}){const[c,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(null),[b,y]=j.useState(!1),[_,w]=j.useState(""),[N,S]=j.useState(""),[R,D]=j.useState(!1),T=j.useRef(null),{currentUser:k}=ir(),{data:C,mutate:A,isLoading:P}=Dt("File",{fields:["name","file_name","file_url","file_size","is_private","attached_to_doctype","attached_to_name","creation","owner","modified"],filters:[["attached_to_doctype","=",e],["attached_to_name","=",t]],orderBy:{field:"creation",order:"desc"},limit:0}),{call:U}=ms("frappe.client.delete"),K=L=>{var re;if(te(L))return l.jsx(Af,{className:"h-6 w-6 text-blue-500"});switch((re=L.file_name.split(".").pop())==null?void 0:re.toLowerCase()){case"pdf":return l.jsx(Hl,{className:"h-6 w-6 text-red-500"});case"doc":case"docx":return l.jsx(Hl,{className:"h-6 w-6 text-blue-500"});case"xls":case"xlsx":return l.jsx(Hl,{className:"h-6 w-6 text-green-500"});case"ppt":case"pptx":return l.jsx(Hl,{className:"h-6 w-6 text-orange-500"});case"jpg":case"jpeg":case"png":case"gif":case"webp":return l.jsx(xP,{className:"h-6 w-6 text-purple-500"});case"zip":case"rar":case"7z":return l.jsx(MM,{className:"h-6 w-6 text-gray-500"});default:return l.jsx(Df,{className:"h-6 w-6 text-gray-500"})}},$=L=>{if(L===0)return"0 Bytes";const le=1024,re=["Bytes","KB","MB","GB"],V=Math.floor(Math.log(L)/Math.log(le));return parseFloat((L/Math.pow(le,V)).toFixed(2))+" "+re[V]},G=L=>ve(null,null,function*(){var xe;if(!L||L.length===0)return;const le=25*1024*1024,re=Array.from(L).filter(me=>me.size>le);if(re.length>0){const me=re.map(Te=>Te.name).join(", ");setTimeout(()=>{vr.error(`File(s) too large: ${me}. Maximum size is 25MB per file.`)},100);return}d(!0);let V=0,ne=0;try{for(let me=0;me<L.length;me++){const Te=L[me],Oe=new FormData;Oe.append("file",Te),Oe.append("doctype",e),Oe.append("docname",t),Oe.append("is_private","0");try{const He=yield fetch("/api/method/upload_file",{method:"POST",body:Oe,credentials:"include"});if(!He.ok){const rt=yield He.text();throw rt.includes("too large")||rt.includes("size")||He.status===413?new Error(`File "${Te.name}" is too large. Maximum size is 25MB.`):new Error(`Upload failed for "${Te.name}": ${He.statusText}`)}let Pe;try{Pe=yield He.json()}catch(rt){console.log("Response is not JSON, assuming success")}if((xe=Pe==null?void 0:Pe.message)!=null&&xe.error)throw new Error(`Upload failed for "${Te.name}": ${Pe.message.error}`);V++}catch(He){console.error(`Error uploading file ${Te.name}:`,He);const Pe=He instanceof Error?He.message:String(He);(Pe.includes("too large")||Pe.includes("25MB"))&&Te.size>le&&setTimeout(()=>{vr.error(Pe)},100),ne++}}setTimeout(()=>ve(null,null,function*(){yield A()}),500)}catch(me){}finally{d(!1)}}),W=L=>ve(null,null,function*(){if(confirm(`Are you sure you want to delete "${L.file_name}"?`))try{yield U({doctype:"File",name:L.name}),yield A()}catch(le){console.error("Error deleting file:",le),vr.error("Failed to delete file")}}),ee=()=>ve(null,null,function*(){if(!_.trim()){vr.error("Please enter a URL");return}try{new URL(_)}catch(L){vr.error("Please enter a valid URL");return}D(!0);try{if(!(yield fetch("/api/method/frappe.client.insert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doc:{doctype:"File",file_name:N.trim()||_,file_url:_,attached_to_doctype:e,attached_to_name:t,is_private:0}}),credentials:"include"})).ok)throw new Error("Failed to attach link");w(""),S(""),y(!1),yield A(),vr.success("Link attached successfully")}catch(L){console.error("Error attaching link:",L),vr.error("Failed to attach link")}finally{D(!1)}}),Y=L=>ve(null,null,function*(){const le=L.target.files;le&&le.length>0&&(yield G(le)),L.target.value=""}),H=L=>{g(L),h(!0)},J=L=>{var re;const le=(re=L.split(".").pop())==null?void 0:re.toLowerCase();return["jpg","jpeg","png","gif","webp","svg"].includes(le||"")},te=L=>{const le=L.file_url.startsWith("http://")||L.file_url.startsWith("https://"),re=L.file_size===0,V=L.file_name.startsWith("http://")||L.file_name.startsWith("https://"),ne=!L.file_name.includes(".")||L.file_name.split(".").length<2;return le&&(re||V||ne)},ce=L=>a&&(L.owner===k||k==="Administrator");return l.jsxs("div",{className:`bg-white border border-gray-200 rounded-xl p-6 ${i}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[l.jsx(Df,{className:"h-5 w-5"}),n,C&&l.jsx("span",{className:"inline-flex px-2 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:C.length})]}),s&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Ie,{size:"sm",onClick:()=>{var L;return(L=T.current)==null?void 0:L.click()},disabled:c,className:"bg-blue-600 hover:bg-blue-700",children:[l.jsx(KP,{className:"h-4 w-4 mr-1"}),c?"Uploading...":"Upload Files"]}),l.jsxs(Ie,{size:"sm",variant:"outline",onClick:()=>y(!0),disabled:c||R,className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:[l.jsx(Af,{className:"h-4 w-4 mr-1"}),"Attach Link"]}),l.jsx("input",{ref:T,type:"file",multiple:!0,accept:"*/*",onChange:Y,className:"hidden",style:{display:"none"}})]})]}),P&&l.jsxs("div",{className:"flex items-center justify-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading attachments..."})]}),!P&&l.jsx(l.Fragment,{children:C&&C.length>0?l.jsx("div",{className:"space-y-3",children:C.map(L=>l.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[l.jsx("div",{className:"flex-shrink-0",children:K(L)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:L.file_name}),l.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[l.jsx("p",{className:"text-xs text-gray-500",children:$(L.file_size)}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded by ",L.owner]}),l.jsx("p",{className:"text-xs text-gray-500",children:new Date(L.creation).toLocaleDateString()}),L.is_private===1&&l.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded",children:"Private"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[J(L.file_name)&&!te(L)&&l.jsxs(Ie,{size:"sm",variant:"outline",onClick:()=>H(L),className:"text-xs",children:[l.jsx(lP,{className:"h-3 w-3 mr-1"}),"Preview"]}),l.jsx(Ie,{size:"sm",variant:"outline",onClick:()=>window.open(L.file_url,"_blank"),className:"text-xs",children:te(L)?l.jsxs(l.Fragment,{children:[l.jsx(iP,{className:"h-3 w-3 mr-1"}),"Open Link"]}):l.jsxs(l.Fragment,{children:[l.jsx(Tj,{className:"h-3 w-3 mr-1"}),"Download"]})}),ce(L)&&l.jsxs(Ie,{size:"sm",variant:"outline",onClick:()=>W(L),className:"text-xs text-red-600 hover:text-red-700",children:[l.jsx(Mo,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]},L.name))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Df,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No files attached"}),l.jsx("p",{className:"text-gray-500 text-sm mt-2",children:s?"Upload files to attach them to this project":"No files have been attached to this project"})]})}),l.jsx(gs,{open:b,onOpenChange:y,children:l.jsxs(xs,{className:"max-w-md",children:[l.jsx(ys,{children:l.jsxs(bs,{className:"flex items-center gap-2",children:[l.jsx(Af,{className:"h-5 w-5"}),"Attach Link"]})}),l.jsxs("div",{className:"space-y-4 pt-4",children:[l.jsxs("div",{children:[l.jsx(Le,{htmlFor:"link-url",className:"text-sm font-medium",children:"URL *"}),l.jsx(zt,{id:"link-url",type:"url",placeholder:"https://example.com",value:_,onChange:L=>w(L.target.value),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(Le,{htmlFor:"link-title",className:"text-sm font-medium",children:"Title (optional)"}),l.jsx(zt,{id:"link-title",type:"text",placeholder:"Enter a descriptive title",value:N,onChange:L=>S(L.target.value),className:"mt-1"})]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx(Ie,{onClick:ee,disabled:!_.trim()||R,className:"flex-1",children:R?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Attaching..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Af,{className:"h-4 w-4 mr-2"}),"Attach Link"]})}),l.jsx(Ie,{variant:"outline",onClick:()=>{y(!1),w(""),S("")},disabled:R,children:"Cancel"})]})]})]})}),f&&p&&l.jsx(gs,{open:f,onOpenChange:h,children:l.jsxs(xs,{className:"max-w-4xl max-h-[80vh] overflow-hidden",children:[l.jsx(ys,{children:l.jsx(bs,{className:"flex items-center justify-between",children:l.jsx("span",{children:p.file_name})})}),l.jsx("div",{className:"flex items-center justify-center p-4",children:J(p.file_name)?l.jsx("img",{src:p.file_url,alt:p.file_name,className:"max-w-full max-h-[60vh] object-contain"}):l.jsxs("div",{className:"text-center",children:[l.jsx(Df,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Preview not available for this file type"}),l.jsxs(Ie,{className:"mt-4",onClick:()=>window.open(p.file_url,"_blank"),children:[l.jsx(Tj,{className:"h-4 w-4 mr-2"}),"Download File"]})]})})]})})]})}const F$=({isOpen:e,onClose:t,projectName:n,onSuccess:s})=>{const[a,i]=j.useState({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),{createDoc:c,loading:d,error:f}=Bi(),{assignPhase:h}=oE(),{data:p,isLoading:g}=lc(n),b=(w,N)=>{i(S=>oe(z({},S),{[w]:N}))},y=w=>ve(null,null,function*(){if(w.preventDefault(),!!a.subject.trim())try{const N=a,{assign_to:S}=N,R=ke(N,["assign_to"]),D=yield c("project_phase",{project:n,subject:R.subject,start_date:R.start_date||null,end_date:R.end_date||null,priority:R.priority,details:R.details||null,costing:R.costing||0,status:"Open",progress:0});S&&D&&(yield h(D.name,S)),i({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),s&&s(),t()}catch(S){console.error("Failed to create project phase:",S)}}),_=()=>{i({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),t()};return l.jsx(gs,{open:e,onOpenChange:_,children:l.jsxs(xs,{className:"sm:max-w-[500px]",children:[l.jsxs(ys,{children:[l.jsx(bs,{children:"Create New Project Phase"}),l.jsxs(fd,{children:['Add a new phase to organize tasks and milestones for "',n,'".']})]}),l.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"subject",children:"Phase Name *"}),l.jsx(zt,{id:"subject",value:a.subject,onChange:w=>b("subject",w.target.value),placeholder:"e.g., Planning, Development, Testing",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"priority",children:"Priority"}),l.jsxs("select",{id:"priority",value:a.priority,onChange:w=>b("priority",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"Low",children:"Low"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"High",children:"High"}),l.jsx("option",{value:"Critical",children:"Critical"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"start_date",children:"Start Date"}),l.jsxs("div",{className:"relative",children:[l.jsx(zt,{id:"start_date",type:"date",value:a.start_date,onChange:w=>b("start_date",w.target.value)}),l.jsx(Vr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"end_date",children:"End Date"}),l.jsxs("div",{className:"relative",children:[l.jsx(zt,{id:"end_date",type:"date",value:a.end_date,onChange:w=>b("end_date",w.target.value),min:a.start_date||void 0}),l.jsx(Vr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"costing",children:"Estimated Cost"}),l.jsx(zt,{id:"costing",type:"number",value:a.costing,onChange:w=>b("costing",parseFloat(w.target.value)||0),placeholder:"0",min:"0",step:"0.01"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"assign_to",children:"Assign To"}),l.jsxs("select",{id:"assign_to",value:a.assign_to,onChange:w=>b("assign_to",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:g,children:[l.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(w=>l.jsx("option",{value:w.user||w.name,children:w.user||w.name},w.name))]}),g&&l.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"details",children:"Description"}),l.jsx("textarea",{id:"details",value:a.details,onChange:w=>b("details",w.target.value),placeholder:"Phase description, objectives, and key deliverables...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]}),f&&l.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:l.jsx("p",{className:"text-sm text-red-600",children:f.message||"Failed to create project phase. Please try again."})}),l.jsxs(As,{children:[l.jsx(Ie,{type:"button",variant:"outline",onClick:_,disabled:d,children:"Cancel"}),l.jsxs(Ie,{type:"submit",disabled:d||!a.subject.trim(),className:"flex items-center gap-2",children:[d&&l.jsx(Y0,{className:"h-4 w-4 animate-spin"}),"Create Phase"]})]})]})]})})},B$=({isOpen:e,onClose:t,projectName:n,onSuccess:s})=>{const[a,i]=j.useState({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),{createDoc:c,loading:d,error:f}=Bi(),h=g=>ve(null,null,function*(){if(g.preventDefault(),!!a.subject.trim())try{yield c("Task",{subject:a.subject,description:a.description,priority:a.priority,exp_start_date:a.exp_start_date||null,exp_end_date:a.exp_end_date||null,status:a.status,project:n,is_template:0,progress:0}),i({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),s==null||s(),t()}catch(b){console.error("Error creating standalone task:",b)}}),p=(g,b)=>{i(y=>oe(z({},y),{[g]:b}))};return l.jsx(gs,{open:e,onOpenChange:t,children:l.jsxs(xs,{className:"sm:max-w-[500px]",children:[l.jsx(ys,{children:l.jsx(bs,{className:"flex items-center justify-between",children:"Create Standalone Task"})}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"subject",children:"Task Subject *"}),l.jsx(zt,{id:"subject",value:a.subject,onChange:g=>p("subject",g.target.value),placeholder:"Enter task subject",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"description",children:"Description"}),l.jsx("textarea",{id:"description",value:a.description,onChange:g=>p("description",g.target.value),placeholder:"Enter task description (optional)",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"priority",children:"Priority"}),l.jsxs("select",{id:"priority",value:a.priority,onChange:g=>p("priority",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[l.jsx("option",{value:"Low",children:"Low"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"High",children:"High"}),l.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"status",children:"Status"}),l.jsxs("select",{id:"status",value:a.status,onChange:g=>p("status",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[l.jsx("option",{value:"Open",children:"Open"}),l.jsx("option",{value:"Working",children:"Working"}),l.jsx("option",{value:"Pending Review",children:"Pending Review"}),l.jsx("option",{value:"Overdue",children:"Overdue"}),l.jsx("option",{value:"Template",children:"Template"}),l.jsx("option",{value:"Completed",children:"Completed"}),l.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"exp_start_date",children:"Expected Start Date"}),l.jsx(zt,{id:"exp_start_date",type:"date",value:a.exp_start_date,onChange:g=>p("exp_start_date",g.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"exp_end_date",children:"Expected End Date"}),l.jsx(zt,{id:"exp_end_date",type:"date",value:a.exp_end_date,onChange:g=>p("exp_end_date",g.target.value)})]})]}),f&&l.jsxs("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",children:["Error creating task: ",f.message]}),l.jsxs(As,{children:[l.jsx(Ie,{type:"button",variant:"outline",onClick:t,disabled:d,children:"Cancel"}),l.jsx(Ie,{type:"submit",disabled:d||!a.subject.trim(),children:d?"Creating...":"Create Task"})]})]})]})})},$$=(e,t)=>{const n=s=>ve(null,null,function*(){try{console.log(`Task ${s} changed, updating affected phase progress...`);const a=yield fetch(`/api/resource/Task/${s}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(a.ok&&(yield a.json()).data.project===e){console.log(`Task ${s} belongs to current project ${e}, finding affected phases...`);const d=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name"],filters:[["project","=",e]]})});if(d.ok){const h=(yield d.json()).message||[];for(const p of h)try{const g=yield fetch(`/api/resource/project_phase/${p.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(g.ok){const y=(yield g.json()).data;y.tasks&&y.tasks.some(_=>_.task===s)&&(console.log(`Updating progress for phase ${p.name} containing task ${s}`),yield N6(p.name),t&&t())}}catch(g){console.error(`Error updating progress for phase ${p.name}:`,g)}}}}catch(a){console.error("Error in triggerPhaseProgressUpdate:",a)}});return j.useEffect(()=>{const s=a=>{if(a.key==="task_progress_updated"&&a.newValue){const i=a.newValue;console.log(`Received task progress update signal for: ${i}`),n(i),localStorage.removeItem("task_progress_updated")}};return window.addEventListener("storage",s),()=>{window.removeEventListener("storage",s)}},[e,t]),{triggerPhaseProgressUpdate:n}},H$=({projectName:e,onViewPhaseDetails:t,onViewTaskDetails:n,onViewSubTaskDetails:s})=>{const[a,i]=j.useState(new Set),[c,d]=j.useState(new Set),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[b,y]=j.useState([]),[_,w]=j.useState({visible:!1,text:"",x:0,y:0}),{data:N,isLoading:S,mutate:R}=Dt("project_phase",{fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e]],orderBy:{field:"start_date",order:"asc"},limit:0});$$(e,()=>{console.log("Phase progress updated, refreshing UI..."),R()}),j.useEffect(()=>{N&&N.length>0?ve(null,null,function*(){const V=[];for(const ne of N)try{const xe=yield fetch(`/api/resource/project_phase/${ne.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(xe.ok){const me=yield xe.json();V.push(me.data)}else console.warn("Failed to fetch phase:",ne.name),V.push(ne)}catch(xe){console.error("Error fetching phase:",ne.name,xe),V.push(ne)}y(V)}):y([])},[N==null?void 0:N.length,N==null?void 0:N.map(re=>re.name).join(",")]);const{data:D,isLoading:T,mutate:k}=Dt("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",e]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),C=(D==null?void 0:D.map(re=>re.name))||[],{data:A,isLoading:P,mutate:U}=Dt("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:C.length>0?[["task","in",C]]:[["task","=","dummy-non-existent-task"]],orderBy:{field:"start_date",order:"asc"},limit:0}),K=re=>{const V=new Set(a);V.has(re)?V.delete(re):V.add(re),i(V)},$=re=>{const V=new Set(c);V.has(re)?V.delete(re):V.add(re),d(V)};j.useEffect(()=>{const re=()=>{document.hidden||(console.log("Tab became visible, refreshing all data (phases, tasks, subtasks)..."),R(),k(),U())};return document.addEventListener("visibilitychange",re),()=>{document.removeEventListener("visibilitychange",re)}},[R,k,U]);const G=re=>null,W=re=>{switch(re){case"Completed":return"bg-green-100 text-green-800";case"Working":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},ee=re=>{switch(re){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},Y=(re,V)=>{if(re.length>30){const ne=V.currentTarget.getBoundingClientRect(),xe=document.querySelector(".bg-white.border.border-gray-200.rounded-lg"),me=xe==null?void 0:xe.getBoundingClientRect();w({visible:!0,text:re,x:me?me.left+24:50,y:ne.top-8})}},H=()=>{w({visible:!1,text:"",x:0,y:0})},J=(re,V,ne,xe=!1,me=!1,Te)=>{let Oe="0.75rem";ne==="phase-task"||ne==="task"&&V===1?Oe="2rem":ne==="subtask"&&(Oe="3.5rem");const He=ne==="phase"||ne==="task"&&xe||ne==="phase-task"&&xe,Pe=re.subject||re.name,rt=re.status||"Open",Ge=re.progress||0,mt=st=>{st.preventDefault(),st.stopPropagation(),Te&&Te()},ze=st=>{st.preventDefault(),st.stopPropagation(),ne==="phase"&&t?t(re):(ne==="task"||ne==="phase-task")&&n?n(re):ne==="subtask"&&s&&s(re)},St=st=>{st.preventDefault(),st.stopPropagation(),xe&&Te&&Te()};let at="hover:bg-gray-50",Me="";return ne==="phase"||ne==="task"?(at="bg-white hover:bg-gray-50",Me=""):ne==="phase-task"?(at="bg-green-50/20 hover:bg-green-50",Me="border-l-2 border-l-green-200"):ne==="subtask"&&(at="bg-yellow-50/20 hover:bg-yellow-50",Me="border-l-2 border-l-yellow-200"),l.jsx("div",{className:`${at} ${Me} transition-colors`,children:l.jsxs("div",{className:"grid grid-cols-12 gap-4 py-3 px-6 border-b border-gray-100 items-center cursor-pointer",onClick:St,onDoubleClick:ze,children:[l.jsxs("div",{className:"col-span-5 flex items-center",style:{paddingLeft:Oe},children:[He&&l.jsx("button",{className:"mr-2 p-1 hover:bg-gray-100 rounded transition-colors flex-shrink-0",onClick:mt,type:"button","aria-label":me?"Collapse":"Expand",children:me?l.jsx(GN,{className:"h-4 w-4 text-gray-600"}):l.jsx(qM,{className:"h-4 w-4 text-gray-600"})}),!He&&l.jsx("div",{className:"mr-2 p-1 flex-shrink-0 w-6 h-6"}),G(),l.jsxs("div",{className:"ml-1 flex-1 min-w-0",children:[l.jsx("div",{className:`font-medium truncate ${ne==="phase"?"text-blue-900 text-lg":ne==="task"?"text-orange-900":ne==="phase-task"?"text-green-900":"text-gray-700"}`,onMouseEnter:st=>Y(Pe,st),onMouseLeave:H,title:Pe.length>30?Pe:void 0,children:Pe}),re.description&&ne==="subtask"&&l.jsx("p",{className:"text-sm text-gray-500 mt-1 truncate",onMouseEnter:st=>Y(re.description,st),onMouseLeave:H,title:re.description.length>50?re.description:void 0,children:re.description}),re.details&&ne==="phase"&&l.jsx("p",{className:"text-sm text-gray-600 mt-1 truncate",onMouseEnter:st=>Y(re.details,st),onMouseLeave:H,title:re.details.length>50?re.details:void 0,children:re.details})]})]}),l.jsx("div",{className:"col-span-2 text-center",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${W(rt)}`,children:rt})}),l.jsx("div",{className:"col-span-2 text-center",children:re.priority&&l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${ee(re.priority)}`,children:re.priority})}),l.jsxs("div",{className:"col-span-3 flex items-center justify-start space-x-2",children:[ne!=="subtask"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`${ne==="phase"?"w-20":"w-16"} bg-gray-200 rounded-full h-2`,children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Ge}%`}})}),l.jsxs("span",{className:"text-sm text-gray-600 w-12 text-left flex-shrink-0",children:[Ge,"%"]})]}),l.jsxs("div",{className:"ml-auto",children:[ne==="phase"&&t&&l.jsx(Ie,{variant:"outline",size:"sm",onClick:st=>{st.preventDefault(),st.stopPropagation(),t(re)},className:"h-7 px-2 text-xs",children:"View Details"}),(ne==="task"||ne==="phase-task")&&n&&l.jsx(Ie,{variant:"outline",size:"sm",onClick:st=>{st.preventDefault(),st.stopPropagation(),n(re)},className:"h-7 px-2 text-xs",children:"View Details"}),ne==="subtask"&&s&&l.jsx(Ie,{variant:"outline",size:"sm",onClick:st=>{st.preventDefault(),st.stopPropagation(),s(re)},className:"h-7 px-2 text-xs",children:"View Details"})]})]})]})},`${ne}-${re.name}`)};if(S||T||P)return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),l.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),l.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"})]});const te=b.length>0?b:N||[],ce=D||[],L=A||[],le=re=>L.filter(V=>V.task===re);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Tasks & Phases"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Ie,{size:"sm",variant:"outline",className:"flex items-center gap-2",onClick:()=>g(!0),children:[l.jsx(Ro,{className:"h-4 w-4"}),"Add Task"]}),l.jsxs(Ie,{size:"sm",className:"flex items-center gap-2",onClick:()=>h(!0),children:[l.jsx(Ro,{className:"h-4 w-4"}),"Add Phase"]})]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[l.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 grid grid-cols-12 gap-4 text-sm font-medium text-gray-700",children:[l.jsx("div",{className:"col-span-5",children:"Task / Phase"}),l.jsx("div",{className:"col-span-2 text-center",children:"Status"}),l.jsx("div",{className:"col-span-2 text-center",children:"Priority"}),l.jsx("div",{className:"col-span-3 text-left",children:"Progress"})]}),l.jsxs("div",{className:"divide-y divide-gray-100",children:[te.map(re=>{const V=a.has(re.name),ne=re.tasks||[];return l.jsxs("div",{children:[J(re,0,"phase",ne.length>0,V,()=>{K(re.name)}),V&&ne.map((xe,me)=>{const Te=ce.find(rt=>rt.name===xe.task),Oe=le(xe.task),He=Oe.length>0,Pe=c.has(xe.task);if(!Te){const rt={name:xe.task,subject:xe.task,status:"Open"};return l.jsxs("div",{children:[J(rt,1,"phase-task",He,Pe,He?()=>{$(xe.task)}:void 0),Pe&&He&&Oe.map((Ge,mt)=>l.jsx("div",{children:J(Ge,2,"subtask",!1,!1)},`subtask-${mt}`))]},`phase-task-${me}`)}return l.jsxs("div",{children:[J(Te,1,"phase-task",He,Pe,He?()=>{$(Te.name)}:void 0),Pe&&He&&Oe.map((rt,Ge)=>l.jsx("div",{children:J(rt,2,"subtask",!1,!1)},`subtask-${Ge}`))]},`phase-task-${me}`)})]},re.name)}),te.length>0&&ce.filter(re=>!te.some(ne=>{var xe;return(xe=ne.tasks)==null?void 0:xe.some(me=>me.task===re.name)})).length>0&&l.jsx("div",{className:"bg-gray-100 px-6 py-2 border-b border-gray-200",children:l.jsxs("div",{className:"text-sm font-medium text-gray-600 flex items-center",children:[l.jsx("span",{className:"mr-2",children:""}),"Standalone Tasks"]})}),ce.filter(re=>!te.some(ne=>{var xe;return(xe=ne.tasks)==null?void 0:xe.some(me=>me.task===re.name)})).map(re=>{const V=c.has(re.name),ne=le(re.name),xe=ne.length>0;return l.jsxs("div",{children:[J(re,1,"task",xe,V,xe?()=>{$(re.name)}:void 0),V&&xe&&ne.map((me,Te)=>l.jsx("div",{children:J(me,2,"subtask",!1,!1)},`standalone-subtask-${Te}`))]},re.name)})]})]}),te.length===0&&ce.length===0&&l.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No phases or tasks yet"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Start organizing your project by creating phases and tasks."}),l.jsxs("div",{className:"flex gap-3 justify-center",children:[l.jsx(Ie,{onClick:()=>h(!0),children:"Create First Phase"}),l.jsx(Ie,{variant:"outline",onClick:()=>g(!0),children:"Create Task"})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:te.length}),l.jsx("div",{className:"text-sm text-blue-600",children:"Total Phases"})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:ce.length}),l.jsx("div",{className:"text-sm text-green-600",children:"Total Tasks"})]}),l.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:L.length}),l.jsx("div",{className:"text-sm text-purple-600",children:"Total Subtasks"})]})]}),l.jsx(F$,{isOpen:f,onClose:()=>h(!1),projectName:e,onSuccess:()=>{R()}}),l.jsx(B$,{isOpen:p,onClose:()=>g(!1),projectName:e,onSuccess:()=>{k()}}),_.visible&&l.jsxs("div",{className:"fixed z-50 bg-gray-900 text-white text-sm px-4 py-2 rounded-lg shadow-xl pointer-events-none border border-gray-700",style:{left:_.x,top:_.y,transform:"translateY(-100%)",maxWidth:"400px",minWidth:"200px",wordWrap:"break-word"},children:[l.jsx("div",{className:"font-medium leading-relaxed",children:_.text}),l.jsx("div",{className:"absolute top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900",style:{left:"20px"}})]})]})},V$=({isOpen:e,onClose:t,projectName:n,phaseId:s,onSuccess:a})=>{const[i,c]=j.useState({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),[d,f]=j.useState({}),[h,p]=j.useState(!1),{createTaskWithPhase:g,isLoading:b}=w6(),{data:y,isLoading:_}=lc(n),{data:w}=bn("Project",n),N=(T,k)=>{c(C=>oe(z({},C),{[T]:k})),d[T]&&f(C=>oe(z({},C),{[T]:""}))},S=()=>{const T={};return i.subject.trim()||(T.subject="Task subject is required"),f(T),Object.keys(T).length===0},R=T=>ve(null,null,function*(){if(T.preventDefault(),!h&&S()){if(i.exp_start_date&&i.exp_end_date){const k=new Date(i.exp_start_date);if(new Date(i.exp_end_date)<k){un.error("End date cannot be earlier than start date");return}}if(i.exp_end_date&&(w!=null&&w.expected_end_date)){const k=new Date(i.exp_end_date),C=new Date(w.expected_end_date);if(k>C){un.error(`Task end date cannot be after project end date (${w.expected_end_date})`);return}}p(!0);try{const k=oe(z({},i),{project:n,expected_time:Number(i.expected_time),task_weight:Number(i.task_weight),exp_start_date:i.exp_start_date||void 0,exp_end_date:i.exp_end_date||void 0,phaseId:s,assign_to:i.assign_to||void 0});console.log("Creating task with data:",k),console.log("Date fields:",{exp_start_date:i.exp_start_date,exp_end_date:i.exp_end_date});const C=yield g(k);console.log("Task with phase created:",C);let A=`Task "${i.subject}" has been created successfully.`;C.todo&&i.assign_to&&(console.log("Task assigned and ToDo created for:",i.assign_to),A+=` Task has been assigned to ${i.assign_to}.`),un.success("Task created successfully",{description:A}),c({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),f({}),a&&a(),t()}catch(k){console.error("Error creating task:",k);let C="Failed to create task. Please try again.";k!=null&&k.message&&(k.message.includes("Expected End Date cannot be after Project")?C="Task end date cannot be after the project end date. Please choose an earlier date.":k.message.includes("InvalidDates")?C="Invalid date configuration. Please check your task dates.":C=k.message),k!=null&&k.exception&&typeof k.exception=="string"&&k.exception.includes("Expected End Date cannot be after Project")&&(C="Task end date cannot be after the project end date. Please choose an earlier date."),un.error("Failed to create task",{description:C}),f({submit:C})}finally{p(!1)}}}),D=()=>{c({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),f({}),t()};return l.jsx(gs,{open:e,onOpenChange:D,children:l.jsxs(xs,{className:"sm:max-w-[600px]",children:[l.jsxs(ys,{children:[l.jsxs(bs,{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""}),"Create New Task"]}),l.jsxs(fd,{children:["Create a new task for project: ",l.jsx("strong",{children:n}),s&&l.jsxs(l.Fragment,{children:[l.jsx("br",{}),l.jsx("span",{className:"text-blue-600",children:" This task will be linked to the current phase"})]}),l.jsx("br",{}),l.jsx("span",{className:"text-gray-600",children:" Assigning to a user will automatically create a ToDo item for them"})]})]}),l.jsxs("form",{onSubmit:R,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(Le,{htmlFor:"subject",children:"Task Subject *"}),l.jsx(zt,{id:"subject",value:i.subject,onChange:T=>N("subject",T.target.value),placeholder:"Enter task subject...",className:d.subject?"border-red-500":""}),d.subject&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(Le,{htmlFor:"description",children:"Description"}),l.jsx("textarea",{id:"description",value:i.description,onChange:T=>N("description",T.target.value),placeholder:"Enter task description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(Le,{htmlFor:"priority",children:"Priority"}),l.jsxs("select",{id:"priority",value:i.priority,onChange:T=>N("priority",T.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[l.jsx("option",{value:"Low",children:"Low"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"High",children:"High"}),l.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(Le,{htmlFor:"status",children:"Status"}),l.jsxs("select",{id:"status",value:i.status,onChange:T=>N("status",T.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[l.jsx("option",{value:"Open",children:"Open"}),l.jsx("option",{value:"Working",children:"Working"}),l.jsx("option",{value:"Overdue",children:"Overdue"}),l.jsx("option",{value:"Pending Review",children:"Pending Review"}),l.jsx("option",{value:"Completed",children:"Completed"}),l.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(Le,{htmlFor:"assign_to",children:"Assign To"}),l.jsxs("select",{id:"assign_to",value:i.assign_to,onChange:T=>N("assign_to",T.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",disabled:_,children:[l.jsx("option",{value:"",children:"Select user to assign (Optional)"}),y==null?void 0:y.map(T=>l.jsxs("option",{value:T.user||T.name,children:[T.full_name||T.name,T.email&&` (${T.email})`]},T.user||T.name))]}),_&&l.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!_&&y&&y.length>10&&l.jsx("p",{className:"text-sm text-amber-600",children:" Showing all system users (project users not available)"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(Le,{htmlFor:"expected_time",children:"Expected Time (hours)"}),l.jsx(zt,{id:"expected_time",type:"number",min:"0",step:"0.5",value:i.expected_time,onChange:T=>N("expected_time",Number(T.target.value)),placeholder:"0"})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(Le,{htmlFor:"task_weight",children:"Task Weight"}),l.jsx(zt,{id:"task_weight",type:"number",min:"1",value:i.task_weight,onChange:T=>N("task_weight",Number(T.target.value)),placeholder:"1"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"exp_start_date",children:"Expected Start Date"}),l.jsx(zt,{id:"exp_start_date",type:"date",value:i.exp_start_date,onChange:T=>N("exp_start_date",T.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"exp_end_date",children:"Expected End Date"}),l.jsx(zt,{id:"exp_end_date",type:"date",value:i.exp_end_date,onChange:T=>N("exp_end_date",T.target.value),max:(w==null?void 0:w.expected_end_date)||void 0}),(w==null?void 0:w.expected_end_date)&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",w.expected_end_date]})]})]})]}),d.submit&&l.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),l.jsxs(As,{children:[l.jsx(Ie,{type:"button",variant:"outline",onClick:D,children:"Cancel"}),l.jsx(Ie,{type:"submit",disabled:b||h,children:b||h?"Creating...":"Create Task"})]})]})]})})},I$=({phase:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var A;const{updatePhase:i,isLoading:c,error:d}=_6(),{assignPhase:f,unassignPhase:h}=oE(),{currentUser:p}=ir(),{data:g,isLoading:b}=lc(t),{data:y}=bn("Project",t||"",t?"Project":void 0),_=(y==null?void 0:y.users)||[],{data:w}=Dt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","project_phase"],["reference_name","=",(e==null?void 0:e.name)||""]]}),N=()=>{if(p==="Administrator"||(y==null?void 0:y.owner)===p)return!0;const P=_.find(U=>U.user===p);return(P==null?void 0:P.project_status)==="Project Manager (Owner Substitute)"},[S,R]=j.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,details:"",costing:0,assign_to:""}),D=((A=w==null?void 0:w[0])==null?void 0:A.allocated_to)||"";j.useEffect(()=>{e&&R({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:D})},[e,D]);const T=(P,U)=>{R(K=>oe(z({},K),{[P]:U}))},k=P=>ve(null,null,function*(){if(P.preventDefault(),!!e){if(S.status==="Completed"&&!N()){un.error("Permission denied",{description:"You don't have permission to mark this phase as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}try{const U=S,{assign_to:K}=U,$=ke(U,["assign_to"]);yield i(e.name,$);const G=D,W=K;if(G&&G!==W){const ee=w==null?void 0:w.find(Y=>Y.allocated_to===G);ee&&(yield h(ee.name))}W&&W!==G&&(yield f(e.name,W)),un.success("Phase updated successfully",{description:`Phase "${S.subject}" has been updated.`}),a&&a(),s()}catch(K){console.error("Error updating phase:",K),un.error("Failed to update phase",{description:K instanceof Error?K.message:"An unexpected error occurred."})}}}),C=()=>{e&&R({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:D}),s()};return l.jsx(gs,{open:n,onOpenChange:s,children:l.jsxs(xs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsx(ys,{children:l.jsx(bs,{children:"Edit Phase"})}),l.jsxs("form",{onSubmit:k,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"subject",children:"Subject *"}),l.jsx(zt,{id:"subject",value:S.subject,onChange:P=>T("subject",P.target.value),required:!0,placeholder:"Enter phase subject"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"status",children:"Status"}),l.jsxs("select",{id:"status",value:S.status,onChange:P=>T("status",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"Open",children:"Open"}),l.jsx("option",{value:"Working",children:"Working"}),l.jsx("option",{value:"Pending Review",children:"Pending Review"}),N()&&l.jsx("option",{value:"Completed",children:"Completed"}),l.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),!N()&&l.jsx("span",{className:"text-xs text-amber-600",children:"You don't have permission to mark Completed"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"priority",children:"Priority"}),l.jsxs("select",{id:"priority",value:S.priority,onChange:P=>T("priority",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"Low",children:"Low"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"High",children:"High"}),l.jsx("option",{value:"Critical",children:"Critical"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"start_date",children:"Start Date"}),l.jsx(zt,{id:"start_date",type:"date",value:S.start_date,onChange:P=>T("start_date",P.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"end_date",children:"End Date"}),l.jsx(zt,{id:"end_date",type:"date",value:S.end_date,onChange:P=>T("end_date",P.target.value)})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"progress",children:"Progress (%)"}),l.jsx(zt,{id:"progress",type:"number",min:"0",max:"100",value:S.progress,onChange:P=>T("progress",parseInt(P.target.value)||0),placeholder:"0"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"costing",children:"Costing"}),l.jsx(zt,{id:"costing",type:"number",min:"0",step:"0.01",value:S.costing,onChange:P=>T("costing",parseFloat(P.target.value)||0),placeholder:"0.00"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"details",children:"Details"}),l.jsx("textarea",{id:"details",value:S.details,onChange:P=>T("details",P.target.value),placeholder:"Enter phase details",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"assign_to",children:"Assign To"}),l.jsxs("select",{id:"assign_to",value:S.assign_to,onChange:P=>T("assign_to",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,children:[l.jsx("option",{value:"",children:"Select user..."}),g==null?void 0:g.map(P=>l.jsx("option",{value:P.user||P.name,children:P.user||P.name},P.name))]}),b&&l.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&l.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update phase"]})}),l.jsxs(As,{className:"flex gap-2",children:[l.jsx(Ie,{type:"button",variant:"outline",onClick:C,children:"Cancel"}),l.jsx(Ie,{type:"submit",disabled:c,children:c?"Updating...":"Update Phase"})]})]})]})})},q$=({phase:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:i,error:c}=ms("frappe.client.delete"),d=()=>ve(null,null,function*(){if(e)try{yield a({doctype:"project_phase",name:e.name}),s&&s(),n()}catch(h){console.error("Error deleting phase:",h)}}),f=()=>{n()};return l.jsx(gs,{open:t,onOpenChange:n,children:l.jsxs(xs,{className:"sm:max-w-[400px]",children:[l.jsx(ys,{children:l.jsxs(bs,{className:"flex items-center gap-2 text-red-600",children:[l.jsx(um,{className:"h-5 w-5"}),"Delete Phase"]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this phase? This action cannot be undone."}),e&&l.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[l.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]})]}),l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[l.jsxs("div",{className:"text-sm text-red-800",children:[l.jsx("strong",{children:"Warning:"})," Deleting this phase will also remove:"]}),l.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[l.jsx("li",{children:"All tasks associated with this phase"}),l.jsx("li",{children:"All phase progress data"}),l.jsx("li",{children:"Phase timeline and milestones"}),l.jsx("li",{children:"Related documents and attachments"})]})]}),c&&l.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete phase"]})})]}),l.jsxs(As,{className:"flex gap-2",children:[l.jsx(Ie,{type:"button",variant:"outline",onClick:f,children:"Cancel"}),l.jsx(Ie,{type:"button",variant:"destructive",onClick:d,disabled:i,children:i?"Deleting...":"Delete Phase"})]})]})})},W$=({phase:e,projectName:t,onBack:n,onViewTaskDetails:s,onPhaseUpdated:a,onPhaseDeleted:i,onTaskCreated:c})=>{var te;const[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,b]=j.useState(!1),[y,_]=j.useState(!1),[w,N]=j.useState(!1),{calculateAndUpdatePhaseProgress:S}=fE(),{data:R,mutate:D}=bn("project_phase",e.name,"project_phase"),T=R||e,{data:k,isLoading:C,mutate:A}=Dt("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",t]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),P=se.useMemo(()=>{if(!k)return[];if(T.tasks&&T.tasks.length>0){const ce=T.tasks.map(L=>L.task);return k.filter(L=>ce.includes(L.name))}return[]},[k,T.tasks]),U=se.useMemo(()=>{if(!P||P.length===0)return 0;const ce=P.reduce((L,le)=>L+(le.progress||0),0);return Math.round(ce/P.length)},[P]);j.useEffect(()=>{P.length>0&&U!==(T.progress||0)&&K()},[U,P.length]);const K=()=>ve(null,null,function*(){_(!0);try{yield S(e.name),yield D(),a&&a()}catch(ce){console.error("Error recalculating phase progress:",ce)}finally{_(!1)}}),$=ce=>ce?new Date(ce).toLocaleDateString():"N/A",G=ce=>ce?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ce):"$0",W=ce=>{switch(ce){case"Completed":return l.jsx(Kx,{className:"h-5 w-5 text-green-600"});case"Working":return l.jsx(tc,{className:"h-5 w-5 text-yellow-600"});case"Open":return l.jsx(Kl,{className:"h-5 w-5 text-blue-600"});default:return l.jsx(Kl,{className:"h-5 w-5 text-gray-400"})}},ee=ce=>{switch(ce){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Y=ce=>{switch(ce){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},H=()=>ve(null,null,function*(){N(!0);try{yield D(),yield A(),a&&(yield a()),setTimeout(()=>ve(null,null,function*(){_(!0);try{yield S(T.name),setTimeout(()=>ve(null,null,function*(){yield D()}),500)}catch(ce){console.error("Error recalculating phase progress:",ce)}finally{_(!1)}}),500)}finally{N(!1)}}),J=()=>{i&&i(),n()};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ie,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[l.jsx(Gx,{className:"h-4 w-4"}),"Back to Tasks"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>p(!0),disabled:w||y,className:"flex items-center gap-2",children:[l.jsx(Vu,{className:`h-4 w-4 ${w?"animate-pulse":""}`}),w?"Updating...":"Edit Phase"]}),l.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[l.jsx(Mo,{className:"h-4 w-4"}),"Delete Phase"]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500 flex items-center justify-center",children:l.jsx("span",{className:"text-xl",children:""})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:T.subject}),l.jsx("p",{className:"text-sm text-gray-600",children:"Phase Details"})]})]}),T.details&&l.jsx("p",{className:"text-gray-700 leading-relaxed",children:T.details})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${ee(T.status||"Open")}`,children:[W(T.status||"Open"),l.jsx("span",{className:"font-medium",children:T.status||"Open"})]}),T.priority&&l.jsx("div",{className:`px-3 py-1 rounded-full border ${Y(T.priority)}`,children:l.jsx("span",{className:"text-sm font-medium",children:T.priority})})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phase Progress"}),P.length>0&&l.jsxs("span",{className:"text-xs text-gray-500",children:["(Auto-calculated from ",P.length," tasks)"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[U,"%"]}),l.jsx(Ie,{variant:"ghost",size:"sm",onClick:K,disabled:y,className:"h-8 w-8 p-0",title:"Recalculate progress from tasks",children:l.jsx(UP,{className:`h-4 w-4 ${y?"animate-spin":""}`})})]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${U}%`}})}),P.length>0&&l.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Task progress: ",P.map(ce=>`${ce.subject}: ${ce.progress||0}%`).join(", ")]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:l.jsx(Vr,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),l.jsx("p",{className:"text-lg font-bold text-gray-900",children:$(T.start_date)})]})]})}),l.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:l.jsx(Jx,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),l.jsx("p",{className:"text-lg font-bold text-gray-900",children:$(T.end_date)})]})]})}),l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:l.jsx(Qx,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Estimated Cost"}),l.jsx("p",{className:"text-lg font-bold text-gray-900",children:G(T.costing)})]})]})})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Phase Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Phase ID"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:T.name})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),l.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${ee(T.status||"Open")}`,children:[W(T.status||"Open"),l.jsx("span",{className:"font-medium",children:T.status||"Open"})]})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),l.jsx("div",{className:`px-3 py-1 rounded-full ${Y(T.priority||"Medium")}`,children:l.jsx("span",{className:"font-medium",children:T.priority||"Medium"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Tasks Count"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:((te=T.tasks)==null?void 0:te.length)||0})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:T.start_date&&T.end_date?`${Math.ceil((new Date(T.end_date).getTime()-new Date(T.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[U,"%"]}),P.length>0&&l.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",P.length," tasks)"]})]})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Estimated Cost"}),l.jsx("span",{className:"text-xl font-bold text-green-600",children:G(e.costing)})]})]})]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Tasks in this Phase"})}),C?l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),l.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),l.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):l.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[l.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:l.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[l.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),l.jsx("div",{className:"col-span-4 text-sm font-medium text-gray-700",children:"Task"}),l.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Progress"}),l.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),l.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700 text-center",children:"Priority"}),l.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),l.jsxs("div",{className:"divide-y divide-gray-100",children:[P&&P.length>0?P.map((ce,L)=>l.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[l.jsx("div",{className:"col-span-1 flex items-center",children:l.jsx("span",{className:"text-sm text-gray-600",children:L+1})}),l.jsxs("div",{className:"col-span-4 flex items-center gap-3",children:[l.jsx("div",{className:"p-1 bg-orange-100 rounded",children:l.jsx("span",{className:"text-sm",children:""})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:ce.subject||ce.name}),l.jsx("div",{className:"text-sm text-gray-500",children:ce.name})]})]}),l.jsx("div",{className:"col-span-2 flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${ce.progress||0}%`}})}),l.jsxs("span",{className:"text-sm font-medium text-gray-700 min-w-[30px]",children:[ce.progress||0,"%"]})]})}),l.jsx("div",{className:"col-span-2 flex items-center justify-center",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${ee(ce.status||"Open")}`,children:ce.status||"Open"})}),l.jsx("div",{className:"col-span-1 flex items-center justify-center",children:ce.priority&&l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Y(ce.priority)}`,children:ce.priority})}),l.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&l.jsx(Ie,{variant:"outline",size:"sm",onClick:()=>s(ce),className:"h-7 px-2 text-xs",children:"View Details"})})]},ce.name)):l.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[l.jsx("div",{className:"text-4xl mb-2",children:""}),l.jsx("div",{className:"text-lg font-medium mb-1",children:"No tasks yet"}),l.jsx("div",{className:"text-sm",children:'Click "Add Task" to create the first task for this phase'})]}),l.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:l.jsx("div",{className:"col-span-12 flex items-center justify-center",children:l.jsxs(Ie,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>f(!0),children:[l.jsx(Ro,{className:"h-4 w-4"}),"Add new task to this phase"]})})})]})]})]}),l.jsx(Em,{doctype:"project_phase",docname:e.name,title:"Phase Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),l.jsx(V$,{isOpen:d,onClose:()=>f(!1),projectName:t,phaseId:e.name,onSuccess:()=>ve(null,null,function*(){yield D(),c&&(yield c()),setTimeout(()=>ve(null,null,function*(){yield A(),setTimeout(()=>ve(null,null,function*(){yield K()}),500)}),500)})}),l.jsx(I$,{phase:e,projectName:t,isOpen:h,onClose:()=>p(!1),onSuccess:H}),l.jsx(q$,{phase:e,isOpen:g,onClose:()=>b(!1),onSuccess:J})]})},Y$=({isOpen:e,onClose:t,projectName:n,parentTask:s,onSuccess:a})=>{const[i,c]=j.useState({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),[d,f]=j.useState({}),{createDoc:h,loading:p}=Bi(),{assignSubTask:g}=yy(),{calculateAndUpdateTaskProgress:b}=ld(),{data:y,isLoading:_}=lc(n),w=(D,T)=>{c(k=>oe(z({},k),{[D]:T})),d[D]&&f(k=>oe(z({},k),{[D]:""}))},N=()=>{const D={};return i.subject.trim()||(D.subject="SubTask subject is required"),i.task.trim()||(D.task="Parent task is required"),f(D),Object.keys(D).length===0},S=D=>ve(null,null,function*(){if(D.preventDefault(),!!N())try{const T=i,{assign_to:k}=T,C=ke(T,["assign_to"]),A=yield h("SubTask",oe(z({},C),{project:n}));if(k&&A&&(yield g(A.name,k)),s)try{yield b(s)}catch(P){console.error("Error updating task progress after subtask creation:",P)}c({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),f({}),a&&a(),t()}catch(k){console.error("Error creating subtask:",k),f({submit:"Failed to create subtask. Please try again."})}}),R=()=>{c({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),f({}),t()};return l.jsx(gs,{open:e,onOpenChange:R,children:l.jsxs(xs,{className:"sm:max-w-[600px]",children:[l.jsxs(ys,{children:[l.jsxs(bs,{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""}),"Create New SubTask"]}),l.jsxs(fd,{children:["Create a new subtask for project: ",l.jsx("strong",{children:n}),s&&l.jsxs("span",{className:"block mt-1",children:["Parent Task: ",l.jsx("strong",{children:s})]})]})]}),l.jsxs("form",{onSubmit:S,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(Le,{htmlFor:"subject",children:"SubTask Subject *"}),l.jsx(zt,{id:"subject",value:i.subject,onChange:D=>w("subject",D.target.value),placeholder:"Enter subtask subject...",className:d.subject?"border-red-500":""}),d.subject&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(Le,{htmlFor:"task",children:"Parent Task *"}),l.jsx(zt,{id:"task",value:i.task,onChange:D=>w("task",D.target.value),placeholder:"Enter parent task ID...",className:d.task?"border-red-500":""}),d.task&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.task}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the Task ID that this subtask belongs to"})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(Le,{htmlFor:"description",children:"Description"}),l.jsx("textarea",{id:"description",value:i.description,onChange:D=>w("description",D.target.value),placeholder:"Enter subtask description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"assign_to",children:"Assign To"}),l.jsxs("select",{id:"assign_to",value:i.assign_to,onChange:D=>w("assign_to",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:_,children:[l.jsx("option",{value:"",children:"Select user..."}),y==null?void 0:y.map(D=>l.jsx("option",{value:D.user||D.name,children:D.user||D.name},D.name))]}),_&&l.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(Le,{htmlFor:"priority",children:"Priority"}),l.jsxs("select",{id:"priority",value:i.priority,onChange:D=>w("priority",D.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[l.jsx("option",{value:"Low",children:"Low"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"High",children:"High"})]})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(Le,{htmlFor:"status",children:"Status"}),l.jsxs("select",{id:"status",value:i.status,onChange:D=>w("status",D.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[l.jsx("option",{value:"Open",children:"Open"}),l.jsx("option",{value:"Working",children:"Working"}),l.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]}),d.submit&&l.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),l.jsxs(As,{children:[l.jsx(Ie,{type:"button",variant:"outline",onClick:R,children:"Cancel"}),l.jsx(Ie,{type:"submit",disabled:p,children:p?"Creating...":"Create SubTask"})]})]})]})})},X$=({task:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{const{updateTask:i,isLoading:c,error:d}=rE(),{assignTask:f,unassignTask:h}=aE(),{updateTaskProgress:p}=uE(),{updateTaskProgressByStatus:g}=cE(),{currentUser:b}=ir(),{data:y,isLoading:_}=lc(t),{data:w}=bn("Project",t),N=(w==null?void 0:w.users)||[],{data:S}=Dt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","Task"],["reference_name","=",(e==null?void 0:e.name)||""]]}),{data:R}=Dt("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.name)||""]],limit:1}),D=()=>{if(b==="Administrator"||(w==null?void 0:w.owner)===b)return!0;const $=N.find(G=>G.user===b);return($==null?void 0:$.project_status)==="Project Manager (Owner Substitute)"},[T,k]=j.useState({subject:"",status:"Open",priority:"Medium",exp_start_date:"",exp_end_date:"",progress:0,description:"",assign_to:""}),[C,A]=j.useState(!1);j.useEffect(()=>{var $;if(e){const G=(($=S==null?void 0:S[0])==null?void 0:$.allocated_to)||"";k({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:G})}},[e,S]),j.useEffect(()=>{A(!!(R&&R.length>0))},[R]);const P=($,G)=>{k(W=>oe(z({},W),{[$]:G}))},U=$=>ve(null,null,function*(){var G,W,ee;if($.preventDefault(),!!e){if(T.status==="Completed"&&!D()){un.error("Permission denied",{description:"You don't have permission to mark this task as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}if(T.exp_start_date&&T.exp_end_date){const Y=new Date(T.exp_start_date);if(new Date(T.exp_end_date)<Y){un.error("End date cannot be earlier than start date");return}}if(T.exp_end_date&&(w!=null&&w.expected_end_date)){const Y=new Date(T.exp_end_date),H=new Date(w.expected_end_date);if(Y>H){un.error(`Task end date cannot be after project end date (${w.expected_end_date})`);return}}try{const Y=T.progress!==(e.progress||0),H=T.status!==e.status;C&&Y?yield p(e.name,T.progress):H&&(T.status==="Completed"||T.status==="Cancelled")?yield g(e.name,T.status):yield i(e.name,T);const J=((G=S==null?void 0:S[0])==null?void 0:G.allocated_to)||"",te=T.assign_to;if(J!==te){if(J&&(S!=null&&S[0]))try{yield h(S[0].name)}catch(ce){console.error("Error deleting old ToDo:",ce)}if(te)try{yield f(e.name,T.subject,te,T.priority)}catch(ce){console.error("Error creating new ToDo:",ce)}}un.success("Task updated successfully",{description:`Task "${T.subject}" has been updated.`}),a&&a(),s()}catch(Y){console.error("Error updating task:",Y);let H="Failed to update task";(W=Y==null?void 0:Y.message)!=null&&W.includes("modified")?H="The task has been modified by someone else. Please close and reopen the task to get the latest version.":(ee=Y==null?void 0:Y.message)!=null&&ee.includes("permission")?H="You do not have permission to update this task.":Y!=null&&Y.message&&(H=Y.message),un.error("Failed to update task",{description:H})}}}),K=()=>{var $;if(e){const G=(($=S==null?void 0:S[0])==null?void 0:$.allocated_to)||"";k({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:G})}s()};return l.jsx(gs,{open:n,onOpenChange:s,children:l.jsxs(xs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsx(ys,{children:l.jsx(bs,{children:"Edit Task"})}),l.jsxs("form",{onSubmit:U,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"subject",children:"Subject *"}),l.jsx(zt,{id:"subject",value:T.subject,onChange:$=>P("subject",$.target.value),required:!0,placeholder:"Enter task subject"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"status",children:"Status"}),l.jsxs("select",{id:"status",value:T.status,onChange:$=>P("status",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"Open",children:"Open"}),l.jsx("option",{value:"Working",children:"Working"}),l.jsx("option",{value:"Pending Review",children:"Pending Review"}),l.jsx("option",{value:"Overdue",children:"Overdue"}),l.jsx("option",{value:"Template",children:"Template"}),D()&&l.jsx("option",{value:"Completed",children:"Completed"}),l.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),!D()&&l.jsx("span",{className:"text-xs text-amber-600",children:"You don't have permission to mark Completed"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"priority",children:"Priority"}),l.jsxs("select",{id:"priority",value:T.priority,onChange:$=>P("priority",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"Low",children:"Low"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"High",children:"High"}),l.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"assign_to",children:"Assign To"}),l.jsxs("select",{id:"assign_to",value:T.assign_to,onChange:$=>P("assign_to",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:_,children:[l.jsx("option",{value:"",children:"Select user to assign (Optional)"}),y==null?void 0:y.map($=>l.jsxs("option",{value:$.user||$.name,children:[$.full_name||$.name,$.email&&` (${$.email})`]},$.user||$.name))]}),_&&l.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!_&&y&&y.length>10&&l.jsx("p",{className:"text-sm text-amber-600",children:" Showing all system users (project users not available)"}),S&&S.length>0&&l.jsx("p",{className:"text-sm text-blue-600",children:" Changing assignment will update the ToDo automatically"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"exp_start_date",children:"Expected Start Date"}),l.jsx(zt,{id:"exp_start_date",type:"date",value:T.exp_start_date,onChange:$=>P("exp_start_date",$.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"exp_end_date",children:"Expected End Date"}),l.jsx(zt,{id:"exp_end_date",type:"date",value:T.exp_end_date,onChange:$=>P("exp_end_date",$.target.value),max:(w==null?void 0:w.expected_end_date)||void 0}),(w==null?void 0:w.expected_end_date)&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",w.expected_end_date]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"progress",children:"Progress (%)"}),l.jsx(zt,{id:"progress",type:"number",min:"0",max:"100",value:T.progress,onChange:$=>P("progress",parseInt($.target.value)||0),placeholder:"0",disabled:C}),C?l.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[l.jsx("strong",{children:" Smart Progress Mode:"}),l.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[l.jsx("li",{children:"Progress is automatically calculated from subtasks"}),l.jsx("li",{children:"Only assignee can manually override progress"}),l.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):l.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[l.jsx("strong",{children:" Manual Progress Mode:"}),l.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"description",children:"Description"}),l.jsx("textarea",{id:"description",value:T.description,onChange:$=>P("description",$.target.value),placeholder:"Enter task description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),d&&l.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update task"]})}),l.jsxs(As,{className:"flex gap-2",children:[l.jsx(Ie,{type:"button",variant:"outline",onClick:K,children:"Cancel"}),l.jsx(Ie,{type:"submit",disabled:c,children:c?"Updating...":"Update Task"})]})]})]})})},G$=({task:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteDoc:a,loading:i,error:c}=am(),[d,f]=j.useState(!1),h=()=>ve(null,null,function*(){var g,b;if(e){f(!0);try{const y=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name"],filters:[["task","=",e.name]]})});if(y.ok){const w=(yield y.json()).message||[];if(w.length>0)for(const N of w)yield a("SubTask",N.name)}try{const _=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e.project]],orderBy:{field:"start_date",order:"asc"}})});if(_.ok){const N=(yield _.json()).message||[],S=[];for(const R of N)try{const D=yield fetch(`/api/resource/project_phase/${R.name}`,{headers:{Accept:"application/json"}});if(D.ok){const T=yield D.json(),k=((g=T.data)==null?void 0:g.tasks)||[],C=k.findIndex(A=>A.task===e.name);C>=0&&(console.log(`Found task ${e.name} in phase ${R.name}, will remove from child table...`),k.splice(C,1),S.push({name:R.name,data:oe(z({},T.data),{tasks:k})}))}else console.warn("Failed to fetch phase:",R.name)}catch(D){console.error("Error fetching phase:",R.name,D)}for(const R of S)try{(yield fetch(`/api/resource/project_phase/${R.name}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(R.data)})).ok?console.log(`Successfully removed task ${e.name} from phase ${R.name}`):console.warn(`Failed to update phase ${R.name} after removing task`)}catch(D){console.error(`Error updating phase ${R.name}:`,D)}}else console.warn("Failed to fetch phases list, proceeding with task deletion...")}catch(_){console.warn("Error checking phases for task references:",_)}yield a("Task",e.name),console.log(`Successfully deleted task ${e.name}`),s&&s(),n()}catch(y){console.error("Error deleting task:",y),(b=y==null?void 0:y.exception)!=null&&b.includes("LinkExistsError")?y.exception.includes("project_phase")||y.exception.includes("phase")?alert("Cannot delete task because it is still linked with project phases. The system tried to remove phase task links automatically but failed. Please contact administrator."):y.exception.includes("SubTask")?alert("Cannot delete task because it has linked subtasks. Please delete all subtasks first."):alert("Cannot delete task because it has linked dependencies. Please check related records."):alert("Error deleting task. Please try again.")}finally{f(!1)}}}),p=()=>{n()};return l.jsx(gs,{open:t,onOpenChange:n,children:l.jsxs(xs,{className:"sm:max-w-[400px]",children:[l.jsx(ys,{children:l.jsxs(bs,{className:"flex items-center gap-2 text-red-600",children:[l.jsx(um,{className:"h-5 w-5"}),"Delete Task"]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this task? This action cannot be undone."}),e&&l.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[l.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),e.project&&l.jsxs("div",{className:"text-sm text-blue-600",children:["Project: ",e.project]})]}),l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[l.jsxs("div",{className:"text-sm text-red-800",children:[l.jsx("strong",{children:" Warning:"})," Deleting this task will automatically:"]}),l.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Delete ALL subtasks first"})," (to resolve SubTask dependencies)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Remove task from ALL phase child tables"})," (for any phases this task is assigned to)"]}),l.jsx("li",{children:"Remove all task progress data"}),l.jsx("li",{children:"Delete task timeline and activities"}),l.jsx("li",{children:"Remove related comments and attachments"})]}),l.jsx("div",{className:"text-xs text-red-600 mt-2 font-medium",children:" The system will automatically search and handle ALL dependencies to prevent LinkExistsError."})]}),c&&l.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete task"]})})]}),l.jsxs(As,{className:"flex gap-2",children:[l.jsx(Ie,{type:"button",variant:"outline",onClick:p,disabled:d,children:"Cancel"}),l.jsx(Ie,{type:"button",variant:"destructive",onClick:h,disabled:d||i,children:d?"Deleting Task & SubTasks...":i?"Deleting...":"Delete Task"})]})]})})},rC=()=>{const{calculateAndUpdatePhaseProgress:e}=fE(),{calculateAndUpdateProjectProgress:t}=E6();return{updatePhaseProgressForTask:(a,i)=>ve(null,null,function*(){try{const c=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","tasks"],filters:[["project","=",i]]})});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const f=(yield c.json()).message||[],h=[];for(const p of f)try{const g=yield fetch(`/api/resource/project_phase/${p.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(g.ok){const b=yield g.json();b.data.tasks&&b.data.tasks.some(y=>y.task===a)&&h.push(p)}}catch(g){console.warn("Error fetching phase document:",p.name,g)}console.log(`Found ${h.length} phases affected by task ${a}`);for(const p of h)console.log(`Updating progress for phase ${p.name} after task ${a} change`),yield e(p.name);return console.log(`Updating overall project progress for ${i} after task ${a} change`),yield t(i),console.log(`Updated progress for ${h.length} phases and project ${i} affected by task ${a}`),h}catch(c){return console.error("Error updating phase progress for task:",c),[]}}),updateProjectProgress:a=>ve(null,null,function*(){try{console.log(`Updating overall project progress for ${a}`);const i=yield t(a);return i&&console.log(`Project ${a} progress updated to ${i.progress}% from ${i.source} (${i.count} items)`),i}catch(i){return console.error("Error updating project progress:",i),null}})}},K$=({task:e,projectName:t,onBack:n,onViewSubTaskDetails:s,onTaskUpdated:a,onTaskDeleted:i})=>{const[c,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),{updatePhaseProgressForTask:b}=rC(),{calculateAndUpdateTaskProgress:y}=ld(),{data:_,isLoading:w,mutate:N}=Dt("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:[["task","=",e.name]],orderBy:{field:"start_date",order:"asc"},limit:0}),{data:S}=Dt("ToDo",{fields:["name","allocated_to","status"],filters:[["reference_type","=","Task"],["reference_name","=",e.name]],limit:1}),R=S&&S.length>0?S[0].allocated_to:null,{data:D}=bn("User",R||void 0,{fields:["name","full_name","email","user_image"]}),T=$=>$?new Date($).toLocaleDateString():"N/A",k=$=>{switch($){case"Completed":return l.jsx(Kx,{className:"h-5 w-5 text-green-600"});case"Working":return l.jsx(tc,{className:"h-5 w-5 text-yellow-600"});case"Open":return l.jsx(Kl,{className:"h-5 w-5 text-blue-600"});default:return l.jsx(Kl,{className:"h-5 w-5 text-gray-400"})}},C=$=>{switch($){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},A=$=>{switch($){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},P=()=>{a&&a(),b(e.name,t).catch(console.error)},U=()=>{i&&i(),b(e.name,t).catch(console.error),n()},K=({subtask:$})=>{var ee;const{data:G}=Dt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",($==null?void 0:$.name)||""]]}),W=(ee=G==null?void 0:G[0])==null?void 0:ee.allocated_to;return l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{children:W})})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ie,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[l.jsx(Gx,{className:"h-4 w-4"}),"Back to Tasks"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"flex items-center gap-2",children:[l.jsx(Vu,{className:"h-4 w-4"}),"Edit Task"]}),l.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>g(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[l.jsx(Mo,{className:"h-4 w-4"}),"Delete Task"]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-orange-500 flex items-center justify-center",children:l.jsx("span",{className:"text-xl",children:""})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),l.jsx("p",{className:"text-sm text-gray-600",children:"Task Details"})]})]}),e.description&&l.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${C(e.status||"Open")}`,children:[k(e.status||"Open"),l.jsx("span",{className:"font-medium",children:e.status||"Open"})]}),e.priority&&l.jsx("div",{className:`px-3 py-1 rounded-full border ${A(e.priority)}`,children:l.jsx("span",{className:"text-sm font-medium",children:e.priority})})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Task Progress"}),l.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[e.progress||0,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${e.progress||0}%`}})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:l.jsx(Vr,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),l.jsx("p",{className:"text-lg font-bold text-gray-900",children:T(e.exp_start_date)})]})]})}),l.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:l.jsx(Jx,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),l.jsx("p",{className:"text-lg font-bold text-gray-900",children:T(e.exp_end_date)})]})]})}),l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:l.jsx(Ah,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Assigned To"}),S&&S.length>0?l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-bold text-gray-900",children:(D==null?void 0:D.full_name)||R}),(D==null?void 0:D.email)&&l.jsx("p",{className:"text-sm text-gray-600",children:D.email})]}):l.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Task Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Task ID"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),l.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${C(e.status||"Open")}`,children:[k(e.status||"Open"),l.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),l.jsx("div",{className:`px-3 py-1 rounded-full ${A(e.priority||"Medium")}`,children:l.jsx("span",{className:"font-medium",children:e.priority||"Medium"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Subtasks Count"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:(_==null?void 0:_.length)||0})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:e.exp_start_date&&e.exp_end_date?`${Math.ceil((new Date(e.exp_end_date).getTime()-new Date(e.exp_start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),l.jsxs("span",{className:"text-xl font-bold text-orange-600",children:[e.progress||0,"%"]})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Assigned To"}),S&&S.length>0?l.jsx("div",{children:l.jsx("p",{className:"text-lg font-bold text-gray-900",children:(D==null?void 0:D.full_name)||R})}):l.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"SubTasks"})}),w?l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),l.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),l.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):l.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[l.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:l.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[l.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),l.jsx("div",{className:"col-span-5 text-sm font-medium text-gray-700",children:"SubTask"}),l.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),l.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Assign To"}),l.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),l.jsxs("div",{className:"divide-y divide-gray-100",children:[_&&_.length>0?_.map(($,G)=>l.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[l.jsx("div",{className:"col-span-1 flex items-center",children:l.jsx("span",{className:"text-sm text-gray-600",children:G+1})}),l.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[l.jsx("div",{className:"p-1 bg-green-100 rounded",children:l.jsx("span",{className:"text-sm",children:""})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:$.subject||$.name}),l.jsx("div",{className:"text-sm text-gray-500",children:$.name})]})]}),l.jsx("div",{className:"col-span-2 flex items-center justify-center",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${C($.status||"Open")}`,children:$.status||"Open"})}),l.jsx("div",{className:"col-span-2 flex items-center justify-center",children:l.jsx(K,{subtask:$})}),l.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&l.jsx(Ie,{variant:"outline",size:"sm",onClick:()=>s($),className:"h-7 px-2 text-xs",children:"View Details"})})]},$.name)):l.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[l.jsx("div",{className:"text-4xl mb-2",children:""}),l.jsx("div",{className:"text-lg font-medium mb-1",children:"No subtasks yet"}),l.jsx("div",{className:"text-sm",children:'Click "Add SubTask" to create the first subtask for this task'})]}),l.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:l.jsx("div",{className:"col-span-12 flex items-center justify-center",children:l.jsxs(Ie,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>d(!0),children:[l.jsx(Ro,{className:"h-4 w-4"}),"Add new subtask to this task"]})})})]})]})]}),l.jsx(Em,{doctype:"Task",docname:e.name,title:"Task Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),l.jsx(Y$,{isOpen:c,onClose:()=>d(!1),projectName:t,parentTask:e.name,onSuccess:()=>ve(null,null,function*(){N(),setTimeout(()=>ve(null,null,function*(){yield y(e.name),setTimeout(()=>ve(null,null,function*(){yield b(e.name,t)}),500)}),500)})}),l.jsx(X$,{task:e,projectName:t,isOpen:f,onClose:()=>h(!1),onSuccess:P}),l.jsx(G$,{task:e,isOpen:p,onClose:()=>g(!1),onSuccess:U})]})},Q$=({subtask:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var T;const{updateSubTask:i,isLoading:c,error:d}=lE(),{assignSubTask:f,unassignSubTask:h}=yy(),{calculateAndUpdateTaskProgress:p}=ld(),{data:g,isLoading:b}=lc(t),{data:y}=Dt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[_,w]=j.useState({subject:"",status:"Open",start_date:"",end_date:"",description:"",assign_to:""}),N=((T=y==null?void 0:y[0])==null?void 0:T.allocated_to)||"";j.useEffect(()=>{e&&w({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:N})},[e,N]);const S=(k,C)=>{w(A=>oe(z({},A),{[k]:C}))},R=k=>ve(null,null,function*(){if(k.preventDefault(),!!e)try{const C=_,{assign_to:A}=C,P=ke(C,["assign_to"]);yield i(e.name,P);const U=N,K=A;if(U&&U!==K){const $=y==null?void 0:y.find(G=>G.allocated_to===U);$&&(yield h($.name))}K&&K!==U&&(yield f(e.name,K)),e.task&&P.status!==e.status&&(yield p(e.task)),a&&a(),s()}catch(A){console.error("Error updating subtask:",A)}}),D=()=>{e&&w({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:N}),s()};return l.jsx(gs,{open:n,onOpenChange:s,children:l.jsxs(xs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsx(ys,{children:l.jsx(bs,{children:"Edit SubTask"})}),l.jsxs("form",{onSubmit:R,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"subject",children:"Subject *"}),l.jsx(zt,{id:"subject",value:_.subject,onChange:k=>S("subject",k.target.value),required:!0,placeholder:"Enter subtask subject"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"status",children:"Status"}),l.jsxs("select",{id:"status",value:_.status,onChange:k=>S("status",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"Open",children:"Open"}),l.jsx("option",{value:"Working",children:"Working"}),l.jsx("option",{value:"Completed",children:"Completed"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"start_date",children:"Start Date"}),l.jsx(zt,{id:"start_date",type:"date",value:_.start_date,onChange:k=>S("start_date",k.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"end_date",children:"End Date"}),l.jsx(zt,{id:"end_date",type:"date",value:_.end_date,onChange:k=>S("end_date",k.target.value)})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"description",children:"Description"}),l.jsx("textarea",{id:"description",value:_.description,onChange:k=>S("description",k.target.value),placeholder:"Enter subtask description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"assign_to",children:"Assign To"}),l.jsxs("select",{id:"assign_to",value:_.assign_to,onChange:k=>S("assign_to",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,children:[l.jsx("option",{value:"",children:"Select user..."}),g==null?void 0:g.map(k=>l.jsx("option",{value:k.user||k.name,children:k.user||k.name},k.name))]}),b&&l.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&l.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update subtask"]})}),l.jsxs(As,{className:"flex gap-2",children:[l.jsx(Ie,{type:"button",variant:"outline",onClick:D,children:"Cancel"}),l.jsx(Ie,{type:"submit",disabled:c,children:c?"Updating...":"Update SubTask"})]})]})]})})},Z$=({subtask:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:i,error:c}=ms("frappe.client.delete"),{calculateAndUpdateTaskProgress:d}=ld(),f=()=>ve(null,null,function*(){if(e)try{if(yield a({doctype:"SubTask",name:e.name}),e.task)try{yield d(e.task)}catch(p){console.error("Error updating task progress after subtask deletion:",p)}s&&s(),n()}catch(p){console.error("Error deleting subtask:",p)}}),h=()=>{n()};return l.jsx(gs,{open:t,onOpenChange:n,children:l.jsxs(xs,{className:"sm:max-w-[400px]",children:[l.jsx(ys,{children:l.jsxs(bs,{className:"flex items-center gap-2 text-red-600",children:[l.jsx(um,{className:"h-5 w-5"}),"Delete SubTask"]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this subtask? This action cannot be undone."}),e&&l.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[l.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Task: ",e.task]})]}),l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[l.jsxs("div",{className:"text-sm text-red-800",children:[l.jsx("strong",{children:"Warning:"})," Deleting this subtask will also remove:"]}),l.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[l.jsx("li",{children:"All subtask progress data"}),l.jsx("li",{children:"Subtask timeline and activities"}),l.jsx("li",{children:"Related comments and attachments"}),l.jsx("li",{children:"Any associated time logs"})]})]}),c&&l.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Error:"})," ",c.message||"Failed to delete subtask"]})})]}),l.jsxs(As,{className:"flex gap-2",children:[l.jsx(Ie,{type:"button",variant:"outline",onClick:h,children:"Cancel"}),l.jsx(Ie,{type:"button",variant:"destructive",onClick:f,disabled:i,children:i?"Deleting...":"Delete SubTask"})]})]})})},J$=({subtask:e,projectName:t,onBack:n,onSubTaskUpdated:s,onSubTaskDeleted:a})=>{var D;const[i,c]=j.useState(!1),[d,f]=j.useState(!1),{calculateAndUpdateTaskProgress:h}=ld(),{updatePhaseProgressForTask:p}=rC(),{data:g}=Dt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),b=(D=g==null?void 0:g[0])==null?void 0:D.allocated_to,{data:y}=bn("User",b||"",{shouldFetch:!!b}),_=T=>T?new Date(T).toLocaleDateString():"N/A",w=T=>{switch(T){case"Completed":return l.jsx(Kx,{className:"h-5 w-5 text-green-600"});case"Working":return l.jsx(tc,{className:"h-5 w-5 text-yellow-600"});case"Open":return l.jsx(Kl,{className:"h-5 w-5 text-blue-600"});default:return l.jsx(Kl,{className:"h-5 w-5 text-gray-400"})}},N=T=>{switch(T){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},S=()=>ve(null,null,function*(){if(e!=null&&e.task)try{yield h(e.task);try{console.log(`Updating phase progress for task ${e.task} in project ${t}`),yield p(e.task,t),console.log("Phase and project progress updated after subtask edit")}catch(T){console.error("Error updating phase progress after subtask edit:",T)}}catch(T){console.error("Error updating task progress after subtask edit:",T)}s&&s()}),R=()=>ve(null,null,function*(){if(e!=null&&e.task)try{yield h(e.task);try{console.log(`Updating phase progress for task ${e.task} in project ${t}`),yield p(e.task,t),console.log("Phase and project progress updated after subtask delete")}catch(T){console.error("Error updating phase progress after subtask delete:",T)}}catch(T){console.error("Error updating task progress after subtask delete:",T)}a&&a(),n()});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ie,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[l.jsx(Gx,{className:"h-4 w-4"}),"Back to Tasks"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>c(!0),className:"flex items-center gap-2",children:[l.jsx(Vu,{className:"h-4 w-4"}),"Edit SubTask"]}),l.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>f(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[l.jsx(Mo,{className:"h-4 w-4"}),"Delete SubTask"]})]})]}),l.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500 flex items-center justify-center",children:l.jsx("span",{className:"text-xl",children:""})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),l.jsx("p",{className:"text-sm text-gray-600",children:"SubTask Details"})]})]}),e.description&&l.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${N(e.status||"Open")}`,children:[w(e.status||"Open"),l.jsx("span",{className:"font-medium",children:e.status||"Open"})]})})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:l.jsx(Vr,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),l.jsx("p",{className:"text-lg font-bold text-gray-900",children:_(e.start_date)})]})]})}),l.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:l.jsx(Jx,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),l.jsx("p",{className:"text-lg font-bold text-gray-900",children:_(e.end_date)})]})]})}),l.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:l.jsx(Hl,{className:"h-6 w-6 text-orange-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-orange-600 uppercase tracking-wide",children:"Parent Task"}),l.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.task||"N/A"})]})]})})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"SubTask Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"SubTask ID"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Parent Task"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:e.task||"N/A"})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),l.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${N(e.status||"Open")}`,children:[w(e.status||"Open"),l.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:_(e.start_date)})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"End Date"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:_(e.end_date)})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:e.start_date&&e.end_date?`${Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-gray-100",children:[l.jsxs("span",{className:"text-gray-600 font-medium flex items-center gap-2",children:[l.jsx(Ah,{className:"h-4 w-4"}),"Assigned To"]}),l.jsx("span",{className:"text-gray-900 font-semibold",children:b?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:(y==null?void 0:y.full_name)||b}),(y==null?void 0:y.user_image)&&l.jsx("img",{src:y.user_image,alt:y.full_name||b,className:"h-6 w-6 rounded-full"})]}):l.jsx("span",{className:"text-gray-400",children:"Not assigned"})})]})]})]})]}),e.description&&l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Description"}),l.jsx("div",{className:"prose max-w-none",children:l.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.description})})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Activity Timeline"}),l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("div",{className:"text-4xl mb-2",children:""}),l.jsx("div",{className:"text-lg font-medium mb-1",children:"No activity yet"}),l.jsx("div",{className:"text-sm",children:"Activity and updates will appear here when available"})]})]}),l.jsx(Em,{doctype:"SubTask",docname:e.name,title:"SubTask Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),l.jsx(Q$,{subtask:e,projectName:t,isOpen:i,onClose:()=>c(!1),onSuccess:S}),l.jsx(Z$,{subtask:e,isOpen:d,onClose:()=>f(!1),onSuccess:R})]})};var PS=1,eH=.9,tH=.8,nH=.17,S0=.1,N0=.999,sH=.9999,rH=.99,aH=/[\\\/_+.#"@\[\(\{&]/,iH=/[\\\/_+.#"@\[\(\{&]/g,oH=/[\s-]/,aC=/[\s-]/g;function Sx(e,t,n,s,a,i,c){if(i===t.length)return a===e.length?PS:rH;var d=`${a},${i}`;if(c[d]!==void 0)return c[d];for(var f=s.charAt(i),h=n.indexOf(f,a),p=0,g,b,y,_;h>=0;)g=Sx(e,t,n,s,h+1,i+1,c),g>p&&(h===a?g*=PS:aH.test(e.charAt(h-1))?(g*=tH,y=e.slice(a,h-1).match(iH),y&&a>0&&(g*=Math.pow(N0,y.length))):oH.test(e.charAt(h-1))?(g*=eH,_=e.slice(a,h-1).match(aC),_&&a>0&&(g*=Math.pow(N0,_.length))):(g*=nH,a>0&&(g*=Math.pow(N0,h-a))),e.charAt(h)!==t.charAt(i)&&(g*=sH)),(g<S0&&n.charAt(h-1)===s.charAt(i+1)||s.charAt(i+1)===s.charAt(i)&&n.charAt(h-1)!==s.charAt(i))&&(b=Sx(e,t,n,s,h+1,i+2,c),b*S0>g&&(g=b*S0)),g>p&&(p=g),h=n.indexOf(f,h+1);return c[d]=p,p}function LS(e){return e.toLowerCase().replace(aC," ")}function lH(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,Sx(e,t,LS(e),LS(t),0,0,{})}function Mi(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}var cH="DismissableLayer",Nx="dismissableLayer.update",uH="dismissableLayer.pointerDownOutside",dH="dismissableLayer.focusOutside",zS,iC=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oC=j.forwardRef((e,t)=>{var P;const A=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:c,onDismiss:d}=A,f=ke(A,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),h=j.useContext(iC),[p,g]=j.useState(null),b=(P=p==null?void 0:p.ownerDocument)!=null?P:globalThis==null?void 0:globalThis.document,[,y]=j.useState({}),_=kn(t,U=>g(U)),w=Array.from(h.layers),[N]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),S=w.indexOf(N),R=p?w.indexOf(p):-1,D=h.layersWithOutsidePointerEventsDisabled.size>0,T=R>=S,k=mH(U=>{const K=U.target,$=[...h.branches].some(G=>G.contains(K));!T||$||(a==null||a(U),c==null||c(U),U.defaultPrevented||d==null||d())},b),C=pH(U=>{const K=U.target;[...h.branches].some(G=>G.contains(K))||(i==null||i(U),c==null||c(U),U.defaultPrevented||d==null||d())},b);return ny(U=>{R===h.layers.size-1&&(s==null||s(U),!U.defaultPrevented&&d&&(U.preventDefault(),d()))},b),j.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(zS=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),US(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=zS)}},[p,b,n,h]),j.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),US())},[p,h]),j.useEffect(()=>{const U=()=>y({});return document.addEventListener(Nx,U),()=>document.removeEventListener(Nx,U)},[]),l.jsx(Ht.div,oe(z({},f),{ref:_,style:z({pointerEvents:D?T?"auto":"none":void 0},e.style),onFocusCapture:Mi(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Mi(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Mi(e.onPointerDownCapture,k.onPointerDownCapture)}))});oC.displayName=cH;var fH="DismissableLayerBranch",hH=j.forwardRef((e,t)=>{const n=j.useContext(iC),s=j.useRef(null),a=kn(t,s);return j.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(Ht.div,oe(z({},e),{ref:a}))});hH.displayName=fH;function mH(e,t=globalThis==null?void 0:globalThis.document){const n=ma(e),s=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=d=>{if(d.target&&!s.current){let f=function(){lC(uH,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function pH(e,t=globalThis==null?void 0:globalThis.document){const n=ma(e),s=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!s.current&&lC(dH,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function US(){const e=new CustomEvent(Nx);document.dispatchEvent(e)}function lC(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?ty(a,i):a.dispatchEvent(i)}function gH(e,t){return j.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var Tm=e=>{const{present:t,children:n}=e,s=xH(t),a=typeof n=="function"?n({present:s.isPresent}):j.Children.only(n),i=kn(s.ref,yH(a));return typeof n=="function"||s.isPresent?j.cloneElement(a,{ref:i}):null};Tm.displayName="Presence";function xH(e){const[t,n]=j.useState(),s=j.useRef(null),a=j.useRef(e),i=j.useRef("none"),c=e?"mounted":"unmounted",[d,f]=gH(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const h=oh(s.current);i.current=d==="mounted"?h:"none"},[d]),Tr(()=>{const h=s.current,p=a.current;if(p!==e){const b=i.current,y=oh(h);e?f("MOUNT"):y==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&b!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Tr(()=>{var h;if(t){let p;const g=(h=t.ownerDocument.defaultView)!=null?h:window,b=_=>{const N=oh(s.current).includes(_.animationName);if(_.target===t&&N&&(f("ANIMATION_END"),!a.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},y=_=>{_.target===t&&(i.current=oh(s.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:j.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function oh(e){return(e==null?void 0:e.animationName)||"none"}function yH(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var E0=0;function bH(){j.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:FS()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:FS()),E0++,()=>{E0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),E0--}},[])}function FS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Cm="Dialog",[cC,D7]=nd(Cm),[vH,Xr]=cC(Cm),uC=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:c=!0}=e,d=j.useRef(null),f=j.useRef(null),[h,p]=mm({prop:s,defaultProp:a!=null?a:!1,onChange:i,caller:Cm});return l.jsx(vH,{scope:t,triggerRef:d,contentRef:f,contentId:Ts(),titleId:Ts(),descriptionId:Ts(),open:h,onOpenChange:p,onOpenToggle:j.useCallback(()=>p(g=>!g),[p]),modal:c,children:n})};uC.displayName=Cm;var dC="DialogTrigger",wH=j.forwardRef((e,t)=>{const c=e,{__scopeDialog:n}=c,s=ke(c,["__scopeDialog"]),a=Xr(dC,n),i=kn(t,a.triggerRef);return l.jsx(Ht.button,oe(z({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Jy(a.open)},s),{ref:i,onClick:Mi(e.onClick,a.onOpenToggle)}))});wH.displayName=dC;var Qy="DialogPortal",[_H,fC]=cC(Qy,{forceMount:void 0}),hC=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=Xr(Qy,t);return l.jsx(_H,{scope:t,forceMount:n,children:j.Children.map(s,c=>l.jsx(Tm,{present:n||i.open,children:l.jsx(ad,{asChild:!0,container:a,children:c})}))})};hC.displayName=Qy;var nm="DialogOverlay",mC=j.forwardRef((e,t)=>{const n=fC(nm,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=ke(c,["forceMount"]),i=Xr(nm,e.__scopeDialog);return i.modal?l.jsx(Tm,{present:s||i.open,children:l.jsx(SH,oe(z({},a),{ref:t}))}):null});mC.displayName=nm;var jH=nc("DialogOverlay.RemoveScroll"),SH=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=Xr(nm,n);return l.jsx(id,{as:jH,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(Ht.div,oe(z({"data-state":Jy(a.open)},s),{ref:t,style:z({pointerEvents:"auto"},s.style)}))})}),Bo="DialogContent",pC=j.forwardRef((e,t)=>{const n=fC(Bo,e.__scopeDialog),c=e,{forceMount:s=n.forceMount}=c,a=ke(c,["forceMount"]),i=Xr(Bo,e.__scopeDialog);return l.jsx(Tm,{present:s||i.open,children:i.modal?l.jsx(NH,oe(z({},a),{ref:t})):l.jsx(EH,oe(z({},a),{ref:t}))})});pC.displayName=Bo;var NH=j.forwardRef((e,t)=>{const n=Xr(Bo,e.__scopeDialog),s=j.useRef(null),a=kn(t,n.contentRef,s);return j.useEffect(()=>{const i=s.current;if(i)return pm(i)},[]),l.jsx(gC,oe(z({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Mi(e.onCloseAutoFocus,i=>{var c;i.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Mi(e.onPointerDownOutside,i=>{const c=i.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&i.preventDefault()}),onFocusOutside:Mi(e.onFocusOutside,i=>i.preventDefault())}))}),EH=j.forwardRef((e,t)=>{const n=Xr(Bo,e.__scopeDialog),s=j.useRef(!1),a=j.useRef(!1);return l.jsx(gC,oe(z({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,i),i.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),gC=j.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i}=p,c=ke(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Xr(Bo,n),f=j.useRef(null),h=kn(t,f);return bH(),l.jsxs(l.Fragment,{children:[l.jsx(sd,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:l.jsx(oC,oe(z({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Jy(d.open)},c),{ref:h,onDismiss:()=>d.onOpenChange(!1)}))}),l.jsxs(l.Fragment,{children:[l.jsx(OH,{titleId:d.titleId}),l.jsx(AH,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Zy="DialogTitle",TH=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=Xr(Zy,n);return l.jsx(Ht.h2,oe(z({id:a.titleId},s),{ref:t}))});TH.displayName=Zy;var xC="DialogDescription",CH=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=Xr(xC,n);return l.jsx(Ht.p,oe(z({id:a.descriptionId},s),{ref:t}))});CH.displayName=xC;var yC="DialogClose",kH=j.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,s=ke(i,["__scopeDialog"]),a=Xr(yC,n);return l.jsx(Ht.button,oe(z({type:"button"},s),{ref:t,onClick:Mi(e.onClick,()=>a.onOpenChange(!1))}))});kH.displayName=yC;function Jy(e){return e?"open":"closed"}var bC="DialogTitleWarning",[A7,vC]=ey(bC,{contentName:Bo,titleName:Zy,docsSlug:"dialog"}),OH=({titleId:e})=>{const t=vC(bC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},DH="DialogDescriptionWarning",AH=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vC(DH).contentName}}.`;return j.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},RH=uC,MH=hC,PH=mC,LH=pC,Nu='[cmdk-group=""]',T0='[cmdk-group-items=""]',zH='[cmdk-group-heading=""]',wC='[cmdk-item=""]',BS=`${wC}:not([aria-disabled="true"])`,Ex="cmdk-item-select",Bl="data-value",UH=(e,t,n)=>lH(e,t,n),_C=j.createContext(void 0),hd=()=>j.useContext(_C),jC=j.createContext(void 0),eb=()=>j.useContext(jC),SC=j.createContext(void 0),NC=j.forwardRef((e,t)=>{let n=$l(()=>{var V,ne;return{search:"",value:(ne=(V=e.value)!=null?V:e.defaultValue)!=null?ne:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=$l(()=>new Set),a=$l(()=>new Map),i=$l(()=>new Map),c=$l(()=>new Set),d=EC(e),re=e,{label:f,children:h,value:p,onValueChange:g,filter:b,shouldFilter:y,loop:_,disablePointerSelection:w=!1,vimBindings:N=!0}=re,S=ke(re,["label","children","value","onValueChange","filter","shouldFilter","loop","disablePointerSelection","vimBindings"]),R=Ts(),D=Ts(),T=Ts(),k=j.useRef(null),C=GH();$o(()=>{if(p!==void 0){let V=p.trim();n.current.value=V,A.emit()}},[p]),$o(()=>{C(6,W)},[]);let A=j.useMemo(()=>({subscribe:V=>(c.current.add(V),()=>c.current.delete(V)),snapshot:()=>n.current,setState:(V,ne,xe)=>{var me,Te,Oe,He;if(!Object.is(n.current[V],ne)){if(n.current[V]=ne,V==="search")G(),K(),C(1,$);else if(V==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Pe=document.getElementById(T);Pe?Pe.focus():(me=document.getElementById(R))==null||me.focus()}if(C(7,()=>{var Pe;n.current.selectedItemId=(Pe=ee())==null?void 0:Pe.id,A.emit()}),xe||C(5,W),((Te=d.current)==null?void 0:Te.value)!==void 0){let Pe=ne!=null?ne:"";(He=(Oe=d.current).onValueChange)==null||He.call(Oe,Pe);return}}A.emit()}},emit:()=>{c.current.forEach(V=>V())}}),[]),P=j.useMemo(()=>({value:(V,ne,xe)=>{var me;ne!==((me=i.current.get(V))==null?void 0:me.value)&&(i.current.set(V,{value:ne,keywords:xe}),n.current.filtered.items.set(V,U(ne,xe)),C(2,()=>{K(),A.emit()}))},item:(V,ne)=>(s.current.add(V),ne&&(a.current.has(ne)?a.current.get(ne).add(V):a.current.set(ne,new Set([V]))),C(3,()=>{G(),K(),n.current.value||$(),A.emit()}),()=>{i.current.delete(V),s.current.delete(V),n.current.filtered.items.delete(V);let xe=ee();C(4,()=>{G(),(xe==null?void 0:xe.getAttribute("id"))===V&&$(),A.emit()})}),group:V=>(a.current.has(V)||a.current.set(V,new Set),()=>{i.current.delete(V),a.current.delete(V)}),filter:()=>d.current.shouldFilter,label:f||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:R,inputId:T,labelId:D,listInnerRef:k}),[]);function U(V,ne){var xe,me;let Te=(me=(xe=d.current)==null?void 0:xe.filter)!=null?me:UH;return V?Te(V,n.current.search,ne):0}function K(){if(!n.current.search||d.current.shouldFilter===!1)return;let V=n.current.filtered.items,ne=[];n.current.filtered.groups.forEach(me=>{let Te=a.current.get(me),Oe=0;Te.forEach(He=>{let Pe=V.get(He);Oe=Math.max(Pe,Oe)}),ne.push([me,Oe])});let xe=k.current;Y().sort((me,Te)=>{var Oe,He;let Pe=me.getAttribute("id"),rt=Te.getAttribute("id");return((Oe=V.get(rt))!=null?Oe:0)-((He=V.get(Pe))!=null?He:0)}).forEach(me=>{let Te=me.closest(T0);Te?Te.appendChild(me.parentElement===Te?me:me.closest(`${T0} > *`)):xe.appendChild(me.parentElement===xe?me:me.closest(`${T0} > *`))}),ne.sort((me,Te)=>Te[1]-me[1]).forEach(me=>{var Te;let Oe=(Te=k.current)==null?void 0:Te.querySelector(`${Nu}[${Bl}="${encodeURIComponent(me[0])}"]`);Oe==null||Oe.parentElement.appendChild(Oe)})}function $(){let V=Y().find(xe=>xe.getAttribute("aria-disabled")!=="true"),ne=V==null?void 0:V.getAttribute(Bl);A.setState("value",ne||void 0)}function G(){var V,ne,xe,me;if(!n.current.search||d.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let Te=0;for(let Oe of s.current){let He=(ne=(V=i.current.get(Oe))==null?void 0:V.value)!=null?ne:"",Pe=(me=(xe=i.current.get(Oe))==null?void 0:xe.keywords)!=null?me:[],rt=U(He,Pe);n.current.filtered.items.set(Oe,rt),rt>0&&Te++}for(let[Oe,He]of a.current)for(let Pe of He)if(n.current.filtered.items.get(Pe)>0){n.current.filtered.groups.add(Oe);break}n.current.filtered.count=Te}function W(){var V,ne,xe;let me=ee();me&&(((V=me.parentElement)==null?void 0:V.firstChild)===me&&((xe=(ne=me.closest(Nu))==null?void 0:ne.querySelector(zH))==null||xe.scrollIntoView({block:"nearest"})),me.scrollIntoView({block:"nearest"}))}function ee(){var V;return(V=k.current)==null?void 0:V.querySelector(`${wC}[aria-selected="true"]`)}function Y(){var V;return Array.from(((V=k.current)==null?void 0:V.querySelectorAll(BS))||[])}function H(V){let ne=Y()[V];ne&&A.setState("value",ne.getAttribute(Bl))}function J(V){var ne;let xe=ee(),me=Y(),Te=me.findIndex(He=>He===xe),Oe=me[Te+V];(ne=d.current)!=null&&ne.loop&&(Oe=Te+V<0?me[me.length-1]:Te+V===me.length?me[0]:me[Te+V]),Oe&&A.setState("value",Oe.getAttribute(Bl))}function te(V){let ne=ee(),xe=ne==null?void 0:ne.closest(Nu),me;for(;xe&&!me;)xe=V>0?YH(xe,Nu):XH(xe,Nu),me=xe==null?void 0:xe.querySelector(BS);me?A.setState("value",me.getAttribute(Bl)):J(V)}let ce=()=>H(Y().length-1),L=V=>{V.preventDefault(),V.metaKey?ce():V.altKey?te(1):J(1)},le=V=>{V.preventDefault(),V.metaKey?H(0):V.altKey?te(-1):J(-1)};return j.createElement(Ht.div,oe(z({ref:t,tabIndex:-1},S),{"cmdk-root":"",onKeyDown:V=>{var ne;(ne=S.onKeyDown)==null||ne.call(S,V);let xe=V.nativeEvent.isComposing||V.keyCode===229;if(!(V.defaultPrevented||xe))switch(V.key){case"n":case"j":{N&&V.ctrlKey&&L(V);break}case"ArrowDown":{L(V);break}case"p":case"k":{N&&V.ctrlKey&&le(V);break}case"ArrowUp":{le(V);break}case"Home":{V.preventDefault(),H(0);break}case"End":{V.preventDefault(),ce();break}case"Enter":{V.preventDefault();let me=ee();if(me){let Te=new Event(Ex);me.dispatchEvent(Te)}}}}}),j.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:QH},f),km(e,V=>j.createElement(jC.Provider,{value:A},j.createElement(_C.Provider,{value:P},V))))}),FH=j.forwardRef((e,t)=>{var n,s;let a=Ts(),i=j.useRef(null),c=j.useContext(SC),d=hd(),f=EC(e),h=(s=(n=f.current)==null?void 0:n.forceMount)!=null?s:c==null?void 0:c.forceMount;$o(()=>{if(!h)return d.item(a,c==null?void 0:c.id)},[h]);let p=TC(a,i,[e.value,e.children,i],e.keywords),g=eb(),b=Fi(A=>A.value&&A.value===p.current),y=Fi(A=>h||d.filter()===!1?!0:A.search?A.filtered.items.get(a)>0:!0);j.useEffect(()=>{let A=i.current;if(!(!A||e.disabled))return A.addEventListener(Ex,_),()=>A.removeEventListener(Ex,_)},[y,e.onSelect,e.disabled]);function _(){var A,P;w(),(P=(A=f.current).onSelect)==null||P.call(A,p.current)}function w(){g.setState("value",p.current,!0)}if(!y)return null;let C=e,{disabled:N,value:S,onSelect:R,forceMount:D,keywords:T}=C,k=ke(C,["disabled","value","onSelect","forceMount","keywords"]);return j.createElement(Ht.div,oe(z({ref:Po(i,t)},k),{id:a,"cmdk-item":"",role:"option","aria-disabled":!!N,"aria-selected":!!b,"data-disabled":!!N,"data-selected":!!b,onPointerMove:N||d.getDisablePointerSelection()?void 0:w,onClick:N?void 0:_}),e.children)}),BH=j.forwardRef((e,t)=>{let y=e,{heading:n,children:s,forceMount:a}=y,i=ke(y,["heading","children","forceMount"]),c=Ts(),d=j.useRef(null),f=j.useRef(null),h=Ts(),p=hd(),g=Fi(_=>a||p.filter()===!1?!0:_.search?_.filtered.groups.has(c):!0);$o(()=>p.group(c),[]),TC(c,d,[e.value,e.heading,f]);let b=j.useMemo(()=>({id:c,forceMount:a}),[a]);return j.createElement(Ht.div,oe(z({ref:Po(d,t)},i),{"cmdk-group":"",role:"presentation",hidden:g?void 0:!0}),n&&j.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),km(e,_=>j.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},j.createElement(SC.Provider,{value:b},_))))}),$H=j.forwardRef((e,t)=>{let c=e,{alwaysRender:n}=c,s=ke(c,["alwaysRender"]),a=j.useRef(null),i=Fi(d=>!d.search);return!n&&!i?null:j.createElement(Ht.div,oe(z({ref:Po(a,t)},s),{"cmdk-separator":"",role:"separator"}))}),HH=j.forwardRef((e,t)=>{let h=e,{onValueChange:n}=h,s=ke(h,["onValueChange"]),a=e.value!=null,i=eb(),c=Fi(p=>p.search),d=Fi(p=>p.selectedItemId),f=hd();return j.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),j.createElement(Ht.input,oe(z({ref:t},s),{"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":d,id:f.inputId,type:"text",value:a?e.value:c,onChange:p=>{a||i.setState("search",p.target.value),n==null||n(p.target.value)}}))}),VH=j.forwardRef((e,t)=>{let h=e,{children:n,label:s="Suggestions"}=h,a=ke(h,["children","label"]),i=j.useRef(null),c=j.useRef(null),d=Fi(p=>p.selectedItemId),f=hd();return j.useEffect(()=>{if(c.current&&i.current){let p=c.current,g=i.current,b,y=new ResizeObserver(()=>{b=requestAnimationFrame(()=>{let _=p.offsetHeight;g.style.setProperty("--cmdk-list-height",_.toFixed(1)+"px")})});return y.observe(p),()=>{cancelAnimationFrame(b),y.unobserve(p)}}},[]),j.createElement(Ht.div,oe(z({ref:Po(i,t)},a),{"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":s,id:f.listId}),km(e,p=>j.createElement("div",{ref:Po(c,f.listInnerRef),"cmdk-list-sizer":""},p)))}),IH=j.forwardRef((e,t)=>{let f=e,{open:n,onOpenChange:s,overlayClassName:a,contentClassName:i,container:c}=f,d=ke(f,["open","onOpenChange","overlayClassName","contentClassName","container"]);return j.createElement(RH,{open:n,onOpenChange:s},j.createElement(MH,{container:c},j.createElement(PH,{"cmdk-overlay":"",className:a}),j.createElement(LH,{"aria-label":e.label,"cmdk-dialog":"",className:i},j.createElement(NC,z({ref:t},d)))))}),qH=j.forwardRef((e,t)=>Fi(n=>n.filtered.count===0)?j.createElement(Ht.div,oe(z({ref:t},e),{"cmdk-empty":"",role:"presentation"})):null),WH=j.forwardRef((e,t)=>{let c=e,{progress:n,children:s,label:a="Loading..."}=c,i=ke(c,["progress","children","label"]);return j.createElement(Ht.div,oe(z({ref:t},i),{"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a}),km(e,d=>j.createElement("div",{"aria-hidden":!0},d)))}),fc=Object.assign(NC,{List:VH,Item:FH,Input:HH,Group:BH,Separator:$H,Dialog:IH,Empty:qH,Loading:WH});function YH(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function XH(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function EC(e){let t=j.useRef(e);return $o(()=>{t.current=e}),t}var $o=typeof window=="undefined"?j.useEffect:j.useLayoutEffect;function $l(e){let t=j.useRef();return t.current===void 0&&(t.current=e()),t}function Fi(e){let t=eb(),n=()=>e(t.snapshot());return j.useSyncExternalStore(t.subscribe,n,n)}function TC(e,t,n,s=[]){let a=j.useRef(),i=hd();return $o(()=>{var c;let d=(()=>{var h;for(let p of n){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(h=p.current.textContent)==null?void 0:h.trim():a.current}})(),f=s.map(h=>h.trim());i.value(e,d,f),(c=t.current)==null||c.setAttribute(Bl,d),a.current=d}),a}var GH=()=>{let[e,t]=j.useState(),n=$l(()=>new Map);return $o(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,a)=>{n.current.set(s,a),t({})}};function KH(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function km({asChild:e,children:t},n){return e&&j.isValidElement(t)?j.cloneElement(KH(t),{ref:t.ref},n(t.props.children)):n(t)}var QH={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function ZH(n){var s=n,{className:e}=s,t=ke(s,["className"]);return l.jsx(fc,z({"data-slot":"command",className:jn("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e)},t))}function JH(n){var s=n,{className:e}=s,t=ke(s,["className"]);return l.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[l.jsx(cm,{className:"size-4 shrink-0 opacity-50"}),l.jsx(fc.Input,z({"data-slot":"command-input",className:jn("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e)},t))]})}function e7(n){var s=n,{className:e}=s,t=ke(s,["className"]);return l.jsx(fc.List,z({"data-slot":"command-list",className:jn("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e)},t))}function C0(t){var e=ke(t,[]);return l.jsx(fc.Empty,z({"data-slot":"command-empty",className:"py-6 text-center text-sm"},e))}function t7(n){var s=n,{className:e}=s,t=ke(s,["className"]);return l.jsx(fc.Group,z({"data-slot":"command-group",className:jn("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e)},t))}function n7(n){var s=n,{className:e}=s,t=ke(s,["className"]);return l.jsx(fc.Item,z({"data-slot":"command-item",className:jn("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e)},t))}function Sr({doctype:e,value:t="",onChange:n,placeholder:s="Select option...",className:a="w-[200px]",fields:i=["name"],filters:c=[],displayField:d="name",valueField:f="name",disabled:h=!1,limit:p=20}){const[g,b]=j.useState(!1),[y,_]=j.useState(""),w=j.useMemo(()=>{let A={};if(c.length>0&&c.forEach(U=>{if(Array.isArray(U)&&U.length>=3){const[K,$,G]=U;$==="="&&(A[K]=G)}}),y.trim()&&(A[d]=["like",`%${y}%`]),Object.keys(A).length===0&&y.trim())return[[d,"like",`%${y}%`]];const P=[];return Object.entries(A).forEach(([U,K])=>{Array.isArray(K)?P.push([U,K[0],K[1]]):P.push([U,"=",K])}),P.length>0?P:void 0},[y,c,d]),{data:N,isLoading:S,error:R}=Dt(e,{fields:[...new Set([...i,d,f])],filters:w,limit:p,orderBy:{field:d,order:"asc"}}),D=j.useMemo(()=>!N||!Array.isArray(N)?[]:N.map(A=>({value:A[f],label:A[d]})),[N,d,f]),T=D.find(A=>A.value===t),k=A=>{n(A===t?"":A),b(!1)},C=A=>{_(A)};return l.jsxs(py,{open:g,onOpenChange:b,children:[l.jsx(gy,{asChild:!0,children:l.jsxs(Ie,{variant:"outline",role:"combobox","aria-expanded":g,className:jn("justify-between",a),disabled:h,children:[(T==null?void 0:T.label)||s,l.jsx(YM,{className:"opacity-50"})]})}),l.jsx(xy,{className:jn("p-0",a),children:l.jsxs(ZH,{shouldFilter:!1,children:[l.jsx(JH,{placeholder:`Search ${e.toLowerCase()}...`,className:"h-9",value:y,onValueChange:C}),l.jsxs(e7,{children:[S&&l.jsx(C0,{children:"Loading..."}),R&&l.jsx(C0,{children:"Error loading data."}),!S&&!R&&D.length===0&&l.jsxs(C0,{children:["No ",e.toLowerCase()," found."]}),!S&&!R&&D.length>0&&l.jsx(t7,{children:D.map(A=>l.jsxs(n7,{value:A.value,onSelect:k,children:[A.label,l.jsx(HM,{className:jn("ml-auto",t===A.value?"opacity-100":"opacity-0")})]},A.value))})]})]})})]})}const CC=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{updateProject:a,isLoading:i}=b6(),{currentUser:c}=ir(),{data:d}=bn("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),f=(d==null?void 0:d.users)||(e==null?void 0:e.users)||[],h=()=>{if(c==="Administrator"||(e==null?void 0:e.owner)===c)return!0;const S=f.find(R=>R.user===c);return(S==null?void 0:S.project_status)==="Project Manager (Owner Substitute)"},{register:p,control:g,handleSubmit:b,reset:y,formState:{errors:_}}=Qu({defaultValues:{project_name:"",customer:"",project_type:"",status:"Open",priority:"Medium",department:"",company:"",cost_center:"",expected_start_date:"",expected_end_date:"",notes:""}});j.useEffect(()=>{e&&y({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""})},[e,y]);const w=S=>ve(null,null,function*(){if(e){if(S.status==="Completed"&&!h()){un.error("Permission denied",{description:"You don't have permission to mark this project as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}try{yield a(e.name,S),un.success("Project updated successfully"),s&&setTimeout(()=>{s()},100),n()}catch(R){let D="Edit project failed";if(R!=null&&R._server_messages)try{const T=JSON.parse(R._server_messages);Array.isArray(T)&&T.length>0&&(D=JSON.parse(T[0]).message||D)}catch(T){console.error("Parse error messages failed:",T)}else R!=null&&R.message&&(D=R.message);un.error("Update project failed",{description:D}),console.error("Error updating project:",R)}}}),N=()=>{e&&y({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""}),n()};return l.jsx(gs,{open:t,onOpenChange:n,children:l.jsxs(xs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsx(ys,{children:l.jsx(bs,{children:"Edit Project"})}),l.jsxs("form",{onSubmit:b(w),className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"project_name",children:"Project Name *"}),l.jsx(zt,oe(z({id:"project_name"},p("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),_.project_name&&l.jsx("span",{className:"text-red-500 text-sm",children:_.project_name.message})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Le,{children:"Customer"}),l.jsx(_r,{name:"customer",control:g,render:({field:S})=>l.jsx(Sr,{doctype:"Customer",value:S.value||"",onChange:S.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Le,{children:"Project Type"}),l.jsx(_r,{name:"project_type",control:g,render:({field:S})=>l.jsx(Sr,{doctype:"Project Type",value:S.value||"",onChange:S.onChange,placeholder:"Select type...",className:"w-full"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{children:"Status"}),l.jsxs("select",oe(z({},p("status")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[l.jsx("option",{value:"",children:"Select status..."}),l.jsx("option",{value:"Open",children:"Open"}),h()&&l.jsx("option",{value:"Completed",children:"Completed"}),l.jsx("option",{value:"Cancelled",children:"Cancelled"})]})),!h()&&l.jsx("span",{className:"text-xs text-amber-600",children:"You dont have permission to mark Completed"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{children:"Priority"}),l.jsxs("select",oe(z({},p("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[l.jsx("option",{value:"",children:"Select priority..."}),l.jsx("option",{value:"Low",children:"Low"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"High",children:"High"}),l.jsx("option",{value:"Urgent",children:"Urgent"})]}))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Le,{children:"Department"}),l.jsx(_r,{name:"department",control:g,render:({field:S})=>l.jsx(Sr,{doctype:"Department",value:S.value||"",onChange:S.onChange,placeholder:"Select department...",className:"w-full"})})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Le,{children:"Company"}),l.jsx(_r,{name:"company",control:g,render:({field:S})=>l.jsx(Sr,{doctype:"Company",value:S.value||"",onChange:S.onChange,placeholder:"Select company...",className:"w-full"})})]})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Le,{children:"Cost Center"}),l.jsx(_r,{name:"cost_center",control:g,render:({field:S})=>l.jsx(Sr,{doctype:"Cost Center",value:S.value||"",onChange:S.onChange,placeholder:"Select cost center...",className:"w-full"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"expected_start_date",children:"Expected Start Date"}),l.jsx(zt,z({id:"expected_start_date",type:"date"},p("expected_start_date")))]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"expected_end_date",children:"Expected End Date"}),l.jsx(zt,z({id:"expected_end_date",type:"date"},p("expected_end_date")))]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"notes",children:"Notes"}),l.jsx("textarea",oe(z({id:"notes"},p("notes")),{placeholder:"Enter project notes",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}))]}),l.jsxs(As,{className:"flex gap-2",children:[l.jsx(Ie,{type:"button",variant:"outline",onClick:N,children:"Cancel"}),l.jsx(Ie,{type:"submit",disabled:i,children:i?"Updating...":"Update Project"})]})]})]})})},kC=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteProjectCascade:a}=C6(),[i,c]=j.useState(!1),[d,f]=j.useState(null),[h,p]=j.useState(""),g=()=>ve(null,null,function*(){if(!e){console.error("No project selected for deletion"),un.error("Delete project failed",{description:"No project selected"});return}if(i){console.log("Delete already in progress, ignoring duplicate request");return}c(!0),f(null),p("Starting deletion...");try{console.log(`Starting deletion for project: ${e.name}`),p("Deleting subtasks..."),yield new Promise(_=>setTimeout(_,300)),p("Deleting tasks..."),yield new Promise(_=>setTimeout(_,300)),p("Deleting project phases..."),yield new Promise(_=>setTimeout(_,300)),p("Cleaning up dependencies..."),yield new Promise(_=>setTimeout(_,300)),p("Deleting project...");const y=yield a(e.name);p("Deletion completed successfully!"),console.log("Cascade deletion result:",y),un.success("Project deleted successfully",{description:`Project "${e.name}" and all related items have been deleted.`}),s&&s(),n()}catch(y){let _="Delete project failed",w=!1;if(y!=null&&y._server_messages)try{const N=JSON.parse(y._server_messages);Array.isArray(N)&&N.length>0&&(_=JSON.parse(N[0]).message||_)}catch(N){console.error("Parse error messages failed:",N)}else y!=null&&y.message&&(_=y.message,(_.includes("dependencies")||_.includes("linked")||_.includes("referenced")||_.includes("Unknown project deletion error"))&&(w=!0,_+=`

Tip: This error usually resolves on the second attempt. Please try again.`));console.error("Error deleting project:",y),un.error("Delete project failed",{description:_,duration:w?8e3:5e3}),f(y instanceof Error?y:new Error(_)),p("")}finally{c(!1)}}),b=()=>{i||(f(null),p(""),n())};return l.jsx(gs,{open:t,onOpenChange:n,children:l.jsxs(xs,{className:"sm:max-w-[400px]",children:[l.jsx(ys,{children:l.jsxs(bs,{className:"flex items-center gap-2 text-red-600",children:[l.jsx(um,{className:"h-5 w-5"}),"Delete Project"]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this project? This action cannot be undone."}),e&&l.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[l.jsx("div",{className:"font-medium text-gray-900",children:e.project_name}),l.jsx("div",{className:"text-sm text-gray-600",children:e.customer||"No customer"}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]})]}),l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[l.jsxs("div",{className:"text-sm text-red-800",children:[l.jsx("strong",{children:"Warning:"})," This will permanently delete in the following order:"]}),l.jsxs("ol",{className:"text-sm text-red-700 mt-1 ml-4 list-decimal",children:[l.jsx("li",{children:"All subtasks in all tasks"}),l.jsx("li",{children:"All tasks in the project"}),l.jsx("li",{children:"All project phases"}),l.jsx("li",{children:"All ToDo assignments"}),l.jsx("li",{children:"All project team members"}),l.jsx("li",{children:"The project itself"})]}),l.jsx("div",{className:"text-sm text-red-800 mt-2",children:l.jsx("strong",{children:"This action cannot be undone!"})})]}),i&&h&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Y0,{className:"h-4 w-4 animate-spin text-blue-600"}),l.jsxs("span",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Progress:"})," ",h]})]}),l.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Please wait while we delete all related items..."})]}),d&&l.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Error:"})," ",d.message||"Failed to delete project"]})})]}),l.jsxs(As,{className:"flex gap-2",children:[l.jsx(Ie,{type:"button",variant:"outline",onClick:b,disabled:i,children:i?"Deleting...":"Cancel"}),l.jsx(Ie,{type:"button",variant:"destructive",onClick:g,disabled:i,className:"min-w-[120px]",children:i?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Y0,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Project"})]})]})})};function s7({isOpen:e,onClose:t,projectName:n,onSuccess:s}){const[a,i]=j.useState(!1),{call:c}=ms("todo.api.add_project_member"),d=Qu();j.useEffect(()=>{e&&(d.reset(),d.clearErrors())},[e,d]);const f=()=>{a||(t(),d.reset(),d.clearErrors())},h=p=>ve(null,null,function*(){if(n&&!a){i(!0);try{const g=yield c({project_name:n,user:p.user,view_attachments:p.view_attachments?1:0,hide_timesheets:p.hide_timesheets?1:0,project_status:p.project_status||"Team Member"});console.log("Member added successfully:",g),t(),setTimeout(()=>{d.reset(),d.clearErrors()},0),setTimeout(()=>{s()},1e3),alert("Member added successfully!")}catch(g){console.error("Error adding member:",g);const b=g instanceof Error?g.message:String(g),y=JSON.stringify(g);b.includes("Email Account")||b.includes("OutgoingEmailError")||b.includes("email")||b.includes("SMTP")||y.includes("OutgoingEmailError")||y.includes("Email Account")?(console.log("Email error detected, member likely added successfully"),t(),setTimeout(()=>{d.reset(),d.clearErrors()},0),setTimeout(()=>{s(),alert("Member added successfully! (Welcome email could not be sent due to email configuration, but the member was added to the project)")},1e3)):b.includes("DuplicateEntryError")||b.includes("already exists")?alert("This user is already a member of the project."):b.includes("PermissionError")||b.includes("Not permitted")?alert("You do not have permission to add members to this project."):b.includes("ValidationError")?alert("Invalid data provided. Please check your inputs."):alert("Failed to add member: "+b)}finally{i(!1)}}});return l.jsx(gs,{open:e,onOpenChange:f,children:l.jsx(xs,{className:"sm:max-w-md",children:l.jsxs("form",{onSubmit:d.handleSubmit(h),onKeyDown:p=>{p.key==="Enter"&&p.target instanceof HTMLInputElement&&p.preventDefault()},children:[l.jsxs(ys,{children:[l.jsx(bs,{children:"Add Team Member"}),l.jsx(fd,{children:"Add a new member to the project team."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsxs(Le,{children:["User ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(_r,{name:"user",control:d.control,rules:{required:"Please select a user"},render:({field:p})=>l.jsx(Sr,{doctype:"User",value:p.value||"",onChange:g=>{console.log("Combobox onChange:",g),p.onChange(g),g&&d.formState.errors.user&&d.clearErrors("user")},placeholder:a?"Please wait...":"Select user...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email","user_image"],className:"w-full",disabled:a},`add-member-${e?"open":"closed"}-${Date.now()}`)}),d.formState.errors.user&&l.jsx("span",{className:"text-red-500 text-sm",children:d.formState.errors.user.message})]}),l.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[l.jsx(Le,{className:"text-sm font-medium",children:"Permissions"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",oe(z({type:"checkbox",id:"add_view_attachments"},d.register("view_attachments")),{defaultChecked:!0,disabled:a,className:"rounded border-gray-300"})),l.jsx(Le,{htmlFor:"add_view_attachments",className:"text-sm",children:"Can view attachments"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",oe(z({type:"checkbox",id:"add_hide_timesheets"},d.register("hide_timesheets")),{disabled:a,className:"rounded border-gray-300"})),l.jsx(Le,{htmlFor:"add_hide_timesheets",className:"text-sm",children:"Hide timesheets from this user"})]})]})]}),l.jsxs(As,{className:"gap-2",children:[l.jsx(Ie,{type:"button",variant:"outline",onClick:f,disabled:a,children:"Cancel"}),l.jsx(Ie,{type:"submit",disabled:a||!d.watch("user"),className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:a?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Adding..."]}):"Add Member"})]})]})})})}function OC({project:e,isOpen:t,onClose:n}){const[s,a]=j.useState("overview"),[i,c]=j.useState(null),[d,f]=j.useState(null),[h,p]=j.useState(null),[g,b]=j.useState(!1),[y,_]=j.useState(!1),[w,N]=j.useState(!1),[S,R]=j.useState(!1),[D,T]=j.useState(!1),[k,C]=j.useState(!1);j.useEffect(()=>{t||(a("overview"),c(null),f(null),p(null),b(!1),_(!1),N(!1),R(!1),T(!1),C(!1))},[t]),j.useEffect(()=>{y||(me.reset(),me.clearErrors())},[y]),j.useEffect(()=>{w||(Te.reset(),Te.clearErrors())},[w]);const{data:A,isLoading:P,mutate:U}=bn("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),{call:K}=ms("frappe.client.delete"),{call:$}=ms("todo.api.remove_project_member"),{data:G,error:W,isLoading:ee}=bn("User",(e==null?void 0:e.owner)||"",e!=null&&e.owner?void 0:null),{data:Y,mutate:H}=bn("SubTask",(h==null?void 0:h.name)||"",h!=null&&h.name?void 0:null),{data:J,mutate:te}=bn("Task",(d==null?void 0:d.name)||"",d!=null&&d.name?void 0:null),{currentUser:ce}=ir(),L=(A==null?void 0:A.users)||(e==null?void 0:e.users)||[],le=P,re=j.useMemo(()=>({progress:(A==null?void 0:A.percent_complete)||(e==null?void 0:e.percent_complete)||0,source:"project",count:1}),[A==null?void 0:A.percent_complete,e==null?void 0:e.percent_complete]),V=()=>ve(null,null,function*(){if(h!=null&&h.name)try{yield H()}catch(Me){console.error("Error refreshing subtask data:",Me)}}),ne=()=>ve(null,null,function*(){if(d!=null&&d.name)try{yield te()}catch(Me){console.error("Error refreshing task data:",Me)}}),xe=Me=>ve(null,null,function*(){(d==null?void 0:d.name)===Me&&(yield ne())});j.useEffect(()=>{Y&&(h==null?void 0:h.name)===Y.name&&p(Y)},[Y,h==null?void 0:h.name]),j.useEffect(()=>{J&&(d==null?void 0:d.name)===J.name&&f(J)},[J,d==null?void 0:d.name]);const me=Qu(),Te=Qu(),Oe=Me=>ve(null,null,function*(){if(e!=null&&e.name&&confirm("Are you sure you want to remove this member from the project?"))try{const st=yield $({project_name:e.name,user:Me});console.log("Member removed successfully:",st),setTimeout(()=>U(),1e3),alert("Member removed successfully!")}catch(st){console.error("Error removing member:",st);const ft=st instanceof Error?st.message:String(st);if(ft.includes("Email Account")||ft.includes("OutgoingEmailError")||ft.includes("email")||ft.includes("SMTP"))console.log("Email error detected when removing member, checking if removal was successful"),setTimeout(()=>{U(),alert("Member removed successfully! (Email notification failed to send, but member was removed from project)")},1e3);else if(ft.includes("PermissionError")||ft.includes("Not permitted"))alert("You do not have permission to remove members from this project.");else if(ft.includes("ValidationError"))alert("Cannot remove member: Validation error occurred.");else if(ft.includes("LinkExistsError")||ft.includes("Cannot delete"))alert("Cannot remove member: This user may have linked records (tasks, timesheets, etc.). Please remove or reassign those records first.");else if(ft.includes("is not a member of this project"))alert("This user is not a member of the project."),setTimeout(()=>U(),500);else{console.log("Custom API failed, trying fallback method");try{const X=L.find(fe=>fe.user===Me);X!=null&&X.name?(yield K({doctype:"Project User",name:X.name}),setTimeout(()=>U(),1e3),alert("Member removed successfully! (Using fallback method)")):alert("User record not found.")}catch(X){console.error("Fallback method also failed:",X),alert(`Failed to remove member: ${ft}`)}}}}),He=()=>(e==null?void 0:e.owner)===ce||ce==="Administrator",Pe=Me=>{switch(Me){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},rt=Me=>Me?new Date(Me).toLocaleDateString():"N/A",Ge=()=>{R(!0)},mt=()=>{T(!0)},ze=()=>{U(),Gl(Me=>typeof Me=="string"&&Me.includes("Project"),void 0,{revalidate:!0})},St=()=>{n()};if(!e)return null;const at=A||e;return l.jsx(c$,{open:t,onOpenChange:n,direction:"right",children:l.jsxs(f$,{children:[l.jsxs("div",{className:"w-full h-full overflow-y-auto p-6",children:[l.jsxs(h$,{className:"px-0 pb-6",children:[l.jsxs(p$,{className:"flex gap-4 justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:l.jsx("span",{className:"text-2xl font-bold text-white",children:at.project_name.charAt(0).toUpperCase()})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:at.project_name}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`inline-flex px-4 py-2 text-sm font-semibold rounded-full ${Pe(at.status)}`,children:at.status||"Open"}),at.project_type&&l.jsx("span",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full",children:at.project_type})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Ie,{variant:"outline",size:"sm",onClick:Ge,className:"flex items-center gap-2",children:[l.jsx(Vu,{className:"h-4 w-4"}),"Edit"]}),l.jsxs(Ie,{variant:"outline",size:"sm",onClick:mt,className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[l.jsx(Mo,{className:"h-4 w-4"}),"Delete"]}),l.jsx(Ie,{variant:"ghost",size:"sm",onClick:n,children:"X"})]})]}),l.jsx(g$,{className:"text-lg text-gray-600 mt-4",children:"Project Details and Progress Overview"}),l.jsxs("div",{className:"flex border-b border-gray-200 mt-6",children:[l.jsx("button",{onClick:()=>a("overview"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overview"}),l.jsx("button",{onClick:()=>a("tasks"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="tasks"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Tasks & Phases"}),l.jsxs("button",{onClick:()=>a("team"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="team"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(yh,{className:"h-4 w-4"}),"Team (",((L==null?void 0:L.length)||0)+1,")"]}),i&&l.jsxs("button",{onClick:()=>a("phase-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="phase-details"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[" ",i.subject,l.jsx("span",{onClick:Me=>{Me.stopPropagation(),c(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close phase details",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d&&l.jsxs("button",{onClick:()=>a("task-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="task-details"?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[" ",d.subject||d.name,l.jsx("span",{onClick:Me=>{Me.stopPropagation(),f(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close task details",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),h&&l.jsxs("button",{onClick:()=>a("subtask-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="subtask-details"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[" ",h.subject||h.name,l.jsx("span",{onClick:Me=>{Me.stopPropagation(),p(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close subtask details",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),l.jsxs("div",{className:"space-y-8",children:[s==="overview"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Project Progress"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-lg font-medium text-gray-700",children:"Overall Progress"}),l.jsx("span",{className:"text-xs text-gray-500"})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[re.progress,"%"]})})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${re.progress}%`}})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:l.jsx(Ah,{className:"h-8 w-8 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Customer"}),l.jsx("p",{className:"text-xl font-bold text-gray-900",children:at.customer||"N/A"})]})]})}),l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:l.jsx(Qx,{className:"h-8 w-8 text-green-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Budget"}),l.jsx("p",{className:"text-xl font-bold text-gray-900",children:So(at.estimated_costing)})]})]})}),l.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:l.jsx(Vr,{className:"h-8 w-8 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"Deadline"}),l.jsx("p",{className:"text-xl font-bold text-gray-900",children:rt(at.expected_end_date)})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Project Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:rt(at.expected_start_date)})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:at.priority||"Medium"})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Department"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:at.department||"N/A"})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Company"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:at.company||"N/A"})]})]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Financial Metrics"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Total Cost"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:So(at.total_costing_amount)})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Total Sales"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:So(at.total_sales_amount)})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Billable Amount"}),l.jsx("span",{className:"text-gray-900 font-semibold",children:So(at.total_billable_amount)})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Gross Margin"}),l.jsx("span",{className:"text-lg font-bold text-green-600",children:So(at.gross_margin)})]})]})]})]}),l.jsx(Em,{doctype:"Project",docname:e.name,title:"Project Files",allowUpload:!0,allowDelete:!0,className:"mt-8"})]}),s==="team"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(eP,{className:"h-6 w-6 text-yellow-600"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Owner"})]}),He()&&l.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>{Te.reset({owner:(e==null?void 0:e.owner)||""}),N(!0)},className:"flex items-center gap-2",children:[l.jsx(Vu,{className:"h-4 w-4"}),"Change Owner"]})]}),l.jsxs("div",{className:"flex items-center gap-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[l.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:l.jsx(Ah,{className:"h-6 w-6 text-yellow-600"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ee?"Loading...":G!=null&&G.full_name?G.full_name:at!=null&&at.owner?at.owner:"No Owner"}),l.jsx("p",{className:"text-sm text-gray-600",children:ee?"Loading email...":G!=null&&G.email?G.email:at!=null&&at.owner?at.owner:"No email"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded",children:"Project Owner"}),(G==null?void 0:G.designation)&&l.jsx("span",{className:"text-xs text-gray-500",children:G.designation}),W&&l.jsx("span",{className:"text-xs text-red-500",children:"(Error loading user details)"})]})]})]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(yh,{className:"h-6 w-6 text-blue-600"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Team Members"}),l.jsxs("span",{className:"inline-flex px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:[(L==null?void 0:L.length)||0," members"]})]}),l.jsxs(Ie,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>b(!0),children:[l.jsx(Ro,{className:"h-4 w-4 mr-1"}),"Add Member"]})]}),le?l.jsxs("div",{className:"flex items-center justify-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading team members..."})]}):L&&L.length>0?l.jsx("div",{className:"grid gap-4",children:L.map((Me,st)=>l.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[l.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center overflow-hidden",children:Me.image?l.jsx("img",{src:Me.image,alt:Me.full_name||Me.user,className:"h-full w-full object-cover"}):l.jsx("span",{className:"text-sm font-semibold text-blue-600",children:(Me.full_name||Me.user||"U").charAt(0).toUpperCase()})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-semibold text-gray-900",children:Me.full_name||Me.user||"Unknown User"}),l.jsx("p",{className:"text-sm text-gray-600",children:Me.email||Me.user||"No email"}),Me.project_status&&l.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Status: ",Me.project_status]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:"Team Member"}),Me.view_attachments&&l.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded",children:"Can View Files"}),l.jsxs(Ie,{size:"sm",variant:"outline",className:"text-xs text-red-600 hover:text-red-700",onClick:()=>Oe(Me.user),children:[l.jsx(Mo,{className:"h-3 w-3 mr-1"}),"Remove"]})]})]},Me.user||st))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(yh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No team members added yet"}),l.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Add team members to collaborate on this project"}),l.jsxs(Ie,{className:"mt-4 bg-blue-600 hover:bg-blue-700",onClick:()=>b(!0),children:[l.jsx(Ro,{className:"h-4 w-4 mr-2"}),"Add First Member"]})]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Statistics"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((L==null?void 0:L.length)||0)+1}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),l.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[l.jsx("p",{className:"text-2xl font-bold text-green-600",children:"1"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Project Owner"})]}),l.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[l.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(L==null?void 0:L.length)||0}),l.jsx("p",{className:"text-sm text-gray-600",children:"Team Members"})]}),l.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[l.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(e==null?void 0:e.percent_complete)||0,"%"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Progress"})]})]})]})]}),s==="tasks"&&l.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:l.jsx(H$,{projectName:e.name,onViewPhaseDetails:Me=>{c(Me),a("phase-details")},onViewTaskDetails:Me=>{f(Me),a("task-details")},onViewSubTaskDetails:Me=>{p(Me),a("subtask-details")}})}),s==="phase-details"&&i&&l.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:l.jsx(W$,{phase:i,projectName:e.name,onBack:()=>a("tasks"),onViewTaskDetails:Me=>{f(Me),a("task-details")},onPhaseUpdated:()=>ve(null,null,function*(){U()}),onPhaseDeleted:()=>ve(null,null,function*(){U(),a("tasks"),c(null)}),onTaskCreated:()=>ve(null,null,function*(){U()})})}),s==="task-details"&&d&&l.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:l.jsx(K$,{task:d,projectName:e.name,onBack:()=>a("tasks"),onViewSubTaskDetails:Me=>{p(Me),a("subtask-details")},onTaskUpdated:()=>ve(null,null,function*(){U(),yield ne()}),onTaskDeleted:()=>ve(null,null,function*(){U(),a("tasks"),f(null)})})}),s==="subtask-details"&&h&&l.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:l.jsx(J$,{subtask:h,projectName:e.name,onBack:()=>a("tasks"),onSubTaskUpdated:()=>ve(null,null,function*(){U(),yield V(),h!=null&&h.task&&(yield xe(h.task))}),onSubTaskDeleted:()=>ve(null,null,function*(){U(),a("tasks"),p(null)})})})]}),l.jsx(m$,{className:"px-0 mt-8 pt-6 border-t border-gray-200",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx(Ie,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",onClick:()=>a("tasks"),children:"View Tasks"}),l.jsx(Ie,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",children:"View Timeline"})]})})]}),l.jsx(s7,{isOpen:g,onClose:()=>b(!1),projectName:e.name,onSuccess:()=>{setTimeout(()=>U(),1e3)}}),l.jsx(CC,{project:e,isOpen:S,onClose:()=>R(!1),onSuccess:ze}),l.jsx(kC,{project:e,isOpen:D,onClose:()=>T(!1),onSuccess:St})]})})}const DC=({project:e,onProjectUpdated:t,onProjectDeleted:n,onCloseDrawer:s})=>{const[a,i]=j.useState(!1),[c,d]=j.useState(!1),[f,h]=j.useState(!1),p=_=>{_&&_.stopPropagation(),i(!0),h(!1)},g=_=>{_&&_.stopPropagation(),d(!0),h(!1)},b=()=>{t&&t()},y=()=>{n&&n(),s&&s()};return l.jsxs(l.Fragment,{children:[l.jsxs(py,{open:f,onOpenChange:h,children:[l.jsx(gy,{asChild:!0,children:l.jsx(Ie,{variant:"ghost",size:"sm",onClick:_=>{_.stopPropagation(),h(!f)},className:"h-8 w-8 p-0",children:l.jsx(rP,{className:"h-4 w-4"})})}),l.jsx(xy,{className:"w-48 p-2",align:"end",onClick:_=>_.stopPropagation(),children:l.jsxs("div",{className:"space-y-1",children:[l.jsxs(Ie,{variant:"ghost",size:"sm",onClick:_=>p(_),className:"w-full justify-start text-left",children:[l.jsx(DP,{className:"mr-2 h-4 w-4"}),"Edit Project"]}),l.jsxs(Ie,{variant:"ghost",size:"sm",onClick:_=>g(_),className:"w-full justify-start text-left text-red-600 hover:text-red-700 hover:bg-red-50",children:[l.jsx(Mo,{className:"mr-2 h-4 w-4"}),"Delete Project"]})]})})]}),l.jsx(CC,{project:e,isOpen:a,onClose:()=>i(!1),onSuccess:b}),l.jsx(kC,{project:e,isOpen:c,onClose:()=>d(!1),onSuccess:y})]})},r7=({projects:e,onProjectsChange:t})=>{const[n,s]=j.useState(null),[a,i]=j.useState(!1),c=h=>{s(h),i(!0)},d=()=>{i(!1),s(null)},f=h=>{switch(h){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map(h=>l.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 hover:shadow-md transition-shadow duration-200 cursor-pointer",onClick:()=>c(h),children:[l.jsx("div",{className:"h-48 bg-gray-200 flex items-center justify-center",children:l.jsx("div",{className:"text-4xl font-bold text-gray-400",children:h.project_name.charAt(0).toUpperCase()})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate flex-1",children:h.project_name}),l.jsxs("div",{className:"flex items-center gap-2",onClick:p=>p.stopPropagation(),children:[l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(h.status)}`,children:h.status||"Open"}),l.jsx(DC,{project:h,onProjectUpdated:t,onProjectDeleted:t,onCloseDrawer:d})]})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:h.project_type||"N/A"}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),l.jsxs("span",{className:"text-sm text-gray-600",children:[h.percent_complete||0,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${h.percent_complete||0}%`}})})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[l.jsx("span",{children:h.customer||"N/A"}),l.jsx("span",{children:So(h.estimated_costing)})]})]})]},h.name))}),l.jsx(OC,{project:n,isOpen:a,onClose:d})]})},a7=({projects:e,onProjectsChange:t})=>{const[n,s]=j.useState(null),[a,i]=j.useState(!1),[c,d]=j.useState(null),f=w=>{s(w),i(!0)},h=()=>{i(!1),s(null)},p=()=>{n&&(d(n.name),setTimeout(()=>{d(null)},5e3)),console.log("handleProjectUpdated called, about to refresh data..."),i(!1),s(null),Gl(w=>typeof w=="string"&&w.includes("Project"),void 0,{revalidate:!0}),Gl("/api/resource/Project"),Gl("Project"),t?(console.log("Calling onProjectsChange to refresh data immediately"),t()):console.log("onProjectsChange is not available"),setTimeout(()=>{t&&(console.log("Calling onProjectsChange again as backup"),t())},100)},g=()=>{d(null),t&&t()},b=j.useMemo(()=>[...e].sort((w,N)=>{const S=new Date(w.modified||w.creation||0);return new Date(N.modified||N.creation||0).getTime()-S.getTime()}),[e]),y=w=>{switch(w){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},_=w=>w?new Date(w).toLocaleDateString():"N/A";return l.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[l.jsx("div",{className:"overflow-hidden",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deadline"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(w=>l.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer transition-colors ${c===w.name?"bg-green-50 border-l-4 border-green-400":""}`,onClick:()=>f(w),children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:l.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-bold text-gray-600",children:w.project_name.charAt(0).toUpperCase()})})}),l.jsxs("div",{className:"ml-4",style:{maxWidth:"300px"},children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 cursor-help",title:w.project_name,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:w.project_name}),l.jsx("div",{className:"text-sm text-gray-500",children:w.project_type||"N/A"})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${y(w.status)}`,children:w.status||"Open"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${w.percent_complete||0}%`}})}),l.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[w.percent_complete||0,"%"]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:So(w.estimated_costing)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_(w.expected_end_date)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",onClick:N=>N.stopPropagation(),children:l.jsx(DC,{project:w,onProjectUpdated:p,onProjectDeleted:g,onCloseDrawer:h})})]},w.name))})]})}),l.jsx(OC,{project:n,isOpen:a,onClose:h})]})},i7=({projects:e,onFilteredProjectsChange:t,viewMode:n,onViewModeChange:s})=>{var _;const[a,i]=se.useState({searchText:"",selectedTeam:"",selectedStatus:""}),[c,d]=se.useState(!1),{data:f=[]}=nE(),h=[{value:"",label:"All Status"},{value:"Open",label:"Open"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],p=se.useMemo(()=>{const w=[{value:"",label:"All Teams"},...f.map(N=>({value:N.name,label:N.team||N.name}))];return[w[0],...w.slice(1).sort((N,S)=>N.label.localeCompare(S.label))]},[f]);se.useEffect(()=>{let w=[...e];if(a.searchText.trim()){const N=a.searchText.toLowerCase();w=w.filter(S=>S.project_name.toLowerCase().includes(N)||S.name.toLowerCase().includes(N))}a.selectedTeam&&(w=w.filter(N=>(N.team||"")===a.selectedTeam)),a.selectedStatus&&(w=w.filter(N=>N.status===a.selectedStatus)),t(w)},[a.searchText,a.selectedTeam,a.selectedStatus,e]);const g=(w,N)=>{i(S=>oe(z({},S),{[w]:N}))},b=()=>{i({searchText:"",selectedTeam:"",selectedStatus:""})},y=a.searchText||a.selectedTeam||a.selectedStatus;return l.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[l.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(cm,{className:"h-4 w-4 text-gray-400"})}),l.jsx("input",{type:"text",value:a.searchText,onChange:w=>g("searchText",w.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects by name..."})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>d(!c),className:`inline-flex items-center px-3 py-2 border rounded-md text-sm font-medium bg-white hover:bg-gray-50 ${y?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700"}`,children:[l.jsx(Zx,{className:"mr-2 h-4 w-4"}),"Filter",y&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[a.selectedTeam,a.selectedStatus].filter(Boolean).length})]}),c&&l.jsx("div",{className:"absolute top-full left-0 mt-2 w-80 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Filters"}),y&&l.jsx("button",{onClick:b,className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team"}),l.jsx("select",{value:a.selectedTeam,onChange:w=>g("selectedTeam",w.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:f.length===0,children:p.map(w=>l.jsx("option",{value:w.value,children:w.label},w.value))}),f.length===0&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No teams available"}),f.length>0&&e.filter(w=>w.team).length===0&&l.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Projects haven't been assigned to teams yet"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),l.jsx("select",{value:a.selectedStatus,onChange:w=>g("selectedStatus",w.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:h.map(w=>l.jsx("option",{value:w.value,children:w.label},w.value))})]})]})})]}),l.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 border border-gray-200 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>s("grid"),className:`p-2 rounded-md transition-colors ${n==="grid"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"Grid view",children:l.jsx(pP,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>s("list"),className:`p-2 rounded-md transition-colors ${n==="list"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"List view",children:l.jsx(_P,{className:"h-4 w-4"})})]})]}),y&&l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx("span",{children:"Active filters:"}),l.jsxs("div",{className:"flex space-x-1",children:[a.selectedTeam&&l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Team: ",(_=p.find(w=>w.value===a.selectedTeam))==null?void 0:_.label,l.jsx("button",{onClick:()=>g("selectedTeam",""),className:"ml-1 text-blue-600 hover:text-blue-800",children:""})]}),a.selectedStatus&&l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Status: ",a.selectedStatus,l.jsx("button",{onClick:()=>g("selectedStatus",""),className:"ml-1 text-green-600 hover:text-green-800",children:""})]})]})]})]}),c&&l.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>d(!1)})]})},o7=({onProjectCreated:e})=>{const[t,n]=j.useState(!1),{createProject:s,isLoading:a}=y6(),{register:i,control:c,handleSubmit:d,reset:f,formState:{errors:h,isSubmitting:p}}=Qu({defaultValues:{status:"Open",priority:"Medium"}}),g=b=>ve(null,null,function*(){try{yield s(b),f(),n(!1),Gl(y=>typeof y=="string"&&y.includes("Project"),void 0,{revalidate:!0}),un.success("Project created successfully"),e&&e()}catch(y){let _="Create project failed";if(y!=null&&y._server_messages)try{const w=JSON.parse(y._server_messages);Array.isArray(w)&&w.length>0&&(_=JSON.parse(w[0]).message||_)}catch(w){console.error("Parse error messages failed:",w)}else y!=null&&y.message&&(_=y.message);un.error("Create project failed",{description:_}),console.error("Error creating project:",y)}});return l.jsxs(gs,{open:t,onOpenChange:n,children:[l.jsx(R$,{asChild:!0,children:l.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[l.jsx(Ro,{className:"mr-2 h-4 w-4"}),"New Project"]})}),l.jsx(xs,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:l.jsxs("form",{onSubmit:d(g),children:[l.jsxs(ys,{children:[l.jsx(bs,{children:"Create New Project"}),l.jsx(fd,{children:"Fill in the project details. Fields marked with * are required."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsxs(Le,{htmlFor:"project_name",children:["Project Name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(zt,oe(z({id:"project_name"},i("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),h.project_name&&l.jsx("span",{className:"text-red-500 text-sm",children:h.project_name.message})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Le,{children:"Customer"}),l.jsx(_r,{name:"customer",control:c,render:({field:b})=>l.jsx(Sr,{doctype:"Customer",value:b.value||"",onChange:b.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Le,{children:"Project Type"}),l.jsx(_r,{name:"project_type",control:c,render:({field:b})=>l.jsx(Sr,{doctype:"Project Type",value:b.value||"",onChange:b.onChange,placeholder:"Select type...",className:"w-full"})})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsxs(Le,{children:["Status ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",oe(z({},i("status",{required:"Status is required"})),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[l.jsx("option",{value:"Open",children:"Open"}),l.jsx("option",{value:"Completed",children:"Completed"}),l.jsx("option",{value:"Cancelled",children:"Cancelled"})]}))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Le,{children:"Priority"}),l.jsxs("select",oe(z({},i("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[l.jsx("option",{value:"",children:"Select priority..."}),l.jsx("option",{value:"Low",children:"Low"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"High",children:"High"}),l.jsx("option",{value:"Critical",children:"Critical"})]}))]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Le,{children:"Department"}),l.jsx(_r,{name:"department",control:c,render:({field:b})=>l.jsx(Sr,{doctype:"Department",value:b.value||"",onChange:b.onChange,placeholder:"Select department...",className:"w-full"})})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Le,{children:"Company"}),l.jsx(_r,{name:"company",control:c,render:({field:b})=>l.jsx(Sr,{doctype:"Company",value:b.value||"",onChange:b.onChange,placeholder:"Select company...",className:"w-full"})})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Le,{children:"Cost Center"}),l.jsx(_r,{name:"cost_center",control:c,render:({field:b})=>l.jsx(Sr,{doctype:"Cost Center",value:b.value||"",onChange:b.onChange,placeholder:"Select cost center...",displayField:"cost_center_name",valueField:"name",className:"w-full"})})]})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Le,{children:"Project Template"}),l.jsx(_r,{name:"project_template",control:c,render:({field:b})=>l.jsx(Sr,{doctype:"Project Template",value:b.value||"",onChange:b.onChange,placeholder:"Select project template...",className:"w-full"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Le,{children:"Expected Start Date"}),l.jsx(zt,z({type:"date"},i("expected_start_date")))]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Le,{children:"Expected End Date"}),l.jsx(zt,z({type:"date"},i("expected_end_date")))]})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Le,{children:"Notes"}),l.jsx("textarea",oe(z({},i("notes")),{placeholder:"Enter project notes...",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}))]})]}),l.jsxs(As,{children:[l.jsx(P$,{asChild:!0,children:l.jsx(Ie,{type:"button",variant:"outline",children:"Cancel"})}),l.jsx(Ie,{type:"submit",disabled:p||a,className:"bg-blue-600 hover:bg-blue-700",children:p||a?"Creating...":"Create Project"})]})]})})]})},l7=()=>{const[e,t]=se.useState("list"),[n,s]=se.useState([]),{data:a=[],isLoading:i,error:c,mutate:d}=x6();se.useEffect(()=>{s(a)},[a]);const f=()=>ve(null,null,function*(){d&&(yield d())}),h=se.useCallback(p=>{s(p)},[]);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Projects"}),l.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Showing ",n.length," of ",a.length," projects"]})]}),l.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:l.jsx(o7,{onProjectCreated:f})})]}),!i&&!c&&a.length>0&&l.jsx(i7,{projects:a,onFilteredProjectsChange:h,viewMode:e,onViewModeChange:t}),i?l.jsx("div",{className:"flex justify-center items-center p-8",children:l.jsx("div",{className:"text-gray-500",children:"Loading projects..."})}):c?l.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-red-50 rounded-lg border border-red-200",children:l.jsxs("div",{className:"text-red-700 text-center",children:[l.jsx("p",{className:"text-lg font-medium mb-2",children:"Error loading projects"}),l.jsx("p",{className:"text-sm mb-2",children:c.message}),c.message.includes("PermissionError")&&l.jsxs("div",{className:"text-sm text-red-600 bg-red-100 p-3 rounded mt-2",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Permission Issue:"})," You don't have access to view projects."]}),l.jsx("p",{children:"Please contact your system administrator to:"}),l.jsxs("ul",{className:"list-disc list-inside mt-1",children:[l.jsx("li",{children:'Grant you "Read" permission for Project doctype'}),l.jsx("li",{children:"Add you to projects as a team member"}),l.jsx("li",{children:"Make you the owner of projects"})]})]})]})}):a.length===0?l.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:l.jsxs("div",{className:"text-gray-500 text-center",children:[l.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects found"}),l.jsx("p",{className:"text-sm",children:"You are not currently participating in any projects."}),l.jsx("p",{className:"text-sm",children:"Create a new project or ask to be added to an existing one."})]})}):n.length===0?l.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:l.jsxs("div",{className:"text-gray-500 text-center",children:[l.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects match your filters"}),l.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria or clear the filters."})]})}):l.jsx(l.Fragment,{children:e==="grid"?l.jsx(r7,{projects:n,onProjectsChange:f}):l.jsx(a7,{projects:n,onProjectsChange:f})})]})},c7=({team:e})=>{var T,k;const{data:t,isLoading:n,error:s}=bn("Team",e),a=t==null?void 0:t.team_member,{data:i,isLoading:c,error:d}=Dt("User",{fields:["name","full_name","user_image","first_name","last_name","email"],filters:[["enabled","=",1],["user_type","=","System User"]],limit:0}),{simpleTeamData:f,isLoading:h}=M6(),p=!s||!((T=s.message)!=null&&T.includes("PermissionError")),{allTasks:g,allSubTasks:b,isLoading:y,error:_}=A6(),{todos:w,isLoading:N,error:S}=k6(),R=j.useMemo(()=>{const C=[];return g.forEach(A=>{const P=w==null?void 0:w.find(U=>U.reference_type==="Task"&&U.reference_name===A.name);C.push({id:A.name,title:A.subject||"Untitled Task",description:A.description||"No description available",project:A.project||"Unknown Project",assignee:(P==null?void 0:P.allocated_to)||A.completed_by||A.owner||"Unknown",status:A.status||"Open",priority:A.priority||"Medium",dueDate:A.exp_end_date||new Date().toISOString().split("T")[0],labels:[A.type||"Task"],todoId:(P==null?void 0:P.name)||"",referenceName:A.name,referenceType:"Task",type:"Task",taskProgress:A.progress,expectedTime:A.expected_time,actualTime:0,startDate:A.exp_start_date,endDate:A.exp_end_date})}),b.forEach(A=>{const P=w==null?void 0:w.find(U=>U.reference_type==="SubTask"&&U.reference_name===A.name);C.push({id:A.name,title:A.subject||"Untitled SubTask",description:A.description||"No description available",project:"Unknown Project",assignee:(P==null?void 0:P.allocated_to)||A.assigned_to||A.owner||"Unknown",status:A.status||"Open",priority:"Medium",dueDate:A.end_date||new Date().toISOString().split("T")[0],labels:["SubTask"],todoId:(P==null?void 0:P.name)||"",referenceName:A.name,referenceType:"SubTask",type:"SubTask",parentTask:A.task,startDate:A.start_date,endDate:A.end_date})}),C.sort((A,P)=>new Date(P.dueDate).getTime()-new Date(A.dueDate).getTime())},[g,b,w]);return{teamMembersData:j.useMemo(()=>{var C;if(!a||(C=s==null?void 0:s.message)!=null&&C.includes("PermissionError")){if(f&&f.length>0)return f.map(A=>{const P=R.filter(U=>U.assignee===A.id);return{id:A.id,name:A.name,role:A.role,taskCount:P.length,avatar:A.avatar,tasks:P,user:i==null?void 0:i.find(U=>U.name===A.id)}});if(i&&i.length>0){const A=i[0],P=R.filter(U=>U.assignee===(A==null?void 0:A.name));return[{id:(A==null?void 0:A.name)||"unknown",name:(A==null?void 0:A.full_name)||(A==null?void 0:A.first_name)||"Current User",role:"Member",taskCount:P.length,avatar:(A==null?void 0:A.user_image)||`https://placehold.co/40x40/e2e8f0/475569?text=${((A==null?void 0:A.first_name)||"U").charAt(0).toUpperCase()}`,tasks:P,user:A}]}return[]}return i?a.map(A=>{const P=i.find($=>$.name===A.user),U=R.filter($=>$.assignee===A.user),K=(P==null?void 0:P.user_image)||`https://placehold.co/40x40/e2e8f0/475569?text=${((P==null?void 0:P.first_name)||(P==null?void 0:P.full_name)||"U").charAt(0).toUpperCase()}`;return{id:A.user||"",name:(P==null?void 0:P.full_name)||(P==null?void 0:P.first_name)||A.user||"Unknown User",role:A.role||"Member",taskCount:U.length,avatar:K,tasks:U,user:P}}):[]},[a,i,R,s,f]),allTransformedTasks:R,isLoading:n||c||y||h||N,error:s&&!((k=s.message)!=null&&k.includes("PermissionError"))?s:d||_||S,teamMembers:a,users:i,hasTeamMemberPermission:p}},u7=({task:e,isOpen:t,onClose:n,onSuccess:s,isLeader:a})=>{const i=(e==null?void 0:e.type)==="SubTask",{updateTask:c,isLoading:d,error:f}=rE(),{assignTask:h,unassignTask:p}=aE(),{updateTaskProgress:g}=uE(),{updateTaskProgressByStatus:b}=cE(),{updateSubTask:y,isLoading:_,error:w}=lE(),{assignSubTask:N,unassignSubTask:S}=yy(),R=d||_,D=f||w,{data:T}=bn("Project",(e==null?void 0:e.project)||"",{enabled:!!(e!=null&&e.project)&&!i}),{data:k}=Dt("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=",i?"SubTask":"Task"],["reference_name","=",(e==null?void 0:e.referenceName)||""]]}),{data:C}=Dt("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.referenceName)||""]],limit:1}),[A,P]=j.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,description:"",assign_to:""}),[U,K]=j.useState(!1);j.useEffect(()=>{var ee;if(e){const Y=((ee=k==null?void 0:k[0])==null?void 0:ee.allocated_to)||"";P({subject:e.title||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.startDate?e.startDate.split(" ")[0]:"",end_date:e.endDate?e.endDate.split(" ")[0]:"",progress:e.taskProgress||0,description:e.description||"",assign_to:Y})}},[e,k]),j.useEffect(()=>{i||K(!!(C&&C.length>0))},[C,i]);const $=(ee,Y)=>{P(H=>oe(z({},H),{[ee]:Y}))},G=ee=>ve(null,null,function*(){var Y,J,te;if(ee.preventDefault(),!!e){if(A.start_date&&A.end_date){const ce=new Date(A.start_date);if(new Date(A.end_date)<ce){un.error("End date cannot be earlier than start date");return}}if(!i&&A.end_date&&(T!=null&&T.expected_end_date)){const ce=new Date(A.end_date),L=new Date(T.expected_end_date);if(ce>L){un.error(`Task end date cannot be after project end date (${T.expected_end_date})`);return}}try{const ce=((Y=k==null?void 0:k[0])==null?void 0:Y.allocated_to)||"",L=A.assign_to;if(i){const H=A,{assign_to:le}=H,re=ke(H,["assign_to"]),V={subject:re.subject,status:re.status,start_date:re.start_date,end_date:re.end_date,description:re.description};if(yield y(e.referenceName,V),ce&&ce!==L){const ne=k==null?void 0:k.find(xe=>xe.allocated_to===ce);ne&&(yield S(ne.name))}L&&L!==ce&&(yield N(e.referenceName,L)),V.status,e.status,un.success("SubTask updated successfully",{description:`SubTask "${A.subject}" has been updated.`})}else{const le=A.progress!==(e.taskProgress||0),re=A.status!==e.status,V={subject:A.subject,status:A.status,priority:A.priority,exp_start_date:A.start_date,exp_end_date:A.end_date,progress:A.progress,description:A.description};if(U&&le?yield g(e.referenceName,A.progress):re&&(A.status==="Completed"||A.status==="Cancelled")?yield b(e.referenceName,A.status):yield c(e.referenceName,V),ce!==L){if(ce&&(k!=null&&k[0]))try{yield p(k[0].name)}catch(ne){console.error("Error deleting old ToDo:",ne)}if(L)try{yield h(e.referenceName,A.subject,L,A.priority)}catch(ne){console.error("Error creating new ToDo:",ne)}}un.success("Task updated successfully",{description:`Task "${A.subject}" has been updated.`})}s&&s(),n()}catch(ce){console.error("Error updating task/subtask:",ce);let L=`Failed to update ${i?"subtask":"task"}`;(J=ce==null?void 0:ce.message)!=null&&J.includes("modified")?L=`The ${i?"subtask":"task"} has been modified by someone else. Please close and reopen to get the latest version.`:(te=ce==null?void 0:ce.message)!=null&&te.includes("permission")?L=`You do not have permission to update this ${i?"subtask":"task"}.`:ce!=null&&ce.message&&(L=ce.message),un.error(`Failed to update ${i?"subtask":"task"}`,{description:L})}}}),W=()=>{var ee;if(e){const Y=((ee=k==null?void 0:k[0])==null?void 0:ee.allocated_to)||"";P({subject:e.title||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.startDate?e.startDate.split(" ")[0]:"",end_date:e.endDate?e.endDate.split(" ")[0]:"",progress:e.taskProgress||0,description:e.description||"",assign_to:Y})}n()};return e?l.jsx(gs,{open:t,onOpenChange:n,children:l.jsxs(xs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsx(ys,{children:l.jsxs(bs,{children:["Edit ",i?"SubTask":"Task"]})}),l.jsxs("form",{onSubmit:G,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"subject",children:"Subject *"}),l.jsx(zt,{id:"subject",value:A.subject,onChange:ee=>$("subject",ee.target.value),required:!0,placeholder:`Enter ${i?"subtask":"task"} subject`})]}),l.jsxs("div",{className:`grid ${i?"grid-cols-1":"grid-cols-2"} gap-4`,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"status",children:"Status"}),l.jsxs("select",{id:"status",value:A.status,onChange:ee=>$("status",ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"Open",children:"Open"}),l.jsx("option",{value:"Working",children:"Working"}),l.jsx("option",{value:"Pending Review",children:"Pending Review"}),!i&&l.jsx("option",{value:"Overdue",children:"Overdue"}),a&&l.jsx("option",{value:"Completed",children:"Completed"}),a&&l.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),!i&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"priority",children:"Priority"}),l.jsxs("select",{id:"priority",value:A.priority,onChange:ee=>$("priority",ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"Low",children:"Low"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"High",children:"High"}),l.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"start_date",children:i?"Start Date":"Expected Start Date"}),l.jsx(zt,{id:"start_date",type:"date",value:A.start_date,onChange:ee=>$("start_date",ee.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"end_date",children:i?"End Date":"Expected End Date"}),l.jsx(zt,{id:"end_date",type:"date",value:A.end_date,onChange:ee=>$("end_date",ee.target.value),max:!i&&(T!=null&&T.expected_end_date)?T.expected_end_date:void 0}),!i&&(T==null?void 0:T.expected_end_date)&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",T.expected_end_date]})]})]}),!i&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"progress",children:"Progress (%)"}),l.jsx(zt,{id:"progress",type:"number",min:"0",max:"100",value:A.progress,onChange:ee=>$("progress",parseInt(ee.target.value)||0),placeholder:"0",disabled:U}),U?l.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[l.jsx("strong",{children:" Smart Progress Mode:"}),l.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[l.jsx("li",{children:"Progress is automatically calculated from subtasks"}),l.jsx("li",{children:"Only assignee can manually override progress"}),l.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):l.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[l.jsx("strong",{children:" Manual Progress Mode:"}),l.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"description",children:"Description"}),l.jsx("textarea",{id:"description",value:A.description,onChange:ee=>$("description",ee.target.value),placeholder:`Enter ${i?"subtask":"task"} description`,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),l.jsx("div",{className:"bg-gray-50 p-3 rounded-md",children:l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx("strong",{children:"Project:"})," ",e.project]})}),D&&l.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Error:"})," ",D.message||`Failed to update ${i?"subtask":"task"}`]})}),l.jsxs(As,{className:"flex gap-2",children:[l.jsx(Ie,{type:"button",variant:"outline",onClick:W,children:"Cancel"}),l.jsx(Ie,{type:"submit",disabled:R,children:R?"Updating...":`Update ${i?"SubTask":"Task"}`})]})]})]})}):null},d7=({role:e,currentView:t,setCurrentView:n})=>l.jsx("header",{className:"mb-8",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Trnh Qun L Cng Vic"}),l.jsxs("p",{className:"text-slate-500 mt-1",children:["Qun l cng vic v d n mt cch hiu qu  Role: ",e||"Member"]})]}),e==="Leader"&&l.jsxs("div",{className:"inline-flex bg-slate-200 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>n("user"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="user"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"Giao din User"}),l.jsx("button",{onClick:()=>n("leader"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="leader"?"bg-white text-slate-900 shadow-sm":"text-slate-600"}`,children:"Giao din Leader"})]})]})}),AC=e=>{switch(e){case"Working":return"text-orange-800 bg-orange-100";case"Open":return"text-sky-800 bg-sky-100";case"Completed":return"text-emerald-800 bg-emerald-100";case"Cancelled":return"text-red-800 bg-red-100";default:return"text-slate-800 bg-slate-100"}},RC=e=>{switch(e){case"High":return"text-red-800 bg-red-100";case"Medium":return"text-amber-800 bg-amber-100";case"Low":return"text-green-800 bg-green-100";default:return"text-slate-800 bg-slate-100"}},Eu=({task:e,onClick:t,formatDate:n,barClass:s="bg-indigo-600",completed:a=!1})=>{var i,c;return l.jsxs("div",{className:`kanban-card bg-white p-4 rounded-lg shadow-sm border border-slate-200 cursor-pointer ${a?"opacity-70":""}`,onClick:t,children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsx("p",{className:`font-semibold text-slate-900 flex-1 ${a?"line-through":""}`,children:e.title}),l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ml-2 ${e.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:e.type})]}),l.jsx("p",{className:"text-xs text-slate-500 mb-3",children:e.project}),l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"text-xs text-slate-600",children:"Tin "}),l.jsx("span",{className:"text-xs text-slate-600 font-medium",children:a?"100%":`${(i=e.taskProgress)!=null?i:0}%`})]}),l.jsx("div",{className:"bg-slate-200 rounded-full h-1.5",children:l.jsx("div",{className:`${a?"bg-emerald-500":s} h-1.5 rounded-full`,style:{width:a?"100%":`${(c=e.taskProgress)!=null?c:0}%`}})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:`priority-badge ${RC(e.priority)}`,children:e.priority}),l.jsx("span",{className:"text-xs text-slate-500",children:n(e.dueDate).formatted})]})]})},f7=["Open","Working","Overdue","Pending Review","Completed"],h7=["Low","Medium","High","Urgent"],m7=["Task","SubTask"],$S=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),p7=({isLoading:e,handleRefresh:t,activeTab:n,setActiveTab:s,transformedTasks:a,formatDate:i,handleTaskClick:c})=>{const[d,f]=j.useState(""),[h,p]=j.useState(""),[g,b]=j.useState(""),[y,_]=j.useState(""),[w,N]=j.useState(""),[S,R]=j.useState(!1),[D,T]=j.useState(""),[k,C]=j.useState(""),A=j.useMemo(()=>{const W=new Set;return a.forEach(ee=>ee.project&&W.add(ee.project)),Array.from(W).sort((ee,Y)=>ee.localeCompare(Y))},[a]),P=j.useMemo(()=>{const W=$S(d.trim()),ee=Y=>{if(!Y)return!0;const H=new Date(Y);if(Number.isNaN(H.getTime()))return!0;if(D){const J=new Date(D);if(H<new Date(J.getFullYear(),J.getMonth(),J.getDate()))return!1}if(k){const J=new Date(k),te=new Date(J.getFullYear(),J.getMonth(),J.getDate(),23,59,59,999);if(H>te)return!1}return!0};return(a||[]).filter(Y=>!(W&&!$S(`${Y.title||""} ${Y.project||""} ${Y.status||""} ${Y.priority||""}`).includes(W)||h&&Y.status!==h||g&&Y.priority!==g||y&&Y.type!==y||w&&Y.project!==w||S&&Y.status!=="Overdue"&&!i(Y.dueDate).isOverdue||!ee(Y.dueDate)))},[d,h,g,y,w,S,D,k,a,i]),U=()=>{f(""),p(""),b(""),_(""),N(""),R(!1),T(""),C("")},K=W=>P.filter(ee=>ee.status===W).length,[$,G]=j.useState(!1);return l.jsx("div",{className:"space-y-8",children:l.jsxs("section",{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Vic ca ti"}),l.jsxs("button",{onClick:t,disabled:e,className:"mt-4 sm:mt-0 flex items-center justify-center gap-2 bg-indigo-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-indigo-700 transition-all shadow-sm disabled:opacity-50",children:[e?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:l.jsx("path",{fill:"currentColor",d:"M12 20q-3.35 0-5.675-2.325T4 12t2.325-5.675T12 4q1.725 0 3.3.712T18 6.75V4h2v7h-7V9h4.2q-.8-1.4-2.187-2.2T12 6Q9.5 6 7.75 7.75T6 12t1.75 4.25T12 18q1.925 0 3.475-1.1T17.65 14h2.1q-.7 2.65-2.85 4.325T12 20"})}),e?"ang ti...":"Lm mi"]})]}),l.jsx("div",{className:"mt-4 border-b border-slate-200",children:l.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[l.jsx("button",{onClick:()=>s("list"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${n==="list"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Danh sch"}),l.jsx("button",{onClick:()=>s("kanban"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${n==="kanban"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Bng Kanban"}),l.jsx("button",{onClick:()=>s("calendar"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${n==="calendar"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Lch"})]})}),l.jsxs("div",{className:"mt-4 bg-white border border-slate-200 p-4 rounded-xl shadow-sm",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[l.jsxs("div",{className:"relative w-full md:max-w-sm",children:[l.jsx("label",{className:"sr-only",children:"Tm kim"}),l.jsx(cm,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),l.jsx("input",{value:d,onChange:W=>f(W.target.value),placeholder:"Tm theo tn, d n, trng thi...",className:"w-full rounded-lg border border-slate-300 pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),l.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[l.jsxs("button",{onClick:()=>G(W=>!W),className:"px-3 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50 inline-flex items-center gap-2",children:[l.jsx(Zx,{className:"h-4 w-4"}),"B lc"]}),l.jsx("button",{onClick:U,className:"px-3 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50",children:"Xa"})]})]}),$&&l.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-6 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Trng thi"}),l.jsxs("select",{value:h,onChange:W=>p(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Tt c"}),f7.map(W=>l.jsx("option",{value:W,children:W},W))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"u tin"}),l.jsxs("select",{value:g,onChange:W=>b(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Tt c"}),h7.map(W=>l.jsx("option",{value:W,children:W},W))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Loi"}),l.jsxs("select",{value:y,onChange:W=>_(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Tt c"}),m7.map(W=>l.jsx("option",{value:W,children:W},W))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"D n"}),l.jsxs("select",{value:w,onChange:W=>N(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2",children:[l.jsx("option",{value:"",children:"Tt c"}),A.map(W=>l.jsx("option",{value:W,children:W},W))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hn t"}),l.jsx("input",{type:"date",value:D,onChange:W=>T(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hn n"}),l.jsx("input",{type:"date",value:k,onChange:W=>C(W.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2"})]})]})]}),n==="list"&&l.jsx("div",{className:"mt-6 bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100 rounded-t-lg",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tn cng vic"}),l.jsx("th",{scope:"col",className:"px-6 py-3",children:"Loi"}),l.jsx("th",{scope:"col",className:"px-6 py-3",children:"D n"}),l.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tin "}),l.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ngy ht hn"}),l.jsx("th",{scope:"col",className:"px-6 py-3",children:"u tin"}),l.jsx("th",{scope:"col",className:"px-6 py-3",children:"Trng thi"})]})}),l.jsx("tbody",{children:P.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-slate-500",children:e?"ang ti...":"Khng c cng vic no"})}):P.map(W=>l.jsxs("tr",{className:"bg-white border-b border-slate-200 hover:bg-slate-50 table-row transition-all cursor-pointer",onClick:()=>c(W),children:[l.jsxs("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-900 whitespace-nowrap",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[W.type==="SubTask"&&l.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414L2.586 7l3.707-3.707a1 1 0 011.414 0z",clipRule:"evenodd"})}),W.title]}),W.parentTask&&l.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[" Subtask ca: ",W.parentTask]})]}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${W.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:W.type})}),l.jsx("td",{className:"px-6 py-4",children:W.project}),l.jsx("td",{className:"px-6 py-4",children:W.taskProgress!==void 0?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-2",children:l.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${W.taskProgress}%`}})}),l.jsxs("span",{className:"text-xs text-slate-600 font-medium min-w-[3rem]",children:[W.taskProgress,"%"]})]}):l.jsx("span",{className:"text-xs text-slate-400",children:"N/A"})}),l.jsx("td",{className:`px-6 py-4 ${i(W.dueDate).isOverdue?"text-red-600 font-medium":""}`,children:i(W.dueDate).display}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`priority-badge ${RC(W.priority)}`,children:W.priority})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`status-badge ${AC(W.status)}`,children:W.status})})]},W.id))})]})})}),n==="kanban"&&l.jsx("div",{className:"mt-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[l.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-sky-500"}),"Cn lm (",K("Open"),")"]}),l.jsx("div",{className:"space-y-4",children:P.filter(W=>W.status==="Open").map(W=>l.jsx(Eu,{task:W,onClick:()=>c(W),formatDate:i},W.id))})]}),l.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),"ang lm (",K("Working"),")"]}),l.jsx("div",{className:"space-y-4",children:P.filter(W=>W.status==="Working").map(W=>l.jsx(Eu,{task:W,onClick:()=>c(W),formatDate:i,barClass:"bg-orange-500"},W.id))})]}),l.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Tr (",K("Overdue"),")"]}),l.jsx("div",{className:"space-y-4",children:P.filter(W=>W.status==="Overdue").map(W=>l.jsx(Eu,{task:W,onClick:()=>c(W),formatDate:i,barClass:"bg-orange-500"},W.id))})]}),l.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Review (",K("Pending Review"),")"]}),l.jsx("div",{className:"space-y-4",children:P.filter(W=>W.status==="Pending Review").map(W=>l.jsx(Eu,{task:W,onClick:()=>c(W),formatDate:i,barClass:"bg-orange-500"},W.id))})]}),l.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 min-h-[300px]",children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Hon thnh (",K("Completed"),")"]}),l.jsx("div",{className:"space-y-4",children:P.filter(W=>W.status==="Completed").map(W=>l.jsx(Eu,{task:W,onClick:()=>c(W),formatDate:i,completed:!0},W.id))})]})]})}),n==="calendar"&&l.jsx("div",{className:"mt-6 bg-white p-8 rounded-xl shadow-sm border border-slate-200",children:l.jsx("div",{className:"text-center text-slate-500",children:l.jsx("p",{children:"Giao din lch s c pht trin trong tng lai"})})})]})})},g7=({teamDataError:e,teamMembersData:t,selectedMember:n,setSelectedMember:s,formatDate:a,handleTaskClick:i})=>{var d;const c=R6();return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Dashboard Tng Quan"}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[l.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Tng cng vic"}),l.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:c.total})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[l.jsx("p",{className:"text-sm font-medium text-slate-500",children:"ang thc hin"}),l.jsx("p",{className:"text-3xl font-bold text-orange-500 mt-1",children:c.working})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[l.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Hon thnh"}),l.jsx("p",{className:"text-3xl font-bold text-emerald-500 mt-1",children:c.completed})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[l.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Tr hn"}),l.jsx("p",{className:"text-3xl font-bold text-red-500 mt-1",children:c.overdue})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Qun l Nhm"}),((d=e==null?void 0:e.message)==null?void 0:d.includes("PermissionError"))&&l.jsx("div",{className:"mt-4 bg-amber-50 border border-amber-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Quyn truy cp hn ch"}),l.jsx("div",{className:"mt-2 text-sm text-amber-700",children:l.jsx("p",{children:"Khng th truy cp y  d liu team members. Hin th d liu c bn t danh sch users."})})]})]})}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[l.jsxs("div",{className:"lg:col-span-1 bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-4 px-2",children:["Thnh vin nhm (",t.length,")"]}),l.jsx("ul",{className:"space-y-2",children:t.map(f=>l.jsx("li",{onClick:()=>s(f.id),className:`member-item p-3 border rounded-lg hover:bg-slate-100 cursor-pointer transition-all ${n===f.id?"active":"border-transparent"}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{className:"h-10 w-10 rounded-full",src:f.avatar,alt:f.name}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-slate-900",children:f.name}),l.jsxs("p",{className:"text-sm text-slate-500",children:[f.taskCount," cng vic"]})]})]})},f.id))})]}),l.jsx("div",{className:"lg:col-span-2 bg-white p-4 rounded-xl shadow-sm border border-slate-200 min-h-[300px]",children:n?(()=>{const f=t.find(h=>h.id===n);return f?l.jsxs("div",{children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-4",children:["Cng vic ca ",f.name]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2",children:"Tn cng vic"}),l.jsx("th",{className:"px-4 py-2",children:"Loi"}),l.jsx("th",{className:"px-4 py-2",children:"D n"}),l.jsx("th",{className:"px-4 py-2",children:"Tin "}),l.jsx("th",{className:"px-4 py-2",children:"Hn cht"}),l.jsx("th",{className:"px-4 py-2",children:"Trng thi"})]})}),l.jsx("tbody",{children:f.tasks.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"text-center py-4 text-slate-500",children:"Thnh vin ny cha c cng vic no."})}):f.tasks.map(h=>l.jsxs("tr",{className:"border-b border-slate-200 cursor-pointer hover:bg-slate-50",onClick:()=>i(h),children:[l.jsxs("td",{className:"px-4 py-3 font-medium text-slate-900",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[h.type==="SubTask"&&l.jsx("svg",{className:"w-3 h-3 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414L2.586 7l3.707-3.707a1 1 0 011.414 0z",clipRule:"evenodd"})}),h.title]}),h.parentTask&&l.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[" Subtask ca: ",h.parentTask]})]}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${h.type==="Task"?"text-blue-800 bg-blue-100":"text-purple-800 bg-purple-100"}`,children:h.type})}),l.jsx("td",{className:"px-4 py-3",children:h.project}),l.jsx("td",{className:"px-4 py-3",children:h.taskProgress!==void 0?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-1.5 min-w-[60px]",children:l.jsx("div",{className:"bg-indigo-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${h.taskProgress}%`}})}),l.jsxs("span",{className:"text-xs text-slate-600 font-medium min-w-[2.5rem]",children:[h.taskProgress,"%"]})]}):l.jsx("span",{className:"text-xs text-slate-400",children:"N/A"})}),l.jsx("td",{className:"px-4 py-3",children:a(h.dueDate).display}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:`status-badge ${AC(h.status)}`,children:h.status})})]},h.id))})]})})]}):l.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:l.jsx("p",{children:"Khng tm thy thnh vin."})})})():l.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:l.jsx("p",{children:"Chn mt thnh vin  xem cng vic ca h."})})})]})]})]})},x7=({error:e})=>l.jsx(l.Fragment,{children:e&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:l.jsx("div",{className:"flex",children:l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading tasks"}),l.jsx("div",{className:"mt-2 text-sm text-red-700",children:l.jsx("p",{children:e.message||"Failed to load your tasks. Please try again."})})]})})})}),y7=()=>{const[e,t]=se.useState("user"),[n,s]=se.useState("list"),[a,i]=se.useState(null),[c,d]=se.useState(!1),[f,h]=se.useState(null),{tasks:p,subTasks:g,isLoading:b,error:y,mutate:_,currentUser:w}=D6(),{data:N}=Dt("Team",{filters:[["teamlead","=",w||""]]}),S=N&&N.length>0?"Leader":"Member";se.useEffect(()=>{S==="Leader"&&t("leader")},[S]);const R=se.useMemo(()=>{const K=[];return p.forEach($=>{var G;K.push({id:$.name,title:$.subject||"Untitled Task",description:$.description||"No description available",project:$.project_name||$.project||"Unknown Project",assignee:w||"Unknown",status:$.status||"Open",priority:$.priority||"Medium",dueDate:$.exp_end_date||new Date().toISOString().split("T")[0],labels:[$.type||"Task"],todoId:((G=$.assignedTodo)==null?void 0:G.name)||"",referenceName:$.name,referenceType:"Task",type:"Task",taskProgress:$.progress,expectedTime:$.expected_time,actualTime:$.actual_time,startDate:$.exp_start_date,endDate:$.exp_end_date})}),g.forEach($=>{var G;K.push({id:$.name,title:$.subject||"Untitled SubTask",description:$.description||"No description available",project:$.project_name||"Unknown Project",assignee:w||"Unknown",status:$.status||"Open",priority:"Medium",dueDate:$.end_date||new Date().toISOString().split("T")[0],labels:["SubTask"],todoId:((G=$.assignedTodo)==null?void 0:G.name)||"",referenceName:$.name,referenceType:"SubTask",type:"SubTask",parentTask:$.task_subject,startDate:$.start_date,endDate:$.end_date})}),K.sort(($,G)=>new Date(G.dueDate).getTime()-new Date($.dueDate).getTime())},[p,g,w]),{teamMembersData:D,error:T}=c7({team:N&&N.length>0?N[0].name:""}),k=K=>{const $=new Date(K),W=$<new Date,ee=$.toLocaleDateString("vi-VN");return{formatted:ee,isOverdue:W,display:W?`${ee} (Tr)`:ee}},C=()=>{_()},A=K=>{h(K),d(!0)},P=()=>{d(!1),h(null)},U=()=>{_()};return l.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-slate-50 text-slate-800",children:[l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx(d7,{role:S,currentView:e,setCurrentView:t}),l.jsx(x7,{error:y}),l.jsxs("main",{children:[e==="user"&&l.jsx(p7,{isLoading:b,handleRefresh:C,activeTab:n,setActiveTab:s,transformedTasks:R,formatDate:k,handleTaskClick:A}),e==="leader"&&S==="Leader"&&l.jsx(g7,{teamDataError:T,teamMembersData:D,selectedMember:a,setSelectedMember:i,formatDate:k,handleTaskClick:A})]})]}),l.jsx(u7,{task:f,isOpen:c,onClose:P,onSuccess:U,isLeader:S==="Leader"})]})},b7=[{id:1,project:"E-commerce Platform",task:"Design user interface mockups",user:"Jane Smith",startTime:"09:00 AM",endTime:"11:30 AM",duration:"2h 30m",date:"2024-03-08"},{id:2,project:"Mobile App Redesign",task:"API documentation",user:"Mike Johnson",startTime:"02:00 PM",endTime:"04:15 PM",duration:"2h 15m",date:"2024-03-08"},{id:3,project:"Data Analytics Dashboard",task:"Testing setup",user:"Sarah Wilson",startTime:"10:30 AM",endTime:"12:00 PM",duration:"1h 30m",date:"2024-03-07"}],v7=()=>{const[e,t]=se.useState(!1),[n,s]=se.useState("00:00:00");return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"md:flex md:items-center md:justify-between",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Time Tracking"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track time spent on projects and tasks"})]})}),l.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-6",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900",children:n}),l.jsx("div",{className:"flex items-center justify-center space-x-4",children:e?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>t(!1),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-yellow-600 hover:bg-yellow-700",children:[l.jsx(kP,{className:"mr-2 h-5 w-5"}),"Pause"]}),l.jsxs("button",{onClick:()=>{t(!1),s("00:00:00")},className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-red-600 hover:bg-red-700",children:[l.jsx(qP,{className:"mr-2 h-5 w-5"}),"Stop"]})]}):l.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700",children:[l.jsx(PP,{className:"mr-2 h-5 w-5"}),"Start Timer"]})}),e&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project"}),l.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[l.jsx("option",{children:"E-commerce Platform"}),l.jsx("option",{children:"Mobile App Redesign"}),l.jsx("option",{children:"Data Analytics Dashboard"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Description"}),l.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"What are you working on?"})]})]})]})}),l.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Time Entries"})}),l.jsx("div",{className:"overflow-hidden",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Period"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b7.map(a=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.project}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.task}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.user}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[a.startTime," - ",a.endTime]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[l.jsx(tc,{className:"mr-1 h-3 w-3"}),a.duration]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.date})]},a.id))})]})})]})]})},zl=({title:e,description:t})=>l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e}),l.jsx("p",{className:"text-lg text-gray-600 mb-8",children:t}),l.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-12",children:l.jsxs("div",{className:"text-gray-400 text-center",children:[l.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-4xl",children:""})}),l.jsx("p",{className:"text-lg",children:"This page is under construction"}),l.jsx("p",{className:"text-sm mt-2",children:"More features coming soon!"})]})})]})}),w7=mM([{path:"/",element:l.jsx(p6,{}),children:[{index:!0,element:l.jsx(yB,{})},{path:"projects",element:l.jsx(l7,{})},{path:"tasks",element:l.jsx(y7,{})},{path:"time-tracking",element:l.jsx(v7,{})},{path:"cost-analysis",element:l.jsx(zl,{title:"Cost Analysis",description:"Track project costs and budget allocations"})},{path:"reports",element:l.jsx(zl,{title:"Reports",description:"Generate detailed reports and analytics"})},{path:"calendar",element:l.jsx(zl,{title:"Calendar",description:"Manage deadlines and project timelines"})},{path:"team",element:l.jsx(zl,{title:"Team Management",description:"Manage team members and permissions"})},{path:"documents",element:l.jsx(zl,{title:"Documents",description:"Store and organize project documents"})},{path:"settings",element:l.jsx(zl,{title:"Settings",description:"Configure your workspace preferences"})}]}],{basename:"/todo"});DO.createRoot(document.getElementById("root")).render(l.jsx(se.StrictMode,{children:l.jsx(NM,{router:w7})}))});export default _7();
