var nC=Object.defineProperty,sC=Object.defineProperties;var rC=Object.getOwnPropertyDescriptors;var df=Object.getOwnPropertySymbols;var Iw=Object.prototype.hasOwnProperty,Yw=Object.prototype.propertyIsEnumerable;var _l=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),aC=e=>{throw TypeError(e)};var ng=(e,t,n)=>t in e?nC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||(t={}))Iw.call(t,n)&&ng(e,n,t[n]);if(df)for(var n of df(t))Yw.call(t,n)&&ng(e,n,t[n]);return e},me=(e,t)=>sC(e,rC(t));var Le=(e,t)=>{var n={};for(var s in e)Iw.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&df)for(var s of df(e))t.indexOf(s)<0&&Yw.call(e,s)&&(n[s]=e[s]);return n};var iC=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var wt=(e,t,n)=>ng(e,typeof t!="symbol"?t+"":t,n);var ve=(e,t,n)=>new Promise((s,a)=>{var o=f=>{try{d(n.next(f))}catch(h){a(h)}},l=f=>{try{d(n.throw(f))}catch(h){a(h)}},d=f=>f.done?s(f.value):Promise.resolve(f.value).then(o,l);d((n=n.apply(e,t)).next())}),uo=function(e,t){this[0]=e,this[1]=t},sg=(e,t,n)=>{var s=(l,d,f,h)=>{try{var p=n[l](d),g=(d=p.value)instanceof uo,b=p.done;Promise.resolve(g?d[0]:d).then(y=>g?s(l==="return"?l:"next",d[1]?{done:y.done,value:y.value}:y,f,h):f({value:y,done:b})).catch(y=>s("throw",y,f,h))}catch(y){h(y)}},a=l=>o[l]=d=>new Promise((f,h)=>s(l,d,f,h)),o={};return n=n.apply(e,t),o[_l("asyncIterator")]=()=>o,a("next"),a("throw"),a("return"),o},rg=e=>{var t=e[_l("asyncIterator")],n=!1,s,a={};return t==null?(t=e[_l("iterator")](),s=o=>a[o]=l=>t[o](l)):(t=t.call(e),s=o=>a[o]=l=>{if(n){if(n=!1,o==="throw")throw l;return l}return n=!0,{done:!1,value:new uo(new Promise(d=>{var f=t[o](l);f instanceof Object||aC("Object expected"),d(f)}),1)}}),a[_l("iterator")]=()=>a,s("next"),"throw"in t?s("throw"):a.throw=o=>{throw o},"return"in t&&s("return"),a},Ww=(e,t,n)=>(t=e[_l("asyncIterator")])?t.call(e):(e=e[_l("iterator")](),t={},n=(s,a)=>(a=e[s])&&(t[s]=o=>new Promise((l,d,f)=>(o=a.call(e,o),f=o.done,Promise.resolve(o.value).then(h=>l({value:h,done:f}),d)))),n("next"),n("return"),t);var KF=iC(yt=>{function oC(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function nx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ag={exports:{}},su={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw;function lC(){if(Xw)return su;Xw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:e,type:s,key:l,ref:a!==void 0?a:null,props:o}}return su.Fragment=t,su.jsx=n,su.jsxs=n,su}var Gw;function cC(){return Gw||(Gw=1,ag.exports=lC()),ag.exports}var c=cC(),ig={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kw;function uC(){if(Kw)return Ct;Kw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=g&&M[g]||M["@@iterator"],typeof M=="function"?M:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function S(M,ae,G){this.props=M,this.context=ae,this.refs=_,this.updater=G||y}S.prototype.isReactComponent={},S.prototype.setState=function(M,ae){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ae,"setState")},S.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function j(){}j.prototype=S.prototype;function R(M,ae,G){this.props=M,this.context=ae,this.refs=_,this.updater=G||y}var O=R.prototype=new j;O.constructor=R,w(O,S.prototype),O.isPureReactComponent=!0;var C=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function B(M,ae,G,F,Z,ye){return G=ye.ref,{$$typeof:e,type:M,key:ae,ref:G!==void 0?G:null,props:ye}}function z(M,ae){return B(M.type,ae,void 0,void 0,void 0,M.props)}function q(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function ne(M){var ae={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(G){return ae[G]})}var I=/\/+/g;function te(M,ae){return typeof M=="object"&&M!==null&&M.key!=null?ne(""+M.key):ae.toString(36)}function le(){}function pe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(le,le):(M.status="pending",M.then(function(ae){M.status==="pending"&&(M.status="fulfilled",M.value=ae)},function(ae){M.status==="pending"&&(M.status="rejected",M.reason=ae)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,ae,G,F,Z){var ye=typeof M;(ye==="undefined"||ye==="boolean")&&(M=null);var de=!1;if(M===null)de=!0;else switch(ye){case"bigint":case"string":case"number":de=!0;break;case"object":switch(M.$$typeof){case e:case t:de=!0;break;case p:return de=M._init,Q(de(M._payload),ae,G,F,Z)}}if(de)return Z=Z(M),de=F===""?"."+te(M,0):F,C(Z)?(G="",de!=null&&(G=de.replace(I,"$&/")+"/"),Q(Z,ae,G,"",function(He){return He})):Z!=null&&(q(Z)&&(Z=z(Z,G+(Z.key==null||M&&M.key===Z.key?"":(""+Z.key).replace(I,"$&/")+"/")+de)),ae.push(Z)),1;de=0;var Oe=F===""?".":F+":";if(C(M))for(var Ae=0;Ae<M.length;Ae++)F=M[Ae],ye=Oe+te(F,Ae),de+=Q(F,ae,G,ye,Z);else if(Ae=b(M),typeof Ae=="function")for(M=Ae.call(M),Ae=0;!(F=M.next()).done;)F=F.value,ye=Oe+te(F,Ae++),de+=Q(F,ae,G,ye,Z);else if(ye==="object"){if(typeof M.then=="function")return Q(pe(M),ae,G,F,Z);throw ae=String(M),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return de}function $(M,ae,G){if(M==null)return M;var F=[],Z=0;return Q(M,F,"","",function(ye){return ae.call(G,ye,Z++)}),F}function J(M){if(M._status===-1){var ae=M._result;ae=ae(),ae.then(function(G){(M._status===0||M._status===-1)&&(M._status=1,M._result=G)},function(G){(M._status===0||M._status===-1)&&(M._status=2,M._result=G)}),M._status===-1&&(M._status=0,M._result=ae)}if(M._status===1)return M._result.default;throw M._result}var K=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function he(){}return Ct.Children={map:$,forEach:function(M,ae,G){$(M,function(){ae.apply(this,arguments)},G)},count:function(M){var ae=0;return $(M,function(){ae++}),ae},toArray:function(M){return $(M,function(ae){return ae})||[]},only:function(M){if(!q(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ct.Component=S,Ct.Fragment=n,Ct.Profiler=a,Ct.PureComponent=R,Ct.StrictMode=s,Ct.Suspense=f,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(M){return A.H.useMemoCache(M)}},Ct.cache=function(M){return function(){return M.apply(null,arguments)}},Ct.cloneElement=function(M,ae,G){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var F=w({},M.props),Z=M.key,ye=void 0;if(ae!=null)for(de in ae.ref!==void 0&&(ye=void 0),ae.key!==void 0&&(Z=""+ae.key),ae)!k.call(ae,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&ae.ref===void 0||(F[de]=ae[de]);var de=arguments.length-2;if(de===1)F.children=G;else if(1<de){for(var Oe=Array(de),Ae=0;Ae<de;Ae++)Oe[Ae]=arguments[Ae+2];F.children=Oe}return B(M.type,Z,void 0,void 0,ye,F)},Ct.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},Ct.createElement=function(M,ae,G){var F,Z={},ye=null;if(ae!=null)for(F in ae.key!==void 0&&(ye=""+ae.key),ae)k.call(ae,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(Z[F]=ae[F]);var de=arguments.length-2;if(de===1)Z.children=G;else if(1<de){for(var Oe=Array(de),Ae=0;Ae<de;Ae++)Oe[Ae]=arguments[Ae+2];Z.children=Oe}if(M&&M.defaultProps)for(F in de=M.defaultProps,de)Z[F]===void 0&&(Z[F]=de[F]);return B(M,ye,void 0,void 0,null,Z)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(M){return{$$typeof:d,render:M}},Ct.isValidElement=q,Ct.lazy=function(M){return{$$typeof:p,_payload:{_status:-1,_result:M},_init:J}},Ct.memo=function(M,ae){return{$$typeof:h,type:M,compare:ae===void 0?null:ae}},Ct.startTransition=function(M){var ae=A.T,G={};A.T=G;try{var F=M(),Z=A.S;Z!==null&&Z(G,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(he,K)}catch(ye){K(ye)}finally{A.T=ae}},Ct.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ct.use=function(M){return A.H.use(M)},Ct.useActionState=function(M,ae,G){return A.H.useActionState(M,ae,G)},Ct.useCallback=function(M,ae){return A.H.useCallback(M,ae)},Ct.useContext=function(M){return A.H.useContext(M)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(M,ae){return A.H.useDeferredValue(M,ae)},Ct.useEffect=function(M,ae,G){var F=A.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(M,ae)},Ct.useId=function(){return A.H.useId()},Ct.useImperativeHandle=function(M,ae,G){return A.H.useImperativeHandle(M,ae,G)},Ct.useInsertionEffect=function(M,ae){return A.H.useInsertionEffect(M,ae)},Ct.useLayoutEffect=function(M,ae){return A.H.useLayoutEffect(M,ae)},Ct.useMemo=function(M,ae){return A.H.useMemo(M,ae)},Ct.useOptimistic=function(M,ae){return A.H.useOptimistic(M,ae)},Ct.useReducer=function(M,ae,G){return A.H.useReducer(M,ae,G)},Ct.useRef=function(M){return A.H.useRef(M)},Ct.useState=function(M){return A.H.useState(M)},Ct.useSyncExternalStore=function(M,ae,G){return A.H.useSyncExternalStore(M,ae,G)},Ct.useTransition=function(){return A.H.useTransition()},Ct.version="19.1.1",Ct}var Qw;function sx(){return Qw||(Qw=1,ig.exports=uC()),ig.exports}var N=sx();const ee=nx(N),lS=oC({__proto__:null,default:ee},[N]);var og={exports:{}},ru={},lg={exports:{}},cg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw;function dC(){return Zw||(Zw=1,function(e){function t($,J){var K=$.length;$.push(J);e:for(;0<K;){var he=K-1>>>1,M=$[he];if(0<a(M,J))$[he]=J,$[K]=M,K=he;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var J=$[0],K=$.pop();if(K!==J){$[0]=K;e:for(var he=0,M=$.length,ae=M>>>1;he<ae;){var G=2*(he+1)-1,F=$[G],Z=G+1,ye=$[Z];if(0>a(F,K))Z<M&&0>a(ye,F)?($[he]=ye,$[Z]=K,he=Z):($[he]=F,$[G]=K,he=G);else if(Z<M&&0>a(ye,K))$[he]=ye,$[Z]=K,he=Z;else break e}}return J}function a($,J){var K=$.sortIndex-J.sortIndex;return K!==0?K:$.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,g=null,b=3,y=!1,w=!1,_=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate!="undefined"?setImmediate:null;function C($){for(var J=n(h);J!==null;){if(J.callback===null)s(h);else if(J.startTime<=$)s(h),J.sortIndex=J.expirationTime,t(f,J);else break;J=n(h)}}function A($){if(_=!1,C($),!w)if(n(f)!==null)w=!0,k||(k=!0,te());else{var J=n(h);J!==null&&Q(A,J.startTime-$)}}var k=!1,B=-1,z=5,q=-1;function ne(){return S?!0:!(e.unstable_now()-q<z)}function I(){if(S=!1,k){var $=e.unstable_now();q=$;var J=!0;try{e:{w=!1,_&&(_=!1,R(B),B=-1),y=!0;var K=b;try{t:{for(C($),g=n(f);g!==null&&!(g.expirationTime>$&&ne());){var he=g.callback;if(typeof he=="function"){g.callback=null,b=g.priorityLevel;var M=he(g.expirationTime<=$);if($=e.unstable_now(),typeof M=="function"){g.callback=M,C($),J=!0;break t}g===n(f)&&s(f),C($)}else s(f);g=n(f)}if(g!==null)J=!0;else{var ae=n(h);ae!==null&&Q(A,ae.startTime-$),J=!1}}break e}finally{g=null,b=K,y=!1}J=void 0}}finally{J?te():k=!1}}}var te;if(typeof O=="function")te=function(){O(I)};else if(typeof MessageChannel!="undefined"){var le=new MessageChannel,pe=le.port2;le.port1.onmessage=I,te=function(){pe.postMessage(null)}}else te=function(){j(I,0)};function Q($,J){B=j(function(){$(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function($){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var K=b;b=J;try{return $()}finally{b=K}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function($,J){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var K=b;b=$;try{return J()}finally{b=K}},e.unstable_scheduleCallback=function($,J,K){var he=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?he+K:he):K=he,$){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=K+M,$={id:p++,callback:J,priorityLevel:$,startTime:K,expirationTime:M,sortIndex:-1},K>he?($.sortIndex=K,t(h,$),n(f)===null&&$===n(h)&&(_?(R(B),B=-1):_=!0,Q(A,K-he))):($.sortIndex=M,t(f,$),w||y||(w=!0,k||(k=!0,te()))),$},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function($){var J=b;return function(){var K=b;b=J;try{return $.apply(this,arguments)}finally{b=K}}}}(cg)),cg}var Jw;function fC(){return Jw||(Jw=1,lg.exports=dC()),lg.exports}var ug={exports:{}},_s={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function hC(){if(e_)return _s;e_=1;var e=sx();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return _s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,_s.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(f,h,null,p)},_s.flushSync=function(f){var h=l.T,p=s.p;try{if(l.T=null,s.p=2,f)return f()}finally{l.T=h,s.p=p,s.d.f()}},_s.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(f,h))},_s.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},_s.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?s.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:y}):p==="script"&&s.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},_s.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);s.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(f)},_s.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);s.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},_s.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);s.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(f)},_s.requestFormReset=function(f){s.d.r(f)},_s.unstable_batchedUpdates=function(f,h){return f(h)},_s.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},_s.useFormStatus=function(){return l.H.useHostTransitionStatus()},_s.version="19.1.1",_s}var t_;function cS(){if(t_)return ug.exports;t_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ug.exports=hC(),ug.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function mC(){if(n_)return ru;n_=1;var e=fC(),t=sx(),n=cS();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,u=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(u=i.return),r=i.return;while(r)}return i.tag===3?u:null}function l(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(s(188))}function f(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(s(188));return i!==r?null:r}for(var u=r,m=i;;){var x=u.return;if(x===null)break;var v=x.alternate;if(v===null){if(m=x.return,m!==null){u=m;continue}break}if(x.child===v.child){for(v=x.child;v;){if(v===u)return d(x),r;if(v===m)return d(x),i;v=v.sibling}throw Error(s(188))}if(u.return!==m.return)u=x,m=v;else{for(var T=!1,P=x.child;P;){if(P===u){T=!0,u=x,m=v;break}if(P===m){T=!0,m=x,u=v;break}P=P.sibling}if(!T){for(P=v.child;P;){if(P===u){T=!0,u=v,m=x;break}if(P===m){T=!0,m=v,u=x;break}P=P.sibling}if(!T)throw Error(s(189))}}if(u.alternate!==m)throw Error(s(190))}if(u.tag!==3)throw Error(s(188));return u.stateNode.current===u?r:i}function h(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=h(r),i!==null)return i;r=r.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),O=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function te(r){return r===null||typeof r!="object"?null:(r=I&&r[I]||r["@@iterator"],typeof r=="function"?r:null)}var le=Symbol.for("react.client.reference");function pe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===le?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case S:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case k:return"SuspenseList";case q:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case y:return"Portal";case O:return(r.displayName||"Context")+".Provider";case R:return(r._context.displayName||"Context")+".Consumer";case C:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case B:return i=r.displayName||null,i!==null?i:pe(r.type)||"Memo";case z:i=r._payload,r=r._init;try{return pe(r(i))}catch(u){}}return null}var Q=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},he=[],M=-1;function ae(r){return{current:r}}function G(r){0>M||(r.current=he[M],he[M]=null,M--)}function F(r,i){M++,he[M]=r.current,r.current=i}var Z=ae(null),ye=ae(null),de=ae(null),Oe=ae(null);function Ae(r,i){switch(F(de,i),F(ye,r),F(Z,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?bw(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=bw(i),r=vw(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}G(Z),F(Z,r)}function He(){G(Z),G(ye),G(de)}function Pe(r){r.memoizedState!==null&&F(Oe,r);var i=Z.current,u=vw(i,r.type);i!==u&&(F(ye,r),F(Z,u))}function et(r){ye.current===r&&(G(Z),G(ye)),Oe.current===r&&(G(Oe),Zc._currentValue=K)}var We=Object.prototype.hasOwnProperty,ft=e.unstable_scheduleCallback,ze=e.unstable_cancelCallback,_t=e.unstable_shouldYield,Ft=e.unstable_requestPaint,bt=e.unstable_now,ot=e.unstable_getCurrentPriorityLevel,Tt=e.unstable_ImmediatePriority,Y=e.unstable_UserBlockingPriority,ce=e.unstable_NormalPriority,V=e.unstable_LowPriority,Ne=e.unstable_IdlePriority,Me=e.log,Ee=e.unstable_setDisableYieldValue,we=null,Te=null;function $e(r){if(typeof Me=="function"&&Ee(r),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(we,r)}catch(i){}}var pt=Math.clz32?Math.clz32:Zt,gn=Math.log,Qt=Math.LN2;function Zt(r){return r>>>=0,r===0?32:31-(gn(r)/Qt|0)|0}var xn=256,Wn=4194304;function Xn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function hs(r,i,u){var m=r.pendingLanes;if(m===0)return 0;var x=0,v=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var P=m&134217727;return P!==0?(m=P&~v,m!==0?x=Xn(m):(T&=P,T!==0?x=Xn(T):u||(u=P&~r,u!==0&&(x=Xn(u))))):(P=m&~v,P!==0?x=Xn(P):T!==0?x=Xn(T):u||(u=m&~r,u!==0&&(x=Xn(u)))),x===0?0:i!==0&&i!==x&&(i&v)===0&&(v=x&-x,u=i&-i,v>=u||v===32&&(u&4194048)!==0)?i:x}function Gn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Ts(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xe(){var r=xn;return xn<<=1,(xn&4194048)===0&&(xn=256),r}function Ot(){var r=Wn;return Wn<<=1,(Wn&62914560)===0&&(Wn=4194304),r}function Pt(r){for(var i=[],u=0;31>u;u++)i.push(r);return i}function jt(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Gt(r,i,u,m,x,v){var T=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var P=r.entanglements,W=r.expirationTimes,xe=r.hiddenUpdates;for(u=T&~u;0<u;){var ke=31-pt(u),Re=1<<ke;P[ke]=0,W[ke]=-1;var _e=xe[ke];if(_e!==null)for(xe[ke]=null,ke=0;ke<_e.length;ke++){var je=_e[ke];je!==null&&(je.lane&=-536870913)}u&=~Re}m!==0&&Ge(r,m,0),v!==0&&x===0&&r.tag!==0&&(r.suspendedLanes|=v&~(T&~i))}function Ge(r,i,u){r.pendingLanes|=i,r.suspendedLanes&=~i;var m=31-pt(i);r.entangledLanes|=i,r.entanglements[m]=r.entanglements[m]|1073741824|u&4194090}function vt(r,i){var u=r.entangledLanes|=i;for(r=r.entanglements;u;){var m=31-pt(u),x=1<<m;x&i|r[m]&i&&(r[m]|=i),u&=~x}}function Ht(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function qt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function X(){var r=J.p;return r!==0?r:(r=window.event,r===void 0?32:Bw(r.type))}function re(r,i){var u=J.p;try{return J.p=r,i()}finally{J.p=u}}var fe=Math.random().toString(36).slice(2),Se="__reactFiber$"+fe,De="__reactProps$"+fe,Ve="__reactContainer$"+fe,Ke="__reactEvents$"+fe,tt="__reactListeners$"+fe,lt="__reactHandles$"+fe,kt="__reactResources$"+fe,st="__reactMarker$"+fe;function xt(r){delete r[Se],delete r[De],delete r[Ke],delete r[tt],delete r[lt]}function Et(r){var i=r[Se];if(i)return i;for(var u=r.parentNode;u;){if(i=u[Ve]||u[Se]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(r=Sw(r);r!==null;){if(u=r[Se])return u;r=Sw(r)}return i}r=u,u=r.parentNode}return null}function cn(r){if(r=r[Se]||r[Ve]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function Cn(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function sn(r){var i=r[kt];return i||(i=r[kt]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function rt(r){r[st]=!0}var St=new Set,It={};function yn(r,i){An(r,i),An(r+"Capture",i)}function An(r,i){for(It[r]=i,r=0;r<i.length;r++)St.add(i[r])}var Kn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ns={},ir={};function or(r){return We.call(ir,r)?!0:We.call(ns,r)?!1:Kn.test(r)?ir[r]=!0:(ns[r]=!0,!1)}function bs(r,i,u){if(or(i))if(u===null)r.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var m=i.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+u)}}function lr(r,i,u){if(u===null)r.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+u)}}function At(r,i,u,m){if(m===null)r.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(i,u,""+m)}}var On,pa;function ms(r){if(On===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);On=i&&i[1]||"",pa=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+On+r+pa}var dn=!1;function Tr(r,i){if(!r||dn)return"";dn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(i){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(je){var _e=je}Reflect.construct(r,[],Re)}else{try{Re.call()}catch(je){_e=je}r.call(Re.prototype)}}else{try{throw Error()}catch(je){_e=je}(Re=r())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(je){if(je&&_e&&typeof je.stack=="string")return[je.stack,_e.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=m.DetermineComponentFrameRoot(),T=v[0],P=v[1];if(T&&P){var W=T.split(`
`),xe=P.split(`
`);for(x=m=0;m<W.length&&!W[m].includes("DetermineComponentFrameRoot");)m++;for(;x<xe.length&&!xe[x].includes("DetermineComponentFrameRoot");)x++;if(m===W.length||x===xe.length)for(m=W.length-1,x=xe.length-1;1<=m&&0<=x&&W[m]!==xe[x];)x--;for(;1<=m&&0<=x;m--,x--)if(W[m]!==xe[x]){if(m!==1||x!==1)do if(m--,x--,0>x||W[m]!==xe[x]){var ke=`
`+W[m].replace(" at new "," at ");return r.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",r.displayName)),ke}while(1<=m&&0<=x);break}}}finally{dn=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?ms(u):""}function Uo(r){switch(r.tag){case 26:case 27:case 5:return ms(r.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 15:return Tr(r.type,!1);case 11:return Tr(r.type.render,!1);case 1:return Tr(r.type,!0);case 31:return ms("Activity");default:return""}}function Bo(r){try{var i="";do i+=Uo(r),r=r.return;while(r);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Os(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function sd(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function rd(r){var i=sd(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),m=""+r[i];if(!r.hasOwnProperty(i)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,v=u.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return x.call(this)},set:function(T){m=""+T,v.call(this,T)}}),Object.defineProperty(r,i,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(T){m=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Fi(r){r._valueTracker||(r._valueTracker=rd(r))}function qr(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var u=i.getValue(),m="";return r&&(m=sd(r)?r.checked?"true":"false":r.value),r=m,r!==u?(i.setValue(r),!0):!1}function Hi(r){if(r=r||(typeof document!="undefined"?document:void 0),typeof r=="undefined")return null;try{return r.activeElement||r.body}catch(i){return r.body}}var cm=/[\n"\\]/g;function Rs(r){return r.replace(cm,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function lc(r,i,u,m,x,v,T,P){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),i!=null?T==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Os(i)):r.value!==""+Os(i)&&(r.value=""+Os(i)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),i!=null?cc(r,T,Os(i)):u!=null?cc(r,T,Os(u)):m!=null&&r.removeAttribute("value"),x==null&&v!=null&&(r.defaultChecked=!!v),x!=null&&(r.checked=x&&typeof x!="function"&&typeof x!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?r.name=""+Os(P):r.removeAttribute("name")}function ad(r,i,u,m,x,v,T,P){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),i!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||i!=null))return;u=u!=null?""+Os(u):"",i=i!=null?""+Os(i):u,P||i===r.value||(r.value=i),r.defaultValue=i}m=m!=null?m:x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=P?r.checked:!!m,r.defaultChecked=!!m,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function cc(r,i,u){i==="number"&&Hi(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function ga(r,i,u,m){if(r=r.options,i){i={};for(var x=0;x<u.length;x++)i["$"+u[x]]=!0;for(u=0;u<r.length;u++)x=i.hasOwnProperty("$"+r[u].value),r[u].selected!==x&&(r[u].selected=x),x&&m&&(r[u].defaultSelected=!0)}else{for(u=""+Os(u),i=null,x=0;x<r.length;x++){if(r[x].value===u){r[x].selected=!0,m&&(r[x].defaultSelected=!0);return}i!==null||r[x].disabled||(i=r[x])}i!==null&&(i.selected=!0)}}function $i(r,i,u){if(i!=null&&(i=""+Os(i),i!==r.value&&(r.value=i),u==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=u!=null?""+Os(u):""}function uc(r,i,u,m){if(i==null){if(m!=null){if(u!=null)throw Error(s(92));if(Q(m)){if(1<m.length)throw Error(s(93));m=m[0]}u=m}u==null&&(u=""),i=u}u=Os(i),r.defaultValue=u,m=r.textContent,m===u&&m!==""&&m!==null&&(r.value=m)}function Ya(r,i){if(i){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=i;return}}r.textContent=i}var id=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function od(r,i,u){var m=i.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":m?r.setProperty(i,u):typeof u!="number"||u===0||id.has(i)?i==="float"?r.cssFloat=u:r[i]=(""+u).trim():r[i]=u+"px"}function dc(r,i,u){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||i!=null&&i.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var x in i)m=i[x],i.hasOwnProperty(x)&&u[x]!==m&&od(r,x,m)}else for(var v in i)i.hasOwnProperty(v)&&od(r,v,i[v])}function Vi(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),um=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ho(r){return um.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var fc=null;function qi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var xa=null,Wa=null;function hc(r){var i=cn(r);if(i&&(r=i.stateNode)){var u=r[De]||null;e:switch(r=i.stateNode,i.type){case"input":if(lc(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),i=u.name,u.type==="radio"&&i!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Rs(""+i)+'"][type="radio"]'),i=0;i<u.length;i++){var m=u[i];if(m!==r&&m.form===r.form){var x=m[De]||null;if(!x)throw Error(s(90));lc(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(i=0;i<u.length;i++)m=u[i],m.form===r.form&&qr(m)}break e;case"textarea":$i(r,u.value,u.defaultValue);break e;case"select":i=u.value,i!=null&&ga(r,!!u.multiple,i,!1)}}}var Ii=!1;function mc(r,i,u){if(Ii)return r(i,u);Ii=!0;try{var m=r(i);return m}finally{if(Ii=!1,(xa!==null||Wa!==null)&&(Vd(),xa&&(i=xa,r=Wa,Wa=xa=null,hc(i),r)))for(i=0;i<r.length;i++)hc(r[i])}}function Xa(r,i){var u=r.stateNode;if(u===null)return null;var m=u[De]||null;if(m===null)return null;u=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(s(231,i,typeof u));return u}var Ds=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),$o=!1;if(Ds)try{var Yi={};Object.defineProperty(Yi,"passive",{get:function(){$o=!0}}),window.addEventListener("test",Yi,Yi),window.removeEventListener("test",Yi,Yi)}catch(r){$o=!1}var Is=null,Ms=null,ya=null;function Wi(){if(ya)return ya;var r,i=Ms,u=i.length,m,x="value"in Is?Is.value:Is.textContent,v=x.length;for(r=0;r<u&&i[r]===x[r];r++);var T=u-r;for(m=1;m<=T&&i[u-m]===x[v-m];m++);return ya=x.slice(r,1<m?1-m:void 0)}function Ga(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Vo(){return!0}function ld(){return!1}function vs(r){function i(u,m,x,v,T){this._reactName=u,this._targetInst=x,this.type=m,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(u=r[P],this[P]=u?u(v):v[P]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Vo:ld,this.isPropagationStopped=ld,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Vo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Vo)},persist:function(){},isPersistent:Vo}),i}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qo=vs(kr),Ka=p({},kr,{view:0,detail:0}),Rn=vs(Ka),E,D,U,H=p({},Ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==U&&(U&&r.type==="mousemove"?(E=r.screenX-U.screenX,D=r.screenY-U.screenY):D=E=0,U=r),E)},movementY:function(r){return"movementY"in r?r.movementY:D}}),ie=vs(H),ue=p({},H,{dataTransfer:0}),be=vs(ue),Ue=p({},Ka,{relatedTarget:0}),it=vs(Ue),Be=p({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ye=vs(Be),ht=p({},kr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),rn=vs(ht),Nt=p({},kr,{data:0}),ct=vs(Nt),nt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ss={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Fn[r])?!!i[r]:!1}function cr(){return _n}var Xi=p({},Ka,{key:function(r){if(r.key){var i=nt[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ga(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ss[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(r){return r.type==="keypress"?Ga(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ga(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ir=vs(Xi),Qa=p({},H,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Io=vs(Qa),Yo=p({},Ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),cd=vs(Yo),vT=p({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),wT=vs(vT),_T=p({},H,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),jT=vs(_T),ST=p({},kr,{newState:0,oldState:0}),NT=vs(ST),ET=[9,13,27,32],dm=Ds&&"CompositionEvent"in window,pc=null;Ds&&"documentMode"in document&&(pc=document.documentMode);var TT=Ds&&"TextEvent"in window&&!pc,ky=Ds&&(!dm||pc&&8<pc&&11>=pc),Cy=" ",Ay=!1;function Oy(r,i){switch(r){case"keyup":return ET.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ry(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Wo=!1;function kT(r,i){switch(r){case"compositionend":return Ry(i);case"keypress":return i.which!==32?null:(Ay=!0,Cy);case"textInput":return r=i.data,r===Cy&&Ay?null:r;default:return null}}function CT(r,i){if(Wo)return r==="compositionend"||!dm&&Oy(r,i)?(r=Wi(),ya=Ms=Is=null,Wo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ky&&i.locale!=="ko"?null:i.data;default:return null}}var AT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dy(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!AT[r.type]:i==="textarea"}function My(r,i,u,m){xa?Wa?Wa.push(m):Wa=[m]:xa=m,i=Gd(i,"onChange"),0<i.length&&(u=new qo("onChange","change",null,u,m),r.push({event:u,listeners:i}))}var gc=null,xc=null;function OT(r){mw(r,0)}function ud(r){var i=Cn(r);if(qr(i))return r}function Py(r,i){if(r==="change")return i}var Ly=!1;if(Ds){var fm;if(Ds){var hm="oninput"in document;if(!hm){var zy=document.createElement("div");zy.setAttribute("oninput","return;"),hm=typeof zy.oninput=="function"}fm=hm}else fm=!1;Ly=fm&&(!document.documentMode||9<document.documentMode)}function Uy(){gc&&(gc.detachEvent("onpropertychange",By),xc=gc=null)}function By(r){if(r.propertyName==="value"&&ud(xc)){var i=[];My(i,xc,r,qi(r)),mc(OT,i)}}function RT(r,i,u){r==="focusin"?(Uy(),gc=i,xc=u,gc.attachEvent("onpropertychange",By)):r==="focusout"&&Uy()}function DT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ud(xc)}function MT(r,i){if(r==="click")return ud(i)}function PT(r,i){if(r==="input"||r==="change")return ud(i)}function LT(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Ys=typeof Object.is=="function"?Object.is:LT;function yc(r,i){if(Ys(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var u=Object.keys(r),m=Object.keys(i);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var x=u[m];if(!We.call(i,x)||!Ys(r[x],i[x]))return!1}return!0}function Fy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Hy(r,i){var u=Fy(r);r=0;for(var m;u;){if(u.nodeType===3){if(m=r+u.textContent.length,r<=i&&m>=i)return{node:u,offset:i-r};r=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Fy(u)}}function $y(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?$y(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Vy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Hi(r.document);i instanceof r.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch(m){u=!1}if(u)r=i.contentWindow;else break;i=Hi(r.document)}return i}function mm(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var zT=Ds&&"documentMode"in document&&11>=document.documentMode,Xo=null,pm=null,bc=null,gm=!1;function qy(r,i,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;gm||Xo==null||Xo!==Hi(m)||(m=Xo,"selectionStart"in m&&mm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),bc&&yc(bc,m)||(bc=m,m=Gd(pm,"onSelect"),0<m.length&&(i=new qo("onSelect","select",null,i,u),r.push({event:i,listeners:m}),i.target=Xo)))}function Gi(r,i){var u={};return u[r.toLowerCase()]=i.toLowerCase(),u["Webkit"+r]="webkit"+i,u["Moz"+r]="moz"+i,u}var Go={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionrun:Gi("Transition","TransitionRun"),transitionstart:Gi("Transition","TransitionStart"),transitioncancel:Gi("Transition","TransitionCancel"),transitionend:Gi("Transition","TransitionEnd")},xm={},Iy={};Ds&&(Iy=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function Ki(r){if(xm[r])return xm[r];if(!Go[r])return r;var i=Go[r],u;for(u in i)if(i.hasOwnProperty(u)&&u in Iy)return xm[r]=i[u];return r}var Yy=Ki("animationend"),Wy=Ki("animationiteration"),Xy=Ki("animationstart"),UT=Ki("transitionrun"),BT=Ki("transitionstart"),FT=Ki("transitioncancel"),Gy=Ki("transitionend"),Ky=new Map,ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ym.push("scrollEnd");function Cr(r,i){Ky.set(r,i),yn(i,[r])}var Qy=new WeakMap;function ur(r,i){if(typeof r=="object"&&r!==null){var u=Qy.get(r);return u!==void 0?u:(i={value:r,source:i,stack:Bo(i)},Qy.set(r,i),i)}return{value:r,source:i,stack:Bo(i)}}var dr=[],Ko=0,bm=0;function dd(){for(var r=Ko,i=bm=Ko=0;i<r;){var u=dr[i];dr[i++]=null;var m=dr[i];dr[i++]=null;var x=dr[i];dr[i++]=null;var v=dr[i];if(dr[i++]=null,m!==null&&x!==null){var T=m.pending;T===null?x.next=x:(x.next=T.next,T.next=x),m.pending=x}v!==0&&Zy(u,x,v)}}function fd(r,i,u,m){dr[Ko++]=r,dr[Ko++]=i,dr[Ko++]=u,dr[Ko++]=m,bm|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function vm(r,i,u,m){return fd(r,i,u,m),hd(r)}function Qo(r,i){return fd(r,null,null,i),hd(r)}function Zy(r,i,u){r.lanes|=u;var m=r.alternate;m!==null&&(m.lanes|=u);for(var x=!1,v=r.return;v!==null;)v.childLanes|=u,m=v.alternate,m!==null&&(m.childLanes|=u),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(x=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,x&&i!==null&&(x=31-pt(u),r=v.hiddenUpdates,m=r[x],m===null?r[x]=[i]:m.push(i),i.lane=u|536870912),v):null}function hd(r){if(50<qc)throw qc=0,Ep=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Zo={};function HT(r,i,u,m){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(r,i,u,m){return new HT(r,i,u,m)}function wm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ba(r,i){var u=r.alternate;return u===null?(u=Ws(r.tag,i,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=i,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,i=r.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function Jy(r,i){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,i=u.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function md(r,i,u,m,x,v){var T=0;if(m=r,typeof r=="function")wm(r)&&(T=1);else if(typeof r=="string")T=Vk(r,u,Z.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case q:return r=Ws(31,u,i,x),r.elementType=q,r.lanes=v,r;case w:return Qi(u.children,x,v,i);case _:T=8,x|=24;break;case S:return r=Ws(12,u,i,x|2),r.elementType=S,r.lanes=v,r;case A:return r=Ws(13,u,i,x),r.elementType=A,r.lanes=v,r;case k:return r=Ws(19,u,i,x),r.elementType=k,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case O:T=10;break e;case R:T=9;break e;case C:T=11;break e;case B:T=14;break e;case z:T=16,m=null;break e}T=29,u=Error(s(130,r===null?"null":typeof r,"")),m=null}return i=Ws(T,u,i,x),i.elementType=r,i.type=m,i.lanes=v,i}function Qi(r,i,u,m){return r=Ws(7,r,m,i),r.lanes=u,r}function _m(r,i,u){return r=Ws(6,r,null,i),r.lanes=u,r}function jm(r,i,u){return i=Ws(4,r.children!==null?r.children:[],r.key,i),i.lanes=u,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Jo=[],el=0,pd=null,gd=0,fr=[],hr=0,Zi=null,va=1,wa="";function Ji(r,i){Jo[el++]=gd,Jo[el++]=pd,pd=r,gd=i}function eb(r,i,u){fr[hr++]=va,fr[hr++]=wa,fr[hr++]=Zi,Zi=r;var m=va;r=wa;var x=32-pt(m)-1;m&=~(1<<x),u+=1;var v=32-pt(i)+x;if(30<v){var T=x-x%5;v=(m&(1<<T)-1).toString(32),m>>=T,x-=T,va=1<<32-pt(i)+x|u<<x|m,wa=v+r}else va=1<<v|u<<x|m,wa=r}function Sm(r){r.return!==null&&(Ji(r,1),eb(r,1,0))}function Nm(r){for(;r===pd;)pd=Jo[--el],Jo[el]=null,gd=Jo[--el],Jo[el]=null;for(;r===Zi;)Zi=fr[--hr],fr[hr]=null,wa=fr[--hr],fr[hr]=null,va=fr[--hr],fr[hr]=null}var ks=null,Dn=null,Kt=!1,eo=null,Yr=!1,Em=Error(s(519));function to(r){var i=Error(s(418,""));throw _c(ur(i,r)),Em}function tb(r){var i=r.stateNode,u=r.type,m=r.memoizedProps;switch(i[Se]=r,i[De]=m,u){case"dialog":zt("cancel",i),zt("close",i);break;case"iframe":case"object":case"embed":zt("load",i);break;case"video":case"audio":for(u=0;u<Yc.length;u++)zt(Yc[u],i);break;case"source":zt("error",i);break;case"img":case"image":case"link":zt("error",i),zt("load",i);break;case"details":zt("toggle",i);break;case"input":zt("invalid",i),ad(i,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Fi(i);break;case"select":zt("invalid",i);break;case"textarea":zt("invalid",i),uc(i,m.value,m.defaultValue,m.children),Fi(i)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||i.textContent===""+u||m.suppressHydrationWarning===!0||yw(i.textContent,u)?(m.popover!=null&&(zt("beforetoggle",i),zt("toggle",i)),m.onScroll!=null&&zt("scroll",i),m.onScrollEnd!=null&&zt("scrollend",i),m.onClick!=null&&(i.onclick=Kd),i=!0):i=!1,i||to(r)}function nb(r){for(ks=r.return;ks;)switch(ks.tag){case 5:case 13:Yr=!1;return;case 27:case 3:Yr=!0;return;default:ks=ks.return}}function vc(r){if(r!==ks)return!1;if(!Kt)return nb(r),Kt=!0,!1;var i=r.tag,u;if((u=i!==3&&i!==27)&&((u=i===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||$p(r.type,r.memoizedProps)),u=!u),u&&Dn&&to(r),nb(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(i===0){Dn=Or(r.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++;r=r.nextSibling}Dn=null}}else i===27?(i=Dn,hi(r.type)?(r=Yp,Yp=null,Dn=r):Dn=i):Dn=ks?Or(r.stateNode.nextSibling):null;return!0}function wc(){Dn=ks=null,Kt=!1}function sb(){var r=eo;return r!==null&&(zs===null?zs=r:zs.push.apply(zs,r),eo=null),r}function _c(r){eo===null?eo=[r]:eo.push(r)}var Tm=ae(null),no=null,_a=null;function Za(r,i,u){F(Tm,i._currentValue),i._currentValue=u}function ja(r){r._currentValue=Tm.current,G(Tm)}function km(r,i,u){for(;r!==null;){var m=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),r===u)break;r=r.return}}function Cm(r,i,u,m){var x=r.child;for(x!==null&&(x.return=r);x!==null;){var v=x.dependencies;if(v!==null){var T=x.child;v=v.firstContext;e:for(;v!==null;){var P=v;v=x;for(var W=0;W<i.length;W++)if(P.context===i[W]){v.lanes|=u,P=v.alternate,P!==null&&(P.lanes|=u),km(v.return,u,r),m||(T=null);break e}v=P.next}}else if(x.tag===18){if(T=x.return,T===null)throw Error(s(341));T.lanes|=u,v=T.alternate,v!==null&&(v.lanes|=u),km(T,u,r),T=null}else T=x.child;if(T!==null)T.return=x;else for(T=x;T!==null;){if(T===r){T=null;break}if(x=T.sibling,x!==null){x.return=T.return,T=x;break}T=T.return}x=T}}function jc(r,i,u,m){r=null;for(var x=i,v=!1;x!==null;){if(!v){if((x.flags&524288)!==0)v=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var T=x.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var P=x.type;Ys(x.pendingProps.value,T.value)||(r!==null?r.push(P):r=[P])}}else if(x===Oe.current){if(T=x.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(r!==null?r.push(Zc):r=[Zc])}x=x.return}r!==null&&Cm(i,r,u,m),i.flags|=262144}function xd(r){for(r=r.firstContext;r!==null;){if(!Ys(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function so(r){no=r,_a=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ws(r){return rb(no,r)}function yd(r,i){return no===null&&so(r),rb(r,i)}function rb(r,i){var u=i._currentValue;if(i={context:i,memoizedValue:u,next:null},_a===null){if(r===null)throw Error(s(308));_a=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else _a=_a.next=i;return u}var $T=typeof AbortController!="undefined"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(u,m){r.push(m)}};this.abort=function(){i.aborted=!0,r.forEach(function(u){return u()})}},VT=e.unstable_scheduleCallback,qT=e.unstable_NormalPriority,Qn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Am(){return{controller:new $T,data:new Map,refCount:0}}function Sc(r){r.refCount--,r.refCount===0&&VT(qT,function(){r.controller.abort()})}var Nc=null,Om=0,tl=0,nl=null;function IT(r,i){if(Nc===null){var u=Nc=[];Om=0,tl=Dp(),nl={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Om++,i.then(ab,ab),i}function ab(){if(--Om===0&&Nc!==null){nl!==null&&(nl.status="fulfilled");var r=Nc;Nc=null,tl=0,nl=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function YT(r,i){var u=[],m={status:"pending",value:null,reason:null,then:function(x){u.push(x)}};return r.then(function(){m.status="fulfilled",m.value=i;for(var x=0;x<u.length;x++)(0,u[x])(i)},function(x){for(m.status="rejected",m.reason=x,x=0;x<u.length;x++)(0,u[x])(void 0)}),m}var ib=$.S;$.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&IT(r,i),ib!==null&&ib(r,i)};var ro=ae(null);function Rm(){var r=ro.current;return r!==null?r:fn.pooledCache}function bd(r,i){i===null?F(ro,ro.current):F(ro,i.pool)}function ob(){var r=Rm();return r===null?null:{parent:Qn._currentValue,pool:r}}var Ec=Error(s(460)),lb=Error(s(474)),vd=Error(s(542)),Dm={then:function(){}};function cb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function wd(){}function ub(r,i,u){switch(u=r[u],u===void 0?r.push(i):u!==i&&(i.then(wd,wd),i=u),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,fb(r),r;default:if(typeof i.status=="string")i.then(wd,wd);else{if(r=fn,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(m){if(i.status==="pending"){var x=i;x.status="fulfilled",x.value=m}},function(m){if(i.status==="pending"){var x=i;x.status="rejected",x.reason=m}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,fb(r),r}throw Tc=i,Ec}}var Tc=null;function db(){if(Tc===null)throw Error(s(459));var r=Tc;return Tc=null,r}function fb(r){if(r===Ec||r===vd)throw Error(s(483))}var Ja=!1;function Mm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ei(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ti(r,i,u){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(Jt&2)!==0){var x=m.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),m.pending=i,i=hd(r),Zy(r,null,u),i}return fd(r,m,i,u),hd(r)}function kc(r,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194048)!==0)){var m=i.lanes;m&=r.pendingLanes,u|=m,i.lanes=u,vt(r,u)}}function Lm(r,i){var u=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var x=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var T={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?x=v=T:v=v.next=T,u=u.next}while(u!==null);v===null?x=v=i:v=v.next=i}else x=v=i;u={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:v,shared:m.shared,callbacks:m.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=i:r.next=i,u.lastBaseUpdate=i}var zm=!1;function Cc(){if(zm){var r=nl;if(r!==null)throw r}}function Ac(r,i,u,m){zm=!1;var x=r.updateQueue;Ja=!1;var v=x.firstBaseUpdate,T=x.lastBaseUpdate,P=x.shared.pending;if(P!==null){x.shared.pending=null;var W=P,xe=W.next;W.next=null,T===null?v=xe:T.next=xe,T=W;var ke=r.alternate;ke!==null&&(ke=ke.updateQueue,P=ke.lastBaseUpdate,P!==T&&(P===null?ke.firstBaseUpdate=xe:P.next=xe,ke.lastBaseUpdate=W))}if(v!==null){var Re=x.baseState;T=0,ke=xe=W=null,P=v;do{var _e=P.lane&-536870913,je=_e!==P.lane;if(je?(Vt&_e)===_e:(m&_e)===_e){_e!==0&&_e===tl&&(zm=!0),ke!==null&&(ke=ke.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var gt=r,ut=P;_e=i;var ln=u;switch(ut.tag){case 1:if(gt=ut.payload,typeof gt=="function"){Re=gt.call(ln,Re,_e);break e}Re=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ut.payload,_e=typeof gt=="function"?gt.call(ln,Re,_e):gt,_e==null)break e;Re=p({},Re,_e);break e;case 2:Ja=!0}}_e=P.callback,_e!==null&&(r.flags|=64,je&&(r.flags|=8192),je=x.callbacks,je===null?x.callbacks=[_e]:je.push(_e))}else je={lane:_e,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ke===null?(xe=ke=je,W=Re):ke=ke.next=je,T|=_e;if(P=P.next,P===null){if(P=x.shared.pending,P===null)break;je=P,P=je.next,je.next=null,x.lastBaseUpdate=je,x.shared.pending=null}}while(!0);ke===null&&(W=Re),x.baseState=W,x.firstBaseUpdate=xe,x.lastBaseUpdate=ke,v===null&&(x.shared.lanes=0),ci|=T,r.lanes=T,r.memoizedState=Re}}function hb(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function mb(r,i){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)hb(u[r],i)}var sl=ae(null),_d=ae(0);function pb(r,i){r=Aa,F(_d,r),F(sl,i),Aa=r|i.baseLanes}function Um(){F(_d,Aa),F(sl,sl.current)}function Bm(){Aa=_d.current,G(sl),G(_d)}var ni=0,Rt=null,an=null,Hn=null,jd=!1,rl=!1,ao=!1,Sd=0,Oc=0,al=null,WT=0;function Pn(){throw Error(s(321))}function Fm(r,i){if(i===null)return!1;for(var u=0;u<i.length&&u<r.length;u++)if(!Ys(r[u],i[u]))return!1;return!0}function Hm(r,i,u,m,x,v){return ni=v,Rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=r===null||r.memoizedState===null?Zb:Jb,ao=!1,v=u(m,x),ao=!1,rl&&(v=xb(i,u,m,x)),gb(r),v}function gb(r){$.H=Ad;var i=an!==null&&an.next!==null;if(ni=0,Hn=an=Rt=null,jd=!1,Oc=0,al=null,i)throw Error(s(300));r===null||rs||(r=r.dependencies,r!==null&&xd(r)&&(rs=!0))}function xb(r,i,u,m){Rt=r;var x=0;do{if(rl&&(al=null),Oc=0,rl=!1,25<=x)throw Error(s(301));if(x+=1,Hn=an=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}$.H=ek,v=i(u,m)}while(rl);return v}function XT(){var r=$.H,i=r.useState()[0];return i=typeof i.then=="function"?Rc(i):i,r=r.useState()[0],(an!==null?an.memoizedState:null)!==r&&(Rt.flags|=1024),i}function $m(){var r=Sd!==0;return Sd=0,r}function Vm(r,i,u){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~u}function qm(r){if(jd){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jd=!1}ni=0,Hn=an=Rt=null,rl=!1,Oc=Sd=0,al=null}function Ps(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Rt.memoizedState=Hn=r:Hn=Hn.next=r,Hn}function $n(){if(an===null){var r=Rt.alternate;r=r!==null?r.memoizedState:null}else r=an.next;var i=Hn===null?Rt.memoizedState:Hn.next;if(i!==null)Hn=i,an=r;else{if(r===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));an=r,r={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},Hn===null?Rt.memoizedState=Hn=r:Hn=Hn.next=r}return Hn}function Im(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rc(r){var i=Oc;return Oc+=1,al===null&&(al=[]),r=ub(al,r,i),i=Rt,(Hn===null?i.memoizedState:Hn.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Zb:Jb),r}function Nd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Rc(r);if(r.$$typeof===O)return ws(r)}throw Error(s(438,String(r)))}function Ym(r){var i=null,u=Rt.updateQueue;if(u!==null&&(i=u.memoCache),i==null){var m=Rt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(i={data:m.data.map(function(x){return x.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),u===null&&(u=Im(),Rt.updateQueue=u),u.memoCache=i,u=i.data[i.index],u===void 0)for(u=i.data[i.index]=Array(r),m=0;m<r;m++)u[m]=ne;return i.index++,u}function Sa(r,i){return typeof i=="function"?i(r):i}function Ed(r){var i=$n();return Wm(i,an,r)}function Wm(r,i,u){var m=r.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=u;var x=r.baseQueue,v=m.pending;if(v!==null){if(x!==null){var T=x.next;x.next=v.next,v.next=T}i.baseQueue=x=v,m.pending=null}if(v=r.baseState,x===null)r.memoizedState=v;else{i=x.next;var P=T=null,W=null,xe=i,ke=!1;do{var Re=xe.lane&-536870913;if(Re!==xe.lane?(Vt&Re)===Re:(ni&Re)===Re){var _e=xe.revertLane;if(_e===0)W!==null&&(W=W.next={lane:0,revertLane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),Re===tl&&(ke=!0);else if((ni&_e)===_e){xe=xe.next,_e===tl&&(ke=!0);continue}else Re={lane:0,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},W===null?(P=W=Re,T=v):W=W.next=Re,Rt.lanes|=_e,ci|=_e;Re=xe.action,ao&&u(v,Re),v=xe.hasEagerState?xe.eagerState:u(v,Re)}else _e={lane:Re,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},W===null?(P=W=_e,T=v):W=W.next=_e,Rt.lanes|=Re,ci|=Re;xe=xe.next}while(xe!==null&&xe!==i);if(W===null?T=v:W.next=P,!Ys(v,r.memoizedState)&&(rs=!0,ke&&(u=nl,u!==null)))throw u;r.memoizedState=v,r.baseState=T,r.baseQueue=W,m.lastRenderedState=v}return x===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function Xm(r){var i=$n(),u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=r;var m=u.dispatch,x=u.pending,v=i.memoizedState;if(x!==null){u.pending=null;var T=x=x.next;do v=r(v,T.action),T=T.next;while(T!==x);Ys(v,i.memoizedState)||(rs=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),u.lastRenderedState=v}return[v,m]}function yb(r,i,u){var m=Rt,x=$n(),v=Kt;if(v){if(u===void 0)throw Error(s(407));u=u()}else u=i();var T=!Ys((an||x).memoizedState,u);T&&(x.memoizedState=u,rs=!0),x=x.queue;var P=wb.bind(null,m,x,r);if(Dc(2048,8,P,[r]),x.getSnapshot!==i||T||Hn!==null&&Hn.memoizedState.tag&1){if(m.flags|=2048,il(9,Td(),vb.bind(null,m,x,u,i),null),fn===null)throw Error(s(349));v||(ni&124)!==0||bb(m,i,u)}return u}function bb(r,i,u){r.flags|=16384,r={getSnapshot:i,value:u},i=Rt.updateQueue,i===null?(i=Im(),Rt.updateQueue=i,i.stores=[r]):(u=i.stores,u===null?i.stores=[r]:u.push(r))}function vb(r,i,u,m){i.value=u,i.getSnapshot=m,_b(i)&&jb(r)}function wb(r,i,u){return u(function(){_b(i)&&jb(r)})}function _b(r){var i=r.getSnapshot;r=r.value;try{var u=i();return!Ys(r,u)}catch(m){return!0}}function jb(r){var i=Qo(r,2);i!==null&&Zs(i,r,2)}function Gm(r){var i=Ps();if(typeof r=="function"){var u=r;if(r=u(),ao){$e(!0);try{u()}finally{$e(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:r},i}function Sb(r,i,u,m){return r.baseState=u,Wm(r,an,typeof m=="function"?m:Sa)}function GT(r,i,u,m,x){if(Cd(r))throw Error(s(485));if(r=i.action,r!==null){var v={payload:x,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){v.listeners.push(T)}};$.T!==null?u(!0):v.isTransition=!1,m(v),u=i.pending,u===null?(v.next=i.pending=v,Nb(i,v)):(v.next=u.next,i.pending=u.next=v)}}function Nb(r,i){var u=i.action,m=i.payload,x=r.state;if(i.isTransition){var v=$.T,T={};$.T=T;try{var P=u(x,m),W=$.S;W!==null&&W(T,P),Eb(r,i,P)}catch(xe){Km(r,i,xe)}finally{$.T=v}}else try{v=u(x,m),Eb(r,i,v)}catch(xe){Km(r,i,xe)}}function Eb(r,i,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){Tb(r,i,m)},function(m){return Km(r,i,m)}):Tb(r,i,u)}function Tb(r,i,u){i.status="fulfilled",i.value=u,kb(i),r.state=u,i=r.pending,i!==null&&(u=i.next,u===i?r.pending=null:(u=u.next,i.next=u,Nb(r,u)))}function Km(r,i,u){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do i.status="rejected",i.reason=u,kb(i),i=i.next;while(i!==m)}r.action=null}function kb(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Cb(r,i){return i}function Ab(r,i){if(Kt){var u=fn.formState;if(u!==null){e:{var m=Rt;if(Kt){if(Dn){t:{for(var x=Dn,v=Yr;x.nodeType!==8;){if(!v){x=null;break t}if(x=Or(x.nextSibling),x===null){x=null;break t}}v=x.data,x=v==="F!"||v==="F"?x:null}if(x){Dn=Or(x.nextSibling),m=x.data==="F!";break e}}to(m)}m=!1}m&&(i=u[0])}}return u=Ps(),u.memoizedState=u.baseState=i,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cb,lastRenderedState:i},u.queue=m,u=Gb.bind(null,Rt,m),m.dispatch=u,m=Gm(!1),v=tp.bind(null,Rt,!1,m.queue),m=Ps(),x={state:i,dispatch:null,action:r,pending:null},m.queue=x,u=GT.bind(null,Rt,x,v,u),x.dispatch=u,m.memoizedState=r,[i,u,!1]}function Ob(r){var i=$n();return Rb(i,an,r)}function Rb(r,i,u){if(i=Wm(r,i,Cb)[0],r=Ed(Sa)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var m=Rc(i)}catch(T){throw T===Ec?vd:T}else m=i;i=$n();var x=i.queue,v=x.dispatch;return u!==i.memoizedState&&(Rt.flags|=2048,il(9,Td(),KT.bind(null,x,u),null)),[m,v,r]}function KT(r,i){r.action=i}function Db(r){var i=$n(),u=an;if(u!==null)return Rb(i,u,r);$n(),i=i.memoizedState,u=$n();var m=u.queue.dispatch;return u.memoizedState=r,[i,m,!1]}function il(r,i,u,m){return r={tag:r,create:u,deps:m,inst:i,next:null},i=Rt.updateQueue,i===null&&(i=Im(),Rt.updateQueue=i),u=i.lastEffect,u===null?i.lastEffect=r.next=r:(m=u.next,u.next=r,r.next=m,i.lastEffect=r),r}function Td(){return{destroy:void 0,resource:void 0}}function Mb(){return $n().memoizedState}function kd(r,i,u,m){var x=Ps();m=m===void 0?null:m,Rt.flags|=r,x.memoizedState=il(1|i,Td(),u,m)}function Dc(r,i,u,m){var x=$n();m=m===void 0?null:m;var v=x.memoizedState.inst;an!==null&&m!==null&&Fm(m,an.memoizedState.deps)?x.memoizedState=il(i,v,u,m):(Rt.flags|=r,x.memoizedState=il(1|i,v,u,m))}function Pb(r,i){kd(8390656,8,r,i)}function Lb(r,i){Dc(2048,8,r,i)}function zb(r,i){return Dc(4,2,r,i)}function Ub(r,i){return Dc(4,4,r,i)}function Bb(r,i){if(typeof i=="function"){r=r();var u=i(r);return function(){typeof u=="function"?u():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Fb(r,i,u){u=u!=null?u.concat([r]):null,Dc(4,4,Bb.bind(null,i,r),u)}function Qm(){}function Hb(r,i){var u=$n();i=i===void 0?null:i;var m=u.memoizedState;return i!==null&&Fm(i,m[1])?m[0]:(u.memoizedState=[r,i],r)}function $b(r,i){var u=$n();i=i===void 0?null:i;var m=u.memoizedState;if(i!==null&&Fm(i,m[1]))return m[0];if(m=r(),ao){$e(!0);try{r()}finally{$e(!1)}}return u.memoizedState=[m,i],m}function Zm(r,i,u){return u===void 0||(ni&1073741824)!==0?r.memoizedState=i:(r.memoizedState=u,r=Iv(),Rt.lanes|=r,ci|=r,u)}function Vb(r,i,u,m){return Ys(u,i)?u:sl.current!==null?(r=Zm(r,u,m),Ys(r,i)||(rs=!0),r):(ni&42)===0?(rs=!0,r.memoizedState=u):(r=Iv(),Rt.lanes|=r,ci|=r,i)}function qb(r,i,u,m,x){var v=J.p;J.p=v!==0&&8>v?v:8;var T=$.T,P={};$.T=P,tp(r,!1,i,u);try{var W=x(),xe=$.S;if(xe!==null&&xe(P,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var ke=YT(W,m);Mc(r,i,ke,Qs(r))}else Mc(r,i,m,Qs(r))}catch(Re){Mc(r,i,{then:function(){},status:"rejected",reason:Re},Qs())}finally{J.p=v,$.T=T}}function QT(){}function Jm(r,i,u,m){if(r.tag!==5)throw Error(s(476));var x=Ib(r).queue;qb(r,x,i,K,u===null?QT:function(){return Yb(r),u(m)})}function Ib(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:K},next:null};var u={};return i.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:u},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Yb(r){var i=Ib(r).next.queue;Mc(r,i,{},Qs())}function ep(){return ws(Zc)}function Wb(){return $n().memoizedState}function Xb(){return $n().memoizedState}function ZT(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var u=Qs();r=ei(u);var m=ti(i,r,u);m!==null&&(Zs(m,i,u),kc(m,i,u)),i={cache:Am()},r.payload=i;return}i=i.return}}function JT(r,i,u){var m=Qs();u={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Cd(r)?Kb(i,u):(u=vm(r,i,u,m),u!==null&&(Zs(u,r,m),Qb(u,i,m)))}function Gb(r,i,u){var m=Qs();Mc(r,i,u,m)}function Mc(r,i,u,m){var x={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Cd(r))Kb(i,x);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var T=i.lastRenderedState,P=v(T,u);if(x.hasEagerState=!0,x.eagerState=P,Ys(P,T))return fd(r,i,x,0),fn===null&&dd(),!1}catch(W){}finally{}if(u=vm(r,i,x,m),u!==null)return Zs(u,r,m),Qb(u,i,m),!0}return!1}function tp(r,i,u,m){if(m={lane:2,revertLane:Dp(),action:m,hasEagerState:!1,eagerState:null,next:null},Cd(r)){if(i)throw Error(s(479))}else i=vm(r,u,m,2),i!==null&&Zs(i,r,2)}function Cd(r){var i=r.alternate;return r===Rt||i!==null&&i===Rt}function Kb(r,i){rl=jd=!0;var u=r.pending;u===null?i.next=i:(i.next=u.next,u.next=i),r.pending=i}function Qb(r,i,u){if((u&4194048)!==0){var m=i.lanes;m&=r.pendingLanes,u|=m,i.lanes=u,vt(r,u)}}var Ad={readContext:ws,use:Nd,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn},Zb={readContext:ws,use:Nd,useCallback:function(r,i){return Ps().memoizedState=[r,i===void 0?null:i],r},useContext:ws,useEffect:Pb,useImperativeHandle:function(r,i,u){u=u!=null?u.concat([r]):null,kd(4194308,4,Bb.bind(null,i,r),u)},useLayoutEffect:function(r,i){return kd(4194308,4,r,i)},useInsertionEffect:function(r,i){kd(4,2,r,i)},useMemo:function(r,i){var u=Ps();i=i===void 0?null:i;var m=r();if(ao){$e(!0);try{r()}finally{$e(!1)}}return u.memoizedState=[m,i],m},useReducer:function(r,i,u){var m=Ps();if(u!==void 0){var x=u(i);if(ao){$e(!0);try{u(i)}finally{$e(!1)}}}else x=i;return m.memoizedState=m.baseState=x,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:x},m.queue=r,r=r.dispatch=JT.bind(null,Rt,r),[m.memoizedState,r]},useRef:function(r){var i=Ps();return r={current:r},i.memoizedState=r},useState:function(r){r=Gm(r);var i=r.queue,u=Gb.bind(null,Rt,i);return i.dispatch=u,[r.memoizedState,u]},useDebugValue:Qm,useDeferredValue:function(r,i){var u=Ps();return Zm(u,r,i)},useTransition:function(){var r=Gm(!1);return r=qb.bind(null,Rt,r.queue,!0,!1),Ps().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,u){var m=Rt,x=Ps();if(Kt){if(u===void 0)throw Error(s(407));u=u()}else{if(u=i(),fn===null)throw Error(s(349));(Vt&124)!==0||bb(m,i,u)}x.memoizedState=u;var v={value:u,getSnapshot:i};return x.queue=v,Pb(wb.bind(null,m,v,r),[r]),m.flags|=2048,il(9,Td(),vb.bind(null,m,v,u,i),null),u},useId:function(){var r=Ps(),i=fn.identifierPrefix;if(Kt){var u=wa,m=va;u=(m&~(1<<32-pt(m)-1)).toString(32)+u,i="«"+i+"R"+u,u=Sd++,0<u&&(i+="H"+u.toString(32)),i+="»"}else u=WT++,i="«"+i+"r"+u.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:ep,useFormState:Ab,useActionState:Ab,useOptimistic:function(r){var i=Ps();i.memoizedState=i.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=u,i=tp.bind(null,Rt,!0,u),u.dispatch=i,[r,i]},useMemoCache:Ym,useCacheRefresh:function(){return Ps().memoizedState=ZT.bind(null,Rt)}},Jb={readContext:ws,use:Nd,useCallback:Hb,useContext:ws,useEffect:Lb,useImperativeHandle:Fb,useInsertionEffect:zb,useLayoutEffect:Ub,useMemo:$b,useReducer:Ed,useRef:Mb,useState:function(){return Ed(Sa)},useDebugValue:Qm,useDeferredValue:function(r,i){var u=$n();return Vb(u,an.memoizedState,r,i)},useTransition:function(){var r=Ed(Sa)[0],i=$n().memoizedState;return[typeof r=="boolean"?r:Rc(r),i]},useSyncExternalStore:yb,useId:Wb,useHostTransitionStatus:ep,useFormState:Ob,useActionState:Ob,useOptimistic:function(r,i){var u=$n();return Sb(u,an,r,i)},useMemoCache:Ym,useCacheRefresh:Xb},ek={readContext:ws,use:Nd,useCallback:Hb,useContext:ws,useEffect:Lb,useImperativeHandle:Fb,useInsertionEffect:zb,useLayoutEffect:Ub,useMemo:$b,useReducer:Xm,useRef:Mb,useState:function(){return Xm(Sa)},useDebugValue:Qm,useDeferredValue:function(r,i){var u=$n();return an===null?Zm(u,r,i):Vb(u,an.memoizedState,r,i)},useTransition:function(){var r=Xm(Sa)[0],i=$n().memoizedState;return[typeof r=="boolean"?r:Rc(r),i]},useSyncExternalStore:yb,useId:Wb,useHostTransitionStatus:ep,useFormState:Db,useActionState:Db,useOptimistic:function(r,i){var u=$n();return an!==null?Sb(u,an,r,i):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Ym,useCacheRefresh:Xb},ol=null,Pc=0;function Od(r){var i=Pc;return Pc+=1,ol===null&&(ol=[]),ub(ol,r,i)}function Lc(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Rd(r,i){throw i.$$typeof===g?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function ev(r){var i=r._init;return i(r._payload)}function tv(r){function i(oe,se){if(r){var ge=oe.deletions;ge===null?(oe.deletions=[se],oe.flags|=16):ge.push(se)}}function u(oe,se){if(!r)return null;for(;se!==null;)i(oe,se),se=se.sibling;return null}function m(oe){for(var se=new Map;oe!==null;)oe.key!==null?se.set(oe.key,oe):se.set(oe.index,oe),oe=oe.sibling;return se}function x(oe,se){return oe=ba(oe,se),oe.index=0,oe.sibling=null,oe}function v(oe,se,ge){return oe.index=ge,r?(ge=oe.alternate,ge!==null?(ge=ge.index,ge<se?(oe.flags|=67108866,se):ge):(oe.flags|=67108866,se)):(oe.flags|=1048576,se)}function T(oe){return r&&oe.alternate===null&&(oe.flags|=67108866),oe}function P(oe,se,ge,Ce){return se===null||se.tag!==6?(se=_m(ge,oe.mode,Ce),se.return=oe,se):(se=x(se,ge),se.return=oe,se)}function W(oe,se,ge,Ce){var Qe=ge.type;return Qe===w?ke(oe,se,ge.props.children,Ce,ge.key):se!==null&&(se.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===z&&ev(Qe)===se.type)?(se=x(se,ge.props),Lc(se,ge),se.return=oe,se):(se=md(ge.type,ge.key,ge.props,null,oe.mode,Ce),Lc(se,ge),se.return=oe,se)}function xe(oe,se,ge,Ce){return se===null||se.tag!==4||se.stateNode.containerInfo!==ge.containerInfo||se.stateNode.implementation!==ge.implementation?(se=jm(ge,oe.mode,Ce),se.return=oe,se):(se=x(se,ge.children||[]),se.return=oe,se)}function ke(oe,se,ge,Ce,Qe){return se===null||se.tag!==7?(se=Qi(ge,oe.mode,Ce,Qe),se.return=oe,se):(se=x(se,ge),se.return=oe,se)}function Re(oe,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=_m(""+se,oe.mode,ge),se.return=oe,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case b:return ge=md(se.type,se.key,se.props,null,oe.mode,ge),Lc(ge,se),ge.return=oe,ge;case y:return se=jm(se,oe.mode,ge),se.return=oe,se;case z:var Ce=se._init;return se=Ce(se._payload),Re(oe,se,ge)}if(Q(se)||te(se))return se=Qi(se,oe.mode,ge,null),se.return=oe,se;if(typeof se.then=="function")return Re(oe,Od(se),ge);if(se.$$typeof===O)return Re(oe,yd(oe,se),ge);Rd(oe,se)}return null}function _e(oe,se,ge,Ce){var Qe=se!==null?se.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return Qe!==null?null:P(oe,se,""+ge,Ce);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case b:return ge.key===Qe?W(oe,se,ge,Ce):null;case y:return ge.key===Qe?xe(oe,se,ge,Ce):null;case z:return Qe=ge._init,ge=Qe(ge._payload),_e(oe,se,ge,Ce)}if(Q(ge)||te(ge))return Qe!==null?null:ke(oe,se,ge,Ce,null);if(typeof ge.then=="function")return _e(oe,se,Od(ge),Ce);if(ge.$$typeof===O)return _e(oe,se,yd(oe,ge),Ce);Rd(oe,ge)}return null}function je(oe,se,ge,Ce,Qe){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return oe=oe.get(ge)||null,P(se,oe,""+Ce,Qe);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case b:return oe=oe.get(Ce.key===null?ge:Ce.key)||null,W(se,oe,Ce,Qe);case y:return oe=oe.get(Ce.key===null?ge:Ce.key)||null,xe(se,oe,Ce,Qe);case z:var Mt=Ce._init;return Ce=Mt(Ce._payload),je(oe,se,ge,Ce,Qe)}if(Q(Ce)||te(Ce))return oe=oe.get(ge)||null,ke(se,oe,Ce,Qe,null);if(typeof Ce.then=="function")return je(oe,se,ge,Od(Ce),Qe);if(Ce.$$typeof===O)return je(oe,se,ge,yd(se,Ce),Qe);Rd(se,Ce)}return null}function gt(oe,se,ge,Ce){for(var Qe=null,Mt=null,at=se,mt=se=0,is=null;at!==null&&mt<ge.length;mt++){at.index>mt?(is=at,at=null):is=at.sibling;var Wt=_e(oe,at,ge[mt],Ce);if(Wt===null){at===null&&(at=is);break}r&&at&&Wt.alternate===null&&i(oe,at),se=v(Wt,se,mt),Mt===null?Qe=Wt:Mt.sibling=Wt,Mt=Wt,at=is}if(mt===ge.length)return u(oe,at),Kt&&Ji(oe,mt),Qe;if(at===null){for(;mt<ge.length;mt++)at=Re(oe,ge[mt],Ce),at!==null&&(se=v(at,se,mt),Mt===null?Qe=at:Mt.sibling=at,Mt=at);return Kt&&Ji(oe,mt),Qe}for(at=m(at);mt<ge.length;mt++)is=je(at,oe,mt,ge[mt],Ce),is!==null&&(r&&is.alternate!==null&&at.delete(is.key===null?mt:is.key),se=v(is,se,mt),Mt===null?Qe=is:Mt.sibling=is,Mt=is);return r&&at.forEach(function(yi){return i(oe,yi)}),Kt&&Ji(oe,mt),Qe}function ut(oe,se,ge,Ce){if(ge==null)throw Error(s(151));for(var Qe=null,Mt=null,at=se,mt=se=0,is=null,Wt=ge.next();at!==null&&!Wt.done;mt++,Wt=ge.next()){at.index>mt?(is=at,at=null):is=at.sibling;var yi=_e(oe,at,Wt.value,Ce);if(yi===null){at===null&&(at=is);break}r&&at&&yi.alternate===null&&i(oe,at),se=v(yi,se,mt),Mt===null?Qe=yi:Mt.sibling=yi,Mt=yi,at=is}if(Wt.done)return u(oe,at),Kt&&Ji(oe,mt),Qe;if(at===null){for(;!Wt.done;mt++,Wt=ge.next())Wt=Re(oe,Wt.value,Ce),Wt!==null&&(se=v(Wt,se,mt),Mt===null?Qe=Wt:Mt.sibling=Wt,Mt=Wt);return Kt&&Ji(oe,mt),Qe}for(at=m(at);!Wt.done;mt++,Wt=ge.next())Wt=je(at,oe,mt,Wt.value,Ce),Wt!==null&&(r&&Wt.alternate!==null&&at.delete(Wt.key===null?mt:Wt.key),se=v(Wt,se,mt),Mt===null?Qe=Wt:Mt.sibling=Wt,Mt=Wt);return r&&at.forEach(function(tC){return i(oe,tC)}),Kt&&Ji(oe,mt),Qe}function ln(oe,se,ge,Ce){if(typeof ge=="object"&&ge!==null&&ge.type===w&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case b:e:{for(var Qe=ge.key;se!==null;){if(se.key===Qe){if(Qe=ge.type,Qe===w){if(se.tag===7){u(oe,se.sibling),Ce=x(se,ge.props.children),Ce.return=oe,oe=Ce;break e}}else if(se.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===z&&ev(Qe)===se.type){u(oe,se.sibling),Ce=x(se,ge.props),Lc(Ce,ge),Ce.return=oe,oe=Ce;break e}u(oe,se);break}else i(oe,se);se=se.sibling}ge.type===w?(Ce=Qi(ge.props.children,oe.mode,Ce,ge.key),Ce.return=oe,oe=Ce):(Ce=md(ge.type,ge.key,ge.props,null,oe.mode,Ce),Lc(Ce,ge),Ce.return=oe,oe=Ce)}return T(oe);case y:e:{for(Qe=ge.key;se!==null;){if(se.key===Qe)if(se.tag===4&&se.stateNode.containerInfo===ge.containerInfo&&se.stateNode.implementation===ge.implementation){u(oe,se.sibling),Ce=x(se,ge.children||[]),Ce.return=oe,oe=Ce;break e}else{u(oe,se);break}else i(oe,se);se=se.sibling}Ce=jm(ge,oe.mode,Ce),Ce.return=oe,oe=Ce}return T(oe);case z:return Qe=ge._init,ge=Qe(ge._payload),ln(oe,se,ge,Ce)}if(Q(ge))return gt(oe,se,ge,Ce);if(te(ge)){if(Qe=te(ge),typeof Qe!="function")throw Error(s(150));return ge=Qe.call(ge),ut(oe,se,ge,Ce)}if(typeof ge.then=="function")return ln(oe,se,Od(ge),Ce);if(ge.$$typeof===O)return ln(oe,se,yd(oe,ge),Ce);Rd(oe,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint"?(ge=""+ge,se!==null&&se.tag===6?(u(oe,se.sibling),Ce=x(se,ge),Ce.return=oe,oe=Ce):(u(oe,se),Ce=_m(ge,oe.mode,Ce),Ce.return=oe,oe=Ce),T(oe)):u(oe,se)}return function(oe,se,ge,Ce){try{Pc=0;var Qe=ln(oe,se,ge,Ce);return ol=null,Qe}catch(at){if(at===Ec||at===vd)throw at;var Mt=Ws(29,at,null,oe.mode);return Mt.lanes=Ce,Mt.return=oe,Mt}finally{}}}var ll=tv(!0),nv=tv(!1),mr=ae(null),Wr=null;function si(r){var i=r.alternate;F(Zn,Zn.current&1),F(mr,r),Wr===null&&(i===null||sl.current!==null||i.memoizedState!==null)&&(Wr=r)}function sv(r){if(r.tag===22){if(F(Zn,Zn.current),F(mr,r),Wr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Wr=r)}}else ri()}function ri(){F(Zn,Zn.current),F(mr,mr.current)}function Na(r){G(mr),Wr===r&&(Wr=null),G(Zn)}var Zn=ae(0);function Dd(r){for(var i=r;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Ip(u)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function np(r,i,u,m){i=r.memoizedState,u=u(m,i),u=u==null?i:p({},i,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var sp={enqueueSetState:function(r,i,u){r=r._reactInternals;var m=Qs(),x=ei(m);x.payload=i,u!=null&&(x.callback=u),i=ti(r,x,m),i!==null&&(Zs(i,r,m),kc(i,r,m))},enqueueReplaceState:function(r,i,u){r=r._reactInternals;var m=Qs(),x=ei(m);x.tag=1,x.payload=i,u!=null&&(x.callback=u),i=ti(r,x,m),i!==null&&(Zs(i,r,m),kc(i,r,m))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var u=Qs(),m=ei(u);m.tag=2,i!=null&&(m.callback=i),i=ti(r,m,u),i!==null&&(Zs(i,r,u),kc(i,r,u))}};function rv(r,i,u,m,x,v,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,v,T):i.prototype&&i.prototype.isPureReactComponent?!yc(u,m)||!yc(x,v):!0}function av(r,i,u,m){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,m),i.state!==r&&sp.enqueueReplaceState(i,i.state,null)}function io(r,i){var u=i;if("ref"in i){u={};for(var m in i)m!=="ref"&&(u[m]=i[m])}if(r=r.defaultProps){u===i&&(u=p({},u));for(var x in r)u[x]===void 0&&(u[x]=r[x])}return u}var Md=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function iv(r){Md(r)}function ov(r){console.error(r)}function lv(r){Md(r)}function Pd(r,i){try{var u=r.onUncaughtError;u(i.value,{componentStack:i.stack})}catch(m){setTimeout(function(){throw m})}}function cv(r,i,u){try{var m=r.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function rp(r,i,u){return u=ei(u),u.tag=3,u.payload={element:null},u.callback=function(){Pd(r,i)},u}function uv(r){return r=ei(r),r.tag=3,r}function dv(r,i,u,m){var x=u.type.getDerivedStateFromError;if(typeof x=="function"){var v=m.value;r.payload=function(){return x(v)},r.callback=function(){cv(i,u,m)}}var T=u.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){cv(i,u,m),typeof x!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var P=m.stack;this.componentDidCatch(m.value,{componentStack:P!==null?P:""})})}function tk(r,i,u,m,x){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(i=u.alternate,i!==null&&jc(i,u,x,!0),u=mr.current,u!==null){switch(u.tag){case 13:return Wr===null?kp():u.alternate===null&&Mn===0&&(Mn=3),u.flags&=-257,u.flags|=65536,u.lanes=x,m===Dm?u.flags|=16384:(i=u.updateQueue,i===null?u.updateQueue=new Set([m]):i.add(m),Ap(r,m,x)),!1;case 22:return u.flags|=65536,m===Dm?u.flags|=16384:(i=u.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=i):(u=i.retryQueue,u===null?i.retryQueue=new Set([m]):u.add(m)),Ap(r,m,x)),!1}throw Error(s(435,u.tag))}return Ap(r,m,x),kp(),!1}if(Kt)return i=mr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=x,m!==Em&&(r=Error(s(422),{cause:m}),_c(ur(r,u)))):(m!==Em&&(i=Error(s(423),{cause:m}),_c(ur(i,u))),r=r.current.alternate,r.flags|=65536,x&=-x,r.lanes|=x,m=ur(m,u),x=rp(r.stateNode,m,x),Lm(r,x),Mn!==4&&(Mn=2)),!1;var v=Error(s(520),{cause:m});if(v=ur(v,u),Vc===null?Vc=[v]:Vc.push(v),Mn!==4&&(Mn=2),i===null)return!0;m=ur(m,u),u=i;do{switch(u.tag){case 3:return u.flags|=65536,r=x&-x,u.lanes|=r,r=rp(u.stateNode,m,r),Lm(u,r),!1;case 1:if(i=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ui===null||!ui.has(v))))return u.flags|=65536,x&=-x,u.lanes|=x,x=uv(x),dv(x,r,u,m),Lm(u,x),!1}u=u.return}while(u!==null);return!1}var fv=Error(s(461)),rs=!1;function ps(r,i,u,m){i.child=r===null?nv(i,null,u,m):ll(i,r.child,u,m)}function hv(r,i,u,m,x){u=u.render;var v=i.ref;if("ref"in m){var T={};for(var P in m)P!=="ref"&&(T[P]=m[P])}else T=m;return so(i),m=Hm(r,i,u,T,v,x),P=$m(),r!==null&&!rs?(Vm(r,i,x),Ea(r,i,x)):(Kt&&P&&Sm(i),i.flags|=1,ps(r,i,m,x),i.child)}function mv(r,i,u,m,x){if(r===null){var v=u.type;return typeof v=="function"&&!wm(v)&&v.defaultProps===void 0&&u.compare===null?(i.tag=15,i.type=v,pv(r,i,v,m,x)):(r=md(u.type,null,m,i,i.mode,x),r.ref=i.ref,r.return=i,i.child=r)}if(v=r.child,!fp(r,x)){var T=v.memoizedProps;if(u=u.compare,u=u!==null?u:yc,u(T,m)&&r.ref===i.ref)return Ea(r,i,x)}return i.flags|=1,r=ba(v,m),r.ref=i.ref,r.return=i,i.child=r}function pv(r,i,u,m,x){if(r!==null){var v=r.memoizedProps;if(yc(v,m)&&r.ref===i.ref)if(rs=!1,i.pendingProps=m=v,fp(r,x))(r.flags&131072)!==0&&(rs=!0);else return i.lanes=r.lanes,Ea(r,i,x)}return ap(r,i,u,m,x)}function gv(r,i,u){var m=i.pendingProps,x=m.children,v=r!==null?r.memoizedState:null;if(m.mode==="hidden"){if((i.flags&128)!==0){if(m=v!==null?v.baseLanes|u:u,r!==null){for(x=i.child=r.child,v=0;x!==null;)v=v|x.lanes|x.childLanes,x=x.sibling;i.childLanes=v&~m}else i.childLanes=0,i.child=null;return xv(r,i,m,u)}if((u&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&bd(i,v!==null?v.cachePool:null),v!==null?pb(i,v):Um(),sv(i);else return i.lanes=i.childLanes=536870912,xv(r,i,v!==null?v.baseLanes|u:u,u)}else v!==null?(bd(i,v.cachePool),pb(i,v),ri(),i.memoizedState=null):(r!==null&&bd(i,null),Um(),ri());return ps(r,i,x,u),i.child}function xv(r,i,u,m){var x=Rm();return x=x===null?null:{parent:Qn._currentValue,pool:x},i.memoizedState={baseLanes:u,cachePool:x},r!==null&&bd(i,null),Um(),sv(i),r!==null&&jc(r,i,m,!0),null}function Ld(r,i){var u=i.ref;if(u===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(s(284));(r===null||r.ref!==u)&&(i.flags|=4194816)}}function ap(r,i,u,m,x){return so(i),u=Hm(r,i,u,m,void 0,x),m=$m(),r!==null&&!rs?(Vm(r,i,x),Ea(r,i,x)):(Kt&&m&&Sm(i),i.flags|=1,ps(r,i,u,x),i.child)}function yv(r,i,u,m,x,v){return so(i),i.updateQueue=null,u=xb(i,m,u,x),gb(r),m=$m(),r!==null&&!rs?(Vm(r,i,v),Ea(r,i,v)):(Kt&&m&&Sm(i),i.flags|=1,ps(r,i,u,v),i.child)}function bv(r,i,u,m,x){if(so(i),i.stateNode===null){var v=Zo,T=u.contextType;typeof T=="object"&&T!==null&&(v=ws(T)),v=new u(m,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=sp,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=m,v.state=i.memoizedState,v.refs={},Mm(i),T=u.contextType,v.context=typeof T=="object"&&T!==null?ws(T):Zo,v.state=i.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(np(i,u,T,m),v.state=i.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(T=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),T!==v.state&&sp.enqueueReplaceState(v,v.state,null),Ac(i,m,v,x),Cc(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),m=!0}else if(r===null){v=i.stateNode;var P=i.memoizedProps,W=io(u,P);v.props=W;var xe=v.context,ke=u.contextType;T=Zo,typeof ke=="object"&&ke!==null&&(T=ws(ke));var Re=u.getDerivedStateFromProps;ke=typeof Re=="function"||typeof v.getSnapshotBeforeUpdate=="function",P=i.pendingProps!==P,ke||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(P||xe!==T)&&av(i,v,m,T),Ja=!1;var _e=i.memoizedState;v.state=_e,Ac(i,m,v,x),Cc(),xe=i.memoizedState,P||_e!==xe||Ja?(typeof Re=="function"&&(np(i,u,Re,m),xe=i.memoizedState),(W=Ja||rv(i,u,W,m,_e,xe,T))?(ke||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=xe),v.props=m,v.state=xe,v.context=T,m=W):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{v=i.stateNode,Pm(r,i),T=i.memoizedProps,ke=io(u,T),v.props=ke,Re=i.pendingProps,_e=v.context,xe=u.contextType,W=Zo,typeof xe=="object"&&xe!==null&&(W=ws(xe)),P=u.getDerivedStateFromProps,(xe=typeof P=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==Re||_e!==W)&&av(i,v,m,W),Ja=!1,_e=i.memoizedState,v.state=_e,Ac(i,m,v,x),Cc();var je=i.memoizedState;T!==Re||_e!==je||Ja||r!==null&&r.dependencies!==null&&xd(r.dependencies)?(typeof P=="function"&&(np(i,u,P,m),je=i.memoizedState),(ke=Ja||rv(i,u,ke,m,_e,je,W)||r!==null&&r.dependencies!==null&&xd(r.dependencies))?(xe||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(m,je,W),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(m,je,W)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===r.memoizedProps&&_e===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&_e===r.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=je),v.props=m,v.state=je,v.context=W,m=ke):(typeof v.componentDidUpdate!="function"||T===r.memoizedProps&&_e===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&_e===r.memoizedState||(i.flags|=1024),m=!1)}return v=m,Ld(r,i),m=(i.flags&128)!==0,v||m?(v=i.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,r!==null&&m?(i.child=ll(i,r.child,null,x),i.child=ll(i,null,u,x)):ps(r,i,u,x),i.memoizedState=v.state,r=i.child):r=Ea(r,i,x),r}function vv(r,i,u,m){return wc(),i.flags|=256,ps(r,i,u,m),i.child}var ip={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function op(r){return{baseLanes:r,cachePool:ob()}}function lp(r,i,u){return r=r!==null?r.childLanes&~u:0,i&&(r|=pr),r}function wv(r,i,u){var m=i.pendingProps,x=!1,v=(i.flags&128)!==0,T;if((T=v)||(T=r!==null&&r.memoizedState===null?!1:(Zn.current&2)!==0),T&&(x=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,r===null){if(Kt){if(x?si(i):ri(),Kt){var P=Dn,W;if(W=P){e:{for(W=P,P=Yr;W.nodeType!==8;){if(!P){P=null;break e}if(W=Or(W.nextSibling),W===null){P=null;break e}}P=W}P!==null?(i.memoizedState={dehydrated:P,treeContext:Zi!==null?{id:va,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},W=Ws(18,null,null,0),W.stateNode=P,W.return=i,i.child=W,ks=i,Dn=null,W=!0):W=!1}W||to(i)}if(P=i.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Ip(P)?i.lanes=32:i.lanes=536870912,null;Na(i)}return P=m.children,m=m.fallback,x?(ri(),x=i.mode,P=zd({mode:"hidden",children:P},x),m=Qi(m,x,u,null),P.return=i,m.return=i,P.sibling=m,i.child=P,x=i.child,x.memoizedState=op(u),x.childLanes=lp(r,T,u),i.memoizedState=ip,m):(si(i),cp(i,P))}if(W=r.memoizedState,W!==null&&(P=W.dehydrated,P!==null)){if(v)i.flags&256?(si(i),i.flags&=-257,i=up(r,i,u)):i.memoizedState!==null?(ri(),i.child=r.child,i.flags|=128,i=null):(ri(),x=m.fallback,P=i.mode,m=zd({mode:"visible",children:m.children},P),x=Qi(x,P,u,null),x.flags|=2,m.return=i,x.return=i,m.sibling=x,i.child=m,ll(i,r.child,null,u),m=i.child,m.memoizedState=op(u),m.childLanes=lp(r,T,u),i.memoizedState=ip,i=x);else if(si(i),Ip(P)){if(T=P.nextSibling&&P.nextSibling.dataset,T)var xe=T.dgst;T=xe,m=Error(s(419)),m.stack="",m.digest=T,_c({value:m,source:null,stack:null}),i=up(r,i,u)}else if(rs||jc(r,i,u,!1),T=(u&r.childLanes)!==0,rs||T){if(T=fn,T!==null&&(m=u&-u,m=(m&42)!==0?1:Ht(m),m=(m&(T.suspendedLanes|u))!==0?0:m,m!==0&&m!==W.retryLane))throw W.retryLane=m,Qo(r,m),Zs(T,r,m),fv;P.data==="$?"||kp(),i=up(r,i,u)}else P.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=W.treeContext,Dn=Or(P.nextSibling),ks=i,Kt=!0,eo=null,Yr=!1,r!==null&&(fr[hr++]=va,fr[hr++]=wa,fr[hr++]=Zi,va=r.id,wa=r.overflow,Zi=i),i=cp(i,m.children),i.flags|=4096);return i}return x?(ri(),x=m.fallback,P=i.mode,W=r.child,xe=W.sibling,m=ba(W,{mode:"hidden",children:m.children}),m.subtreeFlags=W.subtreeFlags&65011712,xe!==null?x=ba(xe,x):(x=Qi(x,P,u,null),x.flags|=2),x.return=i,m.return=i,m.sibling=x,i.child=m,m=x,x=i.child,P=r.child.memoizedState,P===null?P=op(u):(W=P.cachePool,W!==null?(xe=Qn._currentValue,W=W.parent!==xe?{parent:xe,pool:xe}:W):W=ob(),P={baseLanes:P.baseLanes|u,cachePool:W}),x.memoizedState=P,x.childLanes=lp(r,T,u),i.memoizedState=ip,m):(si(i),u=r.child,r=u.sibling,u=ba(u,{mode:"visible",children:m.children}),u.return=i,u.sibling=null,r!==null&&(T=i.deletions,T===null?(i.deletions=[r],i.flags|=16):T.push(r)),i.child=u,i.memoizedState=null,u)}function cp(r,i){return i=zd({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function zd(r,i){return r=Ws(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function up(r,i,u){return ll(i,r.child,null,u),r=cp(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function _v(r,i,u){r.lanes|=i;var m=r.alternate;m!==null&&(m.lanes|=i),km(r.return,i,u)}function dp(r,i,u,m,x){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:x}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=m,v.tail=u,v.tailMode=x)}function jv(r,i,u){var m=i.pendingProps,x=m.revealOrder,v=m.tail;if(ps(r,i,m.children,u),m=Zn.current,(m&2)!==0)m=m&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&_v(r,u,i);else if(r.tag===19)_v(r,u,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}switch(F(Zn,m),x){case"forwards":for(u=i.child,x=null;u!==null;)r=u.alternate,r!==null&&Dd(r)===null&&(x=u),u=u.sibling;u=x,u===null?(x=i.child,i.child=null):(x=u.sibling,u.sibling=null),dp(i,!1,x,u,v);break;case"backwards":for(u=null,x=i.child,i.child=null;x!==null;){if(r=x.alternate,r!==null&&Dd(r)===null){i.child=x;break}r=x.sibling,x.sibling=u,u=x,x=r}dp(i,!0,u,null,v);break;case"together":dp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ea(r,i,u){if(r!==null&&(i.dependencies=r.dependencies),ci|=i.lanes,(u&i.childLanes)===0)if(r!==null){if(jc(r,i,u,!1),(u&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,u=ba(r,r.pendingProps),i.child=u,u.return=i;r.sibling!==null;)r=r.sibling,u=u.sibling=ba(r,r.pendingProps),u.return=i;u.sibling=null}return i.child}function fp(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&xd(r)))}function nk(r,i,u){switch(i.tag){case 3:Ae(i,i.stateNode.containerInfo),Za(i,Qn,r.memoizedState.cache),wc();break;case 27:case 5:Pe(i);break;case 4:Ae(i,i.stateNode.containerInfo);break;case 10:Za(i,i.type,i.memoizedProps.value);break;case 13:var m=i.memoizedState;if(m!==null)return m.dehydrated!==null?(si(i),i.flags|=128,null):(u&i.child.childLanes)!==0?wv(r,i,u):(si(i),r=Ea(r,i,u),r!==null?r.sibling:null);si(i);break;case 19:var x=(r.flags&128)!==0;if(m=(u&i.childLanes)!==0,m||(jc(r,i,u,!1),m=(u&i.childLanes)!==0),x){if(m)return jv(r,i,u);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),F(Zn,Zn.current),m)break;return null;case 22:case 23:return i.lanes=0,gv(r,i,u);case 24:Za(i,Qn,r.memoizedState.cache)}return Ea(r,i,u)}function Sv(r,i,u){if(r!==null)if(r.memoizedProps!==i.pendingProps)rs=!0;else{if(!fp(r,u)&&(i.flags&128)===0)return rs=!1,nk(r,i,u);rs=(r.flags&131072)!==0}else rs=!1,Kt&&(i.flags&1048576)!==0&&eb(i,gd,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var m=i.elementType,x=m._init;if(m=x(m._payload),i.type=m,typeof m=="function")wm(m)?(r=io(m,r),i.tag=1,i=bv(null,i,m,r,u)):(i.tag=0,i=ap(null,i,m,r,u));else{if(m!=null){if(x=m.$$typeof,x===C){i.tag=11,i=hv(null,i,m,r,u);break e}else if(x===B){i.tag=14,i=mv(null,i,m,r,u);break e}}throw i=pe(m)||m,Error(s(306,i,""))}}return i;case 0:return ap(r,i,i.type,i.pendingProps,u);case 1:return m=i.type,x=io(m,i.pendingProps),bv(r,i,m,x,u);case 3:e:{if(Ae(i,i.stateNode.containerInfo),r===null)throw Error(s(387));m=i.pendingProps;var v=i.memoizedState;x=v.element,Pm(r,i),Ac(i,m,null,u);var T=i.memoizedState;if(m=T.cache,Za(i,Qn,m),m!==v.cache&&Cm(i,[Qn],u,!0),Cc(),m=T.element,v.isDehydrated)if(v={element:m,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=vv(r,i,m,u);break e}else if(m!==x){x=ur(Error(s(424)),i),_c(x),i=vv(r,i,m,u);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Dn=Or(r.firstChild),ks=i,Kt=!0,eo=null,Yr=!0,u=nv(i,null,m,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(wc(),m===x){i=Ea(r,i,u);break e}ps(r,i,m,u)}i=i.child}return i;case 26:return Ld(r,i),r===null?(u=kw(i.type,null,i.pendingProps,null))?i.memoizedState=u:Kt||(u=i.type,r=i.pendingProps,m=Qd(de.current).createElement(u),m[Se]=i,m[De]=r,xs(m,u,r),rt(m),i.stateNode=m):i.memoizedState=kw(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Pe(i),r===null&&Kt&&(m=i.stateNode=Nw(i.type,i.pendingProps,de.current),ks=i,Yr=!0,x=Dn,hi(i.type)?(Yp=x,Dn=Or(m.firstChild)):Dn=x),ps(r,i,i.pendingProps.children,u),Ld(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Kt&&((x=m=Dn)&&(m=Ak(m,i.type,i.pendingProps,Yr),m!==null?(i.stateNode=m,ks=i,Dn=Or(m.firstChild),Yr=!1,x=!0):x=!1),x||to(i)),Pe(i),x=i.type,v=i.pendingProps,T=r!==null?r.memoizedProps:null,m=v.children,$p(x,v)?m=null:T!==null&&$p(x,T)&&(i.flags|=32),i.memoizedState!==null&&(x=Hm(r,i,XT,null,null,u),Zc._currentValue=x),Ld(r,i),ps(r,i,m,u),i.child;case 6:return r===null&&Kt&&((r=u=Dn)&&(u=Ok(u,i.pendingProps,Yr),u!==null?(i.stateNode=u,ks=i,Dn=null,r=!0):r=!1),r||to(i)),null;case 13:return wv(r,i,u);case 4:return Ae(i,i.stateNode.containerInfo),m=i.pendingProps,r===null?i.child=ll(i,null,m,u):ps(r,i,m,u),i.child;case 11:return hv(r,i,i.type,i.pendingProps,u);case 7:return ps(r,i,i.pendingProps,u),i.child;case 8:return ps(r,i,i.pendingProps.children,u),i.child;case 12:return ps(r,i,i.pendingProps.children,u),i.child;case 10:return m=i.pendingProps,Za(i,i.type,m.value),ps(r,i,m.children,u),i.child;case 9:return x=i.type._context,m=i.pendingProps.children,so(i),x=ws(x),m=m(x),i.flags|=1,ps(r,i,m,u),i.child;case 14:return mv(r,i,i.type,i.pendingProps,u);case 15:return pv(r,i,i.type,i.pendingProps,u);case 19:return jv(r,i,u);case 31:return m=i.pendingProps,u=i.mode,m={mode:m.mode,children:m.children},r===null?(u=zd(m,u),u.ref=i.ref,i.child=u,u.return=i,i=u):(u=ba(r.child,m),u.ref=i.ref,i.child=u,u.return=i,i=u),i;case 22:return gv(r,i,u);case 24:return so(i),m=ws(Qn),r===null?(x=Rm(),x===null&&(x=fn,v=Am(),x.pooledCache=v,v.refCount++,v!==null&&(x.pooledCacheLanes|=u),x=v),i.memoizedState={parent:m,cache:x},Mm(i),Za(i,Qn,x)):((r.lanes&u)!==0&&(Pm(r,i),Ac(i,null,null,u),Cc()),x=r.memoizedState,v=i.memoizedState,x.parent!==m?(x={parent:m,cache:m},i.memoizedState=x,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=x),Za(i,Qn,m)):(m=v.cache,Za(i,Qn,m),m!==x.cache&&Cm(i,[Qn],u,!0))),ps(r,i,i.pendingProps.children,u),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ta(r){r.flags|=4}function Nv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Dw(i)){if(i=mr.current,i!==null&&((Vt&4194048)===Vt?Wr!==null:(Vt&62914560)!==Vt&&(Vt&536870912)===0||i!==Wr))throw Tc=Dm,lb;r.flags|=8192}}function Ud(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Ot():536870912,r.lanes|=i,fl|=i)}function zc(r,i){if(!Kt)switch(r.tailMode){case"hidden":i=r.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function jn(r){var i=r.alternate!==null&&r.alternate.child===r.child,u=0,m=0;if(i)for(var x=r.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=m,r.childLanes=u,i}function sk(r,i,u){var m=i.pendingProps;switch(Nm(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(i),null;case 1:return jn(i),null;case 3:return u=i.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),i.memoizedState.cache!==m&&(i.flags|=2048),ja(Qn),He(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(vc(i)?Ta(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,sb())),jn(i),null;case 26:return u=i.memoizedState,r===null?(Ta(i),u!==null?(jn(i),Nv(i,u)):(jn(i),i.flags&=-16777217)):u?u!==r.memoizedState?(Ta(i),jn(i),Nv(i,u)):(jn(i),i.flags&=-16777217):(r.memoizedProps!==m&&Ta(i),jn(i),i.flags&=-16777217),null;case 27:et(i),u=de.current;var x=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==m&&Ta(i);else{if(!m){if(i.stateNode===null)throw Error(s(166));return jn(i),null}r=Z.current,vc(i)?tb(i):(r=Nw(x,m,u),i.stateNode=r,Ta(i))}return jn(i),null;case 5:if(et(i),u=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==m&&Ta(i);else{if(!m){if(i.stateNode===null)throw Error(s(166));return jn(i),null}if(r=Z.current,vc(i))tb(i);else{switch(x=Qd(de.current),r){case 1:r=x.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=x.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=x.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=x.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof m.is=="string"?x.createElement("select",{is:m.is}):x.createElement("select"),m.multiple?r.multiple=!0:m.size&&(r.size=m.size);break;default:r=typeof m.is=="string"?x.createElement(u,{is:m.is}):x.createElement(u)}}r[Se]=i,r[De]=m;e:for(x=i.child;x!==null;){if(x.tag===5||x.tag===6)r.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===i)break e;for(;x.sibling===null;){if(x.return===null||x.return===i)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}i.stateNode=r;e:switch(xs(r,u,m),u){case"button":case"input":case"select":case"textarea":r=!!m.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ta(i)}}return jn(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==m&&Ta(i);else{if(typeof m!="string"&&i.stateNode===null)throw Error(s(166));if(r=de.current,vc(i)){if(r=i.stateNode,u=i.memoizedProps,m=null,x=ks,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}r[Se]=i,r=!!(r.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||yw(r.nodeValue,u)),r||to(i)}else r=Qd(r).createTextNode(m),r[Se]=i,i.stateNode=r}return jn(i),null;case 13:if(m=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(x=vc(i),m!==null&&m.dehydrated!==null){if(r===null){if(!x)throw Error(s(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[Se]=i}else wc(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;jn(i),x=!1}else x=sb(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=x),x=!0;if(!x)return i.flags&256?(Na(i),i):(Na(i),null)}if(Na(i),(i.flags&128)!==0)return i.lanes=u,i;if(u=m!==null,r=r!==null&&r.memoizedState!==null,u){m=i.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool);var v=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(v=m.memoizedState.cachePool.pool),v!==x&&(m.flags|=2048)}return u!==r&&u&&(i.child.flags|=8192),Ud(i,i.updateQueue),jn(i),null;case 4:return He(),r===null&&zp(i.stateNode.containerInfo),jn(i),null;case 10:return ja(i.type),jn(i),null;case 19:if(G(Zn),x=i.memoizedState,x===null)return jn(i),null;if(m=(i.flags&128)!==0,v=x.rendering,v===null)if(m)zc(x,!1);else{if(Mn!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(v=Dd(r),v!==null){for(i.flags|=128,zc(x,!1),r=v.updateQueue,i.updateQueue=r,Ud(i,r),i.subtreeFlags=0,r=u,u=i.child;u!==null;)Jy(u,r),u=u.sibling;return F(Zn,Zn.current&1|2),i.child}r=r.sibling}x.tail!==null&&bt()>Hd&&(i.flags|=128,m=!0,zc(x,!1),i.lanes=4194304)}else{if(!m)if(r=Dd(v),r!==null){if(i.flags|=128,m=!0,r=r.updateQueue,i.updateQueue=r,Ud(i,r),zc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!v.alternate&&!Kt)return jn(i),null}else 2*bt()-x.renderingStartTime>Hd&&u!==536870912&&(i.flags|=128,m=!0,zc(x,!1),i.lanes=4194304);x.isBackwards?(v.sibling=i.child,i.child=v):(r=x.last,r!==null?r.sibling=v:i.child=v,x.last=v)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=bt(),i.sibling=null,r=Zn.current,F(Zn,m?r&1|2:r&1),i):(jn(i),null);case 22:case 23:return Na(i),Bm(),m=i.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(i.flags|=8192):m&&(i.flags|=8192),m?(u&536870912)!==0&&(i.flags&128)===0&&(jn(i),i.subtreeFlags&6&&(i.flags|=8192)):jn(i),u=i.updateQueue,u!==null&&Ud(i,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),m=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(m=i.memoizedState.cachePool.pool),m!==u&&(i.flags|=2048),r!==null&&G(ro),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),ja(Qn),jn(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function rk(r,i){switch(Nm(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ja(Qn),He(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return et(i),null;case 13:if(Na(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));wc()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return G(Zn),null;case 4:return He(),null;case 10:return ja(i.type),null;case 22:case 23:return Na(i),Bm(),r!==null&&G(ro),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return ja(Qn),null;case 25:return null;default:return null}}function Ev(r,i){switch(Nm(i),i.tag){case 3:ja(Qn),He();break;case 26:case 27:case 5:et(i);break;case 4:He();break;case 13:Na(i);break;case 19:G(Zn);break;case 10:ja(i.type);break;case 22:case 23:Na(i),Bm(),r!==null&&G(ro);break;case 24:ja(Qn)}}function Uc(r,i){try{var u=i.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var x=m.next;u=x;do{if((u.tag&r)===r){m=void 0;var v=u.create,T=u.inst;m=v(),T.destroy=m}u=u.next}while(u!==x)}}catch(P){un(i,i.return,P)}}function ai(r,i,u){try{var m=i.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var v=x.next;m=v;do{if((m.tag&r)===r){var T=m.inst,P=T.destroy;if(P!==void 0){T.destroy=void 0,x=i;var W=u,xe=P;try{xe()}catch(ke){un(x,W,ke)}}}m=m.next}while(m!==v)}}catch(ke){un(i,i.return,ke)}}function Tv(r){var i=r.updateQueue;if(i!==null){var u=r.stateNode;try{mb(i,u)}catch(m){un(r,r.return,m)}}}function kv(r,i,u){u.props=io(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(m){un(r,i,m)}}function Bc(r,i){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof u=="function"?r.refCleanup=u(m):u.current=m}}catch(x){un(r,i,x)}}function Xr(r,i){var u=r.ref,m=r.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(x){un(r,i,x)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(x){un(r,i,x)}else u.current=null}function Cv(r){var i=r.type,u=r.memoizedProps,m=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(x){un(r,r.return,x)}}function hp(r,i,u){try{var m=r.stateNode;Nk(m,r.type,u,i),m[De]=i}catch(x){un(r,r.return,x)}}function Av(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&hi(r.type)||r.tag===4}function mp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Av(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&hi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function pp(r,i,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,i?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,i):(i=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,i.appendChild(r),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=Kd));else if(m!==4&&(m===27&&hi(r.type)&&(u=r.stateNode,i=null),r=r.child,r!==null))for(pp(r,i,u),r=r.sibling;r!==null;)pp(r,i,u),r=r.sibling}function Bd(r,i,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,i?u.insertBefore(r,i):u.appendChild(r);else if(m!==4&&(m===27&&hi(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(Bd(r,i,u),r=r.sibling;r!==null;)Bd(r,i,u),r=r.sibling}function Ov(r){var i=r.stateNode,u=r.memoizedProps;try{for(var m=r.type,x=i.attributes;x.length;)i.removeAttributeNode(x[0]);xs(i,m,u),i[Se]=r,i[De]=u}catch(v){un(r,r.return,v)}}var ka=!1,Ln=!1,gp=!1,Rv=typeof WeakSet=="function"?WeakSet:Set,as=null;function ak(r,i){if(r=r.containerInfo,Fp=sf,r=Vy(r),mm(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var x=m.anchorOffset,v=m.focusNode;m=m.focusOffset;try{u.nodeType,v.nodeType}catch(ut){u=null;break e}var T=0,P=-1,W=-1,xe=0,ke=0,Re=r,_e=null;t:for(;;){for(var je;Re!==u||x!==0&&Re.nodeType!==3||(P=T+x),Re!==v||m!==0&&Re.nodeType!==3||(W=T+m),Re.nodeType===3&&(T+=Re.nodeValue.length),(je=Re.firstChild)!==null;)_e=Re,Re=je;for(;;){if(Re===r)break t;if(_e===u&&++xe===x&&(P=T),_e===v&&++ke===m&&(W=T),(je=Re.nextSibling)!==null)break;Re=_e,_e=Re.parentNode}Re=je}u=P===-1||W===-1?null:{start:P,end:W}}else u=null}u=u||{start:0,end:0}}else u=null;for(Hp={focusedElem:r,selectionRange:u},sf=!1,as=i;as!==null;)if(i=as,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,as=r;else for(;as!==null;){switch(i=as,v=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,u=i,x=v.memoizedProps,v=v.memoizedState,m=u.stateNode;try{var gt=io(u.type,x,u.elementType===u.type);r=m.getSnapshotBeforeUpdate(gt,v),m.__reactInternalSnapshotBeforeUpdate=r}catch(ut){un(u,u.return,ut)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,u=r.nodeType,u===9)qp(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":qp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,as=r;break}as=i.return}}function Dv(r,i,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:ii(r,u),m&4&&Uc(5,u);break;case 1:if(ii(r,u),m&4)if(r=u.stateNode,i===null)try{r.componentDidMount()}catch(T){un(u,u.return,T)}else{var x=io(u.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(x,i,r.__reactInternalSnapshotBeforeUpdate)}catch(T){un(u,u.return,T)}}m&64&&Tv(u),m&512&&Bc(u,u.return);break;case 3:if(ii(r,u),m&64&&(r=u.updateQueue,r!==null)){if(i=null,u.child!==null)switch(u.child.tag){case 27:case 5:i=u.child.stateNode;break;case 1:i=u.child.stateNode}try{mb(r,i)}catch(T){un(u,u.return,T)}}break;case 27:i===null&&m&4&&Ov(u);case 26:case 5:ii(r,u),i===null&&m&4&&Cv(u),m&512&&Bc(u,u.return);break;case 12:ii(r,u);break;case 13:ii(r,u),m&4&&Lv(r,u),m&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=mk.bind(null,u),Rk(r,u))));break;case 22:if(m=u.memoizedState!==null||ka,!m){i=i!==null&&i.memoizedState!==null||Ln,x=ka;var v=Ln;ka=m,(Ln=i)&&!v?oi(r,u,(u.subtreeFlags&8772)!==0):ii(r,u),ka=x,Ln=v}break;case 30:break;default:ii(r,u)}}function Mv(r){var i=r.alternate;i!==null&&(r.alternate=null,Mv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&xt(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var bn=null,Ls=!1;function Ca(r,i,u){for(u=u.child;u!==null;)Pv(r,i,u),u=u.sibling}function Pv(r,i,u){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(we,u)}catch(v){}switch(u.tag){case 26:Ln||Xr(u,i),Ca(r,i,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ln||Xr(u,i);var m=bn,x=Ls;hi(u.type)&&(bn=u.stateNode,Ls=!1),Ca(r,i,u),Xc(u.stateNode),bn=m,Ls=x;break;case 5:Ln||Xr(u,i);case 6:if(m=bn,x=Ls,bn=null,Ca(r,i,u),bn=m,Ls=x,bn!==null)if(Ls)try{(bn.nodeType===9?bn.body:bn.nodeName==="HTML"?bn.ownerDocument.body:bn).removeChild(u.stateNode)}catch(v){un(u,i,v)}else try{bn.removeChild(u.stateNode)}catch(v){un(u,i,v)}break;case 18:bn!==null&&(Ls?(r=bn,jw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),nu(r)):jw(bn,u.stateNode));break;case 4:m=bn,x=Ls,bn=u.stateNode.containerInfo,Ls=!0,Ca(r,i,u),bn=m,Ls=x;break;case 0:case 11:case 14:case 15:Ln||ai(2,u,i),Ln||ai(4,u,i),Ca(r,i,u);break;case 1:Ln||(Xr(u,i),m=u.stateNode,typeof m.componentWillUnmount=="function"&&kv(u,i,m)),Ca(r,i,u);break;case 21:Ca(r,i,u);break;case 22:Ln=(m=Ln)||u.memoizedState!==null,Ca(r,i,u),Ln=m;break;default:Ca(r,i,u)}}function Lv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{nu(r)}catch(u){un(i,i.return,u)}}function ik(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Rv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Rv),i;default:throw Error(s(435,r.tag))}}function xp(r,i){var u=ik(r);i.forEach(function(m){var x=pk.bind(null,r,m);u.has(m)||(u.add(m),m.then(x,x))})}function Xs(r,i){var u=i.deletions;if(u!==null)for(var m=0;m<u.length;m++){var x=u[m],v=r,T=i,P=T;e:for(;P!==null;){switch(P.tag){case 27:if(hi(P.type)){bn=P.stateNode,Ls=!1;break e}break;case 5:bn=P.stateNode,Ls=!1;break e;case 3:case 4:bn=P.stateNode.containerInfo,Ls=!0;break e}P=P.return}if(bn===null)throw Error(s(160));Pv(v,T,x),bn=null,Ls=!1,v=x.alternate,v!==null&&(v.return=null),x.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)zv(i,r),i=i.sibling}var Ar=null;function zv(r,i){var u=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Xs(i,r),Gs(r),m&4&&(ai(3,r,r.return),Uc(3,r),ai(5,r,r.return));break;case 1:Xs(i,r),Gs(r),m&512&&(Ln||u===null||Xr(u,u.return)),m&64&&ka&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var x=Ar;if(Xs(i,r),Gs(r),m&512&&(Ln||u===null||Xr(u,u.return)),m&4){var v=u!==null?u.memoizedState:null;if(m=r.memoizedState,u===null)if(m===null)if(r.stateNode===null){e:{m=r.type,u=r.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":v=x.getElementsByTagName("title")[0],(!v||v[st]||v[Se]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=x.createElement(m),x.head.insertBefore(v,x.querySelector("head > title"))),xs(v,m,u),v[Se]=r,rt(v),m=v;break e;case"link":var T=Ow("link","href",x).get(m+(u.href||""));if(T){for(var P=0;P<T.length;P++)if(v=T[P],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){T.splice(P,1);break t}}v=x.createElement(m),xs(v,m,u),x.head.appendChild(v);break;case"meta":if(T=Ow("meta","content",x).get(m+(u.content||""))){for(P=0;P<T.length;P++)if(v=T[P],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){T.splice(P,1);break t}}v=x.createElement(m),xs(v,m,u),x.head.appendChild(v);break;default:throw Error(s(468,m))}v[Se]=r,rt(v),m=v}r.stateNode=m}else Rw(x,r.type,r.stateNode);else r.stateNode=Aw(x,m,r.memoizedProps);else v!==m?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,m===null?Rw(x,r.type,r.stateNode):Aw(x,m,r.memoizedProps)):m===null&&r.stateNode!==null&&hp(r,r.memoizedProps,u.memoizedProps)}break;case 27:Xs(i,r),Gs(r),m&512&&(Ln||u===null||Xr(u,u.return)),u!==null&&m&4&&hp(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Xs(i,r),Gs(r),m&512&&(Ln||u===null||Xr(u,u.return)),r.flags&32){x=r.stateNode;try{Ya(x,"")}catch(je){un(r,r.return,je)}}m&4&&r.stateNode!=null&&(x=r.memoizedProps,hp(r,x,u!==null?u.memoizedProps:x)),m&1024&&(gp=!0);break;case 6:if(Xs(i,r),Gs(r),m&4){if(r.stateNode===null)throw Error(s(162));m=r.memoizedProps,u=r.stateNode;try{u.nodeValue=m}catch(je){un(r,r.return,je)}}break;case 3:if(ef=null,x=Ar,Ar=Zd(i.containerInfo),Xs(i,r),Ar=x,Gs(r),m&4&&u!==null&&u.memoizedState.isDehydrated)try{nu(i.containerInfo)}catch(je){un(r,r.return,je)}gp&&(gp=!1,Uv(r));break;case 4:m=Ar,Ar=Zd(r.stateNode.containerInfo),Xs(i,r),Gs(r),Ar=m;break;case 12:Xs(i,r),Gs(r);break;case 13:Xs(i,r),Gs(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(jp=bt()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,xp(r,m)));break;case 22:x=r.memoizedState!==null;var W=u!==null&&u.memoizedState!==null,xe=ka,ke=Ln;if(ka=xe||x,Ln=ke||W,Xs(i,r),Ln=ke,ka=xe,Gs(r),m&8192)e:for(i=r.stateNode,i._visibility=x?i._visibility&-2:i._visibility|1,x&&(u===null||W||ka||Ln||oo(r)),u=null,i=r;;){if(i.tag===5||i.tag===26){if(u===null){W=u=i;try{if(v=W.stateNode,x)T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{P=W.stateNode;var Re=W.memoizedProps.style,_e=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;P.style.display=_e==null||typeof _e=="boolean"?"":(""+_e).trim()}}catch(je){un(W,W.return,je)}}}else if(i.tag===6){if(u===null){W=i;try{W.stateNode.nodeValue=x?"":W.memoizedProps}catch(je){un(W,W.return,je)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;u===i&&(u=null),i=i.return}u===i&&(u=null),i.sibling.return=i.return,i=i.sibling}m&4&&(m=r.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,xp(r,u))));break;case 19:Xs(i,r),Gs(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,xp(r,m)));break;case 30:break;case 21:break;default:Xs(i,r),Gs(r)}}function Gs(r){var i=r.flags;if(i&2){try{for(var u,m=r.return;m!==null;){if(Av(m)){u=m;break}m=m.return}if(u==null)throw Error(s(160));switch(u.tag){case 27:var x=u.stateNode,v=mp(r);Bd(r,v,x);break;case 5:var T=u.stateNode;u.flags&32&&(Ya(T,""),u.flags&=-33);var P=mp(r);Bd(r,P,T);break;case 3:case 4:var W=u.stateNode.containerInfo,xe=mp(r);pp(r,xe,W);break;default:throw Error(s(161))}}catch(ke){un(r,r.return,ke)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Uv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Uv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function ii(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Dv(r,i.alternate,i),i=i.sibling}function oo(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:ai(4,i,i.return),oo(i);break;case 1:Xr(i,i.return);var u=i.stateNode;typeof u.componentWillUnmount=="function"&&kv(i,i.return,u),oo(i);break;case 27:Xc(i.stateNode);case 26:case 5:Xr(i,i.return),oo(i);break;case 22:i.memoizedState===null&&oo(i);break;case 30:oo(i);break;default:oo(i)}r=r.sibling}}function oi(r,i,u){for(u=u&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var m=i.alternate,x=r,v=i,T=v.flags;switch(v.tag){case 0:case 11:case 15:oi(x,v,u),Uc(4,v);break;case 1:if(oi(x,v,u),m=v,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(xe){un(m,m.return,xe)}if(m=v,x=m.updateQueue,x!==null){var P=m.stateNode;try{var W=x.shared.hiddenCallbacks;if(W!==null)for(x.shared.hiddenCallbacks=null,x=0;x<W.length;x++)hb(W[x],P)}catch(xe){un(m,m.return,xe)}}u&&T&64&&Tv(v),Bc(v,v.return);break;case 27:Ov(v);case 26:case 5:oi(x,v,u),u&&m===null&&T&4&&Cv(v),Bc(v,v.return);break;case 12:oi(x,v,u);break;case 13:oi(x,v,u),u&&T&4&&Lv(x,v);break;case 22:v.memoizedState===null&&oi(x,v,u),Bc(v,v.return);break;case 30:break;default:oi(x,v,u)}i=i.sibling}}function yp(r,i){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Sc(u))}function bp(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Sc(r))}function Gr(r,i,u,m){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Bv(r,i,u,m),i=i.sibling}function Bv(r,i,u,m){var x=i.flags;switch(i.tag){case 0:case 11:case 15:Gr(r,i,u,m),x&2048&&Uc(9,i);break;case 1:Gr(r,i,u,m);break;case 3:Gr(r,i,u,m),x&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Sc(r)));break;case 12:if(x&2048){Gr(r,i,u,m),r=i.stateNode;try{var v=i.memoizedProps,T=v.id,P=v.onPostCommit;typeof P=="function"&&P(T,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(W){un(i,i.return,W)}}else Gr(r,i,u,m);break;case 13:Gr(r,i,u,m);break;case 23:break;case 22:v=i.stateNode,T=i.alternate,i.memoizedState!==null?v._visibility&2?Gr(r,i,u,m):Fc(r,i):v._visibility&2?Gr(r,i,u,m):(v._visibility|=2,cl(r,i,u,m,(i.subtreeFlags&10256)!==0)),x&2048&&yp(T,i);break;case 24:Gr(r,i,u,m),x&2048&&bp(i.alternate,i);break;default:Gr(r,i,u,m)}}function cl(r,i,u,m,x){for(x=x&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var v=r,T=i,P=u,W=m,xe=T.flags;switch(T.tag){case 0:case 11:case 15:cl(v,T,P,W,x),Uc(8,T);break;case 23:break;case 22:var ke=T.stateNode;T.memoizedState!==null?ke._visibility&2?cl(v,T,P,W,x):Fc(v,T):(ke._visibility|=2,cl(v,T,P,W,x)),x&&xe&2048&&yp(T.alternate,T);break;case 24:cl(v,T,P,W,x),x&&xe&2048&&bp(T.alternate,T);break;default:cl(v,T,P,W,x)}i=i.sibling}}function Fc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var u=r,m=i,x=m.flags;switch(m.tag){case 22:Fc(u,m),x&2048&&yp(m.alternate,m);break;case 24:Fc(u,m),x&2048&&bp(m.alternate,m);break;default:Fc(u,m)}i=i.sibling}}var Hc=8192;function ul(r){if(r.subtreeFlags&Hc)for(r=r.child;r!==null;)Fv(r),r=r.sibling}function Fv(r){switch(r.tag){case 26:ul(r),r.flags&Hc&&r.memoizedState!==null&&Ik(Ar,r.memoizedState,r.memoizedProps);break;case 5:ul(r);break;case 3:case 4:var i=Ar;Ar=Zd(r.stateNode.containerInfo),ul(r),Ar=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Hc,Hc=16777216,ul(r),Hc=i):ul(r));break;default:ul(r)}}function Hv(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function $c(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var u=0;u<i.length;u++){var m=i[u];as=m,Vv(m,r)}Hv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)$v(r),r=r.sibling}function $v(r){switch(r.tag){case 0:case 11:case 15:$c(r),r.flags&2048&&ai(9,r,r.return);break;case 3:$c(r);break;case 12:$c(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Fd(r)):$c(r);break;default:$c(r)}}function Fd(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var u=0;u<i.length;u++){var m=i[u];as=m,Vv(m,r)}Hv(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:ai(8,i,i.return),Fd(i);break;case 22:u=i.stateNode,u._visibility&2&&(u._visibility&=-3,Fd(i));break;default:Fd(i)}r=r.sibling}}function Vv(r,i){for(;as!==null;){var u=as;switch(u.tag){case 0:case 11:case 15:ai(8,u,i);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Sc(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,as=m;else e:for(u=r;as!==null;){m=as;var x=m.sibling,v=m.return;if(Mv(m),m===u){as=null;break e}if(x!==null){x.return=v,as=x;break e}as=v}}}var ok={getCacheForType:function(r){var i=ws(Qn),u=i.data.get(r);return u===void 0&&(u=r(),i.data.set(r,u)),u}},lk=typeof WeakMap=="function"?WeakMap:Map,Jt=0,fn=null,Lt=null,Vt=0,en=0,Ks=null,li=!1,dl=!1,vp=!1,Aa=0,Mn=0,ci=0,lo=0,wp=0,pr=0,fl=0,Vc=null,zs=null,_p=!1,jp=0,Hd=1/0,$d=null,ui=null,gs=0,di=null,hl=null,ml=0,Sp=0,Np=null,qv=null,qc=0,Ep=null;function Qs(){if((Jt&2)!==0&&Vt!==0)return Vt&-Vt;if($.T!==null){var r=tl;return r!==0?r:Dp()}return X()}function Iv(){pr===0&&(pr=(Vt&536870912)===0||Kt?Xe():536870912);var r=mr.current;return r!==null&&(r.flags|=32),pr}function Zs(r,i,u){(r===fn&&(en===2||en===9)||r.cancelPendingCommit!==null)&&(pl(r,0),fi(r,Vt,pr,!1)),jt(r,u),((Jt&2)===0||r!==fn)&&(r===fn&&((Jt&2)===0&&(lo|=u),Mn===4&&fi(r,Vt,pr,!1)),Kr(r))}function Yv(r,i,u){if((Jt&6)!==0)throw Error(s(327));var m=!u&&(i&124)===0&&(i&r.expiredLanes)===0||Gn(r,i),x=m?dk(r,i):Cp(r,i,!0),v=m;do{if(x===0){dl&&!m&&fi(r,i,0,!1);break}else{if(u=r.current.alternate,v&&!ck(u)){x=Cp(r,i,!1),v=!1;continue}if(x===2){if(v=i,r.errorRecoveryDisabledLanes&v)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var P=r;x=Vc;var W=P.current.memoizedState.isDehydrated;if(W&&(pl(P,T).flags|=256),T=Cp(P,T,!1),T!==2){if(vp&&!W){P.errorRecoveryDisabledLanes|=v,lo|=v,x=4;break e}v=zs,zs=x,v!==null&&(zs===null?zs=v:zs.push.apply(zs,v))}x=T}if(v=!1,x!==2)continue}}if(x===1){pl(r,0),fi(r,i,0,!0);break}e:{switch(m=r,v=x,v){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:fi(m,i,pr,!li);break e;case 2:zs=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(x=jp+300-bt(),10<x)){if(fi(m,i,pr,!li),hs(m,0,!0)!==0)break e;m.timeoutHandle=ww(Wv.bind(null,m,u,zs,$d,_p,i,pr,lo,fl,li,v,2,-0,0),x);break e}Wv(m,u,zs,$d,_p,i,pr,lo,fl,li,v,0,-0,0)}}break}while(!0);Kr(r)}function Wv(r,i,u,m,x,v,T,P,W,xe,ke,Re,_e,je){if(r.timeoutHandle=-1,Re=i.subtreeFlags,(Re&8192||(Re&16785408)===16785408)&&(Qc={stylesheets:null,count:0,unsuspend:qk},Fv(i),Re=Yk(),Re!==null)){r.cancelPendingCommit=Re(ew.bind(null,r,i,v,u,m,x,T,P,W,ke,1,_e,je)),fi(r,v,T,!xe);return}ew(r,i,v,u,m,x,T,P,W)}function ck(r){for(var i=r;;){var u=i.tag;if((u===0||u===11||u===15)&&i.flags&16384&&(u=i.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var x=u[m],v=x.getSnapshot;x=x.value;try{if(!Ys(v(),x))return!1}catch(T){return!1}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fi(r,i,u,m){i&=~wp,i&=~lo,r.suspendedLanes|=i,r.pingedLanes&=~i,m&&(r.warmLanes|=i),m=r.expirationTimes;for(var x=i;0<x;){var v=31-pt(x),T=1<<v;m[v]=-1,x&=~T}u!==0&&Ge(r,u,i)}function Vd(){return(Jt&6)===0?(Ic(0),!1):!0}function Tp(){if(Lt!==null){if(en===0)var r=Lt.return;else r=Lt,_a=no=null,qm(r),ol=null,Pc=0,r=Lt;for(;r!==null;)Ev(r.alternate,r),r=r.return;Lt=null}}function pl(r,i){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,Tk(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Tp(),fn=r,Lt=u=ba(r.current,null),Vt=i,en=0,Ks=null,li=!1,dl=Gn(r,i),vp=!1,fl=pr=wp=lo=ci=Mn=0,zs=Vc=null,_p=!1,(i&8)!==0&&(i|=i&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=i;0<m;){var x=31-pt(m),v=1<<x;i|=r[x],m&=~v}return Aa=i,dd(),u}function Xv(r,i){Rt=null,$.H=Ad,i===Ec||i===vd?(i=db(),en=3):i===lb?(i=db(),en=4):en=i===fv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ks=i,Lt===null&&(Mn=1,Pd(r,ur(i,r.current)))}function Gv(){var r=$.H;return $.H=Ad,r===null?Ad:r}function Kv(){var r=$.A;return $.A=ok,r}function kp(){Mn=4,li||(Vt&4194048)!==Vt&&mr.current!==null||(dl=!0),(ci&134217727)===0&&(lo&134217727)===0||fn===null||fi(fn,Vt,pr,!1)}function Cp(r,i,u){var m=Jt;Jt|=2;var x=Gv(),v=Kv();(fn!==r||Vt!==i)&&($d=null,pl(r,i)),i=!1;var T=Mn;e:do try{if(en!==0&&Lt!==null){var P=Lt,W=Ks;switch(en){case 8:Tp(),T=6;break e;case 3:case 2:case 9:case 6:mr.current===null&&(i=!0);var xe=en;if(en=0,Ks=null,gl(r,P,W,xe),u&&dl){T=0;break e}break;default:xe=en,en=0,Ks=null,gl(r,P,W,xe)}}uk(),T=Mn;break}catch(ke){Xv(r,ke)}while(!0);return i&&r.shellSuspendCounter++,_a=no=null,Jt=m,$.H=x,$.A=v,Lt===null&&(fn=null,Vt=0,dd()),T}function uk(){for(;Lt!==null;)Qv(Lt)}function dk(r,i){var u=Jt;Jt|=2;var m=Gv(),x=Kv();fn!==r||Vt!==i?($d=null,Hd=bt()+500,pl(r,i)):dl=Gn(r,i);e:do try{if(en!==0&&Lt!==null){i=Lt;var v=Ks;t:switch(en){case 1:en=0,Ks=null,gl(r,i,v,1);break;case 2:case 9:if(cb(v)){en=0,Ks=null,Zv(i);break}i=function(){en!==2&&en!==9||fn!==r||(en=7),Kr(r)},v.then(i,i);break e;case 3:en=7;break e;case 4:en=5;break e;case 7:cb(v)?(en=0,Ks=null,Zv(i)):(en=0,Ks=null,gl(r,i,v,7));break;case 5:var T=null;switch(Lt.tag){case 26:T=Lt.memoizedState;case 5:case 27:var P=Lt;if(!T||Dw(T)){en=0,Ks=null;var W=P.sibling;if(W!==null)Lt=W;else{var xe=P.return;xe!==null?(Lt=xe,qd(xe)):Lt=null}break t}}en=0,Ks=null,gl(r,i,v,5);break;case 6:en=0,Ks=null,gl(r,i,v,6);break;case 8:Tp(),Mn=6;break e;default:throw Error(s(462))}}fk();break}catch(ke){Xv(r,ke)}while(!0);return _a=no=null,$.H=m,$.A=x,Jt=u,Lt!==null?0:(fn=null,Vt=0,dd(),Mn)}function fk(){for(;Lt!==null&&!_t();)Qv(Lt)}function Qv(r){var i=Sv(r.alternate,r,Aa);r.memoizedProps=r.pendingProps,i===null?qd(r):Lt=i}function Zv(r){var i=r,u=i.alternate;switch(i.tag){case 15:case 0:i=yv(u,i,i.pendingProps,i.type,void 0,Vt);break;case 11:i=yv(u,i,i.pendingProps,i.type.render,i.ref,Vt);break;case 5:qm(i);default:Ev(u,i),i=Lt=Jy(i,Aa),i=Sv(u,i,Aa)}r.memoizedProps=r.pendingProps,i===null?qd(r):Lt=i}function gl(r,i,u,m){_a=no=null,qm(i),ol=null,Pc=0;var x=i.return;try{if(tk(r,x,i,u,Vt)){Mn=1,Pd(r,ur(u,r.current)),Lt=null;return}}catch(v){if(x!==null)throw Lt=x,v;Mn=1,Pd(r,ur(u,r.current)),Lt=null;return}i.flags&32768?(Kt||m===1?r=!0:dl||(Vt&536870912)!==0?r=!1:(li=r=!0,(m===2||m===9||m===3||m===6)&&(m=mr.current,m!==null&&m.tag===13&&(m.flags|=16384))),Jv(i,r)):qd(i)}function qd(r){var i=r;do{if((i.flags&32768)!==0){Jv(i,li);return}r=i.return;var u=sk(i.alternate,i,Aa);if(u!==null){Lt=u;return}if(i=i.sibling,i!==null){Lt=i;return}Lt=i=r}while(i!==null);Mn===0&&(Mn=5)}function Jv(r,i){do{var u=rk(r.alternate,r);if(u!==null){u.flags&=32767,Lt=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!i&&(r=r.sibling,r!==null)){Lt=r;return}Lt=r=u}while(r!==null);Mn=6,Lt=null}function ew(r,i,u,m,x,v,T,P,W){r.cancelPendingCommit=null;do Id();while(gs!==0);if((Jt&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(v=i.lanes|i.childLanes,v|=bm,Gt(r,u,v,T,P,W),r===fn&&(Lt=fn=null,Vt=0),hl=i,di=r,ml=u,Sp=v,Np=x,qv=m,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,gk(ce,function(){return aw(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||m){m=$.T,$.T=null,x=J.p,J.p=2,T=Jt,Jt|=4;try{ak(r,i,u)}finally{Jt=T,J.p=x,$.T=m}}gs=1,tw(),nw(),sw()}}function tw(){if(gs===1){gs=0;var r=di,i=hl,u=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||u){u=$.T,$.T=null;var m=J.p;J.p=2;var x=Jt;Jt|=4;try{zv(i,r);var v=Hp,T=Vy(r.containerInfo),P=v.focusedElem,W=v.selectionRange;if(T!==P&&P&&P.ownerDocument&&$y(P.ownerDocument.documentElement,P)){if(W!==null&&mm(P)){var xe=W.start,ke=W.end;if(ke===void 0&&(ke=xe),"selectionStart"in P)P.selectionStart=xe,P.selectionEnd=Math.min(ke,P.value.length);else{var Re=P.ownerDocument||document,_e=Re&&Re.defaultView||window;if(_e.getSelection){var je=_e.getSelection(),gt=P.textContent.length,ut=Math.min(W.start,gt),ln=W.end===void 0?ut:Math.min(W.end,gt);!je.extend&&ut>ln&&(T=ln,ln=ut,ut=T);var oe=Hy(P,ut),se=Hy(P,ln);if(oe&&se&&(je.rangeCount!==1||je.anchorNode!==oe.node||je.anchorOffset!==oe.offset||je.focusNode!==se.node||je.focusOffset!==se.offset)){var ge=Re.createRange();ge.setStart(oe.node,oe.offset),je.removeAllRanges(),ut>ln?(je.addRange(ge),je.extend(se.node,se.offset)):(ge.setEnd(se.node,se.offset),je.addRange(ge))}}}}for(Re=[],je=P;je=je.parentNode;)je.nodeType===1&&Re.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<Re.length;P++){var Ce=Re[P];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}sf=!!Fp,Hp=Fp=null}finally{Jt=x,J.p=m,$.T=u}}r.current=i,gs=2}}function nw(){if(gs===2){gs=0;var r=di,i=hl,u=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||u){u=$.T,$.T=null;var m=J.p;J.p=2;var x=Jt;Jt|=4;try{Dv(r,i.alternate,i)}finally{Jt=x,J.p=m,$.T=u}}gs=3}}function sw(){if(gs===4||gs===3){gs=0,Ft();var r=di,i=hl,u=ml,m=qv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?gs=5:(gs=0,hl=di=null,rw(r,r.pendingLanes));var x=r.pendingLanes;if(x===0&&(ui=null),qt(u),i=i.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(we,i,void 0,(i.current.flags&128)===128)}catch(W){}if(m!==null){i=$.T,x=J.p,J.p=2,$.T=null;try{for(var v=r.onRecoverableError,T=0;T<m.length;T++){var P=m[T];v(P.value,{componentStack:P.stack})}}finally{$.T=i,J.p=x}}(ml&3)!==0&&Id(),Kr(r),x=r.pendingLanes,(u&4194090)!==0&&(x&42)!==0?r===Ep?qc++:(qc=0,Ep=r):qc=0,Ic(0)}}function rw(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Sc(i)))}function Id(r){return tw(),nw(),sw(),aw()}function aw(){if(gs!==5)return!1;var r=di,i=Sp;Sp=0;var u=qt(ml),m=$.T,x=J.p;try{J.p=32>u?32:u,$.T=null,u=Np,Np=null;var v=di,T=ml;if(gs=0,hl=di=null,ml=0,(Jt&6)!==0)throw Error(s(331));var P=Jt;if(Jt|=4,$v(v.current),Bv(v,v.current,T,u),Jt=P,Ic(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(we,v)}catch(W){}return!0}finally{J.p=x,$.T=m,rw(r,i)}}function iw(r,i,u){i=ur(u,i),i=rp(r.stateNode,i,2),r=ti(r,i,2),r!==null&&(jt(r,2),Kr(r))}function un(r,i,u){if(r.tag===3)iw(r,r,u);else for(;i!==null;){if(i.tag===3){iw(i,r,u);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ui===null||!ui.has(m))){r=ur(u,r),u=uv(2),m=ti(i,u,2),m!==null&&(dv(u,m,i,r),jt(m,2),Kr(m));break}}i=i.return}}function Ap(r,i,u){var m=r.pingCache;if(m===null){m=r.pingCache=new lk;var x=new Set;m.set(i,x)}else x=m.get(i),x===void 0&&(x=new Set,m.set(i,x));x.has(u)||(vp=!0,x.add(u),r=hk.bind(null,r,i,u),i.then(r,r))}function hk(r,i,u){var m=r.pingCache;m!==null&&m.delete(i),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,fn===r&&(Vt&u)===u&&(Mn===4||Mn===3&&(Vt&62914560)===Vt&&300>bt()-jp?(Jt&2)===0&&pl(r,0):wp|=u,fl===Vt&&(fl=0)),Kr(r)}function ow(r,i){i===0&&(i=Ot()),r=Qo(r,i),r!==null&&(jt(r,i),Kr(r))}function mk(r){var i=r.memoizedState,u=0;i!==null&&(u=i.retryLane),ow(r,u)}function pk(r,i){var u=0;switch(r.tag){case 13:var m=r.stateNode,x=r.memoizedState;x!==null&&(u=x.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(s(314))}m!==null&&m.delete(i),ow(r,u)}function gk(r,i){return ft(r,i)}var Yd=null,xl=null,Op=!1,Wd=!1,Rp=!1,co=0;function Kr(r){r!==xl&&r.next===null&&(xl===null?Yd=xl=r:xl=xl.next=r),Wd=!0,Op||(Op=!0,yk())}function Ic(r,i){if(!Rp&&Wd){Rp=!0;do for(var u=!1,m=Yd;m!==null;){if(r!==0){var x=m.pendingLanes;if(x===0)var v=0;else{var T=m.suspendedLanes,P=m.pingedLanes;v=(1<<31-pt(42|r)+1)-1,v&=x&~(T&~P),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,dw(m,v))}else v=Vt,v=hs(m,m===fn?v:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(v&3)===0||Gn(m,v)||(u=!0,dw(m,v));m=m.next}while(u);Rp=!1}}function xk(){lw()}function lw(){Wd=Op=!1;var r=0;co!==0&&(Ek()&&(r=co),co=0);for(var i=bt(),u=null,m=Yd;m!==null;){var x=m.next,v=cw(m,i);v===0?(m.next=null,u===null?Yd=x:u.next=x,x===null&&(xl=u)):(u=m,(r!==0||(v&3)!==0)&&(Wd=!0)),m=x}Ic(r)}function cw(r,i){for(var u=r.suspendedLanes,m=r.pingedLanes,x=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var T=31-pt(v),P=1<<T,W=x[T];W===-1?((P&u)===0||(P&m)!==0)&&(x[T]=Ts(P,i)):W<=i&&(r.expiredLanes|=P),v&=~P}if(i=fn,u=Vt,u=hs(r,r===i?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,u===0||r===i&&(en===2||en===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&ze(m),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Gn(r,u)){if(i=u&-u,i===r.callbackPriority)return i;switch(m!==null&&ze(m),qt(u)){case 2:case 8:u=Y;break;case 32:u=ce;break;case 268435456:u=Ne;break;default:u=ce}return m=uw.bind(null,r),u=ft(u,m),r.callbackPriority=i,r.callbackNode=u,i}return m!==null&&m!==null&&ze(m),r.callbackPriority=2,r.callbackNode=null,2}function uw(r,i){if(gs!==0&&gs!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(Id()&&r.callbackNode!==u)return null;var m=Vt;return m=hs(r,r===fn?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(Yv(r,m,i),cw(r,bt()),r.callbackNode!=null&&r.callbackNode===u?uw.bind(null,r):null)}function dw(r,i){if(Id())return null;Yv(r,i,!0)}function yk(){kk(function(){(Jt&6)!==0?ft(Tt,xk):lw()})}function Dp(){return co===0&&(co=Xe()),co}function fw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ho(""+r)}function hw(r,i){var u=i.ownerDocument.createElement("input");return u.name=i.name,u.value=i.value,r.id&&u.setAttribute("form",r.id),i.parentNode.insertBefore(u,i),r=new FormData(r),u.parentNode.removeChild(u),r}function bk(r,i,u,m,x){if(i==="submit"&&u&&u.stateNode===x){var v=fw((x[De]||null).action),T=m.submitter;T&&(i=(i=T[De]||null)?fw(i.formAction):T.getAttribute("formAction"),i!==null&&(v=i,T=null));var P=new qo("action","action",null,m,x);r.push({event:P,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(co!==0){var W=T?hw(x,T):new FormData(x);Jm(u,{pending:!0,data:W,method:x.method,action:v},null,W)}}else typeof v=="function"&&(P.preventDefault(),W=T?hw(x,T):new FormData(x),Jm(u,{pending:!0,data:W,method:x.method,action:v},v,W))},currentTarget:x}]})}}for(var Mp=0;Mp<ym.length;Mp++){var Pp=ym[Mp],vk=Pp.toLowerCase(),wk=Pp[0].toUpperCase()+Pp.slice(1);Cr(vk,"on"+wk)}Cr(Yy,"onAnimationEnd"),Cr(Wy,"onAnimationIteration"),Cr(Xy,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(UT,"onTransitionRun"),Cr(BT,"onTransitionStart"),Cr(FT,"onTransitionCancel"),Cr(Gy,"onTransitionEnd"),An("onMouseEnter",["mouseout","mouseover"]),An("onMouseLeave",["mouseout","mouseover"]),An("onPointerEnter",["pointerout","pointerover"]),An("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_k=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yc));function mw(r,i){i=(i&4)!==0;for(var u=0;u<r.length;u++){var m=r[u],x=m.event;m=m.listeners;e:{var v=void 0;if(i)for(var T=m.length-1;0<=T;T--){var P=m[T],W=P.instance,xe=P.currentTarget;if(P=P.listener,W!==v&&x.isPropagationStopped())break e;v=P,x.currentTarget=xe;try{v(x)}catch(ke){Md(ke)}x.currentTarget=null,v=W}else for(T=0;T<m.length;T++){if(P=m[T],W=P.instance,xe=P.currentTarget,P=P.listener,W!==v&&x.isPropagationStopped())break e;v=P,x.currentTarget=xe;try{v(x)}catch(ke){Md(ke)}x.currentTarget=null,v=W}}}}function zt(r,i){var u=i[Ke];u===void 0&&(u=i[Ke]=new Set);var m=r+"__bubble";u.has(m)||(pw(i,r,2,!1),u.add(m))}function Lp(r,i,u){var m=0;i&&(m|=4),pw(u,r,m,i)}var Xd="_reactListening"+Math.random().toString(36).slice(2);function zp(r){if(!r[Xd]){r[Xd]=!0,St.forEach(function(u){u!=="selectionchange"&&(_k.has(u)||Lp(u,!1,r),Lp(u,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Xd]||(i[Xd]=!0,Lp("selectionchange",!1,i))}}function pw(r,i,u,m){switch(Bw(i)){case 2:var x=Gk;break;case 8:x=Kk;break;default:x=Qp}u=x.bind(null,i,u,r),x=void 0,!$o||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),m?x!==void 0?r.addEventListener(i,u,{capture:!0,passive:x}):r.addEventListener(i,u,!0):x!==void 0?r.addEventListener(i,u,{passive:x}):r.addEventListener(i,u,!1)}function Up(r,i,u,m,x){var v=m;if((i&1)===0&&(i&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var P=m.stateNode.containerInfo;if(P===x)break;if(T===4)for(T=m.return;T!==null;){var W=T.tag;if((W===3||W===4)&&T.stateNode.containerInfo===x)return;T=T.return}for(;P!==null;){if(T=Et(P),T===null)return;if(W=T.tag,W===5||W===6||W===26||W===27){m=v=T;continue e}P=P.parentNode}}m=m.return}mc(function(){var xe=v,ke=qi(u),Re=[];e:{var _e=Ky.get(r);if(_e!==void 0){var je=qo,gt=r;switch(r){case"keypress":if(Ga(u)===0)break e;case"keydown":case"keyup":je=Ir;break;case"focusin":gt="focus",je=it;break;case"focusout":gt="blur",je=it;break;case"beforeblur":case"afterblur":je=it;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=ie;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=be;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=cd;break;case Yy:case Wy:case Xy:je=Ye;break;case Gy:je=wT;break;case"scroll":case"scrollend":je=Rn;break;case"wheel":je=jT;break;case"copy":case"cut":case"paste":je=rn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=Io;break;case"toggle":case"beforetoggle":je=NT}var ut=(i&4)!==0,ln=!ut&&(r==="scroll"||r==="scrollend"),oe=ut?_e!==null?_e+"Capture":null:_e;ut=[];for(var se=xe,ge;se!==null;){var Ce=se;if(ge=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||ge===null||oe===null||(Ce=Xa(se,oe),Ce!=null&&ut.push(Wc(se,Ce,ge))),ln)break;se=se.return}0<ut.length&&(_e=new je(_e,gt,null,u,ke),Re.push({event:_e,listeners:ut}))}}if((i&7)===0){e:{if(_e=r==="mouseover"||r==="pointerover",je=r==="mouseout"||r==="pointerout",_e&&u!==fc&&(gt=u.relatedTarget||u.fromElement)&&(Et(gt)||gt[Ve]))break e;if((je||_e)&&(_e=ke.window===ke?ke:(_e=ke.ownerDocument)?_e.defaultView||_e.parentWindow:window,je?(gt=u.relatedTarget||u.toElement,je=xe,gt=gt?Et(gt):null,gt!==null&&(ln=o(gt),ut=gt.tag,gt!==ln||ut!==5&&ut!==27&&ut!==6)&&(gt=null)):(je=null,gt=xe),je!==gt)){if(ut=ie,Ce="onMouseLeave",oe="onMouseEnter",se="mouse",(r==="pointerout"||r==="pointerover")&&(ut=Io,Ce="onPointerLeave",oe="onPointerEnter",se="pointer"),ln=je==null?_e:Cn(je),ge=gt==null?_e:Cn(gt),_e=new ut(Ce,se+"leave",je,u,ke),_e.target=ln,_e.relatedTarget=ge,Ce=null,Et(ke)===xe&&(ut=new ut(oe,se+"enter",gt,u,ke),ut.target=ge,ut.relatedTarget=ln,Ce=ut),ln=Ce,je&&gt)t:{for(ut=je,oe=gt,se=0,ge=ut;ge;ge=yl(ge))se++;for(ge=0,Ce=oe;Ce;Ce=yl(Ce))ge++;for(;0<se-ge;)ut=yl(ut),se--;for(;0<ge-se;)oe=yl(oe),ge--;for(;se--;){if(ut===oe||oe!==null&&ut===oe.alternate)break t;ut=yl(ut),oe=yl(oe)}ut=null}else ut=null;je!==null&&gw(Re,_e,je,ut,!1),gt!==null&&ln!==null&&gw(Re,ln,gt,ut,!0)}}e:{if(_e=xe?Cn(xe):window,je=_e.nodeName&&_e.nodeName.toLowerCase(),je==="select"||je==="input"&&_e.type==="file")var Qe=Py;else if(Dy(_e))if(Ly)Qe=PT;else{Qe=DT;var Mt=RT}else je=_e.nodeName,!je||je.toLowerCase()!=="input"||_e.type!=="checkbox"&&_e.type!=="radio"?xe&&Vi(xe.elementType)&&(Qe=Py):Qe=MT;if(Qe&&(Qe=Qe(r,xe))){My(Re,Qe,u,ke);break e}Mt&&Mt(r,_e,xe),r==="focusout"&&xe&&_e.type==="number"&&xe.memoizedProps.value!=null&&cc(_e,"number",_e.value)}switch(Mt=xe?Cn(xe):window,r){case"focusin":(Dy(Mt)||Mt.contentEditable==="true")&&(Xo=Mt,pm=xe,bc=null);break;case"focusout":bc=pm=Xo=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,qy(Re,u,ke);break;case"selectionchange":if(zT)break;case"keydown":case"keyup":qy(Re,u,ke)}var at;if(dm)e:{switch(r){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Wo?Oy(r,u)&&(mt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(mt="onCompositionStart");mt&&(ky&&u.locale!=="ko"&&(Wo||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Wo&&(at=Wi()):(Is=ke,Ms="value"in Is?Is.value:Is.textContent,Wo=!0)),Mt=Gd(xe,mt),0<Mt.length&&(mt=new ct(mt,r,null,u,ke),Re.push({event:mt,listeners:Mt}),at?mt.data=at:(at=Ry(u),at!==null&&(mt.data=at)))),(at=TT?kT(r,u):CT(r,u))&&(mt=Gd(xe,"onBeforeInput"),0<mt.length&&(Mt=new ct("onBeforeInput","beforeinput",null,u,ke),Re.push({event:Mt,listeners:mt}),Mt.data=at)),bk(Re,r,xe,u,ke)}mw(Re,i)})}function Wc(r,i,u){return{instance:r,listener:i,currentTarget:u}}function Gd(r,i){for(var u=i+"Capture",m=[];r!==null;){var x=r,v=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||v===null||(x=Xa(r,u),x!=null&&m.unshift(Wc(r,x,v)),x=Xa(r,i),x!=null&&m.push(Wc(r,x,v))),r.tag===3)return m;r=r.return}return[]}function yl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function gw(r,i,u,m,x){for(var v=i._reactName,T=[];u!==null&&u!==m;){var P=u,W=P.alternate,xe=P.stateNode;if(P=P.tag,W!==null&&W===m)break;P!==5&&P!==26&&P!==27||xe===null||(W=xe,x?(xe=Xa(u,v),xe!=null&&T.unshift(Wc(u,xe,W))):x||(xe=Xa(u,v),xe!=null&&T.push(Wc(u,xe,W)))),u=u.return}T.length!==0&&r.push({event:i,listeners:T})}var jk=/\r\n?/g,Sk=/\u0000|\uFFFD/g;function xw(r){return(typeof r=="string"?r:""+r).replace(jk,`
`).replace(Sk,"")}function yw(r,i){return i=xw(i),xw(r)===i}function Kd(){}function on(r,i,u,m,x,v){switch(u){case"children":typeof m=="string"?i==="body"||i==="textarea"&&m===""||Ya(r,m):(typeof m=="number"||typeof m=="bigint")&&i!=="body"&&Ya(r,""+m);break;case"className":lr(r,"class",m);break;case"tabIndex":lr(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(r,u,m);break;case"style":dc(r,m,v);break;case"data":if(i!=="object"){lr(r,"data",m);break}case"src":case"href":if(m===""&&(i!=="a"||u!=="href")){r.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=Ho(""+m),r.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(i!=="input"&&on(r,i,"name",x.name,x,null),on(r,i,"formEncType",x.formEncType,x,null),on(r,i,"formMethod",x.formMethod,x,null),on(r,i,"formTarget",x.formTarget,x,null)):(on(r,i,"encType",x.encType,x,null),on(r,i,"method",x.method,x,null),on(r,i,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=Ho(""+m),r.setAttribute(u,m);break;case"onClick":m!=null&&(r.onclick=Kd);break;case"onScroll":m!=null&&zt("scroll",r);break;case"onScrollEnd":m!=null&&zt("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(u=m.__html,u!=null){if(x.children!=null)throw Error(s(60));r.innerHTML=u}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}u=Ho(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""+m):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":m===!0?r.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,m):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(u,m):r.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(u):r.setAttribute(u,m);break;case"popover":zt("beforetoggle",r),zt("toggle",r),bs(r,"popover",m);break;case"xlinkActuate":At(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":At(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":At(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":At(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":At(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":At(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":At(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":At(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":At(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":bs(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Fo.get(u)||u,bs(r,u,m))}}function Bp(r,i,u,m,x,v){switch(u){case"style":dc(r,m,v);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(u=m.__html,u!=null){if(x.children!=null)throw Error(s(60));r.innerHTML=u}}break;case"children":typeof m=="string"?Ya(r,m):(typeof m=="number"||typeof m=="bigint")&&Ya(r,""+m);break;case"onScroll":m!=null&&zt("scroll",r);break;case"onScrollEnd":m!=null&&zt("scrollend",r);break;case"onClick":m!=null&&(r.onclick=Kd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!It.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(x=u.endsWith("Capture"),i=u.slice(2,x?u.length-7:void 0),v=r[De]||null,v=v!=null?v[u]:null,typeof v=="function"&&r.removeEventListener(i,v,x),typeof m=="function")){typeof v!="function"&&v!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(i,m,x);break e}u in r?r[u]=m:m===!0?r.setAttribute(u,""):bs(r,u,m)}}}function xs(r,i,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",r),zt("load",r);var m=!1,x=!1,v;for(v in u)if(u.hasOwnProperty(v)){var T=u[v];if(T!=null)switch(v){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:on(r,i,v,T,u,null)}}x&&on(r,i,"srcSet",u.srcSet,u,null),m&&on(r,i,"src",u.src,u,null);return;case"input":zt("invalid",r);var P=v=T=x=null,W=null,xe=null;for(m in u)if(u.hasOwnProperty(m)){var ke=u[m];if(ke!=null)switch(m){case"name":x=ke;break;case"type":T=ke;break;case"checked":W=ke;break;case"defaultChecked":xe=ke;break;case"value":v=ke;break;case"defaultValue":P=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(s(137,i));break;default:on(r,i,m,ke,u,null)}}ad(r,v,P,W,xe,T,x,!1),Fi(r);return;case"select":zt("invalid",r),m=T=v=null;for(x in u)if(u.hasOwnProperty(x)&&(P=u[x],P!=null))switch(x){case"value":v=P;break;case"defaultValue":T=P;break;case"multiple":m=P;default:on(r,i,x,P,u,null)}i=v,u=T,r.multiple=!!m,i!=null?ga(r,!!m,i,!1):u!=null&&ga(r,!!m,u,!0);return;case"textarea":zt("invalid",r),v=x=m=null;for(T in u)if(u.hasOwnProperty(T)&&(P=u[T],P!=null))switch(T){case"value":m=P;break;case"defaultValue":x=P;break;case"children":v=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:on(r,i,T,P,u,null)}uc(r,m,x,v),Fi(r);return;case"option":for(W in u)if(u.hasOwnProperty(W)&&(m=u[W],m!=null))switch(W){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:on(r,i,W,m,u,null)}return;case"dialog":zt("beforetoggle",r),zt("toggle",r),zt("cancel",r),zt("close",r);break;case"iframe":case"object":zt("load",r);break;case"video":case"audio":for(m=0;m<Yc.length;m++)zt(Yc[m],r);break;case"image":zt("error",r),zt("load",r);break;case"details":zt("toggle",r);break;case"embed":case"source":case"link":zt("error",r),zt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xe in u)if(u.hasOwnProperty(xe)&&(m=u[xe],m!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:on(r,i,xe,m,u,null)}return;default:if(Vi(i)){for(ke in u)u.hasOwnProperty(ke)&&(m=u[ke],m!==void 0&&Bp(r,i,ke,m,u,void 0));return}}for(P in u)u.hasOwnProperty(P)&&(m=u[P],m!=null&&on(r,i,P,m,u,null))}function Nk(r,i,u,m){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,v=null,T=null,P=null,W=null,xe=null,ke=null;for(je in u){var Re=u[je];if(u.hasOwnProperty(je)&&Re!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":W=Re;default:m.hasOwnProperty(je)||on(r,i,je,null,m,Re)}}for(var _e in m){var je=m[_e];if(Re=u[_e],m.hasOwnProperty(_e)&&(je!=null||Re!=null))switch(_e){case"type":v=je;break;case"name":x=je;break;case"checked":xe=je;break;case"defaultChecked":ke=je;break;case"value":T=je;break;case"defaultValue":P=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(s(137,i));break;default:je!==Re&&on(r,i,_e,je,m,Re)}}lc(r,T,P,W,xe,ke,v,x);return;case"select":je=T=P=_e=null;for(v in u)if(W=u[v],u.hasOwnProperty(v)&&W!=null)switch(v){case"value":break;case"multiple":je=W;default:m.hasOwnProperty(v)||on(r,i,v,null,m,W)}for(x in m)if(v=m[x],W=u[x],m.hasOwnProperty(x)&&(v!=null||W!=null))switch(x){case"value":_e=v;break;case"defaultValue":P=v;break;case"multiple":T=v;default:v!==W&&on(r,i,x,v,m,W)}i=P,u=T,m=je,_e!=null?ga(r,!!u,_e,!1):!!m!=!!u&&(i!=null?ga(r,!!u,i,!0):ga(r,!!u,u?[]:"",!1));return;case"textarea":je=_e=null;for(P in u)if(x=u[P],u.hasOwnProperty(P)&&x!=null&&!m.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:on(r,i,P,null,m,x)}for(T in m)if(x=m[T],v=u[T],m.hasOwnProperty(T)&&(x!=null||v!=null))switch(T){case"value":_e=x;break;case"defaultValue":je=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:x!==v&&on(r,i,T,x,m,v)}$i(r,_e,je);return;case"option":for(var gt in u)if(_e=u[gt],u.hasOwnProperty(gt)&&_e!=null&&!m.hasOwnProperty(gt))switch(gt){case"selected":r.selected=!1;break;default:on(r,i,gt,null,m,_e)}for(W in m)if(_e=m[W],je=u[W],m.hasOwnProperty(W)&&_e!==je&&(_e!=null||je!=null))switch(W){case"selected":r.selected=_e&&typeof _e!="function"&&typeof _e!="symbol";break;default:on(r,i,W,_e,m,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in u)_e=u[ut],u.hasOwnProperty(ut)&&_e!=null&&!m.hasOwnProperty(ut)&&on(r,i,ut,null,m,_e);for(xe in m)if(_e=m[xe],je=u[xe],m.hasOwnProperty(xe)&&_e!==je&&(_e!=null||je!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(s(137,i));break;default:on(r,i,xe,_e,m,je)}return;default:if(Vi(i)){for(var ln in u)_e=u[ln],u.hasOwnProperty(ln)&&_e!==void 0&&!m.hasOwnProperty(ln)&&Bp(r,i,ln,void 0,m,_e);for(ke in m)_e=m[ke],je=u[ke],!m.hasOwnProperty(ke)||_e===je||_e===void 0&&je===void 0||Bp(r,i,ke,_e,m,je);return}}for(var oe in u)_e=u[oe],u.hasOwnProperty(oe)&&_e!=null&&!m.hasOwnProperty(oe)&&on(r,i,oe,null,m,_e);for(Re in m)_e=m[Re],je=u[Re],!m.hasOwnProperty(Re)||_e===je||_e==null&&je==null||on(r,i,Re,_e,m,je)}var Fp=null,Hp=null;function Qd(r){return r.nodeType===9?r:r.ownerDocument}function bw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vw(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function $p(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Vp=null;function Ek(){var r=window.event;return r&&r.type==="popstate"?r===Vp?!1:(Vp=r,!0):(Vp=null,!1)}var ww=typeof setTimeout=="function"?setTimeout:void 0,Tk=typeof clearTimeout=="function"?clearTimeout:void 0,_w=typeof Promise=="function"?Promise:void 0,kk=typeof queueMicrotask=="function"?queueMicrotask:typeof _w!="undefined"?function(r){return _w.resolve(null).then(r).catch(Ck)}:ww;function Ck(r){setTimeout(function(){throw r})}function hi(r){return r==="head"}function jw(r,i){var u=i,m=0,x=0;do{var v=u.nextSibling;if(r.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<m&&8>m){u=m;var T=r.ownerDocument;if(u&1&&Xc(T.documentElement),u&2&&Xc(T.body),u&4)for(u=T.head,Xc(u),T=u.firstChild;T;){var P=T.nextSibling,W=T.nodeName;T[st]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&T.rel.toLowerCase()==="stylesheet"||u.removeChild(T),T=P}}if(x===0){r.removeChild(v),nu(i);return}x--}else u==="$"||u==="$?"||u==="$!"?x++:m=u.charCodeAt(0)-48;else m=0;u=v}while(u);nu(i)}function qp(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var u=i;switch(i=i.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":qp(u),xt(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function Ak(r,i,u,m){for(;r.nodeType===1;){var x=u;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[st])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==x.rel||r.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||r.getAttribute("title")!==(x.title==null?null:x.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(x.src==null?null:x.src)||r.getAttribute("type")!==(x.type==null?null:x.type)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var v=x.name==null?null:""+x.name;if(x.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Or(r.nextSibling),r===null)break}return null}function Ok(r,i,u){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Or(r.nextSibling),r===null))return null;return r}function Ip(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Rk(r,i){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")i();else{var m=function(){i(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function Or(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Yp=null;function Sw(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return r;i--}else u==="/$"&&i++}r=r.previousSibling}return null}function Nw(r,i,u){switch(i=Qd(u),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Xc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);xt(r)}var gr=new Map,Ew=new Set;function Zd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Oa=J.d;J.d={f:Dk,r:Mk,D:Pk,C:Lk,L:zk,m:Uk,X:Fk,S:Bk,M:Hk};function Dk(){var r=Oa.f(),i=Vd();return r||i}function Mk(r){var i=cn(r);i!==null&&i.tag===5&&i.type==="form"?Yb(i):Oa.r(r)}var bl=typeof document=="undefined"?null:document;function Tw(r,i,u){var m=bl;if(m&&typeof i=="string"&&i){var x=Rs(i);x='link[rel="'+r+'"][href="'+x+'"]',typeof u=="string"&&(x+='[crossorigin="'+u+'"]'),Ew.has(x)||(Ew.add(x),r={rel:r,crossOrigin:u,href:i},m.querySelector(x)===null&&(i=m.createElement("link"),xs(i,"link",r),rt(i),m.head.appendChild(i)))}}function Pk(r){Oa.D(r),Tw("dns-prefetch",r,null)}function Lk(r,i){Oa.C(r,i),Tw("preconnect",r,i)}function zk(r,i,u){Oa.L(r,i,u);var m=bl;if(m&&r&&i){var x='link[rel="preload"][as="'+Rs(i)+'"]';i==="image"&&u&&u.imageSrcSet?(x+='[imagesrcset="'+Rs(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(x+='[imagesizes="'+Rs(u.imageSizes)+'"]')):x+='[href="'+Rs(r)+'"]';var v=x;switch(i){case"style":v=vl(r);break;case"script":v=wl(r)}gr.has(v)||(r=p({rel:"preload",href:i==="image"&&u&&u.imageSrcSet?void 0:r,as:i},u),gr.set(v,r),m.querySelector(x)!==null||i==="style"&&m.querySelector(Gc(v))||i==="script"&&m.querySelector(Kc(v))||(i=m.createElement("link"),xs(i,"link",r),rt(i),m.head.appendChild(i)))}}function Uk(r,i){Oa.m(r,i);var u=bl;if(u&&r){var m=i&&typeof i.as=="string"?i.as:"script",x='link[rel="modulepreload"][as="'+Rs(m)+'"][href="'+Rs(r)+'"]',v=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=wl(r)}if(!gr.has(v)&&(r=p({rel:"modulepreload",href:r},i),gr.set(v,r),u.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Kc(v)))return}m=u.createElement("link"),xs(m,"link",r),rt(m),u.head.appendChild(m)}}}function Bk(r,i,u){Oa.S(r,i,u);var m=bl;if(m&&r){var x=sn(m).hoistableStyles,v=vl(r);i=i||"default";var T=x.get(v);if(!T){var P={loading:0,preload:null};if(T=m.querySelector(Gc(v)))P.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":i},u),(u=gr.get(v))&&Wp(r,u);var W=T=m.createElement("link");rt(W),xs(W,"link",r),W._p=new Promise(function(xe,ke){W.onload=xe,W.onerror=ke}),W.addEventListener("load",function(){P.loading|=1}),W.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Jd(T,i,m)}T={type:"stylesheet",instance:T,count:1,state:P},x.set(v,T)}}}function Fk(r,i){Oa.X(r,i);var u=bl;if(u&&r){var m=sn(u).hoistableScripts,x=wl(r),v=m.get(x);v||(v=u.querySelector(Kc(x)),v||(r=p({src:r,async:!0},i),(i=gr.get(x))&&Xp(r,i),v=u.createElement("script"),rt(v),xs(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},m.set(x,v))}}function Hk(r,i){Oa.M(r,i);var u=bl;if(u&&r){var m=sn(u).hoistableScripts,x=wl(r),v=m.get(x);v||(v=u.querySelector(Kc(x)),v||(r=p({src:r,async:!0,type:"module"},i),(i=gr.get(x))&&Xp(r,i),v=u.createElement("script"),rt(v),xs(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},m.set(x,v))}}function kw(r,i,u,m){var x=(x=de.current)?Zd(x):null;if(!x)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(i=vl(u.href),u=sn(x).hoistableStyles,m=u.get(i),m||(m={type:"style",instance:null,count:0,state:null},u.set(i,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=vl(u.href);var v=sn(x).hoistableStyles,T=v.get(r);if(T||(x=x.ownerDocument||x,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,T),(v=x.querySelector(Gc(r)))&&!v._p&&(T.instance=v,T.state.loading=5),gr.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},gr.set(r,u),v||$k(x,r,u,T.state))),i&&m===null)throw Error(s(528,""));return T}if(i&&m!==null)throw Error(s(529,""));return null;case"script":return i=u.async,u=u.src,typeof u=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=wl(u),u=sn(x).hoistableScripts,m=u.get(i),m||(m={type:"script",instance:null,count:0,state:null},u.set(i,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function vl(r){return'href="'+Rs(r)+'"'}function Gc(r){return'link[rel="stylesheet"]['+r+"]"}function Cw(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function $k(r,i,u,m){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?m.loading=1:(i=r.createElement("link"),m.preload=i,i.addEventListener("load",function(){return m.loading|=1}),i.addEventListener("error",function(){return m.loading|=2}),xs(i,"link",u),rt(i),r.head.appendChild(i))}function wl(r){return'[src="'+Rs(r)+'"]'}function Kc(r){return"script[async]"+r}function Aw(r,i,u){if(i.count++,i.instance===null)switch(i.type){case"style":var m=r.querySelector('style[data-href~="'+Rs(u.href)+'"]');if(m)return i.instance=m,rt(m),m;var x=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),rt(m),xs(m,"style",x),Jd(m,u.precedence,r),i.instance=m;case"stylesheet":x=vl(u.href);var v=r.querySelector(Gc(x));if(v)return i.state.loading|=4,i.instance=v,rt(v),v;m=Cw(u),(x=gr.get(x))&&Wp(m,x),v=(r.ownerDocument||r).createElement("link"),rt(v);var T=v;return T._p=new Promise(function(P,W){T.onload=P,T.onerror=W}),xs(v,"link",m),i.state.loading|=4,Jd(v,u.precedence,r),i.instance=v;case"script":return v=wl(u.src),(x=r.querySelector(Kc(v)))?(i.instance=x,rt(x),x):(m=u,(x=gr.get(v))&&(m=p({},u),Xp(m,x)),r=r.ownerDocument||r,x=r.createElement("script"),rt(x),xs(x,"link",m),r.head.appendChild(x),i.instance=x);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(m=i.instance,i.state.loading|=4,Jd(m,u.precedence,r));return i.instance}function Jd(r,i,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,v=x,T=0;T<m.length;T++){var P=m[T];if(P.dataset.precedence===i)v=P;else if(v!==x)break}v?v.parentNode.insertBefore(r,v.nextSibling):(i=u.nodeType===9?u.head:u,i.insertBefore(r,i.firstChild))}function Wp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Xp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var ef=null;function Ow(r,i,u){if(ef===null){var m=new Map,x=ef=new Map;x.set(u,m)}else x=ef,m=x.get(u),m||(m=new Map,x.set(u,m));if(m.has(r))return m;for(m.set(r,null),u=u.getElementsByTagName(r),x=0;x<u.length;x++){var v=u[x];if(!(v[st]||v[Se]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var T=v.getAttribute(i)||"";T=r+T;var P=m.get(T);P?P.push(v):m.set(T,[v])}}return m}function Rw(r,i,u){r=r.ownerDocument||r,r.head.insertBefore(u,i==="title"?r.querySelector("head > title"):null)}function Vk(r,i,u){if(u===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Dw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Qc=null;function qk(){}function Ik(r,i,u){if(Qc===null)throw Error(s(475));var m=Qc;if(i.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var x=vl(u.href),v=r.querySelector(Gc(x));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(m.count++,m=tf.bind(m),r.then(m,m)),i.state.loading|=4,i.instance=v,rt(v);return}v=r.ownerDocument||r,u=Cw(u),(x=gr.get(x))&&Wp(u,x),v=v.createElement("link"),rt(v);var T=v;T._p=new Promise(function(P,W){T.onload=P,T.onerror=W}),xs(v,"link",u),i.instance=v}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(m.count++,i=tf.bind(m),r.addEventListener("load",i),r.addEventListener("error",i))}}function Yk(){if(Qc===null)throw Error(s(475));var r=Qc;return r.stylesheets&&r.count===0&&Gp(r,r.stylesheets),0<r.count?function(i){var u=setTimeout(function(){if(r.stylesheets&&Gp(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(u)}}:null}function tf(){if(this.count--,this.count===0){if(this.stylesheets)Gp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var nf=null;function Gp(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,nf=new Map,i.forEach(Wk,r),nf=null,tf.call(r))}function Wk(r,i){if(!(i.state.loading&4)){var u=nf.get(r);if(u)var m=u.get(null);else{u=new Map,nf.set(r,u);for(var x=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<x.length;v++){var T=x[v];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(u.set(T.dataset.precedence,T),m=T)}m&&u.set(null,m)}x=i.instance,T=x.getAttribute("data-precedence"),v=u.get(T)||m,v===m&&u.set(null,x),u.set(T,x),this.count++,m=tf.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),v?v.parentNode.insertBefore(x,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(x,r.firstChild)),i.state.loading|=4}}var Zc={$$typeof:O,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function Xk(r,i,u,m,x,v,T,P){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pt(0),this.hiddenUpdates=Pt(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=v,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Mw(r,i,u,m,x,v,T,P,W,xe,ke,Re){return r=new Xk(r,i,u,T,P,W,xe,Re),i=1,v===!0&&(i|=24),v=Ws(3,null,null,i),r.current=v,v.stateNode=r,i=Am(),i.refCount++,r.pooledCache=i,i.refCount++,v.memoizedState={element:m,isDehydrated:u,cache:i},Mm(v),r}function Pw(r){return r?(r=Zo,r):Zo}function Lw(r,i,u,m,x,v){x=Pw(x),m.context===null?m.context=x:m.pendingContext=x,m=ei(i),m.payload={element:u},v=v===void 0?null:v,v!==null&&(m.callback=v),u=ti(r,m,i),u!==null&&(Zs(u,r,i),kc(u,r,i))}function zw(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<i?u:i}}function Kp(r,i){zw(r,i),(r=r.alternate)&&zw(r,i)}function Uw(r){if(r.tag===13){var i=Qo(r,67108864);i!==null&&Zs(i,r,67108864),Kp(r,67108864)}}var sf=!0;function Gk(r,i,u,m){var x=$.T;$.T=null;var v=J.p;try{J.p=2,Qp(r,i,u,m)}finally{J.p=v,$.T=x}}function Kk(r,i,u,m){var x=$.T;$.T=null;var v=J.p;try{J.p=8,Qp(r,i,u,m)}finally{J.p=v,$.T=x}}function Qp(r,i,u,m){if(sf){var x=Zp(m);if(x===null)Up(r,i,m,rf,u),Fw(r,m);else if(Zk(x,r,i,u,m))m.stopPropagation();else if(Fw(r,m),i&4&&-1<Qk.indexOf(r)){for(;x!==null;){var v=cn(x);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var T=Xn(v.pendingLanes);if(T!==0){var P=v;for(P.pendingLanes|=2,P.entangledLanes|=2;T;){var W=1<<31-pt(T);P.entanglements[1]|=W,T&=~W}Kr(v),(Jt&6)===0&&(Hd=bt()+500,Ic(0))}}break;case 13:P=Qo(v,2),P!==null&&Zs(P,v,2),Vd(),Kp(v,2)}if(v=Zp(m),v===null&&Up(r,i,m,rf,u),v===x)break;x=v}x!==null&&m.stopPropagation()}else Up(r,i,m,null,u)}}function Zp(r){return r=qi(r),Jp(r)}var rf=null;function Jp(r){if(rf=null,r=Et(r),r!==null){var i=o(r);if(i===null)r=null;else{var u=i.tag;if(u===13){if(r=l(i),r!==null)return r;r=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return rf=r,null}function Bw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ot()){case Tt:return 2;case Y:return 8;case ce:case V:return 32;case Ne:return 268435456;default:return 32}default:return 32}}var eg=!1,mi=null,pi=null,gi=null,Jc=new Map,eu=new Map,xi=[],Qk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fw(r,i){switch(r){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":Jc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(i.pointerId)}}function tu(r,i,u,m,x,v){return r===null||r.nativeEvent!==v?(r={blockedOn:i,domEventName:u,eventSystemFlags:m,nativeEvent:v,targetContainers:[x]},i!==null&&(i=cn(i),i!==null&&Uw(i)),r):(r.eventSystemFlags|=m,i=r.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),r)}function Zk(r,i,u,m,x){switch(i){case"focusin":return mi=tu(mi,r,i,u,m,x),!0;case"dragenter":return pi=tu(pi,r,i,u,m,x),!0;case"mouseover":return gi=tu(gi,r,i,u,m,x),!0;case"pointerover":var v=x.pointerId;return Jc.set(v,tu(Jc.get(v)||null,r,i,u,m,x)),!0;case"gotpointercapture":return v=x.pointerId,eu.set(v,tu(eu.get(v)||null,r,i,u,m,x)),!0}return!1}function Hw(r){var i=Et(r.target);if(i!==null){var u=o(i);if(u!==null){if(i=u.tag,i===13){if(i=l(u),i!==null){r.blockedOn=i,re(r.priority,function(){if(u.tag===13){var m=Qs();m=Ht(m);var x=Qo(u,m);x!==null&&Zs(x,u,m),Kp(u,m)}});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function af(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var u=Zp(r.nativeEvent);if(u===null){u=r.nativeEvent;var m=new u.constructor(u.type,u);fc=m,u.target.dispatchEvent(m),fc=null}else return i=cn(u),i!==null&&Uw(i),r.blockedOn=u,!1;i.shift()}return!0}function $w(r,i,u){af(r)&&u.delete(i)}function Jk(){eg=!1,mi!==null&&af(mi)&&(mi=null),pi!==null&&af(pi)&&(pi=null),gi!==null&&af(gi)&&(gi=null),Jc.forEach($w),eu.forEach($w)}function of(r,i){r.blockedOn===i&&(r.blockedOn=null,eg||(eg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Jk)))}var lf=null;function Vw(r){lf!==r&&(lf=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){lf===r&&(lf=null);for(var i=0;i<r.length;i+=3){var u=r[i],m=r[i+1],x=r[i+2];if(typeof m!="function"){if(Jp(m||u)===null)continue;break}var v=cn(u);v!==null&&(r.splice(i,3),i-=3,Jm(v,{pending:!0,data:x,method:u.method,action:m},m,x))}}))}function nu(r){function i(W){return of(W,r)}mi!==null&&of(mi,r),pi!==null&&of(pi,r),gi!==null&&of(gi,r),Jc.forEach(i),eu.forEach(i);for(var u=0;u<xi.length;u++){var m=xi[u];m.blockedOn===r&&(m.blockedOn=null)}for(;0<xi.length&&(u=xi[0],u.blockedOn===null);)Hw(u),u.blockedOn===null&&xi.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var x=u[m],v=u[m+1],T=x[De]||null;if(typeof v=="function")T||Vw(u);else if(T){var P=null;if(v&&v.hasAttribute("formAction")){if(x=v,T=v[De]||null)P=T.formAction;else if(Jp(x)!==null)continue}else P=T.action;typeof P=="function"?u[m+1]=P:(u.splice(m,3),m-=3),Vw(u)}}}function tg(r){this._internalRoot=r}cf.prototype.render=tg.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var u=i.current,m=Qs();Lw(u,m,r,i,null,null)},cf.prototype.unmount=tg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Lw(r.current,2,null,r,null,null),Vd(),i[Ve]=null}};function cf(r){this._internalRoot=r}cf.prototype.unstable_scheduleHydration=function(r){if(r){var i=X();r={blockedOn:null,target:r,priority:i};for(var u=0;u<xi.length&&i!==0&&i<xi[u].priority;u++);xi.splice(u,0,r),u===0&&Hw(r)}};var qw=t.version;if(qw!=="19.1.1")throw Error(s(527,qw,"19.1.1"));J.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=f(i),r=r!==null?h(r):null,r=r===null?null:r.stateNode,r};var eC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uf.isDisabled&&uf.supportsFiber)try{we=uf.inject(eC),Te=uf}catch(r){}}return ru.createRoot=function(r,i){if(!a(r))throw Error(s(299));var u=!1,m="",x=iv,v=ov,T=lv,P=null;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onUncaughtError!==void 0&&(x=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(P=i.unstable_transitionCallbacks)),i=Mw(r,1,!1,null,null,u,m,x,v,T,P,null),r[Ve]=i.current,zp(r),new tg(i)},ru.hydrateRoot=function(r,i,u){if(!a(r))throw Error(s(299));var m=!1,x="",v=iv,T=ov,P=lv,W=null,xe=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(W=u.unstable_transitionCallbacks),u.formState!==void 0&&(xe=u.formState)),i=Mw(r,1,!0,i,u!=null?u:null,m,x,v,T,P,W,xe),i.context=Pw(null),u=i.current,m=Qs(),m=Ht(m),x=ei(m),x.callback=null,ti(u,x,m),u=m,i.current.lanes=u,jt(i,u),Kr(i),r[Ve]=i.current,zp(r),new cf(i)},ru.version="19.1.1",ru}var s_;function pC(){if(s_)return og.exports;s_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),og.exports=mC(),og.exports}var gC=pC();const xC=nx(gC);var yC=Object.defineProperty,bC=(e,t,n)=>t in e?yC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fo=(e,t,n)=>bC(e,typeof t!="symbol"?t+"":t,n),vC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jl={},au={},Rr={},r_;function uS(){if(r_)return Rr;r_=1;var e=Rr&&Rr.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,d=arguments.length;l<d;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=Rr&&Rr.__awaiter||function(a,o,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function g(w){try{y(d.next(w))}catch(_){p(_)}}function b(w){try{y(d.throw(w))}catch(_){p(_)}}function y(w){w.done?h(w.value):f(w.value).then(g,b)}y((d=d.apply(a,o||[])).next())})},n=Rr&&Rr.__generator||function(a,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(w){return b([y,w])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(l=0)),l;)try{if(d=1,f&&(h=y[0]&2?f.return:y[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,y[1])).done)return h;switch(f=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,f=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){l.label=y[1];break}if(y[0]===6&&l.label<h[1]){l.label=h[1],h=y;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(y);break}h[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(a,l)}catch(w){y=[6,w],f=0}finally{d=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.FrappeCall=void 0;var s=function(){function a(o,l,d,f,h){this.appURL=o,this.axios=l,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.get=function(o,l){return t(this,void 0,void 0,function(){var d;return n(this,function(f){return d=new URLSearchParams,l&&Object.entries(l).forEach(function(h){var p=h[0],g=h[1];if(g!=null){var b=typeof g=="object"?JSON.stringify(g):g;d.set(p,b)}}),[2,this.axios.get("/api/method/".concat(o),{params:d}).then(function(h){return h.data}).catch(function(h){var p,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(p=h.response.data.message)!==null&&p!==void 0?p:"There was an error.",exception:(g=h.response.data.exception)!==null&&g!==void 0?g:""})})]})})},a.prototype.post=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/method/".concat(o),e({},l)).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.put=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.put("/api/method/".concat(o),e({},l)).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.delete=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.delete("/api/method/".concat(o),{params:l}).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a}();return Rr.FrappeCall=s,Rr}var Dr={},a_;function dS(){if(a_)return Dr;a_=1;var e=Dr&&Dr.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,d=arguments.length;l<d;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=Dr&&Dr.__awaiter||function(a,o,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function g(w){try{y(d.next(w))}catch(_){p(_)}}function b(w){try{y(d.throw(w))}catch(_){p(_)}}function y(w){w.done?h(w.value):f(w.value).then(g,b)}y((d=d.apply(a,o||[])).next())})},n=Dr&&Dr.__generator||function(a,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(w){return b([y,w])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(l=0)),l;)try{if(d=1,f&&(h=y[0]&2?f.return:y[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,y[1])).done)return h;switch(f=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,f=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){l.label=y[1];break}if(y[0]===6&&l.label<h[1]){l.label=h[1],h=y;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(y);break}h[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(a,l)}catch(w){y=[6,w],f=0}finally{d=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.FrappeDB=void 0;var s=function(){function a(o,l,d,f,h){this.appURL=o,this.axios=l,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.getDoc=function(o,l){return l===void 0&&(l=""),t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.get("/api/resource/".concat(o,"/").concat(encodeURIComponent(l))).then(function(f){return f.data.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while fetching the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getDocList=function(o,l){var d;return t(this,void 0,void 0,function(){var f,h,p,g,b,y,w,_,S,j,R;return n(this,function(O){return f={},l&&(h=l.fields,p=l.filters,g=l.orFilters,b=l.orderBy,y=l.limit,w=l.limit_start,_=l.groupBy,S=l.asDict,j=S===void 0?!0:S,R=b?"".concat(String(b==null?void 0:b.field)," ").concat((d=b==null?void 0:b.order)!==null&&d!==void 0?d:"asc"):"",f={fields:h?JSON.stringify(h):void 0,filters:p?JSON.stringify(p):void 0,or_filters:g?JSON.stringify(g):void 0,order_by:R,group_by:_,limit:y,limit_start:w,as_dict:j}),[2,this.axios.get("/api/resource/".concat(o),{params:f}).then(function(C){return C.data.data}).catch(function(C){var A,k;throw e(e({},C.response.data),{httpStatus:C.response.status,httpStatusText:C.response.statusText,message:"There was an error while fetching the documents.",exception:(k=(A=C.response.data.exception)!==null&&A!==void 0?A:C.response.data.exc_type)!==null&&k!==void 0?k:""})})]})})},a.prototype.createDoc=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/resource/".concat(o),e({},l)).then(function(f){return f.data.data}).catch(function(f){var h,p,g;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error while creating the document.",exception:(g=(p=f.response.data.exception)!==null&&p!==void 0?p:f.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},a.prototype.updateDoc=function(o,l,d){return t(this,void 0,void 0,function(){return n(this,function(f){return[2,this.axios.put("/api/resource/".concat(o,"/").concat(l&&encodeURIComponent(l)),e({},d)).then(function(h){return h.data.data}).catch(function(h){var p,g,b;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(p=h.response.data.message)!==null&&p!==void 0?p:"There was an error while updating the document.",exception:(b=(g=h.response.data.exception)!==null&&g!==void 0?g:h.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.deleteDoc=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.delete("/api/resource/".concat(o,"/").concat(l&&encodeURIComponent(l))).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while deleting the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getCount=function(o,l,d,f){return d===void 0&&(d=!1),f===void 0&&(f=!1),t(this,void 0,void 0,function(){var h;return n(this,function(p){return h={doctype:o,filters:[]},d&&(h.cache=d),f&&(h.debug=f),l&&(h.filters=l?JSON.stringify(l):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:h}).then(function(g){return g.data.message}).catch(function(g){var b,y;throw e(e({},g.response.data),{httpStatus:g.response.status,httpStatusText:g.response.statusText,message:"There was an error while getting the count.",exception:(y=(b=g.response.data.exception)!==null&&b!==void 0?b:g.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},a.prototype.getLastDoc=function(o,l){return t(this,void 0,void 0,function(){var d,f;return n(this,function(h){switch(h.label){case 0:return d={orderBy:{field:"creation",order:"desc"}},l&&(d=e(e({},d),l)),[4,this.getDocList(o,e(e({},d),{limit:1,fields:["name"]}))];case 1:return f=h.sent(),f.length>0?[2,this.getDoc(o,f[0].name)]:[2,{}]}})})},a.prototype.renameDoc=function(o,l,d,f){return f===void 0&&(f=!1),t(this,void 0,void 0,function(){return n(this,function(h){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:o,old_name:l,new_name:d,merge:f}).then(function(p){return p.data}).catch(function(p){var g,b,y;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:(g=p.response.data.message)!==null&&g!==void 0?g:"There was an error while renaming the document.",exception:(y=(b=p.response.data.exception)!==null&&b!==void 0?b:p.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},a.prototype.getValue=function(o,l,d,f,h,p){return f===void 0&&(f=!0),h===void 0&&(h=!1),p===void 0&&(p=null),t(this,void 0,void 0,function(){var g;return n(this,function(b){return g={doctype:o,fieldname:"[]",filters:[],as_dict:f,debug:h,parent:null},l&&(g.fieldname=typeof l=="object"?JSON.stringify(l):l),d&&(g.filters=d?JSON.stringify(d):void 0),p&&(g.parent=p),[2,this.axios.get("/api/method/frappe.client.get_value",{params:g}).then(function(y){return y.data}).catch(function(y){var w,_;throw e(e({},y.response.data),{httpStatus:y.response.status,httpStatusText:y.response.statusText,message:"There was an error while getting the value.",exception:(_=(w=y.response.data.exception)!==null&&w!==void 0?w:y.response.data.exc_type)!==null&&_!==void 0?_:""})})]})})},a.prototype.setValue=function(o,l,d,f){return t(this,void 0,void 0,function(){return n(this,function(h){return d!==null&&typeof d=="object"&&!Array.isArray(d)&&(f=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:o,name:l,fieldname:d,value:f}).then(function(p){return p.data}).catch(function(p){var g,b;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while setting the value.",exception:(b=(g=p.response.data.exception)!==null&&g!==void 0?g:p.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.getSingleValue=function(o,l){return t(this,void 0,void 0,function(){var d;return n(this,function(f){return d={doctype:o,field:l},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:d}).then(function(h){return h.data}).catch(function(h){var p,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(g=(p=h.response.data.exception)!==null&&p!==void 0?p:h.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},a.prototype.submit=function(o){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:o}).then(function(d){return d.data.message}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:"There was an error while submitting the document.",exception:(h=(f=d.response.data.exception)!==null&&f!==void 0?f:d.response.data.exc_type)!==null&&h!==void 0?h:""})})]})})},a.prototype.cancel=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:o,name:l}).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while cancelling the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a}();return Dr.FrappeDB=s,Dr}var Mr={},Ra={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var dg,i_;function wC(){if(i_)return dg;i_=1;function e(E,D){return function(){return E.apply(D,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:n}=Object,s=(E=>D=>{const U=t.call(D);return E[U]||(E[U]=U.slice(8,-1).toLowerCase())})(Object.create(null)),a=E=>(E=E.toLowerCase(),D=>s(D)===E),o=E=>D=>typeof D===E,{isArray:l}=Array,d=o("undefined");function f(E){return E!==null&&!d(E)&&E.constructor!==null&&!d(E.constructor)&&b(E.constructor.isBuffer)&&E.constructor.isBuffer(E)}const h=a("ArrayBuffer");function p(E){let D;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?D=ArrayBuffer.isView(E):D=E&&E.buffer&&h(E.buffer),D}const g=o("string"),b=o("function"),y=o("number"),w=E=>E!==null&&typeof E=="object",_=E=>E===!0||E===!1,S=E=>{if(s(E)!=="object")return!1;const D=n(E);return(D===null||D===Object.prototype||Object.getPrototypeOf(D)===null)&&!(Symbol.toStringTag in E)&&!(Symbol.iterator in E)},j=a("Date"),R=a("File"),O=a("Blob"),C=a("FileList"),A=E=>w(E)&&b(E.pipe),k=E=>{let D;return E&&(typeof FormData=="function"&&E instanceof FormData||b(E.append)&&((D=s(E))==="formdata"||D==="object"&&b(E.toString)&&E.toString()==="[object FormData]"))},B=a("URLSearchParams"),[z,q,ne,I]=["ReadableStream","Request","Response","Headers"].map(a),te=E=>E.trim?E.trim():E.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function le(E,D,{allOwnKeys:U=!1}={}){if(E===null||typeof E>"u")return;let H,ie;if(typeof E!="object"&&(E=[E]),l(E))for(H=0,ie=E.length;H<ie;H++)D.call(null,E[H],H,E);else{const ue=U?Object.getOwnPropertyNames(E):Object.keys(E),be=ue.length;let Ue;for(H=0;H<be;H++)Ue=ue[H],D.call(null,E[Ue],Ue,E)}}function pe(E,D){D=D.toLowerCase();const U=Object.keys(E);let H=U.length,ie;for(;H-- >0;)if(ie=U[H],D===ie.toLowerCase())return ie;return null}const Q=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:vC,$=E=>!d(E)&&E!==Q;function J(){const{caseless:E}=$(this)&&this||{},D={},U=(H,ie)=>{const ue=E&&pe(D,ie)||ie;S(D[ue])&&S(H)?D[ue]=J(D[ue],H):S(H)?D[ue]=J({},H):l(H)?D[ue]=H.slice():D[ue]=H};for(let H=0,ie=arguments.length;H<ie;H++)arguments[H]&&le(arguments[H],U);return D}const K=(E,D,U,{allOwnKeys:H}={})=>(le(D,(ie,ue)=>{U&&b(ie)?E[ue]=e(ie,U):E[ue]=ie},{allOwnKeys:H}),E),he=E=>(E.charCodeAt(0)===65279&&(E=E.slice(1)),E),M=(E,D,U,H)=>{E.prototype=Object.create(D.prototype,H),E.prototype.constructor=E,Object.defineProperty(E,"super",{value:D.prototype}),U&&Object.assign(E.prototype,U)},ae=(E,D,U,H)=>{let ie,ue,be;const Ue={};if(D=D||{},E==null)return D;do{for(ie=Object.getOwnPropertyNames(E),ue=ie.length;ue-- >0;)be=ie[ue],(!H||H(be,E,D))&&!Ue[be]&&(D[be]=E[be],Ue[be]=!0);E=U!==!1&&n(E)}while(E&&(!U||U(E,D))&&E!==Object.prototype);return D},G=(E,D,U)=>{E=String(E),(U===void 0||U>E.length)&&(U=E.length),U-=D.length;const H=E.indexOf(D,U);return H!==-1&&H===U},F=E=>{if(!E)return null;if(l(E))return E;let D=E.length;if(!y(D))return null;const U=new Array(D);for(;D-- >0;)U[D]=E[D];return U},Z=(E=>D=>E&&D instanceof E)(typeof Uint8Array<"u"&&n(Uint8Array)),ye=(E,D)=>{const U=(E&&E[Symbol.iterator]).call(E);let H;for(;(H=U.next())&&!H.done;){const ie=H.value;D.call(E,ie[0],ie[1])}},de=(E,D)=>{let U;const H=[];for(;(U=E.exec(D))!==null;)H.push(U);return H},Oe=a("HTMLFormElement"),Ae=E=>E.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(D,U,H){return U.toUpperCase()+H}),He=(({hasOwnProperty:E})=>(D,U)=>E.call(D,U))(Object.prototype),Pe=a("RegExp"),et=(E,D)=>{const U=Object.getOwnPropertyDescriptors(E),H={};le(U,(ie,ue)=>{let be;(be=D(ie,ue,E))!==!1&&(H[ue]=be||ie)}),Object.defineProperties(E,H)},We=E=>{et(E,(D,U)=>{if(b(E)&&["arguments","caller","callee"].indexOf(U)!==-1)return!1;const H=E[U];if(b(H)){if(D.enumerable=!1,"writable"in D){D.writable=!1;return}D.set||(D.set=()=>{throw Error("Can not rewrite read-only method '"+U+"'")})}})},ft=(E,D)=>{const U={},H=ie=>{ie.forEach(ue=>{U[ue]=!0})};return l(E)?H(E):H(String(E).split(D)),U},ze=()=>{},_t=(E,D)=>E!=null&&Number.isFinite(E=+E)?E:D;function Ft(E){return!!(E&&b(E.append)&&E[Symbol.toStringTag]==="FormData"&&E[Symbol.iterator])}const bt=E=>{const D=new Array(10),U=(H,ie)=>{if(w(H)){if(D.indexOf(H)>=0)return;if(!("toJSON"in H)){D[ie]=H;const ue=l(H)?[]:{};return le(H,(be,Ue)=>{const it=U(be,ie+1);!d(it)&&(ue[Ue]=it)}),D[ie]=void 0,ue}}return H};return U(E,0)},ot=a("AsyncFunction"),Tt=E=>E&&(w(E)||b(E))&&b(E.then)&&b(E.catch),Y=((E,D)=>E?setImmediate:D?((U,H)=>(Q.addEventListener("message",({source:ie,data:ue})=>{ie===Q&&ue===U&&H.length&&H.shift()()},!1),ie=>{H.push(ie),Q.postMessage(U,"*")}))(`axios@${Math.random()}`,[]):U=>setTimeout(U))(typeof setImmediate=="function",b(Q.postMessage)),ce=typeof queueMicrotask<"u"?queueMicrotask.bind(Q):typeof process<"u"&&process.nextTick||Y;var V={isArray:l,isArrayBuffer:h,isBuffer:f,isFormData:k,isArrayBufferView:p,isString:g,isNumber:y,isBoolean:_,isObject:w,isPlainObject:S,isReadableStream:z,isRequest:q,isResponse:ne,isHeaders:I,isUndefined:d,isDate:j,isFile:R,isBlob:O,isRegExp:Pe,isFunction:b,isStream:A,isURLSearchParams:B,isTypedArray:Z,isFileList:C,forEach:le,merge:J,extend:K,trim:te,stripBOM:he,inherits:M,toFlatObject:ae,kindOf:s,kindOfTest:a,endsWith:G,toArray:F,forEachEntry:ye,matchAll:de,isHTMLForm:Oe,hasOwnProperty:He,hasOwnProp:He,reduceDescriptors:et,freezeMethods:We,toObjectSet:ft,toCamelCase:Ae,noop:ze,toFiniteNumber:_t,findKey:pe,global:Q,isContextDefined:$,isSpecCompliantForm:Ft,toJSONObject:bt,isAsyncFn:ot,isThenable:Tt,setImmediate:Y,asap:ce};function Ne(E,D,U,H,ie){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=E,this.name="AxiosError",D&&(this.code=D),U&&(this.config=U),H&&(this.request=H),ie&&(this.response=ie,this.status=ie.status?ie.status:null)}V.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const Me=Ne.prototype,Ee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(E=>{Ee[E]={value:E}}),Object.defineProperties(Ne,Ee),Object.defineProperty(Me,"isAxiosError",{value:!0}),Ne.from=(E,D,U,H,ie,ue)=>{const be=Object.create(Me);return V.toFlatObject(E,be,function(Ue){return Ue!==Error.prototype},Ue=>Ue!=="isAxiosError"),Ne.call(be,E.message,D,U,H,ie),be.cause=E,be.name=E.name,ue&&Object.assign(be,ue),be};var we=null;function Te(E){return V.isPlainObject(E)||V.isArray(E)}function $e(E){return V.endsWith(E,"[]")?E.slice(0,-2):E}function pt(E,D,U){return E?E.concat(D).map(function(H,ie){return H=$e(H),!U&&ie?"["+H+"]":H}).join(U?".":""):D}function gn(E){return V.isArray(E)&&!E.some(Te)}const Qt=V.toFlatObject(V,{},null,function(E){return/^is[A-Z]/.test(E)});function Zt(E,D,U){if(!V.isObject(E))throw new TypeError("target must be an object");D=D||new FormData,U=V.toFlatObject(U,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Nt,ct){return!V.isUndefined(ct[Nt])});const H=U.metaTokens,ie=U.visitor||Be,ue=U.dots,be=U.indexes,Ue=(U.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(D);if(!V.isFunction(ie))throw new TypeError("visitor must be a function");function it(Nt){if(Nt===null)return"";if(V.isDate(Nt))return Nt.toISOString();if(!Ue&&V.isBlob(Nt))throw new Ne("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(Nt)||V.isTypedArray(Nt)?Ue&&typeof Blob=="function"?new Blob([Nt]):Buffer.from(Nt):Nt}function Be(Nt,ct,nt){let ss=Nt;if(Nt&&!nt&&typeof Nt=="object"){if(V.endsWith(ct,"{}"))ct=H?ct:ct.slice(0,-2),Nt=JSON.stringify(Nt);else if(V.isArray(Nt)&&gn(Nt)||(V.isFileList(Nt)||V.endsWith(ct,"[]"))&&(ss=V.toArray(Nt)))return ct=$e(ct),ss.forEach(function(Fn,_n){!(V.isUndefined(Fn)||Fn===null)&&D.append(be===!0?pt([ct],_n,ue):be===null?ct:ct+"[]",it(Fn))}),!1}return Te(Nt)?!0:(D.append(pt(nt,ct,ue),it(Nt)),!1)}const Ye=[],ht=Object.assign(Qt,{defaultVisitor:Be,convertValue:it,isVisitable:Te});function rn(Nt,ct){if(!V.isUndefined(Nt)){if(Ye.indexOf(Nt)!==-1)throw Error("Circular reference detected in "+ct.join("."));Ye.push(Nt),V.forEach(Nt,function(nt,ss){(!(V.isUndefined(nt)||nt===null)&&ie.call(D,nt,V.isString(ss)?ss.trim():ss,ct,ht))===!0&&rn(nt,ct?ct.concat(ss):[ss])}),Ye.pop()}}if(!V.isObject(E))throw new TypeError("data must be an object");return rn(E),D}function xn(E){const D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(E).replace(/[!'()~]|%20|%00/g,function(U){return D[U]})}function Wn(E,D){this._pairs=[],E&&Zt(E,this,D)}const Xn=Wn.prototype;Xn.append=function(E,D){this._pairs.push([E,D])},Xn.toString=function(E){const D=E?function(U){return E.call(this,U,xn)}:xn;return this._pairs.map(function(U){return D(U[0])+"="+D(U[1])},"").join("&")};function hs(E){return encodeURIComponent(E).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Gn(E,D,U){if(!D)return E;const H=U&&U.encode||hs;V.isFunction(U)&&(U={serialize:U});const ie=U&&U.serialize;let ue;if(ie?ue=ie(D,U):ue=V.isURLSearchParams(D)?D.toString():new Wn(D,U).toString(H),ue){const be=E.indexOf("#");be!==-1&&(E=E.slice(0,be)),E+=(E.indexOf("?")===-1?"?":"&")+ue}return E}class Ts{constructor(){this.handlers=[]}use(D,U,H){return this.handlers.push({fulfilled:D,rejected:U,synchronous:H?H.synchronous:!1,runWhen:H?H.runWhen:null}),this.handlers.length-1}eject(D){this.handlers[D]&&(this.handlers[D]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(D){V.forEach(this.handlers,function(U){U!==null&&D(U)})}}var Xe=Ts,Ot={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pt=typeof URLSearchParams<"u"?URLSearchParams:Wn,jt=typeof FormData<"u"?FormData:null,Gt=typeof Blob<"u"?Blob:null,Ge={isBrowser:!0,classes:{URLSearchParams:Pt,FormData:jt,Blob:Gt},protocols:["http","https","file","blob","url","data"]};const vt=typeof window<"u"&&typeof document<"u",Ht=typeof navigator=="object"&&navigator||void 0,qt=vt&&(!Ht||["ReactNative","NativeScript","NS"].indexOf(Ht.product)<0),X=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",re=vt&&window.location.href||"http://localhost";var fe=Object.freeze({__proto__:null,hasBrowserEnv:vt,hasStandardBrowserWebWorkerEnv:X,hasStandardBrowserEnv:qt,navigator:Ht,origin:re}),Se=L(L({},fe),Ge);function De(E,D){return Zt(E,new Se.classes.URLSearchParams,Object.assign({visitor:function(U,H,ie,ue){return Se.isNode&&V.isBuffer(U)?(this.append(H,U.toString("base64")),!1):ue.defaultVisitor.apply(this,arguments)}},D))}function Ve(E){return V.matchAll(/\w+|\[(\w*)]/g,E).map(D=>D[0]==="[]"?"":D[1]||D[0])}function Ke(E){const D={},U=Object.keys(E);let H;const ie=U.length;let ue;for(H=0;H<ie;H++)ue=U[H],D[ue]=E[ue];return D}function tt(E){function D(U,H,ie,ue){let be=U[ue++];if(be==="__proto__")return!0;const Ue=Number.isFinite(+be),it=ue>=U.length;return be=!be&&V.isArray(ie)?ie.length:be,it?(V.hasOwnProp(ie,be)?ie[be]=[ie[be],H]:ie[be]=H,!Ue):((!ie[be]||!V.isObject(ie[be]))&&(ie[be]=[]),D(U,H,ie[be],ue)&&V.isArray(ie[be])&&(ie[be]=Ke(ie[be])),!Ue)}if(V.isFormData(E)&&V.isFunction(E.entries)){const U={};return V.forEachEntry(E,(H,ie)=>{D(Ve(H),ie,U,0)}),U}return null}function lt(E,D,U){if(V.isString(E))try{return(D||JSON.parse)(E),V.trim(E)}catch(H){if(H.name!=="SyntaxError")throw H}return(U||JSON.stringify)(E)}const kt={transitional:Ot,adapter:["xhr","http","fetch"],transformRequest:[function(E,D){const U=D.getContentType()||"",H=U.indexOf("application/json")>-1,ie=V.isObject(E);if(ie&&V.isHTMLForm(E)&&(E=new FormData(E)),V.isFormData(E))return H?JSON.stringify(tt(E)):E;if(V.isArrayBuffer(E)||V.isBuffer(E)||V.isStream(E)||V.isFile(E)||V.isBlob(E)||V.isReadableStream(E))return E;if(V.isArrayBufferView(E))return E.buffer;if(V.isURLSearchParams(E))return D.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),E.toString();let ue;if(ie){if(U.indexOf("application/x-www-form-urlencoded")>-1)return De(E,this.formSerializer).toString();if((ue=V.isFileList(E))||U.indexOf("multipart/form-data")>-1){const be=this.env&&this.env.FormData;return Zt(ue?{"files[]":E}:E,be&&new be,this.formSerializer)}}return ie||H?(D.setContentType("application/json",!1),lt(E)):E}],transformResponse:[function(E){const D=this.transitional||kt.transitional,U=D&&D.forcedJSONParsing,H=this.responseType==="json";if(V.isResponse(E)||V.isReadableStream(E))return E;if(E&&V.isString(E)&&(U&&!this.responseType||H)){const ie=!(D&&D.silentJSONParsing)&&H;try{return JSON.parse(E)}catch(ue){if(ie)throw ue.name==="SyntaxError"?Ne.from(ue,Ne.ERR_BAD_RESPONSE,this,null,this.response):ue}}return E}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Se.classes.FormData,Blob:Se.classes.Blob},validateStatus:function(E){return E>=200&&E<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],E=>{kt.headers[E]={}});var st=kt;const xt=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Et=E=>{const D={};let U,H,ie;return E&&E.split(`
`).forEach(function(ue){ie=ue.indexOf(":"),U=ue.substring(0,ie).trim().toLowerCase(),H=ue.substring(ie+1).trim(),!(!U||D[U]&&xt[U])&&(U==="set-cookie"?D[U]?D[U].push(H):D[U]=[H]:D[U]=D[U]?D[U]+", "+H:H)}),D};const cn=Symbol("internals");function Cn(E){return E&&String(E).trim().toLowerCase()}function sn(E){return E===!1||E==null?E:V.isArray(E)?E.map(sn):String(E)}function rt(E){const D=Object.create(null),U=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let H;for(;H=U.exec(E);)D[H[1]]=H[2];return D}const St=E=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(E.trim());function It(E,D,U,H,ie){if(V.isFunction(H))return H.call(this,D,U);if(ie&&(D=U),!!V.isString(D)){if(V.isString(H))return D.indexOf(H)!==-1;if(V.isRegExp(H))return H.test(D)}}function yn(E){return E.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(D,U,H)=>U.toUpperCase()+H)}function An(E,D){const U=V.toCamelCase(" "+D);["get","set","has"].forEach(H=>{Object.defineProperty(E,H+U,{value:function(ie,ue,be){return this[H].call(this,D,ie,ue,be)},configurable:!0})})}class Kn{constructor(D){D&&this.set(D)}set(D,U,H){const ie=this;function ue(Ue,it,Be){const Ye=Cn(it);if(!Ye)throw new Error("header name must be a non-empty string");const ht=V.findKey(ie,Ye);(!ht||ie[ht]===void 0||Be===!0||Be===void 0&&ie[ht]!==!1)&&(ie[ht||it]=sn(Ue))}const be=(Ue,it)=>V.forEach(Ue,(Be,Ye)=>ue(Be,Ye,it));if(V.isPlainObject(D)||D instanceof this.constructor)be(D,U);else if(V.isString(D)&&(D=D.trim())&&!St(D))be(Et(D),U);else if(V.isHeaders(D))for(const[Ue,it]of D.entries())ue(it,Ue,H);else D!=null&&ue(U,D,H);return this}get(D,U){if(D=Cn(D),D){const H=V.findKey(this,D);if(H){const ie=this[H];if(!U)return ie;if(U===!0)return rt(ie);if(V.isFunction(U))return U.call(this,ie,H);if(V.isRegExp(U))return U.exec(ie);throw new TypeError("parser must be boolean|regexp|function")}}}has(D,U){if(D=Cn(D),D){const H=V.findKey(this,D);return!!(H&&this[H]!==void 0&&(!U||It(this,this[H],H,U)))}return!1}delete(D,U){const H=this;let ie=!1;function ue(be){if(be=Cn(be),be){const Ue=V.findKey(H,be);Ue&&(!U||It(H,H[Ue],Ue,U))&&(delete H[Ue],ie=!0)}}return V.isArray(D)?D.forEach(ue):ue(D),ie}clear(D){const U=Object.keys(this);let H=U.length,ie=!1;for(;H--;){const ue=U[H];(!D||It(this,this[ue],ue,D,!0))&&(delete this[ue],ie=!0)}return ie}normalize(D){const U=this,H={};return V.forEach(this,(ie,ue)=>{const be=V.findKey(H,ue);if(be){U[be]=sn(ie),delete U[ue];return}const Ue=D?yn(ue):String(ue).trim();Ue!==ue&&delete U[ue],U[Ue]=sn(ie),H[Ue]=!0}),this}concat(...D){return this.constructor.concat(this,...D)}toJSON(D){const U=Object.create(null);return V.forEach(this,(H,ie)=>{H!=null&&H!==!1&&(U[ie]=D&&V.isArray(H)?H.join(", "):H)}),U}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([D,U])=>D+": "+U).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(D){return D instanceof this?D:new this(D)}static concat(D,...U){const H=new this(D);return U.forEach(ie=>H.set(ie)),H}static accessor(D){const U=(this[cn]=this[cn]={accessors:{}}).accessors,H=this.prototype;function ie(ue){const be=Cn(ue);U[be]||(An(H,ue),U[be]=!0)}return V.isArray(D)?D.forEach(ie):ie(D),this}}Kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),V.reduceDescriptors(Kn.prototype,({value:E},D)=>{let U=D[0].toUpperCase()+D.slice(1);return{get:()=>E,set(H){this[U]=H}}}),V.freezeMethods(Kn);var ns=Kn;function ir(E,D){const U=this||st,H=D||U,ie=ns.from(H.headers);let ue=H.data;return V.forEach(E,function(be){ue=be.call(U,ue,ie.normalize(),D?D.status:void 0)}),ie.normalize(),ue}function or(E){return!!(E&&E.__CANCEL__)}function bs(E,D,U){Ne.call(this,E!=null?E:"canceled",Ne.ERR_CANCELED,D,U),this.name="CanceledError"}V.inherits(bs,Ne,{__CANCEL__:!0});function lr(E,D,U){const H=U.config.validateStatus;!U.status||!H||H(U.status)?E(U):D(new Ne("Request failed with status code "+U.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(U.status/100)-4],U.config,U.request,U))}function At(E){const D=/^([-+\w]{1,25})(:?\/\/|:)/.exec(E);return D&&D[1]||""}function On(E,D){E=E||10;const U=new Array(E),H=new Array(E);let ie=0,ue=0,be;return D=D!==void 0?D:1e3,function(Ue){const it=Date.now(),Be=H[ue];be||(be=it),U[ie]=Ue,H[ie]=it;let Ye=ue,ht=0;for(;Ye!==ie;)ht+=U[Ye++],Ye=Ye%E;if(ie=(ie+1)%E,ie===ue&&(ue=(ue+1)%E),it-be<D)return;const rn=Be&&it-Be;return rn?Math.round(ht*1e3/rn):void 0}}function pa(E,D){let U=0,H=1e3/D,ie,ue;const be=(Ue,it=Date.now())=>{U=it,ie=null,ue&&(clearTimeout(ue),ue=null),E.apply(null,Ue)};return[(...Ue)=>{const it=Date.now(),Be=it-U;Be>=H?be(Ue,it):(ie=Ue,ue||(ue=setTimeout(()=>{ue=null,be(ie)},H-Be)))},()=>ie&&be(ie)]}const ms=(E,D,U=3)=>{let H=0;const ie=On(50,250);return pa(ue=>{const be=ue.loaded,Ue=ue.lengthComputable?ue.total:void 0,it=be-H,Be=ie(it),Ye=be<=Ue;H=be;const ht={loaded:be,total:Ue,progress:Ue?be/Ue:void 0,bytes:it,rate:Be||void 0,estimated:Be&&Ue&&Ye?(Ue-be)/Be:void 0,event:ue,lengthComputable:Ue!=null,[D?"download":"upload"]:!0};E(ht)},U)},dn=(E,D)=>{const U=E!=null;return[H=>D[0]({lengthComputable:U,total:E,loaded:H}),D[1]]},Tr=E=>(...D)=>V.asap(()=>E(...D));var Uo=Se.hasStandardBrowserEnv?((E,D)=>U=>(U=new URL(U,Se.origin),E.protocol===U.protocol&&E.host===U.host&&(D||E.port===U.port)))(new URL(Se.origin),Se.navigator&&/(msie|trident)/i.test(Se.navigator.userAgent)):()=>!0,Bo=Se.hasStandardBrowserEnv?{write(E,D,U,H,ie,ue){const be=[E+"="+encodeURIComponent(D)];V.isNumber(U)&&be.push("expires="+new Date(U).toGMTString()),V.isString(H)&&be.push("path="+H),V.isString(ie)&&be.push("domain="+ie),ue===!0&&be.push("secure"),document.cookie=be.join("; ")},read(E){const D=document.cookie.match(new RegExp("(^|;\\s*)("+E+")=([^;]*)"));return D?decodeURIComponent(D[3]):null},remove(E){this.write(E,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Os(E){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(E)}function sd(E,D){return D?E.replace(/\/?\/$/,"")+"/"+D.replace(/^\/+/,""):E}function rd(E,D,U){let H=!Os(D);return E&&H||U==!1?sd(E,D):D}const Fi=E=>E instanceof ns?L({},E):E;function qr(E,D){D=D||{};const U={};function H(Be,Ye,ht,rn){return V.isPlainObject(Be)&&V.isPlainObject(Ye)?V.merge.call({caseless:rn},Be,Ye):V.isPlainObject(Ye)?V.merge({},Ye):V.isArray(Ye)?Ye.slice():Ye}function ie(Be,Ye,ht,rn){if(V.isUndefined(Ye)){if(!V.isUndefined(Be))return H(void 0,Be,ht,rn)}else return H(Be,Ye,ht,rn)}function ue(Be,Ye){if(!V.isUndefined(Ye))return H(void 0,Ye)}function be(Be,Ye){if(V.isUndefined(Ye)){if(!V.isUndefined(Be))return H(void 0,Be)}else return H(void 0,Ye)}function Ue(Be,Ye,ht){if(ht in D)return H(Be,Ye);if(ht in E)return H(void 0,Be)}const it={url:ue,method:ue,data:ue,baseURL:be,transformRequest:be,transformResponse:be,paramsSerializer:be,timeout:be,timeoutMessage:be,withCredentials:be,withXSRFToken:be,adapter:be,responseType:be,xsrfCookieName:be,xsrfHeaderName:be,onUploadProgress:be,onDownloadProgress:be,decompress:be,maxContentLength:be,maxBodyLength:be,beforeRedirect:be,transport:be,httpAgent:be,httpsAgent:be,cancelToken:be,socketPath:be,responseEncoding:be,validateStatus:Ue,headers:(Be,Ye,ht)=>ie(Fi(Be),Fi(Ye),ht,!0)};return V.forEach(Object.keys(Object.assign({},E,D)),function(Be){const Ye=it[Be]||ie,ht=Ye(E[Be],D[Be],Be);V.isUndefined(ht)&&Ye!==Ue||(U[Be]=ht)}),U}var Hi=E=>{const D=qr({},E);let{data:U,withXSRFToken:H,xsrfHeaderName:ie,xsrfCookieName:ue,headers:be,auth:Ue}=D;D.headers=be=ns.from(be),D.url=Gn(rd(D.baseURL,D.url),E.params,E.paramsSerializer),Ue&&be.set("Authorization","Basic "+btoa((Ue.username||"")+":"+(Ue.password?unescape(encodeURIComponent(Ue.password)):"")));let it;if(V.isFormData(U)){if(Se.hasStandardBrowserEnv||Se.hasStandardBrowserWebWorkerEnv)be.setContentType(void 0);else if((it=be.getContentType())!==!1){const[Be,...Ye]=it?it.split(";").map(ht=>ht.trim()).filter(Boolean):[];be.setContentType([Be||"multipart/form-data",...Ye].join("; "))}}if(Se.hasStandardBrowserEnv&&(H&&V.isFunction(H)&&(H=H(D)),H||H!==!1&&Uo(D.url))){const Be=ie&&ue&&Bo.read(ue);Be&&be.set(ie,Be)}return D},cm=typeof XMLHttpRequest<"u"&&function(E){return new Promise(function(D,U){const H=Hi(E);let ie=H.data;const ue=ns.from(H.headers).normalize();let{responseType:be,onUploadProgress:Ue,onDownloadProgress:it}=H,Be,Ye,ht,rn,Nt;function ct(){rn&&rn(),Nt&&Nt(),H.cancelToken&&H.cancelToken.unsubscribe(Be),H.signal&&H.signal.removeEventListener("abort",Be)}let nt=new XMLHttpRequest;nt.open(H.method.toUpperCase(),H.url,!0),nt.timeout=H.timeout;function ss(){if(!nt)return;const _n=ns.from("getAllResponseHeaders"in nt&&nt.getAllResponseHeaders()),cr={data:!be||be==="text"||be==="json"?nt.responseText:nt.response,status:nt.status,statusText:nt.statusText,headers:_n,config:E,request:nt};lr(function(Xi){D(Xi),ct()},function(Xi){U(Xi),ct()},cr),nt=null}"onloadend"in nt?nt.onloadend=ss:nt.onreadystatechange=function(){!nt||nt.readyState!==4||nt.status===0&&!(nt.responseURL&&nt.responseURL.indexOf("file:")===0)||setTimeout(ss)},nt.onabort=function(){nt&&(U(new Ne("Request aborted",Ne.ECONNABORTED,E,nt)),nt=null)},nt.onerror=function(){U(new Ne("Network Error",Ne.ERR_NETWORK,E,nt)),nt=null},nt.ontimeout=function(){let _n=H.timeout?"timeout of "+H.timeout+"ms exceeded":"timeout exceeded";const cr=H.transitional||Ot;H.timeoutErrorMessage&&(_n=H.timeoutErrorMessage),U(new Ne(_n,cr.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,E,nt)),nt=null},ie===void 0&&ue.setContentType(null),"setRequestHeader"in nt&&V.forEach(ue.toJSON(),function(_n,cr){nt.setRequestHeader(cr,_n)}),V.isUndefined(H.withCredentials)||(nt.withCredentials=!!H.withCredentials),be&&be!=="json"&&(nt.responseType=H.responseType),it&&([ht,Nt]=ms(it,!0),nt.addEventListener("progress",ht)),Ue&&nt.upload&&([Ye,rn]=ms(Ue),nt.upload.addEventListener("progress",Ye),nt.upload.addEventListener("loadend",rn)),(H.cancelToken||H.signal)&&(Be=_n=>{nt&&(U(!_n||_n.type?new bs(null,E,nt):_n),nt.abort(),nt=null)},H.cancelToken&&H.cancelToken.subscribe(Be),H.signal&&(H.signal.aborted?Be():H.signal.addEventListener("abort",Be)));const Fn=At(H.url);if(Fn&&Se.protocols.indexOf(Fn)===-1){U(new Ne("Unsupported protocol "+Fn+":",Ne.ERR_BAD_REQUEST,E));return}nt.send(ie||null)})},Rs=(E,D)=>{const{length:U}=E=E?E.filter(Boolean):[];if(D||U){let H=new AbortController,ie;const ue=function(Be){if(!ie){ie=!0,Ue();const Ye=Be instanceof Error?Be:this.reason;H.abort(Ye instanceof Ne?Ye:new bs(Ye instanceof Error?Ye.message:Ye))}};let be=D&&setTimeout(()=>{be=null,ue(new Ne(`timeout ${D} of ms exceeded`,Ne.ETIMEDOUT))},D);const Ue=()=>{E&&(be&&clearTimeout(be),be=null,E.forEach(Be=>{Be.unsubscribe?Be.unsubscribe(ue):Be.removeEventListener("abort",ue)}),E=null)};E.forEach(Be=>Be.addEventListener("abort",ue));const{signal:it}=H;return it.unsubscribe=()=>V.asap(Ue),it}};const lc=function*(E,D){let U=E.byteLength;if(U<D){yield E;return}let H=0,ie;for(;H<U;)ie=H+D,yield E.slice(H,ie),H=ie},ad=function(E,D){return sg(this,null,function*(){try{for(var U=Ww(cc(E)),H,ie,ue;H=!(ie=yield new uo(U.next())).done;H=!1){const be=ie.value;yield*rg(lc(be,D))}}catch(ie){ue=[ie]}finally{try{H&&(ie=U.return)&&(yield new uo(ie.call(U)))}finally{if(ue)throw ue[0]}}})},cc=function(E){return sg(this,null,function*(){if(E[Symbol.asyncIterator]){yield*rg(E);return}const D=E.getReader();try{for(;;){const{done:U,value:H}=yield new uo(D.read());if(U)break;yield H}}finally{yield new uo(D.cancel())}})},ga=(E,D,U,H)=>{const ie=ad(E,D);let ue=0,be,Ue=Be=>{be||(be=!0,H&&H(Be))};return new ReadableStream({pull(Be){return ve(this,null,function*(){try{const{done:Ye,value:ht}=yield ie.next();if(Ye){Ue(),Be.close();return}let rn=ht.byteLength;if(U){let Nt=ue+=rn;U(Nt)}Be.enqueue(new Uint8Array(ht))}catch(Ye){throw Ue(Ye),Ye}})},cancel(Be){return Ue(Be),ie.return()}},{highWaterMark:2})},$i=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uc=$i&&typeof ReadableStream=="function",Ya=$i&&(typeof TextEncoder=="function"?(E=>D=>E.encode(D))(new TextEncoder):E=>ve(null,null,function*(){return new Uint8Array(yield new Response(E).arrayBuffer())})),id=(E,...D)=>{try{return!!E(...D)}catch(U){return!1}},od=uc&&id(()=>{let E=!1;const D=new Request(Se.origin,{body:new ReadableStream,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!D}),dc=64*1024,Vi=uc&&id(()=>V.isReadableStream(new Response("").body)),Fo={stream:Vi&&(E=>E.body)};$i&&(E=>{["text","arrayBuffer","blob","formData","stream"].forEach(D=>{!Fo[D]&&(Fo[D]=V.isFunction(E[D])?U=>U[D]():(U,H)=>{throw new Ne(`Response type '${D}' is not supported`,Ne.ERR_NOT_SUPPORT,H)})})})(new Response);const um=E=>ve(null,null,function*(){if(E==null)return 0;if(V.isBlob(E))return E.size;if(V.isSpecCompliantForm(E))return(yield new Request(Se.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(V.isArrayBufferView(E)||V.isArrayBuffer(E))return E.byteLength;if(V.isURLSearchParams(E)&&(E=E+""),V.isString(E))return(yield Ya(E)).byteLength}),Ho=(E,D)=>ve(null,null,function*(){const U=V.toFiniteNumber(E.getContentLength());return U!=null?U:um(D)});var fc=$i&&(E=>ve(null,null,function*(){let{url:D,method:U,data:H,signal:ie,cancelToken:ue,timeout:be,onDownloadProgress:Ue,onUploadProgress:it,responseType:Be,headers:Ye,withCredentials:ht="same-origin",fetchOptions:rn}=Hi(E);Be=Be?(Be+"").toLowerCase():"text";let Nt=Rs([ie,ue&&ue.toAbortSignal()],be),ct;const nt=Nt&&Nt.unsubscribe&&(()=>{Nt.unsubscribe()});let ss;try{if(it&&od&&U!=="get"&&U!=="head"&&(ss=yield Ho(Ye,H))!==0){let Ir=new Request(D,{method:"POST",body:H,duplex:"half"}),Qa;if(V.isFormData(H)&&(Qa=Ir.headers.get("content-type"))&&Ye.setContentType(Qa),Ir.body){const[Io,Yo]=dn(ss,ms(Tr(it)));H=ga(Ir.body,dc,Io,Yo)}}V.isString(ht)||(ht=ht?"include":"omit");const Fn="credentials"in Request.prototype;ct=new Request(D,me(L({},rn),{signal:Nt,method:U.toUpperCase(),headers:Ye.normalize().toJSON(),body:H,duplex:"half",credentials:Fn?ht:void 0}));let _n=yield fetch(ct);const cr=Vi&&(Be==="stream"||Be==="response");if(Vi&&(Ue||cr&&nt)){const Ir={};["status","statusText","headers"].forEach(cd=>{Ir[cd]=_n[cd]});const Qa=V.toFiniteNumber(_n.headers.get("content-length")),[Io,Yo]=Ue&&dn(Qa,ms(Tr(Ue),!0))||[];_n=new Response(ga(_n.body,dc,Io,()=>{Yo&&Yo(),nt&&nt()}),Ir)}Be=Be||"text";let Xi=yield Fo[V.findKey(Fo,Be)||"text"](_n,E);return!cr&&nt&&nt(),yield new Promise((Ir,Qa)=>{lr(Ir,Qa,{data:Xi,headers:ns.from(_n.headers),status:_n.status,statusText:_n.statusText,config:E,request:ct})})}catch(Fn){throw nt&&nt(),Fn&&Fn.name==="TypeError"&&/fetch/i.test(Fn.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,E,ct),{cause:Fn.cause||Fn}):Ne.from(Fn,Fn&&Fn.code,E,ct)}}));const qi={http:we,xhr:cm,fetch:fc};V.forEach(qi,(E,D)=>{if(E){try{Object.defineProperty(E,"name",{value:D})}catch(U){}Object.defineProperty(E,"adapterName",{value:D})}});const xa=E=>`- ${E}`,Wa=E=>V.isFunction(E)||E===null||E===!1;var hc={getAdapter:E=>{E=V.isArray(E)?E:[E];const{length:D}=E;let U,H;const ie={};for(let ue=0;ue<D;ue++){U=E[ue];let be;if(H=U,!Wa(U)&&(H=qi[(be=String(U)).toLowerCase()],H===void 0))throw new Ne(`Unknown adapter '${be}'`);if(H)break;ie[be||"#"+ue]=H}if(!H){const ue=Object.entries(ie).map(([Ue,it])=>`adapter ${Ue} `+(it===!1?"is not supported by the environment":"is not available in the build"));let be=D?ue.length>1?`since :
`+ue.map(xa).join(`
`):" "+xa(ue[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+be,"ERR_NOT_SUPPORT")}return H},adapters:qi};function Ii(E){if(E.cancelToken&&E.cancelToken.throwIfRequested(),E.signal&&E.signal.aborted)throw new bs(null,E)}function mc(E){return Ii(E),E.headers=ns.from(E.headers),E.data=ir.call(E,E.transformRequest),["post","put","patch"].indexOf(E.method)!==-1&&E.headers.setContentType("application/x-www-form-urlencoded",!1),hc.getAdapter(E.adapter||st.adapter)(E).then(function(D){return Ii(E),D.data=ir.call(E,E.transformResponse,D),D.headers=ns.from(D.headers),D},function(D){return or(D)||(Ii(E),D&&D.response&&(D.response.data=ir.call(E,E.transformResponse,D.response),D.response.headers=ns.from(D.response.headers))),Promise.reject(D)})}const Xa="1.8.2",Ds={};["object","boolean","number","function","string","symbol"].forEach((E,D)=>{Ds[E]=function(U){return typeof U===E||"a"+(D<1?"n ":" ")+E}});const $o={};Ds.transitional=function(E,D,U){function H(ie,ue){return"[Axios v"+Xa+"] Transitional option '"+ie+"'"+ue+(U?". "+U:"")}return(ie,ue,be)=>{if(E===!1)throw new Ne(H(ue," has been removed"+(D?" in "+D:"")),Ne.ERR_DEPRECATED);return D&&!$o[ue]&&($o[ue]=!0,console.warn(H(ue," has been deprecated since v"+D+" and will be removed in the near future"))),E?E(ie,ue,be):!0}},Ds.spelling=function(E){return(D,U)=>(console.warn(`${U} is likely a misspelling of ${E}`),!0)};function Yi(E,D,U){if(typeof E!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const H=Object.keys(E);let ie=H.length;for(;ie-- >0;){const ue=H[ie],be=D[ue];if(be){const Ue=E[ue],it=Ue===void 0||be(Ue,ue,E);if(it!==!0)throw new Ne("option "+ue+" must be "+it,Ne.ERR_BAD_OPTION_VALUE);continue}if(U!==!0)throw new Ne("Unknown option "+ue,Ne.ERR_BAD_OPTION)}}var Is={assertOptions:Yi,validators:Ds};const Ms=Is.validators;class ya{constructor(D){this.defaults=D,this.interceptors={request:new Xe,response:new Xe}}request(D,U){return ve(this,null,function*(){try{return yield this._request(D,U)}catch(H){if(H instanceof Error){let ie={};Error.captureStackTrace?Error.captureStackTrace(ie):ie=new Error;const ue=ie.stack?ie.stack.replace(/^.+\n/,""):"";try{H.stack?ue&&!String(H.stack).endsWith(ue.replace(/^.+\n.+\n/,""))&&(H.stack+=`
`+ue):H.stack=ue}catch(be){}}throw H}})}_request(D,U){typeof D=="string"?(U=U||{},U.url=D):U=D||{},U=qr(this.defaults,U);const{transitional:H,paramsSerializer:ie,headers:ue}=U;H!==void 0&&Is.assertOptions(H,{silentJSONParsing:Ms.transitional(Ms.boolean),forcedJSONParsing:Ms.transitional(Ms.boolean),clarifyTimeoutError:Ms.transitional(Ms.boolean)},!1),ie!=null&&(V.isFunction(ie)?U.paramsSerializer={serialize:ie}:Is.assertOptions(ie,{encode:Ms.function,serialize:Ms.function},!0)),U.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?U.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:U.allowAbsoluteUrls=!0),Is.assertOptions(U,{baseUrl:Ms.spelling("baseURL"),withXsrfToken:Ms.spelling("withXSRFToken")},!0),U.method=(U.method||this.defaults.method||"get").toLowerCase();let be=ue&&V.merge(ue.common,ue[U.method]);ue&&V.forEach(["delete","get","head","post","put","patch","common"],ct=>{delete ue[ct]}),U.headers=ns.concat(be,ue);const Ue=[];let it=!0;this.interceptors.request.forEach(function(ct){typeof ct.runWhen=="function"&&ct.runWhen(U)===!1||(it=it&&ct.synchronous,Ue.unshift(ct.fulfilled,ct.rejected))});const Be=[];this.interceptors.response.forEach(function(ct){Be.push(ct.fulfilled,ct.rejected)});let Ye,ht=0,rn;if(!it){const ct=[mc.bind(this),void 0];for(ct.unshift.apply(ct,Ue),ct.push.apply(ct,Be),rn=ct.length,Ye=Promise.resolve(U);ht<rn;)Ye=Ye.then(ct[ht++],ct[ht++]);return Ye}rn=Ue.length;let Nt=U;for(ht=0;ht<rn;){const ct=Ue[ht++],nt=Ue[ht++];try{Nt=ct(Nt)}catch(ss){nt.call(this,ss);break}}try{Ye=mc.call(this,Nt)}catch(ct){return Promise.reject(ct)}for(ht=0,rn=Be.length;ht<rn;)Ye=Ye.then(Be[ht++],Be[ht++]);return Ye}getUri(D){D=qr(this.defaults,D);const U=rd(D.baseURL,D.url,D.allowAbsoluteUrls);return Gn(U,D.params,D.paramsSerializer)}}V.forEach(["delete","get","head","options"],function(E){ya.prototype[E]=function(D,U){return this.request(qr(U||{},{method:E,url:D,data:(U||{}).data}))}}),V.forEach(["post","put","patch"],function(E){function D(U){return function(H,ie,ue){return this.request(qr(ue||{},{method:E,headers:U?{"Content-Type":"multipart/form-data"}:{},url:H,data:ie}))}}ya.prototype[E]=D(),ya.prototype[E+"Form"]=D(!0)});var Wi=ya;class Ga{constructor(D){if(typeof D!="function")throw new TypeError("executor must be a function.");let U;this.promise=new Promise(function(ie){U=ie});const H=this;this.promise.then(ie=>{if(!H._listeners)return;let ue=H._listeners.length;for(;ue-- >0;)H._listeners[ue](ie);H._listeners=null}),this.promise.then=ie=>{let ue;const be=new Promise(Ue=>{H.subscribe(Ue),ue=Ue}).then(ie);return be.cancel=function(){H.unsubscribe(ue)},be},D(function(ie,ue,be){H.reason||(H.reason=new bs(ie,ue,be),U(H.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(D){if(this.reason){D(this.reason);return}this._listeners?this._listeners.push(D):this._listeners=[D]}unsubscribe(D){if(!this._listeners)return;const U=this._listeners.indexOf(D);U!==-1&&this._listeners.splice(U,1)}toAbortSignal(){const D=new AbortController,U=H=>{D.abort(H)};return this.subscribe(U),D.signal.unsubscribe=()=>this.unsubscribe(U),D.signal}static source(){let D;return{token:new Ga(function(U){D=U}),cancel:D}}}var Vo=Ga;function ld(E){return function(D){return E.apply(null,D)}}function vs(E){return V.isObject(E)&&E.isAxiosError===!0}const kr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(kr).forEach(([E,D])=>{kr[D]=E});var qo=kr;function Ka(E){const D=new Wi(E),U=e(Wi.prototype.request,D);return V.extend(U,Wi.prototype,D,{allOwnKeys:!0}),V.extend(U,D,null,{allOwnKeys:!0}),U.create=function(H){return Ka(qr(E,H))},U}const Rn=Ka(st);return Rn.Axios=Wi,Rn.CanceledError=bs,Rn.CancelToken=Vo,Rn.isCancel=or,Rn.VERSION=Xa,Rn.toFormData=Zt,Rn.AxiosError=Ne,Rn.Cancel=Rn.CanceledError,Rn.all=function(E){return Promise.all(E)},Rn.spread=ld,Rn.isAxiosError=vs,Rn.mergeConfig=qr,Rn.AxiosHeaders=ns,Rn.formToJSON=E=>tt(V.isHTMLForm(E)?new FormData(E):E),Rn.getAdapter=hc.getAdapter,Rn.HttpStatusCode=qo,Rn.default=Rn,dg=Rn,dg}var o_;function fS(){if(o_)return Ra;o_=1;var e=Ra&&Ra.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,d=arguments.length;l<d;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)};Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.getRequestHeaders=Ra.getAxiosClient=void 0;var t=wC();function n(a,o,l,d,f){var h=t.default.create({baseURL:a,headers:s(o,d,l,a,f),withCredentials:!0});return h.interceptors.request.use(function(p){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(p.headers["X-Frappe-CSRF-Token"]=window.csrf_token),o&&d&&l&&(p.headers.Authorization="".concat(d," ").concat(l())),p}),h}Ra.getAxiosClient=n;function s(a,o,l,d,f){a===void 0&&(a=!1);var h={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return a&&o&&l&&(h.Authorization="".concat(o," ").concat(l())),typeof window<"u"&&typeof document<"u"&&(window.location&&(d&&d!==window.location.origin||(h["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(h["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},h),f!=null?f:{})}return Ra.getRequestHeaders=s,Ra}var l_;function hS(){if(l_)return Mr;l_=1;var e=Mr&&Mr.__assign||function(){return e=Object.assign||function(o){for(var l,d=1,f=arguments.length;d<f;d++){l=arguments[d];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(o[h]=l[h])}return o},e.apply(this,arguments)},t=Mr&&Mr.__awaiter||function(o,l,d,f){function h(p){return p instanceof d?p:new d(function(g){g(p)})}return new(d||(d=Promise))(function(p,g){function b(_){try{w(f.next(_))}catch(S){g(S)}}function y(_){try{w(f.throw(_))}catch(S){g(S)}}function w(_){_.done?p(_.value):h(_.value).then(b,y)}w((f=f.apply(o,l||[])).next())})},n=Mr&&Mr.__generator||function(o,l){var d={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},f,h,p,g;return g={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function b(w){return function(_){return y([w,_])}}function y(w){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,w[0]&&(d=0)),d;)try{if(f=1,h&&(p=w[0]&2?h.return:w[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,w[1])).done)return p;switch(h=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return d.label++,{value:w[1],done:!1};case 5:d.label++,h=w[1],w=[0];continue;case 7:w=d.ops.pop(),d.trys.pop();continue;default:if(p=d.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){d=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){d.label=w[1];break}if(w[0]===6&&d.label<p[1]){d.label=p[1],p=w;break}if(p&&d.label<p[2]){d.label=p[2],d.ops.push(w);break}p[2]&&d.ops.pop(),d.trys.pop();continue}w=l.call(o,d)}catch(_){w=[6,_],h=0}finally{f=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}};Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.FrappeFileUpload=void 0;var s=fS(),a=function(){function o(l,d,f,h,p,g){this.appURL=l,this.axios=d,this.useToken=f!=null?f:!1,this.token=h,this.tokenType=p,this.customHeaders=g}return o.prototype.uploadFile=function(l,d,f,h){return h===void 0&&(h="upload_file"),t(this,void 0,void 0,function(){var p,g,b,y,w,_,S,j;return n(this,function(R){return p=new FormData,l&&p.append("file",l,l.name),g=d.isPrivate,b=d.folder,y=d.file_url,w=d.doctype,_=d.docname,S=d.fieldname,j=d.otherData,g&&p.append("is_private","1"),b&&p.append("folder",b),y&&p.append("file_url",y),w&&_&&(p.append("doctype",w),p.append("docname",_),S&&p.append("fieldname",S)),j&&Object.keys(j).forEach(function(O){var C=j[O];p.append(O,C)}),[2,this.axios.post("/api/method/".concat(h),p,{onUploadProgress:function(O){f&&f(O.loaded,O.total,O)},headers:e(e({},(0,s.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(O){var C,A;throw e(e({},O.response.data),{httpStatus:O.response.status,httpStatusText:O.response.statusText,message:(C=O.response.data.message)!==null&&C!==void 0?C:"There was an error while uploading the file.",exception:(A=O.response.data.exception)!==null&&A!==void 0?A:""})})]})})},o}();return Mr.FrappeFileUpload=a,Mr}var c_;function _C(){if(c_)return au;c_=1,Object.defineProperty(au,"__esModule",{value:!0}),au.FrappeApp=void 0;var e=mS(),t=uS(),n=dS(),s=hS(),a=fS(),o=function(){function l(d,f,h,p){var g,b;this.url=d,this.name=h!=null?h:"FrappeApp",this.useToken=(g=f==null?void 0:f.useToken)!==null&&g!==void 0?g:!1,this.token=f==null?void 0:f.token,this.tokenType=(b=f==null?void 0:f.type)!==null&&b!==void 0?b:"Bearer",this.customHeaders=p,this.axios=(0,a.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return l.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},l.prototype.db=function(){return new n.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},l.prototype.file=function(){return new s.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},l.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},l}();return au.FrappeApp=o,au}var Pr={},u_;function jC(){if(u_)return Pr;u_=1;var e=Pr&&Pr.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,d=arguments.length;l<d;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=Pr&&Pr.__awaiter||function(a,o,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function g(w){try{y(d.next(w))}catch(_){p(_)}}function b(w){try{y(d.throw(w))}catch(_){p(_)}}function y(w){w.done?h(w.value):f(w.value).then(g,b)}y((d=d.apply(a,o||[])).next())})},n=Pr&&Pr.__generator||function(a,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(w){return b([y,w])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(l=0)),l;)try{if(d=1,f&&(h=y[0]&2?f.return:y[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,y[1])).done)return h;switch(f=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,f=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){l.label=y[1];break}if(y[0]===6&&l.label<h[1]){l.label=h[1],h=y;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(y);break}h[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(a,l)}catch(w){y=[6,w],f=0}finally{d=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.FrappeAuth=void 0;var s=function(){function a(o,l,d,f,h){this.appURL=o,this.axios=l,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.loginWithUsernamePassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/api/method/login",{usr:o.username,pwd:o.password,otp:o.otp,tmp_id:o.tmp_id,device:o.device}).then(function(d){return d.data}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(f=d.response.data.message)!==null&&f!==void 0?f:"There was an error while logging in",exception:(h=d.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(l){return l.data.message}).catch(function(l){var d;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:"There was an error while fetching the logged in user",exception:(d=l.response.data.exception)!==null&&d!==void 0?d:""})})]})})},a.prototype.logout=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(l){var d,f;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:(d=l.response.data.message)!==null&&d!==void 0?d:"There was an error while logging out",exception:(f=l.response.data.exception)!==null&&f!==void 0?f:""})})]})})},a.prototype.forgetPassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:o}).then(function(){}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(f=d.response.data.message)!==null&&f!==void 0?f:"There was an error sending password reset email.",exception:(h=d.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a}();return Pr.FrappeAuth=s,Pr}var d_;function mS(){return d_||(d_=1,function(e){var t=jl&&jl.__createBinding||(Object.create?function(s,a,o,l){l===void 0&&(l=o);var d=Object.getOwnPropertyDescriptor(a,o);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(s,l,d)}:function(s,a,o,l){l===void 0&&(l=o),s[l]=a[o]}),n=jl&&jl.__exportStar||function(s,a){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,s,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(_C(),e),n(jC(),e),n(dS(),e),n(hS(),e),n(uS(),e)}(jl)),jl}var SC=mS(),f_={exports:{}},fg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function NC(){if(h_)return fg;h_=1;var e=ee;function t(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function d(g,b){var y=b(),w=s({inst:{value:y,getSnapshot:b}}),_=w[0].inst,S=w[1];return o(function(){_.value=y,_.getSnapshot=b,f(_)&&S({inst:_})},[g,y,b]),a(function(){return f(_)&&S({inst:_}),g(function(){f(_)&&S({inst:_})})},[g]),l(y),y}function f(g){var b=g.getSnapshot;g=g.value;try{var y=b();return!n(g,y)}catch(w){return!0}}function h(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return fg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,fg}var m_;function EC(){return m_||(m_=1,f_.exports=NC()),f_.exports}var TC=EC();const pS=0,gS=1,xS=2,p_=3;var g_=Object.prototype.hasOwnProperty;function i0(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&i0(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(g_.call(e,n)&&++s&&!g_.call(t,n)||!(n in t)||!i0(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const Fa=new WeakMap,Si=()=>{},Ss=Si(),ph=Object,Yt=e=>e===Ss,zr=e=>typeof e=="function",$a=(e,t)=>L(L({},e),t),yS=e=>zr(e.then),hg={},ff={},rx="undefined",Yu=typeof window!=rx,o0=typeof document!=rx,kC=Yu&&"Deno"in window,CC=()=>Yu&&typeof window.requestAnimationFrame!=rx,bS=(e,t)=>{const n=Fa.get(e);return[()=>!Yt(t)&&e.get(t)||hg,s=>{if(!Yt(t)){const a=e.get(t);t in ff||(ff[t]=a),n[5](t,$a(a,s),a||hg)}},n[6],()=>!Yt(t)&&t in ff?ff[t]:!Yt(t)&&e.get(t)||hg]};let l0=!0;const AC=()=>l0,[c0,u0]=Yu&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Si,Si],OC=()=>{const e=o0&&document.visibilityState;return Yt(e)||e!=="hidden"},RC=e=>(o0&&document.addEventListener("visibilitychange",e),c0("focus",e),()=>{o0&&document.removeEventListener("visibilitychange",e),u0("focus",e)}),DC=e=>{const t=()=>{l0=!0,e()},n=()=>{l0=!1};return c0("online",t),c0("offline",n),()=>{u0("online",t),u0("offline",n)}},MC={isOnline:AC,isVisible:OC},PC={initFocus:RC,initReconnect:DC},x_=!ee.useId,Mu=!Yu||kC,LC=e=>CC()?window.requestAnimationFrame(e):setTimeout(e,1),Kf=Mu?N.useEffect:N.useLayoutEffect,mg=typeof navigator<"u"&&navigator.connection,y_=!Mu&&mg&&(["slow-2g","2g"].includes(mg.effectiveType)||mg.saveData),hf=new WeakMap,pg=(e,t)=>ph.prototype.toString.call(e)===`[object ${t}]`;let zC=0;const d0=e=>{const t=typeof e,n=pg(e,"Date"),s=pg(e,"RegExp"),a=pg(e,"Object");let o,l;if(ph(e)===e&&!n&&!s){if(o=hf.get(e),o)return o;if(o=++zC+"~",hf.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=d0(e[l])+",";hf.set(e,o)}if(a){o="#";const d=ph.keys(e).sort();for(;!Yt(l=d.pop());)Yt(e[l])||(o+=l+":"+d0(e[l])+",");hf.set(e,o)}}else o=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},ax=e=>{if(zr(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?d0(e):"",[e,t]};let UC=0;const f0=()=>++UC;function vS(...e){return ve(this,null,function*(){const[t,n,s,a]=e,o=$a({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let l=o.populateCache;const d=o.rollbackOnError;let f=o.optimisticData;const h=b=>typeof d=="function"?d(b):d!==!1,p=o.throwOnError;if(zr(n)){const b=n,y=[],w=t.keys();for(const _ of w)!/^\$(inf|sub)\$/.test(_)&&b(t.get(_)._k)&&y.push(_);return Promise.all(y.map(g))}return g(n);function g(b){return ve(this,null,function*(){const[y]=ax(b);if(!y)return;const[w,_]=bS(t,y),[S,j,R,O]=Fa.get(t),C=()=>{const le=S[y];return(zr(o.revalidate)?o.revalidate(w().data,b):o.revalidate!==!1)&&(delete R[y],delete O[y],le&&le[0])?le[0](xS).then(()=>w().data):w().data};if(e.length<3)return C();let A=s,k;const B=f0();j[y]=[B,0];const z=!Yt(f),q=w(),ne=q.data,I=q._c,te=Yt(I)?ne:I;if(z&&(f=zr(f)?f(te,ne):f,_({data:f,_c:te})),zr(A))try{A=A(te)}catch(le){k=le}if(A&&yS(A))if(A=yield A.catch(le=>{k=le}),B!==j[y][0]){if(k)throw k;return A}else k&&z&&h(k)&&(l=!0,_({data:te,_c:Ss}));if(l&&!k)if(zr(l)){const le=l(A,te);_({data:le,error:Ss,_c:Ss})}else _({data:A,error:Ss,_c:Ss});if(j[y][1]=f0(),Promise.resolve(C()).then(()=>{_({_c:Ss})}),k){if(p)throw k;return}return A})}})}const b_=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},wS=(e,t)=>{if(!Fa.has(e)){const n=$a(PC,t),s=Object.create(null),a=vS.bind(Ss,e);let o=Si;const l=Object.create(null),d=(p,g)=>{const b=l[p]||[];return l[p]=b,b.push(g),()=>b.splice(b.indexOf(g),1)},f=(p,g,b)=>{e.set(p,g);const y=l[p];if(y)for(const w of y)w(g,b)},h=()=>{if(!Fa.has(e)&&(Fa.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,f,d]),!Mu)){const p=n.initFocus(setTimeout.bind(Ss,b_.bind(Ss,s,pS))),g=n.initReconnect(setTimeout.bind(Ss,b_.bind(Ss,s,gS)));o=()=>{p&&p(),g&&g(),Fa.delete(e)}}};return h(),[e,a,h,o]}return[e,Fa.get(e)[4]]},BC=(e,t,n,s,a)=>{const o=n.errorRetryCount,l=a.retryCount,d=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;!Yt(o)&&l>o||setTimeout(s,d,a)},FC=i0,[ix,HC]=wS(new Map),_S=$a({onLoadingSlow:Si,onSuccess:Si,onError:Si,onErrorRetry:BC,onDiscarded:Si,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:y_?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:y_?5e3:3e3,compare:FC,isPaused:()=>!1,cache:ix,mutate:HC,fallback:{}},MC),jS=(e,t)=>{const n=$a(e,t);if(t){const{use:s,fallback:a}=e,{use:o,fallback:l}=t;s&&o&&(n.use=s.concat(o)),a&&l&&(n.fallback=$a(a,l))}return n},h0=N.createContext({}),$C=e=>{const{value:t}=e,n=N.useContext(h0),s=zr(t),a=N.useMemo(()=>s?t(n):t,[s,n,t]),o=N.useMemo(()=>s?a:jS(n,a),[s,n,a]),l=a&&a.provider,d=N.useRef(Ss);l&&!d.current&&(d.current=wS(l(o.cache||ix),a));const f=d.current;return f&&(o.cache=f[0],o.mutate=f[1]),Kf(()=>{if(f)return f[2]&&f[2](),f[3]},[]),N.createElement(h0.Provider,$a(e,{value:o}))},VC="$inf$",SS=Yu&&window.__SWR_DEVTOOLS_USE__,qC=SS?window.__SWR_DEVTOOLS_USE__:[],IC=()=>{SS&&(window.__SWR_DEVTOOLS_REACT__=ee)},YC=e=>zr(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],WC=()=>$a(_S,N.useContext(h0)),XC=e=>(t,n,s)=>e(t,n&&((...a)=>{const[o]=ax(t),[,,,l]=Fa.get(ix);if(o.startsWith(VC))return n(...a);const d=l[o];return Yt(d)?n(...a):(delete l[o],d)}),s),GC=qC.concat(XC),KC=e=>function(...t){const n=WC(),[s,a,o]=YC(t),l=jS(n,o);let d=e;const{use:f}=l,h=(f||[]).concat(GC);for(let p=h.length;p--;)d=h[p](d);return d(s,a||l.fetcher||null,l)},QC=(e,t,n)=>{const s=t[e]||(t[e]=[]);return s.push(n),()=>{const a=s.indexOf(n);a>=0&&(s[a]=s[s.length-1],s.pop())}};IC();const gg=ee.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),xg={dedupe:!0},ZC=(e,t,n)=>{const{cache:s,compare:a,suspense:o,fallbackData:l,revalidateOnMount:d,revalidateIfStale:f,refreshInterval:h,refreshWhenHidden:p,refreshWhenOffline:g,keepPreviousData:b}=n,[y,w,_,S]=Fa.get(s),[j,R]=ax(e),O=N.useRef(!1),C=N.useRef(!1),A=N.useRef(j),k=N.useRef(t),B=N.useRef(n),z=()=>B.current,q=()=>z().isVisible()&&z().isOnline(),[ne,I,te,le]=bS(s,j),pe=N.useRef({}).current,Q=Yt(l)?Yt(n.fallback)?Ss:n.fallback[j]:l,$=(We,ft)=>{for(const ze in pe){const _t=ze;if(_t==="data"){if(!a(We[_t],ft[_t])&&(!Yt(We[_t])||!a(ye,ft[_t])))return!1}else if(ft[_t]!==We[_t])return!1}return!0},J=N.useMemo(()=>{const We=!j||!t?!1:Yt(d)?z().isPaused()||o?!1:f!==!1:d,ft=Tt=>{const Y=$a(Tt);return delete Y._k,We?L({isValidating:!0,isLoading:!0},Y):Y},ze=ne(),_t=le(),Ft=ft(ze),bt=ze===_t?Ft:ft(_t);let ot=Ft;return[()=>{const Tt=ft(ne());return $(Tt,ot)?(ot.data=Tt.data,ot.isLoading=Tt.isLoading,ot.isValidating=Tt.isValidating,ot.error=Tt.error,ot):(ot=Tt,Tt)},()=>bt]},[s,j]),K=TC.useSyncExternalStore(N.useCallback(We=>te(j,(ft,ze)=>{$(ze,ft)||We()}),[s,j]),J[0],J[1]),he=!O.current,M=y[j]&&y[j].length>0,ae=K.data,G=Yt(ae)?Q&&yS(Q)?gg(Q):Q:ae,F=K.error,Z=N.useRef(G),ye=b?Yt(ae)?Yt(Z.current)?G:Z.current:ae:G,de=M&&!Yt(F)?!1:he&&!Yt(d)?d:z().isPaused()?!1:o?Yt(G)?!1:f:Yt(G)||f,Oe=!!(j&&t&&he&&de),Ae=Yt(K.isValidating)?Oe:K.isValidating,He=Yt(K.isLoading)?Oe:K.isLoading,Pe=N.useCallback(We=>ve(null,null,function*(){const ft=k.current;if(!j||!ft||C.current||z().isPaused())return!1;let ze,_t,Ft=!0;const bt=We||{},ot=!_[j]||!bt.dedupe,Tt=()=>x_?!C.current&&j===A.current&&O.current:j===A.current,Y={isValidating:!1,isLoading:!1},ce=()=>{I(Y)},V=()=>{const Me=_[j];Me&&Me[1]===_t&&delete _[j]},Ne={isValidating:!0};Yt(ne().data)&&(Ne.isLoading=!0);try{if(ot&&(I(Ne),n.loadingTimeout&&Yt(ne().data)&&setTimeout(()=>{Ft&&Tt()&&z().onLoadingSlow(j,n)},n.loadingTimeout),_[j]=[ft(R),f0()]),[ze,_t]=_[j],ze=yield ze,ot&&setTimeout(V,n.dedupingInterval),!_[j]||_[j][1]!==_t)return ot&&Tt()&&z().onDiscarded(j),!1;Y.error=Ss;const Me=w[j];if(!Yt(Me)&&(_t<=Me[0]||_t<=Me[1]||Me[1]===0))return ce(),ot&&Tt()&&z().onDiscarded(j),!1;const Ee=ne().data;Y.data=a(Ee,ze)?Ee:ze,ot&&Tt()&&z().onSuccess(ze,j,n)}catch(Me){V();const Ee=z(),{shouldRetryOnError:we}=Ee;Ee.isPaused()||(Y.error=Me,ot&&Tt()&&(Ee.onError(Me,j,Ee),(we===!0||zr(we)&&we(Me))&&(!z().revalidateOnFocus||!z().revalidateOnReconnect||q())&&Ee.onErrorRetry(Me,j,Ee,Te=>{const $e=y[j];$e&&$e[0]&&$e[0](p_,Te)},{retryCount:(bt.retryCount||0)+1,dedupe:!0})))}return Ft=!1,ce(),!0}),[j,s]),et=N.useCallback((...We)=>vS(s,A.current,...We),[]);if(Kf(()=>{k.current=t,B.current=n,Yt(ae)||(Z.current=ae)}),Kf(()=>{if(!j)return;const We=Pe.bind(Ss,xg);let ft=0;z().revalidateOnFocus&&(ft=Date.now()+z().focusThrottleInterval);const ze=QC(j,y,(_t,Ft={})=>{if(_t==pS){const bt=Date.now();z().revalidateOnFocus&&bt>ft&&q()&&(ft=bt+z().focusThrottleInterval,We())}else if(_t==gS)z().revalidateOnReconnect&&q()&&We();else{if(_t==xS)return Pe();if(_t==p_)return Pe(Ft)}});return C.current=!1,A.current=j,O.current=!0,I({_k:R}),de&&(Yt(G)||Mu?We():LC(We)),()=>{C.current=!0,ze()}},[j]),Kf(()=>{let We;function ft(){const _t=zr(h)?h(ne().data):h;_t&&We!==-1&&(We=setTimeout(ze,_t))}function ze(){!ne().error&&(p||z().isVisible())&&(g||z().isOnline())?Pe(xg).then(ft):ft()}return ft(),()=>{We&&(clearTimeout(We),We=-1)}},[h,p,g,j]),N.useDebugValue(ye),o&&Yt(G)&&j){if(!x_&&Mu)throw new Error("Fallback data is required when using Suspense in SSR.");k.current=t,B.current=n,C.current=!1;const We=S[j];if(!Yt(We)){const ft=et(We);gg(ft)}if(Yt(F)){const ft=Pe(xg);Yt(ye)||(ft.status="fulfilled",ft.value=!0),gg(ft)}else throw F}return{mutate:et,get data(){return pe.data=!0,ye},get error(){return pe.error=!0,F},get isValidating(){return pe.isValidating=!0,Ae},get isLoading(){return pe.isLoading=!0,He}}},JC=ph.defineProperty($C,"defaultValue",{value:_S}),Hh=KC(ZC);Promise.resolve();const ca=Object.create(null);ca.open="0";ca.close="1";ca.ping="2";ca.pong="3";ca.message="4";ca.upgrade="5";ca.noop="6";const Qf=Object.create(null);Object.keys(ca).forEach(e=>{Qf[ca[e]]=e});const m0={type:"error",data:"parser error"},NS=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",ES=typeof ArrayBuffer=="function",TS=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,ox=({type:e,data:t},n,s)=>NS&&t instanceof Blob?n?s(t):v_(t,s):ES&&(t instanceof ArrayBuffer||TS(t))?n?s(t):v_(new Blob([t]),s):s(ca[e]+(t||"")),v_=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function w_(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let yg;function eA(e,t){if(NS&&e.data instanceof Blob)return e.data.arrayBuffer().then(w_).then(t);if(ES&&(e.data instanceof ArrayBuffer||TS(e.data)))return t(w_(e.data));ox(e,!1,n=>{yg||(yg=new TextEncoder),t(yg.encode(n))})}const __="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<__.length;e++)wu[__.charCodeAt(e)]=e;const tA=e=>{let t=e.length*.75,n=e.length,s,a=0,o,l,d,f;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),p=new Uint8Array(h);for(s=0;s<n;s+=4)o=wu[e.charCodeAt(s)],l=wu[e.charCodeAt(s+1)],d=wu[e.charCodeAt(s+2)],f=wu[e.charCodeAt(s+3)],p[a++]=o<<2|l>>4,p[a++]=(l&15)<<4|d>>2,p[a++]=(d&3)<<6|f&63;return h},nA=typeof ArrayBuffer=="function",lx=(e,t)=>{if(typeof e!="string")return{type:"message",data:kS(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:sA(e.substring(1),t)}:Qf[n]?e.length>1?{type:Qf[n],data:e.substring(1)}:{type:Qf[n]}:m0},sA=(e,t)=>{if(nA){const n=tA(e);return kS(n,t)}else return{base64:!0,data:e}},kS=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},CS="",rA=(e,t)=>{const n=e.length,s=new Array(n);let a=0;e.forEach((o,l)=>{ox(o,!1,d=>{s[l]=d,++a===n&&t(s.join(CS))})})},aA=(e,t)=>{const n=e.split(CS),s=[];for(let a=0;a<n.length;a++){const o=lx(n[a],t);if(s.push(o),o.type==="error")break}return s};function iA(){return new TransformStream({transform(e,t){eA(e,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const o=new DataView(a.buffer);o.setUint8(0,126),o.setUint16(1,s)}else{a=new Uint8Array(9);const o=new DataView(a.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let bg;function mf(e){return e.reduce((t,n)=>t+n.length,0)}function pf(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let a=0;a<t;a++)n[a]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function oA(e,t){bg||(bg=new TextDecoder);const n=[];let s=0,a=-1,o=!1;return new TransformStream({transform(l,d){for(n.push(l);;){if(s===0){if(mf(n)<1)break;const f=pf(n,1);o=(f[0]&128)===128,a=f[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(mf(n)<2)break;const f=pf(n,2);a=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),s=3}else if(s===2){if(mf(n)<8)break;const f=pf(n,8),h=new DataView(f.buffer,f.byteOffset,f.length),p=h.getUint32(0);if(p>Math.pow(2,21)-1){d.enqueue(m0);break}a=p*Math.pow(2,32)+h.getUint32(4),s=3}else{if(mf(n)<a)break;const f=pf(n,a);d.enqueue(lx(o?f:bg.decode(f),t)),s=0}if(a===0||a>e){d.enqueue(m0);break}}}})}const AS=4;function In(e){if(e)return lA(e)}function lA(e){for(var t in In.prototype)e[t]=In.prototype[t];return e}In.prototype.on=In.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};In.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};In.prototype.off=In.prototype.removeListener=In.prototype.removeAllListeners=In.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===t||s.fn===t){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+e],this};In.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,t)}return this};In.prototype.emitReserved=In.prototype.emit;In.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};In.prototype.hasListeners=function(e){return!!this.listeners(e).length};const vr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function OS(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const cA=vr.setTimeout,uA=vr.clearTimeout;function $h(e,t){t.useNativeTimers?(e.setTimeoutFn=cA.bind(vr),e.clearTimeoutFn=uA.bind(vr)):(e.setTimeoutFn=vr.setTimeout.bind(vr),e.clearTimeoutFn=vr.clearTimeout.bind(vr))}const dA=1.33;function fA(e){return typeof e=="string"?hA(e):Math.ceil((e.byteLength||e.size)*dA)}function hA(e){let t=0,n=0;for(let s=0,a=e.length;s<a;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function mA(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function pA(e){let t={},n=e.split("&");for(let s=0,a=n.length;s<a;s++){let o=n[s].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class gA extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class cx extends In{constructor(t){super(),this.writable=!1,$h(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,s){return super.emitReserved("error",new gA(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=lx(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=mA(t);return n.length?"?"+n:""}}const RS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),p0=64,xA={};let j_=0,gf=0,S_;function N_(e){let t="";do t=RS[e%p0]+t,e=Math.floor(e/p0);while(e>0);return t}function DS(){const e=N_(+new Date);return e!==S_?(j_=0,S_=e):e+"."+N_(j_++)}for(;gf<p0;gf++)xA[RS[gf]]=gf;let MS=!1;try{MS=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const yA=MS;function PS(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||yA))return new XMLHttpRequest}catch(n){}if(!t)try{return new vr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(n){}}function bA(){}const vA=function(){return new PS({xdomain:!1}).responseType!=null}();class wA extends cx{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}const n=t&&t.forceBase64;this.supportsBinary=vA&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};aA(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,rA(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=DS()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new zl(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(a,o)=>{this.onError("xhr post error",a,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}let zl=class Zf extends In{constructor(t,n){super(),$h(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=OS(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const s=this.xhr=new PS(n);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this.opts.extraHeaders[a])}}catch(a){}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{s.setRequestHeader("Accept","*/*")}catch(a){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this.opts.cookieJar)===null||a===void 0||a.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(a){this.setTimeoutFn(()=>{this.onError(a)},0);return}typeof document<"u"&&(this.index=Zf.requestsCount++,Zf.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=bA,t)try{this.xhr.abort()}catch(n){}typeof document<"u"&&delete Zf.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};zl.requestsCount=0;zl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",E_);else if(typeof addEventListener=="function"){const e="onpagehide"in vr?"pagehide":"unload";addEventListener(e,E_,!1)}}function E_(){for(let e in zl.requests)zl.requests.hasOwnProperty(e)&&zl.requests[e].abort()}const ux=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),xf=vr.WebSocket||vr.MozWebSocket,T_=!0,_A="arraybuffer",k_=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class jA extends cx{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=k_?{}:OS(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=T_&&!k_?n?new xf(t,n):new xf(t):new xf(t,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;ox(s,this.supportsBinary,o=>{try{T_&&this.ws.send(o)}catch(l){}a&&ux(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=DS()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!xf}}class SA extends cx{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=oA(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),a=iA();a.readable.pipeTo(t.writable),this.writer=a.writable.getWriter();const o=()=>{s.read().then(({done:d,value:f})=>{d||(this.onPacket(f),o())}).catch(d=>{})};o();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this.writer.write(l).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;this.writer.write(s).then(()=>{a&&ux(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const NA={websocket:jA,webtransport:SA,polling:wA},EA=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,TA=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function g0(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let a=EA.exec(e||""),o={},l=14;for(;l--;)o[TA[l]]=a[l]||"";return n!=-1&&s!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=kA(o,o.path),o.queryKey=CA(o,o.query),o}function kA(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function CA(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,o){a&&(n[a]=o)}),n}let LS=class Rl extends In{constructor(t,n={}){super(),this.binaryType=_A,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=g0(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=g0(n.host).host),$h(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=pA(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=AS,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new NA[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Rl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(n){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),s=!1;Rl.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!s)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Rl.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=n.name,this.emitReserved("upgradeError",b)}}))};function o(){s||(s=!0,p(),n.close(),n=null)}const l=g=>{const b=new Error("probe error: "+g);b.transport=n.name,o(),this.emitReserved("upgradeError",b)};function d(){l("transport closed")}function f(){l("socket closed")}function h(g){n&&g.name!==n.name&&o()}const p=()=>{n.removeListener("open",a),n.removeListener("error",l),n.removeListener("close",d),this.off("close",f),this.off("upgrading",h)};n.once("open",a),n.once("error",l),n.once("close",d),this.once("close",f),this.once("upgrading",h),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Rl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(t+=fA(s)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const o={type:t,data:n,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){Rl.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const a=t.length;for(;s<a;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}};LS.protocol=AS;function AA(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=g0(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const a=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+t,s.href=s.protocol+"://"+a+(n&&n.port===s.port?"":":"+s.port),s}const OA=typeof ArrayBuffer=="function",RA=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,zS=Object.prototype.toString,DA=typeof Blob=="function"||typeof Blob<"u"&&zS.call(Blob)==="[object BlobConstructor]",MA=typeof File=="function"||typeof File<"u"&&zS.call(File)==="[object FileConstructor]";function dx(e){return OA&&(e instanceof ArrayBuffer||RA(e))||DA&&e instanceof Blob||MA&&e instanceof File}function Jf(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(Jf(e[n]))return!0;return!1}if(dx(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Jf(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Jf(e[n]))return!0;return!1}function PA(e){const t=[],n=e.data,s=e;return s.data=x0(n,t),s.attachments=t.length,{packet:s,buffers:t}}function x0(e,t){if(!e)return e;if(dx(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=x0(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=x0(e[s],t));return n}return e}function LA(e,t){return e.data=y0(e.data,t),delete e.attachments,e}function y0(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=y0(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=y0(e[n],t));return e}const zA=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],UA=5;var $t;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})($t||($t={}));class BA{constructor(t){this.replacer=t}encode(t){return(t.type===$t.EVENT||t.type===$t.ACK)&&Jf(t)?this.encodeAsBinary({type:t.type===$t.EVENT?$t.BINARY_EVENT:$t.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===$t.BINARY_EVENT||t.type===$t.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=PA(t),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}function C_(e){return Object.prototype.toString.call(e)==="[object Object]"}class fx extends In{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===$t.BINARY_EVENT;s||n.type===$t.BINARY_ACK?(n.type=s?$t.EVENT:$t.ACK,this.reconstructor=new FA(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(dx(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if($t[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===$t.BINARY_EVENT||s.type===$t.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const l=t.substring(o,n);if(l!=Number(l)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(l)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(o,n)}else s.nsp="/";const a=t.charAt(n+1);if(a!==""&&Number(a)==a){const o=n+1;for(;++n;){const l=t.charAt(n);if(l==null||Number(l)!=l){--n;break}if(n===t.length)break}s.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(fx.isPayloadValid(s.type,o))s.data=o;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(n){return!1}}static isPayloadValid(t,n){switch(t){case $t.CONNECT:return C_(n);case $t.DISCONNECT:return n===void 0;case $t.CONNECT_ERROR:return typeof n=="string"||C_(n);case $t.EVENT:case $t.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&zA.indexOf(n[0])===-1);case $t.ACK:case $t.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class FA{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=LA(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const HA=Object.freeze(Object.defineProperty({__proto__:null,Decoder:fx,Encoder:BA,get PacketType(){return $t},protocol:UA},Symbol.toStringTag,{value:"Module"}));function Lr(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const $A=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class US extends In{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Lr(t,"open",this.onopen.bind(this)),Lr(t,"packet",this.onpacket.bind(this)),Lr(t,"error",this.onerror.bind(this)),Lr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if($A.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:$t.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,l=n.pop();this._registerAckCallback(o,l),s.id=o}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},a);this.acks[t]=(...l)=>{this.io.clearTimeoutFn(o),n.apply(this,[null,...l])}}emitWithAck(t,...n){const s=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((a,o)=>{n.push((l,d)=>s?l?o(l):a(d):a(l)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...o)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...o)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:$t.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case $t.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case $t.EVENT:case $t.BINARY_EVENT:this.onevent(t);break;case $t.ACK:case $t.BINARY_ACK:this.onack(t);break;case $t.DISCONNECT:this.ondisconnect();break;case $t.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:$t.ACK,id:t,data:a}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:$t.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function Kl(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Kl.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};Kl.prototype.reset=function(){this.attempts=0};Kl.prototype.setMin=function(e){this.ms=e};Kl.prototype.setMax=function(e){this.max=e};Kl.prototype.setJitter=function(e){this.jitter=e};class b0 extends In{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,$h(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Kl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const a=n.parser||HA;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new LS(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=Lr(n,"open",function(){s.onopen(),t&&t()}),o=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),t?t(d):this.maybeReconnectOnOpen()},l=Lr(n,"error",o);if(this._timeout!==!1){const d=this._timeout,f=this.setTimeoutFn(()=>{a(),o(new Error("timeout")),n.close()},d);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(a),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Lr(t,"ping",this.onping.bind(this)),Lr(t,"data",this.ondata.bind(this)),Lr(t,"error",this.onerror.bind(this)),Lr(t,"close",this.onclose.bind(this)),Lr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){ux(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new US(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const iu={};function eh(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=AA(e,t.path||"/socket.io"),s=n.source,a=n.id,o=n.path,l=iu[a]&&o in iu[a].nsps,d=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let f;return d?f=new b0(s,t):(iu[a]||(iu[a]=new b0(s,t)),f=iu[a]),n.query&&!t.query&&(t.query=n.queryKey),f.socket(n.path,t)}Object.assign(eh,{Manager:b0,Socket:US,io:eh,connect:eh});class VA{constructor(t,n,s,a){fo(this,"socket_port"),fo(this,"host"),fo(this,"port"),fo(this,"protocol"),fo(this,"url"),fo(this,"site_name"),fo(this,"socket");var o,l,d,f;if(this.socket_port=s!=null?s:"9000",this.host=(o=window.location)==null?void 0:o.hostname,this.port=(l=window.location)!=null&&l.port?`:${this.socket_port}`:"",this.protocol=((d=window.location)==null?void 0:d.protocol)==="https:"?"https":"http",t){let h=new URL(t);h.port="",s?(h.port=s,this.url=h.toString()):this.url=h.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;n&&(this.url=`${this.url}${n}`),this.site_name=n,this.socket=eh(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:a&&a.useToken===!0?{Authorization:`${a.type} ${(f=a.token)==null?void 0:f.call(a)}`}:{}})}}const Ia=N.createContext(null),qA=({url:e="",tokenParams:t,socketPort:n,swrConfig:s,siteName:a,enableSocket:o=!0,children:l,customHeaders:d})=>{const f=N.useMemo(()=>{const h=new SC.FrappeApp(e,t,void 0,d);return{url:e,tokenParams:t,app:h,auth:h.auth(),db:h.db(),call:h.call(),file:h.file(),socket:o?new VA(e,a,n,t).socket:void 0,enableSocket:o,socketPort:n}},[e,t,n,o,d]);return c.jsx(Ia.Provider,{value:f,children:c.jsx(JC,{value:s,children:l})})},ua=e=>{const{url:t,auth:n,tokenParams:s}=N.useContext(Ia),[a,o]=N.useState(),l=N.useCallback(()=>{const w=document.cookie.split(";").find(_=>_.trim().startsWith("user_id="));if(w){const _=w.split("=")[1];o(_&&_!=="Guest"?_:null)}else o(null)},[]);N.useEffect(()=>{s&&s.useToken?o(null):l()},[]);const{data:d,error:f,isLoading:h,isValidating:p,mutate:g}=Hh(()=>s&&s.useToken||a?`${t}/api/method/frappe.auth.get_logged_user`:null,()=>n.getLoggedInUser(),L({onError:()=>{o(null)},shouldRetryOnError:!1,revalidateOnFocus:!1},e)),b=N.useCallback(w=>ve(null,null,function*(){return n.loginWithUsernamePassword(w).then(_=>(l(),_))}),[]),y=N.useCallback(()=>ve(null,null,function*(){return n.logout().then(()=>g(null)).then(()=>o(null))}),[]);return{isLoading:a===void 0||h,currentUser:d,isValidating:p,error:f,login:b,logout:y,updateCurrentUser:g,getUserCookie:l}},BS=(e,t,n)=>{let s=`${t}/api/resource/`;return n?s+=`${e}/${n}`:s+=`${e}`,s},Tn=(e,t,n,s)=>{const{url:a,db:o}=N.useContext(Ia);return Hh(n===void 0?BS(e,a,t):n,()=>o.getDoc(e,t),s)},IA=e=>{var a;var t,n;let s="";if(e!=null&&e.fields&&(s+="fields="+JSON.stringify(e==null?void 0:e.fields)+"&"),e!=null&&e.filters&&(s+="filters="+JSON.stringify(e==null?void 0:e.filters)+"&"),e!=null&&e.orFilters&&(s+="or_filters="+JSON.stringify(e==null?void 0:e.orFilters)+"&"),e!=null&&e.limit_start&&(s+="limit_start="+JSON.stringify(e==null?void 0:e.limit_start)+"&"),e!=null&&e.limit&&(s+="limit="+JSON.stringify(e==null?void 0:e.limit)+"&"),e!=null&&e.groupBy&&(s+="group_by="+String(e.groupBy)+"&"),e!=null&&e.orderBy){const o=`${String((t=e.orderBy)==null?void 0:t.field)} ${(a=(n=e.orderBy)==null?void 0:n.order)!=null?a:"asc"}`;s+="order_by="+o+"&"}return e!=null&&e.asDict&&(s+="as_dict="+e.asDict),s},vn=(e,t,n,s)=>{const{url:a,db:o}=N.useContext(Ia);return Hh(n===void 0?`${BS(e,a)}?${IA(t)}`:n,()=>o.getDocList(e,t),s)},Li=()=>{const{db:e}=N.useContext(Ia),[t,n]=N.useState(!1),[s,a]=N.useState(null),[o,l]=N.useState(!1),d=N.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{createDoc:N.useCallback((f,h)=>ve(null,null,function*(){return a(null),l(!1),n(!0),e.createDoc(f,h).then(p=>(n(!1),l(!0),p)).catch(p=>{throw n(!1),l(!1),a(p),p})}),[]),loading:t,error:s,isCompleted:o,reset:d}},Vs=()=>{const{db:e}=N.useContext(Ia),[t,n]=N.useState(!1),[s,a]=N.useState(null),[o,l]=N.useState(!1),d=N.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{updateDoc:N.useCallback((f,h,p)=>ve(null,null,function*(){return a(null),l(!1),n(!0),e.updateDoc(f,h,p).then(g=>(n(!1),l(!0),g)).catch(g=>{throw n(!1),l(!1),a(g),g})}),[]),loading:t,error:s,reset:d,isCompleted:o}},Vh=()=>{const{db:e}=N.useContext(Ia),[t,n]=N.useState(!1),[s,a]=N.useState(null),[o,l]=N.useState(!1),d=N.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{deleteDoc:N.useCallback((f,h)=>ve(null,null,function*(){return a(null),l(!1),n(!0),e.deleteDoc(f,h).then(p=>(n(!1),l(!0),p)).catch(p=>{throw n(!1),l(!1),a(p),p})}),[]),loading:t,error:s,reset:d,isCompleted:o}};function YA(e){const t=[];for(let n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}const WA=(e,t,n,s,a="GET")=>{const{call:o}=N.useContext(Ia),l=YA(t!=null?t:{}),d=`${e}?${l}`;return L({},Hh(n===void 0?d:n,a==="GET"?()=>o.get(e,t):()=>o.post(e,t),s))},os=e=>{const{call:t}=N.useContext(Ia),[n,s]=N.useState(null),[a,o]=N.useState(!1),[l,d]=N.useState(null),[f,h]=N.useState(!1),p=N.useCallback(()=>{s(null),o(!1),d(null),h(!1)},[]);return{call:N.useCallback(g=>ve(null,null,function*(){return d(null),h(!1),o(!0),s(null),t.post(e,g).then(b=>(s(b),o(!1),h(!0),b)).catch(b=>{throw o(!1),h(!1),d(b),b})}),[]),result:n,loading:a,error:l,reset:p,isCompleted:f}};var XA=(e,t,n,s,a,o,l,d)=>{let f=document.documentElement,h=["light","dark"];function p(y){(Array.isArray(e)?e:[e]).forEach(w=>{let _=w==="class",S=_&&o?a.map(j=>o[j]||j):a;_?(f.classList.remove(...S),f.classList.add(o&&o[y]?o[y]:y)):f.setAttribute(w,y)}),g(y)}function g(y){d&&h.includes(y)&&(f.style.colorScheme=y)}function b(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)p(s);else try{let y=localStorage.getItem(t)||n,w=l&&y==="system"?b():y;p(w)}catch(y){}},A_=["light","dark"],FS="(prefers-color-scheme: dark)",GA=typeof window=="undefined",hx=N.createContext(void 0),KA={setTheme:e=>{},themes:[]},QA=()=>{var e;return(e=N.useContext(hx))!=null?e:KA},ZA=e=>N.useContext(hx)?N.createElement(N.Fragment,null,e.children):N.createElement(eO,L({},e)),JA=["light","dark"],eO=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:s=!0,storageKey:a="theme",themes:o=JA,defaultTheme:l=n?"system":"light",attribute:d="data-theme",value:f,children:h,nonce:p,scriptProps:g})=>{let[b,y]=N.useState(()=>nO(a,l)),[w,_]=N.useState(()=>b==="system"?vg():b),S=f?Object.values(f):o,j=N.useCallback(A=>{let k=A;if(!k)return;A==="system"&&n&&(k=vg());let B=f?f[k]:k,z=t?sO(p):null,q=document.documentElement,ne=I=>{I==="class"?(q.classList.remove(...S),B&&q.classList.add(B)):I.startsWith("data-")&&(B?q.setAttribute(I,B):q.removeAttribute(I))};if(Array.isArray(d)?d.forEach(ne):ne(d),s){let I=A_.includes(l)?l:null,te=A_.includes(k)?k:I;q.style.colorScheme=te}z==null||z()},[p]),R=N.useCallback(A=>{let k=typeof A=="function"?A(b):A;y(k);try{localStorage.setItem(a,k)}catch(B){}},[b]),O=N.useCallback(A=>{let k=vg(A);_(k),b==="system"&&n&&!e&&j("system")},[b,e]);N.useEffect(()=>{let A=window.matchMedia(FS);return A.addListener(O),O(A),()=>A.removeListener(O)},[O]),N.useEffect(()=>{let A=k=>{k.key===a&&(k.newValue?y(k.newValue):R(l))};return window.addEventListener("storage",A),()=>window.removeEventListener("storage",A)},[R]),N.useEffect(()=>{j(e!=null?e:b)},[e,b]);let C=N.useMemo(()=>({theme:b,setTheme:R,forcedTheme:e,resolvedTheme:b==="system"?w:b,themes:n?[...o,"system"]:o,systemTheme:n?w:void 0}),[b,R,e,w,n,o]);return N.createElement(hx.Provider,{value:C},N.createElement(tO,{forcedTheme:e,storageKey:a,attribute:d,enableSystem:n,enableColorScheme:s,defaultTheme:l,value:f,themes:o,nonce:p,scriptProps:g}),h)},tO=N.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:a,defaultTheme:o,value:l,themes:d,nonce:f,scriptProps:h})=>{let p=JSON.stringify([n,t,o,e,d,l,s,a]).slice(1,-1);return N.createElement("script",me(L({},h),{suppressHydrationWarning:!0,nonce:typeof window=="undefined"?f:"",dangerouslySetInnerHTML:{__html:`(${XA.toString()})(${p})`}}))}),nO=(e,t)=>{if(GA)return;let n;try{n=localStorage.getItem(e)||void 0}catch(s){}return n||t},sO=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},vg=e=>(e||(e=window.matchMedia(FS)),e.matches?"dark":"light");/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var HS=e=>{throw TypeError(e)},rO=(e,t,n)=>t.has(e)||HS("Cannot "+n),wg=(e,t,n)=>(rO(e,t,"read from private field"),n?n.call(e):t.get(e)),aO=(e,t,n)=>t.has(e)?HS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),O_="popstate";function iO(e={}){function t(s,a){let{pathname:o,search:l,hash:d}=s.location;return Pu("",{pathname:o,search:l,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Ci(a)}return lO(t,n,null,e)}function Ut(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function Yn(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function oO(){return Math.random().toString(36).substring(2,10)}function R_(e,t){return{usr:e.state,key:e.key,idx:t}}function Pu(e,t,n=null,s){return me(L({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?zi(t):t),{state:n,key:t&&t.key||s||oO()})}function Ci({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function zi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function lO(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,l=a.history,d="POP",f=null,h=p();h==null&&(h=0,l.replaceState(me(L({},l.state),{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function g(){d="POP";let S=p(),j=S==null?null:S-h;h=S,f&&f({action:d,location:_.location,delta:j})}function b(S,j){d="PUSH";let R=Pu(_.location,S,j);h=p()+1;let O=R_(R,h),C=_.createHref(R);try{l.pushState(O,"",C)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign(C)}o&&f&&f({action:d,location:_.location,delta:1})}function y(S,j){d="REPLACE";let R=Pu(_.location,S,j);h=p();let O=R_(R,h),C=_.createHref(R);l.replaceState(O,"",C),o&&f&&f({action:d,location:_.location,delta:0})}function w(S){return $S(S)}let _={get action(){return d},get location(){return e(a,l)},listen(S){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(O_,g),f=S,()=>{a.removeEventListener(O_,g),f=null}},createHref(S){return t(a,S)},createURL:w,encodeLocation(S){let j=w(S);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:y,go(S){return l.go(S)}};return _}function $S(e,t=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Ci(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var _u,D_=class{constructor(e){if(aO(this,_u,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(wg(this,_u).has(e))return wg(this,_u).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){wg(this,_u).set(e,t)}};_u=new WeakMap;var cO=new Set(["lazy","caseSensitive","path","id","index","children"]);function uO(e){return cO.has(e)}var dO=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function fO(e){return dO.has(e)}function hO(e){return e.index===!0}function Lu(e,t,n=[],s={},a=!1){return e.map((o,l)=>{let d=[...n,String(l)],f=typeof o.id=="string"?o.id:d.join("-");if(Ut(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ut(a||!s[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),hO(o)){let h=me(L(L({},o),t(o)),{id:f});return s[f]=h,h}else{let h=me(L(L({},o),t(o)),{id:f,children:void 0});return s[f]=h,o.children&&(h.children=Lu(o.children,t,d,s,a)),h}})}function ji(e,t,n="/"){return th(e,t,n,!1)}function th(e,t,n,s){let a=typeof t=="string"?zi(t):t,o=Sr(a.pathname||"/",n);if(o==null)return null;let l=VS(e);pO(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=EO(o);d=SO(l[f],h,s)}return d}function mO(e,t){let{route:n,pathname:s,params:a}=e;return{id:n.id,pathname:s,params:a,data:t[n.id],handle:n.handle}}function VS(e,t=[],n=[],s=""){let a=(o,l,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(Ut(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let h=ia([s,f.relativePath]),p=n.concat(f);o.children&&o.children.length>0&&(Ut(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),VS(o.children,t,p,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:_O(h,o.index),routesMeta:p})};return e.forEach((o,l)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,l);else for(let f of qS(o.path))a(o,l,f)}),t}function qS(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let l=qS(s.join("/")),d=[];return d.push(...l.map(f=>f===""?o:[o,f].join("/"))),a&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function pO(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:jO(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var gO=/^:[\w-]+$/,xO=3,yO=2,bO=1,vO=10,wO=-2,M_=e=>e==="*";function _O(e,t){let n=e.split("/"),s=n.length;return n.some(M_)&&(s+=wO),t&&(s+=yO),n.filter(a=>!M_(a)).reduce((a,o)=>a+(gO.test(o)?xO:o===""?bO:vO),s)}function jO(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function SO(e,t,n=!1){let{routesMeta:s}=e,a={},o="/",l=[];for(let d=0;d<s.length;++d){let f=s[d],h=d===s.length-1,p=o==="/"?t:t.slice(o.length)||"/",g=gh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),b=f.route;if(!g&&h&&n&&!s[s.length-1].route.index&&(g=gh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:ia([o,g.pathname]),pathnameBase:AO(ia([o,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(o=ia([o,g.pathnameBase]))}return l}function gh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=NO(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((h,{paramName:p,isOptional:g},b)=>{if(p==="*"){let w=d[b]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const y=d[b];return g&&!y?h[p]=void 0:h[p]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:e}}function NO(e,t=!1,n=!0){Yn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function EO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Sr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function TO({basename:e,pathname:t}){return t==="/"?e:ia([e,t])}function kO(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?zi(e):e;return{pathname:n?n.startsWith("/")?n:CO(n,t):t,search:OO(s),hash:RO(a)}}function CO(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function _g(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IS(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mx(e){let t=IS(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function px(e,t,n,s=!1){let a;typeof e=="string"?a=zi(e):(a=L({},e),Ut(!a.pathname||!a.pathname.includes("?"),_g("?","pathname","search",a)),Ut(!a.pathname||!a.pathname.includes("#"),_g("#","pathname","hash",a)),Ut(!a.search||!a.search.includes("#"),_g("#","search","hash",a)));let o=e===""||a.pathname==="",l=o?"/":a.pathname,d;if(l==null)d=n;else{let g=t.length-1;if(!s&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),g-=1;a.pathname=b.join("/")}d=g>=0?t[g]:"/"}let f=kO(a,d),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var ia=e=>e.join("/").replace(/\/\/+/g,"/"),AO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),OO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,RO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,xh=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function zu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var YS=["POST","PUT","PATCH","DELETE"],DO=new Set(YS),MO=["GET",...YS],PO=new Set(MO),LO=new Set([301,302,303,307,308]),zO=new Set([307,308]),jg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},UO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ou={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},BO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gx=e=>BO.test(e),FO=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),WS="remix-router-transitions",XS=Symbol("ResetLoaderData");function HO(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,n=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined";Ut(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=e.hydrationRouteProperties||[],a=e.mapRouteProperties||FO,o={},l=Lu(e.routes,a,void 0,o),d,f=e.basename||"/",h=e.dataStrategy||YO,p=L({unstable_middleware:!1},e.future),g=null,b=new Set,y=null,w=null,_=null,S=e.hydrationData!=null,j=ji(l,e.history.location,f),R=!1,O=null,C;if(j==null&&!e.patchRoutesOnNavigation){let X=yr(404,{pathname:e.history.location.pathname}),{matches:re,route:fe}=Y_(l);C=!0,j=re,O={[fe.id]:X}}else if(j&&!e.hydrationData&&Ge(j,l,e.history.location.pathname).active&&(j=null),j)if(j.some(X=>X.route.lazy))C=!1;else if(!j.some(X=>X.route.loader))C=!0;else{let X=e.hydrationData?e.hydrationData.loaderData:null,re=e.hydrationData?e.hydrationData.errors:null;if(re){let fe=j.findIndex(Se=>re[Se.route.id]!==void 0);C=j.slice(0,fe+1).every(Se=>!w0(Se.route,X,re))}else C=j.every(fe=>!w0(fe.route,X,re))}else{C=!1,j=[];let X=Ge(null,l,e.history.location.pathname);X.active&&X.matches&&(R=!0,j=X.matches)}let A,k={historyAction:e.history.action,location:e.history.location,matches:j,initialized:C,navigation:jg,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||O,fetchers:new Map,blockers:new Map},B="POP",z=!1,q,ne=!1,I=new Map,te=null,le=!1,pe=!1,Q=new Set,$=new Map,J=0,K=-1,he=new Map,M=new Set,ae=new Map,G=new Map,F=new Set,Z=new Map,ye,de=null;function Oe(){if(g=e.history.listen(({action:X,location:re,delta:fe})=>{if(ye){ye(),ye=void 0;return}Yn(Z.size===0||fe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Se=Ts({currentLocation:k.location,nextLocation:re,historyAction:X});if(Se&&fe!=null){let De=new Promise(Ve=>{ye=Ve});e.history.go(fe*-1),Gn(Se,{state:"blocked",location:re,proceed(){Gn(Se,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),De.then(()=>e.history.go(fe))},reset(){let Ve=new Map(k.blockers);Ve.set(Se,ou),Pe({blockers:Ve})}});return}return ze(X,re)}),n){sR(t,I);let X=()=>rR(t,I);t.addEventListener("pagehide",X),te=()=>t.removeEventListener("pagehide",X)}return k.initialized||ze("POP",k.location,{initialHydration:!0}),A}function Ae(){g&&g(),te&&te(),b.clear(),q&&q.abort(),k.fetchers.forEach((X,re)=>pt(re)),k.blockers.forEach((X,re)=>hs(re))}function He(X){return b.add(X),()=>b.delete(X)}function Pe(X,re={}){X.matches&&(X.matches=X.matches.map(De=>{let Ve=o[De.route.id],Ke=De.route;return Ke.element!==Ve.element||Ke.errorElement!==Ve.errorElement||Ke.hydrateFallbackElement!==Ve.hydrateFallbackElement?me(L({},De),{route:Ve}):De})),k=L(L({},k),X);let fe=[],Se=[];k.fetchers.forEach((De,Ve)=>{De.state==="idle"&&(F.has(Ve)?fe.push(Ve):Se.push(Ve))}),F.forEach(De=>{!k.fetchers.has(De)&&!$.has(De)&&fe.push(De)}),[...b].forEach(De=>De(k,{deletedFetchers:fe,viewTransitionOpts:re.viewTransitionOpts,flushSync:re.flushSync===!0})),fe.forEach(De=>pt(De)),Se.forEach(De=>k.fetchers.delete(De))}function et(X,re,{flushSync:fe}={}){var st,xt;let Se=k.actionData!=null&&k.navigation.formMethod!=null&&Hs(k.navigation.formMethod)&&k.navigation.state==="loading"&&((st=X.state)==null?void 0:st._isRedirect)!==!0,De;re.actionData?Object.keys(re.actionData).length>0?De=re.actionData:De=null:Se?De=k.actionData:De=null;let Ve=re.loaderData?q_(k.loaderData,re.loaderData,re.matches||[],re.errors):k.loaderData,Ke=k.blockers;Ke.size>0&&(Ke=new Map(Ke),Ke.forEach((Et,cn)=>Ke.set(cn,ou)));let tt=le?!1:Gt(X,re.matches||k.matches),lt=z===!0||k.navigation.formMethod!=null&&Hs(k.navigation.formMethod)&&((xt=X.state)==null?void 0:xt._isRedirect)!==!0;d&&(l=d,d=void 0),le||B==="POP"||(B==="PUSH"?e.history.push(X,X.state):B==="REPLACE"&&e.history.replace(X,X.state));let kt;if(B==="POP"){let Et=I.get(k.location.pathname);Et&&Et.has(X.pathname)?kt={currentLocation:k.location,nextLocation:X}:I.has(X.pathname)&&(kt={currentLocation:X,nextLocation:k.location})}else if(ne){let Et=I.get(k.location.pathname);Et?Et.add(X.pathname):(Et=new Set([X.pathname]),I.set(k.location.pathname,Et)),kt={currentLocation:k.location,nextLocation:X}}Pe(me(L({},re),{actionData:De,loaderData:Ve,historyAction:B,location:X,initialized:!0,navigation:jg,revalidation:"idle",restoreScrollPosition:tt,preventScrollReset:lt,blockers:Ke}),{viewTransitionOpts:kt,flushSync:fe===!0}),B="POP",z=!1,ne=!1,le=!1,pe=!1,de==null||de.resolve(),de=null}function We(X,re){return ve(this,null,function*(){if(typeof X=="number"){e.history.go(X);return}let fe=v0(k.location,k.matches,f,X,re==null?void 0:re.fromRouteId,re==null?void 0:re.relative),{path:Se,submission:De,error:Ve}=P_(!1,fe,re),Ke=k.location,tt=Pu(k.location,Se,re&&re.state);tt=L(L({},tt),e.history.encodeLocation(tt));let lt=re&&re.replace!=null?re.replace:void 0,kt="PUSH";lt===!0?kt="REPLACE":lt===!1||De!=null&&Hs(De.formMethod)&&De.formAction===k.location.pathname+k.location.search&&(kt="REPLACE");let st=re&&"preventScrollReset"in re?re.preventScrollReset===!0:void 0,xt=(re&&re.flushSync)===!0,Et=Ts({currentLocation:Ke,nextLocation:tt,historyAction:kt});if(Et){Gn(Et,{state:"blocked",location:tt,proceed(){Gn(Et,{state:"proceeding",proceed:void 0,reset:void 0,location:tt}),We(X,re)},reset(){let cn=new Map(k.blockers);cn.set(Et,ou),Pe({blockers:cn})}});return}yield ze(kt,tt,{submission:De,pendingError:Ve,preventScrollReset:st,replace:re&&re.replace,enableViewTransition:re&&re.viewTransition,flushSync:xt})})}function ft(){de||(de=aR()),Ee(),Pe({revalidation:"loading"});let X=de.promise;return k.navigation.state==="submitting"?X:k.navigation.state==="idle"?(ze(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),X):(ze(B||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:ne===!0}),X)}function ze(X,re,fe){return ve(this,null,function*(){q&&q.abort(),q=null,B=X,le=(fe&&fe.startUninterruptedRevalidation)===!0,jt(k.location,k.matches),z=(fe&&fe.preventScrollReset)===!0,ne=(fe&&fe.enableViewTransition)===!0;let Se=d||l,De=fe&&fe.overrideNavigation,Ve=fe!=null&&fe.initialHydration&&k.matches&&k.matches.length>0&&!R?k.matches:ji(Se,re,f),Ke=(fe&&fe.flushSync)===!0;if(Ve&&k.initialized&&!pe&&ZO(k.location,re)&&!(fe&&fe.submission&&Hs(fe.submission.formMethod))){et(re,{matches:Ve},{flushSync:Ke});return}let tt=Ge(Ve,Se,re.pathname);if(tt.active&&tt.matches&&(Ve=tt.matches),!Ve){let{error:sn,notFoundMatches:rt,route:St}=Xe(re.pathname);et(re,{matches:rt,loaderData:{},errors:{[St.id]:sn}},{flushSync:Ke});return}q=new AbortController;let lt=Dl(e.history,re,q.signal,fe&&fe.submission),kt=new D_(e.unstable_getContext?yield e.unstable_getContext():void 0),st;if(fe&&fe.pendingError)st=[bo(Ve).route.id,{type:"error",error:fe.pendingError}];else if(fe&&fe.submission&&Hs(fe.submission.formMethod)){let sn=yield _t(lt,re,fe.submission,Ve,kt,tt.active,fe&&fe.initialHydration===!0,{replace:fe.replace,flushSync:Ke});if(sn.shortCircuited)return;if(sn.pendingActionResult){let[rt,St]=sn.pendingActionResult;if(Js(St)&&zu(St.error)&&St.error.status===404){q=null,et(re,{matches:sn.matches,loaderData:{},errors:{[rt]:St.error}});return}}Ve=sn.matches||Ve,st=sn.pendingActionResult,De=Sg(re,fe.submission),Ke=!1,tt.active=!1,lt=Dl(e.history,lt.url,lt.signal)}let{shortCircuited:xt,matches:Et,loaderData:cn,errors:Cn}=yield Ft(lt,re,Ve,kt,tt.active,De,fe&&fe.submission,fe&&fe.fetcherSubmission,fe&&fe.replace,fe&&fe.initialHydration===!0,Ke,st);xt||(q=null,et(re,me(L({matches:Et||Ve},I_(st)),{loaderData:cn,errors:Cn})))})}function _t(lt,kt,st,xt,Et,cn,Cn){return ve(this,arguments,function*(X,re,fe,Se,De,Ve,Ke,tt={}){Ee();let sn=tR(re,fe);if(Pe({navigation:sn},{flushSync:tt.flushSync===!0}),Ve){let It=yield vt(Se,re.pathname,X.signal);if(It.type==="aborted")return{shortCircuited:!0};if(It.type==="error"){let yn=bo(It.partialMatches).route.id;return{matches:It.partialMatches,pendingActionResult:[yn,{type:"error",error:It.error}]}}else if(It.matches)Se=It.matches;else{let{notFoundMatches:yn,error:An,route:Kn}=Xe(re.pathname);return{matches:yn,pendingActionResult:[Kn.id,{type:"error",error:An}]}}}let rt,St=nh(Se,re);if(!St.route.action&&!St.route.lazy)rt={type:"error",error:yr(405,{method:X.method,pathname:re.pathname,routeId:St.route.id})};else{let It=Ul(a,o,X,Se,St,Ke?[]:s,De),yn=yield Ne(X,It,De,null);if(rt=yn[St.route.id],!rt){for(let An of Se)if(yn[An.route.id]){rt=yn[An.route.id];break}}if(X.signal.aborted)return{shortCircuited:!0}}if(So(rt)){let It;return tt&&tt.replace!=null?It=tt.replace:It=H_(rt.response.headers.get("Location"),new URL(X.url),f)===k.location.pathname+k.location.search,yield V(X,rt,!0,{submission:fe,replace:It}),{shortCircuited:!0}}if(Js(rt)){let It=bo(Se,St.route.id);return(tt&&tt.replace)!==!0&&(B="PUSH"),{matches:Se,pendingActionResult:[It.route.id,rt,St.route.id]}}return{matches:Se,pendingActionResult:[St.route.id,rt]}})}function Ft(X,re,fe,Se,De,Ve,Ke,tt,lt,kt,st,xt){return ve(this,null,function*(){let Et=Ve||Sg(re,Ke),cn=Ke||tt||X_(Et),Cn=!le&&!kt;if(De){if(Cn){let On=bt(xt);Pe(L({navigation:Et},On!==void 0?{actionData:On}:{}),{flushSync:st})}let At=yield vt(fe,re.pathname,X.signal);if(At.type==="aborted")return{shortCircuited:!0};if(At.type==="error"){let On=bo(At.partialMatches).route.id;return{matches:At.partialMatches,loaderData:{},errors:{[On]:At.error}}}else if(At.matches)fe=At.matches;else{let{error:On,notFoundMatches:pa,route:ms}=Xe(re.pathname);return{matches:pa,loaderData:{},errors:{[ms.id]:On}}}}let sn=d||l,{dsMatches:rt,revalidatingFetchers:St}=L_(X,Se,a,o,e.history,k,fe,cn,re,kt?[]:s,kt===!0,pe,Q,F,ae,M,sn,f,e.patchRoutesOnNavigation!=null,xt);if(K=++J,!e.dataStrategy&&!rt.some(At=>At.shouldLoad)&&St.length===0){let At=xn();return et(re,L(L({matches:fe,loaderData:{},errors:xt&&Js(xt[1])?{[xt[0]]:xt[1].error}:null},I_(xt)),At?{fetchers:new Map(k.fetchers)}:{}),{flushSync:st}),{shortCircuited:!0}}if(Cn){let At={};if(!De){At.navigation=Et;let On=bt(xt);On!==void 0&&(At.actionData=On)}St.length>0&&(At.fetchers=ot(St)),Pe(At,{flushSync:st})}St.forEach(At=>{Qt(At.key),At.controller&&$.set(At.key,At.controller)});let It=()=>St.forEach(At=>Qt(At.key));q&&q.signal.addEventListener("abort",It);let{loaderResults:yn,fetcherResults:An}=yield Me(rt,St,X,Se);if(X.signal.aborted)return{shortCircuited:!0};q&&q.signal.removeEventListener("abort",It),St.forEach(At=>$.delete(At.key));let Kn=yf(yn);if(Kn)return yield V(X,Kn.result,!0,{replace:lt}),{shortCircuited:!0};if(Kn=yf(An),Kn)return M.add(Kn.key),yield V(X,Kn.result,!0,{replace:lt}),{shortCircuited:!0};let{loaderData:ns,errors:ir}=V_(k,fe,yn,xt,St,An);kt&&k.errors&&(ir=L(L({},k.errors),ir));let or=xn(),bs=Wn(K),lr=or||bs||St.length>0;return L({matches:fe,loaderData:ns,errors:ir},lr?{fetchers:new Map(k.fetchers)}:{})})}function bt(X){if(X&&!Js(X[1]))return{[X[0]]:X[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function ot(X){return X.forEach(re=>{let fe=k.fetchers.get(re.key),Se=lu(void 0,fe?fe.data:void 0);k.fetchers.set(re.key,Se)}),new Map(k.fetchers)}function Tt(X,re,fe,Se){return ve(this,null,function*(){Qt(X);let De=(Se&&Se.flushSync)===!0,Ve=d||l,Ke=v0(k.location,k.matches,f,fe,re,Se==null?void 0:Se.relative),tt=ji(Ve,Ke,f),lt=Ge(tt,Ve,Ke);if(lt.active&&lt.matches&&(tt=lt.matches),!tt){Te(X,re,yr(404,{pathname:Ke}),{flushSync:De});return}let{path:kt,submission:st,error:xt}=P_(!0,Ke,Se);if(xt){Te(X,re,xt,{flushSync:De});return}let Et=new D_(e.unstable_getContext?yield e.unstable_getContext():void 0),cn=(Se&&Se.preventScrollReset)===!0;if(st&&Hs(st.formMethod)){yield Y(X,re,kt,tt,Et,lt.active,De,cn,st);return}ae.set(X,{routeId:re,path:kt}),yield ce(X,re,kt,tt,Et,lt.active,De,cn,st)})}function Y(X,re,fe,Se,De,Ve,Ke,tt,lt){return ve(this,null,function*(){Ee(),ae.delete(X);let kt=k.fetchers.get(X);we(X,nR(lt,kt),{flushSync:Ke});let st=new AbortController,xt=Dl(e.history,fe,st.signal,lt);if(Ve){let dn=yield vt(Se,new URL(xt.url).pathname,xt.signal,X);if(dn.type==="aborted")return;if(dn.type==="error"){Te(X,re,dn.error,{flushSync:Ke});return}else if(dn.matches)Se=dn.matches;else{Te(X,re,yr(404,{pathname:fe}),{flushSync:Ke});return}}let Et=nh(Se,fe);if(!Et.route.action&&!Et.route.lazy){let dn=yr(405,{method:lt.formMethod,pathname:fe,routeId:re});Te(X,re,dn,{flushSync:Ke});return}$.set(X,st);let cn=J,Cn=Ul(a,o,xt,Se,Et,s,De),rt=(yield Ne(xt,Cn,De,X))[Et.route.id];if(xt.signal.aborted){$.get(X)===st&&$.delete(X);return}if(F.has(X)){if(So(rt)||Js(rt)){we(X,vi(void 0));return}}else{if(So(rt))if($.delete(X),K>cn){we(X,vi(void 0));return}else return M.add(X),we(X,lu(lt)),V(xt,rt,!1,{fetcherSubmission:lt,preventScrollReset:tt});if(Js(rt)){Te(X,re,rt.error);return}}let St=k.navigation.location||k.location,It=Dl(e.history,St,st.signal),yn=d||l,An=k.navigation.state!=="idle"?ji(yn,k.navigation.location,f):k.matches;Ut(An,"Didn't find any matches after fetcher action");let Kn=++J;he.set(X,Kn);let ns=lu(lt,rt.data);k.fetchers.set(X,ns);let{dsMatches:ir,revalidatingFetchers:or}=L_(It,De,a,o,e.history,k,An,lt,St,s,!1,pe,Q,F,ae,M,yn,f,e.patchRoutesOnNavigation!=null,[Et.route.id,rt]);or.filter(dn=>dn.key!==X).forEach(dn=>{let Tr=dn.key,Uo=k.fetchers.get(Tr),Bo=lu(void 0,Uo?Uo.data:void 0);k.fetchers.set(Tr,Bo),Qt(Tr),dn.controller&&$.set(Tr,dn.controller)}),Pe({fetchers:new Map(k.fetchers)});let bs=()=>or.forEach(dn=>Qt(dn.key));st.signal.addEventListener("abort",bs);let{loaderResults:lr,fetcherResults:At}=yield Me(ir,or,It,De);if(st.signal.aborted)return;if(st.signal.removeEventListener("abort",bs),he.delete(X),$.delete(X),or.forEach(dn=>$.delete(dn.key)),k.fetchers.has(X)){let dn=vi(rt.data);k.fetchers.set(X,dn)}let On=yf(lr);if(On)return V(It,On.result,!1,{preventScrollReset:tt});if(On=yf(At),On)return M.add(On.key),V(It,On.result,!1,{preventScrollReset:tt});let{loaderData:pa,errors:ms}=V_(k,An,lr,void 0,or,At);Wn(Kn),k.navigation.state==="loading"&&Kn>K?(Ut(B,"Expected pending action"),q&&q.abort(),et(k.navigation.location,{matches:An,loaderData:pa,errors:ms,fetchers:new Map(k.fetchers)})):(Pe({errors:ms,loaderData:q_(k.loaderData,pa,An,ms),fetchers:new Map(k.fetchers)}),pe=!1)})}function ce(X,re,fe,Se,De,Ve,Ke,tt,lt){return ve(this,null,function*(){let kt=k.fetchers.get(X);we(X,lu(lt,kt?kt.data:void 0),{flushSync:Ke});let st=new AbortController,xt=Dl(e.history,fe,st.signal);if(Ve){let St=yield vt(Se,new URL(xt.url).pathname,xt.signal,X);if(St.type==="aborted")return;if(St.type==="error"){Te(X,re,St.error,{flushSync:Ke});return}else if(St.matches)Se=St.matches;else{Te(X,re,yr(404,{pathname:fe}),{flushSync:Ke});return}}let Et=nh(Se,fe);$.set(X,st);let cn=J,Cn=Ul(a,o,xt,Se,Et,s,De),rt=(yield Ne(xt,Cn,De,X))[Et.route.id];if($.get(X)===st&&$.delete(X),!xt.signal.aborted){if(F.has(X)){we(X,vi(void 0));return}if(So(rt))if(K>cn){we(X,vi(void 0));return}else{M.add(X),yield V(xt,rt,!1,{preventScrollReset:tt});return}if(Js(rt)){Te(X,re,rt.error);return}we(X,vi(rt.data))}})}function V(tt,lt,kt){return ve(this,arguments,function*(X,re,fe,{submission:Se,fetcherSubmission:De,preventScrollReset:Ve,replace:Ke}={}){re.response.headers.has("X-Remix-Revalidate")&&(pe=!0);let st=re.response.headers.get("Location");Ut(st,"Expected a Location header on the redirect Response"),st=H_(st,new URL(X.url),f);let xt=Pu(k.location,st,{_isRedirect:!0});if(n){let St=!1;if(re.response.headers.has("X-Remix-Reload-Document"))St=!0;else if(gx(st)){const It=$S(st,!0);St=It.origin!==t.location.origin||Sr(It.pathname,f)==null}if(St){Ke?t.location.replace(st):t.location.assign(st);return}}q=null;let Et=Ke===!0||re.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:cn,formAction:Cn,formEncType:sn}=k.navigation;!Se&&!De&&cn&&Cn&&sn&&(Se=X_(k.navigation));let rt=Se||De;if(zO.has(re.response.status)&&rt&&Hs(rt.formMethod))yield ze(Et,xt,{submission:me(L({},rt),{formAction:st}),preventScrollReset:Ve||z,enableViewTransition:fe?ne:void 0});else{let St=Sg(xt,Se);yield ze(Et,xt,{overrideNavigation:St,fetcherSubmission:De,preventScrollReset:Ve||z,enableViewTransition:fe?ne:void 0})}})}function Ne(X,re,fe,Se){return ve(this,null,function*(){let De,Ve={};try{De=yield WO(h,X,re,Se,fe,!1)}catch(Ke){return re.filter(tt=>tt.shouldLoad).forEach(tt=>{Ve[tt.route.id]={type:"error",error:Ke}}),Ve}if(X.signal.aborted)return Ve;for(let[Ke,tt]of Object.entries(De))if(JO(tt)){let lt=tt.result;Ve[Ke]={type:"redirect",response:KO(lt,X,Ke,re,f)}}else Ve[Ke]=yield GO(tt);return Ve})}function Me(X,re,fe,Se){return ve(this,null,function*(){let De=Ne(fe,X,Se,null),Ve=Promise.all(re.map(lt=>ve(null,null,function*(){if(lt.matches&&lt.match&&lt.request&&lt.controller){let st=(yield Ne(lt.request,lt.matches,Se,lt.key))[lt.match.route.id];return{[lt.key]:st}}else return Promise.resolve({[lt.key]:{type:"error",error:yr(404,{pathname:lt.path})}})}))),Ke=yield De,tt=(yield Ve).reduce((lt,kt)=>Object.assign(lt,kt),{});return{loaderResults:Ke,fetcherResults:tt}})}function Ee(){pe=!0,ae.forEach((X,re)=>{$.has(re)&&Q.add(re),Qt(re)})}function we(X,re,fe={}){k.fetchers.set(X,re),Pe({fetchers:new Map(k.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function Te(X,re,fe,Se={}){let De=bo(k.matches,re);pt(X),Pe({errors:{[De.route.id]:fe},fetchers:new Map(k.fetchers)},{flushSync:(Se&&Se.flushSync)===!0})}function $e(X){return G.set(X,(G.get(X)||0)+1),F.has(X)&&F.delete(X),k.fetchers.get(X)||UO}function pt(X){let re=k.fetchers.get(X);$.has(X)&&!(re&&re.state==="loading"&&he.has(X))&&Qt(X),ae.delete(X),he.delete(X),M.delete(X),F.delete(X),Q.delete(X),k.fetchers.delete(X)}function gn(X){let re=(G.get(X)||0)-1;re<=0?(G.delete(X),F.add(X)):G.set(X,re),Pe({fetchers:new Map(k.fetchers)})}function Qt(X){let re=$.get(X);re&&(re.abort(),$.delete(X))}function Zt(X){for(let re of X){let fe=$e(re),Se=vi(fe.data);k.fetchers.set(re,Se)}}function xn(){let X=[],re=!1;for(let fe of M){let Se=k.fetchers.get(fe);Ut(Se,`Expected fetcher: ${fe}`),Se.state==="loading"&&(M.delete(fe),X.push(fe),re=!0)}return Zt(X),re}function Wn(X){let re=[];for(let[fe,Se]of he)if(Se<X){let De=k.fetchers.get(fe);Ut(De,`Expected fetcher: ${fe}`),De.state==="loading"&&(Qt(fe),he.delete(fe),re.push(fe))}return Zt(re),re.length>0}function Xn(X,re){let fe=k.blockers.get(X)||ou;return Z.get(X)!==re&&Z.set(X,re),fe}function hs(X){k.blockers.delete(X),Z.delete(X)}function Gn(X,re){let fe=k.blockers.get(X)||ou;Ut(fe.state==="unblocked"&&re.state==="blocked"||fe.state==="blocked"&&re.state==="blocked"||fe.state==="blocked"&&re.state==="proceeding"||fe.state==="blocked"&&re.state==="unblocked"||fe.state==="proceeding"&&re.state==="unblocked",`Invalid blocker state transition: ${fe.state} -> ${re.state}`);let Se=new Map(k.blockers);Se.set(X,re),Pe({blockers:Se})}function Ts({currentLocation:X,nextLocation:re,historyAction:fe}){if(Z.size===0)return;Z.size>1&&Yn(!1,"A router only supports one blocker at a time");let Se=Array.from(Z.entries()),[De,Ve]=Se[Se.length-1],Ke=k.blockers.get(De);if(!(Ke&&Ke.state==="proceeding")&&Ve({currentLocation:X,nextLocation:re,historyAction:fe}))return De}function Xe(X){let re=yr(404,{pathname:X}),fe=d||l,{matches:Se,route:De}=Y_(fe);return{notFoundMatches:Se,route:De,error:re}}function Ot(X,re,fe){if(y=X,_=re,w=fe||null,!S&&k.navigation===jg){S=!0;let Se=Gt(k.location,k.matches);Se!=null&&Pe({restoreScrollPosition:Se})}return()=>{y=null,_=null,w=null}}function Pt(X,re){return w&&w(X,re.map(Se=>mO(Se,k.loaderData)))||X.key}function jt(X,re){if(y&&_){let fe=Pt(X,re);y[fe]=_()}}function Gt(X,re){if(y){let fe=Pt(X,re),Se=y[fe];if(typeof Se=="number")return Se}return null}function Ge(X,re,fe){if(e.patchRoutesOnNavigation)if(X){if(Object.keys(X[0].params).length>0)return{active:!0,matches:th(re,fe,f,!0)}}else return{active:!0,matches:th(re,fe,f,!0)||[]};return{active:!1,matches:null}}function vt(X,re,fe,Se){return ve(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:X};let De=X;for(;;){let Ve=d==null,Ke=d||l,tt=o;try{yield e.patchRoutesOnNavigation({signal:fe,path:re,matches:De,fetcherKey:Se,patch:(st,xt)=>{fe.aborted||z_(st,xt,Ke,tt,a,!1)}})}catch(st){return{type:"error",error:st,partialMatches:De}}finally{Ve&&!fe.aborted&&(l=[...l])}if(fe.aborted)return{type:"aborted"};let lt=ji(Ke,re,f);if(lt)return{type:"success",matches:lt};let kt=th(Ke,re,f,!0);if(!kt||De.length===kt.length&&De.every((st,xt)=>st.route.id===kt[xt].route.id))return{type:"success",matches:null};De=kt}})}function Ht(X){o={},d=Lu(X,a,void 0,o)}function qt(X,re,fe=!1){let Se=d==null;z_(X,re,d||l,o,a,fe),Se&&(l=[...l],Pe({}))}return A={get basename(){return f},get future(){return p},get state(){return k},get routes(){return l},get window(){return t},initialize:Oe,subscribe:He,enableScrollRestoration:Ot,navigate:We,fetch:Tt,revalidate:ft,createHref:X=>e.history.createHref(X),encodeLocation:X=>e.history.encodeLocation(X),getFetcher:$e,deleteFetcher:gn,dispose:Ae,getBlocker:Xn,deleteBlocker:hs,patchRoutes:qt,_internalFetchControllers:$,_internalSetRoutes:Ht,_internalSetStateDoNotUseOrYouWillBreakYourApp(X){Pe(X)}},A}function $O(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function v0(e,t,n,s,a,o){let l,d;if(a){l=[];for(let h of t)if(l.push(h),h.route.id===a){d=h;break}}else l=t,d=t[t.length-1];let f=px(s||".",mx(l),Sr(e.pathname,n)||e.pathname,o==="path");if(s==null&&(f.search=e.search,f.hash=e.hash),(s==null||s===""||s===".")&&d){let h=xx(f.search);if(d.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&h){let p=new URLSearchParams(f.search),g=p.getAll("index");p.delete("index"),g.filter(y=>y).forEach(y=>p.append("index",y));let b=p.toString();f.search=b?`?${b}`:""}}return n!=="/"&&(f.pathname=TO({basename:n,pathname:f.pathname})),Ci(f)}function P_(e,t,n){if(!n||!$O(n))return{path:t};if(n.formMethod&&!eR(n.formMethod))return{path:t,error:yr(405,{method:n.formMethod})};let s=()=>({path:t,error:yr(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),l=e2(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Hs(o))return s();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((b,[y,w])=>`${b}${y}=${w}
`,""):String(n.body);return{path:t,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!Hs(o))return s();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch(g){return s()}}}Ut(typeof FormData=="function","FormData is not available in this environment");let d,f;if(n.formData)d=j0(n.formData),f=n.formData;else if(n.body instanceof FormData)d=j0(n.body),f=n.body;else if(n.body instanceof URLSearchParams)d=n.body,f=$_(d);else if(n.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(n.body),f=$_(d)}catch(g){return s()}let h={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Hs(h.formMethod))return{path:t,submission:h};let p=zi(t);return e&&p.search&&xx(p.search)&&d.append("index",""),p.search=`?${d}`,{path:Ci(p),submission:h}}function L_(e,t,n,s,a,o,l,d,f,h,p,g,b,y,w,_,S,j,R,O){var le;let C=O?Js(O[1])?O[1].error:O[1].data:void 0,A=a.createURL(o.location),k=a.createURL(f),B;if(p&&o.errors){let pe=Object.keys(o.errors)[0];B=l.findIndex(Q=>Q.route.id===pe)}else if(O&&Js(O[1])){let pe=O[0];B=l.findIndex(Q=>Q.route.id===pe)-1}let z=O?O[1].statusCode:void 0,q=z&&z>=400,ne=me(L({currentUrl:A,currentParams:((le=o.matches[0])==null?void 0:le.params)||{},nextUrl:k,nextParams:l[0].params},d),{actionResult:C,actionStatus:z}),I=l.map((pe,Q)=>{let{route:$}=pe,J=null;if(B!=null&&Q>B?J=!1:$.lazy?J=!0:$.loader==null?J=!1:p?J=w0($,o.loaderData,o.errors):VO(o.loaderData,o.matches[Q],pe)&&(J=!0),J!==null)return _0(n,s,e,pe,h,t,J);let K=q?!1:g||A.pathname+A.search===k.pathname+k.search||A.search!==k.search||qO(o.matches[Q],pe),he=me(L({},ne),{defaultShouldRevalidate:K}),M=yh(pe,he);return _0(n,s,e,pe,h,t,M,he)}),te=[];return w.forEach((pe,Q)=>{if(p||!l.some(F=>F.route.id===pe.routeId)||y.has(Q))return;let $=o.fetchers.get(Q),J=$&&$.state!=="idle"&&$.data===void 0,K=ji(S,pe.path,j);if(!K){if(R&&J)return;te.push({key:Q,routeId:pe.routeId,path:pe.path,matches:null,match:null,request:null,controller:null});return}if(_.has(Q))return;let he=nh(K,pe.path),M=new AbortController,ae=Dl(a,pe.path,M.signal),G=null;if(b.has(Q))b.delete(Q),G=Ul(n,s,ae,K,he,h,t);else if(J)g&&(G=Ul(n,s,ae,K,he,h,t));else{let F=me(L({},ne),{defaultShouldRevalidate:q?!1:g});yh(he,F)&&(G=Ul(n,s,ae,K,he,h,t,F))}G&&te.push({key:Q,routeId:pe.routeId,path:pe.path,matches:G,match:he,request:ae,controller:M})}),{dsMatches:I,revalidatingFetchers:te}}function w0(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let s=t!=null&&e.id in t,a=n!=null&&n[e.id]!==void 0;return!s&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!a}function VO(e,t,n){let s=!t||n.route.id!==t.route.id,a=!e.hasOwnProperty(n.route.id);return s||a}function qO(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function yh(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function z_(e,t,n,s,a,o){let l;if(e){let h=s[e];Ut(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),l=h.children}else l=n;let d=[],f=[];if(t.forEach(h=>{let p=l.find(g=>GS(h,g));p?f.push({existingRoute:p,newRoute:h}):d.push(h)}),d.length>0){let h=Lu(d,a,[e||"_","patch",String((l==null?void 0:l.length)||"0")],s);l.push(...h)}if(o&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:p,newRoute:g}=f[h],b=p,[y]=Lu([g],a,[],{},!0);Object.assign(b,{element:y.element?y.element:b.element,errorElement:y.errorElement?y.errorElement:b.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:b.hydrateFallbackElement})}}function GS(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,s)=>{var a;return(a=t.children)==null?void 0:a.some(o=>GS(n,o))}):!1}var U_=new WeakMap,KS=({key:e,route:t,manifest:n,mapRouteProperties:s})=>{let a=n[t.id];if(Ut(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[e];if(!o)return;let l=U_.get(a);l||(l={},U_.set(a,l));let d=l[e];if(d)return d;let f=ve(null,null,function*(){let h=uO(e),g=a[e]!==void 0&&e!=="hasErrorBoundary";if(h)Yn(!h,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),l[e]=Promise.resolve();else if(g)Yn(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let b=yield o();b!=null&&(Object.assign(a,{[e]:b}),Object.assign(a,s(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(b=>b===void 0)&&(a.lazy=void 0))});return l[e]=f,f},B_=new WeakMap;function IO(e,t,n,s,a){let o=n[e.id];if(Ut(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let p=B_.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let g=ve(null,null,function*(){Ut(typeof e.lazy=="function","No lazy route function found");let b=yield e.lazy(),y={};for(let w in b){let _=b[w];if(_===void 0)continue;let S=fO(w),R=o[w]!==void 0&&w!=="hasErrorBoundary";S?Yn(!S,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?Yn(!R,`Route "${o.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):y[w]=_}Object.assign(o,y),Object.assign(o,me(L({},s(o)),{lazy:void 0}))});return B_.set(o,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let l=Object.keys(e.lazy),d=[],f;for(let p of l){if(a&&a.includes(p))continue;let g=KS({key:p,route:e,manifest:n,mapRouteProperties:s});g&&(d.push(g),p===t&&(f=g))}let h=d.length>0?Promise.all(d).then(()=>{}):void 0;return h==null||h.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}function F_(e){return ve(this,null,function*(){let t=e.matches.filter(a=>a.shouldLoad),n={};return(yield Promise.all(t.map(a=>a.resolve()))).forEach((a,o)=>{n[t[o].route.id]=a}),n})}function YO(e){return ve(this,null,function*(){return e.matches.some(t=>t.route.unstable_middleware)?QS(e,!1,()=>F_(e),(t,n)=>({[n]:{type:"error",result:t}})):F_(e)})}function QS(e,t,n,s){return ve(this,null,function*(){let{matches:a,request:o,params:l,context:d}=e,f={handlerResult:void 0};try{let h=a.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(b=>[g.route.id,b]):[]),p=yield ZS({request:o,params:l,context:d},h,t,f,n);return t?p:f.handlerResult}catch(h){if(!f.middlewareError)throw h;let p=yield s(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,p):p}})}function ZS(e,t,n,s,a,o=0){return ve(this,null,function*(){let{request:l}=e;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let d=t[o];if(!d)return s.handlerResult=yield a(),s.handlerResult;let[f,h]=d,p=!1,g,b=()=>ve(null,null,function*(){if(p)throw new Error("You may only call `next()` once per middleware");p=!0,yield ZS(e,t,n,s,a,o+1)});try{let y=yield h({request:e.request,params:e.params,context:e.context},b);return p?y===void 0?g:y:b()}catch(y){throw s.middlewareError?s.middlewareError.error!==y&&(s.middlewareError={routeId:f,error:y}):s.middlewareError={routeId:f,error:y},y}})}function JS(e,t,n,s,a){let o=KS({key:"unstable_middleware",route:s.route,manifest:t,mapRouteProperties:e}),l=IO(s.route,Hs(n.method)?"action":"loader",t,e,a);return{middleware:o,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function _0(e,t,n,s,a,o,l,d=null){let f=!1,h=JS(e,t,n,s,a);return me(L({},s),{_lazyPromises:h,shouldLoad:l,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(p){return f=!0,d?typeof p=="boolean"?yh(s,me(L({},d),{defaultShouldRevalidate:p})):yh(s,d):l},resolve(p){return f||l||p&&!Hs(n.method)&&(s.route.lazy||s.route.loader)?XO({request:n,match:s,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:p,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}})}function Ul(e,t,n,s,a,o,l,d=null){return s.map(f=>f.route.id!==a.route.id?me(L({},f),{shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:JS(e,t,n,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}):_0(e,t,n,f,o,l,!0,d))}function WO(e,t,n,s,a,o){return ve(this,null,function*(){n.some(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})&&(yield Promise.all(n.map(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})));let l={request:t,params:n[0].params,context:a,matches:n},d=h=>{let p=l;return QS(p,!1,()=>h(me(L({},p),{fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(g,b)=>({[b]:{type:"error",result:g}}))},f=yield e(me(L({},l),{fetcherKey:s,unstable_runClientMiddleware:d}));try{yield Promise.all(n.flatMap(h=>{var p,g;return[(p=h._lazyPromises)==null?void 0:p.handler,(g=h._lazyPromises)==null?void 0:g.route]}))}catch(h){}return f})}function XO(l){return ve(this,arguments,function*({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:a,scopedContext:o}){let d,f,h=Hs(e.method),p=h?"action":"loader",g=b=>{let y,w=new Promise((j,R)=>y=R);f=()=>y(),e.signal.addEventListener("abort",f);let _=j=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${t.route.id}]`)):b({request:e,params:t.params,context:o},...j!==void 0?[j]:[]),S=ve(null,null,function*(){try{return{type:"data",result:yield a?a(R=>_(R)):_()}}catch(j){return{type:"error",result:j}}});return Promise.race([S,w])};try{let b=h?t.route.action:t.route.loader;if(n||s)if(b){let y,[w]=yield Promise.all([g(b).catch(_=>{y=_}),n,s]);if(y!==void 0)throw y;d=w}else{yield n;let y=h?t.route.action:t.route.loader;if(y)[d]=yield Promise.all([g(y),s]);else if(p==="action"){let w=new URL(e.url),_=w.pathname+w.search;throw yr(405,{method:e.method,pathname:_,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(b)d=yield g(b);else{let y=new URL(e.url),w=y.pathname+y.search;throw yr(404,{pathname:w})}}catch(b){return{type:"error",result:b}}finally{f&&e.signal.removeEventListener("abort",f)}return d})}function GO(e){return ve(this,null,function*(){var s,a,o,l,d,f;let{result:t,type:n}=e;if(t2(t)){let h;try{let p=t.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?t.body==null?h=null:h=yield t.json():h=yield t.text()}catch(p){return{type:"error",error:p}}return n==="error"?{type:"error",error:new xh(t.status,t.statusText,h),statusCode:t.status,headers:t.headers}:{type:"data",data:h,statusCode:t.status,headers:t.headers}}return n==="error"?W_(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new xh(((o=t.init)==null?void 0:o.status)||500,void 0,t.data),statusCode:zu(t)?t.status:void 0,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:zu(t)?t.status:void 0}:W_(t)?{type:"data",data:t.data,statusCode:(d=t.init)==null?void 0:d.status,headers:(f=t.init)!=null&&f.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}})}function KO(e,t,n,s,a){let o=e.headers.get("Location");if(Ut(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!gx(o)){let l=s.slice(0,s.findIndex(d=>d.route.id===n)+1);o=v0(new URL(t.url),l,a,o),e.headers.set("Location",o)}return e}function H_(e,t,n){if(gx(e)){let s=e,a=s.startsWith("//")?new URL(t.protocol+s):new URL(s),o=Sr(a.pathname,n)!=null;if(a.origin===t.origin&&o)return a.pathname+a.search+a.hash}return e}function Dl(e,t,n,s){let a=e.createURL(e2(t)).toString(),o={signal:n};if(s&&Hs(s.formMethod)){let{formMethod:l,formEncType:d}=s;o.method=l.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(s.json)):d==="text/plain"?o.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?o.body=j0(s.formData):o.body=s.formData}return new Request(a,o)}function j0(e){let t=new URLSearchParams;for(let[n,s]of e.entries())t.append(n,typeof s=="string"?s:s.name);return t}function $_(e){let t=new FormData;for(let[n,s]of e.entries())t.append(n,s);return t}function QO(e,t,n,s=!1,a=!1){let o={},l=null,d,f=!1,h={},p=n&&Js(n[1])?n[1].error:void 0;return e.forEach(g=>{if(!(g.route.id in t))return;let b=g.route.id,y=t[b];if(Ut(!So(y),"Cannot handle redirect results in processLoaderData"),Js(y)){let w=y.error;if(p!==void 0&&(w=p,p=void 0),l=l||{},a)l[b]=w;else{let _=bo(e,b);l[_.route.id]==null&&(l[_.route.id]=w)}s||(o[b]=XS),f||(f=!0,d=zu(y.error)?y.error.status:500),y.headers&&(h[b]=y.headers)}else o[b]=y.data,y.statusCode&&y.statusCode!==200&&!f&&(d=y.statusCode),y.headers&&(h[b]=y.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:l,statusCode:d||200,loaderHeaders:h}}function V_(e,t,n,s,a,o){let{loaderData:l,errors:d}=QO(t,n,s);return a.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:p,controller:g}=f,b=o[h];if(Ut(b,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(Js(b)){let y=bo(e.matches,p==null?void 0:p.route.id);d&&d[y.route.id]||(d=me(L({},d),{[y.route.id]:b.error})),e.fetchers.delete(h)}else if(So(b))Ut(!1,"Unhandled fetcher revalidation redirect");else{let y=vi(b.data);e.fetchers.set(h,y)}}),{loaderData:l,errors:d}}function q_(e,t,n,s){let a=Object.entries(t).filter(([,o])=>o!==XS).reduce((o,[l,d])=>(o[l]=d,o),{});for(let o of n){let l=o.route.id;if(!t.hasOwnProperty(l)&&e.hasOwnProperty(l)&&o.route.loader&&(a[l]=e[l]),s&&s.hasOwnProperty(l))break}return a}function I_(e){return e?Js(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function bo(e,t){return(t?e.slice(0,e.findIndex(s=>s.route.id===t)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function Y_(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function yr(e,{pathname:t,routeId:n,method:s,type:a,message:o}={}){let l="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(l="Bad Request",s&&t&&n?d=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):e===403?(l="Forbidden",d=`Route "${n}" does not match URL "${t}"`):e===404?(l="Not Found",d=`No route matches URL "${t}"`):e===405&&(l="Method Not Allowed",s&&t&&n?d=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new xh(e||500,l,new Error(d),!0)}function yf(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[s,a]=t[n];if(So(a))return{key:s,result:a}}}function e2(e){let t=typeof e=="string"?zi(e):e;return Ci(me(L({},t),{hash:""}))}function ZO(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function JO(e){return t2(e.result)&&LO.has(e.result.status)}function Js(e){return e.type==="error"}function So(e){return(e&&e.type)==="redirect"}function W_(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function t2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function eR(e){return PO.has(e.toUpperCase())}function Hs(e){return DO.has(e.toUpperCase())}function xx(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function nh(e,t){let n=typeof t=="string"?zi(t).search:t.search;if(e[e.length-1].route.index&&xx(n||""))return e[e.length-1];let s=IS(e);return s[s.length-1]}function X_(e){let{formMethod:t,formAction:n,formEncType:s,text:a,formData:o,json:l}=e;if(!(!t||!n||!s)){if(a!=null)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:t,formAction:n,formEncType:s,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:l,text:void 0}}}function Sg(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function tR(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function lu(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function nR(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function vi(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function sR(e,t){try{let n=e.sessionStorage.getItem(WS);if(n){let s=JSON.parse(n);for(let[a,o]of Object.entries(s||{}))o&&Array.isArray(o)&&t.set(a,new Set(o||[]))}}catch(n){}}function rR(e,t){if(t.size>0){let n={};for(let[s,a]of t)n[s]=[...a];try{e.sessionStorage.setItem(WS,JSON.stringify(n))}catch(s){Yn(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function aR(){let e,t,n=new Promise((s,a)=>{e=o=>ve(null,null,function*(){s(o);try{yield n}catch(l){}}),t=o=>ve(null,null,function*(){a(o);try{yield n}catch(l){}})});return{promise:n,resolve:e,reject:t}}var Lo=N.createContext(null);Lo.displayName="DataRouter";var Wu=N.createContext(null);Wu.displayName="DataRouterState";N.createContext(!1);var yx=N.createContext({isTransitioning:!1});yx.displayName="ViewTransition";var n2=N.createContext(new Map);n2.displayName="Fetchers";var iR=N.createContext(null);iR.displayName="Await";var fa=N.createContext(null);fa.displayName="Navigation";var qh=N.createContext(null);qh.displayName="Location";var ha=N.createContext({outlet:null,matches:[],isDataRoute:!1});ha.displayName="Route";var bx=N.createContext(null);bx.displayName="RouteError";function oR(e,{relative:t}={}){Ut(Xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=N.useContext(fa),{hash:a,pathname:o,search:l}=Gu(e,{relative:t}),d=o;return n!=="/"&&(d=o==="/"?n:ia([n,o])),s.createHref({pathname:d,search:l,hash:a})}function Xu(){return N.useContext(qh)!=null}function Ui(){return Ut(Xu(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(qh).location}var s2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function r2(e){N.useContext(fa).static||N.useLayoutEffect(e)}function lR(){let{isDataRoute:e}=N.useContext(ha);return e?jR():cR()}function cR(){Ut(Xu(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Lo),{basename:t,navigator:n}=N.useContext(fa),{matches:s}=N.useContext(ha),{pathname:a}=Ui(),o=JSON.stringify(mx(s)),l=N.useRef(!1);return r2(()=>{l.current=!0}),N.useCallback((f,h={})=>{if(Yn(l.current,s2),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=px(f,JSON.parse(o),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ia([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,o,a,e])}var uR=N.createContext(null);function dR(e){let t=N.useContext(ha).outlet;return t&&N.createElement(uR.Provider,{value:e},t)}function Gu(e,{relative:t}={}){let{matches:n}=N.useContext(ha),{pathname:s}=Ui(),a=JSON.stringify(mx(n));return N.useMemo(()=>px(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function fR(e,t,n,s){Ut(Xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(fa),{matches:o}=N.useContext(ha),l=o[o.length-1],d=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let j=p&&p.path||"";a2(f,!p||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let g=Ui(),b;b=g;let y=b.pathname||"/",w=y;if(h!=="/"){let j=h.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let _=ji(e,{pathname:w});return Yn(p||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Yn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),xR(_&&_.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:ia([h,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?h:ia([h,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,n,s)}function hR(){let e=_R(),t=zu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:o},"ErrorBoundary")," or"," ",N.createElement("code",{style:o},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:a},n):null,l)}var mR=N.createElement(hR,null),pR=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(ha.Provider,{value:this.props.routeContext},N.createElement(bx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gR({routeContext:e,match:t,children:n}){let s=N.useContext(Lo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(ha.Provider,{value:e},n)}function xR(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Ut(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,d=-1;if(n)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:p,errors:g}=n,b=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){l=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,h,p)=>{let g,b=!1,y=null,w=null;n&&(g=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||mR,l&&(d<0&&p===0?(a2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):d===p&&(b=!0,w=h.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,p+1)),S=()=>{let j;return g?j=y:b?j=w:h.route.Component?j=N.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=f,N.createElement(gR,{match:h,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:j})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?N.createElement(pR,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):S()},null)}function vx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yR(e){let t=N.useContext(Lo);return Ut(t,vx(e)),t}function bR(e){let t=N.useContext(Wu);return Ut(t,vx(e)),t}function vR(e){let t=N.useContext(ha);return Ut(t,vx(e)),t}function wx(e){let t=vR(e),n=t.matches[t.matches.length-1];return Ut(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function wR(){return wx("useRouteId")}function _R(){var s;let e=N.useContext(bx),t=bR("useRouteError"),n=wx("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function jR(){let{router:e}=yR("useNavigate"),t=wx("useNavigate"),n=N.useRef(!1);return r2(()=>{n.current=!0}),N.useCallback((l,...d)=>ve(null,[l,...d],function*(a,o={}){Yn(n.current,s2),n.current&&(typeof a=="number"?e.navigate(a):yield e.navigate(a,L({fromRouteId:t},o)))}),[e,t])}var G_={};function a2(e,t,n){!t&&!G_[e]&&(G_[e]=!0,Yn(!1,n))}var K_={};function Q_(e,t){!e&&!K_[t]&&(K_[t]=!0,console.warn(t))}function SR(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Yn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:N.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Yn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:N.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Yn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:N.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var NR=["HydrateFallback","hydrateFallbackElement"],ER=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function TR({router:e,flushSync:t}){let[n,s]=N.useState(e.state),[a,o]=N.useState(),[l,d]=N.useState({isTransitioning:!1}),[f,h]=N.useState(),[p,g]=N.useState(),[b,y]=N.useState(),w=N.useRef(new Map),_=N.useCallback((O,{deletedFetchers:C,flushSync:A,viewTransitionOpts:k})=>{O.fetchers.forEach((z,q)=>{z.data!==void 0&&w.current.set(q,z.data)}),C.forEach(z=>w.current.delete(z)),Q_(A===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let B=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Q_(k==null||B,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!k||!B){t&&A?t(()=>s(O)):N.startTransition(()=>s(O));return}if(t&&A){t(()=>{p&&(f&&f.resolve(),p.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let z=e.window.document.startViewTransition(()=>{t(()=>s(O))});z.finished.finally(()=>{t(()=>{h(void 0),g(void 0),o(void 0),d({isTransitioning:!1})})}),t(()=>g(z));return}p?(f&&f.resolve(),p.skipTransition(),y({state:O,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(o(O),d({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[e.window,t,p,f]);N.useLayoutEffect(()=>e.subscribe(_),[e,_]),N.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new ER)},[l]),N.useEffect(()=>{if(f&&a&&e.window){let O=a,C=f.promise,A=e.window.document.startViewTransition(()=>ve(null,null,function*(){N.startTransition(()=>s(O)),yield C}));A.finished.finally(()=>{h(void 0),g(void 0),o(void 0),d({isTransitioning:!1})}),g(A)}},[a,f,e.window]),N.useEffect(()=>{f&&a&&n.location.key===a.location.key&&f.resolve()},[f,p,n.location,a]),N.useEffect(()=>{!l.isTransitioning&&b&&(o(b.state),d({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),y(void 0))},[l.isTransitioning,b]);let S=N.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:O=>e.navigate(O),push:(O,C,A)=>e.navigate(O,{state:C,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(O,C,A)=>e.navigate(O,{replace:!0,state:C,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[e]),j=e.basename||"/",R=N.useMemo(()=>({router:e,navigator:S,static:!1,basename:j}),[e,S,j]);return N.createElement(N.Fragment,null,N.createElement(Lo.Provider,{value:R},N.createElement(Wu.Provider,{value:n},N.createElement(n2.Provider,{value:w.current},N.createElement(yx.Provider,{value:l},N.createElement(OR,{basename:j,location:n.location,navigationType:n.historyAction,navigator:S},N.createElement(kR,{routes:e.routes,future:e.future,state:n})))))),null)}var kR=N.memo(CR);function CR({routes:e,future:t,state:n}){return fR(e,void 0,n,t)}function AR(e){return dR(e.context)}function OR({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:o=!1}){Ut(!Xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof n=="string"&&(n=zi(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:b="default"}=n,y=N.useMemo(()=>{let w=Sr(f,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:g,key:b},navigationType:s}},[l,f,h,p,g,b,s]);return Yn(y!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:N.createElement(fa.Provider,{value:d},N.createElement(qh.Provider,{children:t,value:y}))}var sh="get",rh="application/x-www-form-urlencoded";function Ih(e){return e!=null&&typeof e.tagName=="string"}function RR(e){return Ih(e)&&e.tagName.toLowerCase()==="button"}function DR(e){return Ih(e)&&e.tagName.toLowerCase()==="form"}function MR(e){return Ih(e)&&e.tagName.toLowerCase()==="input"}function PR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function LR(e,t){return e.button===0&&(!t||t==="_self")&&!PR(e)}var bf=null;function zR(){if(bf===null)try{new FormData(document.createElement("form"),0),bf=!1}catch(e){bf=!0}return bf}var UR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ng(e){return e!=null&&!UR.has(e)?(Yn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rh}"`),null):e}function BR(e,t){let n,s,a,o,l;if(DR(e)){let d=e.getAttribute("action");s=d?Sr(d,t):null,n=e.getAttribute("method")||sh,a=Ng(e.getAttribute("enctype"))||rh,o=new FormData(e)}else if(RR(e)||MR(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(s=f?Sr(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||sh,a=Ng(e.getAttribute("formenctype"))||Ng(d.getAttribute("enctype"))||rh,o=new FormData(d,e),!zR()){let{name:h,type:p,value:g}=e;if(p==="image"){let b=h?`${h}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else h&&o.append(h,g)}}else{if(Ih(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,s=null,a=rh,l=e}return o&&a==="text/plain"&&(l=o,o=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _x(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function FR(e,t,n){let s=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Sr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}function HR(e,t){return ve(this,null,function*(){if(e.id in t)return t[e.id];try{let n=yield import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function $R(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function VR(e,t,n){return ve(this,null,function*(){let s=yield Promise.all(e.map(a=>ve(null,null,function*(){let o=t.routes[a.route.id];if(o){let l=yield HR(o,n);return l.links?l.links():[]}return[]})));return WR(s.flat(1).filter($R).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?me(L({},a),{rel:"prefetch",as:"style"}):me(L({},a),{rel:"prefetch"})))})}function Z_(e,t,n,s,a,o){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,h)=>l(f,h)||d(f,h)):o==="data"?t.filter((f,h)=>{var g;let p=s.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function qR(e,t,{includeHydrateFallback:n}={}){return IR(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function IR(e){return[...new Set(e)]}function YR(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function WR(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let o=JSON.stringify(YR(a));return n.has(o)||(n.add(o),s.push({key:o,link:a})),s},[])}function i2(){let e=N.useContext(Lo);return _x(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function XR(){let e=N.useContext(Wu);return _x(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var jx=N.createContext(void 0);jx.displayName="FrameworkContext";function o2(){let e=N.useContext(jx);return _x(e,"You must render this element inside a <HydratedRouter> element"),e}function GR(e,t){let n=N.useContext(jx),[s,a]=N.useState(!1),[o,l]=N.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,b=N.useRef(null);N.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let _=j=>{j.forEach(R=>{l(R.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[e]),N.useEffect(()=>{if(s){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[s]);let y=()=>{a(!0)},w=()=>{a(!1),l(!1)};return n?e!=="intent"?[o,b,{}]:[o,b,{onFocus:cu(d,y),onBlur:cu(f,w),onMouseEnter:cu(h,y),onMouseLeave:cu(p,w),onTouchStart:cu(g,y)}]:[!1,b,{}]}function cu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function KR(n){var s=n,{page:e}=s,t=Le(s,["page"]);let{router:a}=i2(),o=N.useMemo(()=>ji(a.routes,e,a.basename),[a.routes,e,a.basename]);return o?N.createElement(ZR,L({page:e,matches:o},t)):null}function QR(e){let{manifest:t,routeModules:n}=o2(),[s,a]=N.useState([]);return N.useEffect(()=>{let o=!1;return VR(e,t,n).then(l=>{o||a(l)}),()=>{o=!0}},[e,t,n]),s}function ZR(s){var a=s,{page:e,matches:t}=a,n=Le(a,["page","matches"]);let o=Ui(),{manifest:l,routeModules:d}=o2(),{basename:f}=i2(),{loaderData:h,matches:p}=XR(),g=N.useMemo(()=>Z_(e,t,p,l,o,"data"),[e,t,p,l,o]),b=N.useMemo(()=>Z_(e,t,p,l,o,"assets"),[e,t,p,l,o]),y=N.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let S=new Set,j=!1;if(t.forEach(O=>{var A;let C=l.routes[O.route.id];!C||!C.hasLoader||(!g.some(k=>k.route.id===O.route.id)&&O.route.id in h&&((A=d[O.route.id])!=null&&A.shouldRevalidate)||C.hasClientLoader?j=!0:S.add(O.route.id))}),S.size===0)return[];let R=FR(e,f,"data");return j&&S.size>0&&R.searchParams.set("_routes",t.filter(O=>S.has(O.route.id)).map(O=>O.route.id).join(",")),[R.pathname+R.search]},[f,h,o,l,g,t,e,d]),w=N.useMemo(()=>qR(b,l),[b,l]),_=QR(b);return N.createElement(N.Fragment,null,y.map(S=>N.createElement("link",L({key:S,rel:"prefetch",as:"fetch",href:S},n))),w.map(S=>N.createElement("link",L({key:S,rel:"modulepreload",href:S},n))),_.map(({key:S,link:j})=>N.createElement("link",L({key:S},j))))}function JR(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var l2=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{l2&&(window.__reactRouterVersion="7.7.1")}catch(e){}function eD(e,t){return HO({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:iO({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||tD(),routes:e,mapRouteProperties:SR,hydrationRouteProperties:NR,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function tD(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=me(L({},e),{errors:nD(e.errors)})),e}function nD(e){if(!e)return null;let t=Object.entries(e),n={};for(let[s,a]of t)if(a&&a.__type==="RouteErrorResponse")n[s]=new xh(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let l=new o(a.message);l.stack="",n[s]=l}catch(l){}}if(n[s]==null){let o=new Error(a.message);o.stack="",n[s]=o}}else n[s]=a;return n}var c2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u2=N.forwardRef(function(w,y){var _=w,{onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:o,replace:l,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g}=_,b=Le(_,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:S}=N.useContext(fa),j=typeof h=="string"&&c2.test(h),R,O=!1;if(typeof h=="string"&&j&&(R=h,l2))try{let I=new URL(window.location.href),te=h.startsWith("//")?new URL(I.protocol+h):new URL(h),le=Sr(te.pathname,S);te.origin===I.origin&&le!=null?h=le+te.search+te.hash:O=!0}catch(I){Yn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=oR(h,{relative:a}),[A,k,B]=GR(s,b),z=aD(h,{replace:l,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g});function q(I){t&&t(I),I.defaultPrevented||z(I)}let ne=N.createElement("a",me(L(L({},b),B),{href:R||C,onClick:O||o?t:q,ref:JR(y,k),target:f,"data-discover":!j&&n==="render"?"true":void 0}));return A&&!j?N.createElement(N.Fragment,null,ne,N.createElement(KR,{page:C})):ne});u2.displayName="Link";var d2=N.forwardRef(function(g,p){var b=g,{"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:d,children:f}=b,h=Le(b,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let y=Gu(l,{relative:h.relative}),w=Ui(),_=N.useContext(Wu),{navigator:S,basename:j}=N.useContext(fa),R=_!=null&&uD(y)&&d===!0,O=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,C=w.pathname,A=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(C=C.toLowerCase(),A=A?A.toLowerCase():null,O=O.toLowerCase()),A&&j&&(A=Sr(A,j)||A);const k=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let B=C===O||!a&&C.startsWith(O)&&C.charAt(k)==="/",z=A!=null&&(A===O||!a&&A.startsWith(O)&&A.charAt(O.length)==="/"),q={isActive:B,isPending:z,isTransitioning:R},ne=B?t:void 0,I;typeof s=="function"?I=s(q):I=[s,B?"active":null,z?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let te=typeof o=="function"?o(q):o;return N.createElement(u2,me(L({},h),{"aria-current":ne,className:I,ref:p,style:te,to:l,viewTransition:d}),typeof f=="function"?f(q):f)});d2.displayName="NavLink";var sD=N.forwardRef((w,y)=>{var _=w,{discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:o,method:l=sh,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g}=_,b=Le(_,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let S=lD(),j=cD(d,{relative:h}),R=l.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&c2.test(d),C=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let k=A.nativeEvent.submitter,B=(k==null?void 0:k.getAttribute("formmethod"))||l;S(k||A.currentTarget,{fetcherKey:t,method:B,navigate:n,replace:a,state:o,relative:h,preventScrollReset:p,viewTransition:g})};return N.createElement("form",me(L({ref:y,method:R,action:j,onSubmit:s?f:C},b),{"data-discover":!O&&e==="render"?"true":void 0}))});sD.displayName="Form";function rD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f2(e){let t=N.useContext(Lo);return Ut(t,rD(e)),t}function aD(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}={}){let d=lR(),f=Ui(),h=Gu(e,{relative:o});return N.useCallback(p=>{if(LR(p,t)){p.preventDefault();let g=n!==void 0?n:Ci(f)===Ci(h);d(e,{replace:g,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[f,d,h,n,s,t,e,a,o,l])}var iD=0,oD=()=>`__${String(++iD)}__`;function lD(){let{router:e}=f2("useSubmit"),{basename:t}=N.useContext(fa),n=wR();return N.useCallback((o,...l)=>ve(null,[o,...l],function*(s,a={}){let{action:d,method:f,encType:h,formData:p,body:g}=BR(s,t);if(a.navigate===!1){let b=a.fetcherKey||oD();yield e.fetch(b,n,a.action||d,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||f,formEncType:a.encType||h,flushSync:a.flushSync})}else yield e.navigate(a.action||d,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||f,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,t,n])}function cD(e,{relative:t}={}){let{basename:n}=N.useContext(fa),s=N.useContext(ha);Ut(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o=L({},Gu(e||".",{relative:t})),l=Ui();if(e==null){o.search=l.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ia([n,o.pathname])),Ci(o)}function uD(e,{relative:t}={}){let n=N.useContext(yx);Ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=f2("useViewTransitionState"),a=Gu(e,{relative:t});if(!n.isTransitioning)return!1;let o=Sr(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=Sr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return gh(a.pathname,l)!=null||gh(a.pathname,o)!=null}var Yh=cS();const h2=nx(Yh);function dD(e){return N.createElement(TR,L({flushSync:Yh.flushSync},e))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hD=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),J_=e=>{const t=hD(e);return t.charAt(0).toUpperCase()+t.slice(1)},m2=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),mD=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=N.forwardRef((h,f)=>{var p=h,{color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:l}=p,d=Le(p,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return N.createElement("svg",L(L(me(L({ref:f},pD),{width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:m2("lucide",a)}),!o&&!mD(d)&&{"aria-hidden":"true"}),d),[...l.map(([g,b])=>N.createElement(g,b)),...Array.isArray(o)?o:[o]])});/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=(e,t)=>{const n=N.forwardRef((l,o)=>{var d=l,{className:s}=d,a=Le(d,["className"]);return N.createElement(gD,L({ref:o,iconNode:t,className:m2(`lucide-${fD(J_(e))}`,`lucide-${e}`,s)},a))});return n.displayName=J_(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],yD=dt("activity",xD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],vD=dt("archive",bD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Sx=dt("arrow-left",wD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],jD=dt("bell",_D);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_r=dt("calendar",SD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ED=dt("chart-column",ND);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kD=dt("check",TD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],p2=dt("chevron-down",CD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],OD=dt("chevron-right",AD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],DD=dt("chevrons-up-down",RD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Il=dt("circle-alert",MD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],LD=dt("circle-check-big",PD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Nx=dt("circle-check",zD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ql=dt("clock",UD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],FD=dt("crown",BD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ex=dt("dollar-sign",HD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],e1=dt("download",$D);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],qD=dt("ellipsis-vertical",VD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],YD=dt("external-link",ID);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],XD=dt("eye",WD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ll=dt("file-text",GD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],vf=dt("file",KD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],ZD=dt("flag",QD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],eM=dt("folder-open",JD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Tx=dt("funnel",tM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],sM=dt("grid-3x3",nM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],aM=dt("image",rM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],oM=dt("layout-dashboard",iM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],wf=dt("link",lM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],uM=dt("list",cM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],S0=dt("loader-circle",dM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],hM=dt("log-out",fM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],pM=dt("menu",mM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],xM=dt("pause",gM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],bM=dt("pen",yM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],wM=dt("piggy-bank",vM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],jM=dt("play",_M);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ai=dt("plus",SM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],g2=dt("refresh-cw",NM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Wh=dt("search",EM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],x2=dt("settings",TM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CM=dt("square-check-big",kM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Bl=dt("square-pen",AM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],RM=dt("square",OM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],kx=dt("target",DM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ao=dt("trash-2",MM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Xh=dt("triangle-alert",PM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],zM=dt("upload",LM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Uu=dt("user",UM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ah=dt("users",BM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],HM=dt("x",FM),$M=[{name:"Dashboard",href:"/",icon:oM},{name:"Projects",href:"/projects",icon:eM},{name:"Tasks",href:"/tasks",icon:CM},{name:"Time Tracking",href:"/time-tracking",icon:Ql},{name:"Cost Analysis",href:"/cost-analysis",icon:Ex},{name:"Reports",href:"/reports",icon:ED},{name:"Calendar",href:"/calendar",icon:_r},{name:"Team",href:"/team",icon:ah},{name:"Documents",href:"/documents",icon:Ll},{name:"Settings",href:"/settings",icon:x2}],t1=()=>{const e=Ui();return c.jsxs("div",{className:"flex flex-col w-64 bg-white shadow-lg border-r border-gray-200",children:[c.jsx("div",{className:"flex items-center justify-center h-16 px-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",children:c.jsx("img",{src:"https://ctuav.vn/wp-content/uploads/2024/08/Logo-moi-ctuav.png",alt:"CT UAV Logo",className:"w-8 h-8 object-contain"})}),c.jsx("span",{className:"text-xl font-bold text-gray-800",children:"CT UAV"})]})}),c.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:$M.map(t=>{const n=e.pathname===t.href;return c.jsxs(d2,{to:t.href,className:`
                group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200
                ${n?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-md":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}
              `,children:[c.jsx(t.icon,{className:`
                  mr-3 h-5 w-5 transition-colors duration-200
                  ${n?"text-white":"text-gray-500 group-hover:text-gray-700"}
                `}),t.name]},t.name)})}),c.jsx("div",{className:"p-4 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white font-medium text-sm",children:"U"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Admin"}),c.jsx("p",{className:"text-xs text-gray-500 truncate",children:"admin@ctgroupvietnam.com"})]})]})})]})};function rr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function n1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Oo(...e){return t=>{let n=!1;const s=e.map(a=>{const o=n1(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<s.length;a++){const o=s[a];typeof o=="function"?o():n1(e[a],null)}}}}function $r(...e){return N.useCallback(Oo(...e),e)}function VM(e,t){const n=N.createContext(t),s=o=>{const h=o,{children:l}=h,d=Le(h,["children"]),f=N.useMemo(()=>d,Object.values(d));return c.jsx(n.Provider,{value:f,children:l})};s.displayName=e+"Provider";function a(o){const l=N.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,a]}function Cx(e,t=[]){let n=[];function s(o,l){const d=N.createContext(l),f=n.length;n=[...n,l];const h=g=>{var R;const j=g,{scope:b,children:y}=j,w=Le(j,["scope","children"]),_=((R=b==null?void 0:b[e])==null?void 0:R[f])||d,S=N.useMemo(()=>w,Object.values(w));return c.jsx(_.Provider,{value:S,children:y})};h.displayName=o+"Provider";function p(g,b){var _;const y=((_=b==null?void 0:b[e])==null?void 0:_[f])||d,w=N.useContext(y);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[h,p]}const a=()=>{const o=n.map(l=>N.createContext(l));return function(d){const f=(d==null?void 0:d[e])||o;return N.useMemo(()=>({[`__scope${e}`]:me(L({},d),{[e]:f})}),[d,f])}};return a.scopeName=e,[s,qM(a,...t)]}function qM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const l=s.reduce((d,{useScope:f,scopeName:h})=>{const g=f(o)[`__scope${h}`];return L(L({},d),g)},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Gh(e){const t=YM(e),n=N.forwardRef((s,a)=>{const h=s,{children:o}=h,l=Le(h,["children"]),d=N.Children.toArray(o),f=d.find(XM);if(f){const p=f.props.children,g=d.map(b=>b===f?N.Children.count(p)>1?N.Children.only(null):N.isValidElement(p)?p.props.children:null:b);return c.jsx(t,me(L({},l),{ref:a,children:N.isValidElement(p)?N.cloneElement(p,void 0,g):null}))}return c.jsx(t,me(L({},l),{ref:a,children:o}))});return n.displayName=`${e}.Slot`,n}var IM=Gh("Slot");function YM(e){const t=N.forwardRef((n,s)=>{const l=n,{children:a}=l,o=Le(l,["children"]);if(N.isValidElement(a)){const d=KM(a),f=GM(o,a.props);return a.type!==N.Fragment&&(f.ref=s?Oo(s,d):d),N.cloneElement(a,f)}return N.Children.count(a)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var WM=Symbol("radix.slottable");function XM(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===WM}function GM(e,t){const n=L({},t);for(const s in t){const a=e[s],o=t[s];/^on[A-Z]/.test(s)?a&&o?n[s]=(...d)=>{const f=o(...d);return a(...d),f}:a&&(n[s]=a):s==="style"?n[s]=L(L({},a),o):s==="className"&&(n[s]=[a,o].filter(Boolean).join(" "))}return L(L({},e),n)}function KM(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var QM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kn=QM.reduce((e,t)=>{const n=Gh(`Primitive.${t}`),s=N.forwardRef((a,o)=>{const h=a,{asChild:l}=h,d=Le(h,["asChild"]),f=l?n:t;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(f,me(L({},d),{ref:o}))});return s.displayName=`Primitive.${t}`,me(L({},e),{[t]:s})},{});function ZM(e,t){e&&Yh.flushSync(()=>e.dispatchEvent(t))}function Yl(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function JM(e,t=globalThis==null?void 0:globalThis.document){const n=Yl(e);N.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var eP="DismissableLayer",N0="dismissableLayer.update",tP="dismissableLayer.pointerDownOutside",nP="dismissableLayer.focusOutside",s1,y2=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ax=N.forwardRef((e,t)=>{var z;const B=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:l,onDismiss:d}=B,f=Le(B,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),h=N.useContext(y2),[p,g]=N.useState(null),b=(z=p==null?void 0:p.ownerDocument)!=null?z:globalThis==null?void 0:globalThis.document,[,y]=N.useState({}),w=$r(t,q=>g(q)),_=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),j=_.indexOf(S),R=p?_.indexOf(p):-1,O=h.layersWithOutsidePointerEventsDisabled.size>0,C=R>=j,A=aP(q=>{const ne=q.target,I=[...h.branches].some(te=>te.contains(ne));!C||I||(a==null||a(q),l==null||l(q),q.defaultPrevented||d==null||d())},b),k=iP(q=>{const ne=q.target;[...h.branches].some(te=>te.contains(ne))||(o==null||o(q),l==null||l(q),q.defaultPrevented||d==null||d())},b);return JM(q=>{R===h.layers.size-1&&(s==null||s(q),!q.defaultPrevented&&d&&(q.preventDefault(),d()))},b),N.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(s1=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),r1(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=s1)}},[p,b,n,h]),N.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),r1())},[p,h]),N.useEffect(()=>{const q=()=>y({});return document.addEventListener(N0,q),()=>document.removeEventListener(N0,q)},[]),c.jsx(kn.div,me(L({},f),{ref:w,style:L({pointerEvents:O?C?"auto":"none":void 0},e.style),onFocusCapture:rr(e.onFocusCapture,k.onFocusCapture),onBlurCapture:rr(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:rr(e.onPointerDownCapture,A.onPointerDownCapture)}))});Ax.displayName=eP;var sP="DismissableLayerBranch",rP=N.forwardRef((e,t)=>{const n=N.useContext(y2),s=N.useRef(null),a=$r(t,s);return N.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),c.jsx(kn.div,me(L({},e),{ref:a}))});rP.displayName=sP;function aP(e,t=globalThis==null?void 0:globalThis.document){const n=Yl(e),s=N.useRef(!1),a=N.useRef(()=>{});return N.useEffect(()=>{const o=d=>{if(d.target&&!s.current){let f=function(){b2(tP,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);s.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function iP(e,t=globalThis==null?void 0:globalThis.document){const n=Yl(e),s=N.useRef(!1);return N.useEffect(()=>{const a=o=>{o.target&&!s.current&&b2(nP,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function r1(){const e=new CustomEvent(N0);document.dispatchEvent(e)}function b2(e,t,n,{discrete:s}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?ZM(a,o):a.dispatchEvent(o)}var Eg=0;function v2(){N.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:a1()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:a1()),Eg++,()=>{Eg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Eg--}},[])}function a1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Tg="focusScope.autoFocusOnMount",kg="focusScope.autoFocusOnUnmount",i1={bubbles:!1,cancelable:!0},oP="FocusScope",Ox=N.forwardRef((e,t)=>{const _=e,{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o}=_,l=Le(_,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[d,f]=N.useState(null),h=Yl(a),p=Yl(o),g=N.useRef(null),b=$r(t,S=>f(S)),y=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(s){let S=function(C){if(y.paused||!d)return;const A=C.target;d.contains(A)?g.current=A:wi(g.current,{select:!0})},j=function(C){if(y.paused||!d)return;const A=C.relatedTarget;A!==null&&(d.contains(A)||wi(g.current,{select:!0}))},R=function(C){if(document.activeElement===document.body)for(const k of C)k.removedNodes.length>0&&wi(d)};document.addEventListener("focusin",S),document.addEventListener("focusout",j);const O=new MutationObserver(R);return d&&O.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",j),O.disconnect()}}},[s,d,y.paused]),N.useEffect(()=>{if(d){l1.add(y);const S=document.activeElement;if(!d.contains(S)){const R=new CustomEvent(Tg,i1);d.addEventListener(Tg,h),d.dispatchEvent(R),R.defaultPrevented||(lP(hP(w2(d)),{select:!0}),document.activeElement===S&&wi(d))}return()=>{d.removeEventListener(Tg,h),setTimeout(()=>{const R=new CustomEvent(kg,i1);d.addEventListener(kg,p),d.dispatchEvent(R),R.defaultPrevented||wi(S!=null?S:document.body,{select:!0}),d.removeEventListener(kg,p),l1.remove(y)},0)}}},[d,h,p,y]);const w=N.useCallback(S=>{if(!n&&!s||y.paused)return;const j=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,R=document.activeElement;if(j&&R){const O=S.currentTarget,[C,A]=cP(O);C&&A?!S.shiftKey&&R===A?(S.preventDefault(),n&&wi(C,{select:!0})):S.shiftKey&&R===C&&(S.preventDefault(),n&&wi(A,{select:!0})):R===O&&S.preventDefault()}},[n,s,y.paused]);return c.jsx(kn.div,me(L({tabIndex:-1},l),{ref:b,onKeyDown:w}))});Ox.displayName=oP;function lP(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(wi(s,{select:t}),document.activeElement!==n)return}function cP(e){const t=w2(e),n=o1(t,e),s=o1(t.reverse(),e);return[n,s]}function w2(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function o1(e,t){for(const n of e)if(!uP(n,{upTo:t}))return n}function uP(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function dP(e){return e instanceof HTMLInputElement&&"select"in e}function wi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&dP(e)&&t&&e.select()}}var l1=fP();function fP(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=c1(e,t),e.unshift(t)},remove(t){var n;e=c1(e,t),(n=e[0])==null||n.resume()}}}function c1(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function hP(e){return e.filter(t=>t.tagName!=="A")}var Oi=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},mP=lS[" useId ".trim().toString()]||(()=>{}),pP=0;function oa(e){const[t,n]=N.useState(mP());return Oi(()=>{n(s=>s!=null?s:String(pP++))},[e]),e||(t?`radix-${t}`:"")}const gP=["top","right","bottom","left"],Ri=Math.min,tr=Math.max,bh=Math.round,_f=Math.floor,la=e=>({x:e,y:e}),xP={left:"right",right:"left",bottom:"top",top:"bottom"},yP={start:"end",end:"start"};function E0(e,t,n){return tr(e,Ri(t,n))}function Va(e,t){return typeof e=="function"?e(t):e}function qa(e){return e.split("-")[0]}function Zl(e){return e.split("-")[1]}function Rx(e){return e==="x"?"y":"x"}function Dx(e){return e==="y"?"height":"width"}const bP=new Set(["top","bottom"]);function sa(e){return bP.has(qa(e))?"y":"x"}function Mx(e){return Rx(sa(e))}function vP(e,t,n){n===void 0&&(n=!1);const s=Zl(e),a=Mx(e),o=Dx(a);let l=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=vh(l)),[l,vh(l)]}function wP(e){const t=vh(e);return[T0(e),t,T0(t)]}function T0(e){return e.replace(/start|end/g,t=>yP[t])}const u1=["left","right"],d1=["right","left"],_P=["top","bottom"],jP=["bottom","top"];function SP(e,t,n){switch(e){case"top":case"bottom":return n?t?d1:u1:t?u1:d1;case"left":case"right":return t?_P:jP;default:return[]}}function NP(e,t,n,s){const a=Zl(e);let o=SP(qa(e),n==="start",s);return a&&(o=o.map(l=>l+"-"+a),t&&(o=o.concat(o.map(T0)))),o}function vh(e){return e.replace(/left|right|bottom|top/g,t=>xP[t])}function EP(e){return L({top:0,right:0,bottom:0,left:0},e)}function _2(e){return typeof e!="number"?EP(e):{top:e,right:e,bottom:e,left:e}}function wh(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function f1(e,t,n){let{reference:s,floating:a}=e;const o=sa(t),l=Mx(t),d=Dx(l),f=qa(t),h=o==="y",p=s.x+s.width/2-a.width/2,g=s.y+s.height/2-a.height/2,b=s[d]/2-a[d]/2;let y;switch(f){case"top":y={x:p,y:s.y-a.height};break;case"bottom":y={x:p,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:g};break;case"left":y={x:s.x-a.width,y:g};break;default:y={x:s.x,y:s.y}}switch(Zl(t)){case"start":y[l]-=b*(n&&h?-1:1);break;case"end":y[l]+=b*(n&&h?-1:1);break}return y}const TP=(e,t,n)=>ve(null,null,function*(){const{placement:s="bottom",strategy:a="absolute",middleware:o=[],platform:l}=n,d=o.filter(Boolean),f=yield l.isRTL==null?void 0:l.isRTL(t);let h=yield l.getElementRects({reference:e,floating:t,strategy:a}),{x:p,y:g}=f1(h,s,f),b=s,y={},w=0;for(let _=0;_<d.length;_++){const{name:S,fn:j}=d[_],{x:R,y:O,data:C,reset:A}=yield j({x:p,y:g,initialPlacement:s,placement:b,strategy:a,middlewareData:y,rects:h,platform:l,elements:{reference:e,floating:t}});p=R!=null?R:p,g=O!=null?O:g,y=me(L({},y),{[S]:L(L({},y[S]),C)}),A&&w<=50&&(w++,typeof A=="object"&&(A.placement&&(b=A.placement),A.rects&&(h=A.rects===!0?yield l.getElementRects({reference:e,floating:t,strategy:a}):A.rects),{x:p,y:g}=f1(h,b,f)),_=-1)}return{x:p,y:g,placement:b,strategy:a,middlewareData:y}});function Bu(e,t){return ve(this,null,function*(){var n;t===void 0&&(t={});const{x:s,y:a,platform:o,rects:l,elements:d,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:b=!1,padding:y=0}=Va(t,e),w=_2(y),S=d[b?g==="floating"?"reference":"floating":g],j=wh(yield o.getClippingRect({element:(n=yield o.isElement==null?void 0:o.isElement(S))==null||n?S:S.contextElement||(yield o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:h,rootBoundary:p,strategy:f})),R=g==="floating"?{x:s,y:a,width:l.floating.width,height:l.floating.height}:l.reference,O=yield o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating),C=(yield o.isElement==null?void 0:o.isElement(O))?(yield o.getScale==null?void 0:o.getScale(O))||{x:1,y:1}:{x:1,y:1},A=wh(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:R,offsetParent:O,strategy:f}):R);return{top:(j.top-A.top+w.top)/C.y,bottom:(A.bottom-j.bottom+w.bottom)/C.y,left:(j.left-A.left+w.left)/C.x,right:(A.right-j.right+w.right)/C.x}})}const kP=e=>({name:"arrow",options:e,fn(n){return ve(this,null,function*(){const{x:s,y:a,placement:o,rects:l,platform:d,elements:f,middlewareData:h}=n,{element:p,padding:g=0}=Va(e,n)||{};if(p==null)return{};const b=_2(g),y={x:s,y:a},w=Mx(o),_=Dx(w),S=yield d.getDimensions(p),j=w==="y",R=j?"top":"left",O=j?"bottom":"right",C=j?"clientHeight":"clientWidth",A=l.reference[_]+l.reference[w]-y[w]-l.floating[_],k=y[w]-l.reference[w],B=yield d.getOffsetParent==null?void 0:d.getOffsetParent(p);let z=B?B[C]:0;(!z||!(yield d.isElement==null?void 0:d.isElement(B)))&&(z=f.floating[C]||l.floating[_]);const q=A/2-k/2,ne=z/2-S[_]/2-1,I=Ri(b[R],ne),te=Ri(b[O],ne),le=I,pe=z-S[_]-te,Q=z/2-S[_]/2+q,$=E0(le,Q,pe),J=!h.arrow&&Zl(o)!=null&&Q!==$&&l.reference[_]/2-(Q<le?I:te)-S[_]/2<0,K=J?Q<le?Q-le:Q-pe:0;return{[w]:y[w]+K,data:L({[w]:$,centerOffset:Q-$-K},J&&{alignmentOffset:K}),reset:J}})}}),CP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(n){return ve(this,null,function*(){var s,a;const{placement:o,middlewareData:l,rects:d,initialPlacement:f,platform:h,elements:p}=n,Q=Va(e,n),{mainAxis:g=!0,crossAxis:b=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:S=!0}=Q,j=Le(Q,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((s=l.arrow)!=null&&s.alignmentOffset)return{};const R=qa(o),O=sa(f),C=qa(f)===f,A=yield h.isRTL==null?void 0:h.isRTL(p.floating),k=y||(C||!S?[vh(f)]:wP(f)),B=_!=="none";!y&&B&&k.push(...NP(f,S,_,A));const z=[f,...k],q=yield Bu(n,j),ne=[];let I=((a=l.flip)==null?void 0:a.overflows)||[];if(g&&ne.push(q[R]),b){const $=vP(o,d,A);ne.push(q[$[0]],q[$[1]])}if(I=[...I,{placement:o,overflows:ne}],!ne.every($=>$<=0)){var te,le;const $=(((te=l.flip)==null?void 0:te.index)||0)+1,J=z[$];if(J&&(!(b==="alignment"?O!==sa(J):!1)||I.every(M=>sa(M.placement)===O?M.overflows[0]>0:!0)))return{data:{index:$,overflows:I},reset:{placement:J}};let K=(le=I.filter(he=>he.overflows[0]<=0).sort((he,M)=>he.overflows[1]-M.overflows[1])[0])==null?void 0:le.placement;if(!K)switch(w){case"bestFit":{var pe;const he=(pe=I.filter(M=>{if(B){const ae=sa(M.placement);return ae===O||ae==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(ae=>ae>0).reduce((ae,G)=>ae+G,0)]).sort((M,ae)=>M[1]-ae[1])[0])==null?void 0:pe[0];he&&(K=he);break}case"initialPlacement":K=f;break}if(o!==K)return{reset:{placement:K}}}return{}})}}};function h1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function m1(e){return gP.some(t=>e[t]>=0)}const AP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(n){return ve(this,null,function*(){const{rects:s}=n,l=Va(e,n),{strategy:a="referenceHidden"}=l,o=Le(l,["strategy"]);switch(a){case"referenceHidden":{const d=yield Bu(n,me(L({},o),{elementContext:"reference"})),f=h1(d,s.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:m1(f)}}}case"escaped":{const d=yield Bu(n,me(L({},o),{altBoundary:!0})),f=h1(d,s.floating);return{data:{escapedOffsets:f,escaped:m1(f)}}}default:return{}}})}}},j2=new Set(["left","top"]);function OP(e,t){return ve(this,null,function*(){const{placement:n,platform:s,elements:a}=e,o=yield s.isRTL==null?void 0:s.isRTL(a.floating),l=qa(n),d=Zl(n),f=sa(n)==="y",h=j2.has(l)?-1:1,p=o&&f?-1:1,g=Va(t,e);let{mainAxis:b,crossAxis:y,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof w=="number"&&(y=d==="end"?w*-1:w),f?{x:y*p,y:b*h}:{x:b*h,y:y*p}})}const RP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(n){return ve(this,null,function*(){var s,a;const{x:o,y:l,placement:d,middlewareData:f}=n,h=yield OP(n,e);return d===((s=f.offset)==null?void 0:s.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:o+h.x,y:l+h.y,data:me(L({},h),{placement:d})}})}}},DP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(n){return ve(this,null,function*(){const{x:s,y:a,placement:o}=n,j=Va(e,n),{mainAxis:l=!0,crossAxis:d=!1,limiter:f={fn:R=>{let{x:O,y:C}=R;return{x:O,y:C}}}}=j,h=Le(j,["mainAxis","crossAxis","limiter"]),p={x:s,y:a},g=yield Bu(n,h),b=sa(qa(o)),y=Rx(b);let w=p[y],_=p[b];if(l){const R=y==="y"?"top":"left",O=y==="y"?"bottom":"right",C=w+g[R],A=w-g[O];w=E0(C,w,A)}if(d){const R=b==="y"?"top":"left",O=b==="y"?"bottom":"right",C=_+g[R],A=_-g[O];_=E0(C,_,A)}const S=f.fn(me(L({},n),{[y]:w,[b]:_}));return me(L({},S),{data:{x:S.x-s,y:S.y-a,enabled:{[y]:l,[b]:d}}})})}}},MP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:o,middlewareData:l}=t,{offset:d=0,mainAxis:f=!0,crossAxis:h=!0}=Va(e,t),p={x:n,y:s},g=sa(a),b=Rx(g);let y=p[b],w=p[g];const _=Va(d,t),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:L({mainAxis:0,crossAxis:0},_);if(f){const O=b==="y"?"height":"width",C=o.reference[b]-o.floating[O]+S.mainAxis,A=o.reference[b]+o.reference[O]-S.mainAxis;y<C?y=C:y>A&&(y=A)}if(h){var j,R;const O=b==="y"?"width":"height",C=j2.has(qa(a)),A=o.reference[g]-o.floating[O]+(C&&((j=l.offset)==null?void 0:j[g])||0)+(C?0:S.crossAxis),k=o.reference[g]+o.reference[O]+(C?0:((R=l.offset)==null?void 0:R[g])||0)-(C?S.crossAxis:0);w<A?w=A:w>k&&(w=k)}return{[b]:y,[g]:w}}}},PP=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(n){return ve(this,null,function*(){var s,a;const{placement:o,rects:l,platform:d,elements:f}=n,I=Va(e,n),{apply:h=()=>{}}=I,p=Le(I,["apply"]),g=yield Bu(n,p),b=qa(o),y=Zl(o),w=sa(o)==="y",{width:_,height:S}=l.floating;let j,R;b==="top"||b==="bottom"?(j=b,R=y===((yield d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(R=b,j=y==="end"?"top":"bottom");const O=S-g.top-g.bottom,C=_-g.left-g.right,A=Ri(S-g[j],O),k=Ri(_-g[R],C),B=!n.middlewareData.shift;let z=A,q=k;if((s=n.middlewareData.shift)!=null&&s.enabled.x&&(q=C),(a=n.middlewareData.shift)!=null&&a.enabled.y&&(z=O),B&&!y){const te=tr(g.left,0),le=tr(g.right,0),pe=tr(g.top,0),Q=tr(g.bottom,0);w?q=_-2*(te!==0||le!==0?te+le:tr(g.left,g.right)):z=S-2*(pe!==0||Q!==0?pe+Q:tr(g.top,g.bottom))}yield h(me(L({},n),{availableWidth:q,availableHeight:z}));const ne=yield d.getDimensions(f.floating);return _!==ne.width||S!==ne.height?{reset:{rects:!0}}:{}})}}};function Kh(){return typeof window!="undefined"}function Jl(e){return S2(e)?(e.nodeName||"").toLowerCase():"#document"}function ar(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ma(e){var t;return(t=(S2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function S2(e){return Kh()?e instanceof Node||e instanceof ar(e).Node:!1}function Fr(e){return Kh()?e instanceof Element||e instanceof ar(e).Element:!1}function da(e){return Kh()?e instanceof HTMLElement||e instanceof ar(e).HTMLElement:!1}function p1(e){return!Kh()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof ar(e).ShadowRoot}const LP=new Set(["inline","contents"]);function Ku(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=Hr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!LP.has(a)}const zP=new Set(["table","td","th"]);function UP(e){return zP.has(Jl(e))}const BP=[":popover-open",":modal"];function Qh(e){return BP.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const FP=["transform","translate","scale","rotate","perspective"],HP=["transform","translate","scale","rotate","perspective","filter"],$P=["paint","layout","strict","content"];function Px(e){const t=Lx(),n=Fr(e)?Hr(e):e;return FP.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||HP.some(s=>(n.willChange||"").includes(s))||$P.some(s=>(n.contain||"").includes(s))}function VP(e){let t=Di(e);for(;da(t)&&!Wl(t);){if(Px(t))return t;if(Qh(t))return null;t=Di(t)}return null}function Lx(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qP=new Set(["html","body","#document"]);function Wl(e){return qP.has(Jl(e))}function Hr(e){return ar(e).getComputedStyle(e)}function Zh(e){return Fr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Di(e){if(Jl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||p1(e)&&e.host||ma(e);return p1(t)?t.host:t}function N2(e){const t=Di(e);return Wl(t)?e.ownerDocument?e.ownerDocument.body:e.body:da(t)&&Ku(t)?t:N2(t)}function Fu(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=N2(e),o=a===((s=e.ownerDocument)==null?void 0:s.body),l=ar(a);if(o){const d=k0(l);return t.concat(l,l.visualViewport||[],Ku(a)?a:[],d&&n?Fu(d):[])}return t.concat(a,Fu(a,[],n))}function k0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function E2(e){const t=Hr(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=da(e),o=a?e.offsetWidth:n,l=a?e.offsetHeight:s,d=bh(n)!==o||bh(s)!==l;return d&&(n=o,s=l),{width:n,height:s,$:d}}function zx(e){return Fr(e)?e:e.contextElement}function Fl(e){const t=zx(e);if(!da(t))return la(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:o}=E2(t);let l=(o?bh(n.width):n.width)/s,d=(o?bh(n.height):n.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const IP=la(0);function T2(e){const t=ar(e);return!Lx()||!t.visualViewport?IP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function YP(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ar(e)?!1:t}function Ro(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=zx(e);let l=la(1);t&&(s?Fr(s)&&(l=Fl(s)):l=Fl(e));const d=YP(o,n,s)?T2(o):la(0);let f=(a.left+d.x)/l.x,h=(a.top+d.y)/l.y,p=a.width/l.x,g=a.height/l.y;if(o){const b=ar(o),y=s&&Fr(s)?ar(s):s;let w=b,_=k0(w);for(;_&&s&&y!==w;){const S=Fl(_),j=_.getBoundingClientRect(),R=Hr(_),O=j.left+(_.clientLeft+parseFloat(R.paddingLeft))*S.x,C=j.top+(_.clientTop+parseFloat(R.paddingTop))*S.y;f*=S.x,h*=S.y,p*=S.x,g*=S.y,f+=O,h+=C,w=ar(_),_=k0(w)}}return wh({width:p,height:g,x:f,y:h})}function Ux(e,t){const n=Zh(e).scrollLeft;return t?t.left+n:Ro(ma(e)).left+n}function k2(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:Ux(e,s)),o=s.top+t.scrollTop;return{x:a,y:o}}function WP(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const o=a==="fixed",l=ma(s),d=t?Qh(t.floating):!1;if(s===l||d&&o)return n;let f={scrollLeft:0,scrollTop:0},h=la(1);const p=la(0),g=da(s);if((g||!g&&!o)&&((Jl(s)!=="body"||Ku(l))&&(f=Zh(s)),da(s))){const y=Ro(s);h=Fl(s),p.x=y.x+s.clientLeft,p.y=y.y+s.clientTop}const b=l&&!g&&!o?k2(l,f,!0):la(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+p.x+b.x,y:n.y*h.y-f.scrollTop*h.y+p.y+b.y}}function XP(e){return Array.from(e.getClientRects())}function GP(e){const t=ma(e),n=Zh(e),s=e.ownerDocument.body,a=tr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=tr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let l=-n.scrollLeft+Ux(e);const d=-n.scrollTop;return Hr(s).direction==="rtl"&&(l+=tr(t.clientWidth,s.clientWidth)-a),{width:a,height:o,x:l,y:d}}function KP(e,t){const n=ar(e),s=ma(e),a=n.visualViewport;let o=s.clientWidth,l=s.clientHeight,d=0,f=0;if(a){o=a.width,l=a.height;const h=Lx();(!h||h&&t==="fixed")&&(d=a.offsetLeft,f=a.offsetTop)}return{width:o,height:l,x:d,y:f}}const QP=new Set(["absolute","fixed"]);function ZP(e,t){const n=Ro(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,o=da(e)?Fl(e):la(1),l=e.clientWidth*o.x,d=e.clientHeight*o.y,f=a*o.x,h=s*o.y;return{width:l,height:d,x:f,y:h}}function g1(e,t,n){let s;if(t==="viewport")s=KP(e,n);else if(t==="document")s=GP(ma(e));else if(Fr(t))s=ZP(t,n);else{const a=T2(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return wh(s)}function C2(e,t){const n=Di(e);return n===t||!Fr(n)||Wl(n)?!1:Hr(n).position==="fixed"||C2(n,t)}function JP(e,t){const n=t.get(e);if(n)return n;let s=Fu(e,[],!1).filter(d=>Fr(d)&&Jl(d)!=="body"),a=null;const o=Hr(e).position==="fixed";let l=o?Di(e):e;for(;Fr(l)&&!Wl(l);){const d=Hr(l),f=Px(l);!f&&d.position==="fixed"&&(a=null),(o?!f&&!a:!f&&d.position==="static"&&!!a&&QP.has(a.position)||Ku(l)&&!f&&C2(e,l))?s=s.filter(p=>p!==l):a=d,l=Di(l)}return t.set(e,s),s}function e3(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const l=[...n==="clippingAncestors"?Qh(t)?[]:JP(t,this._c):[].concat(n),s],d=l[0],f=l.reduce((h,p)=>{const g=g1(t,p,a);return h.top=tr(g.top,h.top),h.right=Ri(g.right,h.right),h.bottom=Ri(g.bottom,h.bottom),h.left=tr(g.left,h.left),h},g1(t,d,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function t3(e){const{width:t,height:n}=E2(e);return{width:t,height:n}}function n3(e,t,n){const s=da(t),a=ma(t),o=n==="fixed",l=Ro(e,!0,o,t);let d={scrollLeft:0,scrollTop:0};const f=la(0);function h(){f.x=Ux(a)}if(s||!s&&!o)if((Jl(t)!=="body"||Ku(a))&&(d=Zh(t)),s){const y=Ro(t,!0,o,t);f.x=y.x+t.clientLeft,f.y=y.y+t.clientTop}else a&&h();o&&!s&&a&&h();const p=a&&!s&&!o?k2(a,d):la(0),g=l.left+d.scrollLeft-f.x-p.x,b=l.top+d.scrollTop-f.y-p.y;return{x:g,y:b,width:l.width,height:l.height}}function Cg(e){return Hr(e).position==="static"}function x1(e,t){if(!da(e)||Hr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ma(e)===n&&(n=n.ownerDocument.body),n}function A2(e,t){const n=ar(e);if(Qh(e))return n;if(!da(e)){let a=Di(e);for(;a&&!Wl(a);){if(Fr(a)&&!Cg(a))return a;a=Di(a)}return n}let s=x1(e,t);for(;s&&UP(s)&&Cg(s);)s=x1(s,t);return s&&Wl(s)&&Cg(s)&&!Px(s)?n:s||VP(e)||n}const s3=function(e){return ve(this,null,function*(){const t=this.getOffsetParent||A2,n=this.getDimensions,s=yield n(e.floating);return{reference:n3(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}})};function r3(e){return Hr(e).direction==="rtl"}const a3={convertOffsetParentRelativeRectToViewportRelativeRect:WP,getDocumentElement:ma,getClippingRect:e3,getOffsetParent:A2,getElementRects:s3,getClientRects:XP,getDimensions:t3,getScale:Fl,isElement:Fr,isRTL:r3};function O2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function i3(e,t){let n=null,s;const a=ma(e);function o(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function l(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),o();const h=e.getBoundingClientRect(),{left:p,top:g,width:b,height:y}=h;if(d||t(),!b||!y)return;const w=_f(g),_=_f(a.clientWidth-(p+b)),S=_f(a.clientHeight-(g+y)),j=_f(p),O={rootMargin:-w+"px "+-_+"px "+-S+"px "+-j+"px",threshold:tr(0,Ri(1,f))||1};let C=!0;function A(k){const B=k[0].intersectionRatio;if(B!==f){if(!C)return l();B?l(!1,B):s=setTimeout(()=>{l(!1,1e-7)},1e3)}B===1&&!O2(h,e.getBoundingClientRect())&&l(),C=!1}try{n=new IntersectionObserver(A,me(L({},O),{root:a.ownerDocument}))}catch(k){n=new IntersectionObserver(A,O)}n.observe(e)}return l(!0),o}function o3(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,h=zx(e),p=a||o?[...h?Fu(h):[],...Fu(t)]:[];p.forEach(j=>{a&&j.addEventListener("scroll",n,{passive:!0}),o&&j.addEventListener("resize",n)});const g=h&&d?i3(h,n):null;let b=-1,y=null;l&&(y=new ResizeObserver(j=>{let[R]=j;R&&R.target===h&&y&&(y.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var O;(O=y)==null||O.observe(t)})),n()}),h&&!f&&y.observe(h),y.observe(t));let w,_=f?Ro(e):null;f&&S();function S(){const j=Ro(e);_&&!O2(_,j)&&n(),_=j,w=requestAnimationFrame(S)}return n(),()=>{var j;p.forEach(R=>{a&&R.removeEventListener("scroll",n),o&&R.removeEventListener("resize",n)}),g==null||g(),(j=y)==null||j.disconnect(),y=null,f&&cancelAnimationFrame(w)}}const l3=RP,c3=DP,u3=CP,d3=PP,f3=AP,y1=kP,h3=MP,m3=(e,t,n)=>{const s=new Map,a=L({platform:a3},n),o=me(L({},a.platform),{_c:s});return TP(e,t,me(L({},a),{platform:o}))};var p3=typeof document!="undefined",g3=function(){},ih=p3?N.useLayoutEffect:g3;function _h(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!_h(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const o=a[s];if(!(o==="_owner"&&e.$$typeof)&&!_h(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function R2(e){return typeof window=="undefined"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function b1(e,t){const n=R2(e);return Math.round(t*n)/n}function Ag(e){const t=N.useRef(e);return ih(()=>{t.current=e}),t}function x3(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:o,floating:l}={},transform:d=!0,whileElementsMounted:f,open:h}=e,[p,g]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,y]=N.useState(s);_h(b,s)||y(s);const[w,_]=N.useState(null),[S,j]=N.useState(null),R=N.useCallback(K=>{K!==k.current&&(k.current=K,_(K))},[]),O=N.useCallback(K=>{K!==B.current&&(B.current=K,j(K))},[]),C=o||w,A=l||S,k=N.useRef(null),B=N.useRef(null),z=N.useRef(p),q=f!=null,ne=Ag(f),I=Ag(a),te=Ag(h),le=N.useCallback(()=>{if(!k.current||!B.current)return;const K={placement:t,strategy:n,middleware:b};I.current&&(K.platform=I.current),m3(k.current,B.current,K).then(he=>{const M=me(L({},he),{isPositioned:te.current!==!1});pe.current&&!_h(z.current,M)&&(z.current=M,Yh.flushSync(()=>{g(M)}))})},[b,t,n,I,te]);ih(()=>{h===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,g(K=>me(L({},K),{isPositioned:!1})))},[h]);const pe=N.useRef(!1);ih(()=>(pe.current=!0,()=>{pe.current=!1}),[]),ih(()=>{if(C&&(k.current=C),A&&(B.current=A),C&&A){if(ne.current)return ne.current(C,A,le);le()}},[C,A,le,ne,q]);const Q=N.useMemo(()=>({reference:k,floating:B,setReference:R,setFloating:O}),[R,O]),$=N.useMemo(()=>({reference:C,floating:A}),[C,A]),J=N.useMemo(()=>{const K={position:n,left:0,top:0};if(!$.floating)return K;const he=b1($.floating,p.x),M=b1($.floating,p.y);return d?L(me(L({},K),{transform:"translate("+he+"px, "+M+"px)"}),R2($.floating)>=1.5&&{willChange:"transform"}):{position:n,left:he,top:M}},[n,d,$.floating,p.x,p.y]);return N.useMemo(()=>me(L({},p),{update:le,refs:Q,elements:$,floatingStyles:J}),[p,le,Q,$,J])}const y3=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?y1({element:s.current,padding:a}).fn(n):{}:s?y1({element:s,padding:a}).fn(n):{}}}},b3=(e,t)=>me(L({},l3(e)),{options:[e,t]}),v3=(e,t)=>me(L({},c3(e)),{options:[e,t]}),w3=(e,t)=>me(L({},h3(e)),{options:[e,t]}),_3=(e,t)=>me(L({},u3(e)),{options:[e,t]}),j3=(e,t)=>me(L({},d3(e)),{options:[e,t]}),S3=(e,t)=>me(L({},f3(e)),{options:[e,t]}),N3=(e,t)=>me(L({},y3(e)),{options:[e,t]});var E3="Arrow",D2=N.forwardRef((e,t)=>{const l=e,{children:n,width:s=10,height:a=5}=l,o=Le(l,["children","width","height"]);return c.jsx(kn.svg,me(L({},o),{ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})}))});D2.displayName=E3;var T3=D2;function k3(e){const[t,n]=N.useState(void 0);return Oi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let l,d;if("borderBoxSize"in o){const f=o.borderBoxSize,h=Array.isArray(f)?f[0]:f;l=h.inlineSize,d=h.blockSize}else l=e.offsetWidth,d=e.offsetHeight;n({width:l,height:d})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Bx="Popper",[M2,P2]=Cx(Bx),[C3,L2]=M2(Bx),z2=e=>{const{__scopePopper:t,children:n}=e,[s,a]=N.useState(null);return c.jsx(C3,{scope:t,anchor:s,onAnchorChange:a,children:n})};z2.displayName=Bx;var U2="PopperAnchor",B2=N.forwardRef((e,t)=>{const f=e,{__scopePopper:n,virtualRef:s}=f,a=Le(f,["__scopePopper","virtualRef"]),o=L2(U2,n),l=N.useRef(null),d=$r(t,l);return N.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||l.current)}),s?null:c.jsx(kn.div,me(L({},a),{ref:d}))});B2.displayName=U2;var Fx="PopperContent",[A3,O3]=M2(Fx),F2=N.forwardRef((e,t)=>{var Ae,He,Pe,et,We,ft,ze,_t;const Oe=e,{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:o="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:y="optimized",onPlaced:w}=Oe,_=Le(Oe,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),S=L2(Fx,n),[j,R]=N.useState(null),O=$r(t,Ft=>R(Ft)),[C,A]=N.useState(null),k=k3(C),B=(Ae=k==null?void 0:k.width)!=null?Ae:0,z=(He=k==null?void 0:k.height)!=null?He:0,q=s+(o!=="center"?"-"+o:""),ne=typeof p=="number"?p:L({top:0,right:0,bottom:0,left:0},p),I=Array.isArray(h)?h:[h],te=I.length>0,le={padding:ne,boundary:I.filter(D3),altBoundary:te},{refs:pe,floatingStyles:Q,placement:$,isPositioned:J,middlewareData:K}=x3({strategy:"fixed",placement:q,whileElementsMounted:(...Ft)=>o3(...Ft,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[b3({mainAxis:a+z,alignmentAxis:l}),f&&v3(L({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?w3():void 0},le)),f&&_3(L({},le)),j3(me(L({},le),{apply:({elements:Ft,rects:bt,availableWidth:ot,availableHeight:Tt})=>{const{width:Y,height:ce}=bt.reference,V=Ft.floating.style;V.setProperty("--radix-popper-available-width",`${ot}px`),V.setProperty("--radix-popper-available-height",`${Tt}px`),V.setProperty("--radix-popper-anchor-width",`${Y}px`),V.setProperty("--radix-popper-anchor-height",`${ce}px`)}})),C&&N3({element:C,padding:d}),M3({arrowWidth:B,arrowHeight:z}),b&&S3(L({strategy:"referenceHidden"},le))]}),[he,M]=V2($),ae=Yl(w);Oi(()=>{J&&(ae==null||ae())},[J,ae]);const G=(Pe=K.arrow)==null?void 0:Pe.x,F=(et=K.arrow)==null?void 0:et.y,Z=((We=K.arrow)==null?void 0:We.centerOffset)!==0,[ye,de]=N.useState();return Oi(()=>{j&&de(window.getComputedStyle(j).zIndex)},[j]),c.jsx("div",{ref:pe.setFloating,"data-radix-popper-content-wrapper":"",style:L(me(L({},Q),{transform:J?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(ft=K.transformOrigin)==null?void 0:ft.x,(ze=K.transformOrigin)==null?void 0:ze.y].join(" ")}),((_t=K.hide)==null?void 0:_t.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:c.jsx(A3,{scope:n,placedSide:he,onArrowChange:A,arrowX:G,arrowY:F,shouldHideArrow:Z,children:c.jsx(kn.div,me(L({"data-side":he,"data-align":M},_),{ref:O,style:me(L({},_.style),{animation:J?void 0:"none"})}))})})});F2.displayName=Fx;var H2="PopperArrow",R3={top:"bottom",right:"left",bottom:"top",left:"right"},$2=N.forwardRef(function(t,n){const d=t,{__scopePopper:s}=d,a=Le(d,["__scopePopper"]),o=O3(H2,s),l=R3[o.placedSide];return c.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:c.jsx(T3,me(L({},a),{ref:n,style:me(L({},a.style),{display:"block"})}))})});$2.displayName=H2;function D3(e){return e!==null}var M3=e=>({name:"transformOrigin",options:e,fn(t){var S,j,R,O,C;const{placement:n,rects:s,middlewareData:a}=t,l=((S=a.arrow)==null?void 0:S.centerOffset)!==0,d=l?0:e.arrowWidth,f=l?0:e.arrowHeight,[h,p]=V2(n),g={start:"0%",center:"50%",end:"100%"}[p],b=((R=(j=a.arrow)==null?void 0:j.x)!=null?R:0)+d/2,y=((C=(O=a.arrow)==null?void 0:O.y)!=null?C:0)+f/2;let w="",_="";return h==="bottom"?(w=l?g:`${b}px`,_=`${-f}px`):h==="top"?(w=l?g:`${b}px`,_=`${s.floating.height+f}px`):h==="right"?(w=`${-f}px`,_=l?g:`${y}px`):h==="left"&&(w=`${s.floating.width+f}px`,_=l?g:`${y}px`),{data:{x:w,y:_}}}});function V2(e){const[t,n="center"]=e.split("-");return[t,n]}var P3=z2,q2=B2,L3=F2,z3=$2,U3="Portal",Hx=N.forwardRef((e,t)=>{var f;const d=e,{container:n}=d,s=Le(d,["container"]),[a,o]=N.useState(!1);Oi(()=>o(!0),[]);const l=n||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return l?h2.createPortal(c.jsx(kn.div,me(L({},s),{ref:t})),l):null});Hx.displayName=U3;function B3(e,t){return N.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var ec=e=>{const{present:t,children:n}=e,s=F3(t),a=typeof n=="function"?n({present:s.isPresent}):N.Children.only(n),o=$r(s.ref,H3(a));return typeof n=="function"||s.isPresent?N.cloneElement(a,{ref:o}):null};ec.displayName="Presence";function F3(e){const[t,n]=N.useState(),s=N.useRef(null),a=N.useRef(e),o=N.useRef("none"),l=e?"mounted":"unmounted",[d,f]=B3(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const h=jf(s.current);o.current=d==="mounted"?h:"none"},[d]),Oi(()=>{const h=s.current,p=a.current;if(p!==e){const b=o.current,y=jf(h);e?f("MOUNT"):y==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&b!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Oi(()=>{var h;if(t){let p;const g=(h=t.ownerDocument.defaultView)!=null?h:window,b=w=>{const S=jf(s.current).includes(w.animationName);if(w.target===t&&S&&(f("ANIMATION_END"),!a.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},y=w=>{w.target===t&&(o.current=jf(s.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:N.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function jf(e){return(e==null?void 0:e.animationName)||"none"}function H3(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var $3=lS[" useInsertionEffect ".trim().toString()]||Oi;function I2({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,o,l]=V3({defaultProp:t,onChange:n}),d=e!==void 0,f=d?e:a;{const p=N.useRef(e!==void 0);N.useEffect(()=>{const g=p.current;g!==d&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,s])}const h=N.useCallback(p=>{var g;if(d){const b=q3(p)?p(e):p;b!==e&&((g=l.current)==null||g.call(l,b))}else o(p)},[d,e,o,l]);return[f,h]}function V3({defaultProp:e,onChange:t}){const[n,s]=N.useState(e),a=N.useRef(n),o=N.useRef(t);return $3(()=>{o.current=t},[t]),N.useEffect(()=>{var l;a.current!==n&&((l=o.current)==null||l.call(o,n),a.current=n)},[n,a]),[n,s,o]}function q3(e){return typeof e=="function"}var I3=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Sl=new WeakMap,Sf=new WeakMap,Nf={},Og=0,Y2=function(e){return e&&(e.host||Y2(e.parentNode))},Y3=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=Y2(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},W3=function(e,t,n,s){var a=Y3(t,Array.isArray(e)?e:[e]);Nf[n]||(Nf[n]=new WeakMap);var o=Nf[n],l=[],d=new Set,f=new Set(a),h=function(g){!g||d.has(g)||(d.add(g),h(g.parentNode))};a.forEach(h);var p=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(b){if(d.has(b))p(b);else try{var y=b.getAttribute(s),w=y!==null&&y!=="false",_=(Sl.get(b)||0)+1,S=(o.get(b)||0)+1;Sl.set(b,_),o.set(b,S),l.push(b),_===1&&w&&Sf.set(b,!0),S===1&&b.setAttribute(n,"true"),w||b.setAttribute(s,"true")}catch(j){console.error("aria-hidden: cannot operate on ",b,j)}})};return p(t),d.clear(),Og++,function(){l.forEach(function(g){var b=Sl.get(g)-1,y=o.get(g)-1;Sl.set(g,b),o.set(g,y),b||(Sf.has(g)||g.removeAttribute(s),Sf.delete(g)),y||g.removeAttribute(n)}),Og--,Og||(Sl=new WeakMap,Sl=new WeakMap,Sf=new WeakMap,Nf={})}},W2=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=I3(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),W3(s,a,n,"aria-hidden")):function(){return null}},na=function(){return na=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},na.apply(this,arguments)};function X2(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function X3(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,o;s<a;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var oh="right-scroll-bar-position",lh="width-before-scroll-bar",G3="with-scroll-bars-hidden",K3="--removed-body-scroll-bar-size";function Rg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Q3(e,t){var n=N.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var Z3=typeof window!="undefined"?N.useLayoutEffect:N.useEffect,v1=new WeakMap;function J3(e,t){var n=Q3(null,function(s){return e.forEach(function(a){return Rg(a,s)})});return Z3(function(){var s=v1.get(n);if(s){var a=new Set(s),o=new Set(e),l=n.current;a.forEach(function(d){o.has(d)||Rg(d,null)}),o.forEach(function(d){a.has(d)||Rg(d,l)})}v1.set(n,e)},[e]),n}function e4(e){return e}function t4(e,t){t===void 0&&(t=e4);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,s);return n.push(l),function(){n=n.filter(function(d){return d!==l})}},assignSyncMedium:function(o){for(s=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(d){return o(d)},filter:function(){return n}}},assignMedium:function(o){s=!0;var l=[];if(n.length){var d=n;n=[],d.forEach(o),l=n}var f=function(){var p=l;l=[],p.forEach(o)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),n}}}};return a}function n4(e){e===void 0&&(e={});var t=t4(null);return t.options=na({async:!0,ssr:!1},e),t}var G2=function(e){var t=e.sideCar,n=X2(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return N.createElement(s,na({},n))};G2.isSideCarExport=!0;function s4(e,t){return e.useMedium(t),G2}var K2=n4(),Dg=function(){},Jh=N.forwardRef(function(e,t){var n=N.useRef(null),s=N.useState({onScrollCapture:Dg,onWheelCapture:Dg,onTouchMoveCapture:Dg}),a=s[0],o=s[1],l=e.forwardProps,d=e.children,f=e.className,h=e.removeScrollBar,p=e.enabled,g=e.shards,b=e.sideCar,y=e.noRelative,w=e.noIsolation,_=e.inert,S=e.allowPinchZoom,j=e.as,R=j===void 0?"div":j,O=e.gapMode,C=X2(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=b,k=J3([n,t]),B=na(na({},C),a);return N.createElement(N.Fragment,null,p&&N.createElement(A,{sideCar:K2,removeScrollBar:h,shards:g,noRelative:y,noIsolation:w,inert:_,setCallbacks:o,allowPinchZoom:!!S,lockRef:n,gapMode:O}),l?N.cloneElement(N.Children.only(d),na(na({},B),{ref:k})):N.createElement(R,na({},B,{className:f,ref:k}),d))});Jh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jh.classNames={fullWidth:lh,zeroRight:oh};var r4=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function a4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=r4();return t&&e.setAttribute("nonce",t),e}function i4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function o4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var l4=function(){var e=0,t=null;return{add:function(n){e==0&&(t=a4())&&(i4(t,n),o4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},c4=function(){var e=l4();return function(t,n){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Q2=function(){var e=c4(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},u4={left:0,top:0,right:0,gap:0},Mg=function(e){return parseInt(e||"",10)||0},d4=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Mg(n),Mg(s),Mg(a)]},f4=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return u4;var t=d4(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},h4=Q2(),Hl="data-scroll-locked",m4=function(e,t,n,s){var a=e.left,o=e.top,l=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(G3,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(Hl,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(oh,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(lh,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(oh," .").concat(oh,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(lh," .").concat(lh,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Hl,`] {
    `).concat(K3,": ").concat(d,`px;
  }
`)},w1=function(){var e=parseInt(document.body.getAttribute(Hl)||"0",10);return isFinite(e)?e:0},p4=function(){N.useEffect(function(){return document.body.setAttribute(Hl,(w1()+1).toString()),function(){var e=w1()-1;e<=0?document.body.removeAttribute(Hl):document.body.setAttribute(Hl,e.toString())}},[])},g4=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;p4();var o=N.useMemo(function(){return f4(a)},[a]);return N.createElement(h4,{styles:m4(o,!t,a,n?"":"!important")})},C0=!1;if(typeof window!="undefined")try{var Ef=Object.defineProperty({},"passive",{get:function(){return C0=!0,!0}});window.addEventListener("test",Ef,Ef),window.removeEventListener("test",Ef,Ef)}catch(e){C0=!1}var Nl=C0?{passive:!1}:!1,x4=function(e){return e.tagName==="TEXTAREA"},Z2=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!x4(e)&&n[t]==="visible")},y4=function(e){return Z2(e,"overflowY")},b4=function(e){return Z2(e,"overflowX")},_1=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot!="undefined"&&s instanceof ShadowRoot&&(s=s.host);var a=J2(e,s);if(a){var o=eN(e,s),l=o[1],d=o[2];if(l>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},v4=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},w4=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},J2=function(e,t){return e==="v"?y4(t):b4(t)},eN=function(e,t){return e==="v"?v4(t):w4(t)},_4=function(e,t){return e==="h"&&t==="rtl"?-1:1},j4=function(e,t,n,s,a){var o=_4(e,window.getComputedStyle(t).direction),l=o*s,d=n.target,f=t.contains(d),h=!1,p=l>0,g=0,b=0;do{if(!d)break;var y=eN(e,d),w=y[0],_=y[1],S=y[2],j=_-S-o*w;(w||j)&&J2(e,d)&&(g+=j,b+=w);var R=d.parentNode;d=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(p&&Math.abs(g)<1||!p&&Math.abs(b)<1)&&(h=!0),h},Tf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},j1=function(e){return[e.deltaX,e.deltaY]},S1=function(e){return e&&"current"in e?e.current:e},S4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},N4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},E4=0,El=[];function T4(e){var t=N.useRef([]),n=N.useRef([0,0]),s=N.useRef(),a=N.useState(E4++)[0],o=N.useState(Q2)[0],l=N.useRef(e);N.useEffect(function(){l.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var _=X3([e.lockRef.current],(e.shards||[]).map(S1),!0).filter(Boolean);return _.forEach(function(S){return S.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),_.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var d=N.useCallback(function(_,S){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var j=Tf(_),R=n.current,O="deltaX"in _?_.deltaX:R[0]-j[0],C="deltaY"in _?_.deltaY:R[1]-j[1],A,k=_.target,B=Math.abs(O)>Math.abs(C)?"h":"v";if("touches"in _&&B==="h"&&k.type==="range")return!1;var z=_1(B,k);if(!z)return!0;if(z?A=B:(A=B==="v"?"h":"v",z=_1(B,k)),!z)return!1;if(!s.current&&"changedTouches"in _&&(O||C)&&(s.current=A),!A)return!0;var q=s.current||A;return j4(q,S,_,q==="h"?O:C)},[]),f=N.useCallback(function(_){var S=_;if(!(!El.length||El[El.length-1]!==o)){var j="deltaY"in S?j1(S):Tf(S),R=t.current.filter(function(A){return A.name===S.type&&(A.target===S.target||S.target===A.shadowParent)&&S4(A.delta,j)})[0];if(R&&R.should){S.cancelable&&S.preventDefault();return}if(!R){var O=(l.current.shards||[]).map(S1).filter(Boolean).filter(function(A){return A.contains(S.target)}),C=O.length>0?d(S,O[0]):!l.current.noIsolation;C&&S.cancelable&&S.preventDefault()}}},[]),h=N.useCallback(function(_,S,j,R){var O={name:_,delta:S,target:j,should:R,shadowParent:k4(j)};t.current.push(O),setTimeout(function(){t.current=t.current.filter(function(C){return C!==O})},1)},[]),p=N.useCallback(function(_){n.current=Tf(_),s.current=void 0},[]),g=N.useCallback(function(_){h(_.type,j1(_),_.target,d(_,e.lockRef.current))},[]),b=N.useCallback(function(_){h(_.type,Tf(_),_.target,d(_,e.lockRef.current))},[]);N.useEffect(function(){return El.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",f,Nl),document.addEventListener("touchmove",f,Nl),document.addEventListener("touchstart",p,Nl),function(){El=El.filter(function(_){return _!==o}),document.removeEventListener("wheel",f,Nl),document.removeEventListener("touchmove",f,Nl),document.removeEventListener("touchstart",p,Nl)}},[]);var y=e.removeScrollBar,w=e.inert;return N.createElement(N.Fragment,null,w?N.createElement(o,{styles:N4(a)}):null,y?N.createElement(g4,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function k4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const C4=s4(K2,T4);var $x=N.forwardRef(function(e,t){return N.createElement(Jh,na({},e,{ref:t,sideCar:C4}))});$x.classNames=Jh.classNames;var em="Popover",[tN,ZF]=Cx(em,[P2]),Qu=P2(),[A4,Bi]=tN(em),nN=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!1}=e,d=Qu(t),f=N.useRef(null),[h,p]=N.useState(!1),[g,b]=I2({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:em});return c.jsx(P3,me(L({},d),{children:c.jsx(A4,{scope:t,contentId:oa(),triggerRef:f,open:g,onOpenChange:b,onOpenToggle:N.useCallback(()=>b(y=>!y),[b]),hasCustomAnchor:h,onCustomAnchorAdd:N.useCallback(()=>p(!0),[]),onCustomAnchorRemove:N.useCallback(()=>p(!1),[]),modal:l,children:n})}))};nN.displayName=em;var sN="PopoverAnchor",O4=N.forwardRef((e,t)=>{const f=e,{__scopePopover:n}=f,s=Le(f,["__scopePopover"]),a=Bi(sN,n),o=Qu(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:d}=a;return N.useEffect(()=>(l(),()=>d()),[l,d]),c.jsx(q2,me(L(L({},o),s),{ref:t}))});O4.displayName=sN;var rN="PopoverTrigger",aN=N.forwardRef((e,t)=>{const f=e,{__scopePopover:n}=f,s=Le(f,["__scopePopover"]),a=Bi(rN,n),o=Qu(n),l=$r(t,a.triggerRef),d=c.jsx(kn.button,me(L({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":uN(a.open)},s),{ref:l,onClick:rr(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?d:c.jsx(q2,me(L({asChild:!0},o),{children:d}))});aN.displayName=rN;var Vx="PopoverPortal",[R4,D4]=tN(Vx,{forceMount:void 0}),iN=e=>{const{__scopePopover:t,forceMount:n,children:s,container:a}=e,o=Bi(Vx,t);return c.jsx(R4,{scope:t,forceMount:n,children:c.jsx(ec,{present:n||o.open,children:c.jsx(Hx,{asChild:!0,container:a,children:s})})})};iN.displayName=Vx;var Xl="PopoverContent",oN=N.forwardRef((e,t)=>{const n=D4(Xl,e.__scopePopover),l=e,{forceMount:s=n.forceMount}=l,a=Le(l,["forceMount"]),o=Bi(Xl,e.__scopePopover);return c.jsx(ec,{present:s||o.open,children:o.modal?c.jsx(P4,me(L({},a),{ref:t})):c.jsx(L4,me(L({},a),{ref:t}))})});oN.displayName=Xl;var M4=Gh("PopoverContent.RemoveScroll"),P4=N.forwardRef((e,t)=>{const n=Bi(Xl,e.__scopePopover),s=N.useRef(null),a=$r(t,s),o=N.useRef(!1);return N.useEffect(()=>{const l=s.current;if(l)return W2(l)},[]),c.jsx($x,{as:M4,allowPinchZoom:!0,children:c.jsx(lN,me(L({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rr(e.onCloseAutoFocus,l=>{var d;l.preventDefault(),o.current||(d=n.triggerRef.current)==null||d.focus()}),onPointerDownOutside:rr(e.onPointerDownOutside,l=>{const d=l.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,h=d.button===2||f;o.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:rr(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})}))})}),L4=N.forwardRef((e,t)=>{const n=Bi(Xl,e.__scopePopover),s=N.useRef(!1),a=N.useRef(!1);return c.jsx(lN,me(L({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,d;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),lN=N.forwardRef((e,t)=>{const w=e,{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p}=w,g=Le(w,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),b=Bi(Xl,n),y=Qu(n);return v2(),c.jsx(Ox,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:c.jsx(Ax,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>b.onOpenChange(!1),children:c.jsx(L3,me(L(L({"data-state":uN(b.open),role:"dialog",id:b.contentId},y),g),{ref:t,style:me(L({},g.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),cN="PopoverClose",z4=N.forwardRef((e,t)=>{const o=e,{__scopePopover:n}=o,s=Le(o,["__scopePopover"]),a=Bi(cN,n);return c.jsx(kn.button,me(L({type:"button"},s),{ref:t,onClick:rr(e.onClick,()=>a.onOpenChange(!1))}))});z4.displayName=cN;var U4="PopoverArrow",B4=N.forwardRef((e,t)=>{const o=e,{__scopePopover:n}=o,s=Le(o,["__scopePopover"]),a=Qu(n);return c.jsx(z3,me(L(L({},a),s),{ref:t}))});B4.displayName=U4;function uN(e){return e?"open":"closed"}var F4=nN,H4=aN,$4=iN,V4=oN;function dN(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=dN(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function fN(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=dN(e))&&(s&&(s+=" "),s+=t);return s}const qx="-",q4=e=>{const t=Y4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:l=>{const d=l.split(qx);return d[0]===""&&d.length!==1&&d.shift(),hN(d,t)||I4(l)},getConflictingClassGroupIds:(l,d)=>{const f=n[l]||[];return d&&s[l]?[...f,...s[l]]:f}}},hN=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?hN(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(qx);return(l=t.validators.find(({validator:d})=>d(o)))==null?void 0:l.classGroupId},N1=/^\[(.+)\]$/,I4=e=>{if(N1.test(e)){const t=N1.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Y4=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const a in n)A0(n[a],s,a,t);return s},A0=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:E1(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(W4(a)){A0(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,l])=>{A0(l,E1(t,o),n,s)})})},E1=(e,t)=>{let n=e;return t.split(qx).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},W4=e=>e.isThemeGetter,X4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(o,l)=>{n.set(o,l),t++,t>e&&(t=0,s=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=s.get(o))!==void 0)return a(o,l),l},set(o,l){n.has(o)?n.set(o,l):a(o,l)}}},O0="!",R0=":",G4=R0.length,K4=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=a=>{const o=[];let l=0,d=0,f=0,h;for(let w=0;w<a.length;w++){let _=a[w];if(l===0&&d===0){if(_===R0){o.push(a.slice(f,w)),f=w+G4;continue}if(_==="/"){h=w;continue}}_==="["?l++:_==="]"?l--:_==="("?d++:_===")"&&d--}const p=o.length===0?a:a.substring(f),g=Q4(p),b=g!==p,y=h&&h>f?h-f:void 0;return{modifiers:o,hasImportantModifier:b,baseClassName:g,maybePostfixModifierPosition:y}};if(t){const a=t+R0,o=s;s=l=>l.startsWith(a)?o(l.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const a=s;s=o=>n({className:o,parseClassName:a})}return s},Q4=e=>e.endsWith(O0)?e.substring(0,e.length-1):e.startsWith(O0)?e.substring(1):e,Z4=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let o=[];return s.forEach(l=>{l[0]==="["||t[l]?(a.push(...o.sort(),l),o=[]):o.push(l)}),a.push(...o.sort()),a}},J4=e=>L({cache:X4(e.cacheSize),parseClassName:K4(e),sortModifiers:Z4(e)},q4(e)),e5=/\s+/,t5=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:o}=t,l=[],d=e.trim().split(e5);let f="";for(let h=d.length-1;h>=0;h-=1){const p=d[h],{isExternal:g,modifiers:b,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:_}=n(p);if(g){f=p+(f.length>0?" "+f:f);continue}let S=!!_,j=s(S?w.substring(0,_):w);if(!j){if(!S){f=p+(f.length>0?" "+f:f);continue}if(j=s(w),!j){f=p+(f.length>0?" "+f:f);continue}S=!1}const R=o(b).join(":"),O=y?R+O0:R,C=O+j;if(l.includes(C))continue;l.push(C);const A=a(j,S);for(let k=0;k<A.length;++k){const B=A[k];l.push(O+B)}f=p+(f.length>0?" "+f:f)}return f};function n5(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=mN(t))&&(s&&(s+=" "),s+=n);return s}const mN=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=mN(e[s]))&&(n&&(n+=" "),n+=t);return n};function s5(e,...t){let n,s,a,o=l;function l(f){const h=t.reduce((p,g)=>g(p),e());return n=J4(h),s=n.cache.get,a=n.cache.set,o=d,d(f)}function d(f){const h=s(f);if(h)return h;const p=t5(f,n);return a(f,p),p}return function(){return o(n5.apply(null,arguments))}}const Jn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},pN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,r5=/^\d+\/\d+$/,a5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,i5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,o5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,l5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,c5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Tl=e=>r5.test(e),Dt=e=>!!e&&!Number.isNaN(Number(e)),bi=e=>!!e&&Number.isInteger(Number(e)),Pg=e=>e.endsWith("%")&&Dt(e.slice(0,-1)),Da=e=>a5.test(e),u5=()=>!0,d5=e=>i5.test(e)&&!o5.test(e),xN=()=>!1,f5=e=>l5.test(e),h5=e=>c5.test(e),m5=e=>!Ze(e)&&!Je(e),p5=e=>tc(e,vN,xN),Ze=e=>pN.test(e),ho=e=>tc(e,wN,d5),Lg=e=>tc(e,v5,Dt),T1=e=>tc(e,yN,xN),g5=e=>tc(e,bN,h5),kf=e=>tc(e,_N,f5),Je=e=>gN.test(e),uu=e=>nc(e,wN),x5=e=>nc(e,w5),k1=e=>nc(e,yN),y5=e=>nc(e,vN),b5=e=>nc(e,bN),Cf=e=>nc(e,_N,!0),tc=(e,t,n)=>{const s=pN.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},nc=(e,t,n=!1)=>{const s=gN.exec(e);return s?s[1]?t(s[1]):n:!1},yN=e=>e==="position"||e==="percentage",bN=e=>e==="image"||e==="url",vN=e=>e==="length"||e==="size"||e==="bg-size",wN=e=>e==="length",v5=e=>e==="number",w5=e=>e==="family-name",_N=e=>e==="shadow",_5=()=>{const e=Jn("color"),t=Jn("font"),n=Jn("text"),s=Jn("font-weight"),a=Jn("tracking"),o=Jn("leading"),l=Jn("breakpoint"),d=Jn("container"),f=Jn("spacing"),h=Jn("radius"),p=Jn("shadow"),g=Jn("inset-shadow"),b=Jn("text-shadow"),y=Jn("drop-shadow"),w=Jn("blur"),_=Jn("perspective"),S=Jn("aspect"),j=Jn("ease"),R=Jn("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...C(),Je,Ze],k=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],z=()=>[Je,Ze,f],q=()=>[Tl,"full","auto",...z()],ne=()=>[bi,"none","subgrid",Je,Ze],I=()=>["auto",{span:["full",bi,Je,Ze]},bi,Je,Ze],te=()=>[bi,"auto",Je,Ze],le=()=>["auto","min","max","fr",Je,Ze],pe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Q=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...z()],J=()=>[Tl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],K=()=>[e,Je,Ze],he=()=>[...C(),k1,T1,{position:[Je,Ze]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ae=()=>["auto","cover","contain",y5,p5,{size:[Je,Ze]}],G=()=>[Pg,uu,ho],F=()=>["","none","full",h,Je,Ze],Z=()=>["",Dt,uu,ho],ye=()=>["solid","dashed","dotted","double"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Oe=()=>[Dt,Pg,k1,T1],Ae=()=>["","none",w,Je,Ze],He=()=>["none",Dt,Je,Ze],Pe=()=>["none",Dt,Je,Ze],et=()=>[Dt,Je,Ze],We=()=>[Tl,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Da],breakpoint:[Da],color:[u5],container:[Da],"drop-shadow":[Da],ease:["in","out","in-out"],font:[m5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Da],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Da],shadow:[Da],spacing:["px",Dt],text:[Da],"text-shadow":[Da],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Tl,Ze,Je,S]}],container:["container"],columns:[{columns:[Dt,Ze,Je,d]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[bi,"auto",Je,Ze]}],basis:[{basis:[Tl,"full","auto",d,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Dt,Tl,"auto","initial","none",Ze]}],grow:[{grow:["",Dt,Je,Ze]}],shrink:[{shrink:["",Dt,Je,Ze]}],order:[{order:[bi,"first","last","none",Je,Ze]}],"grid-cols":[{"grid-cols":ne()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":ne()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":le()}],"auto-rows":[{"auto-rows":le()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...pe(),"normal"]}],"justify-items":[{"justify-items":[...Q(),"normal"]}],"justify-self":[{"justify-self":["auto",...Q()]}],"align-content":[{content:["normal",...pe()]}],"align-items":[{items:[...Q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Q(),{baseline:["","last"]}]}],"place-content":[{"place-content":pe()}],"place-items":[{"place-items":[...Q(),"baseline"]}],"place-self":[{"place-self":["auto",...Q()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[d,"screen",...J()]}],"min-w":[{"min-w":[d,"screen","none",...J()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",n,uu,ho]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Je,Lg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Pg,Ze]}],"font-family":[{font:[x5,Ze,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Je,Ze]}],"line-clamp":[{"line-clamp":[Dt,"none",Je,Lg]}],leading:[{leading:[o,...z()]}],"list-image":[{"list-image":["none",Je,Ze]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Je,Ze]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:[Dt,"from-font","auto",Je,ho]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[Dt,"auto",Je,Ze]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je,Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je,Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:he()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:ae()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},bi,Je,Ze],radial:["",Je,Ze],conic:[bi,Je,Ze]},b5,g5]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ye(),"hidden","none"]}],"divide-style":[{divide:[...ye(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...ye(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Dt,Je,Ze]}],"outline-w":[{outline:["",Dt,uu,ho]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",p,Cf,kf]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",g,Cf,kf]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[Dt,ho]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",b,Cf,kf]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[Dt,Je,Ze]}],"mix-blend":[{"mix-blend":[...de(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":de()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Dt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":Oe()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":Oe()}],"mask-image-t-to-pos":[{"mask-t-to":Oe()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":Oe()}],"mask-image-r-to-pos":[{"mask-r-to":Oe()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":Oe()}],"mask-image-b-to-pos":[{"mask-b-to":Oe()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":Oe()}],"mask-image-l-to-pos":[{"mask-l-to":Oe()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":Oe()}],"mask-image-x-to-pos":[{"mask-x-to":Oe()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":Oe()}],"mask-image-y-to-pos":[{"mask-y-to":Oe()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[Je,Ze]}],"mask-image-radial-from-pos":[{"mask-radial-from":Oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":Oe()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Dt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":Oe()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:he()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:ae()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Je,Ze]}],filter:[{filter:["","none",Je,Ze]}],blur:[{blur:Ae()}],brightness:[{brightness:[Dt,Je,Ze]}],contrast:[{contrast:[Dt,Je,Ze]}],"drop-shadow":[{"drop-shadow":["","none",y,Cf,kf]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",Dt,Je,Ze]}],"hue-rotate":[{"hue-rotate":[Dt,Je,Ze]}],invert:[{invert:["",Dt,Je,Ze]}],saturate:[{saturate:[Dt,Je,Ze]}],sepia:[{sepia:["",Dt,Je,Ze]}],"backdrop-filter":[{"backdrop-filter":["","none",Je,Ze]}],"backdrop-blur":[{"backdrop-blur":Ae()}],"backdrop-brightness":[{"backdrop-brightness":[Dt,Je,Ze]}],"backdrop-contrast":[{"backdrop-contrast":[Dt,Je,Ze]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Dt,Je,Ze]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Dt,Je,Ze]}],"backdrop-invert":[{"backdrop-invert":["",Dt,Je,Ze]}],"backdrop-opacity":[{"backdrop-opacity":[Dt,Je,Ze]}],"backdrop-saturate":[{"backdrop-saturate":[Dt,Je,Ze]}],"backdrop-sepia":[{"backdrop-sepia":["",Dt,Je,Ze]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Je,Ze]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Dt,"initial",Je,Ze]}],ease:[{ease:["linear","initial",j,Je,Ze]}],delay:[{delay:[Dt,Je,Ze]}],animate:[{animate:["none",R,Je,Ze]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,Je,Ze]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:He()}],"rotate-x":[{"rotate-x":He()}],"rotate-y":[{"rotate-y":He()}],"rotate-z":[{"rotate-z":He()}],scale:[{scale:Pe()}],"scale-x":[{"scale-x":Pe()}],"scale-y":[{"scale-y":Pe()}],"scale-z":[{"scale-z":Pe()}],"scale-3d":["scale-3d"],skew:[{skew:et()}],"skew-x":[{"skew-x":et()}],"skew-y":[{"skew-y":et()}],transform:[{transform:[Je,Ze,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:We()}],"translate-x":[{"translate-x":We()}],"translate-y":[{"translate-y":We()}],"translate-z":[{"translate-z":We()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je,Ze]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je,Ze]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[Dt,uu,ho,Lg]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},j5=s5(_5);function wn(...e){return j5(fN(e))}function Ix(t){var e=Le(t,[]);return c.jsx(F4,L({"data-slot":"popover"},e))}function Yx(t){var e=Le(t,[]);return c.jsx(H4,L({"data-slot":"popover-trigger"},e))}function Wx(a){var o=a,{className:e,align:t="center",sideOffset:n=4}=o,s=Le(o,["className","align","sideOffset"]);return c.jsx($4,{children:c.jsx(V4,L({"data-slot":"popover-content",align:t,sideOffset:n,className:wn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e)},s))})}const Du=class Du{static useUsers(){const{data:t,isLoading:n,error:s}=vn("User",{fields:Du.USER_FIELDS,filters:[["enabled","=",1],["user_type","=","System User"]],limit:0});return{data:t||[],isLoading:n,error:s}}static useCurrentUser(){const{currentUser:t,isLoading:n}=ua();return{currentUser:t,isLoading:n}}static useCurrentUserProfile(){const{currentUser:t}=ua(),{data:n,isLoading:s,error:a}=Tn("User",t||void 0,{fields:Du.USER_FIELDS});return{currentUserProfile:n,isLoading:s,error:a}}};wt(Du,"USER_FIELDS",["name","email","full_name","first_name","last_name","user_image","enabled","user_type","role_profile_name"]);let jh=Du;const S5=jh.useCurrentUser,N5=jh.useCurrentUserProfile,E5=()=>ve(null,null,function*(){try{const e=yield fetch("/api/method/frappe.auth.get_logged_user",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""}});if(e.status===401||e.status===403)return{isValid:!1};if(e.ok){const t=yield e.json();if(t&&!t.exc)return{isValid:!0}}return{isValid:!1}}catch(e){return console.error("Token validation error:",e),{isValid:!1}}}),jN=()=>{try{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(t=>{const n=t.indexOf("="),s=n>-1?t.substr(0,n).trim():t.trim();document.cookie=`${s}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=${window.location.hostname}`,document.cookie=`${s}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}),console.warn("Session expired. Redirecting to login...");const e="/login";window.location.href=e}catch(e){console.error("Error handling token expiry:",e),window.location.href="/login"}},T5=()=>"/login",D0=()=>window.location.pathname.includes("/login")||window.location.pathname.includes("/signin");function k5(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const C5=e=>{switch(e){case"success":return R5;case"info":return M5;case"warning":return D5;case"error":return P5;default:return null}},A5=Array(12).fill(0),O5=({visible:e,className:t})=>ee.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ee.createElement("div",{className:"sonner-spinner"},A5.map((n,s)=>ee.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),R5=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),D5=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),M5=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),P5=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),L5=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ee.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ee.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),z5=()=>{const[e,t]=ee.useState(document.hidden);return ee.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let M0=1;class U5{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const f=t,{message:s}=f,a=Le(f,["message"]),o=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:M0++,l=this.toasts.find(h=>h.id===o),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(h=>h.id===o?(this.publish(me(L(L({},h),t),{id:o,title:s})),me(L(L({},h),t),{id:o,dismissible:d,title:s})):h):this.addToast(me(L({title:s},a),{dismissible:d,id:o})),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create(me(L({},n),{message:t})),this.error=(t,n)=>this.create(me(L({},n),{message:t,type:"error"})),this.success=(t,n)=>this.create(me(L({},n),{type:"success",message:t})),this.info=(t,n)=>this.create(me(L({},n),{type:"info",message:t})),this.warning=(t,n)=>this.create(me(L({},n),{type:"warning",message:t})),this.loading=(t,n)=>this.create(me(L({},n),{type:"loading",message:t})),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create(me(L({},n),{promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0})));const a=Promise.resolve(t instanceof Function?t():t);let o=s!==void 0,l;const d=a.then(h=>ve(this,null,function*(){if(l=["resolve",h],ee.isValidElement(h))o=!1,this.create({id:s,type:"default",message:h});else if(F5(h)&&!h.ok){o=!1;const g=typeof n.error=="function"?yield n.error(`HTTP error! status: ${h.status}`):n.error,b=typeof n.description=="function"?yield n.description(`HTTP error! status: ${h.status}`):n.description,w=typeof g=="object"&&!ee.isValidElement(g)?g:{message:g};this.create(L({id:s,type:"error",description:b},w))}else if(h instanceof Error){o=!1;const g=typeof n.error=="function"?yield n.error(h):n.error,b=typeof n.description=="function"?yield n.description(h):n.description,w=typeof g=="object"&&!ee.isValidElement(g)?g:{message:g};this.create(L({id:s,type:"error",description:b},w))}else if(n.success!==void 0){o=!1;const g=typeof n.success=="function"?yield n.success(h):n.success,b=typeof n.description=="function"?yield n.description(h):n.description,w=typeof g=="object"&&!ee.isValidElement(g)?g:{message:g};this.create(L({id:s,type:"success",description:b},w))}})).catch(h=>ve(this,null,function*(){if(l=["reject",h],n.error!==void 0){o=!1;const p=typeof n.error=="function"?yield n.error(h):n.error,g=typeof n.description=="function"?yield n.description(h):n.description,y=typeof p=="object"&&!ee.isValidElement(p)?p:{message:p};this.create(L({id:s,type:"error",description:g},y))}})).finally(()=>{o&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((h,p)=>d.then(()=>l[0]==="reject"?p(l[1]):h(l[1])).catch(p));return typeof s!="string"&&typeof s!="number"?{unwrap:f}:Object.assign(s,{unwrap:f})},this.custom=(t,n)=>{const s=(n==null?void 0:n.id)||M0++;return this.create(L({jsx:t(s),id:s},n)),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Fs=new U5,B5=(e,t)=>{const n=(t==null?void 0:t.id)||M0++;return Fs.addToast(me(L({title:e},t),{id:n})),n},F5=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",H5=B5,$5=()=>Fs.toasts,V5=()=>Fs.getActiveToasts(),br=Object.assign(H5,{success:Fs.success,info:Fs.info,warning:Fs.warning,error:Fs.error,custom:Fs.custom,message:Fs.message,promise:Fs.promise,dismiss:Fs.dismiss,loading:Fs.loading},{getHistory:$5,getToasts:V5});k5("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Af(e){return e.label!==void 0}const q5=3,I5="24px",Y5="16px",C1=4e3,W5=356,X5=14,G5=45,K5=200;function Qr(...e){return e.filter(Boolean).join(" ")}function Q5(e){const[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const Z5=e=>{var t,n,s,a,o,l,d,f,h;const{invert:p,toast:g,unstyled:b,interacting:y,setHeights:w,visibleToasts:_,heights:S,index:j,toasts:R,expanded:O,removeToast:C,defaultRichColors:A,closeButton:k,style:B,cancelButtonStyle:z,actionButtonStyle:q,className:ne="",descriptionClassName:I="",duration:te,position:le,gap:pe,expandByDefault:Q,classNames:$,icons:J,closeButtonAriaLabel:K="Close toast"}=e,[he,M]=ee.useState(null),[ae,G]=ee.useState(null),[F,Z]=ee.useState(!1),[ye,de]=ee.useState(!1),[Oe,Ae]=ee.useState(!1),[He,Pe]=ee.useState(!1),[et,We]=ee.useState(!1),[ft,ze]=ee.useState(0),[_t,Ft]=ee.useState(0),bt=ee.useRef(g.duration||te||C1),ot=ee.useRef(null),Tt=ee.useRef(null),Y=j===0,ce=j+1<=_,V=g.type,Ne=g.dismissible!==!1,Me=g.className||"",Ee=g.descriptionClassName||"",we=ee.useMemo(()=>S.findIndex(Ge=>Ge.toastId===g.id)||0,[S,g.id]),Te=ee.useMemo(()=>{var Ge;return(Ge=g.closeButton)!=null?Ge:k},[g.closeButton,k]),$e=ee.useMemo(()=>g.duration||te||C1,[g.duration,te]),pt=ee.useRef(0),gn=ee.useRef(0),Qt=ee.useRef(0),Zt=ee.useRef(null),[xn,Wn]=le.split("-"),Xn=ee.useMemo(()=>S.reduce((Ge,vt,Ht)=>Ht>=we?Ge:Ge+vt.height,0),[S,we]),hs=z5(),Gn=g.invert||p,Ts=V==="loading";gn.current=ee.useMemo(()=>we*pe+Xn,[we,Xn]),ee.useEffect(()=>{bt.current=$e},[$e]),ee.useEffect(()=>{Z(!0)},[]),ee.useEffect(()=>{const Ge=Tt.current;if(Ge){const vt=Ge.getBoundingClientRect().height;return Ft(vt),w(Ht=>[{toastId:g.id,height:vt,position:g.position},...Ht]),()=>w(Ht=>Ht.filter(qt=>qt.toastId!==g.id))}},[w,g.id]),ee.useLayoutEffect(()=>{if(!F)return;const Ge=Tt.current,vt=Ge.style.height;Ge.style.height="auto";const Ht=Ge.getBoundingClientRect().height;Ge.style.height=vt,Ft(Ht),w(qt=>qt.find(re=>re.toastId===g.id)?qt.map(re=>re.toastId===g.id?me(L({},re),{height:Ht}):re):[{toastId:g.id,height:Ht,position:g.position},...qt])},[F,g.title,g.description,w,g.id,g.jsx,g.action,g.cancel]);const Xe=ee.useCallback(()=>{de(!0),ze(gn.current),w(Ge=>Ge.filter(vt=>vt.toastId!==g.id)),setTimeout(()=>{C(g)},K5)},[g,C,w,gn]);ee.useEffect(()=>{if(g.promise&&V==="loading"||g.duration===1/0||g.type==="loading")return;let Ge;return O||y||hs?(()=>{if(Qt.current<pt.current){const qt=new Date().getTime()-pt.current;bt.current=bt.current-qt}Qt.current=new Date().getTime()})():(()=>{bt.current!==1/0&&(pt.current=new Date().getTime(),Ge=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Xe()},bt.current))})(),()=>clearTimeout(Ge)},[O,y,g,V,hs,Xe]),ee.useEffect(()=>{g.delete&&(Xe(),g.onDismiss==null||g.onDismiss.call(g,g))},[Xe,g.delete]);function Ot(){var Ge;if(J!=null&&J.loading){var vt;return ee.createElement("div",{className:Qr($==null?void 0:$.loader,g==null||(vt=g.classNames)==null?void 0:vt.loader,"sonner-loader"),"data-visible":V==="loading"},J.loading)}return ee.createElement(O5,{className:Qr($==null?void 0:$.loader,g==null||(Ge=g.classNames)==null?void 0:Ge.loader),visible:V==="loading"})}const Pt=g.icon||(J==null?void 0:J[V])||C5(V);var jt,Gt;return ee.createElement("li",{tabIndex:0,ref:Tt,className:Qr(ne,Me,$==null?void 0:$.toast,g==null||(t=g.classNames)==null?void 0:t.toast,$==null?void 0:$.default,$==null?void 0:$[V],g==null||(n=g.classNames)==null?void 0:n[V]),"data-sonner-toast":"","data-rich-colors":(jt=g.richColors)!=null?jt:A,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":F,"data-promise":!!g.promise,"data-swiped":et,"data-removed":ye,"data-visible":ce,"data-y-position":xn,"data-x-position":Wn,"data-index":j,"data-front":Y,"data-swiping":Oe,"data-dismissible":Ne,"data-type":V,"data-invert":Gn,"data-swipe-out":He,"data-swipe-direction":ae,"data-expanded":!!(O||Q&&F),"data-testid":g.testId,style:L(L({"--index":j,"--toasts-before":j,"--z-index":R.length-j,"--offset":`${ye?ft:gn.current}px`,"--initial-height":Q?"auto":`${_t}px`},B),g.style),onDragEnd:()=>{Ae(!1),M(null),Zt.current=null},onPointerDown:Ge=>{Ge.button!==2&&(Ts||!Ne||(ot.current=new Date,ze(gn.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(Ae(!0),Zt.current={x:Ge.clientX,y:Ge.clientY})))},onPointerUp:()=>{var Ge,vt,Ht;if(He||!Ne)return;Zt.current=null;const qt=Number(((Ge=Tt.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),X=Number(((vt=Tt.current)==null?void 0:vt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),re=new Date().getTime()-((Ht=ot.current)==null?void 0:Ht.getTime()),fe=he==="x"?qt:X,Se=Math.abs(fe)/re;if(Math.abs(fe)>=G5||Se>.11){ze(gn.current),g.onDismiss==null||g.onDismiss.call(g,g),G(he==="x"?qt>0?"right":"left":X>0?"down":"up"),Xe(),Pe(!0);return}else{var De,Ve;(De=Tt.current)==null||De.style.setProperty("--swipe-amount-x","0px"),(Ve=Tt.current)==null||Ve.style.setProperty("--swipe-amount-y","0px")}We(!1),Ae(!1),M(null)},onPointerMove:Ge=>{var vt,Ht,qt;if(!Zt.current||!Ne||((vt=window.getSelection())==null?void 0:vt.toString().length)>0)return;const re=Ge.clientY-Zt.current.y,fe=Ge.clientX-Zt.current.x;var Se;const De=(Se=e.swipeDirections)!=null?Se:Q5(le);!he&&(Math.abs(fe)>1||Math.abs(re)>1)&&M(Math.abs(fe)>Math.abs(re)?"x":"y");let Ve={x:0,y:0};const Ke=tt=>1/(1.5+Math.abs(tt)/20);if(he==="y"){if(De.includes("top")||De.includes("bottom"))if(De.includes("top")&&re<0||De.includes("bottom")&&re>0)Ve.y=re;else{const tt=re*Ke(re);Ve.y=Math.abs(tt)<Math.abs(re)?tt:re}}else if(he==="x"&&(De.includes("left")||De.includes("right")))if(De.includes("left")&&fe<0||De.includes("right")&&fe>0)Ve.x=fe;else{const tt=fe*Ke(fe);Ve.x=Math.abs(tt)<Math.abs(fe)?tt:fe}(Math.abs(Ve.x)>0||Math.abs(Ve.y)>0)&&We(!0),(Ht=Tt.current)==null||Ht.style.setProperty("--swipe-amount-x",`${Ve.x}px`),(qt=Tt.current)==null||qt.style.setProperty("--swipe-amount-y",`${Ve.y}px`)}},Te&&!g.jsx&&V!=="loading"?ee.createElement("button",{"aria-label":K,"data-disabled":Ts,"data-close-button":!0,onClick:Ts||!Ne?()=>{}:()=>{Xe(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Qr($==null?void 0:$.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(Gt=J==null?void 0:J.close)!=null?Gt:L5):null,(V||g.icon||g.promise)&&g.icon!==null&&((J==null?void 0:J[V])!==null||g.icon)?ee.createElement("div",{"data-icon":"",className:Qr($==null?void 0:$.icon,g==null||(a=g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Ot():null,g.type!=="loading"?Pt:null):null,ee.createElement("div",{"data-content":"",className:Qr($==null?void 0:$.content,g==null||(o=g.classNames)==null?void 0:o.content)},ee.createElement("div",{"data-title":"",className:Qr($==null?void 0:$.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?ee.createElement("div",{"data-description":"",className:Qr(I,Ee,$==null?void 0:$.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),ee.isValidElement(g.cancel)?g.cancel:g.cancel&&Af(g.cancel)?ee.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||z,onClick:Ge=>{Af(g.cancel)&&Ne&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ge),Xe())},className:Qr($==null?void 0:$.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,ee.isValidElement(g.action)?g.action:g.action&&Af(g.action)?ee.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||q,onClick:Ge=>{Af(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ge),!Ge.defaultPrevented&&Xe())},className:Qr($==null?void 0:$.actionButton,g==null||(h=g.classNames)==null?void 0:h.actionButton)},g.action.label):null)};function A1(){if(typeof window=="undefined"||typeof document=="undefined")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function J5(e,t){const n={};return[e,t].forEach((s,a)=>{const o=a===1,l=o?"--mobile-offset":"--offset",d=o?Y5:I5;function f(h){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?f(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?n[`${l}-${h}`]=d:n[`${l}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):f(d)}),n}const eL=ee.forwardRef(function(t,n){const{id:s,invert:a,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:d,closeButton:f,className:h,offset:p,mobileOffset:g,theme:b="light",richColors:y,duration:w,style:_,visibleToasts:S=q5,toastOptions:j,dir:R=A1(),gap:O=X5,icons:C,containerAriaLabel:A="Notifications"}=t,[k,B]=ee.useState([]),z=ee.useMemo(()=>s?k.filter(F=>F.toasterId===s):k.filter(F=>!F.toasterId),[k,s]),q=ee.useMemo(()=>Array.from(new Set([o].concat(z.filter(F=>F.position).map(F=>F.position)))),[z,o]),[ne,I]=ee.useState([]),[te,le]=ee.useState(!1),[pe,Q]=ee.useState(!1),[$,J]=ee.useState(b!=="system"?b:typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=ee.useRef(null),he=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=ee.useRef(null),ae=ee.useRef(!1),G=ee.useCallback(F=>{B(Z=>{var ye;return(ye=Z.find(de=>de.id===F.id))!=null&&ye.delete||Fs.dismiss(F.id),Z.filter(({id:de})=>de!==F.id)})},[]);return ee.useEffect(()=>Fs.subscribe(F=>{if(F.dismiss){requestAnimationFrame(()=>{B(Z=>Z.map(ye=>ye.id===F.id?me(L({},ye),{delete:!0}):ye))});return}setTimeout(()=>{h2.flushSync(()=>{B(Z=>{const ye=Z.findIndex(de=>de.id===F.id);return ye!==-1?[...Z.slice(0,ye),L(L({},Z[ye]),F),...Z.slice(ye+1)]:[F,...Z]})})})}),[k]),ee.useEffect(()=>{if(b!=="system"){J(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window=="undefined")return;const F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:Z})=>{J(Z?"dark":"light")})}catch(Z){F.addListener(({matches:ye})=>{try{J(ye?"dark":"light")}catch(de){console.error(de)}})}},[b]),ee.useEffect(()=>{k.length<=1&&le(!1)},[k]),ee.useEffect(()=>{const F=Z=>{var ye;if(l.every(Ae=>Z[Ae]||Z.code===Ae)){var Oe;le(!0),(Oe=K.current)==null||Oe.focus()}Z.code==="Escape"&&(document.activeElement===K.current||(ye=K.current)!=null&&ye.contains(document.activeElement))&&le(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[l]),ee.useEffect(()=>{if(K.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,ae.current=!1)}},[K.current]),ee.createElement("section",{ref:n,"aria-label":`${A} ${he}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},q.map((F,Z)=>{var ye;const[de,Oe]=F.split("-");return z.length?ee.createElement("ol",{key:F,dir:R==="auto"?A1():R,tabIndex:-1,ref:K,className:h,"data-sonner-toaster":!0,"data-sonner-theme":$,"data-y-position":de,"data-x-position":Oe,style:L(L({"--front-toast-height":`${((ye=ne[0])==null?void 0:ye.height)||0}px`,"--width":`${W5}px`,"--gap":`${O}px`},_),J5(p,g)),onBlur:Ae=>{ae.current&&!Ae.currentTarget.contains(Ae.relatedTarget)&&(ae.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||ae.current||(ae.current=!0,M.current=Ae.relatedTarget)},onMouseEnter:()=>le(!0),onMouseMove:()=>le(!0),onMouseLeave:()=>{pe||le(!1)},onDragEnd:()=>le(!1),onPointerDown:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||Q(!0)},onPointerUp:()=>Q(!1)},z.filter(Ae=>!Ae.position&&Z===0||Ae.position===F).map((Ae,He)=>{var Pe,et;return ee.createElement(Z5,{key:Ae.id,icons:C,index:He,toast:Ae,defaultRichColors:y,duration:(Pe=j==null?void 0:j.duration)!=null?Pe:w,className:j==null?void 0:j.className,descriptionClassName:j==null?void 0:j.descriptionClassName,invert:a,visibleToasts:S,closeButton:(et=j==null?void 0:j.closeButton)!=null?et:f,interacting:pe,position:F,style:j==null?void 0:j.style,unstyled:j==null?void 0:j.unstyled,classNames:j==null?void 0:j.classNames,cancelButtonStyle:j==null?void 0:j.cancelButtonStyle,actionButtonStyle:j==null?void 0:j.actionButtonStyle,closeButtonAriaLabel:j==null?void 0:j.closeButtonAriaLabel,removeToast:G,toasts:z.filter(We=>We.position==Ae.position),heights:ne.filter(We=>We.position==Ae.position),setHeights:I,expandByDefault:d,gap:O,expanded:te,swipeDirections:t.swipeDirections})})):null}))}),Of={duration:4e3};class P0{static success(t,n){const s=`success-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),br.success(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Of.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static error(t,n){const s=`error-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),br.error(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Of.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static info(t,n){const s=`info-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),br.info(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Of.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static warning(t,n){const s=`warning-${t}`;return this.activeToasts.has(s)?void 0:(this.activeToasts.add(s),br.warning(t,{description:n==null?void 0:n.description,duration:(n==null?void 0:n.duration)||Of.duration,onDismiss:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)},onAutoClose:()=>{setTimeout(()=>{this.activeToasts.delete(s)},this.DUPLICATE_TIMEOUT)}}))}static dismissAll(){br.dismiss(),this.activeToasts.clear()}static clearCache(){this.activeToasts.clear()}}wt(P0,"activeToasts",new Set),wt(P0,"DUPLICATE_TIMEOUT",1e3);const Nn=P0,tL=({onMenuClick:e})=>{const{currentUser:t,isLoading:n}=S5(),{currentUserProfile:s}=N5(),{logout:a}=ua(),o=()=>ve(null,null,function*(){try{Nn.success("Logging out...",{description:"You will be redirected to the login page.",duration:2e3}),yield a(),setTimeout(()=>{jN()},1e3)}catch(p){console.error("Logout failed:",p),Nn.error("Logout failed",{description:"Please try again or contact support."}),setTimeout(()=>{window.location.href=T5()},2e3)}}),l=()=>s?s.full_name||s.first_name||s.email||"User":!t||typeof t=="string"?t||"Guest":t.full_name||t.first_name||t.email||"User",d=()=>t?l().split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2):"G",f=()=>s!=null&&s.user_image?s.user_image:null,h=()=>s?s.email:t&&typeof t!="string"?t.email:t||"No email";return c.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 lg:hidden",children:c.jsx(pM,{className:"h-5 w-5 text-gray-600"})}),c.jsxs("div",{className:"relative hidden md:block",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Wh,{className:"h-4 w-4 text-gray-400"})}),c.jsx("input",{type:"text",className:"block w-80 pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects, tasks, or team members..."})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[c.jsx(jD,{className:"h-5 w-5 text-gray-600"}),c.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),c.jsx("div",{className:"relative",children:c.jsxs(Ix,{children:[c.jsx(Yx,{asChild:!0,children:c.jsxs("button",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[c.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f()?c.jsx("img",{src:f(),alt:"User avatar",className:"w-8 h-8 rounded-full object-cover"}):c.jsx("span",{className:"text-xs font-medium text-white",children:d()})}),c.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:n?"Loading...":l()}),c.jsx(p2,{className:"h-4 w-4 text-gray-500"})]})}),c.jsxs(Wx,{className:"w-64 p-0",align:"end",children:[c.jsx("div",{className:"p-4 border-b border-gray-100",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f()?c.jsx("img",{src:f(),alt:"User avatar",className:"w-10 h-10 rounded-full object-cover"}):c.jsx("span",{className:"text-sm font-medium text-white",children:d()})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:l()}),c.jsx("p",{className:"text-sm text-gray-500",children:h()})]})]})}),c.jsxs("div",{className:"p-2",children:[c.jsxs("button",{className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[c.jsx(x2,{className:"h-4 w-4 text-gray-500"}),c.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),c.jsxs("button",{onClick:o,className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-red-50 transition-colors duration-200 text-red-600",children:[c.jsx(hM,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:"Sign out"})]})]})]})]})})]})]})})},SN=t=>{var e=Le(t,[]);const{theme:n="system"}=QA();return c.jsx(eL,L({theme:n,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"}},e))},nL=()=>{const[e,t]=N.useState(!1);return c.jsxs("div",{className:"flex h-screen bg-gray-50",children:[c.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:c.jsx(t1,{})}),e&&c.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>t(!1)}),c.jsx("div",{className:"relative flex flex-col w-64 h-full bg-white shadow-xl",children:c.jsx(t1,{})})]}),c.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[c.jsx(tL,{onMenuClick:()=>t(!e)}),c.jsx("main",{className:"flex-1 overflow-y-auto",children:c.jsx("div",{className:"py-6",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx(AR,{})})})})]}),c.jsx(SN,{position:"top-right",richColors:!0,expand:!0,closeButton:!0,toastOptions:{duration:4e3}})]})},sL=(e={})=>{const{checkIntervalMinutes:t=5,showNotifications:n=!0,enabled:s=!0,onTokenExpired:a}=e,{currentUser:o,isLoading:l}=ua(),d=N.useRef(null),f=N.useRef(!1),h=N.useCallback(()=>{d.current&&(clearInterval(d.current),d.current=null)},[]),p=N.useCallback(()=>{h(),n&&Nn.error("Session Expired",{description:"Your session has expired. Please log in again.",duration:3e3}),a==null||a(),setTimeout(()=>{jN()},1e3)},[h,a,n]),g=N.useCallback(()=>ve(null,null,function*(){try{return(yield E5()).isValid?(f.current=!1,!0):(console.warn("Authentication check failed - token invalid"),p(),!1)}catch(_){return console.error("Error checking authentication:",_),!0}}),[p]),b=N.useCallback(()=>{if(!s||l||!o||D0())return;h(),g();const _=t*60*1e3;d.current=setInterval(g,_)},[s,l,o,t,g,h]);N.useEffect(()=>(o&&!l?b():h(),h),[o,l,b,h]),N.useEffect(()=>h,[h]);const y=N.useCallback(()=>g(),[g]),w=N.useCallback(()=>{p()},[p]);return{checkAuth:y,forceLogout:w,isWatching:!!d.current,currentUser:o,isLoading:l}},rL=({children:e,checkInterval:t=5,showNotifications:n=!0})=>{const{isWatching:s,currentUser:a,isLoading:o}=sL({checkIntervalMinutes:t,showNotifications:n,enabled:!D0(),onTokenExpired:()=>{console.log("Token expired callback triggered")}});return N.useEffect(()=>{},[s,a,o,t]),D0()?c.jsx(c.Fragment,{children:e}):o?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsx(c.Fragment,{children:e})};function aL(){return c.jsx(qA,{siteName:"react.test",socketPort:"9007",children:c.jsxs(ZA,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:[c.jsx(rL,{checkInterval:5,showNotifications:!0,children:c.jsx(nL,{})}),c.jsx(SN,{})]})})}const iL=()=>{const[e,t]=N.useState("all"),[n,s]=N.useState("all"),[a,o]=N.useState([]),[l,d]=N.useState(!1),{data:f,isLoading:h}=vn("Project",{fields:["name","project_name","status","department","team","estimated_costing","expected_end_date","percent_complete"]}),{data:p,isLoading:g}=vn("project_phase",{fields:["name"],limit:0});N.useEffect(()=>{ve(null,null,function*(){if(!p||p.length===0){o([]);return}d(!0);try{const B=p.map(ne=>ve(null,null,function*(){try{const I=yield fetch(`/api/resource/project_phase/${ne.name}`,{method:"GET",headers:{Accept:"application/json"}});if(!I.ok)return console.warn(`❌ Failed to fetch phase ${ne.name}:`,I.status),null;const te=yield I.json();return te.data||te}catch(I){return console.error(`💥 Error fetching phase ${ne.name}:`,I),null}})),q=(yield Promise.all(B)).filter(ne=>ne!==null);o(q)}catch(B){console.error("💥 Error in fetchPhasesWithTasks:",B)}finally{d(!1)}})},[p]);const{data:b,isLoading:y}=vn("Task",{fields:["name","subject","status","exp_end_date","exp_start_date","project","progress","priority","is_group"],limit:0}),{data:w,isLoading:_}=vn("Timesheet",{fields:["name","total_hours"],limit:0}),S=(f||[]).map(k=>{var B;return me(L({},k),{project_type:k.project_type||"",customer:k.customer||"",company:k.company||"",department:k.department||"",team:k.team||"",expected_start_date:k.expected_start_date||"",expected_end_date:k.expected_end_date||"",actual_start_date:k.actual_start_date||"",actual_end_date:k.actual_end_date||null,percent_complete:k.percent_complete||0,priority:k.priority||"Medium",estimated_costing:k.estimated_costing||0,total_billable_amount:k.total_billable_amount||0,total_billed_amount:k.total_billed_amount||0,gross_margin:k.gross_margin||0,estimated_hours:k.estimated_hours||0,total_hours:k.total_hours||0,is_active:(B=k.is_active)!=null?B:!0})}),j=N.useMemo(()=>!a||a.length===0?[]:a.map(k=>{const B=k.tasks||[];return me(L({},k),{phase_name:k.subject||k.name||"",status:k.status||"Open",expected_start_date:k.start_date||"",expected_end_date:k.end_date||"",actual_start_date:k.start_date||"",actual_end_date:null,progress:k.progress||0,description:k.details||"",tasks:B})}),[a]),R=(b||[]).map(k=>me(L({},k),{project:k.project||"",priority:k.priority||"Medium",type:k.type||"",expected_time:k.expected_time||0,actual_time:k.actual_time||0,start_date:k.exp_start_date||"",end_date:k.exp_end_date||"",progress:k.progress||0,assigned_to:k.assigned_to||null,is_group:k.is_group||!1,parent_task_name:k.parent_task_name||null})),O=(w||[]).map(k=>({name:k.name,employee:k.employee||"",project:"",task:"",start_date:k.start_date||"",end_date:k.end_date||"",total_hours:k.total_hours||0,billable:!0,billing_hours:0,billing_rate:0,billing_amount:0})),C=h||g||l||y||_,A=N.useMemo(()=>{let k=S;n!=="all"&&n!==""&&(k=k.filter(ne=>ne.team===n)),e!=="all"&&e!==""&&(k=k.filter(ne=>ne.project_name===e));const B=k.map(ne=>ne.project_name),z=k.map(ne=>ne.name),q=j.filter(ne=>z.includes(ne.project));return{filteredProjects:k,filteredPhases:q,filteredTasks:R.filter(ne=>{const I=ne.project||"";return z.includes(I)}),filteredTimesheets:O.filter(ne=>ne.project?B.includes(ne.project):!0)}},[S,j,R,O,e,n]);return{allProjects:S,allPhases:j,filteredData:A,selectedProject:e,selectedTeam:n,setSelectedProject:t,setSelectedTeam:s,isLoading:C}},jo=class jo{static useUserProjects(){const{currentUser:t}=ua(),{data:n,isLoading:s,error:a,mutate:o}=vn("Project",{fields:jo.PROJECT_FIELDS,filters:t?[["owner","=",t]]:[],orderBy:{field:"modified",order:"desc"}},void 0,{revalidateOnFocus:!0,revalidateOnReconnect:!0}),{data:l,isLoading:d,error:f,mutate:h}=vn("Project",{fields:jo.PROJECT_FIELDS,limit:0,orderBy:{field:"modified",order:"desc"}},void 0,{revalidateOnFocus:!0,revalidateOnReconnect:!0}),p=ee.useMemo(()=>{if(!t)return[];const b=w=>{const _=new Map;return w.forEach(S=>{var R;const j=S.name;if(!_.has(j)){const O={name:S.name,owner:S.owner,creation:S.creation,modified:S.modified,project_name:S.project_name,project_type:S.project_type,status:S.status,customer:S.customer,expected_start_date:S.expected_start_date,expected_end_date:S.expected_end_date,percent_complete:S.percent_complete,priority:S.priority,department:S.department,team:S.team||null,estimated_costing:S.estimated_costing,total_billable_amount:S.total_billable_amount,company:S.company,users:[]};_.set(j,O)}if(S.user){const O=_.get(j);((R=O.users)==null?void 0:R.some(A=>A.user===S.user))||(O.users=O.users||[],O.users.push({user:S.user,email:S.email,full_name:S.full_name,project_status:S.project_status}))}}),Array.from(_.values()).sort((S,j)=>{const R=new Date(S.modified||S.creation||0);return new Date(j.modified||j.creation||0).getTime()-R.getTime()})};let y=[];if(n&&n.length>0&&(y=y.concat(n)),l&&l.length>0){const w=l.filter(_=>_.owner===t||_.user&&_.user===t);y=y.concat(w)}return b(y)},[n,l,t]),g=ee.useCallback(()=>ve(null,null,function*(){console.log("Mutating ownedProjects and allProjects...");try{yield Promise.all([o(),h()]),console.log("Data refreshed successfully")}catch(b){console.error("Error refreshing data:",b)}}),[o,h]);return{data:p,isLoading:s||d,error:a&&f?a||f:null,mutate:g}}static useProject(t){const{data:n,isLoading:s,error:a,mutate:o}=Tn("Project",t||"",t?"Project":void 0);return{data:n,isLoading:s,error:a,mutate:o}}static useProjectOwner(t){const{data:n,isLoading:s,error:a}=Tn("User",t||"",t?void 0:null);return{data:n,isLoading:s,error:a}}static useCreateProject(){const{createDoc:t,loading:n,error:s}=Li();return{createProject:o=>ve(null,null,function*(){return yield t("Project",me(L({},o),{expected_start_date:o.expected_start_date||void 0,expected_end_date:o.expected_end_date||void 0}))}),isLoading:n,error:s}}static useUpdateProject(){const{updateDoc:t,loading:n,error:s}=Vs();return{updateProject:(o,l)=>ve(null,null,function*(){return yield t("Project",o,me(L({},l),{expected_start_date:l.expected_start_date||void 0,expected_end_date:l.expected_end_date||void 0}))}),isLoading:n,error:s}}static useDeleteProject(){const{call:t,loading:n,error:s}=os("frappe.client.delete");return{deleteProject:o=>ve(null,null,function*(){return yield t({doctype:"Project",name:o})}),isLoading:n,error:s}}static useProjectMembers(){const{call:t}=os("frappe.client.insert"),{call:n}=os("frappe.client.save"),{call:s}=os("frappe.client.delete");return{addMember:d=>ve(null,null,function*(){return yield t({doc:me(L({doctype:"Project User"},d),{welcome_email_sent:1})})}),updateMember:(d,f)=>ve(null,null,function*(){return yield n({doc:L({doctype:"Project User",name:d},f)})}),removeMember:d=>ve(null,null,function*(){return yield s({doctype:"Project User",name:d})})}}static useProjectOwnerManagement(){const{call:t}=os("frappe.client.save"),{call:n}=os("frappe.client.set_value");return{transferOwner:(o,l)=>ve(null,null,function*(){try{return yield t({doc:{doctype:"Project",name:o,owner:l}}),{success:!0,method:"save"}}catch(d){try{return yield n({doctype:"Project",name:o,fieldname:"owner",value:l}),{success:!0,method:"set_value"}}catch(f){throw new Error("Owner field is protected by ERPNext")}}}),transferOwnerWithAPI:(o,l)=>ve(null,null,function*(){try{const d=yield fetch("/api/method/my_app.api.project_transfer.transfer_project_owner",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({project_name:o,new_owner:l})}),f=yield d.json();return d.ok&&f.message?{success:!0,data:f.message}:{success:!1,error:f.message||"Transfer failed"}}catch(d){return{success:!1,error:d instanceof Error?d.message:"Unknown error"}}})}}static useProjectUsers(t){const{data:n,isLoading:s,error:a,mutate:o}=Tn("Project",t,{fields:["name","users"]});return{data:(n==null?void 0:n.users)||[],isLoading:s,error:a,mutate:o}}static useProjectUsersAlt(t){const{data:n,isLoading:s,error:a,mutate:o}=vn("Project User",{fields:["name","user","email","full_name","image"],filters:[["parent","=",t]],limit:0});return{data:n||[],isLoading:s,error:a,mutate:o}}};wt(jo,"PROJECT_FIELDS",["name","owner","creation","modified","project_name","project_type","status","customer","department","team","expected_start_date","expected_end_date","percent_complete","priority","estimated_costing","total_billable_amount","company","users.user","users.email","users.full_name","users.project_status"]),wt(jo,"DETAILED_PROJECT_FIELDS",[...jo.PROJECT_FIELDS,"creation","modified","modified_by","description","notes","expected_start_date","actual_start_date","actual_end_date","total_costing_amount","total_purchase_cost","total_sales_amount","total_billed_amount","users"]);let Hu=jo;const oL=Hu.useUserProjects,lL=Hu.useCreateProject,cL=Hu.useUpdateProject;class Ua{static useDocTypeOptions(t,n={}){const{fields:s=["name"],filters:a=[],limit:o=100}=n,{data:l,isLoading:d,error:f}=vn(t,{fields:s,filters:a,limit:o});return{data:l||[],isLoading:d,error:f}}static useCustomers(){return Ua.useDocTypeOptions("Customer",{fields:["name","customer_name","customer_type"],filters:[["disabled","=",0]]})}static useCompanies(){return Ua.useDocTypeOptions("Company",{fields:["name","company_name","abbr"],filters:[["is_group","=",0]]})}static useProjectTypes(){return Ua.useDocTypeOptions("Project Type",{fields:["name","description"]})}static useDepartments(){return Ua.useDocTypeOptions("Department",{fields:["name","department_name","parent_department"],filters:[["disabled","=",0]]})}static useCostCenters(){return Ua.useDocTypeOptions("Cost Center",{fields:["name","cost_center_name","parent_cost_center"],filters:[["disabled","=",0],["is_group","=",0]]})}static useProjectTemplates(){return Ua.useDocTypeOptions("Project Template",{fields:["name","project_template_name"]})}static useTeams(){return Ua.useDocTypeOptions("Team",{fields:["name","team","department"]})}}const NN=Ua.useTeams;class uL{static useCreatePhaseTask(){const{createDoc:t,loading:n}=Li(),{call:s}=os("frappe.client.insert"),{call:a}=os("frappe.client.save"),{data:o}=Tn("User","",{shouldFetch:!0});return{createTaskWithPhase:d=>ve(null,null,function*(){try{const f=yield t("Task",{subject:d.subject,description:d.description,priority:d.priority,status:d.status,type:d.type,expected_time:d.expected_time,task_weight:d.task_weight,exp_start_date:d.exp_start_date||null,exp_end_date:d.exp_end_date||null,project:d.project});console.log("Task created successfully:",f);let h=null;if(d.assign_to&&f)try{h=yield s({doc:{doctype:"ToDo",allocated_to:d.assign_to,assigned_by:(o==null?void 0:o.name)||"",description:`Task: ${d.subject}`,reference_type:"Task",reference_name:f.name,status:"Open",priority:d.priority,date:new Date().toISOString().split("T")[0]}}),console.log("ToDo created successfully:",h)}catch(p){console.error("Error creating ToDo:",p)}if(d.phaseId&&f){const p={parent:d.phaseId,parenttype:"project_phase",parentfield:"tasks",task:f.name,task_name:f.subject,status:f.status,start_date:f.exp_start_date,end_date:f.exp_end_date,description:f.description},g=yield s({doc:L({doctype:"Project Phase Task"},p)});console.log("Project Phase Task created successfully:",g);try{console.log("Saving parent phase document to commit child table changes...");const b=yield a({doc:{doctype:"project_phase",name:d.phaseId}});console.log("Parent phase saved successfully:",b)}catch(b){console.warn("Failed to save parent phase, but child was created:",b)}return{success:!0,task:f,phaseTask:g,todo:h,message:"Task created and linked to phase successfully"}}return{success:!0,task:f,todo:h,message:"Task created successfully"}}catch(f){throw console.error("Error in createTaskWithPhase:",f),f}}),isLoading:n}}static useLinkTaskToPhase(){const{call:t}=os("frappe.client.insert");return{linkTaskToPhase:(s,a,o)=>ve(null,null,function*(){try{const l={parent:a,parenttype:"Project Phase",parentfield:"tasks",task:s,task_name:(o==null?void 0:o.task_name)||s,status:(o==null?void 0:o.status)||"Open",start_date:o==null?void 0:o.start_date,end_date:o==null?void 0:o.end_date,description:o==null?void 0:o.description};return{success:!0,phaseTask:yield t({doc:L({doctype:"Project Phase Task"},l)}),message:"Task linked to phase successfully"}}catch(l){return console.error("Error linking task to phase:",l),{success:!1,error:l instanceof Error?l.message:"Unknown error",message:"Failed to link task to phase"}}})}}}const dL=uL.useCreatePhaseTask;class EN{static useUpdateTask(){const{updateDoc:t,loading:n,error:s}=Vs();return{updateTask:(o,l)=>ve(null,null,function*(){const p=l,{assign_to:d}=p,f=Le(p,["assign_to"]),h=yield t("Task",o,me(L({},f),{exp_start_date:f.exp_start_date||void 0,exp_end_date:f.exp_end_date||void 0}));return f.progress!==void 0&&(console.log(`Task ${o} progress updated, signaling phase progress update...`),localStorage.setItem("task_progress_updated",o),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:o}))),h}),isLoading:n,error:s}}static useTaskAssignment(){const{createDoc:t}=Li(),{deleteDoc:n}=Vh(),{data:s}=Tn("User","",{shouldFetch:!0});return{assignTask:(l,d,f,h="Medium")=>ve(null,null,function*(){return yield t("ToDo",{allocated_to:f,assigned_by:(s==null?void 0:s.name)||"",description:`Task: ${d}`,reference_type:"Task",reference_name:l,status:"Open",priority:h,date:new Date().toISOString().split("T")[0]})}),unassignTask:l=>ve(null,null,function*(){return yield n("ToDo",l)})}}}const fL=EN.useUpdateTask,hL=EN.useTaskAssignment;class TN{static useUpdatePhase(){const{updateDoc:t,loading:n,error:s}=Vs();return{updatePhase:(o,l)=>ve(null,null,function*(){return t("project_phase",o,l)}),isLoading:n,error:s}}static usePhaseAssignment(){const{createDoc:t}=Li(),{deleteDoc:n}=Vh(),{data:s}=Tn("User","",{shouldFetch:!0});return{assignPhase:(l,d)=>ve(null,null,function*(){return t("ToDo",{allocated_to:d,assigned_by:(s==null?void 0:s.name)||"",reference_type:"project_phase",reference_name:l,description:`Assigned to phase: ${l}`,status:"Open"})}),unassignPhase:l=>ve(null,null,function*(){return n("ToDo",l)})}}}const mL=TN.useUpdatePhase,kN=TN.usePhaseAssignment;class pL{static useUpdateSubTask(){const{updateDoc:t,loading:n,error:s}=Vs();return{updateSubTask:(o,l)=>ve(null,null,function*(){return yield t("SubTask",o,l)}),isLoading:n,error:s}}static useSubTaskAssignment(){const{createDoc:t}=Li(),{deleteDoc:n}=Vh(),{data:s}=Tn("User","",{shouldFetch:!0});return{assignSubTask:(l,d)=>ve(null,null,function*(){return yield t("ToDo",{allocated_to:d,assigned_by:(s==null?void 0:s.name)||"",reference_type:"SubTask",reference_name:l,description:`Assignment for SubTask: ${l}`,status:"Open"})}),unassignSubTask:l=>ve(null,null,function*(){return yield n("ToDo",l)})}}}const{useUpdateSubTask:gL,useSubTaskAssignment:CN}=pL,sc=e=>{const{data:t,isLoading:n,error:s}=Tn("Project",e,{fields:["name","users"]}),{data:a,isLoading:o}=Tn("Project",(t==null?void 0:t.name)||"",t!=null&&t.name?"Project":void 0);return{data:(a==null?void 0:a.users)||(t==null?void 0:t.users)||[],isLoading:n||o,error:s}};class xL{static useTaskProgressCalculation(){const{updateDoc:t}=Vs();return{calculateAndUpdateTaskProgress:s=>ve(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name","status"],filters:[["task","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0)return null;let d=0;l.forEach(h=>{switch(h.status){case"Open":d+=1;break;case"Working":d+=50;break;case"Completed":d+=100;break;default:d+=0}});const f=Math.round(d/l.length);return yield t("Task",s,{progress:f}),console.log(`Task ${s} progress updated to ${f}%, signaling phase progress update...`),localStorage.setItem("task_progress_updated",s),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:s})),console.log(`Task ${s} progress updated to ${f}%`),f}catch(a){return console.error("Error calculating task progress:",a),null}})}}static useTaskStatusProgressUpdate(){const{updateDoc:t}=Vs();return{updateTaskProgressByStatus:(s,a,o)=>ve(null,null,function*(){try{let l=o||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("Task",s,{status:a,progress:l}),console.log(`Task ${s} status/progress updated, signaling phase progress update...`),localStorage.setItem("task_progress_updated",s),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:s})),l}catch(l){return console.error("Error updating task progress by status:",l),null}})}}static useManualProgressUpdate(){const{updateDoc:t}=Vs();return{updateTaskProgress:(s,a)=>ve(null,null,function*(){try{let o="";return a===0||a===1?o="Open":a>1&&a<=90?o="Working":a>90&&a<100?o="Pending Review":a===100&&(o="Completed"),yield t("Task",s,{progress:a,status:o}),console.log(`Task ${s} manual progress updated to ${a}%, signaling phase progress update...`),localStorage.setItem("task_progress_updated",s),window.dispatchEvent(new StorageEvent("storage",{key:"task_progress_updated",newValue:s})),{progress:a,status:o}}catch(o){return console.error("Error updating manual task progress:",o),null}})}}}const{useTaskProgressCalculation:Zu,useTaskStatusProgressUpdate:yL,useManualProgressUpdate:bL}=xL;class AN{static usePhaseProgressCalculation(){const{updateDoc:t}=Vs();return{calculateAndUpdatePhaseProgress:s=>ve(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",name:s})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message;if(!l||!l.tasks||l.tasks.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no tasks)`),0;const d=l.tasks.map(y=>y.task),f=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["name","in",d]]})});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const p=(yield f.json()).message||[];if(p.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no valid tasks)`),0;let g=0;p.forEach(y=>{g+=y.progress||0});const b=Math.round(g/p.length);return yield t("project_phase",s,{progress:b}),console.log(`Phase ${s} progress updated to ${b}% (based on ${p.length} tasks)`),b}catch(a){return console.error("Error calculating phase progress:",a),null}})}}static usePhaseStatusProgressUpdate(){const{updateDoc:t}=Vs();return{updatePhaseProgressByStatus:(s,a,o)=>ve(null,null,function*(){try{let l=o||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("project_phase",s,{status:a,progress:l}),l}catch(l){return console.error("Error updating phase progress by status:",l),null}})}}static useManualPhaseProgressUpdate(){const{updateDoc:t}=Vs();return{updatePhaseProgress:(s,a)=>ve(null,null,function*(){try{let o="";return a===0||a===1?o="Open":a>1&&a<=90?o="Working":a>90&&a<100?o="Pending Review":a===100&&(o="Completed"),yield t("project_phase",s,{progress:a,status:o}),{progress:a,status:o}}catch(o){return console.error("Error updating manual phase progress:",o),null}})}}}const{usePhaseProgressCalculation:ON}=AN,vL=e=>ve(null,null,function*(){const{calculateAndUpdatePhaseProgress:t}=AN.usePhaseProgressCalculation();return yield t(e)});class Xx{static useProjectProgressFromPhases(){const{updateDoc:t}=Vs();return{calculateAndUpdateProjectProgressFromPhases:s=>ve(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0){const{calculateAndUpdateProjectProgressFromTasks:h}=Xx.useProjectProgressFromTasks();return yield h(s)}let d=0;l.forEach(h=>{d+=h.progress||0});const f=Math.round(d/l.length);return yield t("Project",s,{percent_complete:f}),f}catch(a){return console.error("Error calculating project progress from phases:",a),null}})}}static useProjectProgressFromTasks(){const{updateDoc:t}=Vs();return{calculateAndUpdateProjectProgressFromTasks:s=>ve(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0)return yield t("Project",s,{percent_complete:0}),0;let d=0;l.forEach(h=>{d+=h.progress||0});const f=Math.round(d/l.length);return yield t("Project",s,{percent_complete:f}),f}catch(a){return console.error("Error calculating project progress from tasks:",a),null}})}}static useProjectProgressCalculation(){const{updateDoc:t}=Vs();return{calculateAndUpdateProjectProgress:s=>ve(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(l&&l.length>0){let d=0;l.forEach(h=>{d+=h.progress||0});const f=Math.round(d/l.length);return yield t("Project",s,{percent_complete:f}),{progress:f,source:"phases",count:l.length}}else{const d=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const h=(yield d.json()).message||[];if(!h||h.length===0)return yield t("Project",s,{percent_complete:0}),{progress:0,source:"none",count:0};let p=0;h.forEach(b=>{p+=b.progress||0});const g=Math.round(p/h.length);return yield t("Project",s,{percent_complete:g}),{progress:g,source:"tasks",count:h.length}}}catch(a){return console.error("Error calculating project progress:",a),null}})}}static useProjectStatusProgressUpdate(){const{updateDoc:t}=Vs();return{updateProjectProgressByStatus:(s,a,o)=>ve(null,null,function*(){try{let l=o||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("Project",s,{status:a,percent_complete:l}),l}catch(l){return console.error("Error updating project progress by status:",l),null}})}}}const{useProjectProgressCalculation:wL}=Xx;class _L{static useProjectCascadeDelete(){const{call:t}=os("frappe.client.delete"),{call:n}=os("frappe.client.get_list");return{deleteProjectCascade:a=>ve(null,null,function*(){try{console.log(`Starting cascade delete for project: ${a}`);try{const y=yield n({doctype:"Project",fields:["name"],filters:[["name","=",a]],limit_page_length:1});if(!(y!=null&&y.message)||y.message.length===0)throw new Error(`Project ${a} not found`)}catch(y){throw console.error("Project validation failed:",y),new Error(`Project validation failed: ${y instanceof Error?y.message:"Unknown validation error"}`)}let o=0,l=0,d=0;console.log("Step 1: Fetching all tasks...");let f=[];try{const y=yield n({doctype:"Task",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3});f=(y==null?void 0:y.message)||[],console.log(`Found ${f.length} tasks to delete`)}catch(y){console.error("Error fetching tasks:",y),console.log("Continuing with deletion despite task fetch error...")}if(f.length>0){console.log(`Step 2: Processing ${f.length} tasks for subtask deletion...`);for(const y of f){console.log(`Step 2: Deleting subtasks for task ${y.name}...`);try{const w=yield n({doctype:"SubTask",fields:["name"],filters:[["task","=",y.name]],limit_page_length:1e3}),_=(w==null?void 0:w.message)||[];console.log(`Found ${_.length} subtasks for task ${y.name}`);for(const S of _)try{console.log(`Deleting subtask: ${S.name}`),yield t({doctype:"SubTask",name:S.name}),o++,console.log(`Successfully deleted subtask: ${S.name}`),yield new Promise(j=>setTimeout(j,100))}catch(j){console.error(`Error deleting subtask ${S.name}:`,j)}}catch(w){console.error(`Error fetching subtasks for task ${y.name}:`,w)}}yield new Promise(y=>setTimeout(y,500))}if(f.length>0){console.log(`Step 3: Deleting ${f.length} tasks...`);for(const y of f)try{console.log(`Deleting task: ${y.name}`),yield t({doctype:"Task",name:y.name}),l++,console.log(`Successfully deleted task: ${y.name}`),yield new Promise(w=>setTimeout(w,100))}catch(w){console.error(`Error deleting task ${y.name}:`,w)}yield new Promise(y=>setTimeout(y,500))}console.log("Step 4: Deleting all phases...");let h=[];try{const y=yield n({doctype:"project_phase",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3});h=(y==null?void 0:y.message)||[],console.log(`Found ${h.length} phases to delete`)}catch(y){console.error("Error fetching phases:",y),console.log("Continuing with deletion despite phase fetch error...")}for(const y of h)try{console.log(`Deleting phase: ${y.name}`),yield t({doctype:"project_phase",name:y.name}),d++,console.log(`Successfully deleted phase: ${y.name}`),yield new Promise(w=>setTimeout(w,100))}catch(w){console.error(`Error deleting phase ${y.name}:`,w)}h.length>0&&(yield new Promise(y=>setTimeout(y,500))),console.log("Step 5: Deleting ToDo assignments...");try{const y=yield n({doctype:"ToDo",fields:["name"],filters:[["reference_type","in",["Project","Task","SubTask"]],["reference_name","like",`%${a}%`]],limit_page_length:1e3}),w=(y==null?void 0:y.message)||[];console.log(`Found ${w.length} ToDo assignments to delete`);for(const _ of w)try{yield t({doctype:"ToDo",name:_.name})}catch(S){console.error(`Error deleting ToDo ${_.name}:`,S)}}catch(y){console.error("Error fetching/deleting ToDo assignments:",y)}console.log("Step 6: Deleting project users...");try{const y=yield n({doctype:"Project User",fields:["name"],filters:[["parent","=",a]],limit_page_length:1e3}),w=(y==null?void 0:y.message)||[];console.log(`Found ${w.length} project users to delete`);for(const _ of w)try{yield t({doctype:"Project User",name:_.name})}catch(S){console.error(`Error deleting Project User ${_.name}:`,S)}}catch(y){console.error("Error fetching/deleting project users:",y)}console.log("Step 6.5: Performing comprehensive dependency cleanup...");const p=[{doctype:"Task",filter:[["project","=",a]]},{doctype:"SubTask",filter:[["project","=",a]]},{doctype:"project_phase",filter:[["project","=",a]]},{doctype:"Project User",filter:[["parent","=",a]]},{doctype:"ToDo",filter:[["reference_type","=","Project"],["reference_name","=",a]]},{doctype:"ToDo",filter:[["reference_type","=","Task"],["reference_name","like",`%${a}%`]]},{doctype:"Communication",filter:[["reference_doctype","=","Project"],["reference_name","=",a]]},{doctype:"File",filter:[["attached_to_doctype","=","Project"],["attached_to_name","=",a]]},{doctype:"Comment",filter:[["reference_doctype","=","Project"],["reference_name","=",a]]}];for(const y of p)try{console.log(`Checking for remaining ${y.doctype} dependencies...`);const w=yield n({doctype:y.doctype,fields:["name"],filters:y.filter,limit_page_length:1e3}),_=(w==null?void 0:w.message)||[];if(_.length>0){console.log(`Found ${_.length} remaining ${y.doctype} items, deleting them...`);for(const S of _)try{yield t({doctype:y.doctype,name:S.name}),console.log(`Deleted remaining ${y.doctype}: ${S.name}`),yield new Promise(j=>setTimeout(j,100))}catch(j){console.error(`Error deleting remaining ${y.doctype} ${S.name}:`,j)}}else console.log(`No remaining ${y.doctype} dependencies found.`)}catch(w){console.error(`Error checking ${y.doctype} dependencies:`,w)}yield new Promise(y=>setTimeout(y,1e3)),console.log("Step 7: Deleting the project..."),yield new Promise(y=>setTimeout(y,1e3));let g=0;const b=3;for(;g<b;)try{g++,console.log(`Attempting to delete project ${a} (attempt ${g}/${b})`),yield t({doctype:"Project",name:a}),console.log(`Verifying project ${a} deletion...`);try{const y=yield n({doctype:"Project",fields:["name"],filters:[["name","=",a]],limit_page_length:1});if(y!=null&&y.message&&y.message.length>0)throw new Error("Project still exists after deletion attempt");console.log(`Successfully verified project ${a} deletion`)}catch(y){if(y.message==="Project still exists after deletion attempt")throw y;console.log(`Project ${a} not found during verification - deletion successful`)}console.log(`Successfully deleted project: ${a}`);break}catch(y){if(console.error(`Error deleting project ${a} (attempt ${g}):`,y),g<b){console.log(`Waiting before retry attempt ${g+1}...`),yield new Promise(w=>setTimeout(w,2e3)),console.log("Attempting to clean up remaining dependencies...");try{const w=yield n({doctype:"Project User",fields:["name"],filters:[["parent","=",a]],limit_page_length:1e3}),_=(w==null?void 0:w.message)||[];if(_.length>0){console.log(`Found ${_.length} remaining project users, deleting them...`);for(const S of _)try{yield t({doctype:"Project User",name:S.name}),console.log(`Deleted remaining project user: ${S.name}`)}catch(j){console.error(`Error deleting remaining project user ${S.name}:`,j)}}}catch(w){console.error("Error during dependency cleanup:",w)}try{const w=yield n({doctype:"ToDo",fields:["name"],filters:[["reference_type","=","Project"],["reference_name","=",a]],limit_page_length:1e3}),_=(w==null?void 0:w.message)||[];if(_.length>0){console.log(`Found ${_.length} remaining todos, deleting them...`);for(const S of _)try{yield t({doctype:"ToDo",name:S.name}),console.log(`Deleted remaining todo: ${S.name}`)}catch(j){console.error(`Error deleting remaining todo ${S.name}:`,j)}}}catch(w){console.error("Error during todo cleanup:",w)}}else{let w="Unknown project deletion error";if(y&&typeof y=="object")if(console.error("Full project deletion error object:",JSON.stringify(y,null,2)),y.message)w=y.message;else if(y.exc)w=y.exc;else if(y._server_messages)try{const _=JSON.parse(y._server_messages);Array.isArray(_)&&_.length>0&&(w=JSON.parse(_[0]).message||w)}catch(_){console.error("Error parsing server messages:",_)}else w=JSON.stringify(y);else typeof y=="string"&&(w=y);throw new Error(`Failed to delete project ${a} after ${b} attempts: ${w}`)}}return console.log(`Successfully completed cascade delete for project: ${a}`),{success:!0,deletedItems:{subtasks:o,tasks:l,phases:d,project:1}}}catch(o){console.error("Error in cascade delete:",o);let l="Unknown error";throw o instanceof Error?l=o.message:typeof o=="string"?l=o:o&&typeof o=="object"&&(l=o.message||o.error||o.exc||JSON.stringify(o)),new Error(`Failed to delete project and related items: ${l}`)}})}}}const{useProjectCascadeDelete:jL}=_L;class Gx{static useUserTodos(){const{data:t}=Tn("User","",{shouldFetch:!0}),{data:n,isLoading:s,error:a,mutate:o}=vn("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",(t==null?void 0:t.name)||""],["reference_type","=","Task"]],orderBy:{field:"creation",order:"desc"},limit:0},t!=null&&t.name?"user-todos":null);return{todos:n||[],isLoading:s,error:a,mutate:o,currentUser:t}}static useUserTodosEnriched(){const{data:t}=Tn("User","",{shouldFetch:!0}),{data:n,isLoading:s,error:a,mutate:o}=WA("todo.api.get_user_todos_with_task_info",{user:(t==null?void 0:t.name)||""},t!=null&&t.name?"user-todos-enriched":null,{revalidateOnFocus:!1,revalidateOnReconnect:!1});return{todos:(n==null?void 0:n.message)||[],isLoading:s,error:a,mutate:o,currentUser:t}}static useUserTodosWithTaskData(){const{todos:t,isLoading:n,error:s,mutate:a,currentUser:o}=Gx.useUserTodos();return{todos:t.map(d=>(d.reference_type==="Task"&&d.reference_name,d)),isLoading:n,error:s,mutate:a,currentUser:o}}}const SL=Gx.useUserTodos,NL=({projects:e,selectedProject:t,selectedTeam:n,onProjectChange:s,onTeamChange:a})=>{var _,S;const[o,l]=N.useState({selectedTeam:n,selectedProject:t}),[d,f]=N.useState(!1),{data:h}=NN(),p=(j,R)=>{l(O=>me(L({},O),{[j]:R})),j==="selectedTeam"?a(R):j==="selectedProject"&&s(R)},g=ee.useMemo(()=>{const j=[{value:"all",label:"Tất cả team"},...(h==null?void 0:h.map(R=>({value:R.name,label:R.team_name||R.name})))||[]];return[j[0],...j.slice(1).sort((R,O)=>R.label.localeCompare(O.label))]},[h]),b=e.filter(j=>!(o.selectedTeam!=="all"&&o.selectedTeam!==""&&j.team!==o.selectedTeam)),y=()=>{l({selectedTeam:"all",selectedProject:"all"}),a("all"),s("all")},w=o.selectedTeam!=="all"||o.selectedProject!=="all";return ee.useEffect(()=>{l(j=>me(L({},j),{selectedTeam:n,selectedProject:t}))},[n,t]),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>f(!d),className:`inline-flex items-center px-4 py-2 border rounded-lg text-sm font-medium bg-white hover:bg-gray-50 transition-colors ${w?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700"}`,children:[c.jsx(Tx,{className:"mr-2 h-4 w-4"}),"Bộ lọc",w&&c.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[o.selectedTeam!=="all"?1:0,o.selectedProject!=="all"?1:0].reduce((j,R)=>j+R,0)})]}),d&&c.jsx("div",{className:"absolute top-full right-0 mt-2 w-96 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Bộ lọc dự án"}),w&&c.jsx("button",{onClick:y,className:"text-sm text-blue-600 hover:text-blue-800",children:"Xóa tất cả"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team"}),c.jsx("select",{value:o.selectedTeam,onChange:j=>p("selectedTeam",j.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!h||h.length===0,children:g.map(j=>c.jsx("option",{value:j.value,children:j.label},j.value))}),(!h||h.length===0)&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Không có team nào"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dự án"}),c.jsxs("select",{value:o.selectedProject,onChange:j=>p("selectedProject",j.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"all",children:"Tất cả dự án"}),b.map(j=>c.jsx("option",{value:j.project_name,children:j.project_name},j.name))]})]})]}),w&&c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx("span",{children:"Đang áp dụng:"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.selectedTeam!=="all"&&c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Team: ",(_=g.find(j=>j.value===o.selectedTeam))==null?void 0:_.label,c.jsx("button",{onClick:()=>p("selectedTeam","all"),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]}),o.selectedProject!=="all"&&c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Dự án: ",(S=b.find(j=>j.project_name===o.selectedProject))==null?void 0:S.project_name,c.jsx("button",{onClick:()=>p("selectedProject","all"),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]})]})]})})]})}),d&&c.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>f(!1)})]})},EL=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),TL=({projects:e,tasks:t,selectedProject:n})=>{const s=n&&n!=="all",a=s?"Task":"Dự án";let o,l,d;if(s){o=t.filter(g=>g.status==="Open"||g.status==="Working"||g.status!=="Completed"&&g.status!=="Cancelled").length,l=t.filter(g=>g.status==="Completed").length;const p=new Date;d=t.filter(g=>g.exp_end_date?new Date(g.exp_end_date)<p&&g.status!=="Completed":!1).length,t.reduce((g,b)=>g+(b.expected_time||0),0)}else{o=e.filter(g=>g.status==="Đang thực hiện"||g.status!=="Hoàn thành"&&g.status!=="Hủy"&&g.percent_complete<100).length,l=e.filter(g=>g.status==="Hoàn thành"||g.percent_complete===100).length;const p=new Date;d=e.filter(g=>new Date(g.expected_end_date)<p&&g.status!=="Hoàn thành"&&g.percent_complete<100).length}const f=e.reduce((p,g)=>p+(g.estimated_costing||0),0),h=[{title:`${a} đang hoạt động`,value:o,icon:yD,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-blue-500 to-blue-600",cardBg:"bg-white",shadow:"shadow-lg shadow-blue-500/20",change:"+55%",changeText:"than last week",changeColor:"text-green-500"},{title:`${a} hoàn thành`,value:l,icon:LD,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-green-500 to-green-600",cardBg:"bg-white",shadow:"shadow-lg shadow-green-500/20",change:"+3%",changeText:"than last month",changeColor:"text-green-500"},{title:`${a} quá hạn`,value:d,icon:Ql,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-pink-500 to-pink-600",cardBg:"bg-white",shadow:"shadow-lg shadow-pink-500/20",change:"+1%",changeText:"than yesterday",changeColor:"text-green-500"},{title:"Chi phí Dự án",value:EL(f),icon:wM,iconColor:"text-white",iconBg:"bg-gradient-to-br from-yellow-200 to-yellow-600",cardBg:"bg-white",shadow:"shadow-lg shadow-yellow-500/20",change:"+91",changeText:"Just updated",changeColor:"text-gray-500"}];return c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:h.map((p,g)=>{const b=p.icon;return c.jsx("div",{className:`${p.cardBg} ${p.shadow} rounded-xl p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:`${p.iconBg} ${p.iconColor} p-3 rounded-2xl shadow-lg`,children:c.jsx(b,{className:"h-6 w-6"})}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:p.title}),c.jsx("p",{className:`${p.title.includes("Chi phí")?"text-2xl":"text-3xl"} font-bold text-gray-900`,children:p.value})]})]})},g)})})},RN=({title:e,children:t,className:n=""})=>c.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 mb-6 ${n}`,children:[e&&c.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-4",children:e}),t]}),kL=({projects:e,tasks:t,selectedProject:n})=>{const s=n&&n!=="all",a=ee.useMemo(()=>{const p=new Date;return p.setHours(0,0,0,0),e.map((b,y)=>({id:`milestone-${y}`,name:b.project_name,project:b.project_name,endDate:new Date(b.expected_end_date),priority:b.priority,status:b.percent_complete===100?"completed":b.percent_complete>0?"in progress":"upcoming",progress:b.percent_complete})).filter(b=>{const y=new Date(b.endDate);y.setHours(0,0,0,0);const w=Math.ceil((y.getTime()-p.getTime())/(1e3*60*60*24));return b.status!=="completed"&&w>=0&&w<=15}).sort((b,y)=>{const w=new Date;w.setHours(0,0,0,0);const _=new Date(b.endDate);_.setHours(0,0,0,0);const S=new Date(y.endDate);S.setHours(0,0,0,0);const j=Math.abs(_.getTime()-w.getTime()),R=Math.abs(S.getTime()-w.getTime()),O=j-R;if(O!==0)return O;const C={"Khẩn cấp":0,Cao:1,"Trung bình":2,Thấp:3,Urgent:0,High:1,Medium:2,Low:3};return(C[b.priority]||3)-(C[y.priority]||3)})},[e]),o=ee.useMemo(()=>{if(!s)return[];const p=new Date;return p.setHours(0,0,0,0),t.filter(g=>{if(!g.exp_end_date||g.status==="Completed")return!1;const b=new Date(g.exp_end_date);b.setHours(0,0,0,0);const y=Math.ceil((b.getTime()-p.getTime())/(1e3*60*60*24));return y>=0&&y<=2}).sort((g,b)=>{const y=new Date;y.setHours(0,0,0,0);const w=new Date(g.exp_end_date);w.setHours(0,0,0,0);const _=new Date(b.exp_end_date);_.setHours(0,0,0,0);const S=Math.abs(w.getTime()-y.getTime()),j=Math.abs(_.getTime()-y.getTime()),R=S-j;if(R!==0)return R;const O={Urgent:0,High:1,Medium:2,Low:3};return(O[g.priority]||3)-(O[b.priority]||3)})},[t,s]),l=p=>{switch(p){case"completed":return"bg-green-500";case"in progress":return"bg-blue-500";case"upcoming":return"bg-gray-300";default:return"bg-gray-300"}},d=p=>{switch(p){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},f=p=>p.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),h=p=>{const g=new Date;g.setHours(0,0,0,0);const b=new Date(p);b.setHours(0,0,0,0);const y=Math.ceil((b.getTime()-g.getTime())/(1e3*60*60*24));return y<0?{text:`Quá hạn ${Math.abs(y)} ngày`,color:"text-red-600",urgent:!0}:y===0?{text:"Hôm nay",color:"text-red-600",urgent:!0}:y<=3?{text:`${y} ngày nữa`,color:"text-red-600",urgent:!0}:y<=7?{text:`${y} ngày nữa`,color:"text-orange-600",urgent:!0}:y<=14?{text:`${y} ngày nữa`,color:"text-yellow-600",urgent:!1}:{text:`${y} ngày nữa`,color:"text-gray-600",urgent:!1}};return c.jsx("div",{className:"grid grid-cols-1 gap-8",children:c.jsx(RN,{title:s?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})," ","gần ",c.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn "})," (<2 ngày)"]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Dự án"})," ","sắp ",c.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn"})," (<15 ngày)"]}),children:c.jsx("div",{className:`space-y-6 ${s?o.length>=3?"h-80 overflow-y-auto":"overflow-visible":a.length>=3?"h-80 overflow-y-auto":"overflow-visible"}`,children:s?c.jsxs(c.Fragment,{children:[o.map((p,g)=>{const b=h(new Date(p.exp_end_date));return c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center space-x-3",children:c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:p.subject}),c.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(p.priority)}`,children:p.priority})]}),c.jsx("div",{className:"mt-1",children:c.jsx("span",{className:`text-xs font-medium ${b.color}`,children:b.text})})]})}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(_r,{className:"h-4 w-4 mr-1"}),f(new Date(p.exp_end_date))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Progress"}),c.jsxs("span",{className:"font-medium",children:[p.progress||0,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full ${p.status==="Completed"?"bg-green-500":p.status==="Working"?"bg-blue-500":"bg-gray-300"}`,style:{width:`${p.progress||0}%`}})})]})]},`task-${g}`)}),o.length===0&&c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(_r,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),c.jsx("p",{children:"Không có task nào sắp đến hạn"})]})]}):c.jsxs(c.Fragment,{children:[a.map(p=>{const g=h(p.endDate);return c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center space-x-3",children:c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:p.name}),c.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(p.priority)}`,children:p.priority})]}),c.jsx("div",{className:"mt-1",children:c.jsx("span",{className:`text-xs font-medium ${g.color}`,children:g.text})})]})}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(_r,{className:"h-4 w-4 mr-1"}),f(p.endDate)]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Progress"}),c.jsxs("span",{className:"font-medium",children:[p.progress,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full ${l(p.status)}`,style:{width:`${p.progress}%`}})})]})]},p.id)}),a.length===0&&c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(_r,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),c.jsx("p",{children:"Không có dự án nào sắp đến hạn"})]})]})})})})},CL=({projects:e,tasks:t,selectedProject:n})=>{const[s,a]=N.useState(null),[o,l]=N.useState(!0),d=w=>{a(_=>_===w?null:w)},f=n&&n!=="all",p=(()=>{if(f){const w={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Open",height:30},working:{projects:[],color:"#f59e0b",lightColor:"#fbbf24",darkColor:"#d97706",label:"Working",height:25},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Completed",height:20},overdue:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Overdue",height:40},cancelled:{projects:[],color:"#6b7280",lightColor:"#9ca3af",darkColor:"#4b5563",label:"Cancelled",height:35}};return t.forEach(_=>{const S=new Date;_.exp_end_date&&new Date(_.exp_end_date)<S&&_.status!=="Completed"&&_.status!=="Cancelled"?w.overdue.projects.push(_):_.status==="Completed"?w.completed.projects.push(_):_.status==="Working"?w.working.projects.push(_):_.status==="Cancelled"?w.cancelled.projects.push(_):w.open.projects.push(_)}),w}else{const w={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Đang mở",height:30},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Hoàn thành",height:20},cancelled:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Đã hủy",height:40}};return e.forEach(_=>{_.status==="Completed"||_.status==="Hoàn thành"?w.completed.projects.push(_):_.status==="Cancelled"||_.status==="Canceled"||_.status==="Hủy"?w.cancelled.projects.push(_):w.open.projects.push(_)}),w}})(),g=f?t.length:e.length,b=w=>{const _={Urgent:4,High:3,Medium:2,Low:1};return w.sort((S,j)=>{const R=_[S.priority]||0;return(_[j.priority]||0)-R})};Object.values(p).forEach(w=>{w.projects=b(w.projects)});const y=()=>{const[w,_]=ee.useState({visible:!1,x:0,y:0,categoryKey:""}),S=360,j=S/2,R=S/2,O=170;let C=0;const A=Object.entries(p).filter(([,q])=>q.projects.length>0),k=(q,ne)=>{const I=ne.clientX,te=ne.clientY;_({visible:!0,x:I+15,y:te-10,categoryKey:q})},B=(q,ne)=>{if(w.visible&&w.categoryKey===q){const I=ne.clientX,te=ne.clientY;_(le=>me(L({},le),{x:I+15,y:te-10}))}},z=()=>{_({visible:!1,x:0,y:0,categoryKey:""})};return c.jsxs("div",{className:"relative flex flex-col items-center",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-6 text-center max-w-xs",children:f?"Biểu đồ phân bố Tasks theo trạng thái":"Biểu đồ phân bố dự án theo trạng thái"}),c.jsx("div",{className:"relative",style:{width:S,height:S},children:c.jsxs("svg",{width:S,height:S,className:"absolute top-0 left-0",children:[c.jsx("defs",{children:c.jsx("filter",{id:"dropshadow2d",x:"-20%",y:"-20%",width:"140%",height:"140%",children:c.jsx("feDropShadow",{dx:"2",dy:"4",stdDeviation:"4",floodOpacity:"0.2"})})}),(C=0,A.map(([q,ne])=>{const I=ne.projects.length/g*100,te=C,le=C+I/100*360;C=le;const pe=te*Math.PI/180,Q=le*Math.PI/180,$=(te+le)/2*Math.PI/180,J=j+O*Math.cos(pe),K=R+O*Math.sin(pe),he=j+O*Math.cos(Q),M=R+O*Math.sin(Q),ae=le-te>180?1:0,G=A.length===1;let F;G?F=`M ${j} ${R+O} A ${O} ${O} 0 1 1 ${j} ${R-O} A ${O} ${O} 0 1 1 ${j} ${R+O} Z`:F=[`M ${j} ${R}`,`L ${J} ${K}`,`A ${O} ${O} 0 ${ae} 1 ${he} ${M}`,"Z"].join(" ");const Z=O*.7,ye=G?j:j+Z*Math.cos($),de=G?R:R+Z*Math.sin($);return c.jsxs("g",{children:[c.jsx("path",{d:F,fill:ne.color,stroke:"white",strokeWidth:"2",filter:"url(#dropshadow2d)",className:"hover:opacity-80 transition-opacity cursor-pointer",onMouseEnter:Oe=>k(q,Oe),onMouseMove:Oe=>B(q,Oe),onMouseLeave:z}),I>5&&c.jsxs("text",{x:ye,y:de,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs font-bold fill-white pointer-events-none",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:[Math.round(I),"%"]})]},`segment-${q}`)}))]})}),w.visible&&w.categoryKey&&p[w.categoryKey]&&c.jsxs("div",{className:"fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-xs pointer-events-none",style:{left:w.x,top:w.y,transform:"translate(-50%, -100%)"},children:[c.jsxs("div",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[c.jsx("div",{className:"w-3 h-3 rounded mr-2",style:{backgroundColor:p[w.categoryKey].color}}),p[w.categoryKey].label," (",p[w.categoryKey].projects.length,")"]}),c.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:p[w.categoryKey].projects.map((q,ne)=>c.jsxs("div",{className:"text-xs border-b border-gray-100 pb-1 last:border-b-0",children:[c.jsx("div",{className:"font-medium text-gray-700",children:f?q.subject:q.project_name}),c.jsxs("div",{className:"text-gray-500 flex justify-between",children:[c.jsx("span",{children:f?`${q.progress||0}% hoàn thành`:`${q.percent_complete}% hoàn thành`}),c.jsxs("span",{className:"font-medium",children:["Priority: ",q.priority]})]})]},ne))})]})]})};return c.jsx(RN,{title:c.jsx("div",{className:"flex items-center justify-between w-full cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded-md transition-colors",onClick:()=>l(!o),children:c.jsx("div",{className:"flex items-center",children:c.jsx("span",{children:f?c.jsxs(c.Fragment,{children:["Tổng quan ",c.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})]}):c.jsxs(c.Fragment,{children:["Tổng quan ",c.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"dự án"})]})})})}),children:o&&c.jsx("div",{children:g===0?c.jsx("div",{className:"flex flex-col items-center justify-center py-16",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-8xl text-gray-300 mb-6",children:"📊"}),c.jsx("p",{className:"text-xl font-medium text-gray-600 mb-3",children:f?"Không có task nào":"Không có dự án nào"}),c.jsx("p",{className:"text-base text-gray-500 max-w-md",children:f?"Không có task nào đang thực hiện trong dự án này":"Không có dự án nào đang thực hiện"})]})}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsx("div",{className:"flex flex-col items-center",children:c.jsx(y,{})}),c.jsx("div",{className:"space-y-4",children:Object.entries(p).map(([w,_])=>_.projects.length>0&&c.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[c.jsxs("button",{onClick:()=>d(w),className:"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between border-l-4",style:{borderLeftColor:_.color},children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:_.color}}),c.jsxs("h4",{className:"font-semibold text-gray-800",children:[_.label," (",_.projects.length,")"]})]}),c.jsx("div",{className:"flex items-center",children:c.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${s===w?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),c.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${s===w?"max-h-96":"max-h-0"}`,children:c.jsx("div",{className:"p-4 space-y-2 max-h-80 overflow-y-auto",children:_.projects.map(S=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:[c.jsx("div",{className:"flex-1 min-w-0",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:f?S.subject:S.project_name}),c.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ml-2 flex-shrink-0 ${S.priority==="Urgent"?"bg-red-100 text-red-800":S.priority==="High"?"bg-orange-100 text-orange-800":S.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:S.priority})]})}),c.jsx("div",{className:"flex flex-col items-end ml-3",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(f?S.progress||0:S.percent_complete||0,100)}%`,backgroundColor:(()=>{const j=f?S.progress||0:S.percent_complete||0;return j>=100?"#22c55e":j>=70?"#3b82f6":j>=30?"#f59e0b":"#ef4444"})()}})}),c.jsxs("span",{className:"text-xs font-semibold text-gray-600 min-w-[35px] text-right",children:[f?S.progress||0:S.percent_complete||0,"%"]})]})})]},S.name))})})]},w))})]})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ju(e){return e+.5|0}const Ni=(e,t,n)=>Math.max(Math.min(e,n),t);function ju(e){return Ni(Ju(e*2.55),0,255)}function ki(e){return Ni(Ju(e*255),0,255)}function Ba(e){return Ni(Ju(e/2.55)/100,0,1)}function O1(e){return Ni(Ju(e*100),0,100)}const xr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},L0=[..."0123456789ABCDEF"],AL=e=>L0[e&15],OL=e=>L0[(e&240)>>4]+L0[e&15],Rf=e=>(e&240)>>4===(e&15),RL=e=>Rf(e.r)&&Rf(e.g)&&Rf(e.b)&&Rf(e.a);function DL(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&xr[e[1]]*17,g:255&xr[e[2]]*17,b:255&xr[e[3]]*17,a:t===5?xr[e[4]]*17:255}:(t===7||t===9)&&(n={r:xr[e[1]]<<4|xr[e[2]],g:xr[e[3]]<<4|xr[e[4]],b:xr[e[5]]<<4|xr[e[6]],a:t===9?xr[e[7]]<<4|xr[e[8]]:255})),n}const ML=(e,t)=>e<255?t(e):"";function PL(e){var t=RL(e)?AL:OL;return e?"#"+t(e.r)+t(e.g)+t(e.b)+ML(e.a,t):void 0}const LL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function DN(e,t,n){const s=t*Math.min(n,1-n),a=(o,l=(o+e/30)%12)=>n-s*Math.max(Math.min(l-3,9-l,1),-1);return[a(0),a(8),a(4)]}function zL(e,t,n){const s=(a,o=(a+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function UL(e,t,n){const s=DN(e,1,.5);let a;for(t+n>1&&(a=1/(t+n),t*=a,n*=a),a=0;a<3;a++)s[a]*=1-t-n,s[a]+=t;return s}function BL(e,t,n,s,a){return e===a?(t-n)/s+(t<n?6:0):t===a?(n-e)/s+2:(e-t)/s+4}function Kx(e){const n=e.r/255,s=e.g/255,a=e.b/255,o=Math.max(n,s,a),l=Math.min(n,s,a),d=(o+l)/2;let f,h,p;return o!==l&&(p=o-l,h=d>.5?p/(2-o-l):p/(o+l),f=BL(n,s,a,p,o),f=f*60+.5),[f|0,h||0,d]}function Qx(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(ki)}function Zx(e,t,n){return Qx(DN,e,t,n)}function FL(e,t,n){return Qx(UL,e,t,n)}function HL(e,t,n){return Qx(zL,e,t,n)}function MN(e){return(e%360+360)%360}function $L(e){const t=LL.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?ju(+t[5]):ki(+t[5]));const a=MN(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?s=FL(a,o,l):t[1]==="hsv"?s=HL(a,o,l):s=Zx(a,o,l),{r:s[0],g:s[1],b:s[2],a:n}}function VL(e,t){var n=Kx(e);n[0]=MN(n[0]+t),n=Zx(n),e.r=n[0],e.g=n[1],e.b=n[2]}function qL(e){if(!e)return;const t=Kx(e),n=t[0],s=O1(t[1]),a=O1(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${a}%, ${Ba(e.a)})`:`hsl(${n}, ${s}%, ${a}%)`}const R1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},D1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function IL(){const e={},t=Object.keys(D1),n=Object.keys(R1);let s,a,o,l,d;for(s=0;s<t.length;s++){for(l=d=t[s],a=0;a<n.length;a++)o=n[a],d=d.replace(o,R1[o]);o=parseInt(D1[l],16),e[d]=[o>>16&255,o>>8&255,o&255]}return e}let Df;function YL(e){Df||(Df=IL(),Df.transparent=[0,0,0,0]);const t=Df[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const WL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function XL(e){const t=WL.exec(e);let n=255,s,a,o;if(t){if(t[7]!==s){const l=+t[7];n=t[8]?ju(l):Ni(l*255,0,255)}return s=+t[1],a=+t[3],o=+t[5],s=255&(t[2]?ju(s):Ni(s,0,255)),a=255&(t[4]?ju(a):Ni(a,0,255)),o=255&(t[6]?ju(o):Ni(o,0,255)),{r:s,g:a,b:o,a:n}}}function GL(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Ba(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const zg=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,kl=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function KL(e,t,n){const s=kl(Ba(e.r)),a=kl(Ba(e.g)),o=kl(Ba(e.b));return{r:ki(zg(s+n*(kl(Ba(t.r))-s))),g:ki(zg(a+n*(kl(Ba(t.g))-a))),b:ki(zg(o+n*(kl(Ba(t.b))-o))),a:e.a+n*(t.a-e.a)}}function Mf(e,t,n){if(e){let s=Kx(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=Zx(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function PN(e,t){return e&&Object.assign(t||{},e)}function M1(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ki(e[3]))):(t=PN(e,{r:0,g:0,b:0,a:1}),t.a=ki(t.a)),t}function QL(e){return e.charAt(0)==="r"?XL(e):$L(e)}class $u{constructor(t){if(t instanceof $u)return t;const n=typeof t;let s;n==="object"?s=M1(t):n==="string"&&(s=DL(t)||YL(t)||QL(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=PN(this._rgb);return t&&(t.a=Ba(t.a)),t}set rgb(t){this._rgb=M1(t)}rgbString(){return this._valid?GL(this._rgb):void 0}hexString(){return this._valid?PL(this._rgb):void 0}hslString(){return this._valid?qL(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,a=t.rgb;let o;const l=n===o?.5:n,d=2*l-1,f=s.a-a.a,h=((d*f===-1?d:(d+f)/(1+d*f))+1)/2;o=1-h,s.r=255&h*s.r+o*a.r+.5,s.g=255&h*s.g+o*a.g+.5,s.b=255&h*s.b+o*a.b+.5,s.a=l*s.a+(1-l)*a.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=KL(this._rgb,t._rgb,n)),this}clone(){return new $u(this.rgb)}alpha(t){return this._rgb.a=ki(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Ju(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Mf(this._rgb,2,t),this}darken(t){return Mf(this._rgb,2,-t),this}saturate(t){return Mf(this._rgb,1,t),this}desaturate(t){return Mf(this._rgb,1,-t),this}rotate(t){return VL(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ma(){}const ZL=(()=>{let e=0;return()=>e++})();function En(e){return e==null}function ls(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Xt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Nr(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Zr(e,t){return Nr(e)?e:t}function nn(e,t){return typeof e=="undefined"?t:e}const JL=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function mn(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function tn(e,t,n,s){let a,o,l;if(ls(e))for(o=e.length,a=0;a<o;a++)t.call(n,e[a],a);else if(Xt(e))for(l=Object.keys(e),o=l.length,a=0;a<o;a++)t.call(n,e[l[a]],l[a])}function Sh(e,t){let n,s,a,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(a=e[n],o=t[n],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Nh(e){if(ls(e))return e.map(Nh);if(Xt(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let a=0;for(;a<s;++a)t[n[a]]=Nh(e[n[a]]);return t}return e}function LN(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function e6(e,t,n,s){if(!LN(e))return;const a=t[e],o=n[e];Xt(a)&&Xt(o)?Vu(a,o,s):t[e]=Nh(o)}function Vu(e,t,n){const s=ls(t)?t:[t],a=s.length;if(!Xt(e))return e;n=n||{};const o=n.merger||e6;let l;for(let d=0;d<a;++d){if(l=s[d],!Xt(l))continue;const f=Object.keys(l);for(let h=0,p=f.length;h<p;++h)o(f[h],e,l,n)}return e}function Tu(e,t){return Vu(e,t,{merger:t6})}function t6(e,t,n){if(!LN(e))return;const s=t[e],a=n[e];Xt(s)&&Xt(a)?Tu(s,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Nh(a))}const P1={"":e=>e,x:e=>e.x,y:e=>e.y};function n6(e){const t=e.split("."),n=[];let s="";for(const a of t)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function s6(e){const t=n6(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function Eh(e,t){return(P1[t]||(P1[t]=s6(t)))(e)}function Jx(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Th=e=>typeof e!="undefined",Mi=e=>typeof e=="function",L1=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function r6(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const pn=Math.PI,As=2*pn,kh=Number.POSITIVE_INFINITY,a6=pn/180,ys=pn/2,mo=pn/4,z1=pn*2/3,zN=Math.log10,Ch=Math.sign;function ch(e,t,n){return Math.abs(e-t)<n}function U1(e){const t=Math.round(e);e=ch(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(zN(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function i6(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((a,o)=>a-o).pop(),t}function o6(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Ah(e){return!o6(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function l6(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function c6(e,t,n){let s,a,o;for(s=0,a=e.length;s<a;s++)o=e[s][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function No(e){return e*(pn/180)}function u6(e){return e*(180/pn)}function B1(e){if(!Nr(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function UN(e,t){const n=t.x-e.x,s=t.y-e.y,a=Math.sqrt(n*n+s*s);let o=Math.atan2(s,n);return o<-.5*pn&&(o+=As),{angle:o,distance:a}}function d6(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ta(e){return(e%As+As)%As}function BN(e,t,n,s){const a=ta(e),o=ta(t),l=ta(n),d=ta(o-a),f=ta(l-a),h=ta(a-o),p=ta(a-l);return a===o||a===l||s&&o===l||d>f&&h<p}function qs(e,t,n){return Math.max(t,Math.min(n,e))}function f6(e){return qs(e,-32768,32767)}function Eo(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function ey(e,t,n){n=n||(l=>e[l]<t);let s=e.length-1,a=0,o;for(;s-a>1;)o=a+s>>1,n(o)?a=o:s=o;return{lo:a,hi:s}}const z0=(e,t,n,s)=>ey(e,n,s?a=>{const o=e[a][t];return o<n||o===n&&e[a+1][t]===n}:a=>e[a][t]<n),h6=(e,t,n)=>ey(e,n,s=>e[s][t]>=n);function m6(e,t,n){let s=0,a=e.length;for(;s<a&&e[s]<t;)s++;for(;a>s&&e[a-1]>n;)a--;return s>0||a<e.length?e.slice(s,a):e}const FN=["push","pop","shift","splice","unshift"];function p6(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),FN.forEach(n=>{const s="_onData"+Jx(n),a=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...o){const l=a.apply(this,o);return e._chartjs.listeners.forEach(d=>{typeof d[s]=="function"&&d[s](...o)}),l}})})}function F1(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,a=s.indexOf(t);a!==-1&&s.splice(a,1),!(s.length>0)&&(FN.forEach(o=>{delete e[o]}),delete e._chartjs)}function g6(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const HN=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function $N(e,t){let n=[],s=!1;return function(...a){n=a,s||(s=!0,HN.call(window,()=>{s=!1,e.apply(t,n)}))}}function x6(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const ty=e=>e==="start"?"left":e==="end"?"right":"center",js=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,y6=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t,Pf=e=>e===0||e===1,H1=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*As/n)),$1=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*As/n)+1,ku={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*ys)+1,easeOutSine:e=>Math.sin(e*ys),easeInOutSine:e=>-.5*(Math.cos(pn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Pf(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Pf(e)?e:H1(e,.075,.3),easeOutElastic:e=>Pf(e)?e:$1(e,.075,.3),easeInOutElastic(e){return Pf(e)?e:e<.5?.5*H1(e*2,.1125,.45):.5+.5*$1(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-ku.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?ku.easeInBounce(e*2)*.5:ku.easeOutBounce(e*2-1)*.5+.5};function VN(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function V1(e){return VN(e)?e:new $u(e)}function Ug(e){return VN(e)?e:new $u(e).saturate(.5).darken(.1).hexString()}const b6=["x","y","borderWidth","radius","tension"],v6=["color","borderColor","backgroundColor"];function w6(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:v6},numbers:{type:"number",properties:b6}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function _6(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const q1=new Map;function j6(e,t){t=t||{};const n=e+JSON.stringify(t);let s=q1.get(n);return s||(s=new Intl.NumberFormat(e,t),q1.set(n,s)),s}function qN(e,t,n){return j6(t,n).format(e)}const S6={values(e){return ls(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let a,o=e;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(a="scientific"),o=N6(e,n)}const l=zN(Math.abs(o)),d=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:a,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(f,this.options.ticks.format),qN(e,s,f)}};function N6(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var IN={formatters:S6};function E6(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:IN.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Do=Object.create(null),U0=Object.create(null);function Cu(e,t){if(!t)return e;const n=t.split(".");for(let s=0,a=n.length;s<a;++s){const o=n[s];e=e[o]||(e[o]=Object.create(null))}return e}function Bg(e,t,n){return typeof t=="string"?Vu(Cu(e,t),n):Vu(Cu(e,""),t)}class T6{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>Ug(a.backgroundColor),this.hoverBorderColor=(s,a)=>Ug(a.borderColor),this.hoverColor=(s,a)=>Ug(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Bg(this,t,n)}get(t){return Cu(this,t)}describe(t,n){return Bg(U0,t,n)}override(t,n){return Bg(Do,t,n)}route(t,n,s,a){const o=Cu(this,t),l=Cu(this,s),d="_"+n;Object.defineProperties(o,{[d]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[d],h=l[a];return Xt(f)?Object.assign({},h,f):nn(f,h)},set(f){this[d]=f}}})}apply(t){t.forEach(n=>n(this))}}var Un=new T6({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[w6,_6,E6]);function k6(e){return!e||En(e.size)||En(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function I1(e,t,n,s,a){let o=t[a];return o||(o=t[a]=e.measureText(a).width,n.push(a)),o>s&&(s=o),s}function po(e,t,n){const s=e.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((t-a)*s)/s+a}function Y1(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function W1(e,t,n,s){YN(e,t,n,s,null)}function YN(e,t,n,s,a){let o,l,d,f,h,p,g,b;const y=t.pointStyle,w=t.rotation,_=t.radius;let S=(w||0)*a6;if(y&&typeof y=="object"&&(o=y.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(S),e.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),e.restore();return}if(!(isNaN(_)||_<=0)){switch(e.beginPath(),y){default:a?e.ellipse(n,s,a/2,_,0,0,As):e.arc(n,s,_,0,As),e.closePath();break;case"triangle":p=a?a/2:_,e.moveTo(n+Math.sin(S)*p,s-Math.cos(S)*_),S+=z1,e.lineTo(n+Math.sin(S)*p,s-Math.cos(S)*_),S+=z1,e.lineTo(n+Math.sin(S)*p,s-Math.cos(S)*_),e.closePath();break;case"rectRounded":h=_*.516,f=_-h,l=Math.cos(S+mo)*f,g=Math.cos(S+mo)*(a?a/2-h:f),d=Math.sin(S+mo)*f,b=Math.sin(S+mo)*(a?a/2-h:f),e.arc(n-g,s-d,h,S-pn,S-ys),e.arc(n+b,s-l,h,S-ys,S),e.arc(n+g,s+d,h,S,S+ys),e.arc(n-b,s+l,h,S+ys,S+pn),e.closePath();break;case"rect":if(!w){f=Math.SQRT1_2*_,p=a?a/2:f,e.rect(n-p,s-f,2*p,2*f);break}S+=mo;case"rectRot":g=Math.cos(S)*(a?a/2:_),l=Math.cos(S)*_,d=Math.sin(S)*_,b=Math.sin(S)*(a?a/2:_),e.moveTo(n-g,s-d),e.lineTo(n+b,s-l),e.lineTo(n+g,s+d),e.lineTo(n-b,s+l),e.closePath();break;case"crossRot":S+=mo;case"cross":g=Math.cos(S)*(a?a/2:_),l=Math.cos(S)*_,d=Math.sin(S)*_,b=Math.sin(S)*(a?a/2:_),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+b,s-l),e.lineTo(n-b,s+l);break;case"star":g=Math.cos(S)*(a?a/2:_),l=Math.cos(S)*_,d=Math.sin(S)*_,b=Math.sin(S)*(a?a/2:_),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+b,s-l),e.lineTo(n-b,s+l),S+=mo,g=Math.cos(S)*(a?a/2:_),l=Math.cos(S)*_,d=Math.sin(S)*_,b=Math.sin(S)*(a?a/2:_),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+b,s-l),e.lineTo(n-b,s+l);break;case"line":l=a?a/2:Math.cos(S)*_,d=Math.sin(S)*_,e.moveTo(n-l,s-d),e.lineTo(n+l,s+d);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(S)*(a?a/2:_),s+Math.sin(S)*_);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function WN(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function ny(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function sy(e){e.restore()}function C6(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),En(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function A6(e,t,n,s,a){if(a.strikethrough||a.underline){const o=e.measureText(s),l=t-o.actualBoundingBoxLeft,d=t+o.actualBoundingBoxRight,f=n-o.actualBoundingBoxAscent,h=n+o.actualBoundingBoxDescent,p=a.strikethrough?(f+h)/2:h;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(l,p),e.lineTo(d,p),e.stroke()}}function O6(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function qu(e,t,n,s,a,o={}){const l=ls(t)?t:[t],d=o.strokeWidth>0&&o.strokeColor!=="";let f,h;for(e.save(),e.font=a.string,C6(e,o),f=0;f<l.length;++f)h=l[f],o.backdrop&&O6(e,o.backdrop),d&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),En(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(h,n,s,o.maxWidth)),e.fillText(h,n,s,o.maxWidth),A6(e,n,s,h,o),s+=Number(a.lineHeight);e.restore()}function Oh(e,t){const{x:n,y:s,w:a,h:o,radius:l}=t;e.arc(n+l.topLeft,s+l.topLeft,l.topLeft,1.5*pn,pn,!0),e.lineTo(n,s+o-l.bottomLeft),e.arc(n+l.bottomLeft,s+o-l.bottomLeft,l.bottomLeft,pn,ys,!0),e.lineTo(n+a-l.bottomRight,s+o),e.arc(n+a-l.bottomRight,s+o-l.bottomRight,l.bottomRight,ys,0,!0),e.lineTo(n+a,s+l.topRight),e.arc(n+a-l.topRight,s+l.topRight,l.topRight,0,-ys,!0),e.lineTo(n+l.topLeft,s)}const R6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,D6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function M6(e,t){const n=(""+e).match(R6);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const P6=e=>+e||0;function ry(e,t){const n={},s=Xt(t),a=s?Object.keys(t):t,o=Xt(e)?s?l=>nn(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of a)n[l]=P6(o(l));return n}function XN(e){return ry(e,{top:"y",right:"x",bottom:"y",left:"x"})}function $l(e){return ry(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Er(e){const t=XN(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ns(e,t){e=e||{},t=t||Un.font;let n=nn(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=nn(e.style,t.style);s&&!(""+s).match(D6)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:nn(e.family,t.family),lineHeight:M6(nn(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:nn(e.weight,t.weight),string:""};return a.string=k6(a),a}function Lf(e,t,n,s){let a,o,l;for(a=0,o=e.length;a<o;++a)if(l=e[a],l!==void 0&&l!==void 0)return l}function L6(e,t,n){const{min:s,max:a}=e,o=JL(t,(a-s)/2),l=(d,f)=>n&&d===0?0:d+f;return{min:l(s,-Math.abs(o)),max:l(a,o)}}function rc(e,t){return Object.assign(Object.create(e),t)}function ay(e,t=[""],n,s,a=()=>e[0]){const o=n||e;typeof s=="undefined"&&(s=ZN("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:s,_getTarget:a,override:d=>ay([d,...e],t,o,s)};return new Proxy(l,{deleteProperty(d,f){return delete d[f],delete d._keys,delete e[0][f],!0},get(d,f){return KN(d,f,()=>q6(f,t,e,d))},getOwnPropertyDescriptor(d,f){return Reflect.getOwnPropertyDescriptor(d._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(d,f){return G1(d).includes(f)},ownKeys(d){return G1(d)},set(d,f,h){const p=d._storage||(d._storage=a());return d[f]=p[f]=h,delete d._keys,!0}})}function Gl(e,t,n,s){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:GN(e,s),setContext:o=>Gl(e,o,n,s),override:o=>Gl(e.override(o),t,n,s)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete e[l],!0},get(o,l,d){return KN(o,l,()=>U6(o,l,d))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(o,l,d){return e[l]=d,delete o[l],!0}})}function GN(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:n,indexable:s,isScriptable:Mi(n)?n:()=>n,isIndexable:Mi(s)?s:()=>s}}const z6=(e,t)=>e?e+Jx(t):t,iy=(e,t)=>Xt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function KN(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function U6(e,t,n){const{_proxy:s,_context:a,_subProxy:o,_descriptors:l}=e;let d=s[t];return Mi(d)&&l.isScriptable(t)&&(d=B6(t,d,e,n)),ls(d)&&d.length&&(d=F6(t,d,e,l.isIndexable)),iy(t,d)&&(d=Gl(d,a,o&&o[t],l)),d}function B6(e,t,n,s){const{_proxy:a,_context:o,_subProxy:l,_stack:d}=n;if(d.has(e))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+e);d.add(e);let f=t(o,l||s);return d.delete(e),iy(e,f)&&(f=oy(a._scopes,a,e,f)),f}function F6(e,t,n,s){const{_proxy:a,_context:o,_subProxy:l,_descriptors:d}=n;if(typeof o.index!="undefined"&&s(e))return t[o.index%t.length];if(Xt(t[0])){const f=t,h=a._scopes.filter(p=>p!==f);t=[];for(const p of f){const g=oy(h,a,e,p);t.push(Gl(g,o,l&&l[e],d))}}return t}function QN(e,t,n){return Mi(e)?e(t,n):e}const H6=(e,t)=>e===!0?t:typeof e=="string"?Eh(t,e):void 0;function $6(e,t,n,s,a){for(const o of t){const l=H6(n,o);if(l){e.add(l);const d=QN(l._fallback,n,a);if(typeof d!="undefined"&&d!==n&&d!==s)return d}else if(l===!1&&typeof s!="undefined"&&n!==s)return null}return!1}function oy(e,t,n,s){const a=t._rootScopes,o=QN(t._fallback,n,s),l=[...e,...a],d=new Set;d.add(s);let f=X1(d,l,n,o||n,s);return f===null||typeof o!="undefined"&&o!==n&&(f=X1(d,l,o,f,s),f===null)?!1:ay(Array.from(d),[""],a,o,()=>V6(t,n,s))}function X1(e,t,n,s,a){for(;n;)n=$6(e,t,n,s,a);return n}function V6(e,t,n){const s=e._getTarget();t in s||(s[t]={});const a=s[t];return ls(a)&&Xt(n)?n:a||{}}function q6(e,t,n,s){let a;for(const o of t)if(a=ZN(z6(o,e),n),typeof a!="undefined")return iy(e,a)?oy(n,s,e,a):a}function ZN(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s!="undefined")return s}}function G1(e){let t=e._keys;return t||(t=e._keys=I6(e._scopes)),t}function I6(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(a=>!a.startsWith("_")))t.add(s);return Array.from(t)}function ly(){return typeof window!="undefined"&&typeof document!="undefined"}function cy(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Rh(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const tm=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Y6(e,t){return tm(e).getPropertyValue(t)}const W6=["top","right","bottom","left"];function ko(e,t,n){const s={};n=n?"-"+n:"";for(let a=0;a<4;a++){const o=W6[a];s[o]=parseFloat(e[t+"-"+o+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const X6=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function G6(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:a,offsetY:o}=s;let l=!1,d,f;if(X6(a,o,e.target))d=a,f=o;else{const h=t.getBoundingClientRect();d=s.clientX-h.left,f=s.clientY-h.top,l=!0}return{x:d,y:f,box:l}}function yo(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,a=tm(n),o=a.boxSizing==="border-box",l=ko(a,"padding"),d=ko(a,"border","width"),{x:f,y:h,box:p}=G6(e,n),g=l.left+(p&&d.left),b=l.top+(p&&d.top);let{width:y,height:w}=t;return o&&(y-=l.width+d.width,w-=l.height+d.height),{x:Math.round((f-g)/y*n.width/s),y:Math.round((h-b)/w*n.height/s)}}function K6(e,t,n){let s,a;if(t===void 0||n===void 0){const o=e&&cy(e);if(!o)t=e.clientWidth,n=e.clientHeight;else{const l=o.getBoundingClientRect(),d=tm(o),f=ko(d,"border","width"),h=ko(d,"padding");t=l.width-h.width-f.width,n=l.height-h.height-f.height,s=Rh(d.maxWidth,o,"clientWidth"),a=Rh(d.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:s||kh,maxHeight:a||kh}}const zf=e=>Math.round(e*10)/10;function Q6(e,t,n,s){const a=tm(e),o=ko(a,"margin"),l=Rh(a.maxWidth,e,"clientWidth")||kh,d=Rh(a.maxHeight,e,"clientHeight")||kh,f=K6(e,t,n);let{width:h,height:p}=f;if(a.boxSizing==="content-box"){const b=ko(a,"border","width"),y=ko(a,"padding");h-=y.width+b.width,p-=y.height+b.height}return h=Math.max(0,h-o.width),p=Math.max(0,s?h/s:p-o.height),h=zf(Math.min(h,l,f.maxWidth)),p=zf(Math.min(p,d,f.maxHeight)),h&&!p&&(p=zf(h/2)),(t!==void 0||n!==void 0)&&s&&f.height&&p>f.height&&(p=f.height,h=zf(Math.floor(p*s))),{width:h,height:p}}function K1(e,t,n){const s=t||1,a=Math.floor(e.height*s),o=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||l.height!==a||l.width!==o?(e.currentDevicePixelRatio=s,l.height=a,l.width=o,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const Z6=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};ly()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function Q1(e,t){const n=Y6(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const J6=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},ez=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Vl(e,t,n){return e?J6(t,n):ez()}function JN(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function eE(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Uf(e,t,n){return e.options.clip?e[n]:t[n]}function tz(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:Uf(n,t,"left"),right:Uf(n,t,"right"),top:Uf(s,t,"top"),bottom:Uf(s,t,"bottom")}:t}function nz(e,t){const n=t._clip;if(n.disabled)return!1;const s=tz(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class sz{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,a){const o=n.listeners[a],l=n.duration;o.forEach(d=>d({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(s-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=HN.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const o=s.items;let l=o.length-1,d=!1,f;for(;l>=0;--l)f=o[l],f._active?(f._total>s.duration&&(s.duration=f._total),f.tick(t),d=!0):(o[l]=o[o.length-1],o.pop());d&&(a.draw(),this._notify(a,s,t,"progress")),o.length||(s.running=!1,this._notify(a,s,t,"complete"),s.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var La=new sz;const Z1="transparent",rz={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=V1(e||Z1),a=s.valid&&V1(t||Z1);return a&&a.valid?a.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class az{constructor(t,n,s,a){const o=n[s];a=Lf([t.to,a,o,t.from]);const l=Lf([t.from,o,a]);this._active=!0,this._fn=t.fn||rz[t.type||typeof l],this._easing=ku[t.easing]||ku.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=l,this._to=a,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const a=this._target[this._prop],o=s-this._start,l=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Lf([t.to,n,a,t.from]),this._from=Lf([t.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,a=this._prop,o=this._from,l=this._loop,d=this._to;let f;if(this._active=o!==d&&(l||n<s),!this._active){this._target[a]=d,this._notify(!0);return}if(n<0){this._target[a]=o;return}f=n/s%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,d,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][n]()}}class tE{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Xt(t))return;const n=Object.keys(Un.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!Xt(o))return;const l={};for(const d of n)l[d]=o[d];(ls(o.properties)&&o.properties||[a]).forEach(d=>{(d===a||!s.has(d))&&s.set(d,l)})})}_animateOptions(t,n){const s=n.options,a=oz(t,s);if(!a)return[];const o=this._createAnimations(a,s);return s.$shared&&iz(t.options.$animations,s).then(()=>{t.options=s},()=>{}),o}_createAnimations(t,n){const s=this._properties,a=[],o=t.$animations||(t.$animations={}),l=Object.keys(n),d=Date.now();let f;for(f=l.length-1;f>=0;--f){const h=l[f];if(h.charAt(0)==="$")continue;if(h==="options"){a.push(...this._animateOptions(t,n));continue}const p=n[h];let g=o[h];const b=s.get(h);if(g)if(b&&g.active()){g.update(b,p,d);continue}else g.cancel();if(!b||!b.duration){t[h]=p;continue}o[h]=g=new az(b,t,h,p),a.push(g)}return a}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return La.add(this._chart,s),!0}}function iz(e,t){const n=[],s=Object.keys(t);for(let a=0;a<s.length;a++){const o=e[s[a]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function oz(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function J1(e,t){const n=e&&e.options||{},s=n.reverse,a=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:s?o:a,end:s?a:o}}function lz(e,t,n){if(n===!1)return!1;const s=J1(e,n),a=J1(t,n);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function cz(e){let t,n,s,a;return Xt(e)?(t=e.top,n=e.right,s=e.bottom,a=e.left):t=n=s=a=e,{top:t,right:n,bottom:s,left:a,disabled:e===!1}}function nE(e,t){const n=[],s=e._getSortedDatasetMetas(t);let a,o;for(a=0,o=s.length;a<o;++a)n.push(s[a].index);return n}function ej(e,t,n,s={}){const a=e.keys,o=s.mode==="single";let l,d,f,h;if(t===null)return;let p=!1;for(l=0,d=a.length;l<d;++l){if(f=+a[l],f===n){if(p=!0,s.all)continue;break}h=e.values[f],Nr(h)&&(o||t===0||Ch(t)===Ch(h))&&(t+=h)}return!p&&!s.all?0:t}function uz(e,t){const{iScale:n,vScale:s}=t,a=n.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",l=Object.keys(e),d=new Array(l.length);let f,h,p;for(f=0,h=l.length;f<h;++f)p=l[f],d[f]={[a]:p,[o]:e[p]};return d}function Fg(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function dz(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function fz(e){const{min:t,max:n,minDefined:s,maxDefined:a}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function hz(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function tj(e,t,n,s){for(const a of t.getMatchingVisibleMetas(s).reverse()){const o=e[a.index];if(n&&o>0||!n&&o<0)return a.index}return null}function nj(e,t){const{chart:n,_cachedMeta:s}=e,a=n._stacks||(n._stacks={}),{iScale:o,vScale:l,index:d}=s,f=o.axis,h=l.axis,p=dz(o,l,s),g=t.length;let b;for(let y=0;y<g;++y){const w=t[y],{[f]:_,[h]:S}=w,j=w._stacks||(w._stacks={});b=j[h]=hz(a,p,_),b[d]=S,b._top=tj(b,l,!0,s.type),b._bottom=tj(b,l,!1,s.type);const R=b._visualValues||(b._visualValues={});R[d]=S}}function Hg(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function mz(e,t){return rc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function pz(e,t,n){return rc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function du(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const a of t){const o=a._stacks;if(!o||o[s]===void 0||o[s][n]===void 0)return;delete o[s][n],o[s]._visualValues!==void 0&&o[s]._visualValues[n]!==void 0&&delete o[s]._visualValues[n]}}}const $g=e=>e==="reset"||e==="none",sj=(e,t)=>t?e:Object.assign({},e),gz=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:nE(n,!0),values:null};class uh{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Fg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&du(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),a=(g,b,y,w)=>g==="x"?b:g==="r"?w:y,o=n.xAxisID=nn(s.xAxisID,Hg(t,"x")),l=n.yAxisID=nn(s.yAxisID,Hg(t,"y")),d=n.rAxisID=nn(s.rAxisID,Hg(t,"r")),f=n.indexAxis,h=n.iAxisID=a(f,o,l,d),p=n.vAxisID=a(f,l,o,d);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&F1(this._data,this),t._stacked&&du(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(Xt(n)){const a=this._cachedMeta;this._data=uz(n,a)}else if(s!==n){if(s){F1(s,this);const a=this._cachedMeta;du(a),a._parsed=[]}n&&Object.isExtensible(n)&&p6(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const o=n._stacked;n._stacked=Fg(n.vScale,n),n.stack!==s.stack&&(a=!0,du(n),n.stack=s.stack),this._resyncElements(t),(a||o!==n._stacked)&&(nj(this,n._parsed),n._stacked=Fg(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:a}=this,{iScale:o,_stacked:l}=s,d=o.axis;let f=t===0&&n===a.length?!0:s._sorted,h=t>0&&s._parsed[t-1],p,g,b;if(this._parsing===!1)s._parsed=a,s._sorted=!0,b=a;else{ls(a[t])?b=this.parseArrayData(s,a,t,n):Xt(a[t])?b=this.parseObjectData(s,a,t,n):b=this.parsePrimitiveData(s,a,t,n);const y=()=>g[d]===null||h&&g[d]<h[d];for(p=0;p<n;++p)s._parsed[p+t]=g=b[p],f&&(y()&&(f=!1),h=g);s._sorted=f}l&&nj(this,b)}parsePrimitiveData(t,n,s,a){const{iScale:o,vScale:l}=t,d=o.axis,f=l.axis,h=o.getLabels(),p=o===l,g=new Array(a);let b,y,w;for(b=0,y=a;b<y;++b)w=b+s,g[b]={[d]:p||o.parse(h[w],w),[f]:l.parse(n[w],w)};return g}parseArrayData(t,n,s,a){const{xScale:o,yScale:l}=t,d=new Array(a);let f,h,p,g;for(f=0,h=a;f<h;++f)p=f+s,g=n[p],d[f]={x:o.parse(g[0],p),y:l.parse(g[1],p)};return d}parseObjectData(t,n,s,a){const{xScale:o,yScale:l}=t,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,h=new Array(a);let p,g,b,y;for(p=0,g=a;p<g;++p)b=p+s,y=n[b],h[p]={x:o.parse(Eh(y,d),b),y:l.parse(Eh(y,f),b)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const a=this.chart,o=this._cachedMeta,l=n[t.axis],d={keys:nE(a,!0),values:n._stacks[t.axis]._visualValues};return ej(d,l,o.index,{mode:s})}updateRangeFromParsed(t,n,s,a){const o=s[n.axis];let l=o===null?NaN:o;const d=a&&s._stacks[n.axis];a&&d&&(a.values=d,l=ej(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const s=this._cachedMeta,a=s._parsed,o=s._sorted&&t===s.iScale,l=a.length,d=this._getOtherScale(t),f=gz(n,s,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=fz(d);let b,y;function w(){y=a[b];const _=y[d.axis];return!Nr(y[t.axis])||p>_||g<_}for(b=0;b<l&&!(!w()&&(this.updateRangeFromParsed(h,t,y,f),o));++b);if(o){for(b=l-1;b>=0;--b)if(!w()){this.updateRangeFromParsed(h,t,y,f);break}}return h}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let a,o,l;for(a=0,o=n.length;a<o;++a)l=n[a][t.axis],Nr(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,a=n.vScale,o=this.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=cz(nn(this.options.clip,lz(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,a=s.data||[],o=n.chartArea,l=[],d=this._drawStart||0,f=this._drawCount||a.length-d,h=this.options.drawActiveElementsOnTop;let p;for(s.dataset&&s.dataset.draw(t,o,d,f),p=d;p<d+f;++p){const g=a[p];g.hidden||(g.active&&h?l.push(g):g.draw(t,o))}for(p=0;p<l.length;++p)l[p].draw(t,o)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=pz(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=mz(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const a=n==="active",o=this._cachedDataOpts,l=t+"-"+n,d=o[l],f=this.enableOptionSharing&&Th(s);if(d)return sj(d,f);const h=this.chart.config,p=h.datasetElementScopeKeys(this._type,t),g=a?[`${t}Hover`,"hover",t,""]:[t,""],b=h.getOptionScopes(this.getDataset(),p),y=Object.keys(Un.elements[t]),w=()=>this.getContext(s,a,n),_=h.resolveNamedOptions(b,y,w,g);return _.$shared&&(_.$shared=f,o[l]=Object.freeze(sj(_,f))),_}_resolveAnimations(t,n,s){const a=this.chart,o=this._cachedDataOpts,l=`animation-${n}`,d=o[l];if(d)return d;let f;if(a.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,n),b=p.getOptionScopes(this.getDataset(),g);f=p.createResolver(b,this.getContext(t,s,n))}const h=new tE(a,f&&f.animations);return f&&f._cacheable&&(o[l]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||$g(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),a=this._sharedOptions,o=this.getSharedOptions(s),l=this.includeOptions(n,o)||o!==a;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:l}}updateElement(t,n,s,a){$g(a)?Object.assign(t,s):this._resolveAnimations(n,a).update(t,s)}updateSharedOptions(t,n,s){t&&!$g(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,a){t.active=a;const o=this.getStyle(n,a);this._resolveAnimations(n,s,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[d,f,h]of this._syncList)this[d](f,h);this._syncList=[];const a=s.length,o=n.length,l=Math.min(o,a);l&&this.parse(0,l),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,n,s=!0){const a=this._cachedMeta,o=a.data,l=t+n;let d;const f=h=>{for(h.length+=n,d=h.length-1;d>=l;d--)h[d]=h[d-n]};for(f(o),d=t;d<l;++d)o[d]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(t,n),s&&this.updateElements(o,t,n,"reset")}updateElements(t,n,s,a){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(t,n);s._stacked&&du(s,a)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,a]=t;this[n](s,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}wt(uh,"defaults",{}),wt(uh,"datasetElementType",null),wt(uh,"dataElementType",null);function go(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class uy{constructor(t){wt(this,"options");this.options=t||{}}static override(t){Object.assign(uy.prototype,t)}init(){}formats(){return go()}parse(){return go()}format(){return go()}add(){return go()}diff(){return go()}startOf(){return go()}endOf(){return go()}}var xz={_date:uy};function yz(e,t,n,s){const{controller:a,data:o,_sorted:l}=e,d=a._cachedMeta.iScale,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(d&&t===d.axis&&t!=="r"&&l&&o.length){const h=d._reversePixels?h6:z0;if(s){if(a._sharedOptions){const p=o[0],g=typeof p.getRange=="function"&&p.getRange(t);if(g){const b=h(o,t,n-g),y=h(o,t,n+g);return{lo:b.lo,hi:y.hi}}}}else{const p=h(o,t,n);if(f){const{vScale:g}=a._cachedMeta,{_parsed:b}=e,y=b.slice(0,p.lo+1).reverse().findIndex(_=>!En(_[g.axis]));p.lo-=Math.max(0,y);const w=b.slice(p.hi).findIndex(_=>!En(_[g.axis]));p.hi+=Math.max(0,w)}return p}}return{lo:0,hi:o.length-1}}function nm(e,t,n,s,a){const o=e.getSortedVisibleDatasetMetas(),l=n[t];for(let d=0,f=o.length;d<f;++d){const{index:h,data:p}=o[d],{lo:g,hi:b}=yz(o[d],t,l,a);for(let y=g;y<=b;++y){const w=p[y];w.skip||s(w,h,y)}}}function bz(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,a){const o=t?Math.abs(s.x-a.x):0,l=n?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Vg(e,t,n,s,a){const o=[];return!a&&!e.isPointInArea(t)||nm(e,n,t,function(d,f,h){!a&&!WN(d,e.chartArea,0)||d.inRange(t.x,t.y,s)&&o.push({element:d,datasetIndex:f,index:h})},!0),o}function vz(e,t,n,s){let a=[];function o(l,d,f){const{startAngle:h,endAngle:p}=l.getProps(["startAngle","endAngle"],s),{angle:g}=UN(l,{x:t.x,y:t.y});BN(g,h,p)&&a.push({element:l,datasetIndex:d,index:f})}return nm(e,n,t,o),a}function wz(e,t,n,s,a,o){let l=[];const d=bz(n);let f=Number.POSITIVE_INFINITY;function h(p,g,b){const y=p.inRange(t.x,t.y,a);if(s&&!y)return;const w=p.getCenterPoint(a);if(!(!!o||e.isPointInArea(w))&&!y)return;const S=d(t,w);S<f?(l=[{element:p,datasetIndex:g,index:b}],f=S):S===f&&l.push({element:p,datasetIndex:g,index:b})}return nm(e,n,t,h),l}function qg(e,t,n,s,a,o){return!o&&!e.isPointInArea(t)?[]:n==="r"&&!s?vz(e,t,n,a):wz(e,t,n,s,a,o)}function rj(e,t,n,s,a){const o=[],l=n==="x"?"inXRange":"inYRange";let d=!1;return nm(e,n,t,(f,h,p)=>{f[l]&&f[l](t[n],a)&&(o.push({element:f,datasetIndex:h,index:p}),d=d||f.inRange(t.x,t.y,a))}),s&&!d?[]:o}var _z={modes:{index(e,t,n,s){const a=yo(t,e),o=n.axis||"x",l=n.includeInvisible||!1,d=n.intersect?Vg(e,a,o,s,l):qg(e,a,o,!1,s,l),f=[];return d.length?(e.getSortedVisibleDatasetMetas().forEach(h=>{const p=d[0].index,g=h.data[p];g&&!g.skip&&f.push({element:g,datasetIndex:h.index,index:p})}),f):[]},dataset(e,t,n,s){const a=yo(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;let d=n.intersect?Vg(e,a,o,s,l):qg(e,a,o,!1,s,l);if(d.length>0){const f=d[0].datasetIndex,h=e.getDatasetMeta(f).data;d=[];for(let p=0;p<h.length;++p)d.push({element:h[p],datasetIndex:f,index:p})}return d},point(e,t,n,s){const a=yo(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;return Vg(e,a,o,s,l)},nearest(e,t,n,s){const a=yo(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;return qg(e,a,o,n.intersect,s,l)},x(e,t,n,s){const a=yo(t,e);return rj(e,a,"x",n.intersect,s)},y(e,t,n,s){const a=yo(t,e);return rj(e,a,"y",n.intersect,s)}}};const sE=["left","top","right","bottom"];function fu(e,t){return e.filter(n=>n.pos===t)}function aj(e,t){return e.filter(n=>sE.indexOf(n.pos)===-1&&n.box.axis===t)}function hu(e,t){return e.sort((n,s)=>{const a=t?s:n,o=t?n:s;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function jz(e){const t=[];let n,s,a,o,l,d;for(n=0,s=(e||[]).length;n<s;++n)a=e[n],{position:o,options:{stack:l,stackWeight:d=1}}=a,t.push({index:n,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:l&&o+l,stackWeight:d});return t}function Sz(e){const t={};for(const n of e){const{stack:s,pos:a,stackWeight:o}=n;if(!s||!sE.includes(a))continue;const l=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function Nz(e,t){const n=Sz(e),{vBoxMaxWidth:s,hBoxMaxHeight:a}=t;let o,l,d;for(o=0,l=e.length;o<l;++o){d=e[o];const{fullSize:f}=d.box,h=n[d.stack],p=h&&d.stackWeight/h.weight;d.horizontal?(d.width=p?p*s:f&&t.availableWidth,d.height=a):(d.width=s,d.height=p?p*a:f&&t.availableHeight)}return n}function Ez(e){const t=jz(e),n=hu(t.filter(h=>h.box.fullSize),!0),s=hu(fu(t,"left"),!0),a=hu(fu(t,"right")),o=hu(fu(t,"top"),!0),l=hu(fu(t,"bottom")),d=aj(t,"x"),f=aj(t,"y");return{fullSize:n,leftAndTop:s.concat(o),rightAndBottom:a.concat(f).concat(l).concat(d),chartArea:fu(t,"chartArea"),vertical:s.concat(a).concat(f),horizontal:o.concat(l).concat(d)}}function ij(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function rE(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Tz(e,t,n,s){const{pos:a,box:o}=n,l=e.maxPadding;if(!Xt(a)){n.size&&(e[a]-=n.size);const g=s[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?o.height:o.width),n.size=g.size/g.count,e[a]+=n.size}o.getPadding&&rE(l,o.getPadding());const d=Math.max(0,t.outerWidth-ij(l,e,"left","right")),f=Math.max(0,t.outerHeight-ij(l,e,"top","bottom")),h=d!==e.w,p=f!==e.h;return e.w=d,e.h=f,n.horizontal?{same:h,other:p}:{same:p,other:h}}function kz(e){const t=e.maxPadding;function n(s){const a=Math.max(t[s]-e[s],0);return e[s]+=a,a}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function Cz(e,t){const n=t.maxPadding;function s(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(l=>{o[l]=Math.max(t[l],n[l])}),o}return s(e?["left","right"]:["top","bottom"])}function Su(e,t,n,s){const a=[];let o,l,d,f,h,p;for(o=0,l=e.length,h=0;o<l;++o){d=e[o],f=d.box,f.update(d.width||t.w,d.height||t.h,Cz(d.horizontal,t));const{same:g,other:b}=Tz(t,n,d,s);h|=g&&a.length,p=p||b,f.fullSize||a.push(d)}return h&&Su(a,t,n,s)||p}function Bf(e,t,n,s,a){e.top=n,e.left=t,e.right=t+s,e.bottom=n+a,e.width=s,e.height=a}function oj(e,t,n,s){const a=n.padding;let{x:o,y:l}=t;for(const d of e){const f=d.box,h=s[d.stack]||{placed:0,weight:1},p=d.stackWeight/h.weight||1;if(d.horizontal){const g=t.w*p,b=h.size||f.height;Th(h.start)&&(l=h.start),f.fullSize?Bf(f,a.left,l,n.outerWidth-a.right-a.left,b):Bf(f,t.left+h.placed,l,g,b),h.start=l,h.placed+=g,l=f.bottom}else{const g=t.h*p,b=h.size||f.width;Th(h.start)&&(o=h.start),f.fullSize?Bf(f,o,a.top,b,n.outerHeight-a.bottom-a.top):Bf(f,o,t.top+h.placed,b,g),h.start=o,h.placed+=g,o=f.right}}t.x=o,t.y=l}var jr={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const a=Er(e.options.layout.padding),o=Math.max(t-a.width,0),l=Math.max(n-a.height,0),d=Ez(e.boxes),f=d.vertical,h=d.horizontal;tn(e.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const p=f.reduce((_,S)=>S.box.options&&S.box.options.display===!1?_:_+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),b=Object.assign({},a);rE(b,Er(s));const y=Object.assign({maxPadding:b,w:o,h:l,x:a.left,y:a.top},a),w=Nz(f.concat(h),g);Su(d.fullSize,y,g,w),Su(f,y,g,w),Su(h,y,g,w)&&Su(f,y,g,w),kz(y),oj(d.leftAndTop,y,g,w),y.x+=y.w,y.y+=y.h,oj(d.rightAndBottom,y,g,w),e.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},tn(d.chartArea,_=>{const S=_.box;Object.assign(S,e.chartArea),S.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class aE{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,a){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,a?Math.floor(n/a):s)}}isAttached(t){return!0}updateConfig(t){}}class Az extends aE{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const dh="$chartjs",Oz={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},lj=e=>e===null||e==="";function Rz(e,t){const n=e.style,s=e.getAttribute("height"),a=e.getAttribute("width");if(e[dh]={initial:{height:s,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",lj(a)){const o=Q1(e,"width");o!==void 0&&(e.width=o)}if(lj(s))if(e.style.height==="")e.height=e.width/(t||2);else{const o=Q1(e,"height");o!==void 0&&(e.height=o)}return e}const iE=Z6?{passive:!0}:!1;function Dz(e,t,n){e&&e.addEventListener(t,n,iE)}function Mz(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,iE)}function Pz(e,t){const n=Oz[e.type]||e.type,{x:s,y:a}=yo(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:a!==void 0?a:null}}function Dh(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Lz(e,t,n){const s=e.canvas,a=new MutationObserver(o=>{let l=!1;for(const d of o)l=l||Dh(d.addedNodes,s),l=l&&!Dh(d.removedNodes,s);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function zz(e,t,n){const s=e.canvas,a=new MutationObserver(o=>{let l=!1;for(const d of o)l=l||Dh(d.removedNodes,s),l=l&&!Dh(d.addedNodes,s);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const Iu=new Map;let cj=0;function oE(){const e=window.devicePixelRatio;e!==cj&&(cj=e,Iu.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function Uz(e,t){Iu.size||window.addEventListener("resize",oE),Iu.set(e,t)}function Bz(e){Iu.delete(e),Iu.size||window.removeEventListener("resize",oE)}function Fz(e,t,n){const s=e.canvas,a=s&&cy(s);if(!a)return;const o=$N((d,f)=>{const h=a.clientWidth;n(d,f),h<a.clientWidth&&n()},window),l=new ResizeObserver(d=>{const f=d[0],h=f.contentRect.width,p=f.contentRect.height;h===0&&p===0||o(h,p)});return l.observe(a),Uz(e,o),l}function Ig(e,t,n){n&&n.disconnect(),t==="resize"&&Bz(e)}function Hz(e,t,n){const s=e.canvas,a=$N(o=>{e.ctx!==null&&n(Pz(o,e))},e);return Dz(s,t,a),a}class $z extends aE{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(Rz(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[dh])return!1;const s=n[dh].initial;["height","width"].forEach(o=>{const l=s[o];En(l)?n.removeAttribute(o):n.setAttribute(o,l)});const a=s.style||{};return Object.keys(a).forEach(o=>{n.style[o]=a[o]}),n.width=n.width,delete n[dh],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const a=t.$proxies||(t.$proxies={}),l={attach:Lz,detach:zz,resize:Fz}[n]||Hz;a[n]=l(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),a=s[n];if(!a)return;({attach:Ig,detach:Ig,resize:Ig}[n]||Mz)(t,n,a),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,a){return Q6(t,n,s,a)}isAttached(t){const n=t&&cy(t);return!!(n&&n.isConnected)}}function Vz(e){return!ly()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?Az:$z}var Gf;let zo=(Gf=class{constructor(){wt(this,"x");wt(this,"y");wt(this,"active",!1);wt(this,"options");wt(this,"$animations")}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return Ah(this.x)&&Ah(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const a={};return t.forEach(o=>{a[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),a}},wt(Gf,"defaults",{}),wt(Gf,"defaultRoutes"),Gf);function qz(e,t){const n=e.options.ticks,s=Iz(e),a=Math.min(n.maxTicksLimit||s,s),o=n.major.enabled?Wz(t):[],l=o.length,d=o[0],f=o[l-1],h=[];if(l>a)return Xz(t,h,o,l/a),h;const p=Yz(o,t,a);if(l>0){let g,b;const y=l>1?Math.round((f-d)/(l-1)):null;for(Ff(t,h,p,En(y)?0:d-y,d),g=0,b=l-1;g<b;g++)Ff(t,h,p,o[g],o[g+1]);return Ff(t,h,p,f,En(y)?t.length:f+y),h}return Ff(t,h,p),h}function Iz(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),a=e._maxLength/n;return Math.floor(Math.min(s,a))}function Yz(e,t,n){const s=Gz(e),a=t.length/n;if(!s)return Math.max(a,1);const o=i6(s);for(let l=0,d=o.length-1;l<d;l++){const f=o[l];if(f>a)return f}return Math.max(a,1)}function Wz(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function Xz(e,t,n,s){let a=0,o=n[0],l;for(s=Math.ceil(s),l=0;l<e.length;l++)l===o&&(t.push(e[l]),a++,o=n[a*s])}function Ff(e,t,n,s,a){const o=nn(s,0),l=Math.min(nn(a,e.length),e.length);let d=0,f,h,p;for(n=Math.ceil(n),a&&(f=a-s,n=f/Math.floor(f/n)),p=o;p<0;)d++,p=Math.round(o+d*n);for(h=Math.max(o,0);h<l;h++)h===p&&(t.push(e[h]),d++,p=Math.round(o+d*n))}function Gz(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const Kz=e=>e==="left"?"right":e==="right"?"left":e,uj=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,dj=(e,t)=>Math.min(t||e,e);function fj(e,t){const n=[],s=e.length/t,a=e.length;let o=0;for(;o<a;o+=s)n.push(e[Math.floor(o)]);return n}function Qz(e,t,n){const s=e.ticks.length,a=Math.min(t,s-1),o=e._startPixel,l=e._endPixel,d=1e-6;let f=e.getPixelForTick(a),h;if(!(n&&(s===1?h=Math.max(f-o,l-f):t===0?h=(e.getPixelForTick(1)-f)/2:h=(f-e.getPixelForTick(a-1))/2,f+=a<t?h:-h,f<o-d||f>l+d)))return f}function Zz(e,t){tn(e,n=>{const s=n.gc,a=s.length/2;let o;if(a>t){for(o=0;o<a;++o)delete n.data[s[o]];s.splice(0,a)}})}function mu(e){return e.drawTicks?e.tickLength:0}function hj(e,t){if(!e.display)return 0;const n=Ns(e.font,t),s=Er(e.padding);return(ls(e.text)?e.text.length:1)*n.lineHeight+s.height}function Jz(e,t){return rc(e,{scale:t,type:"scale"})}function eU(e,t,n){return rc(e,{tick:n,index:t,type:"tick"})}function tU(e,t,n){let s=ty(e);return(n&&t!=="right"||!n&&t==="right")&&(s=Kz(s)),s}function nU(e,t,n,s){const{top:a,left:o,bottom:l,right:d,chart:f}=e,{chartArea:h,scales:p}=f;let g=0,b,y,w;const _=l-a,S=d-o;if(e.isHorizontal()){if(y=js(s,o,d),Xt(n)){const j=Object.keys(n)[0],R=n[j];w=p[j].getPixelForValue(R)+_-t}else n==="center"?w=(h.bottom+h.top)/2+_-t:w=uj(e,n,t);b=d-o}else{if(Xt(n)){const j=Object.keys(n)[0],R=n[j];y=p[j].getPixelForValue(R)-S+t}else n==="center"?y=(h.left+h.right)/2-S+t:y=uj(e,n,t);w=js(s,l,a),g=n==="left"?-ys:ys}return{titleX:y,titleY:w,maxWidth:b,rotation:g}}class ac extends zo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:a}=this;return t=Zr(t,Number.POSITIVE_INFINITY),n=Zr(n,Number.NEGATIVE_INFINITY),s=Zr(s,Number.POSITIVE_INFINITY),a=Zr(a,Number.NEGATIVE_INFINITY),{min:Zr(t,s),max:Zr(n,a),minDefined:Nr(t),maxDefined:Nr(n)}}getMinMax(t){let{min:n,max:s,minDefined:a,maxDefined:o}=this.getUserBounds(),l;if(a&&o)return{min:n,max:s};const d=this.getMatchingVisibleMetas();for(let f=0,h=d.length;f<h;++f)l=d[f].controller.getMinMax(this,t),a||(n=Math.min(n,l.min)),o||(s=Math.max(s,l.max));return n=o&&n>s?s:n,s=a&&n>s?n:s,{min:Zr(n,Zr(s,n)),max:Zr(s,Zr(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){mn(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:a,grace:o,ticks:l}=this.options,d=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=L6(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=d<this.ticks.length;this._convertTicksToLabels(f?fj(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=qz(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){mn(this.options.afterUpdate,[this])}beforeSetDimensions(){mn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){mn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),mn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){mn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,a,o;for(s=0,a=t.length;s<a;s++)o=t[s],o.label=mn(n.callback,[o.value,s,t],this)}afterTickToLabelConversion(){mn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){mn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=dj(this.ticks.length,t.ticks.maxTicksLimit),a=n.minRotation||0,o=n.maxRotation;let l=a,d,f,h;if(!this._isVisible()||!n.display||a>=o||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const p=this._getLabelSizes(),g=p.widest.width,b=p.highest.height,y=qs(this.chart.width-g,0,this.maxWidth);d=t.offset?this.maxWidth/s:y/(s-1),g+6>d&&(d=y/(s-(t.offset?.5:1)),f=this.maxHeight-mu(t.grid)-n.padding-hj(t.title,this.chart.options.font),h=Math.sqrt(g*g+b*b),l=u6(Math.min(Math.asin(qs((p.highest.height+6)/d,-1,1)),Math.asin(qs(f/h,-1,1))-Math.asin(qs(b/h,-1,1)))),l=Math.max(a,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){mn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){mn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:a,grid:o}}=this,l=this._isVisible(),d=this.isHorizontal();if(l){const f=hj(a,n.options.font);if(d?(t.width=this.maxWidth,t.height=mu(o)+f):(t.height=this.maxHeight,t.width=mu(o)+f),s.display&&this.ticks.length){const{first:h,last:p,widest:g,highest:b}=this._getLabelSizes(),y=s.padding*2,w=No(this.labelRotation),_=Math.cos(w),S=Math.sin(w);if(d){const j=s.mirror?0:S*g.width+_*b.height;t.height=Math.min(this.maxHeight,t.height+j+y)}else{const j=s.mirror?0:_*g.width+S*b.height;t.width=Math.min(this.maxWidth,t.width+j+y)}this._calculatePadding(h,p,S,_)}}this._handleMargins(),d?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,a){const{ticks:{align:o,padding:l},position:d}=this.options,f=this.labelRotation!==0,h=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,y=0;f?h?(b=a*t.width,y=s*n.height):(b=s*t.height,y=a*n.width):o==="start"?y=n.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,y=n.width/2),this.paddingLeft=Math.max((b-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((y-g+l)*this.width/(this.width-g),0)}else{let p=n.height/2,g=t.height/2;o==="start"?(p=0,g=t.height):o==="end"&&(p=n.height,g=0),this.paddingTop=p+l,this.paddingBottom=g+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){mn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)En(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=fj(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:a,_longestTextCache:o}=this,l=[],d=[],f=Math.floor(n/dj(n,s));let h=0,p=0,g,b,y,w,_,S,j,R,O,C,A;for(g=0;g<n;g+=f){if(w=t[g].label,_=this._resolveTickFontOptions(g),a.font=S=_.string,j=o[S]=o[S]||{data:{},gc:[]},R=_.lineHeight,O=C=0,!En(w)&&!ls(w))O=I1(a,j.data,j.gc,O,w),C=R;else if(ls(w))for(b=0,y=w.length;b<y;++b)A=w[b],!En(A)&&!ls(A)&&(O=I1(a,j.data,j.gc,O,A),C+=R);l.push(O),d.push(C),h=Math.max(O,h),p=Math.max(C,p)}Zz(o,n);const k=l.indexOf(h),B=d.indexOf(p),z=q=>({width:l[q]||0,height:d[q]||0});return{first:z(0),last:z(n-1),widest:z(k),highest:z(B),widths:l,heights:d}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return f6(this._alignToPixels?po(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=eU(this.getContext(),t,s))}return this.$context||(this.$context=Jz(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=No(this.labelRotation),s=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,d=o?o.widest.width+l:0,f=o?o.highest.height+l:0;return this.isHorizontal()?f*s>d*a?d/s:f/a:f*a<d*s?f/s:d/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,a=this.options,{grid:o,position:l,border:d}=a,f=o.offset,h=this.isHorizontal(),g=this.ticks.length+(f?1:0),b=mu(o),y=[],w=d.setContext(this.getContext()),_=w.display?w.width:0,S=_/2,j=function($){return po(s,$,_)};let R,O,C,A,k,B,z,q,ne,I,te,le;if(l==="top")R=j(this.bottom),B=this.bottom-b,q=R-S,I=j(t.top)+S,le=t.bottom;else if(l==="bottom")R=j(this.top),I=t.top,le=j(t.bottom)-S,B=R+S,q=this.top+b;else if(l==="left")R=j(this.right),k=this.right-b,z=R-S,ne=j(t.left)+S,te=t.right;else if(l==="right")R=j(this.left),ne=t.left,te=j(t.right)-S,k=R+S,z=this.left+b;else if(n==="x"){if(l==="center")R=j((t.top+t.bottom)/2+.5);else if(Xt(l)){const $=Object.keys(l)[0],J=l[$];R=j(this.chart.scales[$].getPixelForValue(J))}I=t.top,le=t.bottom,B=R+S,q=B+b}else if(n==="y"){if(l==="center")R=j((t.left+t.right)/2);else if(Xt(l)){const $=Object.keys(l)[0],J=l[$];R=j(this.chart.scales[$].getPixelForValue(J))}k=R-S,z=k-b,ne=t.left,te=t.right}const pe=nn(a.ticks.maxTicksLimit,g),Q=Math.max(1,Math.ceil(g/pe));for(O=0;O<g;O+=Q){const $=this.getContext(O),J=o.setContext($),K=d.setContext($),he=J.lineWidth,M=J.color,ae=K.dash||[],G=K.dashOffset,F=J.tickWidth,Z=J.tickColor,ye=J.tickBorderDash||[],de=J.tickBorderDashOffset;C=Qz(this,O,f),C!==void 0&&(A=po(s,C,he),h?k=z=ne=te=A:B=q=I=le=A,y.push({tx1:k,ty1:B,tx2:z,ty2:q,x1:ne,y1:I,x2:te,y2:le,width:he,color:M,borderDash:ae,borderDashOffset:G,tickWidth:F,tickColor:Z,tickBorderDash:ye,tickBorderDashOffset:de}))}return this._ticksLength=g,this._borderValue=R,y}_computeLabelItems(t){const n=this.axis,s=this.options,{position:a,ticks:o}=s,l=this.isHorizontal(),d=this.ticks,{align:f,crossAlign:h,padding:p,mirror:g}=o,b=mu(s.grid),y=b+p,w=g?-p:y,_=-No(this.labelRotation),S=[];let j,R,O,C,A,k,B,z,q,ne,I,te,le="middle";if(a==="top")k=this.bottom-w,B=this._getXAxisLabelAlignment();else if(a==="bottom")k=this.top+w,B=this._getXAxisLabelAlignment();else if(a==="left"){const Q=this._getYAxisLabelAlignment(b);B=Q.textAlign,A=Q.x}else if(a==="right"){const Q=this._getYAxisLabelAlignment(b);B=Q.textAlign,A=Q.x}else if(n==="x"){if(a==="center")k=(t.top+t.bottom)/2+y;else if(Xt(a)){const Q=Object.keys(a)[0],$=a[Q];k=this.chart.scales[Q].getPixelForValue($)+y}B=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")A=(t.left+t.right)/2-y;else if(Xt(a)){const Q=Object.keys(a)[0],$=a[Q];A=this.chart.scales[Q].getPixelForValue($)}B=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(f==="start"?le="top":f==="end"&&(le="bottom"));const pe=this._getLabelSizes();for(j=0,R=d.length;j<R;++j){O=d[j],C=O.label;const Q=o.setContext(this.getContext(j));z=this.getPixelForTick(j)+o.labelOffset,q=this._resolveTickFontOptions(j),ne=q.lineHeight,I=ls(C)?C.length:1;const $=I/2,J=Q.color,K=Q.textStrokeColor,he=Q.textStrokeWidth;let M=B;l?(A=z,B==="inner"&&(j===R-1?M=this.options.reverse?"left":"right":j===0?M=this.options.reverse?"right":"left":M="center"),a==="top"?h==="near"||_!==0?te=-I*ne+ne/2:h==="center"?te=-pe.highest.height/2-$*ne+ne:te=-pe.highest.height+ne/2:h==="near"||_!==0?te=ne/2:h==="center"?te=pe.highest.height/2-$*ne:te=pe.highest.height-I*ne,g&&(te*=-1),_!==0&&!Q.showLabelBackdrop&&(A+=ne/2*Math.sin(_))):(k=z,te=(1-I)*ne/2);let ae;if(Q.showLabelBackdrop){const G=Er(Q.backdropPadding),F=pe.heights[j],Z=pe.widths[j];let ye=te-G.top,de=0-G.left;switch(le){case"middle":ye-=F/2;break;case"bottom":ye-=F;break}switch(B){case"center":de-=Z/2;break;case"right":de-=Z;break;case"inner":j===R-1?de-=Z:j>0&&(de-=Z/2);break}ae={left:de,top:ye,width:Z+G.width,height:F+G.height,color:Q.backdropColor}}S.push({label:C,font:q,textOffset:te,options:{rotation:_,color:J,strokeColor:K,strokeWidth:he,textAlign:M,textBaseline:le,translation:[A,k],backdrop:ae}})}return S}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-No(this.labelRotation))return t==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:a,padding:o}}=this.options,l=this._getLabelSizes(),d=t+o,f=l.widest.width;let h,p;return n==="left"?a?(p=this.right+o,s==="near"?h="left":s==="center"?(h="center",p+=f/2):(h="right",p+=f)):(p=this.right-d,s==="near"?h="right":s==="center"?(h="center",p-=f/2):(h="left",p=this.left)):n==="right"?a?(p=this.left+o,s==="near"?h="right":s==="center"?(h="center",p-=f/2):(h="left",p-=f)):(p=this.left+d,s==="near"?h="left":s==="center"?(h="center",p+=f/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:a,width:o,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,a,o,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const d=(f,h,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(f.x,f.y),s.lineTo(h.x,h.y),s.stroke(),s.restore())};if(n.display)for(o=0,l=a.length;o<l;++o){const f=a[o];n.drawOnChartArea&&d({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&d({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:a}}=this,o=s.setContext(this.getContext()),l=s.display?o.width:0;if(!l)return;const d=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let h,p,g,b;this.isHorizontal()?(h=po(t,this.left,l)-l/2,p=po(t,this.right,d)+d/2,g=b=f):(g=po(t,this.top,l)-l/2,b=po(t,this.bottom,d)+d/2,h=p=f),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(h,g),n.lineTo(p,b),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&ny(s,a);const o=this.getLabelItems(t);for(const l of o){const d=l.options,f=l.font,h=l.label,p=l.textOffset;qu(s,h,0,p,f,d)}a&&sy(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:a}}=this;if(!s.display)return;const o=Ns(s.font),l=Er(s.padding),d=s.align;let f=o.lineHeight/2;n==="bottom"||n==="center"||Xt(n)?(f+=l.bottom,ls(s.text)&&(f+=o.lineHeight*(s.text.length-1))):f+=l.top;const{titleX:h,titleY:p,maxWidth:g,rotation:b}=nU(this,f,n,d);qu(t,s.text,0,0,o,{color:s.color,maxWidth:g,rotation:b,textAlign:tU(d,n,a),textBaseline:"middle",translation:[h,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=nn(t.grid&&t.grid.z,-1),a=nn(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ac.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let o,l;for(o=0,l=n.length;o<l;++o){const d=n[o];d[s]===this.id&&(!t||d.type===t)&&a.push(d)}return a}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Ns(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Hf{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;aU(n)&&(s=this.register(n));const a=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,sU(t,l,s),this.override&&Un.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,a=this.scope;s in n&&delete n[s],a&&s in Un[a]&&(delete Un[a][s],this.override&&delete Do[s])}}function sU(e,t,n){const s=Vu(Object.create(null),[n?Un.get(n):{},Un.get(t),e.defaults]);Un.set(t,s),e.defaultRoutes&&rU(t,e.defaultRoutes),e.descriptors&&Un.describe(t,e.descriptors)}function rU(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),a=s.pop(),o=[e].concat(s).join("."),l=t[n].split("."),d=l.pop(),f=l.join(".");Un.route(o,a,f,d)})}function aU(e){return"id"in e&&"defaults"in e}class iU{constructor(){this.controllers=new Hf(uh,"datasets",!0),this.elements=new Hf(zo,"elements"),this.plugins=new Hf(Object,"plugins"),this.scales=new Hf(ac,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(a=>{const o=s||this._getRegistryForType(a);s||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):tn(a,l=>{const d=s||this._getRegistryForType(l);this._exec(t,d,l)})})}_exec(t,n,s){const a=Jx(t);mn(s["before"+a],[],s),n[t](s),mn(s["after"+a],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const a=n.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return a}}var ea=new iU;class oU{constructor(){this._init=[]}notify(t,n,s,a){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=a?this._descriptors(t).filter(a):this._descriptors(t),l=this._notify(o,t,n,s);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,n,s,a){a=a||{};for(const o of t){const l=o.plugin,d=l[s],f=[n,a,o.options];if(mn(d,f,l)===!1&&a.cancelable)return!1}return!0}invalidate(){En(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,a=nn(s.options&&s.options.plugins,{}),o=lU(s);return a===!1&&!n?[]:uU(t,o,a,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,a=(o,l)=>o.filter(d=>!l.some(f=>d.plugin.id===f.plugin.id));this._notify(a(n,s),t,"stop"),this._notify(a(s,n),t,"start")}}function lU(e){const t={},n=[],s=Object.keys(ea.plugins.items);for(let o=0;o<s.length;o++)n.push(ea.getPlugin(s[o]));const a=e.plugins||[];for(let o=0;o<a.length;o++){const l=a[o];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function cU(e,t){return!t&&e===!1?null:e===!0?{}:e}function uU(e,{plugins:t,localIds:n},s,a){const o=[],l=e.getContext();for(const d of t){const f=d.id,h=cU(s[f],a);h!==null&&o.push({plugin:d,options:dU(e.config,{plugin:d,local:n[f]},h,l)})}return o}function dU(e,{plugin:t,local:n},s,a){const o=e.pluginScopeKeys(t),l=e.getOptionScopes(s,o);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function B0(e,t){const n=Un.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function fU(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function hU(e,t){return e===t?"_index_":"_value_"}function mj(e){if(e==="x"||e==="y"||e==="r")return e}function mU(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function F0(e,...t){if(mj(e))return e;for(const n of t){const s=n.axis||mU(n.position)||e.length>1&&mj(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function pj(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function pU(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return pj(e,"x",n[0])||pj(e,"y",n[0])}return{}}function gU(e,t){const n=Do[e.type]||{scales:{}},s=t.scales||{},a=B0(e.type,t),o=Object.create(null);return Object.keys(s).forEach(l=>{const d=s[l];if(!Xt(d))return console.error(`Invalid scale configuration for scale: ${l}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=F0(l,d,pU(l,e),Un.scales[d.type]),h=hU(f,a),p=n.scales||{};o[l]=Tu(Object.create(null),[{axis:f},d,p[f],p[h]])}),e.data.datasets.forEach(l=>{const d=l.type||e.type,f=l.indexAxis||B0(d,t),p=(Do[d]||{}).scales||{};Object.keys(p).forEach(g=>{const b=fU(g,f),y=l[b+"AxisID"]||b;o[y]=o[y]||Object.create(null),Tu(o[y],[{axis:b},s[y],p[g]])})}),Object.keys(o).forEach(l=>{const d=o[l];Tu(d,[Un.scales[d.type],Un.scale])}),o}function lE(e){const t=e.options||(e.options={});t.plugins=nn(t.plugins,{}),t.scales=gU(e,t)}function cE(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function xU(e){return e=e||{},e.data=cE(e.data),lE(e),e}const gj=new Map,uE=new Set;function $f(e,t){let n=gj.get(e);return n||(n=t(),gj.set(e,n),uE.add(n)),n}const pu=(e,t,n)=>{const s=Eh(t,n);s!==void 0&&e.add(s)};class yU{constructor(t){this._config=xU(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=cE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),lE(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return $f(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return $f(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return $f(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return $f(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let a=s.get(t);return(!a||n)&&(a=new Map,s.set(t,a)),a}getOptionScopes(t,n,s){const{options:a,type:o}=this,l=this._cachedScopes(t,s),d=l.get(n);if(d)return d;const f=new Set;n.forEach(p=>{t&&(f.add(t),p.forEach(g=>pu(f,t,g))),p.forEach(g=>pu(f,a,g)),p.forEach(g=>pu(f,Do[o]||{},g)),p.forEach(g=>pu(f,Un,g)),p.forEach(g=>pu(f,U0,g))});const h=Array.from(f);return h.length===0&&h.push(Object.create(null)),uE.has(n)&&l.set(n,h),h}chartOptionScopes(){const{options:t,type:n}=this;return[t,Do[n]||{},Un.datasets[n]||{},{type:n},Un,U0]}resolveNamedOptions(t,n,s,a=[""]){const o={$shared:!0},{resolver:l,subPrefixes:d}=xj(this._resolverCache,t,a);let f=l;if(vU(l,n)){o.$shared=!1,s=Mi(s)?s():s;const h=this.createResolver(t,s,d);f=Gl(l,s,h)}for(const h of n)o[h]=f[h];return o}createResolver(t,n,s=[""],a){const{resolver:o}=xj(this._resolverCache,t,s);return Xt(n)?Gl(o,n,void 0,a):o}}function xj(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const a=n.join();let o=s.get(a);return o||(o={resolver:ay(t,n),subPrefixes:n.filter(d=>!d.toLowerCase().includes("hover"))},s.set(a,o)),o}const bU=e=>Xt(e)&&Object.getOwnPropertyNames(e).some(t=>Mi(e[t]));function vU(e,t){const{isScriptable:n,isIndexable:s}=GN(e);for(const a of t){const o=n(a),l=s(a),d=(l||o)&&e[a];if(o&&(Mi(d)||bU(d))||l&&ls(d))return!0}return!1}var wU="4.5.0";const _U=["top","bottom","left","right","chartArea"];function yj(e,t){return e==="top"||e==="bottom"||_U.indexOf(e)===-1&&t==="x"}function bj(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function vj(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),mn(n&&n.onComplete,[e],t)}function jU(e){const t=e.chart,n=t.options.animation;mn(n&&n.onProgress,[e],t)}function dE(e){return ly()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const fh={},wj=e=>{const t=dE(e);return Object.values(fh).filter(n=>n.canvas===t).pop()};function SU(e,t,n){const s=Object.keys(e);for(const a of s){const o=+a;if(o>=t){const l=e[a];delete e[a],(n>0||o>t)&&(e[o+n]=l)}}}function NU(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}class _i{static register(...t){ea.add(...t),_j()}static unregister(...t){ea.remove(...t),_j()}constructor(t,n){const s=this.config=new yU(n),a=dE(t),o=wj(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Vz(a)),this.platform.updateConfig(s);const d=this.platform.acquireContext(a,l.aspectRatio),f=d&&d.canvas,h=f&&f.height,p=f&&f.width;if(this.id=ZL(),this.ctx=d,this.canvas=f,this.width=p,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new oU,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=x6(g=>this.update(g),l.resizeDelay||0),this._dataChanges=[],fh[this.id]=this,!d||!f){console.error("Failed to create chart: can't acquire context from the given item");return}La.listen(this,"complete",vj),La.listen(this,"progress",jU),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:a,_aspectRatio:o}=this;return En(t)?n&&o?o:a?s/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ea}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():K1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Y1(this.canvas,this.ctx),this}stop(){return La.stop(this),this}resize(t,n){La.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,a=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(a,t,n,o),d=s.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,K1(this,d,!0)&&(this.notifyPlugins("resize",{size:l}),mn(s.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};tn(n,(s,a)=>{s.id=a})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,a=Object.keys(s).reduce((l,d)=>(l[d]=!1,l),{});let o=[];n&&(o=o.concat(Object.keys(n).map(l=>{const d=n[l],f=F0(l,d),h=f==="r",p=f==="x";return{options:d,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),tn(o,l=>{const d=l.options,f=d.id,h=F0(f,d),p=nn(d.type,l.dtype);(d.position===void 0||yj(d.position,h)!==yj(l.dposition))&&(d.position=l.dposition),a[f]=!0;let g=null;if(f in s&&s[f].type===p)g=s[f];else{const b=ea.getScale(p);g=new b({id:f,type:p,ctx:this.ctx,chart:this}),s[g.id]=g}g.init(d,t)}),tn(a,(l,d)=>{l||delete s[d]}),tn(s,l=>{jr.configure(this,l,l.options),jr.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((a,o)=>a.index-o.index),s>n){for(let a=n;a<s;++a)this._destroyDatasetMeta(a);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(bj("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,a)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=n.length;s<a;s++){const o=n[s];let l=this.getDatasetMeta(s);const d=o.type||this.config.type;if(l.type&&l.type!==d&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=d,l.indexAxis=o.indexAxis||B0(d,this.options),l.order=o.order||0,l.index=s,l.label=""+o.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{const f=ea.getController(d),{datasetElementType:h,dataElementType:p}=Un.datasets[d];Object.assign(f,{dataElementType:ea.getElement(p),datasetElementType:h&&ea.getElement(h)}),l.controller=new f(this,s),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){tn(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,p=this.data.datasets.length;h<p;h++){const{controller:g}=this.getDatasetMeta(h),b=!a&&o.indexOf(g)===-1;g.buildOrUpdateElements(b),l=Math.max(+g.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),a||tn(o,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(bj("z","_idx"));const{_active:d,_lastEvent:f}=this;f?this._eventHandler(f,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){tn(this.scales,t=>{jr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!L1(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:o}of n){const l=s==="_removeElements"?-o:o;SU(t,a,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=o=>new Set(t.filter(l=>l[0]===o).map((l,d)=>d+","+l.splice(1).join(","))),a=s(0);for(let o=1;o<n;o++)if(!L1(a,s(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;jr.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],tn(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Mi(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),a={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(La.has(this)?this.attached&&!La.running(this)&&La.start(this):(this.draw(),vj({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let a,o;for(a=0,o=n.length;a<o;++a){const l=n[a];(!t||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},a=nz(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&ny(n,a),t.controller.draw(),a&&sy(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return WN(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,a){const o=_z.modes[n];return typeof o=="function"?o(this,t,s,a):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let a=s.filter(o=>o&&o._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=rc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const a=s?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,a);Th(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),l.update(o,{visible:s}),this.update(d=>d.datasetIndex===t?a:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),La.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Y1(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete fh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(o,l)=>{n.addEventListener(this,o,l),t[o]=l},a=(o,l,d)=>{o.offsetX=l,o.offsetY=d,this._eventHandler(o)};tn(this.options.events,o=>s(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(f,h)=>{n.addEventListener(this,f,h),t[f]=h},a=(f,h)=>{t[f]&&(n.removeEventListener(this,f,h),delete t[f])},o=(f,h)=>{this.canvas&&this.resize(f,h)};let l;const d=()=>{a("attach",d),this.attached=!0,this.resize(),s("resize",o),s("detach",l)};l=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),s("attach",d)},n.isAttached(this.canvas)?d():l()}unbindEvents(){tn(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},tn(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const a=s?"set":"remove";let o,l,d,f;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),d=0,f=t.length;d<f;++d){l=t[d];const h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[a+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:o,index:l})=>{const d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[l],index:l}});!Sh(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const a=this.options.hover,o=(f,h)=>f.filter(p=>!h.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),l=o(n,t),d=s?t:o(t,n);l.length&&this.updateHoverStyle(l,a.mode,!1),d.length&&a.mode&&this.updateHoverStyle(d,a.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},a=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const o=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(o||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:a=[],options:o}=this,l=n,d=this._getActiveElements(t,a,s,l),f=r6(t),h=NU(t,this._lastEvent,s,f);s&&(this._lastEvent=null,mn(o.onHover,[t,d,this],this),f&&mn(o.onClick,[t,d,this],this));const p=!Sh(d,a);return(p||n)&&(this._active=d,this._updateHoverStyles(d,a,n)),this._lastEvent=h,p}_getActiveElements(t,n,s,a){if(t.type==="mouseout")return[];if(!s)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}}wt(_i,"defaults",Un),wt(_i,"instances",fh),wt(_i,"overrides",Do),wt(_i,"registry",ea),wt(_i,"version",wU),wt(_i,"getChart",wj);function _j(){return tn(_i.instances,e=>e._plugins.invalidate())}function EU(e,t,n){const{startAngle:s,x:a,y:o,outerRadius:l,innerRadius:d,options:f}=t,{borderWidth:h,borderJoinStyle:p}=f,g=Math.min(h/l,ta(s-n));if(e.beginPath(),e.arc(a,o,l-h/2,s+g/2,n-g/2),d>0){const b=Math.min(h/d,ta(s-n));e.arc(a,o,d+h/2,n-b/2,s+b/2,!0)}else{const b=Math.min(h/2,l*ta(s-n));if(p==="round")e.arc(a,o,b,n-pn/2,s+pn/2,!0);else if(p==="bevel"){const y=2*b*b,w=-y*Math.cos(n+pn/2)+a,_=-y*Math.sin(n+pn/2)+o,S=y*Math.cos(s+pn/2)+a,j=y*Math.sin(s+pn/2)+o;e.lineTo(w,_),e.lineTo(S,j)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function TU(e,t,n){const{startAngle:s,pixelMargin:a,x:o,y:l,outerRadius:d,innerRadius:f}=t;let h=a/d;e.beginPath(),e.arc(o,l,d,s-h,n+h),f>a?(h=a/f,e.arc(o,l,f,n+h,s-h,!0)):e.arc(o,l,a,n+ys,s-ys),e.closePath(),e.clip()}function kU(e){return ry(e,["outerStart","outerEnd","innerStart","innerEnd"])}function CU(e,t,n,s){const a=kU(e.options.borderRadius),o=(n-t)/2,l=Math.min(o,s*t/2),d=f=>{const h=(n-Math.min(o,f))*s/2;return qs(f,0,Math.min(o,h))};return{outerStart:d(a.outerStart),outerEnd:d(a.outerEnd),innerStart:qs(a.innerStart,0,l),innerEnd:qs(a.innerEnd,0,l)}}function Cl(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function Mh(e,t,n,s,a,o){const{x:l,y:d,startAngle:f,pixelMargin:h,innerRadius:p}=t,g=Math.max(t.outerRadius+s+n-h,0),b=p>0?p+s+n+h:0;let y=0;const w=a-f;if(s){const Q=p>0?p-s:0,$=g>0?g-s:0,J=(Q+$)/2,K=J!==0?w*J/(J+s):w;y=(w-K)/2}const _=Math.max(.001,w*g-n/pn)/g,S=(w-_)/2,j=f+S+y,R=a-S-y,{outerStart:O,outerEnd:C,innerStart:A,innerEnd:k}=CU(t,b,g,R-j),B=g-O,z=g-C,q=j+O/B,ne=R-C/z,I=b+A,te=b+k,le=j+A/I,pe=R-k/te;if(e.beginPath(),o){const Q=(q+ne)/2;if(e.arc(l,d,g,q,Q),e.arc(l,d,g,Q,ne),C>0){const he=Cl(z,ne,l,d);e.arc(he.x,he.y,C,ne,R+ys)}const $=Cl(te,R,l,d);if(e.lineTo($.x,$.y),k>0){const he=Cl(te,pe,l,d);e.arc(he.x,he.y,k,R+ys,pe+Math.PI)}const J=(R-k/b+(j+A/b))/2;if(e.arc(l,d,b,R-k/b,J,!0),e.arc(l,d,b,J,j+A/b,!0),A>0){const he=Cl(I,le,l,d);e.arc(he.x,he.y,A,le+Math.PI,j-ys)}const K=Cl(B,j,l,d);if(e.lineTo(K.x,K.y),O>0){const he=Cl(B,q,l,d);e.arc(he.x,he.y,O,j-ys,q)}}else{e.moveTo(l,d);const Q=Math.cos(q)*g+l,$=Math.sin(q)*g+d;e.lineTo(Q,$);const J=Math.cos(ne)*g+l,K=Math.sin(ne)*g+d;e.lineTo(J,K)}e.closePath()}function AU(e,t,n,s,a){const{fullCircles:o,startAngle:l,circumference:d}=t;let f=t.endAngle;if(o){Mh(e,t,n,s,f,a);for(let h=0;h<o;++h)e.fill();isNaN(d)||(f=l+(d%As||As))}return Mh(e,t,n,s,f,a),e.fill(),f}function OU(e,t,n,s,a){const{fullCircles:o,startAngle:l,circumference:d,options:f}=t,{borderWidth:h,borderJoinStyle:p,borderDash:g,borderDashOffset:b,borderRadius:y}=f,w=f.borderAlign==="inner";if(!h)return;e.setLineDash(g||[]),e.lineDashOffset=b,w?(e.lineWidth=h*2,e.lineJoin=p||"round"):(e.lineWidth=h,e.lineJoin=p||"bevel");let _=t.endAngle;if(o){Mh(e,t,n,s,_,a);for(let S=0;S<o;++S)e.stroke();isNaN(d)||(_=l+(d%As||As))}w&&TU(e,t,_),f.selfJoin&&_-l>=pn&&y===0&&p!=="miter"&&EU(e,t,_),o||(Mh(e,t,n,s,_,a),e.stroke())}class Nu extends zo{constructor(n){super();wt(this,"circumference");wt(this,"endAngle");wt(this,"fullCircles");wt(this,"innerRadius");wt(this,"outerRadius");wt(this,"pixelMargin");wt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,a){const o=this.getProps(["x","y"],a),{angle:l,distance:d}=UN(o,{x:n,y:s}),{startAngle:f,endAngle:h,innerRadius:p,outerRadius:g,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),y=(this.options.spacing+this.options.borderWidth)/2,w=nn(b,h-f),_=BN(l,f,h)&&f!==h,S=w>=As||_,j=Eo(d,p+y,g+y);return S&&j}getCenterPoint(n){const{x:s,y:a,startAngle:o,endAngle:l,innerRadius:d,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:h,spacing:p}=this.options,g=(o+l)/2,b=(d+f+p+h)/2;return{x:s+Math.cos(g)*b,y:a+Math.sin(g)*b}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:a}=this,o=(s.offset||0)/4,l=(s.spacing||0)/2,d=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=a>As?Math.floor(a/As):0,a===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const f=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(f)*o,Math.sin(f)*o);const h=1-Math.sin(Math.min(pn,a||0)),p=o*h;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,AU(n,this,p,l,d),OU(n,this,p,l,d),n.restore()}}wt(Nu,"id","arc"),wt(Nu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),wt(Nu,"defaultRoutes",{backgroundColor:"backgroundColor"}),wt(Nu,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function fE(e,t){const{x:n,y:s,base:a,width:o,height:l}=e.getProps(["x","y","base","width","height"],t);let d,f,h,p,g;return e.horizontal?(g=l/2,d=Math.min(n,a),f=Math.max(n,a),h=s-g,p=s+g):(g=o/2,d=n-g,f=n+g,h=Math.min(s,a),p=Math.max(s,a)),{left:d,top:h,right:f,bottom:p}}function Ei(e,t,n,s){return e?0:qs(t,n,s)}function RU(e,t,n){const s=e.options.borderWidth,a=e.borderSkipped,o=XN(s);return{t:Ei(a.top,o.top,0,n),r:Ei(a.right,o.right,0,t),b:Ei(a.bottom,o.bottom,0,n),l:Ei(a.left,o.left,0,t)}}function DU(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,o=$l(a),l=Math.min(t,n),d=e.borderSkipped,f=s||Xt(a);return{topLeft:Ei(!f||d.top||d.left,o.topLeft,0,l),topRight:Ei(!f||d.top||d.right,o.topRight,0,l),bottomLeft:Ei(!f||d.bottom||d.left,o.bottomLeft,0,l),bottomRight:Ei(!f||d.bottom||d.right,o.bottomRight,0,l)}}function MU(e){const t=fE(e),n=t.right-t.left,s=t.bottom-t.top,a=RU(e,n/2,s/2),o=DU(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:o},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function Yg(e,t,n,s){const a=t===null,o=n===null,d=e&&!(a&&o)&&fE(e,s);return d&&(a||Eo(t,d.left,d.right))&&(o||Eo(n,d.top,d.bottom))}function PU(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function LU(e,t){e.rect(t.x,t.y,t.w,t.h)}function Wg(e,t,n={}){const s=e.x!==n.x?-t:0,a=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-s,l=(e.y+e.h!==n.y+n.h?t:0)-a;return{x:e.x+s,y:e.y+a,w:e.w+o,h:e.h+l,radius:e.radius}}class hh extends zo{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:a}}=this,{inner:o,outer:l}=MU(this),d=PU(l.radius)?Oh:LU;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),d(t,Wg(l,n,o)),t.clip(),d(t,Wg(o,-n,l)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),d(t,Wg(o,n)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,n,s){return Yg(this,t,n,s)}inXRange(t,n){return Yg(this,t,null,n)}inYRange(t,n){return Yg(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(n+a)/2:n,y:o?s:(s+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}wt(hh,"id","bar"),wt(hh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),wt(hh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const jj=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},zU=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Sj extends zo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=mn(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,a)=>t.sort(s,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,a=Ns(s.font),o=a.size,l=this._computeTitleHeight(),{boxWidth:d,itemHeight:f}=jj(s,o);let h,p;n.font=a.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(l,o,d,f)+10):(p=this.maxHeight,h=this._fitCols(l,a,d,f)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,a){const{ctx:o,maxWidth:l,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],h=this.lineWidths=[0],p=a+d;let g=t;o.textAlign="left",o.textBaseline="middle";let b=-1,y=-p;return this.legendItems.forEach((w,_)=>{const S=s+n/2+o.measureText(w.text).width;(_===0||h[h.length-1]+S+2*d>l)&&(g+=p,h[h.length-(_>0?0:1)]=0,y+=p,b++),f[_]={left:0,top:y,row:b,width:S,height:a},h[h.length-1]+=S+d}),g}_fitCols(t,n,s,a){const{ctx:o,maxHeight:l,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],h=this.columnSizes=[],p=l-t;let g=d,b=0,y=0,w=0,_=0;return this.legendItems.forEach((S,j)=>{const{itemWidth:R,itemHeight:O}=UU(s,n,o,S,a);j>0&&y+O+2*d>p&&(g+=b+d,h.push({width:b,height:y}),w+=b+d,_++,b=y=0),f[j]={left:w,top:y,col:_,width:R,height:O},b=Math.max(b,R),y+=O+d}),g+=b,h.push({width:b,height:y}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:a},rtl:o}}=this,l=Vl(o,this.left,this.width);if(this.isHorizontal()){let d=0,f=js(s,this.left+a,this.right-this.lineWidths[d]);for(const h of n)d!==h.row&&(d=h.row,f=js(s,this.left+a,this.right-this.lineWidths[d])),h.top+=this.top+t+a,h.left=l.leftForLtr(l.x(f),h.width),f+=h.width+a}else{let d=0,f=js(s,this.top+t+a,this.bottom-this.columnSizes[d].height);for(const h of n)h.col!==d&&(d=h.col,f=js(s,this.top+t+a,this.bottom-this.columnSizes[d].height)),h.top=f,h.left+=this.left+a,h.left=l.leftForLtr(l.x(h.left),h.width),f+=h.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;ny(t,this),this._draw(),sy(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:a}=this,{align:o,labels:l}=t,d=Un.color,f=Vl(t.rtl,this.left,this.width),h=Ns(l.font),{padding:p}=l,g=h.size,b=g/2;let y;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=h.string;const{boxWidth:w,boxHeight:_,itemHeight:S}=jj(l,g),j=function(k,B,z){if(isNaN(w)||w<=0||isNaN(_)||_<0)return;a.save();const q=nn(z.lineWidth,1);if(a.fillStyle=nn(z.fillStyle,d),a.lineCap=nn(z.lineCap,"butt"),a.lineDashOffset=nn(z.lineDashOffset,0),a.lineJoin=nn(z.lineJoin,"miter"),a.lineWidth=q,a.strokeStyle=nn(z.strokeStyle,d),a.setLineDash(nn(z.lineDash,[])),l.usePointStyle){const ne={radius:_*Math.SQRT2/2,pointStyle:z.pointStyle,rotation:z.rotation,borderWidth:q},I=f.xPlus(k,w/2),te=B+b;YN(a,ne,I,te,l.pointStyleWidth&&w)}else{const ne=B+Math.max((g-_)/2,0),I=f.leftForLtr(k,w),te=$l(z.borderRadius);a.beginPath(),Object.values(te).some(le=>le!==0)?Oh(a,{x:I,y:ne,w,h:_,radius:te}):a.rect(I,ne,w,_),a.fill(),q!==0&&a.stroke()}a.restore()},R=function(k,B,z){qu(a,z.text,k,B+S/2,h,{strikethrough:z.hidden,textAlign:f.textAlign(z.textAlign)})},O=this.isHorizontal(),C=this._computeTitleHeight();O?y={x:js(o,this.left+p,this.right-s[0]),y:this.top+p+C,line:0}:y={x:this.left+p,y:js(o,this.top+C+p,this.bottom-n[0].height),line:0},JN(this.ctx,t.textDirection);const A=S+p;this.legendItems.forEach((k,B)=>{a.strokeStyle=k.fontColor,a.fillStyle=k.fontColor;const z=a.measureText(k.text).width,q=f.textAlign(k.textAlign||(k.textAlign=l.textAlign)),ne=w+b+z;let I=y.x,te=y.y;f.setWidth(this.width),O?B>0&&I+ne+p>this.right&&(te=y.y+=A,y.line++,I=y.x=js(o,this.left+p,this.right-s[y.line])):B>0&&te+A>this.bottom&&(I=y.x=I+n[y.line].width+p,y.line++,te=y.y=js(o,this.top+C+p,this.bottom-n[y.line].height));const le=f.x(I);if(j(le,te,k),I=y6(q,I+w+b,O?I+ne:this.right,t.rtl),R(f.x(I),te,k),O)y.x+=ne+p;else if(typeof k.text!="string"){const pe=h.lineHeight;y.y+=hE(k,pe)+p}else y.y+=A}),eE(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=Ns(n.font),a=Er(n.padding);if(!n.display)return;const o=Vl(t.rtl,this.left,this.width),l=this.ctx,d=n.position,f=s.size/2,h=a.top+f;let p,g=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+h,g=js(t.align,g,this.right-b);else{const w=this.columnSizes.reduce((_,S)=>Math.max(_,S.height),0);p=h+js(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const y=js(d,g,g+b);l.textAlign=o.textAlign(ty(d)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=s.string,qu(l,n.text,y,p,s)}_computeTitleHeight(){const t=this.options.title,n=Ns(t.font),s=Er(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,a,o;if(Eo(t,this.left,this.right)&&Eo(n,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(a=o[s],Eo(t,a.left,a.left+a.width)&&Eo(n,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!HU(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=zU(a,s);a&&!o&&mn(n.onLeave,[t,a,this],this),this._hoveredItem=s,s&&!o&&mn(n.onHover,[t,s,this],this)}else s&&mn(n.onClick,[t,s,this],this)}}function UU(e,t,n,s,a){const o=BU(s,e,t,n),l=FU(a,s,t.lineHeight);return{itemWidth:o,itemHeight:l}}function BU(e,t,n,s){let a=e.text;return a&&typeof a!="string"&&(a=a.reduce((o,l)=>o.length>l.length?o:l)),t+n.size/2+s.measureText(a).width}function FU(e,t,n){let s=e;return typeof t.text!="string"&&(s=hE(t,n)),s}function hE(e,t){const n=e.text?e.text.length:0;return t*n}function HU(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var $U={id:"legend",_element:Sj,start(e,t,n){const s=e.legend=new Sj({ctx:e.ctx,options:n,chart:e});jr.configure(e,s,n),jr.addBox(e,s)},stop(e){jr.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;jr.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,a=n.chart;a.isDatasetVisible(s)?(a.hide(s),t.hidden=!0):(a.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:a,color:o,useBorderRadius:l,borderRadius:d}}=e.legend.options;return e._getSortedDatasetMetas().map(f=>{const h=f.controller.getStyle(n?0:void 0),p=Er(h.borderWidth);return{text:t[f.index].label,fillStyle:h.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:h.borderColor,pointStyle:s||h.pointStyle,rotation:h.rotation,textAlign:a||h.textAlign,borderRadius:l&&(d||h.borderRadius),datasetIndex:f.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};let mE=class extends zo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const a=ls(s.text)?s.text.length:1;this._padding=Er(s.padding);const o=a*Ns(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:a,right:o,options:l}=this,d=l.align;let f=0,h,p,g;return this.isHorizontal()?(p=js(d,s,o),g=n+t,h=o-s):(l.position==="left"?(p=s+t,g=js(d,a,n),f=pn*-.5):(p=o-t,g=js(d,n,a),f=pn*.5),h=a-n),{titleX:p,titleY:g,maxWidth:h,rotation:f}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=Ns(n.font),o=s.lineHeight/2+this._padding.top,{titleX:l,titleY:d,maxWidth:f,rotation:h}=this._drawArgs(o);qu(t,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:h,textAlign:ty(n.align),textBaseline:"middle",translation:[l,d]})}};function VU(e,t){const n=new mE({ctx:e.ctx,options:t,chart:e});jr.configure(e,n,t),jr.addBox(e,n),e.titleBlock=n}var qU={id:"title",_element:mE,start(e,t,n){VU(e,n)},stop(e){const t=e.titleBlock;jr.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;jr.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Eu={average(e){if(!e.length)return!1;let t,n,s=new Set,a=0,o=0;for(t=0,n=e.length;t<n;++t){const d=e[t].element;if(d&&d.hasValue()){const f=d.tooltipPosition();s.add(f.x),a+=f.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((d,f)=>d+f)/s.size,y:a/o}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,a=Number.POSITIVE_INFINITY,o,l,d;for(o=0,l=e.length;o<l;++o){const f=e[o].element;if(f&&f.hasValue()){const h=f.getCenterPoint(),p=d6(t,h);p<a&&(a=p,d=f)}}if(d){const f=d.tooltipPosition();n=f.x,s=f.y}return{x:n,y:s}}};function Jr(e,t){return t&&(ls(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function za(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function IU(e,t){const{element:n,datasetIndex:s,index:a}=t,o=e.getDatasetMeta(s).controller,{label:l,value:d}=o.getLabelAndValue(a);return{chart:e,label:l,parsed:o.getParsed(a),raw:e.data.datasets[s].data[a],formattedValue:d,dataset:o.getDataset(),dataIndex:a,datasetIndex:s,element:n}}function Nj(e,t){const n=e.chart.ctx,{body:s,footer:a,title:o}=e,{boxWidth:l,boxHeight:d}=t,f=Ns(t.bodyFont),h=Ns(t.titleFont),p=Ns(t.footerFont),g=o.length,b=a.length,y=s.length,w=Er(t.padding);let _=w.height,S=0,j=s.reduce((C,A)=>C+A.before.length+A.lines.length+A.after.length,0);if(j+=e.beforeBody.length+e.afterBody.length,g&&(_+=g*h.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),j){const C=t.displayColors?Math.max(d,f.lineHeight):f.lineHeight;_+=y*C+(j-y)*f.lineHeight+(j-1)*t.bodySpacing}b&&(_+=t.footerMarginTop+b*p.lineHeight+(b-1)*t.footerSpacing);let R=0;const O=function(C){S=Math.max(S,n.measureText(C).width+R)};return n.save(),n.font=h.string,tn(e.title,O),n.font=f.string,tn(e.beforeBody.concat(e.afterBody),O),R=t.displayColors?l+2+t.boxPadding:0,tn(s,C=>{tn(C.before,O),tn(C.lines,O),tn(C.after,O)}),R=0,n.font=p.string,tn(e.footer,O),n.restore(),S+=w.width,{width:S,height:_}}function YU(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function WU(e,t,n,s){const{x:a,width:o}=s,l=n.caretSize+n.caretPadding;if(e==="left"&&a+o+l>t.width||e==="right"&&a-o-l<0)return!0}function XU(e,t,n,s){const{x:a,width:o}=n,{width:l,chartArea:{left:d,right:f}}=e;let h="center";return s==="center"?h=a<=(d+f)/2?"left":"right":a<=o/2?h="left":a>=l-o/2&&(h="right"),WU(h,e,t,n)&&(h="center"),h}function Ej(e,t,n){const s=n.yAlign||t.yAlign||YU(e,n);return{xAlign:n.xAlign||t.xAlign||XU(e,t,n,s),yAlign:s}}function GU(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function KU(e,t,n){let{y:s,height:a}=e;return t==="top"?s+=n:t==="bottom"?s-=a+n:s-=a/2,s}function Tj(e,t,n,s){const{caretSize:a,caretPadding:o,cornerRadius:l}=e,{xAlign:d,yAlign:f}=n,h=a+o,{topLeft:p,topRight:g,bottomLeft:b,bottomRight:y}=$l(l);let w=GU(t,d);const _=KU(t,f,h);return f==="center"?d==="left"?w+=h:d==="right"&&(w-=h):d==="left"?w-=Math.max(p,b)+a:d==="right"&&(w+=Math.max(g,y)+a),{x:qs(w,0,s.width-t.width),y:qs(_,0,s.height-t.height)}}function Vf(e,t,n){const s=Er(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function kj(e){return Jr([],za(e))}function QU(e,t,n){return rc(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Cj(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const pE={beforeTitle:Ma,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:Ma,beforeBody:Ma,beforeLabel:Ma,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return En(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ma,afterBody:Ma,beforeFooter:Ma,footer:Ma,afterFooter:Ma};function Us(e,t,n,s){const a=e[t].call(n,s);return typeof a=="undefined"?pE[t].call(n,s):a}class H0 extends zo{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&n.options.animation&&s.animations,o=new tE(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=QU(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,a=Us(s,"beforeTitle",this,t),o=Us(s,"title",this,t),l=Us(s,"afterTitle",this,t);let d=[];return d=Jr(d,za(a)),d=Jr(d,za(o)),d=Jr(d,za(l)),d}getBeforeBody(t,n){return kj(Us(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,a=[];return tn(t,o=>{const l={before:[],lines:[],after:[]},d=Cj(s,o);Jr(l.before,za(Us(d,"beforeLabel",this,o))),Jr(l.lines,Us(d,"label",this,o)),Jr(l.after,za(Us(d,"afterLabel",this,o))),a.push(l)}),a}getAfterBody(t,n){return kj(Us(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,a=Us(s,"beforeFooter",this,t),o=Us(s,"footer",this,t),l=Us(s,"afterFooter",this,t);let d=[];return d=Jr(d,za(a)),d=Jr(d,za(o)),d=Jr(d,za(l)),d}_createItems(t){const n=this._active,s=this.chart.data,a=[],o=[],l=[];let d=[],f,h;for(f=0,h=n.length;f<h;++f)d.push(IU(this.chart,n[f]));return t.filter&&(d=d.filter((p,g,b)=>t.filter(p,g,b,s))),t.itemSort&&(d=d.sort((p,g)=>t.itemSort(p,g,s))),tn(d,p=>{const g=Cj(t.callbacks,p);a.push(Us(g,"labelColor",this,p)),o.push(Us(g,"labelPointStyle",this,p)),l.push(Us(g,"labelTextColor",this,p))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=d,d}update(t,n){const s=this.options.setContext(this.getContext()),a=this._active;let o,l=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const d=Eu[s.position].call(this,a,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const f=this._size=Nj(this,s),h=Object.assign({},d,f),p=Ej(this.chart,s,h),g=Tj(s,h,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:g.x,y:g.y,width:f.width,height:f.height,caretX:d.x,caretY:d.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,a){const o=this.getCaretPosition(t,s,a);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,s){const{xAlign:a,yAlign:o}=this,{caretSize:l,cornerRadius:d}=s,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:g}=$l(d),{x:b,y}=t,{width:w,height:_}=n;let S,j,R,O,C,A;return o==="center"?(C=y+_/2,a==="left"?(S=b,j=S-l,O=C+l,A=C-l):(S=b+w,j=S+l,O=C-l,A=C+l),R=S):(a==="left"?j=b+Math.max(f,p)+l:a==="right"?j=b+w-Math.max(h,g)-l:j=this.caretX,o==="top"?(O=y,C=O-l,S=j-l,R=j+l):(O=y+_,C=O+l,S=j+l,R=j-l),A=O),{x1:S,x2:j,x3:R,y1:O,y2:C,y3:A}}drawTitle(t,n,s){const a=this.title,o=a.length;let l,d,f;if(o){const h=Vl(s.rtl,this.x,this.width);for(t.x=Vf(this,s.titleAlign,s),n.textAlign=h.textAlign(s.titleAlign),n.textBaseline="middle",l=Ns(s.titleFont),d=s.titleSpacing,n.fillStyle=s.titleColor,n.font=l.string,f=0;f<o;++f)n.fillText(a[f],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+d,f+1===o&&(t.y+=s.titleMarginBottom-d)}}_drawColorBox(t,n,s,a,o){const l=this.labelColors[s],d=this.labelPointStyles[s],{boxHeight:f,boxWidth:h}=o,p=Ns(o.bodyFont),g=Vf(this,"left",o),b=a.x(g),y=f<p.lineHeight?(p.lineHeight-f)/2:0,w=n.y+y;if(o.usePointStyle){const _={radius:Math.min(h,f)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},S=a.leftForLtr(b,h)+h/2,j=w+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,W1(t,_,S,j),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,W1(t,_,S,j)}else{t.lineWidth=Xt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const _=a.leftForLtr(b,h),S=a.leftForLtr(a.xPlus(b,1),h-2),j=$l(l.borderRadius);Object.values(j).some(R=>R!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Oh(t,{x:_,y:w,w:h,h:f,radius:j}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Oh(t,{x:S,y:w+1,w:h-2,h:f-2,radius:j}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(_,w,h,f),t.strokeRect(_,w,h,f),t.fillStyle=l.backgroundColor,t.fillRect(S,w+1,h-2,f-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:a}=this,{bodySpacing:o,bodyAlign:l,displayColors:d,boxHeight:f,boxWidth:h,boxPadding:p}=s,g=Ns(s.bodyFont);let b=g.lineHeight,y=0;const w=Vl(s.rtl,this.x,this.width),_=function(z){n.fillText(z,w.x(t.x+y),t.y+b/2),t.y+=b+o},S=w.textAlign(l);let j,R,O,C,A,k,B;for(n.textAlign=l,n.textBaseline="middle",n.font=g.string,t.x=Vf(this,S,s),n.fillStyle=s.bodyColor,tn(this.beforeBody,_),y=d&&S!=="right"?l==="center"?h/2+p:h+2+p:0,C=0,k=a.length;C<k;++C){for(j=a[C],R=this.labelTextColors[C],n.fillStyle=R,tn(j.before,_),O=j.lines,d&&O.length&&(this._drawColorBox(n,t,C,w,s),b=Math.max(g.lineHeight,f)),A=0,B=O.length;A<B;++A)_(O[A]),b=g.lineHeight;tn(j.after,_)}y=0,b=g.lineHeight,tn(this.afterBody,_),t.y-=o}drawFooter(t,n,s){const a=this.footer,o=a.length;let l,d;if(o){const f=Vl(s.rtl,this.x,this.width);for(t.x=Vf(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=f.textAlign(s.footerAlign),n.textBaseline="middle",l=Ns(s.footerFont),n.fillStyle=s.footerColor,n.font=l.string,d=0;d<o;++d)n.fillText(a[d],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+s.footerSpacing}}drawBackground(t,n,s,a){const{xAlign:o,yAlign:l}=this,{x:d,y:f}=t,{width:h,height:p}=s,{topLeft:g,topRight:b,bottomLeft:y,bottomRight:w}=$l(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(d+g,f),l==="top"&&this.drawCaret(t,n,s,a),n.lineTo(d+h-b,f),n.quadraticCurveTo(d+h,f,d+h,f+b),l==="center"&&o==="right"&&this.drawCaret(t,n,s,a),n.lineTo(d+h,f+p-w),n.quadraticCurveTo(d+h,f+p,d+h-w,f+p),l==="bottom"&&this.drawCaret(t,n,s,a),n.lineTo(d+y,f+p),n.quadraticCurveTo(d,f+p,d,f+p-y),l==="center"&&o==="left"&&this.drawCaret(t,n,s,a),n.lineTo(d,f+g),n.quadraticCurveTo(d,f,d+g,f),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,a=s&&s.x,o=s&&s.y;if(a||o){const l=Eu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const d=this._size=Nj(this,t),f=Object.assign({},l,this._size),h=Ej(n,t,f),p=Tj(t,f,h,n);(a._to!==p.x||o._to!==p.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=d.width,this.height=d.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=Er(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(t.save(),t.globalAlpha=s,this.drawBackground(o,t,a,n),JN(t,n.textDirection),o.y+=l.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),eE(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,a=t.map(({datasetIndex:d,index:f})=>{const h=this.chart.getDatasetMeta(d);if(!h)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:h.data[f],index:f}}),o=!Sh(s,a),l=this._positionChanged(a,n);(o||l)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],l=this._getActiveElements(t,o,n,s),d=this._positionChanged(l,t),f=n||!Sh(l,o)||d;return f&&(this._active=l,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),f}_getActiveElements(t,n,s,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,s);return o.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:s,caretY:a,options:o}=this,l=Eu[o.position].call(this,t,n);return l!==!1&&(s!==l.x||a!==l.y)}}wt(H0,"positioners",Eu);var ZU={id:"tooltip",_element:H0,positioners:Eu,afterInit(e,t,n){n&&(e.tooltip=new H0({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",me(L({},n),{cancelable:!0}))===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:pE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const JU=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function e8(e,t,n,s){const a=e.indexOf(t);if(a===-1)return JU(e,t,n,s);const o=e.lastIndexOf(t);return a!==o?n:a}const t8=(e,t)=>e===null?null:qs(Math.round(e),0,t);function Aj(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class $0 extends ac{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:a,label:o}of n)s[a]===o&&s.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(En(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:e8(s,t,nn(n,t),this._addedLabels),t8(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,a=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=t;l<=n;l++)a.push({value:l});return a}getLabelForValue(t){return Aj.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}wt($0,"id","category"),wt($0,"defaults",{ticks:{callback:Aj}});function n8(e,t){const n=[],{bounds:a,step:o,min:l,max:d,precision:f,count:h,maxTicks:p,maxDigits:g,includeBounds:b}=e,y=o||1,w=p-1,{min:_,max:S}=t,j=!En(l),R=!En(d),O=!En(h),C=(S-_)/(g+1);let A=U1((S-_)/w/y)*y,k,B,z,q;if(A<1e-14&&!j&&!R)return[{value:_},{value:S}];q=Math.ceil(S/A)-Math.floor(_/A),q>w&&(A=U1(q*A/w/y)*y),En(f)||(k=Math.pow(10,f),A=Math.ceil(A*k)/k),a==="ticks"?(B=Math.floor(_/A)*A,z=Math.ceil(S/A)*A):(B=_,z=S),j&&R&&o&&l6((d-l)/o,A/1e3)?(q=Math.round(Math.min((d-l)/A,p)),A=(d-l)/q,B=l,z=d):O?(B=j?l:B,z=R?d:z,q=h-1,A=(z-B)/q):(q=(z-B)/A,ch(q,Math.round(q),A/1e3)?q=Math.round(q):q=Math.ceil(q));const ne=Math.max(B1(A),B1(B));k=Math.pow(10,En(f)?ne:f),B=Math.round(B*k)/k,z=Math.round(z*k)/k;let I=0;for(j&&(b&&B!==l?(n.push({value:l}),B<l&&I++,ch(Math.round((B+I*A)*k)/k,l,Oj(l,C,e))&&I++):B<l&&I++);I<q;++I){const te=Math.round((B+I*A)*k)/k;if(R&&te>d)break;n.push({value:te})}return R&&b&&z!==d?n.length&&ch(n[n.length-1].value,d,Oj(d,C,e))?n[n.length-1].value=d:n.push({value:d}):(!R||z===d)&&n.push({value:z}),n}function Oj(e,t,{horizontal:n,minRotation:s}){const a=No(s),o=(n?Math.sin(a):Math.cos(a))||.001,l=.75*t*(""+e).length;return Math.min(t/o,l)}class s8 extends ac{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return En(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:a,max:o}=this;const l=f=>a=n?a:f,d=f=>o=s?o:f;if(t){const f=Ch(a),h=Ch(o);f<0&&h<0?d(0):f>0&&h>0&&l(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);d(o+f),t||l(a-f)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,l=n8(a,o);return t.bounds==="ticks"&&c6(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const a=(s-n)/Math.max(t.length-1,1)/2;n-=a,s+=a}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return qN(t,this.chart.options.locale,this.options.ticks.format)}}class V0 extends s8{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Nr(t)?t:0,this.max=Nr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=No(this.options.ticks.minRotation),a=(t?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}wt(V0,"id","linear"),wt(V0,"defaults",{ticks:{callback:IN.formatters.numeric}});const sm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$s=Object.keys(sm);function Rj(e,t){return e-t}function Dj(e,t){if(En(t))return null;const n=e._adapter,{parser:s,round:a,isoWeekday:o}=e._parseOpts;let l=t;return typeof s=="function"&&(l=s(l)),Nr(l)||(l=typeof s=="string"?n.parse(l,s):n.parse(l)),l===null?null:(a&&(l=a==="week"&&(Ah(o)||o===!0)?n.startOf(l,"isoWeek",o):n.startOf(l,a)),+l)}function Mj(e,t,n,s){const a=$s.length;for(let o=$s.indexOf(e);o<a-1;++o){const l=sm[$s[o]],d=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(d*l.size))<=s)return $s[o]}return $s[a-1]}function r8(e,t,n,s,a){for(let o=$s.length-1;o>=$s.indexOf(n);o--){const l=$s[o];if(sm[l].common&&e._adapter.diff(a,s,l)>=t-1)return l}return $s[n?$s.indexOf(n):0]}function a8(e){for(let t=$s.indexOf(e)+1,n=$s.length;t<n;++t)if(sm[$s[t]].common)return $s[t]}function Pj(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:a}=ey(n,t),o=n[s]>=t?n[s]:n[a];e[o]=!0}}function i8(e,t,n,s){const a=e._adapter,o=+a.startOf(t[0].value,s),l=t[t.length-1].value;let d,f;for(d=o;d<=l;d=+a.add(d,1,s))f=n[d],f>=0&&(t[f].major=!0);return t}function Lj(e,t,n){const s=[],a={},o=t.length;let l,d;for(l=0;l<o;++l)d=t[l],a[d]=l,s.push({value:d,major:!1});return o===0||!n?s:i8(e,s,a,n)}class Ph extends ac{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),a=this._adapter=new xz._date(t.adapters.date);a.init(n),Tu(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Dj(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:a,max:o,minDefined:l,maxDefined:d}=this.getUserBounds();function f(h){!l&&!isNaN(h.min)&&(a=Math.min(a,h.min)),!d&&!isNaN(h.max)&&(o=Math.max(o,h.max))}(!l||!d)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=Nr(a)&&!isNaN(a)?a:+n.startOf(Date.now(),s),o=Nr(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,l=this.max,d=m6(a,o,l);return this._unit=n.unit||(s.autoSkip?Mj(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):r8(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:a8(this._unit),this.initOffsets(a),t.reverse&&d.reverse(),Lj(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?n=1-a:n=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?s=o:s=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=qs(n,0,l),s=qs(s,0,l),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,a=this.options,o=a.time,l=o.unit||Mj(o.minUnit,n,s,this._getLabelCapacity(n)),d=nn(a.ticks.stepSize,1),f=l==="week"?o.isoWeekday:!1,h=Ah(f)||f===!0,p={};let g=n,b,y;if(h&&(g=+t.startOf(g,"isoWeek",f)),g=+t.startOf(g,h?"day":l),t.diff(s,n,l)>1e5*d)throw new Error(n+" and "+s+" are too far apart with stepSize of "+d+" "+l);const w=a.ticks.source==="data"&&this.getDataTimestamps();for(b=g,y=0;b<s;b=+t.add(b,d,l),y++)Pj(p,b,w);return(b===s||a.bounds==="ticks"||y===1)&&Pj(p,b,w),Object.keys(p).sort(Rj).map(_=>+_)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const a=this.options.time.displayFormats,o=this._unit,l=n||a[o];return this._adapter.format(t,l)}_tickFormatFunction(t,n,s,a){const o=this.options,l=o.ticks.callback;if(l)return mn(l,[t,n,s],this);const d=o.time.displayFormats,f=this._unit,h=this._majorUnit,p=f&&d[f],g=h&&d[h],b=s[n],y=h&&g&&b&&b.major;return this._adapter.format(t,a||(y?g:p))}generateTickLabels(t){let n,s,a;for(n=0,s=t.length;n<s;++n)a=t[n],a.label=this._tickFormatFunction(a.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,a=No(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),l=Math.sin(a),d=this._resolveTickFontOptions(0).size;return{w:s*o+d*l,h:s*l+d*o}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,a=s[n.unit]||s.millisecond,o=this._tickFormatFunction(t,0,Lj(this,[t],this._majorUnit),a),l=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return d>0?d:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,s=a.length;n<s;++n)t=t.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const a=this.getLabels();for(n=0,s=a.length;n<s;++n)t.push(Dj(this,a[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return g6(t.sort(Rj))}}wt(Ph,"id","time"),wt(Ph,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function qf(e,t,n){let s=0,a=e.length-1,o,l,d,f;n?(t>=e[s].pos&&t<=e[a].pos&&({lo:s,hi:a}=z0(e,"pos",t)),{pos:o,time:d}=e[s],{pos:l,time:f}=e[a]):(t>=e[s].time&&t<=e[a].time&&({lo:s,hi:a}=z0(e,"time",t)),{time:o,pos:d}=e[s],{time:l,pos:f}=e[a]);const h=l-o;return h?d+(f-d)*(t-o)/h:d}class zj extends Ph{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=qf(n,this.min),this._tableRange=qf(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,a=[],o=[];let l,d,f,h,p;for(l=0,d=t.length;l<d;++l)h=t[l],h>=n&&h<=s&&a.push(h);if(a.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(l=0,d=a.length;l<d;++l)p=a[l+1],f=a[l-1],h=a[l],Math.round((p+f)/2)!==h&&o.push({time:h,pos:l/(d-1)});return o}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(qf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return qf(this._table,s*this._tableRange+this._minPos,!0)}}wt(zj,"id","timeseries"),wt(zj,"defaults",Ph.defaults);_i.register($0,V0,hh,Nu,qU,ZU,$U);const o8=({className:e=""})=>c.jsx("div",{className:`inline-block animate-spin rounded-full border-4 border-gray-200 border-t-blue-600 h-6 w-6 ${e}`}),l8=()=>{const{allProjects:e,filteredData:t,selectedProject:n,selectedTeam:s,setSelectedProject:a,setSelectedTeam:o,isLoading:l}=iL();return l?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx(o8,{className:"h-12 w-12 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Đang tải dữ liệu..."})]})}):c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-gray-800 text-center flex-1",children:"Bảng điều khiển quản lý dự án"}),c.jsx(NL,{projects:e,selectedProject:n,selectedTeam:s,onProjectChange:a,onTeamChange:o})]}),c.jsx(TL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),c.jsx(CL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),c.jsx(kL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n})]})})},vo=e=>e==null?"N/A":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(e);var ed=e=>e.type==="checkbox",To=e=>e instanceof Date,Cs=e=>e==null;const gE=e=>typeof e=="object";var Bn=e=>!Cs(e)&&!Array.isArray(e)&&gE(e)&&!To(e),xE=e=>Bn(e)&&e.target?ed(e.target)?e.target.checked:e.target.value:e,c8=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,yE=(e,t)=>e.has(c8(t)),u8=e=>{const t=e.constructor&&e.constructor.prototype;return Bn(t)&&t.hasOwnProperty("isPrototypeOf")},dy=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function es(e){let t;const n=Array.isArray(e),s=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(dy&&(e instanceof Blob||s))&&(n||Bn(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!u8(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=es(e[a]));else return e;return t}var rm=e=>/^\w*$/.test(e),zn=e=>e===void 0,fy=e=>Array.isArray(e)?e.filter(Boolean):[],hy=e=>fy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ie=(e,t,n)=>{if(!t||!Bn(e))return n;const s=(rm(t)?[t]:hy(t)).reduce((a,o)=>Cs(a)?a:a[o],e);return zn(s)||s===e?zn(e[t])?n:e[t]:s},er=e=>typeof e=="boolean",hn=(e,t,n)=>{let s=-1;const a=rm(t)?[t]:hy(t),o=a.length,l=o-1;for(;++s<o;){const d=a[s];let f=n;if(s!==l){const h=e[d];f=Bn(h)||Array.isArray(h)?h:isNaN(+a[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=f,e=e[d]}};const Lh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ur={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Pa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},bE=ee.createContext(null);bE.displayName="HookFormContext";const my=()=>ee.useContext(bE);var vE=(e,t,n,s=!0)=>{const a={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const l=o;return t._proxyFormState[l]!==Ur.all&&(t._proxyFormState[l]=!s||Ur.all),n&&(n[l]=!0),e[l]}});return a};const py=typeof window!="undefined"?ee.useLayoutEffect:ee.useEffect;function d8(e){const t=my(),{control:n=t.control,disabled:s,name:a,exact:o}=e||{},[l,d]=ee.useState(n._formState),f=ee.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return py(()=>n._subscribe({name:a,formState:f.current,exact:o,callback:h=>{!s&&d(L(L({},n._formState),h))}}),[a,s,o]),ee.useEffect(()=>{f.current.isValid&&n._setValid(!0)},[n]),ee.useMemo(()=>vE(l,n,f.current,!1),[l,n])}var ra=e=>typeof e=="string",wE=(e,t,n,s,a)=>ra(e)?(s&&t.watch.add(e),Ie(n,e,a)):Array.isArray(e)?e.map(o=>(s&&t.watch.add(o),Ie(n,o))):(s&&(t.watchAll=!0),n),q0=e=>Cs(e)||!gE(e);function Ha(e,t,n=new WeakSet){if(q0(e)||q0(t))return e===t;if(To(e)&&To(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const o of s){const l=e[o];if(!a.includes(o))return!1;if(o!=="ref"){const d=t[o];if(To(l)&&To(d)||Bn(l)&&Bn(d)||Array.isArray(l)&&Array.isArray(d)?!Ha(l,d,n):l!==d)return!1}}return!0}function f8(e){const t=my(),{control:n=t.control,name:s,defaultValue:a,disabled:o,exact:l,compute:d}=e||{},f=ee.useRef(a),h=ee.useRef(d),p=ee.useRef(void 0);h.current=d;const g=ee.useMemo(()=>n._getWatch(s,f.current),[n,s]),[b,y]=ee.useState(h.current?h.current(g):g);return py(()=>n._subscribe({name:s,formState:{values:!0},exact:l,callback:w=>{if(!o){const _=wE(s,n._names,w.values||n._formValues,!1,f.current);if(h.current){const S=h.current(_);Ha(S,p.current)||(y(S),p.current=S)}else y(_)}}}),[n,o,s,l]),ee.useEffect(()=>n._removeUnmounted()),b}function h8(e){const t=my(),{name:n,disabled:s,control:a=t.control,shouldUnregister:o,defaultValue:l}=e,d=yE(a._names.array,n),f=ee.useMemo(()=>Ie(a._formValues,n,Ie(a._defaultValues,n,l)),[a,n,l]),h=f8({control:a,name:n,defaultValue:f,exact:!0}),p=d8({control:a,name:n,exact:!0}),g=ee.useRef(e),b=ee.useRef(a.register(n,L(me(L({},e.rules),{value:h}),er(e.disabled)?{disabled:e.disabled}:{})));g.current=e;const y=ee.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ie(p.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ie(p.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ie(p.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ie(p.validatingFields,n)},error:{enumerable:!0,get:()=>Ie(p.errors,n)}}),[p,n]),w=ee.useCallback(R=>b.current.onChange({target:{value:xE(R),name:n},type:Lh.CHANGE}),[n]),_=ee.useCallback(()=>b.current.onBlur({target:{value:Ie(a._formValues,n),name:n},type:Lh.BLUR}),[n,a._formValues]),S=ee.useCallback(R=>{const O=Ie(a._fields,n);O&&R&&(O._f.ref={focus:()=>R.focus&&R.focus(),select:()=>R.select&&R.select(),setCustomValidity:C=>R.setCustomValidity(C),reportValidity:()=>R.reportValidity()})},[a._fields,n]),j=ee.useMemo(()=>me(L({name:n,value:h},er(s)||p.disabled?{disabled:p.disabled||s}:{}),{onChange:w,onBlur:_,ref:S}),[n,s,p.disabled,w,_,S,h]);return ee.useEffect(()=>{const R=a._options.shouldUnregister||o;a.register(n,L(L({},g.current.rules),er(g.current.disabled)?{disabled:g.current.disabled}:{}));const O=(C,A)=>{const k=Ie(a._fields,C);k&&k._f&&(k._f.mount=A)};if(O(n,!0),R){const C=es(Ie(a._options.defaultValues,n));hn(a._defaultValues,n,C),zn(Ie(a._formValues,n))&&hn(a._formValues,n,C)}return!d&&a.register(n),()=>{(d?R&&!a._state.action:R)?a.unregister(n):O(n,!1)}},[n,a,d,o]),ee.useEffect(()=>{a._setDisabledField({disabled:s,name:n})},[s,n,a]),ee.useMemo(()=>({field:j,formState:p,fieldState:y}),[j,p,y])}const nr=e=>e.render(h8(e));var m8=(e,t,n,s,a)=>t?me(L({},n[e]),{types:me(L({},n[e]&&n[e].types?n[e].types:{}),{[s]:a||!0})}):{},Au=e=>Array.isArray(e)?e:[e],Uj=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}},Bs=e=>Bn(e)&&!Object.keys(e).length,gy=e=>e.type==="file",Br=e=>typeof e=="function",zh=e=>{if(!dy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},_E=e=>e.type==="select-multiple",xy=e=>e.type==="radio",p8=e=>xy(e)||ed(e),Xg=e=>zh(e)&&e.isConnected;function g8(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=zn(e)?s++:e[t[s++]];return e}function x8(e){for(const t in e)if(e.hasOwnProperty(t)&&!zn(e[t]))return!1;return!0}function Vn(e,t){const n=Array.isArray(t)?t:rm(t)?[t]:hy(t),s=n.length===1?e:g8(e,n),a=n.length-1,o=n[a];return s&&delete s[o],a!==0&&(Bn(s)&&Bs(s)||Array.isArray(s)&&x8(s))&&Vn(e,n.slice(0,-1)),e}var jE=e=>{for(const t in e)if(Br(e[t]))return!0;return!1};function Uh(e,t={}){const n=Array.isArray(e);if(Bn(e)||n)for(const s in e)Array.isArray(e[s])||Bn(e[s])&&!jE(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Uh(e[s],t[s])):Cs(e[s])||(t[s]=!0);return t}function SE(e,t,n){const s=Array.isArray(e);if(Bn(e)||s)for(const a in e)Array.isArray(e[a])||Bn(e[a])&&!jE(e[a])?zn(t)||q0(n[a])?n[a]=Array.isArray(e[a])?Uh(e[a],[]):L({},Uh(e[a])):SE(e[a],Cs(t)?{}:t[a],n[a]):n[a]=!Ha(e[a],t[a]);return n}var gu=(e,t)=>SE(e,t,Uh(t));const Bj={value:!1,isValid:!1},Fj={value:!0,isValid:!0};var NE=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!zn(e[0].attributes.value)?zn(e[0].value)||e[0].value===""?Fj:{value:e[0].value,isValid:!0}:Fj:Bj}return Bj},EE=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>zn(e)?e:t?e===""?NaN:e&&+e:n&&ra(e)?new Date(e):s?s(e):e;const Hj={isValid:!1,value:null};var TE=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Hj):Hj;function $j(e){const t=e.ref;return gy(t)?t.files:xy(t)?TE(e.refs).value:_E(t)?[...t.selectedOptions].map(({value:n})=>n):ed(t)?NE(e.refs).value:EE(zn(t.value)?e.ref.value:t.value,e)}var y8=(e,t,n,s)=>{const a={};for(const o of e){const l=Ie(t,o);l&&hn(a,o,l._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:s}},Bh=e=>e instanceof RegExp,xu=e=>zn(e)?e:Bh(e)?e.source:Bn(e)?Bh(e.value)?e.value.source:e.value:e,Vj=e=>({isOnSubmit:!e||e===Ur.onSubmit,isOnBlur:e===Ur.onBlur,isOnChange:e===Ur.onChange,isOnAll:e===Ur.all,isOnTouch:e===Ur.onTouched});const qj="AsyncFunction";var b8=e=>!!e&&!!e.validate&&!!(Br(e.validate)&&e.validate.constructor.name===qj||Bn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===qj)),v8=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ij=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Ou=(e,t,n,s)=>{for(const o of n||Object.keys(e)){const l=Ie(e,o);if(l){const a=l,{_f:d}=a,f=Le(a,["_f"]);if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],o)&&!s)return!0;if(d.ref&&t(d.ref,d.name)&&!s)return!0;if(Ou(f,t))break}else if(Bn(f)&&Ou(f,t))break}}};function Yj(e,t,n){const s=Ie(e,n);if(s||rm(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const o=a.join("."),l=Ie(t,o),d=Ie(e,o);if(l&&!Array.isArray(l)&&n!==o)return{name:n};if(d&&d.type)return{name:o,error:d};if(d&&d.root&&d.root.type)return{name:`${o}.root`,error:d.root};a.pop()}return{name:n}}var w8=(e,t,n,s)=>{n(e);const l=e,{name:a}=l,o=Le(l,["name"]);return Bs(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(d=>t[d]===(!s||Ur.all))},_8=(e,t,n)=>!e||!t||e===t||Au(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),j8=(e,t,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?s.isOnBlur:a.isOnBlur)?!e:(n?s.isOnChange:a.isOnChange)?e:!0,S8=(e,t)=>!fy(Ie(e,t)).length&&Vn(e,t),N8=(e,t,n)=>{const s=Au(Ie(e,n));return hn(s,"root",t[n]),hn(e,n,s),e},mh=e=>ra(e);function Wj(e,t,n="validate"){if(mh(e)||Array.isArray(e)&&e.every(mh)||er(e)&&!e)return{type:n,message:mh(e)?e:"",ref:t}}var Al=e=>Bn(e)&&!Bh(e)?e:{value:e,message:""},Xj=(e,t,n,s,a,o)=>ve(null,null,function*(){const{ref:l,refs:d,required:f,maxLength:h,minLength:p,min:g,max:b,pattern:y,validate:w,name:_,valueAsNumber:S,mount:j}=e._f,R=Ie(n,_);if(!j||t.has(_))return{};const O=d?d[0]:l,C=te=>{a&&O.reportValidity&&(O.setCustomValidity(er(te)?"":te||""),O.reportValidity())},A={},k=xy(l),B=ed(l),z=k||B,q=(S||gy(l))&&zn(l.value)&&zn(R)||zh(l)&&l.value===""||R===""||Array.isArray(R)&&!R.length,ne=m8.bind(null,_,s,A),I=(te,le,pe,Q=Pa.maxLength,$=Pa.minLength)=>{const J=te?le:pe;A[_]=L({type:te?Q:$,message:J,ref:l},ne(te?Q:$,J))};if(o?!Array.isArray(R)||!R.length:f&&(!z&&(q||Cs(R))||er(R)&&!R||B&&!NE(d).isValid||k&&!TE(d).isValid)){const{value:te,message:le}=mh(f)?{value:!!f,message:f}:Al(f);if(te&&(A[_]=L({type:Pa.required,message:le,ref:O},ne(Pa.required,le)),!s))return C(le),A}if(!q&&(!Cs(g)||!Cs(b))){let te,le;const pe=Al(b),Q=Al(g);if(!Cs(R)&&!isNaN(R)){const $=l.valueAsNumber||R&&+R;Cs(pe.value)||(te=$>pe.value),Cs(Q.value)||(le=$<Q.value)}else{const $=l.valueAsDate||new Date(R),J=M=>new Date(new Date().toDateString()+" "+M),K=l.type=="time",he=l.type=="week";ra(pe.value)&&R&&(te=K?J(R)>J(pe.value):he?R>pe.value:$>new Date(pe.value)),ra(Q.value)&&R&&(le=K?J(R)<J(Q.value):he?R<Q.value:$<new Date(Q.value))}if((te||le)&&(I(!!te,pe.message,Q.message,Pa.max,Pa.min),!s))return C(A[_].message),A}if((h||p)&&!q&&(ra(R)||o&&Array.isArray(R))){const te=Al(h),le=Al(p),pe=!Cs(te.value)&&R.length>+te.value,Q=!Cs(le.value)&&R.length<+le.value;if((pe||Q)&&(I(pe,te.message,le.message),!s))return C(A[_].message),A}if(y&&!q&&ra(R)){const{value:te,message:le}=Al(y);if(Bh(te)&&!R.match(te)&&(A[_]=L({type:Pa.pattern,message:le,ref:l},ne(Pa.pattern,le)),!s))return C(le),A}if(w){if(Br(w)){const te=yield w(R,n),le=Wj(te,O);if(le&&(A[_]=L(L({},le),ne(Pa.validate,le.message)),!s))return C(le.message),A}else if(Bn(w)){let te={};for(const le in w){if(!Bs(te)&&!s)break;const pe=Wj(yield w[le](R,n),O,le);pe&&(te=L(L({},pe),ne(le,pe.message)),C(pe.message),s&&(A[_]=te))}if(!Bs(te)&&(A[_]=L({ref:O},te),!s))return A}}return C(!0),A});const E8={mode:Ur.onSubmit,reValidateMode:Ur.onChange,shouldFocusError:!0};function T8(e={}){let t=L(L({},E8),e),n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Br(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Bn(t.defaultValues)||Bn(t.values)?es(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:es(a),l={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g=L({},p);const b={array:Uj(),state:Uj()},y=t.criteriaMode===Ur.all,w=Y=>ce=>{clearTimeout(h),h=setTimeout(Y,ce)},_=Y=>ve(null,null,function*(){if(!t.disabled&&(p.isValid||g.isValid||Y)){const ce=t.resolver?Bs((yield B()).errors):yield q(s,!0);ce!==n.isValid&&b.state.next({isValid:ce})}}),S=(Y,ce)=>{!t.disabled&&(p.isValidating||p.validatingFields||g.isValidating||g.validatingFields)&&((Y||Array.from(d.mount)).forEach(V=>{V&&(ce?hn(n.validatingFields,V,ce):Vn(n.validatingFields,V))}),b.state.next({validatingFields:n.validatingFields,isValidating:!Bs(n.validatingFields)}))},j=(Y,ce=[],V,Ne,Me=!0,Ee=!0)=>{if(Ne&&V&&!t.disabled){if(l.action=!0,Ee&&Array.isArray(Ie(s,Y))){const we=V(Ie(s,Y),Ne.argA,Ne.argB);Me&&hn(s,Y,we)}if(Ee&&Array.isArray(Ie(n.errors,Y))){const we=V(Ie(n.errors,Y),Ne.argA,Ne.argB);Me&&hn(n.errors,Y,we),S8(n.errors,Y)}if((p.touchedFields||g.touchedFields)&&Ee&&Array.isArray(Ie(n.touchedFields,Y))){const we=V(Ie(n.touchedFields,Y),Ne.argA,Ne.argB);Me&&hn(n.touchedFields,Y,we)}(p.dirtyFields||g.dirtyFields)&&(n.dirtyFields=gu(a,o)),b.state.next({name:Y,isDirty:I(Y,ce),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else hn(o,Y,ce)},R=(Y,ce)=>{hn(n.errors,Y,ce),b.state.next({errors:n.errors})},O=Y=>{n.errors=Y,b.state.next({errors:n.errors,isValid:!1})},C=(Y,ce,V,Ne)=>{const Me=Ie(s,Y);if(Me){const Ee=Ie(o,Y,zn(V)?Ie(a,Y):V);zn(Ee)||Ne&&Ne.defaultChecked||ce?hn(o,Y,ce?Ee:$j(Me._f)):pe(Y,Ee),l.mount&&_()}},A=(Y,ce,V,Ne,Me)=>{let Ee=!1,we=!1;const Te={name:Y};if(!t.disabled){if(!V||Ne){(p.isDirty||g.isDirty)&&(we=n.isDirty,n.isDirty=Te.isDirty=I(),Ee=we!==Te.isDirty);const $e=Ha(Ie(a,Y),ce);we=!!Ie(n.dirtyFields,Y),$e?Vn(n.dirtyFields,Y):hn(n.dirtyFields,Y,!0),Te.dirtyFields=n.dirtyFields,Ee=Ee||(p.dirtyFields||g.dirtyFields)&&we!==!$e}if(V){const $e=Ie(n.touchedFields,Y);$e||(hn(n.touchedFields,Y,V),Te.touchedFields=n.touchedFields,Ee=Ee||(p.touchedFields||g.touchedFields)&&$e!==V)}Ee&&Me&&b.state.next(Te)}return Ee?Te:{}},k=(Y,ce,V,Ne)=>{const Me=Ie(n.errors,Y),Ee=(p.isValid||g.isValid)&&er(ce)&&n.isValid!==ce;if(t.delayError&&V?(f=w(()=>R(Y,V)),f(t.delayError)):(clearTimeout(h),f=null,V?hn(n.errors,Y,V):Vn(n.errors,Y)),(V?!Ha(Me,V):Me)||!Bs(Ne)||Ee){const we=me(L(L({},Ne),Ee&&er(ce)?{isValid:ce}:{}),{errors:n.errors,name:Y});n=L(L({},n),we),b.state.next(we)}},B=Y=>ve(null,null,function*(){S(Y,!0);const ce=yield t.resolver(o,t.context,y8(Y||d.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return S(Y),ce}),z=Y=>ve(null,null,function*(){const{errors:ce}=yield B(Y);if(Y)for(const V of Y){const Ne=Ie(ce,V);Ne?hn(n.errors,V,Ne):Vn(n.errors,V)}else n.errors=ce;return ce}),q=(Ne,Me,...Ee)=>ve(null,[Ne,Me,...Ee],function*(Y,ce,V={valid:!0}){for(const Te in Y){const $e=Y[Te];if($e){const we=$e,{_f:pt}=we,gn=Le(we,["_f"]);if(pt){const Qt=d.array.has(pt.name),Zt=$e._f&&b8($e._f);Zt&&p.validatingFields&&S([Te],!0);const xn=yield Xj($e,d.disabled,o,y,t.shouldUseNativeValidation&&!ce,Qt);if(Zt&&p.validatingFields&&S([Te]),xn[pt.name]&&(V.valid=!1,ce))break;!ce&&(Ie(xn,pt.name)?Qt?N8(n.errors,xn,pt.name):hn(n.errors,pt.name,xn[pt.name]):Vn(n.errors,pt.name))}!Bs(gn)&&(yield q(gn,ce,V))}}return V.valid}),ne=()=>{for(const Y of d.unMount){const ce=Ie(s,Y);ce&&(ce._f.refs?ce._f.refs.every(V=>!Xg(V)):!Xg(ce._f.ref))&&Oe(Y)}d.unMount=new Set},I=(Y,ce)=>!t.disabled&&(Y&&ce&&hn(o,Y,ce),!Ha(M(),a)),te=(Y,ce,V)=>wE(Y,d,L({},l.mount?o:zn(ce)?a:ra(Y)?{[Y]:ce}:ce),V,ce),le=Y=>fy(Ie(l.mount?o:a,Y,t.shouldUnregister?Ie(a,Y,[]):[])),pe=(Y,ce,V={})=>{const Ne=Ie(s,Y);let Me=ce;if(Ne){const Ee=Ne._f;Ee&&(!Ee.disabled&&hn(o,Y,EE(ce,Ee)),Me=zh(Ee.ref)&&Cs(ce)?"":ce,_E(Ee.ref)?[...Ee.ref.options].forEach(we=>we.selected=Me.includes(we.value)):Ee.refs?ed(Ee.ref)?Ee.refs.forEach(we=>{(!we.defaultChecked||!we.disabled)&&(Array.isArray(Me)?we.checked=!!Me.find(Te=>Te===we.value):we.checked=Me===we.value||!!Me)}):Ee.refs.forEach(we=>we.checked=we.value===Me):gy(Ee.ref)?Ee.ref.value="":(Ee.ref.value=Me,Ee.ref.type||b.state.next({name:Y,values:es(o)})))}(V.shouldDirty||V.shouldTouch)&&A(Y,Me,V.shouldTouch,V.shouldDirty,!0),V.shouldValidate&&he(Y)},Q=(Y,ce,V)=>{for(const Ne in ce){if(!ce.hasOwnProperty(Ne))return;const Me=ce[Ne],Ee=Y+"."+Ne,we=Ie(s,Ee);(d.array.has(Y)||Bn(Me)||we&&!we._f)&&!To(Me)?Q(Ee,Me,V):pe(Ee,Me,V)}},$=(Y,ce,V={})=>{const Ne=Ie(s,Y),Me=d.array.has(Y),Ee=es(ce);hn(o,Y,Ee),Me?(b.array.next({name:Y,values:es(o)}),(p.isDirty||p.dirtyFields||g.isDirty||g.dirtyFields)&&V.shouldDirty&&b.state.next({name:Y,dirtyFields:gu(a,o),isDirty:I(Y,Ee)})):Ne&&!Ne._f&&!Cs(Ee)?Q(Y,Ee,V):pe(Y,Ee,V),Ij(Y,d)&&b.state.next(me(L({},n),{name:Y})),b.state.next({name:l.mount?Y:void 0,values:es(o)})},J=Y=>ve(null,null,function*(){l.mount=!0;const ce=Y.target;let V=ce.name,Ne=!0;const Me=Ie(s,V),Ee=$e=>{Ne=Number.isNaN($e)||To($e)&&isNaN($e.getTime())||Ha($e,Ie(o,V,$e))},we=Vj(t.mode),Te=Vj(t.reValidateMode);if(Me){let $e,pt;const gn=ce.type?$j(Me._f):xE(Y),Qt=Y.type===Lh.BLUR||Y.type===Lh.FOCUS_OUT,Zt=!v8(Me._f)&&!t.resolver&&!Ie(n.errors,V)&&!Me._f.deps||j8(Qt,Ie(n.touchedFields,V),n.isSubmitted,Te,we),xn=Ij(V,d,Qt);hn(o,V,gn),Qt?(!ce||!ce.readOnly)&&(Me._f.onBlur&&Me._f.onBlur(Y),f&&f(0)):Me._f.onChange&&Me._f.onChange(Y);const Wn=A(V,gn,Qt),Xn=!Bs(Wn)||xn;if(!Qt&&b.state.next({name:V,type:Y.type,values:es(o)}),Zt)return(p.isValid||g.isValid)&&(t.mode==="onBlur"?Qt&&_():Qt||_()),Xn&&b.state.next(L({name:V},xn?{}:Wn));if(!Qt&&xn&&b.state.next(L({},n)),t.resolver){const{errors:hs}=yield B([V]);if(Ee(gn),Ne){const Gn=Yj(n.errors,s,V),Ts=Yj(hs,s,Gn.name||V);$e=Ts.error,V=Ts.name,pt=Bs(hs)}}else S([V],!0),$e=(yield Xj(Me,d.disabled,o,y,t.shouldUseNativeValidation))[V],S([V]),Ee(gn),Ne&&($e?pt=!1:(p.isValid||g.isValid)&&(pt=yield q(s,!0)));Ne&&(Me._f.deps&&he(Me._f.deps),k(V,pt,$e,Wn))}}),K=(Y,ce)=>{if(Ie(n.errors,ce)&&Y.focus)return Y.focus(),1},he=(V,...Ne)=>ve(null,[V,...Ne],function*(Y,ce={}){let Me,Ee;const we=Au(Y);if(t.resolver){const Te=yield z(zn(Y)?Y:we);Me=Bs(Te),Ee=Y?!we.some($e=>Ie(Te,$e)):Me}else Y?(Ee=(yield Promise.all(we.map(Te=>ve(null,null,function*(){const $e=Ie(s,Te);return yield q($e&&$e._f?{[Te]:$e}:$e)})))).every(Boolean),!(!Ee&&!n.isValid)&&_()):Ee=Me=yield q(s);return b.state.next(me(L(L({},!ra(Y)||(p.isValid||g.isValid)&&Me!==n.isValid?{}:{name:Y}),t.resolver||!Y?{isValid:Me}:{}),{errors:n.errors})),ce.shouldFocus&&!Ee&&Ou(s,K,Y?we:d.mount),Ee}),M=Y=>{const ce=L({},l.mount?o:a);return zn(Y)?ce:ra(Y)?Ie(ce,Y):Y.map(V=>Ie(ce,V))},ae=(Y,ce)=>({invalid:!!Ie((ce||n).errors,Y),isDirty:!!Ie((ce||n).dirtyFields,Y),error:Ie((ce||n).errors,Y),isValidating:!!Ie(n.validatingFields,Y),isTouched:!!Ie((ce||n).touchedFields,Y)}),G=Y=>{Y&&Au(Y).forEach(ce=>Vn(n.errors,ce)),b.state.next({errors:Y?n.errors:{}})},F=(Y,ce,V)=>{const Ne=(Ie(s,Y,{_f:{}})._f||{}).ref,pt=Ie(n.errors,Y)||{},{ref:Ee,message:we,type:Te}=pt,$e=Le(pt,["ref","message","type"]);hn(n.errors,Y,me(L(L({},$e),ce),{ref:Ne})),b.state.next({name:Y,errors:n.errors,isValid:!1}),V&&V.shouldFocus&&Ne&&Ne.focus&&Ne.focus()},Z=(Y,ce)=>Br(Y)?b.state.subscribe({next:V=>"values"in V&&Y(te(void 0,ce),V)}):te(Y,ce,!0),ye=Y=>b.state.subscribe({next:ce=>{_8(Y.name,ce.name,Y.exact)&&w8(ce,Y.formState||p,bt,Y.reRenderRoot)&&Y.callback(me(L(L({values:L({},o)},n),ce),{defaultValues:a}))}}).unsubscribe,de=Y=>(l.mount=!0,g=L(L({},g),Y.formState),ye(me(L({},Y),{formState:g}))),Oe=(Y,ce={})=>{for(const V of Y?Au(Y):d.mount)d.mount.delete(V),d.array.delete(V),ce.keepValue||(Vn(s,V),Vn(o,V)),!ce.keepError&&Vn(n.errors,V),!ce.keepDirty&&Vn(n.dirtyFields,V),!ce.keepTouched&&Vn(n.touchedFields,V),!ce.keepIsValidating&&Vn(n.validatingFields,V),!t.shouldUnregister&&!ce.keepDefaultValue&&Vn(a,V);b.state.next({values:es(o)}),b.state.next(L(L({},n),ce.keepDirty?{isDirty:I()}:{})),!ce.keepIsValid&&_()},Ae=({disabled:Y,name:ce})=>{(er(Y)&&l.mount||Y||d.disabled.has(ce))&&(Y?d.disabled.add(ce):d.disabled.delete(ce))},He=(Y,ce={})=>{let V=Ie(s,Y);const Ne=er(ce.disabled)||er(t.disabled);return hn(s,Y,me(L({},V||{}),{_f:L(me(L({},V&&V._f?V._f:{ref:{name:Y}}),{name:Y,mount:!0}),ce)})),d.mount.add(Y),V?Ae({disabled:er(ce.disabled)?ce.disabled:t.disabled,name:Y}):C(Y,!0,ce.value),me(L(L({},Ne?{disabled:ce.disabled||t.disabled}:{}),t.progressive?{required:!!ce.required,min:xu(ce.min),max:xu(ce.max),minLength:xu(ce.minLength),maxLength:xu(ce.maxLength),pattern:xu(ce.pattern)}:{}),{name:Y,onChange:J,onBlur:J,ref:Me=>{if(Me){He(Y,ce),V=Ie(s,Y);const Ee=zn(Me.value)&&Me.querySelectorAll&&Me.querySelectorAll("input,select,textarea")[0]||Me,we=p8(Ee),Te=V._f.refs||[];if(we?Te.find($e=>$e===Ee):Ee===V._f.ref)return;hn(s,Y,{_f:L(L({},V._f),we?{refs:[...Te.filter(Xg),Ee,...Array.isArray(Ie(a,Y))?[{}]:[]],ref:{type:Ee.type,name:Y}}:{ref:Ee})}),C(Y,!1,void 0,Ee)}else V=Ie(s,Y,{}),V._f&&(V._f.mount=!1),(t.shouldUnregister||ce.shouldUnregister)&&!(yE(d.array,Y)&&l.action)&&d.unMount.add(Y)}})},Pe=()=>t.shouldFocusError&&Ou(s,K,d.mount),et=Y=>{er(Y)&&(b.state.next({disabled:Y}),Ou(s,(ce,V)=>{const Ne=Ie(s,V);Ne&&(ce.disabled=Ne._f.disabled||Y,Array.isArray(Ne._f.refs)&&Ne._f.refs.forEach(Me=>{Me.disabled=Ne._f.disabled||Y}))},0,!1))},We=(Y,ce)=>V=>ve(null,null,function*(){let Ne;V&&(V.preventDefault&&V.preventDefault(),V.persist&&V.persist());let Me=es(o);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:Ee,values:we}=yield B();n.errors=Ee,Me=es(we)}else yield q(s);if(d.disabled.size)for(const Ee of d.disabled)Vn(Me,Ee);if(Vn(n.errors,"root"),Bs(n.errors)){b.state.next({errors:{}});try{yield Y(Me,V)}catch(Ee){Ne=Ee}}else ce&&(yield ce(L({},n.errors),V)),Pe(),setTimeout(Pe);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Bs(n.errors)&&!Ne,submitCount:n.submitCount+1,errors:n.errors}),Ne)throw Ne}),ft=(Y,ce={})=>{Ie(s,Y)&&(zn(ce.defaultValue)?$(Y,es(Ie(a,Y))):($(Y,ce.defaultValue),hn(a,Y,es(ce.defaultValue))),ce.keepTouched||Vn(n.touchedFields,Y),ce.keepDirty||(Vn(n.dirtyFields,Y),n.isDirty=ce.defaultValue?I(Y,es(Ie(a,Y))):I()),ce.keepError||(Vn(n.errors,Y),p.isValid&&_()),b.state.next(L({},n)))},ze=(Y,ce={})=>{const V=Y?es(Y):a,Ne=es(V),Me=Bs(Y),Ee=Me?a:Ne;if(ce.keepDefaultValues||(a=V),!ce.keepValues){if(ce.keepDirtyValues){const we=new Set([...d.mount,...Object.keys(gu(a,o))]);for(const Te of Array.from(we))Ie(n.dirtyFields,Te)?hn(Ee,Te,Ie(o,Te)):$(Te,Ie(Ee,Te))}else{if(dy&&zn(Y))for(const we of d.mount){const Te=Ie(s,we);if(Te&&Te._f){const $e=Array.isArray(Te._f.refs)?Te._f.refs[0]:Te._f.ref;if(zh($e)){const pt=$e.closest("form");if(pt){pt.reset();break}}}}if(ce.keepFieldsRef)for(const we of d.mount)$(we,Ie(Ee,we));else s={}}o=t.shouldUnregister?ce.keepDefaultValues?es(a):{}:es(Ee),b.array.next({values:L({},Ee)}),b.state.next({values:L({},Ee)})}d={mount:ce.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!p.isValid||!!ce.keepIsValid||!!ce.keepDirtyValues,l.watch=!!t.shouldUnregister,b.state.next({submitCount:ce.keepSubmitCount?n.submitCount:0,isDirty:Me?!1:ce.keepDirty?n.isDirty:!!(ce.keepDefaultValues&&!Ha(Y,a)),isSubmitted:ce.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Me?{}:ce.keepDirtyValues?ce.keepDefaultValues&&o?gu(a,o):n.dirtyFields:ce.keepDefaultValues&&Y?gu(a,Y):ce.keepDirty?n.dirtyFields:{},touchedFields:ce.keepTouched?n.touchedFields:{},errors:ce.keepErrors?n.errors:{},isSubmitSuccessful:ce.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},_t=(Y,ce)=>ze(Br(Y)?Y(o):Y,ce),Ft=(Y,ce={})=>{const V=Ie(s,Y),Ne=V&&V._f;if(Ne){const Me=Ne.refs?Ne.refs[0]:Ne.ref;Me.focus&&(Me.focus(),ce.shouldSelect&&Br(Me.select)&&Me.select())}},bt=Y=>{n=L(L({},n),Y)},Tt={control:{register:He,unregister:Oe,getFieldState:ae,handleSubmit:We,setError:F,_subscribe:ye,_runSchema:B,_focusError:Pe,_getWatch:te,_getDirty:I,_setValid:_,_setFieldArray:j,_setDisabledField:Ae,_setErrors:O,_getFieldArray:le,_reset:ze,_resetDefaultValues:()=>Br(t.defaultValues)&&t.defaultValues().then(Y=>{_t(Y,t.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:ne,_disableForm:et,_subjects:b,_proxyFormState:p,get _fields(){return s},get _formValues(){return o},get _state(){return l},set _state(Y){l=Y},get _defaultValues(){return a},get _names(){return d},set _names(Y){d=Y},get _formState(){return n},get _options(){return t},set _options(Y){t=L(L({},t),Y)}},subscribe:de,trigger:he,register:He,handleSubmit:We,watch:Z,setValue:$,getValues:M,reset:_t,resetField:ft,clearErrors:G,unregister:Oe,setError:F,setFocus:Ft,getFieldState:ae};return me(L({},Tt),{formControl:Tt})}function Ru(e={}){const t=ee.useRef(void 0),n=ee.useRef(void 0),[s,a]=ee.useState({isDirty:!1,isValidating:!1,isLoading:Br(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Br(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=me(L({},e.formControl),{formState:s}),e.defaultValues&&!Br(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const l=T8(e),{formControl:d}=l,f=Le(l,["formControl"]);t.current=me(L({},f),{formState:s})}const o=t.current.control;return o._options=e,py(()=>{const d=o._subscribe({formState:o._proxyFormState,callback:()=>a(L({},o._formState)),reRenderRoot:!0});return a(f=>me(L({},f),{isReady:!0})),o._formState.isReady=!0,d},[o]),ee.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),ee.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),ee.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),ee.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),ee.useEffect(()=>{if(o._proxyFormState.isDirty){const d=o._getDirty();d!==s.isDirty&&o._subjects.state.next({isDirty:d})}},[o,s.isDirty]),ee.useEffect(()=>{e.values&&!Ha(e.values,n.current)?(o._reset(e.values,L({keepFieldsRef:!0},o._options.resetOptions)),n.current=e.values,a(d=>L({},d))):o._resetDefaultValues()},[o,e.values]),ee.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(L({},o._formState))),o._removeUnmounted()}),t.current.formState=vE(s,o),t.current}const k8=0,C8=1,A8=2;var Gj=Object.prototype.hasOwnProperty;function I0(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&I0(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(Gj.call(e,n)&&++s&&!Gj.call(t,n)||!(n in t)||!I0(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const wo=new WeakMap,Ti=()=>{},wr=Ti(),Y0=Object,aa=e=>e===wr,_o=e=>typeof e=="function",am=(e,t)=>L(L({},e),t),O8=e=>_o(e.then),Gg={},If={},kE="undefined",yy=typeof window!=kE,W0=typeof document!=kE,R8=yy&&"Deno"in window,D8=(e,t)=>{const n=wo.get(e);return[()=>!aa(t)&&e.get(t)||Gg,s=>{if(!aa(t)){const a=e.get(t);t in If||(If[t]=a),n[5](t,am(a,s),a||Gg)}},n[6],()=>!aa(t)&&t in If?If[t]:!aa(t)&&e.get(t)||Gg]};let X0=!0;const M8=()=>X0,[G0,K0]=yy&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ti,Ti],P8=()=>{const e=W0&&document.visibilityState;return aa(e)||e!=="hidden"},L8=e=>(W0&&document.addEventListener("visibilitychange",e),G0("focus",e),()=>{W0&&document.removeEventListener("visibilitychange",e),K0("focus",e)}),z8=e=>{const t=()=>{X0=!0,e()},n=()=>{X0=!1};return G0("online",t),G0("offline",n),()=>{K0("online",t),K0("offline",n)}},U8={isOnline:M8,isVisible:P8},B8={initFocus:L8,initReconnect:z8};ee.useId;const CE=!yy||R8,Kg=typeof navigator!="undefined"&&navigator.connection,Kj=!CE&&Kg&&(["slow-2g","2g"].includes(Kg.effectiveType)||Kg.saveData),Yf=new WeakMap,F8=e=>Y0.prototype.toString.call(e),Qg=(e,t)=>e===`[object ${t}]`;let H8=0;const Q0=e=>{const t=typeof e,n=F8(e),s=Qg(n,"Date"),a=Qg(n,"RegExp"),o=Qg(n,"Object");let l,d;if(Y0(e)===e&&!s&&!a){if(l=Yf.get(e),l)return l;if(l=++H8+"~",Yf.set(e,l),Array.isArray(e)){for(l="@",d=0;d<e.length;d++)l+=Q0(e[d])+",";Yf.set(e,l)}if(o){l="#";const f=Y0.keys(e).sort();for(;!aa(d=f.pop());)aa(e[d])||(l+=d+":"+Q0(e[d])+",");Yf.set(e,l)}}else l=s?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return l},$8=e=>{if(_o(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Q0(e):"",[e,t]};let V8=0;const Qj=()=>++V8;function q8(...e){return ve(this,null,function*(){const[t,n,s,a]=e,o=am({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let l=o.populateCache;const d=o.rollbackOnError;let f=o.optimisticData;const h=b=>typeof d=="function"?d(b):d!==!1,p=o.throwOnError;if(_o(n)){const b=n,y=[],w=t.keys();for(const _ of w)!/^\$(inf|sub)\$/.test(_)&&b(t.get(_)._k)&&y.push(_);return Promise.all(y.map(g))}return g(n);function g(b){return ve(this,null,function*(){const[y]=$8(b);if(!y)return;const[w,_]=D8(t,y),[S,j,R,O]=wo.get(t),C=()=>{const pe=S[y];return(_o(o.revalidate)?o.revalidate(w().data,b):o.revalidate!==!1)&&(delete R[y],delete O[y],pe&&pe[0])?pe[0](A8).then(()=>w().data):w().data};if(e.length<3)return C();let A=s,k,B=!1;const z=Qj();j[y]=[z,0];const q=!aa(f),ne=w(),I=ne.data,te=ne._c,le=aa(te)?I:te;if(q&&(f=_o(f)?f(le,I):f,_({data:f,_c:le})),_o(A))try{A=A(le)}catch(pe){k=pe,B=!0}if(A&&O8(A))if(A=yield A.catch(pe=>{k=pe,B=!0}),z!==j[y][0]){if(B)throw k;return A}else B&&q&&h(k)&&(l=!0,_({data:le,_c:wr}));if(l&&!B)if(_o(l)){const pe=l(A,le);_({data:pe,error:wr,_c:wr})}else _({data:A,error:wr,_c:wr});if(j[y][1]=Qj(),Promise.resolve(C()).then(()=>{_({_c:wr})}),B){if(p)throw k;return}return A})}})}const Zj=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},I8=(e,t)=>{if(!wo.has(e)){const n=am(B8,t),s=Object.create(null),a=q8.bind(wr,e);let o=Ti;const l=Object.create(null),d=(p,g)=>{const b=l[p]||[];return l[p]=b,b.push(g),()=>b.splice(b.indexOf(g),1)},f=(p,g,b)=>{e.set(p,g);const y=l[p];if(y)for(const w of y)w(g,b)},h=()=>{if(!wo.has(e)&&(wo.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,f,d]),!CE)){const p=n.initFocus(setTimeout.bind(wr,Zj.bind(wr,s,k8))),g=n.initReconnect(setTimeout.bind(wr,Zj.bind(wr,s,C8)));o=()=>{p&&p(),g&&g(),wo.delete(e)}}};return h(),[e,a,h,o]}return[e,wo.get(e)[4]]},Y8=(e,t,n,s,a)=>{const o=n.errorRetryCount,l=a.retryCount,d=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;!aa(o)&&l>o||setTimeout(s,d,a)},W8=I0,[X8,ql]=I8(new Map);am({onLoadingSlow:Ti,onSuccess:Ti,onError:Ti,onErrorRetry:Y8,onDiscarded:Ti,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Kj?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Kj?5e3:3e3,compare:W8,isPaused:()=>!1,cache:X8,mutate:ql,fallback:{}},U8);N.createContext({});const Jj=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,eS=fN,G8=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return eS(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=t,l=Object.keys(a).map(h=>{const p=n==null?void 0:n[h],g=o==null?void 0:o[h];if(p===null)return null;const b=Jj(p)||Jj(g);return a[h][b]}),d=n&&Object.entries(n).reduce((h,p)=>{let[g,b]=p;return b===void 0||(h[g]=b),h},{}),f=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((h,p)=>{let w=p,{class:g,className:b}=w,y=Le(w,["class","className"]);return Object.entries(y).every(_=>{let[S,j]=_;return Array.isArray(j)?j.includes(L(L({},o),d)[S]):L(L({},o),d)[S]===j})?[...h,g,b]:h},[]);return eS(e,l,f,n==null?void 0:n.class,n==null?void 0:n.className)},K8=G8("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function qe(o){var l=o,{className:e,variant:t,size:n,asChild:s=!1}=l,a=Le(l,["className","variant","size","asChild"]);const d=s?IM:"button";return c.jsx(d,L({"data-slot":"button",className:wn(K8({variant:t,size:n,className:e}))},a))}var tS=1,Q8=.9,Z8=.8,J8=.17,Zg=.1,Jg=.999,eB=.9999,tB=.99,nB=/[\\\/_+.#"@\[\(\{&]/,sB=/[\\\/_+.#"@\[\(\{&]/g,rB=/[\s-]/,AE=/[\s-]/g;function Z0(e,t,n,s,a,o,l){if(o===t.length)return a===e.length?tS:tB;var d=`${a},${o}`;if(l[d]!==void 0)return l[d];for(var f=s.charAt(o),h=n.indexOf(f,a),p=0,g,b,y,w;h>=0;)g=Z0(e,t,n,s,h+1,o+1,l),g>p&&(h===a?g*=tS:nB.test(e.charAt(h-1))?(g*=Z8,y=e.slice(a,h-1).match(sB),y&&a>0&&(g*=Math.pow(Jg,y.length))):rB.test(e.charAt(h-1))?(g*=Q8,w=e.slice(a,h-1).match(AE),w&&a>0&&(g*=Math.pow(Jg,w.length))):(g*=J8,a>0&&(g*=Math.pow(Jg,h-a))),e.charAt(h)!==t.charAt(o)&&(g*=eB)),(g<Zg&&n.charAt(h-1)===s.charAt(o+1)||s.charAt(o+1)===s.charAt(o)&&n.charAt(h-1)!==s.charAt(o))&&(b=Z0(e,t,n,s,h+1,o+2,l),b*Zg>g&&(g=b*Zg)),g>p&&(p=g),h=n.indexOf(f,h+1);return l[d]=p,p}function nS(e){return e.toLowerCase().replace(AE," ")}function aB(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,Z0(e,t,nS(e),nS(t),0,0,{})}var im="Dialog",[OE,tH]=Cx(im),[iB,Vr]=OE(im),RE=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,d=N.useRef(null),f=N.useRef(null),[h,p]=I2({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:im});return c.jsx(iB,{scope:t,triggerRef:d,contentRef:f,contentId:oa(),titleId:oa(),descriptionId:oa(),open:h,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(g=>!g),[p]),modal:l,children:n})};RE.displayName=im;var DE="DialogTrigger",ME=N.forwardRef((e,t)=>{const l=e,{__scopeDialog:n}=l,s=Le(l,["__scopeDialog"]),a=Vr(DE,n),o=$r(t,a.triggerRef);return c.jsx(kn.button,me(L({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":wy(a.open)},s),{ref:o,onClick:rr(e.onClick,a.onOpenToggle)}))});ME.displayName=DE;var by="DialogPortal",[oB,PE]=OE(by,{forceMount:void 0}),LE=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,o=Vr(by,t);return c.jsx(oB,{scope:t,forceMount:n,children:N.Children.map(s,l=>c.jsx(ec,{present:n||o.open,children:c.jsx(Hx,{asChild:!0,container:a,children:l})}))})};LE.displayName=by;var Fh="DialogOverlay",zE=N.forwardRef((e,t)=>{const n=PE(Fh,e.__scopeDialog),l=e,{forceMount:s=n.forceMount}=l,a=Le(l,["forceMount"]),o=Vr(Fh,e.__scopeDialog);return o.modal?c.jsx(ec,{present:s||o.open,children:c.jsx(cB,me(L({},a),{ref:t}))}):null});zE.displayName=Fh;var lB=Gh("DialogOverlay.RemoveScroll"),cB=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Le(o,["__scopeDialog"]),a=Vr(Fh,n);return c.jsx($x,{as:lB,allowPinchZoom:!0,shards:[a.contentRef],children:c.jsx(kn.div,me(L({"data-state":wy(a.open)},s),{ref:t,style:L({pointerEvents:"auto"},s.style)}))})}),Mo="DialogContent",UE=N.forwardRef((e,t)=>{const n=PE(Mo,e.__scopeDialog),l=e,{forceMount:s=n.forceMount}=l,a=Le(l,["forceMount"]),o=Vr(Mo,e.__scopeDialog);return c.jsx(ec,{present:s||o.open,children:o.modal?c.jsx(uB,me(L({},a),{ref:t})):c.jsx(dB,me(L({},a),{ref:t}))})});UE.displayName=Mo;var uB=N.forwardRef((e,t)=>{const n=Vr(Mo,e.__scopeDialog),s=N.useRef(null),a=$r(t,n.contentRef,s);return N.useEffect(()=>{const o=s.current;if(o)return W2(o)},[]),c.jsx(BE,me(L({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rr(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:rr(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&o.preventDefault()}),onFocusOutside:rr(e.onFocusOutside,o=>o.preventDefault())}))}),dB=N.forwardRef((e,t)=>{const n=Vr(Mo,e.__scopeDialog),s=N.useRef(!1),a=N.useRef(!1);return c.jsx(BE,me(L({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,d;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),BE=N.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o}=p,l=Le(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Vr(Mo,n),f=N.useRef(null),h=$r(t,f);return v2(),c.jsxs(c.Fragment,{children:[c.jsx(Ox,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:c.jsx(Ax,me(L({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":wy(d.open)},l),{ref:h,onDismiss:()=>d.onOpenChange(!1)}))}),c.jsxs(c.Fragment,{children:[c.jsx(fB,{titleId:d.titleId}),c.jsx(mB,{contentRef:f,descriptionId:d.descriptionId})]})]})}),vy="DialogTitle",FE=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Le(o,["__scopeDialog"]),a=Vr(vy,n);return c.jsx(kn.h2,me(L({id:a.titleId},s),{ref:t}))});FE.displayName=vy;var HE="DialogDescription",$E=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Le(o,["__scopeDialog"]),a=Vr(HE,n);return c.jsx(kn.p,me(L({id:a.descriptionId},s),{ref:t}))});$E.displayName=HE;var VE="DialogClose",qE=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Le(o,["__scopeDialog"]),a=Vr(VE,n);return c.jsx(kn.button,me(L({type:"button"},s),{ref:t,onClick:rr(e.onClick,()=>a.onOpenChange(!1))}))});qE.displayName=VE;function wy(e){return e?"open":"closed"}var IE="DialogTitleWarning",[nH,YE]=VM(IE,{contentName:Mo,titleName:vy,docsSlug:"dialog"}),fB=({titleId:e})=>{const t=YE(IE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},hB="DialogDescriptionWarning",mB=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${YE(hB).contentName}}.`;return N.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},_y=RE,pB=ME,jy=LE,Sy=zE,Ny=UE,WE=FE,XE=$E,GE=qE,yu='[cmdk-group=""]',e0='[cmdk-group-items=""]',gB='[cmdk-group-heading=""]',KE='[cmdk-item=""]',sS=`${KE}:not([aria-disabled="true"])`,J0="cmdk-item-select",Ml="data-value",xB=(e,t,n)=>aB(e,t,n),QE=N.createContext(void 0),td=()=>N.useContext(QE),ZE=N.createContext(void 0),Ey=()=>N.useContext(ZE),JE=N.createContext(void 0),eT=N.forwardRef((e,t)=>{let n=Pl(()=>{var F,Z;return{search:"",value:(Z=(F=e.value)!=null?F:e.defaultValue)!=null?Z:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=Pl(()=>new Set),a=Pl(()=>new Map),o=Pl(()=>new Map),l=Pl(()=>new Set),d=tT(e),G=e,{label:f,children:h,value:p,onValueChange:g,filter:b,shouldFilter:y,loop:w,disablePointerSelection:_=!1,vimBindings:S=!0}=G,j=Le(G,["label","children","value","onValueChange","filter","shouldFilter","loop","disablePointerSelection","vimBindings"]),R=oa(),O=oa(),C=oa(),A=N.useRef(null),k=kB();Po(()=>{if(p!==void 0){let F=p.trim();n.current.value=F,B.emit()}},[p]),Po(()=>{k(6,le)},[]);let B=N.useMemo(()=>({subscribe:F=>(l.current.add(F),()=>l.current.delete(F)),snapshot:()=>n.current,setState:(F,Z,ye)=>{var de,Oe,Ae,He;if(!Object.is(n.current[F],Z)){if(n.current[F]=Z,F==="search")te(),ne(),k(1,I);else if(F==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Pe=document.getElementById(C);Pe?Pe.focus():(de=document.getElementById(R))==null||de.focus()}if(k(7,()=>{var Pe;n.current.selectedItemId=(Pe=pe())==null?void 0:Pe.id,B.emit()}),ye||k(5,le),((Oe=d.current)==null?void 0:Oe.value)!==void 0){let Pe=Z!=null?Z:"";(He=(Ae=d.current).onValueChange)==null||He.call(Ae,Pe);return}}B.emit()}},emit:()=>{l.current.forEach(F=>F())}}),[]),z=N.useMemo(()=>({value:(F,Z,ye)=>{var de;Z!==((de=o.current.get(F))==null?void 0:de.value)&&(o.current.set(F,{value:Z,keywords:ye}),n.current.filtered.items.set(F,q(Z,ye)),k(2,()=>{ne(),B.emit()}))},item:(F,Z)=>(s.current.add(F),Z&&(a.current.has(Z)?a.current.get(Z).add(F):a.current.set(Z,new Set([F]))),k(3,()=>{te(),ne(),n.current.value||I(),B.emit()}),()=>{o.current.delete(F),s.current.delete(F),n.current.filtered.items.delete(F);let ye=pe();k(4,()=>{te(),(ye==null?void 0:ye.getAttribute("id"))===F&&I(),B.emit()})}),group:F=>(a.current.has(F)||a.current.set(F,new Set),()=>{o.current.delete(F),a.current.delete(F)}),filter:()=>d.current.shouldFilter,label:f||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:R,inputId:C,labelId:O,listInnerRef:A}),[]);function q(F,Z){var ye,de;let Oe=(de=(ye=d.current)==null?void 0:ye.filter)!=null?de:xB;return F?Oe(F,n.current.search,Z):0}function ne(){if(!n.current.search||d.current.shouldFilter===!1)return;let F=n.current.filtered.items,Z=[];n.current.filtered.groups.forEach(de=>{let Oe=a.current.get(de),Ae=0;Oe.forEach(He=>{let Pe=F.get(He);Ae=Math.max(Pe,Ae)}),Z.push([de,Ae])});let ye=A.current;Q().sort((de,Oe)=>{var Ae,He;let Pe=de.getAttribute("id"),et=Oe.getAttribute("id");return((Ae=F.get(et))!=null?Ae:0)-((He=F.get(Pe))!=null?He:0)}).forEach(de=>{let Oe=de.closest(e0);Oe?Oe.appendChild(de.parentElement===Oe?de:de.closest(`${e0} > *`)):ye.appendChild(de.parentElement===ye?de:de.closest(`${e0} > *`))}),Z.sort((de,Oe)=>Oe[1]-de[1]).forEach(de=>{var Oe;let Ae=(Oe=A.current)==null?void 0:Oe.querySelector(`${yu}[${Ml}="${encodeURIComponent(de[0])}"]`);Ae==null||Ae.parentElement.appendChild(Ae)})}function I(){let F=Q().find(ye=>ye.getAttribute("aria-disabled")!=="true"),Z=F==null?void 0:F.getAttribute(Ml);B.setState("value",Z||void 0)}function te(){var F,Z,ye,de;if(!n.current.search||d.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let Oe=0;for(let Ae of s.current){let He=(Z=(F=o.current.get(Ae))==null?void 0:F.value)!=null?Z:"",Pe=(de=(ye=o.current.get(Ae))==null?void 0:ye.keywords)!=null?de:[],et=q(He,Pe);n.current.filtered.items.set(Ae,et),et>0&&Oe++}for(let[Ae,He]of a.current)for(let Pe of He)if(n.current.filtered.items.get(Pe)>0){n.current.filtered.groups.add(Ae);break}n.current.filtered.count=Oe}function le(){var F,Z,ye;let de=pe();de&&(((F=de.parentElement)==null?void 0:F.firstChild)===de&&((ye=(Z=de.closest(yu))==null?void 0:Z.querySelector(gB))==null||ye.scrollIntoView({block:"nearest"})),de.scrollIntoView({block:"nearest"}))}function pe(){var F;return(F=A.current)==null?void 0:F.querySelector(`${KE}[aria-selected="true"]`)}function Q(){var F;return Array.from(((F=A.current)==null?void 0:F.querySelectorAll(sS))||[])}function $(F){let Z=Q()[F];Z&&B.setState("value",Z.getAttribute(Ml))}function J(F){var Z;let ye=pe(),de=Q(),Oe=de.findIndex(He=>He===ye),Ae=de[Oe+F];(Z=d.current)!=null&&Z.loop&&(Ae=Oe+F<0?de[de.length-1]:Oe+F===de.length?de[0]:de[Oe+F]),Ae&&B.setState("value",Ae.getAttribute(Ml))}function K(F){let Z=pe(),ye=Z==null?void 0:Z.closest(yu),de;for(;ye&&!de;)ye=F>0?EB(ye,yu):TB(ye,yu),de=ye==null?void 0:ye.querySelector(sS);de?B.setState("value",de.getAttribute(Ml)):J(F)}let he=()=>$(Q().length-1),M=F=>{F.preventDefault(),F.metaKey?he():F.altKey?K(1):J(1)},ae=F=>{F.preventDefault(),F.metaKey?$(0):F.altKey?K(-1):J(-1)};return N.createElement(kn.div,me(L({ref:t,tabIndex:-1},j),{"cmdk-root":"",onKeyDown:F=>{var Z;(Z=j.onKeyDown)==null||Z.call(j,F);let ye=F.nativeEvent.isComposing||F.keyCode===229;if(!(F.defaultPrevented||ye))switch(F.key){case"n":case"j":{S&&F.ctrlKey&&M(F);break}case"ArrowDown":{M(F);break}case"p":case"k":{S&&F.ctrlKey&&ae(F);break}case"ArrowUp":{ae(F);break}case"Home":{F.preventDefault(),$(0);break}case"End":{F.preventDefault(),he();break}case"Enter":{F.preventDefault();let de=pe();if(de){let Oe=new Event(J0);de.dispatchEvent(Oe)}}}}}),N.createElement("label",{"cmdk-label":"",htmlFor:z.inputId,id:z.labelId,style:AB},f),om(e,F=>N.createElement(ZE.Provider,{value:B},N.createElement(QE.Provider,{value:z},F))))}),yB=N.forwardRef((e,t)=>{var n,s;let a=oa(),o=N.useRef(null),l=N.useContext(JE),d=td(),f=tT(e),h=(s=(n=f.current)==null?void 0:n.forceMount)!=null?s:l==null?void 0:l.forceMount;Po(()=>{if(!h)return d.item(a,l==null?void 0:l.id)},[h]);let p=nT(a,o,[e.value,e.children,o],e.keywords),g=Ey(),b=Pi(B=>B.value&&B.value===p.current),y=Pi(B=>h||d.filter()===!1?!0:B.search?B.filtered.items.get(a)>0:!0);N.useEffect(()=>{let B=o.current;if(!(!B||e.disabled))return B.addEventListener(J0,w),()=>B.removeEventListener(J0,w)},[y,e.onSelect,e.disabled]);function w(){var B,z;_(),(z=(B=f.current).onSelect)==null||z.call(B,p.current)}function _(){g.setState("value",p.current,!0)}if(!y)return null;let k=e,{disabled:S,value:j,onSelect:R,forceMount:O,keywords:C}=k,A=Le(k,["disabled","value","onSelect","forceMount","keywords"]);return N.createElement(kn.div,me(L({ref:Oo(o,t)},A),{id:a,"cmdk-item":"",role:"option","aria-disabled":!!S,"aria-selected":!!b,"data-disabled":!!S,"data-selected":!!b,onPointerMove:S||d.getDisablePointerSelection()?void 0:_,onClick:S?void 0:w}),e.children)}),bB=N.forwardRef((e,t)=>{let y=e,{heading:n,children:s,forceMount:a}=y,o=Le(y,["heading","children","forceMount"]),l=oa(),d=N.useRef(null),f=N.useRef(null),h=oa(),p=td(),g=Pi(w=>a||p.filter()===!1?!0:w.search?w.filtered.groups.has(l):!0);Po(()=>p.group(l),[]),nT(l,d,[e.value,e.heading,f]);let b=N.useMemo(()=>({id:l,forceMount:a}),[a]);return N.createElement(kn.div,me(L({ref:Oo(d,t)},o),{"cmdk-group":"",role:"presentation",hidden:g?void 0:!0}),n&&N.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),om(e,w=>N.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},N.createElement(JE.Provider,{value:b},w))))}),vB=N.forwardRef((e,t)=>{let l=e,{alwaysRender:n}=l,s=Le(l,["alwaysRender"]),a=N.useRef(null),o=Pi(d=>!d.search);return!n&&!o?null:N.createElement(kn.div,me(L({ref:Oo(a,t)},s),{"cmdk-separator":"",role:"separator"}))}),wB=N.forwardRef((e,t)=>{let h=e,{onValueChange:n}=h,s=Le(h,["onValueChange"]),a=e.value!=null,o=Ey(),l=Pi(p=>p.search),d=Pi(p=>p.selectedItemId),f=td();return N.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),N.createElement(kn.input,me(L({ref:t},s),{"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":d,id:f.inputId,type:"text",value:a?e.value:l,onChange:p=>{a||o.setState("search",p.target.value),n==null||n(p.target.value)}}))}),_B=N.forwardRef((e,t)=>{let h=e,{children:n,label:s="Suggestions"}=h,a=Le(h,["children","label"]),o=N.useRef(null),l=N.useRef(null),d=Pi(p=>p.selectedItemId),f=td();return N.useEffect(()=>{if(l.current&&o.current){let p=l.current,g=o.current,b,y=new ResizeObserver(()=>{b=requestAnimationFrame(()=>{let w=p.offsetHeight;g.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return y.observe(p),()=>{cancelAnimationFrame(b),y.unobserve(p)}}},[]),N.createElement(kn.div,me(L({ref:Oo(o,t)},a),{"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":s,id:f.listId}),om(e,p=>N.createElement("div",{ref:Oo(l,f.listInnerRef),"cmdk-list-sizer":""},p)))}),jB=N.forwardRef((e,t)=>{let f=e,{open:n,onOpenChange:s,overlayClassName:a,contentClassName:o,container:l}=f,d=Le(f,["open","onOpenChange","overlayClassName","contentClassName","container"]);return N.createElement(_y,{open:n,onOpenChange:s},N.createElement(jy,{container:l},N.createElement(Sy,{"cmdk-overlay":"",className:a}),N.createElement(Ny,{"aria-label":e.label,"cmdk-dialog":"",className:o},N.createElement(eT,L({ref:t},d)))))}),SB=N.forwardRef((e,t)=>Pi(n=>n.filtered.count===0)?N.createElement(kn.div,me(L({ref:t},e),{"cmdk-empty":"",role:"presentation"})):null),NB=N.forwardRef((e,t)=>{let l=e,{progress:n,children:s,label:a="Loading..."}=l,o=Le(l,["progress","children","label"]);return N.createElement(kn.div,me(L({ref:t},o),{"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a}),om(e,d=>N.createElement("div",{"aria-hidden":!0},d)))}),ic=Object.assign(eT,{List:_B,Item:yB,Input:wB,Group:bB,Separator:vB,Dialog:jB,Empty:SB,Loading:NB});function EB(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function TB(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function tT(e){let t=N.useRef(e);return Po(()=>{t.current=e}),t}var Po=typeof window=="undefined"?N.useEffect:N.useLayoutEffect;function Pl(e){let t=N.useRef();return t.current===void 0&&(t.current=e()),t}function Pi(e){let t=Ey(),n=()=>e(t.snapshot());return N.useSyncExternalStore(t.subscribe,n,n)}function nT(e,t,n,s=[]){let a=N.useRef(),o=td();return Po(()=>{var l;let d=(()=>{var h;for(let p of n){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(h=p.current.textContent)==null?void 0:h.trim():a.current}})(),f=s.map(h=>h.trim());o.value(e,d,f),(l=t.current)==null||l.setAttribute(Ml,d),a.current=d}),a}var kB=()=>{let[e,t]=N.useState(),n=Pl(()=>new Map);return Po(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,a)=>{n.current.set(s,a),t({})}};function CB(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function om({asChild:e,children:t},n){return e&&N.isValidElement(t)?N.cloneElement(CB(t),{ref:t.ref},n(t.props.children)):n(t)}var AB={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function cs(t){var e=Le(t,[]);return c.jsx(_y,L({"data-slot":"dialog"},e))}function OB(t){var e=Le(t,[]);return c.jsx(pB,L({"data-slot":"dialog-trigger"},e))}function RB(t){var e=Le(t,[]);return c.jsx(jy,L({"data-slot":"dialog-portal"},e))}function DB(t){var e=Le(t,[]);return c.jsx(GE,L({"data-slot":"dialog-close"},e))}function MB(n){var s=n,{className:e}=s,t=Le(s,["className"]);return c.jsx(Sy,L({"data-slot":"dialog-overlay",className:wn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function us(a){var o=a,{className:e,children:t,showCloseButton:n=!0}=o,s=Le(o,["className","children","showCloseButton"]);return c.jsxs(RB,{"data-slot":"dialog-portal",children:[c.jsx(MB,{}),c.jsxs(Ny,me(L({"data-slot":"dialog-content",className:wn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e)},s),{children:[t,n&&c.jsxs(GE,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[c.jsx(HM,{}),c.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}function ds(n){var s=n,{className:e}=s,t=Le(s,["className"]);return c.jsx("div",L({"data-slot":"dialog-header",className:wn("flex flex-col gap-2 text-center sm:text-left",e)},t))}function Es(n){var s=n,{className:e}=s,t=Le(s,["className"]);return c.jsx("div",L({"data-slot":"dialog-footer",className:wn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e)},t))}function fs(n){var s=n,{className:e}=s,t=Le(s,["className"]);return c.jsx(WE,L({"data-slot":"dialog-title",className:wn("text-lg leading-none font-semibold",e)},t))}function Co(n){var s=n,{className:e}=s,t=Le(s,["className"]);return c.jsx(XE,L({"data-slot":"dialog-description",className:wn("text-muted-foreground text-sm",e)},t))}function PB(n){var s=n,{className:e}=s,t=Le(s,["className"]);return c.jsx(ic,L({"data-slot":"command",className:wn("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e)},t))}function LB(n){var s=n,{className:e}=s,t=Le(s,["className"]);return c.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[c.jsx(Wh,{className:"size-4 shrink-0 opacity-50"}),c.jsx(ic.Input,L({"data-slot":"command-input",className:wn("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e)},t))]})}function zB(n){var s=n,{className:e}=s,t=Le(s,["className"]);return c.jsx(ic.List,L({"data-slot":"command-list",className:wn("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e)},t))}function t0(t){var e=Le(t,[]);return c.jsx(ic.Empty,L({"data-slot":"command-empty",className:"py-6 text-center text-sm"},e))}function UB(n){var s=n,{className:e}=s,t=Le(s,["className"]);return c.jsx(ic.Group,L({"data-slot":"command-group",className:wn("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e)},t))}function BB(n){var s=n,{className:e}=s,t=Le(s,["className"]);return c.jsx(ic.Item,L({"data-slot":"command-item",className:wn("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e)},t))}function sr({doctype:e,value:t="",onChange:n,placeholder:s="Select option...",className:a="w-[200px]",fields:o=["name"],filters:l=[],displayField:d="name",valueField:f="name",disabled:h=!1,limit:p=20}){const[g,b]=N.useState(!1),[y,w]=N.useState(""),_=N.useMemo(()=>{let B={};if(l.length>0&&l.forEach(q=>{if(Array.isArray(q)&&q.length>=3){const[ne,I,te]=q;I==="="&&(B[ne]=te)}}),y.trim()&&(B[d]=["like",`%${y}%`]),Object.keys(B).length===0&&y.trim())return[[d,"like",`%${y}%`]];const z=[];return Object.entries(B).forEach(([q,ne])=>{Array.isArray(ne)?z.push([q,ne[0],ne[1]]):z.push([q,"=",ne])}),z.length>0?z:void 0},[y,l,d]),{data:S,isLoading:j,error:R}=vn(e,{fields:[...new Set([...o,d,f])],filters:_,limit:p,orderBy:{field:d,order:"asc"}}),O=N.useMemo(()=>!S||!Array.isArray(S)?[]:S.map(B=>({value:B[f],label:B[d]})),[S,d,f]),C=O.find(B=>B.value===t),A=B=>{n(B===t?"":B),b(!1)},k=B=>{w(B)};return c.jsxs(Ix,{open:g,onOpenChange:b,children:[c.jsx(Yx,{asChild:!0,children:c.jsxs(qe,{variant:"outline",role:"combobox","aria-expanded":g,className:wn("justify-between",a),disabled:h,children:[(C==null?void 0:C.label)||s,c.jsx(DD,{className:"opacity-50"})]})}),c.jsx(Wx,{className:wn("p-0",a),children:c.jsxs(PB,{shouldFilter:!1,children:[c.jsx(LB,{placeholder:`Search ${e.toLowerCase()}...`,className:"h-9",value:y,onValueChange:k}),c.jsxs(zB,{children:[j&&c.jsx(t0,{children:"Loading..."}),R&&c.jsx(t0,{children:"Error loading data."}),!j&&!R&&O.length===0&&c.jsxs(t0,{children:["No ",e.toLowerCase()," found."]}),!j&&!R&&O.length>0&&c.jsx(UB,{children:O.map(B=>c.jsxs(BB,{value:B.value,onSelect:A,children:[B.label,c.jsx(kD,{className:wn("ml-auto",t===B.value?"opacity-100":"opacity-0")})]},B.value))})]})]})})]})}function Bt(s){var a=s,{className:e,type:t}=a,n=Le(a,["className","type"]);return c.jsx("input",L({type:t,"data-slot":"input",className:wn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e)},n))}var FB="Label",sT=N.forwardRef((e,t)=>c.jsx(kn.label,me(L({},e),{ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}})));sT.displayName=FB;var HB=sT;function Fe(n){var s=n,{className:e}=s,t=Le(s,["className"]);return c.jsx(HB,L({"data-slot":"label",className:wn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e)},t))}function $B(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const rT=ee.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),nd=()=>{const e=ee.useContext(rT);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};$B(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function VB(){const e=navigator.userAgent;return typeof window!="undefined"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function qB(){return Ty(/^Mac/)}function IB(){return Ty(/^iPhone/)}function rS(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function YB(){return Ty(/^iPad/)||qB()&&navigator.maxTouchPoints>1}function aT(){return IB()||YB()}function Ty(e){return typeof window!="undefined"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const WB=24,XB=typeof window!="undefined"?N.useLayoutEffect:N.useEffect;function aS(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const n0=typeof document!="undefined"&&window.visualViewport;function iS(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function iT(e){for(iS(e)&&(e=e.parentElement);e&&!iS(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const GB=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Wf=0,s0;function KB(e={}){let{isDisabled:t}=e;XB(()=>{if(!t)return Wf++,Wf===1&&aT()&&(s0=QB()),()=>{Wf--,Wf===0&&(s0==null||s0())}},[t])}function QB(){let e,t=0,n=g=>{e=iT(g.target),!(e===document.documentElement&&e===document.body)&&(t=g.changedTouches[0].pageY)},s=g=>{if(!e||e===document.documentElement||e===document.body){g.preventDefault();return}let b=g.changedTouches[0].pageY,y=e.scrollTop,w=e.scrollHeight-e.clientHeight;w!==0&&((y<=0&&b>t||y>=w&&b<t)&&g.preventDefault(),t=b)},a=g=>{let b=g.target;ex(b)&&b!==document.activeElement&&(g.preventDefault(),b.style.transform="translateY(-2000px)",b.focus(),requestAnimationFrame(()=>{b.style.transform=""}))},o=g=>{let b=g.target;ex(b)&&(b.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{b.style.transform="",n0&&(n0.height<window.innerHeight?requestAnimationFrame(()=>{oS(b)}):n0.addEventListener("resize",()=>oS(b),{once:!0}))}))},l=()=>{window.scrollTo(0,0)},d=window.pageXOffset,f=window.pageYOffset,h=aS(ZB(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let p=aS(bu(document,"touchstart",n,{passive:!1,capture:!0}),bu(document,"touchmove",s,{passive:!1,capture:!0}),bu(document,"touchend",a,{passive:!1,capture:!0}),bu(document,"focus",o,!0),bu(window,"scroll",l));return()=>{h(),p(),window.scrollTo(d,f)}}function ZB(e,t,n){let s=e.style[t];return e.style[t]=n,()=>{e.style[t]=s}}function bu(e,t,n,s){return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}function oS(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=iT(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let s=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const l=n.getBoundingClientRect().bottom+WB;o>l&&(n.scrollTop+=a-s)}e=n.parentElement}}function ex(e){return e instanceof HTMLInputElement&&!GB.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function JB(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function eF(...e){return t=>e.forEach(n=>JB(n,t))}function oT(...e){return N.useCallback(eF(...e),e)}const lT=new WeakMap;function ts(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([a,o])=>{if(a.startsWith("--")){e.style.setProperty(a,o);return}s[a]=e.style[a],e.style[a]=o}),!n&&lT.set(e,s)}function tF(e,t){if(!e||!(e instanceof HTMLElement))return;let n=lT.get(e);n&&(e.style[t]=n[t])}const qn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Xf(e,t){if(!e)return null;const n=window.getComputedStyle(e),s=n.transform||n.webkitTransform||n.mozTransform;let a=s.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[qn(t)?13:12]):(a=s.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[qn(t)?5:4]):null)}function nF(e){return 8*(Math.log(e+1)-2)}function r0(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function sF(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Sn={DURATION:.5,EASE:[.32,.72,0,1]},cT=.4,rF=.25,aF=100,uT=8,xo=16,tx=26,a0="vaul-dragging";function dT(e){const t=ee.useRef(e);return ee.useEffect(()=>{t.current=e}),ee.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function iF({defaultProp:e,onChange:t}){const n=ee.useState(e),[s]=n,a=ee.useRef(s),o=dT(t);return ee.useEffect(()=>{a.current!==s&&(o(s),a.current=s)},[s,a,o]),n}function fT({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,a]=iF({defaultProp:t,onChange:n}),o=e!==void 0,l=o?e:s,d=dT(n),f=ee.useCallback(h=>{if(o){const g=typeof h=="function"?h(e):h;g!==e&&d(g)}else a(h)},[o,e,a,d]);return[l,f]}function oF({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:s,overlayRef:a,fadeFromIndex:o,onSnapPointChange:l,direction:d="bottom",container:f,snapToSequentialPoint:h}){const[p,g]=fT({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[b,y]=ee.useState(typeof window!="undefined"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);ee.useEffect(()=>{function B(){y({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]);const w=ee.useMemo(()=>p===(n==null?void 0:n[n.length-1])||null,[n,p]),_=ee.useMemo(()=>{var B;return(B=n==null?void 0:n.findIndex(z=>z===p))!=null?B:null},[n,p]),S=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===p||!n,j=ee.useMemo(()=>{const B=f?{width:f.getBoundingClientRect().width,height:f.getBoundingClientRect().height}:typeof window!="undefined"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var z;return(z=n==null?void 0:n.map(q=>{const ne=typeof q=="string";let I=0;if(ne&&(I=parseInt(q,10)),qn(d)){const le=ne?I:b?q*B.height:0;return b?d==="bottom"?B.height-le:-B.height+le:le}const te=ne?I:b?q*B.width:0;return b?d==="right"?B.width-te:-B.width+te:te}))!=null?z:[]},[n,b,f]),R=ee.useMemo(()=>_!==null?j==null?void 0:j[_]:null,[j,_]),O=ee.useCallback(B=>{var z;const q=(z=j==null?void 0:j.findIndex(ne=>ne===B))!=null?z:null;l(q),ts(s.current,{transition:`transform ${Sn.DURATION}s cubic-bezier(${Sn.EASE.join(",")})`,transform:qn(d)?`translate3d(0, ${B}px, 0)`:`translate3d(${B}px, 0, 0)`}),j&&q!==j.length-1&&o!==void 0&&q!==o&&q<o?ts(a.current,{transition:`opacity ${Sn.DURATION}s cubic-bezier(${Sn.EASE.join(",")})`,opacity:"0"}):ts(a.current,{transition:`opacity ${Sn.DURATION}s cubic-bezier(${Sn.EASE.join(",")})`,opacity:"1"}),g(n==null?void 0:n[Math.max(q,0)])},[s.current,n,j,o,a,g]);ee.useEffect(()=>{if(p||e){var B;const z=(B=n==null?void 0:n.findIndex(q=>q===e||q===p))!=null?B:-1;j&&z!==-1&&typeof j[z]=="number"&&O(j[z])}},[p,e,n,j,O]);function C({draggedDistance:B,closeDrawer:z,velocity:q,dismissible:ne}){if(o===void 0)return;const I=d==="bottom"||d==="right"?(R!=null?R:0)-B:(R!=null?R:0)+B,te=_===o-1,le=_===0,pe=B>0;if(te&&ts(a.current,{transition:`opacity ${Sn.DURATION}s cubic-bezier(${Sn.EASE.join(",")})`}),!h&&q>2&&!pe){ne?z():O(j[0]);return}if(!h&&q>2&&pe&&j&&n){O(j[n.length-1]);return}const Q=j==null?void 0:j.reduce((J,K)=>typeof J!="number"||typeof K!="number"?J:Math.abs(K-I)<Math.abs(J-I)?K:J),$=qn(d)?window.innerHeight:window.innerWidth;if(q>cT&&Math.abs(B)<$*.4){const J=pe?1:-1;if(J>0&&w&&n){O(j[n.length-1]);return}if(le&&J<0&&ne&&z(),_===null)return;O(j[_+J]);return}O(Q)}function A({draggedDistance:B}){if(R===null)return;const z=d==="bottom"||d==="right"?R-B:R+B;(d==="bottom"||d==="right")&&z<j[j.length-1]||(d==="top"||d==="left")&&z>j[j.length-1]||ts(s.current,{transform:qn(d)?`translate3d(0, ${z}px, 0)`:`translate3d(${z}px, 0, 0)`})}function k(B,z){if(!n||typeof _!="number"||!j||o===void 0)return null;const q=_===o-1;if(_>=o&&z)return 0;if(q&&!z)return 1;if(!S&&!q)return null;const I=q?_+1:_-1,te=q?j[I]-j[I-1]:j[I+1]-j[I],le=B/Math.abs(te);return q?1-le:le}return{isLastSnapPoint:w,activeSnapPoint:p,shouldFade:S,getPercentageDragged:k,setActiveSnapPoint:g,activeSnapPointIndex:_,onRelease:C,onDrag:A,snapPointsOffset:j}}const lF=()=>()=>{};function cF(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:a}=nd(),o=ee.useRef(null),l=N.useMemo(()=>document.body.style.backgroundColor,[]);function d(){return(window.innerWidth-tx)/window.innerWidth}ee.useEffect(()=>{if(t&&n){o.current&&clearTimeout(o.current);const f=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!f)return;sF(s&&!a?r0(document.body,{background:"black"}):lF,r0(f,{transformOrigin:qn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Sn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Sn.EASE.join(",")})`}));const h=r0(f,L({borderRadius:`${uT}px`,overflow:"hidden"},qn(e)?{transform:`scale(${d()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${d()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}));return()=>{h(),o.current=window.setTimeout(()=>{l?document.body.style.background=l:document.body.style.removeProperty("background")},Sn.DURATION*1e3)}}},[t,n,l])}let vu=null;function uF({isOpen:e,modal:t,nested:n,hasBeenOpened:s,preventScrollRestoration:a,noBodyStyles:o}){const[l,d]=ee.useState(()=>typeof window!="undefined"?window.location.href:""),f=ee.useRef(0),h=ee.useCallback(()=>{if(rS()&&vu===null&&e&&!o){vu={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:g,innerHeight:b}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-f.current}px`,left:`${-g}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const y=b-window.innerHeight;y&&f.current>=b&&(document.body.style.top=`${-(f.current+y)}px`)}),300)}},[e]),p=ee.useCallback(()=>{if(rS()&&vu!==null&&!o){const g=-parseInt(document.body.style.top,10),b=-parseInt(document.body.style.left,10);Object.assign(document.body.style,vu),window.requestAnimationFrame(()=>{if(a&&l!==window.location.href){d(window.location.href);return}window.scrollTo(b,g)}),vu=null}},[l]);return ee.useEffect(()=>{function g(){f.current=window.scrollY}return g(),window.addEventListener("scroll",g),()=>{window.removeEventListener("scroll",g)}},[]),ee.useEffect(()=>{if(t)return()=>{typeof document=="undefined"||document.querySelector("[data-vaul-drawer]")||p()}},[t,p]),ee.useEffect(()=>{n||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&h(),t||window.setTimeout(()=>{p()},500)):p())},[e,s,l,t,n,h,p]),{restorePositionSetting:p}}function dF({open:e,onOpenChange:t,children:n,onDrag:s,onRelease:a,snapPoints:o,shouldScaleBackground:l=!1,setBackgroundColorOnScale:d=!0,closeThreshold:f=rF,scrollLockTimeout:h=aF,dismissible:p=!0,handleOnly:g=!1,fadeFromIndex:b=o&&o.length-1,activeSnapPoint:y,setActiveSnapPoint:w,fixed:_,modal:S=!0,onClose:j,nested:R,noBodyStyles:O=!1,direction:C="bottom",defaultOpen:A=!1,disablePreventScroll:k=!0,snapToSequentialPoint:B=!1,preventScrollRestoration:z=!1,repositionInputs:q=!0,onAnimationEnd:ne,container:I,autoFocus:te=!1}){var le,pe;const[Q=!1,$]=fT({defaultProp:A,prop:e,onChange:Xe=>{t==null||t(Xe),!Xe&&!R&&Te(),setTimeout(()=>{ne==null||ne(Xe)},Sn.DURATION*1e3),Xe&&!S&&typeof window!="undefined"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Xe||(document.body.style.pointerEvents="auto")}}),[J,K]=ee.useState(!1),[he,M]=ee.useState(!1),[ae,G]=ee.useState(!1),F=ee.useRef(null),Z=ee.useRef(null),ye=ee.useRef(null),de=ee.useRef(null),Oe=ee.useRef(null),Ae=ee.useRef(!1),He=ee.useRef(null),Pe=ee.useRef(0),et=ee.useRef(!1),We=ee.useRef(!A),ft=ee.useRef(0),ze=ee.useRef(null),_t=ee.useRef(((le=ze.current)==null?void 0:le.getBoundingClientRect().height)||0),Ft=ee.useRef(((pe=ze.current)==null?void 0:pe.getBoundingClientRect().width)||0),bt=ee.useRef(0),ot=ee.useCallback(Xe=>{o&&Xe===Ne.length-1&&(Z.current=new Date)},[]),{activeSnapPoint:Tt,activeSnapPointIndex:Y,setActiveSnapPoint:ce,onRelease:V,snapPointsOffset:Ne,onDrag:Me,shouldFade:Ee,getPercentageDragged:we}=oF({snapPoints:o,activeSnapPointProp:y,setActiveSnapPointProp:w,drawerRef:ze,fadeFromIndex:b,overlayRef:F,onSnapPointChange:ot,direction:C,container:I,snapToSequentialPoint:B});KB({isDisabled:!Q||he||!S||ae||!J||!q||!k});const{restorePositionSetting:Te}=uF({isOpen:Q,modal:S,nested:R!=null?R:!1,hasBeenOpened:J,preventScrollRestoration:z,noBodyStyles:O});function $e(){return(window.innerWidth-tx)/window.innerWidth}function pt(Xe){var Ot,Pt;!p&&!o||ze.current&&!ze.current.contains(Xe.target)||(_t.current=((Ot=ze.current)==null?void 0:Ot.getBoundingClientRect().height)||0,Ft.current=((Pt=ze.current)==null?void 0:Pt.getBoundingClientRect().width)||0,M(!0),ye.current=new Date,aT()&&window.addEventListener("touchend",()=>Ae.current=!1,{once:!0}),Xe.target.setPointerCapture(Xe.pointerId),Pe.current=qn(C)?Xe.pageY:Xe.pageX)}function gn(Xe,Ot){var Pt;let jt=Xe;const Gt=(Pt=window.getSelection())==null?void 0:Pt.toString(),Ge=ze.current?Xf(ze.current,C):null,vt=new Date;if(jt.tagName==="SELECT"||jt.hasAttribute("data-vaul-no-drag")||jt.closest("[data-vaul-no-drag]"))return!1;if(C==="right"||C==="left")return!0;if(Z.current&&vt.getTime()-Z.current.getTime()<500)return!1;if(Ge!==null&&(C==="bottom"?Ge>0:Ge<0))return!0;if(Gt&&Gt.length>0)return!1;if(Oe.current&&vt.getTime()-Oe.current.getTime()<h&&Ge===0||Ot)return Oe.current=vt,!1;for(;jt;){if(jt.scrollHeight>jt.clientHeight){if(jt.scrollTop!==0)return Oe.current=new Date,!1;if(jt.getAttribute("role")==="dialog")return!0}jt=jt.parentNode}return!0}function Qt(Xe){if(ze.current&&he){const Ot=C==="bottom"||C==="right"?1:-1,Pt=(Pe.current-(qn(C)?Xe.pageY:Xe.pageX))*Ot,jt=Pt>0,Gt=o&&!p&&!jt;if(Gt&&Y===0)return;const Ge=Math.abs(Pt),vt=document.querySelector("[data-vaul-drawer-wrapper]"),Ht=C==="bottom"||C==="top"?_t.current:Ft.current;let qt=Ge/Ht;const X=we(Ge,jt);if(X!==null&&(qt=X),Gt&&qt>=1||!Ae.current&&!gn(Xe.target,jt))return;if(ze.current.classList.add(a0),Ae.current=!0,ts(ze.current,{transition:"none"}),ts(F.current,{transition:"none"}),o&&Me({draggedDistance:Pt}),jt&&!o){const fe=nF(Pt),Se=Math.min(fe*-1,0)*Ot;ts(ze.current,{transform:qn(C)?`translate3d(0, ${Se}px, 0)`:`translate3d(${Se}px, 0, 0)`});return}const re=1-qt;if((Ee||b&&Y===b-1)&&(s==null||s(Xe,qt),ts(F.current,{opacity:`${re}`,transition:"none"},!0)),vt&&F.current&&l){const fe=Math.min($e()+qt*(1-$e()),1),Se=8-qt*8,De=Math.max(0,14-qt*14);ts(vt,{borderRadius:`${Se}px`,transform:qn(C)?`scale(${fe}) translate3d(0, ${De}px, 0)`:`scale(${fe}) translate3d(${De}px, 0, 0)`,transition:"none"},!0)}if(!o){const fe=Ge*Ot;ts(ze.current,{transform:qn(C)?`translate3d(0, ${fe}px, 0)`:`translate3d(${fe}px, 0, 0)`})}}}ee.useEffect(()=>{window.requestAnimationFrame(()=>{We.current=!0})},[]),ee.useEffect(()=>{var Xe;function Ot(){if(!ze.current||!q)return;const Pt=document.activeElement;if(ex(Pt)||et.current){var jt;const Gt=((jt=window.visualViewport)==null?void 0:jt.height)||0,Ge=window.innerHeight;let vt=Ge-Gt;const Ht=ze.current.getBoundingClientRect().height||0,qt=Ht>Ge*.8;bt.current||(bt.current=Ht);const X=ze.current.getBoundingClientRect().top;if(Math.abs(ft.current-vt)>60&&(et.current=!et.current),o&&o.length>0&&Ne&&Y){const re=Ne[Y]||0;vt+=re}if(ft.current=vt,Ht>Gt||et.current){const re=ze.current.getBoundingClientRect().height;let fe=re;re>Gt&&(fe=Gt-(qt?X:tx)),_?ze.current.style.height=`${re-Math.max(vt,0)}px`:ze.current.style.height=`${Math.max(fe,Gt-X)}px`}else VB()||(ze.current.style.height=`${bt.current}px`);o&&o.length>0&&!et.current?ze.current.style.bottom="0px":ze.current.style.bottom=`${Math.max(vt,0)}px`}}return(Xe=window.visualViewport)==null||Xe.addEventListener("resize",Ot),()=>{var Pt;return(Pt=window.visualViewport)==null?void 0:Pt.removeEventListener("resize",Ot)}},[Y,o,Ne]);function Zt(Xe){Wn(),j==null||j(),Xe||$(!1),setTimeout(()=>{o&&ce(o[0])},Sn.DURATION*1e3)}function xn(){if(!ze.current)return;const Xe=document.querySelector("[data-vaul-drawer-wrapper]"),Ot=Xf(ze.current,C);ts(ze.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Sn.DURATION}s cubic-bezier(${Sn.EASE.join(",")})`}),ts(F.current,{transition:`opacity ${Sn.DURATION}s cubic-bezier(${Sn.EASE.join(",")})`,opacity:"1"}),l&&Ot&&Ot>0&&Q&&ts(Xe,me(L({borderRadius:`${uT}px`,overflow:"hidden"},qn(C)?{transform:`scale(${$e()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${$e()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"}),{transitionProperty:"transform, border-radius",transitionDuration:`${Sn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Sn.EASE.join(",")})`}),!0)}function Wn(){!he||!ze.current||(ze.current.classList.remove(a0),Ae.current=!1,M(!1),de.current=new Date)}function Xn(Xe){if(!he||!ze.current)return;ze.current.classList.remove(a0),Ae.current=!1,M(!1),de.current=new Date;const Ot=Xf(ze.current,C);if(!Xe||!gn(Xe.target,!1)||!Ot||Number.isNaN(Ot)||ye.current===null)return;const Pt=de.current.getTime()-ye.current.getTime(),jt=Pe.current-(qn(C)?Xe.pageY:Xe.pageX),Gt=Math.abs(jt)/Pt;if(Gt>.05&&(G(!0),setTimeout(()=>{G(!1)},200)),o){V({draggedDistance:jt*(C==="bottom"||C==="right"?1:-1),closeDrawer:Zt,velocity:Gt,dismissible:p}),a==null||a(Xe,!0);return}if(C==="bottom"||C==="right"?jt>0:jt<0){xn(),a==null||a(Xe,!0);return}if(Gt>cT){Zt(),a==null||a(Xe,!1);return}var Ge;const vt=Math.min((Ge=ze.current.getBoundingClientRect().height)!=null?Ge:0,window.innerHeight);var Ht;const qt=Math.min((Ht=ze.current.getBoundingClientRect().width)!=null?Ht:0,window.innerWidth),X=C==="left"||C==="right";if(Math.abs(Ot)>=(X?qt:vt)*f){Zt(),a==null||a(Xe,!1);return}a==null||a(Xe,!0),xn()}ee.useEffect(()=>(Q&&(ts(document.documentElement,{scrollBehavior:"auto"}),Z.current=new Date),()=>{tF(document.documentElement,"scrollBehavior")}),[Q]);function hs(Xe){const Ot=Xe?(window.innerWidth-xo)/window.innerWidth:1,Pt=Xe?-xo:0;He.current&&window.clearTimeout(He.current),ts(ze.current,{transition:`transform ${Sn.DURATION}s cubic-bezier(${Sn.EASE.join(",")})`,transform:qn(C)?`scale(${Ot}) translate3d(0, ${Pt}px, 0)`:`scale(${Ot}) translate3d(${Pt}px, 0, 0)`}),!Xe&&ze.current&&(He.current=setTimeout(()=>{const jt=Xf(ze.current,C);ts(ze.current,{transition:"none",transform:qn(C)?`translate3d(0, ${jt}px, 0)`:`translate3d(${jt}px, 0, 0)`})},500))}function Gn(Xe,Ot){if(Ot<0)return;const Pt=(window.innerWidth-xo)/window.innerWidth,jt=Pt+Ot*(1-Pt),Gt=-xo+Ot*xo;ts(ze.current,{transform:qn(C)?`scale(${jt}) translate3d(0, ${Gt}px, 0)`:`scale(${jt}) translate3d(${Gt}px, 0, 0)`,transition:"none"})}function Ts(Xe,Ot){const Pt=qn(C)?window.innerHeight:window.innerWidth,jt=Ot?(Pt-xo)/Pt:1,Gt=Ot?-xo:0;Ot&&ts(ze.current,{transition:`transform ${Sn.DURATION}s cubic-bezier(${Sn.EASE.join(",")})`,transform:qn(C)?`scale(${jt}) translate3d(0, ${Gt}px, 0)`:`scale(${jt}) translate3d(${Gt}px, 0, 0)`})}return ee.useEffect(()=>{S||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[S]),ee.createElement(_y,{defaultOpen:A,onOpenChange:Xe=>{!p&&!Xe||(Xe?K(!0):Zt(!0),$(Xe))},open:Q},ee.createElement(rT.Provider,{value:{activeSnapPoint:Tt,snapPoints:o,setActiveSnapPoint:ce,drawerRef:ze,overlayRef:F,onOpenChange:t,onPress:pt,onRelease:Xn,onDrag:Qt,dismissible:p,shouldAnimate:We,handleOnly:g,isOpen:Q,isDragging:he,shouldFade:Ee,closeDrawer:Zt,onNestedDrag:Gn,onNestedOpenChange:hs,onNestedRelease:Ts,keyboardIsOpen:et,modal:S,snapPointsOffset:Ne,activeSnapPointIndex:Y,direction:C,shouldScaleBackground:l,setBackgroundColorOnScale:d,noBodyStyles:O,container:I,autoFocus:te}},n))}const hT=ee.forwardRef(function(n,t){var e=Le(n,[]);const{overlayRef:s,snapPoints:a,onRelease:o,shouldFade:l,isOpen:d,modal:f,shouldAnimate:h}=nd(),p=oT(t,s),g=a&&a.length>0;if(!f)return null;const b=ee.useCallback(y=>o(y),[o]);return ee.createElement(Sy,L({onMouseUp:b,ref:p,"data-vaul-overlay":"","data-vaul-snap-points":d&&g?"true":"false","data-vaul-snap-points-overlay":d&&l?"true":"false","data-vaul-animate":h!=null&&h.current?"true":"false"},e))});hT.displayName="Drawer.Overlay";const mT=ee.forwardRef(function(o,a){var l=o,{onPointerDownOutside:e,style:t,onOpenAutoFocus:n}=l,s=Le(l,["onPointerDownOutside","style","onOpenAutoFocus"]);const{drawerRef:d,onPress:f,onRelease:h,onDrag:p,keyboardIsOpen:g,snapPointsOffset:b,activeSnapPointIndex:y,modal:w,isOpen:_,direction:S,snapPoints:j,container:R,handleOnly:O,shouldAnimate:C,autoFocus:A}=nd(),[k,B]=ee.useState(!1),z=oT(a,d),q=ee.useRef(null),ne=ee.useRef(null),I=ee.useRef(!1),te=j&&j.length>0;cF();const le=(Q,$,J=0)=>{if(I.current)return!0;const K=Math.abs(Q.y),he=Math.abs(Q.x),M=he>K,ae=["bottom","right"].includes($)?1:-1;if($==="left"||$==="right"){if(!(Q.x*ae<0)&&he>=0&&he<=J)return M}else if(!(Q.y*ae<0)&&K>=0&&K<=J)return!M;return I.current=!0,!0};ee.useEffect(()=>{te&&window.requestAnimationFrame(()=>{B(!0)})},[]);function pe(Q){q.current=null,I.current=!1,h(Q)}return ee.createElement(Ny,me(L({"data-vaul-drawer-direction":S,"data-vaul-drawer":"","data-vaul-delayed-snap-points":k?"true":"false","data-vaul-snap-points":_&&te?"true":"false","data-vaul-custom-container":R?"true":"false","data-vaul-animate":C!=null&&C.current?"true":"false"},s),{ref:z,style:b&&b.length>0?L({"--snap-point-height":`${b[y!=null?y:0]}px`},t):t,onPointerDown:Q=>{O||(s.onPointerDown==null||s.onPointerDown.call(s,Q),q.current={x:Q.pageX,y:Q.pageY},f(Q))},onOpenAutoFocus:Q=>{n==null||n(Q),A||Q.preventDefault()},onPointerDownOutside:Q=>{if(e==null||e(Q),!w||Q.defaultPrevented){Q.preventDefault();return}g.current&&(g.current=!1)},onFocusOutside:Q=>{if(!w){Q.preventDefault();return}},onPointerMove:Q=>{if(ne.current=Q,O||(s.onPointerMove==null||s.onPointerMove.call(s,Q),!q.current))return;const $=Q.pageY-q.current.y,J=Q.pageX-q.current.x,K=Q.pointerType==="touch"?10:2;le({x:J,y:$},S,K)?p(Q):(Math.abs(J)>K||Math.abs($)>K)&&(q.current=null)},onPointerUp:Q=>{s.onPointerUp==null||s.onPointerUp.call(s,Q),q.current=null,I.current=!1,h(Q)},onPointerOut:Q=>{s.onPointerOut==null||s.onPointerOut.call(s,Q),pe(ne.current)},onContextMenu:Q=>{s.onContextMenu==null||s.onContextMenu.call(s,Q),ne.current&&pe(ne.current)}}))});mT.displayName="Drawer.Content";const fF=250,hF=120,mF=ee.forwardRef(function(a,s){var o=a,{preventCycle:e=!1,children:t}=o,n=Le(o,["preventCycle","children"]);const{closeDrawer:l,isDragging:d,snapPoints:f,activeSnapPoint:h,setActiveSnapPoint:p,dismissible:g,handleOnly:b,isOpen:y,onPress:w,onDrag:_}=nd(),S=ee.useRef(null),j=ee.useRef(!1);function R(){if(j.current){A();return}window.setTimeout(()=>{O()},hF)}function O(){if(d||e||j.current){A();return}if(A(),!f||f.length===0){g||l();return}if(h===f[f.length-1]&&g){l();return}const B=f.findIndex(q=>q===h);if(B===-1)return;const z=f[B+1];p(z)}function C(){S.current=window.setTimeout(()=>{j.current=!0},fF)}function A(){S.current&&window.clearTimeout(S.current),j.current=!1}return ee.createElement("div",L({onClick:R,onPointerCancel:A,onPointerDown:k=>{b&&w(k),C()},onPointerMove:k=>{b&&_(k)},ref:s,"data-vaul-drawer-visible":y?"true":"false","data-vaul-handle":"","aria-hidden":"true"},n),ee.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});mF.displayName="Drawer.Handle";function pF(e){const t=nd(),a=e,{container:n=t.container}=a,s=Le(a,["container"]);return ee.createElement(jy,L({container:n},s))}const oc={Root:dF,Content:mT,Overlay:hT,Portal:pF,Title:WE,Description:XE};function gF(t){var e=Le(t,[]);return c.jsx(oc.Root,L({"data-slot":"drawer"},e))}function xF(t){var e=Le(t,[]);return c.jsx(oc.Portal,L({"data-slot":"drawer-portal"},e))}function yF(n){var s=n,{className:e}=s,t=Le(s,["className"]);return c.jsx(oc.Overlay,L({"data-slot":"drawer-overlay",className:wn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function bF(s){var a=s,{className:e,children:t}=a,n=Le(a,["className","children"]);return c.jsxs(xF,{"data-slot":"drawer-portal",children:[c.jsx(yF,{}),c.jsxs(oc.Content,me(L({"data-slot":"drawer-content",className:wn("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-2/3 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e)},n),{children:[c.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]}))]})}function vF(n){var s=n,{className:e}=s,t=Le(s,["className"]);return c.jsx("div",L({"data-slot":"drawer-header",className:wn("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",e)},t))}function wF(n){var s=n,{className:e}=s,t=Le(s,["className"]);return c.jsx("div",L({"data-slot":"drawer-footer",className:wn("mt-auto flex flex-col gap-2 p-4",e)},t))}function _F(n){var s=n,{className:e}=s,t=Le(s,["className"]);return c.jsx(oc.Title,L({"data-slot":"drawer-title",className:wn("text-foreground font-semibold",e)},t))}function jF(n){var s=n,{className:e}=s,t=Le(s,["className"]);return c.jsx(oc.Description,L({"data-slot":"drawer-description",className:wn("text-muted-foreground text-sm",e)},t))}function lm({doctype:e,docname:t,title:n="File Attachments",allowUpload:s=!0,allowDelete:a=!0,className:o=""}){const[l,d]=N.useState(!1),[f,h]=N.useState(!1),[p,g]=N.useState(null),[b,y]=N.useState(!1),[w,_]=N.useState(""),[S,j]=N.useState(""),[R,O]=N.useState(!1),C=N.useRef(null),{currentUser:A}=ua(),{data:k,mutate:B,isLoading:z}=vn("File",{fields:["name","file_name","file_url","file_size","is_private","attached_to_doctype","attached_to_name","creation","owner","modified"],filters:[["attached_to_doctype","=",e],["attached_to_name","=",t]],orderBy:{field:"creation",order:"desc"},limit:0}),{call:q}=os("frappe.client.delete"),ne=M=>{var G;if(K(M))return c.jsx(wf,{className:"h-6 w-6 text-blue-500"});switch((G=M.file_name.split(".").pop())==null?void 0:G.toLowerCase()){case"pdf":return c.jsx(Ll,{className:"h-6 w-6 text-red-500"});case"doc":case"docx":return c.jsx(Ll,{className:"h-6 w-6 text-blue-500"});case"xls":case"xlsx":return c.jsx(Ll,{className:"h-6 w-6 text-green-500"});case"ppt":case"pptx":return c.jsx(Ll,{className:"h-6 w-6 text-orange-500"});case"jpg":case"jpeg":case"png":case"gif":case"webp":return c.jsx(aM,{className:"h-6 w-6 text-purple-500"});case"zip":case"rar":case"7z":return c.jsx(vD,{className:"h-6 w-6 text-gray-500"});default:return c.jsx(vf,{className:"h-6 w-6 text-gray-500"})}},I=M=>{if(M===0)return"0 Bytes";const ae=1024,G=["Bytes","KB","MB","GB"],F=Math.floor(Math.log(M)/Math.log(ae));return parseFloat((M/Math.pow(ae,F)).toFixed(2))+" "+G[F]},te=M=>ve(null,null,function*(){var ye;if(!M||M.length===0)return;const ae=25*1024*1024,G=Array.from(M).filter(de=>de.size>ae);if(G.length>0){const de=G.map(Oe=>Oe.name).join(", ");setTimeout(()=>{br.error(`File(s) too large: ${de}. Maximum size is 25MB per file.`)},100);return}d(!0);let F=0,Z=0;try{for(let de=0;de<M.length;de++){const Oe=M[de],Ae=new FormData;Ae.append("file",Oe),Ae.append("doctype",e),Ae.append("docname",t),Ae.append("is_private","0");try{const He=yield fetch("/api/method/upload_file",{method:"POST",body:Ae,credentials:"include"});if(!He.ok){const et=yield He.text();throw et.includes("too large")||et.includes("size")||He.status===413?new Error(`File "${Oe.name}" is too large. Maximum size is 25MB.`):new Error(`Upload failed for "${Oe.name}": ${He.statusText}`)}let Pe;try{Pe=yield He.json()}catch(et){console.log("Response is not JSON, assuming success")}if((ye=Pe==null?void 0:Pe.message)!=null&&ye.error)throw new Error(`Upload failed for "${Oe.name}": ${Pe.message.error}`);F++}catch(He){console.error(`Error uploading file ${Oe.name}:`,He);const Pe=He instanceof Error?He.message:String(He);(Pe.includes("too large")||Pe.includes("25MB"))&&Oe.size>ae&&setTimeout(()=>{br.error(Pe)},100),Z++}}setTimeout(()=>ve(null,null,function*(){yield B()}),500)}catch(de){}finally{d(!1)}}),le=M=>ve(null,null,function*(){if(confirm(`Are you sure you want to delete "${M.file_name}"?`))try{yield q({doctype:"File",name:M.name}),yield B()}catch(ae){console.error("Error deleting file:",ae),br.error("Failed to delete file")}}),pe=()=>ve(null,null,function*(){if(!w.trim()){br.error("Please enter a URL");return}try{new URL(w)}catch(M){br.error("Please enter a valid URL");return}O(!0);try{if(!(yield fetch("/api/method/frappe.client.insert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doc:{doctype:"File",file_name:S.trim()||w,file_url:w,attached_to_doctype:e,attached_to_name:t,is_private:0}}),credentials:"include"})).ok)throw new Error("Failed to attach link");_(""),j(""),y(!1),yield B(),br.success("Link attached successfully")}catch(M){console.error("Error attaching link:",M),br.error("Failed to attach link")}finally{O(!1)}}),Q=M=>ve(null,null,function*(){const ae=M.target.files;ae&&ae.length>0&&(yield te(ae)),M.target.value=""}),$=M=>{g(M),h(!0)},J=M=>{var G;const ae=(G=M.split(".").pop())==null?void 0:G.toLowerCase();return["jpg","jpeg","png","gif","webp","svg"].includes(ae||"")},K=M=>{const ae=M.file_url.startsWith("http://")||M.file_url.startsWith("https://"),G=M.file_size===0,F=M.file_name.startsWith("http://")||M.file_name.startsWith("https://"),Z=!M.file_name.includes(".")||M.file_name.split(".").length<2;return ae&&(G||F||Z)},he=M=>a&&(M.owner===A||A==="Administrator");return c.jsxs("div",{className:`bg-white border border-gray-200 rounded-xl p-6 ${o}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[c.jsx(vf,{className:"h-5 w-5"}),n,k&&c.jsx("span",{className:"inline-flex px-2 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:k.length})]}),s&&c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(qe,{size:"sm",onClick:()=>{var M;return(M=C.current)==null?void 0:M.click()},disabled:l,className:"bg-blue-600 hover:bg-blue-700",children:[c.jsx(zM,{className:"h-4 w-4 mr-1"}),l?"Uploading...":"Upload Files"]}),c.jsxs(qe,{size:"sm",variant:"outline",onClick:()=>y(!0),disabled:l||R,className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:[c.jsx(wf,{className:"h-4 w-4 mr-1"}),"Attach Link"]}),c.jsx("input",{ref:C,type:"file",multiple:!0,accept:"*/*",onChange:Q,className:"hidden",style:{display:"none"}})]})]}),z&&c.jsxs("div",{className:"flex items-center justify-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),c.jsx("span",{className:"ml-3 text-gray-600",children:"Loading attachments..."})]}),!z&&c.jsx(c.Fragment,{children:k&&k.length>0?c.jsx("div",{className:"space-y-3",children:k.map(M=>c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx("div",{className:"flex-shrink-0",children:ne(M)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:M.file_name}),c.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[c.jsx("p",{className:"text-xs text-gray-500",children:I(M.file_size)}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded by ",M.owner]}),c.jsx("p",{className:"text-xs text-gray-500",children:new Date(M.creation).toLocaleDateString()}),M.is_private===1&&c.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded",children:"Private"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[J(M.file_name)&&!K(M)&&c.jsxs(qe,{size:"sm",variant:"outline",onClick:()=>$(M),className:"text-xs",children:[c.jsx(XD,{className:"h-3 w-3 mr-1"}),"Preview"]}),c.jsx(qe,{size:"sm",variant:"outline",onClick:()=>window.open(M.file_url,"_blank"),className:"text-xs",children:K(M)?c.jsxs(c.Fragment,{children:[c.jsx(YD,{className:"h-3 w-3 mr-1"}),"Open Link"]}):c.jsxs(c.Fragment,{children:[c.jsx(e1,{className:"h-3 w-3 mr-1"}),"Download"]})}),he(M)&&c.jsxs(qe,{size:"sm",variant:"outline",onClick:()=>le(M),className:"text-xs text-red-600 hover:text-red-700",children:[c.jsx(Ao,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]},M.name))}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(vf,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No files attached"}),c.jsx("p",{className:"text-gray-500 text-sm mt-2",children:s?"Upload files to attach them to this project":"No files have been attached to this project"})]})}),c.jsx(cs,{open:b,onOpenChange:y,children:c.jsxs(us,{className:"max-w-md",children:[c.jsx(ds,{children:c.jsxs(fs,{className:"flex items-center gap-2",children:[c.jsx(wf,{className:"h-5 w-5"}),"Attach Link"]})}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("div",{children:[c.jsx(Fe,{htmlFor:"link-url",className:"text-sm font-medium",children:"URL *"}),c.jsx(Bt,{id:"link-url",type:"url",placeholder:"https://example.com",value:w,onChange:M=>_(M.target.value),className:"mt-1"})]}),c.jsxs("div",{children:[c.jsx(Fe,{htmlFor:"link-title",className:"text-sm font-medium",children:"Title (optional)"}),c.jsx(Bt,{id:"link-title",type:"text",placeholder:"Enter a descriptive title",value:S,onChange:M=>j(M.target.value),className:"mt-1"})]}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[c.jsx(qe,{onClick:pe,disabled:!w.trim()||R,className:"flex-1",children:R?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Attaching..."]}):c.jsxs(c.Fragment,{children:[c.jsx(wf,{className:"h-4 w-4 mr-2"}),"Attach Link"]})}),c.jsx(qe,{variant:"outline",onClick:()=>{y(!1),_(""),j("")},disabled:R,children:"Cancel"})]})]})]})}),f&&p&&c.jsx(cs,{open:f,onOpenChange:h,children:c.jsxs(us,{className:"max-w-4xl max-h-[80vh] overflow-hidden",children:[c.jsx(ds,{children:c.jsx(fs,{className:"flex items-center justify-between",children:c.jsx("span",{children:p.file_name})})}),c.jsx("div",{className:"flex items-center justify-center p-4",children:J(p.file_name)?c.jsx("img",{src:p.file_url,alt:p.file_name,className:"max-w-full max-h-[60vh] object-contain"}):c.jsxs("div",{className:"text-center",children:[c.jsx(vf,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Preview not available for this file type"}),c.jsxs(qe,{className:"mt-4",onClick:()=>window.open(p.file_url,"_blank"),children:[c.jsx(e1,{className:"h-4 w-4 mr-2"}),"Download File"]})]})})]})})]})}const SF=({isOpen:e,onClose:t,projectName:n,onSuccess:s})=>{const[a,o]=N.useState({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),{createDoc:l,loading:d,error:f}=Li(),{assignPhase:h}=kN(),{data:p,isLoading:g}=sc(n),b=(_,S)=>{o(j=>me(L({},j),{[_]:S}))},y=_=>ve(null,null,function*(){if(_.preventDefault(),!!a.subject.trim())try{const S=a,{assign_to:j}=S,R=Le(S,["assign_to"]),O=yield l("project_phase",{project:n,subject:R.subject,start_date:R.start_date||null,end_date:R.end_date||null,priority:R.priority,details:R.details||null,costing:R.costing||0,status:"Open",progress:0});j&&O&&(yield h(O.name,j)),o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),s&&s(),t()}catch(j){console.error("Failed to create project phase:",j)}}),w=()=>{o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),t()};return c.jsx(cs,{open:e,onOpenChange:w,children:c.jsxs(us,{className:"sm:max-w-[500px]",children:[c.jsxs(ds,{children:[c.jsx(fs,{children:"Create New Project Phase"}),c.jsxs(Co,{children:['Add a new phase to organize tasks and milestones for "',n,'".']})]}),c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"subject",children:"Phase Name *"}),c.jsx(Bt,{id:"subject",value:a.subject,onChange:_=>b("subject",_.target.value),placeholder:"e.g., Planning, Development, Testing",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"priority",children:"Priority"}),c.jsxs("select",{id:"priority",value:a.priority,onChange:_=>b("priority",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Critical",children:"Critical"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"start_date",children:"Start Date"}),c.jsxs("div",{className:"relative",children:[c.jsx(Bt,{id:"start_date",type:"date",value:a.start_date,onChange:_=>b("start_date",_.target.value)}),c.jsx(_r,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"end_date",children:"End Date"}),c.jsxs("div",{className:"relative",children:[c.jsx(Bt,{id:"end_date",type:"date",value:a.end_date,onChange:_=>b("end_date",_.target.value),min:a.start_date||void 0}),c.jsx(_r,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"costing",children:"Estimated Cost"}),c.jsx(Bt,{id:"costing",type:"number",value:a.costing,onChange:_=>b("costing",parseFloat(_.target.value)||0),placeholder:"0",min:"0",step:"0.01"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"assign_to",children:"Assign To"}),c.jsxs("select",{id:"assign_to",value:a.assign_to,onChange:_=>b("assign_to",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:g,children:[c.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(_=>c.jsx("option",{value:_.user||_.name,children:_.user||_.name},_.name))]}),g&&c.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"details",children:"Description"}),c.jsx("textarea",{id:"details",value:a.details,onChange:_=>b("details",_.target.value),placeholder:"Phase description, objectives, and key deliverables...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]}),f&&c.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:c.jsx("p",{className:"text-sm text-red-600",children:f.message||"Failed to create project phase. Please try again."})}),c.jsxs(Es,{children:[c.jsx(qe,{type:"button",variant:"outline",onClick:w,disabled:d,children:"Cancel"}),c.jsxs(qe,{type:"submit",disabled:d||!a.subject.trim(),className:"flex items-center gap-2",children:[d&&c.jsx(S0,{className:"h-4 w-4 animate-spin"}),"Create Phase"]})]})]})]})})},NF=({isOpen:e,onClose:t,projectName:n,onSuccess:s})=>{const[a,o]=N.useState({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),{createDoc:l,loading:d,error:f}=Li(),h=g=>ve(null,null,function*(){if(g.preventDefault(),!!a.subject.trim())try{yield l("Task",{subject:a.subject,description:a.description,priority:a.priority,exp_start_date:a.exp_start_date||null,exp_end_date:a.exp_end_date||null,status:a.status,project:n,is_template:0,progress:0}),o({subject:"",description:"",priority:"Medium",exp_start_date:"",exp_end_date:"",status:"Open"}),s==null||s(),t()}catch(b){console.error("Error creating standalone task:",b)}}),p=(g,b)=>{o(y=>me(L({},y),{[g]:b}))};return c.jsx(cs,{open:e,onOpenChange:t,children:c.jsxs(us,{className:"sm:max-w-[500px]",children:[c.jsx(ds,{children:c.jsx(fs,{className:"flex items-center justify-between",children:"Create Standalone Task"})}),c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"subject",children:"Task Subject *"}),c.jsx(Bt,{id:"subject",value:a.subject,onChange:g=>p("subject",g.target.value),placeholder:"Enter task subject",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"description",children:"Description"}),c.jsx("textarea",{id:"description",value:a.description,onChange:g=>p("description",g.target.value),placeholder:"Enter task description (optional)",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"priority",children:"Priority"}),c.jsxs("select",{id:"priority",value:a.priority,onChange:g=>p("priority",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"status",children:"Status"}),c.jsxs("select",{id:"status",value:a.status,onChange:g=>p("status",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Working",children:"Working"}),c.jsx("option",{value:"Pending Review",children:"Pending Review"}),c.jsx("option",{value:"Overdue",children:"Overdue"}),c.jsx("option",{value:"Template",children:"Template"}),c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"exp_start_date",children:"Expected Start Date"}),c.jsx(Bt,{id:"exp_start_date",type:"date",value:a.exp_start_date,onChange:g=>p("exp_start_date",g.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"exp_end_date",children:"Expected End Date"}),c.jsx(Bt,{id:"exp_end_date",type:"date",value:a.exp_end_date,onChange:g=>p("exp_end_date",g.target.value)})]})]}),f&&c.jsxs("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",children:["Error creating task: ",f.message]}),c.jsxs(Es,{children:[c.jsx(qe,{type:"button",variant:"outline",onClick:t,disabled:d,children:"Cancel"}),c.jsx(qe,{type:"submit",disabled:d||!a.subject.trim(),children:d?"Creating...":"Create Task"})]})]})]})})},EF=(e,t)=>{const n=s=>ve(null,null,function*(){try{console.log(`Task ${s} changed, updating affected phase progress...`);const a=yield fetch(`/api/resource/Task/${s}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(a.ok&&(yield a.json()).data.project===e){console.log(`Task ${s} belongs to current project ${e}, finding affected phases...`);const d=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name"],filters:[["project","=",e]]})});if(d.ok){const h=(yield d.json()).message||[];for(const p of h)try{const g=yield fetch(`/api/resource/project_phase/${p.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(g.ok){const y=(yield g.json()).data;y.tasks&&y.tasks.some(w=>w.task===s)&&(console.log(`Updating progress for phase ${p.name} containing task ${s}`),yield vL(p.name),t&&t())}}catch(g){console.error(`Error updating progress for phase ${p.name}:`,g)}}}}catch(a){console.error("Error in triggerPhaseProgressUpdate:",a)}});return N.useEffect(()=>{const s=a=>{if(a.key==="task_progress_updated"&&a.newValue){const o=a.newValue;console.log(`Received task progress update signal for: ${o}`),n(o),localStorage.removeItem("task_progress_updated")}};return window.addEventListener("storage",s),()=>{window.removeEventListener("storage",s)}},[e,t]),{triggerPhaseProgressUpdate:n}},TF=({projectName:e,onViewPhaseDetails:t,onViewTaskDetails:n,onViewSubTaskDetails:s})=>{const[a,o]=N.useState(new Set),[l,d]=N.useState(new Set),[f,h]=N.useState(!1),[p,g]=N.useState(!1),[b,y]=N.useState([]),[w,_]=N.useState({visible:!1,text:"",x:0,y:0}),{data:S,isLoading:j,mutate:R}=vn("project_phase",{fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e]],orderBy:{field:"start_date",order:"asc"},limit:0});EF(e,()=>{console.log("Phase progress updated, refreshing UI..."),R()}),N.useEffect(()=>{S&&S.length>0?ve(null,null,function*(){const F=[];for(const Z of S)try{const ye=yield fetch(`/api/resource/project_phase/${Z.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(ye.ok){const de=yield ye.json();F.push(de.data)}else console.warn("Failed to fetch phase:",Z.name),F.push(Z)}catch(ye){console.error("Error fetching phase:",Z.name,ye),F.push(Z)}y(F)}):y([])},[S==null?void 0:S.length,S==null?void 0:S.map(G=>G.name).join(",")]);const{data:O,isLoading:C,mutate:A}=vn("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",e]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),k=(O==null?void 0:O.map(G=>G.name))||[],{data:B,isLoading:z,mutate:q}=vn("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:k.length>0?[["task","in",k]]:[["task","=","dummy-non-existent-task"]],orderBy:{field:"start_date",order:"asc"},limit:0}),ne=G=>{const F=new Set(a);F.has(G)?F.delete(G):F.add(G),o(F)},I=G=>{const F=new Set(l);F.has(G)?F.delete(G):F.add(G),d(F)};N.useEffect(()=>{const G=()=>{document.hidden||(console.log("Tab became visible, refreshing all data (phases, tasks, subtasks)..."),R(),A(),q())};return document.addEventListener("visibilitychange",G),()=>{document.removeEventListener("visibilitychange",G)}},[R,A,q]);const te=G=>null,le=G=>{switch(G){case"Completed":return"bg-green-100 text-green-800";case"Working":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},pe=G=>{switch(G){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},Q=(G,F)=>{if(G.length>30){const Z=F.currentTarget.getBoundingClientRect(),ye=document.querySelector(".bg-white.border.border-gray-200.rounded-lg"),de=ye==null?void 0:ye.getBoundingClientRect();_({visible:!0,text:G,x:de?de.left+24:50,y:Z.top-8})}},$=()=>{_({visible:!1,text:"",x:0,y:0})},J=(G,F,Z,ye=!1,de=!1,Oe)=>{let Ae="0.75rem";Z==="phase-task"||Z==="task"&&F===1?Ae="2rem":Z==="subtask"&&(Ae="3.5rem");const He=Z==="phase"||Z==="task"&&ye||Z==="phase-task"&&ye,Pe=G.subject||G.name,et=G.status||"Open",We=G.progress||0,ft=ot=>{ot.preventDefault(),ot.stopPropagation(),Oe&&Oe()},ze=ot=>{ot.preventDefault(),ot.stopPropagation(),Z==="phase"&&t?t(G):(Z==="task"||Z==="phase-task")&&n?n(G):Z==="subtask"&&s&&s(G)},_t=ot=>{ot.preventDefault(),ot.stopPropagation(),ye&&Oe&&Oe()};let Ft="hover:bg-gray-50",bt="";return Z==="phase"||Z==="task"?(Ft="bg-white hover:bg-gray-50",bt=""):Z==="phase-task"?(Ft="bg-green-50/20 hover:bg-green-50",bt="border-l-2 border-l-green-200"):Z==="subtask"&&(Ft="bg-yellow-50/20 hover:bg-yellow-50",bt="border-l-2 border-l-yellow-200"),c.jsx("div",{className:`${Ft} ${bt} transition-colors`,children:c.jsxs("div",{className:"grid grid-cols-12 gap-4 py-3 px-6 border-b border-gray-100 items-center cursor-pointer",onClick:_t,onDoubleClick:ze,children:[c.jsxs("div",{className:"col-span-5 flex items-center",style:{paddingLeft:Ae},children:[He&&c.jsx("button",{className:"mr-2 p-1 hover:bg-gray-100 rounded transition-colors flex-shrink-0",onClick:ft,type:"button","aria-label":de?"Collapse":"Expand",children:de?c.jsx(p2,{className:"h-4 w-4 text-gray-600"}):c.jsx(OD,{className:"h-4 w-4 text-gray-600"})}),!He&&c.jsx("div",{className:"mr-2 p-1 flex-shrink-0 w-6 h-6"}),te(),c.jsxs("div",{className:"ml-1 flex-1 min-w-0",children:[c.jsx("div",{className:`font-medium truncate ${Z==="phase"?"text-blue-900 text-lg":Z==="task"?"text-orange-900":Z==="phase-task"?"text-green-900":"text-gray-700"}`,onMouseEnter:ot=>Q(Pe,ot),onMouseLeave:$,title:Pe.length>30?Pe:void 0,children:Pe}),G.description&&Z==="subtask"&&c.jsx("p",{className:"text-sm text-gray-500 mt-1 truncate",onMouseEnter:ot=>Q(G.description,ot),onMouseLeave:$,title:G.description.length>50?G.description:void 0,children:G.description}),G.details&&Z==="phase"&&c.jsx("p",{className:"text-sm text-gray-600 mt-1 truncate",onMouseEnter:ot=>Q(G.details,ot),onMouseLeave:$,title:G.details.length>50?G.details:void 0,children:G.details})]})]}),c.jsx("div",{className:"col-span-2 text-center",children:c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${le(et)}`,children:et})}),c.jsx("div",{className:"col-span-2 text-center",children:G.priority&&c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${pe(G.priority)}`,children:G.priority})}),c.jsxs("div",{className:"col-span-3 flex items-center justify-start space-x-2",children:[Z!=="subtask"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`${Z==="phase"?"w-20":"w-16"} bg-gray-200 rounded-full h-2`,children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${We}%`}})}),c.jsxs("span",{className:"text-sm text-gray-600 w-12 text-left flex-shrink-0",children:[We,"%"]})]}),c.jsxs("div",{className:"ml-auto",children:[Z==="phase"&&t&&c.jsx(qe,{variant:"outline",size:"sm",onClick:ot=>{ot.preventDefault(),ot.stopPropagation(),t(G)},className:"h-7 px-2 text-xs",children:"View Details"}),(Z==="task"||Z==="phase-task")&&n&&c.jsx(qe,{variant:"outline",size:"sm",onClick:ot=>{ot.preventDefault(),ot.stopPropagation(),n(G)},className:"h-7 px-2 text-xs",children:"View Details"}),Z==="subtask"&&s&&c.jsx(qe,{variant:"outline",size:"sm",onClick:ot=>{ot.preventDefault(),ot.stopPropagation(),s(G)},className:"h-7 px-2 text-xs",children:"View Details"})]})]})]})},`${Z}-${G.name}`)};if(j||C||z)return c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"})]});const K=b.length>0?b:S||[],he=O||[],M=B||[],ae=G=>M.filter(F=>F.task===G);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Tasks & Phases"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(qe,{size:"sm",variant:"outline",className:"flex items-center gap-2",onClick:()=>g(!0),children:[c.jsx(Ai,{className:"h-4 w-4"}),"Add Task"]}),c.jsxs(qe,{size:"sm",className:"flex items-center gap-2",onClick:()=>h(!0),children:[c.jsx(Ai,{className:"h-4 w-4"}),"Add Phase"]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[c.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 grid grid-cols-12 gap-4 text-sm font-medium text-gray-700",children:[c.jsx("div",{className:"col-span-5",children:"Task / Phase"}),c.jsx("div",{className:"col-span-2 text-center",children:"Status"}),c.jsx("div",{className:"col-span-2 text-center",children:"Priority"}),c.jsx("div",{className:"col-span-3 text-left",children:"Progress"})]}),c.jsxs("div",{className:"divide-y divide-gray-100",children:[K.map(G=>{const F=a.has(G.name),Z=G.tasks||[];return c.jsxs("div",{children:[J(G,0,"phase",Z.length>0,F,()=>{ne(G.name)}),F&&Z.map((ye,de)=>{const Oe=he.find(et=>et.name===ye.task),Ae=ae(ye.task),He=Ae.length>0,Pe=l.has(ye.task);if(!Oe){const et={name:ye.task,subject:ye.task,status:"Open"};return c.jsxs("div",{children:[J(et,1,"phase-task",He,Pe,He?()=>{I(ye.task)}:void 0),Pe&&He&&Ae.map((We,ft)=>c.jsx("div",{children:J(We,2,"subtask",!1,!1)},`subtask-${ft}`))]},`phase-task-${de}`)}return c.jsxs("div",{children:[J(Oe,1,"phase-task",He,Pe,He?()=>{I(Oe.name)}:void 0),Pe&&He&&Ae.map((et,We)=>c.jsx("div",{children:J(et,2,"subtask",!1,!1)},`subtask-${We}`))]},`phase-task-${de}`)})]},G.name)}),K.length>0&&he.filter(G=>!K.some(Z=>{var ye;return(ye=Z.tasks)==null?void 0:ye.some(de=>de.task===G.name)})).length>0&&c.jsx("div",{className:"bg-gray-100 px-6 py-2 border-b border-gray-200",children:c.jsxs("div",{className:"text-sm font-medium text-gray-600 flex items-center",children:[c.jsx("span",{className:"mr-2",children:"📝"}),"Standalone Tasks"]})}),he.filter(G=>!K.some(Z=>{var ye;return(ye=Z.tasks)==null?void 0:ye.some(de=>de.task===G.name)})).map(G=>{const F=l.has(G.name),Z=ae(G.name),ye=Z.length>0;return c.jsxs("div",{children:[J(G,1,"task",ye,F,ye?()=>{I(G.name)}:void 0),F&&ye&&Z.map((de,Oe)=>c.jsx("div",{children:J(de,2,"subtask",!1,!1)},`standalone-subtask-${Oe}`))]},G.name)})]})]}),K.length===0&&he.length===0&&c.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:c.jsxs("div",{className:"max-w-md mx-auto",children:[c.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📋"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No phases or tasks yet"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Start organizing your project by creating phases and tasks."}),c.jsxs("div",{className:"flex gap-3 justify-center",children:[c.jsx(qe,{onClick:()=>h(!0),children:"Create First Phase"}),c.jsx(qe,{variant:"outline",onClick:()=>g(!0),children:"Create Task"})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:[c.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:K.length}),c.jsx("div",{className:"text-sm text-blue-600",children:"Total Phases"})]}),c.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:he.length}),c.jsx("div",{className:"text-sm text-green-600",children:"Total Tasks"})]}),c.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-purple-600",children:M.length}),c.jsx("div",{className:"text-sm text-purple-600",children:"Total Subtasks"})]})]}),c.jsx(SF,{isOpen:f,onClose:()=>h(!1),projectName:e,onSuccess:()=>{R()}}),c.jsx(NF,{isOpen:p,onClose:()=>g(!1),projectName:e,onSuccess:()=>{A()}}),w.visible&&c.jsxs("div",{className:"fixed z-50 bg-gray-900 text-white text-sm px-4 py-2 rounded-lg shadow-xl pointer-events-none border border-gray-700",style:{left:w.x,top:w.y,transform:"translateY(-100%)",maxWidth:"400px",minWidth:"200px",wordWrap:"break-word"},children:[c.jsx("div",{className:"font-medium leading-relaxed",children:w.text}),c.jsx("div",{className:"absolute top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900",style:{left:"20px"}})]})]})},kF=({isOpen:e,onClose:t,projectName:n,phaseId:s,onSuccess:a})=>{const[o,l]=N.useState({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),[d,f]=N.useState({}),[h,p]=N.useState(!1),{createTaskWithPhase:g,isLoading:b}=dL(),{data:y,isLoading:w}=sc(n),{data:_}=Tn("Project",n),S=(C,A)=>{l(k=>me(L({},k),{[C]:A})),d[C]&&f(k=>me(L({},k),{[C]:""}))},j=()=>{const C={};return o.subject.trim()||(C.subject="Task subject is required"),f(C),Object.keys(C).length===0},R=C=>ve(null,null,function*(){if(C.preventDefault(),!h&&j()){if(o.exp_start_date&&o.exp_end_date){const A=new Date(o.exp_start_date);if(new Date(o.exp_end_date)<A){Nn.error("End date cannot be earlier than start date");return}}if(o.exp_end_date&&(_!=null&&_.expected_end_date)){const A=new Date(o.exp_end_date),k=new Date(_.expected_end_date);if(A>k){Nn.error(`Task end date cannot be after project end date (${_.expected_end_date})`);return}}p(!0);try{const A=me(L({},o),{project:n,expected_time:Number(o.expected_time),task_weight:Number(o.task_weight),exp_start_date:o.exp_start_date||void 0,exp_end_date:o.exp_end_date||void 0,phaseId:s,assign_to:o.assign_to||void 0});console.log("Creating task with data:",A),console.log("Date fields:",{exp_start_date:o.exp_start_date,exp_end_date:o.exp_end_date});const k=yield g(A);console.log("Task with phase created:",k);let B=`Task "${o.subject}" has been created successfully.`;k.todo&&o.assign_to&&(console.log("Task assigned and ToDo created for:",o.assign_to),B+=` Task has been assigned to ${o.assign_to}.`),Nn.success("Task created successfully",{description:B}),l({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),f({}),a&&a(),t()}catch(A){console.error("Error creating task:",A);let k="Failed to create task. Please try again.";A!=null&&A.message&&(A.message.includes("Expected End Date cannot be after Project")?k="Task end date cannot be after the project end date. Please choose an earlier date.":A.message.includes("InvalidDates")?k="Invalid date configuration. Please check your task dates.":k=A.message),A!=null&&A.exception&&typeof A.exception=="string"&&A.exception.includes("Expected End Date cannot be after Project")&&(k="Task end date cannot be after the project end date. Please choose an earlier date."),Nn.error("Failed to create task",{description:k}),f({submit:k})}finally{p(!1)}}}),O=()=>{l({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),f({}),t()};return c.jsx(cs,{open:e,onOpenChange:O,children:c.jsxs(us,{className:"sm:max-w-[600px]",children:[c.jsxs(ds,{children:[c.jsxs(fs,{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:"📝"}),"Create New Task"]}),c.jsxs(Co,{children:["Create a new task for project: ",c.jsx("strong",{children:n}),s&&c.jsxs(c.Fragment,{children:[c.jsx("br",{}),c.jsx("span",{className:"text-blue-600",children:"🔗 This task will be linked to the current phase"})]}),c.jsx("br",{}),c.jsx("span",{className:"text-gray-600",children:"💡 Assigning to a user will automatically create a ToDo item for them"})]})]}),c.jsxs("form",{onSubmit:R,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(Fe,{htmlFor:"subject",children:"Task Subject *"}),c.jsx(Bt,{id:"subject",value:o.subject,onChange:C=>S("subject",C.target.value),placeholder:"Enter task subject...",className:d.subject?"border-red-500":""}),d.subject&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(Fe,{htmlFor:"description",children:"Description"}),c.jsx("textarea",{id:"description",value:o.description,onChange:C=>S("description",C.target.value),placeholder:"Enter task description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(Fe,{htmlFor:"priority",children:"Priority"}),c.jsxs("select",{id:"priority",value:o.priority,onChange:C=>S("priority",C.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(Fe,{htmlFor:"status",children:"Status"}),c.jsxs("select",{id:"status",value:o.status,onChange:C=>S("status",C.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Working",children:"Working"}),c.jsx("option",{value:"Overdue",children:"Overdue"}),c.jsx("option",{value:"Pending Review",children:"Pending Review"}),c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(Fe,{htmlFor:"assign_to",children:"Assign To"}),c.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:C=>S("assign_to",C.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",disabled:w,children:[c.jsx("option",{value:"",children:"Select user to assign (Optional)"}),y==null?void 0:y.map(C=>c.jsxs("option",{value:C.user||C.name,children:[C.full_name||C.name,C.email&&` (${C.email})`]},C.user||C.name))]}),w&&c.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!w&&y&&y.length>10&&c.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(Fe,{htmlFor:"expected_time",children:"Expected Time (hours)"}),c.jsx(Bt,{id:"expected_time",type:"number",min:"0",step:"0.5",value:o.expected_time,onChange:C=>S("expected_time",Number(C.target.value)),placeholder:"0"})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(Fe,{htmlFor:"task_weight",children:"Task Weight"}),c.jsx(Bt,{id:"task_weight",type:"number",min:"1",value:o.task_weight,onChange:C=>S("task_weight",Number(C.target.value)),placeholder:"1"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"exp_start_date",children:"Expected Start Date"}),c.jsx(Bt,{id:"exp_start_date",type:"date",value:o.exp_start_date,onChange:C=>S("exp_start_date",C.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"exp_end_date",children:"Expected End Date"}),c.jsx(Bt,{id:"exp_end_date",type:"date",value:o.exp_end_date,onChange:C=>S("exp_end_date",C.target.value),max:(_==null?void 0:_.expected_end_date)||void 0}),(_==null?void 0:_.expected_end_date)&&c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",_.expected_end_date]})]})]})]}),d.submit&&c.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),c.jsxs(Es,{children:[c.jsx(qe,{type:"button",variant:"outline",onClick:O,children:"Cancel"}),c.jsx(qe,{type:"submit",disabled:b||h,children:b||h?"Creating...":"Create Task"})]})]})]})})},CF=({phase:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var B;const{updatePhase:o,isLoading:l,error:d}=mL(),{assignPhase:f,unassignPhase:h}=kN(),{currentUser:p}=ua(),{data:g,isLoading:b}=sc(t),{data:y}=Tn("Project",t||"",t?"Project":void 0),w=(y==null?void 0:y.users)||[],{data:_}=vn("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","project_phase"],["reference_name","=",(e==null?void 0:e.name)||""]]}),S=()=>{if(p==="Administrator"||(y==null?void 0:y.owner)===p)return!0;const z=w.find(q=>q.user===p);return(z==null?void 0:z.project_status)==="Project Manager (Owner Substitute)"},[j,R]=N.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,details:"",costing:0,assign_to:""}),O=((B=_==null?void 0:_[0])==null?void 0:B.allocated_to)||"";N.useEffect(()=>{e&&R({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:O})},[e,O]);const C=(z,q)=>{R(ne=>me(L({},ne),{[z]:q}))},A=z=>ve(null,null,function*(){if(z.preventDefault(),!!e){if(j.status==="Completed"&&!S()){Nn.error("Permission denied",{description:"You don't have permission to mark this phase as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}try{const q=j,{assign_to:ne}=q,I=Le(q,["assign_to"]);yield o(e.name,I);const te=O,le=ne;if(te&&te!==le){const pe=_==null?void 0:_.find(Q=>Q.allocated_to===te);pe&&(yield h(pe.name))}le&&le!==te&&(yield f(e.name,le)),Nn.success("Phase updated successfully",{description:`Phase "${j.subject}" has been updated.`}),a&&a(),s()}catch(ne){console.error("Error updating phase:",ne),Nn.error("Failed to update phase",{description:ne instanceof Error?ne.message:"An unexpected error occurred."})}}}),k=()=>{e&&R({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:O}),s()};return c.jsx(cs,{open:n,onOpenChange:s,children:c.jsxs(us,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[c.jsx(ds,{children:c.jsx(fs,{children:"Edit Phase"})}),c.jsxs("form",{onSubmit:A,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"subject",children:"Subject *"}),c.jsx(Bt,{id:"subject",value:j.subject,onChange:z=>C("subject",z.target.value),required:!0,placeholder:"Enter phase subject"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"status",children:"Status"}),c.jsxs("select",{id:"status",value:j.status,onChange:z=>C("status",z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Working",children:"Working"}),c.jsx("option",{value:"Pending Review",children:"Pending Review"}),S()&&c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),!S()&&c.jsx("span",{className:"text-xs text-amber-600",children:"You don't have permission to mark Completed"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"priority",children:"Priority"}),c.jsxs("select",{id:"priority",value:j.priority,onChange:z=>C("priority",z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Critical",children:"Critical"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"start_date",children:"Start Date"}),c.jsx(Bt,{id:"start_date",type:"date",value:j.start_date,onChange:z=>C("start_date",z.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"end_date",children:"End Date"}),c.jsx(Bt,{id:"end_date",type:"date",value:j.end_date,onChange:z=>C("end_date",z.target.value)})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"progress",children:"Progress (%)"}),c.jsx(Bt,{id:"progress",type:"number",min:"0",max:"100",value:j.progress,onChange:z=>C("progress",parseInt(z.target.value)||0),placeholder:"0"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"costing",children:"Costing"}),c.jsx(Bt,{id:"costing",type:"number",min:"0",step:"0.01",value:j.costing,onChange:z=>C("costing",parseFloat(z.target.value)||0),placeholder:"0.00"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"details",children:"Details"}),c.jsx("textarea",{id:"details",value:j.details,onChange:z=>C("details",z.target.value),placeholder:"Enter phase details",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"assign_to",children:"Assign To"}),c.jsxs("select",{id:"assign_to",value:j.assign_to,onChange:z=>C("assign_to",z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,children:[c.jsx("option",{value:"",children:"Select user..."}),g==null?void 0:g.map(z=>c.jsx("option",{value:z.user||z.name,children:z.user||z.name},z.name))]}),b&&c.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update phase"]})}),c.jsxs(Es,{className:"flex gap-2",children:[c.jsx(qe,{type:"button",variant:"outline",onClick:k,children:"Cancel"}),c.jsx(qe,{type:"submit",disabled:l,children:l?"Updating...":"Update Phase"})]})]})]})})},AF=({phase:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:o,error:l}=os("frappe.client.delete"),d=()=>ve(null,null,function*(){if(e)try{yield a({doctype:"project_phase",name:e.name}),s&&s(),n()}catch(h){console.error("Error deleting phase:",h)}}),f=()=>{n()};return c.jsx(cs,{open:t,onOpenChange:n,children:c.jsxs(us,{className:"sm:max-w-[400px]",children:[c.jsx(ds,{children:c.jsxs(fs,{className:"flex items-center gap-2 text-red-600",children:[c.jsx(Xh,{className:"h-5 w-5"}),"Delete Phase"]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this phase? This action cannot be undone."}),e&&c.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[c.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]})]}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[c.jsxs("div",{className:"text-sm text-red-800",children:[c.jsx("strong",{children:"Warning:"})," Deleting this phase will also remove:"]}),c.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[c.jsx("li",{children:"All tasks associated with this phase"}),c.jsx("li",{children:"All phase progress data"}),c.jsx("li",{children:"Phase timeline and milestones"}),c.jsx("li",{children:"Related documents and attachments"})]})]}),l&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete phase"]})})]}),c.jsxs(Es,{className:"flex gap-2",children:[c.jsx(qe,{type:"button",variant:"outline",onClick:f,children:"Cancel"}),c.jsx(qe,{type:"button",variant:"destructive",onClick:d,disabled:o,children:o?"Deleting...":"Delete Phase"})]})]})})},OF=({phase:e,projectName:t,onBack:n,onViewTaskDetails:s,onPhaseUpdated:a,onPhaseDeleted:o,onTaskCreated:l})=>{var K;const[d,f]=N.useState(!1),[h,p]=N.useState(!1),[g,b]=N.useState(!1),[y,w]=N.useState(!1),[_,S]=N.useState(!1),{calculateAndUpdatePhaseProgress:j}=ON(),{data:R,mutate:O}=Tn("project_phase",e.name,"project_phase"),C=R||e,{data:A,isLoading:k,mutate:B}=vn("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",t]],orderBy:{field:"exp_start_date",order:"asc"},limit:0}),z=ee.useMemo(()=>{if(!A)return[];if(C.tasks&&C.tasks.length>0){const he=C.tasks.map(M=>M.task);return A.filter(M=>he.includes(M.name))}return[]},[A,C.tasks]),q=ee.useMemo(()=>{if(!z||z.length===0)return 0;const he=z.reduce((M,ae)=>M+(ae.progress||0),0);return Math.round(he/z.length)},[z]);N.useEffect(()=>{z.length>0&&q!==(C.progress||0)&&ne()},[q,z.length]);const ne=()=>ve(null,null,function*(){w(!0);try{yield j(e.name),yield O(),a&&a()}catch(he){console.error("Error recalculating phase progress:",he)}finally{w(!1)}}),I=he=>he?new Date(he).toLocaleDateString():"N/A",te=he=>he?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(he):"$0",le=he=>{switch(he){case"Completed":return c.jsx(Nx,{className:"h-5 w-5 text-green-600"});case"Working":return c.jsx(Ql,{className:"h-5 w-5 text-yellow-600"});case"Open":return c.jsx(Il,{className:"h-5 w-5 text-blue-600"});default:return c.jsx(Il,{className:"h-5 w-5 text-gray-400"})}},pe=he=>{switch(he){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Q=he=>{switch(he){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},$=()=>ve(null,null,function*(){S(!0);try{yield O(),yield B(),a&&(yield a()),setTimeout(()=>ve(null,null,function*(){w(!0);try{yield j(C.name),setTimeout(()=>ve(null,null,function*(){yield O()}),500)}catch(he){console.error("Error recalculating phase progress:",he)}finally{w(!1)}}),500)}finally{S(!1)}}),J=()=>{o&&o(),n()};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(qe,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[c.jsx(Sx,{className:"h-4 w-4"}),"Back to Tasks"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>p(!0),disabled:_||y,className:"flex items-center gap-2",children:[c.jsx(Bl,{className:`h-4 w-4 ${_?"animate-pulse":""}`}),_?"Updating...":"Edit Phase"]}),c.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[c.jsx(Ao,{className:"h-4 w-4"}),"Delete Phase"]})]})]}),c.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500 flex items-center justify-center",children:c.jsx("span",{className:"text-xl",children:"📋"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:C.subject}),c.jsx("p",{className:"text-sm text-gray-600",children:"Phase Details"})]})]}),C.details&&c.jsx("p",{className:"text-gray-700 leading-relaxed",children:C.details})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${pe(C.status||"Open")}`,children:[le(C.status||"Open"),c.jsx("span",{className:"font-medium",children:C.status||"Open"})]}),C.priority&&c.jsx("div",{className:`px-3 py-1 rounded-full border ${Q(C.priority)}`,children:c.jsx("span",{className:"text-sm font-medium",children:C.priority})})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phase Progress"}),z.length>0&&c.jsxs("span",{className:"text-xs text-gray-500",children:["(Auto-calculated from ",z.length," tasks)"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[q,"%"]}),c.jsx(qe,{variant:"ghost",size:"sm",onClick:ne,disabled:y,className:"h-8 w-8 p-0",title:"Recalculate progress from tasks",children:c.jsx(g2,{className:`h-4 w-4 ${y?"animate-spin":""}`})})]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${q}%`}})}),z.length>0&&c.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Task progress: ",z.map(he=>`${he.subject}: ${he.progress||0}%`).join(", ")]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:c.jsx(_r,{className:"h-6 w-6 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:I(C.start_date)})]})]})}),c.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:c.jsx(kx,{className:"h-6 w-6 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:I(C.end_date)})]})]})}),c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:c.jsx(Ex,{className:"h-6 w-6 text-green-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Estimated Cost"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:te(C.costing)})]})]})})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Phase Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Phase ID"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:C.name})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),c.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${pe(C.status||"Open")}`,children:[le(C.status||"Open"),c.jsx("span",{className:"font-medium",children:C.status||"Open"})]})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),c.jsx("div",{className:`px-3 py-1 rounded-full ${Q(C.priority||"Medium")}`,children:c.jsx("span",{className:"font-medium",children:C.priority||"Medium"})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Tasks Count"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:((K=C.tasks)==null?void 0:K.length)||0})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:C.start_date&&C.end_date?`${Math.ceil((new Date(C.end_date).getTime()-new Date(C.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[q,"%"]}),z.length>0&&c.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",z.length," tasks)"]})]})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Estimated Cost"}),c.jsx("span",{className:"text-xl font-bold text-green-600",children:te(e.costing)})]})]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Tasks in this Phase"})}),k?c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):c.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[c.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[c.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),c.jsx("div",{className:"col-span-4 text-sm font-medium text-gray-700",children:"Task"}),c.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Progress"}),c.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),c.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700 text-center",children:"Priority"}),c.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),c.jsxs("div",{className:"divide-y divide-gray-100",children:[z&&z.length>0?z.map((he,M)=>c.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"col-span-1 flex items-center",children:c.jsx("span",{className:"text-sm text-gray-600",children:M+1})}),c.jsxs("div",{className:"col-span-4 flex items-center gap-3",children:[c.jsx("div",{className:"p-1 bg-orange-100 rounded",children:c.jsx("span",{className:"text-sm",children:"📝"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:he.subject||he.name}),c.jsx("div",{className:"text-sm text-gray-500",children:he.name})]})]}),c.jsx("div",{className:"col-span-2 flex items-center justify-center",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${he.progress||0}%`}})}),c.jsxs("span",{className:"text-sm font-medium text-gray-700 min-w-[30px]",children:[he.progress||0,"%"]})]})}),c.jsx("div",{className:"col-span-2 flex items-center justify-center",children:c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${pe(he.status||"Open")}`,children:he.status||"Open"})}),c.jsx("div",{className:"col-span-1 flex items-center justify-center",children:he.priority&&c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Q(he.priority)}`,children:he.priority})}),c.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&c.jsx(qe,{variant:"outline",size:"sm",onClick:()=>s(he),className:"h-7 px-2 text-xs",children:"View Details"})})]},he.name)):c.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[c.jsx("div",{className:"text-4xl mb-2",children:"📝"}),c.jsx("div",{className:"text-lg font-medium mb-1",children:"No tasks yet"}),c.jsx("div",{className:"text-sm",children:'Click "Add Task" to create the first task for this phase'})]}),c.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:c.jsx("div",{className:"col-span-12 flex items-center justify-center",children:c.jsxs(qe,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>f(!0),children:[c.jsx(Ai,{className:"h-4 w-4"}),"Add new task to this phase"]})})})]})]})]}),c.jsx(lm,{doctype:"project_phase",docname:e.name,title:"Phase Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),c.jsx(kF,{isOpen:d,onClose:()=>f(!1),projectName:t,phaseId:e.name,onSuccess:()=>ve(null,null,function*(){yield O(),l&&(yield l()),setTimeout(()=>ve(null,null,function*(){yield B(),setTimeout(()=>ve(null,null,function*(){yield ne()}),500)}),500)})}),c.jsx(CF,{phase:e,projectName:t,isOpen:h,onClose:()=>p(!1),onSuccess:$}),c.jsx(AF,{phase:e,isOpen:g,onClose:()=>b(!1),onSuccess:J})]})},RF=({isOpen:e,onClose:t,projectName:n,parentTask:s,onSuccess:a})=>{const[o,l]=N.useState({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),[d,f]=N.useState({}),{createDoc:h,loading:p}=Li(),{assignSubTask:g}=CN(),{calculateAndUpdateTaskProgress:b}=Zu(),{data:y,isLoading:w}=sc(n),_=(O,C)=>{l(A=>me(L({},A),{[O]:C})),d[O]&&f(A=>me(L({},A),{[O]:""}))},S=()=>{const O={};return o.subject.trim()||(O.subject="SubTask subject is required"),o.task.trim()||(O.task="Parent task is required"),f(O),Object.keys(O).length===0},j=O=>ve(null,null,function*(){if(O.preventDefault(),!!S())try{const C=o,{assign_to:A}=C,k=Le(C,["assign_to"]),B=yield h("SubTask",me(L({},k),{project:n}));if(A&&B&&(yield g(B.name,A)),s)try{yield b(s)}catch(z){console.error("Error updating task progress after subtask creation:",z)}l({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),f({}),a&&a(),t()}catch(A){console.error("Error creating subtask:",A),f({submit:"Failed to create subtask. Please try again."})}}),R=()=>{l({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),f({}),t()};return c.jsx(cs,{open:e,onOpenChange:R,children:c.jsxs(us,{className:"sm:max-w-[600px]",children:[c.jsxs(ds,{children:[c.jsxs(fs,{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:"📌"}),"Create New SubTask"]}),c.jsxs(Co,{children:["Create a new subtask for project: ",c.jsx("strong",{children:n}),s&&c.jsxs("span",{className:"block mt-1",children:["Parent Task: ",c.jsx("strong",{children:s})]})]})]}),c.jsxs("form",{onSubmit:j,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(Fe,{htmlFor:"subject",children:"SubTask Subject *"}),c.jsx(Bt,{id:"subject",value:o.subject,onChange:O=>_("subject",O.target.value),placeholder:"Enter subtask subject...",className:d.subject?"border-red-500":""}),d.subject&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(Fe,{htmlFor:"task",children:"Parent Task *"}),c.jsx(Bt,{id:"task",value:o.task,onChange:O=>_("task",O.target.value),placeholder:"Enter parent task ID...",className:d.task?"border-red-500":""}),d.task&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.task}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the Task ID that this subtask belongs to"})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(Fe,{htmlFor:"description",children:"Description"}),c.jsx("textarea",{id:"description",value:o.description,onChange:O=>_("description",O.target.value),placeholder:"Enter subtask description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"assign_to",children:"Assign To"}),c.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:O=>_("assign_to",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:w,children:[c.jsx("option",{value:"",children:"Select user..."}),y==null?void 0:y.map(O=>c.jsx("option",{value:O.user||O.name,children:O.user||O.name},O.name))]}),w&&c.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(Fe,{htmlFor:"priority",children:"Priority"}),c.jsxs("select",{id:"priority",value:o.priority,onChange:O=>_("priority",O.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"})]})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(Fe,{htmlFor:"status",children:"Status"}),c.jsxs("select",{id:"status",value:o.status,onChange:O=>_("status",O.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Working",children:"Working"}),c.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]}),d.submit&&c.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),c.jsxs(Es,{children:[c.jsx(qe,{type:"button",variant:"outline",onClick:R,children:"Cancel"}),c.jsx(qe,{type:"submit",disabled:p,children:p?"Creating...":"Create SubTask"})]})]})]})})},DF=({task:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{const{updateTask:o,isLoading:l,error:d}=fL(),{assignTask:f,unassignTask:h}=hL(),{updateTaskProgress:p}=bL(),{updateTaskProgressByStatus:g}=yL(),{currentUser:b}=ua(),{data:y,isLoading:w}=sc(t),{data:_}=Tn("Project",t),S=(_==null?void 0:_.users)||[],{data:j}=vn("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","Task"],["reference_name","=",(e==null?void 0:e.name)||""]]}),{data:R}=vn("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.name)||""]],limit:1}),O=()=>{if(b==="Administrator"||(_==null?void 0:_.owner)===b)return!0;const I=S.find(te=>te.user===b);return(I==null?void 0:I.project_status)==="Project Manager (Owner Substitute)"},[C,A]=N.useState({subject:"",status:"Open",priority:"Medium",exp_start_date:"",exp_end_date:"",progress:0,description:"",assign_to:""}),[k,B]=N.useState(!1);N.useEffect(()=>{var I;if(e){const te=((I=j==null?void 0:j[0])==null?void 0:I.allocated_to)||"";A({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:te})}},[e,j]),N.useEffect(()=>{B(!!(R&&R.length>0))},[R]);const z=(I,te)=>{A(le=>me(L({},le),{[I]:te}))},q=I=>ve(null,null,function*(){var te,le,pe;if(I.preventDefault(),!!e){if(C.status==="Completed"&&!O()){Nn.error("Permission denied",{description:"You don't have permission to mark this task as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}if(C.exp_start_date&&C.exp_end_date){const Q=new Date(C.exp_start_date);if(new Date(C.exp_end_date)<Q){Nn.error("End date cannot be earlier than start date");return}}if(C.exp_end_date&&(_!=null&&_.expected_end_date)){const Q=new Date(C.exp_end_date),$=new Date(_.expected_end_date);if(Q>$){Nn.error(`Task end date cannot be after project end date (${_.expected_end_date})`);return}}try{const Q=C.progress!==(e.progress||0),$=C.status!==e.status;k&&Q?yield p(e.name,C.progress):$&&(C.status==="Completed"||C.status==="Cancelled")?yield g(e.name,C.status):yield o(e.name,C);const J=((te=j==null?void 0:j[0])==null?void 0:te.allocated_to)||"",K=C.assign_to;if(J!==K){if(J&&(j!=null&&j[0]))try{yield h(j[0].name)}catch(he){console.error("Error deleting old ToDo:",he)}if(K)try{yield f(e.name,C.subject,K,C.priority)}catch(he){console.error("Error creating new ToDo:",he)}}Nn.success("Task updated successfully",{description:`Task "${C.subject}" has been updated.`}),a&&a(),s()}catch(Q){console.error("Error updating task:",Q);let $="Failed to update task";(le=Q==null?void 0:Q.message)!=null&&le.includes("modified")?$="The task has been modified by someone else. Please close and reopen the task to get the latest version.":(pe=Q==null?void 0:Q.message)!=null&&pe.includes("permission")?$="You do not have permission to update this task.":Q!=null&&Q.message&&($=Q.message),Nn.error("Failed to update task",{description:$})}}}),ne=()=>{var I;if(e){const te=((I=j==null?void 0:j[0])==null?void 0:I.allocated_to)||"";A({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:te})}s()};return c.jsx(cs,{open:n,onOpenChange:s,children:c.jsxs(us,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[c.jsx(ds,{children:c.jsx(fs,{children:"Edit Task"})}),c.jsxs("form",{onSubmit:q,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"subject",children:"Subject *"}),c.jsx(Bt,{id:"subject",value:C.subject,onChange:I=>z("subject",I.target.value),required:!0,placeholder:"Enter task subject"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"status",children:"Status"}),c.jsxs("select",{id:"status",value:C.status,onChange:I=>z("status",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Working",children:"Working"}),c.jsx("option",{value:"Pending Review",children:"Pending Review"}),c.jsx("option",{value:"Overdue",children:"Overdue"}),c.jsx("option",{value:"Template",children:"Template"}),O()&&c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),!O()&&c.jsx("span",{className:"text-xs text-amber-600",children:"You don't have permission to mark Completed"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"priority",children:"Priority"}),c.jsxs("select",{id:"priority",value:C.priority,onChange:I=>z("priority",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"assign_to",children:"Assign To"}),c.jsxs("select",{id:"assign_to",value:C.assign_to,onChange:I=>z("assign_to",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:w,children:[c.jsx("option",{value:"",children:"Select user to assign (Optional)"}),y==null?void 0:y.map(I=>c.jsxs("option",{value:I.user||I.name,children:[I.full_name||I.name,I.email&&` (${I.email})`]},I.user||I.name))]}),w&&c.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!w&&y&&y.length>10&&c.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"}),j&&j.length>0&&c.jsx("p",{className:"text-sm text-blue-600",children:"💡 Changing assignment will update the ToDo automatically"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"exp_start_date",children:"Expected Start Date"}),c.jsx(Bt,{id:"exp_start_date",type:"date",value:C.exp_start_date,onChange:I=>z("exp_start_date",I.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"exp_end_date",children:"Expected End Date"}),c.jsx(Bt,{id:"exp_end_date",type:"date",value:C.exp_end_date,onChange:I=>z("exp_end_date",I.target.value),max:(_==null?void 0:_.expected_end_date)||void 0}),(_==null?void 0:_.expected_end_date)&&c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",_.expected_end_date]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"progress",children:"Progress (%)"}),c.jsx(Bt,{id:"progress",type:"number",min:"0",max:"100",value:C.progress,onChange:I=>z("progress",parseInt(I.target.value)||0),placeholder:"0",disabled:k}),k?c.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[c.jsx("strong",{children:"🔄 Smart Progress Mode:"}),c.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[c.jsx("li",{children:"Progress is automatically calculated from subtasks"}),c.jsx("li",{children:"Only assignee can manually override progress"}),c.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):c.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[c.jsx("strong",{children:"✏️ Manual Progress Mode:"}),c.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"description",children:"Description"}),c.jsx("textarea",{id:"description",value:C.description,onChange:I=>z("description",I.target.value),placeholder:"Enter task description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),d&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update task"]})}),c.jsxs(Es,{className:"flex gap-2",children:[c.jsx(qe,{type:"button",variant:"outline",onClick:ne,children:"Cancel"}),c.jsx(qe,{type:"submit",disabled:l,children:l?"Updating...":"Update Task"})]})]})]})})},MF=({task:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteDoc:a,loading:o,error:l}=Vh(),[d,f]=N.useState(!1),h=()=>ve(null,null,function*(){var g,b;if(e){f(!0);try{const y=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name"],filters:[["task","=",e.name]]})});if(y.ok){const _=(yield y.json()).message||[];if(_.length>0)for(const S of _)yield a("SubTask",S.name)}try{const w=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e.project]],orderBy:{field:"start_date",order:"asc"}})});if(w.ok){const S=(yield w.json()).message||[],j=[];for(const R of S)try{const O=yield fetch(`/api/resource/project_phase/${R.name}`,{headers:{Accept:"application/json"}});if(O.ok){const C=yield O.json(),A=((g=C.data)==null?void 0:g.tasks)||[],k=A.findIndex(B=>B.task===e.name);k>=0&&(console.log(`Found task ${e.name} in phase ${R.name}, will remove from child table...`),A.splice(k,1),j.push({name:R.name,data:me(L({},C.data),{tasks:A})}))}else console.warn("Failed to fetch phase:",R.name)}catch(O){console.error("Error fetching phase:",R.name,O)}for(const R of j)try{(yield fetch(`/api/resource/project_phase/${R.name}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(R.data)})).ok?console.log(`Successfully removed task ${e.name} from phase ${R.name}`):console.warn(`Failed to update phase ${R.name} after removing task`)}catch(O){console.error(`Error updating phase ${R.name}:`,O)}}else console.warn("Failed to fetch phases list, proceeding with task deletion...")}catch(w){console.warn("Error checking phases for task references:",w)}yield a("Task",e.name),console.log(`Successfully deleted task ${e.name}`),s&&s(),n()}catch(y){console.error("Error deleting task:",y),(b=y==null?void 0:y.exception)!=null&&b.includes("LinkExistsError")?y.exception.includes("project_phase")||y.exception.includes("phase")?alert("Cannot delete task because it is still linked with project phases. The system tried to remove phase task links automatically but failed. Please contact administrator."):y.exception.includes("SubTask")?alert("Cannot delete task because it has linked subtasks. Please delete all subtasks first."):alert("Cannot delete task because it has linked dependencies. Please check related records."):alert("Error deleting task. Please try again.")}finally{f(!1)}}}),p=()=>{n()};return c.jsx(cs,{open:t,onOpenChange:n,children:c.jsxs(us,{className:"sm:max-w-[400px]",children:[c.jsx(ds,{children:c.jsxs(fs,{className:"flex items-center gap-2 text-red-600",children:[c.jsx(Xh,{className:"h-5 w-5"}),"Delete Task"]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this task? This action cannot be undone."}),e&&c.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[c.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),e.project&&c.jsxs("div",{className:"text-sm text-blue-600",children:["Project: ",e.project]})]}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[c.jsxs("div",{className:"text-sm text-red-800",children:[c.jsx("strong",{children:"⚠️ Warning:"})," Deleting this task will automatically:"]}),c.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Delete ALL subtasks first"})," (to resolve SubTask dependencies)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Remove task from ALL phase child tables"})," (for any phases this task is assigned to)"]}),c.jsx("li",{children:"Remove all task progress data"}),c.jsx("li",{children:"Delete task timeline and activities"}),c.jsx("li",{children:"Remove related comments and attachments"})]}),c.jsx("div",{className:"text-xs text-red-600 mt-2 font-medium",children:"💡 The system will automatically search and handle ALL dependencies to prevent LinkExistsError."})]}),l&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete task"]})})]}),c.jsxs(Es,{className:"flex gap-2",children:[c.jsx(qe,{type:"button",variant:"outline",onClick:p,disabled:d,children:"Cancel"}),c.jsx(qe,{type:"button",variant:"destructive",onClick:h,disabled:d||o,children:d?"Deleting Task & SubTasks...":o?"Deleting...":"Delete Task"})]})]})})},pT=()=>{const{calculateAndUpdatePhaseProgress:e}=ON(),{calculateAndUpdateProjectProgress:t}=wL();return{updatePhaseProgressForTask:(a,o)=>ve(null,null,function*(){try{const l=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","tasks"],filters:[["project","=",o]]})});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const h=((yield l.json()).message||[]).filter(p=>p.tasks&&p.tasks.some(g=>g.task===a));for(const p of h)console.log(`Updating progress for phase ${p.name} after task ${a} change`),yield e(p.name);return console.log(`Updating overall project progress for ${o} after task ${a} change`),yield t(o),console.log(`Updated progress for ${h.length} phases and project ${o} affected by task ${a}`),h}catch(l){return console.error("Error updating phase progress for task:",l),[]}}),updateProjectProgress:a=>ve(null,null,function*(){try{console.log(`Updating overall project progress for ${a}`);const o=yield t(a);return o&&console.log(`Project ${a} progress updated to ${o.progress}% from ${o.source} (${o.count} items)`),o}catch(o){return console.error("Error updating project progress:",o),null}})}},PF=({task:e,projectName:t,onBack:n,onViewSubTaskDetails:s,onTaskUpdated:a,onTaskDeleted:o})=>{const[l,d]=N.useState(!1),[f,h]=N.useState(!1),[p,g]=N.useState(!1),{updatePhaseProgressForTask:b}=pT(),{calculateAndUpdateTaskProgress:y}=Zu(),{data:w,isLoading:_,mutate:S}=vn("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:[["task","=",e.name]],orderBy:{field:"start_date",order:"asc"},limit:0}),{data:j}=vn("ToDo",{fields:["name","allocated_to","status"],filters:[["reference_type","=","Task"],["reference_name","=",e.name]],limit:1}),R=j&&j.length>0?j[0].allocated_to:null,{data:O}=Tn("User",R||void 0,{fields:["name","full_name","email","user_image"]}),C=I=>I?new Date(I).toLocaleDateString():"N/A",A=I=>{switch(I){case"Completed":return c.jsx(Nx,{className:"h-5 w-5 text-green-600"});case"Working":return c.jsx(Ql,{className:"h-5 w-5 text-yellow-600"});case"Open":return c.jsx(Il,{className:"h-5 w-5 text-blue-600"});default:return c.jsx(Il,{className:"h-5 w-5 text-gray-400"})}},k=I=>{switch(I){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},B=I=>{switch(I){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},z=()=>{a&&a(),b(e.name,t).catch(console.error)},q=()=>{o&&o(),b(e.name,t).catch(console.error),n()},ne=({subtask:I})=>{var pe;const{data:te}=vn("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(I==null?void 0:I.name)||""]]}),le=(pe=te==null?void 0:te[0])==null?void 0:pe.allocated_to;return c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{children:le})})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(qe,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[c.jsx(Sx,{className:"h-4 w-4"}),"Back to Tasks"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"flex items-center gap-2",children:[c.jsx(Bl,{className:"h-4 w-4"}),"Edit Task"]}),c.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>g(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[c.jsx(Ao,{className:"h-4 w-4"}),"Delete Task"]})]})]}),c.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"h-12 w-12 rounded-lg bg-orange-500 flex items-center justify-center",children:c.jsx("span",{className:"text-xl",children:"📝"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),c.jsx("p",{className:"text-sm text-gray-600",children:"Task Details"})]})]}),e.description&&c.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${k(e.status||"Open")}`,children:[A(e.status||"Open"),c.jsx("span",{className:"font-medium",children:e.status||"Open"})]}),e.priority&&c.jsx("div",{className:`px-3 py-1 rounded-full border ${B(e.priority)}`,children:c.jsx("span",{className:"text-sm font-medium",children:e.priority})})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Task Progress"}),c.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[e.progress||0,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${e.progress||0}%`}})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:c.jsx(_r,{className:"h-6 w-6 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:C(e.exp_start_date)})]})]})}),c.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:c.jsx(kx,{className:"h-6 w-6 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:C(e.exp_end_date)})]})]})}),c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:c.jsx(Uu,{className:"h-6 w-6 text-green-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Assigned To"}),j&&j.length>0?c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-bold text-gray-900",children:(O==null?void 0:O.full_name)||R}),(O==null?void 0:O.email)&&c.jsx("p",{className:"text-sm text-gray-600",children:O.email})]}):c.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Task Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Task ID"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),c.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${k(e.status||"Open")}`,children:[A(e.status||"Open"),c.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),c.jsx("div",{className:`px-3 py-1 rounded-full ${B(e.priority||"Medium")}`,children:c.jsx("span",{className:"font-medium",children:e.priority||"Medium"})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Subtasks Count"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:(w==null?void 0:w.length)||0})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:e.exp_start_date&&e.exp_end_date?`${Math.ceil((new Date(e.exp_end_date).getTime()-new Date(e.exp_start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),c.jsxs("span",{className:"text-xl font-bold text-orange-600",children:[e.progress||0,"%"]})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Assigned To"}),j&&j.length>0?c.jsx("div",{children:c.jsx("p",{className:"text-lg font-bold text-gray-900",children:(O==null?void 0:O.full_name)||R})}):c.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"SubTasks"})}),_?c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):c.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[c.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[c.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),c.jsx("div",{className:"col-span-5 text-sm font-medium text-gray-700",children:"SubTask"}),c.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),c.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Assign To"}),c.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),c.jsxs("div",{className:"divide-y divide-gray-100",children:[w&&w.length>0?w.map((I,te)=>c.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"col-span-1 flex items-center",children:c.jsx("span",{className:"text-sm text-gray-600",children:te+1})}),c.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[c.jsx("div",{className:"p-1 bg-green-100 rounded",children:c.jsx("span",{className:"text-sm",children:"✅"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:I.subject||I.name}),c.jsx("div",{className:"text-sm text-gray-500",children:I.name})]})]}),c.jsx("div",{className:"col-span-2 flex items-center justify-center",children:c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${k(I.status||"Open")}`,children:I.status||"Open"})}),c.jsx("div",{className:"col-span-2 flex items-center justify-center",children:c.jsx(ne,{subtask:I})}),c.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&c.jsx(qe,{variant:"outline",size:"sm",onClick:()=>s(I),className:"h-7 px-2 text-xs",children:"View Details"})})]},I.name)):c.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[c.jsx("div",{className:"text-4xl mb-2",children:"✅"}),c.jsx("div",{className:"text-lg font-medium mb-1",children:"No subtasks yet"}),c.jsx("div",{className:"text-sm",children:'Click "Add SubTask" to create the first subtask for this task'})]}),c.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:c.jsx("div",{className:"col-span-12 flex items-center justify-center",children:c.jsxs(qe,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>d(!0),children:[c.jsx(Ai,{className:"h-4 w-4"}),"Add new subtask to this task"]})})})]})]})]}),c.jsx(lm,{doctype:"Task",docname:e.name,title:"Task Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),c.jsx(RF,{isOpen:l,onClose:()=>d(!1),projectName:t,parentTask:e.name,onSuccess:()=>ve(null,null,function*(){S(),setTimeout(()=>ve(null,null,function*(){yield y(e.name),setTimeout(()=>ve(null,null,function*(){yield b(e.name,t)}),500)}),500)})}),c.jsx(DF,{task:e,projectName:t,isOpen:f,onClose:()=>h(!1),onSuccess:z}),c.jsx(MF,{task:e,isOpen:p,onClose:()=>g(!1),onSuccess:q})]})},LF=({subtask:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var C;const{updateSubTask:o,isLoading:l,error:d}=gL(),{assignSubTask:f,unassignSubTask:h}=CN(),{calculateAndUpdateTaskProgress:p}=Zu(),{data:g,isLoading:b}=sc(t),{data:y}=vn("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[w,_]=N.useState({subject:"",status:"Open",start_date:"",end_date:"",description:"",assign_to:""}),S=((C=y==null?void 0:y[0])==null?void 0:C.allocated_to)||"";N.useEffect(()=>{e&&_({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:S})},[e,S]);const j=(A,k)=>{_(B=>me(L({},B),{[A]:k}))},R=A=>ve(null,null,function*(){if(A.preventDefault(),!!e)try{const k=w,{assign_to:B}=k,z=Le(k,["assign_to"]);yield o(e.name,z);const q=S,ne=B;if(q&&q!==ne){const I=y==null?void 0:y.find(te=>te.allocated_to===q);I&&(yield h(I.name))}ne&&ne!==q&&(yield f(e.name,ne)),e.task&&z.status!==e.status&&(yield p(e.task)),a&&a(),s()}catch(B){console.error("Error updating subtask:",B)}}),O=()=>{e&&_({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:S}),s()};return c.jsx(cs,{open:n,onOpenChange:s,children:c.jsxs(us,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[c.jsx(ds,{children:c.jsx(fs,{children:"Edit SubTask"})}),c.jsxs("form",{onSubmit:R,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"subject",children:"Subject *"}),c.jsx(Bt,{id:"subject",value:w.subject,onChange:A=>j("subject",A.target.value),required:!0,placeholder:"Enter subtask subject"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"status",children:"Status"}),c.jsxs("select",{id:"status",value:w.status,onChange:A=>j("status",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Working",children:"Working"}),c.jsx("option",{value:"Completed",children:"Completed"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"start_date",children:"Start Date"}),c.jsx(Bt,{id:"start_date",type:"date",value:w.start_date,onChange:A=>j("start_date",A.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"end_date",children:"End Date"}),c.jsx(Bt,{id:"end_date",type:"date",value:w.end_date,onChange:A=>j("end_date",A.target.value)})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"description",children:"Description"}),c.jsx("textarea",{id:"description",value:w.description,onChange:A=>j("description",A.target.value),placeholder:"Enter subtask description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"assign_to",children:"Assign To"}),c.jsxs("select",{id:"assign_to",value:w.assign_to,onChange:A=>j("assign_to",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,children:[c.jsx("option",{value:"",children:"Select user..."}),g==null?void 0:g.map(A=>c.jsx("option",{value:A.user||A.name,children:A.user||A.name},A.name))]}),b&&c.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update subtask"]})}),c.jsxs(Es,{className:"flex gap-2",children:[c.jsx(qe,{type:"button",variant:"outline",onClick:O,children:"Cancel"}),c.jsx(qe,{type:"submit",disabled:l,children:l?"Updating...":"Update SubTask"})]})]})]})})},zF=({subtask:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:o,error:l}=os("frappe.client.delete"),{calculateAndUpdateTaskProgress:d}=Zu(),f=()=>ve(null,null,function*(){if(e)try{if(yield a({doctype:"SubTask",name:e.name}),e.task)try{yield d(e.task)}catch(p){console.error("Error updating task progress after subtask deletion:",p)}s&&s(),n()}catch(p){console.error("Error deleting subtask:",p)}}),h=()=>{n()};return c.jsx(cs,{open:t,onOpenChange:n,children:c.jsxs(us,{className:"sm:max-w-[400px]",children:[c.jsx(ds,{children:c.jsxs(fs,{className:"flex items-center gap-2 text-red-600",children:[c.jsx(Xh,{className:"h-5 w-5"}),"Delete SubTask"]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this subtask? This action cannot be undone."}),e&&c.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[c.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Task: ",e.task]})]}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[c.jsxs("div",{className:"text-sm text-red-800",children:[c.jsx("strong",{children:"Warning:"})," Deleting this subtask will also remove:"]}),c.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[c.jsx("li",{children:"All subtask progress data"}),c.jsx("li",{children:"Subtask timeline and activities"}),c.jsx("li",{children:"Related comments and attachments"}),c.jsx("li",{children:"Any associated time logs"})]})]}),l&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete subtask"]})})]}),c.jsxs(Es,{className:"flex gap-2",children:[c.jsx(qe,{type:"button",variant:"outline",onClick:h,children:"Cancel"}),c.jsx(qe,{type:"button",variant:"destructive",onClick:f,disabled:o,children:o?"Deleting...":"Delete SubTask"})]})]})})},UF=({subtask:e,projectName:t,onBack:n,onSubTaskUpdated:s,onSubTaskDeleted:a})=>{var O;const[o,l]=N.useState(!1),[d,f]=N.useState(!1),{calculateAndUpdateTaskProgress:h}=Zu(),{updatePhaseProgressForTask:p}=pT(),{data:g}=vn("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),b=(O=g==null?void 0:g[0])==null?void 0:O.allocated_to,{data:y}=Tn("User",b||"",{shouldFetch:!!b}),w=C=>C?new Date(C).toLocaleDateString():"N/A",_=C=>{switch(C){case"Completed":return c.jsx(Nx,{className:"h-5 w-5 text-green-600"});case"Working":return c.jsx(Ql,{className:"h-5 w-5 text-yellow-600"});case"Open":return c.jsx(Il,{className:"h-5 w-5 text-blue-600"});default:return c.jsx(Il,{className:"h-5 w-5 text-gray-400"})}},S=C=>{switch(C){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},j=()=>ve(null,null,function*(){if(e!=null&&e.task)try{yield h(e.task);try{console.log(`Updating phase progress for task ${e.task} in project ${t}`),yield p(e.task,t),console.log("Phase and project progress updated after subtask edit")}catch(C){console.error("Error updating phase progress after subtask edit:",C)}}catch(C){console.error("Error updating task progress after subtask edit:",C)}s&&s()}),R=()=>ve(null,null,function*(){if(e!=null&&e.task)try{yield h(e.task);try{console.log(`Updating phase progress for task ${e.task} in project ${t}`),yield p(e.task,t),console.log("Phase and project progress updated after subtask delete")}catch(C){console.error("Error updating phase progress after subtask delete:",C)}}catch(C){console.error("Error updating task progress after subtask delete:",C)}a&&a(),n()});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(qe,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[c.jsx(Sx,{className:"h-4 w-4"}),"Back to Tasks"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>l(!0),className:"flex items-center gap-2",children:[c.jsx(Bl,{className:"h-4 w-4"}),"Edit SubTask"]}),c.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>f(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[c.jsx(Ao,{className:"h-4 w-4"}),"Delete SubTask"]})]})]}),c.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500 flex items-center justify-center",children:c.jsx("span",{className:"text-xl",children:"✅"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),c.jsx("p",{className:"text-sm text-gray-600",children:"SubTask Details"})]})]}),e.description&&c.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),c.jsx("div",{className:"flex items-center gap-3",children:c.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${S(e.status||"Open")}`,children:[_(e.status||"Open"),c.jsx("span",{className:"font-medium",children:e.status||"Open"})]})})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:c.jsx(_r,{className:"h-6 w-6 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:w(e.start_date)})]})]})}),c.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:c.jsx(kx,{className:"h-6 w-6 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:w(e.end_date)})]})]})}),c.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:c.jsx(Ll,{className:"h-6 w-6 text-orange-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-orange-600 uppercase tracking-wide",children:"Parent Task"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.task||"N/A"})]})]})})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"SubTask Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"SubTask ID"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Parent Task"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:e.task||"N/A"})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),c.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${S(e.status||"Open")}`,children:[_(e.status||"Open"),c.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:w(e.start_date)})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"End Date"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:w(e.end_date)})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:e.start_date&&e.end_date?`${Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-gray-100",children:[c.jsxs("span",{className:"text-gray-600 font-medium flex items-center gap-2",children:[c.jsx(Uu,{className:"h-4 w-4"}),"Assigned To"]}),c.jsx("span",{className:"text-gray-900 font-semibold",children:b?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{children:(y==null?void 0:y.full_name)||b}),(y==null?void 0:y.user_image)&&c.jsx("img",{src:y.user_image,alt:y.full_name||b,className:"h-6 w-6 rounded-full"})]}):c.jsx("span",{className:"text-gray-400",children:"Not assigned"})})]})]})]})]}),e.description&&c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Description"}),c.jsx("div",{className:"prose max-w-none",children:c.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.description})})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Activity Timeline"}),c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx("div",{className:"text-4xl mb-2",children:"📋"}),c.jsx("div",{className:"text-lg font-medium mb-1",children:"No activity yet"}),c.jsx("div",{className:"text-sm",children:"Activity and updates will appear here when available"})]})]}),c.jsx(lm,{doctype:"SubTask",docname:e.name,title:"SubTask Files",allowUpload:!0,allowDelete:!0,className:"mt-8"}),c.jsx(LF,{subtask:e,projectName:t,isOpen:o,onClose:()=>l(!1),onSuccess:j}),c.jsx(zF,{subtask:e,isOpen:d,onClose:()=>f(!1),onSuccess:R})]})},gT=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{updateProject:a,isLoading:o}=cL(),{currentUser:l}=ua(),{data:d}=Tn("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),f=(d==null?void 0:d.users)||(e==null?void 0:e.users)||[],h=()=>{if(l==="Administrator"||(e==null?void 0:e.owner)===l)return!0;const j=f.find(R=>R.user===l);return(j==null?void 0:j.project_status)==="Project Manager (Owner Substitute)"},{register:p,control:g,handleSubmit:b,reset:y,formState:{errors:w}}=Ru({defaultValues:{project_name:"",customer:"",project_type:"",status:"Open",priority:"Medium",department:"",company:"",cost_center:"",expected_start_date:"",expected_end_date:"",notes:""}});N.useEffect(()=>{e&&y({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""})},[e,y]);const _=j=>ve(null,null,function*(){if(e){if(j.status==="Completed"&&!h()){Nn.error("Permission denied",{description:"You don't have permission to mark this project as Completed. Only Project Owner, Project Manager, or Administrator can do this."});return}try{yield a(e.name,j),Nn.success("Project updated successfully"),s&&setTimeout(()=>{s()},100),n()}catch(R){let O="Edit project failed";if(R!=null&&R._server_messages)try{const C=JSON.parse(R._server_messages);Array.isArray(C)&&C.length>0&&(O=JSON.parse(C[0]).message||O)}catch(C){console.error("Parse error messages failed:",C)}else R!=null&&R.message&&(O=R.message);Nn.error("Update project failed",{description:O}),console.error("Error updating project:",R)}}}),S=()=>{e&&y({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""}),n()};return c.jsx(cs,{open:t,onOpenChange:n,children:c.jsxs(us,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[c.jsx(ds,{children:c.jsx(fs,{children:"Edit Project"})}),c.jsxs("form",{onSubmit:b(_),className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"project_name",children:"Project Name *"}),c.jsx(Bt,me(L({id:"project_name"},p("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),w.project_name&&c.jsx("span",{className:"text-red-500 text-sm",children:w.project_name.message})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Fe,{children:"Customer"}),c.jsx(nr,{name:"customer",control:g,render:({field:j})=>c.jsx(sr,{doctype:"Customer",value:j.value||"",onChange:j.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Fe,{children:"Project Type"}),c.jsx(nr,{name:"project_type",control:g,render:({field:j})=>c.jsx(sr,{doctype:"Project Type",value:j.value||"",onChange:j.onChange,placeholder:"Select type...",className:"w-full"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{children:"Status"}),c.jsxs("select",me(L({},p("status")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[c.jsx("option",{value:"",children:"Select status..."}),c.jsx("option",{value:"Open",children:"Open"}),h()&&c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]})),!h()&&c.jsx("span",{className:"text-xs text-amber-600",children:"You dont have permission to mark Completed"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{children:"Priority"}),c.jsxs("select",me(L({},p("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[c.jsx("option",{value:"",children:"Select priority..."}),c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Urgent",children:"Urgent"})]}))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Fe,{children:"Department"}),c.jsx(nr,{name:"department",control:g,render:({field:j})=>c.jsx(sr,{doctype:"Department",value:j.value||"",onChange:j.onChange,placeholder:"Select department...",className:"w-full"})})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Fe,{children:"Company"}),c.jsx(nr,{name:"company",control:g,render:({field:j})=>c.jsx(sr,{doctype:"Company",value:j.value||"",onChange:j.onChange,placeholder:"Select company...",className:"w-full"})})]})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Fe,{children:"Cost Center"}),c.jsx(nr,{name:"cost_center",control:g,render:({field:j})=>c.jsx(sr,{doctype:"Cost Center",value:j.value||"",onChange:j.onChange,placeholder:"Select cost center...",className:"w-full"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"expected_start_date",children:"Expected Start Date"}),c.jsx(Bt,L({id:"expected_start_date",type:"date"},p("expected_start_date")))]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"expected_end_date",children:"Expected End Date"}),c.jsx(Bt,L({id:"expected_end_date",type:"date"},p("expected_end_date")))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{htmlFor:"notes",children:"Notes"}),c.jsx("textarea",me(L({id:"notes"},p("notes")),{placeholder:"Enter project notes",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}))]}),c.jsxs(Es,{className:"flex gap-2",children:[c.jsx(qe,{type:"button",variant:"outline",onClick:S,children:"Cancel"}),c.jsx(qe,{type:"submit",disabled:o,children:o?"Updating...":"Update Project"})]})]})]})})},xT=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteProjectCascade:a}=jL(),[o,l]=N.useState(!1),[d,f]=N.useState(null),[h,p]=N.useState(""),g=()=>ve(null,null,function*(){if(!e){console.error("No project selected for deletion"),Nn.error("Delete project failed",{description:"No project selected"});return}if(o){console.log("Delete already in progress, ignoring duplicate request");return}l(!0),f(null),p("Starting deletion...");try{console.log(`Starting deletion for project: ${e.name}`),p("Deleting subtasks..."),yield new Promise(w=>setTimeout(w,300)),p("Deleting tasks..."),yield new Promise(w=>setTimeout(w,300)),p("Deleting project phases..."),yield new Promise(w=>setTimeout(w,300)),p("Cleaning up dependencies..."),yield new Promise(w=>setTimeout(w,300)),p("Deleting project...");const y=yield a(e.name);p("Deletion completed successfully!"),console.log("Cascade deletion result:",y),Nn.success("Project deleted successfully",{description:`Project "${e.name}" and all related items have been deleted.`}),s&&s(),n()}catch(y){let w="Delete project failed",_=!1;if(y!=null&&y._server_messages)try{const S=JSON.parse(y._server_messages);Array.isArray(S)&&S.length>0&&(w=JSON.parse(S[0]).message||w)}catch(S){console.error("Parse error messages failed:",S)}else y!=null&&y.message&&(w=y.message,(w.includes("dependencies")||w.includes("linked")||w.includes("referenced")||w.includes("Unknown project deletion error"))&&(_=!0,w+=`

Tip: This error usually resolves on the second attempt. Please try again.`));console.error("Error deleting project:",y),Nn.error("Delete project failed",{description:w,duration:_?8e3:5e3}),f(y instanceof Error?y:new Error(w)),p("")}finally{l(!1)}}),b=()=>{o||(f(null),p(""),n())};return c.jsx(cs,{open:t,onOpenChange:n,children:c.jsxs(us,{className:"sm:max-w-[400px]",children:[c.jsx(ds,{children:c.jsxs(fs,{className:"flex items-center gap-2 text-red-600",children:[c.jsx(Xh,{className:"h-5 w-5"}),"Delete Project"]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this project? This action cannot be undone."}),e&&c.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[c.jsx("div",{className:"font-medium text-gray-900",children:e.project_name}),c.jsx("div",{className:"text-sm text-gray-600",children:e.customer||"No customer"}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]})]}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[c.jsxs("div",{className:"text-sm text-red-800",children:[c.jsx("strong",{children:"Warning:"})," This will permanently delete in the following order:"]}),c.jsxs("ol",{className:"text-sm text-red-700 mt-1 ml-4 list-decimal",children:[c.jsx("li",{children:"All subtasks in all tasks"}),c.jsx("li",{children:"All tasks in the project"}),c.jsx("li",{children:"All project phases"}),c.jsx("li",{children:"All ToDo assignments"}),c.jsx("li",{children:"All project team members"}),c.jsx("li",{children:"The project itself"})]}),c.jsx("div",{className:"text-sm text-red-800 mt-2",children:c.jsx("strong",{children:"This action cannot be undone!"})})]}),o&&h&&c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(S0,{className:"h-4 w-4 animate-spin text-blue-600"}),c.jsxs("span",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Progress:"})," ",h]})]}),c.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Please wait while we delete all related items..."})]}),d&&c.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",d.message||"Failed to delete project"]})})]}),c.jsxs(Es,{className:"flex gap-2",children:[c.jsx(qe,{type:"button",variant:"outline",onClick:b,disabled:o,children:o?"Deleting...":"Cancel"}),c.jsx(qe,{type:"button",variant:"destructive",onClick:g,disabled:o,className:"min-w-[120px]",children:o?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(S0,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Project"})]})]})})};function yT({project:e,isOpen:t,onClose:n}){const[s,a]=N.useState("overview"),[o,l]=N.useState(null),[d,f]=N.useState(null),[h,p]=N.useState(null),[g,b]=N.useState(!1),[y,w]=N.useState(null),[_,S]=N.useState(!1),[j,R]=N.useState(!1),[O,C]=N.useState(!1),[A,k]=N.useState(!1),{data:B,isLoading:z,mutate:q}=Tn("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),{call:ne}=os("frappe.client.insert"),{call:I}=os("frappe.client.save"),{call:te}=os("frappe.client.delete"),{call:le}=os("frappe.client.set_value"),{data:pe,error:Q,isLoading:$}=Tn("User",(e==null?void 0:e.owner)||"",e!=null&&e.owner?void 0:null),{data:J,mutate:K}=Tn("SubTask",(h==null?void 0:h.name)||"",h!=null&&h.name?void 0:null),{data:he,mutate:M}=Tn("Task",(d==null?void 0:d.name)||"",d!=null&&d.name?void 0:null),{currentUser:ae}=ua(),G=(B==null?void 0:B.users)||(e==null?void 0:e.users)||[],F=z,Z=N.useMemo(()=>({progress:(B==null?void 0:B.percent_complete)||(e==null?void 0:e.percent_complete)||0,source:"project",count:1}),[B==null?void 0:B.percent_complete,e==null?void 0:e.percent_complete]),ye=()=>ve(null,null,function*(){if(h!=null&&h.name)try{yield K()}catch(we){console.error("Error refreshing subtask data:",we)}}),de=()=>ve(null,null,function*(){if(d!=null&&d.name)try{yield M()}catch(we){console.error("Error refreshing task data:",we)}}),Oe=we=>ve(null,null,function*(){(d==null?void 0:d.name)===we&&(yield de())});N.useEffect(()=>{J&&(h==null?void 0:h.name)===J.name&&p(J)},[J,h==null?void 0:h.name]),N.useEffect(()=>{he&&(d==null?void 0:d.name)===he.name&&f(he)},[he,d==null?void 0:d.name]);const Ae=Ru(),He=Ru(),Pe=Ru(),[et,We]=N.useState(!1),ft=we=>ve(null,null,function*(){if(e!=null&&e.name){We(!0);try{if((G||[]).find(pt=>pt.user===we.user)){alert("User is already a member of this project");return}yield ne({doc:{doctype:"Project User",parent:e.name,parenttype:"Project",parentfield:"users",user:we.user,view_attachments:1,hide_timesheets:0,project_status:"Open",welcome_email_sent:1}}),setTimeout(()=>q(),1e3),b(!1),Ae.reset()}catch(Te){console.error("Error adding member:",Te);const $e=Te instanceof Error?Te.message:String(Te);$e.includes("Email Account")||$e.includes("OutgoingEmailError")||$e.includes("email")?(alert("Member may have been added, but welcome email failed. Please check the project members list and refresh if needed."),setTimeout(()=>q(),1e3),b(!1),Ae.reset()):alert("Failed to add member: "+$e)}finally{We(!1)}}}),ze=we=>ve(null,null,function*(){if(!(!y||!(e!=null&&e.name))){We(!0);try{const Te=G.find($e=>$e.user===y.user);if(!(Te!=null&&Te.name)){alert("User record not found");return}yield I({doc:{doctype:"Project User",name:Te.name,view_attachments:we.view_attachments?1:0,hide_timesheets:we.hide_timesheets?1:0,project_status:we.project_status||""}}),setTimeout(()=>q(),1e3),S(!1),w(null),He.reset()}catch(Te){console.error("Error updating member:",Te),alert("Failed to update member")}finally{We(!1)}}}),_t=we=>ve(null,null,function*(){if(e!=null&&e.name&&confirm("Are you sure you want to remove this member from the project?"))try{const Te=G.find($e=>$e.user===we);if(!(Te!=null&&Te.name)){alert("User record not found");return}yield te({doctype:"Project User",name:Te.name}),setTimeout(()=>q(),1e3)}catch(Te){console.error("Error removing member:",Te),alert("Failed to remove member")}}),Ft=we=>{w(we),He.reset({user:we.user,view_attachments:!!we.view_attachments,hide_timesheets:!!we.hide_timesheets,project_status:we.project_status||""}),S(!0)},bt=()=>ae==="Administrator",ot=we=>ve(null,null,function*(){if(e!=null&&e.name){We(!0);try{yield q();const Te=B||e;try{yield I({doc:{doctype:"Project",name:e.name,owner:we.owner,project_name:Te==null?void 0:Te.project_name,status:Te==null?void 0:Te.status,priority:Te==null?void 0:Te.priority,company:Te==null?void 0:Te.company,customer:Te==null?void 0:Te.customer,expected_start_date:Te==null?void 0:Te.expected_start_date,expected_end_date:Te==null?void 0:Te.expected_end_date,description:Te==null?void 0:Te.description,modified:new Date().toISOString(),modified_by:we.owner}})}catch($e){try{yield le({doctype:"Project",name:e.name,fieldname:"owner",value:we.owner})}catch(pt){if((G||[]).find(Zt=>Zt.user===we.owner)){alert("Cannot change owner field (protected by ERPNext), but user is already a project member. Please edit their role manually.");return}yield ne({doc:{doctype:"Project User",parent:e.name,parenttype:"Project",parentfield:"users",user:we.owner,view_attachments:1,hide_timesheets:0,project_status:"Project Manager (Owner Substitute)",welcome_email_sent:1}}),alert('Owner field is protected by ERPNext. Added user as "Project Manager (Owner Substitute)" instead with full permissions.')}}setTimeout(()=>q(),1e3),R(!1),Pe.reset()}catch(Te){console.error("Error changing owner:",Te);const $e=Te instanceof Error?Te.message:String(Te);$e.includes("Cannot edit standard fields")||$e.includes("protects this field")?alert(`Cannot change project owner: ERPNext protects the owner field from modification.

Alternative solutions:
1. Add the user as Project Manager in the team members
2. Contact system administrator to manually update via backend
3. Use project permissions to grant the user full access

Admin command (run in ERPNext console):
frappe.db.sql("UPDATE tabProject SET owner = '${we.owner}' WHERE name = '${e.name}'")`):alert("Failed to change owner: "+$e)}finally{We(!1)}}}),Tt=we=>{switch(we){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},Y=we=>we?new Date(we).toLocaleDateString():"N/A",ce=()=>{C(!0)},V=()=>{k(!0)},Ne=()=>{q(),ql(we=>typeof we=="string"&&we.includes("Project"),void 0,{revalidate:!0})},Me=()=>{n()};if(!e)return null;const Ee=B||e;return c.jsxs(gF,{open:t,onOpenChange:n,direction:"right",children:[c.jsx(bF,{children:c.jsxs("div",{className:"w-full h-full overflow-y-auto p-6",children:[c.jsxs(vF,{className:"px-0 pb-6",children:[c.jsxs(_F,{className:"flex gap-4 justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:c.jsx("span",{className:"text-2xl font-bold text-white",children:Ee.project_name.charAt(0).toUpperCase()})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:Ee.project_name}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:`inline-flex px-4 py-2 text-sm font-semibold rounded-full ${Tt(Ee.status)}`,children:Ee.status||"Open"}),Ee.project_type&&c.jsx("span",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full",children:Ee.project_type})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(qe,{variant:"outline",size:"sm",onClick:ce,className:"flex items-center gap-2",children:[c.jsx(Bl,{className:"h-4 w-4"}),"Edit"]}),c.jsxs(qe,{variant:"outline",size:"sm",onClick:V,className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[c.jsx(Ao,{className:"h-4 w-4"}),"Delete"]}),c.jsx(qe,{variant:"ghost",size:"sm",onClick:n,children:"X"})]})]}),c.jsx(jF,{className:"text-lg text-gray-600 mt-4",children:"Project Details and Progress Overview"}),c.jsxs("div",{className:"flex border-b border-gray-200 mt-6",children:[c.jsx("button",{onClick:()=>a("overview"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overview"}),c.jsx("button",{onClick:()=>a("tasks"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="tasks"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Tasks & Phases"}),c.jsxs("button",{onClick:()=>a("team"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="team"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[c.jsx(ah,{className:"h-4 w-4"}),"Team (",((G==null?void 0:G.length)||0)+1,")"]}),o&&c.jsxs("button",{onClick:()=>a("phase-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="phase-details"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📋 ",o.subject,c.jsx("span",{onClick:we=>{we.stopPropagation(),l(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close phase details",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d&&c.jsxs("button",{onClick:()=>a("task-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="task-details"?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📝 ",d.subject||d.name,c.jsx("span",{onClick:we=>{we.stopPropagation(),f(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close task details",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),h&&c.jsxs("button",{onClick:()=>a("subtask-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="subtask-details"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📌 ",h.subject||h.name,c.jsx("span",{onClick:we=>{we.stopPropagation(),p(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close subtask details",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),c.jsxs("div",{className:"space-y-8",children:[s==="overview"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Project Progress"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-lg font-medium text-gray-700",children:"Overall Progress"}),c.jsx("span",{className:"text-xs text-gray-500"})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[Z.progress,"%"]})})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:c.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${Z.progress}%`}})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:c.jsx(Uu,{className:"h-8 w-8 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Customer"}),c.jsx("p",{className:"text-xl font-bold text-gray-900",children:Ee.customer||"N/A"})]})]})}),c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:c.jsx(Ex,{className:"h-8 w-8 text-green-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Budget"}),c.jsx("p",{className:"text-xl font-bold text-gray-900",children:vo(Ee.estimated_costing)})]})]})}),c.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:c.jsx(_r,{className:"h-8 w-8 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"Deadline"}),c.jsx("p",{className:"text-xl font-bold text-gray-900",children:Y(Ee.expected_end_date)})]})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Project Information"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:Y(Ee.expected_start_date)})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:Ee.priority||"Medium"})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Department"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:Ee.department||"N/A"})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Company"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:Ee.company||"N/A"})]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Financial Metrics"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Total Cost"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:vo(Ee.total_costing_amount)})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Total Sales"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:vo(Ee.total_sales_amount)})]}),c.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Billable Amount"}),c.jsx("span",{className:"text-gray-900 font-semibold",children:vo(Ee.total_billable_amount)})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:"Gross Margin"}),c.jsx("span",{className:"text-lg font-bold text-green-600",children:vo(Ee.gross_margin)})]})]})]})]}),c.jsx(lm,{doctype:"Project",docname:e.name,title:"Project Files",allowUpload:!0,allowDelete:!0,className:"mt-8"})]}),s==="team"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(FD,{className:"h-6 w-6 text-yellow-600"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Owner"})]}),bt()&&c.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>{Pe.reset({owner:(e==null?void 0:e.owner)||""}),R(!0)},className:"flex items-center gap-2",children:[c.jsx(Bl,{className:"h-4 w-4"}),"Change Owner"]})]}),c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[c.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:c.jsx(Uu,{className:"h-6 w-6 text-yellow-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-lg font-semibold text-gray-900",children:$?"Loading...":pe!=null&&pe.full_name?pe.full_name:Ee!=null&&Ee.owner?Ee.owner:"No Owner"}),c.jsx("p",{className:"text-sm text-gray-600",children:$?"Loading email...":pe!=null&&pe.email?pe.email:Ee!=null&&Ee.owner?Ee.owner:"No email"}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded",children:"Project Owner"}),(pe==null?void 0:pe.designation)&&c.jsx("span",{className:"text-xs text-gray-500",children:pe.designation}),Q&&c.jsx("span",{className:"text-xs text-red-500",children:"(Error loading user details)"})]})]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(ah,{className:"h-6 w-6 text-blue-600"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Team Members"}),c.jsxs("span",{className:"inline-flex px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:[(G==null?void 0:G.length)||0," members"]})]}),c.jsxs(qe,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>b(!0),children:[c.jsx(Ai,{className:"h-4 w-4 mr-1"}),"Add Member"]})]}),F?c.jsxs("div",{className:"flex items-center justify-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),c.jsx("span",{className:"ml-3 text-gray-600",children:"Loading team members..."})]}):G&&G.length>0?c.jsx("div",{className:"grid gap-4",children:G.map((we,Te)=>c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center overflow-hidden",children:we.image?c.jsx("img",{src:we.image,alt:we.full_name||we.user,className:"h-full w-full object-cover"}):c.jsx("span",{className:"text-sm font-semibold text-blue-600",children:(we.full_name||we.user||"U").charAt(0).toUpperCase()})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-semibold text-gray-900",children:we.full_name||we.user||"Unknown User"}),c.jsx("p",{className:"text-sm text-gray-600",children:we.email||we.user||"No email"}),we.project_status&&c.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Status: ",we.project_status]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:"Team Member"}),we.view_attachments&&c.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded",children:"Can View Files"}),c.jsxs(qe,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>Ft(we),children:[c.jsx(Bl,{className:"h-3 w-3 mr-1"}),"Edit"]}),c.jsxs(qe,{size:"sm",variant:"outline",className:"text-xs text-red-600 hover:text-red-700",onClick:()=>_t(we.user),children:[c.jsx(Ao,{className:"h-3 w-3 mr-1"}),"Remove"]})]})]},we.user||Te))}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(ah,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No team members added yet"}),c.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Add team members to collaborate on this project"}),c.jsxs(qe,{className:"mt-4 bg-blue-600 hover:bg-blue-700",onClick:()=>b(!0),children:[c.jsx(Ai,{className:"h-4 w-4 mr-2"}),"Add First Member"]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Statistics"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((G==null?void 0:G.length)||0)+1}),c.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),c.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[c.jsx("p",{className:"text-2xl font-bold text-green-600",children:"1"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Project Owner"})]}),c.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[c.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(G==null?void 0:G.length)||0}),c.jsx("p",{className:"text-sm text-gray-600",children:"Team Members"})]}),c.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[c.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(e==null?void 0:e.percent_complete)||0,"%"]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Progress"})]})]})]})]}),s==="tasks"&&c.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:c.jsx(TF,{projectName:e.name,onViewPhaseDetails:we=>{l(we),a("phase-details")},onViewTaskDetails:we=>{f(we),a("task-details")},onViewSubTaskDetails:we=>{p(we),a("subtask-details")}})}),s==="phase-details"&&o&&c.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:c.jsx(OF,{phase:o,projectName:e.name,onBack:()=>a("tasks"),onViewTaskDetails:we=>{f(we),a("task-details")},onPhaseUpdated:()=>ve(null,null,function*(){q()}),onPhaseDeleted:()=>ve(null,null,function*(){q(),a("tasks"),l(null)}),onTaskCreated:()=>ve(null,null,function*(){q()})})}),s==="task-details"&&d&&c.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:c.jsx(PF,{task:d,projectName:e.name,onBack:()=>a("tasks"),onViewSubTaskDetails:we=>{p(we),a("subtask-details")},onTaskUpdated:()=>ve(null,null,function*(){q(),yield de()}),onTaskDeleted:()=>ve(null,null,function*(){q(),a("tasks"),f(null)})})}),s==="subtask-details"&&h&&c.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:c.jsx(UF,{subtask:h,projectName:e.name,onBack:()=>a("tasks"),onSubTaskUpdated:()=>ve(null,null,function*(){q(),yield ye(),h!=null&&h.task&&(yield Oe(h.task))}),onSubTaskDeleted:()=>ve(null,null,function*(){q(),a("tasks"),p(null)})})})]}),c.jsx(wF,{className:"px-0 mt-8 pt-6 border-t border-gray-200",children:c.jsxs("div",{className:"flex gap-4",children:[c.jsx(qe,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",onClick:()=>a("tasks"),children:"View Tasks"}),c.jsx(qe,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",children:"View Timeline"})]})})]})}),c.jsx(cs,{open:g,onOpenChange:b,children:c.jsx(us,{className:"sm:max-w-md",children:c.jsxs("form",{onSubmit:Ae.handleSubmit(ft),children:[c.jsxs(ds,{children:[c.jsx(fs,{children:"Add Team Member"}),c.jsx(Co,{children:"Add a new member to the project team."})]}),c.jsx("div",{className:"grid gap-4 py-4",children:c.jsxs("div",{className:"grid gap-2",children:[c.jsxs(Fe,{children:["User ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(nr,{name:"user",control:Ae.control,rules:{required:"Please select a user"},render:({field:we})=>c.jsx(sr,{doctype:"User",value:we.value||"",onChange:we.onChange,placeholder:"Select user...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email"],className:"w-full"})}),Ae.formState.errors.user&&c.jsx("span",{className:"text-red-500 text-sm",children:Ae.formState.errors.user.message})]})}),c.jsxs(Es,{children:[c.jsx(qe,{type:"button",variant:"outline",onClick:()=>{b(!1),Ae.reset()},children:"Cancel"}),c.jsx(qe,{type:"submit",disabled:et,className:"bg-blue-600 hover:bg-blue-700",children:et?"Adding...":"Add Member"})]})]})})}),c.jsx(cs,{open:_,onOpenChange:S,children:c.jsx(us,{className:"sm:max-w-md",children:c.jsxs("form",{onSubmit:He.handleSubmit(ze),children:[c.jsxs(ds,{children:[c.jsx(fs,{children:"Edit Team Member"}),c.jsxs(Co,{children:["Update member settings for ",(y==null?void 0:y.full_name)||(y==null?void 0:y.user),"."]})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Fe,{children:"User"}),c.jsx(Bt,{value:(y==null?void 0:y.full_name)||(y==null?void 0:y.user)||"",disabled:!0,className:"bg-gray-100"})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Fe,{children:"Project Status"}),c.jsx(Bt,me(L({},He.register("project_status")),{placeholder:"Enter project status for this member..."}))]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",me(L({type:"checkbox",id:"edit_view_attachments"},He.register("view_attachments")),{className:"rounded border-gray-300"})),c.jsx(Fe,{htmlFor:"edit_view_attachments",className:"text-sm",children:"Can view attachments"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",me(L({type:"checkbox",id:"edit_hide_timesheets"},He.register("hide_timesheets")),{className:"rounded border-gray-300"})),c.jsx(Fe,{htmlFor:"edit_hide_timesheets",className:"text-sm",children:"Hide timesheets from this user"})]})]}),c.jsxs(Es,{children:[c.jsx(qe,{type:"button",variant:"outline",onClick:()=>{S(!1),w(null),He.reset()},children:"Cancel"}),c.jsx(qe,{type:"submit",disabled:et,className:"bg-blue-600 hover:bg-blue-700",children:et?"Updating...":"Update Member"})]})]})})}),c.jsx(cs,{open:j,onOpenChange:R,children:c.jsx(us,{className:"sm:max-w-md",children:c.jsxs("form",{onSubmit:Pe.handleSubmit(ot),children:[c.jsxs(ds,{children:[c.jsx(fs,{children:"Change Project Owner"}),c.jsx(Co,{children:"Attempt to change the project owner. Note: ERPNext may protect this field, in which case we'll add the user as Project Manager instead."})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsxs(Fe,{children:["New Owner ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(nr,{name:"owner",control:Pe.control,rules:{required:"Please select a new owner"},render:({field:we})=>c.jsx(sr,{doctype:"User",value:we.value||"",onChange:we.onChange,placeholder:"Select new owner...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email"],className:"w-full"})}),Pe.formState.errors.owner&&c.jsx("span",{className:"text-red-500 text-sm",children:Pe.formState.errors.owner.message})]}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:c.jsxs("p",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Note:"}),' This will attempt to change the actual project owner. If that fails (due to ERPNext protection), the user will be added as "Project Manager (Owner Substitute)" with full permissions.']})})]}),c.jsxs(Es,{children:[c.jsx(qe,{type:"button",variant:"outline",onClick:()=>{R(!1),Pe.reset()},children:"Cancel"}),c.jsx(qe,{type:"submit",disabled:et,className:"bg-yellow-600 hover:bg-yellow-700",children:et?"Changing Owner...":"Change Owner"})]})]})})}),c.jsx(gT,{project:e,isOpen:O,onClose:()=>C(!1),onSuccess:Ne}),c.jsx(xT,{project:e,isOpen:A,onClose:()=>k(!1),onSuccess:Me})]})}const bT=({project:e,onProjectUpdated:t,onProjectDeleted:n,onCloseDrawer:s})=>{const[a,o]=N.useState(!1),[l,d]=N.useState(!1),[f,h]=N.useState(!1),p=w=>{w&&w.stopPropagation(),o(!0),h(!1)},g=w=>{w&&w.stopPropagation(),d(!0),h(!1)},b=()=>{t&&t()},y=()=>{n&&n(),s&&s()};return c.jsxs(c.Fragment,{children:[c.jsxs(Ix,{open:f,onOpenChange:h,children:[c.jsx(Yx,{asChild:!0,children:c.jsx(qe,{variant:"ghost",size:"sm",onClick:w=>{w.stopPropagation(),h(!f)},className:"h-8 w-8 p-0",children:c.jsx(qD,{className:"h-4 w-4"})})}),c.jsx(Wx,{className:"w-48 p-2",align:"end",onClick:w=>w.stopPropagation(),children:c.jsxs("div",{className:"space-y-1",children:[c.jsxs(qe,{variant:"ghost",size:"sm",onClick:w=>p(w),className:"w-full justify-start text-left",children:[c.jsx(bM,{className:"mr-2 h-4 w-4"}),"Edit Project"]}),c.jsxs(qe,{variant:"ghost",size:"sm",onClick:w=>g(w),className:"w-full justify-start text-left text-red-600 hover:text-red-700 hover:bg-red-50",children:[c.jsx(Ao,{className:"mr-2 h-4 w-4"}),"Delete Project"]})]})})]}),c.jsx(gT,{project:e,isOpen:a,onClose:()=>o(!1),onSuccess:b}),c.jsx(xT,{project:e,isOpen:l,onClose:()=>d(!1),onSuccess:y})]})},BF=({projects:e,onProjectsChange:t})=>{const[n,s]=N.useState(null),[a,o]=N.useState(!1),l=h=>{s(h),o(!0)},d=()=>{o(!1),s(null)},f=h=>{switch(h){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map(h=>c.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 hover:shadow-md transition-shadow duration-200 cursor-pointer",onClick:()=>l(h),children:[c.jsx("div",{className:"h-48 bg-gray-200 flex items-center justify-center",children:c.jsx("div",{className:"text-4xl font-bold text-gray-400",children:h.project_name.charAt(0).toUpperCase()})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate flex-1",children:h.project_name}),c.jsxs("div",{className:"flex items-center gap-2",onClick:p=>p.stopPropagation(),children:[c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(h.status)}`,children:h.status||"Open"}),c.jsx(bT,{project:h,onProjectUpdated:t,onProjectDeleted:t,onCloseDrawer:d})]})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:h.project_type||"N/A"}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),c.jsxs("span",{className:"text-sm text-gray-600",children:[h.percent_complete||0,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${h.percent_complete||0}%`}})})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[c.jsx("span",{children:h.customer||"N/A"}),c.jsx("span",{children:vo(h.estimated_costing)})]})]})]},h.name))}),c.jsx(yT,{project:n,isOpen:a,onClose:d})]})},FF=({projects:e,onProjectsChange:t})=>{const[n,s]=N.useState(null),[a,o]=N.useState(!1),[l,d]=N.useState(null),f=_=>{s(_),o(!0)},h=()=>{o(!1),s(null)},p=()=>{n&&(d(n.name),setTimeout(()=>{d(null)},5e3)),console.log("handleProjectUpdated called, about to refresh data..."),o(!1),s(null),ql(_=>typeof _=="string"&&_.includes("Project"),void 0,{revalidate:!0}),ql("/api/resource/Project"),ql("Project"),t?(console.log("Calling onProjectsChange to refresh data immediately"),t()):console.log("onProjectsChange is not available"),setTimeout(()=>{t&&(console.log("Calling onProjectsChange again as backup"),t())},100)},g=()=>{d(null),t&&t()},b=N.useMemo(()=>[...e].sort((_,S)=>{const j=new Date(_.modified||_.creation||0);return new Date(S.modified||S.creation||0).getTime()-j.getTime()}),[e]),y=_=>{switch(_){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},w=_=>_?new Date(_).toLocaleDateString():"N/A";return c.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[c.jsx("div",{className:"overflow-hidden",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deadline"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(_=>c.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer transition-colors ${l===_.name?"bg-green-50 border-l-4 border-green-400":""}`,onClick:()=>f(_),children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:c.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center",children:c.jsx("span",{className:"text-sm font-bold text-gray-600",children:_.project_name.charAt(0).toUpperCase()})})}),c.jsxs("div",{className:"ml-4",style:{maxWidth:"300px"},children:[c.jsx("div",{className:"text-sm font-medium text-gray-900 cursor-help",title:_.project_name,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:_.project_name}),c.jsx("div",{className:"text-sm text-gray-500",children:_.project_type||"N/A"})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${y(_.status)}`,children:_.status||"Open"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${_.percent_complete||0}%`}})}),c.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[_.percent_complete||0,"%"]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:vo(_.estimated_costing)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w(_.expected_end_date)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",onClick:S=>S.stopPropagation(),children:c.jsx(bT,{project:_,onProjectUpdated:p,onProjectDeleted:g,onCloseDrawer:h})})]},_.name))})]})}),c.jsx(yT,{project:n,isOpen:a,onClose:h})]})},HF=({projects:e,onFilteredProjectsChange:t,viewMode:n,onViewModeChange:s})=>{var w;const[a,o]=ee.useState({searchText:"",selectedTeam:"",selectedStatus:""}),[l,d]=ee.useState(!1),{data:f=[]}=NN(),h=[{value:"",label:"All Status"},{value:"Open",label:"Open"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],p=ee.useMemo(()=>{const _=[{value:"",label:"All Teams"},...f.map(S=>({value:S.name,label:S.team||S.name}))];return[_[0],..._.slice(1).sort((S,j)=>S.label.localeCompare(j.label))]},[f]);ee.useEffect(()=>{let _=[...e];if(a.searchText.trim()){const S=a.searchText.toLowerCase();_=_.filter(j=>j.project_name.toLowerCase().includes(S)||j.name.toLowerCase().includes(S))}a.selectedTeam&&(_=_.filter(S=>(S.team||"")===a.selectedTeam)),a.selectedStatus&&(_=_.filter(S=>S.status===a.selectedStatus)),t(_)},[a.searchText,a.selectedTeam,a.selectedStatus,e]);const g=(_,S)=>{o(j=>me(L({},j),{[_]:S}))},b=()=>{o({searchText:"",selectedTeam:"",selectedStatus:""})},y=a.searchText||a.selectedTeam||a.selectedStatus;return c.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[c.jsxs("div",{className:"relative flex-1 max-w-md",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Wh,{className:"h-4 w-4 text-gray-400"})}),c.jsx("input",{type:"text",value:a.searchText,onChange:_=>g("searchText",_.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects by name..."})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>d(!l),className:`inline-flex items-center px-3 py-2 border rounded-md text-sm font-medium bg-white hover:bg-gray-50 ${y?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700"}`,children:[c.jsx(Tx,{className:"mr-2 h-4 w-4"}),"Filter",y&&c.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[a.selectedTeam,a.selectedStatus].filter(Boolean).length})]}),l&&c.jsx("div",{className:"absolute top-full left-0 mt-2 w-80 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Filters"}),y&&c.jsx("button",{onClick:b,className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear all"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team"}),c.jsx("select",{value:a.selectedTeam,onChange:_=>g("selectedTeam",_.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:f.length===0,children:p.map(_=>c.jsx("option",{value:_.value,children:_.label},_.value))}),f.length===0&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No teams available"}),f.length>0&&e.filter(_=>_.team).length===0&&c.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Projects haven't been assigned to teams yet"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.jsx("select",{value:a.selectedStatus,onChange:_=>g("selectedStatus",_.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:h.map(_=>c.jsx("option",{value:_.value,children:_.label},_.value))})]})]})})]}),c.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 border border-gray-200 rounded-lg p-1",children:[c.jsx("button",{onClick:()=>s("grid"),className:`p-2 rounded-md transition-colors ${n==="grid"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"Grid view",children:c.jsx(sM,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>s("list"),className:`p-2 rounded-md transition-colors ${n==="list"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"List view",children:c.jsx(uM,{className:"h-4 w-4"})})]})]}),y&&c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx("span",{children:"Active filters:"}),c.jsxs("div",{className:"flex space-x-1",children:[a.selectedTeam&&c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Team: ",(w=p.find(_=>_.value===a.selectedTeam))==null?void 0:w.label,c.jsx("button",{onClick:()=>g("selectedTeam",""),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]}),a.selectedStatus&&c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Status: ",a.selectedStatus,c.jsx("button",{onClick:()=>g("selectedStatus",""),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]})]})]})]}),l&&c.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>d(!1)})]})},$F=({onProjectCreated:e})=>{const[t,n]=N.useState(!1),{createProject:s,isLoading:a}=lL(),{register:o,control:l,handleSubmit:d,reset:f,formState:{errors:h,isSubmitting:p}}=Ru({defaultValues:{status:"Open",priority:"Medium"}}),g=b=>ve(null,null,function*(){try{yield s(b),f(),n(!1),ql(y=>typeof y=="string"&&y.includes("Project"),void 0,{revalidate:!0}),Nn.success("Project created successfully"),e&&e()}catch(y){let w="Create project failed";if(y!=null&&y._server_messages)try{const _=JSON.parse(y._server_messages);Array.isArray(_)&&_.length>0&&(w=JSON.parse(_[0]).message||w)}catch(_){console.error("Parse error messages failed:",_)}else y!=null&&y.message&&(w=y.message);Nn.error("Create project failed",{description:w}),console.error("Error creating project:",y)}});return c.jsxs(cs,{open:t,onOpenChange:n,children:[c.jsx(OB,{asChild:!0,children:c.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(Ai,{className:"mr-2 h-4 w-4"}),"New Project"]})}),c.jsx(us,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:c.jsxs("form",{onSubmit:d(g),children:[c.jsxs(ds,{children:[c.jsx(fs,{children:"Create New Project"}),c.jsx(Co,{children:"Fill in the project details. Fields marked with * are required."})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsxs(Fe,{htmlFor:"project_name",children:["Project Name ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(Bt,me(L({id:"project_name"},o("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),h.project_name&&c.jsx("span",{className:"text-red-500 text-sm",children:h.project_name.message})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Fe,{children:"Customer"}),c.jsx(nr,{name:"customer",control:l,render:({field:b})=>c.jsx(sr,{doctype:"Customer",value:b.value||"",onChange:b.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Fe,{children:"Project Type"}),c.jsx(nr,{name:"project_type",control:l,render:({field:b})=>c.jsx(sr,{doctype:"Project Type",value:b.value||"",onChange:b.onChange,placeholder:"Select type...",className:"w-full"})})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsxs(Fe,{children:["Status ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",me(L({},o("status",{required:"Status is required"})),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Completed",children:"Completed"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]}))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Fe,{children:"Priority"}),c.jsxs("select",me(L({},o("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[c.jsx("option",{value:"",children:"Select priority..."}),c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"}),c.jsx("option",{value:"Critical",children:"Critical"})]}))]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Fe,{children:"Department"}),c.jsx(nr,{name:"department",control:l,render:({field:b})=>c.jsx(sr,{doctype:"Department",value:b.value||"",onChange:b.onChange,placeholder:"Select department...",className:"w-full"})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Fe,{children:"Company"}),c.jsx(nr,{name:"company",control:l,render:({field:b})=>c.jsx(sr,{doctype:"Company",value:b.value||"",onChange:b.onChange,placeholder:"Select company...",className:"w-full"})})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Fe,{children:"Cost Center"}),c.jsx(nr,{name:"cost_center",control:l,render:({field:b})=>c.jsx(sr,{doctype:"Cost Center",value:b.value||"",onChange:b.onChange,placeholder:"Select cost center...",displayField:"cost_center_name",valueField:"name",className:"w-full"})})]})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Fe,{children:"Project Template"}),c.jsx(nr,{name:"project_template",control:l,render:({field:b})=>c.jsx(sr,{doctype:"Project Template",value:b.value||"",onChange:b.onChange,placeholder:"Select project template...",className:"w-full"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Fe,{children:"Expected Start Date"}),c.jsx(Bt,L({type:"date"},o("expected_start_date")))]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Fe,{children:"Expected End Date"}),c.jsx(Bt,L({type:"date"},o("expected_end_date")))]})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Fe,{children:"Notes"}),c.jsx("textarea",me(L({},o("notes")),{placeholder:"Enter project notes...",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}))]})]}),c.jsxs(Es,{children:[c.jsx(DB,{asChild:!0,children:c.jsx(qe,{type:"button",variant:"outline",children:"Cancel"})}),c.jsx(qe,{type:"submit",disabled:p||a,className:"bg-blue-600 hover:bg-blue-700",children:p||a?"Creating...":"Create Project"})]})]})})]})},VF=()=>{const[e,t]=ee.useState("list"),[n,s]=ee.useState([]),{data:a=[],isLoading:o,error:l,mutate:d}=oL();ee.useEffect(()=>{s(a)},[a]);const f=()=>ve(null,null,function*(){d&&(yield d())}),h=ee.useCallback(p=>{s(p)},[]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Projects"}),c.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Showing ",n.length," of ",a.length," projects"]})]}),c.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:c.jsx($F,{onProjectCreated:f})})]}),!o&&!l&&a.length>0&&c.jsx(HF,{projects:a,onFilteredProjectsChange:h,viewMode:e,onViewModeChange:t}),o?c.jsx("div",{className:"flex justify-center items-center p-8",children:c.jsx("div",{className:"text-gray-500",children:"Loading projects..."})}):l?c.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-red-50 rounded-lg border border-red-200",children:c.jsxs("div",{className:"text-red-700 text-center",children:[c.jsx("p",{className:"text-lg font-medium mb-2",children:"Error loading projects"}),c.jsx("p",{className:"text-sm mb-2",children:l.message}),l.message.includes("PermissionError")&&c.jsxs("div",{className:"text-sm text-red-600 bg-red-100 p-3 rounded mt-2",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Permission Issue:"})," You don't have access to view projects."]}),c.jsx("p",{children:"Please contact your system administrator to:"}),c.jsxs("ul",{className:"list-disc list-inside mt-1",children:[c.jsx("li",{children:'Grant you "Read" permission for Project doctype'}),c.jsx("li",{children:"Add you to projects as a team member"}),c.jsx("li",{children:"Make you the owner of projects"})]})]})]})}):a.length===0?c.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:c.jsxs("div",{className:"text-gray-500 text-center",children:[c.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects found"}),c.jsx("p",{className:"text-sm",children:"You are not currently participating in any projects."}),c.jsx("p",{className:"text-sm",children:"Create a new project or ask to be added to an existing one."})]})}):n.length===0?c.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:c.jsxs("div",{className:"text-gray-500 text-center",children:[c.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects match your filters"}),c.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria or clear the filters."})]})}):c.jsx(c.Fragment,{children:e==="grid"?c.jsx(BF,{projects:n,onProjectsChange:f}):c.jsx(FF,{projects:n,onProjectsChange:f})})]})},qF={Todo:"bg-gray-100 text-gray-800","In Progress":"bg-blue-100 text-blue-800",Done:"bg-green-100 text-green-800",Blocked:"bg-red-100 text-red-800"},IF={Low:"bg-green-100 text-green-800",Medium:"bg-yellow-100 text-yellow-800",High:"bg-red-100 text-red-800"},YF=()=>{const[e,t]=ee.useState("All"),[n,s]=ee.useState("All"),[a,o]=ee.useState(""),{todos:l,isLoading:d,error:f,mutate:h,currentUser:p}=SL();console.log(l);const g=ee.useMemo(()=>l.map(w=>({id:w.name,title:w.reference_name||"Untitled Task",description:w.description||"No description available",project:"Unknown Project",assignee:(p==null?void 0:p.full_name)||(p==null?void 0:p.name)||"Unknown",status:w.status==="Open"?"Todo":w.status==="Closed"?"Done":"Todo",priority:w.priority||"Medium",dueDate:w.date||new Date().toISOString().split("T")[0],labels:[w.reference_type||"Task"],todoId:w.name,referenceName:w.reference_name,referenceType:w.reference_type})),[l,p]),b=ee.useMemo(()=>g.filter(w=>{const _=e==="All"||w.status===e,S=n==="All"||w.priority===n,j=a===""||w.title.toLowerCase().includes(a.toLowerCase())||w.description.toLowerCase().includes(a.toLowerCase());return _&&S&&j}),[g,e,n,a]),y=()=>{h()};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"My Tasks"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track and manage all your assigned tasks"})]}),c.jsxs("div",{className:"mt-4 flex space-x-2 md:mt-0 md:ml-4",children:[c.jsxs("button",{onClick:y,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",disabled:d,children:[c.jsx(g2,{className:`mr-2 h-4 w-4 ${d?"animate-spin":""}`}),"Refresh"]}),c.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(Ai,{className:"mr-2 h-4 w-4"}),"New Task"]})]})]}),f&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:c.jsx("div",{className:"flex",children:c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading tasks"}),c.jsx("div",{className:"mt-2 text-sm text-red-700",children:c.jsx("p",{children:f.message||"Failed to load your tasks. Please try again."})})]})})}),c.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Wh,{className:"h-4 w-4 text-gray-400"})}),c.jsx("input",{type:"text",value:a,onChange:w=>o(w.target.value),className:"block w-64 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search tasks..."})]}),c.jsxs("select",{value:e,onChange:w=>t(w.target.value),className:"border border-gray-300 rounded-md text-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"All",children:"All Status"}),c.jsx("option",{value:"Todo",children:"Todo"}),c.jsx("option",{value:"In Progress",children:"In Progress"}),c.jsx("option",{value:"Done",children:"Done"}),c.jsx("option",{value:"Blocked",children:"Blocked"})]}),c.jsxs("select",{value:n,onChange:w=>s(w.target.value),className:"border border-gray-300 rounded-md text-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"All",children:"All Priority"}),c.jsx("option",{value:"Low",children:"Low"}),c.jsx("option",{value:"Medium",children:"Medium"}),c.jsx("option",{value:"High",children:"High"})]})]}),c.jsxs("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[c.jsx(Tx,{className:"mr-2 h-4 w-4"}),"More Filters"]})]})}),c.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["My Assigned Tasks (",b.length,")"]}),d&&c.jsx("div",{className:"text-sm text-gray-500",children:"Loading..."})]})}),c.jsx("div",{className:"divide-y divide-gray-200",children:d&&b.length===0?c.jsxs("div",{className:"p-6 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading your tasks..."})]}):b.length===0?c.jsx("div",{className:"p-6 text-center",children:c.jsx("p",{className:"text-sm text-gray-500",children:a||e!=="All"||n!=="All"?"No tasks match your current filters.":"No tasks assigned to you yet."})}):b.map(w=>c.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors duration-200",children:c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"flex-shrink-0 pt-1",children:c.jsx("input",{type:"checkbox",checked:w.status==="Done",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",readOnly:!0})}),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:w.title}),c.jsx("p",{className:"text-sm text-gray-600 mb-3",children:w.description}),c.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[w.labels.map(_=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:_},_)),w.referenceName&&c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:w.referenceName})]}),c.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(_r,{className:"mr-1 h-3 w-3"}),w.dueDate]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Uu,{className:"mr-1 h-3 w-3"}),w.assignee]}),c.jsx("div",{className:"flex items-center",children:c.jsx("span",{children:w.project})})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${qF[w.status]}`,children:w.status}),c.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${IF[w.priority]}`,children:[c.jsx(ZD,{className:"mr-1 h-3 w-3"}),w.priority]})]})]})})]})},w.id))})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-4",children:[c.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-gray-900",children:g.filter(w=>w.status==="Todo").length}),c.jsx("div",{className:"text-sm text-gray-500",children:"Todo"})]})}),c.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g.filter(w=>w.status==="In Progress").length}),c.jsx("div",{className:"text-sm text-gray-500",children:"In Progress"})]})}),c.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:g.filter(w=>w.status==="Done").length}),c.jsx("div",{className:"text-sm text-gray-500",children:"Completed"})]})}),c.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-gray-900",children:g.length}),c.jsx("div",{className:"text-sm text-gray-500",children:"Total Tasks"})]})})]})]})},WF=[{id:1,project:"E-commerce Platform",task:"Design user interface mockups",user:"Jane Smith",startTime:"09:00 AM",endTime:"11:30 AM",duration:"2h 30m",date:"2024-03-08"},{id:2,project:"Mobile App Redesign",task:"API documentation",user:"Mike Johnson",startTime:"02:00 PM",endTime:"04:15 PM",duration:"2h 15m",date:"2024-03-08"},{id:3,project:"Data Analytics Dashboard",task:"Testing setup",user:"Sarah Wilson",startTime:"10:30 AM",endTime:"12:00 PM",duration:"1h 30m",date:"2024-03-07"}],XF=()=>{const[e,t]=ee.useState(!1),[n,s]=ee.useState("00:00:00");return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"md:flex md:items-center md:justify-between",children:c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Time Tracking"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track time spent on projects and tasks"})]})}),c.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-6",children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900",children:n}),c.jsx("div",{className:"flex items-center justify-center space-x-4",children:e?c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>t(!1),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-yellow-600 hover:bg-yellow-700",children:[c.jsx(xM,{className:"mr-2 h-5 w-5"}),"Pause"]}),c.jsxs("button",{onClick:()=>{t(!1),s("00:00:00")},className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-red-600 hover:bg-red-700",children:[c.jsx(RM,{className:"mr-2 h-5 w-5"}),"Stop"]})]}):c.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700",children:[c.jsx(jM,{className:"mr-2 h-5 w-5"}),"Start Timer"]})}),e&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project"}),c.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[c.jsx("option",{children:"E-commerce Platform"}),c.jsx("option",{children:"Mobile App Redesign"}),c.jsx("option",{children:"Data Analytics Dashboard"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Description"}),c.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"What are you working on?"})]})]})]})}),c.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Time Entries"})}),c.jsx("div",{className:"overflow-hidden",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Period"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:WF.map(a=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.project}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.task}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.user}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[a.startTime," - ",a.endTime]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[c.jsx(Ql,{className:"mr-1 h-3 w-3"}),a.duration]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.date})]},a.id))})]})})]})]})},Ol=({title:e,description:t})=>c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e}),c.jsx("p",{className:"text-lg text-gray-600 mb-8",children:t}),c.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-12",children:c.jsxs("div",{className:"text-gray-400 text-center",children:[c.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-4xl",children:"🚧"})}),c.jsx("p",{className:"text-lg",children:"This page is under construction"}),c.jsx("p",{className:"text-sm mt-2",children:"More features coming soon!"})]})})]})}),GF=eD([{path:"/",element:c.jsx(aL,{}),children:[{index:!0,element:c.jsx(l8,{})},{path:"projects",element:c.jsx(VF,{})},{path:"tasks",element:c.jsx(YF,{})},{path:"time-tracking",element:c.jsx(XF,{})},{path:"cost-analysis",element:c.jsx(Ol,{title:"Cost Analysis",description:"Track project costs and budget allocations"})},{path:"reports",element:c.jsx(Ol,{title:"Reports",description:"Generate detailed reports and analytics"})},{path:"calendar",element:c.jsx(Ol,{title:"Calendar",description:"Manage deadlines and project timelines"})},{path:"team",element:c.jsx(Ol,{title:"Team Management",description:"Manage team members and permissions"})},{path:"documents",element:c.jsx(Ol,{title:"Documents",description:"Store and organize project documents"})},{path:"settings",element:c.jsx(Ol,{title:"Settings",description:"Configure your workspace preferences"})}]}],{basename:"/todo"});xC.createRoot(document.getElementById("root")).render(c.jsx(ee.StrictMode,{children:c.jsx(dD,{router:GF})}))});export default KF();
