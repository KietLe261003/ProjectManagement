var iC=Object.defineProperty,oC=Object.defineProperties;var lC=Object.getOwnPropertyDescriptors;var ff=Object.getOwnPropertySymbols;var Iw=Object.prototype.hasOwnProperty,Yw=Object.prototype.propertyIsEnumerable;var wl=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),cC=e=>{throw TypeError(e)};var eg=(e,t,n)=>t in e?iC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||(t={}))Iw.call(t,n)&&eg(e,n,t[n]);if(ff)for(var n of ff(t))Yw.call(t,n)&&eg(e,n,t[n]);return e},he=(e,t)=>oC(e,lC(t));var Me=(e,t)=>{var n={};for(var s in e)Iw.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&ff)for(var s of ff(e))t.indexOf(s)<0&&Yw.call(e,s)&&(n[s]=e[s]);return n};var uC=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ft=(e,t,n)=>eg(e,typeof t!="symbol"?t+"":t,n);var xe=(e,t,n)=>new Promise((s,a)=>{var o=f=>{try{d(n.next(f))}catch(h){a(h)}},l=f=>{try{d(n.throw(f))}catch(h){a(h)}},d=f=>f.done?s(f.value):Promise.resolve(f.value).then(o,l);d((n=n.apply(e,t)).next())}),oo=function(e,t){this[0]=e,this[1]=t},tg=(e,t,n)=>{var s=(l,d,f,h)=>{try{var p=n[l](d),g=(d=p.value)instanceof oo,b=p.done;Promise.resolve(g?d[0]:d).then(y=>g?s(l==="return"?l:"next",d[1]?{done:y.done,value:y.value}:y,f,h):f({value:y,done:b})).catch(y=>s("throw",y,f,h))}catch(y){h(y)}},a=l=>o[l]=d=>new Promise((f,h)=>s(l,d,f,h)),o={};return n=n.apply(e,t),o[wl("asyncIterator")]=()=>o,a("next"),a("throw"),a("return"),o},ng=e=>{var t=e[wl("asyncIterator")],n=!1,s,a={};return t==null?(t=e[wl("iterator")](),s=o=>a[o]=l=>t[o](l)):(t=t.call(e),s=o=>a[o]=l=>{if(n){if(n=!1,o==="throw")throw l;return l}return n=!0,{done:!1,value:new oo(new Promise(d=>{var f=t[o](l);f instanceof Object||cC("Object expected"),d(f)}),1)}}),a[wl("iterator")]=()=>a,s("next"),"throw"in t?s("throw"):a.throw=o=>{throw o},"return"in t&&s("return"),a},Ww=(e,t,n)=>(t=e[wl("asyncIterator")])?t.call(e):(e=e[wl("iterator")](),t={},n=(s,a)=>(a=e[s])&&(t[s]=o=>new Promise((l,d,f)=>(o=a.call(e,o),f=o.done,Promise.resolve(o.value).then(h=>l({value:h,done:f}),d)))),n("next"),n("return"),t);var nH=uC(kt=>{function dC(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function J0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sg={exports:{}},tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw;function fC(){if(Xw)return tu;Xw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:e,type:s,key:l,ref:a!==void 0?a:null,props:o}}return tu.Fragment=t,tu.jsx=n,tu.jsxs=n,tu}var Gw;function hC(){return Gw||(Gw=1,sg.exports=fC()),sg.exports}var u=hC(),rg={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kw;function mC(){if(Kw)return Ot;Kw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=g&&U[g]||U["@@iterator"],typeof U=="function"?U:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function j(U,re,we){this.props=U,this.context=re,this.refs=_,this.updater=we||y}j.prototype.isReactComponent={},j.prototype.setState=function(U,re){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,re,"setState")},j.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function S(){}S.prototype=j.prototype;function O(U,re,we){this.props=U,this.context=re,this.refs=_,this.updater=we||y}var k=O.prototype=new S;k.constructor=O,w(k,j.prototype),k.isPureReactComponent=!0;var C=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function V(U,re,we,I,ce,je){return we=je.ref,{$$typeof:e,type:U,key:re,ref:we!==void 0?we:null,props:je}}function D(U,re){return V(U.type,re,void 0,void 0,void 0,U.props)}function H(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function ee(U){var re={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(we){return re[we]})}var q=/\/+/g;function X(U,re){return typeof U=="object"&&U!==null&&U.key!=null?ee(""+U.key):re.toString(36)}function ae(){}function J(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(ae,ae):(U.status="pending",U.then(function(re){U.status==="pending"&&(U.status="fulfilled",U.value=re)},function(re){U.status==="pending"&&(U.status="rejected",U.reason=re)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Y(U,re,we,I,ce){var je=typeof U;(je==="undefined"||je==="boolean")&&(U=null);var be=!1;if(U===null)be=!0;else switch(je){case"bigint":case"string":case"number":be=!0;break;case"object":switch(U.$$typeof){case e:case t:be=!0;break;case p:return be=U._init,Y(be(U._payload),re,we,I,ce)}}if(be)return ce=ce(U),be=I===""?"."+X(U,0):I,C(ce)?(we="",be!=null&&(we=be.replace(q,"$&/")+"/"),Y(ce,re,we,"",function(Ke){return Ke})):ce!=null&&(H(ce)&&(ce=D(ce,we+(ce.key==null||U&&U.key===ce.key?"":(""+ce.key).replace(q,"$&/")+"/")+be)),re.push(ce)),1;be=0;var Te=I===""?".":I+":";if(C(U))for(var Oe=0;Oe<U.length;Oe++)I=U[Oe],je=Te+X(I,Oe),be+=Y(I,re,we,je,ce);else if(Oe=b(U),typeof Oe=="function")for(U=Oe.call(U),Oe=0;!(I=U.next()).done;)I=I.value,je=Te+X(I,Oe++),be+=Y(I,re,we,je,ce);else if(je==="object"){if(typeof U.then=="function")return Y(J(U),re,we,I,ce);throw re=String(U),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return be}function z(U,re,we){if(U==null)return U;var I=[],ce=0;return Y(U,I,"","",function(je){return re.call(we,je,ce++)}),I}function Q(U){if(U._status===-1){var re=U._result;re=re(),re.then(function(we){(U._status===0||U._status===-1)&&(U._status=1,U._result=we)},function(we){(U._status===0||U._status===-1)&&(U._status=2,U._result=we)}),U._status===-1&&(U._status=0,U._result=re)}if(U._status===1)return U._result.default;throw U._result}var Z=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function le(){}return Ot.Children={map:z,forEach:function(U,re,we){z(U,function(){re.apply(this,arguments)},we)},count:function(U){var re=0;return z(U,function(){re++}),re},toArray:function(U){return z(U,function(re){return re})||[]},only:function(U){if(!H(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ot.Component=j,Ot.Fragment=n,Ot.Profiler=a,Ot.PureComponent=O,Ot.StrictMode=s,Ot.Suspense=f,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(U){return A.H.useMemoCache(U)}},Ot.cache=function(U){return function(){return U.apply(null,arguments)}},Ot.cloneElement=function(U,re,we){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var I=w({},U.props),ce=U.key,je=void 0;if(re!=null)for(be in re.ref!==void 0&&(je=void 0),re.key!==void 0&&(ce=""+re.key),re)!M.call(re,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&re.ref===void 0||(I[be]=re[be]);var be=arguments.length-2;if(be===1)I.children=we;else if(1<be){for(var Te=Array(be),Oe=0;Oe<be;Oe++)Te[Oe]=arguments[Oe+2];I.children=Te}return V(U.type,ce,void 0,void 0,je,I)},Ot.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},Ot.createElement=function(U,re,we){var I,ce={},je=null;if(re!=null)for(I in re.key!==void 0&&(je=""+re.key),re)M.call(re,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(ce[I]=re[I]);var be=arguments.length-2;if(be===1)ce.children=we;else if(1<be){for(var Te=Array(be),Oe=0;Oe<be;Oe++)Te[Oe]=arguments[Oe+2];ce.children=Te}if(U&&U.defaultProps)for(I in be=U.defaultProps,be)ce[I]===void 0&&(ce[I]=be[I]);return V(U,je,void 0,void 0,null,ce)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(U){return{$$typeof:d,render:U}},Ot.isValidElement=H,Ot.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:Q}},Ot.memo=function(U,re){return{$$typeof:h,type:U,compare:re===void 0?null:re}},Ot.startTransition=function(U){var re=A.T,we={};A.T=we;try{var I=U(),ce=A.S;ce!==null&&ce(we,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(le,Z)}catch(je){Z(je)}finally{A.T=re}},Ot.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ot.use=function(U){return A.H.use(U)},Ot.useActionState=function(U,re,we){return A.H.useActionState(U,re,we)},Ot.useCallback=function(U,re){return A.H.useCallback(U,re)},Ot.useContext=function(U){return A.H.useContext(U)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(U,re){return A.H.useDeferredValue(U,re)},Ot.useEffect=function(U,re,we){var I=A.H;if(typeof we=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return I.useEffect(U,re)},Ot.useId=function(){return A.H.useId()},Ot.useImperativeHandle=function(U,re,we){return A.H.useImperativeHandle(U,re,we)},Ot.useInsertionEffect=function(U,re){return A.H.useInsertionEffect(U,re)},Ot.useLayoutEffect=function(U,re){return A.H.useLayoutEffect(U,re)},Ot.useMemo=function(U,re){return A.H.useMemo(U,re)},Ot.useOptimistic=function(U,re){return A.H.useOptimistic(U,re)},Ot.useReducer=function(U,re,we){return A.H.useReducer(U,re,we)},Ot.useRef=function(U){return A.H.useRef(U)},Ot.useState=function(U){return A.H.useState(U)},Ot.useSyncExternalStore=function(U,re,we){return A.H.useSyncExternalStore(U,re,we)},Ot.useTransition=function(){return A.H.useTransition()},Ot.version="19.1.1",Ot}var Qw;function ex(){return Qw||(Qw=1,rg.exports=mC()),rg.exports}var N=ex();const te=J0(N),hS=dC({__proto__:null,default:te},[N]);var ag={exports:{}},nu={},ig={exports:{}},og={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw;function pC(){return Zw||(Zw=1,function(e){function t(z,Q){var Z=z.length;z.push(Q);e:for(;0<Z;){var le=Z-1>>>1,U=z[le];if(0<a(U,Q))z[le]=Q,z[Z]=U,Z=le;else break e}}function n(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var Q=z[0],Z=z.pop();if(Z!==Q){z[0]=Z;e:for(var le=0,U=z.length,re=U>>>1;le<re;){var we=2*(le+1)-1,I=z[we],ce=we+1,je=z[ce];if(0>a(I,Z))ce<U&&0>a(je,I)?(z[le]=je,z[ce]=Z,le=ce):(z[le]=I,z[we]=Z,le=we);else if(ce<U&&0>a(je,Z))z[le]=je,z[ce]=Z,le=ce;else break e}}return Q}function a(z,Q){var Z=z.sortIndex-Q.sortIndex;return Z!==0?Z:z.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,g=null,b=3,y=!1,w=!1,_=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate!="undefined"?setImmediate:null;function C(z){for(var Q=n(h);Q!==null;){if(Q.callback===null)s(h);else if(Q.startTime<=z)s(h),Q.sortIndex=Q.expirationTime,t(f,Q);else break;Q=n(h)}}function A(z){if(_=!1,C(z),!w)if(n(f)!==null)w=!0,M||(M=!0,X());else{var Q=n(h);Q!==null&&Y(A,Q.startTime-z)}}var M=!1,V=-1,D=5,H=-1;function ee(){return j?!0:!(e.unstable_now()-H<D)}function q(){if(j=!1,M){var z=e.unstable_now();H=z;var Q=!0;try{e:{w=!1,_&&(_=!1,O(V),V=-1),y=!0;var Z=b;try{t:{for(C(z),g=n(f);g!==null&&!(g.expirationTime>z&&ee());){var le=g.callback;if(typeof le=="function"){g.callback=null,b=g.priorityLevel;var U=le(g.expirationTime<=z);if(z=e.unstable_now(),typeof U=="function"){g.callback=U,C(z),Q=!0;break t}g===n(f)&&s(f),C(z)}else s(f);g=n(f)}if(g!==null)Q=!0;else{var re=n(h);re!==null&&Y(A,re.startTime-z),Q=!1}}break e}finally{g=null,b=Z,y=!1}Q=void 0}}finally{Q?X():M=!1}}}var X;if(typeof k=="function")X=function(){k(q)};else if(typeof MessageChannel!="undefined"){var ae=new MessageChannel,J=ae.port2;ae.port1.onmessage=q,X=function(){J.postMessage(null)}}else X=function(){S(q,0)};function Y(z,Q){V=S(function(){z(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(z){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var Z=b;b=Q;try{return z()}finally{b=Z}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(z,Q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=b;b=z;try{return Q()}finally{b=Z}},e.unstable_scheduleCallback=function(z,Q,Z){var le=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?le+Z:le):Z=le,z){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Z+U,z={id:p++,callback:Q,priorityLevel:z,startTime:Z,expirationTime:U,sortIndex:-1},Z>le?(z.sortIndex=Z,t(h,z),n(f)===null&&z===n(h)&&(_?(O(V),V=-1):_=!0,Y(A,Z-le))):(z.sortIndex=U,t(f,z),w||y||(w=!0,M||(M=!0,X()))),z},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(z){var Q=b;return function(){var Z=b;b=Q;try{return z.apply(this,arguments)}finally{b=Z}}}}(og)),og}var Jw;function gC(){return Jw||(Jw=1,ig.exports=pC()),ig.exports}var lg={exports:{}},vs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function xC(){if(e_)return vs;e_=1;var e=ex();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return vs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,vs.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(f,h,null,p)},vs.flushSync=function(f){var h=l.T,p=s.p;try{if(l.T=null,s.p=2,f)return f()}finally{l.T=h,s.p=p,s.d.f()}},vs.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(f,h))},vs.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},vs.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?s.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:y}):p==="script"&&s.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},vs.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);s.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(f)},vs.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);s.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},vs.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);s.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(f)},vs.requestFormReset=function(f){s.d.r(f)},vs.unstable_batchedUpdates=function(f,h){return f(h)},vs.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},vs.useFormStatus=function(){return l.H.useHostTransitionStatus()},vs.version="19.1.1",vs}var t_;function mS(){if(t_)return lg.exports;t_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),lg.exports=xC(),lg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function yC(){if(n_)return nu;n_=1;var e=gC(),t=ex(),n=mS();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,c=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(c=i.return),r=i.return;while(r)}return i.tag===3?c:null}function l(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(s(188))}function f(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(s(188));return i!==r?null:r}for(var c=r,m=i;;){var x=c.return;if(x===null)break;var v=x.alternate;if(v===null){if(m=x.return,m!==null){c=m;continue}break}if(x.child===v.child){for(v=x.child;v;){if(v===c)return d(x),r;if(v===m)return d(x),i;v=v.sibling}throw Error(s(188))}if(c.return!==m.return)c=x,m=v;else{for(var T=!1,P=x.child;P;){if(P===c){T=!0,c=x,m=v;break}if(P===m){T=!0,m=x,c=v;break}P=P.sibling}if(!T){for(P=v.child;P;){if(P===c){T=!0,c=v,m=x;break}if(P===m){T=!0,m=v,c=x;break}P=P.sibling}if(!T)throw Error(s(189))}}if(c.alternate!==m)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?r:i}function h(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=h(r),i!==null)return i;r=r.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),k=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function X(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Symbol.for("react.client.reference");function J(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ae?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case j:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case M:return"SuspenseList";case H:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case y:return"Portal";case k:return(r.displayName||"Context")+".Provider";case O:return(r._context.displayName||"Context")+".Consumer";case C:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case V:return i=r.displayName||null,i!==null?i:J(r.type)||"Memo";case D:i=r._payload,r=r._init;try{return J(r(i))}catch(c){}}return null}var Y=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},le=[],U=-1;function re(r){return{current:r}}function we(r){0>U||(r.current=le[U],le[U]=null,U--)}function I(r,i){U++,le[U]=r.current,r.current=i}var ce=re(null),je=re(null),be=re(null),Te=re(null);function Oe(r,i){switch(I(be,i),I(je,r),I(ce,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?bw(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=bw(i),r=vw(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}we(ce),I(ce,r)}function Ke(){we(ce),we(je),we(be)}function He(r){r.memoizedState!==null&&I(Te,r);var i=ce.current,c=vw(i,r.type);i!==c&&(I(je,r),I(ce,c))}function wt(r){je.current===r&&(we(ce),we(je)),Te.current===r&&(we(Te),Kc._currentValue=Z)}var st=Object.prototype.hasOwnProperty,bt=e.unstable_scheduleCallback,Pe=e.unstable_cancelCallback,pt=e.unstable_shouldYield,Vt=e.unstable_requestPaint,_t=e.unstable_now,$t=e.unstable_getCurrentPriorityLevel,Ct=e.unstable_ImmediatePriority,W=e.unstable_UserBlockingPriority,ue=e.unstable_NormalPriority,$=e.unstable_LowPriority,Se=e.unstable_IdlePriority,De=e.log,Re=e.unstable_setDisableYieldValue,Be=null,qe=null;function Xe(r){if(typeof De=="function"&&Re(r),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Be,r)}catch(i){}}var gt=Math.clz32?Math.clz32:ke,yn=Math.log,lt=Math.LN2;function ke(r){return r>>>=0,r===0?32:31-(yn(r)/lt|0)|0}var Ue=256,Dt=4194304;function Sn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function rs(r,i,c){var m=r.pendingLanes;if(m===0)return 0;var x=0,v=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var P=m&134217727;return P!==0?(m=P&~v,m!==0?x=Sn(m):(T&=P,T!==0?x=Sn(T):c||(c=P&~r,c!==0&&(x=Sn(c))))):(P=m&~v,P!==0?x=Sn(P):T!==0?x=Sn(T):c||(c=m&~r,c!==0&&(x=Sn(c)))),x===0?0:i!==0&&i!==x&&(i&v)===0&&(v=x&-x,c=i&-i,v>=c||v===32&&(c&4194048)!==0)?i:x}function Hn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function us(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ye(){var r=Ue;return Ue<<=1,(Ue&4194048)===0&&(Ue=256),r}function Mt(){var r=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),r}function Bt(r){for(var i=[],c=0;31>c;c++)i.push(r);return i}function jt(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Jt(r,i,c,m,x,v){var T=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var P=r.entanglements,G=r.expirationTimes,pe=r.hiddenUpdates;for(c=T&~c;0<c;){var Ne=31-gt(c),Ce=1<<Ne;P[Ne]=0,G[Ne]=-1;var ye=pe[Ne];if(ye!==null)for(pe[Ne]=null,Ne=0;Ne<ye.length;Ne++){var ve=ye[Ne];ve!==null&&(ve.lane&=-536870913)}c&=~Ce}m!==0&&We(r,m,0),v!==0&&x===0&&r.tag!==0&&(r.suspendedLanes|=v&~(T&~i))}function We(r,i,c){r.pendingLanes|=i,r.suspendedLanes&=~i;var m=31-gt(i);r.entangledLanes|=i,r.entanglements[m]=r.entanglements[m]|1073741824|c&4194090}function vt(r,i){var c=r.entangledLanes|=i;for(r=r.entanglements;c;){var m=31-gt(c),x=1<<m;x&i|r[m]&i&&(r[m]|=i),c&=~x}}function qt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Wt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function K(){var r=Q.p;return r!==0?r:(r=window.event,r===void 0?32:Uw(r.type))}function se(r,i){var c=Q.p;try{return Q.p=r,i()}finally{Q.p=c}}var fe=Math.random().toString(36).slice(2),_e="__reactFiber$"+fe,Ae="__reactProps$"+fe,Fe="__reactContainer$"+fe,Qe="__reactEvents$"+fe,tt="__reactListeners$"+fe,ct="__reactHandles$"+fe,At="__reactResources$"+fe,rt="__reactMarker$"+fe;function yt(r){delete r[_e],delete r[Ae],delete r[Qe],delete r[tt],delete r[ct]}function Tt(r){var i=r[_e];if(i)return i;for(var c=r.parentNode;c;){if(i=c[Fe]||c[_e]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(r=Sw(r);r!==null;){if(c=r[_e])return c;r=Sw(r)}return i}r=c,c=r.parentNode}return null}function dn(r){if(r=r[_e]||r[Fe]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function Cn(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function an(r){var i=r[At];return i||(i=r[At]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function at(r){r[rt]=!0}var St=new Set,Xt={};function vn(r,i){An(r,i),An(r+"Capture",i)}function An(r,i){for(Xt[r]=i,r=0;r<i.length;r++)St.add(i[r])}var Kn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),as={},ir={};function or(r){return st.call(ir,r)?!0:st.call(as,r)?!1:Kn.test(r)?ir[r]=!0:(as[r]=!0,!1)}function xs(r,i,c){if(or(i))if(c===null)r.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var m=i.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+c)}}function lr(r,i,c){if(c===null)r.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+c)}}function Rt(r,i,c,m){if(m===null)r.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(i,c,""+m)}}var On,ha;function ds(r){if(On===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);On=i&&i[1]||"",ha=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+On+r+ha}var pn=!1;function Er(r,i){if(!r||pn)return"";pn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(i){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(ve){var ye=ve}Reflect.construct(r,[],Ce)}else{try{Ce.call()}catch(ve){ye=ve}r.call(Ce.prototype)}}else{try{throw Error()}catch(ve){ye=ve}(Ce=r())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(ve){if(ve&&ye&&typeof ve.stack=="string")return[ve.stack,ye.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=m.DetermineComponentFrameRoot(),T=v[0],P=v[1];if(T&&P){var G=T.split(`
`),pe=P.split(`
`);for(x=m=0;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;for(;x<pe.length&&!pe[x].includes("DetermineComponentFrameRoot");)x++;if(m===G.length||x===pe.length)for(m=G.length-1,x=pe.length-1;1<=m&&0<=x&&G[m]!==pe[x];)x--;for(;1<=m&&0<=x;m--,x--)if(G[m]!==pe[x]){if(m!==1||x!==1)do if(m--,x--,0>x||G[m]!==pe[x]){var Ne=`
`+G[m].replace(" at new "," at ");return r.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",r.displayName)),Ne}while(1<=m&&0<=x);break}}}finally{pn=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?ds(c):""}function zo(r){switch(r.tag){case 26:case 27:case 5:return ds(r.type);case 16:return ds("Lazy");case 13:return ds("Suspense");case 19:return ds("SuspenseList");case 0:case 15:return Er(r.type,!1);case 11:return Er(r.type.render,!1);case 1:return Er(r.type,!0);case 31:return ds("Activity");default:return""}}function Bo(r){try{var i="";do i+=zo(r),r=r.return;while(r);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Os(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function rd(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ad(r){var i=rd(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),m=""+r[i];if(!r.hasOwnProperty(i)&&typeof c!="undefined"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,v=c.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return x.call(this)},set:function(T){m=""+T,v.call(this,T)}}),Object.defineProperty(r,i,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(T){m=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function zi(r){r._valueTracker||(r._valueTracker=ad(r))}function $r(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var c=i.getValue(),m="";return r&&(m=rd(r)?r.checked?"true":"false":r.value),r=m,r!==c?(i.setValue(r),!0):!1}function Bi(r){if(r=r||(typeof document!="undefined"?document:void 0),typeof r=="undefined")return null;try{return r.activeElement||r.body}catch(i){return r.body}}var om=/[\n"\\]/g;function Rs(r){return r.replace(om,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ic(r,i,c,m,x,v,T,P){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),i!=null?T==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Os(i)):r.value!==""+Os(i)&&(r.value=""+Os(i)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),i!=null?oc(r,T,Os(i)):c!=null?oc(r,T,Os(c)):m!=null&&r.removeAttribute("value"),x==null&&v!=null&&(r.defaultChecked=!!v),x!=null&&(r.checked=x&&typeof x!="function"&&typeof x!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?r.name=""+Os(P):r.removeAttribute("name")}function id(r,i,c,m,x,v,T,P){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),i!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||i!=null))return;c=c!=null?""+Os(c):"",i=i!=null?""+Os(i):c,P||i===r.value||(r.value=i),r.defaultValue=i}m=m!=null?m:x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=P?r.checked:!!m,r.defaultChecked=!!m,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function oc(r,i,c){i==="number"&&Bi(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function ma(r,i,c,m){if(r=r.options,i){i={};for(var x=0;x<c.length;x++)i["$"+c[x]]=!0;for(c=0;c<r.length;c++)x=i.hasOwnProperty("$"+r[c].value),r[c].selected!==x&&(r[c].selected=x),x&&m&&(r[c].defaultSelected=!0)}else{for(c=""+Os(c),i=null,x=0;x<r.length;x++){if(r[x].value===c){r[x].selected=!0,m&&(r[x].defaultSelected=!0);return}i!==null||r[x].disabled||(i=r[x])}i!==null&&(i.selected=!0)}}function Ui(r,i,c){if(i!=null&&(i=""+Os(i),i!==r.value&&(r.value=i),c==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=c!=null?""+Os(c):""}function lc(r,i,c,m){if(i==null){if(m!=null){if(c!=null)throw Error(s(92));if(Y(m)){if(1<m.length)throw Error(s(93));m=m[0]}c=m}c==null&&(c=""),i=c}c=Os(i),r.defaultValue=c,m=r.textContent,m===c&&m!==""&&m!==null&&(r.value=m)}function qa(r,i){if(i){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=i;return}}r.textContent=i}var od=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ld(r,i,c){var m=i.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":m?r.setProperty(i,c):typeof c!="number"||c===0||od.has(i)?i==="float"?r.cssFloat=c:r[i]=(""+c).trim():r[i]=c+"px"}function cc(r,i,c){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||i!=null&&i.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var x in i)m=i[x],i.hasOwnProperty(x)&&c[x]!==m&&ld(r,x,m)}else for(var v in i)i.hasOwnProperty(v)&&ld(r,v,i[v])}function Fi(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fo(r){return lm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var uc=null;function Hi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var pa=null,Ia=null;function dc(r){var i=dn(r);if(i&&(r=i.stateNode)){var c=r[Ae]||null;e:switch(r=i.stateNode,i.type){case"input":if(ic(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),i=c.name,c.type==="radio"&&i!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Rs(""+i)+'"][type="radio"]'),i=0;i<c.length;i++){var m=c[i];if(m!==r&&m.form===r.form){var x=m[Ae]||null;if(!x)throw Error(s(90));ic(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(i=0;i<c.length;i++)m=c[i],m.form===r.form&&$r(m)}break e;case"textarea":Ui(r,c.value,c.defaultValue);break e;case"select":i=c.value,i!=null&&ma(r,!!c.multiple,i,!1)}}}var Vi=!1;function fc(r,i,c){if(Vi)return r(i,c);Vi=!0;try{var m=r(i);return m}finally{if(Vi=!1,(pa!==null||Ia!==null)&&(qd(),pa&&(i=pa,r=Ia,Ia=pa=null,dc(i),r)))for(i=0;i<r.length;i++)dc(r[i])}}function Ya(r,i){var c=r.stateNode;if(c===null)return null;var m=c[Ae]||null;if(m===null)return null;c=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(s(231,i,typeof c));return c}var Ds=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Ho=!1;if(Ds)try{var $i={};Object.defineProperty($i,"passive",{get:function(){Ho=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch(r){Ho=!1}var Is=null,Ms=null,ga=null;function qi(){if(ga)return ga;var r,i=Ms,c=i.length,m,x="value"in Is?Is.value:Is.textContent,v=x.length;for(r=0;r<c&&i[r]===x[r];r++);var T=c-r;for(m=1;m<=T&&i[c-m]===x[v-m];m++);return ga=x.slice(r,1<m?1-m:void 0)}function Wa(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Vo(){return!0}function cd(){return!1}function ys(r){function i(c,m,x,v,T){this._reactName=c,this._targetInst=x,this.type=m,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(c=r[P],this[P]=c?c(v):v[P]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Vo:cd,this.isPropagationStopped=cd,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Vo)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Vo)},persist:function(){},isPersistent:Vo}),i}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$o=ys(Tr),Xa=p({},Tr,{view:0,detail:0}),Rn=ys(Xa),E,R,B,F=p({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==B&&(B&&r.type==="mousemove"?(E=r.screenX-B.screenX,R=r.screenY-B.screenY):R=E=0,B=r),E)},movementY:function(r){return"movementY"in r?r.movementY:R}}),ie=ys(F),de=p({},F,{dataTransfer:0}),ge=ys(de),Le=p({},Xa,{relatedTarget:0}),ot=ys(Le),ze=p({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ie=ys(ze),ht=p({},Tr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),on=ys(ht),Nt=p({},Tr,{data:0}),ut=ys(Nt),nt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},is={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Vn[r])?!!i[r]:!1}function cr(){return Nn}var Ii=p({},Xa,{key:function(r){if(r.key){var i=nt[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Wa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?is[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(r){return r.type==="keypress"?Wa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Wa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),qr=ys(Ii),Ga=p({},F,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qo=ys(Ga),Io=p({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),ud=ys(Io),ST=p({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),NT=ys(ST),ET=p({},F,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),TT=ys(ET),kT=p({},Tr,{newState:0,oldState:0}),CT=ys(kT),AT=[9,13,27,32],cm=Ds&&"CompositionEvent"in window,hc=null;Ds&&"documentMode"in document&&(hc=document.documentMode);var OT=Ds&&"TextEvent"in window&&!hc,ky=Ds&&(!cm||hc&&8<hc&&11>=hc),Cy=" ",Ay=!1;function Oy(r,i){switch(r){case"keyup":return AT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ry(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Yo=!1;function RT(r,i){switch(r){case"compositionend":return Ry(i);case"keypress":return i.which!==32?null:(Ay=!0,Cy);case"textInput":return r=i.data,r===Cy&&Ay?null:r;default:return null}}function DT(r,i){if(Yo)return r==="compositionend"||!cm&&Oy(r,i)?(r=qi(),ga=Ms=Is=null,Yo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ky&&i.locale!=="ko"?null:i.data;default:return null}}var MT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dy(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!MT[r.type]:i==="textarea"}function My(r,i,c,m){pa?Ia?Ia.push(m):Ia=[m]:pa=m,i=Kd(i,"onChange"),0<i.length&&(c=new $o("onChange","change",null,c,m),r.push({event:c,listeners:i}))}var mc=null,pc=null;function PT(r){mw(r,0)}function dd(r){var i=Cn(r);if($r(i))return r}function Py(r,i){if(r==="change")return i}var Ly=!1;if(Ds){var um;if(Ds){var dm="oninput"in document;if(!dm){var zy=document.createElement("div");zy.setAttribute("oninput","return;"),dm=typeof zy.oninput=="function"}um=dm}else um=!1;Ly=um&&(!document.documentMode||9<document.documentMode)}function By(){mc&&(mc.detachEvent("onpropertychange",Uy),pc=mc=null)}function Uy(r){if(r.propertyName==="value"&&dd(pc)){var i=[];My(i,pc,r,Hi(r)),fc(PT,i)}}function LT(r,i,c){r==="focusin"?(By(),mc=i,pc=c,mc.attachEvent("onpropertychange",Uy)):r==="focusout"&&By()}function zT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return dd(pc)}function BT(r,i){if(r==="click")return dd(i)}function UT(r,i){if(r==="input"||r==="change")return dd(i)}function FT(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Ys=typeof Object.is=="function"?Object.is:FT;function gc(r,i){if(Ys(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var c=Object.keys(r),m=Object.keys(i);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var x=c[m];if(!st.call(i,x)||!Ys(r[x],i[x]))return!1}return!0}function Fy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Hy(r,i){var c=Fy(r);r=0;for(var m;c;){if(c.nodeType===3){if(m=r+c.textContent.length,r<=i&&m>=i)return{node:c,offset:i-r};r=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Fy(c)}}function Vy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Vy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function $y(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Bi(r.document);i instanceof r.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch(m){c=!1}if(c)r=i.contentWindow;else break;i=Bi(r.document)}return i}function fm(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var HT=Ds&&"documentMode"in document&&11>=document.documentMode,Wo=null,hm=null,xc=null,mm=!1;function qy(r,i,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;mm||Wo==null||Wo!==Bi(m)||(m=Wo,"selectionStart"in m&&fm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),xc&&gc(xc,m)||(xc=m,m=Kd(hm,"onSelect"),0<m.length&&(i=new $o("onSelect","select",null,i,c),r.push({event:i,listeners:m}),i.target=Wo)))}function Yi(r,i){var c={};return c[r.toLowerCase()]=i.toLowerCase(),c["Webkit"+r]="webkit"+i,c["Moz"+r]="moz"+i,c}var Xo={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionrun:Yi("Transition","TransitionRun"),transitionstart:Yi("Transition","TransitionStart"),transitioncancel:Yi("Transition","TransitionCancel"),transitionend:Yi("Transition","TransitionEnd")},pm={},Iy={};Ds&&(Iy=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function Wi(r){if(pm[r])return pm[r];if(!Xo[r])return r;var i=Xo[r],c;for(c in i)if(i.hasOwnProperty(c)&&c in Iy)return pm[r]=i[c];return r}var Yy=Wi("animationend"),Wy=Wi("animationiteration"),Xy=Wi("animationstart"),VT=Wi("transitionrun"),$T=Wi("transitionstart"),qT=Wi("transitioncancel"),Gy=Wi("transitionend"),Ky=new Map,gm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gm.push("scrollEnd");function kr(r,i){Ky.set(r,i),vn(i,[r])}var Qy=new WeakMap;function ur(r,i){if(typeof r=="object"&&r!==null){var c=Qy.get(r);return c!==void 0?c:(i={value:r,source:i,stack:Bo(i)},Qy.set(r,i),i)}return{value:r,source:i,stack:Bo(i)}}var dr=[],Go=0,xm=0;function fd(){for(var r=Go,i=xm=Go=0;i<r;){var c=dr[i];dr[i++]=null;var m=dr[i];dr[i++]=null;var x=dr[i];dr[i++]=null;var v=dr[i];if(dr[i++]=null,m!==null&&x!==null){var T=m.pending;T===null?x.next=x:(x.next=T.next,T.next=x),m.pending=x}v!==0&&Zy(c,x,v)}}function hd(r,i,c,m){dr[Go++]=r,dr[Go++]=i,dr[Go++]=c,dr[Go++]=m,xm|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function ym(r,i,c,m){return hd(r,i,c,m),md(r)}function Ko(r,i){return hd(r,null,null,i),md(r)}function Zy(r,i,c){r.lanes|=c;var m=r.alternate;m!==null&&(m.lanes|=c);for(var x=!1,v=r.return;v!==null;)v.childLanes|=c,m=v.alternate,m!==null&&(m.childLanes|=c),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(x=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,x&&i!==null&&(x=31-gt(c),r=v.hiddenUpdates,m=r[x],m===null?r[x]=[i]:m.push(i),i.lane=c|536870912),v):null}function md(r){if(50<Vc)throw Vc=0,Sp=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Qo={};function IT(r,i,c,m){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(r,i,c,m){return new IT(r,i,c,m)}function bm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xa(r,i){var c=r.alternate;return c===null?(c=Ws(r.tag,i,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=i,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,i=r.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function Jy(r,i){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,i=c.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function pd(r,i,c,m,x,v){var T=0;if(m=r,typeof r=="function")bm(r)&&(T=1);else if(typeof r=="string")T=Wk(r,c,ce.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case H:return r=Ws(31,c,i,x),r.elementType=H,r.lanes=v,r;case w:return Xi(c.children,x,v,i);case _:T=8,x|=24;break;case j:return r=Ws(12,c,i,x|2),r.elementType=j,r.lanes=v,r;case A:return r=Ws(13,c,i,x),r.elementType=A,r.lanes=v,r;case M:return r=Ws(19,c,i,x),r.elementType=M,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case S:case k:T=10;break e;case O:T=9;break e;case C:T=11;break e;case V:T=14;break e;case D:T=16,m=null;break e}T=29,c=Error(s(130,r===null?"null":typeof r,"")),m=null}return i=Ws(T,c,i,x),i.elementType=r,i.type=m,i.lanes=v,i}function Xi(r,i,c,m){return r=Ws(7,r,m,i),r.lanes=c,r}function vm(r,i,c){return r=Ws(6,r,null,i),r.lanes=c,r}function wm(r,i,c){return i=Ws(4,r.children!==null?r.children:[],r.key,i),i.lanes=c,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Zo=[],Jo=0,gd=null,xd=0,fr=[],hr=0,Gi=null,ya=1,ba="";function Ki(r,i){Zo[Jo++]=xd,Zo[Jo++]=gd,gd=r,xd=i}function eb(r,i,c){fr[hr++]=ya,fr[hr++]=ba,fr[hr++]=Gi,Gi=r;var m=ya;r=ba;var x=32-gt(m)-1;m&=~(1<<x),c+=1;var v=32-gt(i)+x;if(30<v){var T=x-x%5;v=(m&(1<<T)-1).toString(32),m>>=T,x-=T,ya=1<<32-gt(i)+x|c<<x|m,ba=v+r}else ya=1<<v|c<<x|m,ba=r}function _m(r){r.return!==null&&(Ki(r,1),eb(r,1,0))}function jm(r){for(;r===gd;)gd=Zo[--Jo],Zo[Jo]=null,xd=Zo[--Jo],Zo[Jo]=null;for(;r===Gi;)Gi=fr[--hr],fr[hr]=null,ba=fr[--hr],fr[hr]=null,ya=fr[--hr],fr[hr]=null}var Ss=null,Dn=null,en=!1,Qi=null,Ir=!1,Sm=Error(s(519));function Zi(r){var i=Error(s(418,""));throw vc(ur(i,r)),Sm}function tb(r){var i=r.stateNode,c=r.type,m=r.memoizedProps;switch(i[_e]=r,i[Ae]=m,c){case"dialog":Ft("cancel",i),Ft("close",i);break;case"iframe":case"object":case"embed":Ft("load",i);break;case"video":case"audio":for(c=0;c<qc.length;c++)Ft(qc[c],i);break;case"source":Ft("error",i);break;case"img":case"image":case"link":Ft("error",i),Ft("load",i);break;case"details":Ft("toggle",i);break;case"input":Ft("invalid",i),id(i,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),zi(i);break;case"select":Ft("invalid",i);break;case"textarea":Ft("invalid",i),lc(i,m.value,m.defaultValue,m.children),zi(i)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||i.textContent===""+c||m.suppressHydrationWarning===!0||yw(i.textContent,c)?(m.popover!=null&&(Ft("beforetoggle",i),Ft("toggle",i)),m.onScroll!=null&&Ft("scroll",i),m.onScrollEnd!=null&&Ft("scrollend",i),m.onClick!=null&&(i.onclick=Qd),i=!0):i=!1,i||Zi(r)}function nb(r){for(Ss=r.return;Ss;)switch(Ss.tag){case 5:case 13:Ir=!1;return;case 27:case 3:Ir=!0;return;default:Ss=Ss.return}}function yc(r){if(r!==Ss)return!1;if(!en)return nb(r),en=!0,!1;var i=r.tag,c;if((c=i!==3&&i!==27)&&((c=i===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||Fp(r.type,r.memoizedProps)),c=!c),c&&Dn&&Zi(r),nb(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(i===0){Dn=Ar(r.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++;r=r.nextSibling}Dn=null}}else i===27?(i=Dn,di(r.type)?(r=qp,qp=null,Dn=r):Dn=i):Dn=Ss?Ar(r.stateNode.nextSibling):null;return!0}function bc(){Dn=Ss=null,en=!1}function sb(){var r=Qi;return r!==null&&(zs===null?zs=r:zs.push.apply(zs,r),Qi=null),r}function vc(r){Qi===null?Qi=[r]:Qi.push(r)}var Nm=re(null),Ji=null,va=null;function Ka(r,i,c){I(Nm,i._currentValue),i._currentValue=c}function wa(r){r._currentValue=Nm.current,we(Nm)}function Em(r,i,c){for(;r!==null;){var m=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),r===c)break;r=r.return}}function Tm(r,i,c,m){var x=r.child;for(x!==null&&(x.return=r);x!==null;){var v=x.dependencies;if(v!==null){var T=x.child;v=v.firstContext;e:for(;v!==null;){var P=v;v=x;for(var G=0;G<i.length;G++)if(P.context===i[G]){v.lanes|=c,P=v.alternate,P!==null&&(P.lanes|=c),Em(v.return,c,r),m||(T=null);break e}v=P.next}}else if(x.tag===18){if(T=x.return,T===null)throw Error(s(341));T.lanes|=c,v=T.alternate,v!==null&&(v.lanes|=c),Em(T,c,r),T=null}else T=x.child;if(T!==null)T.return=x;else for(T=x;T!==null;){if(T===r){T=null;break}if(x=T.sibling,x!==null){x.return=T.return,T=x;break}T=T.return}x=T}}function wc(r,i,c,m){r=null;for(var x=i,v=!1;x!==null;){if(!v){if((x.flags&524288)!==0)v=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var T=x.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var P=x.type;Ys(x.pendingProps.value,T.value)||(r!==null?r.push(P):r=[P])}}else if(x===Te.current){if(T=x.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(r!==null?r.push(Kc):r=[Kc])}x=x.return}r!==null&&Tm(i,r,c,m),i.flags|=262144}function yd(r){for(r=r.firstContext;r!==null;){if(!Ys(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function eo(r){Ji=r,va=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function bs(r){return rb(Ji,r)}function bd(r,i){return Ji===null&&eo(r),rb(r,i)}function rb(r,i){var c=i._currentValue;if(i={context:i,memoizedValue:c,next:null},va===null){if(r===null)throw Error(s(308));va=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else va=va.next=i;return c}var YT=typeof AbortController!="undefined"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(c,m){r.push(m)}};this.abort=function(){i.aborted=!0,r.forEach(function(c){return c()})}},WT=e.unstable_scheduleCallback,XT=e.unstable_NormalPriority,Qn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function km(){return{controller:new YT,data:new Map,refCount:0}}function _c(r){r.refCount--,r.refCount===0&&WT(XT,function(){r.controller.abort()})}var jc=null,Cm=0,el=0,tl=null;function GT(r,i){if(jc===null){var c=jc=[];Cm=0,el=Op(),tl={status:"pending",value:void 0,then:function(m){c.push(m)}}}return Cm++,i.then(ab,ab),i}function ab(){if(--Cm===0&&jc!==null){tl!==null&&(tl.status="fulfilled");var r=jc;jc=null,el=0,tl=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function KT(r,i){var c=[],m={status:"pending",value:null,reason:null,then:function(x){c.push(x)}};return r.then(function(){m.status="fulfilled",m.value=i;for(var x=0;x<c.length;x++)(0,c[x])(i)},function(x){for(m.status="rejected",m.reason=x,x=0;x<c.length;x++)(0,c[x])(void 0)}),m}var ib=z.S;z.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&GT(r,i),ib!==null&&ib(r,i)};var to=re(null);function Am(){var r=to.current;return r!==null?r:gn.pooledCache}function vd(r,i){i===null?I(to,to.current):I(to,i.pool)}function ob(){var r=Am();return r===null?null:{parent:Qn._currentValue,pool:r}}var Sc=Error(s(460)),lb=Error(s(474)),wd=Error(s(542)),Om={then:function(){}};function cb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function _d(){}function ub(r,i,c){switch(c=r[c],c===void 0?r.push(i):c!==i&&(i.then(_d,_d),i=c),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,fb(r),r;default:if(typeof i.status=="string")i.then(_d,_d);else{if(r=gn,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(m){if(i.status==="pending"){var x=i;x.status="fulfilled",x.value=m}},function(m){if(i.status==="pending"){var x=i;x.status="rejected",x.reason=m}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,fb(r),r}throw Nc=i,Sc}}var Nc=null;function db(){if(Nc===null)throw Error(s(459));var r=Nc;return Nc=null,r}function fb(r){if(r===Sc||r===wd)throw Error(s(483))}var Qa=!1;function Rm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Za(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ja(r,i,c){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(nn&2)!==0){var x=m.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),m.pending=i,i=md(r),Zy(r,null,c),i}return hd(r,m,i,c),md(r)}function Ec(r,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194048)!==0)){var m=i.lanes;m&=r.pendingLanes,c|=m,i.lanes=c,vt(r,c)}}function Mm(r,i){var c=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var x=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var T={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?x=v=T:v=v.next=T,c=c.next}while(c!==null);v===null?x=v=i:v=v.next=i}else x=v=i;c={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:v,shared:m.shared,callbacks:m.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=i:r.next=i,c.lastBaseUpdate=i}var Pm=!1;function Tc(){if(Pm){var r=tl;if(r!==null)throw r}}function kc(r,i,c,m){Pm=!1;var x=r.updateQueue;Qa=!1;var v=x.firstBaseUpdate,T=x.lastBaseUpdate,P=x.shared.pending;if(P!==null){x.shared.pending=null;var G=P,pe=G.next;G.next=null,T===null?v=pe:T.next=pe,T=G;var Ne=r.alternate;Ne!==null&&(Ne=Ne.updateQueue,P=Ne.lastBaseUpdate,P!==T&&(P===null?Ne.firstBaseUpdate=pe:P.next=pe,Ne.lastBaseUpdate=G))}if(v!==null){var Ce=x.baseState;T=0,Ne=pe=G=null,P=v;do{var ye=P.lane&-536870913,ve=ye!==P.lane;if(ve?(Yt&ye)===ye:(m&ye)===ye){ye!==0&&ye===el&&(Pm=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var xt=r,dt=P;ye=i;var un=c;switch(dt.tag){case 1:if(xt=dt.payload,typeof xt=="function"){Ce=xt.call(un,Ce,ye);break e}Ce=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=dt.payload,ye=typeof xt=="function"?xt.call(un,Ce,ye):xt,ye==null)break e;Ce=p({},Ce,ye);break e;case 2:Qa=!0}}ye=P.callback,ye!==null&&(r.flags|=64,ve&&(r.flags|=8192),ve=x.callbacks,ve===null?x.callbacks=[ye]:ve.push(ye))}else ve={lane:ye,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Ne===null?(pe=Ne=ve,G=Ce):Ne=Ne.next=ve,T|=ye;if(P=P.next,P===null){if(P=x.shared.pending,P===null)break;ve=P,P=ve.next,ve.next=null,x.lastBaseUpdate=ve,x.shared.pending=null}}while(!0);Ne===null&&(G=Ce),x.baseState=G,x.firstBaseUpdate=pe,x.lastBaseUpdate=Ne,v===null&&(x.shared.lanes=0),oi|=T,r.lanes=T,r.memoizedState=Ce}}function hb(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function mb(r,i){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)hb(c[r],i)}var nl=re(null),jd=re(0);function pb(r,i){r=ka,I(jd,r),I(nl,i),ka=r|i.baseLanes}function Lm(){I(jd,ka),I(nl,nl.current)}function zm(){ka=jd.current,we(nl),we(jd)}var ei=0,Pt=null,ln=null,$n=null,Sd=!1,sl=!1,no=!1,Nd=0,Cc=0,rl=null,QT=0;function Pn(){throw Error(s(321))}function Bm(r,i){if(i===null)return!1;for(var c=0;c<i.length&&c<r.length;c++)if(!Ys(r[c],i[c]))return!1;return!0}function Um(r,i,c,m,x,v){return ei=v,Pt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,z.H=r===null||r.memoizedState===null?Zb:Jb,no=!1,v=c(m,x),no=!1,sl&&(v=xb(i,c,m,x)),gb(r),v}function gb(r){z.H=Od;var i=ln!==null&&ln.next!==null;if(ei=0,$n=ln=Pt=null,Sd=!1,Cc=0,rl=null,i)throw Error(s(300));r===null||os||(r=r.dependencies,r!==null&&yd(r)&&(os=!0))}function xb(r,i,c,m){Pt=r;var x=0;do{if(sl&&(rl=null),Cc=0,sl=!1,25<=x)throw Error(s(301));if(x+=1,$n=ln=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}z.H=rk,v=i(c,m)}while(sl);return v}function ZT(){var r=z.H,i=r.useState()[0];return i=typeof i.then=="function"?Ac(i):i,r=r.useState()[0],(ln!==null?ln.memoizedState:null)!==r&&(Pt.flags|=1024),i}function Fm(){var r=Nd!==0;return Nd=0,r}function Hm(r,i,c){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~c}function Vm(r){if(Sd){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sd=!1}ei=0,$n=ln=Pt=null,sl=!1,Cc=Nd=0,rl=null}function Ps(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?Pt.memoizedState=$n=r:$n=$n.next=r,$n}function qn(){if(ln===null){var r=Pt.alternate;r=r!==null?r.memoizedState:null}else r=ln.next;var i=$n===null?Pt.memoizedState:$n.next;if(i!==null)$n=i,ln=r;else{if(r===null)throw Pt.alternate===null?Error(s(467)):Error(s(310));ln=r,r={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},$n===null?Pt.memoizedState=$n=r:$n=$n.next=r}return $n}function $m(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ac(r){var i=Cc;return Cc+=1,rl===null&&(rl=[]),r=ub(rl,r,i),i=Pt,($n===null?i.memoizedState:$n.next)===null&&(i=i.alternate,z.H=i===null||i.memoizedState===null?Zb:Jb),r}function Ed(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ac(r);if(r.$$typeof===k)return bs(r)}throw Error(s(438,String(r)))}function qm(r){var i=null,c=Pt.updateQueue;if(c!==null&&(i=c.memoCache),i==null){var m=Pt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(i={data:m.data.map(function(x){return x.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),c===null&&(c=$m(),Pt.updateQueue=c),c.memoCache=i,c=i.data[i.index],c===void 0)for(c=i.data[i.index]=Array(r),m=0;m<r;m++)c[m]=ee;return i.index++,c}function _a(r,i){return typeof i=="function"?i(r):i}function Td(r){var i=qn();return Im(i,ln,r)}function Im(r,i,c){var m=r.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=c;var x=r.baseQueue,v=m.pending;if(v!==null){if(x!==null){var T=x.next;x.next=v.next,v.next=T}i.baseQueue=x=v,m.pending=null}if(v=r.baseState,x===null)r.memoizedState=v;else{i=x.next;var P=T=null,G=null,pe=i,Ne=!1;do{var Ce=pe.lane&-536870913;if(Ce!==pe.lane?(Yt&Ce)===Ce:(ei&Ce)===Ce){var ye=pe.revertLane;if(ye===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),Ce===el&&(Ne=!0);else if((ei&ye)===ye){pe=pe.next,ye===el&&(Ne=!0);continue}else Ce={lane:0,revertLane:pe.revertLane,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},G===null?(P=G=Ce,T=v):G=G.next=Ce,Pt.lanes|=ye,oi|=ye;Ce=pe.action,no&&c(v,Ce),v=pe.hasEagerState?pe.eagerState:c(v,Ce)}else ye={lane:Ce,revertLane:pe.revertLane,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},G===null?(P=G=ye,T=v):G=G.next=ye,Pt.lanes|=Ce,oi|=Ce;pe=pe.next}while(pe!==null&&pe!==i);if(G===null?T=v:G.next=P,!Ys(v,r.memoizedState)&&(os=!0,Ne&&(c=tl,c!==null)))throw c;r.memoizedState=v,r.baseState=T,r.baseQueue=G,m.lastRenderedState=v}return x===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function Ym(r){var i=qn(),c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=r;var m=c.dispatch,x=c.pending,v=i.memoizedState;if(x!==null){c.pending=null;var T=x=x.next;do v=r(v,T.action),T=T.next;while(T!==x);Ys(v,i.memoizedState)||(os=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),c.lastRenderedState=v}return[v,m]}function yb(r,i,c){var m=Pt,x=qn(),v=en;if(v){if(c===void 0)throw Error(s(407));c=c()}else c=i();var T=!Ys((ln||x).memoizedState,c);T&&(x.memoizedState=c,os=!0),x=x.queue;var P=wb.bind(null,m,x,r);if(Oc(2048,8,P,[r]),x.getSnapshot!==i||T||$n!==null&&$n.memoizedState.tag&1){if(m.flags|=2048,al(9,kd(),vb.bind(null,m,x,c,i),null),gn===null)throw Error(s(349));v||(ei&124)!==0||bb(m,i,c)}return c}function bb(r,i,c){r.flags|=16384,r={getSnapshot:i,value:c},i=Pt.updateQueue,i===null?(i=$m(),Pt.updateQueue=i,i.stores=[r]):(c=i.stores,c===null?i.stores=[r]:c.push(r))}function vb(r,i,c,m){i.value=c,i.getSnapshot=m,_b(i)&&jb(r)}function wb(r,i,c){return c(function(){_b(i)&&jb(r)})}function _b(r){var i=r.getSnapshot;r=r.value;try{var c=i();return!Ys(r,c)}catch(m){return!0}}function jb(r){var i=Ko(r,2);i!==null&&Zs(i,r,2)}function Wm(r){var i=Ps();if(typeof r=="function"){var c=r;if(r=c(),no){Xe(!0);try{c()}finally{Xe(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:r},i}function Sb(r,i,c,m){return r.baseState=c,Im(r,ln,typeof m=="function"?m:_a)}function JT(r,i,c,m,x){if(Ad(r))throw Error(s(485));if(r=i.action,r!==null){var v={payload:x,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){v.listeners.push(T)}};z.T!==null?c(!0):v.isTransition=!1,m(v),c=i.pending,c===null?(v.next=i.pending=v,Nb(i,v)):(v.next=c.next,i.pending=c.next=v)}}function Nb(r,i){var c=i.action,m=i.payload,x=r.state;if(i.isTransition){var v=z.T,T={};z.T=T;try{var P=c(x,m),G=z.S;G!==null&&G(T,P),Eb(r,i,P)}catch(pe){Xm(r,i,pe)}finally{z.T=v}}else try{v=c(x,m),Eb(r,i,v)}catch(pe){Xm(r,i,pe)}}function Eb(r,i,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){Tb(r,i,m)},function(m){return Xm(r,i,m)}):Tb(r,i,c)}function Tb(r,i,c){i.status="fulfilled",i.value=c,kb(i),r.state=c,i=r.pending,i!==null&&(c=i.next,c===i?r.pending=null:(c=c.next,i.next=c,Nb(r,c)))}function Xm(r,i,c){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do i.status="rejected",i.reason=c,kb(i),i=i.next;while(i!==m)}r.action=null}function kb(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Cb(r,i){return i}function Ab(r,i){if(en){var c=gn.formState;if(c!==null){e:{var m=Pt;if(en){if(Dn){t:{for(var x=Dn,v=Ir;x.nodeType!==8;){if(!v){x=null;break t}if(x=Ar(x.nextSibling),x===null){x=null;break t}}v=x.data,x=v==="F!"||v==="F"?x:null}if(x){Dn=Ar(x.nextSibling),m=x.data==="F!";break e}}Zi(m)}m=!1}m&&(i=c[0])}}return c=Ps(),c.memoizedState=c.baseState=i,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cb,lastRenderedState:i},c.queue=m,c=Gb.bind(null,Pt,m),m.dispatch=c,m=Wm(!1),v=Jm.bind(null,Pt,!1,m.queue),m=Ps(),x={state:i,dispatch:null,action:r,pending:null},m.queue=x,c=JT.bind(null,Pt,x,v,c),x.dispatch=c,m.memoizedState=r,[i,c,!1]}function Ob(r){var i=qn();return Rb(i,ln,r)}function Rb(r,i,c){if(i=Im(r,i,Cb)[0],r=Td(_a)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var m=Ac(i)}catch(T){throw T===Sc?wd:T}else m=i;i=qn();var x=i.queue,v=x.dispatch;return c!==i.memoizedState&&(Pt.flags|=2048,al(9,kd(),ek.bind(null,x,c),null)),[m,v,r]}function ek(r,i){r.action=i}function Db(r){var i=qn(),c=ln;if(c!==null)return Rb(i,c,r);qn(),i=i.memoizedState,c=qn();var m=c.queue.dispatch;return c.memoizedState=r,[i,m,!1]}function al(r,i,c,m){return r={tag:r,create:c,deps:m,inst:i,next:null},i=Pt.updateQueue,i===null&&(i=$m(),Pt.updateQueue=i),c=i.lastEffect,c===null?i.lastEffect=r.next=r:(m=c.next,c.next=r,r.next=m,i.lastEffect=r),r}function kd(){return{destroy:void 0,resource:void 0}}function Mb(){return qn().memoizedState}function Cd(r,i,c,m){var x=Ps();m=m===void 0?null:m,Pt.flags|=r,x.memoizedState=al(1|i,kd(),c,m)}function Oc(r,i,c,m){var x=qn();m=m===void 0?null:m;var v=x.memoizedState.inst;ln!==null&&m!==null&&Bm(m,ln.memoizedState.deps)?x.memoizedState=al(i,v,c,m):(Pt.flags|=r,x.memoizedState=al(1|i,v,c,m))}function Pb(r,i){Cd(8390656,8,r,i)}function Lb(r,i){Oc(2048,8,r,i)}function zb(r,i){return Oc(4,2,r,i)}function Bb(r,i){return Oc(4,4,r,i)}function Ub(r,i){if(typeof i=="function"){r=r();var c=i(r);return function(){typeof c=="function"?c():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Fb(r,i,c){c=c!=null?c.concat([r]):null,Oc(4,4,Ub.bind(null,i,r),c)}function Gm(){}function Hb(r,i){var c=qn();i=i===void 0?null:i;var m=c.memoizedState;return i!==null&&Bm(i,m[1])?m[0]:(c.memoizedState=[r,i],r)}function Vb(r,i){var c=qn();i=i===void 0?null:i;var m=c.memoizedState;if(i!==null&&Bm(i,m[1]))return m[0];if(m=r(),no){Xe(!0);try{r()}finally{Xe(!1)}}return c.memoizedState=[m,i],m}function Km(r,i,c){return c===void 0||(ei&1073741824)!==0?r.memoizedState=i:(r.memoizedState=c,r=Iv(),Pt.lanes|=r,oi|=r,c)}function $b(r,i,c,m){return Ys(c,i)?c:nl.current!==null?(r=Km(r,c,m),Ys(r,i)||(os=!0),r):(ei&42)===0?(os=!0,r.memoizedState=c):(r=Iv(),Pt.lanes|=r,oi|=r,i)}function qb(r,i,c,m,x){var v=Q.p;Q.p=v!==0&&8>v?v:8;var T=z.T,P={};z.T=P,Jm(r,!1,i,c);try{var G=x(),pe=z.S;if(pe!==null&&pe(P,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var Ne=KT(G,m);Rc(r,i,Ne,Qs(r))}else Rc(r,i,m,Qs(r))}catch(Ce){Rc(r,i,{then:function(){},status:"rejected",reason:Ce},Qs())}finally{Q.p=v,z.T=T}}function tk(){}function Qm(r,i,c,m){if(r.tag!==5)throw Error(s(476));var x=Ib(r).queue;qb(r,x,i,Z,c===null?tk:function(){return Yb(r),c(m)})}function Ib(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:Z},next:null};var c={};return i.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:c},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Yb(r){var i=Ib(r).next.queue;Rc(r,i,{},Qs())}function Zm(){return bs(Kc)}function Wb(){return qn().memoizedState}function Xb(){return qn().memoizedState}function nk(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var c=Qs();r=Za(c);var m=Ja(i,r,c);m!==null&&(Zs(m,i,c),Ec(m,i,c)),i={cache:km()},r.payload=i;return}i=i.return}}function sk(r,i,c){var m=Qs();c={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Ad(r)?Kb(i,c):(c=ym(r,i,c,m),c!==null&&(Zs(c,r,m),Qb(c,i,m)))}function Gb(r,i,c){var m=Qs();Rc(r,i,c,m)}function Rc(r,i,c,m){var x={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ad(r))Kb(i,x);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var T=i.lastRenderedState,P=v(T,c);if(x.hasEagerState=!0,x.eagerState=P,Ys(P,T))return hd(r,i,x,0),gn===null&&fd(),!1}catch(G){}finally{}if(c=ym(r,i,x,m),c!==null)return Zs(c,r,m),Qb(c,i,m),!0}return!1}function Jm(r,i,c,m){if(m={lane:2,revertLane:Op(),action:m,hasEagerState:!1,eagerState:null,next:null},Ad(r)){if(i)throw Error(s(479))}else i=ym(r,c,m,2),i!==null&&Zs(i,r,2)}function Ad(r){var i=r.alternate;return r===Pt||i!==null&&i===Pt}function Kb(r,i){sl=Sd=!0;var c=r.pending;c===null?i.next=i:(i.next=c.next,c.next=i),r.pending=i}function Qb(r,i,c){if((c&4194048)!==0){var m=i.lanes;m&=r.pendingLanes,c|=m,i.lanes=c,vt(r,c)}}var Od={readContext:bs,use:Ed,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn},Zb={readContext:bs,use:Ed,useCallback:function(r,i){return Ps().memoizedState=[r,i===void 0?null:i],r},useContext:bs,useEffect:Pb,useImperativeHandle:function(r,i,c){c=c!=null?c.concat([r]):null,Cd(4194308,4,Ub.bind(null,i,r),c)},useLayoutEffect:function(r,i){return Cd(4194308,4,r,i)},useInsertionEffect:function(r,i){Cd(4,2,r,i)},useMemo:function(r,i){var c=Ps();i=i===void 0?null:i;var m=r();if(no){Xe(!0);try{r()}finally{Xe(!1)}}return c.memoizedState=[m,i],m},useReducer:function(r,i,c){var m=Ps();if(c!==void 0){var x=c(i);if(no){Xe(!0);try{c(i)}finally{Xe(!1)}}}else x=i;return m.memoizedState=m.baseState=x,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:x},m.queue=r,r=r.dispatch=sk.bind(null,Pt,r),[m.memoizedState,r]},useRef:function(r){var i=Ps();return r={current:r},i.memoizedState=r},useState:function(r){r=Wm(r);var i=r.queue,c=Gb.bind(null,Pt,i);return i.dispatch=c,[r.memoizedState,c]},useDebugValue:Gm,useDeferredValue:function(r,i){var c=Ps();return Km(c,r,i)},useTransition:function(){var r=Wm(!1);return r=qb.bind(null,Pt,r.queue,!0,!1),Ps().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,c){var m=Pt,x=Ps();if(en){if(c===void 0)throw Error(s(407));c=c()}else{if(c=i(),gn===null)throw Error(s(349));(Yt&124)!==0||bb(m,i,c)}x.memoizedState=c;var v={value:c,getSnapshot:i};return x.queue=v,Pb(wb.bind(null,m,v,r),[r]),m.flags|=2048,al(9,kd(),vb.bind(null,m,v,c,i),null),c},useId:function(){var r=Ps(),i=gn.identifierPrefix;if(en){var c=ba,m=ya;c=(m&~(1<<32-gt(m)-1)).toString(32)+c,i="«"+i+"R"+c,c=Nd++,0<c&&(i+="H"+c.toString(32)),i+="»"}else c=QT++,i="«"+i+"r"+c.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:Zm,useFormState:Ab,useActionState:Ab,useOptimistic:function(r){var i=Ps();i.memoizedState=i.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=c,i=Jm.bind(null,Pt,!0,c),c.dispatch=i,[r,i]},useMemoCache:qm,useCacheRefresh:function(){return Ps().memoizedState=nk.bind(null,Pt)}},Jb={readContext:bs,use:Ed,useCallback:Hb,useContext:bs,useEffect:Lb,useImperativeHandle:Fb,useInsertionEffect:zb,useLayoutEffect:Bb,useMemo:Vb,useReducer:Td,useRef:Mb,useState:function(){return Td(_a)},useDebugValue:Gm,useDeferredValue:function(r,i){var c=qn();return $b(c,ln.memoizedState,r,i)},useTransition:function(){var r=Td(_a)[0],i=qn().memoizedState;return[typeof r=="boolean"?r:Ac(r),i]},useSyncExternalStore:yb,useId:Wb,useHostTransitionStatus:Zm,useFormState:Ob,useActionState:Ob,useOptimistic:function(r,i){var c=qn();return Sb(c,ln,r,i)},useMemoCache:qm,useCacheRefresh:Xb},rk={readContext:bs,use:Ed,useCallback:Hb,useContext:bs,useEffect:Lb,useImperativeHandle:Fb,useInsertionEffect:zb,useLayoutEffect:Bb,useMemo:Vb,useReducer:Ym,useRef:Mb,useState:function(){return Ym(_a)},useDebugValue:Gm,useDeferredValue:function(r,i){var c=qn();return ln===null?Km(c,r,i):$b(c,ln.memoizedState,r,i)},useTransition:function(){var r=Ym(_a)[0],i=qn().memoizedState;return[typeof r=="boolean"?r:Ac(r),i]},useSyncExternalStore:yb,useId:Wb,useHostTransitionStatus:Zm,useFormState:Db,useActionState:Db,useOptimistic:function(r,i){var c=qn();return ln!==null?Sb(c,ln,r,i):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:qm,useCacheRefresh:Xb},il=null,Dc=0;function Rd(r){var i=Dc;return Dc+=1,il===null&&(il=[]),ub(il,r,i)}function Mc(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Dd(r,i){throw i.$$typeof===g?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function ev(r){var i=r._init;return i(r._payload)}function tv(r){function i(oe,ne){if(r){var me=oe.deletions;me===null?(oe.deletions=[ne],oe.flags|=16):me.push(ne)}}function c(oe,ne){if(!r)return null;for(;ne!==null;)i(oe,ne),ne=ne.sibling;return null}function m(oe){for(var ne=new Map;oe!==null;)oe.key!==null?ne.set(oe.key,oe):ne.set(oe.index,oe),oe=oe.sibling;return ne}function x(oe,ne){return oe=xa(oe,ne),oe.index=0,oe.sibling=null,oe}function v(oe,ne,me){return oe.index=me,r?(me=oe.alternate,me!==null?(me=me.index,me<ne?(oe.flags|=67108866,ne):me):(oe.flags|=67108866,ne)):(oe.flags|=1048576,ne)}function T(oe){return r&&oe.alternate===null&&(oe.flags|=67108866),oe}function P(oe,ne,me,Ee){return ne===null||ne.tag!==6?(ne=vm(me,oe.mode,Ee),ne.return=oe,ne):(ne=x(ne,me),ne.return=oe,ne)}function G(oe,ne,me,Ee){var Ze=me.type;return Ze===w?Ne(oe,ne,me.props.children,Ee,me.key):ne!==null&&(ne.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===D&&ev(Ze)===ne.type)?(ne=x(ne,me.props),Mc(ne,me),ne.return=oe,ne):(ne=pd(me.type,me.key,me.props,null,oe.mode,Ee),Mc(ne,me),ne.return=oe,ne)}function pe(oe,ne,me,Ee){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==me.containerInfo||ne.stateNode.implementation!==me.implementation?(ne=wm(me,oe.mode,Ee),ne.return=oe,ne):(ne=x(ne,me.children||[]),ne.return=oe,ne)}function Ne(oe,ne,me,Ee,Ze){return ne===null||ne.tag!==7?(ne=Xi(me,oe.mode,Ee,Ze),ne.return=oe,ne):(ne=x(ne,me),ne.return=oe,ne)}function Ce(oe,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=vm(""+ne,oe.mode,me),ne.return=oe,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case b:return me=pd(ne.type,ne.key,ne.props,null,oe.mode,me),Mc(me,ne),me.return=oe,me;case y:return ne=wm(ne,oe.mode,me),ne.return=oe,ne;case D:var Ee=ne._init;return ne=Ee(ne._payload),Ce(oe,ne,me)}if(Y(ne)||X(ne))return ne=Xi(ne,oe.mode,me,null),ne.return=oe,ne;if(typeof ne.then=="function")return Ce(oe,Rd(ne),me);if(ne.$$typeof===k)return Ce(oe,bd(oe,ne),me);Dd(oe,ne)}return null}function ye(oe,ne,me,Ee){var Ze=ne!==null?ne.key:null;if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Ze!==null?null:P(oe,ne,""+me,Ee);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case b:return me.key===Ze?G(oe,ne,me,Ee):null;case y:return me.key===Ze?pe(oe,ne,me,Ee):null;case D:return Ze=me._init,me=Ze(me._payload),ye(oe,ne,me,Ee)}if(Y(me)||X(me))return Ze!==null?null:Ne(oe,ne,me,Ee,null);if(typeof me.then=="function")return ye(oe,ne,Rd(me),Ee);if(me.$$typeof===k)return ye(oe,ne,bd(oe,me),Ee);Dd(oe,me)}return null}function ve(oe,ne,me,Ee,Ze){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return oe=oe.get(me)||null,P(ne,oe,""+Ee,Ze);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case b:return oe=oe.get(Ee.key===null?me:Ee.key)||null,G(ne,oe,Ee,Ze);case y:return oe=oe.get(Ee.key===null?me:Ee.key)||null,pe(ne,oe,Ee,Ze);case D:var zt=Ee._init;return Ee=zt(Ee._payload),ve(oe,ne,me,Ee,Ze)}if(Y(Ee)||X(Ee))return oe=oe.get(me)||null,Ne(ne,oe,Ee,Ze,null);if(typeof Ee.then=="function")return ve(oe,ne,me,Rd(Ee),Ze);if(Ee.$$typeof===k)return ve(oe,ne,me,bd(ne,Ee),Ze);Dd(ne,Ee)}return null}function xt(oe,ne,me,Ee){for(var Ze=null,zt=null,it=ne,mt=ne=0,cs=null;it!==null&&mt<me.length;mt++){it.index>mt?(cs=it,it=null):cs=it.sibling;var Zt=ye(oe,it,me[mt],Ee);if(Zt===null){it===null&&(it=cs);break}r&&it&&Zt.alternate===null&&i(oe,it),ne=v(Zt,ne,mt),zt===null?Ze=Zt:zt.sibling=Zt,zt=Zt,it=cs}if(mt===me.length)return c(oe,it),en&&Ki(oe,mt),Ze;if(it===null){for(;mt<me.length;mt++)it=Ce(oe,me[mt],Ee),it!==null&&(ne=v(it,ne,mt),zt===null?Ze=it:zt.sibling=it,zt=it);return en&&Ki(oe,mt),Ze}for(it=m(it);mt<me.length;mt++)cs=ve(it,oe,mt,me[mt],Ee),cs!==null&&(r&&cs.alternate!==null&&it.delete(cs.key===null?mt:cs.key),ne=v(cs,ne,mt),zt===null?Ze=cs:zt.sibling=cs,zt=cs);return r&&it.forEach(function(gi){return i(oe,gi)}),en&&Ki(oe,mt),Ze}function dt(oe,ne,me,Ee){if(me==null)throw Error(s(151));for(var Ze=null,zt=null,it=ne,mt=ne=0,cs=null,Zt=me.next();it!==null&&!Zt.done;mt++,Zt=me.next()){it.index>mt?(cs=it,it=null):cs=it.sibling;var gi=ye(oe,it,Zt.value,Ee);if(gi===null){it===null&&(it=cs);break}r&&it&&gi.alternate===null&&i(oe,it),ne=v(gi,ne,mt),zt===null?Ze=gi:zt.sibling=gi,zt=gi,it=cs}if(Zt.done)return c(oe,it),en&&Ki(oe,mt),Ze;if(it===null){for(;!Zt.done;mt++,Zt=me.next())Zt=Ce(oe,Zt.value,Ee),Zt!==null&&(ne=v(Zt,ne,mt),zt===null?Ze=Zt:zt.sibling=Zt,zt=Zt);return en&&Ki(oe,mt),Ze}for(it=m(it);!Zt.done;mt++,Zt=me.next())Zt=ve(it,oe,mt,Zt.value,Ee),Zt!==null&&(r&&Zt.alternate!==null&&it.delete(Zt.key===null?mt:Zt.key),ne=v(Zt,ne,mt),zt===null?Ze=Zt:zt.sibling=Zt,zt=Zt);return r&&it.forEach(function(aC){return i(oe,aC)}),en&&Ki(oe,mt),Ze}function un(oe,ne,me,Ee){if(typeof me=="object"&&me!==null&&me.type===w&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case b:e:{for(var Ze=me.key;ne!==null;){if(ne.key===Ze){if(Ze=me.type,Ze===w){if(ne.tag===7){c(oe,ne.sibling),Ee=x(ne,me.props.children),Ee.return=oe,oe=Ee;break e}}else if(ne.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===D&&ev(Ze)===ne.type){c(oe,ne.sibling),Ee=x(ne,me.props),Mc(Ee,me),Ee.return=oe,oe=Ee;break e}c(oe,ne);break}else i(oe,ne);ne=ne.sibling}me.type===w?(Ee=Xi(me.props.children,oe.mode,Ee,me.key),Ee.return=oe,oe=Ee):(Ee=pd(me.type,me.key,me.props,null,oe.mode,Ee),Mc(Ee,me),Ee.return=oe,oe=Ee)}return T(oe);case y:e:{for(Ze=me.key;ne!==null;){if(ne.key===Ze)if(ne.tag===4&&ne.stateNode.containerInfo===me.containerInfo&&ne.stateNode.implementation===me.implementation){c(oe,ne.sibling),Ee=x(ne,me.children||[]),Ee.return=oe,oe=Ee;break e}else{c(oe,ne);break}else i(oe,ne);ne=ne.sibling}Ee=wm(me,oe.mode,Ee),Ee.return=oe,oe=Ee}return T(oe);case D:return Ze=me._init,me=Ze(me._payload),un(oe,ne,me,Ee)}if(Y(me))return xt(oe,ne,me,Ee);if(X(me)){if(Ze=X(me),typeof Ze!="function")throw Error(s(150));return me=Ze.call(me),dt(oe,ne,me,Ee)}if(typeof me.then=="function")return un(oe,ne,Rd(me),Ee);if(me.$$typeof===k)return un(oe,ne,bd(oe,me),Ee);Dd(oe,me)}return typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint"?(me=""+me,ne!==null&&ne.tag===6?(c(oe,ne.sibling),Ee=x(ne,me),Ee.return=oe,oe=Ee):(c(oe,ne),Ee=vm(me,oe.mode,Ee),Ee.return=oe,oe=Ee),T(oe)):c(oe,ne)}return function(oe,ne,me,Ee){try{Dc=0;var Ze=un(oe,ne,me,Ee);return il=null,Ze}catch(it){if(it===Sc||it===wd)throw it;var zt=Ws(29,it,null,oe.mode);return zt.lanes=Ee,zt.return=oe,zt}finally{}}}var ol=tv(!0),nv=tv(!1),mr=re(null),Yr=null;function ti(r){var i=r.alternate;I(Zn,Zn.current&1),I(mr,r),Yr===null&&(i===null||nl.current!==null||i.memoizedState!==null)&&(Yr=r)}function sv(r){if(r.tag===22){if(I(Zn,Zn.current),I(mr,r),Yr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Yr=r)}}else ni()}function ni(){I(Zn,Zn.current),I(mr,mr.current)}function ja(r){we(mr),Yr===r&&(Yr=null),we(Zn)}var Zn=re(0);function Md(r){for(var i=r;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||$p(c)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function ep(r,i,c,m){i=r.memoizedState,c=c(m,i),c=c==null?i:p({},i,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var tp={enqueueSetState:function(r,i,c){r=r._reactInternals;var m=Qs(),x=Za(m);x.payload=i,c!=null&&(x.callback=c),i=Ja(r,x,m),i!==null&&(Zs(i,r,m),Ec(i,r,m))},enqueueReplaceState:function(r,i,c){r=r._reactInternals;var m=Qs(),x=Za(m);x.tag=1,x.payload=i,c!=null&&(x.callback=c),i=Ja(r,x,m),i!==null&&(Zs(i,r,m),Ec(i,r,m))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var c=Qs(),m=Za(c);m.tag=2,i!=null&&(m.callback=i),i=Ja(r,m,c),i!==null&&(Zs(i,r,c),Ec(i,r,c))}};function rv(r,i,c,m,x,v,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,v,T):i.prototype&&i.prototype.isPureReactComponent?!gc(c,m)||!gc(x,v):!0}function av(r,i,c,m){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,m),i.state!==r&&tp.enqueueReplaceState(i,i.state,null)}function so(r,i){var c=i;if("ref"in i){c={};for(var m in i)m!=="ref"&&(c[m]=i[m])}if(r=r.defaultProps){c===i&&(c=p({},c));for(var x in r)c[x]===void 0&&(c[x]=r[x])}return c}var Pd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function iv(r){Pd(r)}function ov(r){console.error(r)}function lv(r){Pd(r)}function Ld(r,i){try{var c=r.onUncaughtError;c(i.value,{componentStack:i.stack})}catch(m){setTimeout(function(){throw m})}}function cv(r,i,c){try{var m=r.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function np(r,i,c){return c=Za(c),c.tag=3,c.payload={element:null},c.callback=function(){Ld(r,i)},c}function uv(r){return r=Za(r),r.tag=3,r}function dv(r,i,c,m){var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var v=m.value;r.payload=function(){return x(v)},r.callback=function(){cv(i,c,m)}}var T=c.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){cv(i,c,m),typeof x!="function"&&(li===null?li=new Set([this]):li.add(this));var P=m.stack;this.componentDidCatch(m.value,{componentStack:P!==null?P:""})})}function ak(r,i,c,m,x){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(i=c.alternate,i!==null&&wc(i,c,x,!0),c=mr.current,c!==null){switch(c.tag){case 13:return Yr===null?Ep():c.alternate===null&&Mn===0&&(Mn=3),c.flags&=-257,c.flags|=65536,c.lanes=x,m===Om?c.flags|=16384:(i=c.updateQueue,i===null?c.updateQueue=new Set([m]):i.add(m),kp(r,m,x)),!1;case 22:return c.flags|=65536,m===Om?c.flags|=16384:(i=c.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=i):(c=i.retryQueue,c===null?i.retryQueue=new Set([m]):c.add(m)),kp(r,m,x)),!1}throw Error(s(435,c.tag))}return kp(r,m,x),Ep(),!1}if(en)return i=mr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=x,m!==Sm&&(r=Error(s(422),{cause:m}),vc(ur(r,c)))):(m!==Sm&&(i=Error(s(423),{cause:m}),vc(ur(i,c))),r=r.current.alternate,r.flags|=65536,x&=-x,r.lanes|=x,m=ur(m,c),x=np(r.stateNode,m,x),Mm(r,x),Mn!==4&&(Mn=2)),!1;var v=Error(s(520),{cause:m});if(v=ur(v,c),Hc===null?Hc=[v]:Hc.push(v),Mn!==4&&(Mn=2),i===null)return!0;m=ur(m,c),c=i;do{switch(c.tag){case 3:return c.flags|=65536,r=x&-x,c.lanes|=r,r=np(c.stateNode,m,r),Mm(c,r),!1;case 1:if(i=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(li===null||!li.has(v))))return c.flags|=65536,x&=-x,c.lanes|=x,x=uv(x),dv(x,r,c,m),Mm(c,x),!1}c=c.return}while(c!==null);return!1}var fv=Error(s(461)),os=!1;function fs(r,i,c,m){i.child=r===null?nv(i,null,c,m):ol(i,r.child,c,m)}function hv(r,i,c,m,x){c=c.render;var v=i.ref;if("ref"in m){var T={};for(var P in m)P!=="ref"&&(T[P]=m[P])}else T=m;return eo(i),m=Um(r,i,c,T,v,x),P=Fm(),r!==null&&!os?(Hm(r,i,x),Sa(r,i,x)):(en&&P&&_m(i),i.flags|=1,fs(r,i,m,x),i.child)}function mv(r,i,c,m,x){if(r===null){var v=c.type;return typeof v=="function"&&!bm(v)&&v.defaultProps===void 0&&c.compare===null?(i.tag=15,i.type=v,pv(r,i,v,m,x)):(r=pd(c.type,null,m,i,i.mode,x),r.ref=i.ref,r.return=i,i.child=r)}if(v=r.child,!up(r,x)){var T=v.memoizedProps;if(c=c.compare,c=c!==null?c:gc,c(T,m)&&r.ref===i.ref)return Sa(r,i,x)}return i.flags|=1,r=xa(v,m),r.ref=i.ref,r.return=i,i.child=r}function pv(r,i,c,m,x){if(r!==null){var v=r.memoizedProps;if(gc(v,m)&&r.ref===i.ref)if(os=!1,i.pendingProps=m=v,up(r,x))(r.flags&131072)!==0&&(os=!0);else return i.lanes=r.lanes,Sa(r,i,x)}return sp(r,i,c,m,x)}function gv(r,i,c){var m=i.pendingProps,x=m.children,v=r!==null?r.memoizedState:null;if(m.mode==="hidden"){if((i.flags&128)!==0){if(m=v!==null?v.baseLanes|c:c,r!==null){for(x=i.child=r.child,v=0;x!==null;)v=v|x.lanes|x.childLanes,x=x.sibling;i.childLanes=v&~m}else i.childLanes=0,i.child=null;return xv(r,i,m,c)}if((c&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&vd(i,v!==null?v.cachePool:null),v!==null?pb(i,v):Lm(),sv(i);else return i.lanes=i.childLanes=536870912,xv(r,i,v!==null?v.baseLanes|c:c,c)}else v!==null?(vd(i,v.cachePool),pb(i,v),ni(),i.memoizedState=null):(r!==null&&vd(i,null),Lm(),ni());return fs(r,i,x,c),i.child}function xv(r,i,c,m){var x=Am();return x=x===null?null:{parent:Qn._currentValue,pool:x},i.memoizedState={baseLanes:c,cachePool:x},r!==null&&vd(i,null),Lm(),sv(i),r!==null&&wc(r,i,m,!0),null}function zd(r,i){var c=i.ref;if(c===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(r===null||r.ref!==c)&&(i.flags|=4194816)}}function sp(r,i,c,m,x){return eo(i),c=Um(r,i,c,m,void 0,x),m=Fm(),r!==null&&!os?(Hm(r,i,x),Sa(r,i,x)):(en&&m&&_m(i),i.flags|=1,fs(r,i,c,x),i.child)}function yv(r,i,c,m,x,v){return eo(i),i.updateQueue=null,c=xb(i,m,c,x),gb(r),m=Fm(),r!==null&&!os?(Hm(r,i,v),Sa(r,i,v)):(en&&m&&_m(i),i.flags|=1,fs(r,i,c,v),i.child)}function bv(r,i,c,m,x){if(eo(i),i.stateNode===null){var v=Qo,T=c.contextType;typeof T=="object"&&T!==null&&(v=bs(T)),v=new c(m,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=tp,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=m,v.state=i.memoizedState,v.refs={},Rm(i),T=c.contextType,v.context=typeof T=="object"&&T!==null?bs(T):Qo,v.state=i.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(ep(i,c,T,m),v.state=i.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(T=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),T!==v.state&&tp.enqueueReplaceState(v,v.state,null),kc(i,m,v,x),Tc(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),m=!0}else if(r===null){v=i.stateNode;var P=i.memoizedProps,G=so(c,P);v.props=G;var pe=v.context,Ne=c.contextType;T=Qo,typeof Ne=="object"&&Ne!==null&&(T=bs(Ne));var Ce=c.getDerivedStateFromProps;Ne=typeof Ce=="function"||typeof v.getSnapshotBeforeUpdate=="function",P=i.pendingProps!==P,Ne||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(P||pe!==T)&&av(i,v,m,T),Qa=!1;var ye=i.memoizedState;v.state=ye,kc(i,m,v,x),Tc(),pe=i.memoizedState,P||ye!==pe||Qa?(typeof Ce=="function"&&(ep(i,c,Ce,m),pe=i.memoizedState),(G=Qa||rv(i,c,G,m,ye,pe,T))?(Ne||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=pe),v.props=m,v.state=pe,v.context=T,m=G):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{v=i.stateNode,Dm(r,i),T=i.memoizedProps,Ne=so(c,T),v.props=Ne,Ce=i.pendingProps,ye=v.context,pe=c.contextType,G=Qo,typeof pe=="object"&&pe!==null&&(G=bs(pe)),P=c.getDerivedStateFromProps,(pe=typeof P=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==Ce||ye!==G)&&av(i,v,m,G),Qa=!1,ye=i.memoizedState,v.state=ye,kc(i,m,v,x),Tc();var ve=i.memoizedState;T!==Ce||ye!==ve||Qa||r!==null&&r.dependencies!==null&&yd(r.dependencies)?(typeof P=="function"&&(ep(i,c,P,m),ve=i.memoizedState),(Ne=Qa||rv(i,c,Ne,m,ye,ve,G)||r!==null&&r.dependencies!==null&&yd(r.dependencies))?(pe||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(m,ve,G),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(m,ve,G)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===r.memoizedProps&&ye===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ye===r.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=ve),v.props=m,v.state=ve,v.context=G,m=Ne):(typeof v.componentDidUpdate!="function"||T===r.memoizedProps&&ye===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ye===r.memoizedState||(i.flags|=1024),m=!1)}return v=m,zd(r,i),m=(i.flags&128)!==0,v||m?(v=i.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,r!==null&&m?(i.child=ol(i,r.child,null,x),i.child=ol(i,null,c,x)):fs(r,i,c,x),i.memoizedState=v.state,r=i.child):r=Sa(r,i,x),r}function vv(r,i,c,m){return bc(),i.flags|=256,fs(r,i,c,m),i.child}var rp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ap(r){return{baseLanes:r,cachePool:ob()}}function ip(r,i,c){return r=r!==null?r.childLanes&~c:0,i&&(r|=pr),r}function wv(r,i,c){var m=i.pendingProps,x=!1,v=(i.flags&128)!==0,T;if((T=v)||(T=r!==null&&r.memoizedState===null?!1:(Zn.current&2)!==0),T&&(x=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,r===null){if(en){if(x?ti(i):ni(),en){var P=Dn,G;if(G=P){e:{for(G=P,P=Ir;G.nodeType!==8;){if(!P){P=null;break e}if(G=Ar(G.nextSibling),G===null){P=null;break e}}P=G}P!==null?(i.memoizedState={dehydrated:P,treeContext:Gi!==null?{id:ya,overflow:ba}:null,retryLane:536870912,hydrationErrors:null},G=Ws(18,null,null,0),G.stateNode=P,G.return=i,i.child=G,Ss=i,Dn=null,G=!0):G=!1}G||Zi(i)}if(P=i.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return $p(P)?i.lanes=32:i.lanes=536870912,null;ja(i)}return P=m.children,m=m.fallback,x?(ni(),x=i.mode,P=Bd({mode:"hidden",children:P},x),m=Xi(m,x,c,null),P.return=i,m.return=i,P.sibling=m,i.child=P,x=i.child,x.memoizedState=ap(c),x.childLanes=ip(r,T,c),i.memoizedState=rp,m):(ti(i),op(i,P))}if(G=r.memoizedState,G!==null&&(P=G.dehydrated,P!==null)){if(v)i.flags&256?(ti(i),i.flags&=-257,i=lp(r,i,c)):i.memoizedState!==null?(ni(),i.child=r.child,i.flags|=128,i=null):(ni(),x=m.fallback,P=i.mode,m=Bd({mode:"visible",children:m.children},P),x=Xi(x,P,c,null),x.flags|=2,m.return=i,x.return=i,m.sibling=x,i.child=m,ol(i,r.child,null,c),m=i.child,m.memoizedState=ap(c),m.childLanes=ip(r,T,c),i.memoizedState=rp,i=x);else if(ti(i),$p(P)){if(T=P.nextSibling&&P.nextSibling.dataset,T)var pe=T.dgst;T=pe,m=Error(s(419)),m.stack="",m.digest=T,vc({value:m,source:null,stack:null}),i=lp(r,i,c)}else if(os||wc(r,i,c,!1),T=(c&r.childLanes)!==0,os||T){if(T=gn,T!==null&&(m=c&-c,m=(m&42)!==0?1:qt(m),m=(m&(T.suspendedLanes|c))!==0?0:m,m!==0&&m!==G.retryLane))throw G.retryLane=m,Ko(r,m),Zs(T,r,m),fv;P.data==="$?"||Ep(),i=lp(r,i,c)}else P.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=G.treeContext,Dn=Ar(P.nextSibling),Ss=i,en=!0,Qi=null,Ir=!1,r!==null&&(fr[hr++]=ya,fr[hr++]=ba,fr[hr++]=Gi,ya=r.id,ba=r.overflow,Gi=i),i=op(i,m.children),i.flags|=4096);return i}return x?(ni(),x=m.fallback,P=i.mode,G=r.child,pe=G.sibling,m=xa(G,{mode:"hidden",children:m.children}),m.subtreeFlags=G.subtreeFlags&65011712,pe!==null?x=xa(pe,x):(x=Xi(x,P,c,null),x.flags|=2),x.return=i,m.return=i,m.sibling=x,i.child=m,m=x,x=i.child,P=r.child.memoizedState,P===null?P=ap(c):(G=P.cachePool,G!==null?(pe=Qn._currentValue,G=G.parent!==pe?{parent:pe,pool:pe}:G):G=ob(),P={baseLanes:P.baseLanes|c,cachePool:G}),x.memoizedState=P,x.childLanes=ip(r,T,c),i.memoizedState=rp,m):(ti(i),c=r.child,r=c.sibling,c=xa(c,{mode:"visible",children:m.children}),c.return=i,c.sibling=null,r!==null&&(T=i.deletions,T===null?(i.deletions=[r],i.flags|=16):T.push(r)),i.child=c,i.memoizedState=null,c)}function op(r,i){return i=Bd({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Bd(r,i){return r=Ws(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function lp(r,i,c){return ol(i,r.child,null,c),r=op(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function _v(r,i,c){r.lanes|=i;var m=r.alternate;m!==null&&(m.lanes|=i),Em(r.return,i,c)}function cp(r,i,c,m,x){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:x}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=m,v.tail=c,v.tailMode=x)}function jv(r,i,c){var m=i.pendingProps,x=m.revealOrder,v=m.tail;if(fs(r,i,m.children,c),m=Zn.current,(m&2)!==0)m=m&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&_v(r,c,i);else if(r.tag===19)_v(r,c,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}switch(I(Zn,m),x){case"forwards":for(c=i.child,x=null;c!==null;)r=c.alternate,r!==null&&Md(r)===null&&(x=c),c=c.sibling;c=x,c===null?(x=i.child,i.child=null):(x=c.sibling,c.sibling=null),cp(i,!1,x,c,v);break;case"backwards":for(c=null,x=i.child,i.child=null;x!==null;){if(r=x.alternate,r!==null&&Md(r)===null){i.child=x;break}r=x.sibling,x.sibling=c,c=x,x=r}cp(i,!0,c,null,v);break;case"together":cp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Sa(r,i,c){if(r!==null&&(i.dependencies=r.dependencies),oi|=i.lanes,(c&i.childLanes)===0)if(r!==null){if(wc(r,i,c,!1),(c&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,c=xa(r,r.pendingProps),i.child=c,c.return=i;r.sibling!==null;)r=r.sibling,c=c.sibling=xa(r,r.pendingProps),c.return=i;c.sibling=null}return i.child}function up(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&yd(r)))}function ik(r,i,c){switch(i.tag){case 3:Oe(i,i.stateNode.containerInfo),Ka(i,Qn,r.memoizedState.cache),bc();break;case 27:case 5:He(i);break;case 4:Oe(i,i.stateNode.containerInfo);break;case 10:Ka(i,i.type,i.memoizedProps.value);break;case 13:var m=i.memoizedState;if(m!==null)return m.dehydrated!==null?(ti(i),i.flags|=128,null):(c&i.child.childLanes)!==0?wv(r,i,c):(ti(i),r=Sa(r,i,c),r!==null?r.sibling:null);ti(i);break;case 19:var x=(r.flags&128)!==0;if(m=(c&i.childLanes)!==0,m||(wc(r,i,c,!1),m=(c&i.childLanes)!==0),x){if(m)return jv(r,i,c);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),I(Zn,Zn.current),m)break;return null;case 22:case 23:return i.lanes=0,gv(r,i,c);case 24:Ka(i,Qn,r.memoizedState.cache)}return Sa(r,i,c)}function Sv(r,i,c){if(r!==null)if(r.memoizedProps!==i.pendingProps)os=!0;else{if(!up(r,c)&&(i.flags&128)===0)return os=!1,ik(r,i,c);os=(r.flags&131072)!==0}else os=!1,en&&(i.flags&1048576)!==0&&eb(i,xd,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var m=i.elementType,x=m._init;if(m=x(m._payload),i.type=m,typeof m=="function")bm(m)?(r=so(m,r),i.tag=1,i=bv(null,i,m,r,c)):(i.tag=0,i=sp(null,i,m,r,c));else{if(m!=null){if(x=m.$$typeof,x===C){i.tag=11,i=hv(null,i,m,r,c);break e}else if(x===V){i.tag=14,i=mv(null,i,m,r,c);break e}}throw i=J(m)||m,Error(s(306,i,""))}}return i;case 0:return sp(r,i,i.type,i.pendingProps,c);case 1:return m=i.type,x=so(m,i.pendingProps),bv(r,i,m,x,c);case 3:e:{if(Oe(i,i.stateNode.containerInfo),r===null)throw Error(s(387));m=i.pendingProps;var v=i.memoizedState;x=v.element,Dm(r,i),kc(i,m,null,c);var T=i.memoizedState;if(m=T.cache,Ka(i,Qn,m),m!==v.cache&&Tm(i,[Qn],c,!0),Tc(),m=T.element,v.isDehydrated)if(v={element:m,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=vv(r,i,m,c);break e}else if(m!==x){x=ur(Error(s(424)),i),vc(x),i=vv(r,i,m,c);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Dn=Ar(r.firstChild),Ss=i,en=!0,Qi=null,Ir=!0,c=nv(i,null,m,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(bc(),m===x){i=Sa(r,i,c);break e}fs(r,i,m,c)}i=i.child}return i;case 26:return zd(r,i),r===null?(c=kw(i.type,null,i.pendingProps,null))?i.memoizedState=c:en||(c=i.type,r=i.pendingProps,m=Zd(be.current).createElement(c),m[_e]=i,m[Ae]=r,ms(m,c,r),at(m),i.stateNode=m):i.memoizedState=kw(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return He(i),r===null&&en&&(m=i.stateNode=Nw(i.type,i.pendingProps,be.current),Ss=i,Ir=!0,x=Dn,di(i.type)?(qp=x,Dn=Ar(m.firstChild)):Dn=x),fs(r,i,i.pendingProps.children,c),zd(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&en&&((x=m=Dn)&&(m=Mk(m,i.type,i.pendingProps,Ir),m!==null?(i.stateNode=m,Ss=i,Dn=Ar(m.firstChild),Ir=!1,x=!0):x=!1),x||Zi(i)),He(i),x=i.type,v=i.pendingProps,T=r!==null?r.memoizedProps:null,m=v.children,Fp(x,v)?m=null:T!==null&&Fp(x,T)&&(i.flags|=32),i.memoizedState!==null&&(x=Um(r,i,ZT,null,null,c),Kc._currentValue=x),zd(r,i),fs(r,i,m,c),i.child;case 6:return r===null&&en&&((r=c=Dn)&&(c=Pk(c,i.pendingProps,Ir),c!==null?(i.stateNode=c,Ss=i,Dn=null,r=!0):r=!1),r||Zi(i)),null;case 13:return wv(r,i,c);case 4:return Oe(i,i.stateNode.containerInfo),m=i.pendingProps,r===null?i.child=ol(i,null,m,c):fs(r,i,m,c),i.child;case 11:return hv(r,i,i.type,i.pendingProps,c);case 7:return fs(r,i,i.pendingProps,c),i.child;case 8:return fs(r,i,i.pendingProps.children,c),i.child;case 12:return fs(r,i,i.pendingProps.children,c),i.child;case 10:return m=i.pendingProps,Ka(i,i.type,m.value),fs(r,i,m.children,c),i.child;case 9:return x=i.type._context,m=i.pendingProps.children,eo(i),x=bs(x),m=m(x),i.flags|=1,fs(r,i,m,c),i.child;case 14:return mv(r,i,i.type,i.pendingProps,c);case 15:return pv(r,i,i.type,i.pendingProps,c);case 19:return jv(r,i,c);case 31:return m=i.pendingProps,c=i.mode,m={mode:m.mode,children:m.children},r===null?(c=Bd(m,c),c.ref=i.ref,i.child=c,c.return=i,i=c):(c=xa(r.child,m),c.ref=i.ref,i.child=c,c.return=i,i=c),i;case 22:return gv(r,i,c);case 24:return eo(i),m=bs(Qn),r===null?(x=Am(),x===null&&(x=gn,v=km(),x.pooledCache=v,v.refCount++,v!==null&&(x.pooledCacheLanes|=c),x=v),i.memoizedState={parent:m,cache:x},Rm(i),Ka(i,Qn,x)):((r.lanes&c)!==0&&(Dm(r,i),kc(i,null,null,c),Tc()),x=r.memoizedState,v=i.memoizedState,x.parent!==m?(x={parent:m,cache:m},i.memoizedState=x,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=x),Ka(i,Qn,m)):(m=v.cache,Ka(i,Qn,m),m!==x.cache&&Tm(i,[Qn],c,!0))),fs(r,i,i.pendingProps.children,c),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Na(r){r.flags|=4}function Nv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Dw(i)){if(i=mr.current,i!==null&&((Yt&4194048)===Yt?Yr!==null:(Yt&62914560)!==Yt&&(Yt&536870912)===0||i!==Yr))throw Nc=Om,lb;r.flags|=8192}}function Ud(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Mt():536870912,r.lanes|=i,dl|=i)}function Pc(r,i){if(!en)switch(r.tailMode){case"hidden":i=r.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function En(r){var i=r.alternate!==null&&r.alternate.child===r.child,c=0,m=0;if(i)for(var x=r.child;x!==null;)c|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)c|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=m,r.childLanes=c,i}function ok(r,i,c){var m=i.pendingProps;switch(jm(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(i),null;case 1:return En(i),null;case 3:return c=i.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),i.memoizedState.cache!==m&&(i.flags|=2048),wa(Qn),Ke(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(yc(i)?Na(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,sb())),En(i),null;case 26:return c=i.memoizedState,r===null?(Na(i),c!==null?(En(i),Nv(i,c)):(En(i),i.flags&=-16777217)):c?c!==r.memoizedState?(Na(i),En(i),Nv(i,c)):(En(i),i.flags&=-16777217):(r.memoizedProps!==m&&Na(i),En(i),i.flags&=-16777217),null;case 27:wt(i),c=be.current;var x=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==m&&Na(i);else{if(!m){if(i.stateNode===null)throw Error(s(166));return En(i),null}r=ce.current,yc(i)?tb(i):(r=Nw(x,m,c),i.stateNode=r,Na(i))}return En(i),null;case 5:if(wt(i),c=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==m&&Na(i);else{if(!m){if(i.stateNode===null)throw Error(s(166));return En(i),null}if(r=ce.current,yc(i))tb(i);else{switch(x=Zd(be.current),r){case 1:r=x.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=x.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=x.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=x.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof m.is=="string"?x.createElement("select",{is:m.is}):x.createElement("select"),m.multiple?r.multiple=!0:m.size&&(r.size=m.size);break;default:r=typeof m.is=="string"?x.createElement(c,{is:m.is}):x.createElement(c)}}r[_e]=i,r[Ae]=m;e:for(x=i.child;x!==null;){if(x.tag===5||x.tag===6)r.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===i)break e;for(;x.sibling===null;){if(x.return===null||x.return===i)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}i.stateNode=r;e:switch(ms(r,c,m),c){case"button":case"input":case"select":case"textarea":r=!!m.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Na(i)}}return En(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==m&&Na(i);else{if(typeof m!="string"&&i.stateNode===null)throw Error(s(166));if(r=be.current,yc(i)){if(r=i.stateNode,c=i.memoizedProps,m=null,x=Ss,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}r[_e]=i,r=!!(r.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||yw(r.nodeValue,c)),r||Zi(i)}else r=Zd(r).createTextNode(m),r[_e]=i,i.stateNode=r}return En(i),null;case 13:if(m=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(x=yc(i),m!==null&&m.dehydrated!==null){if(r===null){if(!x)throw Error(s(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[_e]=i}else bc(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;En(i),x=!1}else x=sb(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=x),x=!0;if(!x)return i.flags&256?(ja(i),i):(ja(i),null)}if(ja(i),(i.flags&128)!==0)return i.lanes=c,i;if(c=m!==null,r=r!==null&&r.memoizedState!==null,c){m=i.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool);var v=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(v=m.memoizedState.cachePool.pool),v!==x&&(m.flags|=2048)}return c!==r&&c&&(i.child.flags|=8192),Ud(i,i.updateQueue),En(i),null;case 4:return Ke(),r===null&&Pp(i.stateNode.containerInfo),En(i),null;case 10:return wa(i.type),En(i),null;case 19:if(we(Zn),x=i.memoizedState,x===null)return En(i),null;if(m=(i.flags&128)!==0,v=x.rendering,v===null)if(m)Pc(x,!1);else{if(Mn!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(v=Md(r),v!==null){for(i.flags|=128,Pc(x,!1),r=v.updateQueue,i.updateQueue=r,Ud(i,r),i.subtreeFlags=0,r=c,c=i.child;c!==null;)Jy(c,r),c=c.sibling;return I(Zn,Zn.current&1|2),i.child}r=r.sibling}x.tail!==null&&_t()>Vd&&(i.flags|=128,m=!0,Pc(x,!1),i.lanes=4194304)}else{if(!m)if(r=Md(v),r!==null){if(i.flags|=128,m=!0,r=r.updateQueue,i.updateQueue=r,Ud(i,r),Pc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!v.alternate&&!en)return En(i),null}else 2*_t()-x.renderingStartTime>Vd&&c!==536870912&&(i.flags|=128,m=!0,Pc(x,!1),i.lanes=4194304);x.isBackwards?(v.sibling=i.child,i.child=v):(r=x.last,r!==null?r.sibling=v:i.child=v,x.last=v)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=_t(),i.sibling=null,r=Zn.current,I(Zn,m?r&1|2:r&1),i):(En(i),null);case 22:case 23:return ja(i),zm(),m=i.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(i.flags|=8192):m&&(i.flags|=8192),m?(c&536870912)!==0&&(i.flags&128)===0&&(En(i),i.subtreeFlags&6&&(i.flags|=8192)):En(i),c=i.updateQueue,c!==null&&Ud(i,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),m=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(m=i.memoizedState.cachePool.pool),m!==c&&(i.flags|=2048),r!==null&&we(to),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),wa(Qn),En(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function lk(r,i){switch(jm(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return wa(Qn),Ke(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return wt(i),null;case 13:if(ja(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));bc()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return we(Zn),null;case 4:return Ke(),null;case 10:return wa(i.type),null;case 22:case 23:return ja(i),zm(),r!==null&&we(to),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return wa(Qn),null;case 25:return null;default:return null}}function Ev(r,i){switch(jm(i),i.tag){case 3:wa(Qn),Ke();break;case 26:case 27:case 5:wt(i);break;case 4:Ke();break;case 13:ja(i);break;case 19:we(Zn);break;case 10:wa(i.type);break;case 22:case 23:ja(i),zm(),r!==null&&we(to);break;case 24:wa(Qn)}}function Lc(r,i){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var x=m.next;c=x;do{if((c.tag&r)===r){m=void 0;var v=c.create,T=c.inst;m=v(),T.destroy=m}c=c.next}while(c!==x)}}catch(P){fn(i,i.return,P)}}function si(r,i,c){try{var m=i.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var v=x.next;m=v;do{if((m.tag&r)===r){var T=m.inst,P=T.destroy;if(P!==void 0){T.destroy=void 0,x=i;var G=c,pe=P;try{pe()}catch(Ne){fn(x,G,Ne)}}}m=m.next}while(m!==v)}}catch(Ne){fn(i,i.return,Ne)}}function Tv(r){var i=r.updateQueue;if(i!==null){var c=r.stateNode;try{mb(i,c)}catch(m){fn(r,r.return,m)}}}function kv(r,i,c){c.props=so(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(m){fn(r,i,m)}}function zc(r,i){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof c=="function"?r.refCleanup=c(m):c.current=m}}catch(x){fn(r,i,x)}}function Wr(r,i){var c=r.ref,m=r.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(x){fn(r,i,x)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(x){fn(r,i,x)}else c.current=null}function Cv(r){var i=r.type,c=r.memoizedProps,m=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(x){fn(r,r.return,x)}}function dp(r,i,c){try{var m=r.stateNode;Ck(m,r.type,c,i),m[Ae]=i}catch(x){fn(r,r.return,x)}}function Av(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&di(r.type)||r.tag===4}function fp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Av(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&di(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function hp(r,i,c){var m=r.tag;if(m===5||m===6)r=r.stateNode,i?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,i):(i=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,i.appendChild(r),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Qd));else if(m!==4&&(m===27&&di(r.type)&&(c=r.stateNode,i=null),r=r.child,r!==null))for(hp(r,i,c),r=r.sibling;r!==null;)hp(r,i,c),r=r.sibling}function Fd(r,i,c){var m=r.tag;if(m===5||m===6)r=r.stateNode,i?c.insertBefore(r,i):c.appendChild(r);else if(m!==4&&(m===27&&di(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(Fd(r,i,c),r=r.sibling;r!==null;)Fd(r,i,c),r=r.sibling}function Ov(r){var i=r.stateNode,c=r.memoizedProps;try{for(var m=r.type,x=i.attributes;x.length;)i.removeAttributeNode(x[0]);ms(i,m,c),i[_e]=r,i[Ae]=c}catch(v){fn(r,r.return,v)}}var Ea=!1,Ln=!1,mp=!1,Rv=typeof WeakSet=="function"?WeakSet:Set,ls=null;function ck(r,i){if(r=r.containerInfo,Bp=rf,r=$y(r),fm(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var x=m.anchorOffset,v=m.focusNode;m=m.focusOffset;try{c.nodeType,v.nodeType}catch(dt){c=null;break e}var T=0,P=-1,G=-1,pe=0,Ne=0,Ce=r,ye=null;t:for(;;){for(var ve;Ce!==c||x!==0&&Ce.nodeType!==3||(P=T+x),Ce!==v||m!==0&&Ce.nodeType!==3||(G=T+m),Ce.nodeType===3&&(T+=Ce.nodeValue.length),(ve=Ce.firstChild)!==null;)ye=Ce,Ce=ve;for(;;){if(Ce===r)break t;if(ye===c&&++pe===x&&(P=T),ye===v&&++Ne===m&&(G=T),(ve=Ce.nextSibling)!==null)break;Ce=ye,ye=Ce.parentNode}Ce=ve}c=P===-1||G===-1?null:{start:P,end:G}}else c=null}c=c||{start:0,end:0}}else c=null;for(Up={focusedElem:r,selectionRange:c},rf=!1,ls=i;ls!==null;)if(i=ls,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,ls=r;else for(;ls!==null;){switch(i=ls,v=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,c=i,x=v.memoizedProps,v=v.memoizedState,m=c.stateNode;try{var xt=so(c.type,x,c.elementType===c.type);r=m.getSnapshotBeforeUpdate(xt,v),m.__reactInternalSnapshotBeforeUpdate=r}catch(dt){fn(c,c.return,dt)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,c=r.nodeType,c===9)Vp(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Vp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,ls=r;break}ls=i.return}}function Dv(r,i,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:ri(r,c),m&4&&Lc(5,c);break;case 1:if(ri(r,c),m&4)if(r=c.stateNode,i===null)try{r.componentDidMount()}catch(T){fn(c,c.return,T)}else{var x=so(c.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(x,i,r.__reactInternalSnapshotBeforeUpdate)}catch(T){fn(c,c.return,T)}}m&64&&Tv(c),m&512&&zc(c,c.return);break;case 3:if(ri(r,c),m&64&&(r=c.updateQueue,r!==null)){if(i=null,c.child!==null)switch(c.child.tag){case 27:case 5:i=c.child.stateNode;break;case 1:i=c.child.stateNode}try{mb(r,i)}catch(T){fn(c,c.return,T)}}break;case 27:i===null&&m&4&&Ov(c);case 26:case 5:ri(r,c),i===null&&m&4&&Cv(c),m&512&&zc(c,c.return);break;case 12:ri(r,c);break;case 13:ri(r,c),m&4&&Lv(r,c),m&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=yk.bind(null,c),Lk(r,c))));break;case 22:if(m=c.memoizedState!==null||Ea,!m){i=i!==null&&i.memoizedState!==null||Ln,x=Ea;var v=Ln;Ea=m,(Ln=i)&&!v?ai(r,c,(c.subtreeFlags&8772)!==0):ri(r,c),Ea=x,Ln=v}break;case 30:break;default:ri(r,c)}}function Mv(r){var i=r.alternate;i!==null&&(r.alternate=null,Mv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&yt(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var wn=null,Ls=!1;function Ta(r,i,c){for(c=c.child;c!==null;)Pv(r,i,c),c=c.sibling}function Pv(r,i,c){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Be,c)}catch(v){}switch(c.tag){case 26:Ln||Wr(c,i),Ta(r,i,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ln||Wr(c,i);var m=wn,x=Ls;di(c.type)&&(wn=c.stateNode,Ls=!1),Ta(r,i,c),Yc(c.stateNode),wn=m,Ls=x;break;case 5:Ln||Wr(c,i);case 6:if(m=wn,x=Ls,wn=null,Ta(r,i,c),wn=m,Ls=x,wn!==null)if(Ls)try{(wn.nodeType===9?wn.body:wn.nodeName==="HTML"?wn.ownerDocument.body:wn).removeChild(c.stateNode)}catch(v){fn(c,i,v)}else try{wn.removeChild(c.stateNode)}catch(v){fn(c,i,v)}break;case 18:wn!==null&&(Ls?(r=wn,jw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),eu(r)):jw(wn,c.stateNode));break;case 4:m=wn,x=Ls,wn=c.stateNode.containerInfo,Ls=!0,Ta(r,i,c),wn=m,Ls=x;break;case 0:case 11:case 14:case 15:Ln||si(2,c,i),Ln||si(4,c,i),Ta(r,i,c);break;case 1:Ln||(Wr(c,i),m=c.stateNode,typeof m.componentWillUnmount=="function"&&kv(c,i,m)),Ta(r,i,c);break;case 21:Ta(r,i,c);break;case 22:Ln=(m=Ln)||c.memoizedState!==null,Ta(r,i,c),Ln=m;break;default:Ta(r,i,c)}}function Lv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{eu(r)}catch(c){fn(i,i.return,c)}}function uk(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Rv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Rv),i;default:throw Error(s(435,r.tag))}}function pp(r,i){var c=uk(r);i.forEach(function(m){var x=bk.bind(null,r,m);c.has(m)||(c.add(m),m.then(x,x))})}function Xs(r,i){var c=i.deletions;if(c!==null)for(var m=0;m<c.length;m++){var x=c[m],v=r,T=i,P=T;e:for(;P!==null;){switch(P.tag){case 27:if(di(P.type)){wn=P.stateNode,Ls=!1;break e}break;case 5:wn=P.stateNode,Ls=!1;break e;case 3:case 4:wn=P.stateNode.containerInfo,Ls=!0;break e}P=P.return}if(wn===null)throw Error(s(160));Pv(v,T,x),wn=null,Ls=!1,v=x.alternate,v!==null&&(v.return=null),x.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)zv(i,r),i=i.sibling}var Cr=null;function zv(r,i){var c=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Xs(i,r),Gs(r),m&4&&(si(3,r,r.return),Lc(3,r),si(5,r,r.return));break;case 1:Xs(i,r),Gs(r),m&512&&(Ln||c===null||Wr(c,c.return)),m&64&&Ea&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var x=Cr;if(Xs(i,r),Gs(r),m&512&&(Ln||c===null||Wr(c,c.return)),m&4){var v=c!==null?c.memoizedState:null;if(m=r.memoizedState,c===null)if(m===null)if(r.stateNode===null){e:{m=r.type,c=r.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":v=x.getElementsByTagName("title")[0],(!v||v[rt]||v[_e]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=x.createElement(m),x.head.insertBefore(v,x.querySelector("head > title"))),ms(v,m,c),v[_e]=r,at(v),m=v;break e;case"link":var T=Ow("link","href",x).get(m+(c.href||""));if(T){for(var P=0;P<T.length;P++)if(v=T[P],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){T.splice(P,1);break t}}v=x.createElement(m),ms(v,m,c),x.head.appendChild(v);break;case"meta":if(T=Ow("meta","content",x).get(m+(c.content||""))){for(P=0;P<T.length;P++)if(v=T[P],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){T.splice(P,1);break t}}v=x.createElement(m),ms(v,m,c),x.head.appendChild(v);break;default:throw Error(s(468,m))}v[_e]=r,at(v),m=v}r.stateNode=m}else Rw(x,r.type,r.stateNode);else r.stateNode=Aw(x,m,r.memoizedProps);else v!==m?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,m===null?Rw(x,r.type,r.stateNode):Aw(x,m,r.memoizedProps)):m===null&&r.stateNode!==null&&dp(r,r.memoizedProps,c.memoizedProps)}break;case 27:Xs(i,r),Gs(r),m&512&&(Ln||c===null||Wr(c,c.return)),c!==null&&m&4&&dp(r,r.memoizedProps,c.memoizedProps);break;case 5:if(Xs(i,r),Gs(r),m&512&&(Ln||c===null||Wr(c,c.return)),r.flags&32){x=r.stateNode;try{qa(x,"")}catch(ve){fn(r,r.return,ve)}}m&4&&r.stateNode!=null&&(x=r.memoizedProps,dp(r,x,c!==null?c.memoizedProps:x)),m&1024&&(mp=!0);break;case 6:if(Xs(i,r),Gs(r),m&4){if(r.stateNode===null)throw Error(s(162));m=r.memoizedProps,c=r.stateNode;try{c.nodeValue=m}catch(ve){fn(r,r.return,ve)}}break;case 3:if(tf=null,x=Cr,Cr=Jd(i.containerInfo),Xs(i,r),Cr=x,Gs(r),m&4&&c!==null&&c.memoizedState.isDehydrated)try{eu(i.containerInfo)}catch(ve){fn(r,r.return,ve)}mp&&(mp=!1,Bv(r));break;case 4:m=Cr,Cr=Jd(r.stateNode.containerInfo),Xs(i,r),Gs(r),Cr=m;break;case 12:Xs(i,r),Gs(r);break;case 13:Xs(i,r),Gs(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(wp=_t()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,pp(r,m)));break;case 22:x=r.memoizedState!==null;var G=c!==null&&c.memoizedState!==null,pe=Ea,Ne=Ln;if(Ea=pe||x,Ln=Ne||G,Xs(i,r),Ln=Ne,Ea=pe,Gs(r),m&8192)e:for(i=r.stateNode,i._visibility=x?i._visibility&-2:i._visibility|1,x&&(c===null||G||Ea||Ln||ro(r)),c=null,i=r;;){if(i.tag===5||i.tag===26){if(c===null){G=c=i;try{if(v=G.stateNode,x)T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{P=G.stateNode;var Ce=G.memoizedProps.style,ye=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;P.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(ve){fn(G,G.return,ve)}}}else if(i.tag===6){if(c===null){G=i;try{G.stateNode.nodeValue=x?"":G.memoizedProps}catch(ve){fn(G,G.return,ve)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;c===i&&(c=null),i=i.return}c===i&&(c=null),i.sibling.return=i.return,i=i.sibling}m&4&&(m=r.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,pp(r,c))));break;case 19:Xs(i,r),Gs(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,pp(r,m)));break;case 30:break;case 21:break;default:Xs(i,r),Gs(r)}}function Gs(r){var i=r.flags;if(i&2){try{for(var c,m=r.return;m!==null;){if(Av(m)){c=m;break}m=m.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var x=c.stateNode,v=fp(r);Fd(r,v,x);break;case 5:var T=c.stateNode;c.flags&32&&(qa(T,""),c.flags&=-33);var P=fp(r);Fd(r,P,T);break;case 3:case 4:var G=c.stateNode.containerInfo,pe=fp(r);hp(r,pe,G);break;default:throw Error(s(161))}}catch(Ne){fn(r,r.return,Ne)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Bv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Bv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function ri(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Dv(r,i.alternate,i),i=i.sibling}function ro(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:si(4,i,i.return),ro(i);break;case 1:Wr(i,i.return);var c=i.stateNode;typeof c.componentWillUnmount=="function"&&kv(i,i.return,c),ro(i);break;case 27:Yc(i.stateNode);case 26:case 5:Wr(i,i.return),ro(i);break;case 22:i.memoizedState===null&&ro(i);break;case 30:ro(i);break;default:ro(i)}r=r.sibling}}function ai(r,i,c){for(c=c&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var m=i.alternate,x=r,v=i,T=v.flags;switch(v.tag){case 0:case 11:case 15:ai(x,v,c),Lc(4,v);break;case 1:if(ai(x,v,c),m=v,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(pe){fn(m,m.return,pe)}if(m=v,x=m.updateQueue,x!==null){var P=m.stateNode;try{var G=x.shared.hiddenCallbacks;if(G!==null)for(x.shared.hiddenCallbacks=null,x=0;x<G.length;x++)hb(G[x],P)}catch(pe){fn(m,m.return,pe)}}c&&T&64&&Tv(v),zc(v,v.return);break;case 27:Ov(v);case 26:case 5:ai(x,v,c),c&&m===null&&T&4&&Cv(v),zc(v,v.return);break;case 12:ai(x,v,c);break;case 13:ai(x,v,c),c&&T&4&&Lv(x,v);break;case 22:v.memoizedState===null&&ai(x,v,c),zc(v,v.return);break;case 30:break;default:ai(x,v,c)}i=i.sibling}}function gp(r,i){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&_c(c))}function xp(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&_c(r))}function Xr(r,i,c,m){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Uv(r,i,c,m),i=i.sibling}function Uv(r,i,c,m){var x=i.flags;switch(i.tag){case 0:case 11:case 15:Xr(r,i,c,m),x&2048&&Lc(9,i);break;case 1:Xr(r,i,c,m);break;case 3:Xr(r,i,c,m),x&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&_c(r)));break;case 12:if(x&2048){Xr(r,i,c,m),r=i.stateNode;try{var v=i.memoizedProps,T=v.id,P=v.onPostCommit;typeof P=="function"&&P(T,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(G){fn(i,i.return,G)}}else Xr(r,i,c,m);break;case 13:Xr(r,i,c,m);break;case 23:break;case 22:v=i.stateNode,T=i.alternate,i.memoizedState!==null?v._visibility&2?Xr(r,i,c,m):Bc(r,i):v._visibility&2?Xr(r,i,c,m):(v._visibility|=2,ll(r,i,c,m,(i.subtreeFlags&10256)!==0)),x&2048&&gp(T,i);break;case 24:Xr(r,i,c,m),x&2048&&xp(i.alternate,i);break;default:Xr(r,i,c,m)}}function ll(r,i,c,m,x){for(x=x&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var v=r,T=i,P=c,G=m,pe=T.flags;switch(T.tag){case 0:case 11:case 15:ll(v,T,P,G,x),Lc(8,T);break;case 23:break;case 22:var Ne=T.stateNode;T.memoizedState!==null?Ne._visibility&2?ll(v,T,P,G,x):Bc(v,T):(Ne._visibility|=2,ll(v,T,P,G,x)),x&&pe&2048&&gp(T.alternate,T);break;case 24:ll(v,T,P,G,x),x&&pe&2048&&xp(T.alternate,T);break;default:ll(v,T,P,G,x)}i=i.sibling}}function Bc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var c=r,m=i,x=m.flags;switch(m.tag){case 22:Bc(c,m),x&2048&&gp(m.alternate,m);break;case 24:Bc(c,m),x&2048&&xp(m.alternate,m);break;default:Bc(c,m)}i=i.sibling}}var Uc=8192;function cl(r){if(r.subtreeFlags&Uc)for(r=r.child;r!==null;)Fv(r),r=r.sibling}function Fv(r){switch(r.tag){case 26:cl(r),r.flags&Uc&&r.memoizedState!==null&&Gk(Cr,r.memoizedState,r.memoizedProps);break;case 5:cl(r);break;case 3:case 4:var i=Cr;Cr=Jd(r.stateNode.containerInfo),cl(r),Cr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Uc,Uc=16777216,cl(r),Uc=i):cl(r));break;default:cl(r)}}function Hv(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Fc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var m=i[c];ls=m,$v(m,r)}Hv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Vv(r),r=r.sibling}function Vv(r){switch(r.tag){case 0:case 11:case 15:Fc(r),r.flags&2048&&si(9,r,r.return);break;case 3:Fc(r);break;case 12:Fc(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Hd(r)):Fc(r);break;default:Fc(r)}}function Hd(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var m=i[c];ls=m,$v(m,r)}Hv(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:si(8,i,i.return),Hd(i);break;case 22:c=i.stateNode,c._visibility&2&&(c._visibility&=-3,Hd(i));break;default:Hd(i)}r=r.sibling}}function $v(r,i){for(;ls!==null;){var c=ls;switch(c.tag){case 0:case 11:case 15:si(8,c,i);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:_c(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,ls=m;else e:for(c=r;ls!==null;){m=ls;var x=m.sibling,v=m.return;if(Mv(m),m===c){ls=null;break e}if(x!==null){x.return=v,ls=x;break e}ls=v}}}var dk={getCacheForType:function(r){var i=bs(Qn),c=i.data.get(r);return c===void 0&&(c=r(),i.data.set(r,c)),c}},fk=typeof WeakMap=="function"?WeakMap:Map,nn=0,gn=null,Ut=null,Yt=0,sn=0,Ks=null,ii=!1,ul=!1,yp=!1,ka=0,Mn=0,oi=0,ao=0,bp=0,pr=0,dl=0,Hc=null,zs=null,vp=!1,wp=0,Vd=1/0,$d=null,li=null,hs=0,ci=null,fl=null,hl=0,_p=0,jp=null,qv=null,Vc=0,Sp=null;function Qs(){if((nn&2)!==0&&Yt!==0)return Yt&-Yt;if(z.T!==null){var r=el;return r!==0?r:Op()}return K()}function Iv(){pr===0&&(pr=(Yt&536870912)===0||en?Ye():536870912);var r=mr.current;return r!==null&&(r.flags|=32),pr}function Zs(r,i,c){(r===gn&&(sn===2||sn===9)||r.cancelPendingCommit!==null)&&(ml(r,0),ui(r,Yt,pr,!1)),jt(r,c),((nn&2)===0||r!==gn)&&(r===gn&&((nn&2)===0&&(ao|=c),Mn===4&&ui(r,Yt,pr,!1)),Gr(r))}function Yv(r,i,c){if((nn&6)!==0)throw Error(s(327));var m=!c&&(i&124)===0&&(i&r.expiredLanes)===0||Hn(r,i),x=m?pk(r,i):Tp(r,i,!0),v=m;do{if(x===0){ul&&!m&&ui(r,i,0,!1);break}else{if(c=r.current.alternate,v&&!hk(c)){x=Tp(r,i,!1),v=!1;continue}if(x===2){if(v=i,r.errorRecoveryDisabledLanes&v)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var P=r;x=Hc;var G=P.current.memoizedState.isDehydrated;if(G&&(ml(P,T).flags|=256),T=Tp(P,T,!1),T!==2){if(yp&&!G){P.errorRecoveryDisabledLanes|=v,ao|=v,x=4;break e}v=zs,zs=x,v!==null&&(zs===null?zs=v:zs.push.apply(zs,v))}x=T}if(v=!1,x!==2)continue}}if(x===1){ml(r,0),ui(r,i,0,!0);break}e:{switch(m=r,v=x,v){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ui(m,i,pr,!ii);break e;case 2:zs=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(x=wp+300-_t(),10<x)){if(ui(m,i,pr,!ii),rs(m,0,!0)!==0)break e;m.timeoutHandle=ww(Wv.bind(null,m,c,zs,$d,vp,i,pr,ao,dl,ii,v,2,-0,0),x);break e}Wv(m,c,zs,$d,vp,i,pr,ao,dl,ii,v,0,-0,0)}}break}while(!0);Gr(r)}function Wv(r,i,c,m,x,v,T,P,G,pe,Ne,Ce,ye,ve){if(r.timeoutHandle=-1,Ce=i.subtreeFlags,(Ce&8192||(Ce&16785408)===16785408)&&(Gc={stylesheets:null,count:0,unsuspend:Xk},Fv(i),Ce=Kk(),Ce!==null)){r.cancelPendingCommit=Ce(ew.bind(null,r,i,v,c,m,x,T,P,G,Ne,1,ye,ve)),ui(r,v,T,!pe);return}ew(r,i,v,c,m,x,T,P,G)}function hk(r){for(var i=r;;){var c=i.tag;if((c===0||c===11||c===15)&&i.flags&16384&&(c=i.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var x=c[m],v=x.getSnapshot;x=x.value;try{if(!Ys(v(),x))return!1}catch(T){return!1}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ui(r,i,c,m){i&=~bp,i&=~ao,r.suspendedLanes|=i,r.pingedLanes&=~i,m&&(r.warmLanes|=i),m=r.expirationTimes;for(var x=i;0<x;){var v=31-gt(x),T=1<<v;m[v]=-1,x&=~T}c!==0&&We(r,c,i)}function qd(){return(nn&6)===0?($c(0),!1):!0}function Np(){if(Ut!==null){if(sn===0)var r=Ut.return;else r=Ut,va=Ji=null,Vm(r),il=null,Dc=0,r=Ut;for(;r!==null;)Ev(r.alternate,r),r=r.return;Ut=null}}function ml(r,i){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,Ok(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),Np(),gn=r,Ut=c=xa(r.current,null),Yt=i,sn=0,Ks=null,ii=!1,ul=Hn(r,i),yp=!1,dl=pr=bp=ao=oi=Mn=0,zs=Hc=null,vp=!1,(i&8)!==0&&(i|=i&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=i;0<m;){var x=31-gt(m),v=1<<x;i|=r[x],m&=~v}return ka=i,fd(),c}function Xv(r,i){Pt=null,z.H=Od,i===Sc||i===wd?(i=db(),sn=3):i===lb?(i=db(),sn=4):sn=i===fv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ks=i,Ut===null&&(Mn=1,Ld(r,ur(i,r.current)))}function Gv(){var r=z.H;return z.H=Od,r===null?Od:r}function Kv(){var r=z.A;return z.A=dk,r}function Ep(){Mn=4,ii||(Yt&4194048)!==Yt&&mr.current!==null||(ul=!0),(oi&134217727)===0&&(ao&134217727)===0||gn===null||ui(gn,Yt,pr,!1)}function Tp(r,i,c){var m=nn;nn|=2;var x=Gv(),v=Kv();(gn!==r||Yt!==i)&&($d=null,ml(r,i)),i=!1;var T=Mn;e:do try{if(sn!==0&&Ut!==null){var P=Ut,G=Ks;switch(sn){case 8:Np(),T=6;break e;case 3:case 2:case 9:case 6:mr.current===null&&(i=!0);var pe=sn;if(sn=0,Ks=null,pl(r,P,G,pe),c&&ul){T=0;break e}break;default:pe=sn,sn=0,Ks=null,pl(r,P,G,pe)}}mk(),T=Mn;break}catch(Ne){Xv(r,Ne)}while(!0);return i&&r.shellSuspendCounter++,va=Ji=null,nn=m,z.H=x,z.A=v,Ut===null&&(gn=null,Yt=0,fd()),T}function mk(){for(;Ut!==null;)Qv(Ut)}function pk(r,i){var c=nn;nn|=2;var m=Gv(),x=Kv();gn!==r||Yt!==i?($d=null,Vd=_t()+500,ml(r,i)):ul=Hn(r,i);e:do try{if(sn!==0&&Ut!==null){i=Ut;var v=Ks;t:switch(sn){case 1:sn=0,Ks=null,pl(r,i,v,1);break;case 2:case 9:if(cb(v)){sn=0,Ks=null,Zv(i);break}i=function(){sn!==2&&sn!==9||gn!==r||(sn=7),Gr(r)},v.then(i,i);break e;case 3:sn=7;break e;case 4:sn=5;break e;case 7:cb(v)?(sn=0,Ks=null,Zv(i)):(sn=0,Ks=null,pl(r,i,v,7));break;case 5:var T=null;switch(Ut.tag){case 26:T=Ut.memoizedState;case 5:case 27:var P=Ut;if(!T||Dw(T)){sn=0,Ks=null;var G=P.sibling;if(G!==null)Ut=G;else{var pe=P.return;pe!==null?(Ut=pe,Id(pe)):Ut=null}break t}}sn=0,Ks=null,pl(r,i,v,5);break;case 6:sn=0,Ks=null,pl(r,i,v,6);break;case 8:Np(),Mn=6;break e;default:throw Error(s(462))}}gk();break}catch(Ne){Xv(r,Ne)}while(!0);return va=Ji=null,z.H=m,z.A=x,nn=c,Ut!==null?0:(gn=null,Yt=0,fd(),Mn)}function gk(){for(;Ut!==null&&!pt();)Qv(Ut)}function Qv(r){var i=Sv(r.alternate,r,ka);r.memoizedProps=r.pendingProps,i===null?Id(r):Ut=i}function Zv(r){var i=r,c=i.alternate;switch(i.tag){case 15:case 0:i=yv(c,i,i.pendingProps,i.type,void 0,Yt);break;case 11:i=yv(c,i,i.pendingProps,i.type.render,i.ref,Yt);break;case 5:Vm(i);default:Ev(c,i),i=Ut=Jy(i,ka),i=Sv(c,i,ka)}r.memoizedProps=r.pendingProps,i===null?Id(r):Ut=i}function pl(r,i,c,m){va=Ji=null,Vm(i),il=null,Dc=0;var x=i.return;try{if(ak(r,x,i,c,Yt)){Mn=1,Ld(r,ur(c,r.current)),Ut=null;return}}catch(v){if(x!==null)throw Ut=x,v;Mn=1,Ld(r,ur(c,r.current)),Ut=null;return}i.flags&32768?(en||m===1?r=!0:ul||(Yt&536870912)!==0?r=!1:(ii=r=!0,(m===2||m===9||m===3||m===6)&&(m=mr.current,m!==null&&m.tag===13&&(m.flags|=16384))),Jv(i,r)):Id(i)}function Id(r){var i=r;do{if((i.flags&32768)!==0){Jv(i,ii);return}r=i.return;var c=ok(i.alternate,i,ka);if(c!==null){Ut=c;return}if(i=i.sibling,i!==null){Ut=i;return}Ut=i=r}while(i!==null);Mn===0&&(Mn=5)}function Jv(r,i){do{var c=lk(r.alternate,r);if(c!==null){c.flags&=32767,Ut=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!i&&(r=r.sibling,r!==null)){Ut=r;return}Ut=r=c}while(r!==null);Mn=6,Ut=null}function ew(r,i,c,m,x,v,T,P,G){r.cancelPendingCommit=null;do Yd();while(hs!==0);if((nn&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(v=i.lanes|i.childLanes,v|=xm,Jt(r,c,v,T,P,G),r===gn&&(Ut=gn=null,Yt=0),fl=i,ci=r,hl=c,_p=v,jp=x,qv=m,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,vk(ue,function(){return aw(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||m){m=z.T,z.T=null,x=Q.p,Q.p=2,T=nn,nn|=4;try{ck(r,i,c)}finally{nn=T,Q.p=x,z.T=m}}hs=1,tw(),nw(),sw()}}function tw(){if(hs===1){hs=0;var r=ci,i=fl,c=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||c){c=z.T,z.T=null;var m=Q.p;Q.p=2;var x=nn;nn|=4;try{zv(i,r);var v=Up,T=$y(r.containerInfo),P=v.focusedElem,G=v.selectionRange;if(T!==P&&P&&P.ownerDocument&&Vy(P.ownerDocument.documentElement,P)){if(G!==null&&fm(P)){var pe=G.start,Ne=G.end;if(Ne===void 0&&(Ne=pe),"selectionStart"in P)P.selectionStart=pe,P.selectionEnd=Math.min(Ne,P.value.length);else{var Ce=P.ownerDocument||document,ye=Ce&&Ce.defaultView||window;if(ye.getSelection){var ve=ye.getSelection(),xt=P.textContent.length,dt=Math.min(G.start,xt),un=G.end===void 0?dt:Math.min(G.end,xt);!ve.extend&&dt>un&&(T=un,un=dt,dt=T);var oe=Hy(P,dt),ne=Hy(P,un);if(oe&&ne&&(ve.rangeCount!==1||ve.anchorNode!==oe.node||ve.anchorOffset!==oe.offset||ve.focusNode!==ne.node||ve.focusOffset!==ne.offset)){var me=Ce.createRange();me.setStart(oe.node,oe.offset),ve.removeAllRanges(),dt>un?(ve.addRange(me),ve.extend(ne.node,ne.offset)):(me.setEnd(ne.node,ne.offset),ve.addRange(me))}}}}for(Ce=[],ve=P;ve=ve.parentNode;)ve.nodeType===1&&Ce.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<Ce.length;P++){var Ee=Ce[P];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}rf=!!Bp,Up=Bp=null}finally{nn=x,Q.p=m,z.T=c}}r.current=i,hs=2}}function nw(){if(hs===2){hs=0;var r=ci,i=fl,c=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||c){c=z.T,z.T=null;var m=Q.p;Q.p=2;var x=nn;nn|=4;try{Dv(r,i.alternate,i)}finally{nn=x,Q.p=m,z.T=c}}hs=3}}function sw(){if(hs===4||hs===3){hs=0,Vt();var r=ci,i=fl,c=hl,m=qv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?hs=5:(hs=0,fl=ci=null,rw(r,r.pendingLanes));var x=r.pendingLanes;if(x===0&&(li=null),Wt(c),i=i.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Be,i,void 0,(i.current.flags&128)===128)}catch(G){}if(m!==null){i=z.T,x=Q.p,Q.p=2,z.T=null;try{for(var v=r.onRecoverableError,T=0;T<m.length;T++){var P=m[T];v(P.value,{componentStack:P.stack})}}finally{z.T=i,Q.p=x}}(hl&3)!==0&&Yd(),Gr(r),x=r.pendingLanes,(c&4194090)!==0&&(x&42)!==0?r===Sp?Vc++:(Vc=0,Sp=r):Vc=0,$c(0)}}function rw(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,_c(i)))}function Yd(r){return tw(),nw(),sw(),aw()}function aw(){if(hs!==5)return!1;var r=ci,i=_p;_p=0;var c=Wt(hl),m=z.T,x=Q.p;try{Q.p=32>c?32:c,z.T=null,c=jp,jp=null;var v=ci,T=hl;if(hs=0,fl=ci=null,hl=0,(nn&6)!==0)throw Error(s(331));var P=nn;if(nn|=4,Vv(v.current),Uv(v,v.current,T,c),nn=P,$c(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Be,v)}catch(G){}return!0}finally{Q.p=x,z.T=m,rw(r,i)}}function iw(r,i,c){i=ur(c,i),i=np(r.stateNode,i,2),r=Ja(r,i,2),r!==null&&(jt(r,2),Gr(r))}function fn(r,i,c){if(r.tag===3)iw(r,r,c);else for(;i!==null;){if(i.tag===3){iw(i,r,c);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(li===null||!li.has(m))){r=ur(c,r),c=uv(2),m=Ja(i,c,2),m!==null&&(dv(c,m,i,r),jt(m,2),Gr(m));break}}i=i.return}}function kp(r,i,c){var m=r.pingCache;if(m===null){m=r.pingCache=new fk;var x=new Set;m.set(i,x)}else x=m.get(i),x===void 0&&(x=new Set,m.set(i,x));x.has(c)||(yp=!0,x.add(c),r=xk.bind(null,r,i,c),i.then(r,r))}function xk(r,i,c){var m=r.pingCache;m!==null&&m.delete(i),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,gn===r&&(Yt&c)===c&&(Mn===4||Mn===3&&(Yt&62914560)===Yt&&300>_t()-wp?(nn&2)===0&&ml(r,0):bp|=c,dl===Yt&&(dl=0)),Gr(r)}function ow(r,i){i===0&&(i=Mt()),r=Ko(r,i),r!==null&&(jt(r,i),Gr(r))}function yk(r){var i=r.memoizedState,c=0;i!==null&&(c=i.retryLane),ow(r,c)}function bk(r,i){var c=0;switch(r.tag){case 13:var m=r.stateNode,x=r.memoizedState;x!==null&&(c=x.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(s(314))}m!==null&&m.delete(i),ow(r,c)}function vk(r,i){return bt(r,i)}var Wd=null,gl=null,Cp=!1,Xd=!1,Ap=!1,io=0;function Gr(r){r!==gl&&r.next===null&&(gl===null?Wd=gl=r:gl=gl.next=r),Xd=!0,Cp||(Cp=!0,_k())}function $c(r,i){if(!Ap&&Xd){Ap=!0;do for(var c=!1,m=Wd;m!==null;){if(r!==0){var x=m.pendingLanes;if(x===0)var v=0;else{var T=m.suspendedLanes,P=m.pingedLanes;v=(1<<31-gt(42|r)+1)-1,v&=x&~(T&~P),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,dw(m,v))}else v=Yt,v=rs(m,m===gn?v:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(v&3)===0||Hn(m,v)||(c=!0,dw(m,v));m=m.next}while(c);Ap=!1}}function wk(){lw()}function lw(){Xd=Cp=!1;var r=0;io!==0&&(Ak()&&(r=io),io=0);for(var i=_t(),c=null,m=Wd;m!==null;){var x=m.next,v=cw(m,i);v===0?(m.next=null,c===null?Wd=x:c.next=x,x===null&&(gl=c)):(c=m,(r!==0||(v&3)!==0)&&(Xd=!0)),m=x}$c(r)}function cw(r,i){for(var c=r.suspendedLanes,m=r.pingedLanes,x=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var T=31-gt(v),P=1<<T,G=x[T];G===-1?((P&c)===0||(P&m)!==0)&&(x[T]=us(P,i)):G<=i&&(r.expiredLanes|=P),v&=~P}if(i=gn,c=Yt,c=rs(r,r===i?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,c===0||r===i&&(sn===2||sn===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&Pe(m),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Hn(r,c)){if(i=c&-c,i===r.callbackPriority)return i;switch(m!==null&&Pe(m),Wt(c)){case 2:case 8:c=W;break;case 32:c=ue;break;case 268435456:c=Se;break;default:c=ue}return m=uw.bind(null,r),c=bt(c,m),r.callbackPriority=i,r.callbackNode=c,i}return m!==null&&m!==null&&Pe(m),r.callbackPriority=2,r.callbackNode=null,2}function uw(r,i){if(hs!==0&&hs!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(Yd()&&r.callbackNode!==c)return null;var m=Yt;return m=rs(r,r===gn?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(Yv(r,m,i),cw(r,_t()),r.callbackNode!=null&&r.callbackNode===c?uw.bind(null,r):null)}function dw(r,i){if(Yd())return null;Yv(r,i,!0)}function _k(){Rk(function(){(nn&6)!==0?bt(Ct,wk):lw()})}function Op(){return io===0&&(io=Ye()),io}function fw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Fo(""+r)}function hw(r,i){var c=i.ownerDocument.createElement("input");return c.name=i.name,c.value=i.value,r.id&&c.setAttribute("form",r.id),i.parentNode.insertBefore(c,i),r=new FormData(r),c.parentNode.removeChild(c),r}function jk(r,i,c,m,x){if(i==="submit"&&c&&c.stateNode===x){var v=fw((x[Ae]||null).action),T=m.submitter;T&&(i=(i=T[Ae]||null)?fw(i.formAction):T.getAttribute("formAction"),i!==null&&(v=i,T=null));var P=new $o("action","action",null,m,x);r.push({event:P,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(io!==0){var G=T?hw(x,T):new FormData(x);Qm(c,{pending:!0,data:G,method:x.method,action:v},null,G)}}else typeof v=="function"&&(P.preventDefault(),G=T?hw(x,T):new FormData(x),Qm(c,{pending:!0,data:G,method:x.method,action:v},v,G))},currentTarget:x}]})}}for(var Rp=0;Rp<gm.length;Rp++){var Dp=gm[Rp],Sk=Dp.toLowerCase(),Nk=Dp[0].toUpperCase()+Dp.slice(1);kr(Sk,"on"+Nk)}kr(Yy,"onAnimationEnd"),kr(Wy,"onAnimationIteration"),kr(Xy,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(VT,"onTransitionRun"),kr($T,"onTransitionStart"),kr(qT,"onTransitionCancel"),kr(Gy,"onTransitionEnd"),An("onMouseEnter",["mouseout","mouseover"]),An("onMouseLeave",["mouseout","mouseover"]),An("onPointerEnter",["pointerout","pointerover"]),An("onPointerLeave",["pointerout","pointerover"]),vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ek=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qc));function mw(r,i){i=(i&4)!==0;for(var c=0;c<r.length;c++){var m=r[c],x=m.event;m=m.listeners;e:{var v=void 0;if(i)for(var T=m.length-1;0<=T;T--){var P=m[T],G=P.instance,pe=P.currentTarget;if(P=P.listener,G!==v&&x.isPropagationStopped())break e;v=P,x.currentTarget=pe;try{v(x)}catch(Ne){Pd(Ne)}x.currentTarget=null,v=G}else for(T=0;T<m.length;T++){if(P=m[T],G=P.instance,pe=P.currentTarget,P=P.listener,G!==v&&x.isPropagationStopped())break e;v=P,x.currentTarget=pe;try{v(x)}catch(Ne){Pd(Ne)}x.currentTarget=null,v=G}}}}function Ft(r,i){var c=i[Qe];c===void 0&&(c=i[Qe]=new Set);var m=r+"__bubble";c.has(m)||(pw(i,r,2,!1),c.add(m))}function Mp(r,i,c){var m=0;i&&(m|=4),pw(c,r,m,i)}var Gd="_reactListening"+Math.random().toString(36).slice(2);function Pp(r){if(!r[Gd]){r[Gd]=!0,St.forEach(function(c){c!=="selectionchange"&&(Ek.has(c)||Mp(c,!1,r),Mp(c,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Gd]||(i[Gd]=!0,Mp("selectionchange",!1,i))}}function pw(r,i,c,m){switch(Uw(i)){case 2:var x=Jk;break;case 8:x=eC;break;default:x=Gp}c=x.bind(null,i,c,r),x=void 0,!Ho||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),m?x!==void 0?r.addEventListener(i,c,{capture:!0,passive:x}):r.addEventListener(i,c,!0):x!==void 0?r.addEventListener(i,c,{passive:x}):r.addEventListener(i,c,!1)}function Lp(r,i,c,m,x){var v=m;if((i&1)===0&&(i&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var P=m.stateNode.containerInfo;if(P===x)break;if(T===4)for(T=m.return;T!==null;){var G=T.tag;if((G===3||G===4)&&T.stateNode.containerInfo===x)return;T=T.return}for(;P!==null;){if(T=Tt(P),T===null)return;if(G=T.tag,G===5||G===6||G===26||G===27){m=v=T;continue e}P=P.parentNode}}m=m.return}fc(function(){var pe=v,Ne=Hi(c),Ce=[];e:{var ye=Ky.get(r);if(ye!==void 0){var ve=$o,xt=r;switch(r){case"keypress":if(Wa(c)===0)break e;case"keydown":case"keyup":ve=qr;break;case"focusin":xt="focus",ve=ot;break;case"focusout":xt="blur",ve=ot;break;case"beforeblur":case"afterblur":ve=ot;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=ie;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=ge;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=ud;break;case Yy:case Wy:case Xy:ve=Ie;break;case Gy:ve=NT;break;case"scroll":case"scrollend":ve=Rn;break;case"wheel":ve=TT;break;case"copy":case"cut":case"paste":ve=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=qo;break;case"toggle":case"beforetoggle":ve=CT}var dt=(i&4)!==0,un=!dt&&(r==="scroll"||r==="scrollend"),oe=dt?ye!==null?ye+"Capture":null:ye;dt=[];for(var ne=pe,me;ne!==null;){var Ee=ne;if(me=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||me===null||oe===null||(Ee=Ya(ne,oe),Ee!=null&&dt.push(Ic(ne,Ee,me))),un)break;ne=ne.return}0<dt.length&&(ye=new ve(ye,xt,null,c,Ne),Ce.push({event:ye,listeners:dt}))}}if((i&7)===0){e:{if(ye=r==="mouseover"||r==="pointerover",ve=r==="mouseout"||r==="pointerout",ye&&c!==uc&&(xt=c.relatedTarget||c.fromElement)&&(Tt(xt)||xt[Fe]))break e;if((ve||ye)&&(ye=Ne.window===Ne?Ne:(ye=Ne.ownerDocument)?ye.defaultView||ye.parentWindow:window,ve?(xt=c.relatedTarget||c.toElement,ve=pe,xt=xt?Tt(xt):null,xt!==null&&(un=o(xt),dt=xt.tag,xt!==un||dt!==5&&dt!==27&&dt!==6)&&(xt=null)):(ve=null,xt=pe),ve!==xt)){if(dt=ie,Ee="onMouseLeave",oe="onMouseEnter",ne="mouse",(r==="pointerout"||r==="pointerover")&&(dt=qo,Ee="onPointerLeave",oe="onPointerEnter",ne="pointer"),un=ve==null?ye:Cn(ve),me=xt==null?ye:Cn(xt),ye=new dt(Ee,ne+"leave",ve,c,Ne),ye.target=un,ye.relatedTarget=me,Ee=null,Tt(Ne)===pe&&(dt=new dt(oe,ne+"enter",xt,c,Ne),dt.target=me,dt.relatedTarget=un,Ee=dt),un=Ee,ve&&xt)t:{for(dt=ve,oe=xt,ne=0,me=dt;me;me=xl(me))ne++;for(me=0,Ee=oe;Ee;Ee=xl(Ee))me++;for(;0<ne-me;)dt=xl(dt),ne--;for(;0<me-ne;)oe=xl(oe),me--;for(;ne--;){if(dt===oe||oe!==null&&dt===oe.alternate)break t;dt=xl(dt),oe=xl(oe)}dt=null}else dt=null;ve!==null&&gw(Ce,ye,ve,dt,!1),xt!==null&&un!==null&&gw(Ce,un,xt,dt,!0)}}e:{if(ye=pe?Cn(pe):window,ve=ye.nodeName&&ye.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ye.type==="file")var Ze=Py;else if(Dy(ye))if(Ly)Ze=UT;else{Ze=zT;var zt=LT}else ve=ye.nodeName,!ve||ve.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?pe&&Fi(pe.elementType)&&(Ze=Py):Ze=BT;if(Ze&&(Ze=Ze(r,pe))){My(Ce,Ze,c,Ne);break e}zt&&zt(r,ye,pe),r==="focusout"&&pe&&ye.type==="number"&&pe.memoizedProps.value!=null&&oc(ye,"number",ye.value)}switch(zt=pe?Cn(pe):window,r){case"focusin":(Dy(zt)||zt.contentEditable==="true")&&(Wo=zt,hm=pe,xc=null);break;case"focusout":xc=hm=Wo=null;break;case"mousedown":mm=!0;break;case"contextmenu":case"mouseup":case"dragend":mm=!1,qy(Ce,c,Ne);break;case"selectionchange":if(HT)break;case"keydown":case"keyup":qy(Ce,c,Ne)}var it;if(cm)e:{switch(r){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Yo?Oy(r,c)&&(mt="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(mt="onCompositionStart");mt&&(ky&&c.locale!=="ko"&&(Yo||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Yo&&(it=qi()):(Is=Ne,Ms="value"in Is?Is.value:Is.textContent,Yo=!0)),zt=Kd(pe,mt),0<zt.length&&(mt=new ut(mt,r,null,c,Ne),Ce.push({event:mt,listeners:zt}),it?mt.data=it:(it=Ry(c),it!==null&&(mt.data=it)))),(it=OT?RT(r,c):DT(r,c))&&(mt=Kd(pe,"onBeforeInput"),0<mt.length&&(zt=new ut("onBeforeInput","beforeinput",null,c,Ne),Ce.push({event:zt,listeners:mt}),zt.data=it)),jk(Ce,r,pe,c,Ne)}mw(Ce,i)})}function Ic(r,i,c){return{instance:r,listener:i,currentTarget:c}}function Kd(r,i){for(var c=i+"Capture",m=[];r!==null;){var x=r,v=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||v===null||(x=Ya(r,c),x!=null&&m.unshift(Ic(r,x,v)),x=Ya(r,i),x!=null&&m.push(Ic(r,x,v))),r.tag===3)return m;r=r.return}return[]}function xl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function gw(r,i,c,m,x){for(var v=i._reactName,T=[];c!==null&&c!==m;){var P=c,G=P.alternate,pe=P.stateNode;if(P=P.tag,G!==null&&G===m)break;P!==5&&P!==26&&P!==27||pe===null||(G=pe,x?(pe=Ya(c,v),pe!=null&&T.unshift(Ic(c,pe,G))):x||(pe=Ya(c,v),pe!=null&&T.push(Ic(c,pe,G)))),c=c.return}T.length!==0&&r.push({event:i,listeners:T})}var Tk=/\r\n?/g,kk=/\u0000|\uFFFD/g;function xw(r){return(typeof r=="string"?r:""+r).replace(Tk,`
`).replace(kk,"")}function yw(r,i){return i=xw(i),xw(r)===i}function Qd(){}function cn(r,i,c,m,x,v){switch(c){case"children":typeof m=="string"?i==="body"||i==="textarea"&&m===""||qa(r,m):(typeof m=="number"||typeof m=="bigint")&&i!=="body"&&qa(r,""+m);break;case"className":lr(r,"class",m);break;case"tabIndex":lr(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(r,c,m);break;case"style":cc(r,m,v);break;case"data":if(i!=="object"){lr(r,"data",m);break}case"src":case"href":if(m===""&&(i!=="a"||c!=="href")){r.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(c);break}m=Fo(""+m),r.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(i!=="input"&&cn(r,i,"name",x.name,x,null),cn(r,i,"formEncType",x.formEncType,x,null),cn(r,i,"formMethod",x.formMethod,x,null),cn(r,i,"formTarget",x.formTarget,x,null)):(cn(r,i,"encType",x.encType,x,null),cn(r,i,"method",x.method,x,null),cn(r,i,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(c);break}m=Fo(""+m),r.setAttribute(c,m);break;case"onClick":m!=null&&(r.onclick=Qd);break;case"onScroll":m!=null&&Ft("scroll",r);break;case"onScrollEnd":m!=null&&Ft("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(c=m.__html,c!=null){if(x.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}c=Fo(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(c,""+m):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":m===!0?r.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(c,m):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(c,m):r.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(c):r.setAttribute(c,m);break;case"popover":Ft("beforetoggle",r),Ft("toggle",r),xs(r,"popover",m);break;case"xlinkActuate":Rt(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Rt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Rt(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Rt(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Rt(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Rt(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Rt(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Rt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Rt(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":xs(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Uo.get(c)||c,xs(r,c,m))}}function zp(r,i,c,m,x,v){switch(c){case"style":cc(r,m,v);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(c=m.__html,c!=null){if(x.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"children":typeof m=="string"?qa(r,m):(typeof m=="number"||typeof m=="bigint")&&qa(r,""+m);break;case"onScroll":m!=null&&Ft("scroll",r);break;case"onScrollEnd":m!=null&&Ft("scrollend",r);break;case"onClick":m!=null&&(r.onclick=Qd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xt.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(x=c.endsWith("Capture"),i=c.slice(2,x?c.length-7:void 0),v=r[Ae]||null,v=v!=null?v[c]:null,typeof v=="function"&&r.removeEventListener(i,v,x),typeof m=="function")){typeof v!="function"&&v!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(i,m,x);break e}c in r?r[c]=m:m===!0?r.setAttribute(c,""):xs(r,c,m)}}}function ms(r,i,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",r),Ft("load",r);var m=!1,x=!1,v;for(v in c)if(c.hasOwnProperty(v)){var T=c[v];if(T!=null)switch(v){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:cn(r,i,v,T,c,null)}}x&&cn(r,i,"srcSet",c.srcSet,c,null),m&&cn(r,i,"src",c.src,c,null);return;case"input":Ft("invalid",r);var P=v=T=x=null,G=null,pe=null;for(m in c)if(c.hasOwnProperty(m)){var Ne=c[m];if(Ne!=null)switch(m){case"name":x=Ne;break;case"type":T=Ne;break;case"checked":G=Ne;break;case"defaultChecked":pe=Ne;break;case"value":v=Ne;break;case"defaultValue":P=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(s(137,i));break;default:cn(r,i,m,Ne,c,null)}}id(r,v,P,G,pe,T,x,!1),zi(r);return;case"select":Ft("invalid",r),m=T=v=null;for(x in c)if(c.hasOwnProperty(x)&&(P=c[x],P!=null))switch(x){case"value":v=P;break;case"defaultValue":T=P;break;case"multiple":m=P;default:cn(r,i,x,P,c,null)}i=v,c=T,r.multiple=!!m,i!=null?ma(r,!!m,i,!1):c!=null&&ma(r,!!m,c,!0);return;case"textarea":Ft("invalid",r),v=x=m=null;for(T in c)if(c.hasOwnProperty(T)&&(P=c[T],P!=null))switch(T){case"value":m=P;break;case"defaultValue":x=P;break;case"children":v=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:cn(r,i,T,P,c,null)}lc(r,m,x,v),zi(r);return;case"option":for(G in c)if(c.hasOwnProperty(G)&&(m=c[G],m!=null))switch(G){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:cn(r,i,G,m,c,null)}return;case"dialog":Ft("beforetoggle",r),Ft("toggle",r),Ft("cancel",r),Ft("close",r);break;case"iframe":case"object":Ft("load",r);break;case"video":case"audio":for(m=0;m<qc.length;m++)Ft(qc[m],r);break;case"image":Ft("error",r),Ft("load",r);break;case"details":Ft("toggle",r);break;case"embed":case"source":case"link":Ft("error",r),Ft("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pe in c)if(c.hasOwnProperty(pe)&&(m=c[pe],m!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:cn(r,i,pe,m,c,null)}return;default:if(Fi(i)){for(Ne in c)c.hasOwnProperty(Ne)&&(m=c[Ne],m!==void 0&&zp(r,i,Ne,m,c,void 0));return}}for(P in c)c.hasOwnProperty(P)&&(m=c[P],m!=null&&cn(r,i,P,m,c,null))}function Ck(r,i,c,m){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,v=null,T=null,P=null,G=null,pe=null,Ne=null;for(ve in c){var Ce=c[ve];if(c.hasOwnProperty(ve)&&Ce!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":G=Ce;default:m.hasOwnProperty(ve)||cn(r,i,ve,null,m,Ce)}}for(var ye in m){var ve=m[ye];if(Ce=c[ye],m.hasOwnProperty(ye)&&(ve!=null||Ce!=null))switch(ye){case"type":v=ve;break;case"name":x=ve;break;case"checked":pe=ve;break;case"defaultChecked":Ne=ve;break;case"value":T=ve;break;case"defaultValue":P=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(s(137,i));break;default:ve!==Ce&&cn(r,i,ye,ve,m,Ce)}}ic(r,T,P,G,pe,Ne,v,x);return;case"select":ve=T=P=ye=null;for(v in c)if(G=c[v],c.hasOwnProperty(v)&&G!=null)switch(v){case"value":break;case"multiple":ve=G;default:m.hasOwnProperty(v)||cn(r,i,v,null,m,G)}for(x in m)if(v=m[x],G=c[x],m.hasOwnProperty(x)&&(v!=null||G!=null))switch(x){case"value":ye=v;break;case"defaultValue":P=v;break;case"multiple":T=v;default:v!==G&&cn(r,i,x,v,m,G)}i=P,c=T,m=ve,ye!=null?ma(r,!!c,ye,!1):!!m!=!!c&&(i!=null?ma(r,!!c,i,!0):ma(r,!!c,c?[]:"",!1));return;case"textarea":ve=ye=null;for(P in c)if(x=c[P],c.hasOwnProperty(P)&&x!=null&&!m.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:cn(r,i,P,null,m,x)}for(T in m)if(x=m[T],v=c[T],m.hasOwnProperty(T)&&(x!=null||v!=null))switch(T){case"value":ye=x;break;case"defaultValue":ve=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:x!==v&&cn(r,i,T,x,m,v)}Ui(r,ye,ve);return;case"option":for(var xt in c)if(ye=c[xt],c.hasOwnProperty(xt)&&ye!=null&&!m.hasOwnProperty(xt))switch(xt){case"selected":r.selected=!1;break;default:cn(r,i,xt,null,m,ye)}for(G in m)if(ye=m[G],ve=c[G],m.hasOwnProperty(G)&&ye!==ve&&(ye!=null||ve!=null))switch(G){case"selected":r.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:cn(r,i,G,ye,m,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in c)ye=c[dt],c.hasOwnProperty(dt)&&ye!=null&&!m.hasOwnProperty(dt)&&cn(r,i,dt,null,m,ye);for(pe in m)if(ye=m[pe],ve=c[pe],m.hasOwnProperty(pe)&&ye!==ve&&(ye!=null||ve!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(s(137,i));break;default:cn(r,i,pe,ye,m,ve)}return;default:if(Fi(i)){for(var un in c)ye=c[un],c.hasOwnProperty(un)&&ye!==void 0&&!m.hasOwnProperty(un)&&zp(r,i,un,void 0,m,ye);for(Ne in m)ye=m[Ne],ve=c[Ne],!m.hasOwnProperty(Ne)||ye===ve||ye===void 0&&ve===void 0||zp(r,i,Ne,ye,m,ve);return}}for(var oe in c)ye=c[oe],c.hasOwnProperty(oe)&&ye!=null&&!m.hasOwnProperty(oe)&&cn(r,i,oe,null,m,ye);for(Ce in m)ye=m[Ce],ve=c[Ce],!m.hasOwnProperty(Ce)||ye===ve||ye==null&&ve==null||cn(r,i,Ce,ye,m,ve)}var Bp=null,Up=null;function Zd(r){return r.nodeType===9?r:r.ownerDocument}function bw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vw(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Fp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Hp=null;function Ak(){var r=window.event;return r&&r.type==="popstate"?r===Hp?!1:(Hp=r,!0):(Hp=null,!1)}var ww=typeof setTimeout=="function"?setTimeout:void 0,Ok=typeof clearTimeout=="function"?clearTimeout:void 0,_w=typeof Promise=="function"?Promise:void 0,Rk=typeof queueMicrotask=="function"?queueMicrotask:typeof _w!="undefined"?function(r){return _w.resolve(null).then(r).catch(Dk)}:ww;function Dk(r){setTimeout(function(){throw r})}function di(r){return r==="head"}function jw(r,i){var c=i,m=0,x=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<m&&8>m){c=m;var T=r.ownerDocument;if(c&1&&Yc(T.documentElement),c&2&&Yc(T.body),c&4)for(c=T.head,Yc(c),T=c.firstChild;T;){var P=T.nextSibling,G=T.nodeName;T[rt]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&T.rel.toLowerCase()==="stylesheet"||c.removeChild(T),T=P}}if(x===0){r.removeChild(v),eu(i);return}x--}else c==="$"||c==="$?"||c==="$!"?x++:m=c.charCodeAt(0)-48;else m=0;c=v}while(c);eu(i)}function Vp(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var c=i;switch(i=i.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Vp(c),yt(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function Mk(r,i,c,m){for(;r.nodeType===1;){var x=c;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[rt])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==x.rel||r.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||r.getAttribute("title")!==(x.title==null?null:x.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(x.src==null?null:x.src)||r.getAttribute("type")!==(x.type==null?null:x.type)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var v=x.name==null?null:""+x.name;if(x.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Ar(r.nextSibling),r===null)break}return null}function Pk(r,i,c){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Ar(r.nextSibling),r===null))return null;return r}function $p(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Lk(r,i){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")i();else{var m=function(){i(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function Ar(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var qp=null;function Sw(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return r;i--}else c==="/$"&&i++}r=r.previousSibling}return null}function Nw(r,i,c){switch(i=Zd(c),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Yc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);yt(r)}var gr=new Map,Ew=new Set;function Jd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ca=Q.d;Q.d={f:zk,r:Bk,D:Uk,C:Fk,L:Hk,m:Vk,X:qk,S:$k,M:Ik};function zk(){var r=Ca.f(),i=qd();return r||i}function Bk(r){var i=dn(r);i!==null&&i.tag===5&&i.type==="form"?Yb(i):Ca.r(r)}var yl=typeof document=="undefined"?null:document;function Tw(r,i,c){var m=yl;if(m&&typeof i=="string"&&i){var x=Rs(i);x='link[rel="'+r+'"][href="'+x+'"]',typeof c=="string"&&(x+='[crossorigin="'+c+'"]'),Ew.has(x)||(Ew.add(x),r={rel:r,crossOrigin:c,href:i},m.querySelector(x)===null&&(i=m.createElement("link"),ms(i,"link",r),at(i),m.head.appendChild(i)))}}function Uk(r){Ca.D(r),Tw("dns-prefetch",r,null)}function Fk(r,i){Ca.C(r,i),Tw("preconnect",r,i)}function Hk(r,i,c){Ca.L(r,i,c);var m=yl;if(m&&r&&i){var x='link[rel="preload"][as="'+Rs(i)+'"]';i==="image"&&c&&c.imageSrcSet?(x+='[imagesrcset="'+Rs(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(x+='[imagesizes="'+Rs(c.imageSizes)+'"]')):x+='[href="'+Rs(r)+'"]';var v=x;switch(i){case"style":v=bl(r);break;case"script":v=vl(r)}gr.has(v)||(r=p({rel:"preload",href:i==="image"&&c&&c.imageSrcSet?void 0:r,as:i},c),gr.set(v,r),m.querySelector(x)!==null||i==="style"&&m.querySelector(Wc(v))||i==="script"&&m.querySelector(Xc(v))||(i=m.createElement("link"),ms(i,"link",r),at(i),m.head.appendChild(i)))}}function Vk(r,i){Ca.m(r,i);var c=yl;if(c&&r){var m=i&&typeof i.as=="string"?i.as:"script",x='link[rel="modulepreload"][as="'+Rs(m)+'"][href="'+Rs(r)+'"]',v=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=vl(r)}if(!gr.has(v)&&(r=p({rel:"modulepreload",href:r},i),gr.set(v,r),c.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Xc(v)))return}m=c.createElement("link"),ms(m,"link",r),at(m),c.head.appendChild(m)}}}function $k(r,i,c){Ca.S(r,i,c);var m=yl;if(m&&r){var x=an(m).hoistableStyles,v=bl(r);i=i||"default";var T=x.get(v);if(!T){var P={loading:0,preload:null};if(T=m.querySelector(Wc(v)))P.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":i},c),(c=gr.get(v))&&Ip(r,c);var G=T=m.createElement("link");at(G),ms(G,"link",r),G._p=new Promise(function(pe,Ne){G.onload=pe,G.onerror=Ne}),G.addEventListener("load",function(){P.loading|=1}),G.addEventListener("error",function(){P.loading|=2}),P.loading|=4,ef(T,i,m)}T={type:"stylesheet",instance:T,count:1,state:P},x.set(v,T)}}}function qk(r,i){Ca.X(r,i);var c=yl;if(c&&r){var m=an(c).hoistableScripts,x=vl(r),v=m.get(x);v||(v=c.querySelector(Xc(x)),v||(r=p({src:r,async:!0},i),(i=gr.get(x))&&Yp(r,i),v=c.createElement("script"),at(v),ms(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},m.set(x,v))}}function Ik(r,i){Ca.M(r,i);var c=yl;if(c&&r){var m=an(c).hoistableScripts,x=vl(r),v=m.get(x);v||(v=c.querySelector(Xc(x)),v||(r=p({src:r,async:!0,type:"module"},i),(i=gr.get(x))&&Yp(r,i),v=c.createElement("script"),at(v),ms(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},m.set(x,v))}}function kw(r,i,c,m){var x=(x=be.current)?Jd(x):null;if(!x)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(i=bl(c.href),c=an(x).hoistableStyles,m=c.get(i),m||(m={type:"style",instance:null,count:0,state:null},c.set(i,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=bl(c.href);var v=an(x).hoistableStyles,T=v.get(r);if(T||(x=x.ownerDocument||x,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,T),(v=x.querySelector(Wc(r)))&&!v._p&&(T.instance=v,T.state.loading=5),gr.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},gr.set(r,c),v||Yk(x,r,c,T.state))),i&&m===null)throw Error(s(528,""));return T}if(i&&m!==null)throw Error(s(529,""));return null;case"script":return i=c.async,c=c.src,typeof c=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=vl(c),c=an(x).hoistableScripts,m=c.get(i),m||(m={type:"script",instance:null,count:0,state:null},c.set(i,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function bl(r){return'href="'+Rs(r)+'"'}function Wc(r){return'link[rel="stylesheet"]['+r+"]"}function Cw(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function Yk(r,i,c,m){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?m.loading=1:(i=r.createElement("link"),m.preload=i,i.addEventListener("load",function(){return m.loading|=1}),i.addEventListener("error",function(){return m.loading|=2}),ms(i,"link",c),at(i),r.head.appendChild(i))}function vl(r){return'[src="'+Rs(r)+'"]'}function Xc(r){return"script[async]"+r}function Aw(r,i,c){if(i.count++,i.instance===null)switch(i.type){case"style":var m=r.querySelector('style[data-href~="'+Rs(c.href)+'"]');if(m)return i.instance=m,at(m),m;var x=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),at(m),ms(m,"style",x),ef(m,c.precedence,r),i.instance=m;case"stylesheet":x=bl(c.href);var v=r.querySelector(Wc(x));if(v)return i.state.loading|=4,i.instance=v,at(v),v;m=Cw(c),(x=gr.get(x))&&Ip(m,x),v=(r.ownerDocument||r).createElement("link"),at(v);var T=v;return T._p=new Promise(function(P,G){T.onload=P,T.onerror=G}),ms(v,"link",m),i.state.loading|=4,ef(v,c.precedence,r),i.instance=v;case"script":return v=vl(c.src),(x=r.querySelector(Xc(v)))?(i.instance=x,at(x),x):(m=c,(x=gr.get(v))&&(m=p({},c),Yp(m,x)),r=r.ownerDocument||r,x=r.createElement("script"),at(x),ms(x,"link",m),r.head.appendChild(x),i.instance=x);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(m=i.instance,i.state.loading|=4,ef(m,c.precedence,r));return i.instance}function ef(r,i,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,v=x,T=0;T<m.length;T++){var P=m[T];if(P.dataset.precedence===i)v=P;else if(v!==x)break}v?v.parentNode.insertBefore(r,v.nextSibling):(i=c.nodeType===9?c.head:c,i.insertBefore(r,i.firstChild))}function Ip(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Yp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var tf=null;function Ow(r,i,c){if(tf===null){var m=new Map,x=tf=new Map;x.set(c,m)}else x=tf,m=x.get(c),m||(m=new Map,x.set(c,m));if(m.has(r))return m;for(m.set(r,null),c=c.getElementsByTagName(r),x=0;x<c.length;x++){var v=c[x];if(!(v[rt]||v[_e]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var T=v.getAttribute(i)||"";T=r+T;var P=m.get(T);P?P.push(v):m.set(T,[v])}}return m}function Rw(r,i,c){r=r.ownerDocument||r,r.head.insertBefore(c,i==="title"?r.querySelector("head > title"):null)}function Wk(r,i,c){if(c===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Dw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Gc=null;function Xk(){}function Gk(r,i,c){if(Gc===null)throw Error(s(475));var m=Gc;if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var x=bl(c.href),v=r.querySelector(Wc(x));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(m.count++,m=nf.bind(m),r.then(m,m)),i.state.loading|=4,i.instance=v,at(v);return}v=r.ownerDocument||r,c=Cw(c),(x=gr.get(x))&&Ip(c,x),v=v.createElement("link"),at(v);var T=v;T._p=new Promise(function(P,G){T.onload=P,T.onerror=G}),ms(v,"link",c),i.instance=v}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(m.count++,i=nf.bind(m),r.addEventListener("load",i),r.addEventListener("error",i))}}function Kk(){if(Gc===null)throw Error(s(475));var r=Gc;return r.stylesheets&&r.count===0&&Wp(r,r.stylesheets),0<r.count?function(i){var c=setTimeout(function(){if(r.stylesheets&&Wp(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(c)}}:null}function nf(){if(this.count--,this.count===0){if(this.stylesheets)Wp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var sf=null;function Wp(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,sf=new Map,i.forEach(Qk,r),sf=null,nf.call(r))}function Qk(r,i){if(!(i.state.loading&4)){var c=sf.get(r);if(c)var m=c.get(null);else{c=new Map,sf.set(r,c);for(var x=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<x.length;v++){var T=x[v];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(c.set(T.dataset.precedence,T),m=T)}m&&c.set(null,m)}x=i.instance,T=x.getAttribute("data-precedence"),v=c.get(T)||m,v===m&&c.set(null,x),c.set(T,x),this.count++,m=nf.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),v?v.parentNode.insertBefore(x,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(x,r.firstChild)),i.state.loading|=4}}var Kc={$$typeof:k,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function Zk(r,i,c,m,x,v,T,P){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.hiddenUpdates=Bt(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=v,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Mw(r,i,c,m,x,v,T,P,G,pe,Ne,Ce){return r=new Zk(r,i,c,T,P,G,pe,Ce),i=1,v===!0&&(i|=24),v=Ws(3,null,null,i),r.current=v,v.stateNode=r,i=km(),i.refCount++,r.pooledCache=i,i.refCount++,v.memoizedState={element:m,isDehydrated:c,cache:i},Rm(v),r}function Pw(r){return r?(r=Qo,r):Qo}function Lw(r,i,c,m,x,v){x=Pw(x),m.context===null?m.context=x:m.pendingContext=x,m=Za(i),m.payload={element:c},v=v===void 0?null:v,v!==null&&(m.callback=v),c=Ja(r,m,i),c!==null&&(Zs(c,r,i),Ec(c,r,i))}function zw(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<i?c:i}}function Xp(r,i){zw(r,i),(r=r.alternate)&&zw(r,i)}function Bw(r){if(r.tag===13){var i=Ko(r,67108864);i!==null&&Zs(i,r,67108864),Xp(r,67108864)}}var rf=!0;function Jk(r,i,c,m){var x=z.T;z.T=null;var v=Q.p;try{Q.p=2,Gp(r,i,c,m)}finally{Q.p=v,z.T=x}}function eC(r,i,c,m){var x=z.T;z.T=null;var v=Q.p;try{Q.p=8,Gp(r,i,c,m)}finally{Q.p=v,z.T=x}}function Gp(r,i,c,m){if(rf){var x=Kp(m);if(x===null)Lp(r,i,m,af,c),Fw(r,m);else if(nC(x,r,i,c,m))m.stopPropagation();else if(Fw(r,m),i&4&&-1<tC.indexOf(r)){for(;x!==null;){var v=dn(x);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var T=Sn(v.pendingLanes);if(T!==0){var P=v;for(P.pendingLanes|=2,P.entangledLanes|=2;T;){var G=1<<31-gt(T);P.entanglements[1]|=G,T&=~G}Gr(v),(nn&6)===0&&(Vd=_t()+500,$c(0))}}break;case 13:P=Ko(v,2),P!==null&&Zs(P,v,2),qd(),Xp(v,2)}if(v=Kp(m),v===null&&Lp(r,i,m,af,c),v===x)break;x=v}x!==null&&m.stopPropagation()}else Lp(r,i,m,null,c)}}function Kp(r){return r=Hi(r),Qp(r)}var af=null;function Qp(r){if(af=null,r=Tt(r),r!==null){var i=o(r);if(i===null)r=null;else{var c=i.tag;if(c===13){if(r=l(i),r!==null)return r;r=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return af=r,null}function Uw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($t()){case Ct:return 2;case W:return 8;case ue:case $:return 32;case Se:return 268435456;default:return 32}default:return 32}}var Zp=!1,fi=null,hi=null,mi=null,Qc=new Map,Zc=new Map,pi=[],tC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fw(r,i){switch(r){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":Qc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(i.pointerId)}}function Jc(r,i,c,m,x,v){return r===null||r.nativeEvent!==v?(r={blockedOn:i,domEventName:c,eventSystemFlags:m,nativeEvent:v,targetContainers:[x]},i!==null&&(i=dn(i),i!==null&&Bw(i)),r):(r.eventSystemFlags|=m,i=r.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),r)}function nC(r,i,c,m,x){switch(i){case"focusin":return fi=Jc(fi,r,i,c,m,x),!0;case"dragenter":return hi=Jc(hi,r,i,c,m,x),!0;case"mouseover":return mi=Jc(mi,r,i,c,m,x),!0;case"pointerover":var v=x.pointerId;return Qc.set(v,Jc(Qc.get(v)||null,r,i,c,m,x)),!0;case"gotpointercapture":return v=x.pointerId,Zc.set(v,Jc(Zc.get(v)||null,r,i,c,m,x)),!0}return!1}function Hw(r){var i=Tt(r.target);if(i!==null){var c=o(i);if(c!==null){if(i=c.tag,i===13){if(i=l(c),i!==null){r.blockedOn=i,se(r.priority,function(){if(c.tag===13){var m=Qs();m=qt(m);var x=Ko(c,m);x!==null&&Zs(x,c,m),Xp(c,m)}});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function of(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var c=Kp(r.nativeEvent);if(c===null){c=r.nativeEvent;var m=new c.constructor(c.type,c);uc=m,c.target.dispatchEvent(m),uc=null}else return i=dn(c),i!==null&&Bw(i),r.blockedOn=c,!1;i.shift()}return!0}function Vw(r,i,c){of(r)&&c.delete(i)}function sC(){Zp=!1,fi!==null&&of(fi)&&(fi=null),hi!==null&&of(hi)&&(hi=null),mi!==null&&of(mi)&&(mi=null),Qc.forEach(Vw),Zc.forEach(Vw)}function lf(r,i){r.blockedOn===i&&(r.blockedOn=null,Zp||(Zp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sC)))}var cf=null;function $w(r){cf!==r&&(cf=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){cf===r&&(cf=null);for(var i=0;i<r.length;i+=3){var c=r[i],m=r[i+1],x=r[i+2];if(typeof m!="function"){if(Qp(m||c)===null)continue;break}var v=dn(c);v!==null&&(r.splice(i,3),i-=3,Qm(v,{pending:!0,data:x,method:c.method,action:m},m,x))}}))}function eu(r){function i(G){return lf(G,r)}fi!==null&&lf(fi,r),hi!==null&&lf(hi,r),mi!==null&&lf(mi,r),Qc.forEach(i),Zc.forEach(i);for(var c=0;c<pi.length;c++){var m=pi[c];m.blockedOn===r&&(m.blockedOn=null)}for(;0<pi.length&&(c=pi[0],c.blockedOn===null);)Hw(c),c.blockedOn===null&&pi.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var x=c[m],v=c[m+1],T=x[Ae]||null;if(typeof v=="function")T||$w(c);else if(T){var P=null;if(v&&v.hasAttribute("formAction")){if(x=v,T=v[Ae]||null)P=T.formAction;else if(Qp(x)!==null)continue}else P=T.action;typeof P=="function"?c[m+1]=P:(c.splice(m,3),m-=3),$w(c)}}}function Jp(r){this._internalRoot=r}uf.prototype.render=Jp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var c=i.current,m=Qs();Lw(c,m,r,i,null,null)},uf.prototype.unmount=Jp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Lw(r.current,2,null,r,null,null),qd(),i[Fe]=null}};function uf(r){this._internalRoot=r}uf.prototype.unstable_scheduleHydration=function(r){if(r){var i=K();r={blockedOn:null,target:r,priority:i};for(var c=0;c<pi.length&&i!==0&&i<pi[c].priority;c++);pi.splice(c,0,r),c===0&&Hw(r)}};var qw=t.version;if(qw!=="19.1.1")throw Error(s(527,qw,"19.1.1"));Q.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=f(i),r=r!==null?h(r):null,r=r===null?null:r.stateNode,r};var rC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{Be=df.inject(rC),qe=df}catch(r){}}return nu.createRoot=function(r,i){if(!a(r))throw Error(s(299));var c=!1,m="",x=iv,v=ov,T=lv,P=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onUncaughtError!==void 0&&(x=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(P=i.unstable_transitionCallbacks)),i=Mw(r,1,!1,null,null,c,m,x,v,T,P,null),r[Fe]=i.current,Pp(r),new Jp(i)},nu.hydrateRoot=function(r,i,c){if(!a(r))throw Error(s(299));var m=!1,x="",v=iv,T=ov,P=lv,G=null,pe=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(G=c.unstable_transitionCallbacks),c.formState!==void 0&&(pe=c.formState)),i=Mw(r,1,!0,i,c!=null?c:null,m,x,v,T,P,G,pe),i.context=Pw(null),c=i.current,m=Qs(),m=qt(m),x=Za(m),x.callback=null,Ja(c,x,m),c=m,i.current.lanes=c,jt(i,c),Gr(i),r[Fe]=i.current,Pp(r),new uf(i)},nu.version="19.1.1",nu}var s_;function bC(){if(s_)return ag.exports;s_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ag.exports=yC(),ag.exports}var vC=bC();const wC=J0(vC);var _C=Object.defineProperty,jC=(e,t,n)=>t in e?_C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lo=(e,t,n)=>jC(e,typeof t!="symbol"?t+"":t,n),SC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_l={},su={},Or={},r_;function pS(){if(r_)return Or;r_=1;var e=Or&&Or.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,d=arguments.length;l<d;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=Or&&Or.__awaiter||function(a,o,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function g(w){try{y(d.next(w))}catch(_){p(_)}}function b(w){try{y(d.throw(w))}catch(_){p(_)}}function y(w){w.done?h(w.value):f(w.value).then(g,b)}y((d=d.apply(a,o||[])).next())})},n=Or&&Or.__generator||function(a,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(w){return b([y,w])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(l=0)),l;)try{if(d=1,f&&(h=y[0]&2?f.return:y[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,y[1])).done)return h;switch(f=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,f=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){l.label=y[1];break}if(y[0]===6&&l.label<h[1]){l.label=h[1],h=y;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(y);break}h[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(a,l)}catch(w){y=[6,w],f=0}finally{d=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Or,"__esModule",{value:!0}),Or.FrappeCall=void 0;var s=function(){function a(o,l,d,f,h){this.appURL=o,this.axios=l,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.get=function(o,l){return t(this,void 0,void 0,function(){var d;return n(this,function(f){return d=new URLSearchParams,l&&Object.entries(l).forEach(function(h){var p=h[0],g=h[1];if(g!=null){var b=typeof g=="object"?JSON.stringify(g):g;d.set(p,b)}}),[2,this.axios.get("/api/method/".concat(o),{params:d}).then(function(h){return h.data}).catch(function(h){var p,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(p=h.response.data.message)!==null&&p!==void 0?p:"There was an error.",exception:(g=h.response.data.exception)!==null&&g!==void 0?g:""})})]})})},a.prototype.post=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/method/".concat(o),e({},l)).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.put=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.put("/api/method/".concat(o),e({},l)).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a.prototype.delete=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.delete("/api/method/".concat(o),{params:l}).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},a}();return Or.FrappeCall=s,Or}var Rr={},a_;function gS(){if(a_)return Rr;a_=1;var e=Rr&&Rr.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,d=arguments.length;l<d;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=Rr&&Rr.__awaiter||function(a,o,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function g(w){try{y(d.next(w))}catch(_){p(_)}}function b(w){try{y(d.throw(w))}catch(_){p(_)}}function y(w){w.done?h(w.value):f(w.value).then(g,b)}y((d=d.apply(a,o||[])).next())})},n=Rr&&Rr.__generator||function(a,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(w){return b([y,w])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(l=0)),l;)try{if(d=1,f&&(h=y[0]&2?f.return:y[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,y[1])).done)return h;switch(f=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,f=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){l.label=y[1];break}if(y[0]===6&&l.label<h[1]){l.label=h[1],h=y;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(y);break}h[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(a,l)}catch(w){y=[6,w],f=0}finally{d=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.FrappeDB=void 0;var s=function(){function a(o,l,d,f,h){this.appURL=o,this.axios=l,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.getDoc=function(o,l){return l===void 0&&(l=""),t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.get("/api/resource/".concat(o,"/").concat(encodeURIComponent(l))).then(function(f){return f.data.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while fetching the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getDocList=function(o,l){var d;return t(this,void 0,void 0,function(){var f,h,p,g,b,y,w,_,j,S,O;return n(this,function(k){return f={},l&&(h=l.fields,p=l.filters,g=l.orFilters,b=l.orderBy,y=l.limit,w=l.limit_start,_=l.groupBy,j=l.asDict,S=j===void 0?!0:j,O=b?"".concat(String(b==null?void 0:b.field)," ").concat((d=b==null?void 0:b.order)!==null&&d!==void 0?d:"asc"):"",f={fields:h?JSON.stringify(h):void 0,filters:p?JSON.stringify(p):void 0,or_filters:g?JSON.stringify(g):void 0,order_by:O,group_by:_,limit:y,limit_start:w,as_dict:S}),[2,this.axios.get("/api/resource/".concat(o),{params:f}).then(function(C){return C.data.data}).catch(function(C){var A,M;throw e(e({},C.response.data),{httpStatus:C.response.status,httpStatusText:C.response.statusText,message:"There was an error while fetching the documents.",exception:(M=(A=C.response.data.exception)!==null&&A!==void 0?A:C.response.data.exc_type)!==null&&M!==void 0?M:""})})]})})},a.prototype.createDoc=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/resource/".concat(o),e({},l)).then(function(f){return f.data.data}).catch(function(f){var h,p,g;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error while creating the document.",exception:(g=(p=f.response.data.exception)!==null&&p!==void 0?p:f.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},a.prototype.updateDoc=function(o,l,d){return t(this,void 0,void 0,function(){return n(this,function(f){return[2,this.axios.put("/api/resource/".concat(o,"/").concat(l&&encodeURIComponent(l)),e({},d)).then(function(h){return h.data.data}).catch(function(h){var p,g,b;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(p=h.response.data.message)!==null&&p!==void 0?p:"There was an error while updating the document.",exception:(b=(g=h.response.data.exception)!==null&&g!==void 0?g:h.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.deleteDoc=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.delete("/api/resource/".concat(o,"/").concat(l&&encodeURIComponent(l))).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while deleting the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a.prototype.getCount=function(o,l,d,f){return d===void 0&&(d=!1),f===void 0&&(f=!1),t(this,void 0,void 0,function(){var h;return n(this,function(p){return h={doctype:o,filters:[]},d&&(h.cache=d),f&&(h.debug=f),l&&(h.filters=l?JSON.stringify(l):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:h}).then(function(g){return g.data.message}).catch(function(g){var b,y;throw e(e({},g.response.data),{httpStatus:g.response.status,httpStatusText:g.response.statusText,message:"There was an error while getting the count.",exception:(y=(b=g.response.data.exception)!==null&&b!==void 0?b:g.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},a.prototype.getLastDoc=function(o,l){return t(this,void 0,void 0,function(){var d,f;return n(this,function(h){switch(h.label){case 0:return d={orderBy:{field:"creation",order:"desc"}},l&&(d=e(e({},d),l)),[4,this.getDocList(o,e(e({},d),{limit:1,fields:["name"]}))];case 1:return f=h.sent(),f.length>0?[2,this.getDoc(o,f[0].name)]:[2,{}]}})})},a.prototype.renameDoc=function(o,l,d,f){return f===void 0&&(f=!1),t(this,void 0,void 0,function(){return n(this,function(h){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:o,old_name:l,new_name:d,merge:f}).then(function(p){return p.data}).catch(function(p){var g,b,y;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:(g=p.response.data.message)!==null&&g!==void 0?g:"There was an error while renaming the document.",exception:(y=(b=p.response.data.exception)!==null&&b!==void 0?b:p.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},a.prototype.getValue=function(o,l,d,f,h,p){return f===void 0&&(f=!0),h===void 0&&(h=!1),p===void 0&&(p=null),t(this,void 0,void 0,function(){var g;return n(this,function(b){return g={doctype:o,fieldname:"[]",filters:[],as_dict:f,debug:h,parent:null},l&&(g.fieldname=typeof l=="object"?JSON.stringify(l):l),d&&(g.filters=d?JSON.stringify(d):void 0),p&&(g.parent=p),[2,this.axios.get("/api/method/frappe.client.get_value",{params:g}).then(function(y){return y.data}).catch(function(y){var w,_;throw e(e({},y.response.data),{httpStatus:y.response.status,httpStatusText:y.response.statusText,message:"There was an error while getting the value.",exception:(_=(w=y.response.data.exception)!==null&&w!==void 0?w:y.response.data.exc_type)!==null&&_!==void 0?_:""})})]})})},a.prototype.setValue=function(o,l,d,f){return t(this,void 0,void 0,function(){return n(this,function(h){return d!==null&&typeof d=="object"&&!Array.isArray(d)&&(f=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:o,name:l,fieldname:d,value:f}).then(function(p){return p.data}).catch(function(p){var g,b;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while setting the value.",exception:(b=(g=p.response.data.exception)!==null&&g!==void 0?g:p.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},a.prototype.getSingleValue=function(o,l){return t(this,void 0,void 0,function(){var d;return n(this,function(f){return d={doctype:o,field:l},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:d}).then(function(h){return h.data}).catch(function(h){var p,g;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(g=(p=h.response.data.exception)!==null&&p!==void 0?p:h.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},a.prototype.submit=function(o){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:o}).then(function(d){return d.data.message}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:"There was an error while submitting the document.",exception:(h=(f=d.response.data.exception)!==null&&f!==void 0?f:d.response.data.exc_type)!==null&&h!==void 0?h:""})})]})})},a.prototype.cancel=function(o,l){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:o,name:l}).then(function(f){return f.data}).catch(function(f){var h,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while cancelling the document.",exception:(p=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},a}();return Rr.FrappeDB=s,Rr}var Dr={},Aa={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var cg,i_;function NC(){if(i_)return cg;i_=1;function e(E,R){return function(){return E.apply(R,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:n}=Object,s=(E=>R=>{const B=t.call(R);return E[B]||(E[B]=B.slice(8,-1).toLowerCase())})(Object.create(null)),a=E=>(E=E.toLowerCase(),R=>s(R)===E),o=E=>R=>typeof R===E,{isArray:l}=Array,d=o("undefined");function f(E){return E!==null&&!d(E)&&E.constructor!==null&&!d(E.constructor)&&b(E.constructor.isBuffer)&&E.constructor.isBuffer(E)}const h=a("ArrayBuffer");function p(E){let R;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?R=ArrayBuffer.isView(E):R=E&&E.buffer&&h(E.buffer),R}const g=o("string"),b=o("function"),y=o("number"),w=E=>E!==null&&typeof E=="object",_=E=>E===!0||E===!1,j=E=>{if(s(E)!=="object")return!1;const R=n(E);return(R===null||R===Object.prototype||Object.getPrototypeOf(R)===null)&&!(Symbol.toStringTag in E)&&!(Symbol.iterator in E)},S=a("Date"),O=a("File"),k=a("Blob"),C=a("FileList"),A=E=>w(E)&&b(E.pipe),M=E=>{let R;return E&&(typeof FormData=="function"&&E instanceof FormData||b(E.append)&&((R=s(E))==="formdata"||R==="object"&&b(E.toString)&&E.toString()==="[object FormData]"))},V=a("URLSearchParams"),[D,H,ee,q]=["ReadableStream","Request","Response","Headers"].map(a),X=E=>E.trim?E.trim():E.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ae(E,R,{allOwnKeys:B=!1}={}){if(E===null||typeof E>"u")return;let F,ie;if(typeof E!="object"&&(E=[E]),l(E))for(F=0,ie=E.length;F<ie;F++)R.call(null,E[F],F,E);else{const de=B?Object.getOwnPropertyNames(E):Object.keys(E),ge=de.length;let Le;for(F=0;F<ge;F++)Le=de[F],R.call(null,E[Le],Le,E)}}function J(E,R){R=R.toLowerCase();const B=Object.keys(E);let F=B.length,ie;for(;F-- >0;)if(ie=B[F],R===ie.toLowerCase())return ie;return null}const Y=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:SC,z=E=>!d(E)&&E!==Y;function Q(){const{caseless:E}=z(this)&&this||{},R={},B=(F,ie)=>{const de=E&&J(R,ie)||ie;j(R[de])&&j(F)?R[de]=Q(R[de],F):j(F)?R[de]=Q({},F):l(F)?R[de]=F.slice():R[de]=F};for(let F=0,ie=arguments.length;F<ie;F++)arguments[F]&&ae(arguments[F],B);return R}const Z=(E,R,B,{allOwnKeys:F}={})=>(ae(R,(ie,de)=>{B&&b(ie)?E[de]=e(ie,B):E[de]=ie},{allOwnKeys:F}),E),le=E=>(E.charCodeAt(0)===65279&&(E=E.slice(1)),E),U=(E,R,B,F)=>{E.prototype=Object.create(R.prototype,F),E.prototype.constructor=E,Object.defineProperty(E,"super",{value:R.prototype}),B&&Object.assign(E.prototype,B)},re=(E,R,B,F)=>{let ie,de,ge;const Le={};if(R=R||{},E==null)return R;do{for(ie=Object.getOwnPropertyNames(E),de=ie.length;de-- >0;)ge=ie[de],(!F||F(ge,E,R))&&!Le[ge]&&(R[ge]=E[ge],Le[ge]=!0);E=B!==!1&&n(E)}while(E&&(!B||B(E,R))&&E!==Object.prototype);return R},we=(E,R,B)=>{E=String(E),(B===void 0||B>E.length)&&(B=E.length),B-=R.length;const F=E.indexOf(R,B);return F!==-1&&F===B},I=E=>{if(!E)return null;if(l(E))return E;let R=E.length;if(!y(R))return null;const B=new Array(R);for(;R-- >0;)B[R]=E[R];return B},ce=(E=>R=>E&&R instanceof E)(typeof Uint8Array<"u"&&n(Uint8Array)),je=(E,R)=>{const B=(E&&E[Symbol.iterator]).call(E);let F;for(;(F=B.next())&&!F.done;){const ie=F.value;R.call(E,ie[0],ie[1])}},be=(E,R)=>{let B;const F=[];for(;(B=E.exec(R))!==null;)F.push(B);return F},Te=a("HTMLFormElement"),Oe=E=>E.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(R,B,F){return B.toUpperCase()+F}),Ke=(({hasOwnProperty:E})=>(R,B)=>E.call(R,B))(Object.prototype),He=a("RegExp"),wt=(E,R)=>{const B=Object.getOwnPropertyDescriptors(E),F={};ae(B,(ie,de)=>{let ge;(ge=R(ie,de,E))!==!1&&(F[de]=ge||ie)}),Object.defineProperties(E,F)},st=E=>{wt(E,(R,B)=>{if(b(E)&&["arguments","caller","callee"].indexOf(B)!==-1)return!1;const F=E[B];if(b(F)){if(R.enumerable=!1,"writable"in R){R.writable=!1;return}R.set||(R.set=()=>{throw Error("Can not rewrite read-only method '"+B+"'")})}})},bt=(E,R)=>{const B={},F=ie=>{ie.forEach(de=>{B[de]=!0})};return l(E)?F(E):F(String(E).split(R)),B},Pe=()=>{},pt=(E,R)=>E!=null&&Number.isFinite(E=+E)?E:R;function Vt(E){return!!(E&&b(E.append)&&E[Symbol.toStringTag]==="FormData"&&E[Symbol.iterator])}const _t=E=>{const R=new Array(10),B=(F,ie)=>{if(w(F)){if(R.indexOf(F)>=0)return;if(!("toJSON"in F)){R[ie]=F;const de=l(F)?[]:{};return ae(F,(ge,Le)=>{const ot=B(ge,ie+1);!d(ot)&&(de[Le]=ot)}),R[ie]=void 0,de}}return F};return B(E,0)},$t=a("AsyncFunction"),Ct=E=>E&&(w(E)||b(E))&&b(E.then)&&b(E.catch),W=((E,R)=>E?setImmediate:R?((B,F)=>(Y.addEventListener("message",({source:ie,data:de})=>{ie===Y&&de===B&&F.length&&F.shift()()},!1),ie=>{F.push(ie),Y.postMessage(B,"*")}))(`axios@${Math.random()}`,[]):B=>setTimeout(B))(typeof setImmediate=="function",b(Y.postMessage)),ue=typeof queueMicrotask<"u"?queueMicrotask.bind(Y):typeof process<"u"&&process.nextTick||W;var $={isArray:l,isArrayBuffer:h,isBuffer:f,isFormData:M,isArrayBufferView:p,isString:g,isNumber:y,isBoolean:_,isObject:w,isPlainObject:j,isReadableStream:D,isRequest:H,isResponse:ee,isHeaders:q,isUndefined:d,isDate:S,isFile:O,isBlob:k,isRegExp:He,isFunction:b,isStream:A,isURLSearchParams:V,isTypedArray:ce,isFileList:C,forEach:ae,merge:Q,extend:Z,trim:X,stripBOM:le,inherits:U,toFlatObject:re,kindOf:s,kindOfTest:a,endsWith:we,toArray:I,forEachEntry:je,matchAll:be,isHTMLForm:Te,hasOwnProperty:Ke,hasOwnProp:Ke,reduceDescriptors:wt,freezeMethods:st,toObjectSet:bt,toCamelCase:Oe,noop:Pe,toFiniteNumber:pt,findKey:J,global:Y,isContextDefined:z,isSpecCompliantForm:Vt,toJSONObject:_t,isAsyncFn:$t,isThenable:Ct,setImmediate:W,asap:ue};function Se(E,R,B,F,ie){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=E,this.name="AxiosError",R&&(this.code=R),B&&(this.config=B),F&&(this.request=F),ie&&(this.response=ie,this.status=ie.status?ie.status:null)}$.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const De=Se.prototype,Re={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(E=>{Re[E]={value:E}}),Object.defineProperties(Se,Re),Object.defineProperty(De,"isAxiosError",{value:!0}),Se.from=(E,R,B,F,ie,de)=>{const ge=Object.create(De);return $.toFlatObject(E,ge,function(Le){return Le!==Error.prototype},Le=>Le!=="isAxiosError"),Se.call(ge,E.message,R,B,F,ie),ge.cause=E,ge.name=E.name,de&&Object.assign(ge,de),ge};var Be=null;function qe(E){return $.isPlainObject(E)||$.isArray(E)}function Xe(E){return $.endsWith(E,"[]")?E.slice(0,-2):E}function gt(E,R,B){return E?E.concat(R).map(function(F,ie){return F=Xe(F),!B&&ie?"["+F+"]":F}).join(B?".":""):R}function yn(E){return $.isArray(E)&&!E.some(qe)}const lt=$.toFlatObject($,{},null,function(E){return/^is[A-Z]/.test(E)});function ke(E,R,B){if(!$.isObject(E))throw new TypeError("target must be an object");R=R||new FormData,B=$.toFlatObject(B,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Nt,ut){return!$.isUndefined(ut[Nt])});const F=B.metaTokens,ie=B.visitor||ze,de=B.dots,ge=B.indexes,Le=(B.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(R);if(!$.isFunction(ie))throw new TypeError("visitor must be a function");function ot(Nt){if(Nt===null)return"";if($.isDate(Nt))return Nt.toISOString();if(!Le&&$.isBlob(Nt))throw new Se("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(Nt)||$.isTypedArray(Nt)?Le&&typeof Blob=="function"?new Blob([Nt]):Buffer.from(Nt):Nt}function ze(Nt,ut,nt){let is=Nt;if(Nt&&!nt&&typeof Nt=="object"){if($.endsWith(ut,"{}"))ut=F?ut:ut.slice(0,-2),Nt=JSON.stringify(Nt);else if($.isArray(Nt)&&yn(Nt)||($.isFileList(Nt)||$.endsWith(ut,"[]"))&&(is=$.toArray(Nt)))return ut=Xe(ut),is.forEach(function(Vn,Nn){!($.isUndefined(Vn)||Vn===null)&&R.append(ge===!0?gt([ut],Nn,de):ge===null?ut:ut+"[]",ot(Vn))}),!1}return qe(Nt)?!0:(R.append(gt(nt,ut,de),ot(Nt)),!1)}const Ie=[],ht=Object.assign(lt,{defaultVisitor:ze,convertValue:ot,isVisitable:qe});function on(Nt,ut){if(!$.isUndefined(Nt)){if(Ie.indexOf(Nt)!==-1)throw Error("Circular reference detected in "+ut.join("."));Ie.push(Nt),$.forEach(Nt,function(nt,is){(!($.isUndefined(nt)||nt===null)&&ie.call(R,nt,$.isString(is)?is.trim():is,ut,ht))===!0&&on(nt,ut?ut.concat(is):[is])}),Ie.pop()}}if(!$.isObject(E))throw new TypeError("data must be an object");return on(E),R}function Ue(E){const R={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(E).replace(/[!'()~]|%20|%00/g,function(B){return R[B]})}function Dt(E,R){this._pairs=[],E&&ke(E,this,R)}const Sn=Dt.prototype;Sn.append=function(E,R){this._pairs.push([E,R])},Sn.toString=function(E){const R=E?function(B){return E.call(this,B,Ue)}:Ue;return this._pairs.map(function(B){return R(B[0])+"="+R(B[1])},"").join("&")};function rs(E){return encodeURIComponent(E).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Hn(E,R,B){if(!R)return E;const F=B&&B.encode||rs;$.isFunction(B)&&(B={serialize:B});const ie=B&&B.serialize;let de;if(ie?de=ie(R,B):de=$.isURLSearchParams(R)?R.toString():new Dt(R,B).toString(F),de){const ge=E.indexOf("#");ge!==-1&&(E=E.slice(0,ge)),E+=(E.indexOf("?")===-1?"?":"&")+de}return E}class us{constructor(){this.handlers=[]}use(R,B,F){return this.handlers.push({fulfilled:R,rejected:B,synchronous:F?F.synchronous:!1,runWhen:F?F.runWhen:null}),this.handlers.length-1}eject(R){this.handlers[R]&&(this.handlers[R]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(R){$.forEach(this.handlers,function(B){B!==null&&R(B)})}}var Ye=us,Mt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Bt=typeof URLSearchParams<"u"?URLSearchParams:Dt,jt=typeof FormData<"u"?FormData:null,Jt=typeof Blob<"u"?Blob:null,We={isBrowser:!0,classes:{URLSearchParams:Bt,FormData:jt,Blob:Jt},protocols:["http","https","file","blob","url","data"]};const vt=typeof window<"u"&&typeof document<"u",qt=typeof navigator=="object"&&navigator||void 0,Wt=vt&&(!qt||["ReactNative","NativeScript","NS"].indexOf(qt.product)<0),K=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",se=vt&&window.location.href||"http://localhost";var fe=Object.freeze({__proto__:null,hasBrowserEnv:vt,hasStandardBrowserWebWorkerEnv:K,hasStandardBrowserEnv:Wt,navigator:qt,origin:se}),_e=L(L({},fe),We);function Ae(E,R){return ke(E,new _e.classes.URLSearchParams,Object.assign({visitor:function(B,F,ie,de){return _e.isNode&&$.isBuffer(B)?(this.append(F,B.toString("base64")),!1):de.defaultVisitor.apply(this,arguments)}},R))}function Fe(E){return $.matchAll(/\w+|\[(\w*)]/g,E).map(R=>R[0]==="[]"?"":R[1]||R[0])}function Qe(E){const R={},B=Object.keys(E);let F;const ie=B.length;let de;for(F=0;F<ie;F++)de=B[F],R[de]=E[de];return R}function tt(E){function R(B,F,ie,de){let ge=B[de++];if(ge==="__proto__")return!0;const Le=Number.isFinite(+ge),ot=de>=B.length;return ge=!ge&&$.isArray(ie)?ie.length:ge,ot?($.hasOwnProp(ie,ge)?ie[ge]=[ie[ge],F]:ie[ge]=F,!Le):((!ie[ge]||!$.isObject(ie[ge]))&&(ie[ge]=[]),R(B,F,ie[ge],de)&&$.isArray(ie[ge])&&(ie[ge]=Qe(ie[ge])),!Le)}if($.isFormData(E)&&$.isFunction(E.entries)){const B={};return $.forEachEntry(E,(F,ie)=>{R(Fe(F),ie,B,0)}),B}return null}function ct(E,R,B){if($.isString(E))try{return(R||JSON.parse)(E),$.trim(E)}catch(F){if(F.name!=="SyntaxError")throw F}return(B||JSON.stringify)(E)}const At={transitional:Mt,adapter:["xhr","http","fetch"],transformRequest:[function(E,R){const B=R.getContentType()||"",F=B.indexOf("application/json")>-1,ie=$.isObject(E);if(ie&&$.isHTMLForm(E)&&(E=new FormData(E)),$.isFormData(E))return F?JSON.stringify(tt(E)):E;if($.isArrayBuffer(E)||$.isBuffer(E)||$.isStream(E)||$.isFile(E)||$.isBlob(E)||$.isReadableStream(E))return E;if($.isArrayBufferView(E))return E.buffer;if($.isURLSearchParams(E))return R.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),E.toString();let de;if(ie){if(B.indexOf("application/x-www-form-urlencoded")>-1)return Ae(E,this.formSerializer).toString();if((de=$.isFileList(E))||B.indexOf("multipart/form-data")>-1){const ge=this.env&&this.env.FormData;return ke(de?{"files[]":E}:E,ge&&new ge,this.formSerializer)}}return ie||F?(R.setContentType("application/json",!1),ct(E)):E}],transformResponse:[function(E){const R=this.transitional||At.transitional,B=R&&R.forcedJSONParsing,F=this.responseType==="json";if($.isResponse(E)||$.isReadableStream(E))return E;if(E&&$.isString(E)&&(B&&!this.responseType||F)){const ie=!(R&&R.silentJSONParsing)&&F;try{return JSON.parse(E)}catch(de){if(ie)throw de.name==="SyntaxError"?Se.from(de,Se.ERR_BAD_RESPONSE,this,null,this.response):de}}return E}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_e.classes.FormData,Blob:_e.classes.Blob},validateStatus:function(E){return E>=200&&E<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],E=>{At.headers[E]={}});var rt=At;const yt=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Tt=E=>{const R={};let B,F,ie;return E&&E.split(`
`).forEach(function(de){ie=de.indexOf(":"),B=de.substring(0,ie).trim().toLowerCase(),F=de.substring(ie+1).trim(),!(!B||R[B]&&yt[B])&&(B==="set-cookie"?R[B]?R[B].push(F):R[B]=[F]:R[B]=R[B]?R[B]+", "+F:F)}),R};const dn=Symbol("internals");function Cn(E){return E&&String(E).trim().toLowerCase()}function an(E){return E===!1||E==null?E:$.isArray(E)?E.map(an):String(E)}function at(E){const R=Object.create(null),B=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let F;for(;F=B.exec(E);)R[F[1]]=F[2];return R}const St=E=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(E.trim());function Xt(E,R,B,F,ie){if($.isFunction(F))return F.call(this,R,B);if(ie&&(R=B),!!$.isString(R)){if($.isString(F))return R.indexOf(F)!==-1;if($.isRegExp(F))return F.test(R)}}function vn(E){return E.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(R,B,F)=>B.toUpperCase()+F)}function An(E,R){const B=$.toCamelCase(" "+R);["get","set","has"].forEach(F=>{Object.defineProperty(E,F+B,{value:function(ie,de,ge){return this[F].call(this,R,ie,de,ge)},configurable:!0})})}class Kn{constructor(R){R&&this.set(R)}set(R,B,F){const ie=this;function de(Le,ot,ze){const Ie=Cn(ot);if(!Ie)throw new Error("header name must be a non-empty string");const ht=$.findKey(ie,Ie);(!ht||ie[ht]===void 0||ze===!0||ze===void 0&&ie[ht]!==!1)&&(ie[ht||ot]=an(Le))}const ge=(Le,ot)=>$.forEach(Le,(ze,Ie)=>de(ze,Ie,ot));if($.isPlainObject(R)||R instanceof this.constructor)ge(R,B);else if($.isString(R)&&(R=R.trim())&&!St(R))ge(Tt(R),B);else if($.isHeaders(R))for(const[Le,ot]of R.entries())de(ot,Le,F);else R!=null&&de(B,R,F);return this}get(R,B){if(R=Cn(R),R){const F=$.findKey(this,R);if(F){const ie=this[F];if(!B)return ie;if(B===!0)return at(ie);if($.isFunction(B))return B.call(this,ie,F);if($.isRegExp(B))return B.exec(ie);throw new TypeError("parser must be boolean|regexp|function")}}}has(R,B){if(R=Cn(R),R){const F=$.findKey(this,R);return!!(F&&this[F]!==void 0&&(!B||Xt(this,this[F],F,B)))}return!1}delete(R,B){const F=this;let ie=!1;function de(ge){if(ge=Cn(ge),ge){const Le=$.findKey(F,ge);Le&&(!B||Xt(F,F[Le],Le,B))&&(delete F[Le],ie=!0)}}return $.isArray(R)?R.forEach(de):de(R),ie}clear(R){const B=Object.keys(this);let F=B.length,ie=!1;for(;F--;){const de=B[F];(!R||Xt(this,this[de],de,R,!0))&&(delete this[de],ie=!0)}return ie}normalize(R){const B=this,F={};return $.forEach(this,(ie,de)=>{const ge=$.findKey(F,de);if(ge){B[ge]=an(ie),delete B[de];return}const Le=R?vn(de):String(de).trim();Le!==de&&delete B[de],B[Le]=an(ie),F[Le]=!0}),this}concat(...R){return this.constructor.concat(this,...R)}toJSON(R){const B=Object.create(null);return $.forEach(this,(F,ie)=>{F!=null&&F!==!1&&(B[ie]=R&&$.isArray(F)?F.join(", "):F)}),B}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([R,B])=>R+": "+B).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(R){return R instanceof this?R:new this(R)}static concat(R,...B){const F=new this(R);return B.forEach(ie=>F.set(ie)),F}static accessor(R){const B=(this[dn]=this[dn]={accessors:{}}).accessors,F=this.prototype;function ie(de){const ge=Cn(de);B[ge]||(An(F,de),B[ge]=!0)}return $.isArray(R)?R.forEach(ie):ie(R),this}}Kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),$.reduceDescriptors(Kn.prototype,({value:E},R)=>{let B=R[0].toUpperCase()+R.slice(1);return{get:()=>E,set(F){this[B]=F}}}),$.freezeMethods(Kn);var as=Kn;function ir(E,R){const B=this||rt,F=R||B,ie=as.from(F.headers);let de=F.data;return $.forEach(E,function(ge){de=ge.call(B,de,ie.normalize(),R?R.status:void 0)}),ie.normalize(),de}function or(E){return!!(E&&E.__CANCEL__)}function xs(E,R,B){Se.call(this,E!=null?E:"canceled",Se.ERR_CANCELED,R,B),this.name="CanceledError"}$.inherits(xs,Se,{__CANCEL__:!0});function lr(E,R,B){const F=B.config.validateStatus;!B.status||!F||F(B.status)?E(B):R(new Se("Request failed with status code "+B.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(B.status/100)-4],B.config,B.request,B))}function Rt(E){const R=/^([-+\w]{1,25})(:?\/\/|:)/.exec(E);return R&&R[1]||""}function On(E,R){E=E||10;const B=new Array(E),F=new Array(E);let ie=0,de=0,ge;return R=R!==void 0?R:1e3,function(Le){const ot=Date.now(),ze=F[de];ge||(ge=ot),B[ie]=Le,F[ie]=ot;let Ie=de,ht=0;for(;Ie!==ie;)ht+=B[Ie++],Ie=Ie%E;if(ie=(ie+1)%E,ie===de&&(de=(de+1)%E),ot-ge<R)return;const on=ze&&ot-ze;return on?Math.round(ht*1e3/on):void 0}}function ha(E,R){let B=0,F=1e3/R,ie,de;const ge=(Le,ot=Date.now())=>{B=ot,ie=null,de&&(clearTimeout(de),de=null),E.apply(null,Le)};return[(...Le)=>{const ot=Date.now(),ze=ot-B;ze>=F?ge(Le,ot):(ie=Le,de||(de=setTimeout(()=>{de=null,ge(ie)},F-ze)))},()=>ie&&ge(ie)]}const ds=(E,R,B=3)=>{let F=0;const ie=On(50,250);return ha(de=>{const ge=de.loaded,Le=de.lengthComputable?de.total:void 0,ot=ge-F,ze=ie(ot),Ie=ge<=Le;F=ge;const ht={loaded:ge,total:Le,progress:Le?ge/Le:void 0,bytes:ot,rate:ze||void 0,estimated:ze&&Le&&Ie?(Le-ge)/ze:void 0,event:de,lengthComputable:Le!=null,[R?"download":"upload"]:!0};E(ht)},B)},pn=(E,R)=>{const B=E!=null;return[F=>R[0]({lengthComputable:B,total:E,loaded:F}),R[1]]},Er=E=>(...R)=>$.asap(()=>E(...R));var zo=_e.hasStandardBrowserEnv?((E,R)=>B=>(B=new URL(B,_e.origin),E.protocol===B.protocol&&E.host===B.host&&(R||E.port===B.port)))(new URL(_e.origin),_e.navigator&&/(msie|trident)/i.test(_e.navigator.userAgent)):()=>!0,Bo=_e.hasStandardBrowserEnv?{write(E,R,B,F,ie,de){const ge=[E+"="+encodeURIComponent(R)];$.isNumber(B)&&ge.push("expires="+new Date(B).toGMTString()),$.isString(F)&&ge.push("path="+F),$.isString(ie)&&ge.push("domain="+ie),de===!0&&ge.push("secure"),document.cookie=ge.join("; ")},read(E){const R=document.cookie.match(new RegExp("(^|;\\s*)("+E+")=([^;]*)"));return R?decodeURIComponent(R[3]):null},remove(E){this.write(E,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Os(E){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(E)}function rd(E,R){return R?E.replace(/\/?\/$/,"")+"/"+R.replace(/^\/+/,""):E}function ad(E,R,B){let F=!Os(R);return E&&F||B==!1?rd(E,R):R}const zi=E=>E instanceof as?L({},E):E;function $r(E,R){R=R||{};const B={};function F(ze,Ie,ht,on){return $.isPlainObject(ze)&&$.isPlainObject(Ie)?$.merge.call({caseless:on},ze,Ie):$.isPlainObject(Ie)?$.merge({},Ie):$.isArray(Ie)?Ie.slice():Ie}function ie(ze,Ie,ht,on){if($.isUndefined(Ie)){if(!$.isUndefined(ze))return F(void 0,ze,ht,on)}else return F(ze,Ie,ht,on)}function de(ze,Ie){if(!$.isUndefined(Ie))return F(void 0,Ie)}function ge(ze,Ie){if($.isUndefined(Ie)){if(!$.isUndefined(ze))return F(void 0,ze)}else return F(void 0,Ie)}function Le(ze,Ie,ht){if(ht in R)return F(ze,Ie);if(ht in E)return F(void 0,ze)}const ot={url:de,method:de,data:de,baseURL:ge,transformRequest:ge,transformResponse:ge,paramsSerializer:ge,timeout:ge,timeoutMessage:ge,withCredentials:ge,withXSRFToken:ge,adapter:ge,responseType:ge,xsrfCookieName:ge,xsrfHeaderName:ge,onUploadProgress:ge,onDownloadProgress:ge,decompress:ge,maxContentLength:ge,maxBodyLength:ge,beforeRedirect:ge,transport:ge,httpAgent:ge,httpsAgent:ge,cancelToken:ge,socketPath:ge,responseEncoding:ge,validateStatus:Le,headers:(ze,Ie,ht)=>ie(zi(ze),zi(Ie),ht,!0)};return $.forEach(Object.keys(Object.assign({},E,R)),function(ze){const Ie=ot[ze]||ie,ht=Ie(E[ze],R[ze],ze);$.isUndefined(ht)&&Ie!==Le||(B[ze]=ht)}),B}var Bi=E=>{const R=$r({},E);let{data:B,withXSRFToken:F,xsrfHeaderName:ie,xsrfCookieName:de,headers:ge,auth:Le}=R;R.headers=ge=as.from(ge),R.url=Hn(ad(R.baseURL,R.url),E.params,E.paramsSerializer),Le&&ge.set("Authorization","Basic "+btoa((Le.username||"")+":"+(Le.password?unescape(encodeURIComponent(Le.password)):"")));let ot;if($.isFormData(B)){if(_e.hasStandardBrowserEnv||_e.hasStandardBrowserWebWorkerEnv)ge.setContentType(void 0);else if((ot=ge.getContentType())!==!1){const[ze,...Ie]=ot?ot.split(";").map(ht=>ht.trim()).filter(Boolean):[];ge.setContentType([ze||"multipart/form-data",...Ie].join("; "))}}if(_e.hasStandardBrowserEnv&&(F&&$.isFunction(F)&&(F=F(R)),F||F!==!1&&zo(R.url))){const ze=ie&&de&&Bo.read(de);ze&&ge.set(ie,ze)}return R},om=typeof XMLHttpRequest<"u"&&function(E){return new Promise(function(R,B){const F=Bi(E);let ie=F.data;const de=as.from(F.headers).normalize();let{responseType:ge,onUploadProgress:Le,onDownloadProgress:ot}=F,ze,Ie,ht,on,Nt;function ut(){on&&on(),Nt&&Nt(),F.cancelToken&&F.cancelToken.unsubscribe(ze),F.signal&&F.signal.removeEventListener("abort",ze)}let nt=new XMLHttpRequest;nt.open(F.method.toUpperCase(),F.url,!0),nt.timeout=F.timeout;function is(){if(!nt)return;const Nn=as.from("getAllResponseHeaders"in nt&&nt.getAllResponseHeaders()),cr={data:!ge||ge==="text"||ge==="json"?nt.responseText:nt.response,status:nt.status,statusText:nt.statusText,headers:Nn,config:E,request:nt};lr(function(Ii){R(Ii),ut()},function(Ii){B(Ii),ut()},cr),nt=null}"onloadend"in nt?nt.onloadend=is:nt.onreadystatechange=function(){!nt||nt.readyState!==4||nt.status===0&&!(nt.responseURL&&nt.responseURL.indexOf("file:")===0)||setTimeout(is)},nt.onabort=function(){nt&&(B(new Se("Request aborted",Se.ECONNABORTED,E,nt)),nt=null)},nt.onerror=function(){B(new Se("Network Error",Se.ERR_NETWORK,E,nt)),nt=null},nt.ontimeout=function(){let Nn=F.timeout?"timeout of "+F.timeout+"ms exceeded":"timeout exceeded";const cr=F.transitional||Mt;F.timeoutErrorMessage&&(Nn=F.timeoutErrorMessage),B(new Se(Nn,cr.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,E,nt)),nt=null},ie===void 0&&de.setContentType(null),"setRequestHeader"in nt&&$.forEach(de.toJSON(),function(Nn,cr){nt.setRequestHeader(cr,Nn)}),$.isUndefined(F.withCredentials)||(nt.withCredentials=!!F.withCredentials),ge&&ge!=="json"&&(nt.responseType=F.responseType),ot&&([ht,Nt]=ds(ot,!0),nt.addEventListener("progress",ht)),Le&&nt.upload&&([Ie,on]=ds(Le),nt.upload.addEventListener("progress",Ie),nt.upload.addEventListener("loadend",on)),(F.cancelToken||F.signal)&&(ze=Nn=>{nt&&(B(!Nn||Nn.type?new xs(null,E,nt):Nn),nt.abort(),nt=null)},F.cancelToken&&F.cancelToken.subscribe(ze),F.signal&&(F.signal.aborted?ze():F.signal.addEventListener("abort",ze)));const Vn=Rt(F.url);if(Vn&&_e.protocols.indexOf(Vn)===-1){B(new Se("Unsupported protocol "+Vn+":",Se.ERR_BAD_REQUEST,E));return}nt.send(ie||null)})},Rs=(E,R)=>{const{length:B}=E=E?E.filter(Boolean):[];if(R||B){let F=new AbortController,ie;const de=function(ze){if(!ie){ie=!0,Le();const Ie=ze instanceof Error?ze:this.reason;F.abort(Ie instanceof Se?Ie:new xs(Ie instanceof Error?Ie.message:Ie))}};let ge=R&&setTimeout(()=>{ge=null,de(new Se(`timeout ${R} of ms exceeded`,Se.ETIMEDOUT))},R);const Le=()=>{E&&(ge&&clearTimeout(ge),ge=null,E.forEach(ze=>{ze.unsubscribe?ze.unsubscribe(de):ze.removeEventListener("abort",de)}),E=null)};E.forEach(ze=>ze.addEventListener("abort",de));const{signal:ot}=F;return ot.unsubscribe=()=>$.asap(Le),ot}};const ic=function*(E,R){let B=E.byteLength;if(B<R){yield E;return}let F=0,ie;for(;F<B;)ie=F+R,yield E.slice(F,ie),F=ie},id=function(E,R){return tg(this,null,function*(){try{for(var B=Ww(oc(E)),F,ie,de;F=!(ie=yield new oo(B.next())).done;F=!1){const ge=ie.value;yield*ng(ic(ge,R))}}catch(ie){de=[ie]}finally{try{F&&(ie=B.return)&&(yield new oo(ie.call(B)))}finally{if(de)throw de[0]}}})},oc=function(E){return tg(this,null,function*(){if(E[Symbol.asyncIterator]){yield*ng(E);return}const R=E.getReader();try{for(;;){const{done:B,value:F}=yield new oo(R.read());if(B)break;yield F}}finally{yield new oo(R.cancel())}})},ma=(E,R,B,F)=>{const ie=id(E,R);let de=0,ge,Le=ze=>{ge||(ge=!0,F&&F(ze))};return new ReadableStream({pull(ze){return xe(this,null,function*(){try{const{done:Ie,value:ht}=yield ie.next();if(Ie){Le(),ze.close();return}let on=ht.byteLength;if(B){let Nt=de+=on;B(Nt)}ze.enqueue(new Uint8Array(ht))}catch(Ie){throw Le(Ie),Ie}})},cancel(ze){return Le(ze),ie.return()}},{highWaterMark:2})},Ui=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",lc=Ui&&typeof ReadableStream=="function",qa=Ui&&(typeof TextEncoder=="function"?(E=>R=>E.encode(R))(new TextEncoder):E=>xe(null,null,function*(){return new Uint8Array(yield new Response(E).arrayBuffer())})),od=(E,...R)=>{try{return!!E(...R)}catch(B){return!1}},ld=lc&&od(()=>{let E=!1;const R=new Request(_e.origin,{body:new ReadableStream,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!R}),cc=64*1024,Fi=lc&&od(()=>$.isReadableStream(new Response("").body)),Uo={stream:Fi&&(E=>E.body)};Ui&&(E=>{["text","arrayBuffer","blob","formData","stream"].forEach(R=>{!Uo[R]&&(Uo[R]=$.isFunction(E[R])?B=>B[R]():(B,F)=>{throw new Se(`Response type '${R}' is not supported`,Se.ERR_NOT_SUPPORT,F)})})})(new Response);const lm=E=>xe(null,null,function*(){if(E==null)return 0;if($.isBlob(E))return E.size;if($.isSpecCompliantForm(E))return(yield new Request(_e.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if($.isArrayBufferView(E)||$.isArrayBuffer(E))return E.byteLength;if($.isURLSearchParams(E)&&(E=E+""),$.isString(E))return(yield qa(E)).byteLength}),Fo=(E,R)=>xe(null,null,function*(){const B=$.toFiniteNumber(E.getContentLength());return B!=null?B:lm(R)});var uc=Ui&&(E=>xe(null,null,function*(){let{url:R,method:B,data:F,signal:ie,cancelToken:de,timeout:ge,onDownloadProgress:Le,onUploadProgress:ot,responseType:ze,headers:Ie,withCredentials:ht="same-origin",fetchOptions:on}=Bi(E);ze=ze?(ze+"").toLowerCase():"text";let Nt=Rs([ie,de&&de.toAbortSignal()],ge),ut;const nt=Nt&&Nt.unsubscribe&&(()=>{Nt.unsubscribe()});let is;try{if(ot&&ld&&B!=="get"&&B!=="head"&&(is=yield Fo(Ie,F))!==0){let qr=new Request(R,{method:"POST",body:F,duplex:"half"}),Ga;if($.isFormData(F)&&(Ga=qr.headers.get("content-type"))&&Ie.setContentType(Ga),qr.body){const[qo,Io]=pn(is,ds(Er(ot)));F=ma(qr.body,cc,qo,Io)}}$.isString(ht)||(ht=ht?"include":"omit");const Vn="credentials"in Request.prototype;ut=new Request(R,he(L({},on),{signal:Nt,method:B.toUpperCase(),headers:Ie.normalize().toJSON(),body:F,duplex:"half",credentials:Vn?ht:void 0}));let Nn=yield fetch(ut);const cr=Fi&&(ze==="stream"||ze==="response");if(Fi&&(Le||cr&&nt)){const qr={};["status","statusText","headers"].forEach(ud=>{qr[ud]=Nn[ud]});const Ga=$.toFiniteNumber(Nn.headers.get("content-length")),[qo,Io]=Le&&pn(Ga,ds(Er(Le),!0))||[];Nn=new Response(ma(Nn.body,cc,qo,()=>{Io&&Io(),nt&&nt()}),qr)}ze=ze||"text";let Ii=yield Uo[$.findKey(Uo,ze)||"text"](Nn,E);return!cr&&nt&&nt(),yield new Promise((qr,Ga)=>{lr(qr,Ga,{data:Ii,headers:as.from(Nn.headers),status:Nn.status,statusText:Nn.statusText,config:E,request:ut})})}catch(Vn){throw nt&&nt(),Vn&&Vn.name==="TypeError"&&/fetch/i.test(Vn.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,E,ut),{cause:Vn.cause||Vn}):Se.from(Vn,Vn&&Vn.code,E,ut)}}));const Hi={http:Be,xhr:om,fetch:uc};$.forEach(Hi,(E,R)=>{if(E){try{Object.defineProperty(E,"name",{value:R})}catch(B){}Object.defineProperty(E,"adapterName",{value:R})}});const pa=E=>`- ${E}`,Ia=E=>$.isFunction(E)||E===null||E===!1;var dc={getAdapter:E=>{E=$.isArray(E)?E:[E];const{length:R}=E;let B,F;const ie={};for(let de=0;de<R;de++){B=E[de];let ge;if(F=B,!Ia(B)&&(F=Hi[(ge=String(B)).toLowerCase()],F===void 0))throw new Se(`Unknown adapter '${ge}'`);if(F)break;ie[ge||"#"+de]=F}if(!F){const de=Object.entries(ie).map(([Le,ot])=>`adapter ${Le} `+(ot===!1?"is not supported by the environment":"is not available in the build"));let ge=R?de.length>1?`since :
`+de.map(pa).join(`
`):" "+pa(de[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+ge,"ERR_NOT_SUPPORT")}return F},adapters:Hi};function Vi(E){if(E.cancelToken&&E.cancelToken.throwIfRequested(),E.signal&&E.signal.aborted)throw new xs(null,E)}function fc(E){return Vi(E),E.headers=as.from(E.headers),E.data=ir.call(E,E.transformRequest),["post","put","patch"].indexOf(E.method)!==-1&&E.headers.setContentType("application/x-www-form-urlencoded",!1),dc.getAdapter(E.adapter||rt.adapter)(E).then(function(R){return Vi(E),R.data=ir.call(E,E.transformResponse,R),R.headers=as.from(R.headers),R},function(R){return or(R)||(Vi(E),R&&R.response&&(R.response.data=ir.call(E,E.transformResponse,R.response),R.response.headers=as.from(R.response.headers))),Promise.reject(R)})}const Ya="1.8.2",Ds={};["object","boolean","number","function","string","symbol"].forEach((E,R)=>{Ds[E]=function(B){return typeof B===E||"a"+(R<1?"n ":" ")+E}});const Ho={};Ds.transitional=function(E,R,B){function F(ie,de){return"[Axios v"+Ya+"] Transitional option '"+ie+"'"+de+(B?". "+B:"")}return(ie,de,ge)=>{if(E===!1)throw new Se(F(de," has been removed"+(R?" in "+R:"")),Se.ERR_DEPRECATED);return R&&!Ho[de]&&(Ho[de]=!0,console.warn(F(de," has been deprecated since v"+R+" and will be removed in the near future"))),E?E(ie,de,ge):!0}},Ds.spelling=function(E){return(R,B)=>(console.warn(`${B} is likely a misspelling of ${E}`),!0)};function $i(E,R,B){if(typeof E!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const F=Object.keys(E);let ie=F.length;for(;ie-- >0;){const de=F[ie],ge=R[de];if(ge){const Le=E[de],ot=Le===void 0||ge(Le,de,E);if(ot!==!0)throw new Se("option "+de+" must be "+ot,Se.ERR_BAD_OPTION_VALUE);continue}if(B!==!0)throw new Se("Unknown option "+de,Se.ERR_BAD_OPTION)}}var Is={assertOptions:$i,validators:Ds};const Ms=Is.validators;class ga{constructor(R){this.defaults=R,this.interceptors={request:new Ye,response:new Ye}}request(R,B){return xe(this,null,function*(){try{return yield this._request(R,B)}catch(F){if(F instanceof Error){let ie={};Error.captureStackTrace?Error.captureStackTrace(ie):ie=new Error;const de=ie.stack?ie.stack.replace(/^.+\n/,""):"";try{F.stack?de&&!String(F.stack).endsWith(de.replace(/^.+\n.+\n/,""))&&(F.stack+=`
`+de):F.stack=de}catch(ge){}}throw F}})}_request(R,B){typeof R=="string"?(B=B||{},B.url=R):B=R||{},B=$r(this.defaults,B);const{transitional:F,paramsSerializer:ie,headers:de}=B;F!==void 0&&Is.assertOptions(F,{silentJSONParsing:Ms.transitional(Ms.boolean),forcedJSONParsing:Ms.transitional(Ms.boolean),clarifyTimeoutError:Ms.transitional(Ms.boolean)},!1),ie!=null&&($.isFunction(ie)?B.paramsSerializer={serialize:ie}:Is.assertOptions(ie,{encode:Ms.function,serialize:Ms.function},!0)),B.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?B.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:B.allowAbsoluteUrls=!0),Is.assertOptions(B,{baseUrl:Ms.spelling("baseURL"),withXsrfToken:Ms.spelling("withXSRFToken")},!0),B.method=(B.method||this.defaults.method||"get").toLowerCase();let ge=de&&$.merge(de.common,de[B.method]);de&&$.forEach(["delete","get","head","post","put","patch","common"],ut=>{delete de[ut]}),B.headers=as.concat(ge,de);const Le=[];let ot=!0;this.interceptors.request.forEach(function(ut){typeof ut.runWhen=="function"&&ut.runWhen(B)===!1||(ot=ot&&ut.synchronous,Le.unshift(ut.fulfilled,ut.rejected))});const ze=[];this.interceptors.response.forEach(function(ut){ze.push(ut.fulfilled,ut.rejected)});let Ie,ht=0,on;if(!ot){const ut=[fc.bind(this),void 0];for(ut.unshift.apply(ut,Le),ut.push.apply(ut,ze),on=ut.length,Ie=Promise.resolve(B);ht<on;)Ie=Ie.then(ut[ht++],ut[ht++]);return Ie}on=Le.length;let Nt=B;for(ht=0;ht<on;){const ut=Le[ht++],nt=Le[ht++];try{Nt=ut(Nt)}catch(is){nt.call(this,is);break}}try{Ie=fc.call(this,Nt)}catch(ut){return Promise.reject(ut)}for(ht=0,on=ze.length;ht<on;)Ie=Ie.then(ze[ht++],ze[ht++]);return Ie}getUri(R){R=$r(this.defaults,R);const B=ad(R.baseURL,R.url,R.allowAbsoluteUrls);return Hn(B,R.params,R.paramsSerializer)}}$.forEach(["delete","get","head","options"],function(E){ga.prototype[E]=function(R,B){return this.request($r(B||{},{method:E,url:R,data:(B||{}).data}))}}),$.forEach(["post","put","patch"],function(E){function R(B){return function(F,ie,de){return this.request($r(de||{},{method:E,headers:B?{"Content-Type":"multipart/form-data"}:{},url:F,data:ie}))}}ga.prototype[E]=R(),ga.prototype[E+"Form"]=R(!0)});var qi=ga;class Wa{constructor(R){if(typeof R!="function")throw new TypeError("executor must be a function.");let B;this.promise=new Promise(function(ie){B=ie});const F=this;this.promise.then(ie=>{if(!F._listeners)return;let de=F._listeners.length;for(;de-- >0;)F._listeners[de](ie);F._listeners=null}),this.promise.then=ie=>{let de;const ge=new Promise(Le=>{F.subscribe(Le),de=Le}).then(ie);return ge.cancel=function(){F.unsubscribe(de)},ge},R(function(ie,de,ge){F.reason||(F.reason=new xs(ie,de,ge),B(F.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(R){if(this.reason){R(this.reason);return}this._listeners?this._listeners.push(R):this._listeners=[R]}unsubscribe(R){if(!this._listeners)return;const B=this._listeners.indexOf(R);B!==-1&&this._listeners.splice(B,1)}toAbortSignal(){const R=new AbortController,B=F=>{R.abort(F)};return this.subscribe(B),R.signal.unsubscribe=()=>this.unsubscribe(B),R.signal}static source(){let R;return{token:new Wa(function(B){R=B}),cancel:R}}}var Vo=Wa;function cd(E){return function(R){return E.apply(null,R)}}function ys(E){return $.isObject(E)&&E.isAxiosError===!0}const Tr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tr).forEach(([E,R])=>{Tr[R]=E});var $o=Tr;function Xa(E){const R=new qi(E),B=e(qi.prototype.request,R);return $.extend(B,qi.prototype,R,{allOwnKeys:!0}),$.extend(B,R,null,{allOwnKeys:!0}),B.create=function(F){return Xa($r(E,F))},B}const Rn=Xa(rt);return Rn.Axios=qi,Rn.CanceledError=xs,Rn.CancelToken=Vo,Rn.isCancel=or,Rn.VERSION=Ya,Rn.toFormData=ke,Rn.AxiosError=Se,Rn.Cancel=Rn.CanceledError,Rn.all=function(E){return Promise.all(E)},Rn.spread=cd,Rn.isAxiosError=ys,Rn.mergeConfig=$r,Rn.AxiosHeaders=as,Rn.formToJSON=E=>tt($.isHTMLForm(E)?new FormData(E):E),Rn.getAdapter=dc.getAdapter,Rn.HttpStatusCode=$o,Rn.default=Rn,cg=Rn,cg}var o_;function xS(){if(o_)return Aa;o_=1;var e=Aa&&Aa.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,d=arguments.length;l<d;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)};Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.getRequestHeaders=Aa.getAxiosClient=void 0;var t=NC();function n(a,o,l,d,f){var h=t.default.create({baseURL:a,headers:s(o,d,l,a,f),withCredentials:!0});return h.interceptors.request.use(function(p){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(p.headers["X-Frappe-CSRF-Token"]=window.csrf_token),o&&d&&l&&(p.headers.Authorization="".concat(d," ").concat(l())),p}),h}Aa.getAxiosClient=n;function s(a,o,l,d,f){a===void 0&&(a=!1);var h={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return a&&o&&l&&(h.Authorization="".concat(o," ").concat(l())),typeof window<"u"&&typeof document<"u"&&(window.location&&(d&&d!==window.location.origin||(h["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(h["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},h),f!=null?f:{})}return Aa.getRequestHeaders=s,Aa}var l_;function yS(){if(l_)return Dr;l_=1;var e=Dr&&Dr.__assign||function(){return e=Object.assign||function(o){for(var l,d=1,f=arguments.length;d<f;d++){l=arguments[d];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(o[h]=l[h])}return o},e.apply(this,arguments)},t=Dr&&Dr.__awaiter||function(o,l,d,f){function h(p){return p instanceof d?p:new d(function(g){g(p)})}return new(d||(d=Promise))(function(p,g){function b(_){try{w(f.next(_))}catch(j){g(j)}}function y(_){try{w(f.throw(_))}catch(j){g(j)}}function w(_){_.done?p(_.value):h(_.value).then(b,y)}w((f=f.apply(o,l||[])).next())})},n=Dr&&Dr.__generator||function(o,l){var d={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},f,h,p,g;return g={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function b(w){return function(_){return y([w,_])}}function y(w){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,w[0]&&(d=0)),d;)try{if(f=1,h&&(p=w[0]&2?h.return:w[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,w[1])).done)return p;switch(h=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return d.label++,{value:w[1],done:!1};case 5:d.label++,h=w[1],w=[0];continue;case 7:w=d.ops.pop(),d.trys.pop();continue;default:if(p=d.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){d=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){d.label=w[1];break}if(w[0]===6&&d.label<p[1]){d.label=p[1],p=w;break}if(p&&d.label<p[2]){d.label=p[2],d.ops.push(w);break}p[2]&&d.ops.pop(),d.trys.pop();continue}w=l.call(o,d)}catch(_){w=[6,_],h=0}finally{f=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.FrappeFileUpload=void 0;var s=xS(),a=function(){function o(l,d,f,h,p,g){this.appURL=l,this.axios=d,this.useToken=f!=null?f:!1,this.token=h,this.tokenType=p,this.customHeaders=g}return o.prototype.uploadFile=function(l,d,f,h){return h===void 0&&(h="upload_file"),t(this,void 0,void 0,function(){var p,g,b,y,w,_,j,S;return n(this,function(O){return p=new FormData,l&&p.append("file",l,l.name),g=d.isPrivate,b=d.folder,y=d.file_url,w=d.doctype,_=d.docname,j=d.fieldname,S=d.otherData,g&&p.append("is_private","1"),b&&p.append("folder",b),y&&p.append("file_url",y),w&&_&&(p.append("doctype",w),p.append("docname",_),j&&p.append("fieldname",j)),S&&Object.keys(S).forEach(function(k){var C=S[k];p.append(k,C)}),[2,this.axios.post("/api/method/".concat(h),p,{onUploadProgress:function(k){f&&f(k.loaded,k.total,k)},headers:e(e({},(0,s.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(k){var C,A;throw e(e({},k.response.data),{httpStatus:k.response.status,httpStatusText:k.response.statusText,message:(C=k.response.data.message)!==null&&C!==void 0?C:"There was an error while uploading the file.",exception:(A=k.response.data.exception)!==null&&A!==void 0?A:""})})]})})},o}();return Dr.FrappeFileUpload=a,Dr}var c_;function EC(){if(c_)return su;c_=1,Object.defineProperty(su,"__esModule",{value:!0}),su.FrappeApp=void 0;var e=bS(),t=pS(),n=gS(),s=yS(),a=xS(),o=function(){function l(d,f,h,p){var g,b;this.url=d,this.name=h!=null?h:"FrappeApp",this.useToken=(g=f==null?void 0:f.useToken)!==null&&g!==void 0?g:!1,this.token=f==null?void 0:f.token,this.tokenType=(b=f==null?void 0:f.type)!==null&&b!==void 0?b:"Bearer",this.customHeaders=p,this.axios=(0,a.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return l.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},l.prototype.db=function(){return new n.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},l.prototype.file=function(){return new s.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},l.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},l}();return su.FrappeApp=o,su}var Mr={},u_;function TC(){if(u_)return Mr;u_=1;var e=Mr&&Mr.__assign||function(){return e=Object.assign||function(a){for(var o,l=1,d=arguments.length;l<d;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},e.apply(this,arguments)},t=Mr&&Mr.__awaiter||function(a,o,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function g(w){try{y(d.next(w))}catch(_){p(_)}}function b(w){try{y(d.throw(w))}catch(_){p(_)}}function y(w){w.done?h(w.value):f(w.value).then(g,b)}y((d=d.apply(a,o||[])).next())})},n=Mr&&Mr.__generator||function(a,o){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(w){return b([y,w])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(l=0)),l;)try{if(d=1,f&&(h=y[0]&2?f.return:y[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,y[1])).done)return h;switch(f=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,f=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){l.label=y[1];break}if(y[0]===6&&l.label<h[1]){l.label=h[1],h=y;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(y);break}h[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(a,l)}catch(w){y=[6,w],f=0}finally{d=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.FrappeAuth=void 0;var s=function(){function a(o,l,d,f,h){this.appURL=o,this.axios=l,this.useToken=d!=null?d:!1,this.token=f,this.tokenType=h}return a.prototype.loginWithUsernamePassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/api/method/login",{usr:o.username,pwd:o.password,otp:o.otp,tmp_id:o.tmp_id,device:o.device}).then(function(d){return d.data}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(f=d.response.data.message)!==null&&f!==void 0?f:"There was an error while logging in",exception:(h=d.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(l){return l.data.message}).catch(function(l){var d;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:"There was an error while fetching the logged in user",exception:(d=l.response.data.exception)!==null&&d!==void 0?d:""})})]})})},a.prototype.logout=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(l){var d,f;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:(d=l.response.data.message)!==null&&d!==void 0?d:"There was an error while logging out",exception:(f=l.response.data.exception)!==null&&f!==void 0?f:""})})]})})},a.prototype.forgetPassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:o}).then(function(){}).catch(function(d){var f,h;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(f=d.response.data.message)!==null&&f!==void 0?f:"There was an error sending password reset email.",exception:(h=d.response.data.exception)!==null&&h!==void 0?h:""})})]})})},a}();return Mr.FrappeAuth=s,Mr}var d_;function bS(){return d_||(d_=1,function(e){var t=_l&&_l.__createBinding||(Object.create?function(s,a,o,l){l===void 0&&(l=o);var d=Object.getOwnPropertyDescriptor(a,o);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(s,l,d)}:function(s,a,o,l){l===void 0&&(l=o),s[l]=a[o]}),n=_l&&_l.__exportStar||function(s,a){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,s,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(EC(),e),n(TC(),e),n(gS(),e),n(yS(),e),n(pS(),e)}(_l)),_l}var kC=bS(),f_={exports:{}},ug={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function CC(){if(h_)return ug;h_=1;var e=te;function t(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function d(g,b){var y=b(),w=s({inst:{value:y,getSnapshot:b}}),_=w[0].inst,j=w[1];return o(function(){_.value=y,_.getSnapshot=b,f(_)&&j({inst:_})},[g,y,b]),a(function(){return f(_)&&j({inst:_}),g(function(){f(_)&&j({inst:_})})},[g]),l(y),y}function f(g){var b=g.getSnapshot;g=g.value;try{var y=b();return!n(g,y)}catch(w){return!0}}function h(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return ug.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,ug}var m_;function AC(){return m_||(m_=1,f_.exports=CC()),f_.exports}var OC=AC();const vS=0,wS=1,_S=2,p_=3;var g_=Object.prototype.hasOwnProperty;function a0(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&a0(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(g_.call(e,n)&&++s&&!g_.call(t,n)||!(n in t)||!a0(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const za=new WeakMap,_i=()=>{},_s=_i(),hh=Object,Gt=e=>e===_s,Lr=e=>typeof e=="function",Fa=(e,t)=>L(L({},e),t),jS=e=>Lr(e.then),dg={},hf={},tx="undefined",Wu=typeof window!=tx,i0=typeof document!=tx,RC=Wu&&"Deno"in window,DC=()=>Wu&&typeof window.requestAnimationFrame!=tx,SS=(e,t)=>{const n=za.get(e);return[()=>!Gt(t)&&e.get(t)||dg,s=>{if(!Gt(t)){const a=e.get(t);t in hf||(hf[t]=a),n[5](t,Fa(a,s),a||dg)}},n[6],()=>!Gt(t)&&t in hf?hf[t]:!Gt(t)&&e.get(t)||dg]};let o0=!0;const MC=()=>o0,[l0,c0]=Wu&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[_i,_i],PC=()=>{const e=i0&&document.visibilityState;return Gt(e)||e!=="hidden"},LC=e=>(i0&&document.addEventListener("visibilitychange",e),l0("focus",e),()=>{i0&&document.removeEventListener("visibilitychange",e),c0("focus",e)}),zC=e=>{const t=()=>{o0=!0,e()},n=()=>{o0=!1};return l0("online",t),l0("offline",n),()=>{c0("online",t),c0("offline",n)}},BC={isOnline:MC,isVisible:PC},UC={initFocus:LC,initReconnect:zC},x_=!te.useId,Du=!Wu||RC,FC=e=>DC()?window.requestAnimationFrame(e):setTimeout(e,1),Xf=Du?N.useEffect:N.useLayoutEffect,fg=typeof navigator<"u"&&navigator.connection,y_=!Du&&fg&&(["slow-2g","2g"].includes(fg.effectiveType)||fg.saveData),mf=new WeakMap,hg=(e,t)=>hh.prototype.toString.call(e)===`[object ${t}]`;let HC=0;const u0=e=>{const t=typeof e,n=hg(e,"Date"),s=hg(e,"RegExp"),a=hg(e,"Object");let o,l;if(hh(e)===e&&!n&&!s){if(o=mf.get(e),o)return o;if(o=++HC+"~",mf.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=u0(e[l])+",";mf.set(e,o)}if(a){o="#";const d=hh.keys(e).sort();for(;!Gt(l=d.pop());)Gt(e[l])||(o+=l+":"+u0(e[l])+",");mf.set(e,o)}}else o=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},nx=e=>{if(Lr(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?u0(e):"",[e,t]};let VC=0;const d0=()=>++VC;function NS(...e){return xe(this,null,function*(){const[t,n,s,a]=e,o=Fa({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let l=o.populateCache;const d=o.rollbackOnError;let f=o.optimisticData;const h=b=>typeof d=="function"?d(b):d!==!1,p=o.throwOnError;if(Lr(n)){const b=n,y=[],w=t.keys();for(const _ of w)!/^\$(inf|sub)\$/.test(_)&&b(t.get(_)._k)&&y.push(_);return Promise.all(y.map(g))}return g(n);function g(b){return xe(this,null,function*(){const[y]=nx(b);if(!y)return;const[w,_]=SS(t,y),[j,S,O,k]=za.get(t),C=()=>{const ae=j[y];return(Lr(o.revalidate)?o.revalidate(w().data,b):o.revalidate!==!1)&&(delete O[y],delete k[y],ae&&ae[0])?ae[0](_S).then(()=>w().data):w().data};if(e.length<3)return C();let A=s,M;const V=d0();S[y]=[V,0];const D=!Gt(f),H=w(),ee=H.data,q=H._c,X=Gt(q)?ee:q;if(D&&(f=Lr(f)?f(X,ee):f,_({data:f,_c:X})),Lr(A))try{A=A(X)}catch(ae){M=ae}if(A&&jS(A))if(A=yield A.catch(ae=>{M=ae}),V!==S[y][0]){if(M)throw M;return A}else M&&D&&h(M)&&(l=!0,_({data:X,_c:_s}));if(l&&!M)if(Lr(l)){const ae=l(A,X);_({data:ae,error:_s,_c:_s})}else _({data:A,error:_s,_c:_s});if(S[y][1]=d0(),Promise.resolve(C()).then(()=>{_({_c:_s})}),M){if(p)throw M;return}return A})}})}const b_=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},ES=(e,t)=>{if(!za.has(e)){const n=Fa(UC,t),s=Object.create(null),a=NS.bind(_s,e);let o=_i;const l=Object.create(null),d=(p,g)=>{const b=l[p]||[];return l[p]=b,b.push(g),()=>b.splice(b.indexOf(g),1)},f=(p,g,b)=>{e.set(p,g);const y=l[p];if(y)for(const w of y)w(g,b)},h=()=>{if(!za.has(e)&&(za.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,f,d]),!Du)){const p=n.initFocus(setTimeout.bind(_s,b_.bind(_s,s,vS))),g=n.initReconnect(setTimeout.bind(_s,b_.bind(_s,s,wS)));o=()=>{p&&p(),g&&g(),za.delete(e)}}};return h(),[e,a,h,o]}return[e,za.get(e)[4]]},$C=(e,t,n,s,a)=>{const o=n.errorRetryCount,l=a.retryCount,d=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;!Gt(o)&&l>o||setTimeout(s,d,a)},qC=a0,[sx,IC]=ES(new Map),TS=Fa({onLoadingSlow:_i,onSuccess:_i,onError:_i,onErrorRetry:$C,onDiscarded:_i,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:y_?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:y_?5e3:3e3,compare:qC,isPaused:()=>!1,cache:sx,mutate:IC,fallback:{}},BC),kS=(e,t)=>{const n=Fa(e,t);if(t){const{use:s,fallback:a}=e,{use:o,fallback:l}=t;s&&o&&(n.use=s.concat(o)),a&&l&&(n.fallback=Fa(a,l))}return n},f0=N.createContext({}),YC=e=>{const{value:t}=e,n=N.useContext(f0),s=Lr(t),a=N.useMemo(()=>s?t(n):t,[s,n,t]),o=N.useMemo(()=>s?a:kS(n,a),[s,n,a]),l=a&&a.provider,d=N.useRef(_s);l&&!d.current&&(d.current=ES(l(o.cache||sx),a));const f=d.current;return f&&(o.cache=f[0],o.mutate=f[1]),Xf(()=>{if(f)return f[2]&&f[2](),f[3]},[]),N.createElement(f0.Provider,Fa(e,{value:o}))},WC="$inf$",CS=Wu&&window.__SWR_DEVTOOLS_USE__,XC=CS?window.__SWR_DEVTOOLS_USE__:[],GC=()=>{CS&&(window.__SWR_DEVTOOLS_REACT__=te)},KC=e=>Lr(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],QC=()=>Fa(TS,N.useContext(f0)),ZC=e=>(t,n,s)=>e(t,n&&((...a)=>{const[o]=nx(t),[,,,l]=za.get(sx);if(o.startsWith(WC))return n(...a);const d=l[o];return Gt(d)?n(...a):(delete l[o],d)}),s),JC=XC.concat(ZC),eA=e=>function(...t){const n=QC(),[s,a,o]=KC(t),l=kS(n,o);let d=e;const{use:f}=l,h=(f||[]).concat(JC);for(let p=h.length;p--;)d=h[p](d);return d(s,a||l.fetcher||null,l)},tA=(e,t,n)=>{const s=t[e]||(t[e]=[]);return s.push(n),()=>{const a=s.indexOf(n);a>=0&&(s[a]=s[s.length-1],s.pop())}};GC();const mg=te.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),pg={dedupe:!0},nA=(e,t,n)=>{const{cache:s,compare:a,suspense:o,fallbackData:l,revalidateOnMount:d,revalidateIfStale:f,refreshInterval:h,refreshWhenHidden:p,refreshWhenOffline:g,keepPreviousData:b}=n,[y,w,_,j]=za.get(s),[S,O]=nx(e),k=N.useRef(!1),C=N.useRef(!1),A=N.useRef(S),M=N.useRef(t),V=N.useRef(n),D=()=>V.current,H=()=>D().isVisible()&&D().isOnline(),[ee,q,X,ae]=SS(s,S),J=N.useRef({}).current,Y=Gt(l)?Gt(n.fallback)?_s:n.fallback[S]:l,z=(st,bt)=>{for(const Pe in J){const pt=Pe;if(pt==="data"){if(!a(st[pt],bt[pt])&&(!Gt(st[pt])||!a(je,bt[pt])))return!1}else if(bt[pt]!==st[pt])return!1}return!0},Q=N.useMemo(()=>{const st=!S||!t?!1:Gt(d)?D().isPaused()||o?!1:f!==!1:d,bt=Ct=>{const W=Fa(Ct);return delete W._k,st?L({isValidating:!0,isLoading:!0},W):W},Pe=ee(),pt=ae(),Vt=bt(Pe),_t=Pe===pt?Vt:bt(pt);let $t=Vt;return[()=>{const Ct=bt(ee());return z(Ct,$t)?($t.data=Ct.data,$t.isLoading=Ct.isLoading,$t.isValidating=Ct.isValidating,$t.error=Ct.error,$t):($t=Ct,Ct)},()=>_t]},[s,S]),Z=OC.useSyncExternalStore(N.useCallback(st=>X(S,(bt,Pe)=>{z(Pe,bt)||st()}),[s,S]),Q[0],Q[1]),le=!k.current,U=y[S]&&y[S].length>0,re=Z.data,we=Gt(re)?Y&&jS(Y)?mg(Y):Y:re,I=Z.error,ce=N.useRef(we),je=b?Gt(re)?Gt(ce.current)?we:ce.current:re:we,be=U&&!Gt(I)?!1:le&&!Gt(d)?d:D().isPaused()?!1:o?Gt(we)?!1:f:Gt(we)||f,Te=!!(S&&t&&le&&be),Oe=Gt(Z.isValidating)?Te:Z.isValidating,Ke=Gt(Z.isLoading)?Te:Z.isLoading,He=N.useCallback(st=>xe(null,null,function*(){const bt=M.current;if(!S||!bt||C.current||D().isPaused())return!1;let Pe,pt,Vt=!0;const _t=st||{},$t=!_[S]||!_t.dedupe,Ct=()=>x_?!C.current&&S===A.current&&k.current:S===A.current,W={isValidating:!1,isLoading:!1},ue=()=>{q(W)},$=()=>{const De=_[S];De&&De[1]===pt&&delete _[S]},Se={isValidating:!0};Gt(ee().data)&&(Se.isLoading=!0);try{if($t&&(q(Se),n.loadingTimeout&&Gt(ee().data)&&setTimeout(()=>{Vt&&Ct()&&D().onLoadingSlow(S,n)},n.loadingTimeout),_[S]=[bt(O),d0()]),[Pe,pt]=_[S],Pe=yield Pe,$t&&setTimeout($,n.dedupingInterval),!_[S]||_[S][1]!==pt)return $t&&Ct()&&D().onDiscarded(S),!1;W.error=_s;const De=w[S];if(!Gt(De)&&(pt<=De[0]||pt<=De[1]||De[1]===0))return ue(),$t&&Ct()&&D().onDiscarded(S),!1;const Re=ee().data;W.data=a(Re,Pe)?Re:Pe,$t&&Ct()&&D().onSuccess(Pe,S,n)}catch(De){$();const Re=D(),{shouldRetryOnError:Be}=Re;Re.isPaused()||(W.error=De,$t&&Ct()&&(Re.onError(De,S,Re),(Be===!0||Lr(Be)&&Be(De))&&(!D().revalidateOnFocus||!D().revalidateOnReconnect||H())&&Re.onErrorRetry(De,S,Re,qe=>{const Xe=y[S];Xe&&Xe[0]&&Xe[0](p_,qe)},{retryCount:(_t.retryCount||0)+1,dedupe:!0})))}return Vt=!1,ue(),!0}),[S,s]),wt=N.useCallback((...st)=>NS(s,A.current,...st),[]);if(Xf(()=>{M.current=t,V.current=n,Gt(re)||(ce.current=re)}),Xf(()=>{if(!S)return;const st=He.bind(_s,pg);let bt=0;D().revalidateOnFocus&&(bt=Date.now()+D().focusThrottleInterval);const Pe=tA(S,y,(pt,Vt={})=>{if(pt==vS){const _t=Date.now();D().revalidateOnFocus&&_t>bt&&H()&&(bt=_t+D().focusThrottleInterval,st())}else if(pt==wS)D().revalidateOnReconnect&&H()&&st();else{if(pt==_S)return He();if(pt==p_)return He(Vt)}});return C.current=!1,A.current=S,k.current=!0,q({_k:O}),be&&(Gt(we)||Du?st():FC(st)),()=>{C.current=!0,Pe()}},[S]),Xf(()=>{let st;function bt(){const pt=Lr(h)?h(ee().data):h;pt&&st!==-1&&(st=setTimeout(Pe,pt))}function Pe(){!ee().error&&(p||D().isVisible())&&(g||D().isOnline())?He(pg).then(bt):bt()}return bt(),()=>{st&&(clearTimeout(st),st=-1)}},[h,p,g,S]),N.useDebugValue(je),o&&Gt(we)&&S){if(!x_&&Du)throw new Error("Fallback data is required when using Suspense in SSR.");M.current=t,V.current=n,C.current=!1;const st=j[S];if(!Gt(st)){const bt=wt(st);mg(bt)}if(Gt(I)){const bt=He(pg);Gt(je)||(bt.status="fulfilled",bt.value=!0),mg(bt)}else throw I}return{mutate:wt,get data(){return J.data=!0,je},get error(){return J.error=!0,I},get isValidating(){return J.isValidating=!0,Oe},get isLoading(){return J.isLoading=!0,Ke}}},sA=hh.defineProperty(YC,"defaultValue",{value:TS}),zh=eA(nA);Promise.resolve();const la=Object.create(null);la.open="0";la.close="1";la.ping="2";la.pong="3";la.message="4";la.upgrade="5";la.noop="6";const Gf=Object.create(null);Object.keys(la).forEach(e=>{Gf[la[e]]=e});const h0={type:"error",data:"parser error"},AS=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",OS=typeof ArrayBuffer=="function",RS=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,rx=({type:e,data:t},n,s)=>AS&&t instanceof Blob?n?s(t):v_(t,s):OS&&(t instanceof ArrayBuffer||RS(t))?n?s(t):v_(new Blob([t]),s):s(la[e]+(t||"")),v_=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function w_(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let gg;function rA(e,t){if(AS&&e.data instanceof Blob)return e.data.arrayBuffer().then(w_).then(t);if(OS&&(e.data instanceof ArrayBuffer||RS(e.data)))return t(w_(e.data));rx(e,!1,n=>{gg||(gg=new TextEncoder),t(gg.encode(n))})}const __="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<__.length;e++)bu[__.charCodeAt(e)]=e;const aA=e=>{let t=e.length*.75,n=e.length,s,a=0,o,l,d,f;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),p=new Uint8Array(h);for(s=0;s<n;s+=4)o=bu[e.charCodeAt(s)],l=bu[e.charCodeAt(s+1)],d=bu[e.charCodeAt(s+2)],f=bu[e.charCodeAt(s+3)],p[a++]=o<<2|l>>4,p[a++]=(l&15)<<4|d>>2,p[a++]=(d&3)<<6|f&63;return h},iA=typeof ArrayBuffer=="function",ax=(e,t)=>{if(typeof e!="string")return{type:"message",data:DS(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:oA(e.substring(1),t)}:Gf[n]?e.length>1?{type:Gf[n],data:e.substring(1)}:{type:Gf[n]}:h0},oA=(e,t)=>{if(iA){const n=aA(e);return DS(n,t)}else return{base64:!0,data:e}},DS=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},MS="",lA=(e,t)=>{const n=e.length,s=new Array(n);let a=0;e.forEach((o,l)=>{rx(o,!1,d=>{s[l]=d,++a===n&&t(s.join(MS))})})},cA=(e,t)=>{const n=e.split(MS),s=[];for(let a=0;a<n.length;a++){const o=ax(n[a],t);if(s.push(o),o.type==="error")break}return s};function uA(){return new TransformStream({transform(e,t){rA(e,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const o=new DataView(a.buffer);o.setUint8(0,126),o.setUint16(1,s)}else{a=new Uint8Array(9);const o=new DataView(a.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let xg;function pf(e){return e.reduce((t,n)=>t+n.length,0)}function gf(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let a=0;a<t;a++)n[a]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function dA(e,t){xg||(xg=new TextDecoder);const n=[];let s=0,a=-1,o=!1;return new TransformStream({transform(l,d){for(n.push(l);;){if(s===0){if(pf(n)<1)break;const f=gf(n,1);o=(f[0]&128)===128,a=f[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(pf(n)<2)break;const f=gf(n,2);a=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),s=3}else if(s===2){if(pf(n)<8)break;const f=gf(n,8),h=new DataView(f.buffer,f.byteOffset,f.length),p=h.getUint32(0);if(p>Math.pow(2,21)-1){d.enqueue(h0);break}a=p*Math.pow(2,32)+h.getUint32(4),s=3}else{if(pf(n)<a)break;const f=gf(n,a);d.enqueue(ax(o?f:xg.decode(f),t)),s=0}if(a===0||a>e){d.enqueue(h0);break}}}})}const PS=4;function Wn(e){if(e)return fA(e)}function fA(e){for(var t in Wn.prototype)e[t]=Wn.prototype[t];return e}Wn.prototype.on=Wn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Wn.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Wn.prototype.off=Wn.prototype.removeListener=Wn.prototype.removeAllListeners=Wn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===t||s.fn===t){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Wn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,t)}return this};Wn.prototype.emitReserved=Wn.prototype.emit;Wn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Wn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const br=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function LS(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const hA=br.setTimeout,mA=br.clearTimeout;function Bh(e,t){t.useNativeTimers?(e.setTimeoutFn=hA.bind(br),e.clearTimeoutFn=mA.bind(br)):(e.setTimeoutFn=br.setTimeout.bind(br),e.clearTimeoutFn=br.clearTimeout.bind(br))}const pA=1.33;function gA(e){return typeof e=="string"?xA(e):Math.ceil((e.byteLength||e.size)*pA)}function xA(e){let t=0,n=0;for(let s=0,a=e.length;s<a;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function yA(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function bA(e){let t={},n=e.split("&");for(let s=0,a=n.length;s<a;s++){let o=n[s].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class vA extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class ix extends Wn{constructor(t){super(),this.writable=!1,Bh(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,s){return super.emitReserved("error",new vA(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=ax(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=yA(t);return n.length?"?"+n:""}}const zS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),m0=64,wA={};let j_=0,xf=0,S_;function N_(e){let t="";do t=zS[e%m0]+t,e=Math.floor(e/m0);while(e>0);return t}function BS(){const e=N_(+new Date);return e!==S_?(j_=0,S_=e):e+"."+N_(j_++)}for(;xf<m0;xf++)wA[zS[xf]]=xf;let US=!1;try{US=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const _A=US;function FS(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||_A))return new XMLHttpRequest}catch(n){}if(!t)try{return new br[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(n){}}function jA(){}const SA=function(){return new FS({xdomain:!1}).responseType!=null}();class NA extends ix{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}const n=t&&t.forceBase64;this.supportsBinary=SA&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};cA(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,lA(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=BS()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Pl(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(a,o)=>{this.onError("xhr post error",a,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}let Pl=class Kf extends Wn{constructor(t,n){super(),Bh(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=LS(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const s=this.xhr=new FS(n);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this.opts.extraHeaders[a])}}catch(a){}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{s.setRequestHeader("Accept","*/*")}catch(a){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this.opts.cookieJar)===null||a===void 0||a.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(a){this.setTimeoutFn(()=>{this.onError(a)},0);return}typeof document<"u"&&(this.index=Kf.requestsCount++,Kf.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=jA,t)try{this.xhr.abort()}catch(n){}typeof document<"u"&&delete Kf.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Pl.requestsCount=0;Pl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",E_);else if(typeof addEventListener=="function"){const e="onpagehide"in br?"pagehide":"unload";addEventListener(e,E_,!1)}}function E_(){for(let e in Pl.requests)Pl.requests.hasOwnProperty(e)&&Pl.requests[e].abort()}const ox=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),yf=br.WebSocket||br.MozWebSocket,T_=!0,EA="arraybuffer",k_=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class TA extends ix{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=k_?{}:LS(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=T_&&!k_?n?new yf(t,n):new yf(t):new yf(t,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;rx(s,this.supportsBinary,o=>{try{T_&&this.ws.send(o)}catch(l){}a&&ox(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=BS()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!yf}}class kA extends ix{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=dA(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),a=uA();a.readable.pipeTo(t.writable),this.writer=a.writable.getWriter();const o=()=>{s.read().then(({done:d,value:f})=>{d||(this.onPacket(f),o())}).catch(d=>{})};o();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this.writer.write(l).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;this.writer.write(s).then(()=>{a&&ox(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const CA={websocket:TA,webtransport:kA,polling:NA},AA=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,OA=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function p0(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let a=AA.exec(e||""),o={},l=14;for(;l--;)o[OA[l]]=a[l]||"";return n!=-1&&s!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=RA(o,o.path),o.queryKey=DA(o,o.query),o}function RA(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function DA(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,o){a&&(n[a]=o)}),n}let HS=class Ol extends Wn{constructor(t,n={}){super(),this.binaryType=EA,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=p0(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=p0(n.host).host),Bh(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=bA(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=PS,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new CA[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Ol.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(n){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),s=!1;Ol.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!s)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ol.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=n.name,this.emitReserved("upgradeError",b)}}))};function o(){s||(s=!0,p(),n.close(),n=null)}const l=g=>{const b=new Error("probe error: "+g);b.transport=n.name,o(),this.emitReserved("upgradeError",b)};function d(){l("transport closed")}function f(){l("socket closed")}function h(g){n&&g.name!==n.name&&o()}const p=()=>{n.removeListener("open",a),n.removeListener("error",l),n.removeListener("close",d),this.off("close",f),this.off("upgrading",h)};n.once("open",a),n.once("error",l),n.once("close",d),this.once("close",f),this.once("upgrading",h),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Ol.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(t+=gA(s)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const o={type:t,data:n,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){Ol.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const a=t.length;for(;s<a;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}};HS.protocol=PS;function MA(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=p0(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const a=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+t,s.href=s.protocol+"://"+a+(n&&n.port===s.port?"":":"+s.port),s}const PA=typeof ArrayBuffer=="function",LA=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,VS=Object.prototype.toString,zA=typeof Blob=="function"||typeof Blob<"u"&&VS.call(Blob)==="[object BlobConstructor]",BA=typeof File=="function"||typeof File<"u"&&VS.call(File)==="[object FileConstructor]";function lx(e){return PA&&(e instanceof ArrayBuffer||LA(e))||zA&&e instanceof Blob||BA&&e instanceof File}function Qf(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(Qf(e[n]))return!0;return!1}if(lx(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Qf(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Qf(e[n]))return!0;return!1}function UA(e){const t=[],n=e.data,s=e;return s.data=g0(n,t),s.attachments=t.length,{packet:s,buffers:t}}function g0(e,t){if(!e)return e;if(lx(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=g0(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=g0(e[s],t));return n}return e}function FA(e,t){return e.data=x0(e.data,t),delete e.attachments,e}function x0(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=x0(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=x0(e[n],t));return e}const HA=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],VA=5;var It;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(It||(It={}));class $A{constructor(t){this.replacer=t}encode(t){return(t.type===It.EVENT||t.type===It.ACK)&&Qf(t)?this.encodeAsBinary({type:t.type===It.EVENT?It.BINARY_EVENT:It.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===It.BINARY_EVENT||t.type===It.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=UA(t),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}function C_(e){return Object.prototype.toString.call(e)==="[object Object]"}class cx extends Wn{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===It.BINARY_EVENT;s||n.type===It.BINARY_ACK?(n.type=s?It.EVENT:It.ACK,this.reconstructor=new qA(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(lx(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(It[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===It.BINARY_EVENT||s.type===It.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const l=t.substring(o,n);if(l!=Number(l)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(l)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(o,n)}else s.nsp="/";const a=t.charAt(n+1);if(a!==""&&Number(a)==a){const o=n+1;for(;++n;){const l=t.charAt(n);if(l==null||Number(l)!=l){--n;break}if(n===t.length)break}s.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(cx.isPayloadValid(s.type,o))s.data=o;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(n){return!1}}static isPayloadValid(t,n){switch(t){case It.CONNECT:return C_(n);case It.DISCONNECT:return n===void 0;case It.CONNECT_ERROR:return typeof n=="string"||C_(n);case It.EVENT:case It.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&HA.indexOf(n[0])===-1);case It.ACK:case It.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class qA{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=FA(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const IA=Object.freeze(Object.defineProperty({__proto__:null,Decoder:cx,Encoder:$A,get PacketType(){return It},protocol:VA},Symbol.toStringTag,{value:"Module"}));function Pr(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const YA=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class $S extends Wn{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Pr(t,"open",this.onopen.bind(this)),Pr(t,"packet",this.onpacket.bind(this)),Pr(t,"error",this.onerror.bind(this)),Pr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(YA.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:It.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,l=n.pop();this._registerAckCallback(o,l),s.id=o}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},a);this.acks[t]=(...l)=>{this.io.clearTimeoutFn(o),n.apply(this,[null,...l])}}emitWithAck(t,...n){const s=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((a,o)=>{n.push((l,d)=>s?l?o(l):a(d):a(l)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...o)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...o)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:It.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case It.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case It.EVENT:case It.BINARY_EVENT:this.onevent(t);break;case It.ACK:case It.BINARY_ACK:this.onack(t);break;case It.DISCONNECT:this.ondisconnect();break;case It.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:It.ACK,id:t,data:a}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:It.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function Xl(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Xl.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};Xl.prototype.reset=function(){this.attempts=0};Xl.prototype.setMin=function(e){this.ms=e};Xl.prototype.setMax=function(e){this.max=e};Xl.prototype.setJitter=function(e){this.jitter=e};class y0 extends Wn{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Bh(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Xl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const a=n.parser||IA;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new HS(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=Pr(n,"open",function(){s.onopen(),t&&t()}),o=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),t?t(d):this.maybeReconnectOnOpen()},l=Pr(n,"error",o);if(this._timeout!==!1){const d=this._timeout,f=this.setTimeoutFn(()=>{a(),o(new Error("timeout")),n.close()},d);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(a),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Pr(t,"ping",this.onping.bind(this)),Pr(t,"data",this.ondata.bind(this)),Pr(t,"error",this.onerror.bind(this)),Pr(t,"close",this.onclose.bind(this)),Pr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){ox(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new $S(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ru={};function Zf(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=MA(e,t.path||"/socket.io"),s=n.source,a=n.id,o=n.path,l=ru[a]&&o in ru[a].nsps,d=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let f;return d?f=new y0(s,t):(ru[a]||(ru[a]=new y0(s,t)),f=ru[a]),n.query&&!t.query&&(t.query=n.queryKey),f.socket(n.path,t)}Object.assign(Zf,{Manager:y0,Socket:$S,io:Zf,connect:Zf});class WA{constructor(t,n,s,a){lo(this,"socket_port"),lo(this,"host"),lo(this,"port"),lo(this,"protocol"),lo(this,"url"),lo(this,"site_name"),lo(this,"socket");var o,l,d,f;if(this.socket_port=s!=null?s:"9000",this.host=(o=window.location)==null?void 0:o.hostname,this.port=(l=window.location)!=null&&l.port?`:${this.socket_port}`:"",this.protocol=((d=window.location)==null?void 0:d.protocol)==="https:"?"https":"http",t){let h=new URL(t);h.port="",s?(h.port=s,this.url=h.toString()):this.url=h.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;n&&(this.url=`${this.url}${n}`),this.site_name=n,this.socket=Zf(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:a&&a.useToken===!0?{Authorization:`${a.type} ${(f=a.token)==null?void 0:f.call(a)}`}:{}})}}const $a=N.createContext(null),XA=({url:e="",tokenParams:t,socketPort:n,swrConfig:s,siteName:a,enableSocket:o=!0,children:l,customHeaders:d})=>{const f=N.useMemo(()=>{const h=new kC.FrappeApp(e,t,void 0,d);return{url:e,tokenParams:t,app:h,auth:h.auth(),db:h.db(),call:h.call(),file:h.file(),socket:o?new WA(e,a,n,t).socket:void 0,enableSocket:o,socketPort:n}},[e,t,n,o,d]);return u.jsx($a.Provider,{value:f,children:u.jsx(sA,{value:s,children:l})})},Mu=e=>{const{url:t,auth:n,tokenParams:s}=N.useContext($a),[a,o]=N.useState(),l=N.useCallback(()=>{const w=document.cookie.split(";").find(_=>_.trim().startsWith("user_id="));if(w){const _=w.split("=")[1];o(_&&_!=="Guest"?_:null)}else o(null)},[]);N.useEffect(()=>{s&&s.useToken?o(null):l()},[]);const{data:d,error:f,isLoading:h,isValidating:p,mutate:g}=zh(()=>s&&s.useToken||a?`${t}/api/method/frappe.auth.get_logged_user`:null,()=>n.getLoggedInUser(),L({onError:()=>{o(null)},shouldRetryOnError:!1,revalidateOnFocus:!1},e)),b=N.useCallback(w=>xe(null,null,function*(){return n.loginWithUsernamePassword(w).then(_=>(l(),_))}),[]),y=N.useCallback(()=>xe(null,null,function*(){return n.logout().then(()=>g(null)).then(()=>o(null))}),[]);return{isLoading:a===void 0||h,currentUser:d,isValidating:p,error:f,login:b,logout:y,updateCurrentUser:g,getUserCookie:l}},qS=(e,t,n)=>{let s=`${t}/api/resource/`;return n?s+=`${e}/${n}`:s+=`${e}`,s},Bn=(e,t,n,s)=>{const{url:a,db:o}=N.useContext($a);return zh(n===void 0?qS(e,a,t):n,()=>o.getDoc(e,t),s)},GA=e=>{var a;var t,n;let s="";if(e!=null&&e.fields&&(s+="fields="+JSON.stringify(e==null?void 0:e.fields)+"&"),e!=null&&e.filters&&(s+="filters="+JSON.stringify(e==null?void 0:e.filters)+"&"),e!=null&&e.orFilters&&(s+="or_filters="+JSON.stringify(e==null?void 0:e.orFilters)+"&"),e!=null&&e.limit_start&&(s+="limit_start="+JSON.stringify(e==null?void 0:e.limit_start)+"&"),e!=null&&e.limit&&(s+="limit="+JSON.stringify(e==null?void 0:e.limit)+"&"),e!=null&&e.groupBy&&(s+="group_by="+String(e.groupBy)+"&"),e!=null&&e.orderBy){const o=`${String((t=e.orderBy)==null?void 0:t.field)} ${(a=(n=e.orderBy)==null?void 0:n.order)!=null?a:"asc"}`;s+="order_by="+o+"&"}return e!=null&&e.asDict&&(s+="as_dict="+e.asDict),s},_n=(e,t,n,s)=>{const{url:a,db:o}=N.useContext($a);return zh(n===void 0?`${qS(e,a)}?${GA(t)}`:n,()=>o.getDocList(e,t),s)},Mo=()=>{const{db:e}=N.useContext($a),[t,n]=N.useState(!1),[s,a]=N.useState(null),[o,l]=N.useState(!1),d=N.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{createDoc:N.useCallback((f,h)=>xe(null,null,function*(){return a(null),l(!1),n(!0),e.createDoc(f,h).then(p=>(n(!1),l(!0),p)).catch(p=>{throw n(!1),l(!1),a(p),p})}),[]),loading:t,error:s,isCompleted:o,reset:d}},$s=()=>{const{db:e}=N.useContext($a),[t,n]=N.useState(!1),[s,a]=N.useState(null),[o,l]=N.useState(!1),d=N.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{updateDoc:N.useCallback((f,h,p)=>xe(null,null,function*(){return a(null),l(!1),n(!0),e.updateDoc(f,h,p).then(g=>(n(!1),l(!0),g)).catch(g=>{throw n(!1),l(!1),a(g),g})}),[]),loading:t,error:s,reset:d,isCompleted:o}},Uh=()=>{const{db:e}=N.useContext($a),[t,n]=N.useState(!1),[s,a]=N.useState(null),[o,l]=N.useState(!1),d=N.useCallback(()=>{n(!1),a(null),l(!1)},[]);return{deleteDoc:N.useCallback((f,h)=>xe(null,null,function*(){return a(null),l(!1),n(!0),e.deleteDoc(f,h).then(p=>(n(!1),l(!0),p)).catch(p=>{throw n(!1),l(!1),a(p),p})}),[]),loading:t,error:s,reset:d,isCompleted:o}};function KA(e){const t=[];for(let n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}const QA=(e,t,n,s,a="GET")=>{const{call:o}=N.useContext($a),l=KA(t!=null?t:{}),d=`${e}?${l}`;return L({},zh(n===void 0?d:n,a==="GET"?()=>o.get(e,t):()=>o.post(e,t),s))},ps=e=>{const{call:t}=N.useContext($a),[n,s]=N.useState(null),[a,o]=N.useState(!1),[l,d]=N.useState(null),[f,h]=N.useState(!1),p=N.useCallback(()=>{s(null),o(!1),d(null),h(!1)},[]);return{call:N.useCallback(g=>xe(null,null,function*(){return d(null),h(!1),o(!0),s(null),t.post(e,g).then(b=>(s(b),o(!1),h(!0),b)).catch(b=>{throw o(!1),h(!1),d(b),b})}),[]),result:n,loading:a,error:l,reset:p,isCompleted:f}};var ZA=(e,t,n,s,a,o,l,d)=>{let f=document.documentElement,h=["light","dark"];function p(y){(Array.isArray(e)?e:[e]).forEach(w=>{let _=w==="class",j=_&&o?a.map(S=>o[S]||S):a;_?(f.classList.remove(...j),f.classList.add(o&&o[y]?o[y]:y)):f.setAttribute(w,y)}),g(y)}function g(y){d&&h.includes(y)&&(f.style.colorScheme=y)}function b(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)p(s);else try{let y=localStorage.getItem(t)||n,w=l&&y==="system"?b():y;p(w)}catch(y){}},A_=["light","dark"],IS="(prefers-color-scheme: dark)",JA=typeof window=="undefined",ux=N.createContext(void 0),eO={setTheme:e=>{},themes:[]},tO=()=>{var e;return(e=N.useContext(ux))!=null?e:eO},nO=e=>N.useContext(ux)?N.createElement(N.Fragment,null,e.children):N.createElement(rO,L({},e)),sO=["light","dark"],rO=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:s=!0,storageKey:a="theme",themes:o=sO,defaultTheme:l=n?"system":"light",attribute:d="data-theme",value:f,children:h,nonce:p,scriptProps:g})=>{let[b,y]=N.useState(()=>iO(a,l)),[w,_]=N.useState(()=>b==="system"?yg():b),j=f?Object.values(f):o,S=N.useCallback(A=>{let M=A;if(!M)return;A==="system"&&n&&(M=yg());let V=f?f[M]:M,D=t?oO(p):null,H=document.documentElement,ee=q=>{q==="class"?(H.classList.remove(...j),V&&H.classList.add(V)):q.startsWith("data-")&&(V?H.setAttribute(q,V):H.removeAttribute(q))};if(Array.isArray(d)?d.forEach(ee):ee(d),s){let q=A_.includes(l)?l:null,X=A_.includes(M)?M:q;H.style.colorScheme=X}D==null||D()},[p]),O=N.useCallback(A=>{let M=typeof A=="function"?A(b):A;y(M);try{localStorage.setItem(a,M)}catch(V){}},[b]),k=N.useCallback(A=>{let M=yg(A);_(M),b==="system"&&n&&!e&&S("system")},[b,e]);N.useEffect(()=>{let A=window.matchMedia(IS);return A.addListener(k),k(A),()=>A.removeListener(k)},[k]),N.useEffect(()=>{let A=M=>{M.key===a&&(M.newValue?y(M.newValue):O(l))};return window.addEventListener("storage",A),()=>window.removeEventListener("storage",A)},[O]),N.useEffect(()=>{S(e!=null?e:b)},[e,b]);let C=N.useMemo(()=>({theme:b,setTheme:O,forcedTheme:e,resolvedTheme:b==="system"?w:b,themes:n?[...o,"system"]:o,systemTheme:n?w:void 0}),[b,O,e,w,n,o]);return N.createElement(ux.Provider,{value:C},N.createElement(aO,{forcedTheme:e,storageKey:a,attribute:d,enableSystem:n,enableColorScheme:s,defaultTheme:l,value:f,themes:o,nonce:p,scriptProps:g}),h)},aO=N.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:a,defaultTheme:o,value:l,themes:d,nonce:f,scriptProps:h})=>{let p=JSON.stringify([n,t,o,e,d,l,s,a]).slice(1,-1);return N.createElement("script",he(L({},h),{suppressHydrationWarning:!0,nonce:typeof window=="undefined"?f:"",dangerouslySetInnerHTML:{__html:`(${ZA.toString()})(${p})`}}))}),iO=(e,t)=>{if(JA)return;let n;try{n=localStorage.getItem(e)||void 0}catch(s){}return n||t},oO=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},yg=e=>(e||(e=window.matchMedia(IS)),e.matches?"dark":"light");/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var YS=e=>{throw TypeError(e)},lO=(e,t,n)=>t.has(e)||YS("Cannot "+n),bg=(e,t,n)=>(lO(e,t,"read from private field"),n?n.call(e):t.get(e)),cO=(e,t,n)=>t.has(e)?YS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),O_="popstate";function uO(e={}){function t(s,a){let{pathname:o,search:l,hash:d}=s.location;return Pu("",{pathname:o,search:l,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ki(a)}return fO(t,n,null,e)}function Ht(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function Gn(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function dO(){return Math.random().toString(36).substring(2,10)}function R_(e,t){return{usr:e.state,key:e.key,idx:t}}function Pu(e,t,n=null,s){return he(L({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mi(t):t),{state:n,key:t&&t.key||s||dO()})}function ki({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Mi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function fO(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,l=a.history,d="POP",f=null,h=p();h==null&&(h=0,l.replaceState(he(L({},l.state),{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function g(){d="POP";let j=p(),S=j==null?null:j-h;h=j,f&&f({action:d,location:_.location,delta:S})}function b(j,S){d="PUSH";let O=Pu(_.location,j,S);h=p()+1;let k=R_(O,h),C=_.createHref(O);try{l.pushState(k,"",C)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign(C)}o&&f&&f({action:d,location:_.location,delta:1})}function y(j,S){d="REPLACE";let O=Pu(_.location,j,S);h=p();let k=R_(O,h),C=_.createHref(O);l.replaceState(k,"",C),o&&f&&f({action:d,location:_.location,delta:0})}function w(j){return WS(j)}let _={get action(){return d},get location(){return e(a,l)},listen(j){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(O_,g),f=j,()=>{a.removeEventListener(O_,g),f=null}},createHref(j){return t(a,j)},createURL:w,encodeLocation(j){let S=w(j);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:b,replace:y,go(j){return l.go(j)}};return _}function WS(e,t=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:ki(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var vu,D_=class{constructor(e){if(cO(this,vu,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(bg(this,vu).has(e))return bg(this,vu).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){bg(this,vu).set(e,t)}};vu=new WeakMap;var hO=new Set(["lazy","caseSensitive","path","id","index","children"]);function mO(e){return hO.has(e)}var pO=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function gO(e){return pO.has(e)}function xO(e){return e.index===!0}function Lu(e,t,n=[],s={},a=!1){return e.map((o,l)=>{let d=[...n,String(l)],f=typeof o.id=="string"?o.id:d.join("-");if(Ht(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ht(a||!s[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),xO(o)){let h=he(L(L({},o),t(o)),{id:f});return s[f]=h,h}else{let h=he(L(L({},o),t(o)),{id:f,children:void 0});return s[f]=h,o.children&&(h.children=Lu(o.children,t,d,s,a)),h}})}function wi(e,t,n="/"){return Jf(e,t,n,!1)}function Jf(e,t,n,s){let a=typeof t=="string"?Mi(t):t,o=jr(a.pathname||"/",n);if(o==null)return null;let l=XS(e);bO(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=AO(o);d=kO(l[f],h,s)}return d}function yO(e,t){let{route:n,pathname:s,params:a}=e;return{id:n.id,pathname:s,params:a,data:t[n.id],handle:n.handle}}function XS(e,t=[],n=[],s=""){let a=(o,l,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(Ht(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let h=aa([s,f.relativePath]),p=n.concat(f);o.children&&o.children.length>0&&(Ht(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),XS(o.children,t,p,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:EO(h,o.index),routesMeta:p})};return e.forEach((o,l)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,l);else for(let f of GS(o.path))a(o,l,f)}),t}function GS(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let l=GS(s.join("/")),d=[];return d.push(...l.map(f=>f===""?o:[o,f].join("/"))),a&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function bO(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:TO(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var vO=/^:[\w-]+$/,wO=3,_O=2,jO=1,SO=10,NO=-2,M_=e=>e==="*";function EO(e,t){let n=e.split("/"),s=n.length;return n.some(M_)&&(s+=NO),t&&(s+=_O),n.filter(a=>!M_(a)).reduce((a,o)=>a+(vO.test(o)?wO:o===""?jO:SO),s)}function TO(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function kO(e,t,n=!1){let{routesMeta:s}=e,a={},o="/",l=[];for(let d=0;d<s.length;++d){let f=s[d],h=d===s.length-1,p=o==="/"?t:t.slice(o.length)||"/",g=mh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),b=f.route;if(!g&&h&&n&&!s[s.length-1].route.index&&(g=mh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:aa([o,g.pathname]),pathnameBase:MO(aa([o,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(o=aa([o,g.pathnameBase]))}return l}function mh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=CO(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((h,{paramName:p,isOptional:g},b)=>{if(p==="*"){let w=d[b]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const y=d[b];return g&&!y?h[p]=void 0:h[p]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:e}}function CO(e,t=!1,n=!0){Gn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function AO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function jr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function OO({basename:e,pathname:t}){return t==="/"?e:aa([e,t])}function RO(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Mi(e):e;return{pathname:n?n.startsWith("/")?n:DO(n,t):t,search:PO(s),hash:LO(a)}}function DO(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function vg(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KS(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function dx(e){let t=KS(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function fx(e,t,n,s=!1){let a;typeof e=="string"?a=Mi(e):(a=L({},e),Ht(!a.pathname||!a.pathname.includes("?"),vg("?","pathname","search",a)),Ht(!a.pathname||!a.pathname.includes("#"),vg("#","pathname","hash",a)),Ht(!a.search||!a.search.includes("#"),vg("#","search","hash",a)));let o=e===""||a.pathname==="",l=o?"/":a.pathname,d;if(l==null)d=n;else{let g=t.length-1;if(!s&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),g-=1;a.pathname=b.join("/")}d=g>=0?t[g]:"/"}let f=RO(a,d),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var aa=e=>e.join("/").replace(/\/\/+/g,"/"),MO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),PO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,LO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,ph=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function zu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var QS=["POST","PUT","PATCH","DELETE"],zO=new Set(QS),BO=["GET",...QS],UO=new Set(BO),FO=new Set([301,302,303,307,308]),HO=new Set([307,308]),wg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},VO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},au={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},$O=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hx=e=>$O.test(e),qO=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),ZS="remix-router-transitions",JS=Symbol("ResetLoaderData");function IO(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,n=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined";Ht(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=e.hydrationRouteProperties||[],a=e.mapRouteProperties||qO,o={},l=Lu(e.routes,a,void 0,o),d,f=e.basename||"/",h=e.dataStrategy||KO,p=L({unstable_middleware:!1},e.future),g=null,b=new Set,y=null,w=null,_=null,j=e.hydrationData!=null,S=wi(l,e.history.location,f),O=!1,k=null,C;if(S==null&&!e.patchRoutesOnNavigation){let K=yr(404,{pathname:e.history.location.pathname}),{matches:se,route:fe}=Y_(l);C=!0,S=se,k={[fe.id]:K}}else if(S&&!e.hydrationData&&We(S,l,e.history.location.pathname).active&&(S=null),S)if(S.some(K=>K.route.lazy))C=!1;else if(!S.some(K=>K.route.loader))C=!0;else{let K=e.hydrationData?e.hydrationData.loaderData:null,se=e.hydrationData?e.hydrationData.errors:null;if(se){let fe=S.findIndex(_e=>se[_e.route.id]!==void 0);C=S.slice(0,fe+1).every(_e=>!v0(_e.route,K,se))}else C=S.every(fe=>!v0(fe.route,K,se))}else{C=!1,S=[];let K=We(null,l,e.history.location.pathname);K.active&&K.matches&&(O=!0,S=K.matches)}let A,M={historyAction:e.history.action,location:e.history.location,matches:S,initialized:C,navigation:wg,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||k,fetchers:new Map,blockers:new Map},V="POP",D=!1,H,ee=!1,q=new Map,X=null,ae=!1,J=!1,Y=new Set,z=new Map,Q=0,Z=-1,le=new Map,U=new Set,re=new Map,we=new Map,I=new Set,ce=new Map,je,be=null;function Te(){if(g=e.history.listen(({action:K,location:se,delta:fe})=>{if(je){je(),je=void 0;return}Gn(ce.size===0||fe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=us({currentLocation:M.location,nextLocation:se,historyAction:K});if(_e&&fe!=null){let Ae=new Promise(Fe=>{je=Fe});e.history.go(fe*-1),Hn(_e,{state:"blocked",location:se,proceed(){Hn(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),Ae.then(()=>e.history.go(fe))},reset(){let Fe=new Map(M.blockers);Fe.set(_e,au),He({blockers:Fe})}});return}return Pe(K,se)}),n){oR(t,q);let K=()=>lR(t,q);t.addEventListener("pagehide",K),X=()=>t.removeEventListener("pagehide",K)}return M.initialized||Pe("POP",M.location,{initialHydration:!0}),A}function Oe(){g&&g(),X&&X(),b.clear(),H&&H.abort(),M.fetchers.forEach((K,se)=>gt(se)),M.blockers.forEach((K,se)=>rs(se))}function Ke(K){return b.add(K),()=>b.delete(K)}function He(K,se={}){K.matches&&(K.matches=K.matches.map(Ae=>{let Fe=o[Ae.route.id],Qe=Ae.route;return Qe.element!==Fe.element||Qe.errorElement!==Fe.errorElement||Qe.hydrateFallbackElement!==Fe.hydrateFallbackElement?he(L({},Ae),{route:Fe}):Ae})),M=L(L({},M),K);let fe=[],_e=[];M.fetchers.forEach((Ae,Fe)=>{Ae.state==="idle"&&(I.has(Fe)?fe.push(Fe):_e.push(Fe))}),I.forEach(Ae=>{!M.fetchers.has(Ae)&&!z.has(Ae)&&fe.push(Ae)}),[...b].forEach(Ae=>Ae(M,{deletedFetchers:fe,viewTransitionOpts:se.viewTransitionOpts,flushSync:se.flushSync===!0})),fe.forEach(Ae=>gt(Ae)),_e.forEach(Ae=>M.fetchers.delete(Ae))}function wt(K,se,{flushSync:fe}={}){var rt,yt;let _e=M.actionData!=null&&M.navigation.formMethod!=null&&Hs(M.navigation.formMethod)&&M.navigation.state==="loading"&&((rt=K.state)==null?void 0:rt._isRedirect)!==!0,Ae;se.actionData?Object.keys(se.actionData).length>0?Ae=se.actionData:Ae=null:_e?Ae=M.actionData:Ae=null;let Fe=se.loaderData?q_(M.loaderData,se.loaderData,se.matches||[],se.errors):M.loaderData,Qe=M.blockers;Qe.size>0&&(Qe=new Map(Qe),Qe.forEach((Tt,dn)=>Qe.set(dn,au)));let tt=ae?!1:Jt(K,se.matches||M.matches),ct=D===!0||M.navigation.formMethod!=null&&Hs(M.navigation.formMethod)&&((yt=K.state)==null?void 0:yt._isRedirect)!==!0;d&&(l=d,d=void 0),ae||V==="POP"||(V==="PUSH"?e.history.push(K,K.state):V==="REPLACE"&&e.history.replace(K,K.state));let At;if(V==="POP"){let Tt=q.get(M.location.pathname);Tt&&Tt.has(K.pathname)?At={currentLocation:M.location,nextLocation:K}:q.has(K.pathname)&&(At={currentLocation:K,nextLocation:M.location})}else if(ee){let Tt=q.get(M.location.pathname);Tt?Tt.add(K.pathname):(Tt=new Set([K.pathname]),q.set(M.location.pathname,Tt)),At={currentLocation:M.location,nextLocation:K}}He(he(L({},se),{actionData:Ae,loaderData:Fe,historyAction:V,location:K,initialized:!0,navigation:wg,revalidation:"idle",restoreScrollPosition:tt,preventScrollReset:ct,blockers:Qe}),{viewTransitionOpts:At,flushSync:fe===!0}),V="POP",D=!1,ee=!1,ae=!1,J=!1,be==null||be.resolve(),be=null}function st(K,se){return xe(this,null,function*(){if(typeof K=="number"){e.history.go(K);return}let fe=b0(M.location,M.matches,f,K,se==null?void 0:se.fromRouteId,se==null?void 0:se.relative),{path:_e,submission:Ae,error:Fe}=P_(!1,fe,se),Qe=M.location,tt=Pu(M.location,_e,se&&se.state);tt=L(L({},tt),e.history.encodeLocation(tt));let ct=se&&se.replace!=null?se.replace:void 0,At="PUSH";ct===!0?At="REPLACE":ct===!1||Ae!=null&&Hs(Ae.formMethod)&&Ae.formAction===M.location.pathname+M.location.search&&(At="REPLACE");let rt=se&&"preventScrollReset"in se?se.preventScrollReset===!0:void 0,yt=(se&&se.flushSync)===!0,Tt=us({currentLocation:Qe,nextLocation:tt,historyAction:At});if(Tt){Hn(Tt,{state:"blocked",location:tt,proceed(){Hn(Tt,{state:"proceeding",proceed:void 0,reset:void 0,location:tt}),st(K,se)},reset(){let dn=new Map(M.blockers);dn.set(Tt,au),He({blockers:dn})}});return}yield Pe(At,tt,{submission:Ae,pendingError:Fe,preventScrollReset:rt,replace:se&&se.replace,enableViewTransition:se&&se.viewTransition,flushSync:yt})})}function bt(){be||(be=cR()),Re(),He({revalidation:"loading"});let K=be.promise;return M.navigation.state==="submitting"?K:M.navigation.state==="idle"?(Pe(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),K):(Pe(V||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:ee===!0}),K)}function Pe(K,se,fe){return xe(this,null,function*(){H&&H.abort(),H=null,V=K,ae=(fe&&fe.startUninterruptedRevalidation)===!0,jt(M.location,M.matches),D=(fe&&fe.preventScrollReset)===!0,ee=(fe&&fe.enableViewTransition)===!0;let _e=d||l,Ae=fe&&fe.overrideNavigation,Fe=fe!=null&&fe.initialHydration&&M.matches&&M.matches.length>0&&!O?M.matches:wi(_e,se,f),Qe=(fe&&fe.flushSync)===!0;if(Fe&&M.initialized&&!J&&nR(M.location,se)&&!(fe&&fe.submission&&Hs(fe.submission.formMethod))){wt(se,{matches:Fe},{flushSync:Qe});return}let tt=We(Fe,_e,se.pathname);if(tt.active&&tt.matches&&(Fe=tt.matches),!Fe){let{error:an,notFoundMatches:at,route:St}=Ye(se.pathname);wt(se,{matches:at,loaderData:{},errors:{[St.id]:an}},{flushSync:Qe});return}H=new AbortController;let ct=Rl(e.history,se,H.signal,fe&&fe.submission),At=new D_(e.unstable_getContext?yield e.unstable_getContext():void 0),rt;if(fe&&fe.pendingError)rt=[go(Fe).route.id,{type:"error",error:fe.pendingError}];else if(fe&&fe.submission&&Hs(fe.submission.formMethod)){let an=yield pt(ct,se,fe.submission,Fe,At,tt.active,fe&&fe.initialHydration===!0,{replace:fe.replace,flushSync:Qe});if(an.shortCircuited)return;if(an.pendingActionResult){let[at,St]=an.pendingActionResult;if(Js(St)&&zu(St.error)&&St.error.status===404){H=null,wt(se,{matches:an.matches,loaderData:{},errors:{[at]:St.error}});return}}Fe=an.matches||Fe,rt=an.pendingActionResult,Ae=_g(se,fe.submission),Qe=!1,tt.active=!1,ct=Rl(e.history,ct.url,ct.signal)}let{shortCircuited:yt,matches:Tt,loaderData:dn,errors:Cn}=yield Vt(ct,se,Fe,At,tt.active,Ae,fe&&fe.submission,fe&&fe.fetcherSubmission,fe&&fe.replace,fe&&fe.initialHydration===!0,Qe,rt);yt||(H=null,wt(se,he(L({matches:Tt||Fe},I_(rt)),{loaderData:dn,errors:Cn})))})}function pt(ct,At,rt,yt,Tt,dn,Cn){return xe(this,arguments,function*(K,se,fe,_e,Ae,Fe,Qe,tt={}){Re();let an=aR(se,fe);if(He({navigation:an},{flushSync:tt.flushSync===!0}),Fe){let Xt=yield vt(_e,se.pathname,K.signal);if(Xt.type==="aborted")return{shortCircuited:!0};if(Xt.type==="error"){let vn=go(Xt.partialMatches).route.id;return{matches:Xt.partialMatches,pendingActionResult:[vn,{type:"error",error:Xt.error}]}}else if(Xt.matches)_e=Xt.matches;else{let{notFoundMatches:vn,error:An,route:Kn}=Ye(se.pathname);return{matches:vn,pendingActionResult:[Kn.id,{type:"error",error:An}]}}}let at,St=eh(_e,se);if(!St.route.action&&!St.route.lazy)at={type:"error",error:yr(405,{method:K.method,pathname:se.pathname,routeId:St.route.id})};else{let Xt=Ll(a,o,K,_e,St,Qe?[]:s,Ae),vn=yield Se(K,Xt,Ae,null);if(at=vn[St.route.id],!at){for(let An of _e)if(vn[An.route.id]){at=vn[An.route.id];break}}if(K.signal.aborted)return{shortCircuited:!0}}if(wo(at)){let Xt;return tt&&tt.replace!=null?Xt=tt.replace:Xt=H_(at.response.headers.get("Location"),new URL(K.url),f)===M.location.pathname+M.location.search,yield $(K,at,!0,{submission:fe,replace:Xt}),{shortCircuited:!0}}if(Js(at)){let Xt=go(_e,St.route.id);return(tt&&tt.replace)!==!0&&(V="PUSH"),{matches:_e,pendingActionResult:[Xt.route.id,at,St.route.id]}}return{matches:_e,pendingActionResult:[St.route.id,at]}})}function Vt(K,se,fe,_e,Ae,Fe,Qe,tt,ct,At,rt,yt){return xe(this,null,function*(){let Tt=Fe||_g(se,Qe),dn=Qe||tt||X_(Tt),Cn=!ae&&!At;if(Ae){if(Cn){let On=_t(yt);He(L({navigation:Tt},On!==void 0?{actionData:On}:{}),{flushSync:rt})}let Rt=yield vt(fe,se.pathname,K.signal);if(Rt.type==="aborted")return{shortCircuited:!0};if(Rt.type==="error"){let On=go(Rt.partialMatches).route.id;return{matches:Rt.partialMatches,loaderData:{},errors:{[On]:Rt.error}}}else if(Rt.matches)fe=Rt.matches;else{let{error:On,notFoundMatches:ha,route:ds}=Ye(se.pathname);return{matches:ha,loaderData:{},errors:{[ds.id]:On}}}}let an=d||l,{dsMatches:at,revalidatingFetchers:St}=L_(K,_e,a,o,e.history,M,fe,dn,se,At?[]:s,At===!0,J,Y,I,re,U,an,f,e.patchRoutesOnNavigation!=null,yt);if(Z=++Q,!e.dataStrategy&&!at.some(Rt=>Rt.shouldLoad)&&St.length===0){let Rt=Ue();return wt(se,L(L({matches:fe,loaderData:{},errors:yt&&Js(yt[1])?{[yt[0]]:yt[1].error}:null},I_(yt)),Rt?{fetchers:new Map(M.fetchers)}:{}),{flushSync:rt}),{shortCircuited:!0}}if(Cn){let Rt={};if(!Ae){Rt.navigation=Tt;let On=_t(yt);On!==void 0&&(Rt.actionData=On)}St.length>0&&(Rt.fetchers=$t(St)),He(Rt,{flushSync:rt})}St.forEach(Rt=>{lt(Rt.key),Rt.controller&&z.set(Rt.key,Rt.controller)});let Xt=()=>St.forEach(Rt=>lt(Rt.key));H&&H.signal.addEventListener("abort",Xt);let{loaderResults:vn,fetcherResults:An}=yield De(at,St,K,_e);if(K.signal.aborted)return{shortCircuited:!0};H&&H.signal.removeEventListener("abort",Xt),St.forEach(Rt=>z.delete(Rt.key));let Kn=bf(vn);if(Kn)return yield $(K,Kn.result,!0,{replace:ct}),{shortCircuited:!0};if(Kn=bf(An),Kn)return U.add(Kn.key),yield $(K,Kn.result,!0,{replace:ct}),{shortCircuited:!0};let{loaderData:as,errors:ir}=$_(M,fe,vn,yt,St,An);At&&M.errors&&(ir=L(L({},M.errors),ir));let or=Ue(),xs=Dt(Z),lr=or||xs||St.length>0;return L({matches:fe,loaderData:as,errors:ir},lr?{fetchers:new Map(M.fetchers)}:{})})}function _t(K){if(K&&!Js(K[1]))return{[K[0]]:K[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function $t(K){return K.forEach(se=>{let fe=M.fetchers.get(se.key),_e=iu(void 0,fe?fe.data:void 0);M.fetchers.set(se.key,_e)}),new Map(M.fetchers)}function Ct(K,se,fe,_e){return xe(this,null,function*(){lt(K);let Ae=(_e&&_e.flushSync)===!0,Fe=d||l,Qe=b0(M.location,M.matches,f,fe,se,_e==null?void 0:_e.relative),tt=wi(Fe,Qe,f),ct=We(tt,Fe,Qe);if(ct.active&&ct.matches&&(tt=ct.matches),!tt){qe(K,se,yr(404,{pathname:Qe}),{flushSync:Ae});return}let{path:At,submission:rt,error:yt}=P_(!0,Qe,_e);if(yt){qe(K,se,yt,{flushSync:Ae});return}let Tt=new D_(e.unstable_getContext?yield e.unstable_getContext():void 0),dn=(_e&&_e.preventScrollReset)===!0;if(rt&&Hs(rt.formMethod)){yield W(K,se,At,tt,Tt,ct.active,Ae,dn,rt);return}re.set(K,{routeId:se,path:At}),yield ue(K,se,At,tt,Tt,ct.active,Ae,dn,rt)})}function W(K,se,fe,_e,Ae,Fe,Qe,tt,ct){return xe(this,null,function*(){Re(),re.delete(K);let At=M.fetchers.get(K);Be(K,iR(ct,At),{flushSync:Qe});let rt=new AbortController,yt=Rl(e.history,fe,rt.signal,ct);if(Fe){let pn=yield vt(_e,new URL(yt.url).pathname,yt.signal,K);if(pn.type==="aborted")return;if(pn.type==="error"){qe(K,se,pn.error,{flushSync:Qe});return}else if(pn.matches)_e=pn.matches;else{qe(K,se,yr(404,{pathname:fe}),{flushSync:Qe});return}}let Tt=eh(_e,fe);if(!Tt.route.action&&!Tt.route.lazy){let pn=yr(405,{method:ct.formMethod,pathname:fe,routeId:se});qe(K,se,pn,{flushSync:Qe});return}z.set(K,rt);let dn=Q,Cn=Ll(a,o,yt,_e,Tt,s,Ae),at=(yield Se(yt,Cn,Ae,K))[Tt.route.id];if(yt.signal.aborted){z.get(K)===rt&&z.delete(K);return}if(I.has(K)){if(wo(at)||Js(at)){Be(K,bi(void 0));return}}else{if(wo(at))if(z.delete(K),Z>dn){Be(K,bi(void 0));return}else return U.add(K),Be(K,iu(ct)),$(yt,at,!1,{fetcherSubmission:ct,preventScrollReset:tt});if(Js(at)){qe(K,se,at.error);return}}let St=M.navigation.location||M.location,Xt=Rl(e.history,St,rt.signal),vn=d||l,An=M.navigation.state!=="idle"?wi(vn,M.navigation.location,f):M.matches;Ht(An,"Didn't find any matches after fetcher action");let Kn=++Q;le.set(K,Kn);let as=iu(ct,at.data);M.fetchers.set(K,as);let{dsMatches:ir,revalidatingFetchers:or}=L_(Xt,Ae,a,o,e.history,M,An,ct,St,s,!1,J,Y,I,re,U,vn,f,e.patchRoutesOnNavigation!=null,[Tt.route.id,at]);or.filter(pn=>pn.key!==K).forEach(pn=>{let Er=pn.key,zo=M.fetchers.get(Er),Bo=iu(void 0,zo?zo.data:void 0);M.fetchers.set(Er,Bo),lt(Er),pn.controller&&z.set(Er,pn.controller)}),He({fetchers:new Map(M.fetchers)});let xs=()=>or.forEach(pn=>lt(pn.key));rt.signal.addEventListener("abort",xs);let{loaderResults:lr,fetcherResults:Rt}=yield De(ir,or,Xt,Ae);if(rt.signal.aborted)return;if(rt.signal.removeEventListener("abort",xs),le.delete(K),z.delete(K),or.forEach(pn=>z.delete(pn.key)),M.fetchers.has(K)){let pn=bi(at.data);M.fetchers.set(K,pn)}let On=bf(lr);if(On)return $(Xt,On.result,!1,{preventScrollReset:tt});if(On=bf(Rt),On)return U.add(On.key),$(Xt,On.result,!1,{preventScrollReset:tt});let{loaderData:ha,errors:ds}=$_(M,An,lr,void 0,or,Rt);Dt(Kn),M.navigation.state==="loading"&&Kn>Z?(Ht(V,"Expected pending action"),H&&H.abort(),wt(M.navigation.location,{matches:An,loaderData:ha,errors:ds,fetchers:new Map(M.fetchers)})):(He({errors:ds,loaderData:q_(M.loaderData,ha,An,ds),fetchers:new Map(M.fetchers)}),J=!1)})}function ue(K,se,fe,_e,Ae,Fe,Qe,tt,ct){return xe(this,null,function*(){let At=M.fetchers.get(K);Be(K,iu(ct,At?At.data:void 0),{flushSync:Qe});let rt=new AbortController,yt=Rl(e.history,fe,rt.signal);if(Fe){let St=yield vt(_e,new URL(yt.url).pathname,yt.signal,K);if(St.type==="aborted")return;if(St.type==="error"){qe(K,se,St.error,{flushSync:Qe});return}else if(St.matches)_e=St.matches;else{qe(K,se,yr(404,{pathname:fe}),{flushSync:Qe});return}}let Tt=eh(_e,fe);z.set(K,rt);let dn=Q,Cn=Ll(a,o,yt,_e,Tt,s,Ae),at=(yield Se(yt,Cn,Ae,K))[Tt.route.id];if(z.get(K)===rt&&z.delete(K),!yt.signal.aborted){if(I.has(K)){Be(K,bi(void 0));return}if(wo(at))if(Z>dn){Be(K,bi(void 0));return}else{U.add(K),yield $(yt,at,!1,{preventScrollReset:tt});return}if(Js(at)){qe(K,se,at.error);return}Be(K,bi(at.data))}})}function $(tt,ct,At){return xe(this,arguments,function*(K,se,fe,{submission:_e,fetcherSubmission:Ae,preventScrollReset:Fe,replace:Qe}={}){se.response.headers.has("X-Remix-Revalidate")&&(J=!0);let rt=se.response.headers.get("Location");Ht(rt,"Expected a Location header on the redirect Response"),rt=H_(rt,new URL(K.url),f);let yt=Pu(M.location,rt,{_isRedirect:!0});if(n){let St=!1;if(se.response.headers.has("X-Remix-Reload-Document"))St=!0;else if(hx(rt)){const Xt=WS(rt,!0);St=Xt.origin!==t.location.origin||jr(Xt.pathname,f)==null}if(St){Qe?t.location.replace(rt):t.location.assign(rt);return}}H=null;let Tt=Qe===!0||se.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:dn,formAction:Cn,formEncType:an}=M.navigation;!_e&&!Ae&&dn&&Cn&&an&&(_e=X_(M.navigation));let at=_e||Ae;if(HO.has(se.response.status)&&at&&Hs(at.formMethod))yield Pe(Tt,yt,{submission:he(L({},at),{formAction:rt}),preventScrollReset:Fe||D,enableViewTransition:fe?ee:void 0});else{let St=_g(yt,_e);yield Pe(Tt,yt,{overrideNavigation:St,fetcherSubmission:Ae,preventScrollReset:Fe||D,enableViewTransition:fe?ee:void 0})}})}function Se(K,se,fe,_e){return xe(this,null,function*(){let Ae,Fe={};try{Ae=yield QO(h,K,se,_e,fe,!1)}catch(Qe){return se.filter(tt=>tt.shouldLoad).forEach(tt=>{Fe[tt.route.id]={type:"error",error:Qe}}),Fe}if(K.signal.aborted)return Fe;for(let[Qe,tt]of Object.entries(Ae))if(sR(tt)){let ct=tt.result;Fe[Qe]={type:"redirect",response:eR(ct,K,Qe,se,f)}}else Fe[Qe]=yield JO(tt);return Fe})}function De(K,se,fe,_e){return xe(this,null,function*(){let Ae=Se(fe,K,_e,null),Fe=Promise.all(se.map(ct=>xe(null,null,function*(){if(ct.matches&&ct.match&&ct.request&&ct.controller){let rt=(yield Se(ct.request,ct.matches,_e,ct.key))[ct.match.route.id];return{[ct.key]:rt}}else return Promise.resolve({[ct.key]:{type:"error",error:yr(404,{pathname:ct.path})}})}))),Qe=yield Ae,tt=(yield Fe).reduce((ct,At)=>Object.assign(ct,At),{});return{loaderResults:Qe,fetcherResults:tt}})}function Re(){J=!0,re.forEach((K,se)=>{z.has(se)&&Y.add(se),lt(se)})}function Be(K,se,fe={}){M.fetchers.set(K,se),He({fetchers:new Map(M.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function qe(K,se,fe,_e={}){let Ae=go(M.matches,se);gt(K),He({errors:{[Ae.route.id]:fe},fetchers:new Map(M.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function Xe(K){return we.set(K,(we.get(K)||0)+1),I.has(K)&&I.delete(K),M.fetchers.get(K)||VO}function gt(K){let se=M.fetchers.get(K);z.has(K)&&!(se&&se.state==="loading"&&le.has(K))&&lt(K),re.delete(K),le.delete(K),U.delete(K),I.delete(K),Y.delete(K),M.fetchers.delete(K)}function yn(K){let se=(we.get(K)||0)-1;se<=0?(we.delete(K),I.add(K)):we.set(K,se),He({fetchers:new Map(M.fetchers)})}function lt(K){let se=z.get(K);se&&(se.abort(),z.delete(K))}function ke(K){for(let se of K){let fe=Xe(se),_e=bi(fe.data);M.fetchers.set(se,_e)}}function Ue(){let K=[],se=!1;for(let fe of U){let _e=M.fetchers.get(fe);Ht(_e,`Expected fetcher: ${fe}`),_e.state==="loading"&&(U.delete(fe),K.push(fe),se=!0)}return ke(K),se}function Dt(K){let se=[];for(let[fe,_e]of le)if(_e<K){let Ae=M.fetchers.get(fe);Ht(Ae,`Expected fetcher: ${fe}`),Ae.state==="loading"&&(lt(fe),le.delete(fe),se.push(fe))}return ke(se),se.length>0}function Sn(K,se){let fe=M.blockers.get(K)||au;return ce.get(K)!==se&&ce.set(K,se),fe}function rs(K){M.blockers.delete(K),ce.delete(K)}function Hn(K,se){let fe=M.blockers.get(K)||au;Ht(fe.state==="unblocked"&&se.state==="blocked"||fe.state==="blocked"&&se.state==="blocked"||fe.state==="blocked"&&se.state==="proceeding"||fe.state==="blocked"&&se.state==="unblocked"||fe.state==="proceeding"&&se.state==="unblocked",`Invalid blocker state transition: ${fe.state} -> ${se.state}`);let _e=new Map(M.blockers);_e.set(K,se),He({blockers:_e})}function us({currentLocation:K,nextLocation:se,historyAction:fe}){if(ce.size===0)return;ce.size>1&&Gn(!1,"A router only supports one blocker at a time");let _e=Array.from(ce.entries()),[Ae,Fe]=_e[_e.length-1],Qe=M.blockers.get(Ae);if(!(Qe&&Qe.state==="proceeding")&&Fe({currentLocation:K,nextLocation:se,historyAction:fe}))return Ae}function Ye(K){let se=yr(404,{pathname:K}),fe=d||l,{matches:_e,route:Ae}=Y_(fe);return{notFoundMatches:_e,route:Ae,error:se}}function Mt(K,se,fe){if(y=K,_=se,w=fe||null,!j&&M.navigation===wg){j=!0;let _e=Jt(M.location,M.matches);_e!=null&&He({restoreScrollPosition:_e})}return()=>{y=null,_=null,w=null}}function Bt(K,se){return w&&w(K,se.map(_e=>yO(_e,M.loaderData)))||K.key}function jt(K,se){if(y&&_){let fe=Bt(K,se);y[fe]=_()}}function Jt(K,se){if(y){let fe=Bt(K,se),_e=y[fe];if(typeof _e=="number")return _e}return null}function We(K,se,fe){if(e.patchRoutesOnNavigation)if(K){if(Object.keys(K[0].params).length>0)return{active:!0,matches:Jf(se,fe,f,!0)}}else return{active:!0,matches:Jf(se,fe,f,!0)||[]};return{active:!1,matches:null}}function vt(K,se,fe,_e){return xe(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:K};let Ae=K;for(;;){let Fe=d==null,Qe=d||l,tt=o;try{yield e.patchRoutesOnNavigation({signal:fe,path:se,matches:Ae,fetcherKey:_e,patch:(rt,yt)=>{fe.aborted||z_(rt,yt,Qe,tt,a,!1)}})}catch(rt){return{type:"error",error:rt,partialMatches:Ae}}finally{Fe&&!fe.aborted&&(l=[...l])}if(fe.aborted)return{type:"aborted"};let ct=wi(Qe,se,f);if(ct)return{type:"success",matches:ct};let At=Jf(Qe,se,f,!0);if(!At||Ae.length===At.length&&Ae.every((rt,yt)=>rt.route.id===At[yt].route.id))return{type:"success",matches:null};Ae=At}})}function qt(K){o={},d=Lu(K,a,void 0,o)}function Wt(K,se,fe=!1){let _e=d==null;z_(K,se,d||l,o,a,fe),_e&&(l=[...l],He({}))}return A={get basename(){return f},get future(){return p},get state(){return M},get routes(){return l},get window(){return t},initialize:Te,subscribe:Ke,enableScrollRestoration:Mt,navigate:st,fetch:Ct,revalidate:bt,createHref:K=>e.history.createHref(K),encodeLocation:K=>e.history.encodeLocation(K),getFetcher:Xe,deleteFetcher:yn,dispose:Oe,getBlocker:Sn,deleteBlocker:rs,patchRoutes:Wt,_internalFetchControllers:z,_internalSetRoutes:qt,_internalSetStateDoNotUseOrYouWillBreakYourApp(K){He(K)}},A}function YO(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function b0(e,t,n,s,a,o){let l,d;if(a){l=[];for(let h of t)if(l.push(h),h.route.id===a){d=h;break}}else l=t,d=t[t.length-1];let f=fx(s||".",dx(l),jr(e.pathname,n)||e.pathname,o==="path");if(s==null&&(f.search=e.search,f.hash=e.hash),(s==null||s===""||s===".")&&d){let h=mx(f.search);if(d.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&h){let p=new URLSearchParams(f.search),g=p.getAll("index");p.delete("index"),g.filter(y=>y).forEach(y=>p.append("index",y));let b=p.toString();f.search=b?`?${b}`:""}}return n!=="/"&&(f.pathname=OO({basename:n,pathname:f.pathname})),ki(f)}function P_(e,t,n){if(!n||!YO(n))return{path:t};if(n.formMethod&&!rR(n.formMethod))return{path:t,error:yr(405,{method:n.formMethod})};let s=()=>({path:t,error:yr(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),l=a2(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Hs(o))return s();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((b,[y,w])=>`${b}${y}=${w}
`,""):String(n.body);return{path:t,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!Hs(o))return s();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch(g){return s()}}}Ht(typeof FormData=="function","FormData is not available in this environment");let d,f;if(n.formData)d=_0(n.formData),f=n.formData;else if(n.body instanceof FormData)d=_0(n.body),f=n.body;else if(n.body instanceof URLSearchParams)d=n.body,f=V_(d);else if(n.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(n.body),f=V_(d)}catch(g){return s()}let h={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Hs(h.formMethod))return{path:t,submission:h};let p=Mi(t);return e&&p.search&&mx(p.search)&&d.append("index",""),p.search=`?${d}`,{path:ki(p),submission:h}}function L_(e,t,n,s,a,o,l,d,f,h,p,g,b,y,w,_,j,S,O,k){var ae;let C=k?Js(k[1])?k[1].error:k[1].data:void 0,A=a.createURL(o.location),M=a.createURL(f),V;if(p&&o.errors){let J=Object.keys(o.errors)[0];V=l.findIndex(Y=>Y.route.id===J)}else if(k&&Js(k[1])){let J=k[0];V=l.findIndex(Y=>Y.route.id===J)-1}let D=k?k[1].statusCode:void 0,H=D&&D>=400,ee=he(L({currentUrl:A,currentParams:((ae=o.matches[0])==null?void 0:ae.params)||{},nextUrl:M,nextParams:l[0].params},d),{actionResult:C,actionStatus:D}),q=l.map((J,Y)=>{let{route:z}=J,Q=null;if(V!=null&&Y>V?Q=!1:z.lazy?Q=!0:z.loader==null?Q=!1:p?Q=v0(z,o.loaderData,o.errors):WO(o.loaderData,o.matches[Y],J)&&(Q=!0),Q!==null)return w0(n,s,e,J,h,t,Q);let Z=H?!1:g||A.pathname+A.search===M.pathname+M.search||A.search!==M.search||XO(o.matches[Y],J),le=he(L({},ee),{defaultShouldRevalidate:Z}),U=gh(J,le);return w0(n,s,e,J,h,t,U,le)}),X=[];return w.forEach((J,Y)=>{if(p||!l.some(I=>I.route.id===J.routeId)||y.has(Y))return;let z=o.fetchers.get(Y),Q=z&&z.state!=="idle"&&z.data===void 0,Z=wi(j,J.path,S);if(!Z){if(O&&Q)return;X.push({key:Y,routeId:J.routeId,path:J.path,matches:null,match:null,request:null,controller:null});return}if(_.has(Y))return;let le=eh(Z,J.path),U=new AbortController,re=Rl(a,J.path,U.signal),we=null;if(b.has(Y))b.delete(Y),we=Ll(n,s,re,Z,le,h,t);else if(Q)g&&(we=Ll(n,s,re,Z,le,h,t));else{let I=he(L({},ee),{defaultShouldRevalidate:H?!1:g});gh(le,I)&&(we=Ll(n,s,re,Z,le,h,t,I))}we&&X.push({key:Y,routeId:J.routeId,path:J.path,matches:we,match:le,request:re,controller:U})}),{dsMatches:q,revalidatingFetchers:X}}function v0(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let s=t!=null&&e.id in t,a=n!=null&&n[e.id]!==void 0;return!s&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!a}function WO(e,t,n){let s=!t||n.route.id!==t.route.id,a=!e.hasOwnProperty(n.route.id);return s||a}function XO(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function gh(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function z_(e,t,n,s,a,o){let l;if(e){let h=s[e];Ht(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),l=h.children}else l=n;let d=[],f=[];if(t.forEach(h=>{let p=l.find(g=>e2(h,g));p?f.push({existingRoute:p,newRoute:h}):d.push(h)}),d.length>0){let h=Lu(d,a,[e||"_","patch",String((l==null?void 0:l.length)||"0")],s);l.push(...h)}if(o&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:p,newRoute:g}=f[h],b=p,[y]=Lu([g],a,[],{},!0);Object.assign(b,{element:y.element?y.element:b.element,errorElement:y.errorElement?y.errorElement:b.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:b.hydrateFallbackElement})}}function e2(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,s)=>{var a;return(a=t.children)==null?void 0:a.some(o=>e2(n,o))}):!1}var B_=new WeakMap,t2=({key:e,route:t,manifest:n,mapRouteProperties:s})=>{let a=n[t.id];if(Ht(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[e];if(!o)return;let l=B_.get(a);l||(l={},B_.set(a,l));let d=l[e];if(d)return d;let f=xe(null,null,function*(){let h=mO(e),g=a[e]!==void 0&&e!=="hasErrorBoundary";if(h)Gn(!h,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),l[e]=Promise.resolve();else if(g)Gn(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let b=yield o();b!=null&&(Object.assign(a,{[e]:b}),Object.assign(a,s(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(b=>b===void 0)&&(a.lazy=void 0))});return l[e]=f,f},U_=new WeakMap;function GO(e,t,n,s,a){let o=n[e.id];if(Ht(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let p=U_.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let g=xe(null,null,function*(){Ht(typeof e.lazy=="function","No lazy route function found");let b=yield e.lazy(),y={};for(let w in b){let _=b[w];if(_===void 0)continue;let j=gO(w),O=o[w]!==void 0&&w!=="hasErrorBoundary";j?Gn(!j,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):O?Gn(!O,`Route "${o.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):y[w]=_}Object.assign(o,y),Object.assign(o,he(L({},s(o)),{lazy:void 0}))});return U_.set(o,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let l=Object.keys(e.lazy),d=[],f;for(let p of l){if(a&&a.includes(p))continue;let g=t2({key:p,route:e,manifest:n,mapRouteProperties:s});g&&(d.push(g),p===t&&(f=g))}let h=d.length>0?Promise.all(d).then(()=>{}):void 0;return h==null||h.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}function F_(e){return xe(this,null,function*(){let t=e.matches.filter(a=>a.shouldLoad),n={};return(yield Promise.all(t.map(a=>a.resolve()))).forEach((a,o)=>{n[t[o].route.id]=a}),n})}function KO(e){return xe(this,null,function*(){return e.matches.some(t=>t.route.unstable_middleware)?n2(e,!1,()=>F_(e),(t,n)=>({[n]:{type:"error",result:t}})):F_(e)})}function n2(e,t,n,s){return xe(this,null,function*(){let{matches:a,request:o,params:l,context:d}=e,f={handlerResult:void 0};try{let h=a.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(b=>[g.route.id,b]):[]),p=yield s2({request:o,params:l,context:d},h,t,f,n);return t?p:f.handlerResult}catch(h){if(!f.middlewareError)throw h;let p=yield s(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,p):p}})}function s2(e,t,n,s,a,o=0){return xe(this,null,function*(){let{request:l}=e;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let d=t[o];if(!d)return s.handlerResult=yield a(),s.handlerResult;let[f,h]=d,p=!1,g,b=()=>xe(null,null,function*(){if(p)throw new Error("You may only call `next()` once per middleware");p=!0,yield s2(e,t,n,s,a,o+1)});try{let y=yield h({request:e.request,params:e.params,context:e.context},b);return p?y===void 0?g:y:b()}catch(y){throw s.middlewareError?s.middlewareError.error!==y&&(s.middlewareError={routeId:f,error:y}):s.middlewareError={routeId:f,error:y},y}})}function r2(e,t,n,s,a){let o=t2({key:"unstable_middleware",route:s.route,manifest:t,mapRouteProperties:e}),l=GO(s.route,Hs(n.method)?"action":"loader",t,e,a);return{middleware:o,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function w0(e,t,n,s,a,o,l,d=null){let f=!1,h=r2(e,t,n,s,a);return he(L({},s),{_lazyPromises:h,shouldLoad:l,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(p){return f=!0,d?typeof p=="boolean"?gh(s,he(L({},d),{defaultShouldRevalidate:p})):gh(s,d):l},resolve(p){return f||l||p&&!Hs(n.method)&&(s.route.lazy||s.route.loader)?ZO({request:n,match:s,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:p,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}})}function Ll(e,t,n,s,a,o,l,d=null){return s.map(f=>f.route.id!==a.route.id?he(L({},f),{shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:r2(e,t,n,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}):w0(e,t,n,f,o,l,!0,d))}function QO(e,t,n,s,a,o){return xe(this,null,function*(){n.some(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})&&(yield Promise.all(n.map(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})));let l={request:t,params:n[0].params,context:a,matches:n},d=h=>{let p=l;return n2(p,!1,()=>h(he(L({},p),{fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(g,b)=>({[b]:{type:"error",result:g}}))},f=yield e(he(L({},l),{fetcherKey:s,unstable_runClientMiddleware:d}));try{yield Promise.all(n.flatMap(h=>{var p,g;return[(p=h._lazyPromises)==null?void 0:p.handler,(g=h._lazyPromises)==null?void 0:g.route]}))}catch(h){}return f})}function ZO(l){return xe(this,arguments,function*({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:a,scopedContext:o}){let d,f,h=Hs(e.method),p=h?"action":"loader",g=b=>{let y,w=new Promise((S,O)=>y=O);f=()=>y(),e.signal.addEventListener("abort",f);let _=S=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${t.route.id}]`)):b({request:e,params:t.params,context:o},...S!==void 0?[S]:[]),j=xe(null,null,function*(){try{return{type:"data",result:yield a?a(O=>_(O)):_()}}catch(S){return{type:"error",result:S}}});return Promise.race([j,w])};try{let b=h?t.route.action:t.route.loader;if(n||s)if(b){let y,[w]=yield Promise.all([g(b).catch(_=>{y=_}),n,s]);if(y!==void 0)throw y;d=w}else{yield n;let y=h?t.route.action:t.route.loader;if(y)[d]=yield Promise.all([g(y),s]);else if(p==="action"){let w=new URL(e.url),_=w.pathname+w.search;throw yr(405,{method:e.method,pathname:_,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(b)d=yield g(b);else{let y=new URL(e.url),w=y.pathname+y.search;throw yr(404,{pathname:w})}}catch(b){return{type:"error",result:b}}finally{f&&e.signal.removeEventListener("abort",f)}return d})}function JO(e){return xe(this,null,function*(){var s,a,o,l,d,f;let{result:t,type:n}=e;if(i2(t)){let h;try{let p=t.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?t.body==null?h=null:h=yield t.json():h=yield t.text()}catch(p){return{type:"error",error:p}}return n==="error"?{type:"error",error:new ph(t.status,t.statusText,h),statusCode:t.status,headers:t.headers}:{type:"data",data:h,statusCode:t.status,headers:t.headers}}return n==="error"?W_(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new ph(((o=t.init)==null?void 0:o.status)||500,void 0,t.data),statusCode:zu(t)?t.status:void 0,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:zu(t)?t.status:void 0}:W_(t)?{type:"data",data:t.data,statusCode:(d=t.init)==null?void 0:d.status,headers:(f=t.init)!=null&&f.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}})}function eR(e,t,n,s,a){let o=e.headers.get("Location");if(Ht(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!hx(o)){let l=s.slice(0,s.findIndex(d=>d.route.id===n)+1);o=b0(new URL(t.url),l,a,o),e.headers.set("Location",o)}return e}function H_(e,t,n){if(hx(e)){let s=e,a=s.startsWith("//")?new URL(t.protocol+s):new URL(s),o=jr(a.pathname,n)!=null;if(a.origin===t.origin&&o)return a.pathname+a.search+a.hash}return e}function Rl(e,t,n,s){let a=e.createURL(a2(t)).toString(),o={signal:n};if(s&&Hs(s.formMethod)){let{formMethod:l,formEncType:d}=s;o.method=l.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(s.json)):d==="text/plain"?o.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?o.body=_0(s.formData):o.body=s.formData}return new Request(a,o)}function _0(e){let t=new URLSearchParams;for(let[n,s]of e.entries())t.append(n,typeof s=="string"?s:s.name);return t}function V_(e){let t=new FormData;for(let[n,s]of e.entries())t.append(n,s);return t}function tR(e,t,n,s=!1,a=!1){let o={},l=null,d,f=!1,h={},p=n&&Js(n[1])?n[1].error:void 0;return e.forEach(g=>{if(!(g.route.id in t))return;let b=g.route.id,y=t[b];if(Ht(!wo(y),"Cannot handle redirect results in processLoaderData"),Js(y)){let w=y.error;if(p!==void 0&&(w=p,p=void 0),l=l||{},a)l[b]=w;else{let _=go(e,b);l[_.route.id]==null&&(l[_.route.id]=w)}s||(o[b]=JS),f||(f=!0,d=zu(y.error)?y.error.status:500),y.headers&&(h[b]=y.headers)}else o[b]=y.data,y.statusCode&&y.statusCode!==200&&!f&&(d=y.statusCode),y.headers&&(h[b]=y.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:l,statusCode:d||200,loaderHeaders:h}}function $_(e,t,n,s,a,o){let{loaderData:l,errors:d}=tR(t,n,s);return a.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:p,controller:g}=f,b=o[h];if(Ht(b,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(Js(b)){let y=go(e.matches,p==null?void 0:p.route.id);d&&d[y.route.id]||(d=he(L({},d),{[y.route.id]:b.error})),e.fetchers.delete(h)}else if(wo(b))Ht(!1,"Unhandled fetcher revalidation redirect");else{let y=bi(b.data);e.fetchers.set(h,y)}}),{loaderData:l,errors:d}}function q_(e,t,n,s){let a=Object.entries(t).filter(([,o])=>o!==JS).reduce((o,[l,d])=>(o[l]=d,o),{});for(let o of n){let l=o.route.id;if(!t.hasOwnProperty(l)&&e.hasOwnProperty(l)&&o.route.loader&&(a[l]=e[l]),s&&s.hasOwnProperty(l))break}return a}function I_(e){return e?Js(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function go(e,t){return(t?e.slice(0,e.findIndex(s=>s.route.id===t)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function Y_(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function yr(e,{pathname:t,routeId:n,method:s,type:a,message:o}={}){let l="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(l="Bad Request",s&&t&&n?d=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):e===403?(l="Forbidden",d=`Route "${n}" does not match URL "${t}"`):e===404?(l="Not Found",d=`No route matches URL "${t}"`):e===405&&(l="Method Not Allowed",s&&t&&n?d=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new ph(e||500,l,new Error(d),!0)}function bf(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[s,a]=t[n];if(wo(a))return{key:s,result:a}}}function a2(e){let t=typeof e=="string"?Mi(e):e;return ki(he(L({},t),{hash:""}))}function nR(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function sR(e){return i2(e.result)&&FO.has(e.result.status)}function Js(e){return e.type==="error"}function wo(e){return(e&&e.type)==="redirect"}function W_(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function i2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function rR(e){return UO.has(e.toUpperCase())}function Hs(e){return zO.has(e.toUpperCase())}function mx(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function eh(e,t){let n=typeof t=="string"?Mi(t).search:t.search;if(e[e.length-1].route.index&&mx(n||""))return e[e.length-1];let s=KS(e);return s[s.length-1]}function X_(e){let{formMethod:t,formAction:n,formEncType:s,text:a,formData:o,json:l}=e;if(!(!t||!n||!s)){if(a!=null)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:t,formAction:n,formEncType:s,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:l,text:void 0}}}function _g(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function aR(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function iu(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function iR(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function bi(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function oR(e,t){try{let n=e.sessionStorage.getItem(ZS);if(n){let s=JSON.parse(n);for(let[a,o]of Object.entries(s||{}))o&&Array.isArray(o)&&t.set(a,new Set(o||[]))}}catch(n){}}function lR(e,t){if(t.size>0){let n={};for(let[s,a]of t)n[s]=[...a];try{e.sessionStorage.setItem(ZS,JSON.stringify(n))}catch(s){Gn(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function cR(){let e,t,n=new Promise((s,a)=>{e=o=>xe(null,null,function*(){s(o);try{yield n}catch(l){}}),t=o=>xe(null,null,function*(){a(o);try{yield n}catch(l){}})});return{promise:n,resolve:e,reject:t}}var Po=N.createContext(null);Po.displayName="DataRouter";var Xu=N.createContext(null);Xu.displayName="DataRouterState";N.createContext(!1);var px=N.createContext({isTransitioning:!1});px.displayName="ViewTransition";var o2=N.createContext(new Map);o2.displayName="Fetchers";var uR=N.createContext(null);uR.displayName="Await";var ua=N.createContext(null);ua.displayName="Navigation";var Fh=N.createContext(null);Fh.displayName="Location";var da=N.createContext({outlet:null,matches:[],isDataRoute:!1});da.displayName="Route";var gx=N.createContext(null);gx.displayName="RouteError";function dR(e,{relative:t}={}){Ht(Gu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=N.useContext(ua),{hash:a,pathname:o,search:l}=Ku(e,{relative:t}),d=o;return n!=="/"&&(d=o==="/"?n:aa([n,o])),s.createHref({pathname:d,search:l,hash:a})}function Gu(){return N.useContext(Fh)!=null}function Pi(){return Ht(Gu(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Fh).location}var l2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function c2(e){N.useContext(ua).static||N.useLayoutEffect(e)}function fR(){let{isDataRoute:e}=N.useContext(da);return e?TR():hR()}function hR(){Ht(Gu(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Po),{basename:t,navigator:n}=N.useContext(ua),{matches:s}=N.useContext(da),{pathname:a}=Pi(),o=JSON.stringify(dx(s)),l=N.useRef(!1);return c2(()=>{l.current=!0}),N.useCallback((f,h={})=>{if(Gn(l.current,l2),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=fx(f,JSON.parse(o),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:aa([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,o,a,e])}var mR=N.createContext(null);function pR(e){let t=N.useContext(da).outlet;return t&&N.createElement(mR.Provider,{value:e},t)}function Ku(e,{relative:t}={}){let{matches:n}=N.useContext(da),{pathname:s}=Pi(),a=JSON.stringify(dx(n));return N.useMemo(()=>fx(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function gR(e,t,n,s){Ht(Gu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(ua),{matches:o}=N.useContext(da),l=o[o.length-1],d=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let S=p&&p.path||"";u2(f,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=Pi(),b;b=g;let y=b.pathname||"/",w=y;if(h!=="/"){let S=h.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=wi(e,{pathname:w});return Gn(p||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Gn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),wR(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},d,S.params),pathname:aa([h,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:aa([h,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,s)}function xR(){let e=ER(),t=zu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:o},"ErrorBoundary")," or"," ",N.createElement("code",{style:o},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:a},n):null,l)}var yR=N.createElement(xR,null),bR=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(da.Provider,{value:this.props.routeContext},N.createElement(gx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vR({routeContext:e,match:t,children:n}){let s=N.useContext(Po);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(da.Provider,{value:e},n)}function wR(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Ht(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,d=-1;if(n)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:p,errors:g}=n,b=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){l=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,h,p)=>{let g,b=!1,y=null,w=null;n&&(g=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||yR,l&&(d<0&&p===0?(u2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):d===p&&(b=!0,w=h.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,p+1)),j=()=>{let S;return g?S=y:b?S=w:h.route.Component?S=N.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=f,N.createElement(vR,{match:h,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?N.createElement(bR,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:j(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):j()},null)}function xx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _R(e){let t=N.useContext(Po);return Ht(t,xx(e)),t}function jR(e){let t=N.useContext(Xu);return Ht(t,xx(e)),t}function SR(e){let t=N.useContext(da);return Ht(t,xx(e)),t}function yx(e){let t=SR(e),n=t.matches[t.matches.length-1];return Ht(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function NR(){return yx("useRouteId")}function ER(){var s;let e=N.useContext(gx),t=jR("useRouteError"),n=yx("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function TR(){let{router:e}=_R("useNavigate"),t=yx("useNavigate"),n=N.useRef(!1);return c2(()=>{n.current=!0}),N.useCallback((l,...d)=>xe(null,[l,...d],function*(a,o={}){Gn(n.current,l2),n.current&&(typeof a=="number"?e.navigate(a):yield e.navigate(a,L({fromRouteId:t},o)))}),[e,t])}var G_={};function u2(e,t,n){!t&&!G_[e]&&(G_[e]=!0,Gn(!1,n))}var K_={};function Q_(e,t){!e&&!K_[t]&&(K_[t]=!0,console.warn(t))}function kR(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Gn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:N.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Gn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:N.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Gn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:N.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var CR=["HydrateFallback","hydrateFallbackElement"],AR=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function OR({router:e,flushSync:t}){let[n,s]=N.useState(e.state),[a,o]=N.useState(),[l,d]=N.useState({isTransitioning:!1}),[f,h]=N.useState(),[p,g]=N.useState(),[b,y]=N.useState(),w=N.useRef(new Map),_=N.useCallback((k,{deletedFetchers:C,flushSync:A,viewTransitionOpts:M})=>{k.fetchers.forEach((D,H)=>{D.data!==void 0&&w.current.set(H,D.data)}),C.forEach(D=>w.current.delete(D)),Q_(A===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let V=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Q_(M==null||V,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!M||!V){t&&A?t(()=>s(k)):N.startTransition(()=>s(k));return}if(t&&A){t(()=>{p&&(f&&f.resolve(),p.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let D=e.window.document.startViewTransition(()=>{t(()=>s(k))});D.finished.finally(()=>{t(()=>{h(void 0),g(void 0),o(void 0),d({isTransitioning:!1})})}),t(()=>g(D));return}p?(f&&f.resolve(),p.skipTransition(),y({state:k,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(o(k),d({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[e.window,t,p,f]);N.useLayoutEffect(()=>e.subscribe(_),[e,_]),N.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new AR)},[l]),N.useEffect(()=>{if(f&&a&&e.window){let k=a,C=f.promise,A=e.window.document.startViewTransition(()=>xe(null,null,function*(){N.startTransition(()=>s(k)),yield C}));A.finished.finally(()=>{h(void 0),g(void 0),o(void 0),d({isTransitioning:!1})}),g(A)}},[a,f,e.window]),N.useEffect(()=>{f&&a&&n.location.key===a.location.key&&f.resolve()},[f,p,n.location,a]),N.useEffect(()=>{!l.isTransitioning&&b&&(o(b.state),d({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),y(void 0))},[l.isTransitioning,b]);let j=N.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:k=>e.navigate(k),push:(k,C,A)=>e.navigate(k,{state:C,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(k,C,A)=>e.navigate(k,{replace:!0,state:C,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[e]),S=e.basename||"/",O=N.useMemo(()=>({router:e,navigator:j,static:!1,basename:S}),[e,j,S]);return N.createElement(N.Fragment,null,N.createElement(Po.Provider,{value:O},N.createElement(Xu.Provider,{value:n},N.createElement(o2.Provider,{value:w.current},N.createElement(px.Provider,{value:l},N.createElement(PR,{basename:S,location:n.location,navigationType:n.historyAction,navigator:j},N.createElement(RR,{routes:e.routes,future:e.future,state:n})))))),null)}var RR=N.memo(DR);function DR({routes:e,future:t,state:n}){return gR(e,void 0,n,t)}function MR(e){return pR(e.context)}function PR({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:o=!1}){Ht(!Gu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof n=="string"&&(n=Mi(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:b="default"}=n,y=N.useMemo(()=>{let w=jr(f,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:g,key:b},navigationType:s}},[l,f,h,p,g,b,s]);return Gn(y!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:N.createElement(ua.Provider,{value:d},N.createElement(Fh.Provider,{children:t,value:y}))}var th="get",nh="application/x-www-form-urlencoded";function Hh(e){return e!=null&&typeof e.tagName=="string"}function LR(e){return Hh(e)&&e.tagName.toLowerCase()==="button"}function zR(e){return Hh(e)&&e.tagName.toLowerCase()==="form"}function BR(e){return Hh(e)&&e.tagName.toLowerCase()==="input"}function UR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function FR(e,t){return e.button===0&&(!t||t==="_self")&&!UR(e)}var vf=null;function HR(){if(vf===null)try{new FormData(document.createElement("form"),0),vf=!1}catch(e){vf=!0}return vf}var VR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jg(e){return e!=null&&!VR.has(e)?(Gn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nh}"`),null):e}function $R(e,t){let n,s,a,o,l;if(zR(e)){let d=e.getAttribute("action");s=d?jr(d,t):null,n=e.getAttribute("method")||th,a=jg(e.getAttribute("enctype"))||nh,o=new FormData(e)}else if(LR(e)||BR(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(s=f?jr(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||th,a=jg(e.getAttribute("formenctype"))||jg(d.getAttribute("enctype"))||nh,o=new FormData(d,e),!HR()){let{name:h,type:p,value:g}=e;if(p==="image"){let b=h?`${h}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else h&&o.append(h,g)}}else{if(Hh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=th,s=null,a=nh,l=e}return o&&a==="text/plain"&&(l=o,o=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bx(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function qR(e,t,n){let s=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&jr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}function IR(e,t){return xe(this,null,function*(){if(e.id in t)return t[e.id];try{let n=yield import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function YR(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function WR(e,t,n){return xe(this,null,function*(){let s=yield Promise.all(e.map(a=>xe(null,null,function*(){let o=t.routes[a.route.id];if(o){let l=yield IR(o,n);return l.links?l.links():[]}return[]})));return QR(s.flat(1).filter(YR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?he(L({},a),{rel:"prefetch",as:"style"}):he(L({},a),{rel:"prefetch"})))})}function Z_(e,t,n,s,a,o){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,h)=>l(f,h)||d(f,h)):o==="data"?t.filter((f,h)=>{var g;let p=s.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function XR(e,t,{includeHydrateFallback:n}={}){return GR(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function GR(e){return[...new Set(e)]}function KR(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function QR(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let o=JSON.stringify(KR(a));return n.has(o)||(n.add(o),s.push({key:o,link:a})),s},[])}function d2(){let e=N.useContext(Po);return bx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ZR(){let e=N.useContext(Xu);return bx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var vx=N.createContext(void 0);vx.displayName="FrameworkContext";function f2(){let e=N.useContext(vx);return bx(e,"You must render this element inside a <HydratedRouter> element"),e}function JR(e,t){let n=N.useContext(vx),[s,a]=N.useState(!1),[o,l]=N.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,b=N.useRef(null);N.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let _=S=>{S.forEach(O=>{l(O.isIntersecting)})},j=new IntersectionObserver(_,{threshold:.5});return b.current&&j.observe(b.current),()=>{j.disconnect()}}},[e]),N.useEffect(()=>{if(s){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[s]);let y=()=>{a(!0)},w=()=>{a(!1),l(!1)};return n?e!=="intent"?[o,b,{}]:[o,b,{onFocus:ou(d,y),onBlur:ou(f,w),onMouseEnter:ou(h,y),onMouseLeave:ou(p,w),onTouchStart:ou(g,y)}]:[!1,b,{}]}function ou(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function eD(n){var s=n,{page:e}=s,t=Me(s,["page"]);let{router:a}=d2(),o=N.useMemo(()=>wi(a.routes,e,a.basename),[a.routes,e,a.basename]);return o?N.createElement(nD,L({page:e,matches:o},t)):null}function tD(e){let{manifest:t,routeModules:n}=f2(),[s,a]=N.useState([]);return N.useEffect(()=>{let o=!1;return WR(e,t,n).then(l=>{o||a(l)}),()=>{o=!0}},[e,t,n]),s}function nD(s){var a=s,{page:e,matches:t}=a,n=Me(a,["page","matches"]);let o=Pi(),{manifest:l,routeModules:d}=f2(),{basename:f}=d2(),{loaderData:h,matches:p}=ZR(),g=N.useMemo(()=>Z_(e,t,p,l,o,"data"),[e,t,p,l,o]),b=N.useMemo(()=>Z_(e,t,p,l,o,"assets"),[e,t,p,l,o]),y=N.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let j=new Set,S=!1;if(t.forEach(k=>{var A;let C=l.routes[k.route.id];!C||!C.hasLoader||(!g.some(M=>M.route.id===k.route.id)&&k.route.id in h&&((A=d[k.route.id])!=null&&A.shouldRevalidate)||C.hasClientLoader?S=!0:j.add(k.route.id))}),j.size===0)return[];let O=qR(e,f,"data");return S&&j.size>0&&O.searchParams.set("_routes",t.filter(k=>j.has(k.route.id)).map(k=>k.route.id).join(",")),[O.pathname+O.search]},[f,h,o,l,g,t,e,d]),w=N.useMemo(()=>XR(b,l),[b,l]),_=tD(b);return N.createElement(N.Fragment,null,y.map(j=>N.createElement("link",L({key:j,rel:"prefetch",as:"fetch",href:j},n))),w.map(j=>N.createElement("link",L({key:j,rel:"modulepreload",href:j},n))),_.map(({key:j,link:S})=>N.createElement("link",L({key:j},S))))}function sD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var h2=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{h2&&(window.__reactRouterVersion="7.7.1")}catch(e){}function rD(e,t){return IO({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:uO({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||aD(),routes:e,mapRouteProperties:kR,hydrationRouteProperties:CR,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function aD(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=he(L({},e),{errors:iD(e.errors)})),e}function iD(e){if(!e)return null;let t=Object.entries(e),n={};for(let[s,a]of t)if(a&&a.__type==="RouteErrorResponse")n[s]=new ph(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let l=new o(a.message);l.stack="",n[s]=l}catch(l){}}if(n[s]==null){let o=new Error(a.message);o.stack="",n[s]=o}}else n[s]=a;return n}var m2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p2=N.forwardRef(function(w,y){var _=w,{onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:o,replace:l,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g}=_,b=Me(_,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:j}=N.useContext(ua),S=typeof h=="string"&&m2.test(h),O,k=!1;if(typeof h=="string"&&S&&(O=h,h2))try{let q=new URL(window.location.href),X=h.startsWith("//")?new URL(q.protocol+h):new URL(h),ae=jr(X.pathname,j);X.origin===q.origin&&ae!=null?h=ae+X.search+X.hash:k=!0}catch(q){Gn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=dR(h,{relative:a}),[A,M,V]=JR(s,b),D=cD(h,{replace:l,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g});function H(q){t&&t(q),q.defaultPrevented||D(q)}let ee=N.createElement("a",he(L(L({},b),V),{href:O||C,onClick:k||o?t:H,ref:sD(y,M),target:f,"data-discover":!S&&n==="render"?"true":void 0}));return A&&!S?N.createElement(N.Fragment,null,ee,N.createElement(eD,{page:C})):ee});p2.displayName="Link";var g2=N.forwardRef(function(g,p){var b=g,{"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:d,children:f}=b,h=Me(b,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let y=Ku(l,{relative:h.relative}),w=Pi(),_=N.useContext(Xu),{navigator:j,basename:S}=N.useContext(ua),O=_!=null&&mD(y)&&d===!0,k=j.encodeLocation?j.encodeLocation(y).pathname:y.pathname,C=w.pathname,A=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(C=C.toLowerCase(),A=A?A.toLowerCase():null,k=k.toLowerCase()),A&&S&&(A=jr(A,S)||A);const M=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let V=C===k||!a&&C.startsWith(k)&&C.charAt(M)==="/",D=A!=null&&(A===k||!a&&A.startsWith(k)&&A.charAt(k.length)==="/"),H={isActive:V,isPending:D,isTransitioning:O},ee=V?t:void 0,q;typeof s=="function"?q=s(H):q=[s,V?"active":null,D?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let X=typeof o=="function"?o(H):o;return N.createElement(p2,he(L({},h),{"aria-current":ee,className:q,ref:p,style:X,to:l,viewTransition:d}),typeof f=="function"?f(H):f)});g2.displayName="NavLink";var oD=N.forwardRef((w,y)=>{var _=w,{discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:o,method:l=th,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g}=_,b=Me(_,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let j=fD(),S=hD(d,{relative:h}),O=l.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&m2.test(d),C=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let M=A.nativeEvent.submitter,V=(M==null?void 0:M.getAttribute("formmethod"))||l;j(M||A.currentTarget,{fetcherKey:t,method:V,navigate:n,replace:a,state:o,relative:h,preventScrollReset:p,viewTransition:g})};return N.createElement("form",he(L({ref:y,method:O,action:S,onSubmit:s?f:C},b),{"data-discover":!k&&e==="render"?"true":void 0}))});oD.displayName="Form";function lD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x2(e){let t=N.useContext(Po);return Ht(t,lD(e)),t}function cD(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}={}){let d=fR(),f=Pi(),h=Ku(e,{relative:o});return N.useCallback(p=>{if(FR(p,t)){p.preventDefault();let g=n!==void 0?n:ki(f)===ki(h);d(e,{replace:g,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[f,d,h,n,s,t,e,a,o,l])}var uD=0,dD=()=>`__${String(++uD)}__`;function fD(){let{router:e}=x2("useSubmit"),{basename:t}=N.useContext(ua),n=NR();return N.useCallback((o,...l)=>xe(null,[o,...l],function*(s,a={}){let{action:d,method:f,encType:h,formData:p,body:g}=$R(s,t);if(a.navigate===!1){let b=a.fetcherKey||dD();yield e.fetch(b,n,a.action||d,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||f,formEncType:a.encType||h,flushSync:a.flushSync})}else yield e.navigate(a.action||d,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||f,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,t,n])}function hD(e,{relative:t}={}){let{basename:n}=N.useContext(ua),s=N.useContext(da);Ht(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o=L({},Ku(e||".",{relative:t})),l=Pi();if(e==null){o.search=l.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:aa([n,o.pathname])),ki(o)}function mD(e,{relative:t}={}){let n=N.useContext(px);Ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=x2("useViewTransitionState"),a=Ku(e,{relative:t});if(!n.isTransitioning)return!1;let o=jr(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=jr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return mh(a.pathname,l)!=null||mh(a.pathname,o)!=null}var Vh=mS();const y2=J0(Vh);function pD(e){return N.createElement(OR,L({flushSync:Vh.flushSync},e))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xD=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),J_=e=>{const t=xD(e);return t.charAt(0).toUpperCase()+t.slice(1)},b2=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),yD=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=N.forwardRef((h,f)=>{var p=h,{color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:l}=p,d=Me(p,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return N.createElement("svg",L(L(he(L({ref:f},bD),{width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:b2("lucide",a)}),!o&&!yD(d)&&{"aria-hidden":"true"}),d),[...l.map(([g,b])=>N.createElement(g,b)),...Array.isArray(o)?o:[o]])});/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=(e,t)=>{const n=N.forwardRef((l,o)=>{var d=l,{className:s}=d,a=Me(d,["className"]);return N.createElement(vD,L({ref:o,iconNode:t,className:b2(`lucide-${gD(J_(e))}`,`lucide-${e}`,s)},a))});return n.displayName=J_(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],_D=Et("activity",wD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],wx=Et("arrow-left",jD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ND=Et("bell",SD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wr=Et("calendar",ED);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],kD=Et("chart-column",TD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],AD=Et("check",CD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],v2=Et("chevron-down",OD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],DD=Et("chevron-up",RD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],PD=Et("chevrons-up-down",MD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Eo=Et("circle-alert",LD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],BD=Et("circle-check-big",zD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$h=Et("circle-check",UD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],HD=Et("circle",FD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gl=Et("clock",VD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],qD=Et("crown",$D);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],_x=Et("dollar-sign",ID);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],WD=Et("ellipsis-vertical",YD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],w2=Et("file-text",XD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],KD=Et("flag",GD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],ZD=Et("folder-open",QD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],jx=Et("funnel",JD);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],tM=Et("grid-3x3",eM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],sM=Et("layout-dashboard",nM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],aM=Et("list",rM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],j0=Et("loader-circle",iM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],lM=Et("log-out",oM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],uM=Et("menu",cM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],fM=Et("pause",dM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],mM=Et("pen",hM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],gM=Et("piggy-bank",pM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],yM=Et("play",xM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],To=Et("plus",bM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Sx=Et("refresh-cw",vM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qh=Et("search",wM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_2=Et("settings",_M);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],SM=Et("square-check-big",jM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],zl=Et("square-pen",NM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],TM=Et("square",EM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Nx=Et("target",kM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$l=Et("trash-2",CM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ih=Et("triangle-alert",AM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bu=Et("user",OM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sh=Et("users",RM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],MM=Et("x",DM),PM=[{name:"Dashboard",href:"/",icon:sM},{name:"Projects",href:"/projects",icon:ZD},{name:"Tasks",href:"/tasks",icon:SM},{name:"Time Tracking",href:"/time-tracking",icon:Gl},{name:"Cost Analysis",href:"/cost-analysis",icon:_x},{name:"Reports",href:"/reports",icon:kD},{name:"Calendar",href:"/calendar",icon:wr},{name:"Team",href:"/team",icon:sh},{name:"Documents",href:"/documents",icon:w2},{name:"Settings",href:"/settings",icon:_2}],e1=()=>{const e=Pi();return u.jsxs("div",{className:"flex flex-col w-64 bg-white shadow-lg border-r border-gray-200",children:[u.jsx("div",{className:"flex items-center justify-center h-16 px-4 border-b border-gray-200",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",children:u.jsx("img",{src:"https://ctuav.vn/wp-content/uploads/2024/08/Logo-moi-ctuav.png",alt:"CT UAV Logo",className:"w-8 h-8 object-contain"})}),u.jsx("span",{className:"text-xl font-bold text-gray-800",children:"CT UAV"})]})}),u.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:PM.map(t=>{const n=e.pathname===t.href;return u.jsxs(g2,{to:t.href,className:`
                group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200
                ${n?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-md":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}
              `,children:[u.jsx(t.icon,{className:`
                  mr-3 h-5 w-5 transition-colors duration-200
                  ${n?"text-white":"text-gray-500 group-hover:text-gray-700"}
                `}),t.name]},t.name)})}),u.jsx("div",{className:"p-4 border-t border-gray-200",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-white font-medium text-sm",children:"U"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Admin"}),u.jsx("p",{className:"text-xs text-gray-500 truncate",children:"admin@ctgroupvietnam.com"})]})]})})]})};function rr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function t1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ko(...e){return t=>{let n=!1;const s=e.map(a=>{const o=t1(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<s.length;a++){const o=s[a];typeof o=="function"?o():t1(e[a],null)}}}}function Hr(...e){return N.useCallback(ko(...e),e)}function LM(e,t){const n=N.createContext(t),s=o=>{const h=o,{children:l}=h,d=Me(h,["children"]),f=N.useMemo(()=>d,Object.values(d));return u.jsx(n.Provider,{value:f,children:l})};s.displayName=e+"Provider";function a(o){const l=N.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,a]}function Ex(e,t=[]){let n=[];function s(o,l){const d=N.createContext(l),f=n.length;n=[...n,l];const h=g=>{var O;const S=g,{scope:b,children:y}=S,w=Me(S,["scope","children"]),_=((O=b==null?void 0:b[e])==null?void 0:O[f])||d,j=N.useMemo(()=>w,Object.values(w));return u.jsx(_.Provider,{value:j,children:y})};h.displayName=o+"Provider";function p(g,b){var _;const y=((_=b==null?void 0:b[e])==null?void 0:_[f])||d,w=N.useContext(y);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[h,p]}const a=()=>{const o=n.map(l=>N.createContext(l));return function(d){const f=(d==null?void 0:d[e])||o;return N.useMemo(()=>({[`__scope${e}`]:he(L({},d),{[e]:f})}),[d,f])}};return a.scopeName=e,[s,zM(a,...t)]}function zM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const l=s.reduce((d,{useScope:f,scopeName:h})=>{const g=f(o)[`__scope${h}`];return L(L({},d),g)},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Yh(e){const t=UM(e),n=N.forwardRef((s,a)=>{const h=s,{children:o}=h,l=Me(h,["children"]),d=N.Children.toArray(o),f=d.find(HM);if(f){const p=f.props.children,g=d.map(b=>b===f?N.Children.count(p)>1?N.Children.only(null):N.isValidElement(p)?p.props.children:null:b);return u.jsx(t,he(L({},l),{ref:a,children:N.isValidElement(p)?N.cloneElement(p,void 0,g):null}))}return u.jsx(t,he(L({},l),{ref:a,children:o}))});return n.displayName=`${e}.Slot`,n}var BM=Yh("Slot");function UM(e){const t=N.forwardRef((n,s)=>{const l=n,{children:a}=l,o=Me(l,["children"]);if(N.isValidElement(a)){const d=$M(a),f=VM(o,a.props);return a.type!==N.Fragment&&(f.ref=s?ko(s,d):d),N.cloneElement(a,f)}return N.Children.count(a)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var FM=Symbol("radix.slottable");function HM(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===FM}function VM(e,t){const n=L({},t);for(const s in t){const a=e[s],o=t[s];/^on[A-Z]/.test(s)?a&&o?n[s]=(...d)=>{const f=o(...d);return a(...d),f}:a&&(n[s]=a):s==="style"?n[s]=L(L({},a),o):s==="className"&&(n[s]=[a,o].filter(Boolean).join(" "))}return L(L({},e),n)}function $M(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var qM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kn=qM.reduce((e,t)=>{const n=Yh(`Primitive.${t}`),s=N.forwardRef((a,o)=>{const h=a,{asChild:l}=h,d=Me(h,["asChild"]),f=l?n:t;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(f,he(L({},d),{ref:o}))});return s.displayName=`Primitive.${t}`,he(L({},e),{[t]:s})},{});function IM(e,t){e&&Vh.flushSync(()=>e.dispatchEvent(t))}function ql(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function YM(e,t=globalThis==null?void 0:globalThis.document){const n=ql(e);N.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var WM="DismissableLayer",S0="dismissableLayer.update",XM="dismissableLayer.pointerDownOutside",GM="dismissableLayer.focusOutside",n1,j2=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tx=N.forwardRef((e,t)=>{var D;const V=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:l,onDismiss:d}=V,f=Me(V,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),h=N.useContext(j2),[p,g]=N.useState(null),b=(D=p==null?void 0:p.ownerDocument)!=null?D:globalThis==null?void 0:globalThis.document,[,y]=N.useState({}),w=Hr(t,H=>g(H)),_=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),S=_.indexOf(j),O=p?_.indexOf(p):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,C=O>=S,A=ZM(H=>{const ee=H.target,q=[...h.branches].some(X=>X.contains(ee));!C||q||(a==null||a(H),l==null||l(H),H.defaultPrevented||d==null||d())},b),M=JM(H=>{const ee=H.target;[...h.branches].some(X=>X.contains(ee))||(o==null||o(H),l==null||l(H),H.defaultPrevented||d==null||d())},b);return YM(H=>{O===h.layers.size-1&&(s==null||s(H),!H.defaultPrevented&&d&&(H.preventDefault(),d()))},b),N.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(n1=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),s1(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=n1)}},[p,b,n,h]),N.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),s1())},[p,h]),N.useEffect(()=>{const H=()=>y({});return document.addEventListener(S0,H),()=>document.removeEventListener(S0,H)},[]),u.jsx(kn.div,he(L({},f),{ref:w,style:L({pointerEvents:k?C?"auto":"none":void 0},e.style),onFocusCapture:rr(e.onFocusCapture,M.onFocusCapture),onBlurCapture:rr(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:rr(e.onPointerDownCapture,A.onPointerDownCapture)}))});Tx.displayName=WM;var KM="DismissableLayerBranch",QM=N.forwardRef((e,t)=>{const n=N.useContext(j2),s=N.useRef(null),a=Hr(t,s);return N.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(kn.div,he(L({},e),{ref:a}))});QM.displayName=KM;function ZM(e,t=globalThis==null?void 0:globalThis.document){const n=ql(e),s=N.useRef(!1),a=N.useRef(()=>{});return N.useEffect(()=>{const o=d=>{if(d.target&&!s.current){let f=function(){S2(XM,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);s.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function JM(e,t=globalThis==null?void 0:globalThis.document){const n=ql(e),s=N.useRef(!1);return N.useEffect(()=>{const a=o=>{o.target&&!s.current&&S2(GM,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function s1(){const e=new CustomEvent(S0);document.dispatchEvent(e)}function S2(e,t,n,{discrete:s}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?IM(a,o):a.dispatchEvent(o)}var Sg=0;function N2(){N.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:r1()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:r1()),Sg++,()=>{Sg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Sg--}},[])}function r1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ng="focusScope.autoFocusOnMount",Eg="focusScope.autoFocusOnUnmount",a1={bubbles:!1,cancelable:!0},eP="FocusScope",kx=N.forwardRef((e,t)=>{const _=e,{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o}=_,l=Me(_,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[d,f]=N.useState(null),h=ql(a),p=ql(o),g=N.useRef(null),b=Hr(t,j=>f(j)),y=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(s){let j=function(C){if(y.paused||!d)return;const A=C.target;d.contains(A)?g.current=A:vi(g.current,{select:!0})},S=function(C){if(y.paused||!d)return;const A=C.relatedTarget;A!==null&&(d.contains(A)||vi(g.current,{select:!0}))},O=function(C){if(document.activeElement===document.body)for(const M of C)M.removedNodes.length>0&&vi(d)};document.addEventListener("focusin",j),document.addEventListener("focusout",S);const k=new MutationObserver(O);return d&&k.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",S),k.disconnect()}}},[s,d,y.paused]),N.useEffect(()=>{if(d){o1.add(y);const j=document.activeElement;if(!d.contains(j)){const O=new CustomEvent(Ng,a1);d.addEventListener(Ng,h),d.dispatchEvent(O),O.defaultPrevented||(tP(iP(E2(d)),{select:!0}),document.activeElement===j&&vi(d))}return()=>{d.removeEventListener(Ng,h),setTimeout(()=>{const O=new CustomEvent(Eg,a1);d.addEventListener(Eg,p),d.dispatchEvent(O),O.defaultPrevented||vi(j!=null?j:document.body,{select:!0}),d.removeEventListener(Eg,p),o1.remove(y)},0)}}},[d,h,p,y]);const w=N.useCallback(j=>{if(!n&&!s||y.paused)return;const S=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,O=document.activeElement;if(S&&O){const k=j.currentTarget,[C,A]=nP(k);C&&A?!j.shiftKey&&O===A?(j.preventDefault(),n&&vi(C,{select:!0})):j.shiftKey&&O===C&&(j.preventDefault(),n&&vi(A,{select:!0})):O===k&&j.preventDefault()}},[n,s,y.paused]);return u.jsx(kn.div,he(L({tabIndex:-1},l),{ref:b,onKeyDown:w}))});kx.displayName=eP;function tP(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(vi(s,{select:t}),document.activeElement!==n)return}function nP(e){const t=E2(e),n=i1(t,e),s=i1(t.reverse(),e);return[n,s]}function E2(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function i1(e,t){for(const n of e)if(!sP(n,{upTo:t}))return n}function sP(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rP(e){return e instanceof HTMLInputElement&&"select"in e}function vi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&rP(e)&&t&&e.select()}}var o1=aP();function aP(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=l1(e,t),e.unshift(t)},remove(t){var n;e=l1(e,t),(n=e[0])==null||n.resume()}}}function l1(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function iP(e){return e.filter(t=>t.tagName!=="A")}var Ci=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},oP=hS[" useId ".trim().toString()]||(()=>{}),lP=0;function ia(e){const[t,n]=N.useState(oP());return Ci(()=>{n(s=>s!=null?s:String(lP++))},[e]),e||(t?`radix-${t}`:"")}const cP=["top","right","bottom","left"],Ai=Math.min,tr=Math.max,xh=Math.round,wf=Math.floor,oa=e=>({x:e,y:e}),uP={left:"right",right:"left",bottom:"top",top:"bottom"},dP={start:"end",end:"start"};function N0(e,t,n){return tr(e,Ai(t,n))}function Ha(e,t){return typeof e=="function"?e(t):e}function Va(e){return e.split("-")[0]}function Kl(e){return e.split("-")[1]}function Cx(e){return e==="x"?"y":"x"}function Ax(e){return e==="y"?"height":"width"}const fP=new Set(["top","bottom"]);function na(e){return fP.has(Va(e))?"y":"x"}function Ox(e){return Cx(na(e))}function hP(e,t,n){n===void 0&&(n=!1);const s=Kl(e),a=Ox(e),o=Ax(a);let l=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=yh(l)),[l,yh(l)]}function mP(e){const t=yh(e);return[E0(e),t,E0(t)]}function E0(e){return e.replace(/start|end/g,t=>dP[t])}const c1=["left","right"],u1=["right","left"],pP=["top","bottom"],gP=["bottom","top"];function xP(e,t,n){switch(e){case"top":case"bottom":return n?t?u1:c1:t?c1:u1;case"left":case"right":return t?pP:gP;default:return[]}}function yP(e,t,n,s){const a=Kl(e);let o=xP(Va(e),n==="start",s);return a&&(o=o.map(l=>l+"-"+a),t&&(o=o.concat(o.map(E0)))),o}function yh(e){return e.replace(/left|right|bottom|top/g,t=>uP[t])}function bP(e){return L({top:0,right:0,bottom:0,left:0},e)}function T2(e){return typeof e!="number"?bP(e):{top:e,right:e,bottom:e,left:e}}function bh(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function d1(e,t,n){let{reference:s,floating:a}=e;const o=na(t),l=Ox(t),d=Ax(l),f=Va(t),h=o==="y",p=s.x+s.width/2-a.width/2,g=s.y+s.height/2-a.height/2,b=s[d]/2-a[d]/2;let y;switch(f){case"top":y={x:p,y:s.y-a.height};break;case"bottom":y={x:p,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:g};break;case"left":y={x:s.x-a.width,y:g};break;default:y={x:s.x,y:s.y}}switch(Kl(t)){case"start":y[l]-=b*(n&&h?-1:1);break;case"end":y[l]+=b*(n&&h?-1:1);break}return y}const vP=(e,t,n)=>xe(null,null,function*(){const{placement:s="bottom",strategy:a="absolute",middleware:o=[],platform:l}=n,d=o.filter(Boolean),f=yield l.isRTL==null?void 0:l.isRTL(t);let h=yield l.getElementRects({reference:e,floating:t,strategy:a}),{x:p,y:g}=d1(h,s,f),b=s,y={},w=0;for(let _=0;_<d.length;_++){const{name:j,fn:S}=d[_],{x:O,y:k,data:C,reset:A}=yield S({x:p,y:g,initialPlacement:s,placement:b,strategy:a,middlewareData:y,rects:h,platform:l,elements:{reference:e,floating:t}});p=O!=null?O:p,g=k!=null?k:g,y=he(L({},y),{[j]:L(L({},y[j]),C)}),A&&w<=50&&(w++,typeof A=="object"&&(A.placement&&(b=A.placement),A.rects&&(h=A.rects===!0?yield l.getElementRects({reference:e,floating:t,strategy:a}):A.rects),{x:p,y:g}=d1(h,b,f)),_=-1)}return{x:p,y:g,placement:b,strategy:a,middlewareData:y}});function Uu(e,t){return xe(this,null,function*(){var n;t===void 0&&(t={});const{x:s,y:a,platform:o,rects:l,elements:d,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:b=!1,padding:y=0}=Ha(t,e),w=T2(y),j=d[b?g==="floating"?"reference":"floating":g],S=bh(yield o.getClippingRect({element:(n=yield o.isElement==null?void 0:o.isElement(j))==null||n?j:j.contextElement||(yield o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:h,rootBoundary:p,strategy:f})),O=g==="floating"?{x:s,y:a,width:l.floating.width,height:l.floating.height}:l.reference,k=yield o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating),C=(yield o.isElement==null?void 0:o.isElement(k))?(yield o.getScale==null?void 0:o.getScale(k))||{x:1,y:1}:{x:1,y:1},A=bh(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:O,offsetParent:k,strategy:f}):O);return{top:(S.top-A.top+w.top)/C.y,bottom:(A.bottom-S.bottom+w.bottom)/C.y,left:(S.left-A.left+w.left)/C.x,right:(A.right-S.right+w.right)/C.x}})}const wP=e=>({name:"arrow",options:e,fn(n){return xe(this,null,function*(){const{x:s,y:a,placement:o,rects:l,platform:d,elements:f,middlewareData:h}=n,{element:p,padding:g=0}=Ha(e,n)||{};if(p==null)return{};const b=T2(g),y={x:s,y:a},w=Ox(o),_=Ax(w),j=yield d.getDimensions(p),S=w==="y",O=S?"top":"left",k=S?"bottom":"right",C=S?"clientHeight":"clientWidth",A=l.reference[_]+l.reference[w]-y[w]-l.floating[_],M=y[w]-l.reference[w],V=yield d.getOffsetParent==null?void 0:d.getOffsetParent(p);let D=V?V[C]:0;(!D||!(yield d.isElement==null?void 0:d.isElement(V)))&&(D=f.floating[C]||l.floating[_]);const H=A/2-M/2,ee=D/2-j[_]/2-1,q=Ai(b[O],ee),X=Ai(b[k],ee),ae=q,J=D-j[_]-X,Y=D/2-j[_]/2+H,z=N0(ae,Y,J),Q=!h.arrow&&Kl(o)!=null&&Y!==z&&l.reference[_]/2-(Y<ae?q:X)-j[_]/2<0,Z=Q?Y<ae?Y-ae:Y-J:0;return{[w]:y[w]+Z,data:L({[w]:z,centerOffset:Y-z-Z},Q&&{alignmentOffset:Z}),reset:Q}})}}),_P=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(n){return xe(this,null,function*(){var s,a;const{placement:o,middlewareData:l,rects:d,initialPlacement:f,platform:h,elements:p}=n,Y=Ha(e,n),{mainAxis:g=!0,crossAxis:b=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:j=!0}=Y,S=Me(Y,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((s=l.arrow)!=null&&s.alignmentOffset)return{};const O=Va(o),k=na(f),C=Va(f)===f,A=yield h.isRTL==null?void 0:h.isRTL(p.floating),M=y||(C||!j?[yh(f)]:mP(f)),V=_!=="none";!y&&V&&M.push(...yP(f,j,_,A));const D=[f,...M],H=yield Uu(n,S),ee=[];let q=((a=l.flip)==null?void 0:a.overflows)||[];if(g&&ee.push(H[O]),b){const z=hP(o,d,A);ee.push(H[z[0]],H[z[1]])}if(q=[...q,{placement:o,overflows:ee}],!ee.every(z=>z<=0)){var X,ae;const z=(((X=l.flip)==null?void 0:X.index)||0)+1,Q=D[z];if(Q&&(!(b==="alignment"?k!==na(Q):!1)||q.every(U=>na(U.placement)===k?U.overflows[0]>0:!0)))return{data:{index:z,overflows:q},reset:{placement:Q}};let Z=(ae=q.filter(le=>le.overflows[0]<=0).sort((le,U)=>le.overflows[1]-U.overflows[1])[0])==null?void 0:ae.placement;if(!Z)switch(w){case"bestFit":{var J;const le=(J=q.filter(U=>{if(V){const re=na(U.placement);return re===k||re==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(re=>re>0).reduce((re,we)=>re+we,0)]).sort((U,re)=>U[1]-re[1])[0])==null?void 0:J[0];le&&(Z=le);break}case"initialPlacement":Z=f;break}if(o!==Z)return{reset:{placement:Z}}}return{}})}}};function f1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function h1(e){return cP.some(t=>e[t]>=0)}const jP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(n){return xe(this,null,function*(){const{rects:s}=n,l=Ha(e,n),{strategy:a="referenceHidden"}=l,o=Me(l,["strategy"]);switch(a){case"referenceHidden":{const d=yield Uu(n,he(L({},o),{elementContext:"reference"})),f=f1(d,s.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:h1(f)}}}case"escaped":{const d=yield Uu(n,he(L({},o),{altBoundary:!0})),f=f1(d,s.floating);return{data:{escapedOffsets:f,escaped:h1(f)}}}default:return{}}})}}},k2=new Set(["left","top"]);function SP(e,t){return xe(this,null,function*(){const{placement:n,platform:s,elements:a}=e,o=yield s.isRTL==null?void 0:s.isRTL(a.floating),l=Va(n),d=Kl(n),f=na(n)==="y",h=k2.has(l)?-1:1,p=o&&f?-1:1,g=Ha(t,e);let{mainAxis:b,crossAxis:y,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof w=="number"&&(y=d==="end"?w*-1:w),f?{x:y*p,y:b*h}:{x:b*h,y:y*p}})}const NP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(n){return xe(this,null,function*(){var s,a;const{x:o,y:l,placement:d,middlewareData:f}=n,h=yield SP(n,e);return d===((s=f.offset)==null?void 0:s.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:o+h.x,y:l+h.y,data:he(L({},h),{placement:d})}})}}},EP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(n){return xe(this,null,function*(){const{x:s,y:a,placement:o}=n,S=Ha(e,n),{mainAxis:l=!0,crossAxis:d=!1,limiter:f={fn:O=>{let{x:k,y:C}=O;return{x:k,y:C}}}}=S,h=Me(S,["mainAxis","crossAxis","limiter"]),p={x:s,y:a},g=yield Uu(n,h),b=na(Va(o)),y=Cx(b);let w=p[y],_=p[b];if(l){const O=y==="y"?"top":"left",k=y==="y"?"bottom":"right",C=w+g[O],A=w-g[k];w=N0(C,w,A)}if(d){const O=b==="y"?"top":"left",k=b==="y"?"bottom":"right",C=_+g[O],A=_-g[k];_=N0(C,_,A)}const j=f.fn(he(L({},n),{[y]:w,[b]:_}));return he(L({},j),{data:{x:j.x-s,y:j.y-a,enabled:{[y]:l,[b]:d}}})})}}},TP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:o,middlewareData:l}=t,{offset:d=0,mainAxis:f=!0,crossAxis:h=!0}=Ha(e,t),p={x:n,y:s},g=na(a),b=Cx(g);let y=p[b],w=p[g];const _=Ha(d,t),j=typeof _=="number"?{mainAxis:_,crossAxis:0}:L({mainAxis:0,crossAxis:0},_);if(f){const k=b==="y"?"height":"width",C=o.reference[b]-o.floating[k]+j.mainAxis,A=o.reference[b]+o.reference[k]-j.mainAxis;y<C?y=C:y>A&&(y=A)}if(h){var S,O;const k=b==="y"?"width":"height",C=k2.has(Va(a)),A=o.reference[g]-o.floating[k]+(C&&((S=l.offset)==null?void 0:S[g])||0)+(C?0:j.crossAxis),M=o.reference[g]+o.reference[k]+(C?0:((O=l.offset)==null?void 0:O[g])||0)-(C?j.crossAxis:0);w<A?w=A:w>M&&(w=M)}return{[b]:y,[g]:w}}}},kP=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(n){return xe(this,null,function*(){var s,a;const{placement:o,rects:l,platform:d,elements:f}=n,q=Ha(e,n),{apply:h=()=>{}}=q,p=Me(q,["apply"]),g=yield Uu(n,p),b=Va(o),y=Kl(o),w=na(o)==="y",{width:_,height:j}=l.floating;let S,O;b==="top"||b==="bottom"?(S=b,O=y===((yield d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(O=b,S=y==="end"?"top":"bottom");const k=j-g.top-g.bottom,C=_-g.left-g.right,A=Ai(j-g[S],k),M=Ai(_-g[O],C),V=!n.middlewareData.shift;let D=A,H=M;if((s=n.middlewareData.shift)!=null&&s.enabled.x&&(H=C),(a=n.middlewareData.shift)!=null&&a.enabled.y&&(D=k),V&&!y){const X=tr(g.left,0),ae=tr(g.right,0),J=tr(g.top,0),Y=tr(g.bottom,0);w?H=_-2*(X!==0||ae!==0?X+ae:tr(g.left,g.right)):D=j-2*(J!==0||Y!==0?J+Y:tr(g.top,g.bottom))}yield h(he(L({},n),{availableWidth:H,availableHeight:D}));const ee=yield d.getDimensions(f.floating);return _!==ee.width||j!==ee.height?{reset:{rects:!0}}:{}})}}};function Wh(){return typeof window!="undefined"}function Ql(e){return C2(e)?(e.nodeName||"").toLowerCase():"#document"}function ar(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fa(e){var t;return(t=(C2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function C2(e){return Wh()?e instanceof Node||e instanceof ar(e).Node:!1}function Ur(e){return Wh()?e instanceof Element||e instanceof ar(e).Element:!1}function ca(e){return Wh()?e instanceof HTMLElement||e instanceof ar(e).HTMLElement:!1}function m1(e){return!Wh()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof ar(e).ShadowRoot}const CP=new Set(["inline","contents"]);function Qu(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=Fr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!CP.has(a)}const AP=new Set(["table","td","th"]);function OP(e){return AP.has(Ql(e))}const RP=[":popover-open",":modal"];function Xh(e){return RP.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const DP=["transform","translate","scale","rotate","perspective"],MP=["transform","translate","scale","rotate","perspective","filter"],PP=["paint","layout","strict","content"];function Rx(e){const t=Dx(),n=Ur(e)?Fr(e):e;return DP.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||MP.some(s=>(n.willChange||"").includes(s))||PP.some(s=>(n.contain||"").includes(s))}function LP(e){let t=Oi(e);for(;ca(t)&&!Il(t);){if(Rx(t))return t;if(Xh(t))return null;t=Oi(t)}return null}function Dx(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const zP=new Set(["html","body","#document"]);function Il(e){return zP.has(Ql(e))}function Fr(e){return ar(e).getComputedStyle(e)}function Gh(e){return Ur(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Oi(e){if(Ql(e)==="html")return e;const t=e.assignedSlot||e.parentNode||m1(e)&&e.host||fa(e);return m1(t)?t.host:t}function A2(e){const t=Oi(e);return Il(t)?e.ownerDocument?e.ownerDocument.body:e.body:ca(t)&&Qu(t)?t:A2(t)}function Fu(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=A2(e),o=a===((s=e.ownerDocument)==null?void 0:s.body),l=ar(a);if(o){const d=T0(l);return t.concat(l,l.visualViewport||[],Qu(a)?a:[],d&&n?Fu(d):[])}return t.concat(a,Fu(a,[],n))}function T0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function O2(e){const t=Fr(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=ca(e),o=a?e.offsetWidth:n,l=a?e.offsetHeight:s,d=xh(n)!==o||xh(s)!==l;return d&&(n=o,s=l),{width:n,height:s,$:d}}function Mx(e){return Ur(e)?e:e.contextElement}function Bl(e){const t=Mx(e);if(!ca(t))return oa(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:o}=O2(t);let l=(o?xh(n.width):n.width)/s,d=(o?xh(n.height):n.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const BP=oa(0);function R2(e){const t=ar(e);return!Dx()||!t.visualViewport?BP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function UP(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ar(e)?!1:t}function Co(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=Mx(e);let l=oa(1);t&&(s?Ur(s)&&(l=Bl(s)):l=Bl(e));const d=UP(o,n,s)?R2(o):oa(0);let f=(a.left+d.x)/l.x,h=(a.top+d.y)/l.y,p=a.width/l.x,g=a.height/l.y;if(o){const b=ar(o),y=s&&Ur(s)?ar(s):s;let w=b,_=T0(w);for(;_&&s&&y!==w;){const j=Bl(_),S=_.getBoundingClientRect(),O=Fr(_),k=S.left+(_.clientLeft+parseFloat(O.paddingLeft))*j.x,C=S.top+(_.clientTop+parseFloat(O.paddingTop))*j.y;f*=j.x,h*=j.y,p*=j.x,g*=j.y,f+=k,h+=C,w=ar(_),_=T0(w)}}return bh({width:p,height:g,x:f,y:h})}function Px(e,t){const n=Gh(e).scrollLeft;return t?t.left+n:Co(fa(e)).left+n}function D2(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:Px(e,s)),o=s.top+t.scrollTop;return{x:a,y:o}}function FP(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const o=a==="fixed",l=fa(s),d=t?Xh(t.floating):!1;if(s===l||d&&o)return n;let f={scrollLeft:0,scrollTop:0},h=oa(1);const p=oa(0),g=ca(s);if((g||!g&&!o)&&((Ql(s)!=="body"||Qu(l))&&(f=Gh(s)),ca(s))){const y=Co(s);h=Bl(s),p.x=y.x+s.clientLeft,p.y=y.y+s.clientTop}const b=l&&!g&&!o?D2(l,f,!0):oa(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+p.x+b.x,y:n.y*h.y-f.scrollTop*h.y+p.y+b.y}}function HP(e){return Array.from(e.getClientRects())}function VP(e){const t=fa(e),n=Gh(e),s=e.ownerDocument.body,a=tr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=tr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let l=-n.scrollLeft+Px(e);const d=-n.scrollTop;return Fr(s).direction==="rtl"&&(l+=tr(t.clientWidth,s.clientWidth)-a),{width:a,height:o,x:l,y:d}}function $P(e,t){const n=ar(e),s=fa(e),a=n.visualViewport;let o=s.clientWidth,l=s.clientHeight,d=0,f=0;if(a){o=a.width,l=a.height;const h=Dx();(!h||h&&t==="fixed")&&(d=a.offsetLeft,f=a.offsetTop)}return{width:o,height:l,x:d,y:f}}const qP=new Set(["absolute","fixed"]);function IP(e,t){const n=Co(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,o=ca(e)?Bl(e):oa(1),l=e.clientWidth*o.x,d=e.clientHeight*o.y,f=a*o.x,h=s*o.y;return{width:l,height:d,x:f,y:h}}function p1(e,t,n){let s;if(t==="viewport")s=$P(e,n);else if(t==="document")s=VP(fa(e));else if(Ur(t))s=IP(t,n);else{const a=R2(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return bh(s)}function M2(e,t){const n=Oi(e);return n===t||!Ur(n)||Il(n)?!1:Fr(n).position==="fixed"||M2(n,t)}function YP(e,t){const n=t.get(e);if(n)return n;let s=Fu(e,[],!1).filter(d=>Ur(d)&&Ql(d)!=="body"),a=null;const o=Fr(e).position==="fixed";let l=o?Oi(e):e;for(;Ur(l)&&!Il(l);){const d=Fr(l),f=Rx(l);!f&&d.position==="fixed"&&(a=null),(o?!f&&!a:!f&&d.position==="static"&&!!a&&qP.has(a.position)||Qu(l)&&!f&&M2(e,l))?s=s.filter(p=>p!==l):a=d,l=Oi(l)}return t.set(e,s),s}function WP(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const l=[...n==="clippingAncestors"?Xh(t)?[]:YP(t,this._c):[].concat(n),s],d=l[0],f=l.reduce((h,p)=>{const g=p1(t,p,a);return h.top=tr(g.top,h.top),h.right=Ai(g.right,h.right),h.bottom=Ai(g.bottom,h.bottom),h.left=tr(g.left,h.left),h},p1(t,d,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function XP(e){const{width:t,height:n}=O2(e);return{width:t,height:n}}function GP(e,t,n){const s=ca(t),a=fa(t),o=n==="fixed",l=Co(e,!0,o,t);let d={scrollLeft:0,scrollTop:0};const f=oa(0);function h(){f.x=Px(a)}if(s||!s&&!o)if((Ql(t)!=="body"||Qu(a))&&(d=Gh(t)),s){const y=Co(t,!0,o,t);f.x=y.x+t.clientLeft,f.y=y.y+t.clientTop}else a&&h();o&&!s&&a&&h();const p=a&&!s&&!o?D2(a,d):oa(0),g=l.left+d.scrollLeft-f.x-p.x,b=l.top+d.scrollTop-f.y-p.y;return{x:g,y:b,width:l.width,height:l.height}}function Tg(e){return Fr(e).position==="static"}function g1(e,t){if(!ca(e)||Fr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return fa(e)===n&&(n=n.ownerDocument.body),n}function P2(e,t){const n=ar(e);if(Xh(e))return n;if(!ca(e)){let a=Oi(e);for(;a&&!Il(a);){if(Ur(a)&&!Tg(a))return a;a=Oi(a)}return n}let s=g1(e,t);for(;s&&OP(s)&&Tg(s);)s=g1(s,t);return s&&Il(s)&&Tg(s)&&!Rx(s)?n:s||LP(e)||n}const KP=function(e){return xe(this,null,function*(){const t=this.getOffsetParent||P2,n=this.getDimensions,s=yield n(e.floating);return{reference:GP(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}})};function QP(e){return Fr(e).direction==="rtl"}const ZP={convertOffsetParentRelativeRectToViewportRelativeRect:FP,getDocumentElement:fa,getClippingRect:WP,getOffsetParent:P2,getElementRects:KP,getClientRects:HP,getDimensions:XP,getScale:Bl,isElement:Ur,isRTL:QP};function L2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function JP(e,t){let n=null,s;const a=fa(e);function o(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function l(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),o();const h=e.getBoundingClientRect(),{left:p,top:g,width:b,height:y}=h;if(d||t(),!b||!y)return;const w=wf(g),_=wf(a.clientWidth-(p+b)),j=wf(a.clientHeight-(g+y)),S=wf(p),k={rootMargin:-w+"px "+-_+"px "+-j+"px "+-S+"px",threshold:tr(0,Ai(1,f))||1};let C=!0;function A(M){const V=M[0].intersectionRatio;if(V!==f){if(!C)return l();V?l(!1,V):s=setTimeout(()=>{l(!1,1e-7)},1e3)}V===1&&!L2(h,e.getBoundingClientRect())&&l(),C=!1}try{n=new IntersectionObserver(A,he(L({},k),{root:a.ownerDocument}))}catch(M){n=new IntersectionObserver(A,k)}n.observe(e)}return l(!0),o}function e3(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,h=Mx(e),p=a||o?[...h?Fu(h):[],...Fu(t)]:[];p.forEach(S=>{a&&S.addEventListener("scroll",n,{passive:!0}),o&&S.addEventListener("resize",n)});const g=h&&d?JP(h,n):null;let b=-1,y=null;l&&(y=new ResizeObserver(S=>{let[O]=S;O&&O.target===h&&y&&(y.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var k;(k=y)==null||k.observe(t)})),n()}),h&&!f&&y.observe(h),y.observe(t));let w,_=f?Co(e):null;f&&j();function j(){const S=Co(e);_&&!L2(_,S)&&n(),_=S,w=requestAnimationFrame(j)}return n(),()=>{var S;p.forEach(O=>{a&&O.removeEventListener("scroll",n),o&&O.removeEventListener("resize",n)}),g==null||g(),(S=y)==null||S.disconnect(),y=null,f&&cancelAnimationFrame(w)}}const t3=NP,n3=EP,s3=_P,r3=kP,a3=jP,x1=wP,i3=TP,o3=(e,t,n)=>{const s=new Map,a=L({platform:ZP},n),o=he(L({},a.platform),{_c:s});return vP(e,t,he(L({},a),{platform:o}))};var l3=typeof document!="undefined",c3=function(){},rh=l3?N.useLayoutEffect:c3;function vh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!vh(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const o=a[s];if(!(o==="_owner"&&e.$$typeof)&&!vh(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function z2(e){return typeof window=="undefined"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function y1(e,t){const n=z2(e);return Math.round(t*n)/n}function kg(e){const t=N.useRef(e);return rh(()=>{t.current=e}),t}function u3(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:o,floating:l}={},transform:d=!0,whileElementsMounted:f,open:h}=e,[p,g]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,y]=N.useState(s);vh(b,s)||y(s);const[w,_]=N.useState(null),[j,S]=N.useState(null),O=N.useCallback(Z=>{Z!==M.current&&(M.current=Z,_(Z))},[]),k=N.useCallback(Z=>{Z!==V.current&&(V.current=Z,S(Z))},[]),C=o||w,A=l||j,M=N.useRef(null),V=N.useRef(null),D=N.useRef(p),H=f!=null,ee=kg(f),q=kg(a),X=kg(h),ae=N.useCallback(()=>{if(!M.current||!V.current)return;const Z={placement:t,strategy:n,middleware:b};q.current&&(Z.platform=q.current),o3(M.current,V.current,Z).then(le=>{const U=he(L({},le),{isPositioned:X.current!==!1});J.current&&!vh(D.current,U)&&(D.current=U,Vh.flushSync(()=>{g(U)}))})},[b,t,n,q,X]);rh(()=>{h===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,g(Z=>he(L({},Z),{isPositioned:!1})))},[h]);const J=N.useRef(!1);rh(()=>(J.current=!0,()=>{J.current=!1}),[]),rh(()=>{if(C&&(M.current=C),A&&(V.current=A),C&&A){if(ee.current)return ee.current(C,A,ae);ae()}},[C,A,ae,ee,H]);const Y=N.useMemo(()=>({reference:M,floating:V,setReference:O,setFloating:k}),[O,k]),z=N.useMemo(()=>({reference:C,floating:A}),[C,A]),Q=N.useMemo(()=>{const Z={position:n,left:0,top:0};if(!z.floating)return Z;const le=y1(z.floating,p.x),U=y1(z.floating,p.y);return d?L(he(L({},Z),{transform:"translate("+le+"px, "+U+"px)"}),z2(z.floating)>=1.5&&{willChange:"transform"}):{position:n,left:le,top:U}},[n,d,z.floating,p.x,p.y]);return N.useMemo(()=>he(L({},p),{update:ae,refs:Y,elements:z,floatingStyles:Q}),[p,ae,Y,z,Q])}const d3=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?x1({element:s.current,padding:a}).fn(n):{}:s?x1({element:s,padding:a}).fn(n):{}}}},f3=(e,t)=>he(L({},t3(e)),{options:[e,t]}),h3=(e,t)=>he(L({},n3(e)),{options:[e,t]}),m3=(e,t)=>he(L({},i3(e)),{options:[e,t]}),p3=(e,t)=>he(L({},s3(e)),{options:[e,t]}),g3=(e,t)=>he(L({},r3(e)),{options:[e,t]}),x3=(e,t)=>he(L({},a3(e)),{options:[e,t]}),y3=(e,t)=>he(L({},d3(e)),{options:[e,t]});var b3="Arrow",B2=N.forwardRef((e,t)=>{const l=e,{children:n,width:s=10,height:a=5}=l,o=Me(l,["children","width","height"]);return u.jsx(kn.svg,he(L({},o),{ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})}))});B2.displayName=b3;var v3=B2;function w3(e){const[t,n]=N.useState(void 0);return Ci(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let l,d;if("borderBoxSize"in o){const f=o.borderBoxSize,h=Array.isArray(f)?f[0]:f;l=h.inlineSize,d=h.blockSize}else l=e.offsetWidth,d=e.offsetHeight;n({width:l,height:d})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Lx="Popper",[U2,F2]=Ex(Lx),[_3,H2]=U2(Lx),V2=e=>{const{__scopePopper:t,children:n}=e,[s,a]=N.useState(null);return u.jsx(_3,{scope:t,anchor:s,onAnchorChange:a,children:n})};V2.displayName=Lx;var $2="PopperAnchor",q2=N.forwardRef((e,t)=>{const f=e,{__scopePopper:n,virtualRef:s}=f,a=Me(f,["__scopePopper","virtualRef"]),o=H2($2,n),l=N.useRef(null),d=Hr(t,l);return N.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||l.current)}),s?null:u.jsx(kn.div,he(L({},a),{ref:d}))});q2.displayName=$2;var zx="PopperContent",[j3,S3]=U2(zx),I2=N.forwardRef((e,t)=>{var Oe,Ke,He,wt,st,bt,Pe,pt;const Te=e,{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:o="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:y="optimized",onPlaced:w}=Te,_=Me(Te,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),j=H2(zx,n),[S,O]=N.useState(null),k=Hr(t,Vt=>O(Vt)),[C,A]=N.useState(null),M=w3(C),V=(Oe=M==null?void 0:M.width)!=null?Oe:0,D=(Ke=M==null?void 0:M.height)!=null?Ke:0,H=s+(o!=="center"?"-"+o:""),ee=typeof p=="number"?p:L({top:0,right:0,bottom:0,left:0},p),q=Array.isArray(h)?h:[h],X=q.length>0,ae={padding:ee,boundary:q.filter(E3),altBoundary:X},{refs:J,floatingStyles:Y,placement:z,isPositioned:Q,middlewareData:Z}=u3({strategy:"fixed",placement:H,whileElementsMounted:(...Vt)=>e3(...Vt,{animationFrame:y==="always"}),elements:{reference:j.anchor},middleware:[f3({mainAxis:a+D,alignmentAxis:l}),f&&h3(L({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?m3():void 0},ae)),f&&p3(L({},ae)),g3(he(L({},ae),{apply:({elements:Vt,rects:_t,availableWidth:$t,availableHeight:Ct})=>{const{width:W,height:ue}=_t.reference,$=Vt.floating.style;$.setProperty("--radix-popper-available-width",`${$t}px`),$.setProperty("--radix-popper-available-height",`${Ct}px`),$.setProperty("--radix-popper-anchor-width",`${W}px`),$.setProperty("--radix-popper-anchor-height",`${ue}px`)}})),C&&y3({element:C,padding:d}),T3({arrowWidth:V,arrowHeight:D}),b&&x3(L({strategy:"referenceHidden"},ae))]}),[le,U]=X2(z),re=ql(w);Ci(()=>{Q&&(re==null||re())},[Q,re]);const we=(He=Z.arrow)==null?void 0:He.x,I=(wt=Z.arrow)==null?void 0:wt.y,ce=((st=Z.arrow)==null?void 0:st.centerOffset)!==0,[je,be]=N.useState();return Ci(()=>{S&&be(window.getComputedStyle(S).zIndex)},[S]),u.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:L(he(L({},Y),{transform:Q?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[(bt=Z.transformOrigin)==null?void 0:bt.x,(Pe=Z.transformOrigin)==null?void 0:Pe.y].join(" ")}),((pt=Z.hide)==null?void 0:pt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:u.jsx(j3,{scope:n,placedSide:le,onArrowChange:A,arrowX:we,arrowY:I,shouldHideArrow:ce,children:u.jsx(kn.div,he(L({"data-side":le,"data-align":U},_),{ref:k,style:he(L({},_.style),{animation:Q?void 0:"none"})}))})})});I2.displayName=zx;var Y2="PopperArrow",N3={top:"bottom",right:"left",bottom:"top",left:"right"},W2=N.forwardRef(function(t,n){const d=t,{__scopePopper:s}=d,a=Me(d,["__scopePopper"]),o=S3(Y2,s),l=N3[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(v3,he(L({},a),{ref:n,style:he(L({},a.style),{display:"block"})}))})});W2.displayName=Y2;function E3(e){return e!==null}var T3=e=>({name:"transformOrigin",options:e,fn(t){var j,S,O,k,C;const{placement:n,rects:s,middlewareData:a}=t,l=((j=a.arrow)==null?void 0:j.centerOffset)!==0,d=l?0:e.arrowWidth,f=l?0:e.arrowHeight,[h,p]=X2(n),g={start:"0%",center:"50%",end:"100%"}[p],b=((O=(S=a.arrow)==null?void 0:S.x)!=null?O:0)+d/2,y=((C=(k=a.arrow)==null?void 0:k.y)!=null?C:0)+f/2;let w="",_="";return h==="bottom"?(w=l?g:`${b}px`,_=`${-f}px`):h==="top"?(w=l?g:`${b}px`,_=`${s.floating.height+f}px`):h==="right"?(w=`${-f}px`,_=l?g:`${y}px`):h==="left"&&(w=`${s.floating.width+f}px`,_=l?g:`${y}px`),{data:{x:w,y:_}}}});function X2(e){const[t,n="center"]=e.split("-");return[t,n]}var k3=V2,G2=q2,C3=I2,A3=W2,O3="Portal",Bx=N.forwardRef((e,t)=>{var f;const d=e,{container:n}=d,s=Me(d,["container"]),[a,o]=N.useState(!1);Ci(()=>o(!0),[]);const l=n||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return l?y2.createPortal(u.jsx(kn.div,he(L({},s),{ref:t})),l):null});Bx.displayName=O3;function R3(e,t){return N.useReducer((n,s)=>{const a=t[n][s];return a!=null?a:n},e)}var Zl=e=>{const{present:t,children:n}=e,s=D3(t),a=typeof n=="function"?n({present:s.isPresent}):N.Children.only(n),o=Hr(s.ref,M3(a));return typeof n=="function"||s.isPresent?N.cloneElement(a,{ref:o}):null};Zl.displayName="Presence";function D3(e){const[t,n]=N.useState(),s=N.useRef(null),a=N.useRef(e),o=N.useRef("none"),l=e?"mounted":"unmounted",[d,f]=R3(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const h=_f(s.current);o.current=d==="mounted"?h:"none"},[d]),Ci(()=>{const h=s.current,p=a.current;if(p!==e){const b=o.current,y=_f(h);e?f("MOUNT"):y==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&b!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Ci(()=>{var h;if(t){let p;const g=(h=t.ownerDocument.defaultView)!=null?h:window,b=w=>{const j=_f(s.current).includes(w.animationName);if(w.target===t&&j&&(f("ANIMATION_END"),!a.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},y=w=>{w.target===t&&(o.current=_f(s.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:N.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function _f(e){return(e==null?void 0:e.animationName)||"none"}function M3(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var P3=hS[" useInsertionEffect ".trim().toString()]||Ci;function K2({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,o,l]=L3({defaultProp:t,onChange:n}),d=e!==void 0,f=d?e:a;{const p=N.useRef(e!==void 0);N.useEffect(()=>{const g=p.current;g!==d&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,s])}const h=N.useCallback(p=>{var g;if(d){const b=z3(p)?p(e):p;b!==e&&((g=l.current)==null||g.call(l,b))}else o(p)},[d,e,o,l]);return[f,h]}function L3({defaultProp:e,onChange:t}){const[n,s]=N.useState(e),a=N.useRef(n),o=N.useRef(t);return P3(()=>{o.current=t},[t]),N.useEffect(()=>{var l;a.current!==n&&((l=o.current)==null||l.call(o,n),a.current=n)},[n,a]),[n,s,o]}function z3(e){return typeof e=="function"}var B3=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},jl=new WeakMap,jf=new WeakMap,Sf={},Cg=0,Q2=function(e){return e&&(e.host||Q2(e.parentNode))},U3=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=Q2(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},F3=function(e,t,n,s){var a=U3(t,Array.isArray(e)?e:[e]);Sf[n]||(Sf[n]=new WeakMap);var o=Sf[n],l=[],d=new Set,f=new Set(a),h=function(g){!g||d.has(g)||(d.add(g),h(g.parentNode))};a.forEach(h);var p=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(b){if(d.has(b))p(b);else try{var y=b.getAttribute(s),w=y!==null&&y!=="false",_=(jl.get(b)||0)+1,j=(o.get(b)||0)+1;jl.set(b,_),o.set(b,j),l.push(b),_===1&&w&&jf.set(b,!0),j===1&&b.setAttribute(n,"true"),w||b.setAttribute(s,"true")}catch(S){console.error("aria-hidden: cannot operate on ",b,S)}})};return p(t),d.clear(),Cg++,function(){l.forEach(function(g){var b=jl.get(g)-1,y=o.get(g)-1;jl.set(g,b),o.set(g,y),b||(jf.has(g)||g.removeAttribute(s),jf.delete(g)),y||g.removeAttribute(n)}),Cg--,Cg||(jl=new WeakMap,jl=new WeakMap,jf=new WeakMap,Sf={})}},Z2=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=B3(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),F3(s,a,n,"aria-hidden")):function(){return null}},ta=function(){return ta=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ta.apply(this,arguments)};function J2(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function H3(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,o;s<a;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var ah="right-scroll-bar-position",ih="width-before-scroll-bar",V3="with-scroll-bars-hidden",$3="--removed-body-scroll-bar-size";function Ag(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function q3(e,t){var n=N.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var I3=typeof window!="undefined"?N.useLayoutEffect:N.useEffect,b1=new WeakMap;function Y3(e,t){var n=q3(null,function(s){return e.forEach(function(a){return Ag(a,s)})});return I3(function(){var s=b1.get(n);if(s){var a=new Set(s),o=new Set(e),l=n.current;a.forEach(function(d){o.has(d)||Ag(d,null)}),o.forEach(function(d){a.has(d)||Ag(d,l)})}b1.set(n,e)},[e]),n}function W3(e){return e}function X3(e,t){t===void 0&&(t=W3);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,s);return n.push(l),function(){n=n.filter(function(d){return d!==l})}},assignSyncMedium:function(o){for(s=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(d){return o(d)},filter:function(){return n}}},assignMedium:function(o){s=!0;var l=[];if(n.length){var d=n;n=[],d.forEach(o),l=n}var f=function(){var p=l;l=[],p.forEach(o)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),n}}}};return a}function G3(e){e===void 0&&(e={});var t=X3(null);return t.options=ta({async:!0,ssr:!1},e),t}var eN=function(e){var t=e.sideCar,n=J2(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return N.createElement(s,ta({},n))};eN.isSideCarExport=!0;function K3(e,t){return e.useMedium(t),eN}var tN=G3(),Og=function(){},Kh=N.forwardRef(function(e,t){var n=N.useRef(null),s=N.useState({onScrollCapture:Og,onWheelCapture:Og,onTouchMoveCapture:Og}),a=s[0],o=s[1],l=e.forwardProps,d=e.children,f=e.className,h=e.removeScrollBar,p=e.enabled,g=e.shards,b=e.sideCar,y=e.noRelative,w=e.noIsolation,_=e.inert,j=e.allowPinchZoom,S=e.as,O=S===void 0?"div":S,k=e.gapMode,C=J2(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=b,M=Y3([n,t]),V=ta(ta({},C),a);return N.createElement(N.Fragment,null,p&&N.createElement(A,{sideCar:tN,removeScrollBar:h,shards:g,noRelative:y,noIsolation:w,inert:_,setCallbacks:o,allowPinchZoom:!!j,lockRef:n,gapMode:k}),l?N.cloneElement(N.Children.only(d),ta(ta({},V),{ref:M})):N.createElement(O,ta({},V,{className:f,ref:M}),d))});Kh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kh.classNames={fullWidth:ih,zeroRight:ah};var Q3=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function Z3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Q3();return t&&e.setAttribute("nonce",t),e}function J3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function e4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var t4=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Z3())&&(J3(t,n),e4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},n4=function(){var e=t4();return function(t,n){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},nN=function(){var e=n4(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},s4={left:0,top:0,right:0,gap:0},Rg=function(e){return parseInt(e||"",10)||0},r4=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Rg(n),Rg(s),Rg(a)]},a4=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return s4;var t=r4(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},i4=nN(),Ul="data-scroll-locked",o4=function(e,t,n,s){var a=e.left,o=e.top,l=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(V3,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(Ul,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ah,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(ih,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(ah," .").concat(ah,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(ih," .").concat(ih,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ul,`] {
    `).concat($3,": ").concat(d,`px;
  }
`)},v1=function(){var e=parseInt(document.body.getAttribute(Ul)||"0",10);return isFinite(e)?e:0},l4=function(){N.useEffect(function(){return document.body.setAttribute(Ul,(v1()+1).toString()),function(){var e=v1()-1;e<=0?document.body.removeAttribute(Ul):document.body.setAttribute(Ul,e.toString())}},[])},c4=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;l4();var o=N.useMemo(function(){return a4(a)},[a]);return N.createElement(i4,{styles:o4(o,!t,a,n?"":"!important")})},k0=!1;if(typeof window!="undefined")try{var Nf=Object.defineProperty({},"passive",{get:function(){return k0=!0,!0}});window.addEventListener("test",Nf,Nf),window.removeEventListener("test",Nf,Nf)}catch(e){k0=!1}var Sl=k0?{passive:!1}:!1,u4=function(e){return e.tagName==="TEXTAREA"},sN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!u4(e)&&n[t]==="visible")},d4=function(e){return sN(e,"overflowY")},f4=function(e){return sN(e,"overflowX")},w1=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot!="undefined"&&s instanceof ShadowRoot&&(s=s.host);var a=rN(e,s);if(a){var o=aN(e,s),l=o[1],d=o[2];if(l>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},h4=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},m4=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},rN=function(e,t){return e==="v"?d4(t):f4(t)},aN=function(e,t){return e==="v"?h4(t):m4(t)},p4=function(e,t){return e==="h"&&t==="rtl"?-1:1},g4=function(e,t,n,s,a){var o=p4(e,window.getComputedStyle(t).direction),l=o*s,d=n.target,f=t.contains(d),h=!1,p=l>0,g=0,b=0;do{if(!d)break;var y=aN(e,d),w=y[0],_=y[1],j=y[2],S=_-j-o*w;(w||S)&&rN(e,d)&&(g+=S,b+=w);var O=d.parentNode;d=O&&O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?O.host:O}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(p&&Math.abs(g)<1||!p&&Math.abs(b)<1)&&(h=!0),h},Ef=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},_1=function(e){return[e.deltaX,e.deltaY]},j1=function(e){return e&&"current"in e?e.current:e},x4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},y4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},b4=0,Nl=[];function v4(e){var t=N.useRef([]),n=N.useRef([0,0]),s=N.useRef(),a=N.useState(b4++)[0],o=N.useState(nN)[0],l=N.useRef(e);N.useEffect(function(){l.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var _=H3([e.lockRef.current],(e.shards||[]).map(j1),!0).filter(Boolean);return _.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),_.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var d=N.useCallback(function(_,j){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var S=Ef(_),O=n.current,k="deltaX"in _?_.deltaX:O[0]-S[0],C="deltaY"in _?_.deltaY:O[1]-S[1],A,M=_.target,V=Math.abs(k)>Math.abs(C)?"h":"v";if("touches"in _&&V==="h"&&M.type==="range")return!1;var D=w1(V,M);if(!D)return!0;if(D?A=V:(A=V==="v"?"h":"v",D=w1(V,M)),!D)return!1;if(!s.current&&"changedTouches"in _&&(k||C)&&(s.current=A),!A)return!0;var H=s.current||A;return g4(H,j,_,H==="h"?k:C)},[]),f=N.useCallback(function(_){var j=_;if(!(!Nl.length||Nl[Nl.length-1]!==o)){var S="deltaY"in j?_1(j):Ef(j),O=t.current.filter(function(A){return A.name===j.type&&(A.target===j.target||j.target===A.shadowParent)&&x4(A.delta,S)})[0];if(O&&O.should){j.cancelable&&j.preventDefault();return}if(!O){var k=(l.current.shards||[]).map(j1).filter(Boolean).filter(function(A){return A.contains(j.target)}),C=k.length>0?d(j,k[0]):!l.current.noIsolation;C&&j.cancelable&&j.preventDefault()}}},[]),h=N.useCallback(function(_,j,S,O){var k={name:_,delta:j,target:S,should:O,shadowParent:w4(S)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(C){return C!==k})},1)},[]),p=N.useCallback(function(_){n.current=Ef(_),s.current=void 0},[]),g=N.useCallback(function(_){h(_.type,_1(_),_.target,d(_,e.lockRef.current))},[]),b=N.useCallback(function(_){h(_.type,Ef(_),_.target,d(_,e.lockRef.current))},[]);N.useEffect(function(){return Nl.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",f,Sl),document.addEventListener("touchmove",f,Sl),document.addEventListener("touchstart",p,Sl),function(){Nl=Nl.filter(function(_){return _!==o}),document.removeEventListener("wheel",f,Sl),document.removeEventListener("touchmove",f,Sl),document.removeEventListener("touchstart",p,Sl)}},[]);var y=e.removeScrollBar,w=e.inert;return N.createElement(N.Fragment,null,w?N.createElement(o,{styles:y4(a)}):null,y?N.createElement(c4,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function w4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const _4=K3(tN,v4);var Ux=N.forwardRef(function(e,t){return N.createElement(Kh,ta({},e,{ref:t,sideCar:_4}))});Ux.classNames=Kh.classNames;var Qh="Popover",[iN,rH]=Ex(Qh,[F2]),Zu=F2(),[j4,Li]=iN(Qh),oN=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!1}=e,d=Zu(t),f=N.useRef(null),[h,p]=N.useState(!1),[g,b]=K2({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:Qh});return u.jsx(k3,he(L({},d),{children:u.jsx(j4,{scope:t,contentId:ia(),triggerRef:f,open:g,onOpenChange:b,onOpenToggle:N.useCallback(()=>b(y=>!y),[b]),hasCustomAnchor:h,onCustomAnchorAdd:N.useCallback(()=>p(!0),[]),onCustomAnchorRemove:N.useCallback(()=>p(!1),[]),modal:l,children:n})}))};oN.displayName=Qh;var lN="PopoverAnchor",S4=N.forwardRef((e,t)=>{const f=e,{__scopePopover:n}=f,s=Me(f,["__scopePopover"]),a=Li(lN,n),o=Zu(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:d}=a;return N.useEffect(()=>(l(),()=>d()),[l,d]),u.jsx(G2,he(L(L({},o),s),{ref:t}))});S4.displayName=lN;var cN="PopoverTrigger",uN=N.forwardRef((e,t)=>{const f=e,{__scopePopover:n}=f,s=Me(f,["__scopePopover"]),a=Li(cN,n),o=Zu(n),l=Hr(t,a.triggerRef),d=u.jsx(kn.button,he(L({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":pN(a.open)},s),{ref:l,onClick:rr(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?d:u.jsx(G2,he(L({asChild:!0},o),{children:d}))});uN.displayName=cN;var Fx="PopoverPortal",[N4,E4]=iN(Fx,{forceMount:void 0}),dN=e=>{const{__scopePopover:t,forceMount:n,children:s,container:a}=e,o=Li(Fx,t);return u.jsx(N4,{scope:t,forceMount:n,children:u.jsx(Zl,{present:n||o.open,children:u.jsx(Bx,{asChild:!0,container:a,children:s})})})};dN.displayName=Fx;var Yl="PopoverContent",fN=N.forwardRef((e,t)=>{const n=E4(Yl,e.__scopePopover),l=e,{forceMount:s=n.forceMount}=l,a=Me(l,["forceMount"]),o=Li(Yl,e.__scopePopover);return u.jsx(Zl,{present:s||o.open,children:o.modal?u.jsx(k4,he(L({},a),{ref:t})):u.jsx(C4,he(L({},a),{ref:t}))})});fN.displayName=Yl;var T4=Yh("PopoverContent.RemoveScroll"),k4=N.forwardRef((e,t)=>{const n=Li(Yl,e.__scopePopover),s=N.useRef(null),a=Hr(t,s),o=N.useRef(!1);return N.useEffect(()=>{const l=s.current;if(l)return Z2(l)},[]),u.jsx(Ux,{as:T4,allowPinchZoom:!0,children:u.jsx(hN,he(L({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rr(e.onCloseAutoFocus,l=>{var d;l.preventDefault(),o.current||(d=n.triggerRef.current)==null||d.focus()}),onPointerDownOutside:rr(e.onPointerDownOutside,l=>{const d=l.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,h=d.button===2||f;o.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:rr(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})}))})}),C4=N.forwardRef((e,t)=>{const n=Li(Yl,e.__scopePopover),s=N.useRef(!1),a=N.useRef(!1);return u.jsx(hN,he(L({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,d;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),hN=N.forwardRef((e,t)=>{const w=e,{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p}=w,g=Me(w,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),b=Li(Yl,n),y=Zu(n);return N2(),u.jsx(kx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:u.jsx(Tx,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>b.onOpenChange(!1),children:u.jsx(C3,he(L(L({"data-state":pN(b.open),role:"dialog",id:b.contentId},y),g),{ref:t,style:he(L({},g.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),mN="PopoverClose",A4=N.forwardRef((e,t)=>{const o=e,{__scopePopover:n}=o,s=Me(o,["__scopePopover"]),a=Li(mN,n);return u.jsx(kn.button,he(L({type:"button"},s),{ref:t,onClick:rr(e.onClick,()=>a.onOpenChange(!1))}))});A4.displayName=mN;var O4="PopoverArrow",R4=N.forwardRef((e,t)=>{const o=e,{__scopePopover:n}=o,s=Me(o,["__scopePopover"]),a=Zu(n);return u.jsx(A3,he(L(L({},a),s),{ref:t}))});R4.displayName=O4;function pN(e){return e?"open":"closed"}var D4=oN,M4=uN,P4=dN,L4=fN;function gN(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=gN(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function xN(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=gN(e))&&(s&&(s+=" "),s+=t);return s}const Hx="-",z4=e=>{const t=U4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:l=>{const d=l.split(Hx);return d[0]===""&&d.length!==1&&d.shift(),yN(d,t)||B4(l)},getConflictingClassGroupIds:(l,d)=>{const f=n[l]||[];return d&&s[l]?[...f,...s[l]]:f}}},yN=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?yN(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(Hx);return(l=t.validators.find(({validator:d})=>d(o)))==null?void 0:l.classGroupId},S1=/^\[(.+)\]$/,B4=e=>{if(S1.test(e)){const t=S1.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},U4=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const a in n)C0(n[a],s,a,t);return s},C0=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:N1(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(F4(a)){C0(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,l])=>{C0(l,N1(t,o),n,s)})})},N1=(e,t)=>{let n=e;return t.split(Hx).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},F4=e=>e.isThemeGetter,H4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(o,l)=>{n.set(o,l),t++,t>e&&(t=0,s=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=s.get(o))!==void 0)return a(o,l),l},set(o,l){n.has(o)?n.set(o,l):a(o,l)}}},A0="!",O0=":",V4=O0.length,$4=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=a=>{const o=[];let l=0,d=0,f=0,h;for(let w=0;w<a.length;w++){let _=a[w];if(l===0&&d===0){if(_===O0){o.push(a.slice(f,w)),f=w+V4;continue}if(_==="/"){h=w;continue}}_==="["?l++:_==="]"?l--:_==="("?d++:_===")"&&d--}const p=o.length===0?a:a.substring(f),g=q4(p),b=g!==p,y=h&&h>f?h-f:void 0;return{modifiers:o,hasImportantModifier:b,baseClassName:g,maybePostfixModifierPosition:y}};if(t){const a=t+O0,o=s;s=l=>l.startsWith(a)?o(l.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const a=s;s=o=>n({className:o,parseClassName:a})}return s},q4=e=>e.endsWith(A0)?e.substring(0,e.length-1):e.startsWith(A0)?e.substring(1):e,I4=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let o=[];return s.forEach(l=>{l[0]==="["||t[l]?(a.push(...o.sort(),l),o=[]):o.push(l)}),a.push(...o.sort()),a}},Y4=e=>L({cache:H4(e.cacheSize),parseClassName:$4(e),sortModifiers:I4(e)},z4(e)),W4=/\s+/,X4=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:o}=t,l=[],d=e.trim().split(W4);let f="";for(let h=d.length-1;h>=0;h-=1){const p=d[h],{isExternal:g,modifiers:b,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:_}=n(p);if(g){f=p+(f.length>0?" "+f:f);continue}let j=!!_,S=s(j?w.substring(0,_):w);if(!S){if(!j){f=p+(f.length>0?" "+f:f);continue}if(S=s(w),!S){f=p+(f.length>0?" "+f:f);continue}j=!1}const O=o(b).join(":"),k=y?O+A0:O,C=k+S;if(l.includes(C))continue;l.push(C);const A=a(S,j);for(let M=0;M<A.length;++M){const V=A[M];l.push(k+V)}f=p+(f.length>0?" "+f:f)}return f};function G4(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=bN(t))&&(s&&(s+=" "),s+=n);return s}const bN=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=bN(e[s]))&&(n&&(n+=" "),n+=t);return n};function K4(e,...t){let n,s,a,o=l;function l(f){const h=t.reduce((p,g)=>g(p),e());return n=Y4(h),s=n.cache.get,a=n.cache.set,o=d,d(f)}function d(f){const h=s(f);if(h)return h;const p=X4(f,n);return a(f,p),p}return function(){return o(G4.apply(null,arguments))}}const Jn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},vN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,wN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Q4=/^\d+\/\d+$/,Z4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,J4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,e5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,t5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,n5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,El=e=>Q4.test(e),Lt=e=>!!e&&!Number.isNaN(Number(e)),xi=e=>!!e&&Number.isInteger(Number(e)),Dg=e=>e.endsWith("%")&&Lt(e.slice(0,-1)),Oa=e=>Z4.test(e),s5=()=>!0,r5=e=>J4.test(e)&&!e5.test(e),_N=()=>!1,a5=e=>t5.test(e),i5=e=>n5.test(e),o5=e=>!Je(e)&&!et(e),l5=e=>Jl(e,NN,_N),Je=e=>vN.test(e),co=e=>Jl(e,EN,r5),Mg=e=>Jl(e,h5,Lt),E1=e=>Jl(e,jN,_N),c5=e=>Jl(e,SN,i5),Tf=e=>Jl(e,TN,a5),et=e=>wN.test(e),lu=e=>ec(e,EN),u5=e=>ec(e,m5),T1=e=>ec(e,jN),d5=e=>ec(e,NN),f5=e=>ec(e,SN),kf=e=>ec(e,TN,!0),Jl=(e,t,n)=>{const s=vN.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},ec=(e,t,n=!1)=>{const s=wN.exec(e);return s?s[1]?t(s[1]):n:!1},jN=e=>e==="position"||e==="percentage",SN=e=>e==="image"||e==="url",NN=e=>e==="length"||e==="size"||e==="bg-size",EN=e=>e==="length",h5=e=>e==="number",m5=e=>e==="family-name",TN=e=>e==="shadow",p5=()=>{const e=Jn("color"),t=Jn("font"),n=Jn("text"),s=Jn("font-weight"),a=Jn("tracking"),o=Jn("leading"),l=Jn("breakpoint"),d=Jn("container"),f=Jn("spacing"),h=Jn("radius"),p=Jn("shadow"),g=Jn("inset-shadow"),b=Jn("text-shadow"),y=Jn("drop-shadow"),w=Jn("blur"),_=Jn("perspective"),j=Jn("aspect"),S=Jn("ease"),O=Jn("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...C(),et,Je],M=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto","contain","none"],D=()=>[et,Je,f],H=()=>[El,"full","auto",...D()],ee=()=>[xi,"none","subgrid",et,Je],q=()=>["auto",{span:["full",xi,et,Je]},xi,et,Je],X=()=>[xi,"auto",et,Je],ae=()=>["auto","min","max","fr",et,Je],J=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...D()],Q=()=>[El,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],Z=()=>[e,et,Je],le=()=>[...C(),T1,E1,{position:[et,Je]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],re=()=>["auto","cover","contain",d5,l5,{size:[et,Je]}],we=()=>[Dg,lu,co],I=()=>["","none","full",h,et,Je],ce=()=>["",Lt,lu,co],je=()=>["solid","dashed","dotted","double"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Te=()=>[Lt,Dg,T1,E1],Oe=()=>["","none",w,et,Je],Ke=()=>["none",Lt,et,Je],He=()=>["none",Lt,et,Je],wt=()=>[Lt,et,Je],st=()=>[El,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Oa],breakpoint:[Oa],color:[s5],container:[Oa],"drop-shadow":[Oa],ease:["in","out","in-out"],font:[o5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Oa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Oa],shadow:[Oa],spacing:["px",Lt],text:[Oa],"text-shadow":[Oa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",El,Je,et,j]}],container:["container"],columns:[{columns:[Lt,Je,et,d]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:H()}],"inset-x":[{"inset-x":H()}],"inset-y":[{"inset-y":H()}],start:[{start:H()}],end:[{end:H()}],top:[{top:H()}],right:[{right:H()}],bottom:[{bottom:H()}],left:[{left:H()}],visibility:["visible","invisible","collapse"],z:[{z:[xi,"auto",et,Je]}],basis:[{basis:[El,"full","auto",d,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Lt,El,"auto","initial","none",Je]}],grow:[{grow:["",Lt,et,Je]}],shrink:[{shrink:["",Lt,et,Je]}],order:[{order:[xi,"first","last","none",et,Je]}],"grid-cols":[{"grid-cols":ee()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":ee()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ae()}],"auto-rows":[{"auto-rows":ae()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...J(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...J()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":J()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[d,"screen",...Q()]}],"min-w":[{"min-w":[d,"screen","none",...Q()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",n,lu,co]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,et,Mg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Dg,Je]}],"font-family":[{font:[u5,Je,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,et,Je]}],"line-clamp":[{"line-clamp":[Lt,"none",et,Mg]}],leading:[{leading:[o,...D()]}],"list-image":[{"list-image":["none",et,Je]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",et,Je]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...je(),"wavy"]}],"text-decoration-thickness":[{decoration:[Lt,"from-font","auto",et,co]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[Lt,"auto",et,Je]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",et,Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",et,Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:re()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xi,et,Je],radial:["",et,Je],conic:[xi,et,Je]},f5,c5]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:we()}],"gradient-via-pos":[{via:we()}],"gradient-to-pos":[{to:we()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:I()}],"rounded-s":[{"rounded-s":I()}],"rounded-e":[{"rounded-e":I()}],"rounded-t":[{"rounded-t":I()}],"rounded-r":[{"rounded-r":I()}],"rounded-b":[{"rounded-b":I()}],"rounded-l":[{"rounded-l":I()}],"rounded-ss":[{"rounded-ss":I()}],"rounded-se":[{"rounded-se":I()}],"rounded-ee":[{"rounded-ee":I()}],"rounded-es":[{"rounded-es":I()}],"rounded-tl":[{"rounded-tl":I()}],"rounded-tr":[{"rounded-tr":I()}],"rounded-br":[{"rounded-br":I()}],"rounded-bl":[{"rounded-bl":I()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...je(),"hidden","none"]}],"divide-style":[{divide:[...je(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...je(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Lt,et,Je]}],"outline-w":[{outline:["",Lt,lu,co]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",p,kf,Tf]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",g,kf,Tf]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[Lt,co]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",b,kf,Tf]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[Lt,et,Je]}],"mix-blend":[{"mix-blend":[...be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Lt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Te()}],"mask-image-linear-to-pos":[{"mask-linear-to":Te()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":Te()}],"mask-image-t-to-pos":[{"mask-t-to":Te()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":Te()}],"mask-image-r-to-pos":[{"mask-r-to":Te()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":Te()}],"mask-image-b-to-pos":[{"mask-b-to":Te()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":Te()}],"mask-image-l-to-pos":[{"mask-l-to":Te()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":Te()}],"mask-image-x-to-pos":[{"mask-x-to":Te()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":Te()}],"mask-image-y-to-pos":[{"mask-y-to":Te()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[et,Je]}],"mask-image-radial-from-pos":[{"mask-radial-from":Te()}],"mask-image-radial-to-pos":[{"mask-radial-to":Te()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Lt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Te()}],"mask-image-conic-to-pos":[{"mask-conic-to":Te()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:re()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",et,Je]}],filter:[{filter:["","none",et,Je]}],blur:[{blur:Oe()}],brightness:[{brightness:[Lt,et,Je]}],contrast:[{contrast:[Lt,et,Je]}],"drop-shadow":[{"drop-shadow":["","none",y,kf,Tf]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",Lt,et,Je]}],"hue-rotate":[{"hue-rotate":[Lt,et,Je]}],invert:[{invert:["",Lt,et,Je]}],saturate:[{saturate:[Lt,et,Je]}],sepia:[{sepia:["",Lt,et,Je]}],"backdrop-filter":[{"backdrop-filter":["","none",et,Je]}],"backdrop-blur":[{"backdrop-blur":Oe()}],"backdrop-brightness":[{"backdrop-brightness":[Lt,et,Je]}],"backdrop-contrast":[{"backdrop-contrast":[Lt,et,Je]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Lt,et,Je]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Lt,et,Je]}],"backdrop-invert":[{"backdrop-invert":["",Lt,et,Je]}],"backdrop-opacity":[{"backdrop-opacity":[Lt,et,Je]}],"backdrop-saturate":[{"backdrop-saturate":[Lt,et,Je]}],"backdrop-sepia":[{"backdrop-sepia":["",Lt,et,Je]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",et,Je]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Lt,"initial",et,Je]}],ease:[{ease:["linear","initial",S,et,Je]}],delay:[{delay:[Lt,et,Je]}],animate:[{animate:["none",O,et,Je]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,et,Je]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:Ke()}],"rotate-x":[{"rotate-x":Ke()}],"rotate-y":[{"rotate-y":Ke()}],"rotate-z":[{"rotate-z":Ke()}],scale:[{scale:He()}],"scale-x":[{"scale-x":He()}],"scale-y":[{"scale-y":He()}],"scale-z":[{"scale-z":He()}],"scale-3d":["scale-3d"],skew:[{skew:wt()}],"skew-x":[{"skew-x":wt()}],"skew-y":[{"skew-y":wt()}],transform:[{transform:[et,Je,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:st()}],"translate-x":[{"translate-x":st()}],"translate-y":[{"translate-y":st()}],"translate-z":[{"translate-z":st()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",et,Je]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",et,Je]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[Lt,lu,co,Mg]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},g5=K4(p5);function jn(...e){return g5(xN(e))}function Vx(t){var e=Me(t,[]);return u.jsx(D4,L({"data-slot":"popover"},e))}function $x(t){var e=Me(t,[]);return u.jsx(M4,L({"data-slot":"popover-trigger"},e))}function qx(a){var o=a,{className:e,align:t="center",sideOffset:n=4}=o,s=Me(o,["className","align","sideOffset"]);return u.jsx(P4,{children:u.jsx(L4,L({"data-slot":"popover-content",align:t,sideOffset:n,className:jn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e)},s))})}const Ru=class Ru{static useUsers(){const{data:t,isLoading:n,error:s}=_n("User",{fields:Ru.USER_FIELDS,filters:[["enabled","=",1],["user_type","=","System User"]],limit:0});return{data:t||[],isLoading:n,error:s}}static useCurrentUser(){const{currentUser:t,isLoading:n}=Mu();return{currentUser:t,isLoading:n}}static useCurrentUserProfile(){const{currentUser:t}=Mu(),{data:n,isLoading:s,error:a}=Bn("User",t||void 0,{fields:Ru.USER_FIELDS});return{currentUserProfile:n,isLoading:s,error:a}}};ft(Ru,"USER_FIELDS",["name","email","full_name","first_name","last_name","user_image","enabled","user_type","role_profile_name"]);let wh=Ru;const x5=wh.useCurrentUser,y5=wh.useCurrentUserProfile,b5=({onMenuClick:e})=>{const{currentUser:t,isLoading:n}=x5(),{currentUserProfile:s}=y5(),{logout:a}=Mu(),o=()=>xe(null,null,function*(){try{yield a(),window.location.href="http://localhost:8007/login"}catch(p){console.error("Logout failed:",p)}}),l=()=>s?s.full_name||s.first_name||s.email||"User":!t||typeof t=="string"?t||"Guest":t.full_name||t.first_name||t.email||"User",d=()=>t?l().split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2):"G",f=()=>s!=null&&s.user_image?s.user_image:null,h=()=>s?s.email:t&&typeof t!="string"?t.email:t||"No email";return u.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:u.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 lg:hidden",children:u.jsx(uM,{className:"h-5 w-5 text-gray-600"})}),u.jsxs("div",{className:"relative hidden md:block",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(qh,{className:"h-4 w-4 text-gray-400"})}),u.jsx("input",{type:"text",className:"block w-80 pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects, tasks, or team members..."})]})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[u.jsx(ND,{className:"h-5 w-5 text-gray-600"}),u.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),u.jsx("div",{className:"relative",children:u.jsxs(Vx,{children:[u.jsx($x,{asChild:!0,children:u.jsxs("button",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f()?u.jsx("img",{src:f(),alt:"User avatar",className:"w-8 h-8 rounded-full object-cover"}):u.jsx("span",{className:"text-xs font-medium text-white",children:d()})}),u.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:n?"Loading...":l()}),u.jsx(v2,{className:"h-4 w-4 text-gray-500"})]})}),u.jsxs(qx,{className:"w-64 p-0",align:"end",children:[u.jsx("div",{className:"p-4 border-b border-gray-100",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f()?u.jsx("img",{src:f(),alt:"User avatar",className:"w-10 h-10 rounded-full object-cover"}):u.jsx("span",{className:"text-sm font-medium text-white",children:d()})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900",children:l()}),u.jsx("p",{className:"text-sm text-gray-500",children:h()})]})]})}),u.jsxs("div",{className:"p-2",children:[u.jsxs("button",{className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[u.jsx(_2,{className:"h-4 w-4 text-gray-500"}),u.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),u.jsxs("button",{onClick:o,className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-red-50 transition-colors duration-200 text-red-600",children:[u.jsx(lM,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm",children:"Sign out"})]})]})]})]})})]})]})})};function v5(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const w5=e=>{switch(e){case"success":return S5;case"info":return E5;case"warning":return N5;case"error":return T5;default:return null}},_5=Array(12).fill(0),j5=({visible:e,className:t})=>te.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},te.createElement("div",{className:"sonner-spinner"},_5.map((n,s)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),S5=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),N5=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),E5=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),T5=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),k5=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),C5=()=>{const[e,t]=te.useState(document.hidden);return te.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let R0=1;class A5{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const f=t,{message:s}=f,a=Me(f,["message"]),o=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:R0++,l=this.toasts.find(h=>h.id===o),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(h=>h.id===o?(this.publish(he(L(L({},h),t),{id:o,title:s})),he(L(L({},h),t),{id:o,dismissible:d,title:s})):h):this.addToast(he(L({title:s},a),{dismissible:d,id:o})),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create(he(L({},n),{message:t})),this.error=(t,n)=>this.create(he(L({},n),{message:t,type:"error"})),this.success=(t,n)=>this.create(he(L({},n),{type:"success",message:t})),this.info=(t,n)=>this.create(he(L({},n),{type:"info",message:t})),this.warning=(t,n)=>this.create(he(L({},n),{type:"warning",message:t})),this.loading=(t,n)=>this.create(he(L({},n),{type:"loading",message:t})),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create(he(L({},n),{promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0})));const a=Promise.resolve(t instanceof Function?t():t);let o=s!==void 0,l;const d=a.then(h=>xe(this,null,function*(){if(l=["resolve",h],te.isValidElement(h))o=!1,this.create({id:s,type:"default",message:h});else if(R5(h)&&!h.ok){o=!1;const g=typeof n.error=="function"?yield n.error(`HTTP error! status: ${h.status}`):n.error,b=typeof n.description=="function"?yield n.description(`HTTP error! status: ${h.status}`):n.description,w=typeof g=="object"&&!te.isValidElement(g)?g:{message:g};this.create(L({id:s,type:"error",description:b},w))}else if(h instanceof Error){o=!1;const g=typeof n.error=="function"?yield n.error(h):n.error,b=typeof n.description=="function"?yield n.description(h):n.description,w=typeof g=="object"&&!te.isValidElement(g)?g:{message:g};this.create(L({id:s,type:"error",description:b},w))}else if(n.success!==void 0){o=!1;const g=typeof n.success=="function"?yield n.success(h):n.success,b=typeof n.description=="function"?yield n.description(h):n.description,w=typeof g=="object"&&!te.isValidElement(g)?g:{message:g};this.create(L({id:s,type:"success",description:b},w))}})).catch(h=>xe(this,null,function*(){if(l=["reject",h],n.error!==void 0){o=!1;const p=typeof n.error=="function"?yield n.error(h):n.error,g=typeof n.description=="function"?yield n.description(h):n.description,y=typeof p=="object"&&!te.isValidElement(p)?p:{message:p};this.create(L({id:s,type:"error",description:g},y))}})).finally(()=>{o&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((h,p)=>d.then(()=>l[0]==="reject"?p(l[1]):h(l[1])).catch(p));return typeof s!="string"&&typeof s!="number"?{unwrap:f}:Object.assign(s,{unwrap:f})},this.custom=(t,n)=>{const s=(n==null?void 0:n.id)||R0++;return this.create(L({jsx:t(s),id:s},n)),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Fs=new A5,O5=(e,t)=>{const n=(t==null?void 0:t.id)||R0++;return Fs.addToast(he(L({title:e},t),{id:n})),n},R5=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",D5=O5,M5=()=>Fs.toasts,P5=()=>Fs.getActiveToasts(),gs=Object.assign(D5,{success:Fs.success,info:Fs.info,warning:Fs.warning,error:Fs.error,custom:Fs.custom,message:Fs.message,promise:Fs.promise,dismiss:Fs.dismiss,loading:Fs.loading},{getHistory:M5,getToasts:P5});v5("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Cf(e){return e.label!==void 0}const L5=3,z5="24px",B5="16px",k1=4e3,U5=356,F5=14,H5=45,V5=200;function Kr(...e){return e.filter(Boolean).join(" ")}function $5(e){const[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const q5=e=>{var t,n,s,a,o,l,d,f,h;const{invert:p,toast:g,unstyled:b,interacting:y,setHeights:w,visibleToasts:_,heights:j,index:S,toasts:O,expanded:k,removeToast:C,defaultRichColors:A,closeButton:M,style:V,cancelButtonStyle:D,actionButtonStyle:H,className:ee="",descriptionClassName:q="",duration:X,position:ae,gap:J,expandByDefault:Y,classNames:z,icons:Q,closeButtonAriaLabel:Z="Close toast"}=e,[le,U]=te.useState(null),[re,we]=te.useState(null),[I,ce]=te.useState(!1),[je,be]=te.useState(!1),[Te,Oe]=te.useState(!1),[Ke,He]=te.useState(!1),[wt,st]=te.useState(!1),[bt,Pe]=te.useState(0),[pt,Vt]=te.useState(0),_t=te.useRef(g.duration||X||k1),$t=te.useRef(null),Ct=te.useRef(null),W=S===0,ue=S+1<=_,$=g.type,Se=g.dismissible!==!1,De=g.className||"",Re=g.descriptionClassName||"",Be=te.useMemo(()=>j.findIndex(We=>We.toastId===g.id)||0,[j,g.id]),qe=te.useMemo(()=>{var We;return(We=g.closeButton)!=null?We:M},[g.closeButton,M]),Xe=te.useMemo(()=>g.duration||X||k1,[g.duration,X]),gt=te.useRef(0),yn=te.useRef(0),lt=te.useRef(0),ke=te.useRef(null),[Ue,Dt]=ae.split("-"),Sn=te.useMemo(()=>j.reduce((We,vt,qt)=>qt>=Be?We:We+vt.height,0),[j,Be]),rs=C5(),Hn=g.invert||p,us=$==="loading";yn.current=te.useMemo(()=>Be*J+Sn,[Be,Sn]),te.useEffect(()=>{_t.current=Xe},[Xe]),te.useEffect(()=>{ce(!0)},[]),te.useEffect(()=>{const We=Ct.current;if(We){const vt=We.getBoundingClientRect().height;return Vt(vt),w(qt=>[{toastId:g.id,height:vt,position:g.position},...qt]),()=>w(qt=>qt.filter(Wt=>Wt.toastId!==g.id))}},[w,g.id]),te.useLayoutEffect(()=>{if(!I)return;const We=Ct.current,vt=We.style.height;We.style.height="auto";const qt=We.getBoundingClientRect().height;We.style.height=vt,Vt(qt),w(Wt=>Wt.find(se=>se.toastId===g.id)?Wt.map(se=>se.toastId===g.id?he(L({},se),{height:qt}):se):[{toastId:g.id,height:qt,position:g.position},...Wt])},[I,g.title,g.description,w,g.id,g.jsx,g.action,g.cancel]);const Ye=te.useCallback(()=>{be(!0),Pe(yn.current),w(We=>We.filter(vt=>vt.toastId!==g.id)),setTimeout(()=>{C(g)},V5)},[g,C,w,yn]);te.useEffect(()=>{if(g.promise&&$==="loading"||g.duration===1/0||g.type==="loading")return;let We;return k||y||rs?(()=>{if(lt.current<gt.current){const Wt=new Date().getTime()-gt.current;_t.current=_t.current-Wt}lt.current=new Date().getTime()})():(()=>{_t.current!==1/0&&(gt.current=new Date().getTime(),We=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Ye()},_t.current))})(),()=>clearTimeout(We)},[k,y,g,$,rs,Ye]),te.useEffect(()=>{g.delete&&(Ye(),g.onDismiss==null||g.onDismiss.call(g,g))},[Ye,g.delete]);function Mt(){var We;if(Q!=null&&Q.loading){var vt;return te.createElement("div",{className:Kr(z==null?void 0:z.loader,g==null||(vt=g.classNames)==null?void 0:vt.loader,"sonner-loader"),"data-visible":$==="loading"},Q.loading)}return te.createElement(j5,{className:Kr(z==null?void 0:z.loader,g==null||(We=g.classNames)==null?void 0:We.loader),visible:$==="loading"})}const Bt=g.icon||(Q==null?void 0:Q[$])||w5($);var jt,Jt;return te.createElement("li",{tabIndex:0,ref:Ct,className:Kr(ee,De,z==null?void 0:z.toast,g==null||(t=g.classNames)==null?void 0:t.toast,z==null?void 0:z.default,z==null?void 0:z[$],g==null||(n=g.classNames)==null?void 0:n[$]),"data-sonner-toast":"","data-rich-colors":(jt=g.richColors)!=null?jt:A,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":I,"data-promise":!!g.promise,"data-swiped":wt,"data-removed":je,"data-visible":ue,"data-y-position":Ue,"data-x-position":Dt,"data-index":S,"data-front":W,"data-swiping":Te,"data-dismissible":Se,"data-type":$,"data-invert":Hn,"data-swipe-out":Ke,"data-swipe-direction":re,"data-expanded":!!(k||Y&&I),"data-testid":g.testId,style:L(L({"--index":S,"--toasts-before":S,"--z-index":O.length-S,"--offset":`${je?bt:yn.current}px`,"--initial-height":Y?"auto":`${pt}px`},V),g.style),onDragEnd:()=>{Oe(!1),U(null),ke.current=null},onPointerDown:We=>{We.button!==2&&(us||!Se||($t.current=new Date,Pe(yn.current),We.target.setPointerCapture(We.pointerId),We.target.tagName!=="BUTTON"&&(Oe(!0),ke.current={x:We.clientX,y:We.clientY})))},onPointerUp:()=>{var We,vt,qt;if(Ke||!Se)return;ke.current=null;const Wt=Number(((We=Ct.current)==null?void 0:We.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),K=Number(((vt=Ct.current)==null?void 0:vt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),se=new Date().getTime()-((qt=$t.current)==null?void 0:qt.getTime()),fe=le==="x"?Wt:K,_e=Math.abs(fe)/se;if(Math.abs(fe)>=H5||_e>.11){Pe(yn.current),g.onDismiss==null||g.onDismiss.call(g,g),we(le==="x"?Wt>0?"right":"left":K>0?"down":"up"),Ye(),He(!0);return}else{var Ae,Fe;(Ae=Ct.current)==null||Ae.style.setProperty("--swipe-amount-x","0px"),(Fe=Ct.current)==null||Fe.style.setProperty("--swipe-amount-y","0px")}st(!1),Oe(!1),U(null)},onPointerMove:We=>{var vt,qt,Wt;if(!ke.current||!Se||((vt=window.getSelection())==null?void 0:vt.toString().length)>0)return;const se=We.clientY-ke.current.y,fe=We.clientX-ke.current.x;var _e;const Ae=(_e=e.swipeDirections)!=null?_e:$5(ae);!le&&(Math.abs(fe)>1||Math.abs(se)>1)&&U(Math.abs(fe)>Math.abs(se)?"x":"y");let Fe={x:0,y:0};const Qe=tt=>1/(1.5+Math.abs(tt)/20);if(le==="y"){if(Ae.includes("top")||Ae.includes("bottom"))if(Ae.includes("top")&&se<0||Ae.includes("bottom")&&se>0)Fe.y=se;else{const tt=se*Qe(se);Fe.y=Math.abs(tt)<Math.abs(se)?tt:se}}else if(le==="x"&&(Ae.includes("left")||Ae.includes("right")))if(Ae.includes("left")&&fe<0||Ae.includes("right")&&fe>0)Fe.x=fe;else{const tt=fe*Qe(fe);Fe.x=Math.abs(tt)<Math.abs(fe)?tt:fe}(Math.abs(Fe.x)>0||Math.abs(Fe.y)>0)&&st(!0),(qt=Ct.current)==null||qt.style.setProperty("--swipe-amount-x",`${Fe.x}px`),(Wt=Ct.current)==null||Wt.style.setProperty("--swipe-amount-y",`${Fe.y}px`)}},qe&&!g.jsx&&$!=="loading"?te.createElement("button",{"aria-label":Z,"data-disabled":us,"data-close-button":!0,onClick:us||!Se?()=>{}:()=>{Ye(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Kr(z==null?void 0:z.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(Jt=Q==null?void 0:Q.close)!=null?Jt:k5):null,($||g.icon||g.promise)&&g.icon!==null&&((Q==null?void 0:Q[$])!==null||g.icon)?te.createElement("div",{"data-icon":"",className:Kr(z==null?void 0:z.icon,g==null||(a=g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Mt():null,g.type!=="loading"?Bt:null):null,te.createElement("div",{"data-content":"",className:Kr(z==null?void 0:z.content,g==null||(o=g.classNames)==null?void 0:o.content)},te.createElement("div",{"data-title":"",className:Kr(z==null?void 0:z.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?te.createElement("div",{"data-description":"",className:Kr(q,Re,z==null?void 0:z.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),te.isValidElement(g.cancel)?g.cancel:g.cancel&&Cf(g.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||D,onClick:We=>{Cf(g.cancel)&&Se&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,We),Ye())},className:Kr(z==null?void 0:z.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,te.isValidElement(g.action)?g.action:g.action&&Cf(g.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||H,onClick:We=>{Cf(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,We),!We.defaultPrevented&&Ye())},className:Kr(z==null?void 0:z.actionButton,g==null||(h=g.classNames)==null?void 0:h.actionButton)},g.action.label):null)};function C1(){if(typeof window=="undefined"||typeof document=="undefined")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function I5(e,t){const n={};return[e,t].forEach((s,a)=>{const o=a===1,l=o?"--mobile-offset":"--offset",d=o?B5:z5;function f(h){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?f(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?n[`${l}-${h}`]=d:n[`${l}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):f(d)}),n}const Y5=te.forwardRef(function(t,n){const{id:s,invert:a,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:d,closeButton:f,className:h,offset:p,mobileOffset:g,theme:b="light",richColors:y,duration:w,style:_,visibleToasts:j=L5,toastOptions:S,dir:O=C1(),gap:k=F5,icons:C,containerAriaLabel:A="Notifications"}=t,[M,V]=te.useState([]),D=te.useMemo(()=>s?M.filter(I=>I.toasterId===s):M.filter(I=>!I.toasterId),[M,s]),H=te.useMemo(()=>Array.from(new Set([o].concat(D.filter(I=>I.position).map(I=>I.position)))),[D,o]),[ee,q]=te.useState([]),[X,ae]=te.useState(!1),[J,Y]=te.useState(!1),[z,Q]=te.useState(b!=="system"?b:typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=te.useRef(null),le=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=te.useRef(null),re=te.useRef(!1),we=te.useCallback(I=>{V(ce=>{var je;return(je=ce.find(be=>be.id===I.id))!=null&&je.delete||Fs.dismiss(I.id),ce.filter(({id:be})=>be!==I.id)})},[]);return te.useEffect(()=>Fs.subscribe(I=>{if(I.dismiss){requestAnimationFrame(()=>{V(ce=>ce.map(je=>je.id===I.id?he(L({},je),{delete:!0}):je))});return}setTimeout(()=>{y2.flushSync(()=>{V(ce=>{const je=ce.findIndex(be=>be.id===I.id);return je!==-1?[...ce.slice(0,je),L(L({},ce[je]),I),...ce.slice(je+1)]:[I,...ce]})})})}),[M]),te.useEffect(()=>{if(b!=="system"){Q(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window=="undefined")return;const I=window.matchMedia("(prefers-color-scheme: dark)");try{I.addEventListener("change",({matches:ce})=>{Q(ce?"dark":"light")})}catch(ce){I.addListener(({matches:je})=>{try{Q(je?"dark":"light")}catch(be){console.error(be)}})}},[b]),te.useEffect(()=>{M.length<=1&&ae(!1)},[M]),te.useEffect(()=>{const I=ce=>{var je;if(l.every(Oe=>ce[Oe]||ce.code===Oe)){var Te;ae(!0),(Te=Z.current)==null||Te.focus()}ce.code==="Escape"&&(document.activeElement===Z.current||(je=Z.current)!=null&&je.contains(document.activeElement))&&ae(!1)};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[l]),te.useEffect(()=>{if(Z.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,re.current=!1)}},[Z.current]),te.createElement("section",{ref:n,"aria-label":`${A} ${le}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},H.map((I,ce)=>{var je;const[be,Te]=I.split("-");return D.length?te.createElement("ol",{key:I,dir:O==="auto"?C1():O,tabIndex:-1,ref:Z,className:h,"data-sonner-toaster":!0,"data-sonner-theme":z,"data-y-position":be,"data-x-position":Te,style:L(L({"--front-toast-height":`${((je=ee[0])==null?void 0:je.height)||0}px`,"--width":`${U5}px`,"--gap":`${k}px`},_),I5(p,g)),onBlur:Oe=>{re.current&&!Oe.currentTarget.contains(Oe.relatedTarget)&&(re.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:Oe=>{Oe.target instanceof HTMLElement&&Oe.target.dataset.dismissible==="false"||re.current||(re.current=!0,U.current=Oe.relatedTarget)},onMouseEnter:()=>ae(!0),onMouseMove:()=>ae(!0),onMouseLeave:()=>{J||ae(!1)},onDragEnd:()=>ae(!1),onPointerDown:Oe=>{Oe.target instanceof HTMLElement&&Oe.target.dataset.dismissible==="false"||Y(!0)},onPointerUp:()=>Y(!1)},D.filter(Oe=>!Oe.position&&ce===0||Oe.position===I).map((Oe,Ke)=>{var He,wt;return te.createElement(q5,{key:Oe.id,icons:C,index:Ke,toast:Oe,defaultRichColors:y,duration:(He=S==null?void 0:S.duration)!=null?He:w,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:a,visibleToasts:j,closeButton:(wt=S==null?void 0:S.closeButton)!=null?wt:f,interacting:J,position:I,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:we,toasts:D.filter(st=>st.position==Oe.position),heights:ee.filter(st=>st.position==Oe.position),setHeights:q,expandByDefault:d,gap:k,expanded:X,swipeDirections:t.swipeDirections})})):null}))}),W5=t=>{var e=Me(t,[]);const{theme:n="system"}=tO();return u.jsx(Y5,L({theme:n,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"}},e))},X5=()=>{const[e,t]=N.useState(!1);return u.jsxs("div",{className:"flex h-screen bg-gray-50",children:[u.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:u.jsx(e1,{})}),e&&u.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>t(!1)}),u.jsx("div",{className:"relative flex flex-col w-64 h-full bg-white shadow-xl",children:u.jsx(e1,{})})]}),u.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[u.jsx(b5,{onMenuClick:()=>t(!e)}),u.jsx("main",{className:"flex-1 overflow-y-auto",children:u.jsx("div",{className:"py-6",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx(MR,{})})})})]}),u.jsx(W5,{})]})};function G5(){return u.jsx(XA,{siteName:"frontend",socketPort:"9000",children:u.jsx(nO,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:u.jsx(X5,{})})})}const K5=()=>{const[e,t]=N.useState("all"),[n,s]=N.useState("all"),[a,o]=N.useState("all"),[l,d]=N.useState([]),[f,h]=N.useState(!1),{data:p,isLoading:g,error:b}=_n("Project",{fields:["name","project_name","status","department","team","estimated_costing","expected_end_date","percent_complete"]}),{data:y,isLoading:w,error:_}=_n("project_phase",{fields:["name"]});N.useEffect(()=>{xe(null,null,function*(){if(!y||y.length===0){d([]);return}h(!0),console.log("🔄 Fetching individual phase documents for tasks...");try{const X=y.map(Y=>xe(null,null,function*(){try{const z=yield fetch(`/api/resource/project_phase/${Y.name}`,{method:"GET",headers:{Accept:"application/json"}});if(!z.ok)return console.warn(`❌ Failed to fetch phase ${Y.name}:`,z.status),null;const Q=yield z.json(),Z=Q.data||Q;return console.log(`✅ Phase ${Y.name} full data:`,Z),console.log(`📋 Phase ${Y.name} tasks:`,Z.tasks),Z}catch(z){return console.error(`💥 Error fetching phase ${Y.name}:`,z),null}})),J=(yield Promise.all(X)).filter(Y=>Y!==null);console.log("🎉 All phases with tasks loaded:",J),d(J)}catch(X){console.error("💥 Error in fetchPhasesWithTasks:",X)}finally{h(!1)}})},[y]);const{data:j,isLoading:S,error:O}=_n("Task",{fields:["name","subject","status","exp_end_date","exp_start_date","project","progress","priority","is_group"]}),{data:k,isLoading:C}=_n("Timesheet",{fields:["name","total_hours"]}),A=(p||[]).map(q=>{var X;return he(L({},q),{project_type:q.project_type||"",customer:q.customer||"",company:q.company||"",department:q.department||"",team:q.team||"",expected_start_date:q.expected_start_date||"",expected_end_date:q.expected_end_date||"",actual_start_date:q.actual_start_date||"",actual_end_date:q.actual_end_date||null,percent_complete:q.percent_complete||0,priority:q.priority||"Medium",estimated_costing:q.estimated_costing||0,total_billable_amount:q.total_billable_amount||0,total_billed_amount:q.total_billed_amount||0,gross_margin:q.gross_margin||0,estimated_hours:q.estimated_hours||0,total_hours:q.total_hours||0,is_active:(X=q.is_active)!=null?X:!0})}),M=N.useMemo(()=>!l||l.length===0?[]:l.map(q=>{const X=q.tasks||[];return console.log(`📊 Processing Phase ${q.name} with ${X.length} tasks:`,X),he(L({},q),{phase_name:q.subject||q.name||"",status:q.status||"Open",expected_start_date:q.start_date||"",expected_end_date:q.end_date||"",actual_start_date:q.start_date||"",actual_end_date:null,progress:q.progress||0,description:q.details||"",tasks:X})}),[l]),V=(j||[]).map(q=>he(L({},q),{project:q.project||"",priority:q.priority||"Medium",type:q.type||"",expected_time:q.expected_time||0,actual_time:q.actual_time||0,start_date:q.exp_start_date||"",end_date:q.exp_end_date||"",progress:q.progress||0,assigned_to:q.assigned_to||null,is_group:q.is_group||!1,parent_task_name:q.parent_task_name||null})),D=(k||[]).map(q=>({name:q.name,employee:q.employee||"",project:"",task:"",start_date:q.start_date||"",end_date:q.end_date||"",total_hours:q.total_hours||0,billable:!0,billing_hours:0,billing_rate:0,billing_amount:0})),H=g||w||f||S||C,ee=N.useMemo(()=>{let q=A;n!=="all"&&n!==""&&(q=q.filter(Y=>Y.department===n)),a!=="all"&&a!==""&&(q=q.filter(Y=>Y.team===a)),e!=="all"&&e!==""&&(q=q.filter(Y=>Y.project_name===e));const X=q.map(Y=>Y.project_name),ae=q.map(Y=>Y.name),J=M.filter(Y=>ae.includes(Y.project));return{filteredProjects:q,filteredPhases:J,filteredTasks:V.filter(Y=>{const z=Y.project||"";return ae.includes(z)}),filteredTimesheets:D.filter(Y=>Y.project?X.includes(Y.project):!0)}},[A,M,V,D,e,n,a]);return{allProjects:A,allPhases:M,filteredData:ee,selectedProject:e,selectedDepartment:n,selectedTeam:a,setSelectedProject:t,setSelectedDepartment:s,setSelectedTeam:o,isLoading:H}},Zh=({title:e,children:t,className:n=""})=>u.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 mb-6 ${n}`,children:[e&&u.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-4",children:e}),t]}),Q5=({projects:e,selectedProject:t,selectedDepartment:n,selectedTeam:s,onProjectChange:a,onDepartmentChange:o,onTeamChange:l})=>{const[d,f]=N.useState(!0),h=Array.from(new Set(e.map(y=>y.department).filter(Boolean))),p=n==="all"||n===""?[]:Array.from(new Set(e.filter(y=>y.department===n).map(y=>y.team).filter(Boolean))),g=e.filter(y=>n==="all"||n===""?!0:y.department!==n?!1:s==="all"||s===""?!0:y.team===s),b=()=>{const y=[];return n!=="all"&&y.push(`Phòng ban: ${n}`),s!=="all"&&y.push(`Team: ${s}`),t!=="all"&&y.push(`Dự án: ${t}`),y.length>0?y.join(" | "):"Tất cả dự án"};return u.jsx(Zh,{title:u.jsxs("div",{className:"flex items-center justify-between w-full cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded-md transition-colors",onClick:()=>f(!d),children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(jx,{className:"w-5 h-5 mr-2 text-blue-600"}),u.jsx("span",{children:"Bộ lọc dự án"}),!d&&u.jsxs("span",{className:"ml-3 text-sm text-gray-600 font-normal",children:["- ",b()]})]}),u.jsx("button",{className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors p-1 rounded-md hover:bg-blue-50",title:d?"Thu gọn":"Mở rộng",onClick:y=>{y.stopPropagation(),f(!d)},children:d?u.jsx(DD,{className:"w-5 h-5"}):u.jsx(v2,{className:"w-5 h-5"})})]}),children:d&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phòng ban"}),u.jsxs("select",{value:n,onChange:y=>{o(y.target.value),l("all")},className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"Tất cả phòng ban"}),h.map(y=>u.jsx("option",{value:y,children:y},y))]})]}),n!=="all"&&n!==""&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team"}),u.jsxs("select",{value:s,onChange:y=>l(y.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"Tất cả team"}),p.map(y=>u.jsx("option",{value:y,children:y},y))]})]}),u.jsxs("div",{className:n!=="all"&&n!==""?"md:col-span-2":"md:col-span-3",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dự án"}),u.jsxs("select",{value:t,onChange:y=>a(y.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"Tất cả dự án"}),g.map(y=>u.jsxs("option",{value:y.project_name,children:[y.project_name," (",y.department," - ",y.team,")"]},y.name))]})]})]})})},Z5=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),J5=e=>{switch(e){case"Open":case"Đang mở":return"bg-blue-100 text-blue-800";case"Working":case"Đang thực hiện":return"bg-orange-100 text-orange-800";case"Completed":case"Hoàn thành":return"bg-green-100 text-green-800";case"Overdue":case"Quá hạn":case"Sắp đến hạn":return"bg-red-100 text-red-800";case"Cancelled":case"Hủy":case"Đã hủy":return"bg-gray-100 text-gray-800";case"Đang xem xét":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},eL=e=>{switch(e){case"Urgent":case"Khẩn cấp":return"bg-red-100 text-red-800";case"High":case"Cao":return"bg-orange-100 text-red-800";case"Medium":case"Trung bình":return"bg-yellow-100 text-yellow-800";case"Low":case"Thấp":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},tL=({projects:e,tasks:t,selectedProject:n})=>{const s=n&&n!=="all",a=s?"Task":"Dự án";let o,l,d;if(s){o=t.filter(g=>g.status==="Open"||g.status==="Working"||g.status!=="Completed"&&g.status!=="Cancelled").length,l=t.filter(g=>g.status==="Completed").length;const p=new Date;d=t.filter(g=>g.exp_end_date?new Date(g.exp_end_date)<p&&g.status!=="Completed":!1).length,t.reduce((g,b)=>g+(b.expected_time||0),0)}else{o=e.filter(g=>g.status==="Đang thực hiện"||g.status!=="Hoàn thành"&&g.status!=="Hủy"&&g.percent_complete<100).length,l=e.filter(g=>g.status==="Hoàn thành"||g.percent_complete===100).length;const p=new Date;d=e.filter(g=>new Date(g.expected_end_date)<p&&g.status!=="Hoàn thành"&&g.percent_complete<100).length}const f=e.reduce((p,g)=>p+(g.estimated_costing||0),0),h=[{title:`${a} đang hoạt động`,value:o,icon:_D,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-blue-500 to-blue-600",cardBg:"bg-white",shadow:"shadow-lg shadow-blue-500/20",change:"+55%",changeText:"than last week",changeColor:"text-green-500"},{title:`${a} hoàn thành`,value:l,icon:BD,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-green-500 to-green-600",cardBg:"bg-white",shadow:"shadow-lg shadow-green-500/20",change:"+3%",changeText:"than last month",changeColor:"text-green-500"},{title:`${a} quá hạn`,value:d,icon:Gl,iconColor:"text-white",iconBg:"bg-gradient-to-br  from-pink-500 to-pink-600",cardBg:"bg-white",shadow:"shadow-lg shadow-pink-500/20",change:"+1%",changeText:"than yesterday",changeColor:"text-green-500"},{title:"Chi phí Dự án",value:Z5(f),icon:gM,iconColor:"text-white",iconBg:"bg-gradient-to-br from-yellow-200 to-yellow-600",cardBg:"bg-white",shadow:"shadow-lg shadow-yellow-500/20",change:"+91",changeText:"Just updated",changeColor:"text-gray-500"}];return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:h.map((p,g)=>{const b=p.icon;return u.jsx("div",{className:`${p.cardBg} ${p.shadow} rounded-xl p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:`${p.iconBg} ${p.iconColor} p-3 rounded-2xl shadow-lg`,children:u.jsx(b,{className:"h-6 w-6"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:p.title}),u.jsx("p",{className:`${p.title.includes("Chi phí")?"text-2xl":"text-3xl"} font-bold text-gray-900`,children:p.value})]})]})},g)})})},nL=({projects:e,tasks:t,selectedProject:n})=>{const s=n&&n!=="all",a=te.useMemo(()=>{const p=new Date;return p.setHours(0,0,0,0),e.map((b,y)=>({id:`milestone-${y}`,name:b.project_name,project:b.project_name,endDate:new Date(b.expected_end_date),priority:b.priority,status:b.percent_complete===100?"completed":b.percent_complete>0?"in progress":"upcoming",progress:b.percent_complete})).filter(b=>{const y=new Date(b.endDate);y.setHours(0,0,0,0);const w=Math.ceil((y.getTime()-p.getTime())/(1e3*60*60*24));return b.status!=="completed"&&w>=0&&w<=60}).sort((b,y)=>{const w=new Date;w.setHours(0,0,0,0);const _=new Date(b.endDate);_.setHours(0,0,0,0);const j=new Date(y.endDate);j.setHours(0,0,0,0);const S=Math.abs(_.getTime()-w.getTime()),O=Math.abs(j.getTime()-w.getTime()),k=S-O;if(k!==0)return k;const C={"Khẩn cấp":0,Cao:1,"Trung bình":2,Thấp:3,Urgent:0,High:1,Medium:2,Low:3};return(C[b.priority]||3)-(C[y.priority]||3)})},[e]),o=te.useMemo(()=>{if(!s)return[];const p=new Date;return p.setHours(0,0,0,0),t.filter(g=>{if(!g.exp_end_date||g.status==="Completed")return!1;const b=new Date(g.exp_end_date);b.setHours(0,0,0,0);const y=Math.ceil((b.getTime()-p.getTime())/(1e3*60*60*24));return y>=0&&y<=30}).sort((g,b)=>{const y=new Date;y.setHours(0,0,0,0);const w=new Date(g.exp_end_date);w.setHours(0,0,0,0);const _=new Date(b.exp_end_date);_.setHours(0,0,0,0);const j=Math.abs(w.getTime()-y.getTime()),S=Math.abs(_.getTime()-y.getTime()),O=j-S;if(O!==0)return O;const k={Urgent:0,High:1,Medium:2,Low:3};return(k[g.priority]||3)-(k[b.priority]||3)})},[t,s]),l=p=>{switch(p){case"completed":return"bg-green-500";case"in progress":return"bg-blue-500";case"upcoming":return"bg-gray-300";default:return"bg-gray-300"}},d=p=>{switch(p){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},f=p=>p.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),h=p=>{const g=new Date;g.setHours(0,0,0,0);const b=new Date(p);b.setHours(0,0,0,0);const y=Math.ceil((b.getTime()-g.getTime())/(1e3*60*60*24));return y<0?{text:`Quá hạn ${Math.abs(y)} ngày`,color:"text-red-600",urgent:!0}:y===0?{text:"Hôm nay",color:"text-red-600",urgent:!0}:y<=3?{text:`${y} ngày nữa`,color:"text-red-600",urgent:!0}:y<=7?{text:`${y} ngày nữa`,color:"text-orange-600",urgent:!0}:y<=14?{text:`${y} ngày nữa`,color:"text-yellow-600",urgent:!1}:{text:`${y} ngày nữa`,color:"text-gray-600",urgent:!1}};return u.jsx("div",{className:"grid grid-cols-1 gap-8",children:u.jsx(Zh,{title:s?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})," ","gần ",u.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn "})," (<30 ngày)"]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Dự án"})," ","sắp ",u.jsx("span",{className:"text-red-600 font-semibold",children:"đến hạn"})," (<30 ngày)"]}),children:u.jsx("div",{className:`space-y-6 ${s?o.length>=3?"h-80 overflow-y-auto":"overflow-visible":a.length>=3?"h-80 overflow-y-auto":"overflow-visible"}`,children:s?u.jsxs(u.Fragment,{children:[o.map((p,g)=>{const b=h(new Date(p.exp_end_date));return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center space-x-3",children:u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("h4",{className:"font-medium text-gray-900",children:p.subject}),u.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(p.priority)}`,children:p.priority})]}),u.jsx("div",{className:"mt-1",children:u.jsx("span",{className:`text-xs font-medium ${b.color}`,children:b.text})})]})}),u.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[u.jsx(wr,{className:"h-4 w-4 mr-1"}),f(new Date(p.exp_end_date))]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"Progress"}),u.jsxs("span",{className:"font-medium",children:[p.progress||0,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full ${p.status==="Completed"?"bg-green-500":p.status==="Working"?"bg-blue-500":"bg-gray-300"}`,style:{width:`${p.progress||0}%`}})})]})]},`task-${g}`)}),o.length===0&&u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx(wr,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),u.jsx("p",{children:"Không có task nào sắp đến hạn"})]})]}):u.jsxs(u.Fragment,{children:[a.map(p=>{const g=h(p.endDate);return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center space-x-3",children:u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("h4",{className:"font-medium text-gray-900",children:p.name}),u.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(p.priority)}`,children:p.priority})]}),u.jsx("div",{className:"mt-1",children:u.jsx("span",{className:`text-xs font-medium ${g.color}`,children:g.text})})]})}),u.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[u.jsx(wr,{className:"h-4 w-4 mr-1"}),f(p.endDate)]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"Progress"}),u.jsxs("span",{className:"font-medium",children:[p.progress,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full ${l(p.status)}`,style:{width:`${p.progress}%`}})})]})]},p.id)}),a.length===0&&u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx(wr,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),u.jsx("p",{children:"Không có dự án nào sắp đến hạn"})]})]})})})})},sL=({projects:e,tasks:t,selectedProject:n})=>{const[s,a]=N.useState(null),[o,l]=N.useState(!0),d=w=>{a(_=>_===w?null:w)},f=n&&n!=="all",p=(()=>{if(f){const w={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Open",height:30},working:{projects:[],color:"#f59e0b",lightColor:"#fbbf24",darkColor:"#d97706",label:"Working",height:25},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Completed",height:20},overdue:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Overdue",height:40},cancelled:{projects:[],color:"#6b7280",lightColor:"#9ca3af",darkColor:"#4b5563",label:"Cancelled",height:35}};return t.forEach(_=>{const j=new Date;_.exp_end_date&&new Date(_.exp_end_date)<j&&_.status!=="Completed"&&_.status!=="Cancelled"?w.overdue.projects.push(_):_.status==="Completed"?w.completed.projects.push(_):_.status==="Working"?w.working.projects.push(_):_.status==="Cancelled"?w.cancelled.projects.push(_):w.open.projects.push(_)}),w}else{const w={open:{projects:[],color:"#3b82f6",lightColor:"#60a5fa",darkColor:"#1d4ed8",label:"Đang mở",height:30},completed:{projects:[],color:"#22c55e",lightColor:"#4ade80",darkColor:"#15803d",label:"Hoàn thành",height:20},cancelled:{projects:[],color:"#ef4444",lightColor:"#f87171",darkColor:"#dc2626",label:"Đã hủy",height:40}};return e.forEach(_=>{_.status==="Completed"||_.status==="Hoàn thành"?w.completed.projects.push(_):_.status==="Cancelled"||_.status==="Canceled"||_.status==="Hủy"?w.cancelled.projects.push(_):w.open.projects.push(_)}),w}})(),g=f?t.length:e.length,b=w=>{const _={Urgent:4,High:3,Medium:2,Low:1};return w.sort((j,S)=>{const O=_[j.priority]||0;return(_[S.priority]||0)-O})};Object.values(p).forEach(w=>{w.projects=b(w.projects)});const y=()=>{const[w,_]=te.useState({visible:!1,x:0,y:0,categoryKey:""}),j=360,S=j/2,O=j/2,k=170;let C=0;const A=Object.entries(p).filter(([,H])=>H.projects.length>0),M=(H,ee)=>{const q=ee.clientX,X=ee.clientY;_({visible:!0,x:q+15,y:X-10,categoryKey:H})},V=(H,ee)=>{if(w.visible&&w.categoryKey===H){const q=ee.clientX,X=ee.clientY;_(ae=>he(L({},ae),{x:q+15,y:X-10}))}},D=()=>{_({visible:!1,x:0,y:0,categoryKey:""})};return u.jsxs("div",{className:"relative flex flex-col items-center",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-6 text-center max-w-xs",children:f?"Biểu đồ phân bố Tasks theo trạng thái":"Biểu đồ phân bố dự án theo trạng thái"}),u.jsx("div",{className:"relative",style:{width:j,height:j},children:u.jsxs("svg",{width:j,height:j,className:"absolute top-0 left-0",children:[u.jsx("defs",{children:u.jsx("filter",{id:"dropshadow2d",x:"-20%",y:"-20%",width:"140%",height:"140%",children:u.jsx("feDropShadow",{dx:"2",dy:"4",stdDeviation:"4",floodOpacity:"0.2"})})}),(C=0,A.map(([H,ee])=>{const q=ee.projects.length/g*100,X=C,ae=C+q/100*360;C=ae;const J=X*Math.PI/180,Y=ae*Math.PI/180,z=(X+ae)/2*Math.PI/180,Q=S+k*Math.cos(J),Z=O+k*Math.sin(J),le=S+k*Math.cos(Y),U=O+k*Math.sin(Y),re=ae-X>180?1:0,we=A.length===1;let I;we?I=`M ${S} ${O+k} A ${k} ${k} 0 1 1 ${S} ${O-k} A ${k} ${k} 0 1 1 ${S} ${O+k} Z`:I=[`M ${S} ${O}`,`L ${Q} ${Z}`,`A ${k} ${k} 0 ${re} 1 ${le} ${U}`,"Z"].join(" ");const ce=k*.7,je=we?S:S+ce*Math.cos(z),be=we?O:O+ce*Math.sin(z);return u.jsxs("g",{children:[u.jsx("path",{d:I,fill:ee.color,stroke:"white",strokeWidth:"2",filter:"url(#dropshadow2d)",className:"hover:opacity-80 transition-opacity cursor-pointer",onMouseEnter:Te=>M(H,Te),onMouseMove:Te=>V(H,Te),onMouseLeave:D}),q>5&&u.jsxs("text",{x:je,y:be,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs font-bold fill-white pointer-events-none",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:[Math.round(q),"%"]})]},`segment-${H}`)}))]})}),w.visible&&w.categoryKey&&p[w.categoryKey]&&u.jsxs("div",{className:"fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-xs pointer-events-none",style:{left:w.x,top:w.y,transform:"translate(-50%, -100%)"},children:[u.jsxs("div",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded mr-2",style:{backgroundColor:p[w.categoryKey].color}}),p[w.categoryKey].label," (",p[w.categoryKey].projects.length,")"]}),u.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:p[w.categoryKey].projects.map((H,ee)=>u.jsxs("div",{className:"text-xs border-b border-gray-100 pb-1 last:border-b-0",children:[u.jsx("div",{className:"font-medium text-gray-700",children:f?H.subject:H.project_name}),u.jsxs("div",{className:"text-gray-500 flex justify-between",children:[u.jsx("span",{children:f?`${H.progress||0}% hoàn thành`:`${H.percent_complete}% hoàn thành`}),u.jsxs("span",{className:"font-medium",children:["Priority: ",H.priority]})]})]},ee))})]})]})};return u.jsx(Zh,{title:u.jsx("div",{className:"flex items-center justify-between w-full cursor-pointer hover:bg-gray-50 -m-2 p-2 rounded-md transition-colors",onClick:()=>l(!o),children:u.jsx("div",{className:"flex items-center",children:u.jsx("span",{children:f?u.jsxs(u.Fragment,{children:["Tổng quan ",u.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"Tasks"})]}):u.jsxs(u.Fragment,{children:["Tổng quan ",u.jsx("span",{className:"font-bold bg-yellow-200 px-1 rounded",children:"dự án"})]})})})}),children:o&&u.jsx("div",{children:g===0?u.jsx("div",{className:"flex flex-col items-center justify-center py-16",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-8xl text-gray-300 mb-6",children:"📊"}),u.jsx("p",{className:"text-xl font-medium text-gray-600 mb-3",children:f?"Không có task nào":"Không có dự án nào"}),u.jsx("p",{className:"text-base text-gray-500 max-w-md",children:f?"Không có task nào đang thực hiện trong dự án này":"Không có dự án nào đang thực hiện"})]})}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsx("div",{className:"flex flex-col items-center",children:u.jsx(y,{})}),u.jsx("div",{className:"space-y-4",children:Object.entries(p).map(([w,_])=>_.projects.length>0&&u.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[u.jsxs("button",{onClick:()=>d(w),className:"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between border-l-4",style:{borderLeftColor:_.color},children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:_.color}}),u.jsxs("h4",{className:"font-semibold text-gray-800",children:[_.label," (",_.projects.length,")"]})]}),u.jsx("div",{className:"flex items-center",children:u.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${s===w?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),u.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${s===w?"max-h-96":"max-h-0"}`,children:u.jsx("div",{className:"p-4 space-y-2 max-h-80 overflow-y-auto",children:_.projects.map(j=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:[u.jsx("div",{className:"flex-1 min-w-0",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:f?j.subject:j.project_name}),u.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ml-2 flex-shrink-0 ${j.priority==="Urgent"?"bg-red-100 text-red-800":j.priority==="High"?"bg-orange-100 text-orange-800":j.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:j.priority})]})}),u.jsx("div",{className:"flex flex-col items-end ml-3",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(f?j.progress||0:j.percent_complete||0,100)}%`,backgroundColor:(()=>{const S=f?j.progress||0:j.percent_complete||0;return S>=100?"#22c55e":S>=70?"#3b82f6":S>=30?"#f59e0b":"#ef4444"})()}})}),u.jsxs("span",{className:"text-xs font-semibold text-gray-600 min-w-[35px] text-right",children:[f?j.progress||0:j.percent_complete||0,"%"]})]})})]},j.name))})})]},w))})]})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ju(e){return e+.5|0}const ji=(e,t,n)=>Math.max(Math.min(e,n),t);function wu(e){return ji(Ju(e*2.55),0,255)}function Ei(e){return ji(Ju(e*255),0,255)}function La(e){return ji(Ju(e/2.55)/100,0,1)}function A1(e){return ji(Ju(e*100),0,100)}const xr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},D0=[..."0123456789ABCDEF"],rL=e=>D0[e&15],aL=e=>D0[(e&240)>>4]+D0[e&15],Af=e=>(e&240)>>4===(e&15),iL=e=>Af(e.r)&&Af(e.g)&&Af(e.b)&&Af(e.a);function oL(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&xr[e[1]]*17,g:255&xr[e[2]]*17,b:255&xr[e[3]]*17,a:t===5?xr[e[4]]*17:255}:(t===7||t===9)&&(n={r:xr[e[1]]<<4|xr[e[2]],g:xr[e[3]]<<4|xr[e[4]],b:xr[e[5]]<<4|xr[e[6]],a:t===9?xr[e[7]]<<4|xr[e[8]]:255})),n}const lL=(e,t)=>e<255?t(e):"";function cL(e){var t=iL(e)?rL:aL;return e?"#"+t(e.r)+t(e.g)+t(e.b)+lL(e.a,t):void 0}const uL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function kN(e,t,n){const s=t*Math.min(n,1-n),a=(o,l=(o+e/30)%12)=>n-s*Math.max(Math.min(l-3,9-l,1),-1);return[a(0),a(8),a(4)]}function dL(e,t,n){const s=(a,o=(a+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function fL(e,t,n){const s=kN(e,1,.5);let a;for(t+n>1&&(a=1/(t+n),t*=a,n*=a),a=0;a<3;a++)s[a]*=1-t-n,s[a]+=t;return s}function hL(e,t,n,s,a){return e===a?(t-n)/s+(t<n?6:0):t===a?(n-e)/s+2:(e-t)/s+4}function Ix(e){const n=e.r/255,s=e.g/255,a=e.b/255,o=Math.max(n,s,a),l=Math.min(n,s,a),d=(o+l)/2;let f,h,p;return o!==l&&(p=o-l,h=d>.5?p/(2-o-l):p/(o+l),f=hL(n,s,a,p,o),f=f*60+.5),[f|0,h||0,d]}function Yx(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(Ei)}function Wx(e,t,n){return Yx(kN,e,t,n)}function mL(e,t,n){return Yx(fL,e,t,n)}function pL(e,t,n){return Yx(dL,e,t,n)}function CN(e){return(e%360+360)%360}function gL(e){const t=uL.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?wu(+t[5]):Ei(+t[5]));const a=CN(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?s=mL(a,o,l):t[1]==="hsv"?s=pL(a,o,l):s=Wx(a,o,l),{r:s[0],g:s[1],b:s[2],a:n}}function xL(e,t){var n=Ix(e);n[0]=CN(n[0]+t),n=Wx(n),e.r=n[0],e.g=n[1],e.b=n[2]}function yL(e){if(!e)return;const t=Ix(e),n=t[0],s=A1(t[1]),a=A1(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${a}%, ${La(e.a)})`:`hsl(${n}, ${s}%, ${a}%)`}const O1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},R1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function bL(){const e={},t=Object.keys(R1),n=Object.keys(O1);let s,a,o,l,d;for(s=0;s<t.length;s++){for(l=d=t[s],a=0;a<n.length;a++)o=n[a],d=d.replace(o,O1[o]);o=parseInt(R1[l],16),e[d]=[o>>16&255,o>>8&255,o&255]}return e}let Of;function vL(e){Of||(Of=bL(),Of.transparent=[0,0,0,0]);const t=Of[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const wL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function _L(e){const t=wL.exec(e);let n=255,s,a,o;if(t){if(t[7]!==s){const l=+t[7];n=t[8]?wu(l):ji(l*255,0,255)}return s=+t[1],a=+t[3],o=+t[5],s=255&(t[2]?wu(s):ji(s,0,255)),a=255&(t[4]?wu(a):ji(a,0,255)),o=255&(t[6]?wu(o):ji(o,0,255)),{r:s,g:a,b:o,a:n}}}function jL(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${La(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Pg=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Tl=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function SL(e,t,n){const s=Tl(La(e.r)),a=Tl(La(e.g)),o=Tl(La(e.b));return{r:Ei(Pg(s+n*(Tl(La(t.r))-s))),g:Ei(Pg(a+n*(Tl(La(t.g))-a))),b:Ei(Pg(o+n*(Tl(La(t.b))-o))),a:e.a+n*(t.a-e.a)}}function Rf(e,t,n){if(e){let s=Ix(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=Wx(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function AN(e,t){return e&&Object.assign(t||{},e)}function D1(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ei(e[3]))):(t=AN(e,{r:0,g:0,b:0,a:1}),t.a=Ei(t.a)),t}function NL(e){return e.charAt(0)==="r"?_L(e):gL(e)}class Hu{constructor(t){if(t instanceof Hu)return t;const n=typeof t;let s;n==="object"?s=D1(t):n==="string"&&(s=oL(t)||vL(t)||NL(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=AN(this._rgb);return t&&(t.a=La(t.a)),t}set rgb(t){this._rgb=D1(t)}rgbString(){return this._valid?jL(this._rgb):void 0}hexString(){return this._valid?cL(this._rgb):void 0}hslString(){return this._valid?yL(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,a=t.rgb;let o;const l=n===o?.5:n,d=2*l-1,f=s.a-a.a,h=((d*f===-1?d:(d+f)/(1+d*f))+1)/2;o=1-h,s.r=255&h*s.r+o*a.r+.5,s.g=255&h*s.g+o*a.g+.5,s.b=255&h*s.b+o*a.b+.5,s.a=l*s.a+(1-l)*a.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=SL(this._rgb,t._rgb,n)),this}clone(){return new Hu(this.rgb)}alpha(t){return this._rgb.a=Ei(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Ju(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Rf(this._rgb,2,t),this}darken(t){return Rf(this._rgb,2,-t),this}saturate(t){return Rf(this._rgb,1,t),this}desaturate(t){return Rf(this._rgb,1,-t),this}rotate(t){return xL(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ra(){}const EL=(()=>{let e=0;return()=>e++})();function mn(e){return e==null}function ns(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Qt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Sr(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Qr(e,t){return Sr(e)?e:t}function Kt(e,t){return typeof e=="undefined"?t:e}const TL=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,ON=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function bn(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function rn(e,t,n,s){let a,o,l;if(ns(e))for(o=e.length,a=0;a<o;a++)t.call(n,e[a],a);else if(Qt(e))for(l=Object.keys(e),o=l.length,a=0;a<o;a++)t.call(n,e[l[a]],l[a])}function _h(e,t){let n,s,a,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(a=e[n],o=t[n],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function jh(e){if(ns(e))return e.map(jh);if(Qt(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let a=0;for(;a<s;++a)t[n[a]]=jh(e[n[a]]);return t}return e}function RN(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function kL(e,t,n,s){if(!RN(e))return;const a=t[e],o=n[e];Qt(a)&&Qt(o)?Vu(a,o,s):t[e]=jh(o)}function Vu(e,t,n){const s=ns(t)?t:[t],a=s.length;if(!Qt(e))return e;n=n||{};const o=n.merger||kL;let l;for(let d=0;d<a;++d){if(l=s[d],!Qt(l))continue;const f=Object.keys(l);for(let h=0,p=f.length;h<p;++h)o(f[h],e,l,n)}return e}function Eu(e,t){return Vu(e,t,{merger:CL})}function CL(e,t,n){if(!RN(e))return;const s=t[e],a=n[e];Qt(s)&&Qt(a)?Eu(s,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=jh(a))}const M1={"":e=>e,x:e=>e.x,y:e=>e.y};function AL(e){const t=e.split("."),n=[];let s="";for(const a of t)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function OL(e){const t=AL(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function Ao(e,t){return(M1[t]||(M1[t]=OL(t)))(e)}function Xx(e){return e.charAt(0).toUpperCase()+e.slice(1)}const $u=e=>typeof e!="undefined",Ri=e=>typeof e=="function",P1=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function RL(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const hn=Math.PI,Xn=2*hn,Sh=Number.POSITIVE_INFINITY,DL=hn/180,ss=hn/2,uo=hn/4,L1=hn*2/3,DN=Math.log10,Ti=Math.sign;function oh(e,t,n){return Math.abs(e-t)<n}function z1(e){const t=Math.round(e);e=oh(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(DN(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function ML(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((a,o)=>a-o).pop(),t}function PL(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Nh(e){return!PL(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function LL(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function zL(e,t,n){let s,a,o;for(s=0,a=e.length;s<a;s++)o=e[s][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ua(e){return e*(hn/180)}function BL(e){return e*(180/hn)}function B1(e){if(!Sr(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function MN(e,t){const n=t.x-e.x,s=t.y-e.y,a=Math.sqrt(n*n+s*s);let o=Math.atan2(s,n);return o<-.5*hn&&(o+=Xn),{angle:o,distance:a}}function UL(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ea(e){return(e%Xn+Xn)%Xn}function Eh(e,t,n,s){const a=ea(e),o=ea(t),l=ea(n),d=ea(o-a),f=ea(l-a),h=ea(a-o),p=ea(a-l);return a===o||a===l||s&&o===l||d>f&&h<p}function qs(e,t,n){return Math.max(t,Math.min(n,e))}function FL(e){return qs(e,-32768,32767)}function _o(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function Gx(e,t,n){n=n||(l=>e[l]<t);let s=e.length-1,a=0,o;for(;s-a>1;)o=a+s>>1,n(o)?a=o:s=o;return{lo:a,hi:s}}const M0=(e,t,n,s)=>Gx(e,n,s?a=>{const o=e[a][t];return o<n||o===n&&e[a+1][t]===n}:a=>e[a][t]<n),HL=(e,t,n)=>Gx(e,n,s=>e[s][t]>=n);function VL(e,t,n){let s=0,a=e.length;for(;s<a&&e[s]<t;)s++;for(;a>s&&e[a-1]>n;)a--;return s>0||a<e.length?e.slice(s,a):e}const PN=["push","pop","shift","splice","unshift"];function $L(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),PN.forEach(n=>{const s="_onData"+Xx(n),a=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...o){const l=a.apply(this,o);return e._chartjs.listeners.forEach(d=>{typeof d[s]=="function"&&d[s](...o)}),l}})})}function U1(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,a=s.indexOf(t);a!==-1&&s.splice(a,1),!(s.length>0)&&(PN.forEach(o=>{delete e[o]}),delete e._chartjs)}function LN(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const zN=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function BN(e,t){let n=[],s=!1;return function(...a){n=a,s||(s=!0,zN.call(window,()=>{s=!1,e.apply(t,n)}))}}function qL(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const Kx=e=>e==="start"?"left":e==="end"?"right":"center",ws=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,IL=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t,Df=e=>e===0||e===1,F1=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Xn/n)),H1=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Xn/n)+1,Tu={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*ss)+1,easeOutSine:e=>Math.sin(e*ss),easeInOutSine:e=>-.5*(Math.cos(hn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Df(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Df(e)?e:F1(e,.075,.3),easeOutElastic:e=>Df(e)?e:H1(e,.075,.3),easeInOutElastic(e){return Df(e)?e:e<.5?.5*F1(e*2,.1125,.45):.5+.5*H1(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Tu.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Tu.easeInBounce(e*2)*.5:Tu.easeOutBounce(e*2-1)*.5+.5};function UN(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function V1(e){return UN(e)?e:new Hu(e)}function Lg(e){return UN(e)?e:new Hu(e).saturate(.5).darken(.1).hexString()}const YL=["x","y","borderWidth","radius","tension"],WL=["color","borderColor","backgroundColor"];function XL(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:WL},numbers:{type:"number",properties:YL}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function GL(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const $1=new Map;function KL(e,t){t=t||{};const n=e+JSON.stringify(t);let s=$1.get(n);return s||(s=new Intl.NumberFormat(e,t),$1.set(n,s)),s}function Qx(e,t,n){return KL(t,n).format(e)}const QL={values(e){return ns(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let a,o=e;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(a="scientific"),o=ZL(e,n)}const l=DN(Math.abs(o)),d=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:a,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(f,this.options.ticks.format),Qx(e,s,f)}};function ZL(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var FN={formatters:QL};function JL(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:FN.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Oo=Object.create(null),P0=Object.create(null);function ku(e,t){if(!t)return e;const n=t.split(".");for(let s=0,a=n.length;s<a;++s){const o=n[s];e=e[o]||(e[o]=Object.create(null))}return e}function zg(e,t,n){return typeof t=="string"?Vu(ku(e,t),n):Vu(ku(e,""),t)}class e6{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>Lg(a.backgroundColor),this.hoverBorderColor=(s,a)=>Lg(a.borderColor),this.hoverColor=(s,a)=>Lg(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return zg(this,t,n)}get(t){return ku(this,t)}describe(t,n){return zg(P0,t,n)}override(t,n){return zg(Oo,t,n)}route(t,n,s,a){const o=ku(this,t),l=ku(this,s),d="_"+n;Object.defineProperties(o,{[d]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[d],h=l[a];return Qt(f)?Object.assign({},h,f):Kt(f,h)},set(f){this[d]=f}}})}apply(t){t.forEach(n=>n(this))}}var Un=new e6({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[XL,GL,JL]);function t6(e){return!e||mn(e.size)||mn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function q1(e,t,n,s,a){let o=t[a];return o||(o=t[a]=e.measureText(a).width,n.push(a)),o>s&&(s=o),s}function fo(e,t,n){const s=e.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((t-a)*s)/s+a}function I1(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Y1(e,t,n,s){HN(e,t,n,s,null)}function HN(e,t,n,s,a){let o,l,d,f,h,p,g,b;const y=t.pointStyle,w=t.rotation,_=t.radius;let j=(w||0)*DL;if(y&&typeof y=="object"&&(o=y.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(j),e.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),e.restore();return}if(!(isNaN(_)||_<=0)){switch(e.beginPath(),y){default:a?e.ellipse(n,s,a/2,_,0,0,Xn):e.arc(n,s,_,0,Xn),e.closePath();break;case"triangle":p=a?a/2:_,e.moveTo(n+Math.sin(j)*p,s-Math.cos(j)*_),j+=L1,e.lineTo(n+Math.sin(j)*p,s-Math.cos(j)*_),j+=L1,e.lineTo(n+Math.sin(j)*p,s-Math.cos(j)*_),e.closePath();break;case"rectRounded":h=_*.516,f=_-h,l=Math.cos(j+uo)*f,g=Math.cos(j+uo)*(a?a/2-h:f),d=Math.sin(j+uo)*f,b=Math.sin(j+uo)*(a?a/2-h:f),e.arc(n-g,s-d,h,j-hn,j-ss),e.arc(n+b,s-l,h,j-ss,j),e.arc(n+g,s+d,h,j,j+ss),e.arc(n-b,s+l,h,j+ss,j+hn),e.closePath();break;case"rect":if(!w){f=Math.SQRT1_2*_,p=a?a/2:f,e.rect(n-p,s-f,2*p,2*f);break}j+=uo;case"rectRot":g=Math.cos(j)*(a?a/2:_),l=Math.cos(j)*_,d=Math.sin(j)*_,b=Math.sin(j)*(a?a/2:_),e.moveTo(n-g,s-d),e.lineTo(n+b,s-l),e.lineTo(n+g,s+d),e.lineTo(n-b,s+l),e.closePath();break;case"crossRot":j+=uo;case"cross":g=Math.cos(j)*(a?a/2:_),l=Math.cos(j)*_,d=Math.sin(j)*_,b=Math.sin(j)*(a?a/2:_),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+b,s-l),e.lineTo(n-b,s+l);break;case"star":g=Math.cos(j)*(a?a/2:_),l=Math.cos(j)*_,d=Math.sin(j)*_,b=Math.sin(j)*(a?a/2:_),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+b,s-l),e.lineTo(n-b,s+l),j+=uo,g=Math.cos(j)*(a?a/2:_),l=Math.cos(j)*_,d=Math.sin(j)*_,b=Math.sin(j)*(a?a/2:_),e.moveTo(n-g,s-d),e.lineTo(n+g,s+d),e.moveTo(n+b,s-l),e.lineTo(n-b,s+l);break;case"line":l=a?a/2:Math.cos(j)*_,d=Math.sin(j)*_,e.moveTo(n-l,s-d),e.lineTo(n+l,s+d);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(j)*(a?a/2:_),s+Math.sin(j)*_);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function VN(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Zx(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Jx(e){e.restore()}function n6(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),mn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function s6(e,t,n,s,a){if(a.strikethrough||a.underline){const o=e.measureText(s),l=t-o.actualBoundingBoxLeft,d=t+o.actualBoundingBoxRight,f=n-o.actualBoundingBoxAscent,h=n+o.actualBoundingBoxDescent,p=a.strikethrough?(f+h)/2:h;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(l,p),e.lineTo(d,p),e.stroke()}}function r6(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function qu(e,t,n,s,a,o={}){const l=ns(t)?t:[t],d=o.strokeWidth>0&&o.strokeColor!=="";let f,h;for(e.save(),e.font=a.string,n6(e,o),f=0;f<l.length;++f)h=l[f],o.backdrop&&r6(e,o.backdrop),d&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),mn(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(h,n,s,o.maxWidth)),e.fillText(h,n,s,o.maxWidth),s6(e,n,s,h,o),s+=Number(a.lineHeight);e.restore()}function Th(e,t){const{x:n,y:s,w:a,h:o,radius:l}=t;e.arc(n+l.topLeft,s+l.topLeft,l.topLeft,1.5*hn,hn,!0),e.lineTo(n,s+o-l.bottomLeft),e.arc(n+l.bottomLeft,s+o-l.bottomLeft,l.bottomLeft,hn,ss,!0),e.lineTo(n+a-l.bottomRight,s+o),e.arc(n+a-l.bottomRight,s+o-l.bottomRight,l.bottomRight,ss,0,!0),e.lineTo(n+a,s+l.topRight),e.arc(n+a-l.topRight,s+l.topRight,l.topRight,0,-ss,!0),e.lineTo(n+l.topLeft,s)}const a6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,i6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function o6(e,t){const n=(""+e).match(a6);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const l6=e=>+e||0;function ey(e,t){const n={},s=Qt(t),a=s?Object.keys(t):t,o=Qt(e)?s?l=>Kt(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of a)n[l]=l6(o(l));return n}function $N(e){return ey(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Fl(e){return ey(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Nr(e){const t=$N(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function js(e,t){e=e||{},t=t||Un.font;let n=Kt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=Kt(e.style,t.style);s&&!(""+s).match(i6)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:Kt(e.family,t.family),lineHeight:o6(Kt(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:Kt(e.weight,t.weight),string:""};return a.string=t6(a),a}function Mf(e,t,n,s){let a,o,l;for(a=0,o=e.length;a<o;++a)if(l=e[a],l!==void 0&&l!==void 0)return l}function c6(e,t,n){const{min:s,max:a}=e,o=ON(t,(a-s)/2),l=(d,f)=>n&&d===0?0:d+f;return{min:l(s,-Math.abs(o)),max:l(a,o)}}function tc(e,t){return Object.assign(Object.create(e),t)}function ty(e,t=[""],n,s,a=()=>e[0]){const o=n||e;typeof s=="undefined"&&(s=WN("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:s,_getTarget:a,override:d=>ty([d,...e],t,o,s)};return new Proxy(l,{deleteProperty(d,f){return delete d[f],delete d._keys,delete e[0][f],!0},get(d,f){return IN(d,f,()=>x6(f,t,e,d))},getOwnPropertyDescriptor(d,f){return Reflect.getOwnPropertyDescriptor(d._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(d,f){return X1(d).includes(f)},ownKeys(d){return X1(d)},set(d,f,h){const p=d._storage||(d._storage=a());return d[f]=p[f]=h,delete d._keys,!0}})}function Wl(e,t,n,s){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:qN(e,s),setContext:o=>Wl(e,o,n,s),override:o=>Wl(e.override(o),t,n,s)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete e[l],!0},get(o,l,d){return IN(o,l,()=>d6(o,l,d))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(o,l,d){return e[l]=d,delete o[l],!0}})}function qN(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:n,indexable:s,isScriptable:Ri(n)?n:()=>n,isIndexable:Ri(s)?s:()=>s}}const u6=(e,t)=>e?e+Xx(t):t,ny=(e,t)=>Qt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function IN(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function d6(e,t,n){const{_proxy:s,_context:a,_subProxy:o,_descriptors:l}=e;let d=s[t];return Ri(d)&&l.isScriptable(t)&&(d=f6(t,d,e,n)),ns(d)&&d.length&&(d=h6(t,d,e,l.isIndexable)),ny(t,d)&&(d=Wl(d,a,o&&o[t],l)),d}function f6(e,t,n,s){const{_proxy:a,_context:o,_subProxy:l,_stack:d}=n;if(d.has(e))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+e);d.add(e);let f=t(o,l||s);return d.delete(e),ny(e,f)&&(f=sy(a._scopes,a,e,f)),f}function h6(e,t,n,s){const{_proxy:a,_context:o,_subProxy:l,_descriptors:d}=n;if(typeof o.index!="undefined"&&s(e))return t[o.index%t.length];if(Qt(t[0])){const f=t,h=a._scopes.filter(p=>p!==f);t=[];for(const p of f){const g=sy(h,a,e,p);t.push(Wl(g,o,l&&l[e],d))}}return t}function YN(e,t,n){return Ri(e)?e(t,n):e}const m6=(e,t)=>e===!0?t:typeof e=="string"?Ao(t,e):void 0;function p6(e,t,n,s,a){for(const o of t){const l=m6(n,o);if(l){e.add(l);const d=YN(l._fallback,n,a);if(typeof d!="undefined"&&d!==n&&d!==s)return d}else if(l===!1&&typeof s!="undefined"&&n!==s)return null}return!1}function sy(e,t,n,s){const a=t._rootScopes,o=YN(t._fallback,n,s),l=[...e,...a],d=new Set;d.add(s);let f=W1(d,l,n,o||n,s);return f===null||typeof o!="undefined"&&o!==n&&(f=W1(d,l,o,f,s),f===null)?!1:ty(Array.from(d),[""],a,o,()=>g6(t,n,s))}function W1(e,t,n,s,a){for(;n;)n=p6(e,t,n,s,a);return n}function g6(e,t,n){const s=e._getTarget();t in s||(s[t]={});const a=s[t];return ns(a)&&Qt(n)?n:a||{}}function x6(e,t,n,s){let a;for(const o of t)if(a=WN(u6(o,e),n),typeof a!="undefined")return ny(e,a)?sy(n,s,e,a):a}function WN(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s!="undefined")return s}}function X1(e){let t=e._keys;return t||(t=e._keys=y6(e._scopes)),t}function y6(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(a=>!a.startsWith("_")))t.add(s);return Array.from(t)}function ry(){return typeof window!="undefined"&&typeof document!="undefined"}function ay(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function kh(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const Jh=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function b6(e,t){return Jh(e).getPropertyValue(t)}const v6=["top","right","bottom","left"];function So(e,t,n){const s={};n=n?"-"+n:"";for(let a=0;a<4;a++){const o=v6[a];s[o]=parseFloat(e[t+"-"+o+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const w6=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function _6(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:a,offsetY:o}=s;let l=!1,d,f;if(w6(a,o,e.target))d=a,f=o;else{const h=t.getBoundingClientRect();d=s.clientX-h.left,f=s.clientY-h.top,l=!0}return{x:d,y:f,box:l}}function po(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,a=Jh(n),o=a.boxSizing==="border-box",l=So(a,"padding"),d=So(a,"border","width"),{x:f,y:h,box:p}=_6(e,n),g=l.left+(p&&d.left),b=l.top+(p&&d.top);let{width:y,height:w}=t;return o&&(y-=l.width+d.width,w-=l.height+d.height),{x:Math.round((f-g)/y*n.width/s),y:Math.round((h-b)/w*n.height/s)}}function j6(e,t,n){let s,a;if(t===void 0||n===void 0){const o=e&&ay(e);if(!o)t=e.clientWidth,n=e.clientHeight;else{const l=o.getBoundingClientRect(),d=Jh(o),f=So(d,"border","width"),h=So(d,"padding");t=l.width-h.width-f.width,n=l.height-h.height-f.height,s=kh(d.maxWidth,o,"clientWidth"),a=kh(d.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:s||Sh,maxHeight:a||Sh}}const Pf=e=>Math.round(e*10)/10;function S6(e,t,n,s){const a=Jh(e),o=So(a,"margin"),l=kh(a.maxWidth,e,"clientWidth")||Sh,d=kh(a.maxHeight,e,"clientHeight")||Sh,f=j6(e,t,n);let{width:h,height:p}=f;if(a.boxSizing==="content-box"){const b=So(a,"border","width"),y=So(a,"padding");h-=y.width+b.width,p-=y.height+b.height}return h=Math.max(0,h-o.width),p=Math.max(0,s?h/s:p-o.height),h=Pf(Math.min(h,l,f.maxWidth)),p=Pf(Math.min(p,d,f.maxHeight)),h&&!p&&(p=Pf(h/2)),(t!==void 0||n!==void 0)&&s&&f.height&&p>f.height&&(p=f.height,h=Pf(Math.floor(p*s))),{width:h,height:p}}function G1(e,t,n){const s=t||1,a=Math.floor(e.height*s),o=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||l.height!==a||l.width!==o?(e.currentDevicePixelRatio=s,l.height=a,l.width=o,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const N6=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};ry()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function K1(e,t){const n=b6(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const E6=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},T6=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Hl(e,t,n){return e?E6(t,n):T6()}function XN(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function GN(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Lf(e,t,n){return e.options.clip?e[n]:t[n]}function k6(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:Lf(n,t,"left"),right:Lf(n,t,"right"),top:Lf(s,t,"top"),bottom:Lf(s,t,"bottom")}:t}function C6(e,t){const n=t._clip;if(n.disabled)return!1;const s=k6(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class A6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,a){const o=n.listeners[a],l=n.duration;o.forEach(d=>d({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(s-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=zN.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const o=s.items;let l=o.length-1,d=!1,f;for(;l>=0;--l)f=o[l],f._active?(f._total>s.duration&&(s.duration=f._total),f.tick(t),d=!0):(o[l]=o[o.length-1],o.pop());d&&(a.draw(),this._notify(a,s,t,"progress")),o.length||(s.running=!1,this._notify(a,s,t,"complete"),s.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ma=new A6;const Q1="transparent",O6={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=V1(e||Q1),a=s.valid&&V1(t||Q1);return a&&a.valid?a.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class R6{constructor(t,n,s,a){const o=n[s];a=Mf([t.to,a,o,t.from]);const l=Mf([t.from,o,a]);this._active=!0,this._fn=t.fn||O6[t.type||typeof l],this._easing=Tu[t.easing]||Tu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=l,this._to=a,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const a=this._target[this._prop],o=s-this._start,l=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Mf([t.to,n,a,t.from]),this._from=Mf([t.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,a=this._prop,o=this._from,l=this._loop,d=this._to;let f;if(this._active=o!==d&&(l||n<s),!this._active){this._target[a]=d,this._notify(!0);return}if(n<0){this._target[a]=o;return}f=n/s%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,d,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][n]()}}class KN{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Qt(t))return;const n=Object.keys(Un.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!Qt(o))return;const l={};for(const d of n)l[d]=o[d];(ns(o.properties)&&o.properties||[a]).forEach(d=>{(d===a||!s.has(d))&&s.set(d,l)})})}_animateOptions(t,n){const s=n.options,a=M6(t,s);if(!a)return[];const o=this._createAnimations(a,s);return s.$shared&&D6(t.options.$animations,s).then(()=>{t.options=s},()=>{}),o}_createAnimations(t,n){const s=this._properties,a=[],o=t.$animations||(t.$animations={}),l=Object.keys(n),d=Date.now();let f;for(f=l.length-1;f>=0;--f){const h=l[f];if(h.charAt(0)==="$")continue;if(h==="options"){a.push(...this._animateOptions(t,n));continue}const p=n[h];let g=o[h];const b=s.get(h);if(g)if(b&&g.active()){g.update(b,p,d);continue}else g.cancel();if(!b||!b.duration){t[h]=p;continue}o[h]=g=new R6(b,t,h,p),a.push(g)}return a}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return Ma.add(this._chart,s),!0}}function D6(e,t){const n=[],s=Object.keys(t);for(let a=0;a<s.length;a++){const o=e[s[a]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function M6(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Z1(e,t){const n=e&&e.options||{},s=n.reverse,a=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:s?o:a,end:s?a:o}}function P6(e,t,n){if(n===!1)return!1;const s=Z1(e,n),a=Z1(t,n);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function L6(e){let t,n,s,a;return Qt(e)?(t=e.top,n=e.right,s=e.bottom,a=e.left):t=n=s=a=e,{top:t,right:n,bottom:s,left:a,disabled:e===!1}}function QN(e,t){const n=[],s=e._getSortedDatasetMetas(t);let a,o;for(a=0,o=s.length;a<o;++a)n.push(s[a].index);return n}function J1(e,t,n,s={}){const a=e.keys,o=s.mode==="single";let l,d,f,h;if(t===null)return;let p=!1;for(l=0,d=a.length;l<d;++l){if(f=+a[l],f===n){if(p=!0,s.all)continue;break}h=e.values[f],Sr(h)&&(o||t===0||Ti(t)===Ti(h))&&(t+=h)}return!p&&!s.all?0:t}function z6(e,t){const{iScale:n,vScale:s}=t,a=n.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",l=Object.keys(e),d=new Array(l.length);let f,h,p;for(f=0,h=l.length;f<h;++f)p=l[f],d[f]={[a]:p,[o]:e[p]};return d}function Bg(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function B6(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function U6(e){const{min:t,max:n,minDefined:s,maxDefined:a}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function F6(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function ej(e,t,n,s){for(const a of t.getMatchingVisibleMetas(s).reverse()){const o=e[a.index];if(n&&o>0||!n&&o<0)return a.index}return null}function tj(e,t){const{chart:n,_cachedMeta:s}=e,a=n._stacks||(n._stacks={}),{iScale:o,vScale:l,index:d}=s,f=o.axis,h=l.axis,p=B6(o,l,s),g=t.length;let b;for(let y=0;y<g;++y){const w=t[y],{[f]:_,[h]:j}=w,S=w._stacks||(w._stacks={});b=S[h]=F6(a,p,_),b[d]=j,b._top=ej(b,l,!0,s.type),b._bottom=ej(b,l,!1,s.type);const O=b._visualValues||(b._visualValues={});O[d]=j}}function Ug(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function H6(e,t){return tc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function V6(e,t,n){return tc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function cu(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const a of t){const o=a._stacks;if(!o||o[s]===void 0||o[s][n]===void 0)return;delete o[s][n],o[s]._visualValues!==void 0&&o[s]._visualValues[n]!==void 0&&delete o[s]._visualValues[n]}}}const Fg=e=>e==="reset"||e==="none",nj=(e,t)=>t?e:Object.assign({},e),$6=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:QN(n,!0),values:null};class Vl{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Bg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&cu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),a=(g,b,y,w)=>g==="x"?b:g==="r"?w:y,o=n.xAxisID=Kt(s.xAxisID,Ug(t,"x")),l=n.yAxisID=Kt(s.yAxisID,Ug(t,"y")),d=n.rAxisID=Kt(s.rAxisID,Ug(t,"r")),f=n.indexAxis,h=n.iAxisID=a(f,o,l,d),p=n.vAxisID=a(f,l,o,d);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&U1(this._data,this),t._stacked&&cu(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(Qt(n)){const a=this._cachedMeta;this._data=z6(n,a)}else if(s!==n){if(s){U1(s,this);const a=this._cachedMeta;cu(a),a._parsed=[]}n&&Object.isExtensible(n)&&$L(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const o=n._stacked;n._stacked=Bg(n.vScale,n),n.stack!==s.stack&&(a=!0,cu(n),n.stack=s.stack),this._resyncElements(t),(a||o!==n._stacked)&&(tj(this,n._parsed),n._stacked=Bg(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:a}=this,{iScale:o,_stacked:l}=s,d=o.axis;let f=t===0&&n===a.length?!0:s._sorted,h=t>0&&s._parsed[t-1],p,g,b;if(this._parsing===!1)s._parsed=a,s._sorted=!0,b=a;else{ns(a[t])?b=this.parseArrayData(s,a,t,n):Qt(a[t])?b=this.parseObjectData(s,a,t,n):b=this.parsePrimitiveData(s,a,t,n);const y=()=>g[d]===null||h&&g[d]<h[d];for(p=0;p<n;++p)s._parsed[p+t]=g=b[p],f&&(y()&&(f=!1),h=g);s._sorted=f}l&&tj(this,b)}parsePrimitiveData(t,n,s,a){const{iScale:o,vScale:l}=t,d=o.axis,f=l.axis,h=o.getLabels(),p=o===l,g=new Array(a);let b,y,w;for(b=0,y=a;b<y;++b)w=b+s,g[b]={[d]:p||o.parse(h[w],w),[f]:l.parse(n[w],w)};return g}parseArrayData(t,n,s,a){const{xScale:o,yScale:l}=t,d=new Array(a);let f,h,p,g;for(f=0,h=a;f<h;++f)p=f+s,g=n[p],d[f]={x:o.parse(g[0],p),y:l.parse(g[1],p)};return d}parseObjectData(t,n,s,a){const{xScale:o,yScale:l}=t,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,h=new Array(a);let p,g,b,y;for(p=0,g=a;p<g;++p)b=p+s,y=n[b],h[p]={x:o.parse(Ao(y,d),b),y:l.parse(Ao(y,f),b)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const a=this.chart,o=this._cachedMeta,l=n[t.axis],d={keys:QN(a,!0),values:n._stacks[t.axis]._visualValues};return J1(d,l,o.index,{mode:s})}updateRangeFromParsed(t,n,s,a){const o=s[n.axis];let l=o===null?NaN:o;const d=a&&s._stacks[n.axis];a&&d&&(a.values=d,l=J1(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const s=this._cachedMeta,a=s._parsed,o=s._sorted&&t===s.iScale,l=a.length,d=this._getOtherScale(t),f=$6(n,s,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=U6(d);let b,y;function w(){y=a[b];const _=y[d.axis];return!Sr(y[t.axis])||p>_||g<_}for(b=0;b<l&&!(!w()&&(this.updateRangeFromParsed(h,t,y,f),o));++b);if(o){for(b=l-1;b>=0;--b)if(!w()){this.updateRangeFromParsed(h,t,y,f);break}}return h}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let a,o,l;for(a=0,o=n.length;a<o;++a)l=n[a][t.axis],Sr(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,a=n.vScale,o=this.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=L6(Kt(this.options.clip,P6(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,a=s.data||[],o=n.chartArea,l=[],d=this._drawStart||0,f=this._drawCount||a.length-d,h=this.options.drawActiveElementsOnTop;let p;for(s.dataset&&s.dataset.draw(t,o,d,f),p=d;p<d+f;++p){const g=a[p];g.hidden||(g.active&&h?l.push(g):g.draw(t,o))}for(p=0;p<l.length;++p)l[p].draw(t,o)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=V6(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=H6(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const a=n==="active",o=this._cachedDataOpts,l=t+"-"+n,d=o[l],f=this.enableOptionSharing&&$u(s);if(d)return nj(d,f);const h=this.chart.config,p=h.datasetElementScopeKeys(this._type,t),g=a?[`${t}Hover`,"hover",t,""]:[t,""],b=h.getOptionScopes(this.getDataset(),p),y=Object.keys(Un.elements[t]),w=()=>this.getContext(s,a,n),_=h.resolveNamedOptions(b,y,w,g);return _.$shared&&(_.$shared=f,o[l]=Object.freeze(nj(_,f))),_}_resolveAnimations(t,n,s){const a=this.chart,o=this._cachedDataOpts,l=`animation-${n}`,d=o[l];if(d)return d;let f;if(a.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,n),b=p.getOptionScopes(this.getDataset(),g);f=p.createResolver(b,this.getContext(t,s,n))}const h=new KN(a,f&&f.animations);return f&&f._cacheable&&(o[l]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Fg(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),a=this._sharedOptions,o=this.getSharedOptions(s),l=this.includeOptions(n,o)||o!==a;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:l}}updateElement(t,n,s,a){Fg(a)?Object.assign(t,s):this._resolveAnimations(n,a).update(t,s)}updateSharedOptions(t,n,s){t&&!Fg(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,a){t.active=a;const o=this.getStyle(n,a);this._resolveAnimations(n,s,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[d,f,h]of this._syncList)this[d](f,h);this._syncList=[];const a=s.length,o=n.length,l=Math.min(o,a);l&&this.parse(0,l),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,n,s=!0){const a=this._cachedMeta,o=a.data,l=t+n;let d;const f=h=>{for(h.length+=n,d=h.length-1;d>=l;d--)h[d]=h[d-n]};for(f(o),d=t;d<l;++d)o[d]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(t,n),s&&this.updateElements(o,t,n,"reset")}updateElements(t,n,s,a){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(t,n);s._stacked&&cu(s,a)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,a]=t;this[n](s,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ft(Vl,"defaults",{}),ft(Vl,"datasetElementType",null),ft(Vl,"dataElementType",null);function q6(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let s=[];for(let a=0,o=n.length;a<o;a++)s=s.concat(n[a].controller.getAllParsedValues(e));e._cache.$bar=LN(s.sort((a,o)=>a-o))}return e._cache.$bar}function I6(e){const t=e.iScale,n=q6(t,e.type);let s=t._length,a,o,l,d;const f=()=>{l===32767||l===-32768||($u(d)&&(s=Math.min(s,Math.abs(l-d)||s)),d=l)};for(a=0,o=n.length;a<o;++a)l=t.getPixelForValue(n[a]),f();for(d=void 0,a=0,o=t.ticks.length;a<o;++a)l=t.getPixelForTick(a),f();return s}function Y6(e,t,n,s){const a=n.barThickness;let o,l;return mn(a)?(o=t.min*n.categoryPercentage,l=n.barPercentage):(o=a*s,l=1),{chunk:o/s,ratio:l,start:t.pixels[e]-o/2}}function W6(e,t,n,s){const a=t.pixels,o=a[e];let l=e>0?a[e-1]:null,d=e<a.length-1?a[e+1]:null;const f=n.categoryPercentage;l===null&&(l=o-(d===null?t.end-t.start:d-o)),d===null&&(d=o+o-l);const h=o-(o-Math.min(l,d))/2*f;return{chunk:Math.abs(d-l)/2*f/s,ratio:n.barPercentage,start:h}}function X6(e,t,n,s){const a=n.parse(e[0],s),o=n.parse(e[1],s),l=Math.min(a,o),d=Math.max(a,o);let f=l,h=d;Math.abs(l)>Math.abs(d)&&(f=d,h=l),t[n.axis]=h,t._custom={barStart:f,barEnd:h,start:a,end:o,min:l,max:d}}function ZN(e,t,n,s){return ns(e)?X6(e,t,n,s):t[n.axis]=n.parse(e,s),t}function sj(e,t,n,s){const a=e.iScale,o=e.vScale,l=a.getLabels(),d=a===o,f=[];let h,p,g,b;for(h=n,p=n+s;h<p;++h)b=t[h],g={},g[a.axis]=d||a.parse(l[h],h),f.push(ZN(b,g,o,h));return f}function Hg(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function G6(e,t,n){return e!==0?Ti(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function K6(e){let t,n,s,a,o;return e.horizontal?(t=e.base>e.x,n="left",s="right"):(t=e.base<e.y,n="bottom",s="top"),t?(a="end",o="start"):(a="start",o="end"),{start:n,end:s,reverse:t,top:a,bottom:o}}function Q6(e,t,n,s){let a=t.borderSkipped;const o={};if(!a){e.borderSkipped=o;return}if(a===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:d,reverse:f,top:h,bottom:p}=K6(e);a==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===s?a=h:(n._bottom||0)===s?a=p:(o[rj(p,l,d,f)]=!0,a=h)),o[rj(a,l,d,f)]=!0,e.borderSkipped=o}function rj(e,t,n,s){return s?(e=Z6(e,t,n),e=aj(e,n,t)):e=aj(e,t,n),e}function Z6(e,t,n){return e===t?n:e===n?t:e}function aj(e,t,n){return e==="start"?t:e==="end"?n:e}function J6(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class lh extends Vl{parsePrimitiveData(t,n,s,a){return sj(t,n,s,a)}parseArrayData(t,n,s,a){return sj(t,n,s,a)}parseObjectData(t,n,s,a){const{iScale:o,vScale:l}=t,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,h=o.axis==="x"?d:f,p=l.axis==="x"?d:f,g=[];let b,y,w,_;for(b=s,y=s+a;b<y;++b)_=n[b],w={},w[o.axis]=o.parse(Ao(_,h),b),g.push(ZN(Ao(_,p),w,l,b));return g}updateRangeFromParsed(t,n,s,a){super.updateRangeFromParsed(t,n,s,a);const o=s._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:s,vScale:a}=n,o=this.getParsed(t),l=o._custom,d=Hg(l)?"["+l.start+", "+l.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,a){const o=a==="reset",{index:l,_cachedMeta:{vScale:d}}=this,f=d.getBasePixel(),h=d.isHorizontal(),p=this._getRuler(),{sharedOptions:g,includeOptions:b}=this._getSharedOptions(n,a);for(let y=n;y<n+s;y++){const w=this.getParsed(y),_=o||mn(w[d.axis])?{base:f,head:f}:this._calculateBarValuePixels(y),j=this._calculateBarIndexPixels(y,p),S=(w._stacks||{})[d.axis],O={horizontal:h,base:_.base,enableBorderRadius:!S||Hg(w._custom)||l===S._top||l===S._bottom,x:h?_.head:j.center,y:h?j.center:_.head,height:h?j.size:Math.abs(_.size),width:h?Math.abs(_.size):j.size};b&&(O.options=g||this.resolveDataElementOptions(y,t[y].active?"active":a));const k=O.options||t[y].options;Q6(O,k,S,l),J6(O,k,p.ratio),this.updateElement(t[y],y,O,a)}}_getStacks(t,n){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=s.options.stacked,l=[],d=this._cachedMeta.controller.getParsed(n),f=d&&d[s.axis],h=p=>{const g=p._parsed.find(y=>y[s.axis]===f),b=g&&g[p.vScale.axis];if(mn(b)||isNaN(b))return!0};for(const p of a)if(!(n!==void 0&&h(p))&&((o===!1||l.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[Kt(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,s){const a=this._getStacks(t,s),o=n!==void 0?a.indexOf(n):-1;return o===-1?a.length-1:o}_getRuler(){const t=this.options,n=this._cachedMeta,s=n.iScale,a=[];let o,l;for(o=0,l=n.data.length;o<l;++o)a.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const d=t.barThickness;return{min:d||I6(n),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:d?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:s,index:a},options:{base:o,minBarLength:l}}=this,d=o||0,f=this.getParsed(t),h=f._custom,p=Hg(h);let g=f[n.axis],b=0,y=s?this.applyStack(n,f,s):g,w,_;y!==g&&(b=y-g,y=g),p&&(g=h.barStart,y=h.barEnd-h.barStart,g!==0&&Ti(g)!==Ti(h.barEnd)&&(b=0),b+=g);const j=!mn(o)&&!p?o:b;let S=n.getPixelForValue(j);if(this.chart.getDataVisibility(t)?w=n.getPixelForValue(b+y):w=S,_=w-S,Math.abs(_)<l){_=G6(_,n,d)*l,g===d&&(S-=_/2);const O=n.getPixelForDecimal(0),k=n.getPixelForDecimal(1),C=Math.min(O,k),A=Math.max(O,k);S=Math.max(Math.min(S,A),C),w=S+_,s&&!p&&(f._stacks[n.axis]._visualValues[a]=n.getValueForPixel(w)-n.getValueForPixel(S))}if(S===n.getPixelForValue(d)){const O=Ti(_)*n.getLineWidthForValue(d)/2;S+=O,_-=O}return{size:_,base:S,head:w,center:w+_/2}}_calculateBarIndexPixels(t,n){const s=n.scale,a=this.options,o=a.skipNull,l=Kt(a.maxBarThickness,1/0);let d,f;const h=this._getAxisCount();if(n.grouped){const p=o?this._getStackCount(t):n.stackCount,g=a.barThickness==="flex"?W6(t,n,a,p*h):Y6(t,n,a,p*h),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(Kt(b,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+y;d=g.start+g.chunk*w+g.chunk/2,f=Math.min(l,g.chunk*g.ratio)}else d=s.getPixelForValue(this.getParsed(t)[s.axis],t),f=Math.min(l,n.min*n.ratio);return{base:d-f/2,head:d+f/2,center:d,size:f}}draw(){const t=this._cachedMeta,n=t.vScale,s=t.data,a=s.length;let o=0;for(;o<a;++o)this.getParsed(o)[n.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}ft(lh,"id","bar"),ft(lh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ft(lh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function ez(e,t,n){let s=1,a=1,o=0,l=0;if(t<Xn){const d=e,f=d+t,h=Math.cos(d),p=Math.sin(d),g=Math.cos(f),b=Math.sin(f),y=(k,C,A)=>Eh(k,d,f,!0)?1:Math.max(C,C*n,A,A*n),w=(k,C,A)=>Eh(k,d,f,!0)?-1:Math.min(C,C*n,A,A*n),_=y(0,h,g),j=y(ss,p,b),S=w(hn,h,g),O=w(hn+ss,p,b);s=(_-S)/2,a=(j-O)/2,o=-(_+S)/2,l=-(j+O)/2}return{ratioX:s,ratioY:a,offsetX:o,offsetY:l}}class _u extends Vl{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let o=f=>+s[f];if(Qt(s[t])){const{key:f="value"}=this._parsing;o=h=>+Ao(s[h],f)}let l,d;for(l=t,d=t+n;l<d;++l)a._parsed[l]=o(l)}}_getRotation(){return Ua(this.options.rotation-90)}_getCircumference(){return Ua(this.options.circumference)}_getRotationExtents(){let t=Xn,n=-Xn;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,o=a._getRotation(),l=a._getCircumference();t=Math.min(t,o),n=Math.max(n,o+l)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:s}=n,a=this._cachedMeta,o=a.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,d=Math.max((Math.min(s.width,s.height)-l)/2,0),f=Math.min(TL(this.options.cutout,d),1),h=this._getRingWeight(this.index),{circumference:p,rotation:g}=this._getRotationExtents(),{ratioX:b,ratioY:y,offsetX:w,offsetY:_}=ez(g,p,f),j=(s.width-l)/b,S=(s.height-l)/y,O=Math.max(Math.min(j,S)/2,0),k=ON(this.options.radius,O),C=Math.max(k*f,0),A=(k-C)/this._getVisibleDatasetWeightTotal();this.offsetX=w*k,this.offsetY=_*k,a.total=this.calculateTotal(),this.outerRadius=k-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*h,0),this.updateElements(o,0,o.length,t)}_circumference(t,n){const s=this.options,a=this._cachedMeta,o=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*o/Xn)}updateElements(t,n,s,a){const o=a==="reset",l=this.chart,d=l.chartArea,h=l.options.animation,p=(d.left+d.right)/2,g=(d.top+d.bottom)/2,b=o&&h.animateScale,y=b?0:this.innerRadius,w=b?0:this.outerRadius,{sharedOptions:_,includeOptions:j}=this._getSharedOptions(n,a);let S=this._getRotation(),O;for(O=0;O<n;++O)S+=this._circumference(O,o);for(O=n;O<n+s;++O){const k=this._circumference(O,o),C=t[O],A={x:p+this.offsetX,y:g+this.offsetY,startAngle:S,endAngle:S+k,circumference:k,outerRadius:w,innerRadius:y};j&&(A.options=_||this.resolveDataElementOptions(O,C.active?"active":a)),S+=k,this.updateElement(C,O,A,a)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let s=0,a;for(a=0;a<n.length;a++){const o=t._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!n[a].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Xn*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,a=s.data.labels||[],o=Qx(n._parsed[t],s.options.locale);return{label:a[t]||"",value:o}}getMaxBorderWidth(t){let n=0;const s=this.chart;let a,o,l,d,f;if(!t){for(a=0,o=s.data.datasets.length;a<o;++a)if(s.isDatasetVisible(a)){l=s.getDatasetMeta(a),t=l.data,d=l.controller;break}}if(!t)return 0;for(a=0,o=t.length;a<o;++a)f=d.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(n=Math.max(n,f.borderWidth||0,f.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let s=0,a=t.length;s<a;++s){const o=this.resolveDataElementOptions(s);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(t){return Math.max(Kt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ft(_u,"id","doughnut"),ft(_u,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ft(_u,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),ft(_u,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:a}}=t.legend.options;return n.labels.map((o,l)=>{const f=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});function ho(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class iy{constructor(t){ft(this,"options");this.options=t||{}}static override(t){Object.assign(iy.prototype,t)}init(){}formats(){return ho()}parse(){return ho()}format(){return ho()}add(){return ho()}diff(){return ho()}startOf(){return ho()}endOf(){return ho()}}var tz={_date:iy};function nz(e,t,n,s){const{controller:a,data:o,_sorted:l}=e,d=a._cachedMeta.iScale,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(d&&t===d.axis&&t!=="r"&&l&&o.length){const h=d._reversePixels?HL:M0;if(s){if(a._sharedOptions){const p=o[0],g=typeof p.getRange=="function"&&p.getRange(t);if(g){const b=h(o,t,n-g),y=h(o,t,n+g);return{lo:b.lo,hi:y.hi}}}}else{const p=h(o,t,n);if(f){const{vScale:g}=a._cachedMeta,{_parsed:b}=e,y=b.slice(0,p.lo+1).reverse().findIndex(_=>!mn(_[g.axis]));p.lo-=Math.max(0,y);const w=b.slice(p.hi).findIndex(_=>!mn(_[g.axis]));p.hi+=Math.max(0,w)}return p}}return{lo:0,hi:o.length-1}}function em(e,t,n,s,a){const o=e.getSortedVisibleDatasetMetas(),l=n[t];for(let d=0,f=o.length;d<f;++d){const{index:h,data:p}=o[d],{lo:g,hi:b}=nz(o[d],t,l,a);for(let y=g;y<=b;++y){const w=p[y];w.skip||s(w,h,y)}}}function sz(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,a){const o=t?Math.abs(s.x-a.x):0,l=n?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Vg(e,t,n,s,a){const o=[];return!a&&!e.isPointInArea(t)||em(e,n,t,function(d,f,h){!a&&!VN(d,e.chartArea,0)||d.inRange(t.x,t.y,s)&&o.push({element:d,datasetIndex:f,index:h})},!0),o}function rz(e,t,n,s){let a=[];function o(l,d,f){const{startAngle:h,endAngle:p}=l.getProps(["startAngle","endAngle"],s),{angle:g}=MN(l,{x:t.x,y:t.y});Eh(g,h,p)&&a.push({element:l,datasetIndex:d,index:f})}return em(e,n,t,o),a}function az(e,t,n,s,a,o){let l=[];const d=sz(n);let f=Number.POSITIVE_INFINITY;function h(p,g,b){const y=p.inRange(t.x,t.y,a);if(s&&!y)return;const w=p.getCenterPoint(a);if(!(!!o||e.isPointInArea(w))&&!y)return;const j=d(t,w);j<f?(l=[{element:p,datasetIndex:g,index:b}],f=j):j===f&&l.push({element:p,datasetIndex:g,index:b})}return em(e,n,t,h),l}function $g(e,t,n,s,a,o){return!o&&!e.isPointInArea(t)?[]:n==="r"&&!s?rz(e,t,n,a):az(e,t,n,s,a,o)}function ij(e,t,n,s,a){const o=[],l=n==="x"?"inXRange":"inYRange";let d=!1;return em(e,n,t,(f,h,p)=>{f[l]&&f[l](t[n],a)&&(o.push({element:f,datasetIndex:h,index:p}),d=d||f.inRange(t.x,t.y,a))}),s&&!d?[]:o}var iz={modes:{index(e,t,n,s){const a=po(t,e),o=n.axis||"x",l=n.includeInvisible||!1,d=n.intersect?Vg(e,a,o,s,l):$g(e,a,o,!1,s,l),f=[];return d.length?(e.getSortedVisibleDatasetMetas().forEach(h=>{const p=d[0].index,g=h.data[p];g&&!g.skip&&f.push({element:g,datasetIndex:h.index,index:p})}),f):[]},dataset(e,t,n,s){const a=po(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;let d=n.intersect?Vg(e,a,o,s,l):$g(e,a,o,!1,s,l);if(d.length>0){const f=d[0].datasetIndex,h=e.getDatasetMeta(f).data;d=[];for(let p=0;p<h.length;++p)d.push({element:h[p],datasetIndex:f,index:p})}return d},point(e,t,n,s){const a=po(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;return Vg(e,a,o,s,l)},nearest(e,t,n,s){const a=po(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;return $g(e,a,o,n.intersect,s,l)},x(e,t,n,s){const a=po(t,e);return ij(e,a,"x",n.intersect,s)},y(e,t,n,s){const a=po(t,e);return ij(e,a,"y",n.intersect,s)}}};const JN=["left","top","right","bottom"];function uu(e,t){return e.filter(n=>n.pos===t)}function oj(e,t){return e.filter(n=>JN.indexOf(n.pos)===-1&&n.box.axis===t)}function du(e,t){return e.sort((n,s)=>{const a=t?s:n,o=t?n:s;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function oz(e){const t=[];let n,s,a,o,l,d;for(n=0,s=(e||[]).length;n<s;++n)a=e[n],{position:o,options:{stack:l,stackWeight:d=1}}=a,t.push({index:n,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:l&&o+l,stackWeight:d});return t}function lz(e){const t={};for(const n of e){const{stack:s,pos:a,stackWeight:o}=n;if(!s||!JN.includes(a))continue;const l=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function cz(e,t){const n=lz(e),{vBoxMaxWidth:s,hBoxMaxHeight:a}=t;let o,l,d;for(o=0,l=e.length;o<l;++o){d=e[o];const{fullSize:f}=d.box,h=n[d.stack],p=h&&d.stackWeight/h.weight;d.horizontal?(d.width=p?p*s:f&&t.availableWidth,d.height=a):(d.width=s,d.height=p?p*a:f&&t.availableHeight)}return n}function uz(e){const t=oz(e),n=du(t.filter(h=>h.box.fullSize),!0),s=du(uu(t,"left"),!0),a=du(uu(t,"right")),o=du(uu(t,"top"),!0),l=du(uu(t,"bottom")),d=oj(t,"x"),f=oj(t,"y");return{fullSize:n,leftAndTop:s.concat(o),rightAndBottom:a.concat(f).concat(l).concat(d),chartArea:uu(t,"chartArea"),vertical:s.concat(a).concat(f),horizontal:o.concat(l).concat(d)}}function lj(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function eE(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function dz(e,t,n,s){const{pos:a,box:o}=n,l=e.maxPadding;if(!Qt(a)){n.size&&(e[a]-=n.size);const g=s[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?o.height:o.width),n.size=g.size/g.count,e[a]+=n.size}o.getPadding&&eE(l,o.getPadding());const d=Math.max(0,t.outerWidth-lj(l,e,"left","right")),f=Math.max(0,t.outerHeight-lj(l,e,"top","bottom")),h=d!==e.w,p=f!==e.h;return e.w=d,e.h=f,n.horizontal?{same:h,other:p}:{same:p,other:h}}function fz(e){const t=e.maxPadding;function n(s){const a=Math.max(t[s]-e[s],0);return e[s]+=a,a}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function hz(e,t){const n=t.maxPadding;function s(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(l=>{o[l]=Math.max(t[l],n[l])}),o}return s(e?["left","right"]:["top","bottom"])}function ju(e,t,n,s){const a=[];let o,l,d,f,h,p;for(o=0,l=e.length,h=0;o<l;++o){d=e[o],f=d.box,f.update(d.width||t.w,d.height||t.h,hz(d.horizontal,t));const{same:g,other:b}=dz(t,n,d,s);h|=g&&a.length,p=p||b,f.fullSize||a.push(d)}return h&&ju(a,t,n,s)||p}function zf(e,t,n,s,a){e.top=n,e.left=t,e.right=t+s,e.bottom=n+a,e.width=s,e.height=a}function cj(e,t,n,s){const a=n.padding;let{x:o,y:l}=t;for(const d of e){const f=d.box,h=s[d.stack]||{placed:0,weight:1},p=d.stackWeight/h.weight||1;if(d.horizontal){const g=t.w*p,b=h.size||f.height;$u(h.start)&&(l=h.start),f.fullSize?zf(f,a.left,l,n.outerWidth-a.right-a.left,b):zf(f,t.left+h.placed,l,g,b),h.start=l,h.placed+=g,l=f.bottom}else{const g=t.h*p,b=h.size||f.width;$u(h.start)&&(o=h.start),f.fullSize?zf(f,o,a.top,b,n.outerHeight-a.bottom-a.top):zf(f,o,t.top+h.placed,b,g),h.start=o,h.placed+=g,o=f.right}}t.x=o,t.y=l}var _r={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const a=Nr(e.options.layout.padding),o=Math.max(t-a.width,0),l=Math.max(n-a.height,0),d=uz(e.boxes),f=d.vertical,h=d.horizontal;rn(e.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const p=f.reduce((_,j)=>j.box.options&&j.box.options.display===!1?_:_+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),b=Object.assign({},a);eE(b,Nr(s));const y=Object.assign({maxPadding:b,w:o,h:l,x:a.left,y:a.top},a),w=cz(f.concat(h),g);ju(d.fullSize,y,g,w),ju(f,y,g,w),ju(h,y,g,w)&&ju(f,y,g,w),fz(y),cj(d.leftAndTop,y,g,w),y.x+=y.w,y.y+=y.h,cj(d.rightAndBottom,y,g,w),e.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},rn(d.chartArea,_=>{const j=_.box;Object.assign(j,e.chartArea),j.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class tE{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,a){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,a?Math.floor(n/a):s)}}isAttached(t){return!0}updateConfig(t){}}class mz extends tE{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ch="$chartjs",pz={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},uj=e=>e===null||e==="";function gz(e,t){const n=e.style,s=e.getAttribute("height"),a=e.getAttribute("width");if(e[ch]={initial:{height:s,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",uj(a)){const o=K1(e,"width");o!==void 0&&(e.width=o)}if(uj(s))if(e.style.height==="")e.height=e.width/(t||2);else{const o=K1(e,"height");o!==void 0&&(e.height=o)}return e}const nE=N6?{passive:!0}:!1;function xz(e,t,n){e&&e.addEventListener(t,n,nE)}function yz(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,nE)}function bz(e,t){const n=pz[e.type]||e.type,{x:s,y:a}=po(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:a!==void 0?a:null}}function Ch(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function vz(e,t,n){const s=e.canvas,a=new MutationObserver(o=>{let l=!1;for(const d of o)l=l||Ch(d.addedNodes,s),l=l&&!Ch(d.removedNodes,s);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function wz(e,t,n){const s=e.canvas,a=new MutationObserver(o=>{let l=!1;for(const d of o)l=l||Ch(d.removedNodes,s),l=l&&!Ch(d.addedNodes,s);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const Iu=new Map;let dj=0;function sE(){const e=window.devicePixelRatio;e!==dj&&(dj=e,Iu.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function _z(e,t){Iu.size||window.addEventListener("resize",sE),Iu.set(e,t)}function jz(e){Iu.delete(e),Iu.size||window.removeEventListener("resize",sE)}function Sz(e,t,n){const s=e.canvas,a=s&&ay(s);if(!a)return;const o=BN((d,f)=>{const h=a.clientWidth;n(d,f),h<a.clientWidth&&n()},window),l=new ResizeObserver(d=>{const f=d[0],h=f.contentRect.width,p=f.contentRect.height;h===0&&p===0||o(h,p)});return l.observe(a),_z(e,o),l}function qg(e,t,n){n&&n.disconnect(),t==="resize"&&jz(e)}function Nz(e,t,n){const s=e.canvas,a=BN(o=>{e.ctx!==null&&n(bz(o,e))},e);return xz(s,t,a),a}class Ez extends tE{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(gz(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[ch])return!1;const s=n[ch].initial;["height","width"].forEach(o=>{const l=s[o];mn(l)?n.removeAttribute(o):n.setAttribute(o,l)});const a=s.style||{};return Object.keys(a).forEach(o=>{n.style[o]=a[o]}),n.width=n.width,delete n[ch],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const a=t.$proxies||(t.$proxies={}),l={attach:vz,detach:wz,resize:Sz}[n]||Nz;a[n]=l(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),a=s[n];if(!a)return;({attach:qg,detach:qg,resize:qg}[n]||yz)(t,n,a),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,a){return S6(t,n,s,a)}isAttached(t){const n=t&&ay(t);return!!(n&&n.isConnected)}}function Tz(e){return!ry()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?mz:Ez}var Wf;let Lo=(Wf=class{constructor(){ft(this,"x");ft(this,"y");ft(this,"active",!1);ft(this,"options");ft(this,"$animations")}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return Nh(this.x)&&Nh(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const a={};return t.forEach(o=>{a[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),a}},ft(Wf,"defaults",{}),ft(Wf,"defaultRoutes"),Wf);function kz(e,t){const n=e.options.ticks,s=Cz(e),a=Math.min(n.maxTicksLimit||s,s),o=n.major.enabled?Oz(t):[],l=o.length,d=o[0],f=o[l-1],h=[];if(l>a)return Rz(t,h,o,l/a),h;const p=Az(o,t,a);if(l>0){let g,b;const y=l>1?Math.round((f-d)/(l-1)):null;for(Bf(t,h,p,mn(y)?0:d-y,d),g=0,b=l-1;g<b;g++)Bf(t,h,p,o[g],o[g+1]);return Bf(t,h,p,f,mn(y)?t.length:f+y),h}return Bf(t,h,p),h}function Cz(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),a=e._maxLength/n;return Math.floor(Math.min(s,a))}function Az(e,t,n){const s=Dz(e),a=t.length/n;if(!s)return Math.max(a,1);const o=ML(s);for(let l=0,d=o.length-1;l<d;l++){const f=o[l];if(f>a)return f}return Math.max(a,1)}function Oz(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function Rz(e,t,n,s){let a=0,o=n[0],l;for(s=Math.ceil(s),l=0;l<e.length;l++)l===o&&(t.push(e[l]),a++,o=n[a*s])}function Bf(e,t,n,s,a){const o=Kt(s,0),l=Math.min(Kt(a,e.length),e.length);let d=0,f,h,p;for(n=Math.ceil(n),a&&(f=a-s,n=f/Math.floor(f/n)),p=o;p<0;)d++,p=Math.round(o+d*n);for(h=Math.max(o,0);h<l;h++)h===p&&(t.push(e[h]),d++,p=Math.round(o+d*n))}function Dz(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const Mz=e=>e==="left"?"right":e==="right"?"left":e,fj=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,hj=(e,t)=>Math.min(t||e,e);function mj(e,t){const n=[],s=e.length/t,a=e.length;let o=0;for(;o<a;o+=s)n.push(e[Math.floor(o)]);return n}function Pz(e,t,n){const s=e.ticks.length,a=Math.min(t,s-1),o=e._startPixel,l=e._endPixel,d=1e-6;let f=e.getPixelForTick(a),h;if(!(n&&(s===1?h=Math.max(f-o,l-f):t===0?h=(e.getPixelForTick(1)-f)/2:h=(f-e.getPixelForTick(a-1))/2,f+=a<t?h:-h,f<o-d||f>l+d)))return f}function Lz(e,t){rn(e,n=>{const s=n.gc,a=s.length/2;let o;if(a>t){for(o=0;o<a;++o)delete n.data[s[o]];s.splice(0,a)}})}function fu(e){return e.drawTicks?e.tickLength:0}function pj(e,t){if(!e.display)return 0;const n=js(e.font,t),s=Nr(e.padding);return(ns(e.text)?e.text.length:1)*n.lineHeight+s.height}function zz(e,t){return tc(e,{scale:t,type:"scale"})}function Bz(e,t,n){return tc(e,{tick:n,index:t,type:"tick"})}function Uz(e,t,n){let s=Kx(e);return(n&&t!=="right"||!n&&t==="right")&&(s=Mz(s)),s}function Fz(e,t,n,s){const{top:a,left:o,bottom:l,right:d,chart:f}=e,{chartArea:h,scales:p}=f;let g=0,b,y,w;const _=l-a,j=d-o;if(e.isHorizontal()){if(y=ws(s,o,d),Qt(n)){const S=Object.keys(n)[0],O=n[S];w=p[S].getPixelForValue(O)+_-t}else n==="center"?w=(h.bottom+h.top)/2+_-t:w=fj(e,n,t);b=d-o}else{if(Qt(n)){const S=Object.keys(n)[0],O=n[S];y=p[S].getPixelForValue(O)-j+t}else n==="center"?y=(h.left+h.right)/2-j+t:y=fj(e,n,t);w=ws(s,l,a),g=n==="left"?-ss:ss}return{titleX:y,titleY:w,maxWidth:b,rotation:g}}class nc extends Lo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:a}=this;return t=Qr(t,Number.POSITIVE_INFINITY),n=Qr(n,Number.NEGATIVE_INFINITY),s=Qr(s,Number.POSITIVE_INFINITY),a=Qr(a,Number.NEGATIVE_INFINITY),{min:Qr(t,s),max:Qr(n,a),minDefined:Sr(t),maxDefined:Sr(n)}}getMinMax(t){let{min:n,max:s,minDefined:a,maxDefined:o}=this.getUserBounds(),l;if(a&&o)return{min:n,max:s};const d=this.getMatchingVisibleMetas();for(let f=0,h=d.length;f<h;++f)l=d[f].controller.getMinMax(this,t),a||(n=Math.min(n,l.min)),o||(s=Math.max(s,l.max));return n=o&&n>s?s:n,s=a&&n>s?n:s,{min:Qr(n,Qr(s,n)),max:Qr(s,Qr(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){bn(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:a,grace:o,ticks:l}=this.options,d=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=c6(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=d<this.ticks.length;this._convertTicksToLabels(f?mj(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=kz(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){bn(this.options.afterUpdate,[this])}beforeSetDimensions(){bn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){bn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),bn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){bn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,a,o;for(s=0,a=t.length;s<a;s++)o=t[s],o.label=bn(n.callback,[o.value,s,t],this)}afterTickToLabelConversion(){bn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){bn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=hj(this.ticks.length,t.ticks.maxTicksLimit),a=n.minRotation||0,o=n.maxRotation;let l=a,d,f,h;if(!this._isVisible()||!n.display||a>=o||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const p=this._getLabelSizes(),g=p.widest.width,b=p.highest.height,y=qs(this.chart.width-g,0,this.maxWidth);d=t.offset?this.maxWidth/s:y/(s-1),g+6>d&&(d=y/(s-(t.offset?.5:1)),f=this.maxHeight-fu(t.grid)-n.padding-pj(t.title,this.chart.options.font),h=Math.sqrt(g*g+b*b),l=BL(Math.min(Math.asin(qs((p.highest.height+6)/d,-1,1)),Math.asin(qs(f/h,-1,1))-Math.asin(qs(b/h,-1,1)))),l=Math.max(a,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){bn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){bn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:a,grid:o}}=this,l=this._isVisible(),d=this.isHorizontal();if(l){const f=pj(a,n.options.font);if(d?(t.width=this.maxWidth,t.height=fu(o)+f):(t.height=this.maxHeight,t.width=fu(o)+f),s.display&&this.ticks.length){const{first:h,last:p,widest:g,highest:b}=this._getLabelSizes(),y=s.padding*2,w=Ua(this.labelRotation),_=Math.cos(w),j=Math.sin(w);if(d){const S=s.mirror?0:j*g.width+_*b.height;t.height=Math.min(this.maxHeight,t.height+S+y)}else{const S=s.mirror?0:_*g.width+j*b.height;t.width=Math.min(this.maxWidth,t.width+S+y)}this._calculatePadding(h,p,j,_)}}this._handleMargins(),d?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,a){const{ticks:{align:o,padding:l},position:d}=this.options,f=this.labelRotation!==0,h=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,y=0;f?h?(b=a*t.width,y=s*n.height):(b=s*t.height,y=a*n.width):o==="start"?y=n.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,y=n.width/2),this.paddingLeft=Math.max((b-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((y-g+l)*this.width/(this.width-g),0)}else{let p=n.height/2,g=t.height/2;o==="start"?(p=0,g=t.height):o==="end"&&(p=n.height,g=0),this.paddingTop=p+l,this.paddingBottom=g+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){bn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)mn(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=mj(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:a,_longestTextCache:o}=this,l=[],d=[],f=Math.floor(n/hj(n,s));let h=0,p=0,g,b,y,w,_,j,S,O,k,C,A;for(g=0;g<n;g+=f){if(w=t[g].label,_=this._resolveTickFontOptions(g),a.font=j=_.string,S=o[j]=o[j]||{data:{},gc:[]},O=_.lineHeight,k=C=0,!mn(w)&&!ns(w))k=q1(a,S.data,S.gc,k,w),C=O;else if(ns(w))for(b=0,y=w.length;b<y;++b)A=w[b],!mn(A)&&!ns(A)&&(k=q1(a,S.data,S.gc,k,A),C+=O);l.push(k),d.push(C),h=Math.max(k,h),p=Math.max(C,p)}Lz(o,n);const M=l.indexOf(h),V=d.indexOf(p),D=H=>({width:l[H]||0,height:d[H]||0});return{first:D(0),last:D(n-1),widest:D(M),highest:D(V),widths:l,heights:d}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return FL(this._alignToPixels?fo(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=Bz(this.getContext(),t,s))}return this.$context||(this.$context=zz(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Ua(this.labelRotation),s=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,d=o?o.widest.width+l:0,f=o?o.highest.height+l:0;return this.isHorizontal()?f*s>d*a?d/s:f/a:f*a<d*s?f/s:d/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,a=this.options,{grid:o,position:l,border:d}=a,f=o.offset,h=this.isHorizontal(),g=this.ticks.length+(f?1:0),b=fu(o),y=[],w=d.setContext(this.getContext()),_=w.display?w.width:0,j=_/2,S=function(z){return fo(s,z,_)};let O,k,C,A,M,V,D,H,ee,q,X,ae;if(l==="top")O=S(this.bottom),V=this.bottom-b,H=O-j,q=S(t.top)+j,ae=t.bottom;else if(l==="bottom")O=S(this.top),q=t.top,ae=S(t.bottom)-j,V=O+j,H=this.top+b;else if(l==="left")O=S(this.right),M=this.right-b,D=O-j,ee=S(t.left)+j,X=t.right;else if(l==="right")O=S(this.left),ee=t.left,X=S(t.right)-j,M=O+j,D=this.left+b;else if(n==="x"){if(l==="center")O=S((t.top+t.bottom)/2+.5);else if(Qt(l)){const z=Object.keys(l)[0],Q=l[z];O=S(this.chart.scales[z].getPixelForValue(Q))}q=t.top,ae=t.bottom,V=O+j,H=V+b}else if(n==="y"){if(l==="center")O=S((t.left+t.right)/2);else if(Qt(l)){const z=Object.keys(l)[0],Q=l[z];O=S(this.chart.scales[z].getPixelForValue(Q))}M=O-j,D=M-b,ee=t.left,X=t.right}const J=Kt(a.ticks.maxTicksLimit,g),Y=Math.max(1,Math.ceil(g/J));for(k=0;k<g;k+=Y){const z=this.getContext(k),Q=o.setContext(z),Z=d.setContext(z),le=Q.lineWidth,U=Q.color,re=Z.dash||[],we=Z.dashOffset,I=Q.tickWidth,ce=Q.tickColor,je=Q.tickBorderDash||[],be=Q.tickBorderDashOffset;C=Pz(this,k,f),C!==void 0&&(A=fo(s,C,le),h?M=D=ee=X=A:V=H=q=ae=A,y.push({tx1:M,ty1:V,tx2:D,ty2:H,x1:ee,y1:q,x2:X,y2:ae,width:le,color:U,borderDash:re,borderDashOffset:we,tickWidth:I,tickColor:ce,tickBorderDash:je,tickBorderDashOffset:be}))}return this._ticksLength=g,this._borderValue=O,y}_computeLabelItems(t){const n=this.axis,s=this.options,{position:a,ticks:o}=s,l=this.isHorizontal(),d=this.ticks,{align:f,crossAlign:h,padding:p,mirror:g}=o,b=fu(s.grid),y=b+p,w=g?-p:y,_=-Ua(this.labelRotation),j=[];let S,O,k,C,A,M,V,D,H,ee,q,X,ae="middle";if(a==="top")M=this.bottom-w,V=this._getXAxisLabelAlignment();else if(a==="bottom")M=this.top+w,V=this._getXAxisLabelAlignment();else if(a==="left"){const Y=this._getYAxisLabelAlignment(b);V=Y.textAlign,A=Y.x}else if(a==="right"){const Y=this._getYAxisLabelAlignment(b);V=Y.textAlign,A=Y.x}else if(n==="x"){if(a==="center")M=(t.top+t.bottom)/2+y;else if(Qt(a)){const Y=Object.keys(a)[0],z=a[Y];M=this.chart.scales[Y].getPixelForValue(z)+y}V=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")A=(t.left+t.right)/2-y;else if(Qt(a)){const Y=Object.keys(a)[0],z=a[Y];A=this.chart.scales[Y].getPixelForValue(z)}V=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(f==="start"?ae="top":f==="end"&&(ae="bottom"));const J=this._getLabelSizes();for(S=0,O=d.length;S<O;++S){k=d[S],C=k.label;const Y=o.setContext(this.getContext(S));D=this.getPixelForTick(S)+o.labelOffset,H=this._resolveTickFontOptions(S),ee=H.lineHeight,q=ns(C)?C.length:1;const z=q/2,Q=Y.color,Z=Y.textStrokeColor,le=Y.textStrokeWidth;let U=V;l?(A=D,V==="inner"&&(S===O-1?U=this.options.reverse?"left":"right":S===0?U=this.options.reverse?"right":"left":U="center"),a==="top"?h==="near"||_!==0?X=-q*ee+ee/2:h==="center"?X=-J.highest.height/2-z*ee+ee:X=-J.highest.height+ee/2:h==="near"||_!==0?X=ee/2:h==="center"?X=J.highest.height/2-z*ee:X=J.highest.height-q*ee,g&&(X*=-1),_!==0&&!Y.showLabelBackdrop&&(A+=ee/2*Math.sin(_))):(M=D,X=(1-q)*ee/2);let re;if(Y.showLabelBackdrop){const we=Nr(Y.backdropPadding),I=J.heights[S],ce=J.widths[S];let je=X-we.top,be=0-we.left;switch(ae){case"middle":je-=I/2;break;case"bottom":je-=I;break}switch(V){case"center":be-=ce/2;break;case"right":be-=ce;break;case"inner":S===O-1?be-=ce:S>0&&(be-=ce/2);break}re={left:be,top:je,width:ce+we.width,height:I+we.height,color:Y.backdropColor}}j.push({label:C,font:H,textOffset:X,options:{rotation:_,color:Q,strokeColor:Z,strokeWidth:le,textAlign:U,textBaseline:ae,translation:[A,M],backdrop:re}})}return j}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Ua(this.labelRotation))return t==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:a,padding:o}}=this.options,l=this._getLabelSizes(),d=t+o,f=l.widest.width;let h,p;return n==="left"?a?(p=this.right+o,s==="near"?h="left":s==="center"?(h="center",p+=f/2):(h="right",p+=f)):(p=this.right-d,s==="near"?h="right":s==="center"?(h="center",p-=f/2):(h="left",p=this.left)):n==="right"?a?(p=this.left+o,s==="near"?h="right":s==="center"?(h="center",p-=f/2):(h="left",p-=f)):(p=this.left+d,s==="near"?h="left":s==="center"?(h="center",p+=f/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:a,width:o,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,a,o,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const d=(f,h,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(f.x,f.y),s.lineTo(h.x,h.y),s.stroke(),s.restore())};if(n.display)for(o=0,l=a.length;o<l;++o){const f=a[o];n.drawOnChartArea&&d({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&d({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:a}}=this,o=s.setContext(this.getContext()),l=s.display?o.width:0;if(!l)return;const d=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let h,p,g,b;this.isHorizontal()?(h=fo(t,this.left,l)-l/2,p=fo(t,this.right,d)+d/2,g=b=f):(g=fo(t,this.top,l)-l/2,b=fo(t,this.bottom,d)+d/2,h=p=f),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(h,g),n.lineTo(p,b),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&Zx(s,a);const o=this.getLabelItems(t);for(const l of o){const d=l.options,f=l.font,h=l.label,p=l.textOffset;qu(s,h,0,p,f,d)}a&&Jx(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:a}}=this;if(!s.display)return;const o=js(s.font),l=Nr(s.padding),d=s.align;let f=o.lineHeight/2;n==="bottom"||n==="center"||Qt(n)?(f+=l.bottom,ns(s.text)&&(f+=o.lineHeight*(s.text.length-1))):f+=l.top;const{titleX:h,titleY:p,maxWidth:g,rotation:b}=Fz(this,f,n,d);qu(t,s.text,0,0,o,{color:s.color,maxWidth:g,rotation:b,textAlign:Uz(d,n,a),textBaseline:"middle",translation:[h,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=Kt(t.grid&&t.grid.z,-1),a=Kt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==nc.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let o,l;for(o=0,l=n.length;o<l;++o){const d=n[o];d[s]===this.id&&(!t||d.type===t)&&a.push(d)}return a}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return js(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Uf{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;$z(n)&&(s=this.register(n));const a=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,Hz(t,l,s),this.override&&Un.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,a=this.scope;s in n&&delete n[s],a&&s in Un[a]&&(delete Un[a][s],this.override&&delete Oo[s])}}function Hz(e,t,n){const s=Vu(Object.create(null),[n?Un.get(n):{},Un.get(t),e.defaults]);Un.set(t,s),e.defaultRoutes&&Vz(t,e.defaultRoutes),e.descriptors&&Un.describe(t,e.descriptors)}function Vz(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),a=s.pop(),o=[e].concat(s).join("."),l=t[n].split("."),d=l.pop(),f=l.join(".");Un.route(o,a,f,d)})}function $z(e){return"id"in e&&"defaults"in e}class qz{constructor(){this.controllers=new Uf(Vl,"datasets",!0),this.elements=new Uf(Lo,"elements"),this.plugins=new Uf(Object,"plugins"),this.scales=new Uf(nc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(a=>{const o=s||this._getRegistryForType(a);s||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):rn(a,l=>{const d=s||this._getRegistryForType(l);this._exec(t,d,l)})})}_exec(t,n,s){const a=Xx(t);bn(s["before"+a],[],s),n[t](s),bn(s["after"+a],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const a=n.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return a}}var Jr=new qz;class Iz{constructor(){this._init=[]}notify(t,n,s,a){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=a?this._descriptors(t).filter(a):this._descriptors(t),l=this._notify(o,t,n,s);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,n,s,a){a=a||{};for(const o of t){const l=o.plugin,d=l[s],f=[n,a,o.options];if(bn(d,f,l)===!1&&a.cancelable)return!1}return!0}invalidate(){mn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,a=Kt(s.options&&s.options.plugins,{}),o=Yz(s);return a===!1&&!n?[]:Xz(t,o,a,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,a=(o,l)=>o.filter(d=>!l.some(f=>d.plugin.id===f.plugin.id));this._notify(a(n,s),t,"stop"),this._notify(a(s,n),t,"start")}}function Yz(e){const t={},n=[],s=Object.keys(Jr.plugins.items);for(let o=0;o<s.length;o++)n.push(Jr.getPlugin(s[o]));const a=e.plugins||[];for(let o=0;o<a.length;o++){const l=a[o];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function Wz(e,t){return!t&&e===!1?null:e===!0?{}:e}function Xz(e,{plugins:t,localIds:n},s,a){const o=[],l=e.getContext();for(const d of t){const f=d.id,h=Wz(s[f],a);h!==null&&o.push({plugin:d,options:Gz(e.config,{plugin:d,local:n[f]},h,l)})}return o}function Gz(e,{plugin:t,local:n},s,a){const o=e.pluginScopeKeys(t),l=e.getOptionScopes(s,o);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function L0(e,t){const n=Un.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Kz(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function Qz(e,t){return e===t?"_index_":"_value_"}function gj(e){if(e==="x"||e==="y"||e==="r")return e}function Zz(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function z0(e,...t){if(gj(e))return e;for(const n of t){const s=n.axis||Zz(n.position)||e.length>1&&gj(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function xj(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Jz(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return xj(e,"x",n[0])||xj(e,"y",n[0])}return{}}function eB(e,t){const n=Oo[e.type]||{scales:{}},s=t.scales||{},a=L0(e.type,t),o=Object.create(null);return Object.keys(s).forEach(l=>{const d=s[l];if(!Qt(d))return console.error(`Invalid scale configuration for scale: ${l}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=z0(l,d,Jz(l,e),Un.scales[d.type]),h=Qz(f,a),p=n.scales||{};o[l]=Eu(Object.create(null),[{axis:f},d,p[f],p[h]])}),e.data.datasets.forEach(l=>{const d=l.type||e.type,f=l.indexAxis||L0(d,t),p=(Oo[d]||{}).scales||{};Object.keys(p).forEach(g=>{const b=Kz(g,f),y=l[b+"AxisID"]||b;o[y]=o[y]||Object.create(null),Eu(o[y],[{axis:b},s[y],p[g]])})}),Object.keys(o).forEach(l=>{const d=o[l];Eu(d,[Un.scales[d.type],Un.scale])}),o}function rE(e){const t=e.options||(e.options={});t.plugins=Kt(t.plugins,{}),t.scales=eB(e,t)}function aE(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function tB(e){return e=e||{},e.data=aE(e.data),rE(e),e}const yj=new Map,iE=new Set;function Ff(e,t){let n=yj.get(e);return n||(n=t(),yj.set(e,n),iE.add(n)),n}const hu=(e,t,n)=>{const s=Ao(t,n);s!==void 0&&e.add(s)};class nB{constructor(t){this._config=tB(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=aE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),rE(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ff(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Ff(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Ff(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return Ff(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let a=s.get(t);return(!a||n)&&(a=new Map,s.set(t,a)),a}getOptionScopes(t,n,s){const{options:a,type:o}=this,l=this._cachedScopes(t,s),d=l.get(n);if(d)return d;const f=new Set;n.forEach(p=>{t&&(f.add(t),p.forEach(g=>hu(f,t,g))),p.forEach(g=>hu(f,a,g)),p.forEach(g=>hu(f,Oo[o]||{},g)),p.forEach(g=>hu(f,Un,g)),p.forEach(g=>hu(f,P0,g))});const h=Array.from(f);return h.length===0&&h.push(Object.create(null)),iE.has(n)&&l.set(n,h),h}chartOptionScopes(){const{options:t,type:n}=this;return[t,Oo[n]||{},Un.datasets[n]||{},{type:n},Un,P0]}resolveNamedOptions(t,n,s,a=[""]){const o={$shared:!0},{resolver:l,subPrefixes:d}=bj(this._resolverCache,t,a);let f=l;if(rB(l,n)){o.$shared=!1,s=Ri(s)?s():s;const h=this.createResolver(t,s,d);f=Wl(l,s,h)}for(const h of n)o[h]=f[h];return o}createResolver(t,n,s=[""],a){const{resolver:o}=bj(this._resolverCache,t,s);return Qt(n)?Wl(o,n,void 0,a):o}}function bj(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const a=n.join();let o=s.get(a);return o||(o={resolver:ty(t,n),subPrefixes:n.filter(d=>!d.toLowerCase().includes("hover"))},s.set(a,o)),o}const sB=e=>Qt(e)&&Object.getOwnPropertyNames(e).some(t=>Ri(e[t]));function rB(e,t){const{isScriptable:n,isIndexable:s}=qN(e);for(const a of t){const o=n(a),l=s(a),d=(l||o)&&e[a];if(o&&(Ri(d)||sB(d))||l&&ns(d))return!0}return!1}var aB="4.5.0";const iB=["top","bottom","left","right","chartArea"];function vj(e,t){return e==="top"||e==="bottom"||iB.indexOf(e)===-1&&t==="x"}function wj(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function _j(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),bn(n&&n.onComplete,[e],t)}function oB(e){const t=e.chart,n=t.options.animation;bn(n&&n.onProgress,[e],t)}function oE(e){return ry()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const uh={},jj=e=>{const t=oE(e);return Object.values(uh).filter(n=>n.canvas===t).pop()};function lB(e,t,n){const s=Object.keys(e);for(const a of s){const o=+a;if(o>=t){const l=e[a];delete e[a],(n>0||o>t)&&(e[o+n]=l)}}}function cB(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}var yi;let tm=(yi=class{static register(...t){Jr.add(...t),Sj()}static unregister(...t){Jr.remove(...t),Sj()}constructor(t,n){const s=this.config=new nB(n),a=oE(t),o=jj(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Tz(a)),this.platform.updateConfig(s);const d=this.platform.acquireContext(a,l.aspectRatio),f=d&&d.canvas,h=f&&f.height,p=f&&f.width;if(this.id=EL(),this.ctx=d,this.canvas=f,this.width=p,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Iz,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=qL(g=>this.update(g),l.resizeDelay||0),this._dataChanges=[],uh[this.id]=this,!d||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Ma.listen(this,"complete",_j),Ma.listen(this,"progress",oB),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:a,_aspectRatio:o}=this;return mn(t)?n&&o?o:a?s/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Jr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():G1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return I1(this.canvas,this.ctx),this}stop(){return Ma.stop(this),this}resize(t,n){Ma.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,a=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(a,t,n,o),d=s.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,G1(this,d,!0)&&(this.notifyPlugins("resize",{size:l}),bn(s.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};rn(n,(s,a)=>{s.id=a})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,a=Object.keys(s).reduce((l,d)=>(l[d]=!1,l),{});let o=[];n&&(o=o.concat(Object.keys(n).map(l=>{const d=n[l],f=z0(l,d),h=f==="r",p=f==="x";return{options:d,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),rn(o,l=>{const d=l.options,f=d.id,h=z0(f,d),p=Kt(d.type,l.dtype);(d.position===void 0||vj(d.position,h)!==vj(l.dposition))&&(d.position=l.dposition),a[f]=!0;let g=null;if(f in s&&s[f].type===p)g=s[f];else{const b=Jr.getScale(p);g=new b({id:f,type:p,ctx:this.ctx,chart:this}),s[g.id]=g}g.init(d,t)}),rn(a,(l,d)=>{l||delete s[d]}),rn(s,l=>{_r.configure(this,l,l.options),_r.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((a,o)=>a.index-o.index),s>n){for(let a=n;a<s;++a)this._destroyDatasetMeta(a);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(wj("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,a)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=n.length;s<a;s++){const o=n[s];let l=this.getDatasetMeta(s);const d=o.type||this.config.type;if(l.type&&l.type!==d&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=d,l.indexAxis=o.indexAxis||L0(d,this.options),l.order=o.order||0,l.index=s,l.label=""+o.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{const f=Jr.getController(d),{datasetElementType:h,dataElementType:p}=Un.datasets[d];Object.assign(f,{dataElementType:Jr.getElement(p),datasetElementType:h&&Jr.getElement(h)}),l.controller=new f(this,s),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){rn(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,p=this.data.datasets.length;h<p;h++){const{controller:g}=this.getDatasetMeta(h),b=!a&&o.indexOf(g)===-1;g.buildOrUpdateElements(b),l=Math.max(+g.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),a||rn(o,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(wj("z","_idx"));const{_active:d,_lastEvent:f}=this;f?this._eventHandler(f,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){rn(this.scales,t=>{_r.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!P1(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:o}of n){const l=s==="_removeElements"?-o:o;lB(t,a,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=o=>new Set(t.filter(l=>l[0]===o).map((l,d)=>d+","+l.splice(1).join(","))),a=s(0);for(let o=1;o<n;o++)if(!P1(a,s(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;_r.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],rn(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Ri(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),a={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ma.has(this)?this.attached&&!Ma.running(this)&&Ma.start(this):(this.draw(),_j({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let a,o;for(a=0,o=n.length;a<o;++a){const l=n[a];(!t||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},a=C6(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&Zx(n,a),t.controller.draw(),a&&Jx(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return VN(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,a){const o=iz.modes[n];return typeof o=="function"?o(this,t,s,a):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let a=s.filter(o=>o&&o._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=tc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const a=s?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,a);$u(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),l.update(o,{visible:s}),this.update(d=>d.datasetIndex===t?a:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ma.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),I1(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete uh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(o,l)=>{n.addEventListener(this,o,l),t[o]=l},a=(o,l,d)=>{o.offsetX=l,o.offsetY=d,this._eventHandler(o)};rn(this.options.events,o=>s(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(f,h)=>{n.addEventListener(this,f,h),t[f]=h},a=(f,h)=>{t[f]&&(n.removeEventListener(this,f,h),delete t[f])},o=(f,h)=>{this.canvas&&this.resize(f,h)};let l;const d=()=>{a("attach",d),this.attached=!0,this.resize(),s("resize",o),s("detach",l)};l=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),s("attach",d)},n.isAttached(this.canvas)?d():l()}unbindEvents(){rn(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},rn(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const a=s?"set":"remove";let o,l,d,f;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),d=0,f=t.length;d<f;++d){l=t[d];const h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[a+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:o,index:l})=>{const d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[l],index:l}});!_h(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const a=this.options.hover,o=(f,h)=>f.filter(p=>!h.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),l=o(n,t),d=s?t:o(t,n);l.length&&this.updateHoverStyle(l,a.mode,!1),d.length&&a.mode&&this.updateHoverStyle(d,a.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},a=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const o=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(o||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:a=[],options:o}=this,l=n,d=this._getActiveElements(t,a,s,l),f=RL(t),h=cB(t,this._lastEvent,s,f);s&&(this._lastEvent=null,bn(o.onHover,[t,d,this],this),f&&bn(o.onClick,[t,d,this],this));const p=!_h(d,a);return(p||n)&&(this._active=d,this._updateHoverStyles(d,a,n)),this._lastEvent=h,p}_getActiveElements(t,n,s,a){if(t.type==="mouseout")return[];if(!s)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}},ft(yi,"defaults",Un),ft(yi,"instances",uh),ft(yi,"overrides",Oo),ft(yi,"registry",Jr),ft(yi,"version",aB),ft(yi,"getChart",jj),yi);function Sj(){return rn(tm.instances,e=>e._plugins.invalidate())}function uB(e,t,n){const{startAngle:s,x:a,y:o,outerRadius:l,innerRadius:d,options:f}=t,{borderWidth:h,borderJoinStyle:p}=f,g=Math.min(h/l,ea(s-n));if(e.beginPath(),e.arc(a,o,l-h/2,s+g/2,n-g/2),d>0){const b=Math.min(h/d,ea(s-n));e.arc(a,o,d+h/2,n-b/2,s+b/2,!0)}else{const b=Math.min(h/2,l*ea(s-n));if(p==="round")e.arc(a,o,b,n-hn/2,s+hn/2,!0);else if(p==="bevel"){const y=2*b*b,w=-y*Math.cos(n+hn/2)+a,_=-y*Math.sin(n+hn/2)+o,j=y*Math.cos(s+hn/2)+a,S=y*Math.sin(s+hn/2)+o;e.lineTo(w,_),e.lineTo(j,S)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function dB(e,t,n){const{startAngle:s,pixelMargin:a,x:o,y:l,outerRadius:d,innerRadius:f}=t;let h=a/d;e.beginPath(),e.arc(o,l,d,s-h,n+h),f>a?(h=a/f,e.arc(o,l,f,n+h,s-h,!0)):e.arc(o,l,a,n+ss,s-ss),e.closePath(),e.clip()}function fB(e){return ey(e,["outerStart","outerEnd","innerStart","innerEnd"])}function hB(e,t,n,s){const a=fB(e.options.borderRadius),o=(n-t)/2,l=Math.min(o,s*t/2),d=f=>{const h=(n-Math.min(o,f))*s/2;return qs(f,0,Math.min(o,h))};return{outerStart:d(a.outerStart),outerEnd:d(a.outerEnd),innerStart:qs(a.innerStart,0,l),innerEnd:qs(a.innerEnd,0,l)}}function kl(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function Ah(e,t,n,s,a,o){const{x:l,y:d,startAngle:f,pixelMargin:h,innerRadius:p}=t,g=Math.max(t.outerRadius+s+n-h,0),b=p>0?p+s+n+h:0;let y=0;const w=a-f;if(s){const Y=p>0?p-s:0,z=g>0?g-s:0,Q=(Y+z)/2,Z=Q!==0?w*Q/(Q+s):w;y=(w-Z)/2}const _=Math.max(.001,w*g-n/hn)/g,j=(w-_)/2,S=f+j+y,O=a-j-y,{outerStart:k,outerEnd:C,innerStart:A,innerEnd:M}=hB(t,b,g,O-S),V=g-k,D=g-C,H=S+k/V,ee=O-C/D,q=b+A,X=b+M,ae=S+A/q,J=O-M/X;if(e.beginPath(),o){const Y=(H+ee)/2;if(e.arc(l,d,g,H,Y),e.arc(l,d,g,Y,ee),C>0){const le=kl(D,ee,l,d);e.arc(le.x,le.y,C,ee,O+ss)}const z=kl(X,O,l,d);if(e.lineTo(z.x,z.y),M>0){const le=kl(X,J,l,d);e.arc(le.x,le.y,M,O+ss,J+Math.PI)}const Q=(O-M/b+(S+A/b))/2;if(e.arc(l,d,b,O-M/b,Q,!0),e.arc(l,d,b,Q,S+A/b,!0),A>0){const le=kl(q,ae,l,d);e.arc(le.x,le.y,A,ae+Math.PI,S-ss)}const Z=kl(V,S,l,d);if(e.lineTo(Z.x,Z.y),k>0){const le=kl(V,H,l,d);e.arc(le.x,le.y,k,S-ss,H)}}else{e.moveTo(l,d);const Y=Math.cos(H)*g+l,z=Math.sin(H)*g+d;e.lineTo(Y,z);const Q=Math.cos(ee)*g+l,Z=Math.sin(ee)*g+d;e.lineTo(Q,Z)}e.closePath()}function mB(e,t,n,s,a){const{fullCircles:o,startAngle:l,circumference:d}=t;let f=t.endAngle;if(o){Ah(e,t,n,s,f,a);for(let h=0;h<o;++h)e.fill();isNaN(d)||(f=l+(d%Xn||Xn))}return Ah(e,t,n,s,f,a),e.fill(),f}function pB(e,t,n,s,a){const{fullCircles:o,startAngle:l,circumference:d,options:f}=t,{borderWidth:h,borderJoinStyle:p,borderDash:g,borderDashOffset:b,borderRadius:y}=f,w=f.borderAlign==="inner";if(!h)return;e.setLineDash(g||[]),e.lineDashOffset=b,w?(e.lineWidth=h*2,e.lineJoin=p||"round"):(e.lineWidth=h,e.lineJoin=p||"bevel");let _=t.endAngle;if(o){Ah(e,t,n,s,_,a);for(let j=0;j<o;++j)e.stroke();isNaN(d)||(_=l+(d%Xn||Xn))}w&&dB(e,t,_),f.selfJoin&&_-l>=hn&&y===0&&p!=="miter"&&uB(e,t,_),o||(Ah(e,t,n,s,_,a),e.stroke())}class Su extends Lo{constructor(n){super();ft(this,"circumference");ft(this,"endAngle");ft(this,"fullCircles");ft(this,"innerRadius");ft(this,"outerRadius");ft(this,"pixelMargin");ft(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,a){const o=this.getProps(["x","y"],a),{angle:l,distance:d}=MN(o,{x:n,y:s}),{startAngle:f,endAngle:h,innerRadius:p,outerRadius:g,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),y=(this.options.spacing+this.options.borderWidth)/2,w=Kt(b,h-f),_=Eh(l,f,h)&&f!==h,j=w>=Xn||_,S=_o(d,p+y,g+y);return j&&S}getCenterPoint(n){const{x:s,y:a,startAngle:o,endAngle:l,innerRadius:d,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:h,spacing:p}=this.options,g=(o+l)/2,b=(d+f+p+h)/2;return{x:s+Math.cos(g)*b,y:a+Math.sin(g)*b}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:a}=this,o=(s.offset||0)/4,l=(s.spacing||0)/2,d=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=a>Xn?Math.floor(a/Xn):0,a===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const f=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(f)*o,Math.sin(f)*o);const h=1-Math.sin(Math.min(hn,a||0)),p=o*h;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,mB(n,this,p,l,d),pB(n,this,p,l,d),n.restore()}}ft(Su,"id","arc"),ft(Su,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ft(Su,"defaultRoutes",{backgroundColor:"backgroundColor"}),ft(Su,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function lE(e,t){const{x:n,y:s,base:a,width:o,height:l}=e.getProps(["x","y","base","width","height"],t);let d,f,h,p,g;return e.horizontal?(g=l/2,d=Math.min(n,a),f=Math.max(n,a),h=s-g,p=s+g):(g=o/2,d=n-g,f=n+g,h=Math.min(s,a),p=Math.max(s,a)),{left:d,top:h,right:f,bottom:p}}function Si(e,t,n,s){return e?0:qs(t,n,s)}function gB(e,t,n){const s=e.options.borderWidth,a=e.borderSkipped,o=$N(s);return{t:Si(a.top,o.top,0,n),r:Si(a.right,o.right,0,t),b:Si(a.bottom,o.bottom,0,n),l:Si(a.left,o.left,0,t)}}function xB(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,o=Fl(a),l=Math.min(t,n),d=e.borderSkipped,f=s||Qt(a);return{topLeft:Si(!f||d.top||d.left,o.topLeft,0,l),topRight:Si(!f||d.top||d.right,o.topRight,0,l),bottomLeft:Si(!f||d.bottom||d.left,o.bottomLeft,0,l),bottomRight:Si(!f||d.bottom||d.right,o.bottomRight,0,l)}}function yB(e){const t=lE(e),n=t.right-t.left,s=t.bottom-t.top,a=gB(e,n/2,s/2),o=xB(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:o},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function Ig(e,t,n,s){const a=t===null,o=n===null,d=e&&!(a&&o)&&lE(e,s);return d&&(a||_o(t,d.left,d.right))&&(o||_o(n,d.top,d.bottom))}function bB(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function vB(e,t){e.rect(t.x,t.y,t.w,t.h)}function Yg(e,t,n={}){const s=e.x!==n.x?-t:0,a=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-s,l=(e.y+e.h!==n.y+n.h?t:0)-a;return{x:e.x+s,y:e.y+a,w:e.w+o,h:e.h+l,radius:e.radius}}class dh extends Lo{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:a}}=this,{inner:o,outer:l}=yB(this),d=bB(l.radius)?Th:vB;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),d(t,Yg(l,n,o)),t.clip(),d(t,Yg(o,-n,l)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),d(t,Yg(o,n)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,n,s){return Ig(this,t,n,s)}inXRange(t,n){return Ig(this,t,null,n)}inYRange(t,n){return Ig(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(n+a)/2:n,y:o?s:(s+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}ft(dh,"id","bar"),ft(dh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ft(dh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Nj=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},wB=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Ej extends Lo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=bn(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,a)=>t.sort(s,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,a=js(s.font),o=a.size,l=this._computeTitleHeight(),{boxWidth:d,itemHeight:f}=Nj(s,o);let h,p;n.font=a.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(l,o,d,f)+10):(p=this.maxHeight,h=this._fitCols(l,a,d,f)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,a){const{ctx:o,maxWidth:l,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],h=this.lineWidths=[0],p=a+d;let g=t;o.textAlign="left",o.textBaseline="middle";let b=-1,y=-p;return this.legendItems.forEach((w,_)=>{const j=s+n/2+o.measureText(w.text).width;(_===0||h[h.length-1]+j+2*d>l)&&(g+=p,h[h.length-(_>0?0:1)]=0,y+=p,b++),f[_]={left:0,top:y,row:b,width:j,height:a},h[h.length-1]+=j+d}),g}_fitCols(t,n,s,a){const{ctx:o,maxHeight:l,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],h=this.columnSizes=[],p=l-t;let g=d,b=0,y=0,w=0,_=0;return this.legendItems.forEach((j,S)=>{const{itemWidth:O,itemHeight:k}=_B(s,n,o,j,a);S>0&&y+k+2*d>p&&(g+=b+d,h.push({width:b,height:y}),w+=b+d,_++,b=y=0),f[S]={left:w,top:y,col:_,width:O,height:k},b=Math.max(b,O),y+=k+d}),g+=b,h.push({width:b,height:y}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:a},rtl:o}}=this,l=Hl(o,this.left,this.width);if(this.isHorizontal()){let d=0,f=ws(s,this.left+a,this.right-this.lineWidths[d]);for(const h of n)d!==h.row&&(d=h.row,f=ws(s,this.left+a,this.right-this.lineWidths[d])),h.top+=this.top+t+a,h.left=l.leftForLtr(l.x(f),h.width),f+=h.width+a}else{let d=0,f=ws(s,this.top+t+a,this.bottom-this.columnSizes[d].height);for(const h of n)h.col!==d&&(d=h.col,f=ws(s,this.top+t+a,this.bottom-this.columnSizes[d].height)),h.top=f,h.left+=this.left+a,h.left=l.leftForLtr(l.x(h.left),h.width),f+=h.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Zx(t,this),this._draw(),Jx(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:a}=this,{align:o,labels:l}=t,d=Un.color,f=Hl(t.rtl,this.left,this.width),h=js(l.font),{padding:p}=l,g=h.size,b=g/2;let y;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=h.string;const{boxWidth:w,boxHeight:_,itemHeight:j}=Nj(l,g),S=function(M,V,D){if(isNaN(w)||w<=0||isNaN(_)||_<0)return;a.save();const H=Kt(D.lineWidth,1);if(a.fillStyle=Kt(D.fillStyle,d),a.lineCap=Kt(D.lineCap,"butt"),a.lineDashOffset=Kt(D.lineDashOffset,0),a.lineJoin=Kt(D.lineJoin,"miter"),a.lineWidth=H,a.strokeStyle=Kt(D.strokeStyle,d),a.setLineDash(Kt(D.lineDash,[])),l.usePointStyle){const ee={radius:_*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:H},q=f.xPlus(M,w/2),X=V+b;HN(a,ee,q,X,l.pointStyleWidth&&w)}else{const ee=V+Math.max((g-_)/2,0),q=f.leftForLtr(M,w),X=Fl(D.borderRadius);a.beginPath(),Object.values(X).some(ae=>ae!==0)?Th(a,{x:q,y:ee,w,h:_,radius:X}):a.rect(q,ee,w,_),a.fill(),H!==0&&a.stroke()}a.restore()},O=function(M,V,D){qu(a,D.text,M,V+j/2,h,{strikethrough:D.hidden,textAlign:f.textAlign(D.textAlign)})},k=this.isHorizontal(),C=this._computeTitleHeight();k?y={x:ws(o,this.left+p,this.right-s[0]),y:this.top+p+C,line:0}:y={x:this.left+p,y:ws(o,this.top+C+p,this.bottom-n[0].height),line:0},XN(this.ctx,t.textDirection);const A=j+p;this.legendItems.forEach((M,V)=>{a.strokeStyle=M.fontColor,a.fillStyle=M.fontColor;const D=a.measureText(M.text).width,H=f.textAlign(M.textAlign||(M.textAlign=l.textAlign)),ee=w+b+D;let q=y.x,X=y.y;f.setWidth(this.width),k?V>0&&q+ee+p>this.right&&(X=y.y+=A,y.line++,q=y.x=ws(o,this.left+p,this.right-s[y.line])):V>0&&X+A>this.bottom&&(q=y.x=q+n[y.line].width+p,y.line++,X=y.y=ws(o,this.top+C+p,this.bottom-n[y.line].height));const ae=f.x(q);if(S(ae,X,M),q=IL(H,q+w+b,k?q+ee:this.right,t.rtl),O(f.x(q),X,M),k)y.x+=ee+p;else if(typeof M.text!="string"){const J=h.lineHeight;y.y+=cE(M,J)+p}else y.y+=A}),GN(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=js(n.font),a=Nr(n.padding);if(!n.display)return;const o=Hl(t.rtl,this.left,this.width),l=this.ctx,d=n.position,f=s.size/2,h=a.top+f;let p,g=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+h,g=ws(t.align,g,this.right-b);else{const w=this.columnSizes.reduce((_,j)=>Math.max(_,j.height),0);p=h+ws(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const y=ws(d,g,g+b);l.textAlign=o.textAlign(Kx(d)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=s.string,qu(l,n.text,y,p,s)}_computeTitleHeight(){const t=this.options.title,n=js(t.font),s=Nr(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,a,o;if(_o(t,this.left,this.right)&&_o(n,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(a=o[s],_o(t,a.left,a.left+a.width)&&_o(n,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!NB(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=wB(a,s);a&&!o&&bn(n.onLeave,[t,a,this],this),this._hoveredItem=s,s&&!o&&bn(n.onHover,[t,s,this],this)}else s&&bn(n.onClick,[t,s,this],this)}}function _B(e,t,n,s,a){const o=jB(s,e,t,n),l=SB(a,s,t.lineHeight);return{itemWidth:o,itemHeight:l}}function jB(e,t,n,s){let a=e.text;return a&&typeof a!="string"&&(a=a.reduce((o,l)=>o.length>l.length?o:l)),t+n.size/2+s.measureText(a).width}function SB(e,t,n){let s=e;return typeof t.text!="string"&&(s=cE(t,n)),s}function cE(e,t){const n=e.text?e.text.length:0;return t*n}function NB(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var EB={id:"legend",_element:Ej,start(e,t,n){const s=e.legend=new Ej({ctx:e.ctx,options:n,chart:e});_r.configure(e,s,n),_r.addBox(e,s)},stop(e){_r.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;_r.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,a=n.chart;a.isDatasetVisible(s)?(a.hide(s),t.hidden=!0):(a.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:a,color:o,useBorderRadius:l,borderRadius:d}}=e.legend.options;return e._getSortedDatasetMetas().map(f=>{const h=f.controller.getStyle(n?0:void 0),p=Nr(h.borderWidth);return{text:t[f.index].label,fillStyle:h.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:h.borderColor,pointStyle:s||h.pointStyle,rotation:h.rotation,textAlign:a||h.textAlign,borderRadius:l&&(d||h.borderRadius),datasetIndex:f.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};let uE=class extends Lo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const a=ns(s.text)?s.text.length:1;this._padding=Nr(s.padding);const o=a*js(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:a,right:o,options:l}=this,d=l.align;let f=0,h,p,g;return this.isHorizontal()?(p=ws(d,s,o),g=n+t,h=o-s):(l.position==="left"?(p=s+t,g=ws(d,a,n),f=hn*-.5):(p=o-t,g=ws(d,n,a),f=hn*.5),h=a-n),{titleX:p,titleY:g,maxWidth:h,rotation:f}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=js(n.font),o=s.lineHeight/2+this._padding.top,{titleX:l,titleY:d,maxWidth:f,rotation:h}=this._drawArgs(o);qu(t,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:h,textAlign:Kx(n.align),textBaseline:"middle",translation:[l,d]})}};function TB(e,t){const n=new uE({ctx:e.ctx,options:t,chart:e});_r.configure(e,n,t),_r.addBox(e,n),e.titleBlock=n}var kB={id:"title",_element:uE,start(e,t,n){TB(e,n)},stop(e){const t=e.titleBlock;_r.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;_r.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Nu={average(e){if(!e.length)return!1;let t,n,s=new Set,a=0,o=0;for(t=0,n=e.length;t<n;++t){const d=e[t].element;if(d&&d.hasValue()){const f=d.tooltipPosition();s.add(f.x),a+=f.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((d,f)=>d+f)/s.size,y:a/o}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,a=Number.POSITIVE_INFINITY,o,l,d;for(o=0,l=e.length;o<l;++o){const f=e[o].element;if(f&&f.hasValue()){const h=f.getCenterPoint(),p=UL(t,h);p<a&&(a=p,d=f)}}if(d){const f=d.tooltipPosition();n=f.x,s=f.y}return{x:n,y:s}}};function Zr(e,t){return t&&(ns(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Pa(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function CB(e,t){const{element:n,datasetIndex:s,index:a}=t,o=e.getDatasetMeta(s).controller,{label:l,value:d}=o.getLabelAndValue(a);return{chart:e,label:l,parsed:o.getParsed(a),raw:e.data.datasets[s].data[a],formattedValue:d,dataset:o.getDataset(),dataIndex:a,datasetIndex:s,element:n}}function Tj(e,t){const n=e.chart.ctx,{body:s,footer:a,title:o}=e,{boxWidth:l,boxHeight:d}=t,f=js(t.bodyFont),h=js(t.titleFont),p=js(t.footerFont),g=o.length,b=a.length,y=s.length,w=Nr(t.padding);let _=w.height,j=0,S=s.reduce((C,A)=>C+A.before.length+A.lines.length+A.after.length,0);if(S+=e.beforeBody.length+e.afterBody.length,g&&(_+=g*h.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),S){const C=t.displayColors?Math.max(d,f.lineHeight):f.lineHeight;_+=y*C+(S-y)*f.lineHeight+(S-1)*t.bodySpacing}b&&(_+=t.footerMarginTop+b*p.lineHeight+(b-1)*t.footerSpacing);let O=0;const k=function(C){j=Math.max(j,n.measureText(C).width+O)};return n.save(),n.font=h.string,rn(e.title,k),n.font=f.string,rn(e.beforeBody.concat(e.afterBody),k),O=t.displayColors?l+2+t.boxPadding:0,rn(s,C=>{rn(C.before,k),rn(C.lines,k),rn(C.after,k)}),O=0,n.font=p.string,rn(e.footer,k),n.restore(),j+=w.width,{width:j,height:_}}function AB(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function OB(e,t,n,s){const{x:a,width:o}=s,l=n.caretSize+n.caretPadding;if(e==="left"&&a+o+l>t.width||e==="right"&&a-o-l<0)return!0}function RB(e,t,n,s){const{x:a,width:o}=n,{width:l,chartArea:{left:d,right:f}}=e;let h="center";return s==="center"?h=a<=(d+f)/2?"left":"right":a<=o/2?h="left":a>=l-o/2&&(h="right"),OB(h,e,t,n)&&(h="center"),h}function kj(e,t,n){const s=n.yAlign||t.yAlign||AB(e,n);return{xAlign:n.xAlign||t.xAlign||RB(e,t,n,s),yAlign:s}}function DB(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function MB(e,t,n){let{y:s,height:a}=e;return t==="top"?s+=n:t==="bottom"?s-=a+n:s-=a/2,s}function Cj(e,t,n,s){const{caretSize:a,caretPadding:o,cornerRadius:l}=e,{xAlign:d,yAlign:f}=n,h=a+o,{topLeft:p,topRight:g,bottomLeft:b,bottomRight:y}=Fl(l);let w=DB(t,d);const _=MB(t,f,h);return f==="center"?d==="left"?w+=h:d==="right"&&(w-=h):d==="left"?w-=Math.max(p,b)+a:d==="right"&&(w+=Math.max(g,y)+a),{x:qs(w,0,s.width-t.width),y:qs(_,0,s.height-t.height)}}function Hf(e,t,n){const s=Nr(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function Aj(e){return Zr([],Pa(e))}function PB(e,t,n){return tc(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Oj(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const dE={beforeTitle:Ra,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:Ra,beforeBody:Ra,beforeLabel:Ra,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return mn(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ra,afterBody:Ra,beforeFooter:Ra,footer:Ra,afterFooter:Ra};function Bs(e,t,n,s){const a=e[t].call(n,s);return typeof a=="undefined"?dE[t].call(n,s):a}class B0 extends Lo{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&n.options.animation&&s.animations,o=new KN(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=PB(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,a=Bs(s,"beforeTitle",this,t),o=Bs(s,"title",this,t),l=Bs(s,"afterTitle",this,t);let d=[];return d=Zr(d,Pa(a)),d=Zr(d,Pa(o)),d=Zr(d,Pa(l)),d}getBeforeBody(t,n){return Aj(Bs(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,a=[];return rn(t,o=>{const l={before:[],lines:[],after:[]},d=Oj(s,o);Zr(l.before,Pa(Bs(d,"beforeLabel",this,o))),Zr(l.lines,Bs(d,"label",this,o)),Zr(l.after,Pa(Bs(d,"afterLabel",this,o))),a.push(l)}),a}getAfterBody(t,n){return Aj(Bs(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,a=Bs(s,"beforeFooter",this,t),o=Bs(s,"footer",this,t),l=Bs(s,"afterFooter",this,t);let d=[];return d=Zr(d,Pa(a)),d=Zr(d,Pa(o)),d=Zr(d,Pa(l)),d}_createItems(t){const n=this._active,s=this.chart.data,a=[],o=[],l=[];let d=[],f,h;for(f=0,h=n.length;f<h;++f)d.push(CB(this.chart,n[f]));return t.filter&&(d=d.filter((p,g,b)=>t.filter(p,g,b,s))),t.itemSort&&(d=d.sort((p,g)=>t.itemSort(p,g,s))),rn(d,p=>{const g=Oj(t.callbacks,p);a.push(Bs(g,"labelColor",this,p)),o.push(Bs(g,"labelPointStyle",this,p)),l.push(Bs(g,"labelTextColor",this,p))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=d,d}update(t,n){const s=this.options.setContext(this.getContext()),a=this._active;let o,l=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const d=Nu[s.position].call(this,a,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const f=this._size=Tj(this,s),h=Object.assign({},d,f),p=kj(this.chart,s,h),g=Cj(s,h,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:g.x,y:g.y,width:f.width,height:f.height,caretX:d.x,caretY:d.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,a){const o=this.getCaretPosition(t,s,a);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,s){const{xAlign:a,yAlign:o}=this,{caretSize:l,cornerRadius:d}=s,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:g}=Fl(d),{x:b,y}=t,{width:w,height:_}=n;let j,S,O,k,C,A;return o==="center"?(C=y+_/2,a==="left"?(j=b,S=j-l,k=C+l,A=C-l):(j=b+w,S=j+l,k=C-l,A=C+l),O=j):(a==="left"?S=b+Math.max(f,p)+l:a==="right"?S=b+w-Math.max(h,g)-l:S=this.caretX,o==="top"?(k=y,C=k-l,j=S-l,O=S+l):(k=y+_,C=k+l,j=S+l,O=S-l),A=k),{x1:j,x2:S,x3:O,y1:k,y2:C,y3:A}}drawTitle(t,n,s){const a=this.title,o=a.length;let l,d,f;if(o){const h=Hl(s.rtl,this.x,this.width);for(t.x=Hf(this,s.titleAlign,s),n.textAlign=h.textAlign(s.titleAlign),n.textBaseline="middle",l=js(s.titleFont),d=s.titleSpacing,n.fillStyle=s.titleColor,n.font=l.string,f=0;f<o;++f)n.fillText(a[f],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+d,f+1===o&&(t.y+=s.titleMarginBottom-d)}}_drawColorBox(t,n,s,a,o){const l=this.labelColors[s],d=this.labelPointStyles[s],{boxHeight:f,boxWidth:h}=o,p=js(o.bodyFont),g=Hf(this,"left",o),b=a.x(g),y=f<p.lineHeight?(p.lineHeight-f)/2:0,w=n.y+y;if(o.usePointStyle){const _={radius:Math.min(h,f)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},j=a.leftForLtr(b,h)+h/2,S=w+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Y1(t,_,j,S),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Y1(t,_,j,S)}else{t.lineWidth=Qt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const _=a.leftForLtr(b,h),j=a.leftForLtr(a.xPlus(b,1),h-2),S=Fl(l.borderRadius);Object.values(S).some(O=>O!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Th(t,{x:_,y:w,w:h,h:f,radius:S}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Th(t,{x:j,y:w+1,w:h-2,h:f-2,radius:S}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(_,w,h,f),t.strokeRect(_,w,h,f),t.fillStyle=l.backgroundColor,t.fillRect(j,w+1,h-2,f-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:a}=this,{bodySpacing:o,bodyAlign:l,displayColors:d,boxHeight:f,boxWidth:h,boxPadding:p}=s,g=js(s.bodyFont);let b=g.lineHeight,y=0;const w=Hl(s.rtl,this.x,this.width),_=function(D){n.fillText(D,w.x(t.x+y),t.y+b/2),t.y+=b+o},j=w.textAlign(l);let S,O,k,C,A,M,V;for(n.textAlign=l,n.textBaseline="middle",n.font=g.string,t.x=Hf(this,j,s),n.fillStyle=s.bodyColor,rn(this.beforeBody,_),y=d&&j!=="right"?l==="center"?h/2+p:h+2+p:0,C=0,M=a.length;C<M;++C){for(S=a[C],O=this.labelTextColors[C],n.fillStyle=O,rn(S.before,_),k=S.lines,d&&k.length&&(this._drawColorBox(n,t,C,w,s),b=Math.max(g.lineHeight,f)),A=0,V=k.length;A<V;++A)_(k[A]),b=g.lineHeight;rn(S.after,_)}y=0,b=g.lineHeight,rn(this.afterBody,_),t.y-=o}drawFooter(t,n,s){const a=this.footer,o=a.length;let l,d;if(o){const f=Hl(s.rtl,this.x,this.width);for(t.x=Hf(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=f.textAlign(s.footerAlign),n.textBaseline="middle",l=js(s.footerFont),n.fillStyle=s.footerColor,n.font=l.string,d=0;d<o;++d)n.fillText(a[d],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+s.footerSpacing}}drawBackground(t,n,s,a){const{xAlign:o,yAlign:l}=this,{x:d,y:f}=t,{width:h,height:p}=s,{topLeft:g,topRight:b,bottomLeft:y,bottomRight:w}=Fl(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(d+g,f),l==="top"&&this.drawCaret(t,n,s,a),n.lineTo(d+h-b,f),n.quadraticCurveTo(d+h,f,d+h,f+b),l==="center"&&o==="right"&&this.drawCaret(t,n,s,a),n.lineTo(d+h,f+p-w),n.quadraticCurveTo(d+h,f+p,d+h-w,f+p),l==="bottom"&&this.drawCaret(t,n,s,a),n.lineTo(d+y,f+p),n.quadraticCurveTo(d,f+p,d,f+p-y),l==="center"&&o==="left"&&this.drawCaret(t,n,s,a),n.lineTo(d,f+g),n.quadraticCurveTo(d,f,d+g,f),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,a=s&&s.x,o=s&&s.y;if(a||o){const l=Nu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const d=this._size=Tj(this,t),f=Object.assign({},l,this._size),h=kj(n,t,f),p=Cj(t,f,h,n);(a._to!==p.x||o._to!==p.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=d.width,this.height=d.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=Nr(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(t.save(),t.globalAlpha=s,this.drawBackground(o,t,a,n),XN(t,n.textDirection),o.y+=l.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),GN(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,a=t.map(({datasetIndex:d,index:f})=>{const h=this.chart.getDatasetMeta(d);if(!h)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:h.data[f],index:f}}),o=!_h(s,a),l=this._positionChanged(a,n);(o||l)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],l=this._getActiveElements(t,o,n,s),d=this._positionChanged(l,t),f=n||!_h(l,o)||d;return f&&(this._active=l,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),f}_getActiveElements(t,n,s,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,s);return o.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:s,caretY:a,options:o}=this,l=Nu[o.position].call(this,t,n);return l!==!1&&(s!==l.x||a!==l.y)}}ft(B0,"positioners",Nu);var LB={id:"tooltip",_element:B0,positioners:Nu,afterInit(e,t,n){n&&(e.tooltip=new B0({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",he(L({},n),{cancelable:!0}))===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:dE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const zB=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function BB(e,t,n,s){const a=e.indexOf(t);if(a===-1)return zB(e,t,n,s);const o=e.lastIndexOf(t);return a!==o?n:a}const UB=(e,t)=>e===null?null:qs(Math.round(e),0,t);function Rj(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class U0 extends nc{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:a,label:o}of n)s[a]===o&&s.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(mn(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:BB(s,t,Kt(n,t),this._addedLabels),UB(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,a=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=t;l<=n;l++)a.push({value:l});return a}getLabelForValue(t){return Rj.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ft(U0,"id","category"),ft(U0,"defaults",{ticks:{callback:Rj}});function FB(e,t){const n=[],{bounds:a,step:o,min:l,max:d,precision:f,count:h,maxTicks:p,maxDigits:g,includeBounds:b}=e,y=o||1,w=p-1,{min:_,max:j}=t,S=!mn(l),O=!mn(d),k=!mn(h),C=(j-_)/(g+1);let A=z1((j-_)/w/y)*y,M,V,D,H;if(A<1e-14&&!S&&!O)return[{value:_},{value:j}];H=Math.ceil(j/A)-Math.floor(_/A),H>w&&(A=z1(H*A/w/y)*y),mn(f)||(M=Math.pow(10,f),A=Math.ceil(A*M)/M),a==="ticks"?(V=Math.floor(_/A)*A,D=Math.ceil(j/A)*A):(V=_,D=j),S&&O&&o&&LL((d-l)/o,A/1e3)?(H=Math.round(Math.min((d-l)/A,p)),A=(d-l)/H,V=l,D=d):k?(V=S?l:V,D=O?d:D,H=h-1,A=(D-V)/H):(H=(D-V)/A,oh(H,Math.round(H),A/1e3)?H=Math.round(H):H=Math.ceil(H));const ee=Math.max(B1(A),B1(V));M=Math.pow(10,mn(f)?ee:f),V=Math.round(V*M)/M,D=Math.round(D*M)/M;let q=0;for(S&&(b&&V!==l?(n.push({value:l}),V<l&&q++,oh(Math.round((V+q*A)*M)/M,l,Dj(l,C,e))&&q++):V<l&&q++);q<H;++q){const X=Math.round((V+q*A)*M)/M;if(O&&X>d)break;n.push({value:X})}return O&&b&&D!==d?n.length&&oh(n[n.length-1].value,d,Dj(d,C,e))?n[n.length-1].value=d:n.push({value:d}):(!O||D===d)&&n.push({value:D}),n}function Dj(e,t,{horizontal:n,minRotation:s}){const a=Ua(s),o=(n?Math.sin(a):Math.cos(a))||.001,l=.75*t*(""+e).length;return Math.min(t/o,l)}class HB extends nc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return mn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:a,max:o}=this;const l=f=>a=n?a:f,d=f=>o=s?o:f;if(t){const f=Ti(a),h=Ti(o);f<0&&h<0?d(0):f>0&&h>0&&l(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);d(o+f),t||l(a-f)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,l=FB(a,o);return t.bounds==="ticks"&&zL(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const a=(s-n)/Math.max(t.length-1,1)/2;n-=a,s+=a}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return Qx(t,this.chart.options.locale,this.options.ticks.format)}}class F0 extends HB{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Sr(t)?t:0,this.max=Sr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=Ua(this.options.ticks.minRotation),a=(t?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ft(F0,"id","linear"),ft(F0,"defaults",{ticks:{callback:FN.formatters.numeric}});const nm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vs=Object.keys(nm);function Mj(e,t){return e-t}function Pj(e,t){if(mn(t))return null;const n=e._adapter,{parser:s,round:a,isoWeekday:o}=e._parseOpts;let l=t;return typeof s=="function"&&(l=s(l)),Sr(l)||(l=typeof s=="string"?n.parse(l,s):n.parse(l)),l===null?null:(a&&(l=a==="week"&&(Nh(o)||o===!0)?n.startOf(l,"isoWeek",o):n.startOf(l,a)),+l)}function Lj(e,t,n,s){const a=Vs.length;for(let o=Vs.indexOf(e);o<a-1;++o){const l=nm[Vs[o]],d=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(d*l.size))<=s)return Vs[o]}return Vs[a-1]}function VB(e,t,n,s,a){for(let o=Vs.length-1;o>=Vs.indexOf(n);o--){const l=Vs[o];if(nm[l].common&&e._adapter.diff(a,s,l)>=t-1)return l}return Vs[n?Vs.indexOf(n):0]}function $B(e){for(let t=Vs.indexOf(e)+1,n=Vs.length;t<n;++t)if(nm[Vs[t]].common)return Vs[t]}function zj(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:a}=Gx(n,t),o=n[s]>=t?n[s]:n[a];e[o]=!0}}function qB(e,t,n,s){const a=e._adapter,o=+a.startOf(t[0].value,s),l=t[t.length-1].value;let d,f;for(d=o;d<=l;d=+a.add(d,1,s))f=n[d],f>=0&&(t[f].major=!0);return t}function Bj(e,t,n){const s=[],a={},o=t.length;let l,d;for(l=0;l<o;++l)d=t[l],a[d]=l,s.push({value:d,major:!1});return o===0||!n?s:qB(e,s,a,n)}class Oh extends nc{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),a=this._adapter=new tz._date(t.adapters.date);a.init(n),Eu(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Pj(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:a,max:o,minDefined:l,maxDefined:d}=this.getUserBounds();function f(h){!l&&!isNaN(h.min)&&(a=Math.min(a,h.min)),!d&&!isNaN(h.max)&&(o=Math.max(o,h.max))}(!l||!d)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=Sr(a)&&!isNaN(a)?a:+n.startOf(Date.now(),s),o=Sr(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,l=this.max,d=VL(a,o,l);return this._unit=n.unit||(s.autoSkip?Lj(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):VB(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:$B(this._unit),this.initOffsets(a),t.reverse&&d.reverse(),Bj(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?n=1-a:n=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?s=o:s=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=qs(n,0,l),s=qs(s,0,l),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,a=this.options,o=a.time,l=o.unit||Lj(o.minUnit,n,s,this._getLabelCapacity(n)),d=Kt(a.ticks.stepSize,1),f=l==="week"?o.isoWeekday:!1,h=Nh(f)||f===!0,p={};let g=n,b,y;if(h&&(g=+t.startOf(g,"isoWeek",f)),g=+t.startOf(g,h?"day":l),t.diff(s,n,l)>1e5*d)throw new Error(n+" and "+s+" are too far apart with stepSize of "+d+" "+l);const w=a.ticks.source==="data"&&this.getDataTimestamps();for(b=g,y=0;b<s;b=+t.add(b,d,l),y++)zj(p,b,w);return(b===s||a.bounds==="ticks"||y===1)&&zj(p,b,w),Object.keys(p).sort(Mj).map(_=>+_)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const a=this.options.time.displayFormats,o=this._unit,l=n||a[o];return this._adapter.format(t,l)}_tickFormatFunction(t,n,s,a){const o=this.options,l=o.ticks.callback;if(l)return bn(l,[t,n,s],this);const d=o.time.displayFormats,f=this._unit,h=this._majorUnit,p=f&&d[f],g=h&&d[h],b=s[n],y=h&&g&&b&&b.major;return this._adapter.format(t,a||(y?g:p))}generateTickLabels(t){let n,s,a;for(n=0,s=t.length;n<s;++n)a=t[n],a.label=this._tickFormatFunction(a.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,a=Ua(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),l=Math.sin(a),d=this._resolveTickFontOptions(0).size;return{w:s*o+d*l,h:s*l+d*o}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,a=s[n.unit]||s.millisecond,o=this._tickFormatFunction(t,0,Bj(this,[t],this._majorUnit),a),l=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return d>0?d:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,s=a.length;n<s;++n)t=t.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const a=this.getLabels();for(n=0,s=a.length;n<s;++n)t.push(Pj(this,a[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return LN(t.sort(Mj))}}ft(Oh,"id","time"),ft(Oh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Vf(e,t,n){let s=0,a=e.length-1,o,l,d,f;n?(t>=e[s].pos&&t<=e[a].pos&&({lo:s,hi:a}=M0(e,"pos",t)),{pos:o,time:d}=e[s],{pos:l,time:f}=e[a]):(t>=e[s].time&&t<=e[a].time&&({lo:s,hi:a}=M0(e,"time",t)),{time:o,pos:d}=e[s],{time:l,pos:f}=e[a]);const h=l-o;return h?d+(f-d)*(t-o)/h:d}class Uj extends Oh{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Vf(n,this.min),this._tableRange=Vf(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,a=[],o=[];let l,d,f,h,p;for(l=0,d=t.length;l<d;++l)h=t[l],h>=n&&h<=s&&a.push(h);if(a.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(l=0,d=a.length;l<d;++l)p=a[l+1],f=a[l-1],h=a[l],Math.round((p+f)/2)!==h&&o.push({time:h,pos:l/(d-1)});return o}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Vf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return Vf(this._table,s*this._tableRange+this._minPos,!0)}}ft(Uj,"id","timeseries"),ft(Uj,"defaults",Oh.defaults);const fE="label";function Fj(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function IB(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function hE(e,t){e.labels=t}function mE(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fE;const s=[];e.datasets=t.map(a=>{const o=e.datasets.find(l=>l[n]===a[n]);return!o||!a.data||s.includes(o)?L({},a):(s.push(o),Object.assign(o,a),o)})}function YB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fE;const n={labels:[],datasets:[]};return hE(n,e.labels),mE(n,e.datasets,t),n}function WB(e,t){const S=e,{height:n=150,width:s=300,redraw:a=!1,datasetIdKey:o,type:l,data:d,options:f,plugins:h=[],fallbackContent:p,updateMode:g}=S,b=Me(S,["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"]),y=N.useRef(null),w=N.useRef(null),_=()=>{y.current&&(w.current=new tm(y.current,{type:l,data:YB(d,o),options:f&&L({},f),plugins:h}),Fj(t,w.current))},j=()=>{Fj(t,null),w.current&&(w.current.destroy(),w.current=null)};return N.useEffect(()=>{!a&&w.current&&f&&IB(w.current,f)},[a,f]),N.useEffect(()=>{!a&&w.current&&hE(w.current.config.data,d.labels)},[a,d.labels]),N.useEffect(()=>{!a&&w.current&&d.datasets&&mE(w.current.config.data,d.datasets,o)},[a,d.datasets]),N.useEffect(()=>{w.current&&(a?(j(),setTimeout(_)):w.current.update(g))},[a,f,d.labels,d.datasets,g]),N.useEffect(()=>{w.current&&(j(),setTimeout(_))},[l]),N.useEffect(()=>(_(),()=>j()),[]),te.createElement("canvas",L({ref:y,role:"img",height:n,width:s},b),p)}const XB=N.forwardRef(WB);function pE(e,t){return tm.register(t),N.forwardRef((n,s)=>te.createElement(XB,he(L({},n),{ref:s,type:e})))}const GB=pE("bar",lh),KB=pE("doughnut",_u),Hj=({value:e,label:t,className:n=""})=>u.jsxs("div",{className:`text-center ${n}`,children:[u.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-1",children:e}),u.jsx("div",{className:"text-sm text-gray-500",children:t})]}),Vj=({status:e,type:t="status"})=>{const n="px-2 py-1 rounded-full text-xs font-medium inline-block",s=t==="status"?J5(e):eL(e);return u.jsx("span",{className:`${n} ${s}`,children:e})};tm.register(U0,F0,dh,Su,kB,LB,EB);const QB=({projects:e,phases:t,tasks:n})=>{const[s,a]=N.useState(new Set(e.map(D=>D.name))),[o,l]=N.useState(new Set),d=n.filter(D=>D.status==="Working").length,f=n.filter(D=>D.status==="Completed").length,h=D=>{const H=new Set(s);H.has(D)?H.delete(D):H.add(D),a(H)},p=D=>{const H=new Set(o);H.has(D)?H.delete(D):H.add(D),l(H)},g=n.reduce((D,H)=>(D[H.status]=(D[H.status]||0)+1,D),{}),b=D=>{switch(D){case"Open":return"#3b82f6";case"Working":return"#f59e0b";case"Completed":return"#22c55e";case"Overdue":return"#ef4444";case"Cancelled":return"#6b7280";default:return"#3b82f6"}},y={labels:Object.keys(g),datasets:[{data:Object.values(g),backgroundColor:Object.keys(g).map(D=>b(D)),borderColor:Object.keys(g).map(D=>b(D)),borderWidth:1}]},w=n.reduce((D,H)=>(D[H.priority]=(D[H.priority]||0)+1,D),{}),_=D=>{switch(D){case"Urgent":return"#dc2626";case"High":return"#f97316";case"Medium":return"#eab308";case"Low":return"#16a34a";default:return"#6b7280"}},j=D=>{switch(D){case"Completed":case"Hoàn thành":return"#22c55e";case"Cancelled":case"Canceled":case"Hủy":case"Đã hủy":return"#ef4444";default:return"#3b82f6"}},S={labels:Object.keys(w),datasets:[{data:Object.values(w),backgroundColor:Object.keys(w).map(D=>_(D)),hoverOffset:4}]},O={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}},k={responsive:!0,plugins:{title:{display:!0,text:"Độ ưu tiên nhiệm vụ",font:{size:16}},legend:{position:"bottom"}}},C=D=>{const H=t.find(q=>q.name===D);if(!H||!H.tasks)return[];const ee=H.tasks.map(q=>q.task);return n.filter(q=>ee.includes(q.name))},A=D=>t.filter(H=>H.project===D),M=(D,H=1)=>{const ee=H>0?`pl-${H*6}`:"";return u.jsxs("div",{className:`flex items-center py-2 ${ee} border-b border-gray-100 last:border-b-0`,children:[u.jsxs("div",{className:"flex-grow flex items-center",children:[u.jsx("span",{className:"mr-2 text-blue-600",children:"●"}),u.jsx("span",{className:"font-medium text-gray-800",children:D.subject})]}),u.jsx("div",{className:"w-32 text-sm text-gray-600",children:D.assigned_to||"Chưa giao"}),u.jsx("div",{className:"w-32 text-center",children:u.jsx(Vj,{status:D.status,type:"status"})}),u.jsx("div",{className:"w-24 text-center",children:u.jsx(Vj,{status:D.priority,type:"priority"})}),u.jsxs("div",{className:"w-20 text-right text-sm text-gray-600",children:[D.progress,"%"]})]},D.name)},V=(D,H)=>{const ee=`${H}-${D.name}`,q=o.has(ee),X=C(D.name);return u.jsxs("div",{className:"ml-4",children:[u.jsxs("div",{className:"bg-green-500 text-white p-2 rounded-t-lg font-medium text-md cursor-pointer hover:bg-green-600 flex items-center justify-between",onClick:()=>p(ee),children:[u.jsxs("span",{children:["Giai đoạn: ",D.phase_name," (",D.status,")"]}),u.jsx("span",{className:"text-lg",children:q?"▼":"▶️"})]}),q&&u.jsx("div",{className:"bg-white border-l-2 border-r-2 border-b-2 border-gray-200 p-3",children:X.length>0?X.map(ae=>M(ae)):u.jsx("div",{className:"text-gray-500 text-center py-2 text-sm",children:"Chưa có nhiệm vụ nào cho giai đoạn này."})})]},D.name)};return u.jsxs(Zh,{title:"Quản lý nhiệm vụ (Task)",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[u.jsx(Hj,{value:d,label:"Tổng nhiệm vụ đang thực hiện"}),u.jsx(Hj,{value:f,label:"Tổng nhiệm vụ đã hoàn thành"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Trạng thái nhiệm vụ"}),u.jsx("div",{className:"flex-1",style:{height:"400px"},children:u.jsx(GB,{data:y,options:O})})]}),u.jsx("div",{className:"flex flex-col",children:u.jsx("div",{className:"flex-1",style:{height:"400px"},children:u.jsx(KB,{data:S,options:k})})})]}),u.jsx("h3",{className:"text-xl font-semibold mt-8 mb-4 text-gray-700",children:"Danh sách nhiệm vụ"}),u.jsx("div",{className:"space-y-4",children:e.map(D=>{const H=A(D.name),ee=s.has(D.name);return u.jsxs("div",{children:[u.jsx("div",{className:"text-white p-3 rounded-t-lg font-semibold text-lg cursor-pointer hover:opacity-90 flex items-center justify-between transition-opacity",style:{backgroundColor:j(D.status)},onClick:()=>h(D.name),children:u.jsxs("div",{className:"flex flex-col flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-lg font-semibold",children:["Dự án: ",D.project_name," (",D.status,")"]}),u.jsx("span",{className:"text-xl",children:ee?"▼":"▶️"})]}),u.jsxs("div",{className:"flex items-center mt-2 text-sm text-white space-x-6",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium mr-2",children:"Priority:"}),u.jsx("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:D.priority})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium mr-2",children:"Progress:"}),u.jsxs("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:[D.percent_complete,"%"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium mr-2",children:"Expected End:"}),u.jsx("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:D.expected_end_date?new Date(D.expected_end_date).toLocaleDateString("vi-VN"):"Chưa xác định"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium mr-2",children:"Department:"}),u.jsx("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:D.department})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium mr-2",children:"Team:"}),u.jsx("span",{className:"bg-white text-gray-800 px-2 py-1 rounded text-xs font-medium",children:D.team})]})]})]})}),ee&&u.jsx("div",{className:"bg-white rounded-b-lg border border-gray-200 p-4",children:H.length>0?H.map(q=>V(q,D.name)):u.jsx("div",{className:"text-gray-500 text-center py-4",children:"Chưa có giai đoạn nào cho dự án này."})})]},D.name)})})]})},ZB=({className:e=""})=>u.jsx("div",{className:`inline-block animate-spin rounded-full border-4 border-gray-200 border-t-blue-600 h-6 w-6 ${e}`}),JB=()=>{const{allProjects:e,filteredData:t,selectedProject:n,selectedDepartment:s,selectedTeam:a,setSelectedProject:o,setSelectedDepartment:l,setSelectedTeam:d,isLoading:f}=K5();return f?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsxs("div",{className:"text-center",children:[u.jsx(ZB,{className:"h-12 w-12 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Đang tải dữ liệu..."})]})}):u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-8 text-center",children:"Bảng điều khiển quản lý dự án"}),u.jsx(Q5,{projects:e,selectedProject:n,selectedDepartment:s,selectedTeam:a,onProjectChange:o,onDepartmentChange:l,onTeamChange:d}),u.jsx(tL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),u.jsx(sL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),u.jsx(nL,{projects:t.filteredProjects,tasks:t.filteredTasks,selectedProject:n}),u.jsx(QB,{projects:t.filteredProjects,phases:t.filteredPhases,tasks:t.filteredTasks})]})})},xo=e=>e==null?"N/A":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(e);var ed=e=>e.type==="checkbox",jo=e=>e instanceof Date,Ns=e=>e==null;const gE=e=>typeof e=="object";var Fn=e=>!Ns(e)&&!Array.isArray(e)&&gE(e)&&!jo(e),xE=e=>Fn(e)&&e.target?ed(e.target)?e.target.checked:e.target.value:e,e8=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,yE=(e,t)=>e.has(e8(t)),t8=e=>{const t=e.constructor&&e.constructor.prototype;return Fn(t)&&t.hasOwnProperty("isPrototypeOf")},oy=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function es(e){let t;const n=Array.isArray(e),s=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(oy&&(e instanceof Blob||s))&&(n||Fn(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!t8(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=es(e[a]));else return e;return t}var sm=e=>/^\w*$/.test(e),zn=e=>e===void 0,ly=e=>Array.isArray(e)?e.filter(Boolean):[],cy=e=>ly(e.replace(/["|']|\]/g,"").split(/\.|\[/)),$e=(e,t,n)=>{if(!t||!Fn(e))return n;const s=(sm(t)?[t]:cy(t)).reduce((a,o)=>Ns(a)?a:a[o],e);return zn(s)||s===e?zn(e[t])?n:e[t]:s},er=e=>typeof e=="boolean",xn=(e,t,n)=>{let s=-1;const a=sm(t)?[t]:cy(t),o=a.length,l=o-1;for(;++s<o;){const d=a[s];let f=n;if(s!==l){const h=e[d];f=Fn(h)||Array.isArray(h)?h:isNaN(+a[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=f,e=e[d]}};const Rh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},zr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Da={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},bE=te.createContext(null);bE.displayName="HookFormContext";const uy=()=>te.useContext(bE);var vE=(e,t,n,s=!0)=>{const a={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const l=o;return t._proxyFormState[l]!==zr.all&&(t._proxyFormState[l]=!s||zr.all),n&&(n[l]=!0),e[l]}});return a};const dy=typeof window!="undefined"?te.useLayoutEffect:te.useEffect;function n8(e){const t=uy(),{control:n=t.control,disabled:s,name:a,exact:o}=e||{},[l,d]=te.useState(n._formState),f=te.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return dy(()=>n._subscribe({name:a,formState:f.current,exact:o,callback:h=>{!s&&d(L(L({},n._formState),h))}}),[a,s,o]),te.useEffect(()=>{f.current.isValid&&n._setValid(!0)},[n]),te.useMemo(()=>vE(l,n,f.current,!1),[l,n])}var sa=e=>typeof e=="string",wE=(e,t,n,s,a)=>sa(e)?(s&&t.watch.add(e),$e(n,e,a)):Array.isArray(e)?e.map(o=>(s&&t.watch.add(o),$e(n,o))):(s&&(t.watchAll=!0),n),H0=e=>Ns(e)||!gE(e);function Ba(e,t,n=new WeakSet){if(H0(e)||H0(t))return e===t;if(jo(e)&&jo(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const o of s){const l=e[o];if(!a.includes(o))return!1;if(o!=="ref"){const d=t[o];if(jo(l)&&jo(d)||Fn(l)&&Fn(d)||Array.isArray(l)&&Array.isArray(d)?!Ba(l,d,n):l!==d)return!1}}return!0}function s8(e){const t=uy(),{control:n=t.control,name:s,defaultValue:a,disabled:o,exact:l,compute:d}=e||{},f=te.useRef(a),h=te.useRef(d),p=te.useRef(void 0);h.current=d;const g=te.useMemo(()=>n._getWatch(s,f.current),[n,s]),[b,y]=te.useState(h.current?h.current(g):g);return dy(()=>n._subscribe({name:s,formState:{values:!0},exact:l,callback:w=>{if(!o){const _=wE(s,n._names,w.values||n._formValues,!1,f.current);if(h.current){const j=h.current(_);Ba(j,p.current)||(y(j),p.current=j)}else y(_)}}}),[n,o,s,l]),te.useEffect(()=>n._removeUnmounted()),b}function r8(e){const t=uy(),{name:n,disabled:s,control:a=t.control,shouldUnregister:o,defaultValue:l}=e,d=yE(a._names.array,n),f=te.useMemo(()=>$e(a._formValues,n,$e(a._defaultValues,n,l)),[a,n,l]),h=s8({control:a,name:n,defaultValue:f,exact:!0}),p=n8({control:a,name:n,exact:!0}),g=te.useRef(e),b=te.useRef(a.register(n,L(he(L({},e.rules),{value:h}),er(e.disabled)?{disabled:e.disabled}:{})));g.current=e;const y=te.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!$e(p.errors,n)},isDirty:{enumerable:!0,get:()=>!!$e(p.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!$e(p.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!$e(p.validatingFields,n)},error:{enumerable:!0,get:()=>$e(p.errors,n)}}),[p,n]),w=te.useCallback(O=>b.current.onChange({target:{value:xE(O),name:n},type:Rh.CHANGE}),[n]),_=te.useCallback(()=>b.current.onBlur({target:{value:$e(a._formValues,n),name:n},type:Rh.BLUR}),[n,a._formValues]),j=te.useCallback(O=>{const k=$e(a._fields,n);k&&O&&(k._f.ref={focus:()=>O.focus&&O.focus(),select:()=>O.select&&O.select(),setCustomValidity:C=>O.setCustomValidity(C),reportValidity:()=>O.reportValidity()})},[a._fields,n]),S=te.useMemo(()=>he(L({name:n,value:h},er(s)||p.disabled?{disabled:p.disabled||s}:{}),{onChange:w,onBlur:_,ref:j}),[n,s,p.disabled,w,_,j,h]);return te.useEffect(()=>{const O=a._options.shouldUnregister||o;a.register(n,L(L({},g.current.rules),er(g.current.disabled)?{disabled:g.current.disabled}:{}));const k=(C,A)=>{const M=$e(a._fields,C);M&&M._f&&(M._f.mount=A)};if(k(n,!0),O){const C=es($e(a._options.defaultValues,n));xn(a._defaultValues,n,C),zn($e(a._formValues,n))&&xn(a._formValues,n,C)}return!d&&a.register(n),()=>{(d?O&&!a._state.action:O)?a.unregister(n):k(n,!1)}},[n,a,d,o]),te.useEffect(()=>{a._setDisabledField({disabled:s,name:n})},[s,n,a]),te.useMemo(()=>({field:S,formState:p,fieldState:y}),[S,p,y])}const nr=e=>e.render(r8(e));var a8=(e,t,n,s,a)=>t?he(L({},n[e]),{types:he(L({},n[e]&&n[e].types?n[e].types:{}),{[s]:a||!0})}):{},Cu=e=>Array.isArray(e)?e:[e],$j=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}},Us=e=>Fn(e)&&!Object.keys(e).length,fy=e=>e.type==="file",Br=e=>typeof e=="function",Dh=e=>{if(!oy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},_E=e=>e.type==="select-multiple",hy=e=>e.type==="radio",i8=e=>hy(e)||ed(e),Wg=e=>Dh(e)&&e.isConnected;function o8(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=zn(e)?s++:e[t[s++]];return e}function l8(e){for(const t in e)if(e.hasOwnProperty(t)&&!zn(e[t]))return!1;return!0}function In(e,t){const n=Array.isArray(t)?t:sm(t)?[t]:cy(t),s=n.length===1?e:o8(e,n),a=n.length-1,o=n[a];return s&&delete s[o],a!==0&&(Fn(s)&&Us(s)||Array.isArray(s)&&l8(s))&&In(e,n.slice(0,-1)),e}var jE=e=>{for(const t in e)if(Br(e[t]))return!0;return!1};function Mh(e,t={}){const n=Array.isArray(e);if(Fn(e)||n)for(const s in e)Array.isArray(e[s])||Fn(e[s])&&!jE(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Mh(e[s],t[s])):Ns(e[s])||(t[s]=!0);return t}function SE(e,t,n){const s=Array.isArray(e);if(Fn(e)||s)for(const a in e)Array.isArray(e[a])||Fn(e[a])&&!jE(e[a])?zn(t)||H0(n[a])?n[a]=Array.isArray(e[a])?Mh(e[a],[]):L({},Mh(e[a])):SE(e[a],Ns(t)?{}:t[a],n[a]):n[a]=!Ba(e[a],t[a]);return n}var mu=(e,t)=>SE(e,t,Mh(t));const qj={value:!1,isValid:!1},Ij={value:!0,isValid:!0};var NE=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!zn(e[0].attributes.value)?zn(e[0].value)||e[0].value===""?Ij:{value:e[0].value,isValid:!0}:Ij:qj}return qj},EE=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>zn(e)?e:t?e===""?NaN:e&&+e:n&&sa(e)?new Date(e):s?s(e):e;const Yj={isValid:!1,value:null};var TE=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Yj):Yj;function Wj(e){const t=e.ref;return fy(t)?t.files:hy(t)?TE(e.refs).value:_E(t)?[...t.selectedOptions].map(({value:n})=>n):ed(t)?NE(e.refs).value:EE(zn(t.value)?e.ref.value:t.value,e)}var c8=(e,t,n,s)=>{const a={};for(const o of e){const l=$e(t,o);l&&xn(a,o,l._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:s}},Ph=e=>e instanceof RegExp,pu=e=>zn(e)?e:Ph(e)?e.source:Fn(e)?Ph(e.value)?e.value.source:e.value:e,Xj=e=>({isOnSubmit:!e||e===zr.onSubmit,isOnBlur:e===zr.onBlur,isOnChange:e===zr.onChange,isOnAll:e===zr.all,isOnTouch:e===zr.onTouched});const Gj="AsyncFunction";var u8=e=>!!e&&!!e.validate&&!!(Br(e.validate)&&e.validate.constructor.name===Gj||Fn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Gj)),d8=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Kj=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Au=(e,t,n,s)=>{for(const o of n||Object.keys(e)){const l=$e(e,o);if(l){const a=l,{_f:d}=a,f=Me(a,["_f"]);if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],o)&&!s)return!0;if(d.ref&&t(d.ref,d.name)&&!s)return!0;if(Au(f,t))break}else if(Fn(f)&&Au(f,t))break}}};function Qj(e,t,n){const s=$e(e,n);if(s||sm(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const o=a.join("."),l=$e(t,o),d=$e(e,o);if(l&&!Array.isArray(l)&&n!==o)return{name:n};if(d&&d.type)return{name:o,error:d};if(d&&d.root&&d.root.type)return{name:`${o}.root`,error:d.root};a.pop()}return{name:n}}var f8=(e,t,n,s)=>{n(e);const l=e,{name:a}=l,o=Me(l,["name"]);return Us(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(d=>t[d]===(!s||zr.all))},h8=(e,t,n)=>!e||!t||e===t||Cu(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),m8=(e,t,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?s.isOnBlur:a.isOnBlur)?!e:(n?s.isOnChange:a.isOnChange)?e:!0,p8=(e,t)=>!ly($e(e,t)).length&&In(e,t),g8=(e,t,n)=>{const s=Cu($e(e,n));return xn(s,"root",t[n]),xn(e,n,s),e},fh=e=>sa(e);function Zj(e,t,n="validate"){if(fh(e)||Array.isArray(e)&&e.every(fh)||er(e)&&!e)return{type:n,message:fh(e)?e:"",ref:t}}var Cl=e=>Fn(e)&&!Ph(e)?e:{value:e,message:""},Jj=(e,t,n,s,a,o)=>xe(null,null,function*(){const{ref:l,refs:d,required:f,maxLength:h,minLength:p,min:g,max:b,pattern:y,validate:w,name:_,valueAsNumber:j,mount:S}=e._f,O=$e(n,_);if(!S||t.has(_))return{};const k=d?d[0]:l,C=X=>{a&&k.reportValidity&&(k.setCustomValidity(er(X)?"":X||""),k.reportValidity())},A={},M=hy(l),V=ed(l),D=M||V,H=(j||fy(l))&&zn(l.value)&&zn(O)||Dh(l)&&l.value===""||O===""||Array.isArray(O)&&!O.length,ee=a8.bind(null,_,s,A),q=(X,ae,J,Y=Da.maxLength,z=Da.minLength)=>{const Q=X?ae:J;A[_]=L({type:X?Y:z,message:Q,ref:l},ee(X?Y:z,Q))};if(o?!Array.isArray(O)||!O.length:f&&(!D&&(H||Ns(O))||er(O)&&!O||V&&!NE(d).isValid||M&&!TE(d).isValid)){const{value:X,message:ae}=fh(f)?{value:!!f,message:f}:Cl(f);if(X&&(A[_]=L({type:Da.required,message:ae,ref:k},ee(Da.required,ae)),!s))return C(ae),A}if(!H&&(!Ns(g)||!Ns(b))){let X,ae;const J=Cl(b),Y=Cl(g);if(!Ns(O)&&!isNaN(O)){const z=l.valueAsNumber||O&&+O;Ns(J.value)||(X=z>J.value),Ns(Y.value)||(ae=z<Y.value)}else{const z=l.valueAsDate||new Date(O),Q=U=>new Date(new Date().toDateString()+" "+U),Z=l.type=="time",le=l.type=="week";sa(J.value)&&O&&(X=Z?Q(O)>Q(J.value):le?O>J.value:z>new Date(J.value)),sa(Y.value)&&O&&(ae=Z?Q(O)<Q(Y.value):le?O<Y.value:z<new Date(Y.value))}if((X||ae)&&(q(!!X,J.message,Y.message,Da.max,Da.min),!s))return C(A[_].message),A}if((h||p)&&!H&&(sa(O)||o&&Array.isArray(O))){const X=Cl(h),ae=Cl(p),J=!Ns(X.value)&&O.length>+X.value,Y=!Ns(ae.value)&&O.length<+ae.value;if((J||Y)&&(q(J,X.message,ae.message),!s))return C(A[_].message),A}if(y&&!H&&sa(O)){const{value:X,message:ae}=Cl(y);if(Ph(X)&&!O.match(X)&&(A[_]=L({type:Da.pattern,message:ae,ref:l},ee(Da.pattern,ae)),!s))return C(ae),A}if(w){if(Br(w)){const X=yield w(O,n),ae=Zj(X,k);if(ae&&(A[_]=L(L({},ae),ee(Da.validate,ae.message)),!s))return C(ae.message),A}else if(Fn(w)){let X={};for(const ae in w){if(!Us(X)&&!s)break;const J=Zj(yield w[ae](O,n),k,ae);J&&(X=L(L({},J),ee(ae,J.message)),C(J.message),s&&(A[_]=X))}if(!Us(X)&&(A[_]=L({ref:k},X),!s))return A}}return C(!0),A});const x8={mode:zr.onSubmit,reValidateMode:zr.onChange,shouldFocusError:!0};function y8(e={}){let t=L(L({},x8),e),n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Br(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Fn(t.defaultValues)||Fn(t.values)?es(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:es(a),l={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g=L({},p);const b={array:$j(),state:$j()},y=t.criteriaMode===zr.all,w=W=>ue=>{clearTimeout(h),h=setTimeout(W,ue)},_=W=>xe(null,null,function*(){if(!t.disabled&&(p.isValid||g.isValid||W)){const ue=t.resolver?Us((yield V()).errors):yield H(s,!0);ue!==n.isValid&&b.state.next({isValid:ue})}}),j=(W,ue)=>{!t.disabled&&(p.isValidating||p.validatingFields||g.isValidating||g.validatingFields)&&((W||Array.from(d.mount)).forEach($=>{$&&(ue?xn(n.validatingFields,$,ue):In(n.validatingFields,$))}),b.state.next({validatingFields:n.validatingFields,isValidating:!Us(n.validatingFields)}))},S=(W,ue=[],$,Se,De=!0,Re=!0)=>{if(Se&&$&&!t.disabled){if(l.action=!0,Re&&Array.isArray($e(s,W))){const Be=$($e(s,W),Se.argA,Se.argB);De&&xn(s,W,Be)}if(Re&&Array.isArray($e(n.errors,W))){const Be=$($e(n.errors,W),Se.argA,Se.argB);De&&xn(n.errors,W,Be),p8(n.errors,W)}if((p.touchedFields||g.touchedFields)&&Re&&Array.isArray($e(n.touchedFields,W))){const Be=$($e(n.touchedFields,W),Se.argA,Se.argB);De&&xn(n.touchedFields,W,Be)}(p.dirtyFields||g.dirtyFields)&&(n.dirtyFields=mu(a,o)),b.state.next({name:W,isDirty:q(W,ue),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else xn(o,W,ue)},O=(W,ue)=>{xn(n.errors,W,ue),b.state.next({errors:n.errors})},k=W=>{n.errors=W,b.state.next({errors:n.errors,isValid:!1})},C=(W,ue,$,Se)=>{const De=$e(s,W);if(De){const Re=$e(o,W,zn($)?$e(a,W):$);zn(Re)||Se&&Se.defaultChecked||ue?xn(o,W,ue?Re:Wj(De._f)):J(W,Re),l.mount&&_()}},A=(W,ue,$,Se,De)=>{let Re=!1,Be=!1;const qe={name:W};if(!t.disabled){if(!$||Se){(p.isDirty||g.isDirty)&&(Be=n.isDirty,n.isDirty=qe.isDirty=q(),Re=Be!==qe.isDirty);const Xe=Ba($e(a,W),ue);Be=!!$e(n.dirtyFields,W),Xe?In(n.dirtyFields,W):xn(n.dirtyFields,W,!0),qe.dirtyFields=n.dirtyFields,Re=Re||(p.dirtyFields||g.dirtyFields)&&Be!==!Xe}if($){const Xe=$e(n.touchedFields,W);Xe||(xn(n.touchedFields,W,$),qe.touchedFields=n.touchedFields,Re=Re||(p.touchedFields||g.touchedFields)&&Xe!==$)}Re&&De&&b.state.next(qe)}return Re?qe:{}},M=(W,ue,$,Se)=>{const De=$e(n.errors,W),Re=(p.isValid||g.isValid)&&er(ue)&&n.isValid!==ue;if(t.delayError&&$?(f=w(()=>O(W,$)),f(t.delayError)):(clearTimeout(h),f=null,$?xn(n.errors,W,$):In(n.errors,W)),($?!Ba(De,$):De)||!Us(Se)||Re){const Be=he(L(L({},Se),Re&&er(ue)?{isValid:ue}:{}),{errors:n.errors,name:W});n=L(L({},n),Be),b.state.next(Be)}},V=W=>xe(null,null,function*(){j(W,!0);const ue=yield t.resolver(o,t.context,c8(W||d.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return j(W),ue}),D=W=>xe(null,null,function*(){const{errors:ue}=yield V(W);if(W)for(const $ of W){const Se=$e(ue,$);Se?xn(n.errors,$,Se):In(n.errors,$)}else n.errors=ue;return ue}),H=(Se,De,...Re)=>xe(null,[Se,De,...Re],function*(W,ue,$={valid:!0}){for(const qe in W){const Xe=W[qe];if(Xe){const Be=Xe,{_f:gt}=Be,yn=Me(Be,["_f"]);if(gt){const lt=d.array.has(gt.name),ke=Xe._f&&u8(Xe._f);ke&&p.validatingFields&&j([qe],!0);const Ue=yield Jj(Xe,d.disabled,o,y,t.shouldUseNativeValidation&&!ue,lt);if(ke&&p.validatingFields&&j([qe]),Ue[gt.name]&&($.valid=!1,ue))break;!ue&&($e(Ue,gt.name)?lt?g8(n.errors,Ue,gt.name):xn(n.errors,gt.name,Ue[gt.name]):In(n.errors,gt.name))}!Us(yn)&&(yield H(yn,ue,$))}}return $.valid}),ee=()=>{for(const W of d.unMount){const ue=$e(s,W);ue&&(ue._f.refs?ue._f.refs.every($=>!Wg($)):!Wg(ue._f.ref))&&Te(W)}d.unMount=new Set},q=(W,ue)=>!t.disabled&&(W&&ue&&xn(o,W,ue),!Ba(U(),a)),X=(W,ue,$)=>wE(W,d,L({},l.mount?o:zn(ue)?a:sa(W)?{[W]:ue}:ue),$,ue),ae=W=>ly($e(l.mount?o:a,W,t.shouldUnregister?$e(a,W,[]):[])),J=(W,ue,$={})=>{const Se=$e(s,W);let De=ue;if(Se){const Re=Se._f;Re&&(!Re.disabled&&xn(o,W,EE(ue,Re)),De=Dh(Re.ref)&&Ns(ue)?"":ue,_E(Re.ref)?[...Re.ref.options].forEach(Be=>Be.selected=De.includes(Be.value)):Re.refs?ed(Re.ref)?Re.refs.forEach(Be=>{(!Be.defaultChecked||!Be.disabled)&&(Array.isArray(De)?Be.checked=!!De.find(qe=>qe===Be.value):Be.checked=De===Be.value||!!De)}):Re.refs.forEach(Be=>Be.checked=Be.value===De):fy(Re.ref)?Re.ref.value="":(Re.ref.value=De,Re.ref.type||b.state.next({name:W,values:es(o)})))}($.shouldDirty||$.shouldTouch)&&A(W,De,$.shouldTouch,$.shouldDirty,!0),$.shouldValidate&&le(W)},Y=(W,ue,$)=>{for(const Se in ue){if(!ue.hasOwnProperty(Se))return;const De=ue[Se],Re=W+"."+Se,Be=$e(s,Re);(d.array.has(W)||Fn(De)||Be&&!Be._f)&&!jo(De)?Y(Re,De,$):J(Re,De,$)}},z=(W,ue,$={})=>{const Se=$e(s,W),De=d.array.has(W),Re=es(ue);xn(o,W,Re),De?(b.array.next({name:W,values:es(o)}),(p.isDirty||p.dirtyFields||g.isDirty||g.dirtyFields)&&$.shouldDirty&&b.state.next({name:W,dirtyFields:mu(a,o),isDirty:q(W,Re)})):Se&&!Se._f&&!Ns(Re)?Y(W,Re,$):J(W,Re,$),Kj(W,d)&&b.state.next(he(L({},n),{name:W})),b.state.next({name:l.mount?W:void 0,values:es(o)})},Q=W=>xe(null,null,function*(){l.mount=!0;const ue=W.target;let $=ue.name,Se=!0;const De=$e(s,$),Re=Xe=>{Se=Number.isNaN(Xe)||jo(Xe)&&isNaN(Xe.getTime())||Ba(Xe,$e(o,$,Xe))},Be=Xj(t.mode),qe=Xj(t.reValidateMode);if(De){let Xe,gt;const yn=ue.type?Wj(De._f):xE(W),lt=W.type===Rh.BLUR||W.type===Rh.FOCUS_OUT,ke=!d8(De._f)&&!t.resolver&&!$e(n.errors,$)&&!De._f.deps||m8(lt,$e(n.touchedFields,$),n.isSubmitted,qe,Be),Ue=Kj($,d,lt);xn(o,$,yn),lt?(!ue||!ue.readOnly)&&(De._f.onBlur&&De._f.onBlur(W),f&&f(0)):De._f.onChange&&De._f.onChange(W);const Dt=A($,yn,lt),Sn=!Us(Dt)||Ue;if(!lt&&b.state.next({name:$,type:W.type,values:es(o)}),ke)return(p.isValid||g.isValid)&&(t.mode==="onBlur"?lt&&_():lt||_()),Sn&&b.state.next(L({name:$},Ue?{}:Dt));if(!lt&&Ue&&b.state.next(L({},n)),t.resolver){const{errors:rs}=yield V([$]);if(Re(yn),Se){const Hn=Qj(n.errors,s,$),us=Qj(rs,s,Hn.name||$);Xe=us.error,$=us.name,gt=Us(rs)}}else j([$],!0),Xe=(yield Jj(De,d.disabled,o,y,t.shouldUseNativeValidation))[$],j([$]),Re(yn),Se&&(Xe?gt=!1:(p.isValid||g.isValid)&&(gt=yield H(s,!0)));Se&&(De._f.deps&&le(De._f.deps),M($,gt,Xe,Dt))}}),Z=(W,ue)=>{if($e(n.errors,ue)&&W.focus)return W.focus(),1},le=($,...Se)=>xe(null,[$,...Se],function*(W,ue={}){let De,Re;const Be=Cu(W);if(t.resolver){const qe=yield D(zn(W)?W:Be);De=Us(qe),Re=W?!Be.some(Xe=>$e(qe,Xe)):De}else W?(Re=(yield Promise.all(Be.map(qe=>xe(null,null,function*(){const Xe=$e(s,qe);return yield H(Xe&&Xe._f?{[qe]:Xe}:Xe)})))).every(Boolean),!(!Re&&!n.isValid)&&_()):Re=De=yield H(s);return b.state.next(he(L(L({},!sa(W)||(p.isValid||g.isValid)&&De!==n.isValid?{}:{name:W}),t.resolver||!W?{isValid:De}:{}),{errors:n.errors})),ue.shouldFocus&&!Re&&Au(s,Z,W?Be:d.mount),Re}),U=W=>{const ue=L({},l.mount?o:a);return zn(W)?ue:sa(W)?$e(ue,W):W.map($=>$e(ue,$))},re=(W,ue)=>({invalid:!!$e((ue||n).errors,W),isDirty:!!$e((ue||n).dirtyFields,W),error:$e((ue||n).errors,W),isValidating:!!$e(n.validatingFields,W),isTouched:!!$e((ue||n).touchedFields,W)}),we=W=>{W&&Cu(W).forEach(ue=>In(n.errors,ue)),b.state.next({errors:W?n.errors:{}})},I=(W,ue,$)=>{const Se=($e(s,W,{_f:{}})._f||{}).ref,gt=$e(n.errors,W)||{},{ref:Re,message:Be,type:qe}=gt,Xe=Me(gt,["ref","message","type"]);xn(n.errors,W,he(L(L({},Xe),ue),{ref:Se})),b.state.next({name:W,errors:n.errors,isValid:!1}),$&&$.shouldFocus&&Se&&Se.focus&&Se.focus()},ce=(W,ue)=>Br(W)?b.state.subscribe({next:$=>"values"in $&&W(X(void 0,ue),$)}):X(W,ue,!0),je=W=>b.state.subscribe({next:ue=>{h8(W.name,ue.name,W.exact)&&f8(ue,W.formState||p,_t,W.reRenderRoot)&&W.callback(he(L(L({values:L({},o)},n),ue),{defaultValues:a}))}}).unsubscribe,be=W=>(l.mount=!0,g=L(L({},g),W.formState),je(he(L({},W),{formState:g}))),Te=(W,ue={})=>{for(const $ of W?Cu(W):d.mount)d.mount.delete($),d.array.delete($),ue.keepValue||(In(s,$),In(o,$)),!ue.keepError&&In(n.errors,$),!ue.keepDirty&&In(n.dirtyFields,$),!ue.keepTouched&&In(n.touchedFields,$),!ue.keepIsValidating&&In(n.validatingFields,$),!t.shouldUnregister&&!ue.keepDefaultValue&&In(a,$);b.state.next({values:es(o)}),b.state.next(L(L({},n),ue.keepDirty?{isDirty:q()}:{})),!ue.keepIsValid&&_()},Oe=({disabled:W,name:ue})=>{(er(W)&&l.mount||W||d.disabled.has(ue))&&(W?d.disabled.add(ue):d.disabled.delete(ue))},Ke=(W,ue={})=>{let $=$e(s,W);const Se=er(ue.disabled)||er(t.disabled);return xn(s,W,he(L({},$||{}),{_f:L(he(L({},$&&$._f?$._f:{ref:{name:W}}),{name:W,mount:!0}),ue)})),d.mount.add(W),$?Oe({disabled:er(ue.disabled)?ue.disabled:t.disabled,name:W}):C(W,!0,ue.value),he(L(L({},Se?{disabled:ue.disabled||t.disabled}:{}),t.progressive?{required:!!ue.required,min:pu(ue.min),max:pu(ue.max),minLength:pu(ue.minLength),maxLength:pu(ue.maxLength),pattern:pu(ue.pattern)}:{}),{name:W,onChange:Q,onBlur:Q,ref:De=>{if(De){Ke(W,ue),$=$e(s,W);const Re=zn(De.value)&&De.querySelectorAll&&De.querySelectorAll("input,select,textarea")[0]||De,Be=i8(Re),qe=$._f.refs||[];if(Be?qe.find(Xe=>Xe===Re):Re===$._f.ref)return;xn(s,W,{_f:L(L({},$._f),Be?{refs:[...qe.filter(Wg),Re,...Array.isArray($e(a,W))?[{}]:[]],ref:{type:Re.type,name:W}}:{ref:Re})}),C(W,!1,void 0,Re)}else $=$e(s,W,{}),$._f&&($._f.mount=!1),(t.shouldUnregister||ue.shouldUnregister)&&!(yE(d.array,W)&&l.action)&&d.unMount.add(W)}})},He=()=>t.shouldFocusError&&Au(s,Z,d.mount),wt=W=>{er(W)&&(b.state.next({disabled:W}),Au(s,(ue,$)=>{const Se=$e(s,$);Se&&(ue.disabled=Se._f.disabled||W,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(De=>{De.disabled=Se._f.disabled||W}))},0,!1))},st=(W,ue)=>$=>xe(null,null,function*(){let Se;$&&($.preventDefault&&$.preventDefault(),$.persist&&$.persist());let De=es(o);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:Re,values:Be}=yield V();n.errors=Re,De=es(Be)}else yield H(s);if(d.disabled.size)for(const Re of d.disabled)In(De,Re);if(In(n.errors,"root"),Us(n.errors)){b.state.next({errors:{}});try{yield W(De,$)}catch(Re){Se=Re}}else ue&&(yield ue(L({},n.errors),$)),He(),setTimeout(He);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Us(n.errors)&&!Se,submitCount:n.submitCount+1,errors:n.errors}),Se)throw Se}),bt=(W,ue={})=>{$e(s,W)&&(zn(ue.defaultValue)?z(W,es($e(a,W))):(z(W,ue.defaultValue),xn(a,W,es(ue.defaultValue))),ue.keepTouched||In(n.touchedFields,W),ue.keepDirty||(In(n.dirtyFields,W),n.isDirty=ue.defaultValue?q(W,es($e(a,W))):q()),ue.keepError||(In(n.errors,W),p.isValid&&_()),b.state.next(L({},n)))},Pe=(W,ue={})=>{const $=W?es(W):a,Se=es($),De=Us(W),Re=De?a:Se;if(ue.keepDefaultValues||(a=$),!ue.keepValues){if(ue.keepDirtyValues){const Be=new Set([...d.mount,...Object.keys(mu(a,o))]);for(const qe of Array.from(Be))$e(n.dirtyFields,qe)?xn(Re,qe,$e(o,qe)):z(qe,$e(Re,qe))}else{if(oy&&zn(W))for(const Be of d.mount){const qe=$e(s,Be);if(qe&&qe._f){const Xe=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(Dh(Xe)){const gt=Xe.closest("form");if(gt){gt.reset();break}}}}if(ue.keepFieldsRef)for(const Be of d.mount)z(Be,$e(Re,Be));else s={}}o=t.shouldUnregister?ue.keepDefaultValues?es(a):{}:es(Re),b.array.next({values:L({},Re)}),b.state.next({values:L({},Re)})}d={mount:ue.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!p.isValid||!!ue.keepIsValid||!!ue.keepDirtyValues,l.watch=!!t.shouldUnregister,b.state.next({submitCount:ue.keepSubmitCount?n.submitCount:0,isDirty:De?!1:ue.keepDirty?n.isDirty:!!(ue.keepDefaultValues&&!Ba(W,a)),isSubmitted:ue.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:De?{}:ue.keepDirtyValues?ue.keepDefaultValues&&o?mu(a,o):n.dirtyFields:ue.keepDefaultValues&&W?mu(a,W):ue.keepDirty?n.dirtyFields:{},touchedFields:ue.keepTouched?n.touchedFields:{},errors:ue.keepErrors?n.errors:{},isSubmitSuccessful:ue.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},pt=(W,ue)=>Pe(Br(W)?W(o):W,ue),Vt=(W,ue={})=>{const $=$e(s,W),Se=$&&$._f;if(Se){const De=Se.refs?Se.refs[0]:Se.ref;De.focus&&(De.focus(),ue.shouldSelect&&Br(De.select)&&De.select())}},_t=W=>{n=L(L({},n),W)},Ct={control:{register:Ke,unregister:Te,getFieldState:re,handleSubmit:st,setError:I,_subscribe:je,_runSchema:V,_focusError:He,_getWatch:X,_getDirty:q,_setValid:_,_setFieldArray:S,_setDisabledField:Oe,_setErrors:k,_getFieldArray:ae,_reset:Pe,_resetDefaultValues:()=>Br(t.defaultValues)&&t.defaultValues().then(W=>{pt(W,t.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:ee,_disableForm:wt,_subjects:b,_proxyFormState:p,get _fields(){return s},get _formValues(){return o},get _state(){return l},set _state(W){l=W},get _defaultValues(){return a},get _names(){return d},set _names(W){d=W},get _formState(){return n},get _options(){return t},set _options(W){t=L(L({},t),W)}},subscribe:be,trigger:le,register:Ke,handleSubmit:st,watch:ce,setValue:z,getValues:U,reset:pt,resetField:bt,clearErrors:we,unregister:Te,setError:I,setFocus:Vt,getFieldState:re};return he(L({},Ct),{formControl:Ct})}function Ou(e={}){const t=te.useRef(void 0),n=te.useRef(void 0),[s,a]=te.useState({isDirty:!1,isValidating:!1,isLoading:Br(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Br(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=he(L({},e.formControl),{formState:s}),e.defaultValues&&!Br(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const l=y8(e),{formControl:d}=l,f=Me(l,["formControl"]);t.current=he(L({},f),{formState:s})}const o=t.current.control;return o._options=e,dy(()=>{const d=o._subscribe({formState:o._proxyFormState,callback:()=>a(L({},o._formState)),reRenderRoot:!0});return a(f=>he(L({},f),{isReady:!0})),o._formState.isReady=!0,d},[o]),te.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),te.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),te.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),te.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),te.useEffect(()=>{if(o._proxyFormState.isDirty){const d=o._getDirty();d!==s.isDirty&&o._subjects.state.next({isDirty:d})}},[o,s.isDirty]),te.useEffect(()=>{e.values&&!Ba(e.values,n.current)?(o._reset(e.values,L({keepFieldsRef:!0},o._options.resetOptions)),n.current=e.values,a(d=>L({},d))):o._resetDefaultValues()},[o,e.values]),te.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(L({},o._formState))),o._removeUnmounted()}),t.current.formState=vE(s,o),t.current}const b8=0,v8=1,w8=2;var eS=Object.prototype.hasOwnProperty;function V0(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&V0(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(eS.call(e,n)&&++s&&!eS.call(t,n)||!(n in t)||!V0(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const yo=new WeakMap,Ni=()=>{},vr=Ni(),$0=Object,ra=e=>e===vr,bo=e=>typeof e=="function",rm=(e,t)=>L(L({},e),t),_8=e=>bo(e.then),Xg={},$f={},kE="undefined",my=typeof window!=kE,q0=typeof document!=kE,j8=my&&"Deno"in window,S8=(e,t)=>{const n=yo.get(e);return[()=>!ra(t)&&e.get(t)||Xg,s=>{if(!ra(t)){const a=e.get(t);t in $f||($f[t]=a),n[5](t,rm(a,s),a||Xg)}},n[6],()=>!ra(t)&&t in $f?$f[t]:!ra(t)&&e.get(t)||Xg]};let I0=!0;const N8=()=>I0,[Y0,W0]=my&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ni,Ni],E8=()=>{const e=q0&&document.visibilityState;return ra(e)||e!=="hidden"},T8=e=>(q0&&document.addEventListener("visibilitychange",e),Y0("focus",e),()=>{q0&&document.removeEventListener("visibilitychange",e),W0("focus",e)}),k8=e=>{const t=()=>{I0=!0,e()},n=()=>{I0=!1};return Y0("online",t),Y0("offline",n),()=>{W0("online",t),W0("offline",n)}},C8={isOnline:N8,isVisible:E8},A8={initFocus:T8,initReconnect:k8};te.useId;const CE=!my||j8,Gg=typeof navigator!="undefined"&&navigator.connection,tS=!CE&&Gg&&(["slow-2g","2g"].includes(Gg.effectiveType)||Gg.saveData),qf=new WeakMap,O8=e=>$0.prototype.toString.call(e),Kg=(e,t)=>e===`[object ${t}]`;let R8=0;const X0=e=>{const t=typeof e,n=O8(e),s=Kg(n,"Date"),a=Kg(n,"RegExp"),o=Kg(n,"Object");let l,d;if($0(e)===e&&!s&&!a){if(l=qf.get(e),l)return l;if(l=++R8+"~",qf.set(e,l),Array.isArray(e)){for(l="@",d=0;d<e.length;d++)l+=X0(e[d])+",";qf.set(e,l)}if(o){l="#";const f=$0.keys(e).sort();for(;!ra(d=f.pop());)ra(e[d])||(l+=d+":"+X0(e[d])+",");qf.set(e,l)}}else l=s?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return l},D8=e=>{if(bo(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?X0(e):"",[e,t]};let M8=0;const nS=()=>++M8;function P8(...e){return xe(this,null,function*(){const[t,n,s,a]=e,o=rm({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let l=o.populateCache;const d=o.rollbackOnError;let f=o.optimisticData;const h=b=>typeof d=="function"?d(b):d!==!1,p=o.throwOnError;if(bo(n)){const b=n,y=[],w=t.keys();for(const _ of w)!/^\$(inf|sub)\$/.test(_)&&b(t.get(_)._k)&&y.push(_);return Promise.all(y.map(g))}return g(n);function g(b){return xe(this,null,function*(){const[y]=D8(b);if(!y)return;const[w,_]=S8(t,y),[j,S,O,k]=yo.get(t),C=()=>{const J=j[y];return(bo(o.revalidate)?o.revalidate(w().data,b):o.revalidate!==!1)&&(delete O[y],delete k[y],J&&J[0])?J[0](w8).then(()=>w().data):w().data};if(e.length<3)return C();let A=s,M,V=!1;const D=nS();S[y]=[D,0];const H=!ra(f),ee=w(),q=ee.data,X=ee._c,ae=ra(X)?q:X;if(H&&(f=bo(f)?f(ae,q):f,_({data:f,_c:ae})),bo(A))try{A=A(ae)}catch(J){M=J,V=!0}if(A&&_8(A))if(A=yield A.catch(J=>{M=J,V=!0}),D!==S[y][0]){if(V)throw M;return A}else V&&H&&h(M)&&(l=!0,_({data:ae,_c:vr}));if(l&&!V)if(bo(l)){const J=l(A,ae);_({data:J,error:vr,_c:vr})}else _({data:A,error:vr,_c:vr});if(S[y][1]=nS(),Promise.resolve(C()).then(()=>{_({_c:vr})}),V){if(p)throw M;return}return A})}})}const sS=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},L8=(e,t)=>{if(!yo.has(e)){const n=rm(A8,t),s=Object.create(null),a=P8.bind(vr,e);let o=Ni;const l=Object.create(null),d=(p,g)=>{const b=l[p]||[];return l[p]=b,b.push(g),()=>b.splice(b.indexOf(g),1)},f=(p,g,b)=>{e.set(p,g);const y=l[p];if(y)for(const w of y)w(g,b)},h=()=>{if(!yo.has(e)&&(yo.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,f,d]),!CE)){const p=n.initFocus(setTimeout.bind(vr,sS.bind(vr,s,b8))),g=n.initReconnect(setTimeout.bind(vr,sS.bind(vr,s,v8)));o=()=>{p&&p(),g&&g(),yo.delete(e)}}};return h(),[e,a,h,o]}return[e,yo.get(e)[4]]},z8=(e,t,n,s,a)=>{const o=n.errorRetryCount,l=a.retryCount,d=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;!ra(o)&&l>o||setTimeout(s,d,a)},B8=V0,[U8,py]=L8(new Map);rm({onLoadingSlow:Ni,onSuccess:Ni,onError:Ni,onErrorRetry:z8,onDiscarded:Ni,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:tS?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:tS?5e3:3e3,compare:B8,isPaused:()=>!1,cache:U8,mutate:py,fallback:{}},C8);N.createContext({});const rS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,aS=xN,F8=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return aS(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=t,l=Object.keys(a).map(h=>{const p=n==null?void 0:n[h],g=o==null?void 0:o[h];if(p===null)return null;const b=rS(p)||rS(g);return a[h][b]}),d=n&&Object.entries(n).reduce((h,p)=>{let[g,b]=p;return b===void 0||(h[g]=b),h},{}),f=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((h,p)=>{let w=p,{class:g,className:b}=w,y=Me(w,["class","className"]);return Object.entries(y).every(_=>{let[j,S]=_;return Array.isArray(S)?S.includes(L(L({},o),d)[j]):L(L({},o),d)[j]===S})?[...h,g,b]:h},[]);return aS(e,l,f,n==null?void 0:n.class,n==null?void 0:n.className)},H8=F8("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ge(o){var l=o,{className:e,variant:t,size:n,asChild:s=!1}=l,a=Me(l,["className","variant","size","asChild"]);const d=s?BM:"button";return u.jsx(d,L({"data-slot":"button",className:jn(H8({variant:t,size:n,className:e}))},a))}var iS=1,V8=.9,$8=.8,q8=.17,Qg=.1,Zg=.999,I8=.9999,Y8=.99,W8=/[\\\/_+.#"@\[\(\{&]/,X8=/[\\\/_+.#"@\[\(\{&]/g,G8=/[\s-]/,AE=/[\s-]/g;function G0(e,t,n,s,a,o,l){if(o===t.length)return a===e.length?iS:Y8;var d=`${a},${o}`;if(l[d]!==void 0)return l[d];for(var f=s.charAt(o),h=n.indexOf(f,a),p=0,g,b,y,w;h>=0;)g=G0(e,t,n,s,h+1,o+1,l),g>p&&(h===a?g*=iS:W8.test(e.charAt(h-1))?(g*=$8,y=e.slice(a,h-1).match(X8),y&&a>0&&(g*=Math.pow(Zg,y.length))):G8.test(e.charAt(h-1))?(g*=V8,w=e.slice(a,h-1).match(AE),w&&a>0&&(g*=Math.pow(Zg,w.length))):(g*=q8,a>0&&(g*=Math.pow(Zg,h-a))),e.charAt(h)!==t.charAt(o)&&(g*=I8)),(g<Qg&&n.charAt(h-1)===s.charAt(o+1)||s.charAt(o+1)===s.charAt(o)&&n.charAt(h-1)!==s.charAt(o))&&(b=G0(e,t,n,s,h+1,o+2,l),b*Qg>g&&(g=b*Qg)),g>p&&(p=g),h=n.indexOf(f,h+1);return l[d]=p,p}function oS(e){return e.toLowerCase().replace(AE," ")}function K8(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,G0(e,t,oS(e),oS(t),0,0,{})}var am="Dialog",[OE,lH]=Ex(am),[Q8,Vr]=OE(am),RE=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,d=N.useRef(null),f=N.useRef(null),[h,p]=K2({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:am});return u.jsx(Q8,{scope:t,triggerRef:d,contentRef:f,contentId:ia(),titleId:ia(),descriptionId:ia(),open:h,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(g=>!g),[p]),modal:l,children:n})};RE.displayName=am;var DE="DialogTrigger",ME=N.forwardRef((e,t)=>{const l=e,{__scopeDialog:n}=l,s=Me(l,["__scopeDialog"]),a=Vr(DE,n),o=Hr(t,a.triggerRef);return u.jsx(kn.button,he(L({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":yy(a.open)},s),{ref:o,onClick:rr(e.onClick,a.onOpenToggle)}))});ME.displayName=DE;var gy="DialogPortal",[Z8,PE]=OE(gy,{forceMount:void 0}),LE=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,o=Vr(gy,t);return u.jsx(Z8,{scope:t,forceMount:n,children:N.Children.map(s,l=>u.jsx(Zl,{present:n||o.open,children:u.jsx(Bx,{asChild:!0,container:a,children:l})}))})};LE.displayName=gy;var Lh="DialogOverlay",zE=N.forwardRef((e,t)=>{const n=PE(Lh,e.__scopeDialog),l=e,{forceMount:s=n.forceMount}=l,a=Me(l,["forceMount"]),o=Vr(Lh,e.__scopeDialog);return o.modal?u.jsx(Zl,{present:s||o.open,children:u.jsx(eU,he(L({},a),{ref:t}))}):null});zE.displayName=Lh;var J8=Yh("DialogOverlay.RemoveScroll"),eU=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Me(o,["__scopeDialog"]),a=Vr(Lh,n);return u.jsx(Ux,{as:J8,allowPinchZoom:!0,shards:[a.contentRef],children:u.jsx(kn.div,he(L({"data-state":yy(a.open)},s),{ref:t,style:L({pointerEvents:"auto"},s.style)}))})}),Ro="DialogContent",BE=N.forwardRef((e,t)=>{const n=PE(Ro,e.__scopeDialog),l=e,{forceMount:s=n.forceMount}=l,a=Me(l,["forceMount"]),o=Vr(Ro,e.__scopeDialog);return u.jsx(Zl,{present:s||o.open,children:o.modal?u.jsx(tU,he(L({},a),{ref:t})):u.jsx(nU,he(L({},a),{ref:t}))})});BE.displayName=Ro;var tU=N.forwardRef((e,t)=>{const n=Vr(Ro,e.__scopeDialog),s=N.useRef(null),a=Hr(t,n.contentRef,s);return N.useEffect(()=>{const o=s.current;if(o)return Z2(o)},[]),u.jsx(UE,he(L({},e),{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rr(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:rr(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&o.preventDefault()}),onFocusOutside:rr(e.onFocusOutside,o=>o.preventDefault())}))}),nU=N.forwardRef((e,t)=>{const n=Vr(Ro,e.__scopeDialog),s=N.useRef(!1),a=N.useRef(!1);return u.jsx(UE,he(L({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,d;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),UE=N.forwardRef((e,t)=>{const p=e,{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o}=p,l=Me(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),d=Vr(Ro,n),f=N.useRef(null),h=Hr(t,f);return N2(),u.jsxs(u.Fragment,{children:[u.jsx(kx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:u.jsx(Tx,he(L({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":yy(d.open)},l),{ref:h,onDismiss:()=>d.onOpenChange(!1)}))}),u.jsxs(u.Fragment,{children:[u.jsx(sU,{titleId:d.titleId}),u.jsx(aU,{contentRef:f,descriptionId:d.descriptionId})]})]})}),xy="DialogTitle",FE=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Me(o,["__scopeDialog"]),a=Vr(xy,n);return u.jsx(kn.h2,he(L({id:a.titleId},s),{ref:t}))});FE.displayName=xy;var HE="DialogDescription",VE=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Me(o,["__scopeDialog"]),a=Vr(HE,n);return u.jsx(kn.p,he(L({id:a.descriptionId},s),{ref:t}))});VE.displayName=HE;var $E="DialogClose",qE=N.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,s=Me(o,["__scopeDialog"]),a=Vr($E,n);return u.jsx(kn.button,he(L({type:"button"},s),{ref:t,onClick:rr(e.onClick,()=>a.onOpenChange(!1))}))});qE.displayName=$E;function yy(e){return e?"open":"closed"}var IE="DialogTitleWarning",[cH,YE]=LM(IE,{contentName:Ro,titleName:xy,docsSlug:"dialog"}),sU=({titleId:e})=>{const t=YE(IE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},rU="DialogDescriptionWarning",aU=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${YE(rU).contentName}}.`;return N.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},by=RE,iU=ME,vy=LE,wy=zE,_y=BE,WE=FE,XE=VE,GE=qE,gu='[cmdk-group=""]',Jg='[cmdk-group-items=""]',oU='[cmdk-group-heading=""]',KE='[cmdk-item=""]',lS=`${KE}:not([aria-disabled="true"])`,K0="cmdk-item-select",Dl="data-value",lU=(e,t,n)=>K8(e,t,n),QE=N.createContext(void 0),td=()=>N.useContext(QE),ZE=N.createContext(void 0),jy=()=>N.useContext(ZE),JE=N.createContext(void 0),eT=N.forwardRef((e,t)=>{let n=Ml(()=>{var I,ce;return{search:"",value:(ce=(I=e.value)!=null?I:e.defaultValue)!=null?ce:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=Ml(()=>new Set),a=Ml(()=>new Map),o=Ml(()=>new Map),l=Ml(()=>new Set),d=tT(e),we=e,{label:f,children:h,value:p,onValueChange:g,filter:b,shouldFilter:y,loop:w,disablePointerSelection:_=!1,vimBindings:j=!0}=we,S=Me(we,["label","children","value","onValueChange","filter","shouldFilter","loop","disablePointerSelection","vimBindings"]),O=ia(),k=ia(),C=ia(),A=N.useRef(null),M=bU();Do(()=>{if(p!==void 0){let I=p.trim();n.current.value=I,V.emit()}},[p]),Do(()=>{M(6,ae)},[]);let V=N.useMemo(()=>({subscribe:I=>(l.current.add(I),()=>l.current.delete(I)),snapshot:()=>n.current,setState:(I,ce,je)=>{var be,Te,Oe,Ke;if(!Object.is(n.current[I],ce)){if(n.current[I]=ce,I==="search")X(),ee(),M(1,q);else if(I==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let He=document.getElementById(C);He?He.focus():(be=document.getElementById(O))==null||be.focus()}if(M(7,()=>{var He;n.current.selectedItemId=(He=J())==null?void 0:He.id,V.emit()}),je||M(5,ae),((Te=d.current)==null?void 0:Te.value)!==void 0){let He=ce!=null?ce:"";(Ke=(Oe=d.current).onValueChange)==null||Ke.call(Oe,He);return}}V.emit()}},emit:()=>{l.current.forEach(I=>I())}}),[]),D=N.useMemo(()=>({value:(I,ce,je)=>{var be;ce!==((be=o.current.get(I))==null?void 0:be.value)&&(o.current.set(I,{value:ce,keywords:je}),n.current.filtered.items.set(I,H(ce,je)),M(2,()=>{ee(),V.emit()}))},item:(I,ce)=>(s.current.add(I),ce&&(a.current.has(ce)?a.current.get(ce).add(I):a.current.set(ce,new Set([I]))),M(3,()=>{X(),ee(),n.current.value||q(),V.emit()}),()=>{o.current.delete(I),s.current.delete(I),n.current.filtered.items.delete(I);let je=J();M(4,()=>{X(),(je==null?void 0:je.getAttribute("id"))===I&&q(),V.emit()})}),group:I=>(a.current.has(I)||a.current.set(I,new Set),()=>{o.current.delete(I),a.current.delete(I)}),filter:()=>d.current.shouldFilter,label:f||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:O,inputId:C,labelId:k,listInnerRef:A}),[]);function H(I,ce){var je,be;let Te=(be=(je=d.current)==null?void 0:je.filter)!=null?be:lU;return I?Te(I,n.current.search,ce):0}function ee(){if(!n.current.search||d.current.shouldFilter===!1)return;let I=n.current.filtered.items,ce=[];n.current.filtered.groups.forEach(be=>{let Te=a.current.get(be),Oe=0;Te.forEach(Ke=>{let He=I.get(Ke);Oe=Math.max(He,Oe)}),ce.push([be,Oe])});let je=A.current;Y().sort((be,Te)=>{var Oe,Ke;let He=be.getAttribute("id"),wt=Te.getAttribute("id");return((Oe=I.get(wt))!=null?Oe:0)-((Ke=I.get(He))!=null?Ke:0)}).forEach(be=>{let Te=be.closest(Jg);Te?Te.appendChild(be.parentElement===Te?be:be.closest(`${Jg} > *`)):je.appendChild(be.parentElement===je?be:be.closest(`${Jg} > *`))}),ce.sort((be,Te)=>Te[1]-be[1]).forEach(be=>{var Te;let Oe=(Te=A.current)==null?void 0:Te.querySelector(`${gu}[${Dl}="${encodeURIComponent(be[0])}"]`);Oe==null||Oe.parentElement.appendChild(Oe)})}function q(){let I=Y().find(je=>je.getAttribute("aria-disabled")!=="true"),ce=I==null?void 0:I.getAttribute(Dl);V.setState("value",ce||void 0)}function X(){var I,ce,je,be;if(!n.current.search||d.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let Te=0;for(let Oe of s.current){let Ke=(ce=(I=o.current.get(Oe))==null?void 0:I.value)!=null?ce:"",He=(be=(je=o.current.get(Oe))==null?void 0:je.keywords)!=null?be:[],wt=H(Ke,He);n.current.filtered.items.set(Oe,wt),wt>0&&Te++}for(let[Oe,Ke]of a.current)for(let He of Ke)if(n.current.filtered.items.get(He)>0){n.current.filtered.groups.add(Oe);break}n.current.filtered.count=Te}function ae(){var I,ce,je;let be=J();be&&(((I=be.parentElement)==null?void 0:I.firstChild)===be&&((je=(ce=be.closest(gu))==null?void 0:ce.querySelector(oU))==null||je.scrollIntoView({block:"nearest"})),be.scrollIntoView({block:"nearest"}))}function J(){var I;return(I=A.current)==null?void 0:I.querySelector(`${KE}[aria-selected="true"]`)}function Y(){var I;return Array.from(((I=A.current)==null?void 0:I.querySelectorAll(lS))||[])}function z(I){let ce=Y()[I];ce&&V.setState("value",ce.getAttribute(Dl))}function Q(I){var ce;let je=J(),be=Y(),Te=be.findIndex(Ke=>Ke===je),Oe=be[Te+I];(ce=d.current)!=null&&ce.loop&&(Oe=Te+I<0?be[be.length-1]:Te+I===be.length?be[0]:be[Te+I]),Oe&&V.setState("value",Oe.getAttribute(Dl))}function Z(I){let ce=J(),je=ce==null?void 0:ce.closest(gu),be;for(;je&&!be;)je=I>0?xU(je,gu):yU(je,gu),be=je==null?void 0:je.querySelector(lS);be?V.setState("value",be.getAttribute(Dl)):Q(I)}let le=()=>z(Y().length-1),U=I=>{I.preventDefault(),I.metaKey?le():I.altKey?Z(1):Q(1)},re=I=>{I.preventDefault(),I.metaKey?z(0):I.altKey?Z(-1):Q(-1)};return N.createElement(kn.div,he(L({ref:t,tabIndex:-1},S),{"cmdk-root":"",onKeyDown:I=>{var ce;(ce=S.onKeyDown)==null||ce.call(S,I);let je=I.nativeEvent.isComposing||I.keyCode===229;if(!(I.defaultPrevented||je))switch(I.key){case"n":case"j":{j&&I.ctrlKey&&U(I);break}case"ArrowDown":{U(I);break}case"p":case"k":{j&&I.ctrlKey&&re(I);break}case"ArrowUp":{re(I);break}case"Home":{I.preventDefault(),z(0);break}case"End":{I.preventDefault(),le();break}case"Enter":{I.preventDefault();let be=J();if(be){let Te=new Event(K0);be.dispatchEvent(Te)}}}}}),N.createElement("label",{"cmdk-label":"",htmlFor:D.inputId,id:D.labelId,style:wU},f),im(e,I=>N.createElement(ZE.Provider,{value:V},N.createElement(QE.Provider,{value:D},I))))}),cU=N.forwardRef((e,t)=>{var n,s;let a=ia(),o=N.useRef(null),l=N.useContext(JE),d=td(),f=tT(e),h=(s=(n=f.current)==null?void 0:n.forceMount)!=null?s:l==null?void 0:l.forceMount;Do(()=>{if(!h)return d.item(a,l==null?void 0:l.id)},[h]);let p=nT(a,o,[e.value,e.children,o],e.keywords),g=jy(),b=Di(V=>V.value&&V.value===p.current),y=Di(V=>h||d.filter()===!1?!0:V.search?V.filtered.items.get(a)>0:!0);N.useEffect(()=>{let V=o.current;if(!(!V||e.disabled))return V.addEventListener(K0,w),()=>V.removeEventListener(K0,w)},[y,e.onSelect,e.disabled]);function w(){var V,D;_(),(D=(V=f.current).onSelect)==null||D.call(V,p.current)}function _(){g.setState("value",p.current,!0)}if(!y)return null;let M=e,{disabled:j,value:S,onSelect:O,forceMount:k,keywords:C}=M,A=Me(M,["disabled","value","onSelect","forceMount","keywords"]);return N.createElement(kn.div,he(L({ref:ko(o,t)},A),{id:a,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!b,"data-disabled":!!j,"data-selected":!!b,onPointerMove:j||d.getDisablePointerSelection()?void 0:_,onClick:j?void 0:w}),e.children)}),uU=N.forwardRef((e,t)=>{let y=e,{heading:n,children:s,forceMount:a}=y,o=Me(y,["heading","children","forceMount"]),l=ia(),d=N.useRef(null),f=N.useRef(null),h=ia(),p=td(),g=Di(w=>a||p.filter()===!1?!0:w.search?w.filtered.groups.has(l):!0);Do(()=>p.group(l),[]),nT(l,d,[e.value,e.heading,f]);let b=N.useMemo(()=>({id:l,forceMount:a}),[a]);return N.createElement(kn.div,he(L({ref:ko(d,t)},o),{"cmdk-group":"",role:"presentation",hidden:g?void 0:!0}),n&&N.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),im(e,w=>N.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},N.createElement(JE.Provider,{value:b},w))))}),dU=N.forwardRef((e,t)=>{let l=e,{alwaysRender:n}=l,s=Me(l,["alwaysRender"]),a=N.useRef(null),o=Di(d=>!d.search);return!n&&!o?null:N.createElement(kn.div,he(L({ref:ko(a,t)},s),{"cmdk-separator":"",role:"separator"}))}),fU=N.forwardRef((e,t)=>{let h=e,{onValueChange:n}=h,s=Me(h,["onValueChange"]),a=e.value!=null,o=jy(),l=Di(p=>p.search),d=Di(p=>p.selectedItemId),f=td();return N.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),N.createElement(kn.input,he(L({ref:t},s),{"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":d,id:f.inputId,type:"text",value:a?e.value:l,onChange:p=>{a||o.setState("search",p.target.value),n==null||n(p.target.value)}}))}),hU=N.forwardRef((e,t)=>{let h=e,{children:n,label:s="Suggestions"}=h,a=Me(h,["children","label"]),o=N.useRef(null),l=N.useRef(null),d=Di(p=>p.selectedItemId),f=td();return N.useEffect(()=>{if(l.current&&o.current){let p=l.current,g=o.current,b,y=new ResizeObserver(()=>{b=requestAnimationFrame(()=>{let w=p.offsetHeight;g.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return y.observe(p),()=>{cancelAnimationFrame(b),y.unobserve(p)}}},[]),N.createElement(kn.div,he(L({ref:ko(o,t)},a),{"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":s,id:f.listId}),im(e,p=>N.createElement("div",{ref:ko(l,f.listInnerRef),"cmdk-list-sizer":""},p)))}),mU=N.forwardRef((e,t)=>{let f=e,{open:n,onOpenChange:s,overlayClassName:a,contentClassName:o,container:l}=f,d=Me(f,["open","onOpenChange","overlayClassName","contentClassName","container"]);return N.createElement(by,{open:n,onOpenChange:s},N.createElement(vy,{container:l},N.createElement(wy,{"cmdk-overlay":"",className:a}),N.createElement(_y,{"aria-label":e.label,"cmdk-dialog":"",className:o},N.createElement(eT,L({ref:t},d)))))}),pU=N.forwardRef((e,t)=>Di(n=>n.filtered.count===0)?N.createElement(kn.div,he(L({ref:t},e),{"cmdk-empty":"",role:"presentation"})):null),gU=N.forwardRef((e,t)=>{let l=e,{progress:n,children:s,label:a="Loading..."}=l,o=Me(l,["progress","children","label"]);return N.createElement(kn.div,he(L({ref:t},o),{"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a}),im(e,d=>N.createElement("div",{"aria-hidden":!0},d)))}),sc=Object.assign(eT,{List:hU,Item:cU,Input:fU,Group:uU,Separator:dU,Dialog:mU,Empty:pU,Loading:gU});function xU(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function yU(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function tT(e){let t=N.useRef(e);return Do(()=>{t.current=e}),t}var Do=typeof window=="undefined"?N.useEffect:N.useLayoutEffect;function Ml(e){let t=N.useRef();return t.current===void 0&&(t.current=e()),t}function Di(e){let t=jy(),n=()=>e(t.snapshot());return N.useSyncExternalStore(t.subscribe,n,n)}function nT(e,t,n,s=[]){let a=N.useRef(),o=td();return Do(()=>{var l;let d=(()=>{var h;for(let p of n){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(h=p.current.textContent)==null?void 0:h.trim():a.current}})(),f=s.map(h=>h.trim());o.value(e,d,f),(l=t.current)==null||l.setAttribute(Dl,d),a.current=d}),a}var bU=()=>{let[e,t]=N.useState(),n=Ml(()=>new Map);return Do(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,a)=>{n.current.set(s,a),t({})}};function vU(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function im({asChild:e,children:t},n){return e&&N.isValidElement(t)?N.cloneElement(vU(t),{ref:t.ref},n(t.props.children)):n(t)}var wU={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Es(t){var e=Me(t,[]);return u.jsx(by,L({"data-slot":"dialog"},e))}function _U(t){var e=Me(t,[]);return u.jsx(iU,L({"data-slot":"dialog-trigger"},e))}function jU(t){var e=Me(t,[]);return u.jsx(vy,L({"data-slot":"dialog-portal"},e))}function SU(t){var e=Me(t,[]);return u.jsx(GE,L({"data-slot":"dialog-close"},e))}function NU(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(wy,L({"data-slot":"dialog-overlay",className:jn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function Ts(a){var o=a,{className:e,children:t,showCloseButton:n=!0}=o,s=Me(o,["className","children","showCloseButton"]);return u.jsxs(jU,{"data-slot":"dialog-portal",children:[u.jsx(NU,{}),u.jsxs(_y,he(L({"data-slot":"dialog-content",className:jn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e)},s),{children:[t,n&&u.jsxs(GE,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[u.jsx(MM,{}),u.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}function ks(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx("div",L({"data-slot":"dialog-header",className:jn("flex flex-col gap-2 text-center sm:text-left",e)},t))}function Cs(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx("div",L({"data-slot":"dialog-footer",className:jn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e)},t))}function As(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(WE,L({"data-slot":"dialog-title",className:jn("text-lg leading-none font-semibold",e)},t))}function No(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(XE,L({"data-slot":"dialog-description",className:jn("text-muted-foreground text-sm",e)},t))}function EU(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(sc,L({"data-slot":"command",className:jn("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e)},t))}function TU(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[u.jsx(qh,{className:"size-4 shrink-0 opacity-50"}),u.jsx(sc.Input,L({"data-slot":"command-input",className:jn("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e)},t))]})}function kU(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(sc.List,L({"data-slot":"command-list",className:jn("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e)},t))}function e0(t){var e=Me(t,[]);return u.jsx(sc.Empty,L({"data-slot":"command-empty",className:"py-6 text-center text-sm"},e))}function CU(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(sc.Group,L({"data-slot":"command-group",className:jn("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e)},t))}function AU(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(sc.Item,L({"data-slot":"command-item",className:jn("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e)},t))}function sr({doctype:e,value:t="",onChange:n,placeholder:s="Select option...",className:a="w-[200px]",fields:o=["name"],filters:l=[],displayField:d="name",valueField:f="name",disabled:h=!1,limit:p=20}){const[g,b]=N.useState(!1),[y,w]=N.useState(""),_=N.useMemo(()=>{let V={};if(l.length>0&&l.forEach(H=>{if(Array.isArray(H)&&H.length>=3){const[ee,q,X]=H;q==="="&&(V[ee]=X)}}),y.trim()&&(V[d]=["like",`%${y}%`]),Object.keys(V).length===0&&y.trim())return[[d,"like",`%${y}%`]];const D=[];return Object.entries(V).forEach(([H,ee])=>{Array.isArray(ee)?D.push([H,ee[0],ee[1]]):D.push([H,"=",ee])}),D.length>0?D:void 0},[y,l,d]),{data:j,isLoading:S,error:O}=_n(e,{fields:[...new Set([...o,d,f])],filters:_,limit:p,orderBy:{field:d,order:"asc"}}),k=N.useMemo(()=>!j||!Array.isArray(j)?[]:j.map(V=>({value:V[f],label:V[d]})),[j,d,f]),C=k.find(V=>V.value===t),A=V=>{n(V===t?"":V),b(!1)},M=V=>{w(V)};return u.jsxs(Vx,{open:g,onOpenChange:b,children:[u.jsx($x,{asChild:!0,children:u.jsxs(Ge,{variant:"outline",role:"combobox","aria-expanded":g,className:jn("justify-between",a),disabled:h,children:[(C==null?void 0:C.label)||s,u.jsx(PD,{className:"opacity-50"})]})}),u.jsx(qx,{className:jn("p-0",a),children:u.jsxs(EU,{shouldFilter:!1,children:[u.jsx(TU,{placeholder:`Search ${e.toLowerCase()}...`,className:"h-9",value:y,onValueChange:M}),u.jsxs(kU,{children:[S&&u.jsx(e0,{children:"Loading..."}),O&&u.jsx(e0,{children:"Error loading data."}),!S&&!O&&k.length===0&&u.jsxs(e0,{children:["No ",e.toLowerCase()," found."]}),!S&&!O&&k.length>0&&u.jsx(CU,{children:k.map(V=>u.jsxs(AU,{value:V.value,onSelect:A,children:[V.label,u.jsx(AD,{className:jn("ml-auto",t===V.value?"opacity-100":"opacity-0")})]},V.value))})]})]})})]})}function tn(s){var a=s,{className:e,type:t}=a,n=Me(a,["className","type"]);return u.jsx("input",L({type:t,"data-slot":"input",className:jn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e)},n))}var OU="Label",sT=N.forwardRef((e,t)=>u.jsx(kn.label,he(L({},e),{ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}})));sT.displayName=OU;var RU=sT;function Ve(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(RU,L({"data-slot":"label",className:jn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e)},t))}function DU(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const rT=te.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),nd=()=>{const e=te.useContext(rT);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};DU(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function MU(){const e=navigator.userAgent;return typeof window!="undefined"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function PU(){return Sy(/^Mac/)}function LU(){return Sy(/^iPhone/)}function cS(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function zU(){return Sy(/^iPad/)||PU()&&navigator.maxTouchPoints>1}function aT(){return LU()||zU()}function Sy(e){return typeof window!="undefined"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const BU=24,UU=typeof window!="undefined"?N.useLayoutEffect:N.useEffect;function uS(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const t0=typeof document!="undefined"&&window.visualViewport;function dS(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function iT(e){for(dS(e)&&(e=e.parentElement);e&&!dS(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const FU=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let If=0,n0;function HU(e={}){let{isDisabled:t}=e;UU(()=>{if(!t)return If++,If===1&&aT()&&(n0=VU()),()=>{If--,If===0&&(n0==null||n0())}},[t])}function VU(){let e,t=0,n=g=>{e=iT(g.target),!(e===document.documentElement&&e===document.body)&&(t=g.changedTouches[0].pageY)},s=g=>{if(!e||e===document.documentElement||e===document.body){g.preventDefault();return}let b=g.changedTouches[0].pageY,y=e.scrollTop,w=e.scrollHeight-e.clientHeight;w!==0&&((y<=0&&b>t||y>=w&&b<t)&&g.preventDefault(),t=b)},a=g=>{let b=g.target;Q0(b)&&b!==document.activeElement&&(g.preventDefault(),b.style.transform="translateY(-2000px)",b.focus(),requestAnimationFrame(()=>{b.style.transform=""}))},o=g=>{let b=g.target;Q0(b)&&(b.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{b.style.transform="",t0&&(t0.height<window.innerHeight?requestAnimationFrame(()=>{fS(b)}):t0.addEventListener("resize",()=>fS(b),{once:!0}))}))},l=()=>{window.scrollTo(0,0)},d=window.pageXOffset,f=window.pageYOffset,h=uS($U(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let p=uS(xu(document,"touchstart",n,{passive:!1,capture:!0}),xu(document,"touchmove",s,{passive:!1,capture:!0}),xu(document,"touchend",a,{passive:!1,capture:!0}),xu(document,"focus",o,!0),xu(window,"scroll",l));return()=>{h(),p(),window.scrollTo(d,f)}}function $U(e,t,n){let s=e.style[t];return e.style[t]=n,()=>{e.style[t]=s}}function xu(e,t,n,s){return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}function fS(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=iT(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let s=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const l=n.getBoundingClientRect().bottom+BU;o>l&&(n.scrollTop+=a-s)}e=n.parentElement}}function Q0(e){return e instanceof HTMLInputElement&&!FU.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function qU(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function IU(...e){return t=>e.forEach(n=>qU(n,t))}function oT(...e){return N.useCallback(IU(...e),e)}const lT=new WeakMap;function ts(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([a,o])=>{if(a.startsWith("--")){e.style.setProperty(a,o);return}s[a]=e.style[a],e.style[a]=o}),!n&&lT.set(e,s)}function YU(e,t){if(!e||!(e instanceof HTMLElement))return;let n=lT.get(e);n&&(e.style[t]=n[t])}const Yn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Yf(e,t){if(!e)return null;const n=window.getComputedStyle(e),s=n.transform||n.webkitTransform||n.mozTransform;let a=s.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[Yn(t)?13:12]):(a=s.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[Yn(t)?5:4]):null)}function WU(e){return 8*(Math.log(e+1)-2)}function s0(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function XU(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Tn={DURATION:.5,EASE:[.32,.72,0,1]},cT=.4,GU=.25,KU=100,uT=8,mo=16,Z0=26,r0="vaul-dragging";function dT(e){const t=te.useRef(e);return te.useEffect(()=>{t.current=e}),te.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function QU({defaultProp:e,onChange:t}){const n=te.useState(e),[s]=n,a=te.useRef(s),o=dT(t);return te.useEffect(()=>{a.current!==s&&(o(s),a.current=s)},[s,a,o]),n}function fT({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,a]=QU({defaultProp:t,onChange:n}),o=e!==void 0,l=o?e:s,d=dT(n),f=te.useCallback(h=>{if(o){const g=typeof h=="function"?h(e):h;g!==e&&d(g)}else a(h)},[o,e,a,d]);return[l,f]}function ZU({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:s,overlayRef:a,fadeFromIndex:o,onSnapPointChange:l,direction:d="bottom",container:f,snapToSequentialPoint:h}){const[p,g]=fT({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[b,y]=te.useState(typeof window!="undefined"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);te.useEffect(()=>{function V(){y({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",V),()=>window.removeEventListener("resize",V)},[]);const w=te.useMemo(()=>p===(n==null?void 0:n[n.length-1])||null,[n,p]),_=te.useMemo(()=>{var V;return(V=n==null?void 0:n.findIndex(D=>D===p))!=null?V:null},[n,p]),j=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===p||!n,S=te.useMemo(()=>{const V=f?{width:f.getBoundingClientRect().width,height:f.getBoundingClientRect().height}:typeof window!="undefined"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var D;return(D=n==null?void 0:n.map(H=>{const ee=typeof H=="string";let q=0;if(ee&&(q=parseInt(H,10)),Yn(d)){const ae=ee?q:b?H*V.height:0;return b?d==="bottom"?V.height-ae:-V.height+ae:ae}const X=ee?q:b?H*V.width:0;return b?d==="right"?V.width-X:-V.width+X:X}))!=null?D:[]},[n,b,f]),O=te.useMemo(()=>_!==null?S==null?void 0:S[_]:null,[S,_]),k=te.useCallback(V=>{var D;const H=(D=S==null?void 0:S.findIndex(ee=>ee===V))!=null?D:null;l(H),ts(s.current,{transition:`transform ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,transform:Yn(d)?`translate3d(0, ${V}px, 0)`:`translate3d(${V}px, 0, 0)`}),S&&H!==S.length-1&&o!==void 0&&H!==o&&H<o?ts(a.current,{transition:`opacity ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,opacity:"0"}):ts(a.current,{transition:`opacity ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,opacity:"1"}),g(n==null?void 0:n[Math.max(H,0)])},[s.current,n,S,o,a,g]);te.useEffect(()=>{if(p||e){var V;const D=(V=n==null?void 0:n.findIndex(H=>H===e||H===p))!=null?V:-1;S&&D!==-1&&typeof S[D]=="number"&&k(S[D])}},[p,e,n,S,k]);function C({draggedDistance:V,closeDrawer:D,velocity:H,dismissible:ee}){if(o===void 0)return;const q=d==="bottom"||d==="right"?(O!=null?O:0)-V:(O!=null?O:0)+V,X=_===o-1,ae=_===0,J=V>0;if(X&&ts(a.current,{transition:`opacity ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`}),!h&&H>2&&!J){ee?D():k(S[0]);return}if(!h&&H>2&&J&&S&&n){k(S[n.length-1]);return}const Y=S==null?void 0:S.reduce((Q,Z)=>typeof Q!="number"||typeof Z!="number"?Q:Math.abs(Z-q)<Math.abs(Q-q)?Z:Q),z=Yn(d)?window.innerHeight:window.innerWidth;if(H>cT&&Math.abs(V)<z*.4){const Q=J?1:-1;if(Q>0&&w&&n){k(S[n.length-1]);return}if(ae&&Q<0&&ee&&D(),_===null)return;k(S[_+Q]);return}k(Y)}function A({draggedDistance:V}){if(O===null)return;const D=d==="bottom"||d==="right"?O-V:O+V;(d==="bottom"||d==="right")&&D<S[S.length-1]||(d==="top"||d==="left")&&D>S[S.length-1]||ts(s.current,{transform:Yn(d)?`translate3d(0, ${D}px, 0)`:`translate3d(${D}px, 0, 0)`})}function M(V,D){if(!n||typeof _!="number"||!S||o===void 0)return null;const H=_===o-1;if(_>=o&&D)return 0;if(H&&!D)return 1;if(!j&&!H)return null;const q=H?_+1:_-1,X=H?S[q]-S[q-1]:S[q+1]-S[q],ae=V/Math.abs(X);return H?1-ae:ae}return{isLastSnapPoint:w,activeSnapPoint:p,shouldFade:j,getPercentageDragged:M,setActiveSnapPoint:g,activeSnapPointIndex:_,onRelease:C,onDrag:A,snapPointsOffset:S}}const JU=()=>()=>{};function eF(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:a}=nd(),o=te.useRef(null),l=N.useMemo(()=>document.body.style.backgroundColor,[]);function d(){return(window.innerWidth-Z0)/window.innerWidth}te.useEffect(()=>{if(t&&n){o.current&&clearTimeout(o.current);const f=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!f)return;XU(s&&!a?s0(document.body,{background:"black"}):JU,s0(f,{transformOrigin:Yn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Tn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Tn.EASE.join(",")})`}));const h=s0(f,L({borderRadius:`${uT}px`,overflow:"hidden"},Yn(e)?{transform:`scale(${d()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${d()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}));return()=>{h(),o.current=window.setTimeout(()=>{l?document.body.style.background=l:document.body.style.removeProperty("background")},Tn.DURATION*1e3)}}},[t,n,l])}let yu=null;function tF({isOpen:e,modal:t,nested:n,hasBeenOpened:s,preventScrollRestoration:a,noBodyStyles:o}){const[l,d]=te.useState(()=>typeof window!="undefined"?window.location.href:""),f=te.useRef(0),h=te.useCallback(()=>{if(cS()&&yu===null&&e&&!o){yu={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:g,innerHeight:b}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-f.current}px`,left:`${-g}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const y=b-window.innerHeight;y&&f.current>=b&&(document.body.style.top=`${-(f.current+y)}px`)}),300)}},[e]),p=te.useCallback(()=>{if(cS()&&yu!==null&&!o){const g=-parseInt(document.body.style.top,10),b=-parseInt(document.body.style.left,10);Object.assign(document.body.style,yu),window.requestAnimationFrame(()=>{if(a&&l!==window.location.href){d(window.location.href);return}window.scrollTo(b,g)}),yu=null}},[l]);return te.useEffect(()=>{function g(){f.current=window.scrollY}return g(),window.addEventListener("scroll",g),()=>{window.removeEventListener("scroll",g)}},[]),te.useEffect(()=>{if(t)return()=>{typeof document=="undefined"||document.querySelector("[data-vaul-drawer]")||p()}},[t,p]),te.useEffect(()=>{n||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&h(),t||window.setTimeout(()=>{p()},500)):p())},[e,s,l,t,n,h,p]),{restorePositionSetting:p}}function nF({open:e,onOpenChange:t,children:n,onDrag:s,onRelease:a,snapPoints:o,shouldScaleBackground:l=!1,setBackgroundColorOnScale:d=!0,closeThreshold:f=GU,scrollLockTimeout:h=KU,dismissible:p=!0,handleOnly:g=!1,fadeFromIndex:b=o&&o.length-1,activeSnapPoint:y,setActiveSnapPoint:w,fixed:_,modal:j=!0,onClose:S,nested:O,noBodyStyles:k=!1,direction:C="bottom",defaultOpen:A=!1,disablePreventScroll:M=!0,snapToSequentialPoint:V=!1,preventScrollRestoration:D=!1,repositionInputs:H=!0,onAnimationEnd:ee,container:q,autoFocus:X=!1}){var ae,J;const[Y=!1,z]=fT({defaultProp:A,prop:e,onChange:Ye=>{t==null||t(Ye),!Ye&&!O&&qe(),setTimeout(()=>{ee==null||ee(Ye)},Tn.DURATION*1e3),Ye&&!j&&typeof window!="undefined"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Ye||(document.body.style.pointerEvents="auto")}}),[Q,Z]=te.useState(!1),[le,U]=te.useState(!1),[re,we]=te.useState(!1),I=te.useRef(null),ce=te.useRef(null),je=te.useRef(null),be=te.useRef(null),Te=te.useRef(null),Oe=te.useRef(!1),Ke=te.useRef(null),He=te.useRef(0),wt=te.useRef(!1),st=te.useRef(!A),bt=te.useRef(0),Pe=te.useRef(null),pt=te.useRef(((ae=Pe.current)==null?void 0:ae.getBoundingClientRect().height)||0),Vt=te.useRef(((J=Pe.current)==null?void 0:J.getBoundingClientRect().width)||0),_t=te.useRef(0),$t=te.useCallback(Ye=>{o&&Ye===Se.length-1&&(ce.current=new Date)},[]),{activeSnapPoint:Ct,activeSnapPointIndex:W,setActiveSnapPoint:ue,onRelease:$,snapPointsOffset:Se,onDrag:De,shouldFade:Re,getPercentageDragged:Be}=ZU({snapPoints:o,activeSnapPointProp:y,setActiveSnapPointProp:w,drawerRef:Pe,fadeFromIndex:b,overlayRef:I,onSnapPointChange:$t,direction:C,container:q,snapToSequentialPoint:V});HU({isDisabled:!Y||le||!j||re||!Q||!H||!M});const{restorePositionSetting:qe}=tF({isOpen:Y,modal:j,nested:O!=null?O:!1,hasBeenOpened:Q,preventScrollRestoration:D,noBodyStyles:k});function Xe(){return(window.innerWidth-Z0)/window.innerWidth}function gt(Ye){var Mt,Bt;!p&&!o||Pe.current&&!Pe.current.contains(Ye.target)||(pt.current=((Mt=Pe.current)==null?void 0:Mt.getBoundingClientRect().height)||0,Vt.current=((Bt=Pe.current)==null?void 0:Bt.getBoundingClientRect().width)||0,U(!0),je.current=new Date,aT()&&window.addEventListener("touchend",()=>Oe.current=!1,{once:!0}),Ye.target.setPointerCapture(Ye.pointerId),He.current=Yn(C)?Ye.pageY:Ye.pageX)}function yn(Ye,Mt){var Bt;let jt=Ye;const Jt=(Bt=window.getSelection())==null?void 0:Bt.toString(),We=Pe.current?Yf(Pe.current,C):null,vt=new Date;if(jt.tagName==="SELECT"||jt.hasAttribute("data-vaul-no-drag")||jt.closest("[data-vaul-no-drag]"))return!1;if(C==="right"||C==="left")return!0;if(ce.current&&vt.getTime()-ce.current.getTime()<500)return!1;if(We!==null&&(C==="bottom"?We>0:We<0))return!0;if(Jt&&Jt.length>0)return!1;if(Te.current&&vt.getTime()-Te.current.getTime()<h&&We===0||Mt)return Te.current=vt,!1;for(;jt;){if(jt.scrollHeight>jt.clientHeight){if(jt.scrollTop!==0)return Te.current=new Date,!1;if(jt.getAttribute("role")==="dialog")return!0}jt=jt.parentNode}return!0}function lt(Ye){if(Pe.current&&le){const Mt=C==="bottom"||C==="right"?1:-1,Bt=(He.current-(Yn(C)?Ye.pageY:Ye.pageX))*Mt,jt=Bt>0,Jt=o&&!p&&!jt;if(Jt&&W===0)return;const We=Math.abs(Bt),vt=document.querySelector("[data-vaul-drawer-wrapper]"),qt=C==="bottom"||C==="top"?pt.current:Vt.current;let Wt=We/qt;const K=Be(We,jt);if(K!==null&&(Wt=K),Jt&&Wt>=1||!Oe.current&&!yn(Ye.target,jt))return;if(Pe.current.classList.add(r0),Oe.current=!0,ts(Pe.current,{transition:"none"}),ts(I.current,{transition:"none"}),o&&De({draggedDistance:Bt}),jt&&!o){const fe=WU(Bt),_e=Math.min(fe*-1,0)*Mt;ts(Pe.current,{transform:Yn(C)?`translate3d(0, ${_e}px, 0)`:`translate3d(${_e}px, 0, 0)`});return}const se=1-Wt;if((Re||b&&W===b-1)&&(s==null||s(Ye,Wt),ts(I.current,{opacity:`${se}`,transition:"none"},!0)),vt&&I.current&&l){const fe=Math.min(Xe()+Wt*(1-Xe()),1),_e=8-Wt*8,Ae=Math.max(0,14-Wt*14);ts(vt,{borderRadius:`${_e}px`,transform:Yn(C)?`scale(${fe}) translate3d(0, ${Ae}px, 0)`:`scale(${fe}) translate3d(${Ae}px, 0, 0)`,transition:"none"},!0)}if(!o){const fe=We*Mt;ts(Pe.current,{transform:Yn(C)?`translate3d(0, ${fe}px, 0)`:`translate3d(${fe}px, 0, 0)`})}}}te.useEffect(()=>{window.requestAnimationFrame(()=>{st.current=!0})},[]),te.useEffect(()=>{var Ye;function Mt(){if(!Pe.current||!H)return;const Bt=document.activeElement;if(Q0(Bt)||wt.current){var jt;const Jt=((jt=window.visualViewport)==null?void 0:jt.height)||0,We=window.innerHeight;let vt=We-Jt;const qt=Pe.current.getBoundingClientRect().height||0,Wt=qt>We*.8;_t.current||(_t.current=qt);const K=Pe.current.getBoundingClientRect().top;if(Math.abs(bt.current-vt)>60&&(wt.current=!wt.current),o&&o.length>0&&Se&&W){const se=Se[W]||0;vt+=se}if(bt.current=vt,qt>Jt||wt.current){const se=Pe.current.getBoundingClientRect().height;let fe=se;se>Jt&&(fe=Jt-(Wt?K:Z0)),_?Pe.current.style.height=`${se-Math.max(vt,0)}px`:Pe.current.style.height=`${Math.max(fe,Jt-K)}px`}else MU()||(Pe.current.style.height=`${_t.current}px`);o&&o.length>0&&!wt.current?Pe.current.style.bottom="0px":Pe.current.style.bottom=`${Math.max(vt,0)}px`}}return(Ye=window.visualViewport)==null||Ye.addEventListener("resize",Mt),()=>{var Bt;return(Bt=window.visualViewport)==null?void 0:Bt.removeEventListener("resize",Mt)}},[W,o,Se]);function ke(Ye){Dt(),S==null||S(),Ye||z(!1),setTimeout(()=>{o&&ue(o[0])},Tn.DURATION*1e3)}function Ue(){if(!Pe.current)return;const Ye=document.querySelector("[data-vaul-drawer-wrapper]"),Mt=Yf(Pe.current,C);ts(Pe.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`}),ts(I.current,{transition:`opacity ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,opacity:"1"}),l&&Mt&&Mt>0&&Y&&ts(Ye,he(L({borderRadius:`${uT}px`,overflow:"hidden"},Yn(C)?{transform:`scale(${Xe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Xe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"}),{transitionProperty:"transform, border-radius",transitionDuration:`${Tn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Tn.EASE.join(",")})`}),!0)}function Dt(){!le||!Pe.current||(Pe.current.classList.remove(r0),Oe.current=!1,U(!1),be.current=new Date)}function Sn(Ye){if(!le||!Pe.current)return;Pe.current.classList.remove(r0),Oe.current=!1,U(!1),be.current=new Date;const Mt=Yf(Pe.current,C);if(!Ye||!yn(Ye.target,!1)||!Mt||Number.isNaN(Mt)||je.current===null)return;const Bt=be.current.getTime()-je.current.getTime(),jt=He.current-(Yn(C)?Ye.pageY:Ye.pageX),Jt=Math.abs(jt)/Bt;if(Jt>.05&&(we(!0),setTimeout(()=>{we(!1)},200)),o){$({draggedDistance:jt*(C==="bottom"||C==="right"?1:-1),closeDrawer:ke,velocity:Jt,dismissible:p}),a==null||a(Ye,!0);return}if(C==="bottom"||C==="right"?jt>0:jt<0){Ue(),a==null||a(Ye,!0);return}if(Jt>cT){ke(),a==null||a(Ye,!1);return}var We;const vt=Math.min((We=Pe.current.getBoundingClientRect().height)!=null?We:0,window.innerHeight);var qt;const Wt=Math.min((qt=Pe.current.getBoundingClientRect().width)!=null?qt:0,window.innerWidth),K=C==="left"||C==="right";if(Math.abs(Mt)>=(K?Wt:vt)*f){ke(),a==null||a(Ye,!1);return}a==null||a(Ye,!0),Ue()}te.useEffect(()=>(Y&&(ts(document.documentElement,{scrollBehavior:"auto"}),ce.current=new Date),()=>{YU(document.documentElement,"scrollBehavior")}),[Y]);function rs(Ye){const Mt=Ye?(window.innerWidth-mo)/window.innerWidth:1,Bt=Ye?-mo:0;Ke.current&&window.clearTimeout(Ke.current),ts(Pe.current,{transition:`transform ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,transform:Yn(C)?`scale(${Mt}) translate3d(0, ${Bt}px, 0)`:`scale(${Mt}) translate3d(${Bt}px, 0, 0)`}),!Ye&&Pe.current&&(Ke.current=setTimeout(()=>{const jt=Yf(Pe.current,C);ts(Pe.current,{transition:"none",transform:Yn(C)?`translate3d(0, ${jt}px, 0)`:`translate3d(${jt}px, 0, 0)`})},500))}function Hn(Ye,Mt){if(Mt<0)return;const Bt=(window.innerWidth-mo)/window.innerWidth,jt=Bt+Mt*(1-Bt),Jt=-mo+Mt*mo;ts(Pe.current,{transform:Yn(C)?`scale(${jt}) translate3d(0, ${Jt}px, 0)`:`scale(${jt}) translate3d(${Jt}px, 0, 0)`,transition:"none"})}function us(Ye,Mt){const Bt=Yn(C)?window.innerHeight:window.innerWidth,jt=Mt?(Bt-mo)/Bt:1,Jt=Mt?-mo:0;Mt&&ts(Pe.current,{transition:`transform ${Tn.DURATION}s cubic-bezier(${Tn.EASE.join(",")})`,transform:Yn(C)?`scale(${jt}) translate3d(0, ${Jt}px, 0)`:`scale(${jt}) translate3d(${Jt}px, 0, 0)`})}return te.useEffect(()=>{j||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[j]),te.createElement(by,{defaultOpen:A,onOpenChange:Ye=>{!p&&!Ye||(Ye?Z(!0):ke(!0),z(Ye))},open:Y},te.createElement(rT.Provider,{value:{activeSnapPoint:Ct,snapPoints:o,setActiveSnapPoint:ue,drawerRef:Pe,overlayRef:I,onOpenChange:t,onPress:gt,onRelease:Sn,onDrag:lt,dismissible:p,shouldAnimate:st,handleOnly:g,isOpen:Y,isDragging:le,shouldFade:Re,closeDrawer:ke,onNestedDrag:Hn,onNestedOpenChange:rs,onNestedRelease:us,keyboardIsOpen:wt,modal:j,snapPointsOffset:Se,activeSnapPointIndex:W,direction:C,shouldScaleBackground:l,setBackgroundColorOnScale:d,noBodyStyles:k,container:q,autoFocus:X}},n))}const hT=te.forwardRef(function(n,t){var e=Me(n,[]);const{overlayRef:s,snapPoints:a,onRelease:o,shouldFade:l,isOpen:d,modal:f,shouldAnimate:h}=nd(),p=oT(t,s),g=a&&a.length>0;if(!f)return null;const b=te.useCallback(y=>o(y),[o]);return te.createElement(wy,L({onMouseUp:b,ref:p,"data-vaul-overlay":"","data-vaul-snap-points":d&&g?"true":"false","data-vaul-snap-points-overlay":d&&l?"true":"false","data-vaul-animate":h!=null&&h.current?"true":"false"},e))});hT.displayName="Drawer.Overlay";const mT=te.forwardRef(function(o,a){var l=o,{onPointerDownOutside:e,style:t,onOpenAutoFocus:n}=l,s=Me(l,["onPointerDownOutside","style","onOpenAutoFocus"]);const{drawerRef:d,onPress:f,onRelease:h,onDrag:p,keyboardIsOpen:g,snapPointsOffset:b,activeSnapPointIndex:y,modal:w,isOpen:_,direction:j,snapPoints:S,container:O,handleOnly:k,shouldAnimate:C,autoFocus:A}=nd(),[M,V]=te.useState(!1),D=oT(a,d),H=te.useRef(null),ee=te.useRef(null),q=te.useRef(!1),X=S&&S.length>0;eF();const ae=(Y,z,Q=0)=>{if(q.current)return!0;const Z=Math.abs(Y.y),le=Math.abs(Y.x),U=le>Z,re=["bottom","right"].includes(z)?1:-1;if(z==="left"||z==="right"){if(!(Y.x*re<0)&&le>=0&&le<=Q)return U}else if(!(Y.y*re<0)&&Z>=0&&Z<=Q)return!U;return q.current=!0,!0};te.useEffect(()=>{X&&window.requestAnimationFrame(()=>{V(!0)})},[]);function J(Y){H.current=null,q.current=!1,h(Y)}return te.createElement(_y,he(L({"data-vaul-drawer-direction":j,"data-vaul-drawer":"","data-vaul-delayed-snap-points":M?"true":"false","data-vaul-snap-points":_&&X?"true":"false","data-vaul-custom-container":O?"true":"false","data-vaul-animate":C!=null&&C.current?"true":"false"},s),{ref:D,style:b&&b.length>0?L({"--snap-point-height":`${b[y!=null?y:0]}px`},t):t,onPointerDown:Y=>{k||(s.onPointerDown==null||s.onPointerDown.call(s,Y),H.current={x:Y.pageX,y:Y.pageY},f(Y))},onOpenAutoFocus:Y=>{n==null||n(Y),A||Y.preventDefault()},onPointerDownOutside:Y=>{if(e==null||e(Y),!w||Y.defaultPrevented){Y.preventDefault();return}g.current&&(g.current=!1)},onFocusOutside:Y=>{if(!w){Y.preventDefault();return}},onPointerMove:Y=>{if(ee.current=Y,k||(s.onPointerMove==null||s.onPointerMove.call(s,Y),!H.current))return;const z=Y.pageY-H.current.y,Q=Y.pageX-H.current.x,Z=Y.pointerType==="touch"?10:2;ae({x:Q,y:z},j,Z)?p(Y):(Math.abs(Q)>Z||Math.abs(z)>Z)&&(H.current=null)},onPointerUp:Y=>{s.onPointerUp==null||s.onPointerUp.call(s,Y),H.current=null,q.current=!1,h(Y)},onPointerOut:Y=>{s.onPointerOut==null||s.onPointerOut.call(s,Y),J(ee.current)},onContextMenu:Y=>{s.onContextMenu==null||s.onContextMenu.call(s,Y),ee.current&&J(ee.current)}}))});mT.displayName="Drawer.Content";const sF=250,rF=120,aF=te.forwardRef(function(a,s){var o=a,{preventCycle:e=!1,children:t}=o,n=Me(o,["preventCycle","children"]);const{closeDrawer:l,isDragging:d,snapPoints:f,activeSnapPoint:h,setActiveSnapPoint:p,dismissible:g,handleOnly:b,isOpen:y,onPress:w,onDrag:_}=nd(),j=te.useRef(null),S=te.useRef(!1);function O(){if(S.current){A();return}window.setTimeout(()=>{k()},rF)}function k(){if(d||e||S.current){A();return}if(A(),!f||f.length===0){g||l();return}if(h===f[f.length-1]&&g){l();return}const V=f.findIndex(H=>H===h);if(V===-1)return;const D=f[V+1];p(D)}function C(){j.current=window.setTimeout(()=>{S.current=!0},sF)}function A(){j.current&&window.clearTimeout(j.current),S.current=!1}return te.createElement("div",L({onClick:O,onPointerCancel:A,onPointerDown:M=>{b&&w(M),C()},onPointerMove:M=>{b&&_(M)},ref:s,"data-vaul-drawer-visible":y?"true":"false","data-vaul-handle":"","aria-hidden":"true"},n),te.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});aF.displayName="Drawer.Handle";function iF(e){const t=nd(),a=e,{container:n=t.container}=a,s=Me(a,["container"]);return te.createElement(vy,L({container:n},s))}const rc={Root:nF,Content:mT,Overlay:hT,Portal:iF,Title:WE,Description:XE};function oF(t){var e=Me(t,[]);return u.jsx(rc.Root,L({"data-slot":"drawer"},e))}function lF(t){var e=Me(t,[]);return u.jsx(rc.Portal,L({"data-slot":"drawer-portal"},e))}function cF(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(rc.Overlay,L({"data-slot":"drawer-overlay",className:jn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function uF(s){var a=s,{className:e,children:t}=a,n=Me(a,["className","children"]);return u.jsxs(lF,{"data-slot":"drawer-portal",children:[u.jsx(cF,{}),u.jsxs(rc.Content,he(L({"data-slot":"drawer-content",className:jn("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-2/3 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e)},n),{children:[u.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]}))]})}function dF(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx("div",L({"data-slot":"drawer-header",className:jn("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",e)},t))}function fF(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx("div",L({"data-slot":"drawer-footer",className:jn("mt-auto flex flex-col gap-2 p-4",e)},t))}function hF(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(rc.Title,L({"data-slot":"drawer-title",className:jn("text-foreground font-semibold",e)},t))}function mF(n){var s=n,{className:e}=s,t=Me(s,["className"]);return u.jsx(rc.Description,L({"data-slot":"drawer-description",className:jn("text-muted-foreground text-sm",e)},t))}const ac=e=>{const{data:t,isLoading:n,error:s}=Bn("Project",e,{fields:["name","users"]}),{data:a,isLoading:o}=Bn("Project",(t==null?void 0:t.name)||"",t!=null&&t.name?"Project":void 0);return{data:(a==null?void 0:a.users)||(t==null?void 0:t.users)||[],isLoading:n||o,error:s}};class pT{static useUpdatePhase(){const{updateDoc:t,loading:n,error:s}=$s();return{updatePhase:(o,l)=>xe(null,null,function*(){return t("project_phase",o,l)}),isLoading:n,error:s}}static usePhaseAssignment(){const{createDoc:t}=Mo(),{deleteDoc:n}=Uh(),{data:s}=Bn("User","",{shouldFetch:!0});return{assignPhase:(l,d)=>xe(null,null,function*(){return t("ToDo",{allocated_to:d,assigned_by:(s==null?void 0:s.name)||"",reference_type:"project_phase",reference_name:l,description:`Assigned to phase: ${l}`,status:"Open"})}),unassignPhase:l=>xe(null,null,function*(){return n("ToDo",l)})}}}const pF=pT.useUpdatePhase,gT=pT.usePhaseAssignment,gF=({isOpen:e,onClose:t,projectName:n,onSuccess:s})=>{const[a,o]=N.useState({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),{createDoc:l,loading:d,error:f}=Mo(),{assignPhase:h}=gT(),{data:p,isLoading:g}=ac(n),b=(_,j)=>{o(S=>he(L({},S),{[_]:j}))},y=_=>xe(null,null,function*(){if(_.preventDefault(),!!a.subject.trim())try{const j=a,{assign_to:S}=j,O=Me(j,["assign_to"]),k=yield l("project_phase",{project:n,subject:O.subject,start_date:O.start_date||null,end_date:O.end_date||null,priority:O.priority,details:O.details||null,costing:O.costing||0,status:"Open",progress:0});S&&k&&(yield h(k.name,S)),o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),s&&s(),t()}catch(S){console.error("Failed to create project phase:",S)}}),w=()=>{o({subject:"",start_date:"",end_date:"",priority:"Medium",details:"",costing:0,assign_to:""}),t()};return u.jsx(Es,{open:e,onOpenChange:w,children:u.jsxs(Ts,{className:"sm:max-w-[500px]",children:[u.jsxs(ks,{children:[u.jsx(As,{children:"Create New Project Phase"}),u.jsxs(No,{children:['Add a new phase to organize tasks and milestones for "',n,'".']})]}),u.jsxs("form",{onSubmit:y,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"subject",children:"Phase Name *"}),u.jsx(tn,{id:"subject",value:a.subject,onChange:_=>b("subject",_.target.value),placeholder:"e.g., Planning, Development, Testing",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"priority",children:"Priority"}),u.jsxs("select",{id:"priority",value:a.priority,onChange:_=>b("priority",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"}),u.jsx("option",{value:"Critical",children:"Critical"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"start_date",children:"Start Date"}),u.jsxs("div",{className:"relative",children:[u.jsx(tn,{id:"start_date",type:"date",value:a.start_date,onChange:_=>b("start_date",_.target.value)}),u.jsx(wr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"end_date",children:"End Date"}),u.jsxs("div",{className:"relative",children:[u.jsx(tn,{id:"end_date",type:"date",value:a.end_date,onChange:_=>b("end_date",_.target.value),min:a.start_date||void 0}),u.jsx(wr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"costing",children:"Estimated Cost"}),u.jsx(tn,{id:"costing",type:"number",value:a.costing,onChange:_=>b("costing",parseFloat(_.target.value)||0),placeholder:"0",min:"0",step:"0.01"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"assign_to",children:"Assign To"}),u.jsxs("select",{id:"assign_to",value:a.assign_to,onChange:_=>b("assign_to",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:g,children:[u.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(_=>u.jsx("option",{value:_.user||_.name,children:_.user||_.name},_.name))]}),g&&u.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"details",children:"Description"}),u.jsx("textarea",{id:"details",value:a.details,onChange:_=>b("details",_.target.value),placeholder:"Phase description, objectives, and key deliverables...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]}),f&&u.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:u.jsx("p",{className:"text-sm text-red-600",children:f.message||"Failed to create project phase. Please try again."})}),u.jsxs(Cs,{children:[u.jsx(Ge,{type:"button",variant:"outline",onClick:w,disabled:d,children:"Cancel"}),u.jsxs(Ge,{type:"submit",disabled:d||!a.subject.trim(),className:"flex items-center gap-2",children:[d&&u.jsx(j0,{className:"h-4 w-4 animate-spin"}),"Create Phase"]})]})]})]})})},xF=({projectName:e,onViewPhaseDetails:t,onViewTaskDetails:n,onViewSubTaskDetails:s})=>{const[a,o]=N.useState(new Set),[l,d]=N.useState(new Set),[f,h]=N.useState(!1),[p,g]=N.useState([]),{data:b,isLoading:y,mutate:w}=_n("project_phase",{fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e]],orderBy:{field:"start_date",order:"asc"}});N.useEffect(()=>{b&&b.length>0?xe(null,null,function*(){const Y=[];for(const z of b)try{const Q=yield fetch(`/api/resource/project_phase/${z.name}`,{headers:{Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include"});if(Q.ok){const Z=yield Q.json();Y.push(Z.data)}else console.warn("Failed to fetch phase:",z.name),Y.push(z)}catch(Q){console.error("Error fetching phase:",z.name,Q),Y.push(z)}g(Y)}):g([])},[b==null?void 0:b.length,b==null?void 0:b.map(J=>J.name).join(",")]);const{data:_,isLoading:j}=_n("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",e]],orderBy:{field:"exp_start_date",order:"asc"}}),S=(_==null?void 0:_.map(J=>J.name))||[],{data:O,isLoading:k}=_n("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:S.length>0?[["task","in",S]]:[["task","=","dummy-non-existent-task"]],orderBy:{field:"start_date",order:"asc"}}),C=J=>{const Y=new Set(a);Y.has(J)?Y.delete(J):Y.add(J),o(Y)},A=J=>{const Y=new Set(l);Y.has(J)?Y.delete(J):Y.add(J),d(Y)},M=J=>{switch(J){case"Completed":return u.jsx($h,{className:"h-4 w-4 text-green-600"});case"Working":return u.jsx(Eo,{className:"h-4 w-4 text-yellow-600"});default:return u.jsx(HD,{className:"h-4 w-4 text-gray-400"})}},V=J=>{switch(J){case"Completed":return"bg-green-100 text-green-800";case"Working":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},D=J=>{switch(J){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},H=(J,Y,z,Q=!1,Z=!1,le)=>{const U=Y>0?`pl-${Y*6}`:"pl-6";let re="",we="mr-3 text-lg",I="";z==="phase"?I="📋":z==="task"?I="📝":z==="phase-task"?I="📄":z==="subtask"&&(I="📌"),z==="phase"||z==="task"&&Q||z==="phase-task"&&Q?(re=Z?"▼":"▶️",we+=" text-blue-600 cursor-pointer hover:text-blue-800 transition-colors"):z==="phase-task"?(re="•",we+=" text-green-500"):z==="subtask"?(re="◦",we+=" text-gray-400"):z==="task"?(re="●",we+=" text-orange-500"):(re="●",we+=" text-gray-400");const ce=J.subject||J.name,je=J.status||"Open",be=J.progress||0,Te=Oe=>{Oe.preventDefault(),Oe.stopPropagation(),le&&le()};return u.jsx("div",{className:"hover:bg-gray-50 transition-colors",children:u.jsxs("div",{className:`grid grid-cols-12 gap-4 py-3 px-6 border-b border-gray-100 items-center ${U}`,children:[u.jsxs("div",{className:"col-span-6 flex items-center",children:[u.jsx("span",{className:we,onClick:Te,role:le?"button":void 0,tabIndex:le?0:void 0,children:re}),u.jsx("span",{className:"mr-2 text-lg",children:I}),M(je),u.jsxs("div",{className:"ml-3 flex-1",children:[u.jsx("div",{className:`font-medium ${z==="phase"?"text-blue-900 text-lg":z==="task"?"text-orange-900":z==="phase-task"?"text-green-900":"text-gray-700"}`,children:ce}),J.description&&z==="subtask"&&u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:J.description}),J.details&&z==="phase"&&u.jsx("p",{className:"text-sm text-gray-600 mt-1",children:J.details})]})]}),u.jsx("div",{className:"col-span-2 text-center",children:u.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${V(je)}`,children:je})}),u.jsx("div",{className:"col-span-2 text-center",children:J.priority&&u.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${D(J.priority)}`,children:J.priority})}),u.jsxs("div",{className:"col-span-2 flex items-center justify-center space-x-2",children:[u.jsx("div",{className:`${z==="phase"?"w-20":"w-16"} bg-gray-200 rounded-full h-2`,children:u.jsx("div",{className:`${z==="phase"?"bg-blue-600":z==="task"?"bg-orange-600":z==="phase-task"?"bg-green-600":"bg-purple-600"} h-2 rounded-full transition-all duration-300`,style:{width:`${be}%`}})}),u.jsxs("span",{className:"text-sm text-gray-600 w-8 text-right",children:[be,"%"]}),z==="phase"&&t&&u.jsx(Ge,{variant:"outline",size:"sm",onClick:Oe=>{Oe.preventDefault(),Oe.stopPropagation(),t(J)},className:"ml-2 h-7 px-2 text-xs",children:"View Details"}),(z==="task"||z==="phase-task")&&n&&u.jsx(Ge,{variant:"outline",size:"sm",onClick:Oe=>{Oe.preventDefault(),Oe.stopPropagation(),n(J)},className:"ml-2 h-7 px-2 text-xs",children:"View Details"}),z==="subtask"&&s&&u.jsx(Ge,{variant:"outline",size:"sm",onClick:Oe=>{Oe.preventDefault(),Oe.stopPropagation(),s(J)},className:"ml-2 h-7 px-2 text-xs",children:"View Details"})]})]})},`${z}-${J.name}`)};if(y||j||k)return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),u.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"}),u.jsx("div",{className:"animate-pulse bg-gray-200 h-20 rounded-lg"})]});const ee=p.length>0?p:b||[],q=_||[],X=O||[],ae=J=>X.filter(Y=>Y.task===J);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Tasks & Phases"}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs(Ge,{size:"sm",className:"flex items-center gap-2",onClick:()=>h(!0),children:[u.jsx(To,{className:"h-4 w-4"}),"Add Phase"]})})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[u.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 grid grid-cols-12 gap-4 text-sm font-medium text-gray-700",children:[u.jsx("div",{className:"col-span-6",children:"Task / Phase"}),u.jsx("div",{className:"col-span-2 text-center",children:"Status"}),u.jsx("div",{className:"col-span-2 text-center",children:"Priority"}),u.jsx("div",{className:"col-span-2 text-center",children:"Progress"})]}),u.jsxs("div",{className:"divide-y divide-gray-100",children:[ee.map(J=>{const Y=a.has(J.name),z=J.tasks||[];return u.jsxs("div",{children:[H(J,0,"phase",z.length>0,Y,()=>{C(J.name)}),Y&&z.map((Q,Z)=>{const le=q.find(I=>I.name===Q.task),U=ae(Q.task),re=U.length>0,we=l.has(Q.task);if(!le){const I={name:Q.task,subject:Q.task,status:"Open"};return u.jsxs("div",{children:[H(I,1,"phase-task",re,we,re?()=>{A(Q.task)}:void 0),we&&re&&U.map((ce,je)=>u.jsx("div",{children:H(ce,2,"subtask",!1,!1)},`subtask-${je}`))]},`phase-task-${Z}`)}return u.jsxs("div",{children:[H(le,1,"phase-task",re,we,re?()=>{A(le.name)}:void 0),we&&re&&U.map((I,ce)=>u.jsx("div",{children:H(I,2,"subtask",!1,!1)},`subtask-${ce}`))]},`phase-task-${Z}`)})]},J.name)}),ee.length>0&&q.filter(J=>!ee.some(z=>{var Q;return(Q=z.tasks)==null?void 0:Q.some(Z=>Z.task===J.name)})).length>0&&u.jsx("div",{className:"bg-gray-100 px-6 py-2 border-b border-gray-200",children:u.jsxs("div",{className:"text-sm font-medium text-gray-600 flex items-center",children:[u.jsx("span",{className:"mr-2",children:"📝"}),"Standalone Tasks"]})}),q.filter(J=>!ee.some(z=>{var Q;return(Q=z.tasks)==null?void 0:Q.some(Z=>Z.task===J.name)})).map(J=>{const Y=l.has(J.name),z=ae(J.name),Q=z.length>0;return u.jsxs("div",{children:[H(J,0,"task",Q,Y,Q?()=>{A(J.name)}:void 0),Y&&Q&&z.map((Z,le)=>u.jsx("div",{children:H(Z,1,"subtask",!1,!1)},`standalone-subtask-${le}`))]},J.name)})]})]}),ee.length===0&&q.length===0&&u.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:u.jsxs("div",{className:"max-w-md mx-auto",children:[u.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📋"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No phases or tasks yet"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Start organizing your project by creating phases and tasks."}),u.jsxs("div",{className:"flex gap-3 justify-center",children:[u.jsx(Ge,{children:"Create First Phase"}),u.jsx(Ge,{variant:"outline",children:"Create Task"})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:[u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:ee.length}),u.jsx("div",{className:"text-sm text-blue-600",children:"Total Phases"})]}),u.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600",children:q.length}),u.jsx("div",{className:"text-sm text-green-600",children:"Total Tasks"})]}),u.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-purple-600",children:X.length}),u.jsx("div",{className:"text-sm text-purple-600",children:"Total Subtasks"})]})]}),u.jsx(gF,{isOpen:f,onClose:()=>h(!1),projectName:e,onSuccess:()=>{w()}})]})};class yF{static useCreatePhaseTask(){const{createDoc:t,loading:n}=Mo(),{call:s}=ps("frappe.client.insert"),{call:a}=ps("frappe.client.save"),{data:o}=Bn("User","",{shouldFetch:!0});return{createTaskWithPhase:d=>xe(null,null,function*(){try{const f=yield t("Task",{subject:d.subject,description:d.description,priority:d.priority,status:d.status,type:d.type,expected_time:d.expected_time,task_weight:d.task_weight,exp_start_date:d.exp_start_date||null,exp_end_date:d.exp_end_date||null,project:d.project});console.log("Task created successfully:",f);let h=null;if(d.assign_to&&f)try{h=yield s({doc:{doctype:"ToDo",allocated_to:d.assign_to,assigned_by:(o==null?void 0:o.name)||"",description:`Task: ${d.subject}`,reference_type:"Task",reference_name:f.name,status:"Open",priority:d.priority,date:new Date().toISOString().split("T")[0]}}),console.log("ToDo created successfully:",h)}catch(p){console.error("Error creating ToDo:",p)}if(d.phaseId&&f){const p={parent:d.phaseId,parenttype:"project_phase",parentfield:"tasks",task:f.name,task_name:f.subject,status:f.status,start_date:f.exp_start_date,end_date:f.exp_end_date,description:f.description},g=yield s({doc:L({doctype:"Project Phase Task"},p)});console.log("Project Phase Task created successfully:",g);try{console.log("Saving parent phase document to commit child table changes...");const b=yield a({doc:{doctype:"project_phase",name:d.phaseId}});console.log("Parent phase saved successfully:",b)}catch(b){console.warn("Failed to save parent phase, but child was created:",b)}return{success:!0,task:f,phaseTask:g,todo:h,message:"Task created and linked to phase successfully"}}return{success:!0,task:f,todo:h,message:"Task created successfully"}}catch(f){throw console.error("Error in createTaskWithPhase:",f),f}}),isLoading:n}}static useLinkTaskToPhase(){const{call:t}=ps("frappe.client.insert");return{linkTaskToPhase:(s,a,o)=>xe(null,null,function*(){try{const l={parent:a,parenttype:"Project Phase",parentfield:"tasks",task:s,task_name:(o==null?void 0:o.task_name)||s,status:(o==null?void 0:o.status)||"Open",start_date:o==null?void 0:o.start_date,end_date:o==null?void 0:o.end_date,description:o==null?void 0:o.description};return{success:!0,phaseTask:yield t({doc:L({doctype:"Project Phase Task"},l)}),message:"Task linked to phase successfully"}}catch(l){return console.error("Error linking task to phase:",l),{success:!1,error:l instanceof Error?l.message:"Unknown error",message:"Failed to link task to phase"}}})}}}const bF=yF.useCreatePhaseTask,vF=({isOpen:e,onClose:t,projectName:n,phaseId:s,onSuccess:a})=>{const[o,l]=N.useState({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),[d,f]=N.useState({}),{createTaskWithPhase:h,isLoading:p}=bF(),{data:g,isLoading:b}=ac(n),{data:y}=Bn("Project",n),w=(O,k)=>{l(C=>he(L({},C),{[O]:k})),d[O]&&f(C=>he(L({},C),{[O]:""}))},_=()=>{const O={};return o.subject.trim()||(O.subject="Task subject is required"),f(O),Object.keys(O).length===0},j=O=>xe(null,null,function*(){if(O.preventDefault(),!!_()){if(o.exp_start_date&&o.exp_end_date){const k=new Date(o.exp_start_date);if(new Date(o.exp_end_date)<k){gs.error("End date cannot be earlier than start date");return}}if(o.exp_end_date&&(y!=null&&y.expected_end_date)){const k=new Date(o.exp_end_date),C=new Date(y.expected_end_date);if(k>C){gs.error(`Task end date cannot be after project end date (${y.expected_end_date})`);return}}try{const k=he(L({},o),{project:n,expected_time:Number(o.expected_time),task_weight:Number(o.task_weight),exp_start_date:o.exp_start_date||void 0,exp_end_date:o.exp_end_date||void 0,phaseId:s,assign_to:o.assign_to||void 0});console.log("Creating task with data:",k),console.log("Date fields:",{exp_start_date:o.exp_start_date,exp_end_date:o.exp_end_date});const C=yield h(k);console.log("Task with phase created:",C);let A=`Task "${o.subject}" has been created successfully.`;C.todo&&o.assign_to&&(console.log("Task assigned and ToDo created for:",o.assign_to),A+=` Task has been assigned to ${o.assign_to}.`),gs.success("Task created successfully",{description:A}),l({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),f({}),a&&a(),t()}catch(k){console.error("Error creating task:",k);let C="Failed to create task. Please try again.";k!=null&&k.message&&(k.message.includes("Expected End Date cannot be after Project")?C="Task end date cannot be after the project end date. Please choose an earlier date.":k.message.includes("InvalidDates")?C="Invalid date configuration. Please check your task dates.":C=k.message),k!=null&&k.exception&&typeof k.exception=="string"&&k.exception.includes("Expected End Date cannot be after Project")&&(C="Task end date cannot be after the project end date. Please choose an earlier date."),gs.error("Failed to create task",{description:C}),f({submit:C})}}}),S=()=>{l({subject:"",description:"",priority:"Medium",status:"Open",type:"Task",expected_time:0,task_weight:1,exp_start_date:"",exp_end_date:"",assign_to:""}),f({}),t()};return u.jsx(Es,{open:e,onOpenChange:S,children:u.jsxs(Ts,{className:"sm:max-w-[600px]",children:[u.jsxs(ks,{children:[u.jsxs(As,{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:"📝"}),"Create New Task"]}),u.jsxs(No,{children:["Create a new task for project: ",u.jsx("strong",{children:n}),s&&u.jsxs(u.Fragment,{children:[u.jsx("br",{}),u.jsx("span",{className:"text-blue-600",children:"🔗 This task will be linked to the current phase"})]}),u.jsx("br",{}),u.jsx("span",{className:"text-gray-600",children:"💡 Assigning to a user will automatically create a ToDo item for them"})]})]}),u.jsxs("form",{onSubmit:j,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Ve,{htmlFor:"subject",children:"Task Subject *"}),u.jsx(tn,{id:"subject",value:o.subject,onChange:O=>w("subject",O.target.value),placeholder:"Enter task subject...",className:d.subject?"border-red-500":""}),d.subject&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Ve,{htmlFor:"description",children:"Description"}),u.jsx("textarea",{id:"description",value:o.description,onChange:O=>w("description",O.target.value),placeholder:"Enter task description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Ve,{htmlFor:"priority",children:"Priority"}),u.jsxs("select",{id:"priority",value:o.priority,onChange:O=>w("priority",O.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"}),u.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Ve,{htmlFor:"status",children:"Status"}),u.jsxs("select",{id:"status",value:o.status,onChange:O=>w("status",O.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Working",children:"Working"}),u.jsx("option",{value:"Overdue",children:"Overdue"}),u.jsx("option",{value:"Pending Review",children:"Pending Review"}),u.jsx("option",{value:"Completed",children:"Completed"}),u.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Ve,{htmlFor:"assign_to",children:"Assign To"}),u.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:O=>w("assign_to",O.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",disabled:b,children:[u.jsx("option",{value:"",children:"Select user to assign (Optional)"}),g==null?void 0:g.map(O=>u.jsxs("option",{value:O.user||O.name,children:[O.full_name||O.name,O.email&&` (${O.email})`]},O.user||O.name))]}),b&&u.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!b&&g&&g.length>10&&u.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Ve,{htmlFor:"expected_time",children:"Expected Time (hours)"}),u.jsx(tn,{id:"expected_time",type:"number",min:"0",step:"0.5",value:o.expected_time,onChange:O=>w("expected_time",Number(O.target.value)),placeholder:"0"})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Ve,{htmlFor:"task_weight",children:"Task Weight"}),u.jsx(tn,{id:"task_weight",type:"number",min:"1",value:o.task_weight,onChange:O=>w("task_weight",Number(O.target.value)),placeholder:"1"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"exp_start_date",children:"Expected Start Date"}),u.jsx(tn,{id:"exp_start_date",type:"date",value:o.exp_start_date,onChange:O=>w("exp_start_date",O.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"exp_end_date",children:"Expected End Date"}),u.jsx(tn,{id:"exp_end_date",type:"date",value:o.exp_end_date,onChange:O=>w("exp_end_date",O.target.value),max:(y==null?void 0:y.expected_end_date)||void 0}),(y==null?void 0:y.expected_end_date)&&u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",y.expected_end_date]})]})]})]}),d.submit&&u.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),u.jsxs(Cs,{children:[u.jsx(Ge,{type:"button",variant:"outline",onClick:S,children:"Cancel"}),u.jsx(Ge,{type:"submit",disabled:p,children:p?"Creating...":"Create Task"})]})]})]})})},wF=({phase:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var k;const{updatePhase:o,isLoading:l,error:d}=pF(),{assignPhase:f,unassignPhase:h}=gT(),{data:p,isLoading:g}=ac(t),{data:b}=_n("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","project_phase"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[y,w]=N.useState({subject:"",status:"Open",priority:"Medium",start_date:"",end_date:"",progress:0,details:"",costing:0,assign_to:""}),_=((k=b==null?void 0:b[0])==null?void 0:k.allocated_to)||"";N.useEffect(()=>{e&&w({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:_})},[e,_]);const j=(C,A)=>{w(M=>he(L({},M),{[C]:A}))},S=C=>xe(null,null,function*(){if(C.preventDefault(),!!e)try{const A=y,{assign_to:M}=A,V=Me(A,["assign_to"]);yield o(e.name,V);const D=_,H=M;if(D&&D!==H){const ee=b==null?void 0:b.find(q=>q.allocated_to===D);ee&&(yield h(ee.name))}H&&H!==D&&(yield f(e.name,H)),gs.success("Phase updated successfully",{description:`Phase "${y.subject}" has been updated.`}),a&&a(),s()}catch(M){console.error("Error updating phase:",M),gs.error("Failed to update phase",{description:M instanceof Error?M.message:"An unexpected error occurred."})}}),O=()=>{e&&w({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",progress:e.progress||0,details:e.details||"",costing:e.costing||0,assign_to:_}),s()};return u.jsx(Es,{open:n,onOpenChange:s,children:u.jsxs(Ts,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[u.jsx(ks,{children:u.jsx(As,{children:"Edit Phase"})}),u.jsxs("form",{onSubmit:S,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"subject",children:"Subject *"}),u.jsx(tn,{id:"subject",value:y.subject,onChange:C=>j("subject",C.target.value),required:!0,placeholder:"Enter phase subject"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"status",children:"Status"}),u.jsxs("select",{id:"status",value:y.status,onChange:C=>j("status",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Working",children:"Working"}),u.jsx("option",{value:"Pending Review",children:"Pending Review"}),u.jsx("option",{value:"Completed",children:"Completed"}),u.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"priority",children:"Priority"}),u.jsxs("select",{id:"priority",value:y.priority,onChange:C=>j("priority",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"}),u.jsx("option",{value:"Critical",children:"Critical"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"start_date",children:"Start Date"}),u.jsx(tn,{id:"start_date",type:"date",value:y.start_date,onChange:C=>j("start_date",C.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"end_date",children:"End Date"}),u.jsx(tn,{id:"end_date",type:"date",value:y.end_date,onChange:C=>j("end_date",C.target.value)})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"progress",children:"Progress (%)"}),u.jsx(tn,{id:"progress",type:"number",min:"0",max:"100",value:y.progress,onChange:C=>j("progress",parseInt(C.target.value)||0),placeholder:"0"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"costing",children:"Costing"}),u.jsx(tn,{id:"costing",type:"number",min:"0",step:"0.01",value:y.costing,onChange:C=>j("costing",parseFloat(C.target.value)||0),placeholder:"0.00"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"details",children:"Details"}),u.jsx("textarea",{id:"details",value:y.details,onChange:C=>j("details",C.target.value),placeholder:"Enter phase details",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"assign_to",children:"Assign To"}),u.jsxs("select",{id:"assign_to",value:y.assign_to,onChange:C=>j("assign_to",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:g,children:[u.jsx("option",{value:"",children:"Select user..."}),p==null?void 0:p.map(C=>u.jsx("option",{value:C.user||C.name,children:C.user||C.name},C.name))]}),g&&u.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update phase"]})}),u.jsxs(Cs,{className:"flex gap-2",children:[u.jsx(Ge,{type:"button",variant:"outline",onClick:O,children:"Cancel"}),u.jsx(Ge,{type:"submit",disabled:l,children:l?"Updating...":"Update Phase"})]})]})]})})},_F=({phase:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:o,error:l}=ps("frappe.client.delete"),d=()=>xe(null,null,function*(){if(e)try{yield a({doctype:"project_phase",name:e.name}),s&&s(),n()}catch(h){console.error("Error deleting phase:",h)}}),f=()=>{n()};return u.jsx(Es,{open:t,onOpenChange:n,children:u.jsxs(Ts,{className:"sm:max-w-[400px]",children:[u.jsx(ks,{children:u.jsxs(As,{className:"flex items-center gap-2 text-red-600",children:[u.jsx(Ih,{className:"h-5 w-5"}),"Delete Phase"]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this phase? This action cannot be undone."}),e&&u.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[u.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]})]}),u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[u.jsxs("div",{className:"text-sm text-red-800",children:[u.jsx("strong",{children:"Warning:"})," Deleting this phase will also remove:"]}),u.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[u.jsx("li",{children:"All tasks associated with this phase"}),u.jsx("li",{children:"All phase progress data"}),u.jsx("li",{children:"Phase timeline and milestones"}),u.jsx("li",{children:"Related documents and attachments"})]})]}),l&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete phase"]})})]}),u.jsxs(Cs,{className:"flex gap-2",children:[u.jsx(Ge,{type:"button",variant:"outline",onClick:f,children:"Cancel"}),u.jsx(Ge,{type:"button",variant:"destructive",onClick:d,disabled:o,children:o?"Deleting...":"Delete Phase"})]})]})})};class jF{static usePhaseProgressCalculation(){const{updateDoc:t}=$s();return{calculateAndUpdatePhaseProgress:s=>xe(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",name:s})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message;if(!l||!l.tasks||l.tasks.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no tasks)`),0;const d=l.tasks.map(y=>y.task),f=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["name","in",d]]})});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const p=(yield f.json()).message||[];if(p.length===0)return yield t("project_phase",s,{progress:0}),console.log(`Phase ${s} progress updated to 0% (no valid tasks)`),0;let g=0;p.forEach(y=>{g+=y.progress||0});const b=Math.round(g/p.length);return yield t("project_phase",s,{progress:b}),console.log(`Phase ${s} progress updated to ${b}% (based on ${p.length} tasks)`),b}catch(a){return console.error("Error calculating phase progress:",a),null}})}}static usePhaseStatusProgressUpdate(){const{updateDoc:t}=$s();return{updatePhaseProgressByStatus:(s,a,o)=>xe(null,null,function*(){try{let l=o||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("project_phase",s,{status:a,progress:l}),l}catch(l){return console.error("Error updating phase progress by status:",l),null}})}}static useManualPhaseProgressUpdate(){const{updateDoc:t}=$s();return{updatePhaseProgress:(s,a)=>xe(null,null,function*(){try{let o="";return a===0||a===1?o="Open":a>1&&a<=90?o="Working":a>90&&a<100?o="Pending Review":a===100&&(o="Completed"),yield t("project_phase",s,{progress:a,status:o}),{progress:a,status:o}}catch(o){return console.error("Error updating manual phase progress:",o),null}})}}}const{usePhaseProgressCalculation:xT}=jF,SF=({phase:e,projectName:t,onBack:n,onViewTaskDetails:s,onPhaseUpdated:a,onPhaseDeleted:o,onTaskCreated:l})=>{var Z;const[d,f]=N.useState(!1),[h,p]=N.useState(!1),[g,b]=N.useState(!1),[y,w]=N.useState(!1),[_,j]=N.useState(!1),{calculateAndUpdatePhaseProgress:S}=xT(),{data:O,mutate:k}=Bn("project_phase",e.name,"project_phase"),C=O||e,{data:A,isLoading:M,mutate:V}=_n("Task",{fields:["name","subject","status","priority","project","exp_start_date","exp_end_date","progress"],filters:[["project","=",t]],orderBy:{field:"exp_start_date",order:"asc"}}),D=te.useMemo(()=>{if(!A)return[];if(C.tasks&&C.tasks.length>0){const le=C.tasks.map(U=>U.task);return A.filter(U=>le.includes(U.name))}return[]},[A,C.tasks]),H=te.useMemo(()=>{if(!D||D.length===0)return 0;const le=D.reduce((U,re)=>U+(re.progress||0),0);return Math.round(le/D.length)},[D]);N.useEffect(()=>{D.length>0&&H!==(C.progress||0)&&ee()},[H,D.length]);const ee=()=>xe(null,null,function*(){w(!0);try{yield S(e.name),yield k(),a&&a()}catch(le){console.error("Error recalculating phase progress:",le)}finally{w(!1)}}),q=le=>le?new Date(le).toLocaleDateString():"N/A",X=le=>le?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(le):"$0",ae=le=>{switch(le){case"Completed":return u.jsx($h,{className:"h-5 w-5 text-green-600"});case"Working":return u.jsx(Gl,{className:"h-5 w-5 text-yellow-600"});case"Open":return u.jsx(Eo,{className:"h-5 w-5 text-blue-600"});default:return u.jsx(Eo,{className:"h-5 w-5 text-gray-400"})}},J=le=>{switch(le){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Y=le=>{switch(le){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},z=()=>xe(null,null,function*(){j(!0);try{yield k(),yield V(),a&&(yield a()),setTimeout(()=>xe(null,null,function*(){w(!0);try{yield S(C.name),setTimeout(()=>xe(null,null,function*(){yield k()}),500)}catch(le){console.error("Error recalculating phase progress:",le)}finally{w(!1)}}),500)}finally{j(!1)}}),Q=()=>{o&&o(),n()};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(Ge,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[u.jsx(wx,{className:"h-4 w-4"}),"Back to Tasks"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>p(!0),disabled:_||y,className:"flex items-center gap-2",children:[u.jsx(zl,{className:`h-4 w-4 ${_?"animate-pulse":""}`}),_?"Updating...":"Edit Phase"]}),u.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[u.jsx($l,{className:"h-4 w-4"}),"Delete Phase"]})]})]}),u.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500 flex items-center justify-center",children:u.jsx("span",{className:"text-xl",children:"📋"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:C.subject}),u.jsx("p",{className:"text-sm text-gray-600",children:"Phase Details"})]})]}),C.details&&u.jsx("p",{className:"text-gray-700 leading-relaxed",children:C.details})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${J(C.status||"Open")}`,children:[ae(C.status||"Open"),u.jsx("span",{className:"font-medium",children:C.status||"Open"})]}),C.priority&&u.jsx("div",{className:`px-3 py-1 rounded-full border ${Y(C.priority)}`,children:u.jsx("span",{className:"text-sm font-medium",children:C.priority})})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phase Progress"}),D.length>0&&u.jsxs("span",{className:"text-xs text-gray-500",children:["(Auto-calculated from ",D.length," tasks)"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[H,"%"]}),u.jsx(Ge,{variant:"ghost",size:"sm",onClick:ee,disabled:y,className:"h-8 w-8 p-0",title:"Recalculate progress from tasks",children:u.jsx(Sx,{className:`h-4 w-4 ${y?"animate-spin":""}`})})]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${H}%`}})}),D.length>0&&u.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Task progress: ",D.map(le=>`${le.subject}: ${le.progress||0}%`).join(", ")]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:u.jsx(wr,{className:"h-6 w-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:q(C.start_date)})]})]})}),u.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:u.jsx(Nx,{className:"h-6 w-6 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:q(C.end_date)})]})]})}),u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:u.jsx(_x,{className:"h-6 w-6 text-green-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Estimated Cost"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:X(C.costing)})]})]})})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Phase Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Phase ID"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:C.name})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),u.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${J(C.status||"Open")}`,children:[ae(C.status||"Open"),u.jsx("span",{className:"font-medium",children:C.status||"Open"})]})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),u.jsx("div",{className:`px-3 py-1 rounded-full ${Y(C.priority||"Medium")}`,children:u.jsx("span",{className:"font-medium",children:C.priority||"Medium"})})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Tasks Count"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:((Z=C.tasks)==null?void 0:Z.length)||0})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:C.start_date&&C.end_date?`${Math.ceil((new Date(C.end_date).getTime()-new Date(C.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[H,"%"]}),D.length>0&&u.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",D.length," tasks)"]})]})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Estimated Cost"}),u.jsx("span",{className:"text-xl font-bold text-green-600",children:X(e.costing)})]})]})]})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Tasks in this Phase"})}),M?u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),u.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),u.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):u.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[u.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:u.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[u.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),u.jsx("div",{className:"col-span-4 text-sm font-medium text-gray-700",children:"Task"}),u.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Progress"}),u.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),u.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700 text-center",children:"Priority"}),u.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),u.jsxs("div",{className:"divide-y divide-gray-100",children:[D&&D.length>0?D.map((le,U)=>u.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[u.jsx("div",{className:"col-span-1 flex items-center",children:u.jsx("span",{className:"text-sm text-gray-600",children:U+1})}),u.jsxs("div",{className:"col-span-4 flex items-center gap-3",children:[u.jsx("div",{className:"p-1 bg-orange-100 rounded",children:u.jsx("span",{className:"text-sm",children:"📝"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-gray-900",children:le.subject||le.name}),u.jsx("div",{className:"text-sm text-gray-500",children:le.name})]})]}),u.jsx("div",{className:"col-span-2 flex items-center justify-center",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${le.progress||0}%`}})}),u.jsxs("span",{className:"text-sm font-medium text-gray-700 min-w-[30px]",children:[le.progress||0,"%"]})]})}),u.jsx("div",{className:"col-span-2 flex items-center justify-center",children:u.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${J(le.status||"Open")}`,children:le.status||"Open"})}),u.jsx("div",{className:"col-span-1 flex items-center justify-center",children:le.priority&&u.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Y(le.priority)}`,children:le.priority})}),u.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&u.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>s(le),className:"h-7 px-2 text-xs",children:"View Details"})})]},le.name)):u.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[u.jsx("div",{className:"text-4xl mb-2",children:"📝"}),u.jsx("div",{className:"text-lg font-medium mb-1",children:"No tasks yet"}),u.jsx("div",{className:"text-sm",children:'Click "Add Task" to create the first task for this phase'})]}),u.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:u.jsx("div",{className:"col-span-12 flex items-center justify-center",children:u.jsxs(Ge,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>f(!0),children:[u.jsx(To,{className:"h-4 w-4"}),"Add new task to this phase"]})})})]})]})]}),u.jsx(vF,{isOpen:d,onClose:()=>f(!1),projectName:t,phaseId:e.name,onSuccess:()=>xe(null,null,function*(){yield k(),l&&(yield l()),setTimeout(()=>xe(null,null,function*(){yield V(),setTimeout(()=>xe(null,null,function*(){yield ee()}),500)}),500)})}),u.jsx(wF,{phase:e,projectName:t,isOpen:h,onClose:()=>p(!1),onSuccess:z}),u.jsx(_F,{phase:e,isOpen:g,onClose:()=>b(!1),onSuccess:Q})]})};class NF{static useUpdateSubTask(){const{updateDoc:t,loading:n,error:s}=$s();return{updateSubTask:(o,l)=>xe(null,null,function*(){return yield t("SubTask",o,l)}),isLoading:n,error:s}}static useSubTaskAssignment(){const{createDoc:t}=Mo(),{deleteDoc:n}=Uh(),{data:s}=Bn("User","",{shouldFetch:!0});return{assignSubTask:(l,d)=>xe(null,null,function*(){return yield t("ToDo",{allocated_to:d,assigned_by:(s==null?void 0:s.name)||"",reference_type:"SubTask",reference_name:l,description:`Assignment for SubTask: ${l}`,status:"Open"})}),unassignSubTask:l=>xe(null,null,function*(){return yield n("ToDo",l)})}}}const{useUpdateSubTask:EF,useSubTaskAssignment:yT}=NF;class TF{static useTaskProgressCalculation(){const{updateDoc:t}=$s();return{calculateAndUpdateTaskProgress:s=>xe(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name","status"],filters:[["task","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0)return null;let d=0;l.forEach(h=>{switch(h.status){case"Open":d+=1;break;case"Working":d+=50;break;case"Completed":d+=100;break;default:d+=0}});const f=Math.round(d/l.length);return yield t("Task",s,{progress:f}),console.log(`Task ${s} progress updated to ${f}%`),f}catch(a){return console.error("Error calculating task progress:",a),null}})}}static useTaskStatusProgressUpdate(){const{updateDoc:t}=$s();return{updateTaskProgressByStatus:(s,a,o)=>xe(null,null,function*(){try{let l=o||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("Task",s,{status:a,progress:l}),l}catch(l){return console.error("Error updating task progress by status:",l),null}})}}static useManualProgressUpdate(){const{updateDoc:t}=$s();return{updateTaskProgress:(s,a)=>xe(null,null,function*(){try{let o="";return a===0||a===1?o="Open":a>1&&a<=90?o="Working":a>90&&a<100?o="Pending Review":a===100&&(o="Completed"),yield t("Task",s,{progress:a,status:o}),{progress:a,status:o}}catch(o){return console.error("Error updating manual task progress:",o),null}})}}}const{useTaskProgressCalculation:sd,useTaskStatusProgressUpdate:kF,useManualProgressUpdate:CF}=TF,AF=({isOpen:e,onClose:t,projectName:n,parentTask:s,onSuccess:a})=>{const[o,l]=N.useState({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),[d,f]=N.useState({}),{createDoc:h,loading:p}=Mo(),{assignSubTask:g}=yT(),{calculateAndUpdateTaskProgress:b}=sd(),{data:y,isLoading:w}=ac(n),_=(k,C)=>{l(A=>he(L({},A),{[k]:C})),d[k]&&f(A=>he(L({},A),{[k]:""}))},j=()=>{const k={};return o.subject.trim()||(k.subject="SubTask subject is required"),o.task.trim()||(k.task="Parent task is required"),f(k),Object.keys(k).length===0},S=k=>xe(null,null,function*(){if(k.preventDefault(),!!j())try{const C=o,{assign_to:A}=C,M=Me(C,["assign_to"]),V=yield h("SubTask",he(L({},M),{project:n}));if(A&&V&&(yield g(V.name,A)),s)try{yield b(s)}catch(D){console.error("Error updating task progress after subtask creation:",D)}l({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),f({}),a&&a(),t()}catch(A){console.error("Error creating subtask:",A),f({submit:"Failed to create subtask. Please try again."})}}),O=()=>{l({subject:"",description:"",priority:"Medium",status:"Open",task:s||"",assign_to:""}),f({}),t()};return u.jsx(Es,{open:e,onOpenChange:O,children:u.jsxs(Ts,{className:"sm:max-w-[600px]",children:[u.jsxs(ks,{children:[u.jsxs(As,{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:"📌"}),"Create New SubTask"]}),u.jsxs(No,{children:["Create a new subtask for project: ",u.jsx("strong",{children:n}),s&&u.jsxs("span",{className:"block mt-1",children:["Parent Task: ",u.jsx("strong",{children:s})]})]})]}),u.jsxs("form",{onSubmit:S,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Ve,{htmlFor:"subject",children:"SubTask Subject *"}),u.jsx(tn,{id:"subject",value:o.subject,onChange:k=>_("subject",k.target.value),placeholder:"Enter subtask subject...",className:d.subject?"border-red-500":""}),d.subject&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.subject})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Ve,{htmlFor:"task",children:"Parent Task *"}),u.jsx(tn,{id:"task",value:o.task,onChange:k=>_("task",k.target.value),placeholder:"Enter parent task ID...",className:d.task?"border-red-500":""}),d.task&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.task}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the Task ID that this subtask belongs to"})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Ve,{htmlFor:"description",children:"Description"}),u.jsx("textarea",{id:"description",value:o.description,onChange:k=>_("description",k.target.value),placeholder:"Enter subtask description...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"assign_to",children:"Assign To"}),u.jsxs("select",{id:"assign_to",value:o.assign_to,onChange:k=>_("assign_to",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:w,children:[u.jsx("option",{value:"",children:"Select user..."}),y==null?void 0:y.map(k=>u.jsx("option",{value:k.user||k.name,children:k.user||k.name},k.name))]}),w&&u.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Ve,{htmlFor:"priority",children:"Priority"}),u.jsxs("select",{id:"priority",value:o.priority,onChange:k=>_("priority",k.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"})]})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Ve,{htmlFor:"status",children:"Status"}),u.jsxs("select",{id:"status",value:o.status,onChange:k=>_("status",k.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Working",children:"Working"}),u.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]}),d.submit&&u.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:d.submit}),u.jsxs(Cs,{children:[u.jsx(Ge,{type:"button",variant:"outline",onClick:O,children:"Cancel"}),u.jsx(Ge,{type:"submit",disabled:p,children:p?"Creating...":"Create SubTask"})]})]})]})})};class bT{static useUpdateTask(){const{updateDoc:t,loading:n,error:s}=$s();return{updateTask:(o,l)=>xe(null,null,function*(){const h=l,{assign_to:d}=h,f=Me(h,["assign_to"]);return yield t("Task",o,he(L({},f),{exp_start_date:f.exp_start_date||void 0,exp_end_date:f.exp_end_date||void 0}))}),isLoading:n,error:s}}static useTaskAssignment(){const{createDoc:t}=Mo(),{deleteDoc:n}=Uh(),{data:s}=Bn("User","",{shouldFetch:!0});return{assignTask:(l,d,f,h="Medium")=>xe(null,null,function*(){return yield t("ToDo",{allocated_to:f,assigned_by:(s==null?void 0:s.name)||"",description:`Task: ${d}`,reference_type:"Task",reference_name:l,status:"Open",priority:h,date:new Date().toISOString().split("T")[0]})}),unassignTask:l=>xe(null,null,function*(){return yield n("ToDo",l)})}}}const OF=bT.useUpdateTask,RF=bT.useTaskAssignment,DF=({task:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{const{updateTask:o,isLoading:l,error:d}=OF(),{assignTask:f,unassignTask:h}=RF(),{updateTaskProgress:p}=CF(),{updateTaskProgressByStatus:g}=kF(),{data:b,isLoading:y}=ac(t),{data:w}=Bn("Project",t),{data:_}=_n("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","Task"],["reference_name","=",(e==null?void 0:e.name)||""]]}),{data:j}=_n("SubTask",{fields:["name"],filters:[["task","=",(e==null?void 0:e.name)||""]],limit:1}),[S,O]=N.useState({subject:"",status:"Open",priority:"Medium",exp_start_date:"",exp_end_date:"",progress:0,description:"",assign_to:""}),[k,C]=N.useState(!1);N.useEffect(()=>{var D;if(e){const H=((D=_==null?void 0:_[0])==null?void 0:D.allocated_to)||"";O({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:H})}},[e,_]),N.useEffect(()=>{C(!!(j&&j.length>0))},[j]);const A=(D,H)=>{O(ee=>he(L({},ee),{[D]:H}))},M=D=>xe(null,null,function*(){var H,ee,q;if(D.preventDefault(),!!e){if(S.exp_start_date&&S.exp_end_date){const X=new Date(S.exp_start_date);if(new Date(S.exp_end_date)<X){gs.error("End date cannot be earlier than start date");return}}if(S.exp_end_date&&(w!=null&&w.expected_end_date)){const X=new Date(S.exp_end_date),ae=new Date(w.expected_end_date);if(X>ae){gs.error(`Task end date cannot be after project end date (${w.expected_end_date})`);return}}try{const X=S.progress!==(e.progress||0),ae=S.status!==e.status;k&&X?yield p(e.name,S.progress):ae&&(S.status==="Completed"||S.status==="Cancelled")?yield g(e.name,S.status):yield o(e.name,S);const J=((H=_==null?void 0:_[0])==null?void 0:H.allocated_to)||"",Y=S.assign_to;if(J!==Y){if(J&&(_!=null&&_[0]))try{yield h(_[0].name)}catch(z){console.error("Error deleting old ToDo:",z)}if(Y)try{yield f(e.name,S.subject,Y,S.priority)}catch(z){console.error("Error creating new ToDo:",z)}}gs.success("Task updated successfully",{description:`Task "${S.subject}" has been updated.`}),a&&a(),s()}catch(X){console.error("Error updating task:",X);let ae="Failed to update task";(ee=X==null?void 0:X.message)!=null&&ee.includes("modified")?ae="The task has been modified by someone else. Please close and reopen the task to get the latest version.":(q=X==null?void 0:X.message)!=null&&q.includes("permission")?ae="You do not have permission to update this task.":X!=null&&X.message&&(ae=X.message),gs.error("Failed to update task",{description:ae})}}}),V=()=>{var D;if(e){const H=((D=_==null?void 0:_[0])==null?void 0:D.allocated_to)||"";O({subject:e.subject||"",status:e.status||"Open",priority:e.priority||"Medium",exp_start_date:e.exp_start_date?e.exp_start_date.split(" ")[0]:"",exp_end_date:e.exp_end_date?e.exp_end_date.split(" ")[0]:"",progress:e.progress||0,description:e.description||"",assign_to:H})}s()};return u.jsx(Es,{open:n,onOpenChange:s,children:u.jsxs(Ts,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[u.jsx(ks,{children:u.jsx(As,{children:"Edit Task"})}),u.jsxs("form",{onSubmit:M,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"subject",children:"Subject *"}),u.jsx(tn,{id:"subject",value:S.subject,onChange:D=>A("subject",D.target.value),required:!0,placeholder:"Enter task subject"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"status",children:"Status"}),u.jsxs("select",{id:"status",value:S.status,onChange:D=>A("status",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Working",children:"Working"}),u.jsx("option",{value:"Pending Review",children:"Pending Review"}),u.jsx("option",{value:"Overdue",children:"Overdue"}),u.jsx("option",{value:"Template",children:"Template"}),u.jsx("option",{value:"Completed",children:"Completed"}),u.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"priority",children:"Priority"}),u.jsxs("select",{id:"priority",value:S.priority,onChange:D=>A("priority",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"}),u.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"assign_to",children:"Assign To"}),u.jsxs("select",{id:"assign_to",value:S.assign_to,onChange:D=>A("assign_to",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:y,children:[u.jsx("option",{value:"",children:"Select user to assign (Optional)"}),b==null?void 0:b.map(D=>u.jsxs("option",{value:D.user||D.name,children:[D.full_name||D.name,D.email&&` (${D.email})`]},D.user||D.name))]}),y&&u.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}),!y&&b&&b.length>10&&u.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Showing all system users (project users not available)"}),_&&_.length>0&&u.jsx("p",{className:"text-sm text-blue-600",children:"💡 Changing assignment will update the ToDo automatically"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"exp_start_date",children:"Expected Start Date"}),u.jsx(tn,{id:"exp_start_date",type:"date",value:S.exp_start_date,onChange:D=>A("exp_start_date",D.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"exp_end_date",children:"Expected End Date"}),u.jsx(tn,{id:"exp_end_date",type:"date",value:S.exp_end_date,onChange:D=>A("exp_end_date",D.target.value),max:(w==null?void 0:w.expected_end_date)||void 0}),(w==null?void 0:w.expected_end_date)&&u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Must be before project end date: ",w.expected_end_date]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"progress",children:"Progress (%)"}),u.jsx(tn,{id:"progress",type:"number",min:"0",max:"100",value:S.progress,onChange:D=>A("progress",parseInt(D.target.value)||0),placeholder:"0",disabled:k}),k?u.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[u.jsx("strong",{children:"🔄 Smart Progress Mode:"}),u.jsxs("ul",{className:"mt-1 ml-4 list-disc text-xs",children:[u.jsx("li",{children:"Progress is automatically calculated from subtasks"}),u.jsx("li",{children:"Only assignee can manually override progress"}),u.jsx("li",{children:"Project leaders can set progress via status changes"})]})]}):u.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[u.jsx("strong",{children:"✏️ Manual Progress Mode:"}),u.jsx("span",{className:"text-xs",children:" Progress can be updated manually by anyone with edit permission"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"description",children:"Description"}),u.jsx("textarea",{id:"description",value:S.description,onChange:D=>A("description",D.target.value),placeholder:"Enter task description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),d&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update task"]})}),u.jsxs(Cs,{className:"flex gap-2",children:[u.jsx(Ge,{type:"button",variant:"outline",onClick:V,children:"Cancel"}),u.jsx(Ge,{type:"submit",disabled:l,children:l?"Updating...":"Update Task"})]})]})]})})},MF=({task:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteDoc:a,loading:o,error:l}=Uh(),[d,f]=N.useState(!1),h=()=>xe(null,null,function*(){var g,b;if(e){f(!0);try{const y=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"SubTask",fields:["name"],filters:[["task","=",e.name]]})});if(y.ok){const _=(yield y.json()).message||[];if(_.length>0)for(const j of _)yield a("SubTask",j.name)}try{const w=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","subject","status","priority","start_date","end_date","progress","details","costing"],filters:[["project","=",e.project]],orderBy:{field:"start_date",order:"asc"}})});if(w.ok){const j=(yield w.json()).message||[],S=[];for(const O of j)try{const k=yield fetch(`/api/resource/project_phase/${O.name}`,{headers:{Accept:"application/json"}});if(k.ok){const C=yield k.json(),A=((g=C.data)==null?void 0:g.tasks)||[],M=A.findIndex(V=>V.task===e.name);M>=0&&(console.log(`Found task ${e.name} in phase ${O.name}, will remove from child table...`),A.splice(M,1),S.push({name:O.name,data:he(L({},C.data),{tasks:A})}))}else console.warn("Failed to fetch phase:",O.name)}catch(k){console.error("Error fetching phase:",O.name,k)}for(const O of S)try{(yield fetch(`/api/resource/project_phase/${O.name}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(O.data)})).ok?console.log(`Successfully removed task ${e.name} from phase ${O.name}`):console.warn(`Failed to update phase ${O.name} after removing task`)}catch(k){console.error(`Error updating phase ${O.name}:`,k)}}else console.warn("Failed to fetch phases list, proceeding with task deletion...")}catch(w){console.warn("Error checking phases for task references:",w)}yield a("Task",e.name),console.log(`Successfully deleted task ${e.name}`),s&&s(),n()}catch(y){console.error("Error deleting task:",y),(b=y==null?void 0:y.exception)!=null&&b.includes("LinkExistsError")?y.exception.includes("project_phase")||y.exception.includes("phase")?alert("Cannot delete task because it is still linked with project phases. The system tried to remove phase task links automatically but failed. Please contact administrator."):y.exception.includes("SubTask")?alert("Cannot delete task because it has linked subtasks. Please delete all subtasks first."):alert("Cannot delete task because it has linked dependencies. Please check related records."):alert("Error deleting task. Please try again.")}finally{f(!1)}}}),p=()=>{n()};return u.jsx(Es,{open:t,onOpenChange:n,children:u.jsxs(Ts,{className:"sm:max-w-[400px]",children:[u.jsx(ks,{children:u.jsxs(As,{className:"flex items-center gap-2 text-red-600",children:[u.jsx(Ih,{className:"h-5 w-5"}),"Delete Task"]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this task? This action cannot be undone."}),e&&u.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[u.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Priority: ",e.priority||"Medium"]}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),e.project&&u.jsxs("div",{className:"text-sm text-blue-600",children:["Project: ",e.project]})]}),u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[u.jsxs("div",{className:"text-sm text-red-800",children:[u.jsx("strong",{children:"⚠️ Warning:"})," Deleting this task will automatically:"]}),u.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Delete ALL subtasks first"})," (to resolve SubTask dependencies)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Remove task from ALL phase child tables"})," (for any phases this task is assigned to)"]}),u.jsx("li",{children:"Remove all task progress data"}),u.jsx("li",{children:"Delete task timeline and activities"}),u.jsx("li",{children:"Remove related comments and attachments"})]}),u.jsx("div",{className:"text-xs text-red-600 mt-2 font-medium",children:"💡 The system will automatically search and handle ALL dependencies to prevent LinkExistsError."})]}),l&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete task"]})})]}),u.jsxs(Cs,{className:"flex gap-2",children:[u.jsx(Ge,{type:"button",variant:"outline",onClick:p,disabled:d,children:"Cancel"}),u.jsx(Ge,{type:"button",variant:"destructive",onClick:h,disabled:d||o,children:d?"Deleting Task & SubTasks...":o?"Deleting...":"Delete Task"})]})]})})};class Ny{static useProjectProgressFromPhases(){const{updateDoc:t}=$s();return{calculateAndUpdateProjectProgressFromPhases:s=>xe(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0){const{calculateAndUpdateProjectProgressFromTasks:h}=Ny.useProjectProgressFromTasks();return yield h(s)}let d=0;l.forEach(h=>{d+=h.progress||0});const f=Math.round(d/l.length);return yield t("Project",s,{percent_complete:f}),f}catch(a){return console.error("Error calculating project progress from phases:",a),null}})}}static useProjectProgressFromTasks(){const{updateDoc:t}=$s();return{calculateAndUpdateProjectProgressFromTasks:s=>xe(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(!l||l.length===0)return yield t("Project",s,{percent_complete:0}),0;let d=0;l.forEach(h=>{d+=h.progress||0});const f=Math.round(d/l.length);return yield t("Project",s,{percent_complete:f}),f}catch(a){return console.error("Error calculating project progress from tasks:",a),null}})}}static useProjectProgressCalculation(){const{updateDoc:t}=$s();return{calculateAndUpdateProjectProgress:s=>xe(null,null,function*(){try{const a=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","progress"],filters:[["project","=",s]]})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=(yield a.json()).message||[];if(l&&l.length>0){let d=0;l.forEach(h=>{d+=h.progress||0});const f=Math.round(d/l.length);return yield t("Project",s,{percent_complete:f}),{progress:f,source:"phases",count:l.length}}else{const d=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"Task",fields:["name","progress"],filters:[["project","=",s]]})});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const h=(yield d.json()).message||[];if(!h||h.length===0)return yield t("Project",s,{percent_complete:0}),{progress:0,source:"none",count:0};let p=0;h.forEach(b=>{p+=b.progress||0});const g=Math.round(p/h.length);return yield t("Project",s,{percent_complete:g}),{progress:g,source:"tasks",count:h.length}}}catch(a){return console.error("Error calculating project progress:",a),null}})}}static useProjectStatusProgressUpdate(){const{updateDoc:t}=$s();return{updateProjectProgressByStatus:(s,a,o)=>xe(null,null,function*(){try{let l=o||0;switch(a){case"Completed":l=100;break;case"Cancelled":case"Rejected":l=0;break;default:break}return yield t("Project",s,{status:a,percent_complete:l}),l}catch(l){return console.error("Error updating project progress by status:",l),null}})}}}const{useProjectProgressCalculation:PF}=Ny,Ey=()=>{const{calculateAndUpdatePhaseProgress:e}=xT(),{calculateAndUpdateProjectProgress:t}=PF();return{updatePhaseProgressForTask:(a,o)=>xe(null,null,function*(){try{const l=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({doctype:"project_phase",fields:["name","tasks"],filters:[["project","=",o]]})});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const h=((yield l.json()).message||[]).filter(p=>p.tasks&&p.tasks.some(g=>g.task===a));for(const p of h)console.log(`Updating progress for phase ${p.name} after task ${a} change`),yield e(p.name);return console.log(`Updating overall project progress for ${o} after task ${a} change`),yield t(o),console.log(`Updated progress for ${h.length} phases and project ${o} affected by task ${a}`),h}catch(l){return console.error("Error updating phase progress for task:",l),[]}}),updateProjectProgress:a=>xe(null,null,function*(){try{console.log(`Updating overall project progress for ${a}`);const o=yield t(a);return o&&console.log(`Project ${a} progress updated to ${o.progress}% from ${o.source} (${o.count} items)`),o}catch(o){return console.error("Error updating project progress:",o),null}})}},LF=({task:e,projectName:t,onBack:n,onViewSubTaskDetails:s,onTaskUpdated:a,onTaskDeleted:o})=>{const[l,d]=N.useState(!1),[f,h]=N.useState(!1),[p,g]=N.useState(!1),{updatePhaseProgressForTask:b}=Ey(),{calculateAndUpdateTaskProgress:y}=sd(),{data:w,isLoading:_,mutate:j}=_n("SubTask",{fields:["name","subject","task","status","progress","start_date","end_date","description"],filters:[["task","=",e.name]],orderBy:{field:"start_date",order:"asc"}}),{data:S}=_n("ToDo",{fields:["name","allocated_to","status"],filters:[["reference_type","=","Task"],["reference_name","=",e.name]],limit:1}),O=S&&S.length>0?S[0].allocated_to:null,{data:k}=Bn("User",O||void 0,{fields:["name","full_name","email","user_image"]}),C=q=>q?new Date(q).toLocaleDateString():"N/A",A=q=>{switch(q){case"Completed":return u.jsx($h,{className:"h-5 w-5 text-green-600"});case"Working":return u.jsx(Gl,{className:"h-5 w-5 text-yellow-600"});case"Open":return u.jsx(Eo,{className:"h-5 w-5 text-blue-600"});default:return u.jsx(Eo,{className:"h-5 w-5 text-gray-400"})}},M=q=>{switch(q){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},V=q=>{switch(q){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},D=()=>{a&&a(),b(e.name,t).catch(console.error)},H=()=>{o&&o(),b(e.name,t).catch(console.error),n()},ee=({subtask:q})=>{var J;const{data:X}=_n("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(q==null?void 0:q.name)||""]]}),ae=(J=X==null?void 0:X[0])==null?void 0:J.allocated_to;return u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("span",{children:ae})})};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(Ge,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[u.jsx(wx,{className:"h-4 w-4"}),"Back to Tasks"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"flex items-center gap-2",children:[u.jsx(zl,{className:"h-4 w-4"}),"Edit Task"]}),u.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>g(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[u.jsx($l,{className:"h-4 w-4"}),"Delete Task"]})]})]}),u.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-xl p-6",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-orange-500 flex items-center justify-center",children:u.jsx("span",{className:"text-xl",children:"📝"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),u.jsx("p",{className:"text-sm text-gray-600",children:"Task Details"})]})]}),e.description&&u.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${M(e.status||"Open")}`,children:[A(e.status||"Open"),u.jsx("span",{className:"font-medium",children:e.status||"Open"})]}),e.priority&&u.jsx("div",{className:`px-3 py-1 rounded-full border ${V(e.priority)}`,children:u.jsx("span",{className:"text-sm font-medium",children:e.priority})})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Task Progress"}),u.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[e.progress||0,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:u.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${e.progress||0}%`}})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:u.jsx(wr,{className:"h-6 w-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:C(e.exp_start_date)})]})]})}),u.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:u.jsx(Nx,{className:"h-6 w-6 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:C(e.exp_end_date)})]})]})}),u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:u.jsx(Bu,{className:"h-6 w-6 text-green-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Assigned To"}),S&&S.length>0?u.jsxs("div",{children:[u.jsx("p",{className:"text-lg font-bold text-gray-900",children:(k==null?void 0:k.full_name)||O}),(k==null?void 0:k.email)&&u.jsx("p",{className:"text-sm text-gray-600",children:k.email})]}):u.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Task Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Task ID"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),u.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${M(e.status||"Open")}`,children:[A(e.status||"Open"),u.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),u.jsx("div",{className:`px-3 py-1 rounded-full ${V(e.priority||"Medium")}`,children:u.jsx("span",{className:"font-medium",children:e.priority||"Medium"})})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Subtasks Count"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:(w==null?void 0:w.length)||0})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:e.exp_start_date&&e.exp_end_date?`${Math.ceil((new Date(e.exp_end_date).getTime()-new Date(e.exp_start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),u.jsxs("span",{className:"text-xl font-bold text-orange-600",children:[e.progress||0,"%"]})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Assigned To"}),S&&S.length>0?u.jsx("div",{children:u.jsx("p",{className:"text-lg font-bold text-gray-900",children:(k==null?void 0:k.full_name)||O})}):u.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Unassigned"})]})]})]})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"SubTasks"})}),_?u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),u.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"}),u.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded"})]}):u.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[u.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:u.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3",children:[u.jsx("div",{className:"col-span-1 text-sm font-medium text-gray-700",children:"#"}),u.jsx("div",{className:"col-span-5 text-sm font-medium text-gray-700",children:"SubTask"}),u.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Status"}),u.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Assign To"}),u.jsx("div",{className:"col-span-2 text-sm font-medium text-gray-700 text-center",children:"Actions"})]})}),u.jsxs("div",{className:"divide-y divide-gray-100",children:[w&&w.length>0?w.map((q,X)=>u.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 transition-colors",children:[u.jsx("div",{className:"col-span-1 flex items-center",children:u.jsx("span",{className:"text-sm text-gray-600",children:X+1})}),u.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[u.jsx("div",{className:"p-1 bg-green-100 rounded",children:u.jsx("span",{className:"text-sm",children:"✅"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-gray-900",children:q.subject||q.name}),u.jsx("div",{className:"text-sm text-gray-500",children:q.name})]})]}),u.jsx("div",{className:"col-span-2 flex items-center justify-center",children:u.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${M(q.status||"Open")}`,children:q.status||"Open"})}),u.jsx("div",{className:"col-span-2 flex items-center justify-center",children:u.jsx(ee,{subtask:q})}),u.jsx("div",{className:"col-span-2 flex items-center justify-center",children:s&&u.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>s(q),className:"h-7 px-2 text-xs",children:"View Details"})})]},q.name)):u.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[u.jsx("div",{className:"text-4xl mb-2",children:"✅"}),u.jsx("div",{className:"text-lg font-medium mb-1",children:"No subtasks yet"}),u.jsx("div",{className:"text-sm",children:'Click "Add SubTask" to create the first subtask for this task'})]}),u.jsx("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-gray-50 border-t border-gray-200",children:u.jsx("div",{className:"col-span-12 flex items-center justify-center",children:u.jsxs(Ge,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",onClick:()=>d(!0),children:[u.jsx(To,{className:"h-4 w-4"}),"Add new subtask to this task"]})})})]})]})]}),u.jsx(AF,{isOpen:l,onClose:()=>d(!1),projectName:t,parentTask:e.name,onSuccess:()=>xe(null,null,function*(){console.log("SubTask created successfully for task:",e.name),j(),setTimeout(()=>xe(null,null,function*(){console.log("Recalculating task progress after subtask creation..."),yield y(e.name),setTimeout(()=>xe(null,null,function*(){console.log("Updating phase progress after task progress update..."),yield b(e.name,t)}),500)}),500)})}),u.jsx(DF,{task:e,projectName:t,isOpen:f,onClose:()=>h(!1),onSuccess:D}),u.jsx(MF,{task:e,isOpen:p,onClose:()=>g(!1),onSuccess:H})]})},zF=({subtask:e,projectName:t,isOpen:n,onClose:s,onSuccess:a})=>{var C;const{updateSubTask:o,isLoading:l,error:d}=EF(),{assignSubTask:f,unassignSubTask:h}=yT(),{calculateAndUpdateTaskProgress:p}=sd(),{data:g,isLoading:b}=ac(t),{data:y}=_n("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),[w,_]=N.useState({subject:"",status:"Open",start_date:"",end_date:"",description:"",assign_to:""}),j=((C=y==null?void 0:y[0])==null?void 0:C.allocated_to)||"";N.useEffect(()=>{e&&_({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:j})},[e,j]);const S=(A,M)=>{_(V=>he(L({},V),{[A]:M}))},O=A=>xe(null,null,function*(){if(A.preventDefault(),!!e)try{const M=w,{assign_to:V}=M,D=Me(M,["assign_to"]);yield o(e.name,D);const H=j,ee=V;if(H&&H!==ee){const q=y==null?void 0:y.find(X=>X.allocated_to===H);q&&(yield h(q.name))}ee&&ee!==H&&(yield f(e.name,ee)),e.task&&D.status!==e.status&&(yield p(e.task)),a&&a(),s()}catch(V){console.error("Error updating subtask:",V)}}),k=()=>{e&&_({subject:e.subject||"",status:e.status||"Open",start_date:e.start_date?e.start_date.split(" ")[0]:"",end_date:e.end_date?e.end_date.split(" ")[0]:"",description:e.description||"",assign_to:j}),s()};return u.jsx(Es,{open:n,onOpenChange:s,children:u.jsxs(Ts,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[u.jsx(ks,{children:u.jsx(As,{children:"Edit SubTask"})}),u.jsxs("form",{onSubmit:O,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"subject",children:"Subject *"}),u.jsx(tn,{id:"subject",value:w.subject,onChange:A=>S("subject",A.target.value),required:!0,placeholder:"Enter subtask subject"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"status",children:"Status"}),u.jsxs("select",{id:"status",value:w.status,onChange:A=>S("status",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Working",children:"Working"}),u.jsx("option",{value:"Pending Review",children:"Pending Review"}),u.jsx("option",{value:"Completed",children:"Completed"}),u.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"start_date",children:"Start Date"}),u.jsx(tn,{id:"start_date",type:"date",value:w.start_date,onChange:A=>S("start_date",A.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"end_date",children:"End Date"}),u.jsx(tn,{id:"end_date",type:"date",value:w.end_date,onChange:A=>S("end_date",A.target.value)})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"description",children:"Description"}),u.jsx("textarea",{id:"description",value:w.description,onChange:A=>S("description",A.target.value),placeholder:"Enter subtask description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"assign_to",children:"Assign To"}),u.jsxs("select",{id:"assign_to",value:w.assign_to,onChange:A=>S("assign_to",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,children:[u.jsx("option",{value:"",children:"Select user..."}),g==null?void 0:g.map(A=>u.jsx("option",{value:A.user||A.name,children:A.user||A.name},A.name))]}),b&&u.jsx("span",{className:"text-sm text-gray-500",children:"Loading users..."})]}),d&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",d.message||"Failed to update subtask"]})}),u.jsxs(Cs,{className:"flex gap-2",children:[u.jsx(Ge,{type:"button",variant:"outline",onClick:k,children:"Cancel"}),u.jsx(Ge,{type:"submit",disabled:l,children:l?"Updating...":"Update SubTask"})]})]})]})})},BF=({subtask:e,isOpen:t,onClose:n,onSuccess:s})=>{const{call:a,loading:o,error:l}=ps("frappe.client.delete"),{calculateAndUpdateTaskProgress:d}=sd(),f=()=>xe(null,null,function*(){if(e)try{if(yield a({doctype:"SubTask",name:e.name}),e.task)try{yield d(e.task)}catch(p){console.error("Error updating task progress after subtask deletion:",p)}s&&s(),n()}catch(p){console.error("Error deleting subtask:",p)}}),h=()=>{n()};return u.jsx(Es,{open:t,onOpenChange:n,children:u.jsxs(Ts,{className:"sm:max-w-[400px]",children:[u.jsx(ks,{children:u.jsxs(As,{className:"flex items-center gap-2 text-red-600",children:[u.jsx(Ih,{className:"h-5 w-5"}),"Delete SubTask"]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this subtask? This action cannot be undone."}),e&&u.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[u.jsx("div",{className:"font-medium text-gray-900",children:e.subject}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",e.progress||0,"%"]}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Task: ",e.task]})]}),u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[u.jsxs("div",{className:"text-sm text-red-800",children:[u.jsx("strong",{children:"Warning:"})," Deleting this subtask will also remove:"]}),u.jsxs("ul",{className:"text-sm text-red-700 mt-1 ml-4 list-disc",children:[u.jsx("li",{children:"All subtask progress data"}),u.jsx("li",{children:"Subtask timeline and activities"}),u.jsx("li",{children:"Related comments and attachments"}),u.jsx("li",{children:"Any associated time logs"})]})]}),l&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",l.message||"Failed to delete subtask"]})})]}),u.jsxs(Cs,{className:"flex gap-2",children:[u.jsx(Ge,{type:"button",variant:"outline",onClick:h,children:"Cancel"}),u.jsx(Ge,{type:"button",variant:"destructive",onClick:f,disabled:o,children:o?"Deleting...":"Delete SubTask"})]})]})})},UF=({subtask:e,projectName:t,onBack:n,onSubTaskUpdated:s,onSubTaskDeleted:a})=>{var k;const[o,l]=N.useState(!1),[d,f]=N.useState(!1),{calculateAndUpdateTaskProgress:h}=sd(),{updatePhaseProgressForTask:p}=Ey(),{data:g}=_n("ToDo",{fields:["name","allocated_to"],filters:[["reference_type","=","SubTask"],["reference_name","=",(e==null?void 0:e.name)||""]]}),b=(k=g==null?void 0:g[0])==null?void 0:k.allocated_to,{data:y}=Bn("User",b||"",{shouldFetch:!!b}),w=C=>C?new Date(C).toLocaleDateString():"N/A",_=C=>{switch(C){case"Completed":return u.jsx($h,{className:"h-5 w-5 text-green-600"});case"Working":return u.jsx(Gl,{className:"h-5 w-5 text-yellow-600"});case"Open":return u.jsx(Eo,{className:"h-5 w-5 text-blue-600"});default:return u.jsx(Eo,{className:"h-5 w-5 text-gray-400"})}},j=C=>{switch(C){case"Completed":return"bg-green-100 text-green-800 border-green-200";case"Working":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Open":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},S=()=>xe(null,null,function*(){if(e!=null&&e.task)try{yield h(e.task),setTimeout(()=>xe(null,null,function*(){try{yield p(e.task,t),console.log("Phase progress updated after subtask edit")}catch(C){console.error("Error updating phase progress after subtask edit:",C)}}),500)}catch(C){console.error("Error updating task progress after subtask edit:",C)}s&&s()}),O=()=>xe(null,null,function*(){if(e!=null&&e.task)try{yield h(e.task),setTimeout(()=>xe(null,null,function*(){try{yield p(e.task,t),console.log("Phase progress updated after subtask delete")}catch(C){console.error("Error updating phase progress after subtask delete:",C)}}),500)}catch(C){console.error("Error updating task progress after subtask delete:",C)}a&&a(),n()});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(Ge,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:[u.jsx(wx,{className:"h-4 w-4"}),"Back to Tasks"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>l(!0),className:"flex items-center gap-2",children:[u.jsx(zl,{className:"h-4 w-4"}),"Edit SubTask"]}),u.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>f(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[u.jsx($l,{className:"h-4 w-4"}),"Delete SubTask"]})]})]}),u.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500 flex items-center justify-center",children:u.jsx("span",{className:"text-xl",children:"✅"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.subject}),u.jsx("p",{className:"text-sm text-gray-600",children:"SubTask Details"})]})]}),e.description&&u.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),u.jsx("div",{className:"flex items-center gap-3",children:u.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border ${j(e.status||"Open")}`,children:[_(e.status||"Open"),u.jsx("span",{className:"font-medium",children:e.status||"Open"})]})})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:u.jsx(wr,{className:"h-6 w-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Start Date"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:w(e.start_date)})]})]})}),u.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:u.jsx(Nx,{className:"h-6 w-6 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"End Date"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:w(e.end_date)})]})]})}),u.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:u.jsx(w2,{className:"h-6 w-6 text-orange-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-orange-600 uppercase tracking-wide",children:"Parent Task"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.task||"N/A"})]})]})})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"SubTask Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"SubTask ID"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:e.name})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Project"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:t})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Parent Task"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:e.task||"N/A"})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Status"}),u.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${j(e.status||"Open")}`,children:[_(e.status||"Open"),u.jsx("span",{className:"font-medium",children:e.status||"Open"})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:w(e.start_date)})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"End Date"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:w(e.end_date)})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Duration"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:e.start_date&&e.end_date?`${Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/(1e3*60*60*24))} days`:"N/A"})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-gray-100",children:[u.jsxs("span",{className:"text-gray-600 font-medium flex items-center gap-2",children:[u.jsx(Bu,{className:"h-4 w-4"}),"Assigned To"]}),u.jsx("span",{className:"text-gray-900 font-semibold",children:b?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{children:(y==null?void 0:y.full_name)||b}),(y==null?void 0:y.user_image)&&u.jsx("img",{src:y.user_image,alt:y.full_name||b,className:"h-6 w-6 rounded-full"})]}):u.jsx("span",{className:"text-gray-400",children:"Not assigned"})})]})]})]})]}),e.description&&u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Description"}),u.jsx("div",{className:"prose max-w-none",children:u.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.description})})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Activity Timeline"}),u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx("div",{className:"text-4xl mb-2",children:"📋"}),u.jsx("div",{className:"text-lg font-medium mb-1",children:"No activity yet"}),u.jsx("div",{className:"text-sm",children:"Activity and updates will appear here when available"})]})]}),u.jsx(zF,{subtask:e,projectName:t,isOpen:o,onClose:()=>l(!1),onSuccess:S}),u.jsx(BF,{subtask:e,isOpen:d,onClose:()=>f(!1),onSuccess:O})]})},vo=class vo{static useUserProjects(){const{currentUser:t}=Mu(),{data:n,isLoading:s,error:a,mutate:o}=_n("Project",{fields:vo.PROJECT_FIELDS,filters:t?[["owner","=",t]]:[]}),{data:l,isLoading:d,error:f,mutate:h}=_n("Project",{fields:vo.PROJECT_FIELDS,limit:0}),p=te.useMemo(()=>{if(!t)return[];const b=w=>{const _=new Map;return w.forEach(j=>{var O;const S=j.name;if(!_.has(S)){const k={name:j.name,owner:j.owner,project_name:j.project_name,project_type:j.project_type,status:j.status,customer:j.customer,expected_start_date:j.expected_start_date,expected_end_date:j.expected_end_date,percent_complete:j.percent_complete,priority:j.priority,department:j.department,estimated_costing:j.estimated_costing,total_billable_amount:j.total_billable_amount,company:j.company,users:[]};_.set(S,k)}if(j.user){const k=_.get(S);((O=k.users)==null?void 0:O.some(A=>A.user===j.user))||(k.users=k.users||[],k.users.push({user:j.user,email:j.email,full_name:j.full_name,project_status:j.project_status}))}}),Array.from(_.values())};let y=[];if(n&&n.length>0&&(y=y.concat(n)),l&&l.length>0){const w=l.filter(_=>_.owner===t||_.user&&_.user===t);y=y.concat(w)}return b(y)},[n,l,t]),g=te.useCallback(()=>{o(),h()},[o,h]);return{data:p,isLoading:s||d,error:a&&f?a||f:null,mutate:g}}static useProject(t){const{data:n,isLoading:s,error:a,mutate:o}=Bn("Project",t||"",t?"Project":void 0);return{data:n,isLoading:s,error:a,mutate:o}}static useProjectOwner(t){const{data:n,isLoading:s,error:a}=Bn("User",t||"",t?void 0:null);return{data:n,isLoading:s,error:a}}static useCreateProject(){const{createDoc:t,loading:n,error:s}=Mo();return{createProject:o=>xe(null,null,function*(){return yield t("Project",he(L({},o),{expected_start_date:o.expected_start_date||void 0,expected_end_date:o.expected_end_date||void 0}))}),isLoading:n,error:s}}static useUpdateProject(){const{updateDoc:t,loading:n,error:s}=$s();return{updateProject:(o,l)=>xe(null,null,function*(){return yield t("Project",o,he(L({},l),{expected_start_date:l.expected_start_date||void 0,expected_end_date:l.expected_end_date||void 0}))}),isLoading:n,error:s}}static useDeleteProject(){const{call:t,loading:n,error:s}=ps("frappe.client.delete");return{deleteProject:o=>xe(null,null,function*(){return yield t({doctype:"Project",name:o})}),isLoading:n,error:s}}static useProjectMembers(){const{call:t}=ps("frappe.client.insert"),{call:n}=ps("frappe.client.save"),{call:s}=ps("frappe.client.delete");return{addMember:d=>xe(null,null,function*(){return yield t({doc:he(L({doctype:"Project User"},d),{welcome_email_sent:1})})}),updateMember:(d,f)=>xe(null,null,function*(){return yield n({doc:L({doctype:"Project User",name:d},f)})}),removeMember:d=>xe(null,null,function*(){return yield s({doctype:"Project User",name:d})})}}static useProjectOwnerManagement(){const{call:t}=ps("frappe.client.save"),{call:n}=ps("frappe.client.set_value");return{transferOwner:(o,l)=>xe(null,null,function*(){try{return yield t({doc:{doctype:"Project",name:o,owner:l}}),{success:!0,method:"save"}}catch(d){try{return yield n({doctype:"Project",name:o,fieldname:"owner",value:l}),{success:!0,method:"set_value"}}catch(f){throw new Error("Owner field is protected by ERPNext")}}}),transferOwnerWithAPI:(o,l)=>xe(null,null,function*(){try{const d=yield fetch("/api/method/my_app.api.project_transfer.transfer_project_owner",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},credentials:"include",body:JSON.stringify({project_name:o,new_owner:l})}),f=yield d.json();return d.ok&&f.message?{success:!0,data:f.message}:{success:!1,error:f.message||"Transfer failed"}}catch(d){return{success:!1,error:d instanceof Error?d.message:"Unknown error"}}})}}static useProjectUsers(t){const{data:n,isLoading:s,error:a,mutate:o}=Bn("Project",t,{fields:["name","users"]});return{data:(n==null?void 0:n.users)||[],isLoading:s,error:a,mutate:o}}static useProjectUsersAlt(t){const{data:n,isLoading:s,error:a,mutate:o}=_n("Project User",{fields:["name","user","email","full_name","image"],filters:[["parent","=",t]],limit:0});return{data:n||[],isLoading:s,error:a,mutate:o}}};ft(vo,"PROJECT_FIELDS",["name","owner","project_name","project_type","status","customer","department","expected_start_date","expected_end_date","percent_complete","priority","estimated_costing","total_billable_amount","company","users.user","users.email","users.full_name","users.project_status"]),ft(vo,"DETAILED_PROJECT_FIELDS",[...vo.PROJECT_FIELDS,"creation","modified","modified_by","description","notes","expected_start_date","actual_start_date","actual_end_date","total_costing_amount","total_purchase_cost","total_sales_amount","total_billed_amount","users"]);let Yu=vo;const FF=Yu.useUserProjects,HF=Yu.useCreateProject,VF=Yu.useUpdateProject;class $F{static useProjectCascadeDelete(){const{call:t}=ps("frappe.client.delete"),{call:n}=ps("frappe.client.get_list");return{deleteProjectCascade:a=>xe(null,null,function*(){try{console.log(`Starting cascade delete for project: ${a}`);try{const y=yield n({doctype:"Project",fields:["name"],filters:[["name","=",a]],limit_page_length:1});if(!(y!=null&&y.message)||y.message.length===0)throw new Error(`Project ${a} not found`)}catch(y){throw console.error("Project validation failed:",y),new Error(`Project validation failed: ${y instanceof Error?y.message:"Unknown validation error"}`)}let o=0,l=0,d=0;console.log("Step 1: Fetching all tasks...");let f=[];try{const y=yield n({doctype:"Task",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3});f=(y==null?void 0:y.message)||[],console.log(`Found ${f.length} tasks to delete`)}catch(y){console.error("Error fetching tasks:",y),console.log("Continuing with deletion despite task fetch error...")}if(f.length>0){console.log(`Step 2: Processing ${f.length} tasks for subtask deletion...`);for(const y of f){console.log(`Step 2: Deleting subtasks for task ${y.name}...`);try{const w=yield n({doctype:"SubTask",fields:["name"],filters:[["task","=",y.name]],limit_page_length:1e3}),_=(w==null?void 0:w.message)||[];console.log(`Found ${_.length} subtasks for task ${y.name}`);for(const j of _)try{console.log(`Deleting subtask: ${j.name}`),yield t({doctype:"SubTask",name:j.name}),o++,console.log(`Successfully deleted subtask: ${j.name}`),yield new Promise(S=>setTimeout(S,100))}catch(S){console.error(`Error deleting subtask ${j.name}:`,S)}}catch(w){console.error(`Error fetching subtasks for task ${y.name}:`,w)}}yield new Promise(y=>setTimeout(y,500))}if(f.length>0){console.log(`Step 3: Deleting ${f.length} tasks...`);for(const y of f)try{console.log(`Deleting task: ${y.name}`),yield t({doctype:"Task",name:y.name}),l++,console.log(`Successfully deleted task: ${y.name}`),yield new Promise(w=>setTimeout(w,100))}catch(w){console.error(`Error deleting task ${y.name}:`,w)}yield new Promise(y=>setTimeout(y,500))}console.log("Step 4: Deleting all phases...");let h=[];try{const y=yield n({doctype:"project_phase",fields:["name"],filters:[["project","=",a]],limit_page_length:1e3});h=(y==null?void 0:y.message)||[],console.log(`Found ${h.length} phases to delete`)}catch(y){console.error("Error fetching phases:",y),console.log("Continuing with deletion despite phase fetch error...")}for(const y of h)try{console.log(`Deleting phase: ${y.name}`),yield t({doctype:"project_phase",name:y.name}),d++,console.log(`Successfully deleted phase: ${y.name}`),yield new Promise(w=>setTimeout(w,100))}catch(w){console.error(`Error deleting phase ${y.name}:`,w)}h.length>0&&(yield new Promise(y=>setTimeout(y,500))),console.log("Step 5: Deleting ToDo assignments...");try{const y=yield n({doctype:"ToDo",fields:["name"],filters:[["reference_type","in",["Project","Task","SubTask"]],["reference_name","like",`%${a}%`]],limit_page_length:1e3}),w=(y==null?void 0:y.message)||[];console.log(`Found ${w.length} ToDo assignments to delete`);for(const _ of w)try{yield t({doctype:"ToDo",name:_.name})}catch(j){console.error(`Error deleting ToDo ${_.name}:`,j)}}catch(y){console.error("Error fetching/deleting ToDo assignments:",y)}console.log("Step 6: Deleting project users...");try{const y=yield n({doctype:"Project User",fields:["name"],filters:[["parent","=",a]],limit_page_length:1e3}),w=(y==null?void 0:y.message)||[];console.log(`Found ${w.length} project users to delete`);for(const _ of w)try{yield t({doctype:"Project User",name:_.name})}catch(j){console.error(`Error deleting Project User ${_.name}:`,j)}}catch(y){console.error("Error fetching/deleting project users:",y)}console.log("Step 6.5: Performing comprehensive dependency cleanup...");const p=[{doctype:"Task",filter:[["project","=",a]]},{doctype:"SubTask",filter:[["project","=",a]]},{doctype:"project_phase",filter:[["project","=",a]]},{doctype:"Project User",filter:[["parent","=",a]]},{doctype:"ToDo",filter:[["reference_type","=","Project"],["reference_name","=",a]]},{doctype:"ToDo",filter:[["reference_type","=","Task"],["reference_name","like",`%${a}%`]]},{doctype:"Communication",filter:[["reference_doctype","=","Project"],["reference_name","=",a]]},{doctype:"File",filter:[["attached_to_doctype","=","Project"],["attached_to_name","=",a]]},{doctype:"Comment",filter:[["reference_doctype","=","Project"],["reference_name","=",a]]}];for(const y of p)try{console.log(`Checking for remaining ${y.doctype} dependencies...`);const w=yield n({doctype:y.doctype,fields:["name"],filters:y.filter,limit_page_length:1e3}),_=(w==null?void 0:w.message)||[];if(_.length>0){console.log(`Found ${_.length} remaining ${y.doctype} items, deleting them...`);for(const j of _)try{yield t({doctype:y.doctype,name:j.name}),console.log(`Deleted remaining ${y.doctype}: ${j.name}`),yield new Promise(S=>setTimeout(S,100))}catch(S){console.error(`Error deleting remaining ${y.doctype} ${j.name}:`,S)}}else console.log(`No remaining ${y.doctype} dependencies found.`)}catch(w){console.error(`Error checking ${y.doctype} dependencies:`,w)}yield new Promise(y=>setTimeout(y,1e3)),console.log("Step 7: Deleting the project..."),yield new Promise(y=>setTimeout(y,1e3));let g=0;const b=3;for(;g<b;)try{g++,console.log(`Attempting to delete project ${a} (attempt ${g}/${b})`),yield t({doctype:"Project",name:a}),console.log(`Verifying project ${a} deletion...`);try{const y=yield n({doctype:"Project",fields:["name"],filters:[["name","=",a]],limit_page_length:1});if(y!=null&&y.message&&y.message.length>0)throw new Error("Project still exists after deletion attempt");console.log(`Successfully verified project ${a} deletion`)}catch(y){if(y.message==="Project still exists after deletion attempt")throw y;console.log(`Project ${a} not found during verification - deletion successful`)}console.log(`Successfully deleted project: ${a}`);break}catch(y){if(console.error(`Error deleting project ${a} (attempt ${g}):`,y),g<b){console.log(`Waiting before retry attempt ${g+1}...`),yield new Promise(w=>setTimeout(w,2e3)),console.log("Attempting to clean up remaining dependencies...");try{const w=yield n({doctype:"Project User",fields:["name"],filters:[["parent","=",a]],limit_page_length:1e3}),_=(w==null?void 0:w.message)||[];if(_.length>0){console.log(`Found ${_.length} remaining project users, deleting them...`);for(const j of _)try{yield t({doctype:"Project User",name:j.name}),console.log(`Deleted remaining project user: ${j.name}`)}catch(S){console.error(`Error deleting remaining project user ${j.name}:`,S)}}}catch(w){console.error("Error during dependency cleanup:",w)}try{const w=yield n({doctype:"ToDo",fields:["name"],filters:[["reference_type","=","Project"],["reference_name","=",a]],limit_page_length:1e3}),_=(w==null?void 0:w.message)||[];if(_.length>0){console.log(`Found ${_.length} remaining todos, deleting them...`);for(const j of _)try{yield t({doctype:"ToDo",name:j.name}),console.log(`Deleted remaining todo: ${j.name}`)}catch(S){console.error(`Error deleting remaining todo ${j.name}:`,S)}}}catch(w){console.error("Error during todo cleanup:",w)}}else{let w="Unknown project deletion error";if(y&&typeof y=="object")if(console.error("Full project deletion error object:",JSON.stringify(y,null,2)),y.message)w=y.message;else if(y.exc)w=y.exc;else if(y._server_messages)try{const _=JSON.parse(y._server_messages);Array.isArray(_)&&_.length>0&&(w=JSON.parse(_[0]).message||w)}catch(_){console.error("Error parsing server messages:",_)}else w=JSON.stringify(y);else typeof y=="string"&&(w=y);throw new Error(`Failed to delete project ${a} after ${b} attempts: ${w}`)}}return console.log(`Successfully completed cascade delete for project: ${a}`),{success:!0,deletedItems:{subtasks:o,tasks:l,phases:d,project:1}}}catch(o){console.error("Error in cascade delete:",o);let l="Unknown error";throw o instanceof Error?l=o.message:typeof o=="string"?l=o:o&&typeof o=="object"&&(l=o.message||o.error||o.exc||JSON.stringify(o)),new Error(`Failed to delete project and related items: ${l}`)}})}}}const{useProjectCascadeDelete:qF}=$F;class Ty{static useUserTodos(){const{data:t}=Bn("User","",{shouldFetch:!0}),{data:n,isLoading:s,error:a,mutate:o}=_n("ToDo",{fields:["name","status","priority","date","allocated_to","description","reference_type","reference_name","assigned_by","assigned_by_full_name","creation","modified"],filters:[["allocated_to","=",(t==null?void 0:t.name)||""],["reference_type","=","Task"]],orderBy:{field:"creation",order:"desc"}},t!=null&&t.name?"user-todos":null);return{todos:n||[],isLoading:s,error:a,mutate:o,currentUser:t}}static useUserTodosEnriched(){const{data:t}=Bn("User","",{shouldFetch:!0}),{data:n,isLoading:s,error:a,mutate:o}=QA("todo.api.get_user_todos_with_task_info",{user:(t==null?void 0:t.name)||""},t!=null&&t.name?"user-todos-enriched":null,{revalidateOnFocus:!1,revalidateOnReconnect:!1});return{todos:(n==null?void 0:n.message)||[],isLoading:s,error:a,mutate:o,currentUser:t}}static useUserTodosWithTaskData(){const{todos:t,isLoading:n,error:s,mutate:a,currentUser:o}=Ty.useUserTodos();return{todos:t.map(d=>(d.reference_type==="Task"&&d.reference_name,d)),isLoading:n,error:s,mutate:a,currentUser:o}}}const IF=Ty.useUserTodos,vT=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{updateProject:a,isLoading:o}=VF(),{register:l,control:d,handleSubmit:f,reset:h,formState:{errors:p}}=Ou({defaultValues:{project_name:"",customer:"",project_type:"",status:"Open",priority:"Medium",department:"",company:"",cost_center:"",expected_start_date:"",expected_end_date:"",notes:""}});N.useEffect(()=>{e&&h({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""})},[e,h]);const g=y=>xe(null,null,function*(){if(e)try{yield a(e.name,y),gs.success("Project updated successfully"),s&&s(),n()}catch(w){let _="Edit project failed";if(w!=null&&w._server_messages)try{const j=JSON.parse(w._server_messages);Array.isArray(j)&&j.length>0&&(_=JSON.parse(j[0]).message||_)}catch(j){console.error("Parse error messages failed:",j)}else w!=null&&w.message&&(_=w.message);gs.error("Update project failed",{description:_}),console.error("Error updating project:",w)}}),b=()=>{e&&h({project_name:e.project_name||"",customer:e.customer||"",project_type:e.project_type||"",status:e.status||"Open",priority:e.priority||"Medium",department:e.department||"",company:e.company||"",cost_center:e.cost_center||"",expected_start_date:e.expected_start_date?e.expected_start_date.split(" ")[0]:"",expected_end_date:e.expected_end_date?e.expected_end_date.split(" ")[0]:"",notes:e.notes||""}),n()};return u.jsx(Es,{open:t,onOpenChange:n,children:u.jsxs(Ts,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[u.jsx(ks,{children:u.jsx(As,{children:"Edit Project"})}),u.jsxs("form",{onSubmit:f(g),className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"project_name",children:"Project Name *"}),u.jsx(tn,he(L({id:"project_name"},l("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),p.project_name&&u.jsx("span",{className:"text-red-500 text-sm",children:p.project_name.message})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Ve,{children:"Customer"}),u.jsx(nr,{name:"customer",control:d,render:({field:y})=>u.jsx(sr,{doctype:"Customer",value:y.value||"",onChange:y.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Ve,{children:"Project Type"}),u.jsx(nr,{name:"project_type",control:d,render:({field:y})=>u.jsx(sr,{doctype:"Project Type",value:y.value||"",onChange:y.onChange,placeholder:"Select type...",className:"w-full"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Ve,{children:"Status"}),u.jsxs("select",he(L({},l("status")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[u.jsx("option",{value:"",children:"Select status..."}),u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Completed",children:"Completed"}),u.jsx("option",{value:"Cancelled",children:"Cancelled"})]}))]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Ve,{children:"Priority"}),u.jsxs("select",he(L({},l("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[u.jsx("option",{value:"",children:"Select priority..."}),u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"}),u.jsx("option",{value:"Critical",children:"Critical"})]}))]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Ve,{children:"Department"}),u.jsx(nr,{name:"department",control:d,render:({field:y})=>u.jsx(sr,{doctype:"Department",value:y.value||"",onChange:y.onChange,placeholder:"Select department...",className:"w-full"})})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Ve,{children:"Company"}),u.jsx(nr,{name:"company",control:d,render:({field:y})=>u.jsx(sr,{doctype:"Company",value:y.value||"",onChange:y.onChange,placeholder:"Select company...",className:"w-full"})})]})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Ve,{children:"Cost Center"}),u.jsx(nr,{name:"cost_center",control:d,render:({field:y})=>u.jsx(sr,{doctype:"Cost Center",value:y.value||"",onChange:y.onChange,placeholder:"Select cost center...",className:"w-full"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"expected_start_date",children:"Expected Start Date"}),u.jsx(tn,L({id:"expected_start_date",type:"date"},l("expected_start_date")))]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"expected_end_date",children:"Expected End Date"}),u.jsx(tn,L({id:"expected_end_date",type:"date"},l("expected_end_date")))]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ve,{htmlFor:"notes",children:"Notes"}),u.jsx("textarea",he(L({id:"notes"},l("notes")),{placeholder:"Enter project notes",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}))]}),u.jsxs(Cs,{className:"flex gap-2",children:[u.jsx(Ge,{type:"button",variant:"outline",onClick:b,children:"Cancel"}),u.jsx(Ge,{type:"submit",disabled:o,children:o?"Updating...":"Update Project"})]})]})]})})},wT=({project:e,isOpen:t,onClose:n,onSuccess:s})=>{const{deleteProjectCascade:a}=qF(),[o,l]=N.useState(!1),[d,f]=N.useState(null),[h,p]=N.useState(""),g=()=>xe(null,null,function*(){if(!e){console.error("No project selected for deletion"),gs.error("Delete project failed",{description:"No project selected"});return}if(o){console.log("Delete already in progress, ignoring duplicate request");return}l(!0),f(null),p("Starting deletion...");try{console.log(`Starting deletion for project: ${e.name}`),p("Deleting subtasks..."),yield new Promise(w=>setTimeout(w,300)),p("Deleting tasks..."),yield new Promise(w=>setTimeout(w,300)),p("Deleting project phases..."),yield new Promise(w=>setTimeout(w,300)),p("Cleaning up dependencies..."),yield new Promise(w=>setTimeout(w,300)),p("Deleting project...");const y=yield a(e.name);p("Deletion completed successfully!"),console.log("Cascade deletion result:",y),gs.success("Project deleted successfully",{description:`Project "${e.name}" and all related items have been deleted.`}),s&&s(),n()}catch(y){let w="Delete project failed",_=!1;if(y!=null&&y._server_messages)try{const j=JSON.parse(y._server_messages);Array.isArray(j)&&j.length>0&&(w=JSON.parse(j[0]).message||w)}catch(j){console.error("Parse error messages failed:",j)}else y!=null&&y.message&&(w=y.message,(w.includes("dependencies")||w.includes("linked")||w.includes("referenced")||w.includes("Unknown project deletion error"))&&(_=!0,w+=`

Tip: This error usually resolves on the second attempt. Please try again.`));console.error("Error deleting project:",y),gs.error("Delete project failed",{description:w,duration:_?8e3:5e3}),f(y instanceof Error?y:new Error(w)),p("")}finally{l(!1)}}),b=()=>{o||(f(null),p(""),n())};return u.jsx(Es,{open:t,onOpenChange:n,children:u.jsxs(Ts,{className:"sm:max-w-[400px]",children:[u.jsx(ks,{children:u.jsxs(As,{className:"flex items-center gap-2 text-red-600",children:[u.jsx(Ih,{className:"h-5 w-5"}),"Delete Project"]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this project? This action cannot be undone."}),e&&u.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[u.jsx("div",{className:"font-medium text-gray-900",children:e.project_name}),u.jsx("div",{className:"text-sm text-gray-600",children:e.customer||"No customer"}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status||"Open"]})]}),u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[u.jsxs("div",{className:"text-sm text-red-800",children:[u.jsx("strong",{children:"Warning:"})," This will permanently delete in the following order:"]}),u.jsxs("ol",{className:"text-sm text-red-700 mt-1 ml-4 list-decimal",children:[u.jsx("li",{children:"All subtasks in all tasks"}),u.jsx("li",{children:"All tasks in the project"}),u.jsx("li",{children:"All project phases"}),u.jsx("li",{children:"All ToDo assignments"}),u.jsx("li",{children:"All project team members"}),u.jsx("li",{children:"The project itself"})]}),u.jsx("div",{className:"text-sm text-red-800 mt-2",children:u.jsx("strong",{children:"This action cannot be undone!"})})]}),o&&h&&u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(j0,{className:"h-4 w-4 animate-spin text-blue-600"}),u.jsxs("span",{className:"text-sm text-blue-800",children:[u.jsx("strong",{children:"Progress:"})," ",h]})]}),u.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Please wait while we delete all related items..."})]}),d&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",d.message||"Failed to delete project"]})})]}),u.jsxs(Cs,{className:"flex gap-2",children:[u.jsx(Ge,{type:"button",variant:"outline",onClick:b,disabled:o,children:o?"Deleting...":"Cancel"}),u.jsx(Ge,{type:"button",variant:"destructive",onClick:g,disabled:o,className:"min-w-[120px]",children:o?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(j0,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Project"})]})]})})};function _T({project:e,isOpen:t,onClose:n}){const[s,a]=N.useState("overview"),[o,l]=N.useState(null),[d,f]=N.useState(null),[h,p]=N.useState(null),[g,b]=N.useState(!1),[y,w]=N.useState(null),[_,j]=N.useState(!1),[S,O]=N.useState(!1),[k,C]=N.useState(!1),[A,M]=N.useState(!1),[V,D]=N.useState(!1),{updateProjectProgress:H}=Ey(),{data:ee,isLoading:q,mutate:X}=Bn("Project",(e==null?void 0:e.name)||"",e!=null&&e.name?"Project":void 0),{data:ae}=_n("project_phase",{fields:["name","progress"],filters:[["project","=",(e==null?void 0:e.name)||""]],orderBy:{field:"creation",order:"asc"}}),{data:J}=_n("Task",{fields:["name","progress"],filters:[["project","=",(e==null?void 0:e.name)||""]],orderBy:{field:"creation",order:"asc"}}),{call:Y}=ps("frappe.client.insert"),{call:z}=ps("frappe.client.save"),{call:Q}=ps("frappe.client.delete"),{call:Z}=ps("frappe.client.set_value"),{data:le,error:U,isLoading:re}=Bn("User",(e==null?void 0:e.owner)||"",e!=null&&e.owner?void 0:null),{data:we,mutate:I}=Bn("SubTask",(h==null?void 0:h.name)||"",h!=null&&h.name?void 0:null),{data:ce,mutate:je}=Bn("Task",(d==null?void 0:d.name)||"",d!=null&&d.name?void 0:null),{currentUser:be}=Mu(),Te=(ee==null?void 0:ee.users)||(e==null?void 0:e.users)||[],Oe=q,Ke=N.useMemo(()=>{if(ae&&ae.length>0){const ke=ae.reduce((Ue,Dt)=>Ue+(Dt.progress||0),0);return{progress:Math.round(ke/ae.length),source:"phases",count:ae.length}}else if(J&&J.length>0){const ke=J.reduce((Ue,Dt)=>Ue+(Dt.progress||0),0);return{progress:Math.round(ke/J.length),source:"tasks",count:J.length}}return{progress:(ee==null?void 0:ee.percent_complete)||(e==null?void 0:e.percent_complete)||0,source:"manual",count:0}},[ae,J,ee==null?void 0:ee.percent_complete,e==null?void 0:e.percent_complete]),He=()=>xe(null,null,function*(){if(e!=null&&e.name){D(!0);try{yield H(e.name),yield X()}catch(ke){console.error("Error recalculating project progress:",ke)}finally{D(!1)}}}),wt=()=>xe(null,null,function*(){if(h!=null&&h.name)try{yield I()}catch(ke){console.error("Error refreshing subtask data:",ke)}}),st=()=>xe(null,null,function*(){if(d!=null&&d.name)try{yield je()}catch(ke){console.error("Error refreshing task data:",ke)}}),bt=ke=>xe(null,null,function*(){(d==null?void 0:d.name)===ke&&(yield st())});N.useEffect(()=>{we&&(h==null?void 0:h.name)===we.name&&p(we)},[we,h==null?void 0:h.name]),N.useEffect(()=>{ce&&(d==null?void 0:d.name)===ce.name&&f(ce)},[ce,d==null?void 0:d.name]),N.useEffect(()=>{if(Ke.source!=="manual"&&(e!=null&&e.name)){const ke=(ee==null?void 0:ee.percent_complete)||(e==null?void 0:e.percent_complete)||0;Math.abs(Ke.progress-ke)>1&&He()}},[Ke.progress,ae,J]);const Pe=Ou(),pt=Ou(),Vt=Ou(),[_t,$t]=N.useState(!1),Ct=ke=>xe(null,null,function*(){if(e!=null&&e.name){$t(!0);try{if((Te||[]).find(Sn=>Sn.user===ke.user)){alert("User is already a member of this project");return}yield Y({doc:{doctype:"Project User",parent:e.name,parenttype:"Project",parentfield:"users",user:ke.user,view_attachments:1,hide_timesheets:0,project_status:"Open",welcome_email_sent:1}}),setTimeout(()=>X(),1e3),b(!1),Pe.reset()}catch(Ue){console.error("Error adding member:",Ue);const Dt=Ue instanceof Error?Ue.message:String(Ue);Dt.includes("Email Account")||Dt.includes("OutgoingEmailError")||Dt.includes("email")?(alert("Member may have been added, but welcome email failed. Please check the project members list and refresh if needed."),setTimeout(()=>X(),1e3),b(!1),Pe.reset()):alert("Failed to add member: "+Dt)}finally{$t(!1)}}}),W=ke=>xe(null,null,function*(){if(!(!y||!(e!=null&&e.name))){$t(!0);try{const Ue=Te.find(Dt=>Dt.user===y.user);if(!(Ue!=null&&Ue.name)){alert("User record not found");return}yield z({doc:{doctype:"Project User",name:Ue.name,view_attachments:ke.view_attachments?1:0,hide_timesheets:ke.hide_timesheets?1:0,project_status:ke.project_status||""}}),setTimeout(()=>X(),1e3),j(!1),w(null),pt.reset()}catch(Ue){console.error("Error updating member:",Ue),alert("Failed to update member")}finally{$t(!1)}}}),ue=ke=>xe(null,null,function*(){if(e!=null&&e.name&&confirm("Are you sure you want to remove this member from the project?"))try{const Ue=Te.find(Dt=>Dt.user===ke);if(!(Ue!=null&&Ue.name)){alert("User record not found");return}yield Q({doctype:"Project User",name:Ue.name}),setTimeout(()=>X(),1e3)}catch(Ue){console.error("Error removing member:",Ue),alert("Failed to remove member")}}),$=ke=>{w(ke),pt.reset({user:ke.user,view_attachments:!!ke.view_attachments,hide_timesheets:!!ke.hide_timesheets,project_status:ke.project_status||""}),j(!0)},Se=()=>(e==null?void 0:e.owner)===be||be==="Administrator",De=ke=>xe(null,null,function*(){if(e!=null&&e.name){$t(!0);try{yield X();const Ue=ee||e;try{yield z({doc:{doctype:"Project",name:e.name,owner:ke.owner,project_name:Ue==null?void 0:Ue.project_name,status:Ue==null?void 0:Ue.status,priority:Ue==null?void 0:Ue.priority,company:Ue==null?void 0:Ue.company,customer:Ue==null?void 0:Ue.customer,expected_start_date:Ue==null?void 0:Ue.expected_start_date,expected_end_date:Ue==null?void 0:Ue.expected_end_date,description:Ue==null?void 0:Ue.description,modified:new Date().toISOString(),modified_by:ke.owner}})}catch(Dt){console.log("Save method failed:",Dt);try{yield Z({doctype:"Project",name:e.name,fieldname:"owner",value:ke.owner})}catch(Sn){if(console.log("Set value failed, falling back to Project Manager approach:",Sn),(Te||[]).find(us=>us.user===ke.owner)){alert("Cannot change owner field (protected by ERPNext), but user is already a project member. Please edit their role manually.");return}yield Y({doc:{doctype:"Project User",parent:e.name,parenttype:"Project",parentfield:"users",user:ke.owner,view_attachments:1,hide_timesheets:0,project_status:"Project Manager (Owner Substitute)",welcome_email_sent:1}}),alert('Owner field is protected by ERPNext. Added user as "Project Manager (Owner Substitute)" instead with full permissions.')}}setTimeout(()=>X(),1e3),O(!1),Vt.reset()}catch(Ue){console.error("Error changing owner:",Ue);const Dt=Ue instanceof Error?Ue.message:String(Ue);Dt.includes("Cannot edit standard fields")||Dt.includes("protects this field")?alert(`Cannot change project owner: ERPNext protects the owner field from modification.

Alternative solutions:
1. Add the user as Project Manager in the team members
2. Contact system administrator to manually update via backend
3. Use project permissions to grant the user full access

Admin command (run in ERPNext console):
frappe.db.sql("UPDATE tabProject SET owner = '${ke.owner}' WHERE name = '${e.name}'")`):alert("Failed to change owner: "+Dt)}finally{$t(!1)}}}),Re=ke=>{switch(ke){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},Be=ke=>ke?new Date(ke).toLocaleDateString():"N/A",qe=()=>{C(!0)},Xe=()=>{M(!0)},gt=()=>{X(),py(ke=>typeof ke=="string"&&ke.includes("Project"),void 0,{revalidate:!0})},yn=()=>{n()};if(!e)return null;const lt=ee||e;return u.jsxs(oF,{open:t,onOpenChange:n,direction:"right",children:[u.jsx(uF,{children:u.jsxs("div",{className:"w-full h-full overflow-y-auto p-6",children:[u.jsxs(dF,{className:"px-0 pb-6",children:[u.jsxs(hF,{className:"flex gap-4 justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:u.jsx("span",{className:"text-2xl font-bold text-white",children:lt.project_name.charAt(0).toUpperCase()})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:lt.project_name}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:`inline-flex px-4 py-2 text-sm font-semibold rounded-full ${Re(lt.status)}`,children:lt.status||"Open"}),lt.project_type&&u.jsx("span",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full",children:lt.project_type})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Ge,{variant:"outline",size:"sm",onClick:qe,className:"flex items-center gap-2",children:[u.jsx(zl,{className:"h-4 w-4"}),"Edit"]}),u.jsxs(Ge,{variant:"outline",size:"sm",onClick:Xe,className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[u.jsx($l,{className:"h-4 w-4"}),"Delete"]}),u.jsx(Ge,{variant:"ghost",size:"sm",onClick:n,children:"X"})]})]}),u.jsx(mF,{className:"text-lg text-gray-600 mt-4",children:"Project Details and Progress Overview"}),u.jsxs("div",{className:"flex border-b border-gray-200 mt-6",children:[u.jsx("button",{onClick:()=>a("overview"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overview"}),u.jsx("button",{onClick:()=>a("tasks"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="tasks"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Tasks & Phases"}),u.jsxs("button",{onClick:()=>a("team"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="team"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[u.jsx(sh,{className:"h-4 w-4"}),"Team (",((Te==null?void 0:Te.length)||0)+1,")"]}),o&&u.jsxs("button",{onClick:()=>a("phase-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="phase-details"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📋 ",o.subject,u.jsx("span",{onClick:ke=>{ke.stopPropagation(),l(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close phase details",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d&&u.jsxs("button",{onClick:()=>a("task-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="task-details"?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📝 ",d.subject||d.name,u.jsx("span",{onClick:ke=>{ke.stopPropagation(),f(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close task details",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),h&&u.jsxs("button",{onClick:()=>a("subtask-details"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${s==="subtask-details"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["📌 ",h.subject||h.name,u.jsx("span",{onClick:ke=>{ke.stopPropagation(),p(null),a("tasks")},className:"ml-2 hover:bg-gray-200 rounded-full p-1 transition-colors cursor-pointer",title:"Close subtask details",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),u.jsxs("div",{className:"space-y-8",children:[s==="overview"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Project Progress"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg font-medium text-gray-700",children:"Overall Progress"}),Ke.source!=="manual"&&u.jsxs("span",{className:"text-xs text-gray-500",children:["(from ",Ke.count," ",Ke.source,")"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[Ke.progress,"%"]}),u.jsx(Ge,{variant:"ghost",size:"sm",onClick:He,disabled:V,className:"h-8 w-8 p-0",title:"Recalculate progress",children:u.jsx(Sx,{className:`h-4 w-4 ${V?"animate-spin":""}`})})]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${Ke.progress}%`}})}),Ke.source==="phases"&&ae&&u.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[u.jsx("div",{className:"font-medium mb-1",children:"Phase progress breakdown:"}),u.jsx("div",{className:"grid grid-cols-2 gap-1",children:ae.map((ke,Ue)=>u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("span",{children:["Phase ",Ue+1,":"]}),u.jsxs("span",{children:[ke.progress||0,"%"]})]},ke.name))})]}),Ke.source==="tasks"&&u.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Progress calculated from ",Ke.count," direct tasks (no phases)"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:u.jsx(Bu,{className:"h-8 w-8 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Customer"}),u.jsx("p",{className:"text-xl font-bold text-gray-900",children:lt.customer||"N/A"})]})]})}),u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:u.jsx(_x,{className:"h-8 w-8 text-green-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Budget"}),u.jsx("p",{className:"text-xl font-bold text-gray-900",children:xo(lt.estimated_costing)})]})]})}),u.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:u.jsx(wr,{className:"h-8 w-8 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-purple-600 uppercase tracking-wide",children:"Deadline"}),u.jsx("p",{className:"text-xl font-bold text-gray-900",children:Be(lt.expected_end_date)})]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Project Information"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Start Date"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:Be(lt.expected_start_date)})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Priority"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:lt.priority||"Medium"})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Department"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:lt.department||"N/A"})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Company"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:lt.company||"N/A"})]})]})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Financial Metrics"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Total Cost"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:xo(lt.total_costing_amount)})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Total Sales"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:xo(lt.total_sales_amount)})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Billable Amount"}),u.jsx("span",{className:"text-gray-900 font-semibold",children:xo(lt.total_billable_amount)})]}),u.jsxs("div",{className:"flex items-center justify-between py-3",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Gross Margin"}),u.jsx("span",{className:"text-lg font-bold text-green-600",children:xo(lt.gross_margin)})]})]})]})]})]}),s==="team"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(qD,{className:"h-6 w-6 text-yellow-600"}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Owner"})]}),Se()&&u.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>{Vt.reset({owner:(e==null?void 0:e.owner)||""}),O(!0)},className:"flex items-center gap-2",children:[u.jsx(zl,{className:"h-4 w-4"}),"Change Owner"]})]}),u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[u.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:u.jsx(Bu,{className:"h-6 w-6 text-yellow-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:re?"Loading...":le!=null&&le.full_name?le.full_name:lt!=null&&lt.owner?lt.owner:"No Owner"}),u.jsx("p",{className:"text-sm text-gray-600",children:re?"Loading email...":le!=null&&le.email?le.email:lt!=null&&lt.owner?lt.owner:"No email"}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded",children:"Project Owner"}),(le==null?void 0:le.designation)&&u.jsx("span",{className:"text-xs text-gray-500",children:le.designation}),U&&u.jsx("span",{className:"text-xs text-red-500",children:"(Error loading user details)"})]})]})]})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(sh,{className:"h-6 w-6 text-blue-600"}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Team Members"}),u.jsxs("span",{className:"inline-flex px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:[(Te==null?void 0:Te.length)||0," members"]})]}),u.jsxs(Ge,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>b(!0),children:[u.jsx(To,{className:"h-4 w-4 mr-1"}),"Add Member"]})]}),Oe?u.jsxs("div",{className:"flex items-center justify-center py-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),u.jsx("span",{className:"ml-3 text-gray-600",children:"Loading team members..."})]}):Te&&Te.length>0?u.jsx("div",{className:"grid gap-4",children:Te.map((ke,Ue)=>u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[u.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center overflow-hidden",children:ke.image?u.jsx("img",{src:ke.image,alt:ke.full_name||ke.user,className:"h-full w-full object-cover"}):u.jsx("span",{className:"text-sm font-semibold text-blue-600",children:(ke.full_name||ke.user||"U").charAt(0).toUpperCase()})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-gray-900",children:ke.full_name||ke.user||"Unknown User"}),u.jsx("p",{className:"text-sm text-gray-600",children:ke.email||ke.user||"No email"}),ke.project_status&&u.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Status: ",ke.project_status]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:"Team Member"}),ke.view_attachments&&u.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded",children:"Can View Files"}),u.jsxs(Ge,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>$(ke),children:[u.jsx(zl,{className:"h-3 w-3 mr-1"}),"Edit"]}),u.jsxs(Ge,{size:"sm",variant:"outline",className:"text-xs text-red-600 hover:text-red-700",onClick:()=>ue(ke.user),children:[u.jsx($l,{className:"h-3 w-3 mr-1"}),"Remove"]})]})]},ke.user||Ue))}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx(sh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No team members added yet"}),u.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Add team members to collaborate on this project"}),u.jsxs(Ge,{className:"mt-4 bg-blue-600 hover:bg-blue-700",onClick:()=>b(!0),children:[u.jsx(To,{className:"h-4 w-4 mr-2"}),"Add First Member"]})]})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Statistics"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[u.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((Te==null?void 0:Te.length)||0)+1}),u.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),u.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[u.jsx("p",{className:"text-2xl font-bold text-green-600",children:"1"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Project Owner"})]}),u.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[u.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(Te==null?void 0:Te.length)||0}),u.jsx("p",{className:"text-sm text-gray-600",children:"Team Members"})]}),u.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[u.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(e==null?void 0:e.percent_complete)||0,"%"]}),u.jsx("p",{className:"text-sm text-gray-600",children:"Progress"})]})]})]})]}),s==="tasks"&&u.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:u.jsx(xF,{projectName:e.name,onViewPhaseDetails:ke=>{l(ke),a("phase-details")},onViewTaskDetails:ke=>{f(ke),a("task-details")},onViewSubTaskDetails:ke=>{p(ke),a("subtask-details")}})}),s==="phase-details"&&o&&u.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:u.jsx(SF,{phase:o,projectName:e.name,onBack:()=>a("tasks"),onViewTaskDetails:ke=>{f(ke),a("task-details")},onPhaseUpdated:()=>xe(null,null,function*(){X(),setTimeout(()=>xe(null,null,function*(){yield He()}),500)}),onPhaseDeleted:()=>xe(null,null,function*(){X(),a("tasks"),l(null),setTimeout(()=>xe(null,null,function*(){yield He()}),500)}),onTaskCreated:()=>xe(null,null,function*(){X(),setTimeout(()=>xe(null,null,function*(){yield He()}),500)})})}),s==="task-details"&&d&&u.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:u.jsx(LF,{task:d,projectName:e.name,onBack:()=>a("tasks"),onViewSubTaskDetails:ke=>{p(ke),a("subtask-details")},onTaskUpdated:()=>xe(null,null,function*(){X(),yield st(),setTimeout(()=>xe(null,null,function*(){yield He()}),500)}),onTaskDeleted:()=>xe(null,null,function*(){X(),a("tasks"),f(null),setTimeout(()=>xe(null,null,function*(){yield He()}),500)})})}),s==="subtask-details"&&h&&u.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:u.jsx(UF,{subtask:h,projectName:e.name,onBack:()=>a("tasks"),onSubTaskUpdated:()=>xe(null,null,function*(){X(),yield wt(),h!=null&&h.task&&(yield bt(h.task)),setTimeout(()=>xe(null,null,function*(){yield He()}),500)}),onSubTaskDeleted:()=>xe(null,null,function*(){X(),a("tasks"),p(null),setTimeout(()=>xe(null,null,function*(){yield He()}),500)})})})]}),u.jsx(fF,{className:"px-0 mt-8 pt-6 border-t border-gray-200",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsx(Ge,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",onClick:()=>a("tasks"),children:"View Tasks"}),u.jsx(Ge,{variant:"outline",className:"flex-1 h-12 text-lg font-semibold",children:"View Timeline"})]})})]})}),u.jsx(Es,{open:g,onOpenChange:b,children:u.jsx(Ts,{className:"sm:max-w-md",children:u.jsxs("form",{onSubmit:Pe.handleSubmit(Ct),children:[u.jsxs(ks,{children:[u.jsx(As,{children:"Add Team Member"}),u.jsx(No,{children:"Add a new member to the project team."})]}),u.jsx("div",{className:"grid gap-4 py-4",children:u.jsxs("div",{className:"grid gap-2",children:[u.jsxs(Ve,{children:["User ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(nr,{name:"user",control:Pe.control,rules:{required:"Please select a user"},render:({field:ke})=>u.jsx(sr,{doctype:"User",value:ke.value||"",onChange:ke.onChange,placeholder:"Select user...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email"],className:"w-full"})}),Pe.formState.errors.user&&u.jsx("span",{className:"text-red-500 text-sm",children:Pe.formState.errors.user.message})]})}),u.jsxs(Cs,{children:[u.jsx(Ge,{type:"button",variant:"outline",onClick:()=>{b(!1),Pe.reset()},children:"Cancel"}),u.jsx(Ge,{type:"submit",disabled:_t,className:"bg-blue-600 hover:bg-blue-700",children:_t?"Adding...":"Add Member"})]})]})})}),u.jsx(Es,{open:_,onOpenChange:j,children:u.jsx(Ts,{className:"sm:max-w-md",children:u.jsxs("form",{onSubmit:pt.handleSubmit(W),children:[u.jsxs(ks,{children:[u.jsx(As,{children:"Edit Team Member"}),u.jsxs(No,{children:["Update member settings for ",(y==null?void 0:y.full_name)||(y==null?void 0:y.user),"."]})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Ve,{children:"User"}),u.jsx(tn,{value:(y==null?void 0:y.full_name)||(y==null?void 0:y.user)||"",disabled:!0,className:"bg-gray-100"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Ve,{children:"Project Status"}),u.jsx(tn,he(L({},pt.register("project_status")),{placeholder:"Enter project status for this member..."}))]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",he(L({type:"checkbox",id:"edit_view_attachments"},pt.register("view_attachments")),{className:"rounded border-gray-300"})),u.jsx(Ve,{htmlFor:"edit_view_attachments",className:"text-sm",children:"Can view attachments"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",he(L({type:"checkbox",id:"edit_hide_timesheets"},pt.register("hide_timesheets")),{className:"rounded border-gray-300"})),u.jsx(Ve,{htmlFor:"edit_hide_timesheets",className:"text-sm",children:"Hide timesheets from this user"})]})]}),u.jsxs(Cs,{children:[u.jsx(Ge,{type:"button",variant:"outline",onClick:()=>{j(!1),w(null),pt.reset()},children:"Cancel"}),u.jsx(Ge,{type:"submit",disabled:_t,className:"bg-blue-600 hover:bg-blue-700",children:_t?"Updating...":"Update Member"})]})]})})}),u.jsx(Es,{open:S,onOpenChange:O,children:u.jsx(Ts,{className:"sm:max-w-md",children:u.jsxs("form",{onSubmit:Vt.handleSubmit(De),children:[u.jsxs(ks,{children:[u.jsx(As,{children:"Change Project Owner"}),u.jsx(No,{children:"Attempt to change the project owner. Note: ERPNext may protect this field, in which case we'll add the user as Project Manager instead."})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsxs(Ve,{children:["New Owner ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(nr,{name:"owner",control:Vt.control,rules:{required:"Please select a new owner"},render:({field:ke})=>u.jsx(sr,{doctype:"User",value:ke.value||"",onChange:ke.onChange,placeholder:"Select new owner...",displayField:"full_name",valueField:"name",filters:[["enabled","=",1],["user_type","!=","Website User"]],fields:["name","full_name","email"],className:"w-full"})}),Vt.formState.errors.owner&&u.jsx("span",{className:"text-red-500 text-sm",children:Vt.formState.errors.owner.message})]}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:u.jsxs("p",{className:"text-sm text-blue-800",children:[u.jsx("strong",{children:"Note:"}),' This will attempt to change the actual project owner. If that fails (due to ERPNext protection), the user will be added as "Project Manager (Owner Substitute)" with full permissions.']})})]}),u.jsxs(Cs,{children:[u.jsx(Ge,{type:"button",variant:"outline",onClick:()=>{O(!1),Vt.reset()},children:"Cancel"}),u.jsx(Ge,{type:"submit",disabled:_t,className:"bg-yellow-600 hover:bg-yellow-700",children:_t?"Changing Owner...":"Change Owner"})]})]})})}),u.jsx(vT,{project:e,isOpen:k,onClose:()=>C(!1),onSuccess:gt}),u.jsx(wT,{project:e,isOpen:A,onClose:()=>M(!1),onSuccess:yn})]})}const jT=({project:e,onProjectUpdated:t,onProjectDeleted:n,onCloseDrawer:s})=>{const[a,o]=N.useState(!1),[l,d]=N.useState(!1),[f,h]=N.useState(!1),p=w=>{w&&w.stopPropagation(),o(!0),h(!1)},g=w=>{w&&w.stopPropagation(),d(!0),h(!1)},b=()=>{t&&t()},y=()=>{n&&n(),s&&s()};return u.jsxs(u.Fragment,{children:[u.jsxs(Vx,{open:f,onOpenChange:h,children:[u.jsx($x,{asChild:!0,children:u.jsx(Ge,{variant:"ghost",size:"sm",onClick:w=>{w.stopPropagation(),h(!f)},className:"h-8 w-8 p-0",children:u.jsx(WD,{className:"h-4 w-4"})})}),u.jsx(qx,{className:"w-48 p-2",align:"end",onClick:w=>w.stopPropagation(),children:u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Ge,{variant:"ghost",size:"sm",onClick:w=>p(w),className:"w-full justify-start text-left",children:[u.jsx(mM,{className:"mr-2 h-4 w-4"}),"Edit Project"]}),u.jsxs(Ge,{variant:"ghost",size:"sm",onClick:w=>g(w),className:"w-full justify-start text-left text-red-600 hover:text-red-700 hover:bg-red-50",children:[u.jsx($l,{className:"mr-2 h-4 w-4"}),"Delete Project"]})]})})]}),u.jsx(vT,{project:e,isOpen:a,onClose:()=>o(!1),onSuccess:b}),u.jsx(wT,{project:e,isOpen:l,onClose:()=>d(!1),onSuccess:y})]})},YF=({projects:e,onProjectsChange:t})=>{const[n,s]=N.useState(null),[a,o]=N.useState(!1),l=h=>{s(h),o(!0)},d=()=>{o(!1),s(null)},f=h=>{switch(h){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map(h=>u.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 hover:shadow-md transition-shadow duration-200 cursor-pointer",onClick:()=>l(h),children:[u.jsx("div",{className:"h-48 bg-gray-200 flex items-center justify-center",children:u.jsx("div",{className:"text-4xl font-bold text-gray-400",children:h.project_name.charAt(0).toUpperCase()})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate flex-1",children:h.project_name}),u.jsxs("div",{className:"flex items-center gap-2",onClick:p=>p.stopPropagation(),children:[u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(h.status)}`,children:h.status||"Open"}),u.jsx(jT,{project:h,onProjectUpdated:t,onProjectDeleted:t,onCloseDrawer:d})]})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:h.project_type||"N/A"}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),u.jsxs("span",{className:"text-sm text-gray-600",children:[h.percent_complete||0,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${h.percent_complete||0}%`}})})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[u.jsx("span",{children:h.customer||"N/A"}),u.jsx("span",{children:xo(h.estimated_costing)})]})]})]},h.name))}),u.jsx(_T,{project:n,isOpen:a,onClose:d})]})},WF=({projects:e,onProjectsChange:t})=>{const[n,s]=N.useState(null),[a,o]=N.useState(!1),l=p=>{s(p),o(!0)},d=()=>{o(!1),s(null)},f=p=>{switch(p){case"Open":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},h=p=>p?new Date(p).toLocaleDateString():"N/A";return u.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[u.jsx("div",{className:"overflow-hidden",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deadline"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(p=>u.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>l(p),children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:u.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-bold text-gray-600",children:p.project_name.charAt(0).toUpperCase()})})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.project_name}),u.jsx("div",{className:"text-sm text-gray-500",children:p.project_type||"N/A"})]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(p.status)}`,children:p.status||"Open"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${p.percent_complete||0}%`}})}),u.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[p.percent_complete||0,"%"]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.customer||"N/A"}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:xo(p.estimated_costing)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h(p.expected_end_date)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",onClick:g=>g.stopPropagation(),children:u.jsx(jT,{project:p,onProjectUpdated:t,onProjectDeleted:t,onCloseDrawer:d})})]},p.name))})]})}),u.jsx(_T,{project:n,isOpen:a,onClose:d})]})},XF=({onProjectCreated:e})=>{const[t,n]=N.useState(!1),{createProject:s,isLoading:a}=HF(),{register:o,control:l,handleSubmit:d,reset:f,formState:{errors:h,isSubmitting:p}}=Ou({defaultValues:{status:"Open",priority:"Medium"}}),g=b=>xe(null,null,function*(){try{yield s(b),f(),n(!1),py(y=>typeof y=="string"&&y.includes("Project"),void 0,{revalidate:!0}),gs.success("Project created successfully"),e&&e()}catch(y){let w="Create project failed";if(y!=null&&y._server_messages)try{const _=JSON.parse(y._server_messages);Array.isArray(_)&&_.length>0&&(w=JSON.parse(_[0]).message||w)}catch(_){console.error("Parse error messages failed:",_)}else y!=null&&y.message&&(w=y.message);gs.error("Create project failed",{description:w}),console.error("Error creating project:",y)}});return u.jsxs(Es,{open:t,onOpenChange:n,children:[u.jsx(_U,{asChild:!0,children:u.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[u.jsx(To,{className:"mr-2 h-4 w-4"}),"New Project"]})}),u.jsx(Ts,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:u.jsxs("form",{onSubmit:d(g),children:[u.jsxs(ks,{children:[u.jsx(As,{children:"Create New Project"}),u.jsx(No,{children:"Fill in the project details. Fields marked with * are required."})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsxs(Ve,{htmlFor:"project_name",children:["Project Name ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(tn,he(L({id:"project_name"},o("project_name",{required:"Project name is required",maxLength:{value:100,message:"Project name cannot exceed 100 characters"}})),{placeholder:"Enter project name"})),h.project_name&&u.jsx("span",{className:"text-red-500 text-sm",children:h.project_name.message})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Ve,{children:"Customer"}),u.jsx(nr,{name:"customer",control:l,render:({field:b})=>u.jsx(sr,{doctype:"Customer",value:b.value||"",onChange:b.onChange,placeholder:"Select customer...",displayField:"customer_name",valueField:"name",className:"w-full"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Ve,{children:"Project Type"}),u.jsx(nr,{name:"project_type",control:l,render:({field:b})=>u.jsx(sr,{doctype:"Project Type",value:b.value||"",onChange:b.onChange,placeholder:"Select type...",className:"w-full"})})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsxs(Ve,{children:["Status ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",he(L({},o("status",{required:"Status is required"})),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"Completed",children:"Completed"}),u.jsx("option",{value:"Cancelled",children:"Cancelled"})]}))]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Ve,{children:"Priority"}),u.jsxs("select",he(L({},o("priority")),{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[u.jsx("option",{value:"",children:"Select priority..."}),u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"}),u.jsx("option",{value:"Critical",children:"Critical"})]}))]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Ve,{children:"Department"}),u.jsx(nr,{name:"department",control:l,render:({field:b})=>u.jsx(sr,{doctype:"Department",value:b.value||"",onChange:b.onChange,placeholder:"Select department...",className:"w-full"})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Ve,{children:"Company"}),u.jsx(nr,{name:"company",control:l,render:({field:b})=>u.jsx(sr,{doctype:"Company",value:b.value||"",onChange:b.onChange,placeholder:"Select company...",className:"w-full"})})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Ve,{children:"Cost Center"}),u.jsx(nr,{name:"cost_center",control:l,render:({field:b})=>u.jsx(sr,{doctype:"Cost Center",value:b.value||"",onChange:b.onChange,placeholder:"Select cost center...",displayField:"cost_center_name",valueField:"name",className:"w-full"})})]})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Ve,{children:"Project Template"}),u.jsx(nr,{name:"project_template",control:l,render:({field:b})=>u.jsx(sr,{doctype:"Project Template",value:b.value||"",onChange:b.onChange,placeholder:"Select project template...",className:"w-full"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Ve,{children:"Expected Start Date"}),u.jsx(tn,L({type:"date"},o("expected_start_date")))]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Ve,{children:"Expected End Date"}),u.jsx(tn,L({type:"date"},o("expected_end_date")))]})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Ve,{children:"Notes"}),u.jsx("textarea",he(L({},o("notes")),{placeholder:"Enter project notes...",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}))]})]}),u.jsxs(Cs,{children:[u.jsx(SU,{asChild:!0,children:u.jsx(Ge,{type:"button",variant:"outline",children:"Cancel"})}),u.jsx(Ge,{type:"submit",disabled:p||a,className:"bg-blue-600 hover:bg-blue-700",children:p||a?"Creating...":"Create Project"})]})]})})]})},GF=()=>{const[e,t]=te.useState("grid"),{data:n=[],isLoading:s,error:a,mutate:o}=FF(),l=()=>{o&&o()};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Projects"}),u.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Showing projects you have access to (",n.length," projects)"]})]}),u.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:u.jsx(XF,{onProjectCreated:l})})]}),u.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(qh,{className:"h-4 w-4 text-gray-400"})}),u.jsx("input",{type:"text",className:"block w-64 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search projects..."})]}),u.jsxs("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[u.jsx(jx,{className:"mr-2 h-4 w-4"}),"Filter"]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>t("grid"),className:`p-2 rounded-md ${e==="grid"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:u.jsx(tM,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>t("list"),className:`p-2 rounded-md ${e==="list"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:u.jsx(aM,{className:"h-4 w-4"})})]})]})}),s?u.jsx("div",{className:"flex justify-center items-center p-8",children:u.jsx("div",{className:"text-gray-500",children:"Loading projects..."})}):a?u.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-red-50 rounded-lg border border-red-200",children:u.jsxs("div",{className:"text-red-700 text-center",children:[u.jsx("p",{className:"text-lg font-medium mb-2",children:"Error loading projects"}),u.jsx("p",{className:"text-sm mb-2",children:a.message}),a.message.includes("PermissionError")&&u.jsxs("div",{className:"text-sm text-red-600 bg-red-100 p-3 rounded mt-2",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Permission Issue:"})," You don't have access to view projects."]}),u.jsx("p",{children:"Please contact your system administrator to:"}),u.jsxs("ul",{className:"list-disc list-inside mt-1",children:[u.jsx("li",{children:'Grant you "Read" permission for Project doctype'}),u.jsx("li",{children:"Add you to projects as a team member"}),u.jsx("li",{children:"Make you the owner of projects"})]})]})]})}):n.length===0?u.jsx("div",{className:"flex flex-col justify-center items-center p-8 bg-white rounded-lg border border-gray-200",children:u.jsxs("div",{className:"text-gray-500 text-center",children:[u.jsx("p",{className:"text-lg font-medium mb-2",children:"No projects found"}),u.jsx("p",{className:"text-sm",children:"You are not currently participating in any projects."}),u.jsx("p",{className:"text-sm",children:"Create a new project or ask to be added to an existing one."})]})}):u.jsx(u.Fragment,{children:e==="grid"?u.jsx(YF,{projects:n,onProjectsChange:l}):u.jsx(WF,{projects:n,onProjectsChange:l})})]})},KF={Todo:"bg-gray-100 text-gray-800","In Progress":"bg-blue-100 text-blue-800",Done:"bg-green-100 text-green-800",Blocked:"bg-red-100 text-red-800"},QF={Low:"bg-green-100 text-green-800",Medium:"bg-yellow-100 text-yellow-800",High:"bg-red-100 text-red-800"},ZF=()=>{const[e,t]=te.useState("All"),[n,s]=te.useState("All"),[a,o]=te.useState(""),{todos:l,isLoading:d,error:f,mutate:h,currentUser:p}=IF();console.log(l);const g=te.useMemo(()=>l.map(w=>({id:w.name,title:w.reference_name||"Untitled Task",description:w.description||"No description available",project:"Unknown Project",assignee:(p==null?void 0:p.full_name)||(p==null?void 0:p.name)||"Unknown",status:w.status==="Open"?"Todo":w.status==="Closed"?"Done":"Todo",priority:w.priority||"Medium",dueDate:w.date||new Date().toISOString().split("T")[0],labels:[w.reference_type||"Task"],todoId:w.name,referenceName:w.reference_name,referenceType:w.reference_type})),[l,p]),b=te.useMemo(()=>g.filter(w=>{const _=e==="All"||w.status===e,j=n==="All"||w.priority===n,S=a===""||w.title.toLowerCase().includes(a.toLowerCase())||w.description.toLowerCase().includes(a.toLowerCase());return _&&j&&S}),[g,e,n,a]),y=()=>{h()};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"My Tasks"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track and manage all your assigned tasks"})]}),u.jsxs("div",{className:"mt-4 flex space-x-2 md:mt-0 md:ml-4",children:[u.jsxs("button",{onClick:y,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",disabled:d,children:[u.jsx(Sx,{className:`mr-2 h-4 w-4 ${d?"animate-spin":""}`}),"Refresh"]}),u.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[u.jsx(To,{className:"mr-2 h-4 w-4"}),"New Task"]})]})]}),f&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:u.jsx("div",{className:"flex",children:u.jsxs("div",{className:"ml-3",children:[u.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading tasks"}),u.jsx("div",{className:"mt-2 text-sm text-red-700",children:u.jsx("p",{children:f.message||"Failed to load your tasks. Please try again."})})]})})}),u.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(qh,{className:"h-4 w-4 text-gray-400"})}),u.jsx("input",{type:"text",value:a,onChange:w=>o(w.target.value),className:"block w-64 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search tasks..."})]}),u.jsxs("select",{value:e,onChange:w=>t(w.target.value),className:"border border-gray-300 rounded-md text-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"All",children:"All Status"}),u.jsx("option",{value:"Todo",children:"Todo"}),u.jsx("option",{value:"In Progress",children:"In Progress"}),u.jsx("option",{value:"Done",children:"Done"}),u.jsx("option",{value:"Blocked",children:"Blocked"})]}),u.jsxs("select",{value:n,onChange:w=>s(w.target.value),className:"border border-gray-300 rounded-md text-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"All",children:"All Priority"}),u.jsx("option",{value:"Low",children:"Low"}),u.jsx("option",{value:"Medium",children:"Medium"}),u.jsx("option",{value:"High",children:"High"})]})]}),u.jsxs("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[u.jsx(jx,{className:"mr-2 h-4 w-4"}),"More Filters"]})]})}),u.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["My Assigned Tasks (",b.length,")"]}),d&&u.jsx("div",{className:"text-sm text-gray-500",children:"Loading..."})]})}),u.jsx("div",{className:"divide-y divide-gray-200",children:d&&b.length===0?u.jsxs("div",{className:"p-6 text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading your tasks..."})]}):b.length===0?u.jsx("div",{className:"p-6 text-center",children:u.jsx("p",{className:"text-sm text-gray-500",children:a||e!=="All"||n!=="All"?"No tasks match your current filters.":"No tasks assigned to you yet."})}):b.map(w=>u.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors duration-200",children:u.jsxs("div",{className:"flex items-start space-x-4",children:[u.jsx("div",{className:"flex-shrink-0 pt-1",children:u.jsx("input",{type:"checkbox",checked:w.status==="Done",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",readOnly:!0})}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:w.title}),u.jsx("p",{className:"text-sm text-gray-600 mb-3",children:w.description}),u.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[w.labels.map(_=>u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:_},_)),w.referenceName&&u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:w.referenceName})]}),u.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(wr,{className:"mr-1 h-3 w-3"}),w.dueDate]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Bu,{className:"mr-1 h-3 w-3"}),w.assignee]}),u.jsx("div",{className:"flex items-center",children:u.jsx("span",{children:w.project})})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${KF[w.status]}`,children:w.status}),u.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${QF[w.priority]}`,children:[u.jsx(KD,{className:"mr-1 h-3 w-3"}),w.priority]})]})]})})]})},w.id))})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-4",children:[u.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-gray-900",children:g.filter(w=>w.status==="Todo").length}),u.jsx("div",{className:"text-sm text-gray-500",children:"Todo"})]})}),u.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g.filter(w=>w.status==="In Progress").length}),u.jsx("div",{className:"text-sm text-gray-500",children:"In Progress"})]})}),u.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600",children:g.filter(w=>w.status==="Done").length}),u.jsx("div",{className:"text-sm text-gray-500",children:"Completed"})]})}),u.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 p-5",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-gray-900",children:g.length}),u.jsx("div",{className:"text-sm text-gray-500",children:"Total Tasks"})]})})]})]})},JF=[{id:1,project:"E-commerce Platform",task:"Design user interface mockups",user:"Jane Smith",startTime:"09:00 AM",endTime:"11:30 AM",duration:"2h 30m",date:"2024-03-08"},{id:2,project:"Mobile App Redesign",task:"API documentation",user:"Mike Johnson",startTime:"02:00 PM",endTime:"04:15 PM",duration:"2h 15m",date:"2024-03-08"},{id:3,project:"Data Analytics Dashboard",task:"Testing setup",user:"Sarah Wilson",startTime:"10:30 AM",endTime:"12:00 PM",duration:"1h 30m",date:"2024-03-07"}],eH=()=>{const[e,t]=te.useState(!1),[n,s]=te.useState("00:00:00");return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"md:flex md:items-center md:justify-between",children:u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Time Tracking"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track time spent on projects and tasks"})]})}),u.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-6",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900",children:n}),u.jsx("div",{className:"flex items-center justify-center space-x-4",children:e?u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>t(!1),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-yellow-600 hover:bg-yellow-700",children:[u.jsx(fM,{className:"mr-2 h-5 w-5"}),"Pause"]}),u.jsxs("button",{onClick:()=>{t(!1),s("00:00:00")},className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-red-600 hover:bg-red-700",children:[u.jsx(TM,{className:"mr-2 h-5 w-5"}),"Stop"]})]}):u.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700",children:[u.jsx(yM,{className:"mr-2 h-5 w-5"}),"Start Timer"]})}),e&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project"}),u.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[u.jsx("option",{children:"E-commerce Platform"}),u.jsx("option",{children:"Mobile App Redesign"}),u.jsx("option",{children:"Data Analytics Dashboard"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Description"}),u.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"What are you working on?"})]})]})]})}),u.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Time Entries"})}),u.jsx("div",{className:"overflow-hidden",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Period"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:JF.map(a=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.project}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.task}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.user}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[a.startTime," - ",a.endTime]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[u.jsx(Gl,{className:"mr-1 h-3 w-3"}),a.duration]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.date})]},a.id))})]})})]})]})},Al=({title:e,description:t})=>u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"text-center py-12",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e}),u.jsx("p",{className:"text-lg text-gray-600 mb-8",children:t}),u.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-12",children:u.jsxs("div",{className:"text-gray-400 text-center",children:[u.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-4xl",children:"🚧"})}),u.jsx("p",{className:"text-lg",children:"This page is under construction"}),u.jsx("p",{className:"text-sm mt-2",children:"More features coming soon!"})]})})]})}),tH=rD([{path:"/",element:u.jsx(G5,{}),children:[{index:!0,element:u.jsx(JB,{})},{path:"projects",element:u.jsx(GF,{})},{path:"tasks",element:u.jsx(ZF,{})},{path:"time-tracking",element:u.jsx(eH,{})},{path:"cost-analysis",element:u.jsx(Al,{title:"Cost Analysis",description:"Track project costs and budget allocations"})},{path:"reports",element:u.jsx(Al,{title:"Reports",description:"Generate detailed reports and analytics"})},{path:"calendar",element:u.jsx(Al,{title:"Calendar",description:"Manage deadlines and project timelines"})},{path:"team",element:u.jsx(Al,{title:"Team Management",description:"Manage team members and permissions"})},{path:"documents",element:u.jsx(Al,{title:"Documents",description:"Store and organize project documents"})},{path:"settings",element:u.jsx(Al,{title:"Settings",description:"Configure your workspace preferences"})}]}],{basename:"/todo"});wC.createRoot(document.getElementById("root")).render(u.jsx(te.StrictMode,{children:u.jsx(pD,{router:tH})}))});export default nH();
